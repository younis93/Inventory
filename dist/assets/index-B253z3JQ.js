function yq(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var N4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ut(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qO={exports:{}},Qg={},HO={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp=Symbol.for("react.element"),vq=Symbol.for("react.portal"),xq=Symbol.for("react.fragment"),bq=Symbol.for("react.strict_mode"),wq=Symbol.for("react.profiler"),_q=Symbol.for("react.provider"),Sq=Symbol.for("react.context"),kq=Symbol.for("react.forward_ref"),Eq=Symbol.for("react.suspense"),Nq=Symbol.for("react.memo"),Tq=Symbol.for("react.lazy"),DS=Symbol.iterator;function Pq(t){return t===null||typeof t!="object"?null:(t=DS&&t[DS]||t["@@iterator"],typeof t=="function"?t:null)}var GO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},KO=Object.assign,YO={};function Gu(t,e,n){this.props=t,this.context=e,this.refs=YO,this.updater=n||GO}Gu.prototype.isReactComponent={};Gu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function QO(){}QO.prototype=Gu.prototype;function H9(t,e,n){this.props=t,this.context=e,this.refs=YO,this.updater=n||GO}var G9=H9.prototype=new QO;G9.constructor=H9;KO(G9,Gu.prototype);G9.isPureReactComponent=!0;var RS=Array.isArray,XO=Object.prototype.hasOwnProperty,K9={current:null},JO={key:!0,ref:!0,__self:!0,__source:!0};function ZO(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)XO.call(e,r)&&!JO.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:jp,type:t,key:a,ref:s,props:i,_owner:K9.current}}function Aq(t,e){return{$$typeof:jp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Y9(t){return typeof t=="object"&&t!==null&&t.$$typeof===jp}function Iq(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $S=/\/+/g;function n6(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Iq(""+t.key):e.toString(36)}function C3(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case jp:case vq:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+n6(s,0):r,RS(i)?(n="",t!=null&&(n=t.replace($S,"$&/")+"/"),C3(i,e,n,"",function(c){return c})):i!=null&&(Y9(i)&&(i=Aq(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace($S,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",RS(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+n6(a,o);s+=C3(a,e,n,l,i)}else if(l=Pq(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+n6(a,o++),s+=C3(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function T4(t,e,n){if(t==null)return t;var r=[],i=0;return C3(t,r,"","",function(a){return e.call(n,a,i++)}),r}function Cq(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vr={current:null},O3={transition:null},Oq={ReactCurrentDispatcher:Vr,ReactCurrentBatchConfig:O3,ReactCurrentOwner:K9};function ej(){throw Error("act(...) is not supported in production builds of React.")}dt.Children={map:T4,forEach:function(t,e,n){T4(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return T4(t,function(){e++}),e},toArray:function(t){return T4(t,function(e){return e})||[]},only:function(t){if(!Y9(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};dt.Component=Gu;dt.Fragment=xq;dt.Profiler=wq;dt.PureComponent=H9;dt.StrictMode=bq;dt.Suspense=Eq;dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Oq;dt.act=ej;dt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=KO({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=K9.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)XO.call(e,l)&&!JO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:jp,type:t.type,key:i,ref:a,props:r,_owner:s}};dt.createContext=function(t){return t={$$typeof:Sq,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_q,_context:t},t.Consumer=t};dt.createElement=ZO;dt.createFactory=function(t){var e=ZO.bind(null,t);return e.type=t,e};dt.createRef=function(){return{current:null}};dt.forwardRef=function(t){return{$$typeof:kq,render:t}};dt.isValidElement=Y9;dt.lazy=function(t){return{$$typeof:Tq,_payload:{_status:-1,_result:t},_init:Cq}};dt.memo=function(t,e){return{$$typeof:Nq,type:t,compare:e===void 0?null:e}};dt.startTransition=function(t){var e=O3.transition;O3.transition={};try{t()}finally{O3.transition=e}};dt.unstable_act=ej;dt.useCallback=function(t,e){return Vr.current.useCallback(t,e)};dt.useContext=function(t){return Vr.current.useContext(t)};dt.useDebugValue=function(){};dt.useDeferredValue=function(t){return Vr.current.useDeferredValue(t)};dt.useEffect=function(t,e){return Vr.current.useEffect(t,e)};dt.useId=function(){return Vr.current.useId()};dt.useImperativeHandle=function(t,e,n){return Vr.current.useImperativeHandle(t,e,n)};dt.useInsertionEffect=function(t,e){return Vr.current.useInsertionEffect(t,e)};dt.useLayoutEffect=function(t,e){return Vr.current.useLayoutEffect(t,e)};dt.useMemo=function(t,e){return Vr.current.useMemo(t,e)};dt.useReducer=function(t,e,n){return Vr.current.useReducer(t,e,n)};dt.useRef=function(t){return Vr.current.useRef(t)};dt.useState=function(t){return Vr.current.useState(t)};dt.useSyncExternalStore=function(t,e,n){return Vr.current.useSyncExternalStore(t,e,n)};dt.useTransition=function(){return Vr.current.useTransition()};dt.version="18.3.1";HO.exports=dt;var I=HO.exports;const V=Ut(I),jq=yq({__proto__:null,default:V},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mq=I,Dq=Symbol.for("react.element"),Rq=Symbol.for("react.fragment"),$q=Object.prototype.hasOwnProperty,Lq=Mq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fq={key:!0,ref:!0,__self:!0,__source:!0};function tj(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)$q.call(e,r)&&!Fq.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Dq,type:t,key:a,ref:s,props:i,_owner:Lq.current}}Qg.Fragment=Rq;Qg.jsx=tj;Qg.jsxs=tj;qO.exports=Qg;var f=qO.exports,Gy={},nj={exports:{}},Ei={},rj={exports:{}},ij={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,B){var z=F.length;F.push(B);e:for(;0<z;){var q=z-1>>>1,G=F[q];if(0<i(G,B))F[q]=B,F[z]=G,z=q;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var B=F[0],z=F.pop();if(z!==B){F[0]=z;e:for(var q=0,G=F.length,te=G>>>1;q<te;){var de=2*(q+1)-1,ye=F[de],J=de+1,we=F[J];if(0>i(ye,z))J<G&&0>i(we,ye)?(F[q]=we,F[J]=z,q=J):(F[q]=ye,F[de]=z,q=de);else if(J<G&&0>i(we,z))F[q]=we,F[J]=z,q=J;else break e}}return B}function i(F,B){var z=F.sortIndex-B.sortIndex;return z!==0?z:F.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=F)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function k(F){if(x=!1,w(F),!g)if(n(l)!==null)g=!0,$(E);else{var B=n(c);B!==null&&U(k,B.startTime-F)}}function E(F,B){g=!1,x&&(x=!1,y(N),N=-1),p=!0;var z=h;try{for(w(B),d=n(l);d!==null&&(!(d.expirationTime>B)||F&&!C());){var q=d.callback;if(typeof q=="function"){d.callback=null,h=d.priorityLevel;var G=q(d.expirationTime<=B);B=t.unstable_now(),typeof G=="function"?d.callback=G:d===n(l)&&r(l),w(B)}else r(l);d=n(l)}if(d!==null)var te=!0;else{var de=n(c);de!==null&&U(k,de.startTime-B),te=!1}return te}finally{d=null,h=z,p=!1}}var S=!1,_=null,N=-1,P=5,A=-1;function C(){return!(t.unstable_now()-A<P)}function O(){if(_!==null){var F=t.unstable_now();A=F;var B=!0;try{B=_(!0,F)}finally{B?j():(S=!1,_=null)}}else S=!1}var j;if(typeof b=="function")j=function(){b(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,D=R.port2;R.port1.onmessage=O,j=function(){D.postMessage(null)}}else j=function(){v(O,0)};function $(F){_=F,S||(S=!0,j())}function U(F,B){N=v(function(){F(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,$(E))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var z=h;h=B;try{return F()}finally{h=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,B){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var z=h;h=F;try{return B()}finally{h=z}},t.unstable_scheduleCallback=function(F,B,z){var q=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?q+z:q):z=q,F){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=z+G,F={id:u++,callback:B,priorityLevel:F,startTime:z,expirationTime:G,sortIndex:-1},z>q?(F.sortIndex=z,e(c,F),n(l)===null&&F===n(c)&&(x?(y(N),N=-1):x=!0,U(k,z-q))):(F.sortIndex=G,e(l,F),g||p||(g=!0,$(E))),F},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(F){var B=h;return function(){var z=h;h=B;try{return F.apply(this,arguments)}finally{h=z}}}})(ij);rj.exports=ij;var Vq=rj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uq=I,wi=Vq;function xe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aj=new Set,ah={};function Ul(t,e){iu(t,e),iu(t+"Capture",e)}function iu(t,e){for(ah[t]=e,t=0;t<e.length;t++)aj.add(e[t])}var Fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ky=Object.prototype.hasOwnProperty,Bq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,LS={},FS={};function zq(t){return Ky.call(FS,t)?!0:Ky.call(LS,t)?!1:Bq.test(t)?FS[t]=!0:(LS[t]=!0,!1)}function Wq(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qq(t,e,n,r){if(e===null||typeof e>"u"||Wq(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ur(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var sr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){sr[t]=new Ur(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];sr[e]=new Ur(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){sr[t]=new Ur(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){sr[t]=new Ur(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){sr[t]=new Ur(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){sr[t]=new Ur(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){sr[t]=new Ur(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){sr[t]=new Ur(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){sr[t]=new Ur(t,5,!1,t.toLowerCase(),null,!1,!1)});var Q9=/[\-:]([a-z])/g;function X9(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Q9,X9);sr[e]=new Ur(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Q9,X9);sr[e]=new Ur(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Q9,X9);sr[e]=new Ur(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){sr[t]=new Ur(t,1,!1,t.toLowerCase(),null,!1,!1)});sr.xlinkHref=new Ur("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){sr[t]=new Ur(t,1,!1,t.toLowerCase(),null,!0,!0)});function J9(t,e,n,r){var i=sr.hasOwnProperty(e)?sr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qq(e,n,i,r)&&(n=null),r||i===null?zq(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Zs=Uq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P4=Symbol.for("react.element"),bc=Symbol.for("react.portal"),wc=Symbol.for("react.fragment"),Z9=Symbol.for("react.strict_mode"),Yy=Symbol.for("react.profiler"),sj=Symbol.for("react.provider"),oj=Symbol.for("react.context"),ex=Symbol.for("react.forward_ref"),Qy=Symbol.for("react.suspense"),Xy=Symbol.for("react.suspense_list"),tx=Symbol.for("react.memo"),yo=Symbol.for("react.lazy"),lj=Symbol.for("react.offscreen"),VS=Symbol.iterator;function Ad(t){return t===null||typeof t!="object"?null:(t=VS&&t[VS]||t["@@iterator"],typeof t=="function"?t:null)}var cn=Object.assign,r6;function rf(t){if(r6===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);r6=e&&e[1]||""}return`
`+r6+t}var i6=!1;function a6(t,e){if(!t||i6)return"";i6=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{i6=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?rf(t):""}function Hq(t){switch(t.tag){case 5:return rf(t.type);case 16:return rf("Lazy");case 13:return rf("Suspense");case 19:return rf("SuspenseList");case 0:case 2:case 15:return t=a6(t.type,!1),t;case 11:return t=a6(t.type.render,!1),t;case 1:return t=a6(t.type,!0),t;default:return""}}function Jy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wc:return"Fragment";case bc:return"Portal";case Yy:return"Profiler";case Z9:return"StrictMode";case Qy:return"Suspense";case Xy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case oj:return(t.displayName||"Context")+".Consumer";case sj:return(t._context.displayName||"Context")+".Provider";case ex:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tx:return e=t.displayName||null,e!==null?e:Jy(t.type)||"Memo";case yo:e=t._payload,t=t._init;try{return Jy(t(e))}catch{}}return null}function Gq(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jy(e);case 8:return e===Z9?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function t0(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cj(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Kq(t){var e=cj(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function A4(t){t._valueTracker||(t._valueTracker=Kq(t))}function uj(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cj(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function cm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zy(t,e){var n=e.checked;return cn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function US(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=t0(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dj(t,e){e=e.checked,e!=null&&J9(t,"checked",e,!1)}function ev(t,e){dj(t,e);var n=t0(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tv(t,e.type,n):e.hasOwnProperty("defaultValue")&&tv(t,e.type,t0(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function BS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tv(t,e,n){(e!=="number"||cm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var af=Array.isArray;function Fc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+t0(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function nv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(xe(91));return cn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(xe(92));if(af(n)){if(1<n.length)throw Error(xe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:t0(n)}}function fj(t,e){var n=t0(e.value),r=t0(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function WS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hj(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hj(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var I4,pj=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(I4=I4||document.createElement("div"),I4.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=I4.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var If={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yq=["Webkit","ms","Moz","O"];Object.keys(If).forEach(function(t){Yq.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),If[e]=If[t]})});function mj(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||If.hasOwnProperty(t)&&If[t]?(""+e).trim():e+"px"}function gj(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=mj(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Qq=cn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function iv(t,e){if(e){if(Qq[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(xe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(xe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(xe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(xe(62))}}function av(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sv=null;function nx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ov=null,Vc=null,Uc=null;function qS(t){if(t=Rp(t)){if(typeof ov!="function")throw Error(xe(280));var e=t.stateNode;e&&(e=t2(e),ov(t.stateNode,t.type,e))}}function yj(t){Vc?Uc?Uc.push(t):Uc=[t]:Vc=t}function vj(){if(Vc){var t=Vc,e=Uc;if(Uc=Vc=null,qS(t),e)for(t=0;t<e.length;t++)qS(e[t])}}function xj(t,e){return t(e)}function bj(){}var s6=!1;function wj(t,e,n){if(s6)return t(e,n);s6=!0;try{return xj(t,e,n)}finally{s6=!1,(Vc!==null||Uc!==null)&&(bj(),vj())}}function oh(t,e){var n=t.stateNode;if(n===null)return null;var r=t2(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(xe(231,e,typeof n));return n}var lv=!1;if(Fs)try{var Id={};Object.defineProperty(Id,"passive",{get:function(){lv=!0}}),window.addEventListener("test",Id,Id),window.removeEventListener("test",Id,Id)}catch{lv=!1}function Xq(t,e,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Cf=!1,um=null,dm=!1,cv=null,Jq={onError:function(t){Cf=!0,um=t}};function Zq(t,e,n,r,i,a,s,o,l){Cf=!1,um=null,Xq.apply(Jq,arguments)}function eH(t,e,n,r,i,a,s,o,l){if(Zq.apply(this,arguments),Cf){if(Cf){var c=um;Cf=!1,um=null}else throw Error(xe(198));dm||(dm=!0,cv=c)}}function Bl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _j(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function HS(t){if(Bl(t)!==t)throw Error(xe(188))}function tH(t){var e=t.alternate;if(!e){if(e=Bl(t),e===null)throw Error(xe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return HS(i),t;if(a===r)return HS(i),e;a=a.sibling}throw Error(xe(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(xe(189))}}if(n.alternate!==r)throw Error(xe(190))}if(n.tag!==3)throw Error(xe(188));return n.stateNode.current===n?t:e}function Sj(t){return t=tH(t),t!==null?kj(t):null}function kj(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=kj(t);if(e!==null)return e;t=t.sibling}return null}var Ej=wi.unstable_scheduleCallback,GS=wi.unstable_cancelCallback,nH=wi.unstable_shouldYield,rH=wi.unstable_requestPaint,Sn=wi.unstable_now,iH=wi.unstable_getCurrentPriorityLevel,rx=wi.unstable_ImmediatePriority,Nj=wi.unstable_UserBlockingPriority,fm=wi.unstable_NormalPriority,aH=wi.unstable_LowPriority,Tj=wi.unstable_IdlePriority,Xg=null,Ya=null;function sH(t){if(Ya&&typeof Ya.onCommitFiberRoot=="function")try{Ya.onCommitFiberRoot(Xg,t,void 0,(t.current.flags&128)===128)}catch{}}var va=Math.clz32?Math.clz32:cH,oH=Math.log,lH=Math.LN2;function cH(t){return t>>>=0,t===0?32:31-(oH(t)/lH|0)|0}var C4=64,O4=4194304;function sf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=sf(o):(a&=s,a!==0&&(r=sf(a)))}else s=n&~i,s!==0?r=sf(s):a!==0&&(r=sf(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-va(e),i=1<<n,r|=t[n],e&=~i;return r}function uH(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dH(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-va(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=uH(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function uv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Pj(){var t=C4;return C4<<=1,!(C4&4194240)&&(C4=64),t}function o6(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Mp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-va(e),t[e]=n}function fH(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-va(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function ix(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-va(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ot=0;function Aj(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ij,ax,Cj,Oj,jj,dv=!1,j4=[],$o=null,Lo=null,Fo=null,lh=new Map,ch=new Map,_o=[],hH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function KS(t,e){switch(t){case"focusin":case"focusout":$o=null;break;case"dragenter":case"dragleave":Lo=null;break;case"mouseover":case"mouseout":Fo=null;break;case"pointerover":case"pointerout":lh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ch.delete(e.pointerId)}}function Cd(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Rp(e),e!==null&&ax(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function pH(t,e,n,r,i){switch(e){case"focusin":return $o=Cd($o,t,e,n,r,i),!0;case"dragenter":return Lo=Cd(Lo,t,e,n,r,i),!0;case"mouseover":return Fo=Cd(Fo,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return lh.set(a,Cd(lh.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ch.set(a,Cd(ch.get(a)||null,t,e,n,r,i)),!0}return!1}function Mj(t){var e=H0(t.target);if(e!==null){var n=Bl(e);if(n!==null){if(e=n.tag,e===13){if(e=_j(n),e!==null){t.blockedOn=e,jj(t.priority,function(){Cj(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function j3(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=fv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);sv=r,n.target.dispatchEvent(r),sv=null}else return e=Rp(n),e!==null&&ax(e),t.blockedOn=n,!1;e.shift()}return!0}function YS(t,e,n){j3(t)&&n.delete(e)}function mH(){dv=!1,$o!==null&&j3($o)&&($o=null),Lo!==null&&j3(Lo)&&(Lo=null),Fo!==null&&j3(Fo)&&(Fo=null),lh.forEach(YS),ch.forEach(YS)}function Od(t,e){t.blockedOn===e&&(t.blockedOn=null,dv||(dv=!0,wi.unstable_scheduleCallback(wi.unstable_NormalPriority,mH)))}function uh(t){function e(i){return Od(i,t)}if(0<j4.length){Od(j4[0],t);for(var n=1;n<j4.length;n++){var r=j4[n];r.blockedOn===t&&(r.blockedOn=null)}}for($o!==null&&Od($o,t),Lo!==null&&Od(Lo,t),Fo!==null&&Od(Fo,t),lh.forEach(e),ch.forEach(e),n=0;n<_o.length;n++)r=_o[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_o.length&&(n=_o[0],n.blockedOn===null);)Mj(n),n.blockedOn===null&&_o.shift()}var Bc=Zs.ReactCurrentBatchConfig,pm=!0;function gH(t,e,n,r){var i=Ot,a=Bc.transition;Bc.transition=null;try{Ot=1,sx(t,e,n,r)}finally{Ot=i,Bc.transition=a}}function yH(t,e,n,r){var i=Ot,a=Bc.transition;Bc.transition=null;try{Ot=4,sx(t,e,n,r)}finally{Ot=i,Bc.transition=a}}function sx(t,e,n,r){if(pm){var i=fv(t,e,n,r);if(i===null)y6(t,e,r,mm,n),KS(t,r);else if(pH(i,t,e,n,r))r.stopPropagation();else if(KS(t,r),e&4&&-1<hH.indexOf(t)){for(;i!==null;){var a=Rp(i);if(a!==null&&Ij(a),a=fv(t,e,n,r),a===null&&y6(t,e,r,mm,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else y6(t,e,r,null,n)}}var mm=null;function fv(t,e,n,r){if(mm=null,t=nx(r),t=H0(t),t!==null)if(e=Bl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_j(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mm=t,null}function Dj(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iH()){case rx:return 1;case Nj:return 4;case fm:case aH:return 16;case Tj:return 536870912;default:return 16}default:return 16}}var Ao=null,ox=null,M3=null;function Rj(){if(M3)return M3;var t,e=ox,n=e.length,r,i="value"in Ao?Ao.value:Ao.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return M3=i.slice(t,1<r?1-r:void 0)}function D3(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function M4(){return!0}function QS(){return!1}function Ni(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?M4:QS,this.isPropagationStopped=QS,this}return cn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=M4)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=M4)},persist:function(){},isPersistent:M4}),e}var Ku={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lx=Ni(Ku),Dp=cn({},Ku,{view:0,detail:0}),vH=Ni(Dp),l6,c6,jd,Jg=cn({},Dp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jd&&(jd&&t.type==="mousemove"?(l6=t.screenX-jd.screenX,c6=t.screenY-jd.screenY):c6=l6=0,jd=t),l6)},movementY:function(t){return"movementY"in t?t.movementY:c6}}),XS=Ni(Jg),xH=cn({},Jg,{dataTransfer:0}),bH=Ni(xH),wH=cn({},Dp,{relatedTarget:0}),u6=Ni(wH),_H=cn({},Ku,{animationName:0,elapsedTime:0,pseudoElement:0}),SH=Ni(_H),kH=cn({},Ku,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),EH=Ni(kH),NH=cn({},Ku,{data:0}),JS=Ni(NH),TH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IH(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=AH[t])?!!e[t]:!1}function cx(){return IH}var CH=cn({},Dp,{key:function(t){if(t.key){var e=TH[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=D3(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?PH[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cx,charCode:function(t){return t.type==="keypress"?D3(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?D3(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OH=Ni(CH),jH=cn({},Jg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ZS=Ni(jH),MH=cn({},Dp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cx}),DH=Ni(MH),RH=cn({},Ku,{propertyName:0,elapsedTime:0,pseudoElement:0}),$H=Ni(RH),LH=cn({},Jg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FH=Ni(LH),VH=[9,13,27,32],ux=Fs&&"CompositionEvent"in window,Of=null;Fs&&"documentMode"in document&&(Of=document.documentMode);var UH=Fs&&"TextEvent"in window&&!Of,$j=Fs&&(!ux||Of&&8<Of&&11>=Of),ek=" ",tk=!1;function Lj(t,e){switch(t){case"keyup":return VH.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fj(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _c=!1;function BH(t,e){switch(t){case"compositionend":return Fj(e);case"keypress":return e.which!==32?null:(tk=!0,ek);case"textInput":return t=e.data,t===ek&&tk?null:t;default:return null}}function zH(t,e){if(_c)return t==="compositionend"||!ux&&Lj(t,e)?(t=Rj(),M3=ox=Ao=null,_c=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $j&&e.locale!=="ko"?null:e.data;default:return null}}var WH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!WH[t.type]:e==="textarea"}function Vj(t,e,n,r){yj(r),e=gm(e,"onChange"),0<e.length&&(n=new lx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var jf=null,dh=null;function qH(t){Xj(t,0)}function Zg(t){var e=Ec(t);if(uj(e))return t}function HH(t,e){if(t==="change")return e}var Uj=!1;if(Fs){var d6;if(Fs){var f6="oninput"in document;if(!f6){var rk=document.createElement("div");rk.setAttribute("oninput","return;"),f6=typeof rk.oninput=="function"}d6=f6}else d6=!1;Uj=d6&&(!document.documentMode||9<document.documentMode)}function ik(){jf&&(jf.detachEvent("onpropertychange",Bj),dh=jf=null)}function Bj(t){if(t.propertyName==="value"&&Zg(dh)){var e=[];Vj(e,dh,t,nx(t)),wj(qH,e)}}function GH(t,e,n){t==="focusin"?(ik(),jf=e,dh=n,jf.attachEvent("onpropertychange",Bj)):t==="focusout"&&ik()}function KH(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zg(dh)}function YH(t,e){if(t==="click")return Zg(e)}function QH(t,e){if(t==="input"||t==="change")return Zg(e)}function XH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ka=typeof Object.is=="function"?Object.is:XH;function fh(t,e){if(ka(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ky.call(e,i)||!ka(t[i],e[i]))return!1}return!0}function ak(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sk(t,e){var n=ak(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ak(n)}}function zj(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zj(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Wj(){for(var t=window,e=cm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=cm(t.document)}return e}function dx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function JH(t){var e=Wj(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&zj(n.ownerDocument.documentElement,n)){if(r!==null&&dx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=sk(n,a);var s=sk(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ZH=Fs&&"documentMode"in document&&11>=document.documentMode,Sc=null,hv=null,Mf=null,pv=!1;function ok(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pv||Sc==null||Sc!==cm(r)||(r=Sc,"selectionStart"in r&&dx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mf&&fh(Mf,r)||(Mf=r,r=gm(hv,"onSelect"),0<r.length&&(e=new lx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Sc)))}function D4(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var kc={animationend:D4("Animation","AnimationEnd"),animationiteration:D4("Animation","AnimationIteration"),animationstart:D4("Animation","AnimationStart"),transitionend:D4("Transition","TransitionEnd")},h6={},qj={};Fs&&(qj=document.createElement("div").style,"AnimationEvent"in window||(delete kc.animationend.animation,delete kc.animationiteration.animation,delete kc.animationstart.animation),"TransitionEvent"in window||delete kc.transitionend.transition);function e2(t){if(h6[t])return h6[t];if(!kc[t])return t;var e=kc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in qj)return h6[t]=e[n];return t}var Hj=e2("animationend"),Gj=e2("animationiteration"),Kj=e2("animationstart"),Yj=e2("transitionend"),Qj=new Map,lk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function d0(t,e){Qj.set(t,e),Ul(e,[t])}for(var p6=0;p6<lk.length;p6++){var m6=lk[p6],eG=m6.toLowerCase(),tG=m6[0].toUpperCase()+m6.slice(1);d0(eG,"on"+tG)}d0(Hj,"onAnimationEnd");d0(Gj,"onAnimationIteration");d0(Kj,"onAnimationStart");d0("dblclick","onDoubleClick");d0("focusin","onFocus");d0("focusout","onBlur");d0(Yj,"onTransitionEnd");iu("onMouseEnter",["mouseout","mouseover"]);iu("onMouseLeave",["mouseout","mouseover"]);iu("onPointerEnter",["pointerout","pointerover"]);iu("onPointerLeave",["pointerout","pointerover"]);Ul("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ul("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ul("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ul("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ul("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ul("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var of="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nG=new Set("cancel close invalid load scroll toggle".split(" ").concat(of));function ck(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,eH(r,e,void 0,t),t.currentTarget=null}function Xj(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;ck(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;ck(i,o,c),a=l}}}if(dm)throw t=cv,dm=!1,cv=null,t}function Ht(t,e){var n=e[xv];n===void 0&&(n=e[xv]=new Set);var r=t+"__bubble";n.has(r)||(Jj(e,t,2,!1),n.add(r))}function g6(t,e,n){var r=0;e&&(r|=4),Jj(n,t,r,e)}var R4="_reactListening"+Math.random().toString(36).slice(2);function hh(t){if(!t[R4]){t[R4]=!0,aj.forEach(function(n){n!=="selectionchange"&&(nG.has(n)||g6(n,!1,t),g6(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[R4]||(e[R4]=!0,g6("selectionchange",!1,e))}}function Jj(t,e,n,r){switch(Dj(e)){case 1:var i=gH;break;case 4:i=yH;break;default:i=sx}n=i.bind(null,e,n,t),i=void 0,!lv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function y6(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=H0(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}wj(function(){var c=a,u=nx(n),d=[];e:{var h=Qj.get(t);if(h!==void 0){var p=lx,g=t;switch(t){case"keypress":if(D3(n)===0)break e;case"keydown":case"keyup":p=OH;break;case"focusin":g="focus",p=u6;break;case"focusout":g="blur",p=u6;break;case"beforeblur":case"afterblur":p=u6;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=XS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=bH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=DH;break;case Hj:case Gj:case Kj:p=SH;break;case Yj:p=$H;break;case"scroll":p=vH;break;case"wheel":p=FH;break;case"copy":case"cut":case"paste":p=EH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ZS}var x=(e&4)!==0,v=!x&&t==="scroll",y=x?h!==null?h+"Capture":null:h;x=[];for(var b=c,w;b!==null;){w=b;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,y!==null&&(k=oh(b,y),k!=null&&x.push(ph(b,k,w)))),v)break;b=b.return}0<x.length&&(h=new p(h,g,null,n,u),d.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==sv&&(g=n.relatedTarget||n.fromElement)&&(H0(g)||g[Vs]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?H0(g):null,g!==null&&(v=Bl(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(x=XS,k="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(x=ZS,k="onPointerLeave",y="onPointerEnter",b="pointer"),v=p==null?h:Ec(p),w=g==null?h:Ec(g),h=new x(k,b+"leave",p,n,u),h.target=v,h.relatedTarget=w,k=null,H0(u)===c&&(x=new x(y,b+"enter",g,n,u),x.target=w,x.relatedTarget=v,k=x),v=k,p&&g)t:{for(x=p,y=g,b=0,w=x;w;w=ic(w))b++;for(w=0,k=y;k;k=ic(k))w++;for(;0<b-w;)x=ic(x),b--;for(;0<w-b;)y=ic(y),w--;for(;b--;){if(x===y||y!==null&&x===y.alternate)break t;x=ic(x),y=ic(y)}x=null}else x=null;p!==null&&uk(d,h,p,x,!1),g!==null&&v!==null&&uk(d,v,g,x,!0)}}e:{if(h=c?Ec(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=HH;else if(nk(h))if(Uj)E=QH;else{E=KH;var S=GH}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=YH);if(E&&(E=E(t,c))){Vj(d,E,n,u);break e}S&&S(t,h,c),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&tv(h,"number",h.value)}switch(S=c?Ec(c):window,t){case"focusin":(nk(S)||S.contentEditable==="true")&&(Sc=S,hv=c,Mf=null);break;case"focusout":Mf=hv=Sc=null;break;case"mousedown":pv=!0;break;case"contextmenu":case"mouseup":case"dragend":pv=!1,ok(d,n,u);break;case"selectionchange":if(ZH)break;case"keydown":case"keyup":ok(d,n,u)}var _;if(ux)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else _c?Lj(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&($j&&n.locale!=="ko"&&(_c||N!=="onCompositionStart"?N==="onCompositionEnd"&&_c&&(_=Rj()):(Ao=u,ox="value"in Ao?Ao.value:Ao.textContent,_c=!0)),S=gm(c,N),0<S.length&&(N=new JS(N,t,null,n,u),d.push({event:N,listeners:S}),_?N.data=_:(_=Fj(n),_!==null&&(N.data=_)))),(_=UH?BH(t,n):zH(t,n))&&(c=gm(c,"onBeforeInput"),0<c.length&&(u=new JS("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=_))}Xj(d,e)})}function ph(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=oh(t,n),a!=null&&r.unshift(ph(t,a,i)),a=oh(t,e),a!=null&&r.push(ph(t,a,i))),t=t.return}return r}function ic(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uk(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=oh(n,a),l!=null&&s.unshift(ph(n,l,o))):i||(l=oh(n,a),l!=null&&s.push(ph(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var rG=/\r\n?/g,iG=/\u0000|\uFFFD/g;function dk(t){return(typeof t=="string"?t:""+t).replace(rG,`
`).replace(iG,"")}function $4(t,e,n){if(e=dk(e),dk(t)!==e&&n)throw Error(xe(425))}function ym(){}var mv=null,gv=null;function yv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vv=typeof setTimeout=="function"?setTimeout:void 0,aG=typeof clearTimeout=="function"?clearTimeout:void 0,fk=typeof Promise=="function"?Promise:void 0,sG=typeof queueMicrotask=="function"?queueMicrotask:typeof fk<"u"?function(t){return fk.resolve(null).then(t).catch(oG)}:vv;function oG(t){setTimeout(function(){throw t})}function v6(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),uh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);uh(e)}function Vo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hk(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Yu=Math.random().toString(36).slice(2),$a="__reactFiber$"+Yu,mh="__reactProps$"+Yu,Vs="__reactContainer$"+Yu,xv="__reactEvents$"+Yu,lG="__reactListeners$"+Yu,cG="__reactHandles$"+Yu;function H0(t){var e=t[$a];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Vs]||n[$a]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=hk(t);t!==null;){if(n=t[$a])return n;t=hk(t)}return e}t=n,n=t.parentNode}return null}function Rp(t){return t=t[$a]||t[Vs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ec(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(xe(33))}function t2(t){return t[mh]||null}var bv=[],Nc=-1;function f0(t){return{current:t}}function Qt(t){0>Nc||(t.current=bv[Nc],bv[Nc]=null,Nc--)}function Wt(t,e){Nc++,bv[Nc]=t.current,t.current=e}var n0={},wr=f0(n0),Qr=f0(!1),fl=n0;function au(t,e){var n=t.type.contextTypes;if(!n)return n0;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Xr(t){return t=t.childContextTypes,t!=null}function vm(){Qt(Qr),Qt(wr)}function pk(t,e,n){if(wr.current!==n0)throw Error(xe(168));Wt(wr,e),Wt(Qr,n)}function Zj(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(xe(108,Gq(t)||"Unknown",i));return cn({},n,r)}function xm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||n0,fl=wr.current,Wt(wr,t),Wt(Qr,Qr.current),!0}function mk(t,e,n){var r=t.stateNode;if(!r)throw Error(xe(169));n?(t=Zj(t,e,fl),r.__reactInternalMemoizedMergedChildContext=t,Qt(Qr),Qt(wr),Wt(wr,t)):Qt(Qr),Wt(Qr,n)}var ys=null,n2=!1,x6=!1;function eM(t){ys===null?ys=[t]:ys.push(t)}function uG(t){n2=!0,eM(t)}function h0(){if(!x6&&ys!==null){x6=!0;var t=0,e=Ot;try{var n=ys;for(Ot=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ys=null,n2=!1}catch(i){throw ys!==null&&(ys=ys.slice(t+1)),Ej(rx,h0),i}finally{Ot=e,x6=!1}}return null}var Tc=[],Pc=0,bm=null,wm=0,ji=[],Mi=0,hl=null,Ss=1,ks="";function $0(t,e){Tc[Pc++]=wm,Tc[Pc++]=bm,bm=t,wm=e}function tM(t,e,n){ji[Mi++]=Ss,ji[Mi++]=ks,ji[Mi++]=hl,hl=t;var r=Ss;t=ks;var i=32-va(r)-1;r&=~(1<<i),n+=1;var a=32-va(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ss=1<<32-va(e)+i|n<<i|r,ks=a+t}else Ss=1<<a|n<<i|r,ks=t}function fx(t){t.return!==null&&($0(t,1),tM(t,1,0))}function hx(t){for(;t===bm;)bm=Tc[--Pc],Tc[Pc]=null,wm=Tc[--Pc],Tc[Pc]=null;for(;t===hl;)hl=ji[--Mi],ji[Mi]=null,ks=ji[--Mi],ji[Mi]=null,Ss=ji[--Mi],ji[Mi]=null}var vi=null,hi=null,Jt=!1,la=null;function nM(t,e){var n=Fi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function gk(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vi=t,hi=Vo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vi=t,hi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=hl!==null?{id:Ss,overflow:ks}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Fi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,vi=t,hi=null,!0):!1;default:return!1}}function wv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _v(t){if(Jt){var e=hi;if(e){var n=e;if(!gk(t,e)){if(wv(t))throw Error(xe(418));e=Vo(n.nextSibling);var r=vi;e&&gk(t,e)?nM(r,n):(t.flags=t.flags&-4097|2,Jt=!1,vi=t)}}else{if(wv(t))throw Error(xe(418));t.flags=t.flags&-4097|2,Jt=!1,vi=t}}}function yk(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vi=t}function L4(t){if(t!==vi)return!1;if(!Jt)return yk(t),Jt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yv(t.type,t.memoizedProps)),e&&(e=hi)){if(wv(t))throw rM(),Error(xe(418));for(;e;)nM(t,e),e=Vo(e.nextSibling)}if(yk(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(xe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){hi=Vo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}hi=null}}else hi=vi?Vo(t.stateNode.nextSibling):null;return!0}function rM(){for(var t=hi;t;)t=Vo(t.nextSibling)}function su(){hi=vi=null,Jt=!1}function px(t){la===null?la=[t]:la.push(t)}var dG=Zs.ReactCurrentBatchConfig;function Md(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(xe(309));var r=n.stateNode}if(!r)throw Error(xe(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(xe(284));if(!n._owner)throw Error(xe(290,t))}return t}function F4(t,e){throw t=Object.prototype.toString.call(e),Error(xe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vk(t){var e=t._init;return e(t._payload)}function iM(t){function e(y,b){if(t){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function n(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=Wo(y,b),y.index=0,y.sibling=null,y}function a(y,b,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=2,b):w):(y.flags|=2,b)):(y.flags|=1048576,b)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,b,w,k){return b===null||b.tag!==6?(b=N6(w,y.mode,k),b.return=y,b):(b=i(b,w),b.return=y,b)}function l(y,b,w,k){var E=w.type;return E===wc?u(y,b,w.props.children,k,w.key):b!==null&&(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===yo&&vk(E)===b.type)?(k=i(b,w.props),k.ref=Md(y,b,w),k.return=y,k):(k=B3(w.type,w.key,w.props,null,y.mode,k),k.ref=Md(y,b,w),k.return=y,k)}function c(y,b,w,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=T6(w,y.mode,k),b.return=y,b):(b=i(b,w.children||[]),b.return=y,b)}function u(y,b,w,k,E){return b===null||b.tag!==7?(b=al(w,y.mode,k,E),b.return=y,b):(b=i(b,w),b.return=y,b)}function d(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=N6(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case P4:return w=B3(b.type,b.key,b.props,null,y.mode,w),w.ref=Md(y,null,b),w.return=y,w;case bc:return b=T6(b,y.mode,w),b.return=y,b;case yo:var k=b._init;return d(y,k(b._payload),w)}if(af(b)||Ad(b))return b=al(b,y.mode,w,null),b.return=y,b;F4(y,b)}return null}function h(y,b,w,k){var E=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:o(y,b,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case P4:return w.key===E?l(y,b,w,k):null;case bc:return w.key===E?c(y,b,w,k):null;case yo:return E=w._init,h(y,b,E(w._payload),k)}if(af(w)||Ad(w))return E!==null?null:u(y,b,w,k,null);F4(y,w)}return null}function p(y,b,w,k,E){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(w)||null,o(b,y,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case P4:return y=y.get(k.key===null?w:k.key)||null,l(b,y,k,E);case bc:return y=y.get(k.key===null?w:k.key)||null,c(b,y,k,E);case yo:var S=k._init;return p(y,b,w,S(k._payload),E)}if(af(k)||Ad(k))return y=y.get(w)||null,u(b,y,k,E,null);F4(b,k)}return null}function g(y,b,w,k){for(var E=null,S=null,_=b,N=b=0,P=null;_!==null&&N<w.length;N++){_.index>N?(P=_,_=null):P=_.sibling;var A=h(y,_,w[N],k);if(A===null){_===null&&(_=P);break}t&&_&&A.alternate===null&&e(y,_),b=a(A,b,N),S===null?E=A:S.sibling=A,S=A,_=P}if(N===w.length)return n(y,_),Jt&&$0(y,N),E;if(_===null){for(;N<w.length;N++)_=d(y,w[N],k),_!==null&&(b=a(_,b,N),S===null?E=_:S.sibling=_,S=_);return Jt&&$0(y,N),E}for(_=r(y,_);N<w.length;N++)P=p(_,y,N,w[N],k),P!==null&&(t&&P.alternate!==null&&_.delete(P.key===null?N:P.key),b=a(P,b,N),S===null?E=P:S.sibling=P,S=P);return t&&_.forEach(function(C){return e(y,C)}),Jt&&$0(y,N),E}function x(y,b,w,k){var E=Ad(w);if(typeof E!="function")throw Error(xe(150));if(w=E.call(w),w==null)throw Error(xe(151));for(var S=E=null,_=b,N=b=0,P=null,A=w.next();_!==null&&!A.done;N++,A=w.next()){_.index>N?(P=_,_=null):P=_.sibling;var C=h(y,_,A.value,k);if(C===null){_===null&&(_=P);break}t&&_&&C.alternate===null&&e(y,_),b=a(C,b,N),S===null?E=C:S.sibling=C,S=C,_=P}if(A.done)return n(y,_),Jt&&$0(y,N),E;if(_===null){for(;!A.done;N++,A=w.next())A=d(y,A.value,k),A!==null&&(b=a(A,b,N),S===null?E=A:S.sibling=A,S=A);return Jt&&$0(y,N),E}for(_=r(y,_);!A.done;N++,A=w.next())A=p(_,y,N,A.value,k),A!==null&&(t&&A.alternate!==null&&_.delete(A.key===null?N:A.key),b=a(A,b,N),S===null?E=A:S.sibling=A,S=A);return t&&_.forEach(function(O){return e(y,O)}),Jt&&$0(y,N),E}function v(y,b,w,k){if(typeof w=="object"&&w!==null&&w.type===wc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case P4:e:{for(var E=w.key,S=b;S!==null;){if(S.key===E){if(E=w.type,E===wc){if(S.tag===7){n(y,S.sibling),b=i(S,w.props.children),b.return=y,y=b;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===yo&&vk(E)===S.type){n(y,S.sibling),b=i(S,w.props),b.ref=Md(y,S,w),b.return=y,y=b;break e}n(y,S);break}else e(y,S);S=S.sibling}w.type===wc?(b=al(w.props.children,y.mode,k,w.key),b.return=y,y=b):(k=B3(w.type,w.key,w.props,null,y.mode,k),k.ref=Md(y,b,w),k.return=y,y=k)}return s(y);case bc:e:{for(S=w.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(y,b.sibling),b=i(b,w.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else e(y,b);b=b.sibling}b=T6(w,y.mode,k),b.return=y,y=b}return s(y);case yo:return S=w._init,v(y,b,S(w._payload),k)}if(af(w))return g(y,b,w,k);if(Ad(w))return x(y,b,w,k);F4(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(y,b.sibling),b=i(b,w),b.return=y,y=b):(n(y,b),b=N6(w,y.mode,k),b.return=y,y=b),s(y)):n(y,b)}return v}var ou=iM(!0),aM=iM(!1),_m=f0(null),Sm=null,Ac=null,mx=null;function gx(){mx=Ac=Sm=null}function yx(t){var e=_m.current;Qt(_m),t._currentValue=e}function Sv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function zc(t,e){Sm=t,mx=Ac=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gr=!0),t.firstContext=null)}function Gi(t){var e=t._currentValue;if(mx!==t)if(t={context:t,memoizedValue:e,next:null},Ac===null){if(Sm===null)throw Error(xe(308));Ac=t,Sm.dependencies={lanes:0,firstContext:t}}else Ac=Ac.next=t;return e}var G0=null;function vx(t){G0===null?G0=[t]:G0.push(t)}function sM(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,vx(e)):(n.next=i.next,i.next=n),e.interleaved=n,Us(t,r)}function Us(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vo=!1;function xx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ms(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Uo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_t&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Us(t,n)}return i=r.interleaved,i===null?(e.next=e,vx(r)):(e.next=i.next,i.next=e),r.interleaved=e,Us(t,n)}function R3(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ix(t,n)}}function xk(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function km(t,e,n,r){var i=t.updateQueue;vo=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;s=0,u=c=l=null,o=a;do{var h=o.lane,p=o.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,x=o;switch(h=e,p=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=cn({},d,h);break e;case 2:vo=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);ml|=s,t.lanes=s,t.memoizedState=d}}function bk(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(xe(191,i));i.call(r)}}}var $p={},Qa=f0($p),gh=f0($p),yh=f0($p);function K0(t){if(t===$p)throw Error(xe(174));return t}function bx(t,e){switch(Wt(yh,e),Wt(gh,t),Wt(Qa,$p),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rv(e,t)}Qt(Qa),Wt(Qa,e)}function lu(){Qt(Qa),Qt(gh),Qt(yh)}function lM(t){K0(yh.current);var e=K0(Qa.current),n=rv(e,t.type);e!==n&&(Wt(gh,t),Wt(Qa,n))}function wx(t){gh.current===t&&(Qt(Qa),Qt(gh))}var rn=f0(0);function Em(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var b6=[];function _x(){for(var t=0;t<b6.length;t++)b6[t]._workInProgressVersionPrimary=null;b6.length=0}var $3=Zs.ReactCurrentDispatcher,w6=Zs.ReactCurrentBatchConfig,pl=0,ln=null,$n=null,Hn=null,Nm=!1,Df=!1,vh=0,fG=0;function ur(){throw Error(xe(321))}function Sx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ka(t[n],e[n]))return!1;return!0}function kx(t,e,n,r,i,a){if(pl=a,ln=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$3.current=t===null||t.memoizedState===null?gG:yG,t=n(r,i),Df){a=0;do{if(Df=!1,vh=0,25<=a)throw Error(xe(301));a+=1,Hn=$n=null,e.updateQueue=null,$3.current=vG,t=n(r,i)}while(Df)}if($3.current=Tm,e=$n!==null&&$n.next!==null,pl=0,Hn=$n=ln=null,Nm=!1,e)throw Error(xe(300));return t}function Ex(){var t=vh!==0;return vh=0,t}function ja(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?ln.memoizedState=Hn=t:Hn=Hn.next=t,Hn}function Ki(){if($n===null){var t=ln.alternate;t=t!==null?t.memoizedState:null}else t=$n.next;var e=Hn===null?ln.memoizedState:Hn.next;if(e!==null)Hn=e,$n=t;else{if(t===null)throw Error(xe(310));$n=t,t={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},Hn===null?ln.memoizedState=Hn=t:Hn=Hn.next=t}return Hn}function xh(t,e){return typeof e=="function"?e(t):e}function _6(t){var e=Ki(),n=e.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=t;var r=$n,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var u=c.lane;if((pl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,s=r):l=l.next=d,ln.lanes|=u,ml|=u}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,ka(r,e.memoizedState)||(Gr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,ln.lanes|=a,ml|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function S6(t){var e=Ki(),n=e.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);ka(a,e.memoizedState)||(Gr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function cM(){}function uM(t,e){var n=ln,r=Ki(),i=e(),a=!ka(r.memoizedState,i);if(a&&(r.memoizedState=i,Gr=!0),r=r.queue,Nx(hM.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Hn!==null&&Hn.memoizedState.tag&1){if(n.flags|=2048,bh(9,fM.bind(null,n,r,i,e),void 0,null),Gn===null)throw Error(xe(349));pl&30||dM(n,e,i)}return i}function dM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ln.updateQueue,e===null?(e={lastEffect:null,stores:null},ln.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fM(t,e,n,r){e.value=n,e.getSnapshot=r,pM(e)&&mM(t)}function hM(t,e,n){return n(function(){pM(e)&&mM(t)})}function pM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ka(t,n)}catch{return!0}}function mM(t){var e=Us(t,1);e!==null&&xa(e,t,1,-1)}function wk(t){var e=ja();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xh,lastRenderedState:t},e.queue=t,t=t.dispatch=mG.bind(null,ln,t),[e.memoizedState,t]}function bh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ln.updateQueue,e===null?(e={lastEffect:null,stores:null},ln.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function gM(){return Ki().memoizedState}function L3(t,e,n,r){var i=ja();ln.flags|=t,i.memoizedState=bh(1|e,n,void 0,r===void 0?null:r)}function r2(t,e,n,r){var i=Ki();r=r===void 0?null:r;var a=void 0;if($n!==null){var s=$n.memoizedState;if(a=s.destroy,r!==null&&Sx(r,s.deps)){i.memoizedState=bh(e,n,a,r);return}}ln.flags|=t,i.memoizedState=bh(1|e,n,a,r)}function _k(t,e){return L3(8390656,8,t,e)}function Nx(t,e){return r2(2048,8,t,e)}function yM(t,e){return r2(4,2,t,e)}function vM(t,e){return r2(4,4,t,e)}function xM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bM(t,e,n){return n=n!=null?n.concat([t]):null,r2(4,4,xM.bind(null,e,t),n)}function Tx(){}function wM(t,e){var n=Ki();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _M(t,e){var n=Ki();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function SM(t,e,n){return pl&21?(ka(n,e)||(n=Pj(),ln.lanes|=n,ml|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gr=!0),t.memoizedState=n)}function hG(t,e){var n=Ot;Ot=n!==0&&4>n?n:4,t(!0);var r=w6.transition;w6.transition={};try{t(!1),e()}finally{Ot=n,w6.transition=r}}function kM(){return Ki().memoizedState}function pG(t,e,n){var r=zo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},EM(t))NM(e,n);else if(n=sM(t,e,n,r),n!==null){var i=Mr();xa(n,t,r,i),TM(n,e,r)}}function mG(t,e,n){var r=zo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(EM(t))NM(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,ka(o,s)){var l=e.interleaved;l===null?(i.next=i,vx(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=sM(t,e,i,r),n!==null&&(i=Mr(),xa(n,t,r,i),TM(n,e,r))}}function EM(t){var e=t.alternate;return t===ln||e!==null&&e===ln}function NM(t,e){Df=Nm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function TM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ix(t,n)}}var Tm={readContext:Gi,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useInsertionEffect:ur,useLayoutEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useMutableSource:ur,useSyncExternalStore:ur,useId:ur,unstable_isNewReconciler:!1},gG={readContext:Gi,useCallback:function(t,e){return ja().memoizedState=[t,e===void 0?null:e],t},useContext:Gi,useEffect:_k,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,L3(4194308,4,xM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return L3(4194308,4,t,e)},useInsertionEffect:function(t,e){return L3(4,2,t,e)},useMemo:function(t,e){var n=ja();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ja();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=pG.bind(null,ln,t),[r.memoizedState,t]},useRef:function(t){var e=ja();return t={current:t},e.memoizedState=t},useState:wk,useDebugValue:Tx,useDeferredValue:function(t){return ja().memoizedState=t},useTransition:function(){var t=wk(!1),e=t[0];return t=hG.bind(null,t[1]),ja().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ln,i=ja();if(Jt){if(n===void 0)throw Error(xe(407));n=n()}else{if(n=e(),Gn===null)throw Error(xe(349));pl&30||dM(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,_k(hM.bind(null,r,a,t),[t]),r.flags|=2048,bh(9,fM.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=ja(),e=Gn.identifierPrefix;if(Jt){var n=ks,r=Ss;n=(r&~(1<<32-va(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=vh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=fG++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},yG={readContext:Gi,useCallback:wM,useContext:Gi,useEffect:Nx,useImperativeHandle:bM,useInsertionEffect:yM,useLayoutEffect:vM,useMemo:_M,useReducer:_6,useRef:gM,useState:function(){return _6(xh)},useDebugValue:Tx,useDeferredValue:function(t){var e=Ki();return SM(e,$n.memoizedState,t)},useTransition:function(){var t=_6(xh)[0],e=Ki().memoizedState;return[t,e]},useMutableSource:cM,useSyncExternalStore:uM,useId:kM,unstable_isNewReconciler:!1},vG={readContext:Gi,useCallback:wM,useContext:Gi,useEffect:Nx,useImperativeHandle:bM,useInsertionEffect:yM,useLayoutEffect:vM,useMemo:_M,useReducer:S6,useRef:gM,useState:function(){return S6(xh)},useDebugValue:Tx,useDeferredValue:function(t){var e=Ki();return $n===null?e.memoizedState=t:SM(e,$n.memoizedState,t)},useTransition:function(){var t=S6(xh)[0],e=Ki().memoizedState;return[t,e]},useMutableSource:cM,useSyncExternalStore:uM,useId:kM,unstable_isNewReconciler:!1};function aa(t,e){if(t&&t.defaultProps){e=cn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function kv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:cn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var i2={isMounted:function(t){return(t=t._reactInternals)?Bl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mr(),i=zo(t),a=Ms(r,i);a.payload=e,n!=null&&(a.callback=n),e=Uo(t,a,i),e!==null&&(xa(e,t,i,r),R3(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mr(),i=zo(t),a=Ms(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Uo(t,a,i),e!==null&&(xa(e,t,i,r),R3(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mr(),r=zo(t),i=Ms(n,r);i.tag=2,e!=null&&(i.callback=e),e=Uo(t,i,r),e!==null&&(xa(e,t,r,n),R3(e,t,r))}};function Sk(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!fh(n,r)||!fh(i,a):!0}function PM(t,e,n){var r=!1,i=n0,a=e.contextType;return typeof a=="object"&&a!==null?a=Gi(a):(i=Xr(e)?fl:wr.current,r=e.contextTypes,a=(r=r!=null)?au(t,i):n0),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=i2,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function kk(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&i2.enqueueReplaceState(e,e.state,null)}function Ev(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},xx(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Gi(a):(a=Xr(e)?fl:wr.current,i.context=au(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(kv(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&i2.enqueueReplaceState(i,i.state,null),km(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function cu(t,e){try{var n="",r=e;do n+=Hq(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function k6(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Nv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var xG=typeof WeakMap=="function"?WeakMap:Map;function AM(t,e,n){n=Ms(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Am||(Am=!0,Rv=r),Nv(t,e)},n}function IM(t,e,n){n=Ms(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Nv(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Nv(t,e),typeof r!="function"&&(Bo===null?Bo=new Set([this]):Bo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Ek(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new xG;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=jG.bind(null,t,e,n),e.then(t,t))}function Nk(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Tk(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ms(-1,1),e.tag=2,Uo(n,e,1))),n.lanes|=1),t)}var bG=Zs.ReactCurrentOwner,Gr=!1;function Er(t,e,n,r){e.child=t===null?aM(e,null,n,r):ou(e,t.child,n,r)}function Pk(t,e,n,r,i){n=n.render;var a=e.ref;return zc(e,i),r=kx(t,e,n,r,a,i),n=Ex(),t!==null&&!Gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bs(t,e,i)):(Jt&&n&&fx(e),e.flags|=1,Er(t,e,r,i),e.child)}function Ak(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!Dx(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,CM(t,e,a,r,i)):(t=B3(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:fh,n(s,r)&&t.ref===e.ref)return Bs(t,e,i)}return e.flags|=1,t=Wo(a,r),t.ref=e.ref,t.return=e,e.child=t}function CM(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(fh(a,r)&&t.ref===e.ref)if(Gr=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Gr=!0);else return e.lanes=t.lanes,Bs(t,e,i)}return Tv(t,e,n,r,i)}function OM(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(Cc,oi),oi|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Wt(Cc,oi),oi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Wt(Cc,oi),oi|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Wt(Cc,oi),oi|=r;return Er(t,e,i,n),e.child}function jM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Tv(t,e,n,r,i){var a=Xr(n)?fl:wr.current;return a=au(e,a),zc(e,i),n=kx(t,e,n,r,a,i),r=Ex(),t!==null&&!Gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bs(t,e,i)):(Jt&&r&&fx(e),e.flags|=1,Er(t,e,n,i),e.child)}function Ik(t,e,n,r,i){if(Xr(n)){var a=!0;xm(e)}else a=!1;if(zc(e,i),e.stateNode===null)F3(t,e),PM(e,n,r),Ev(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Gi(c):(c=Xr(n)?fl:wr.current,c=au(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&kk(e,s,r,c),vo=!1;var h=e.memoizedState;s.state=h,km(e,r,s,i),l=e.memoizedState,o!==r||h!==l||Qr.current||vo?(typeof u=="function"&&(kv(e,n,u,r),l=e.memoizedState),(o=vo||Sk(e,n,o,r,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,oM(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:aa(e.type,o),s.props=c,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Gi(l):(l=Xr(n)?fl:wr.current,l=au(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||h!==l)&&kk(e,s,r,l),vo=!1,h=e.memoizedState,s.state=h,km(e,r,s,i);var g=e.memoizedState;o!==d||h!==g||Qr.current||vo?(typeof p=="function"&&(kv(e,n,p,r),g=e.memoizedState),(c=vo||Sk(e,n,c,r,h,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Pv(t,e,n,r,a,i)}function Pv(t,e,n,r,i,a){jM(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&mk(e,n,!1),Bs(t,e,a);r=e.stateNode,bG.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ou(e,t.child,null,a),e.child=ou(e,null,o,a)):Er(t,e,o,a),e.memoizedState=r.state,i&&mk(e,n,!0),e.child}function MM(t){var e=t.stateNode;e.pendingContext?pk(t,e.pendingContext,e.pendingContext!==e.context):e.context&&pk(t,e.context,!1),bx(t,e.containerInfo)}function Ck(t,e,n,r,i){return su(),px(i),e.flags|=256,Er(t,e,n,r),e.child}var Av={dehydrated:null,treeContext:null,retryLane:0};function Iv(t){return{baseLanes:t,cachePool:null,transitions:null}}function DM(t,e,n){var r=e.pendingProps,i=rn.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Wt(rn,i&1),t===null)return _v(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=o2(s,r,0,null),t=al(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Iv(n),e.memoizedState=Av,t):Px(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return wG(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Wo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Wo(o,a):(a=al(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?Iv(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=Av,r}return a=t.child,t=a.sibling,r=Wo(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Px(t,e){return e=o2({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function V4(t,e,n,r){return r!==null&&px(r),ou(e,t.child,null,n),t=Px(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wG(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=k6(Error(xe(422))),V4(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=o2({mode:"visible",children:r.children},i,0,null),a=al(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&ou(e,t.child,null,s),e.child.memoizedState=Iv(s),e.memoizedState=Av,a);if(!(e.mode&1))return V4(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(xe(419)),r=k6(a,r,void 0),V4(t,e,s,r)}if(o=(s&t.childLanes)!==0,Gr||o){if(r=Gn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Us(t,i),xa(r,t,i,-1))}return Mx(),r=k6(Error(xe(421))),V4(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=MG.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,hi=Vo(i.nextSibling),vi=e,Jt=!0,la=null,t!==null&&(ji[Mi++]=Ss,ji[Mi++]=ks,ji[Mi++]=hl,Ss=t.id,ks=t.overflow,hl=e),e=Px(e,r.children),e.flags|=4096,e)}function Ok(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Sv(t.return,e,n)}function E6(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function RM(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Er(t,e,r.children,n),r=rn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ok(t,n,e);else if(t.tag===19)Ok(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Wt(rn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Em(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),E6(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Em(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}E6(e,!0,n,null,a);break;case"together":E6(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function F3(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ml|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(xe(153));if(e.child!==null){for(t=e.child,n=Wo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _G(t,e,n){switch(e.tag){case 3:MM(e),su();break;case 5:lM(e);break;case 1:Xr(e.type)&&xm(e);break;case 4:bx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Wt(_m,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Wt(rn,rn.current&1),e.flags|=128,null):n&e.child.childLanes?DM(t,e,n):(Wt(rn,rn.current&1),t=Bs(t,e,n),t!==null?t.sibling:null);Wt(rn,rn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return RM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Wt(rn,rn.current),r)break;return null;case 22:case 23:return e.lanes=0,OM(t,e,n)}return Bs(t,e,n)}var $M,Cv,LM,FM;$M=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Cv=function(){};LM=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,K0(Qa.current);var a=null;switch(n){case"input":i=Zy(t,i),r=Zy(t,r),a=[];break;case"select":i=cn({},i,{value:void 0}),r=cn({},r,{value:void 0}),a=[];break;case"textarea":i=nv(t,i),r=nv(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ym)}iv(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ah.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ah.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ht("scroll",t),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};FM=function(t,e,n,r){n!==r&&(e.flags|=4)};function Dd(t,e){if(!Jt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function dr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function SG(t,e,n){var r=e.pendingProps;switch(hx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dr(e),null;case 1:return Xr(e.type)&&vm(),dr(e),null;case 3:return r=e.stateNode,lu(),Qt(Qr),Qt(wr),_x(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(L4(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,la!==null&&(Fv(la),la=null))),Cv(t,e),dr(e),null;case 5:wx(e);var i=K0(yh.current);if(n=e.type,t!==null&&e.stateNode!=null)LM(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(xe(166));return dr(e),null}if(t=K0(Qa.current),L4(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[$a]=e,r[mh]=a,t=(e.mode&1)!==0,n){case"dialog":Ht("cancel",r),Ht("close",r);break;case"iframe":case"object":case"embed":Ht("load",r);break;case"video":case"audio":for(i=0;i<of.length;i++)Ht(of[i],r);break;case"source":Ht("error",r);break;case"img":case"image":case"link":Ht("error",r),Ht("load",r);break;case"details":Ht("toggle",r);break;case"input":US(r,a),Ht("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ht("invalid",r);break;case"textarea":zS(r,a),Ht("invalid",r)}iv(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&$4(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&$4(r.textContent,o,t),i=["children",""+o]):ah.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Ht("scroll",r)}switch(n){case"input":A4(r),BS(r,a,!0);break;case"textarea":A4(r),WS(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=ym)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hj(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[$a]=e,t[mh]=r,$M(t,e,!1,!1),e.stateNode=t;e:{switch(s=av(n,r),n){case"dialog":Ht("cancel",t),Ht("close",t),i=r;break;case"iframe":case"object":case"embed":Ht("load",t),i=r;break;case"video":case"audio":for(i=0;i<of.length;i++)Ht(of[i],t);i=r;break;case"source":Ht("error",t),i=r;break;case"img":case"image":case"link":Ht("error",t),Ht("load",t),i=r;break;case"details":Ht("toggle",t),i=r;break;case"input":US(t,r),i=Zy(t,r),Ht("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=cn({},r,{value:void 0}),Ht("invalid",t);break;case"textarea":zS(t,r),i=nv(t,r),Ht("invalid",t);break;default:i=r}iv(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?gj(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pj(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&sh(t,l):typeof l=="number"&&sh(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ah.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Ht("scroll",t):l!=null&&J9(t,a,l,s))}switch(n){case"input":A4(t),BS(t,r,!1);break;case"textarea":A4(t),WS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+t0(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Fc(t,!!r.multiple,a,!1):r.defaultValue!=null&&Fc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ym)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dr(e),null;case 6:if(t&&e.stateNode!=null)FM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(xe(166));if(n=K0(yh.current),K0(Qa.current),L4(e)){if(r=e.stateNode,n=e.memoizedProps,r[$a]=e,(a=r.nodeValue!==n)&&(t=vi,t!==null))switch(t.tag){case 3:$4(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$4(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$a]=e,e.stateNode=r}return dr(e),null;case 13:if(Qt(rn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Jt&&hi!==null&&e.mode&1&&!(e.flags&128))rM(),su(),e.flags|=98560,a=!1;else if(a=L4(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(xe(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(xe(317));a[$a]=e}else su(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dr(e),a=!1}else la!==null&&(Fv(la),la=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rn.current&1?Ln===0&&(Ln=3):Mx())),e.updateQueue!==null&&(e.flags|=4),dr(e),null);case 4:return lu(),Cv(t,e),t===null&&hh(e.stateNode.containerInfo),dr(e),null;case 10:return yx(e.type._context),dr(e),null;case 17:return Xr(e.type)&&vm(),dr(e),null;case 19:if(Qt(rn),a=e.memoizedState,a===null)return dr(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)Dd(a,!1);else{if(Ln!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Em(t),s!==null){for(e.flags|=128,Dd(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Wt(rn,rn.current&1|2),e.child}t=t.sibling}a.tail!==null&&Sn()>uu&&(e.flags|=128,r=!0,Dd(a,!1),e.lanes=4194304)}else{if(!r)if(t=Em(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Dd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Jt)return dr(e),null}else 2*Sn()-a.renderingStartTime>uu&&n!==1073741824&&(e.flags|=128,r=!0,Dd(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Sn(),e.sibling=null,n=rn.current,Wt(rn,r?n&1|2:n&1),e):(dr(e),null);case 22:case 23:return jx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?oi&1073741824&&(dr(e),e.subtreeFlags&6&&(e.flags|=8192)):dr(e),null;case 24:return null;case 25:return null}throw Error(xe(156,e.tag))}function kG(t,e){switch(hx(e),e.tag){case 1:return Xr(e.type)&&vm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return lu(),Qt(Qr),Qt(wr),_x(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wx(e),null;case 13:if(Qt(rn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(xe(340));su()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qt(rn),null;case 4:return lu(),null;case 10:return yx(e.type._context),null;case 22:case 23:return jx(),null;case 24:return null;default:return null}}var U4=!1,gr=!1,EG=typeof WeakSet=="function"?WeakSet:Set,De=null;function Ic(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){hn(t,e,r)}else n.current=null}function Ov(t,e,n){try{n()}catch(r){hn(t,e,r)}}var jk=!1;function NG(t,e){if(mv=pm,t=Wj(),dx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(o=s+i),d!==a||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===i&&(o=s),h===a&&++u===r&&(l=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gv={focusedElem:t,selectionRange:n},pm=!1,De=e;De!==null;)if(e=De,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,De=t;else for(;De!==null;){e=De;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,v=g.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?x:aa(e.type,x),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xe(163))}}catch(k){hn(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,De=t;break}De=e.return}return g=jk,jk=!1,g}function Rf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Ov(e,n,a)}i=i.next}while(i!==r)}}function a2(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function jv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function VM(t){var e=t.alternate;e!==null&&(t.alternate=null,VM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$a],delete e[mh],delete e[xv],delete e[lG],delete e[cG])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function UM(t){return t.tag===5||t.tag===3||t.tag===4}function Mk(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||UM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ym));else if(r!==4&&(t=t.child,t!==null))for(Mv(t,e,n),t=t.sibling;t!==null;)Mv(t,e,n),t=t.sibling}function Dv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Dv(t,e,n),t=t.sibling;t!==null;)Dv(t,e,n),t=t.sibling}var Zn=null,sa=!1;function fo(t,e,n){for(n=n.child;n!==null;)BM(t,e,n),n=n.sibling}function BM(t,e,n){if(Ya&&typeof Ya.onCommitFiberUnmount=="function")try{Ya.onCommitFiberUnmount(Xg,n)}catch{}switch(n.tag){case 5:gr||Ic(n,e);case 6:var r=Zn,i=sa;Zn=null,fo(t,e,n),Zn=r,sa=i,Zn!==null&&(sa?(t=Zn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Zn.removeChild(n.stateNode));break;case 18:Zn!==null&&(sa?(t=Zn,n=n.stateNode,t.nodeType===8?v6(t.parentNode,n):t.nodeType===1&&v6(t,n),uh(t)):v6(Zn,n.stateNode));break;case 4:r=Zn,i=sa,Zn=n.stateNode.containerInfo,sa=!0,fo(t,e,n),Zn=r,sa=i;break;case 0:case 11:case 14:case 15:if(!gr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Ov(n,e,s),i=i.next}while(i!==r)}fo(t,e,n);break;case 1:if(!gr&&(Ic(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){hn(n,e,o)}fo(t,e,n);break;case 21:fo(t,e,n);break;case 22:n.mode&1?(gr=(r=gr)||n.memoizedState!==null,fo(t,e,n),gr=r):fo(t,e,n);break;default:fo(t,e,n)}}function Dk(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new EG),e.forEach(function(r){var i=DG.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function na(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Zn=o.stateNode,sa=!1;break e;case 3:Zn=o.stateNode.containerInfo,sa=!0;break e;case 4:Zn=o.stateNode.containerInfo,sa=!0;break e}o=o.return}if(Zn===null)throw Error(xe(160));BM(a,s,i),Zn=null,sa=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){hn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zM(e,t),e=e.sibling}function zM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(na(e,t),Ca(t),r&4){try{Rf(3,t,t.return),a2(3,t)}catch(x){hn(t,t.return,x)}try{Rf(5,t,t.return)}catch(x){hn(t,t.return,x)}}break;case 1:na(e,t),Ca(t),r&512&&n!==null&&Ic(n,n.return);break;case 5:if(na(e,t),Ca(t),r&512&&n!==null&&Ic(n,n.return),t.flags&32){var i=t.stateNode;try{sh(i,"")}catch(x){hn(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&dj(i,a),av(o,s);var c=av(o,a);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?gj(i,d):u==="dangerouslySetInnerHTML"?pj(i,d):u==="children"?sh(i,d):J9(i,u,d,c)}switch(o){case"input":ev(i,a);break;case"textarea":fj(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Fc(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Fc(i,!!a.multiple,a.defaultValue,!0):Fc(i,!!a.multiple,a.multiple?[]:"",!1))}i[mh]=a}catch(x){hn(t,t.return,x)}}break;case 6:if(na(e,t),Ca(t),r&4){if(t.stateNode===null)throw Error(xe(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(x){hn(t,t.return,x)}}break;case 3:if(na(e,t),Ca(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{uh(e.containerInfo)}catch(x){hn(t,t.return,x)}break;case 4:na(e,t),Ca(t);break;case 13:na(e,t),Ca(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Cx=Sn())),r&4&&Dk(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(gr=(c=gr)||u,na(e,t),gr=c):na(e,t),Ca(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(De=t,u=t.child;u!==null;){for(d=De=u;De!==null;){switch(h=De,p=h.child,h.tag){case 0:case 11:case 14:case 15:Rf(4,h,h.return);break;case 1:Ic(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){hn(r,n,x)}}break;case 5:Ic(h,h.return);break;case 22:if(h.memoizedState!==null){$k(d);continue}}p!==null?(p.return=h,De=p):$k(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=mj("display",s))}catch(x){hn(t,t.return,x)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(x){hn(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:na(e,t),Ca(t),r&4&&Dk(t);break;case 21:break;default:na(e,t),Ca(t)}}function Ca(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(UM(n)){var r=n;break e}n=n.return}throw Error(xe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(sh(i,""),r.flags&=-33);var a=Mk(t);Dv(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=Mk(t);Mv(t,o,s);break;default:throw Error(xe(161))}}catch(l){hn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function TG(t,e,n){De=t,WM(t)}function WM(t,e,n){for(var r=(t.mode&1)!==0;De!==null;){var i=De,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||U4;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||gr;o=U4;var c=gr;if(U4=s,(gr=l)&&!c)for(De=i;De!==null;)s=De,l=s.child,s.tag===22&&s.memoizedState!==null?Lk(i):l!==null?(l.return=s,De=l):Lk(i);for(;a!==null;)De=a,WM(a),a=a.sibling;De=i,U4=o,gr=c}Rk(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,De=a):Rk(t)}}function Rk(t){for(;De!==null;){var e=De;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gr||a2(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:aa(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&bk(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}bk(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&uh(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xe(163))}gr||e.flags&512&&jv(e)}catch(h){hn(e,e.return,h)}}if(e===t){De=null;break}if(n=e.sibling,n!==null){n.return=e.return,De=n;break}De=e.return}}function $k(t){for(;De!==null;){var e=De;if(e===t){De=null;break}var n=e.sibling;if(n!==null){n.return=e.return,De=n;break}De=e.return}}function Lk(t){for(;De!==null;){var e=De;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{a2(4,e)}catch(l){hn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){hn(e,i,l)}}var a=e.return;try{jv(e)}catch(l){hn(e,a,l)}break;case 5:var s=e.return;try{jv(e)}catch(l){hn(e,s,l)}}}catch(l){hn(e,e.return,l)}if(e===t){De=null;break}var o=e.sibling;if(o!==null){o.return=e.return,De=o;break}De=e.return}}var PG=Math.ceil,Pm=Zs.ReactCurrentDispatcher,Ax=Zs.ReactCurrentOwner,zi=Zs.ReactCurrentBatchConfig,_t=0,Gn=null,An=null,ar=0,oi=0,Cc=f0(0),Ln=0,wh=null,ml=0,s2=0,Ix=0,$f=null,zr=null,Cx=0,uu=1/0,gs=null,Am=!1,Rv=null,Bo=null,B4=!1,Io=null,Im=0,Lf=0,$v=null,V3=-1,U3=0;function Mr(){return _t&6?Sn():V3!==-1?V3:V3=Sn()}function zo(t){return t.mode&1?_t&2&&ar!==0?ar&-ar:dG.transition!==null?(U3===0&&(U3=Pj()),U3):(t=Ot,t!==0||(t=window.event,t=t===void 0?16:Dj(t.type)),t):1}function xa(t,e,n,r){if(50<Lf)throw Lf=0,$v=null,Error(xe(185));Mp(t,n,r),(!(_t&2)||t!==Gn)&&(t===Gn&&(!(_t&2)&&(s2|=n),Ln===4&&So(t,ar)),Jr(t,r),n===1&&_t===0&&!(e.mode&1)&&(uu=Sn()+500,n2&&h0()))}function Jr(t,e){var n=t.callbackNode;dH(t,e);var r=hm(t,t===Gn?ar:0);if(r===0)n!==null&&GS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&GS(n),e===1)t.tag===0?uG(Fk.bind(null,t)):eM(Fk.bind(null,t)),sG(function(){!(_t&6)&&h0()}),n=null;else{switch(Aj(r)){case 1:n=rx;break;case 4:n=Nj;break;case 16:n=fm;break;case 536870912:n=Tj;break;default:n=fm}n=JM(n,qM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function qM(t,e){if(V3=-1,U3=0,_t&6)throw Error(xe(327));var n=t.callbackNode;if(Wc()&&t.callbackNode!==n)return null;var r=hm(t,t===Gn?ar:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Cm(t,r);else{e=r;var i=_t;_t|=2;var a=GM();(Gn!==t||ar!==e)&&(gs=null,uu=Sn()+500,il(t,e));do try{CG();break}catch(o){HM(t,o)}while(!0);gx(),Pm.current=a,_t=i,An!==null?e=0:(Gn=null,ar=0,e=Ln)}if(e!==0){if(e===2&&(i=uv(t),i!==0&&(r=i,e=Lv(t,i))),e===1)throw n=wh,il(t,0),So(t,r),Jr(t,Sn()),n;if(e===6)So(t,r);else{if(i=t.current.alternate,!(r&30)&&!AG(i)&&(e=Cm(t,r),e===2&&(a=uv(t),a!==0&&(r=a,e=Lv(t,a))),e===1))throw n=wh,il(t,0),So(t,r),Jr(t,Sn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(xe(345));case 2:L0(t,zr,gs);break;case 3:if(So(t,r),(r&130023424)===r&&(e=Cx+500-Sn(),10<e)){if(hm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Mr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=vv(L0.bind(null,t,zr,gs),e);break}L0(t,zr,gs);break;case 4:if(So(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-va(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=Sn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*PG(r/1960))-r,10<r){t.timeoutHandle=vv(L0.bind(null,t,zr,gs),r);break}L0(t,zr,gs);break;case 5:L0(t,zr,gs);break;default:throw Error(xe(329))}}}return Jr(t,Sn()),t.callbackNode===n?qM.bind(null,t):null}function Lv(t,e){var n=$f;return t.current.memoizedState.isDehydrated&&(il(t,e).flags|=256),t=Cm(t,e),t!==2&&(e=zr,zr=n,e!==null&&Fv(e)),t}function Fv(t){zr===null?zr=t:zr.push.apply(zr,t)}function AG(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ka(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function So(t,e){for(e&=~Ix,e&=~s2,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-va(e),r=1<<n;t[n]=-1,e&=~r}}function Fk(t){if(_t&6)throw Error(xe(327));Wc();var e=hm(t,0);if(!(e&1))return Jr(t,Sn()),null;var n=Cm(t,e);if(t.tag!==0&&n===2){var r=uv(t);r!==0&&(e=r,n=Lv(t,r))}if(n===1)throw n=wh,il(t,0),So(t,e),Jr(t,Sn()),n;if(n===6)throw Error(xe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,L0(t,zr,gs),Jr(t,Sn()),null}function Ox(t,e){var n=_t;_t|=1;try{return t(e)}finally{_t=n,_t===0&&(uu=Sn()+500,n2&&h0())}}function gl(t){Io!==null&&Io.tag===0&&!(_t&6)&&Wc();var e=_t;_t|=1;var n=zi.transition,r=Ot;try{if(zi.transition=null,Ot=1,t)return t()}finally{Ot=r,zi.transition=n,_t=e,!(_t&6)&&h0()}}function jx(){oi=Cc.current,Qt(Cc)}function il(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aG(n)),An!==null)for(n=An.return;n!==null;){var r=n;switch(hx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vm();break;case 3:lu(),Qt(Qr),Qt(wr),_x();break;case 5:wx(r);break;case 4:lu();break;case 13:Qt(rn);break;case 19:Qt(rn);break;case 10:yx(r.type._context);break;case 22:case 23:jx()}n=n.return}if(Gn=t,An=t=Wo(t.current,null),ar=oi=e,Ln=0,wh=null,Ix=s2=ml=0,zr=$f=null,G0!==null){for(e=0;e<G0.length;e++)if(n=G0[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}G0=null}return t}function HM(t,e){do{var n=An;try{if(gx(),$3.current=Tm,Nm){for(var r=ln.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Nm=!1}if(pl=0,Hn=$n=ln=null,Df=!1,vh=0,Ax.current=null,n===null||n.return===null){Ln=1,wh=e,An=null;break}e:{var a=t,s=n.return,o=n,l=e;if(e=ar,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Nk(s);if(p!==null){p.flags&=-257,Tk(p,s,o,a,e),p.mode&1&&Ek(a,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var x=new Set;x.add(l),e.updateQueue=x}else g.add(l);break e}else{if(!(e&1)){Ek(a,c,e),Mx();break e}l=Error(xe(426))}}else if(Jt&&o.mode&1){var v=Nk(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Tk(v,s,o,a,e),px(cu(l,o));break e}}a=l=cu(l,o),Ln!==4&&(Ln=2),$f===null?$f=[a]:$f.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=AM(a,l,e);xk(a,y);break e;case 1:o=l;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Bo===null||!Bo.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var k=IM(a,o,e);xk(a,k);break e}}a=a.return}while(a!==null)}YM(n)}catch(E){e=E,An===n&&n!==null&&(An=n=n.return);continue}break}while(!0)}function GM(){var t=Pm.current;return Pm.current=Tm,t===null?Tm:t}function Mx(){(Ln===0||Ln===3||Ln===2)&&(Ln=4),Gn===null||!(ml&268435455)&&!(s2&268435455)||So(Gn,ar)}function Cm(t,e){var n=_t;_t|=2;var r=GM();(Gn!==t||ar!==e)&&(gs=null,il(t,e));do try{IG();break}catch(i){HM(t,i)}while(!0);if(gx(),_t=n,Pm.current=r,An!==null)throw Error(xe(261));return Gn=null,ar=0,Ln}function IG(){for(;An!==null;)KM(An)}function CG(){for(;An!==null&&!nH();)KM(An)}function KM(t){var e=XM(t.alternate,t,oi);t.memoizedProps=t.pendingProps,e===null?YM(t):An=e,Ax.current=null}function YM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=kG(n,e),n!==null){n.flags&=32767,An=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ln=6,An=null;return}}else if(n=SG(n,e,oi),n!==null){An=n;return}if(e=e.sibling,e!==null){An=e;return}An=e=t}while(e!==null);Ln===0&&(Ln=5)}function L0(t,e,n){var r=Ot,i=zi.transition;try{zi.transition=null,Ot=1,OG(t,e,n,r)}finally{zi.transition=i,Ot=r}return null}function OG(t,e,n,r){do Wc();while(Io!==null);if(_t&6)throw Error(xe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(xe(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(fH(t,a),t===Gn&&(An=Gn=null,ar=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||B4||(B4=!0,JM(fm,function(){return Wc(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=zi.transition,zi.transition=null;var s=Ot;Ot=1;var o=_t;_t|=4,Ax.current=null,NG(t,n),zM(n,t),JH(gv),pm=!!mv,gv=mv=null,t.current=n,TG(n),rH(),_t=o,Ot=s,zi.transition=a}else t.current=n;if(B4&&(B4=!1,Io=t,Im=i),a=t.pendingLanes,a===0&&(Bo=null),sH(n.stateNode),Jr(t,Sn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Am)throw Am=!1,t=Rv,Rv=null,t;return Im&1&&t.tag!==0&&Wc(),a=t.pendingLanes,a&1?t===$v?Lf++:(Lf=0,$v=t):Lf=0,h0(),null}function Wc(){if(Io!==null){var t=Aj(Im),e=zi.transition,n=Ot;try{if(zi.transition=null,Ot=16>t?16:t,Io===null)var r=!1;else{if(t=Io,Io=null,Im=0,_t&6)throw Error(xe(331));var i=_t;for(_t|=4,De=t.current;De!==null;){var a=De,s=a.child;if(De.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(De=c;De!==null;){var u=De;switch(u.tag){case 0:case 11:case 15:Rf(8,u,a)}var d=u.child;if(d!==null)d.return=u,De=d;else for(;De!==null;){u=De;var h=u.sibling,p=u.return;if(VM(u),u===c){De=null;break}if(h!==null){h.return=p,De=h;break}De=p}}}var g=a.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(x!==null)}}De=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,De=s;else e:for(;De!==null;){if(a=De,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Rf(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,De=y;break e}De=a.return}}var b=t.current;for(De=b;De!==null;){s=De;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,De=w;else e:for(s=b;De!==null;){if(o=De,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:a2(9,o)}}catch(E){hn(o,o.return,E)}if(o===s){De=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,De=k;break e}De=o.return}}if(_t=i,h0(),Ya&&typeof Ya.onPostCommitFiberRoot=="function")try{Ya.onPostCommitFiberRoot(Xg,t)}catch{}r=!0}return r}finally{Ot=n,zi.transition=e}}return!1}function Vk(t,e,n){e=cu(n,e),e=AM(t,e,1),t=Uo(t,e,1),e=Mr(),t!==null&&(Mp(t,1,e),Jr(t,e))}function hn(t,e,n){if(t.tag===3)Vk(t,t,n);else for(;e!==null;){if(e.tag===3){Vk(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bo===null||!Bo.has(r))){t=cu(n,t),t=IM(e,t,1),e=Uo(e,t,1),t=Mr(),e!==null&&(Mp(e,1,t),Jr(e,t));break}}e=e.return}}function jG(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mr(),t.pingedLanes|=t.suspendedLanes&n,Gn===t&&(ar&n)===n&&(Ln===4||Ln===3&&(ar&130023424)===ar&&500>Sn()-Cx?il(t,0):Ix|=n),Jr(t,e)}function QM(t,e){e===0&&(t.mode&1?(e=O4,O4<<=1,!(O4&130023424)&&(O4=4194304)):e=1);var n=Mr();t=Us(t,e),t!==null&&(Mp(t,e,n),Jr(t,n))}function MG(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),QM(t,n)}function DG(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(xe(314))}r!==null&&r.delete(e),QM(t,n)}var XM;XM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qr.current)Gr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Gr=!1,_G(t,e,n);Gr=!!(t.flags&131072)}else Gr=!1,Jt&&e.flags&1048576&&tM(e,wm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;F3(t,e),t=e.pendingProps;var i=au(e,wr.current);zc(e,n),i=kx(null,e,r,t,i,n);var a=Ex();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xr(r)?(a=!0,xm(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xx(e),i.updater=i2,e.stateNode=i,i._reactInternals=e,Ev(e,r,t,n),e=Pv(null,e,r,!0,a,n)):(e.tag=0,Jt&&a&&fx(e),Er(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(F3(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=$G(r),t=aa(r,t),i){case 0:e=Tv(null,e,r,t,n);break e;case 1:e=Ik(null,e,r,t,n);break e;case 11:e=Pk(null,e,r,t,n);break e;case 14:e=Ak(null,e,r,aa(r.type,t),n);break e}throw Error(xe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:aa(r,i),Tv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:aa(r,i),Ik(t,e,r,i,n);case 3:e:{if(MM(e),t===null)throw Error(xe(387));r=e.pendingProps,a=e.memoizedState,i=a.element,oM(t,e),km(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=cu(Error(xe(423)),e),e=Ck(t,e,r,n,i);break e}else if(r!==i){i=cu(Error(xe(424)),e),e=Ck(t,e,r,n,i);break e}else for(hi=Vo(e.stateNode.containerInfo.firstChild),vi=e,Jt=!0,la=null,n=aM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(su(),r===i){e=Bs(t,e,n);break e}Er(t,e,r,n)}e=e.child}return e;case 5:return lM(e),t===null&&_v(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,yv(r,i)?s=null:a!==null&&yv(r,a)&&(e.flags|=32),jM(t,e),Er(t,e,s,n),e.child;case 6:return t===null&&_v(e),null;case 13:return DM(t,e,n);case 4:return bx(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ou(e,null,r,n):Er(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:aa(r,i),Pk(t,e,r,i,n);case 7:return Er(t,e,e.pendingProps,n),e.child;case 8:return Er(t,e,e.pendingProps.children,n),e.child;case 12:return Er(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Wt(_m,r._currentValue),r._currentValue=s,a!==null)if(ka(a.value,s)){if(a.children===i.children&&!Qr.current){e=Bs(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Ms(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Sv(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(xe(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Sv(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Er(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,zc(e,n),i=Gi(i),r=r(i),e.flags|=1,Er(t,e,r,n),e.child;case 14:return r=e.type,i=aa(r,e.pendingProps),i=aa(r.type,i),Ak(t,e,r,i,n);case 15:return CM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:aa(r,i),F3(t,e),e.tag=1,Xr(r)?(t=!0,xm(e)):t=!1,zc(e,n),PM(e,r,i),Ev(e,r,i,n),Pv(null,e,r,!0,t,n);case 19:return RM(t,e,n);case 22:return OM(t,e,n)}throw Error(xe(156,e.tag))};function JM(t,e){return Ej(t,e)}function RG(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fi(t,e,n,r){return new RG(t,e,n,r)}function Dx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $G(t){if(typeof t=="function")return Dx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ex)return 11;if(t===tx)return 14}return 2}function Wo(t,e){var n=t.alternate;return n===null?(n=Fi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function B3(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")Dx(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case wc:return al(n.children,i,a,e);case Z9:s=8,i|=8;break;case Yy:return t=Fi(12,n,e,i|2),t.elementType=Yy,t.lanes=a,t;case Qy:return t=Fi(13,n,e,i),t.elementType=Qy,t.lanes=a,t;case Xy:return t=Fi(19,n,e,i),t.elementType=Xy,t.lanes=a,t;case lj:return o2(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sj:s=10;break e;case oj:s=9;break e;case ex:s=11;break e;case tx:s=14;break e;case yo:s=16,r=null;break e}throw Error(xe(130,t==null?t:typeof t,""))}return e=Fi(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function al(t,e,n,r){return t=Fi(7,t,r,e),t.lanes=n,t}function o2(t,e,n,r){return t=Fi(22,t,r,e),t.elementType=lj,t.lanes=n,t.stateNode={isHidden:!1},t}function N6(t,e,n){return t=Fi(6,t,null,e),t.lanes=n,t}function T6(t,e,n){return e=Fi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function LG(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=o6(0),this.expirationTimes=o6(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=o6(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Rx(t,e,n,r,i,a,s,o,l){return t=new LG(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Fi(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xx(a),t}function FG(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ZM(t){if(!t)return n0;t=t._reactInternals;e:{if(Bl(t)!==t||t.tag!==1)throw Error(xe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(xe(171))}if(t.tag===1){var n=t.type;if(Xr(n))return Zj(t,n,e)}return e}function eD(t,e,n,r,i,a,s,o,l){return t=Rx(n,r,!0,t,i,a,s,o,l),t.context=ZM(null),n=t.current,r=Mr(),i=zo(n),a=Ms(r,i),a.callback=e??null,Uo(n,a,i),t.current.lanes=i,Mp(t,i,r),Jr(t,r),t}function l2(t,e,n,r){var i=e.current,a=Mr(),s=zo(i);return n=ZM(n),e.context===null?e.context=n:e.pendingContext=n,e=Ms(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Uo(i,e,s),t!==null&&(xa(t,i,s,a),R3(t,i,s)),s}function Om(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Uk(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $x(t,e){Uk(t,e),(t=t.alternate)&&Uk(t,e)}function VG(){return null}var tD=typeof reportError=="function"?reportError:function(t){console.error(t)};function Lx(t){this._internalRoot=t}c2.prototype.render=Lx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(xe(409));l2(t,e,null,null)};c2.prototype.unmount=Lx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gl(function(){l2(null,t,null,null)}),e[Vs]=null}};function c2(t){this._internalRoot=t}c2.prototype.unstable_scheduleHydration=function(t){if(t){var e=Oj();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_o.length&&e!==0&&e<_o[n].priority;n++);_o.splice(n,0,t),n===0&&Mj(t)}};function Fx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Bk(){}function UG(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=Om(s);a.call(c)}}var s=eD(e,r,t,0,null,!1,!1,"",Bk);return t._reactRootContainer=s,t[Vs]=s.current,hh(t.nodeType===8?t.parentNode:t),gl(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=Om(l);o.call(c)}}var l=Rx(t,0,!1,null,null,!1,!1,"",Bk);return t._reactRootContainer=l,t[Vs]=l.current,hh(t.nodeType===8?t.parentNode:t),gl(function(){l2(e,l,n,r)}),l}function d2(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Om(s);o.call(l)}}l2(e,s,t,i)}else s=UG(n,e,t,i,r);return Om(s)}Ij=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=sf(e.pendingLanes);n!==0&&(ix(e,n|1),Jr(e,Sn()),!(_t&6)&&(uu=Sn()+500,h0()))}break;case 13:gl(function(){var r=Us(t,1);if(r!==null){var i=Mr();xa(r,t,1,i)}}),$x(t,1)}};ax=function(t){if(t.tag===13){var e=Us(t,134217728);if(e!==null){var n=Mr();xa(e,t,134217728,n)}$x(t,134217728)}};Cj=function(t){if(t.tag===13){var e=zo(t),n=Us(t,e);if(n!==null){var r=Mr();xa(n,t,e,r)}$x(t,e)}};Oj=function(){return Ot};jj=function(t,e){var n=Ot;try{return Ot=t,e()}finally{Ot=n}};ov=function(t,e,n){switch(e){case"input":if(ev(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=t2(r);if(!i)throw Error(xe(90));uj(r),ev(r,i)}}}break;case"textarea":fj(t,n);break;case"select":e=n.value,e!=null&&Fc(t,!!n.multiple,e,!1)}};xj=Ox;bj=gl;var BG={usingClientEntryPoint:!1,Events:[Rp,Ec,t2,yj,vj,Ox]},Rd={findFiberByHostInstance:H0,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zG={bundleType:Rd.bundleType,version:Rd.version,rendererPackageName:Rd.rendererPackageName,rendererConfig:Rd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Sj(t),t===null?null:t.stateNode},findFiberByHostInstance:Rd.findFiberByHostInstance||VG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var z4=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!z4.isDisabled&&z4.supportsFiber)try{Xg=z4.inject(zG),Ya=z4}catch{}}Ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BG;Ei.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fx(e))throw Error(xe(200));return FG(t,e,null,n)};Ei.createRoot=function(t,e){if(!Fx(t))throw Error(xe(299));var n=!1,r="",i=tD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Rx(t,1,!1,null,null,n,!1,r,i),t[Vs]=e.current,hh(t.nodeType===8?t.parentNode:t),new Lx(e)};Ei.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(xe(188)):(t=Object.keys(t).join(","),Error(xe(268,t)));return t=Sj(e),t=t===null?null:t.stateNode,t};Ei.flushSync=function(t){return gl(t)};Ei.hydrate=function(t,e,n){if(!u2(e))throw Error(xe(200));return d2(null,t,e,!0,n)};Ei.hydrateRoot=function(t,e,n){if(!Fx(t))throw Error(xe(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=tD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=eD(e,null,t,1,n??null,i,!1,a,s),t[Vs]=e.current,hh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new c2(e)};Ei.render=function(t,e,n){if(!u2(e))throw Error(xe(200));return d2(null,t,e,!1,n)};Ei.unmountComponentAtNode=function(t){if(!u2(t))throw Error(xe(40));return t._reactRootContainer?(gl(function(){d2(null,null,t,!1,function(){t._reactRootContainer=null,t[Vs]=null})}),!0):!1};Ei.unstable_batchedUpdates=Ox;Ei.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!u2(n))throw Error(xe(200));if(t==null||t._reactInternals===void 0)throw Error(xe(38));return d2(t,e,n,!1,r)};Ei.version="18.3.1-next-f1338f8080-20240426";function nD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nD)}catch(t){console.error(t)}}nD(),nj.exports=Ei;var WG=nj.exports,zk=WG;Gy.createRoot=zk.createRoot,Gy.hydrateRoot=zk.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _h(){return _h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_h.apply(this,arguments)}var Co;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Co||(Co={}));const Wk="popstate";function qG(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return jm("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Sh(i)}return rD(e,n,null,t)}function HG(t){t===void 0&&(t={});function e(i,a){let{pathname:s="/",search:o="",hash:l=""}=zl(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),jm("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let s=i.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");o=c===-1?l:l.slice(0,c)}return o+"#"+(typeof a=="string"?a:Sh(a))}function r(i,a){f2(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return rD(e,n,r,t)}function En(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function f2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GG(){return Math.random().toString(36).substr(2,8)}function qk(t,e){return{usr:t.state,key:t.key,idx:e}}function jm(t,e,n,r){return n===void 0&&(n=null),_h({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zl(e):e,{state:n,key:e&&e.key||r||GG()})}function Sh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function zl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function rD(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=Co.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(_h({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){o=Co.Pop;let v=u(),y=v==null?null:v-c;c=v,l&&l({action:o,location:x.location,delta:y})}function h(v,y){o=Co.Push;let b=jm(x.location,v,y);n&&n(b,v),c=u()+1;let w=qk(b,c),k=x.createHref(b);try{s.pushState(w,"",k)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(k)}a&&l&&l({action:o,location:x.location,delta:1})}function p(v,y){o=Co.Replace;let b=jm(x.location,v,y);n&&n(b,v),c=u();let w=qk(b,c),k=x.createHref(b);s.replaceState(w,"",k),a&&l&&l({action:o,location:x.location,delta:0})}function g(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof v=="string"?v:Sh(v);return b=b.replace(/ $/,"%20"),En(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let x={get action(){return o},get location(){return t(i,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Wk,d),l=v,()=>{i.removeEventListener(Wk,d),l=null}},createHref(v){return e(i,v)},createURL:g,encodeLocation(v){let y=g(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(v){return s.go(v)}};return x}var Hk;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Hk||(Hk={}));function KG(t,e,n){return n===void 0&&(n="/"),YG(t,e,n)}function YG(t,e,n,r){let i=typeof e=="string"?zl(e):e,a=Vx(i.pathname||"/",n);if(a==null)return null;let s=iD(t);QG(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=lK(a);o=aK(s[l],c)}return o}function iD(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(En(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=qo([r,l.relativePath]),u=n.concat(l);a.children&&a.children.length>0&&(En(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),iD(a.children,e,u,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:rK(c,a.index),routesMeta:u})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of aD(a.path))i(a,s,l)}),e}function aD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=aD(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function QG(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:iK(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const XG=/^:[\w-]+$/,JG=3,ZG=2,eK=1,tK=10,nK=-2,Gk=t=>t==="*";function rK(t,e){let n=t.split("/"),r=n.length;return n.some(Gk)&&(r+=nK),e&&(r+=ZG),n.filter(i=>!Gk(i)).reduce((i,a)=>i+(XG.test(a)?JG:a===""?eK:tK),r)}function iK(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function aK(t,e,n){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=a==="/"?e:e.slice(a.length)||"/",d=sK({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:qo([a,d.pathname]),pathnameBase:hK(qo([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=qo([a,d.pathnameBase]))}return s}function sK(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=oK(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let x=o[d]||"";s=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const g=o[d];return p&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function oK(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),f2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function lK(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return f2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Vx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const cK=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uK=t=>cK.test(t);function dK(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?zl(t):t,a;if(n)if(uK(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),f2(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?a=Kk(n.substring(1),"/"):a=Kk(n,e)}else a=e;return{pathname:a,search:pK(r),hash:mK(i)}}function Kk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function P6(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fK(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ux(t,e){let n=fK(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Bx(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=zl(t):(i=_h({},t),En(!i.pathname||!i.pathname.includes("?"),P6("?","pathname","search",i)),En(!i.pathname||!i.pathname.includes("#"),P6("#","pathname","hash",i)),En(!i.search||!i.search.includes("#"),P6("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}o=d>=0?e[d]:"/"}let l=dK(i,o),c=s&&s!=="/"&&s.endsWith("/"),u=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const qo=t=>t.join("/").replace(/\/\/+/g,"/"),hK=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pK=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mK=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gK(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const sD=["post","put","patch","delete"];new Set(sD);const yK=["get",...sD];new Set(yK);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kh(){return kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kh.apply(this,arguments)}const zx=I.createContext(null),vK=I.createContext(null),p0=I.createContext(null),h2=I.createContext(null),eo=I.createContext({outlet:null,matches:[],isDataRoute:!1}),oD=I.createContext(null);function xK(t,e){let{relative:n}=e===void 0?{}:e;Qu()||En(!1);let{basename:r,navigator:i}=I.useContext(p0),{hash:a,pathname:s,search:o}=cD(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:qo([r,s])),i.createHref({pathname:l,search:o,hash:a})}function Qu(){return I.useContext(h2)!=null}function to(){return Qu()||En(!1),I.useContext(h2).location}function lD(t){I.useContext(p0).static||I.useLayoutEffect(t)}function Lp(){let{isDataRoute:t}=I.useContext(eo);return t?MK():bK()}function bK(){Qu()||En(!1);let t=I.useContext(zx),{basename:e,future:n,navigator:r}=I.useContext(p0),{matches:i}=I.useContext(eo),{pathname:a}=to(),s=JSON.stringify(Ux(i,n.v7_relativeSplatPath)),o=I.useRef(!1);return lD(()=>{o.current=!0}),I.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=Bx(c,JSON.parse(s),a,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:qo([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,s,a,t])}const wK=I.createContext(null);function _K(t){let e=I.useContext(eo).outlet;return e&&I.createElement(wK.Provider,{value:t},e)}function cD(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=I.useContext(p0),{matches:i}=I.useContext(eo),{pathname:a}=to(),s=JSON.stringify(Ux(i,r.v7_relativeSplatPath));return I.useMemo(()=>Bx(t,JSON.parse(s),a,n==="path"),[t,s,a,n])}function SK(t,e){return kK(t,e)}function kK(t,e,n,r){Qu()||En(!1);let{navigator:i}=I.useContext(p0),{matches:a}=I.useContext(eo),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=to(),u;if(e){var d;let v=typeof e=="string"?zl(e):e;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||En(!1),u=v}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=KG(t,{pathname:p}),x=AK(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:qo([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:qo([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,n,r);return e&&x?I.createElement(h2.Provider,{value:{location:kh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Co.Pop}},x):x}function EK(){let t=jK(),e=gK(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:i},n):null,null)}const NK=I.createElement(EK,null);class TK extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?I.createElement(eo.Provider,{value:this.props.routeContext},I.createElement(oD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PK(t){let{routeContext:e,match:n,children:r}=t,i=I.useContext(zx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(eo.Provider,{value:e},r)}function AK(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let u=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);u>=0||En(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=n,g=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,h)=>{let p,g=!1,x=null,v=null;n&&(p=o&&d.route.id?o[d.route.id]:void 0,x=d.route.errorElement||NK,l&&(c<0&&h===0?(DK("route-fallback"),g=!0,v=null):c===h&&(g=!0,v=d.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,h+1)),b=()=>{let w;return p?w=x:g?w=v:d.route.Component?w=I.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,I.createElement(PK,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?I.createElement(TK,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var uD=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(uD||{}),dD=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(dD||{});function IK(t){let e=I.useContext(zx);return e||En(!1),e}function CK(t){let e=I.useContext(vK);return e||En(!1),e}function OK(t){let e=I.useContext(eo);return e||En(!1),e}function fD(t){let e=OK(),n=e.matches[e.matches.length-1];return n.route.id||En(!1),n.route.id}function jK(){var t;let e=I.useContext(oD),n=CK(),r=fD();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function MK(){let{router:t}=IK(uD.UseNavigateStable),e=fD(dD.UseNavigateStable),n=I.useRef(!1);return lD(()=>{n.current=!0}),I.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,kh({fromRouteId:e},a)))},[t,e])}const Yk={};function DK(t,e,n){Yk[t]||(Yk[t]=!0)}function hD(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function p2(t){let{to:e,replace:n,state:r,relative:i}=t;Qu()||En(!1);let{future:a,static:s}=I.useContext(p0),{matches:o}=I.useContext(eo),{pathname:l}=to(),c=Lp(),u=Bx(e,Ux(o,a.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return I.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function Wx(t){return _K(t.context)}function ai(t){En(!1)}function pD(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Co.Pop,navigator:a,static:s=!1,future:o}=t;Qu()&&En(!1);let l=e.replace(/^\/*/,"/"),c=I.useMemo(()=>({basename:l,navigator:a,static:s,future:kh({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof r=="string"&&(r=zl(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:g="default"}=r,x=I.useMemo(()=>{let v=Vx(u,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:p,key:g},navigationType:i}},[l,u,d,h,p,g,i]);return x==null?null:I.createElement(p0.Provider,{value:c},I.createElement(h2.Provider,{children:n,value:x}))}function RK(t){let{children:e,location:n}=t;return SK(Vv(e),n)}new Promise(()=>{});function Vv(t,e){e===void 0&&(e=[]);let n=[];return I.Children.forEach(t,(r,i)=>{if(!I.isValidElement(r))return;let a=[...e,i];if(r.type===I.Fragment){n.push.apply(n,Vv(r.props.children,a));return}r.type!==ai&&En(!1),!r.props.index||!r.props.children||En(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Vv(r.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uv(){return Uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uv.apply(this,arguments)}function $K(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function LK(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FK(t,e){return t.button===0&&(!e||e==="_self")&&!LK(t)}function Bv(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function VK(t,e){let n=Bv(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}const UK=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],BK="6";try{window.__reactRouterVersion=BK}catch{}const zK="startTransition",Mm=jq[zK];function WK(t){let{basename:e,children:n,future:r,window:i}=t,a=I.useRef();a.current==null&&(a.current=qG({window:i,v5Compat:!0}));let s=a.current,[o,l]=I.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=I.useCallback(d=>{c&&Mm?Mm(()=>l(d)):l(d)},[l,c]);return I.useLayoutEffect(()=>s.listen(u),[s,u]),I.useEffect(()=>hD(r),[r]),I.createElement(pD,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})}function qK(t){let{basename:e,children:n,future:r,window:i}=t,a=I.useRef();a.current==null&&(a.current=HG({window:i,v5Compat:!0}));let s=a.current,[o,l]=I.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=I.useCallback(d=>{c&&Mm?Mm(()=>l(d)):l(d)},[l,c]);return I.useLayoutEffect(()=>s.listen(u),[s,u]),I.useEffect(()=>hD(r),[r]),I.createElement(pD,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})}const HK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GK=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KK=I.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=$K(e,UK),{basename:p}=I.useContext(p0),g,x=!1;if(typeof c=="string"&&GK.test(c)&&(g=c,HK))try{let w=new URL(window.location.href),k=c.startsWith("//")?new URL(w.protocol+c):new URL(c),E=Vx(k.pathname,p);k.origin===w.origin&&E!=null?c=E+k.search+k.hash:x=!0}catch{}let v=xK(c,{relative:i}),y=YK(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:d});function b(w){r&&r(w),w.defaultPrevented||y(w)}return I.createElement("a",Uv({},h,{href:g||v,onClick:x||a?r:b,ref:n,target:l}))});var Qk;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Qk||(Qk={}));var Xk;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Xk||(Xk={}));function YK(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=Lp(),c=to(),u=cD(t,{relative:s});return I.useCallback(d=>{if(FK(d,n)){d.preventDefault();let h=r!==void 0?r:Sh(c)===Sh(u);l(t,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,u,r,i,n,t,a,s,o])}function QK(t){let e=I.useRef(Bv(t)),n=I.useRef(!1),r=to(),i=I.useMemo(()=>VK(r.search,n.current?null:e.current),[r.search]),a=Lp(),s=I.useCallback((o,l)=>{const c=Bv(typeof o=="function"?o(i):o);n.current=!0,a("?"+c,l)},[a,i]);return[i,s]}/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XK=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mD=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>I.createElement("svg",{ref:l,...JK,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:mD("lucide",i),...o},[...s.map(([c,u])=>I.createElement(c,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=(t,e)=>{const n=I.forwardRef(({className:r,...i},a)=>I.createElement(ZK,{ref:a,iconNode:e,className:mD(`lucide-${XK(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=Le("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=Le("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=Le("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=Le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=Le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=Le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=Le("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=Le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=Le("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=Le("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=Le("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=Le("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=Le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=Le("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=Le("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=Le("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=Le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=Le("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=Le("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=Le("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=Le("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=Le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=Le("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=Le("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=Le("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=Le("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=Le("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=Le("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=Le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=Le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=Le("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=Le("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=Le("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=Le("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=Le("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=Le("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=Le("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=Le("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=Le("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=Le("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=Le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=Le("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=Le("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=Le("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=Le("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=Le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=Le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=Le("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=Le("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=Le("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=Le("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=Le("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=Le("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=Le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=Le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=Le("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=Le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=Le("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=Le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=Le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=Le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=Le("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=Le("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),_Y=()=>{};var oE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},SY=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},TD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=a>>2,d=(a&3)<<4|o>>4;let h=(o&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),r.push(n[u],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ND(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SY(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||c==null||d==null)throw new kY;const h=a<<2|o>>4;if(r.push(h),c!==64){const p=o<<4&240|c>>2;if(r.push(p),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kY extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EY=function(t){const e=ND(t);return TD.encodeByteArray(e,!0)},Rm=function(t){return EY(t).replace(/\./g,"")},PD=function(t){try{return TD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NY(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TY=()=>NY().__FIREBASE_DEFAULTS__,PY=()=>{if(typeof process>"u"||typeof oE>"u")return;const t=oE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AY=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&PD(t[1]);return e&&JSON.parse(e)},g2=()=>{try{return _Y()||TY()||PY()||AY()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},AD=t=>{var e,n;return(n=(e=g2())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},ID=t=>{const e=AD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},CD=()=>{var t;return(t=g2())==null?void 0:t.config},OD=t=>{var e;return(e=g2())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IY{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Yx(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Rm(JSON.stringify(n)),Rm(JSON.stringify(s)),""].join(".")}const Vf={};function CY(){const t={prod:[],emulator:[]};for(const e of Object.keys(Vf))Vf[e]?t.emulator.push(e):t.prod.push(e);return t}function OY(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let lE=!1;function Qx(t,e){if(typeof window>"u"||typeof document>"u"||!m0(window.location.host)||Vf[t]===e||Vf[t]||lE)return;Vf[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",a=CY().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{lE=!0,s()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=OY(r),p=n("text"),g=document.getElementById(p)||document.createElement("span"),x=n("learnmore"),v=document.getElementById(x)||document.createElement("a"),y=n("preprendIcon"),b=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;o(w),u(v,x);const k=c();l(b,y),w.append(b,g,v,k),document.body.appendChild(w)}a?(g.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jY(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_r())}function MY(){var e;const t=(e=g2())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DY(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function RY(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $Y(){const t=_r();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function LY(){return!MY()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DD(){try{return typeof indexedDB=="object"}catch{return!1}}function RD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}function FY(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VY="FirebaseError";class Ji extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=VY,Object.setPrototypeOf(this,Ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?UY(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new Ji(i,o,r)}}function UY(t,e){return t.replace(BY,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const BY=/\{\$([^}]+)}/g;function zY(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function r0(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(cE(a)&&cE(s)){if(!r0(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function cE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function lf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function cf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function WY(t,e){const n=new qY(t,e);return n.subscribe.bind(n)}class qY{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");HY(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=A6),i.error===void 0&&(i.error=A6),i.complete===void 0&&(i.complete=A6);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HY(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function A6(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GY=1e3,KY=2,YY=4*60*60*1e3,QY=.5;function uE(t,e=GY,n=KY){const r=e*Math.pow(n,t),i=Math.round(QY*r*(Math.random()-.5)*2);return Math.min(YY,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class Yi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XY{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new IY;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZY(e))try{this.getOrInitializeService({instanceIdentifier:F0})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=F0){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=F0){return this.instances.has(e)}getOptions(e=F0){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JY(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=F0){return this.component?this.component.multipleInstances?e:F0:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JY(t){return t===F0?void 0:t}function ZY(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new XY(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ft||(ft={}));const tQ={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},nQ=ft.INFO,rQ={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},iQ=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=rQ[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let y2=class{constructor(e){this.name=e,this._logLevel=nQ,this._logHandler=iQ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tQ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...e),this._logHandler(this,ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...e),this._logHandler(this,ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...e),this._logHandler(this,ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...e),this._logHandler(this,ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...e),this._logHandler(this,ft.ERROR,...e)}};const aQ=(t,e)=>e.some(n=>t instanceof n);let dE,fE;function sQ(){return dE||(dE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oQ(){return fE||(fE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $D=new WeakMap,Wv=new WeakMap,LD=new WeakMap,I6=new WeakMap,Xx=new WeakMap;function lQ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(Ko(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&$D.set(n,t)}).catch(()=>{}),Xx.set(e,t),e}function cQ(t){if(Wv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});Wv.set(t,e)}let qv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ko(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uQ(t){qv=t(qv)}function dQ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(C6(this),e,...n);return LD.set(r,e.sort?e.sort():[e]),Ko(r)}:oQ().includes(t)?function(...e){return t.apply(C6(this),e),Ko($D.get(this))}:function(...e){return Ko(t.apply(C6(this),e))}}function fQ(t){return typeof t=="function"?dQ(t):(t instanceof IDBTransaction&&cQ(t),aQ(t,sQ())?new Proxy(t,qv):t)}function Ko(t){if(t instanceof IDBRequest)return lQ(t);if(I6.has(t))return I6.get(t);const e=fQ(t);return e!==t&&(I6.set(t,e),Xx.set(e,t)),e}const C6=t=>Xx.get(t);function FD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=Ko(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Ko(s.result),l.oldVersion,l.newVersion,Ko(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const hQ=["get","getKey","getAll","getAllKeys","count"],pQ=["put","add","delete","clear"],O6=new Map;function hE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(O6.get(e))return O6.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=pQ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hQ.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return O6.set(e,a),a}uQ(t=>({...t,get:(e,n,r)=>hE(e,n)||t.get(e,n,r),has:(e,n)=>!!hE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gQ(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function gQ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hv="@firebase/app",pE="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new y2("@firebase/app"),yQ="@firebase/app-compat",vQ="@firebase/analytics-compat",xQ="@firebase/analytics",bQ="@firebase/app-check-compat",wQ="@firebase/app-check",_Q="@firebase/auth",SQ="@firebase/auth-compat",kQ="@firebase/database",EQ="@firebase/data-connect",NQ="@firebase/database-compat",TQ="@firebase/functions",PQ="@firebase/functions-compat",AQ="@firebase/installations",IQ="@firebase/installations-compat",CQ="@firebase/messaging",OQ="@firebase/messaging-compat",jQ="@firebase/performance",MQ="@firebase/performance-compat",DQ="@firebase/remote-config",RQ="@firebase/remote-config-compat",$Q="@firebase/storage",LQ="@firebase/storage-compat",FQ="@firebase/firestore",VQ="@firebase/ai",UQ="@firebase/firestore-compat",BQ="firebase",zQ="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="[DEFAULT]",WQ={[Hv]:"fire-core",[yQ]:"fire-core-compat",[xQ]:"fire-analytics",[vQ]:"fire-analytics-compat",[wQ]:"fire-app-check",[bQ]:"fire-app-check-compat",[_Q]:"fire-auth",[SQ]:"fire-auth-compat",[kQ]:"fire-rtdb",[EQ]:"fire-data-connect",[NQ]:"fire-rtdb-compat",[TQ]:"fire-fn",[PQ]:"fire-fn-compat",[AQ]:"fire-iid",[IQ]:"fire-iid-compat",[CQ]:"fire-fcm",[OQ]:"fire-fcm-compat",[jQ]:"fire-perf",[MQ]:"fire-perf-compat",[DQ]:"fire-rc",[RQ]:"fire-rc-compat",[$Q]:"fire-gcs",[LQ]:"fire-gcs-compat",[FQ]:"fire-fst",[UQ]:"fire-fst-compat",[VQ]:"fire-vertex","fire-js":"fire-js",[BQ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m=new Map,qQ=new Map,Kv=new Map;function mE(t,e){try{t.container.addComponent(e)}catch(n){zs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ea(t){const e=t.name;if(Kv.has(e))return zs.debug(`There were multiple attempts to register component ${e}.`),!1;Kv.set(e,t);for(const n of $m.values())mE(n,t);for(const n of qQ.values())mE(n,t);return!0}function g0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HQ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yo=new ql("app","Firebase",HQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GQ{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=zQ;function VD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Gv,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Yo.create("bad-app-name",{appName:String(i)});if(n||(n=CD()),!n)throw Yo.create("no-options");const a=$m.get(i);if(a){if(r0(n,a.options)&&r0(r,a.config))return a;throw Yo.create("duplicate-app",{appName:i})}const s=new eQ(i);for(const l of Kv.values())s.addComponent(l);const o=new GQ(n,r,s);return $m.set(i,o),o}function v2(t=Gv){const e=$m.get(t);if(!e&&t===Gv&&CD())return VD();if(!e)throw Yo.create("no-app",{appName:t});return e}function Zr(t,e,n){let r=WQ[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zs.warn(s.join(" "));return}Ea(new Yi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KQ="firebase-heartbeat-database",YQ=1,Nh="firebase-heartbeat-store";let j6=null;function UD(){return j6||(j6=FD(KQ,YQ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Nh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yo.create("idb-open",{originalErrorMessage:t.message})})),j6}async function QQ(t){try{const n=(await UD()).transaction(Nh),r=await n.objectStore(Nh).get(BD(t));return await n.done,r}catch(e){if(e instanceof Ji)zs.warn(e.message);else{const n=Yo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zs.warn(n.message)}}}async function gE(t,e){try{const r=(await UD()).transaction(Nh,"readwrite");await r.objectStore(Nh).put(e,BD(t)),await r.done}catch(n){if(n instanceof Ji)zs.warn(n.message);else{const r=Yo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zs.warn(r.message)}}}function BD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XQ=1024,JQ=30;class ZQ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tX(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=yE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>JQ){const s=nX(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){zs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=yE(),{heartbeatsToSend:r,unsentEntries:i}=eX(this._heartbeatsCache.heartbeats),a=Rm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return zs.warn(n),""}}}function yE(){return new Date().toISOString().substring(0,10)}function eX(t,e=XQ){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),vE(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class tX{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DD()?RD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QQ(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return gE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return gE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function vE(t){return Rm(JSON.stringify({version:2,heartbeats:t})).length}function nX(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rX(t){Ea(new Yi("platform-logger",e=>new mQ(e),"PRIVATE")),Ea(new Yi("heartbeat",e=>new ZQ(e),"PRIVATE")),Zr(Hv,pE,t),Zr(Hv,pE,"esm2020"),Zr("fire-js","")}rX("");var xE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qo,zD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,N){function P(){}P.prototype=N.prototype,_.F=N.prototype,_.prototype=new P,_.prototype.constructor=_,_.D=function(A,C,O){for(var j=Array(arguments.length-2),R=2;R<arguments.length;R++)j[R-2]=arguments[R];return N.prototype[C].apply(A,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,N,P){P||(P=0);const A=Array(16);if(typeof N=="string")for(var C=0;C<16;++C)A[C]=N.charCodeAt(P++)|N.charCodeAt(P++)<<8|N.charCodeAt(P++)<<16|N.charCodeAt(P++)<<24;else for(C=0;C<16;++C)A[C]=N[P++]|N[P++]<<8|N[P++]<<16|N[P++]<<24;N=_.g[0],P=_.g[1],C=_.g[2];let O=_.g[3],j;j=N+(O^P&(C^O))+A[0]+3614090360&4294967295,N=P+(j<<7&4294967295|j>>>25),j=O+(C^N&(P^C))+A[1]+3905402710&4294967295,O=N+(j<<12&4294967295|j>>>20),j=C+(P^O&(N^P))+A[2]+606105819&4294967295,C=O+(j<<17&4294967295|j>>>15),j=P+(N^C&(O^N))+A[3]+3250441966&4294967295,P=C+(j<<22&4294967295|j>>>10),j=N+(O^P&(C^O))+A[4]+4118548399&4294967295,N=P+(j<<7&4294967295|j>>>25),j=O+(C^N&(P^C))+A[5]+1200080426&4294967295,O=N+(j<<12&4294967295|j>>>20),j=C+(P^O&(N^P))+A[6]+2821735955&4294967295,C=O+(j<<17&4294967295|j>>>15),j=P+(N^C&(O^N))+A[7]+4249261313&4294967295,P=C+(j<<22&4294967295|j>>>10),j=N+(O^P&(C^O))+A[8]+1770035416&4294967295,N=P+(j<<7&4294967295|j>>>25),j=O+(C^N&(P^C))+A[9]+2336552879&4294967295,O=N+(j<<12&4294967295|j>>>20),j=C+(P^O&(N^P))+A[10]+4294925233&4294967295,C=O+(j<<17&4294967295|j>>>15),j=P+(N^C&(O^N))+A[11]+2304563134&4294967295,P=C+(j<<22&4294967295|j>>>10),j=N+(O^P&(C^O))+A[12]+1804603682&4294967295,N=P+(j<<7&4294967295|j>>>25),j=O+(C^N&(P^C))+A[13]+4254626195&4294967295,O=N+(j<<12&4294967295|j>>>20),j=C+(P^O&(N^P))+A[14]+2792965006&4294967295,C=O+(j<<17&4294967295|j>>>15),j=P+(N^C&(O^N))+A[15]+1236535329&4294967295,P=C+(j<<22&4294967295|j>>>10),j=N+(C^O&(P^C))+A[1]+4129170786&4294967295,N=P+(j<<5&4294967295|j>>>27),j=O+(P^C&(N^P))+A[6]+3225465664&4294967295,O=N+(j<<9&4294967295|j>>>23),j=C+(N^P&(O^N))+A[11]+643717713&4294967295,C=O+(j<<14&4294967295|j>>>18),j=P+(O^N&(C^O))+A[0]+3921069994&4294967295,P=C+(j<<20&4294967295|j>>>12),j=N+(C^O&(P^C))+A[5]+3593408605&4294967295,N=P+(j<<5&4294967295|j>>>27),j=O+(P^C&(N^P))+A[10]+38016083&4294967295,O=N+(j<<9&4294967295|j>>>23),j=C+(N^P&(O^N))+A[15]+3634488961&4294967295,C=O+(j<<14&4294967295|j>>>18),j=P+(O^N&(C^O))+A[4]+3889429448&4294967295,P=C+(j<<20&4294967295|j>>>12),j=N+(C^O&(P^C))+A[9]+568446438&4294967295,N=P+(j<<5&4294967295|j>>>27),j=O+(P^C&(N^P))+A[14]+3275163606&4294967295,O=N+(j<<9&4294967295|j>>>23),j=C+(N^P&(O^N))+A[3]+4107603335&4294967295,C=O+(j<<14&4294967295|j>>>18),j=P+(O^N&(C^O))+A[8]+1163531501&4294967295,P=C+(j<<20&4294967295|j>>>12),j=N+(C^O&(P^C))+A[13]+2850285829&4294967295,N=P+(j<<5&4294967295|j>>>27),j=O+(P^C&(N^P))+A[2]+4243563512&4294967295,O=N+(j<<9&4294967295|j>>>23),j=C+(N^P&(O^N))+A[7]+1735328473&4294967295,C=O+(j<<14&4294967295|j>>>18),j=P+(O^N&(C^O))+A[12]+2368359562&4294967295,P=C+(j<<20&4294967295|j>>>12),j=N+(P^C^O)+A[5]+4294588738&4294967295,N=P+(j<<4&4294967295|j>>>28),j=O+(N^P^C)+A[8]+2272392833&4294967295,O=N+(j<<11&4294967295|j>>>21),j=C+(O^N^P)+A[11]+1839030562&4294967295,C=O+(j<<16&4294967295|j>>>16),j=P+(C^O^N)+A[14]+4259657740&4294967295,P=C+(j<<23&4294967295|j>>>9),j=N+(P^C^O)+A[1]+2763975236&4294967295,N=P+(j<<4&4294967295|j>>>28),j=O+(N^P^C)+A[4]+1272893353&4294967295,O=N+(j<<11&4294967295|j>>>21),j=C+(O^N^P)+A[7]+4139469664&4294967295,C=O+(j<<16&4294967295|j>>>16),j=P+(C^O^N)+A[10]+3200236656&4294967295,P=C+(j<<23&4294967295|j>>>9),j=N+(P^C^O)+A[13]+681279174&4294967295,N=P+(j<<4&4294967295|j>>>28),j=O+(N^P^C)+A[0]+3936430074&4294967295,O=N+(j<<11&4294967295|j>>>21),j=C+(O^N^P)+A[3]+3572445317&4294967295,C=O+(j<<16&4294967295|j>>>16),j=P+(C^O^N)+A[6]+76029189&4294967295,P=C+(j<<23&4294967295|j>>>9),j=N+(P^C^O)+A[9]+3654602809&4294967295,N=P+(j<<4&4294967295|j>>>28),j=O+(N^P^C)+A[12]+3873151461&4294967295,O=N+(j<<11&4294967295|j>>>21),j=C+(O^N^P)+A[15]+530742520&4294967295,C=O+(j<<16&4294967295|j>>>16),j=P+(C^O^N)+A[2]+3299628645&4294967295,P=C+(j<<23&4294967295|j>>>9),j=N+(C^(P|~O))+A[0]+4096336452&4294967295,N=P+(j<<6&4294967295|j>>>26),j=O+(P^(N|~C))+A[7]+1126891415&4294967295,O=N+(j<<10&4294967295|j>>>22),j=C+(N^(O|~P))+A[14]+2878612391&4294967295,C=O+(j<<15&4294967295|j>>>17),j=P+(O^(C|~N))+A[5]+4237533241&4294967295,P=C+(j<<21&4294967295|j>>>11),j=N+(C^(P|~O))+A[12]+1700485571&4294967295,N=P+(j<<6&4294967295|j>>>26),j=O+(P^(N|~C))+A[3]+2399980690&4294967295,O=N+(j<<10&4294967295|j>>>22),j=C+(N^(O|~P))+A[10]+4293915773&4294967295,C=O+(j<<15&4294967295|j>>>17),j=P+(O^(C|~N))+A[1]+2240044497&4294967295,P=C+(j<<21&4294967295|j>>>11),j=N+(C^(P|~O))+A[8]+1873313359&4294967295,N=P+(j<<6&4294967295|j>>>26),j=O+(P^(N|~C))+A[15]+4264355552&4294967295,O=N+(j<<10&4294967295|j>>>22),j=C+(N^(O|~P))+A[6]+2734768916&4294967295,C=O+(j<<15&4294967295|j>>>17),j=P+(O^(C|~N))+A[13]+1309151649&4294967295,P=C+(j<<21&4294967295|j>>>11),j=N+(C^(P|~O))+A[4]+4149444226&4294967295,N=P+(j<<6&4294967295|j>>>26),j=O+(P^(N|~C))+A[11]+3174756917&4294967295,O=N+(j<<10&4294967295|j>>>22),j=C+(N^(O|~P))+A[2]+718787259&4294967295,C=O+(j<<15&4294967295|j>>>17),j=P+(O^(C|~N))+A[9]+3951481745&4294967295,_.g[0]=_.g[0]+N&4294967295,_.g[1]=_.g[1]+(C+(j<<21&4294967295|j>>>11))&4294967295,_.g[2]=_.g[2]+C&4294967295,_.g[3]=_.g[3]+O&4294967295}r.prototype.v=function(_,N){N===void 0&&(N=_.length);const P=N-this.blockSize,A=this.C;let C=this.h,O=0;for(;O<N;){if(C==0)for(;O<=P;)i(this,_,O),O+=this.blockSize;if(typeof _=="string"){for(;O<N;)if(A[C++]=_.charCodeAt(O++),C==this.blockSize){i(this,A),C=0;break}}else for(;O<N;)if(A[C++]=_[O++],C==this.blockSize){i(this,A),C=0;break}}this.h=C,this.o+=N},r.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var N=1;N<_.length-8;++N)_[N]=0;N=this.o*8;for(var P=_.length-8;P<_.length;++P)_[P]=N&255,N/=256;for(this.v(_),_=Array(16),N=0,P=0;P<4;++P)for(let A=0;A<32;A+=8)_[N++]=this.g[P]>>>A&255;return _};function a(_,N){var P=o;return Object.prototype.hasOwnProperty.call(P,_)?P[_]:P[_]=N(_)}function s(_,N){this.h=N;const P=[];let A=!0;for(let C=_.length-1;C>=0;C--){const O=_[C]|0;A&&O==N||(P[C]=O,A=!1)}this.g=P}var o={};function l(_){return-128<=_&&_<128?a(_,function(N){return new s([N|0],N<0?-1:0)}):new s([_|0],_<0?-1:0)}function c(_){if(isNaN(_)||!isFinite(_))return d;if(_<0)return v(c(-_));const N=[];let P=1;for(let A=0;_>=P;A++)N[A]=_/P|0,P*=4294967296;return new s(N,0)}function u(_,N){if(_.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(_.charAt(0)=="-")return v(u(_.substring(1),N));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=c(Math.pow(N,8));let A=d;for(let O=0;O<_.length;O+=8){var C=Math.min(8,_.length-O);const j=parseInt(_.substring(O,O+C),N);C<8?(C=c(Math.pow(N,C)),A=A.j(C).add(c(j))):(A=A.j(P),A=A.add(c(j)))}return A}var d=l(0),h=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(x(this))return-v(this).m();let _=0,N=1;for(let P=0;P<this.g.length;P++){const A=this.i(P);_+=(A>=0?A:4294967296+A)*N,N*=4294967296}return _},t.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(g(this))return"0";if(x(this))return"-"+v(this).toString(_);const N=c(Math.pow(_,6));var P=this;let A="";for(;;){const C=k(P,N).g;P=y(P,C.j(N));let O=((P.g.length>0?P.g[0]:P.h)>>>0).toString(_);if(P=C,g(P))return O+A;for(;O.length<6;)O="0"+O;A=O+A}},t.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function g(_){if(_.h!=0)return!1;for(let N=0;N<_.g.length;N++)if(_.g[N]!=0)return!1;return!0}function x(_){return _.h==-1}t.l=function(_){return _=y(this,_),x(_)?-1:g(_)?0:1};function v(_){const N=_.g.length,P=[];for(let A=0;A<N;A++)P[A]=~_.g[A];return new s(P,~_.h).add(h)}t.abs=function(){return x(this)?v(this):this},t.add=function(_){const N=Math.max(this.g.length,_.g.length),P=[];let A=0;for(let C=0;C<=N;C++){let O=A+(this.i(C)&65535)+(_.i(C)&65535),j=(O>>>16)+(this.i(C)>>>16)+(_.i(C)>>>16);A=j>>>16,O&=65535,j&=65535,P[C]=j<<16|O}return new s(P,P[P.length-1]&-2147483648?-1:0)};function y(_,N){return _.add(v(N))}t.j=function(_){if(g(this)||g(_))return d;if(x(this))return x(_)?v(this).j(v(_)):v(v(this).j(_));if(x(_))return v(this.j(v(_)));if(this.l(p)<0&&_.l(p)<0)return c(this.m()*_.m());const N=this.g.length+_.g.length,P=[];for(var A=0;A<2*N;A++)P[A]=0;for(A=0;A<this.g.length;A++)for(let C=0;C<_.g.length;C++){const O=this.i(A)>>>16,j=this.i(A)&65535,R=_.i(C)>>>16,D=_.i(C)&65535;P[2*A+2*C]+=j*D,b(P,2*A+2*C),P[2*A+2*C+1]+=O*D,b(P,2*A+2*C+1),P[2*A+2*C+1]+=j*R,b(P,2*A+2*C+1),P[2*A+2*C+2]+=O*R,b(P,2*A+2*C+2)}for(_=0;_<N;_++)P[_]=P[2*_+1]<<16|P[2*_];for(_=N;_<2*N;_++)P[_]=0;return new s(P,0)};function b(_,N){for(;(_[N]&65535)!=_[N];)_[N+1]+=_[N]>>>16,_[N]&=65535,N++}function w(_,N){this.g=_,this.h=N}function k(_,N){if(g(N))throw Error("division by zero");if(g(_))return new w(d,d);if(x(_))return N=k(v(_),N),new w(v(N.g),v(N.h));if(x(N))return N=k(_,v(N)),new w(v(N.g),N.h);if(_.g.length>30){if(x(_)||x(N))throw Error("slowDivide_ only works with positive integers.");for(var P=h,A=N;A.l(_)<=0;)P=E(P),A=E(A);var C=S(P,1),O=S(A,1);for(A=S(A,2),P=S(P,2);!g(A);){var j=O.add(A);j.l(_)<=0&&(C=C.add(P),O=j),A=S(A,1),P=S(P,1)}return N=y(_,C.j(N)),new w(C,N)}for(C=d;_.l(N)>=0;){for(P=Math.max(1,Math.floor(_.m()/N.m())),A=Math.ceil(Math.log(P)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),O=c(P),j=O.j(N);x(j)||j.l(_)>0;)P-=A,O=c(P),j=O.j(N);g(O)&&(O=h),C=C.add(O),_=y(_,j)}return new w(C,_)}t.B=function(_){return k(this,_).h},t.and=function(_){const N=Math.max(this.g.length,_.g.length),P=[];for(let A=0;A<N;A++)P[A]=this.i(A)&_.i(A);return new s(P,this.h&_.h)},t.or=function(_){const N=Math.max(this.g.length,_.g.length),P=[];for(let A=0;A<N;A++)P[A]=this.i(A)|_.i(A);return new s(P,this.h|_.h)},t.xor=function(_){const N=Math.max(this.g.length,_.g.length),P=[];for(let A=0;A<N;A++)P[A]=this.i(A)^_.i(A);return new s(P,this.h^_.h)};function E(_){const N=_.g.length+1,P=[];for(let A=0;A<N;A++)P[A]=_.i(A)<<1|_.i(A-1)>>>31;return new s(P,_.h)}function S(_,N){const P=N>>5;N%=32;const A=_.g.length-P,C=[];for(let O=0;O<A;O++)C[O]=N>0?_.i(O+P)>>>N|_.i(O+P+1)<<32-N:_.i(O+P);return new s(C,_.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,zD=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,Qo=s}).apply(typeof xE<"u"?xE:typeof self<"u"?self:typeof window<"u"?window:{});var W4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WD,uf,qD,z3,Yv,HD,GD,KD;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof W4=="object"&&W4];for(var T=0;T<m.length;++T){var M=m[T];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var r=n(this);function i(m,T){if(T)e:{var M=r;m=m.split(".");for(var L=0;L<m.length-1;L++){var X=m[L];if(!(X in M))break e;M=M[X]}m=m[m.length-1],L=M[m],T=T(L),T!=L&&T!=null&&e(M,m,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(m){return m||function(T){var M=[],L;for(L in T)Object.prototype.hasOwnProperty.call(T,L)&&M.push([L,T[L]]);return M}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function l(m,T,M){return m.call.apply(m.bind,arguments)}function c(m,T,M){return c=l,c.apply(null,arguments)}function u(m,T){var M=Array.prototype.slice.call(arguments,1);return function(){var L=M.slice();return L.push.apply(L,arguments),m.apply(this,L)}}function d(m,T){function M(){}M.prototype=T.prototype,m.Z=T.prototype,m.prototype=new M,m.prototype.constructor=m,m.Ob=function(L,X,ee){for(var Ne=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)Ne[ot-2]=arguments[ot];return T.prototype[X].apply(L,Ne)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function p(m){const T=m.length;if(T>0){const M=Array(T);for(let L=0;L<T;L++)M[L]=m[L];return M}return[]}function g(m,T){for(let L=1;L<arguments.length;L++){const X=arguments[L];var M=typeof X;if(M=M!="object"?M:X?Array.isArray(X)?"array":M:"null",M=="array"||M=="object"&&typeof X.length=="number"){M=m.length||0;const ee=X.length||0;m.length=M+ee;for(let Ne=0;Ne<ee;Ne++)m[M+Ne]=X[Ne]}else m.push(X)}}class x{constructor(T,M){this.i=T,this.j=M,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function v(m){s.setTimeout(()=>{throw m},0)}function y(){var m=_;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class b{constructor(){this.h=this.g=null}add(T,M){const L=w.get();L.set(T,M),this.h?this.h.next=L:this.g=L,this.h=L}}var w=new x(()=>new k,m=>m.reset());class k{constructor(){this.next=this.g=this.h=null}set(T,M){this.h=T,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let E,S=!1,_=new b,N=()=>{const m=Promise.resolve(void 0);E=()=>{m.then(P)}};function P(){for(var m;m=y();){try{m.h.call(m.g)}catch(M){v(M)}var T=w;T.j(m),T.h<100&&(T.h++,m.next=T.g,T.g=m)}S=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const M=()=>{};s.addEventListener("test",M,T),s.removeEventListener("test",M,T)}catch{}return m}();function j(m){return/^[\s\xa0]*$/.test(m)}function R(m,T){C.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,T)}d(R,C),R.prototype.init=function(m,T){const M=this.type=m.type,L=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget,T||(M=="mouseover"?T=m.fromElement:M=="mouseout"&&(T=m.toElement)),this.relatedTarget=T,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&R.Z.h.call(this)},R.prototype.h=function(){R.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var D="closure_listenable_"+(Math.random()*1e6|0),$=0;function U(m,T,M,L,X){this.listener=m,this.proxy=null,this.src=T,this.type=M,this.capture=!!L,this.ha=X,this.key=++$,this.da=this.fa=!1}function F(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function B(m,T,M){for(const L in m)T.call(M,m[L],L,m)}function z(m,T){for(const M in m)T.call(void 0,m[M],M,m)}function q(m){const T={};for(const M in m)T[M]=m[M];return T}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(m,T){let M,L;for(let X=1;X<arguments.length;X++){L=arguments[X];for(M in L)m[M]=L[M];for(let ee=0;ee<G.length;ee++)M=G[ee],Object.prototype.hasOwnProperty.call(L,M)&&(m[M]=L[M])}}function de(m){this.src=m,this.g={},this.h=0}de.prototype.add=function(m,T,M,L,X){const ee=m.toString();m=this.g[ee],m||(m=this.g[ee]=[],this.h++);const Ne=J(m,T,L,X);return Ne>-1?(T=m[Ne],M||(T.fa=!1)):(T=new U(T,this.src,ee,!!L,X),T.fa=M,m.push(T)),T};function ye(m,T){const M=T.type;if(M in m.g){var L=m.g[M],X=Array.prototype.indexOf.call(L,T,void 0),ee;(ee=X>=0)&&Array.prototype.splice.call(L,X,1),ee&&(F(T),m.g[M].length==0&&(delete m.g[M],m.h--))}}function J(m,T,M,L){for(let X=0;X<m.length;++X){const ee=m[X];if(!ee.da&&ee.listener==T&&ee.capture==!!M&&ee.ha==L)return X}return-1}var we="closure_lm_"+(Math.random()*1e6|0),ke={};function ne(m,T,M,L,X){if(Array.isArray(T)){for(let ee=0;ee<T.length;ee++)ne(m,T[ee],M,L,X);return null}return M=kt(M),m&&m[D]?m.J(T,M,o(L)?!!L.capture:!1,X):ve(m,T,M,!1,L,X)}function ve(m,T,M,L,X,ee){if(!T)throw Error("Invalid event type");const Ne=o(X)?!!X.capture:!!X;let ot=fe(m);if(ot||(m[we]=ot=new de(m)),M=ot.add(T,M,L,Ne,ee),M.proxy)return M;if(L=Te(),M.proxy=L,L.src=m,L.listener=M,m.addEventListener)O||(X=Ne),X===void 0&&(X=!1),m.addEventListener(T.toString(),L,X);else if(m.attachEvent)m.attachEvent(ie(T.toString()),L);else if(m.addListener&&m.removeListener)m.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return M}function Te(){function m(M){return T.call(m.src,m.listener,M)}const T=Q;return m}function ae(m,T,M,L,X){if(Array.isArray(T))for(var ee=0;ee<T.length;ee++)ae(m,T[ee],M,L,X);else L=o(L)?!!L.capture:!!L,M=kt(M),m&&m[D]?(m=m.i,ee=String(T).toString(),ee in m.g&&(T=m.g[ee],M=J(T,M,L,X),M>-1&&(F(T[M]),Array.prototype.splice.call(T,M,1),T.length==0&&(delete m.g[ee],m.h--)))):m&&(m=fe(m))&&(T=m.g[T.toString()],m=-1,T&&(m=J(T,M,L,X)),(M=m>-1?T[m]:null)&&Be(M))}function Be(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[D])ye(T.i,m);else{var M=m.type,L=m.proxy;T.removeEventListener?T.removeEventListener(M,L,m.capture):T.detachEvent?T.detachEvent(ie(M),L):T.addListener&&T.removeListener&&T.removeListener(L),(M=fe(T))?(ye(M,m),M.h==0&&(M.src=null,T[we]=null)):F(m)}}}function ie(m){return m in ke?ke[m]:ke[m]="on"+m}function Q(m,T){if(m.da)m=!0;else{T=new R(T,this);const M=m.listener,L=m.ha||m.src;m.fa&&Be(m),m=M.call(L,T)}return m}function fe(m){return m=m[we],m instanceof de?m:null}var $e="__closure_events_fn_"+(Math.random()*1e9>>>0);function kt(m){return typeof m=="function"?m:(m[$e]||(m[$e]=function(T){return m.handleEvent(T)}),m[$e])}function je(){A.call(this),this.i=new de(this),this.M=this,this.G=null}d(je,A),je.prototype[D]=!0,je.prototype.removeEventListener=function(m,T,M,L){ae(this,m,T,M,L)};function Ue(m,T){var M,L=m.G;if(L)for(M=[];L;L=L.G)M.push(L);if(m=m.M,L=T.type||T,typeof T=="string")T=new C(T,m);else if(T instanceof C)T.target=T.target||m;else{var X=T;T=new C(L,m),te(T,X)}X=!0;let ee,Ne;if(M)for(Ne=M.length-1;Ne>=0;Ne--)ee=T.g=M[Ne],X=Z(ee,L,!0,T)&&X;if(ee=T.g=m,X=Z(ee,L,!0,T)&&X,X=Z(ee,L,!1,T)&&X,M)for(Ne=0;Ne<M.length;Ne++)ee=T.g=M[Ne],X=Z(ee,L,!1,T)&&X}je.prototype.N=function(){if(je.Z.N.call(this),this.i){var m=this.i;for(const T in m.g){const M=m.g[T];for(let L=0;L<M.length;L++)F(M[L]);delete m.g[T],m.h--}}this.G=null},je.prototype.J=function(m,T,M,L){return this.i.add(String(m),T,!1,M,L)},je.prototype.K=function(m,T,M,L){return this.i.add(String(m),T,!0,M,L)};function Z(m,T,M,L){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();let X=!0;for(let ee=0;ee<T.length;++ee){const Ne=T[ee];if(Ne&&!Ne.da&&Ne.capture==M){const ot=Ne.listener,jn=Ne.ha||Ne.src;Ne.fa&&ye(m.i,Ne),X=ot.call(jn,L)!==!1&&X}}return X&&!L.defaultPrevented}function ge(m,T){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=c(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:s.setTimeout(m,T||0)}function Ie(m){m.g=ge(()=>{m.g=null,m.i&&(m.i=!1,Ie(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class st extends A{constructor(T,M){super(),this.m=T,this.l=M,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Ie(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function et(m){A.call(this),this.h=m,this.g={}}d(et,A);var gt=[];function vt(m){B(m.g,function(T,M){this.g.hasOwnProperty(M)&&Be(T)},m),m.g={}}et.prototype.N=function(){et.Z.N.call(this),vt(this)},et.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var se=s.JSON.stringify,H=s.JSON.parse,ce=class{stringify(m){return s.JSON.stringify(m,void 0)}parse(m){return s.JSON.parse(m,void 0)}};function Se(){}function He(){}var en={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bn(){C.call(this,"d")}d(Bn,C);function xn(){C.call(this,"c")}d(xn,C);var bn={},cr=null;function re(){return cr=cr||new je}bn.Ia="serverreachability";function Ke(m){C.call(this,bn.Ia,m)}d(Ke,C);function Pe(m){const T=re();Ue(T,new Ke(T))}bn.STAT_EVENT="statevent";function Y(m,T){C.call(this,bn.STAT_EVENT,m),this.stat=T}d(Y,C);function K(m){const T=re();Ue(T,new Y(T,m))}bn.Ja="timingevent";function le(m,T){C.call(this,bn.Ja,m),this.size=T}d(le,C);function Ae(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){m()},T)}function Ee(){this.g=!0}Ee.prototype.ua=function(){this.g=!1};function ct(m,T,M,L,X,ee){m.info(function(){if(m.g)if(ee){var Ne="",ot=ee.split("&");for(let $t=0;$t<ot.length;$t++){var jn=ot[$t].split("=");if(jn.length>1){const zn=jn[0];jn=jn[1];const Ia=zn.split("_");Ne=Ia.length>=2&&Ia[1]=="type"?Ne+(zn+"="+jn+"&"):Ne+(zn+"=redacted&")}}}else Ne=null;else Ne=ee;return"XMLHTTP REQ ("+L+") [attempt "+X+"]: "+T+`
`+M+`
`+Ne})}function W(m,T,M,L,X,ee,Ne){m.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+X+"]: "+T+`
`+M+`
`+ee+" "+Ne})}function me(m,T,M,L){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+Qe(m,M)+(L?" "+L:"")})}function be(m,T){m.info(function(){return"TIMEOUT: "+T})}Ee.prototype.info=function(){};function Qe(m,T){if(!m.g)return T;if(!T)return null;try{const ee=JSON.parse(T);if(ee){for(m=0;m<ee.length;m++)if(Array.isArray(ee[m])){var M=ee[m];if(!(M.length<2)){var L=M[1];if(Array.isArray(L)&&!(L.length<1)){var X=L[0];if(X!="noop"&&X!="stop"&&X!="close")for(let Ne=1;Ne<L.length;Ne++)L[Ne]=""}}}}return se(ee)}catch{return T}}var Rt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fe={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wn;function Sr(){}d(Sr,Se),Sr.prototype.g=function(){return new XMLHttpRequest},wn=new Sr;function It(m){return encodeURIComponent(String(m))}function Ti(m){var T=1;m=m.split(":");const M=[];for(;T>0&&m.length;)M.push(m.shift()),T--;return m.length&&M.push(m.join(":")),M}function ri(m,T,M,L){this.j=m,this.i=T,this.l=M,this.S=L||1,this.V=new et(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new m4}function m4(){this.i=null,this.g="",this.h=!1}var g4={},z5={};function W5(m,T,M){m.M=1,m.A=v4(Aa(T)),m.u=M,m.R=!0,eS(m,null)}function eS(m,T){m.F=Date.now(),y4(m),m.B=Aa(m.A);var M=m.B,L=m.S;Array.isArray(L)||(L=[String(L)]),hS(M.i,"t",L),m.C=0,M=m.j.L,m.h=new m4,m.g=CS(m.j,M?T:null,!m.u),m.P>0&&(m.O=new st(c(m.Y,m,m.g),m.P)),T=m.V,M=m.g,L=m.ba;var X="readystatechange";Array.isArray(X)||(X&&(gt[0]=X.toString()),X=gt);for(let ee=0;ee<X.length;ee++){const Ne=ne(M,X[ee],L||T.handleEvent,!1,T.h||T);if(!Ne)break;T.g[Ne.key]=Ne}T=m.J?q(m.J):{},m.u?(m.v||(m.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,T)):(m.v="GET",m.g.ea(m.B,m.v,null,T)),Pe(),ct(m.i,m.v,m.B,m.l,m.S,m.u)}ri.prototype.ba=function(m){m=m.target;const T=this.O;T&&lo(m)==3?T.j():this.Y(m)},ri.prototype.Y=function(m){try{if(m==this.g)e:{const ot=lo(this.g),jn=this.g.ya(),$t=this.g.ca();if(!(ot<3)&&(ot!=3||this.g&&(this.h.h||this.g.la()||bS(this.g)))){this.K||ot!=4||jn==7||(jn==8||$t<=0?Pe(3):Pe(2)),q5(this);var T=this.g.ca();this.X=T;var M=eq(this);if(this.o=T==200,W(this.i,this.v,this.B,this.l,this.S,ot,T),this.o){if(this.U&&!this.L){t:{if(this.g){var L,X=this.g;if((L=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(L)){var ee=L;break t}}ee=null}if(m=ee)me(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,H5(this,m);else{this.o=!1,this.m=3,K(12),A0(this),xd(this);break e}}if(this.R){m=!0;let zn;for(;!this.K&&this.C<M.length;)if(zn=tq(this,M),zn==z5){ot==4&&(this.m=4,K(14),m=!1),me(this.i,this.l,null,"[Incomplete Response]");break}else if(zn==g4){this.m=4,K(15),me(this.i,this.l,M,"[Invalid Chunk]"),m=!1;break}else me(this.i,this.l,zn,null),H5(this,zn);if(tS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||M.length!=0||this.h.h||(this.m=1,K(16),m=!1),this.o=this.o&&m,!m)me(this.i,this.l,M,"[Invalid Chunked Response]"),A0(this),xd(this);else if(M.length>0&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.aa&&!Ne.P&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+M.length),e6(Ne),Ne.P=!0,K(11))}}else me(this.i,this.l,M,null),H5(this,M);ot==4&&A0(this),this.o&&!this.K&&(ot==4?TS(this.j,this):(this.o=!1,y4(this)))}else mq(this.g),T==400&&M.indexOf("Unknown SID")>0?(this.m=3,K(12)):(this.m=0,K(13)),A0(this),xd(this)}}}catch{}finally{}};function eq(m){if(!tS(m))return m.g.la();const T=bS(m.g);if(T==="")return"";let M="";const L=T.length,X=lo(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return A0(m),xd(m),"";m.h.i=new s.TextDecoder}for(let ee=0;ee<L;ee++)m.h.h=!0,M+=m.h.i.decode(T[ee],{stream:!(X&&ee==L-1)});return T.length=0,m.h.g+=M,m.C=0,m.h.g}function tS(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function tq(m,T){var M=m.C,L=T.indexOf(`
`,M);return L==-1?z5:(M=Number(T.substring(M,L)),isNaN(M)?g4:(L+=1,L+M>T.length?z5:(T=T.slice(L,L+M),m.C=L+M,T)))}ri.prototype.cancel=function(){this.K=!0,A0(this)};function y4(m){m.T=Date.now()+m.H,nS(m,m.H)}function nS(m,T){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Ae(c(m.aa,m),T)}function q5(m){m.D&&(s.clearTimeout(m.D),m.D=null)}ri.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(be(this.i,this.B),this.M!=2&&(Pe(),K(17)),A0(this),this.m=2,xd(this)):nS(this,this.T-m)};function xd(m){m.j.I==0||m.K||TS(m.j,m)}function A0(m){q5(m);var T=m.O;T&&typeof T.dispose=="function"&&T.dispose(),m.O=null,vt(m.V),m.g&&(T=m.g,m.g=null,T.abort(),T.dispose())}function H5(m,T){try{var M=m.j;if(M.I!=0&&(M.g==m||G5(M.h,m))){if(!m.L&&G5(M.h,m)&&M.I==3){try{var L=M.Ba.g.parse(T)}catch{L=null}if(Array.isArray(L)&&L.length==3){var X=L;if(X[0]==0){e:if(!M.v){if(M.g)if(M.g.F+3e3<m.F)S4(M),w4(M);else break e;Z5(M),K(18)}}else M.xa=X[1],0<M.xa-M.K&&X[2]<37500&&M.F&&M.A==0&&!M.C&&(M.C=Ae(c(M.Va,M),6e3));aS(M.h)<=1&&M.ta&&(M.ta=void 0)}else C0(M,11)}else if((m.L||M.g==m)&&S4(M),!j(T))for(X=M.Ba.g.parse(T),T=0;T<X.length;T++){let $t=X[T];const zn=$t[0];if(!(zn<=M.K))if(M.K=zn,$t=$t[1],M.I==2)if($t[0]=="c"){M.M=$t[1],M.ba=$t[2];const Ia=$t[3];Ia!=null&&(M.ka=Ia,M.j.info("VER="+M.ka));const O0=$t[4];O0!=null&&(M.za=O0,M.j.info("SVER="+M.za));const co=$t[5];co!=null&&typeof co=="number"&&co>0&&(L=1.5*co,M.O=L,M.j.info("backChannelRequestTimeoutMs_="+L)),L=M;const uo=m.g;if(uo){const E4=uo.g?uo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E4){var ee=L.h;ee.g||E4.indexOf("spdy")==-1&&E4.indexOf("quic")==-1&&E4.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(K5(ee,ee.h),ee.h=null))}if(L.G){const t6=uo.g?uo.g.getResponseHeader("X-HTTP-Session-Id"):null;t6&&(L.wa=t6,qt(L.J,L.G,t6))}}M.I=3,M.l&&M.l.ra(),M.aa&&(M.T=Date.now()-m.F,M.j.info("Handshake RTT: "+M.T+"ms")),L=M;var Ne=m;if(L.na=IS(L,L.L?L.ba:null,L.W),Ne.L){sS(L.h,Ne);var ot=Ne,jn=L.O;jn&&(ot.H=jn),ot.D&&(q5(ot),y4(ot)),L.g=Ne}else ES(L);M.i.length>0&&_4(M)}else $t[0]!="stop"&&$t[0]!="close"||C0(M,7);else M.I==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?C0(M,7):J5(M):$t[0]!="noop"&&M.l&&M.l.qa($t),M.A=0)}}Pe(4)}catch{}}var nq=class{constructor(m,T){this.g=m,this.map=T}};function rS(m){this.l=m||10,s.PerformanceNavigationTiming?(m=s.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function iS(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function aS(m){return m.h?1:m.g?m.g.size:0}function G5(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function K5(m,T){m.g?m.g.add(T):m.h=T}function sS(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}rS.prototype.cancel=function(){if(this.i=oS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function oS(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const M of m.g.values())T=T.concat(M.G);return T}return p(m.i)}var lS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rq(m,T){if(m){m=m.split("&");for(let M=0;M<m.length;M++){const L=m[M].indexOf("=");let X,ee=null;L>=0?(X=m[M].substring(0,L),ee=m[M].substring(L+1)):X=m[M],T(X,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function so(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;m instanceof so?(this.l=m.l,bd(this,m.j),this.o=m.o,this.g=m.g,wd(this,m.u),this.h=m.h,Y5(this,pS(m.i)),this.m=m.m):m&&(T=String(m).match(lS))?(this.l=!1,bd(this,T[1]||"",!0),this.o=_d(T[2]||""),this.g=_d(T[3]||"",!0),wd(this,T[4]),this.h=_d(T[5]||"",!0),Y5(this,T[6]||"",!0),this.m=_d(T[7]||"")):(this.l=!1,this.i=new kd(null,this.l))}so.prototype.toString=function(){const m=[];var T=this.j;T&&m.push(Sd(T,cS,!0),":");var M=this.g;return(M||T=="file")&&(m.push("//"),(T=this.o)&&m.push(Sd(T,cS,!0),"@"),m.push(It(M).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.u,M!=null&&m.push(":",String(M))),(M=this.h)&&(this.g&&M.charAt(0)!="/"&&m.push("/"),m.push(Sd(M,M.charAt(0)=="/"?sq:aq,!0))),(M=this.i.toString())&&m.push("?",M),(M=this.m)&&m.push("#",Sd(M,lq)),m.join("")},so.prototype.resolve=function(m){const T=Aa(this);let M=!!m.j;M?bd(T,m.j):M=!!m.o,M?T.o=m.o:M=!!m.g,M?T.g=m.g:M=m.u!=null;var L=m.h;if(M)wd(T,m.u);else if(M=!!m.h){if(L.charAt(0)!="/")if(this.g&&!this.h)L="/"+L;else{var X=T.h.lastIndexOf("/");X!=-1&&(L=T.h.slice(0,X+1)+L)}if(X=L,X==".."||X==".")L="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){L=X.lastIndexOf("/",0)==0,X=X.split("/");const ee=[];for(let Ne=0;Ne<X.length;){const ot=X[Ne++];ot=="."?L&&Ne==X.length&&ee.push(""):ot==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),L&&Ne==X.length&&ee.push("")):(ee.push(ot),L=!0)}L=ee.join("/")}else L=X}return M?T.h=L:M=m.i.toString()!=="",M?Y5(T,pS(m.i)):M=!!m.m,M&&(T.m=m.m),T};function Aa(m){return new so(m)}function bd(m,T,M){m.j=M?_d(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function wd(m,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);m.u=T}else m.u=null}function Y5(m,T,M){T instanceof kd?(m.i=T,cq(m.i,m.l)):(M||(T=Sd(T,oq)),m.i=new kd(T,m.l))}function qt(m,T,M){m.i.set(T,M)}function v4(m){return qt(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function _d(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Sd(m,T,M){return typeof m=="string"?(m=encodeURI(m).replace(T,iq),M&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function iq(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var cS=/[#\/\?@]/g,aq=/[#\?:]/g,sq=/[#\?]/g,oq=/[#\?@]/g,lq=/#/g;function kd(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function I0(m){m.g||(m.g=new Map,m.h=0,m.i&&rq(m.i,function(T,M){m.add(decodeURIComponent(T.replace(/\+/g," ")),M)}))}t=kd.prototype,t.add=function(m,T){I0(this),this.i=null,m=nc(this,m);let M=this.g.get(m);return M||this.g.set(m,M=[]),M.push(T),this.h+=1,this};function uS(m,T){I0(m),T=nc(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function dS(m,T){return I0(m),T=nc(m,T),m.g.has(T)}t.forEach=function(m,T){I0(this),this.g.forEach(function(M,L){M.forEach(function(X){m.call(T,X,L,this)},this)},this)};function fS(m,T){I0(m);let M=[];if(typeof T=="string")dS(m,T)&&(M=M.concat(m.g.get(nc(m,T))));else for(m=Array.from(m.g.values()),T=0;T<m.length;T++)M=M.concat(m[T]);return M}t.set=function(m,T){return I0(this),this.i=null,m=nc(this,m),dS(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},t.get=function(m,T){return m?(m=fS(this,m),m.length>0?String(m[0]):T):T};function hS(m,T,M){uS(m,T),M.length>0&&(m.i=null,m.g.set(nc(m,T),p(M)),m.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(let L=0;L<T.length;L++){var M=T[L];const X=It(M);M=fS(this,M);for(let ee=0;ee<M.length;ee++){let Ne=X;M[ee]!==""&&(Ne+="="+It(M[ee])),m.push(Ne)}}return this.i=m.join("&")};function pS(m){const T=new kd;return T.i=m.i,m.g&&(T.g=new Map(m.g),T.h=m.h),T}function nc(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function cq(m,T){T&&!m.j&&(I0(m),m.i=null,m.g.forEach(function(M,L){const X=L.toLowerCase();L!=X&&(uS(this,L),hS(this,X,M))},m)),m.j=T}function uq(m,T){const M=new Ee;if(s.Image){const L=new Image;L.onload=u(oo,M,"TestLoadImage: loaded",!0,T,L),L.onerror=u(oo,M,"TestLoadImage: error",!1,T,L),L.onabort=u(oo,M,"TestLoadImage: abort",!1,T,L),L.ontimeout=u(oo,M,"TestLoadImage: timeout",!1,T,L),s.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=m}else T(!1)}function dq(m,T){const M=new Ee,L=new AbortController,X=setTimeout(()=>{L.abort(),oo(M,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:L.signal}).then(ee=>{clearTimeout(X),ee.ok?oo(M,"TestPingServer: ok",!0,T):oo(M,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(X),oo(M,"TestPingServer: error",!1,T)})}function oo(m,T,M,L,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),L(M)}catch{}}function fq(){this.g=new ce}function Q5(m){this.i=m.Sb||null,this.h=m.ab||!1}d(Q5,Se),Q5.prototype.g=function(){return new x4(this.i,this.h)};function x4(m,T){je.call(this),this.H=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(x4,je),t=x4.prototype,t.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=T,this.readyState=1,Nd(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(T.body=m),(this.H||s).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ed(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Nd(this)),this.g&&(this.readyState=3,Nd(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;mS(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function mS(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?Ed(this):Nd(this),this.readyState==3&&mS(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,Ed(this))},t.Na=function(m){this.g&&(this.response=m,Ed(this))},t.ga=function(){this.g&&Ed(this)};function Ed(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Nd(m)}t.setRequestHeader=function(m,T){this.A.append(m,T)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var M=T.next();!M.done;)M=M.value,m.push(M[0]+": "+M[1]),M=T.next();return m.join(`\r
`)};function Nd(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(x4.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function gS(m){let T="";return B(m,function(M,L){T+=L,T+=":",T+=M,T+=`\r
`}),T}function X5(m,T,M){e:{for(L in M){var L=!1;break e}L=!0}L||(M=gS(M),typeof m=="string"?M!=null&&It(M):qt(m,T,M))}function dn(m){je.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(dn,je);var hq=/^https?$/i,pq=["POST","PUT"];t=dn.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,T,M,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wn.g(),this.g.onreadystatechange=h(c(this.Ca,this));try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(ee){yS(this,ee);return}if(m=M||"",M=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var X in L)M.set(X,L[X]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const ee of L.keys())M.set(ee,L.get(ee));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(M.keys()).find(ee=>ee.toLowerCase()=="content-type"),X=s.FormData&&m instanceof s.FormData,!(Array.prototype.indexOf.call(pq,T,void 0)>=0)||L||X||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,Ne]of M)this.g.setRequestHeader(ee,Ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(ee){yS(this,ee)}};function yS(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.o=5,vS(m),b4(m)}function vS(m){m.A||(m.A=!0,Ue(m,"complete"),Ue(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Ue(this,"complete"),Ue(this,"abort"),b4(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),b4(this,!0)),dn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?xS(this):this.Xa())},t.Xa=function(){xS(this)};function xS(m){if(m.h&&typeof a<"u"){if(m.v&&lo(m)==4)setTimeout(m.Ca.bind(m),0);else if(Ue(m,"readystatechange"),lo(m)==4){m.h=!1;try{const ee=m.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var M;if(!(M=T)){var L;if(L=ee===0){let Ne=String(m.D).match(lS)[1]||null;!Ne&&s.self&&s.self.location&&(Ne=s.self.location.protocol.slice(0,-1)),L=!hq.test(Ne?Ne.toLowerCase():"")}M=L}if(M)Ue(m,"complete"),Ue(m,"success");else{m.o=6;try{var X=lo(m)>2?m.g.statusText:""}catch{X=""}m.l=X+" ["+m.ca()+"]",vS(m)}}finally{b4(m)}}}}function b4(m,T){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const M=m.g;m.g=null,T||Ue(m,"ready");try{M.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function lo(m){return m.g?m.g.readyState:0}t.ca=function(){try{return lo(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),H(T)}};function bS(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function mq(m){const T={};m=(m.g&&lo(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<m.length;L++){if(j(m[L]))continue;var M=Ti(m[L]);const X=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const ee=T[X]||[];T[X]=ee,ee.push(M)}z(T,function(L){return L.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Td(m,T,M){return M&&M.internalChannelParams&&M.internalChannelParams[m]||T}function wS(m){this.za=0,this.i=[],this.j=new Ee,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Td("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Td("baseRetryDelayMs",5e3,m),this.Za=Td("retryDelaySeedMs",1e4,m),this.Ta=Td("forwardChannelMaxRetries",2,m),this.va=Td("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new rS(m&&m.concurrentRequestLimit),this.Ba=new fq,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=wS.prototype,t.ka=8,t.I=1,t.connect=function(m,T,M,L){K(0),this.W=m,this.H=T||{},M&&L!==void 0&&(this.H.OSID=M,this.H.OAID=L),this.F=this.X,this.J=IS(this,null,this.W),_4(this)};function J5(m){if(_S(m),m.I==3){var T=m.V++,M=Aa(m.J);if(qt(M,"SID",m.M),qt(M,"RID",T),qt(M,"TYPE","terminate"),Pd(m,M),T=new ri(m,m.j,T),T.M=2,T.A=v4(Aa(M)),M=!1,s.navigator&&s.navigator.sendBeacon)try{M=s.navigator.sendBeacon(T.A.toString(),"")}catch{}!M&&s.Image&&(new Image().src=T.A,M=!0),M||(T.g=CS(T.j,null),T.g.ea(T.A)),T.F=Date.now(),y4(T)}AS(m)}function w4(m){m.g&&(e6(m),m.g.cancel(),m.g=null)}function _S(m){w4(m),m.v&&(s.clearTimeout(m.v),m.v=null),S4(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&s.clearTimeout(m.m),m.m=null)}function _4(m){if(!iS(m.h)&&!m.m){m.m=!0;var T=m.Ea;E||N(),S||(E(),S=!0),_.add(T,m),m.D=0}}function gq(m,T){return aS(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=T.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Ae(c(m.Ea,m,T),PS(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const X=new ri(this,this.j,m);let ee=this.o;if(this.U&&(ee?(ee=q(ee),te(ee,this.U)):ee=this.U),this.u!==null||this.R||(X.J=ee,ee=null),this.S)e:{for(var T=0,M=0;M<this.i.length;M++){t:{var L=this.i[M];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(T+=L,T>4096){T=M;break e}if(T===4096||M===this.i.length-1){T=M+1;break e}}T=1e3}else T=1e3;T=kS(this,X,T),M=Aa(this.J),qt(M,"RID",m),qt(M,"CVER",22),this.G&&qt(M,"X-HTTP-Session-Id",this.G),Pd(this,M),ee&&(this.R?T="headers="+It(gS(ee))+"&"+T:this.u&&X5(M,this.u,ee)),K5(this.h,X),this.Ra&&qt(M,"TYPE","init"),this.S?(qt(M,"$req",T),qt(M,"SID","null"),X.U=!0,W5(X,M,null)):W5(X,M,T),this.I=2}}else this.I==3&&(m?SS(this,m):this.i.length==0||iS(this.h)||SS(this))};function SS(m,T){var M;T?M=T.l:M=m.V++;const L=Aa(m.J);qt(L,"SID",m.M),qt(L,"RID",M),qt(L,"AID",m.K),Pd(m,L),m.u&&m.o&&X5(L,m.u,m.o),M=new ri(m,m.j,M,m.D+1),m.u===null&&(M.J=m.o),T&&(m.i=T.G.concat(m.i)),T=kS(m,M,1e3),M.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),K5(m.h,M),W5(M,L,T)}function Pd(m,T){m.H&&B(m.H,function(M,L){qt(T,L,M)}),m.l&&B({},function(M,L){qt(T,L,M)})}function kS(m,T,M){M=Math.min(m.i.length,M);const L=m.l?c(m.l.Ka,m.l,m):null;e:{var X=m.i;let ot=-1;for(;;){const jn=["count="+M];ot==-1?M>0?(ot=X[0].g,jn.push("ofs="+ot)):ot=0:jn.push("ofs="+ot);let $t=!0;for(let zn=0;zn<M;zn++){var ee=X[zn].g;const Ia=X[zn].map;if(ee-=ot,ee<0)ot=Math.max(0,X[zn].g-100),$t=!1;else try{ee="req"+ee+"_"||"";try{var Ne=Ia instanceof Map?Ia:Object.entries(Ia);for(const[O0,co]of Ne){let uo=co;o(co)&&(uo=se(co)),jn.push(ee+O0+"="+encodeURIComponent(uo))}}catch(O0){throw jn.push(ee+"type="+encodeURIComponent("_badmap")),O0}}catch{L&&L(Ia)}}if($t){Ne=jn.join("&");break e}}Ne=void 0}return m=m.i.splice(0,M),T.G=m,Ne}function ES(m){if(!m.g&&!m.v){m.Y=1;var T=m.Da;E||N(),S||(E(),S=!0),_.add(T,m),m.A=0}}function Z5(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Ae(c(m.Da,m),PS(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,NS(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Ae(c(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,K(10),w4(this),NS(this))};function e6(m){m.B!=null&&(s.clearTimeout(m.B),m.B=null)}function NS(m){m.g=new ri(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var T=Aa(m.na);qt(T,"RID","rpc"),qt(T,"SID",m.M),qt(T,"AID",m.K),qt(T,"CI",m.F?"0":"1"),!m.F&&m.ia&&qt(T,"TO",m.ia),qt(T,"TYPE","xmlhttp"),Pd(m,T),m.u&&m.o&&X5(T,m.u,m.o),m.O&&(m.g.H=m.O);var M=m.g;m=m.ba,M.M=1,M.A=v4(Aa(T)),M.u=null,M.R=!0,eS(M,m)}t.Va=function(){this.C!=null&&(this.C=null,w4(this),Z5(this),K(19))};function S4(m){m.C!=null&&(s.clearTimeout(m.C),m.C=null)}function TS(m,T){var M=null;if(m.g==T){S4(m),e6(m),m.g=null;var L=2}else if(G5(m.h,T))M=T.G,sS(m.h,T),L=1;else return;if(m.I!=0){if(T.o)if(L==1){M=T.u?T.u.length:0,T=Date.now()-T.F;var X=m.D;L=re(),Ue(L,new le(L,M)),_4(m)}else ES(m);else if(X=T.m,X==3||X==0&&T.X>0||!(L==1&&gq(m,T)||L==2&&Z5(m)))switch(M&&M.length>0&&(T=m.h,T.i=T.i.concat(M)),X){case 1:C0(m,5);break;case 4:C0(m,10);break;case 3:C0(m,6);break;default:C0(m,2)}}}function PS(m,T){let M=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(M*=2),M*T}function C0(m,T){if(m.j.info("Error code "+T),T==2){var M=c(m.bb,m),L=m.Ua;const X=!L;L=new so(L||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||bd(L,"https"),v4(L),X?uq(L.toString(),M):dq(L.toString(),M)}else K(2);m.I=0,m.l&&m.l.pa(T),AS(m),_S(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),K(2)):(this.j.info("Failed to ping google.com"),K(1))};function AS(m){if(m.I=0,m.ja=[],m.l){const T=oS(m.h);(T.length!=0||m.i.length!=0)&&(g(m.ja,T),g(m.ja,m.i),m.h.i.length=0,p(m.i),m.i.length=0),m.l.oa()}}function IS(m,T,M){var L=M instanceof so?Aa(M):new so(M);if(L.g!="")T&&(L.g=T+"."+L.g),wd(L,L.u);else{var X=s.location;L=X.protocol,T=T?T+"."+X.hostname:X.hostname,X=+X.port;const ee=new so(null);L&&bd(ee,L),T&&(ee.g=T),X&&wd(ee,X),M&&(ee.h=M),L=ee}return M=m.G,T=m.wa,M&&T&&qt(L,M,T),qt(L,"VER",m.ka),Pd(m,L),L}function CS(m,T,M){if(T&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Aa&&!m.ma?new dn(new Q5({ab:M})):new dn(m.ma),T.Fa(m.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function OS(){}t=OS.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function k4(){}k4.prototype.g=function(m,T){return new ii(m,T)};function ii(m,T){je.call(this),this.g=new wS(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(m?m["X-WebChannel-Client-Profile"]=T.sa:m={"X-WebChannel-Client-Profile":T.sa}),this.g.U=m,(m=T&&T.Qb)&&!j(m)&&(this.g.u=m),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!j(T)&&(this.g.G=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new rc(this)}d(ii,je),ii.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ii.prototype.close=function(){J5(this.g)},ii.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var M={};M.__data__=m,m=M}else this.v&&(M={},M.__data__=se(m),m=M);T.i.push(new nq(T.Ya++,m)),T.I==3&&_4(T)},ii.prototype.N=function(){this.g.l=null,delete this.j,J5(this.g),delete this.g,ii.Z.N.call(this)};function jS(m){Bn.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){e:{for(const M in T){m=M;break e}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}d(jS,Bn);function MS(){xn.call(this),this.status=1}d(MS,xn);function rc(m){this.g=m}d(rc,OS),rc.prototype.ra=function(){Ue(this.g,"a")},rc.prototype.qa=function(m){Ue(this.g,new jS(m))},rc.prototype.pa=function(m){Ue(this.g,new MS)},rc.prototype.oa=function(){Ue(this.g,"b")},k4.prototype.createWebChannel=k4.prototype.g,ii.prototype.send=ii.prototype.o,ii.prototype.open=ii.prototype.m,ii.prototype.close=ii.prototype.close,KD=function(){return new k4},GD=function(){return re()},HD=bn,Yv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Rt.NO_ERROR=0,Rt.TIMEOUT=8,Rt.HTTP_ERROR=6,z3=Rt,Fe.COMPLETE="complete",qD=Fe,He.EventType=en,en.OPEN="a",en.CLOSE="b",en.ERROR="c",en.MESSAGE="d",je.prototype.listen=je.prototype.J,uf=He,dn.prototype.listenOnce=dn.prototype.K,dn.prototype.getLastError=dn.prototype.Ha,dn.prototype.getLastErrorCode=dn.prototype.ya,dn.prototype.getStatus=dn.prototype.ca,dn.prototype.getResponseJson=dn.prototype.La,dn.prototype.getResponseText=dn.prototype.la,dn.prototype.send=dn.prototype.ea,dn.prototype.setWithCredentials=dn.prototype.Fa,WD=dn}).apply(typeof W4<"u"?W4:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pr.UNAUTHENTICATED=new pr(null),pr.GOOGLE_CREDENTIALS=new pr("google-credentials-uid"),pr.FIRST_PARTY=new pr("first-party-uid"),pr.MOCK_USER=new pr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu="12.9.0";function iX(t){Xu=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=new y2("@firebase/firestore");function pc(){return vl.logLevel}function Oe(t,...e){if(vl.logLevel<=ft.DEBUG){const n=e.map(Jx);vl.debug(`Firestore (${Xu}): ${t}`,...n)}}function Ws(t,...e){if(vl.logLevel<=ft.ERROR){const n=e.map(Jx);vl.error(`Firestore (${Xu}): ${t}`,...n)}}function xl(t,...e){if(vl.logLevel<=ft.WARN){const n=e.map(Jx);vl.warn(`Firestore (${Xu}): ${t}`,...n)}}function Jx(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,YD(t,r,n)}function YD(t,e,n){let r=`FIRESTORE (${Xu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ws(r),new Error(r)}function At(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||YD(e,i,r)}function it(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends Ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pr.UNAUTHENTICATED))}shutdown(){}}class sX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class oX{constructor(e){this.t=e,this.currentUser=pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){At(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new Xo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Xo,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Xo)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At(typeof r.accessToken=="string",31837,{l:r}),new QD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string",2055,{h:e}),new pr(e)}}class lX{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=pr.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class cX{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new lX(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(pr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uX{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){At(this.o===void 0,3512);const r=a=>{a.error!=null&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,Oe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new bE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(At(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dX(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=dX(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function ht(t,e){return t<e?-1:t>e?1:0}function Qv(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return M6(i)===M6(a)?ht(i,a):M6(i)?1:-1}return ht(t.length,e.length)}const fX=55296,hX=57343;function M6(t){const e=t.charCodeAt(0);return e>=fX&&e<=hX}function du(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="__name__";class Da{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ze(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ze(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Da.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Da?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Da.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return ht(e.length,n.length)}static compareSegments(e,n){const r=Da.isNumericId(e),i=Da.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Da.extractNumericId(e).compare(Da.extractNumericId(n)):Qv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qo.fromString(e.substring(4,e.length-2))}}class zt extends Da{construct(e,n,r){return new zt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ce(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new zt(n)}static emptyPath(){return new zt([])}}const pX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rr extends Da{construct(e,n,r){return new rr(e,n,r)}static isValidIdentifier(e){return pX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wE}static keyField(){return new rr([wE])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ce(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Ce(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ce(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new Ce(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rr(n)}static emptyPath(){return new rr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.path=e}static fromPath(e){return new We(zt.fromString(e))}static fromName(e){return new We(zt.fromString(e).popFirst(5))}static empty(){return new We(zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return zt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new We(new zt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t,e,n){if(!n)throw new Ce(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mX(t,e,n,r){if(e===!0&&r===!0)throw new Ce(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _E(t){if(!We.isDocumentKey(t))throw new Ce(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function SE(t){if(We.isDocumentKey(t))throw new Ce(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function JD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function x2(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ze(12329,{type:typeof t})}function Wi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ce(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=x2(t);throw new Ce(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Up(t,e){if(!JD(t))throw new Ce(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Ce(ue.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=-62135596800,EE=1e6;class Yt{static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*EE);return new Yt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ce(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ce(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<kE)throw new Ce(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/EE}_compareTo(e){return this.seconds===e.seconds?ht(this.nanoseconds,e.nanoseconds):ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Up(e,Yt._jsonSchema))return new Yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-kE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Yt._jsonSchemaVersion="firestore/timestamp/1.0",Yt._jsonSchema={type:Cn("string",Yt._jsonSchemaVersion),seconds:Cn("number"),nanoseconds:Cn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{static fromTimestamp(e){return new rt(e)}static min(){return new rt(new Yt(0,0))}static max(){return new rt(new Yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=-1;function gX(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=rt.fromTimestamp(r===1e9?new Yt(n+1,0):new Yt(n,r));return new i0(i,We.empty(),e)}function yX(t){return new i0(t.readTime,t.key,Th)}class i0{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new i0(rt.min(),We.empty(),Th)}static max(){return new i0(rt.max(),We.empty(),Th)}}function vX(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=We.comparator(t.documentKey,e.documentKey),n!==0?n:ht(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xX="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bX{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ju(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==xX)throw t;Oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new pe((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof pe?n:pe.resolve(n)}catch(n){return pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):pe.reject(n)}static resolve(e){return new pe((n,r)=>{n(e)})}static reject(e){return new pe((n,r)=>{r(e)})}static waitFor(e){return new pe((n,r)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},l=>r(l))}),s=!0,a===i&&n()})}static or(e){let n=pe.resolve(!1);for(const r of e)n=n.next(i=>i?pe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new pe((r,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++o,o===a&&r(s)},u=>i(u))}})}static doWhile(e,n){return new pe((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function wX(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}b2.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=-1;function w2(t){return t==null}function Lm(t){return t===0&&1/t==-1/0}function _X(t){return typeof t=="number"&&Number.isInteger(t)&&!Lm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="";function SX(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=NE(e)),e=kX(t.get(n),e);return NE(e)}function kX(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case ZD:n+="";break;default:n+=a}}return n}function NE(t){return t+ZD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function y0(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n){this.comparator=e,this.root=n||er.EMPTY}insert(e,n){return new un(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,er.BLACK,null,null))}remove(e){return new un(this.comparator,this.root.remove(e,this.comparator).copy(null,null,er.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new q4(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new q4(this.root,e,this.comparator,!1)}getReverseIterator(){return new q4(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new q4(this.root,e,this.comparator,!0)}}class q4{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class er{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??er.RED,this.left=i??er.EMPTY,this.right=a??er.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new er(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return er.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return er.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ze(27949);return e+(this.isRed()?0:1)}}er.EMPTY=null,er.RED=!0,er.BLACK=!1;er.EMPTY=new class{constructor(){this.size=0}get key(){throw Ze(57766)}get value(){throw Ze(16141)}get color(){throw Ze(16727)}get left(){throw Ze(29726)}get right(){throw Ze(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new er(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.comparator=e,this.data=new un(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new PE(this.data.getIterator())}getIteratorFrom(e){return new PE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Vn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vn(this.comparator);return n.data=e,n}}class PE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.fields=e,e.sort(rr.comparator)}static empty(){return new pi([])}unionWith(e){let n=new Vn(rr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return du(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new tR("Invalid base64 string: "+a):a}}(e);return new or(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new or(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}or.EMPTY_BYTE_STRING=new or("");const EX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function a0(t){if(At(!!t,39018),typeof t=="string"){let e=0;const n=EX.exec(t);if(At(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_n(t.seconds),nanos:_n(t.nanos)}}function _n(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function s0(t){return typeof t=="string"?or.fromBase64String(t):or.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="server_timestamp",rR="__type__",iR="__previous_value__",aR="__local_write_time__";function tb(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[rR])==null?void 0:r.stringValue)===nR}function _2(t){const e=t.mapValue.fields[iR];return tb(e)?_2(e):e}function Ph(t){const e=a0(t.mapValue.fields[aR].timestampValue);return new Yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NX{constructor(e,n,r,i,a,s,o,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u,this.apiKey=d}}const Fm="(default)";class Ah{constructor(e,n){this.projectId=e,this.database=n||Fm}static empty(){return new Ah("","")}get isDefaultDatabase(){return this.database===Fm}isEqual(e){return e instanceof Ah&&e.projectId===this.projectId&&e.database===this.database}}function TX(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ce(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ah(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="__type__",PX="__max__",H4={mapValue:{}},oR="__vector__",Vm="value";function o0(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tb(t)?4:IX(t)?9007199254740991:AX(t)?10:11:Ze(28295,{value:t})}function ss(t,e){if(t===e)return!0;const n=o0(t);if(n!==o0(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ph(t).isEqual(Ph(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=a0(i.timestampValue),o=a0(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return s0(i.bytesValue).isEqual(s0(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return _n(i.geoPointValue.latitude)===_n(a.geoPointValue.latitude)&&_n(i.geoPointValue.longitude)===_n(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return _n(i.integerValue)===_n(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=_n(i.doubleValue),o=_n(a.doubleValue);return s===o?Lm(s)===Lm(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return du(t.arrayValue.values||[],e.arrayValue.values||[],ss);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(TE(s)!==TE(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!ss(s[l],o[l])))return!1;return!0}(t,e);default:return Ze(52216,{left:t})}}function Ih(t,e){return(t.values||[]).find(n=>ss(n,e))!==void 0}function fu(t,e){if(t===e)return 0;const n=o0(t),r=o0(e);if(n!==r)return ht(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ht(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=_n(a.integerValue||a.doubleValue),l=_n(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return AE(t.timestampValue,e.timestampValue);case 4:return AE(Ph(t),Ph(e));case 5:return Qv(t.stringValue,e.stringValue);case 6:return function(a,s){const o=s0(a),l=s0(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=ht(o[c],l[c]);if(u!==0)return u}return ht(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=ht(_n(a.latitude),_n(s.latitude));return o!==0?o:ht(_n(a.longitude),_n(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return IE(t.arrayValue,e.arrayValue);case 10:return function(a,s){var h,p,g,x;const o=a.fields||{},l=s.fields||{},c=(h=o[Vm])==null?void 0:h.arrayValue,u=(p=l[Vm])==null?void 0:p.arrayValue,d=ht(((g=c==null?void 0:c.values)==null?void 0:g.length)||0,((x=u==null?void 0:u.values)==null?void 0:x.length)||0);return d!==0?d:IE(c,u)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===H4.mapValue&&s===H4.mapValue)return 0;if(a===H4.mapValue)return 1;if(s===H4.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=Qv(l[d],u[d]);if(h!==0)return h;const p=fu(o[l[d]],c[u[d]]);if(p!==0)return p}return ht(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Ze(23264,{he:n})}}function AE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ht(t,e);const n=a0(t),r=a0(e),i=ht(n.seconds,r.seconds);return i!==0?i:ht(n.nanos,r.nanos)}function IE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=fu(n[i],r[i]);if(a)return a}return ht(n.length,r.length)}function hu(t){return Xv(t)}function Xv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=a0(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return s0(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return We.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Xv(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${Xv(n.fields[s])}`;return i+"}"}(t.mapValue):Ze(61005,{value:t})}function W3(t){switch(o0(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_2(t);return e?16+W3(e):16;case 5:return 2*t.stringValue.length;case 6:return s0(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+W3(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return y0(r.fields,(a,s)=>{i+=a.length+W3(s)}),i}(t.mapValue);default:throw Ze(13486,{value:t})}}function CE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Jv(t){return!!t&&"integerValue"in t}function nb(t){return!!t&&"arrayValue"in t}function OE(t){return!!t&&"nullValue"in t}function jE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function q3(t){return!!t&&"mapValue"in t}function AX(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[sR])==null?void 0:r.stringValue)===oR}function Uf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return y0(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Uf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Uf(t.arrayValue.values[n]);return e}return{...t}}function IX(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===PX}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.value=e}static empty(){return new Hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!q3(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uf(n)}setAll(e){let n=rr.emptyPath(),r={},i=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=Uf(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());q3(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ss(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];q3(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){y0(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Hr(Uf(this.value))}}function lR(t){const e=[];return y0(t.fields,(n,r)=>{const i=new rr([n]);if(q3(r)){const a=lR(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new pi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n,r,i,a,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new yr(e,0,rt.min(),rt.min(),rt.min(),Hr.empty(),0)}static newFoundDocument(e,n,r,i){return new yr(e,1,n,rt.min(),r,i,0)}static newNoDocument(e,n){return new yr(e,2,n,rt.min(),rt.min(),Hr.empty(),0)}static newUnknownDocument(e,n){return new yr(e,3,n,rt.min(),rt.min(),Hr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n){this.position=e,this.inclusive=n}}function ME(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=We.comparator(We.fromName(s.referenceValue),n.key):r=fu(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function DE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ss(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n="asc"){this.field=e,this.dir=n}}function CX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{}class In extends cR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new jX(e,n,r):n==="array-contains"?new RX(e,r):n==="in"?new $X(e,r):n==="not-in"?new LX(e,r):n==="array-contains-any"?new FX(e,r):new In(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new MX(e,r):new DX(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fu(n,this.value)):n!==null&&o0(this.value)===o0(n)&&this.matchesComparison(fu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Na extends cR{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Na(e,n)}matches(e){return uR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uR(t){return t.op==="and"}function dR(t){return OX(t)&&uR(t)}function OX(t){for(const e of t.filters)if(e instanceof Na)return!1;return!0}function Zv(t){if(t instanceof In)return t.field.canonicalString()+t.op.toString()+hu(t.value);if(dR(t))return t.filters.map(e=>Zv(e)).join(",");{const e=t.filters.map(n=>Zv(n)).join(",");return`${t.op}(${e})`}}function fR(t,e){return t instanceof In?function(r,i){return i instanceof In&&r.op===i.op&&r.field.isEqual(i.field)&&ss(r.value,i.value)}(t,e):t instanceof Na?function(r,i){return i instanceof Na&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&fR(s,i.filters[o]),!0):!1}(t,e):void Ze(19439)}function hR(t){return t instanceof In?function(n){return`${n.field.canonicalString()} ${n.op} ${hu(n.value)}`}(t):t instanceof Na?function(n){return n.op.toString()+" {"+n.getFilters().map(hR).join(" ,")+"}"}(t):"Filter"}class jX extends In{constructor(e,n,r){super(e,n,r),this.key=We.fromName(r.referenceValue)}matches(e){const n=We.comparator(e.key,this.key);return this.matchesComparison(n)}}class MX extends In{constructor(e,n){super(e,"in",n),this.keys=pR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class DX extends In{constructor(e,n){super(e,"not-in",n),this.keys=pR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function pR(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>We.fromName(r.referenceValue))}class RX extends In{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return nb(n)&&Ih(n.arrayValue,this.value)}}class $X extends In{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ih(this.value.arrayValue,n)}}class LX extends In{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ih(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ih(this.value.arrayValue,n)}}class FX extends In{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!nb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ih(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VX{constructor(e,n=null,r=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function RE(t,e=null,n=[],r=[],i=null,a=null,s=null){return new VX(t,e,n,r,i,a,s)}function rb(t){const e=it(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Zv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),w2(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hu(r)).join(",")),e.Te=n}return e.Te}function ib(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!CX(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!DE(t.startAt,e.startAt)&&DE(t.endAt,e.endAt)}function e7(t){return We.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n=null,r=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function UX(t,e,n,r,i,a,s,o){return new ed(t,e,n,r,i,a,s,o)}function ab(t){return new ed(t)}function $E(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function BX(t){return We.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function mR(t){return t.collectionGroup!==null}function Bf(t){const e=it(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Vn(rr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Ch(a,r))}),n.has(rr.keyField().canonicalString())||e.Ie.push(new Ch(rr.keyField(),r))}return e.Ie}function Ja(t){const e=it(t);return e.Ee||(e.Ee=zX(e,Bf(t))),e.Ee}function zX(t,e){if(t.limitType==="F")return RE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Ch(i.field,a)});const n=t.endAt?new Um(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Um(t.startAt.position,t.startAt.inclusive):null;return RE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function t7(t,e){const n=t.filters.concat([e]);return new ed(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function WX(t,e){const n=t.explicitOrderBy.concat([e]);return new ed(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function n7(t,e,n){return new ed(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function S2(t,e){return ib(Ja(t),Ja(e))&&t.limitType===e.limitType}function gR(t){return`${rb(Ja(t))}|lt:${t.limitType}`}function mc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>hR(i)).join(", ")}]`),w2(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>hu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>hu(i)).join(",")),`Target(${r})`}(Ja(t))}; limitType=${t.limitType})`}function k2(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):We.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Bf(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,l){const c=ME(s,o,l);return s.inclusive?c<=0:c<0}(r.startAt,Bf(r),i)||r.endAt&&!function(s,o,l){const c=ME(s,o,l);return s.inclusive?c>=0:c>0}(r.endAt,Bf(r),i))}(t,e)}function qX(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yR(t){return(e,n)=>{let r=!1;for(const i of Bf(t)){const a=HX(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function HX(t,e,n){const r=t.field.isKeyField()?We.comparator(e.key,n.key):function(a,s,o){const l=s.data.field(a),c=o.data.field(a);return l!==null&&c!==null?fu(l,c):Ze(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ze(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){y0(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return eR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GX=new un(We.comparator);function qs(){return GX}const vR=new un(We.comparator);function df(...t){let e=vR;for(const n of t)e=e.insert(n.key,n);return e}function xR(t){let e=vR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Y0(){return zf()}function bR(){return zf()}function zf(){return new Gl(t=>t.toString(),(t,e)=>t.isEqual(e))}const KX=new un(We.comparator),YX=new Vn(We.comparator);function pt(...t){let e=YX;for(const n of t)e=e.add(n);return e}const QX=new Vn(ht);function XX(){return QX}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lm(e)?"-0":e}}function wR(t){return{integerValue:""+t}}function JX(t,e){return _X(e)?wR(e):sb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this._=void 0}}function ZX(t,e,n){return t instanceof Bm?function(i,a){const s={fields:{[rR]:{stringValue:nR},[aR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&tb(a)&&(a=_2(a)),a&&(s.fields[iR]=a),{mapValue:s}}(n,e):t instanceof Oh?SR(t,e):t instanceof jh?kR(t,e):function(i,a){const s=_R(i,a),o=LE(s)+LE(i.Ae);return Jv(s)&&Jv(i.Ae)?wR(o):sb(i.serializer,o)}(t,e)}function eJ(t,e,n){return t instanceof Oh?SR(t,e):t instanceof jh?kR(t,e):n}function _R(t,e){return t instanceof zm?function(r){return Jv(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Bm extends E2{}class Oh extends E2{constructor(e){super(),this.elements=e}}function SR(t,e){const n=ER(e);for(const r of t.elements)n.some(i=>ss(i,r))||n.push(r);return{arrayValue:{values:n}}}class jh extends E2{constructor(e){super(),this.elements=e}}function kR(t,e){let n=ER(e);for(const r of t.elements)n=n.filter(i=>!ss(i,r));return{arrayValue:{values:n}}}class zm extends E2{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function LE(t){return _n(t.integerValue||t.doubleValue)}function ER(t){return nb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function tJ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Oh&&i instanceof Oh||r instanceof jh&&i instanceof jh?du(r.elements,i.elements,ss):r instanceof zm&&i instanceof zm?ss(r.Ae,i.Ae):r instanceof Bm&&i instanceof Bm}(t.transform,e.transform)}class nJ{constructor(e,n){this.version=e,this.transformResults=n}}class qi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qi}static exists(e){return new qi(void 0,e)}static updateTime(e){return new qi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function H3(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class N2{}function NR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ob(t.key,qi.none()):new Bp(t.key,t.data,qi.none());{const n=t.data,r=Hr.empty();let i=new Vn(rr.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new v0(t.key,r,new pi(i.toArray()),qi.none())}}function rJ(t,e,n){t instanceof Bp?function(i,a,s){const o=i.value.clone(),l=VE(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof v0?function(i,a,s){if(!H3(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=VE(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(TR(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Wf(t,e,n,r){return t instanceof Bp?function(a,s,o,l){if(!H3(a.precondition,s))return o;const c=a.value.clone(),u=UE(a.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof v0?function(a,s,o,l){if(!H3(a.precondition,s))return o;const c=UE(a.fieldTransforms,l,s),u=s.data;return u.setAll(TR(a)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(a,s,o){return H3(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function iJ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=_R(r.transform,i||null);a!=null&&(n===null&&(n=Hr.empty()),n.set(r.field,a))}return n||null}function FE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&du(r,i,(a,s)=>tJ(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bp extends N2{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class v0 extends N2{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function TR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function VE(t,e,n){const r=new Map;At(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);r.set(a.field,eJ(s,o,n[i]))}return r}function UE(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,ZX(a,s,e))}return r}class ob extends N2{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aJ extends N2{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sJ{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&rJ(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bR();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const l=NR(s,o);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(rt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pt())}isEqual(e){return this.batchId===e.batchId&&du(this.mutations,e.mutations,(n,r)=>FE(n,r))&&du(this.baseMutations,e.baseMutations,(n,r)=>FE(n,r))}}class lb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){At(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return KX}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new lb(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oJ{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lJ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tn,xt;function cJ(t){switch(t){case ue.OK:return Ze(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Ze(15467,{code:t})}}function PR(t){if(t===void 0)return Ws("GRPC error has no .code"),ue.UNKNOWN;switch(t){case Tn.OK:return ue.OK;case Tn.CANCELLED:return ue.CANCELLED;case Tn.UNKNOWN:return ue.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return ue.INTERNAL;case Tn.UNAVAILABLE:return ue.UNAVAILABLE;case Tn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Tn.NOT_FOUND:return ue.NOT_FOUND;case Tn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Tn.ABORTED:return ue.ABORTED;case Tn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Tn.DATA_LOSS:return ue.DATA_LOSS;default:return Ze(39323,{code:t})}}(xt=Tn||(Tn={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uJ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dJ=new Qo([4294967295,4294967295],0);function BE(t){const e=uJ().encode(t),n=new zD;return n.update(e),new Uint8Array(n.digest())}function zE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Qo([n,r],0),new Qo([i,a],0)]}class cb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ff(`Invalid padding: ${n}`);if(r<0)throw new ff(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ff(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ff(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Qo.fromNumber(r)));return i.compare(dJ)===1&&(i=new Qo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=BE(e),[r,i]=zE(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new cb(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const n=BE(e),[r,i]=zE(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.be(s)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ff extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,zp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new T2(rt.min(),i,new un(ht),qs(),pt())}}class zp{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zp(r,n,pt(),pt(),pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class AR{constructor(e,n){this.targetId=e,this.Ce=n}}class IR{constructor(e,n,r=or.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class WE{constructor(){this.ve=0,this.Fe=qE(),this.Me=or.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pt(),n=pt(),r=pt();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ze(38017,{changeType:a})}}),new zp(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=qE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,At(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class fJ{constructor(e){this.Ge=e,this.ze=new Map,this.je=qs(),this.He=G4(),this.Je=G4(),this.Ze=new un(ht)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ze(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(e7(a))if(r===0){const s=new We(a.path);this.et(n,s,yr.newNoDocument(s,rt.min()))}else At(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const o=this.ut(e),l=o?this.ct(o,e,s):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=s0(r).toUint8Array()}catch(l){if(l instanceof tR)return xl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new cb(s,i,a)}catch(l){return xl(l instanceof ff?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(n,a,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&e7(o.target)){const l=new We(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,yr.newNoDocument(l,e))}a.Be&&(n.set(s,a.ke()),a.Ke())}});let r=pt();this.Je.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.je.forEach((a,s)=>s.setReadTime(e));const i=new T2(e,n,this.Ze,this.je,r);return this.je=qs(),this.He=G4(),this.Je=G4(),this.Ze=new un(ht),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new WE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Vn(ht),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Vn(ht),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new WE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function G4(){return new un(We.comparator)}function qE(){return new un(We.comparator)}const hJ={asc:"ASCENDING",desc:"DESCENDING"},pJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mJ={and:"AND",or:"OR"};class gJ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function r7(t,e){return t.useProto3Json||w2(e)?e:{value:e}}function Wm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yJ(t,e){return Wm(t,e.toTimestamp())}function Za(t){return At(!!t,49232),rt.fromTimestamp(function(n){const r=a0(n);return new Yt(r.seconds,r.nanos)}(t))}function ub(t,e){return i7(t,e).canonicalString()}function i7(t,e){const n=function(i){return new zt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function OR(t){const e=zt.fromString(t);return At($R(e),10190,{key:e.toString()}),e}function a7(t,e){return ub(t.databaseId,e.path)}function D6(t,e){const n=OR(e);if(n.get(1)!==t.databaseId.projectId)throw new Ce(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ce(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new We(MR(n))}function jR(t,e){return ub(t.databaseId,e)}function vJ(t){const e=OR(t);return e.length===4?zt.emptyPath():MR(e)}function s7(t){return new zt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function MR(t){return At(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function HE(t,e,n){return{name:a7(t,e),fields:n.value.mapValue.fields}}function xJ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ze(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,u){return c.useProto3Json?(At(u===void 0||typeof u=="string",58123),or.fromBase64String(u||"")):(At(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),or.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(c){const u=c.code===void 0?ue.UNKNOWN:PR(c.code);return new Ce(u,c.message||"")}(s);n=new IR(r,i,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=D6(t,r.document.name),a=Za(r.document.updateTime),s=r.document.createTime?Za(r.document.createTime):rt.min(),o=new Hr({mapValue:{fields:r.document.fields}}),l=yr.newFoundDocument(i,a,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new G3(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=D6(t,r.document),a=r.readTime?Za(r.readTime):rt.min(),s=yr.newNoDocument(i,a),o=r.removedTargetIds||[];n=new G3([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=D6(t,r.document),a=r.removedTargetIds||[];n=new G3([],a,i,null)}else{if(!("filter"in e))return Ze(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new lJ(i,a),o=r.targetId;n=new AR(o,s)}}return n}function bJ(t,e){let n;if(e instanceof Bp)n={update:HE(t,e.key,e.value)};else if(e instanceof ob)n={delete:a7(t,e.key)};else if(e instanceof v0)n={update:HE(t,e.key,e.data),updateMask:AJ(e.fieldMask)};else{if(!(e instanceof aJ))return Ze(16599,{dt:e.type});n={verify:a7(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof Bm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Oh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof jh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof zm)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw Ze(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:yJ(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ze(27497)}(t,e.precondition)),n}function wJ(t,e){return t&&t.length>0?(At(e!==void 0,14353),t.map(n=>function(i,a){let s=i.updateTime?Za(i.updateTime):Za(a);return s.isEqual(rt.min())&&(s=Za(a)),new nJ(s,i.transformResults||[])}(n,e))):[]}function _J(t,e){return{documents:[jR(t,e.path)]}}function SJ(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jR(t,i);const a=function(c){if(c.length!==0)return RR(Na.create(c,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:gc(h.field),direction:NJ(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=r7(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function kJ(t){let e=vJ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){At(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let a=[];n.where&&(a=function(d){const h=DR(d);return h instanceof Na&&dR(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(g){return new Ch(yc(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let o=null;n.limit&&(o=function(d){let h;return h=typeof d=="object"?d.value:d,w2(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new Um(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new Um(p,h)}(n.endAt)),UX(e,i,s,a,o,"F",l,c)}function EJ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ze(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=yc(n.unaryFilter.field);return In.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=yc(n.unaryFilter.field);return In.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=yc(n.unaryFilter.field);return In.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=yc(n.unaryFilter.field);return In.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ze(61313);default:return Ze(60726)}}(t):t.fieldFilter!==void 0?function(n){return In.create(yc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ze(58110);default:return Ze(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Na.create(n.compositeFilter.filters.map(r=>DR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ze(1026)}}(n.compositeFilter.op))}(t):Ze(30097,{filter:t})}function NJ(t){return hJ[t]}function TJ(t){return pJ[t]}function PJ(t){return mJ[t]}function gc(t){return{fieldPath:t.canonicalString()}}function yc(t){return rr.fromServerFormat(t.fieldPath)}function RR(t){return t instanceof In?function(n){if(n.op==="=="){if(jE(n.value))return{unaryFilter:{field:gc(n.field),op:"IS_NAN"}};if(OE(n.value))return{unaryFilter:{field:gc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jE(n.value))return{unaryFilter:{field:gc(n.field),op:"IS_NOT_NAN"}};if(OE(n.value))return{unaryFilter:{field:gc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gc(n.field),op:TJ(n.op),value:n.value}}}(t):t instanceof Na?function(n){const r=n.getFilters().map(i=>RR(i));return r.length===1?r[0]:{compositeFilter:{op:PJ(n.op),filters:r}}}(t):Ze(54877,{filter:t})}function AJ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $R(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function LR(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n,r,i,a=rt.min(),s=rt.min(),o=or.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new jo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new jo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IJ{constructor(e){this.yt=e}}function CJ(t){const e=kJ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?n7(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OJ{constructor(){this.Sn=new jJ}addToCollectionParentIndex(e,n){return this.Sn.add(n),pe.resolve()}getCollectionParents(e,n){return pe.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return pe.resolve()}deleteFieldIndex(e,n){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,n){return pe.resolve()}getDocumentsMatchingTarget(e,n){return pe.resolve(null)}getIndexType(e,n){return pe.resolve(0)}getFieldIndexes(e,n){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,n){return pe.resolve(i0.min())}getMinOffsetFromCollectionGroup(e,n){return pe.resolve(i0.min())}updateCollectionGroup(e,n,r){return pe.resolve()}updateIndexEntries(e,n){return pe.resolve()}}class jJ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Vn(zt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vn(zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FR=41943040;class Br{static withCacheSize(e){return new Br(e,Br.DEFAULT_COLLECTION_PERCENTILE,Br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br.DEFAULT_COLLECTION_PERCENTILE=10,Br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Br.DEFAULT=new Br(FR,Br.DEFAULT_COLLECTION_PERCENTILE,Br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Br.DISABLED=new Br(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new pu(0)}static ar(){return new pu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="LruGarbageCollector",MJ=1048576;function YE([t,e],[n,r]){const i=ht(t,n);return i===0?ht(e,r):i}class DJ{constructor(e){this.Pr=e,this.buffer=new Vn(YE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();YE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RJ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Oe(KE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Zu(n)?Oe(KE,"Ignoring IndexedDB error during garbage collection: ",n):await Ju(n)}await this.Ar(3e5)})}}class $J{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return pe.resolve(b2.ce);const r=new DJ(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(GE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GE):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,a,s,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,o=Date.now(),this.removeTargets(e,r,n))).next(d=>(a=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),pc()<=ft.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:d})))}}function LJ(t,e){return new $J(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FJ{constructor(){this.changes=new Gl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?pe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VJ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UJ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Wf(r.mutation,i,pi.empty(),Yt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pt()){const i=Y0();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=df();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Y0();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pt()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,i){let a=qs();const s=zf(),o=function(){return zf()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof v0)?a=a.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Wf(u.mutation,c,u.mutation.getFieldMask(),Yt.now())):s.set(c.key,pi.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>o.set(c,new VJ(u,s.get(c)??null))),o))}recalculateAndSaveOverlays(e,n){const r=zf();let i=new un((s,o)=>s-o),a=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||pi.empty();u=o.applyToLocalView(c,u),r.set(l,u);const d=(i.get(o.batchId)||pt()).add(l);i=i.insert(o.batchId,d)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,d=bR();u.forEach(h=>{if(!a.has(h)){const p=NR(n.get(h),r.get(h));p!==null&&d.set(h,p),a=a.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return pe.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return BX(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):pe.resolve(Y0());let o=Th,l=a;return s.next(c=>pe.forEach(c,(u,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),a.get(u)?pe.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,pt())).next(u=>({batchId:o,changes:xR(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new We(n)).next(r=>{let i=df();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=df();return this.indexManager.getCollectionParents(e,a).next(o=>pe.forEach(o,l=>{const c=function(d,h){return new ed(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,yr.newInvalidDocument(u)))});let o=df();return s.forEach((l,c)=>{const u=a.get(l);u!==void 0&&Wf(u.mutation,c,pi.empty(),Yt.now()),k2(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BJ{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return pe.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Za(i.createTime)}}(n)),pe.resolve()}getNamedQuery(e,n){return pe.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(i){return{name:i.name,query:CJ(i.bundledQuery),readTime:Za(i.readTime)}}(n)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zJ{constructor(){this.overlays=new un(We.comparator),this.Lr=new Map}getOverlay(e,n){return pe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Y0();return pe.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.bt(e,n,a)}),pe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Lr.delete(r)),pe.resolve()}getOverlaysForCollection(e,n,r){const i=Y0(),a=n.length+1,s=new We(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return pe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new un((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=a.get(c.largestBatchId);u===null&&(u=Y0(),a=a.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=Y0(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=i)););return pe.resolve(o)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new oJ(n,r));let a=this.Lr.get(n);a===void 0&&(a=pt(),this.Lr.set(n,a)),this.Lr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WJ{constructor(){this.sessionToken=or.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(){this.kr=new Vn(Wn.Kr),this.qr=new Vn(Wn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Wn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Wn(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new We(new zt([])),r=new Wn(n,e),i=new Wn(n,e+1),a=[];return this.qr.forEachInRange([r,i],s=>{this.Wr(s),a.push(s.key)}),a}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new We(new zt([])),r=new Wn(n,e),i=new Wn(n,e+1);let a=pt();return this.qr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new Wn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Wn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return We.comparator(e.key,n.key)||ht(e.Hr,n.Hr)}static Ur(e,n){return ht(e.Hr,n.Hr)||We.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qJ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Vn(Wn.Kr)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new sJ(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.Jr=this.Jr.add(new Wn(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return pe.resolve(s)}lookupMutationBatch(e,n){return pe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return pe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?eb:this.Yn-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Wn(n,0),i=new Wn(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,i],s=>{const o=this.Zr(s.Hr);a.push(o)}),pe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vn(ht);return n.forEach(i=>{const a=new Wn(i,0),s=new Wn(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,s],o=>{r=r.add(o.Hr)})}),pe.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;We.isDocumentKey(a)||(a=a.child(""));const s=new Wn(new We(a),0);let o=new Vn(ht);return this.Jr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Hr)),!0)},s),pe.resolve(this.Yr(o))}Yr(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){At(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return pe.forEach(n.mutations,i=>{const a=new Wn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new Wn(n,0),i=this.Jr.firstAfterOrEqual(r);return pe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HJ{constructor(e){this.ti=e,this.docs=function(){return new un(We.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return pe.resolve(r?r.document.mutableCopy():yr.newInvalidDocument(n))}getEntries(e,n){let r=qs();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():yr.newInvalidDocument(i))}),pe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=qs();const s=n.path,o=new We(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||vX(yX(u),r)<=0||(i.has(u.key)||k2(n,u))&&(a=a.insert(u.key,u.mutableCopy()))}return pe.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ze(9500)}ni(e,n){return pe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new GJ(this)}getSize(e){return pe.resolve(this.size)}}class GJ extends FJ{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)}),pe.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KJ{constructor(e){this.persistence=e,this.ri=new Gl(n=>rb(n),ib),this.lastRemoteSnapshotVersion=rt.min(),this.highestTargetId=0,this.ii=0,this.si=new db,this.targetCount=0,this.oi=pu._r()}forEachTarget(e,n){return this.ri.forEach((r,i)=>n(i)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),pe.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new pu(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,pe.resolve()}updateTargetData(e,n){return this.lr(n),pe.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ri.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.ri.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),pe.waitFor(a).next(()=>i)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return pe.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),pe.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),pe.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),pe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return pe.resolve(r)}containsKey(e,n){return pe.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,n){this._i={},this.overlays={},this.ai=new b2(0),this.ui=!1,this.ui=!0,this.ci=new WJ,this.referenceDelegate=e(this),this.li=new KJ(this),this.indexManager=new OJ,this.remoteDocumentCache=function(i){return new HJ(i)}(r=>this.referenceDelegate.hi(r)),this.serializer=new IJ(n),this.Pi=new BJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zJ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new qJ(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Oe("MemoryPersistence","Starting transaction:",e);const i=new YJ(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(a=>this.referenceDelegate.Ii(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ei(e,n){return pe.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class YJ extends bX{constructor(e){super(),this.currentSequenceNumber=e}}class fb{constructor(e){this.persistence=e,this.Ri=new db,this.Ai=null}static Vi(e){return new fb(e)}get di(){if(this.Ai)return this.Ai;throw Ze(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),pe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),pe.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.di,r=>{const i=We.fromPath(r);return this.mi(e,i).next(a=>{a||n.removeEntry(i,rt.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return pe.or([()=>pe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class qm{constructor(e,n){this.persistence=e,this.fi=new Gl(r=>SX(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=LJ(this,n)}static Vi(e,n){return new qm(e,n)}Ti(){}Ii(e){return pe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return pe.forEach(this.fi,(r,i)=>this.wr(e,r,i).next(a=>a?pe.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ni(e,s=>this.wr(e,s,n).next(o=>{o||(r++,a.removeEntry(s,rt.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),pe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),pe.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),pe.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=W3(e.data.value)),n}wr(e,n,r){return pe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return pe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=pt(),i=pt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new hb(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QJ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XJ{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return LY()?8:wX(_r())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.gs(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ps(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new QJ;return this.ys(e,n,s).next(o=>{if(a.result=o,this.As)return this.ws(e,n,s,o.size)})}).next(()=>a.result)}ws(e,n,r,i){return r.documentReadCount<this.Vs?(pc()<=ft.DEBUG&&Oe("QueryEngine","SDK will not create cache indexes for query:",mc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),pe.resolve()):(pc()<=ft.DEBUG&&Oe("QueryEngine","Query:",mc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(pc()<=ft.DEBUG&&Oe("QueryEngine","The SDK decides to create cache indexes for query:",mc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ja(n))):pe.resolve())}gs(e,n){if($E(n))return pe.resolve(null);let r=Ja(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=n7(n,null,"F"),r=Ja(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=pt(...a);return this.fs.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,o);return this.Ss(n,c,s,l.readTime)?this.gs(e,n7(n,null,"F")):this.Ds(e,c,n,l)}))})))}ps(e,n,r,i){return $E(n)||i.isEqual(rt.min())?pe.resolve(null):this.fs.getDocuments(e,r).next(a=>{const s=this.bs(n,a);return this.Ss(n,s,r,i)?pe.resolve(null):(pc()<=ft.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),mc(n)),this.Ds(e,s,n,gX(i,Th)).next(o=>o))})}bs(e,n){let r=new Vn(yR(e));return n.forEach((i,a)=>{k2(e,a)&&(r=r.add(a))}),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ys(e,n,r){return pc()<=ft.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",mc(n)),this.fs.getDocumentsMatchingQuery(e,n,i0.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="LocalStore",JJ=3e8;class ZJ{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new un(ht),this.Fs=new Gl(a=>rb(a),ib),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UJ(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function eZ(t,e,n,r){return new ZJ(t,e,n,r)}async function UR(t,e){const n=it(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let l=pt();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of a){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ns:c,removedBatchIds:s,addedBatchIds:o}))})})}function tZ(t,e){const n=it(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const d=c.batch,h=d.keys();let p=pe.resolve();return h.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(x=>{const v=c.docVersions.get(g);At(v!==null,48541),x.version.compareTo(v)<0&&(d.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),u.addEntry(x)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=pt();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function BR(t){const e=it(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function nZ(t,e){const n=it(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const o=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;o.push(n.li.removeMatchingKeys(a,u.removedDocuments,d).next(()=>n.li.addMatchingKeys(a,u.addedDocuments,d)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(or.EMPTY_BYTE_STRING,rt.min()).withLastLimboFreeSnapshotVersion(rt.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(d,p),function(x,v,y){return x.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=JJ?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,p,u)&&o.push(n.li.updateTargetData(a,p))});let l=qs(),c=pt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,u))}),o.push(rZ(a,s,e.documentUpdates).next(u=>{l=u.Bs,c=u.Ls})),!r.isEqual(rt.min())){const u=n.li.getLastRemoteSnapshotVersion(a).next(d=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(u)}return pe.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(n.vs=i,a))}function rZ(t,e,n){let r=pt(),i=pt();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=qs();return n.forEach((o,l)=>{const c=a.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(rt.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):Oe(pb,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Bs:s,Ls:i}})}function iZ(t,e){const n=it(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=eb),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function aZ(t,e){const n=it(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.li.getTargetData(r,e).next(a=>a?(i=a,pe.resolve(i)):n.li.allocateTargetId(r).next(s=>(i=new jo(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function o7(t,e,n){const r=it(t),i=r.vs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Zu(s))throw s;Oe(pb,`Failed to update sequence numbers for target ${e}: ${s}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function QE(t,e,n){const r=it(t);let i=rt.min(),a=pt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const d=it(l),h=d.Fs.get(u);return h!==void 0?pe.resolve(d.vs.get(h)):d.li.getTargetData(c,u)}(r,s,Ja(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:rt.min(),n?a:pt())).next(o=>(sZ(r,qX(e),o),{documents:o,ks:a})))}function sZ(t,e,n){let r=t.Ms.get(e)||rt.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ms.set(e,r)}class XE{constructor(){this.activeTargetIds=XX()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oZ{constructor(){this.vo=new XE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new XE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lZ{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="ConnectivityMonitor";class ZE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Oe(JE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Oe(JE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K4=null;function l7(){return K4===null?K4=function(){return 268435456+Math.round(2147483648*Math.random())}():K4++,"0x"+K4.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6="RestConnection",cZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class uZ{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Fm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,a){const s=l7(),o=this.Qo(e,n.toUriEncodedString());Oe(R6,`Sending RPC '${e}' ${s}:`,o,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,i,a);const{host:c}=new URL(o),u=m0(c);return this.zo(e,o,l,r,u).then(d=>(Oe(R6,`Received RPC '${e}' ${s}: `,d),d),d=>{throw xl(R6,`RPC '${e}' ${s} failed with error: `,d,"url: ",o,"request:",r),d})}jo(e,n,r,i,a,s){return this.Wo(e,n,r,i,a)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}Qo(e,n){const r=cZ[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dZ{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="WebChannelConnection",$d=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(i){setTimeout(()=>{throw i},0)}})};class qc extends uZ{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!qc.c_){const e=GD();$d(e,HD.STAT_EVENT,n=>{n.stat===Yv.PROXY?Oe(fr,"STAT_EVENT: detected buffering proxy"):n.stat===Yv.NOPROXY&&Oe(fr,"STAT_EVENT: detected no buffering proxy")}),qc.c_=!0}}zo(e,n,r,i,a){const s=l7();return new Promise((o,l)=>{const c=new WD;c.setWithCredentials(!0),c.listenOnce(qD.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case z3.NO_ERROR:const d=c.getResponseJson();Oe(fr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case z3.TIMEOUT:Oe(fr,`RPC '${e}' ${s} timed out`),l(new Ce(ue.DEADLINE_EXCEEDED,"Request time out"));break;case z3.HTTP_ERROR:const h=c.getStatus();if(Oe(fr,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const x=function(y){const b=y.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(b)>=0?b:ue.UNKNOWN}(g.status);l(new Ce(x,g.message))}else l(new Ce(ue.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Ce(ue.UNAVAILABLE,"Connection failed."));break;default:Ze(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Oe(fr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Oe(fr,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}T_(e,n,r){const i=l7(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,n,r),o.encodeInitMessageHeaders=!0;const c=a.join("");Oe(fr,`Creating RPC '${e}' stream ${i}: ${c}`,o);const u=s.createWebChannel(c,o);this.I_(u);let d=!1,h=!1;const p=new dZ({Ho:g=>{h?Oe(fr,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(d||(Oe(fr,`Opening RPC '${e}' stream ${i} transport.`),u.open(),d=!0),Oe(fr,`RPC '${e}' stream ${i} sending:`,g),u.send(g))},Jo:()=>u.close()});return $d(u,uf.EventType.OPEN,()=>{h||(Oe(fr,`RPC '${e}' stream ${i} transport opened.`),p.i_())}),$d(u,uf.EventType.CLOSE,()=>{h||(h=!0,Oe(fr,`RPC '${e}' stream ${i} transport closed`),p.o_(),this.E_(u))}),$d(u,uf.EventType.ERROR,g=>{h||(h=!0,xl(fr,`RPC '${e}' stream ${i} transport errored. Name:`,g.name,"Message:",g.message),p.o_(new Ce(ue.UNAVAILABLE,"The operation could not be completed")))}),$d(u,uf.EventType.MESSAGE,g=>{var x;if(!h){const v=g.data[0];At(!!v,16349);const y=v,b=(y==null?void 0:y.error)||((x=y[0])==null?void 0:x.error);if(b){Oe(fr,`RPC '${e}' stream ${i} received error:`,b);const w=b.status;let k=function(_){const N=Tn[_];if(N!==void 0)return PR(N)}(w),E=b.message;w==="NOT_FOUND"&&E.includes("database")&&E.includes("does not exist")&&E.includes(this.databaseId.database)&&xl(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),k===void 0&&(k=ue.INTERNAL,E="Unknown error status: "+w+" with message "+b.message),h=!0,p.o_(new Ce(k,E)),u.close()}else Oe(fr,`RPC '${e}' stream ${i} received:`,v),p.__(v)}}),qc.u_(),setTimeout(()=>{p.s_()},0),p}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return KD()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fZ(t){return new qc(t)}function $6(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(t){return new gJ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qc.c_=!1;class zR{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="PersistentStream";class WR{constructor(e,n,r,i,a,s,o,l){this.Ci=e,this.b_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(Ws(n.toString()),Ws("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Ce(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Oe(eN,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(Oe(eN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hZ extends WR{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=xJ(this.serializer,e),r=function(a){if(!("targetChange"in a))return rt.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?rt.min():s.readTime?Za(s.readTime):rt.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=s7(this.serializer),n.addTarget=function(a,s){let o;const l=s.target;if(o=e7(l)?{documents:_J(a,l)}:{query:SJ(a,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=CR(a,s.resumeToken);const c=r7(a,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(rt.min())>0){o.readTime=Wm(a,s.snapshotVersion.toTimestamp());const c=r7(a,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=EJ(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=s7(this.serializer),n.removeTarget=e,this.K_(n)}}class pZ extends WR{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return At(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){At(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=wJ(e.writeResults,e.commitTime),r=Za(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=s7(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>bJ(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mZ{}class gZ extends mZ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ce(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Wo(e,i7(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ce(ue.UNKNOWN,a.toString())})}jo(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.jo(e,i7(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ce(ue.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function yZ(t,e,n,r){return new gZ(t,e,n,r)}class vZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ws(n),this.aa=!1):Oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl="RemoteStore";class xZ{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo(s=>{r.enqueueAndForget(async()=>{Kl(this)&&(Oe(bl,"Restarting streams for network reachability change."),await async function(l){const c=it(l);c.Ea.add(4),await Wp(c),c.Va.set("Unknown"),c.Ea.delete(4),await A2(c)}(this))})}),this.Va=new vZ(r,i)}}async function A2(t){if(Kl(t))for(const e of t.Ra)await e(!0)}async function Wp(t){for(const e of t.Ra)await e(!1)}function qR(t,e){const n=it(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),vb(n)?yb(n):td(n).O_()&&gb(n,e))}function mb(t,e){const n=it(t),r=td(n);n.Ia.delete(e),r.O_()&&HR(n,e),n.Ia.size===0&&(r.O_()?r.L_():Kl(n)&&n.Va.set("Unknown"))}function gb(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(rt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}td(t).Z_(e)}function HR(t,e){t.da.$e(e),td(t).X_(e)}function yb(t){t.da=new fJ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),td(t).start(),t.Va.ua()}function vb(t){return Kl(t)&&!td(t).x_()&&t.Ia.size>0}function Kl(t){return it(t).Ea.size===0}function GR(t){t.da=void 0}async function bZ(t){t.Va.set("Online")}async function wZ(t){t.Ia.forEach((e,n)=>{gb(t,e)})}async function _Z(t,e){GR(t),vb(t)?(t.Va.ha(e),yb(t)):t.Va.set("Unknown")}async function SZ(t,e,n){if(t.Va.set("Online"),e instanceof IR&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.da.removeTarget(o))}(t,e)}catch(r){Oe(bl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hm(t,r)}else if(e instanceof G3?t.da.Xe(e):e instanceof AR?t.da.st(e):t.da.tt(e),!n.isEqual(rt.min()))try{const r=await BR(t.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.da.Tt(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=a.Ia.get(c);u&&a.Ia.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=a.Ia.get(l);if(!u)return;a.Ia.set(l,u.withResumeToken(or.EMPTY_BYTE_STRING,u.snapshotVersion)),HR(a,l);const d=new jo(u.target,l,c,u.sequenceNumber);gb(a,d)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Oe(bl,"Failed to raise snapshot:",r),await Hm(t,r)}}async function Hm(t,e,n){if(!Zu(e))throw e;t.Ea.add(1),await Wp(t),t.Va.set("Offline"),n||(n=()=>BR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Oe(bl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await A2(t)})}function KR(t,e){return e().catch(n=>Hm(t,n,e))}async function I2(t){const e=it(t),n=l0(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:eb;for(;kZ(e);)try{const i=await iZ(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,EZ(e,i)}catch(i){await Hm(e,i)}YR(e)&&QR(e)}function kZ(t){return Kl(t)&&t.Ta.length<10}function EZ(t,e){t.Ta.push(e);const n=l0(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function YR(t){return Kl(t)&&!l0(t).x_()&&t.Ta.length>0}function QR(t){l0(t).start()}async function NZ(t){l0(t).ra()}async function TZ(t){const e=l0(t);for(const n of t.Ta)e.ea(n.mutations)}async function PZ(t,e,n){const r=t.Ta.shift(),i=lb.from(r,e,n);await KR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await I2(t)}async function AZ(t,e){e&&l0(t).Y_&&await async function(r,i){if(function(s){return cJ(s)&&s!==ue.ABORTED}(i.code)){const a=r.Ta.shift();l0(r).B_(),await KR(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await I2(r)}}(t,e),YR(t)&&QR(t)}async function tN(t,e){const n=it(t);n.asyncQueue.verifyOperationInProgress(),Oe(bl,"RemoteStore received new credentials");const r=Kl(n);n.Ea.add(3),await Wp(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await A2(n)}async function IZ(t,e){const n=it(t);e?(n.Ea.delete(2),await A2(n)):e||(n.Ea.add(2),await Wp(n),n.Va.set("Unknown"))}function td(t){return t.ma||(t.ma=function(n,r,i){const a=it(n);return a.sa(),new hZ(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:bZ.bind(null,t),Yo:wZ.bind(null,t),t_:_Z.bind(null,t),J_:SZ.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),vb(t)?yb(t):t.Va.set("Unknown")):(await t.ma.stop(),GR(t))})),t.ma}function l0(t){return t.fa||(t.fa=function(n,r,i){const a=it(n);return a.sa(),new pZ(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:NZ.bind(null,t),t_:AZ.bind(null,t),ta:TZ.bind(null,t),na:PZ.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await I2(t)):(await t.fa.stop(),t.Ta.length>0&&(Oe(bl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Xo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,o=new xb(e,n,s,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bb(t,e){if(Ws("AsyncQueue",`${e}: ${t}`),Zu(t))return new Ce(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{static emptySet(e){return new Hc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||We.comparator(n.key,r.key):(n,r)=>We.comparator(n.key,r.key),this.keyedMap=df(),this.sortedSet=new un(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Hc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.ga=new un(We.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ze(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class mu{constructor(e,n,r,i,a,s,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new mu(e,n,Hc.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&S2(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CZ{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class OZ{constructor(){this.queries=rN(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=it(n),a=i.queries;i.queries=rN(),a.forEach((s,o)=>{for(const l of o.ba)l.onError(r)})})(this,new Ce(ue.ABORTED,"Firestore shutting down"))}}function rN(){return new Gl(t=>gR(t),S2)}async function XR(t,e){const n=it(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Sa()&&e.Da()&&(r=2):(a=new CZ,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=bb(s,`Initialization of query '${mc(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,a),a.ba.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&wb(n)}async function JR(t,e){const n=it(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.ba.indexOf(e);s>=0&&(a.ba.splice(s,1),a.ba.length===0?i=e.Da()?0:1:!a.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function jZ(t,e){const n=it(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.ba)o.Fa(i)&&(r=!0);s.wa=i}}r&&wb(n)}function MZ(t,e,n){const r=it(t),i=r.queries.get(e);if(i)for(const a of i.ba)a.onError(n);r.queries.delete(e)}function wb(t){t.Ca.forEach(e=>{e.next()})}var c7,iN;(iN=c7||(c7={})).Ma="default",iN.Cache="cache";class ZR{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new mu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=mu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==c7.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e){this.key=e}}class t${constructor(e){this.key=e}}class DZ{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=pt(),this.mutatedKeys=pt(),this.eu=yR(e),this.tu=new Hc(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new nN,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),p=k2(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),x=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?g!==x&&(r.track({type:3,doc:p}),v=!0):this.su(h,p)||(r.track({type:2,doc:p}),v=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(o=!0)):!h&&p?(r.track({type:0,doc:p}),v=!0):h&&!p&&(r.track({type:1,doc:h}),v=!0,(l||c)&&(o=!0)),v&&(p?(s=s.add(p),a=x?a.add(u):a.delete(u)):(s=s.delete(u),a=a.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),a=a.delete(u.key),r.track({type:1,doc:u})}return{tu:s,iu:r,Ss:o,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((u,d)=>function(p,g){const x=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ze(20277,{Vt:v})}};return x(p)-x(g)}(u.type,d.type)||this.eu(u.doc,d.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Ya.size===0&&this.current&&!i?1:0,c=l!==this.Xa;return this.Xa=l,s.length!==0||c?{snapshot:new mu(this.query,e.tu,a,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nN,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=pt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new t$(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new e$(r))}),n}cu(e){this.Za=e.ks,this.Ya=pt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return mu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const _b="SyncEngine";class RZ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $Z{constructor(e){this.key=e,this.hu=!1}}class LZ{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Gl(o=>gR(o),S2),this.Iu=new Map,this.Eu=new Set,this.Ru=new un(We.comparator),this.Au=new Map,this.Vu=new db,this.du={},this.mu=new Map,this.fu=pu.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FZ(t,e,n=!0){const r=o$(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await n$(r,e,n,!0),i}async function VZ(t,e){const n=o$(t);await n$(n,e,!0,!1)}async function n$(t,e,n,r){const i=await aZ(t.localStore,Ja(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await UZ(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&qR(t.remoteStore,i),o}async function UZ(t,e,n,r,i){t.pu=(d,h,p)=>async function(x,v,y,b){let w=v.view.ru(y);w.Ss&&(w=await QE(x.localStore,v.query,!1).then(({documents:_})=>v.view.ru(_,w)));const k=b&&b.targetChanges.get(v.targetId),E=b&&b.targetMismatches.get(v.targetId)!=null,S=v.view.applyChanges(w,x.isPrimaryClient,k,E);return sN(x,v.targetId,S.au),S.snapshot}(t,d,h,p);const a=await QE(t.localStore,e,!0),s=new DZ(e,a.ks),o=s.ru(a.documents),l=zp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(o,t.isPrimaryClient,l);sN(t,n,c.au);const u=new RZ(e,n,s);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function BZ(t,e,n){const r=it(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(s=>!S2(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await o7(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&mb(r.remoteStore,i.targetId),u7(r,i.targetId)}).catch(Ju)):(u7(r,i.targetId),await o7(r.localStore,i.targetId,!0))}async function zZ(t,e){const n=it(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),mb(n.remoteStore,r.targetId))}async function WZ(t,e,n){const r=XZ(t);try{const i=await function(s,o){const l=it(s),c=Yt.now(),u=o.reduce((p,g)=>p.add(g.key),pt());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=qs(),x=pt();return l.xs.getEntries(p,u).next(v=>{g=v,g.forEach((y,b)=>{b.isValidDocument()||(x=x.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(v=>{d=v;const y=[];for(const b of o){const w=iJ(b,d.get(b.key).overlayedDocument);w!=null&&y.push(new v0(b.key,w,lR(w.value.mapValue),qi.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,y,o)}).next(v=>{h=v;const y=v.applyToLocalDocumentSet(d,x);return l.documentOverlayCache.saveOverlays(p,v.batchId,y)})}).then(()=>({batchId:h.batchId,changes:xR(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let c=s.du[s.currentUser.toKey()];c||(c=new un(ht)),c=c.insert(o,l),s.du[s.currentUser.toKey()]=c}(r,i.batchId,n),await qp(r,i.changes),await I2(r.remoteStore)}catch(i){const a=bb(i,"Failed to persist write");n.reject(a)}}async function r$(t,e){const n=it(t);try{const r=await nZ(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Au.get(a);s&&(At(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?At(s.hu,14607):i.removedDocuments.size>0&&(At(s.hu,42227),s.hu=!1))}),await qp(n,r,e)}catch(r){await Ju(r)}}function aN(t,e,n){const r=it(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=it(s);l.onlineState=o;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.ba)h.va(o)&&(c=!0)}),c&&wb(l)}(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qZ(t,e,n){const r=it(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let s=new un(We.comparator);s=s.insert(a,yr.newNoDocument(a,rt.min()));const o=pt().add(a),l=new T2(rt.min(),new Map,new un(ht),s,o);await r$(r,l),r.Ru=r.Ru.remove(a),r.Au.delete(e),Sb(r)}else await o7(r.localStore,e,!1).then(()=>u7(r,e,n)).catch(Ju)}async function HZ(t,e){const n=it(t),r=e.batch.batchId;try{const i=await tZ(n.localStore,e);a$(n,r,null),i$(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qp(n,i)}catch(i){await Ju(i)}}async function GZ(t,e,n){const r=it(t);try{const i=await function(s,o){const l=it(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(d=>(At(d!==null,37113),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);a$(r,e,n),i$(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await qp(r,i)}catch(i){await Ju(i)}}function i$(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function a$(t,e,n){const r=it(t);let i=r.du[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function u7(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||s$(t,r)})}function s$(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(mb(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Sb(t))}function sN(t,e,n){for(const r of n)r instanceof e$?(t.Vu.addReference(r.key,e),KZ(t,r)):r instanceof t$?(Oe(_b,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||s$(t,r.key)):Ze(19791,{wu:r})}function KZ(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Oe(_b,"New document in limbo: "+n),t.Eu.add(r),Sb(t))}function Sb(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new We(zt.fromString(e)),r=t.fu.next();t.Au.set(r,new $Z(n)),t.Ru=t.Ru.insert(n,r),qR(t.remoteStore,new jo(Ja(ab(n.path)),r,"TargetPurposeLimboResolution",b2.ce))}}async function qp(t,e,n){const r=it(t),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{s.push(r.pu(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=hb.Es(l.targetId,c);a.push(d)}}))}),await Promise.all(s),r.Pu.J_(i),await async function(l,c){const u=it(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>pe.forEach(c,h=>pe.forEach(h.Ts,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>pe.forEach(h.Is,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Zu(d))throw d;Oe(pb,"Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.vs.get(h),g=p.snapshotVersion,x=p.withLastLimboFreeSnapshotVersion(g);u.vs=u.vs.insert(h,x)}}}(r.localStore,a))}async function YZ(t,e){const n=it(t);if(!n.currentUser.isEqual(e)){Oe(_b,"User change. New user:",e.toKey());const r=await UR(n.localStore,e);n.currentUser=e,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new Ce(ue.CANCELLED,s))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qp(n,r.Ns)}}function QZ(t,e){const n=it(t),r=n.Au.get(e);if(r&&r.hu)return pt().add(r.key);{let i=pt();const a=n.Iu.get(e);if(!a)return i;for(const s of a){const o=n.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function o$(t){const e=it(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=r$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qZ.bind(null,e),e.Pu.J_=jZ.bind(null,e.eventManager),e.Pu.yu=MZ.bind(null,e.eventManager),e}function XZ(t){const e=it(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GZ.bind(null,e),e}class Gm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=P2(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return eZ(this.persistence,new XJ,e.initialUser,this.serializer)}Cu(e){return new VR(fb.Vi,this.serializer)}Du(e){return new oZ}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gm.provider={build:()=>new Gm};class JZ extends Gm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){At(this.persistence.referenceDelegate instanceof qm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new RJ(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Br.withCacheSize(this.cacheSizeBytes):Br.DEFAULT;return new VR(r=>qm.Vi(r,n),this.serializer)}}class d7{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>aN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=YZ.bind(null,this.syncEngine),await IZ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new OZ}()}createDatastore(e){const n=P2(e.databaseInfo.databaseId),r=fZ(e.databaseInfo);return yZ(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,o){return new xZ(r,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>aN(this.syncEngine,n,0),function(){return ZE.v()?new ZE:new lZ}())}createSyncEngine(e,n){return function(i,a,s,o,l,c,u){const d=new LZ(i,a,s,o,l,c);return u&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=it(i);Oe(bl,"RemoteStore shutting down."),a.Ea.add(5),await Wp(a),a.Aa.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}d7.provider={build:()=>new d7};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ws("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="FirestoreClient";class ZZ{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=pr.UNAUTHENTICATED,this.clientId=Zx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{Oe(c0,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Oe(c0,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=bb(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function L6(t,e){t.asyncQueue.verifyOperationInProgress(),Oe(c0,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await UR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function oN(t,e){t.asyncQueue.verifyOperationInProgress();const n=await eee(t);Oe(c0,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>tN(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>tN(e.remoteStore,i)),t._onlineComponents=e}async function eee(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Oe(c0,"Using user provided OfflineComponentProvider");try{await L6(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ue.FAILED_PRECONDITION||i.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;xl("Error using user provided cache. Falling back to memory cache: "+n),await L6(t,new Gm)}}else Oe(c0,"Using default OfflineComponentProvider"),await L6(t,new JZ(void 0));return t._offlineComponents}async function c$(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Oe(c0,"Using user provided OnlineComponentProvider"),await oN(t,t._uninitializedComponentsProvider._online)):(Oe(c0,"Using default OnlineComponentProvider"),await oN(t,new d7))),t._onlineComponents}function tee(t){return c$(t).then(e=>e.syncEngine)}async function f7(t){const e=await c$(t),n=e.eventManager;return n.onListen=FZ.bind(null,e.syncEngine),n.onUnlisten=BZ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VZ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=zZ.bind(null,e.syncEngine),n}function nee(t,e,n,r){const i=new l$(r),a=new ZR(e,i,n);return t.asyncQueue.enqueueAndForget(async()=>XR(await f7(t),a)),()=>{i.Nu(),t.asyncQueue.enqueueAndForget(async()=>JR(await f7(t),a))}}function ree(t,e,n={}){const r=new Xo;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,c){const u=new l$({next:h=>{u.Nu(),s.enqueueAndForget(()=>JR(a,d)),h.fromCache&&l.source==="server"?c.reject(new Ce(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new ZR(o,u,{includeMetadataChanges:!0,Ka:!0});return XR(a,d)}(await f7(t),t.asyncQueue,e,n,r)),r.promise}function iee(t,e){const n=new Xo;return t.asyncQueue.enqueueAndForget(async()=>WZ(await tee(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u$(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aee="ComponentProvider",lN=new Map;function see(t,e,n,r,i){return new NX(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,u$(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$="firestore.googleapis.com",cN=!0;class uN{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=d$,this.ssl=cN}else this.host=e.host,this.ssl=e.ssl??cN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MJ)throw new Ce(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mX("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=u$(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ce(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ce(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ce(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class C2{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uN({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uN(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new aX;switch(r.type){case"firstParty":return new cX(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ce(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=lN.get(n);r&&(Oe(aee,"Removing Datastore"),lN.delete(n),r.terminate())}(this),Promise.resolve()}}function oee(t,e,n,r={}){var c;t=Wi(t,C2);const i=m0(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(Yx(`https://${o}`),Qx("Firestore",!0)),a.host!==d$&&a.host!==o&&xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:r};if(!r0(l,s)&&(t._setSettings(l),r.mockUserToken)){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=pr.MOCK_USER;else{u=jD(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Ce(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new pr(h)}t._authCredentials=new sX(new QD(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new x0(this.firestore,e,this._query)}}class kn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kn(this.firestore,e,this._key)}toJSON(){return{type:kn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Up(n,kn._jsonSchema))return new kn(e,r||null,new We(zt.fromString(n.referencePath)))}}kn._jsonSchemaVersion="firestore/documentReference/1.0",kn._jsonSchema={type:Cn("string",kn._jsonSchemaVersion),referencePath:Cn("string")};class Jo extends x0{constructor(e,n,r){super(e,n,ab(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kn(this.firestore,null,new We(e))}withConverter(e){return new Jo(this.firestore,e,this._path)}}function Ld(t,e,...n){if(t=jt(t),XD("collection","path",e),t instanceof C2){const r=zt.fromString(e,...n);return SE(r),new Jo(t,null,r)}{if(!(t instanceof kn||t instanceof Jo))throw new Ce(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(zt.fromString(e,...n));return SE(r),new Jo(t.firestore,null,r)}}function K3(t,e,...n){if(t=jt(t),arguments.length===1&&(e=Zx.newId()),XD("doc","path",e),t instanceof C2){const r=zt.fromString(e,...n);return _E(r),new kn(t,null,new We(r))}{if(!(t instanceof kn||t instanceof Jo))throw new Ce(ue.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(zt.fromString(e,...n));return _E(r),new kn(t.firestore,t instanceof Jo?t.converter:null,new We(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN="AsyncQueue";class fN{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zR(this,"async_queue_retry"),this._c=()=>{const r=$6();r&&Oe(dN,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=$6();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=$6();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Xo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Zu(e))throw e;Oe(dN,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ws("INTERNAL UNHANDLED ERROR: ",hN(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=xb.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&Ze(47125,{Pc:hN(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function hN(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class u0 extends C2{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new fN,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fN(e),this._firestoreClient=void 0,await e}}}function lee(t,e){const n=typeof t=="object"?t:v2(),r=typeof t=="string"?t:Fm,i=g0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=ID("firestore");a&&oee(i,...a)}return i}function kb(t){if(t._terminated)throw new Ce(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||cee(t),t._firestoreClient}function cee(t){var r,i,a,s;const e=t._freezeSettings(),n=see(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new ZZ(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ri(or.fromBase64String(e))}catch(n){throw new Ce(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ri(or.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Up(e,Ri._jsonSchema))return Ri.fromBase64String(e.bytes)}}Ri._jsonSchemaVersion="firestore/bytes/1.0",Ri._jsonSchema={type:Cn("string",Ri._jsonSchemaVersion),bytes:Cn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ce(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ce(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ce(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ht(this._lat,e._lat)||ht(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:es._jsonSchemaVersion}}static fromJSON(e){if(Up(e,es._jsonSchema))return new es(e.latitude,e.longitude)}}es._jsonSchemaVersion="firestore/geoPoint/1.0",es._jsonSchema={type:Cn("string",es._jsonSchemaVersion),latitude:Cn("number"),longitude:Cn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:wa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Up(e,wa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new wa(e.vectorValues);throw new Ce(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wa._jsonSchemaVersion="firestore/vectorValue/1.0",wa._jsonSchema={type:Cn("string",wa._jsonSchemaVersion),vectorValues:Cn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uee=/^__.*__$/;class dee{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new v0(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bp(e,this.data,n,this.fieldTransforms)}}class f${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new v0(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function h$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ze(40011,{dataSource:t})}}class Tb{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Tb({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Km(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(h$(this.dataSource)&&uee.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class fee{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||P2(e)}createContext(e,n,r,i=!1){return new Tb({dataSource:e,methodName:n,targetDoc:r,path:rr.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function O2(t){const e=t._freezeSettings(),n=P2(t._databaseId);return new fee(t._databaseId,!!e.ignoreUndefinedProperties,n)}function p$(t,e,n,r,i,a={}){const s=t.createContext(a.merge||a.mergeFields?2:0,e,n,i);Pb("Data must be an object, but it was:",s,r);const o=m$(r,s);let l,c;if(a.merge)l=new pi(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const u=[];for(const d of a.mergeFields){const h=gu(e,d,n);if(!s.contains(h))throw new Ce(ue.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);v$(u,h)||u.push(h)}l=new pi(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new dee(new Hr(o),l,c)}class j2 extends Nb{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof j2}}function hee(t,e,n,r){const i=t.createContext(1,e,n);Pb("Data must be an object, but it was:",i,r);const a=[],s=Hr.empty();y0(r,(l,c)=>{const u=y$(e,l,n);c=jt(c);const d=i.childContextForFieldPath(u);if(c instanceof j2)a.push(u);else{const h=Hp(c,d);h!=null&&(a.push(u),s.set(u,h))}});const o=new pi(a);return new f$(s,o,i.fieldTransforms)}function pee(t,e,n,r,i,a){const s=t.createContext(1,e,n),o=[gu(e,r,n)],l=[i];if(a.length%2!=0)throw new Ce(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)o.push(gu(e,a[h])),l.push(a[h+1]);const c=[],u=Hr.empty();for(let h=o.length-1;h>=0;--h)if(!v$(c,o[h])){const p=o[h];let g=l[h];g=jt(g);const x=s.childContextForFieldPath(p);if(g instanceof j2)c.push(p);else{const v=Hp(g,x);v!=null&&(c.push(p),u.set(p,v))}}const d=new pi(c);return new f$(u,d,s.fieldTransforms)}function mee(t,e,n,r=!1){return Hp(n,t.createContext(r?4:3,e))}function Hp(t,e){if(g$(t=jt(t)))return Pb("Unsupported field value:",e,t),m$(t,e);if(t instanceof Nb)return function(r,i){if(!h$(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let l=Hp(o,i.childContextForArray(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return JX(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Yt.fromDate(r);return{timestampValue:Wm(i.serializer,a)}}if(r instanceof Yt){const a=new Yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wm(i.serializer,a)}}if(r instanceof es)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ri)return{bytesValue:CR(i.serializer,r._byteString)};if(r instanceof kn){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ub(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof wa)return function(s,o){const l=s instanceof wa?s.toArray():s;return{mapValue:{fields:{[sR]:{stringValue:oR},[Vm]:{arrayValue:{values:l.map(u=>{if(typeof u!="number")throw o.createError("VectorValues must only contain numeric values.");return sb(o.serializer,u)})}}}}}}(r,i);if(LR(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${x2(r)}`)}(t,e)}function m$(t,e){const n={};return eR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):y0(t,(r,i)=>{const a=Hp(i,e.childContextForField(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function g$(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Yt||t instanceof es||t instanceof Ri||t instanceof kn||t instanceof Nb||t instanceof wa||LR(t))}function Pb(t,e,n){if(!g$(n)||!JD(n)){const r=x2(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function gu(t,e,n){if((e=jt(e))instanceof Eb)return e._internalPath;if(typeof e=="string")return y$(t,e);throw Km("Field path arguments must be of type string or ",t,!1,void 0,n)}const gee=new RegExp("[~\\*/\\[\\]]");function y$(t,e,n){if(e.search(gee)>=0)throw Km(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Eb(...e.split("."))._internalPath}catch{throw Km(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Km(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Ce(ue.INVALID_ARGUMENT,o+t+l)}function v$(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yee{convertValue(e,n="none"){switch(o0(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _n(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(s0(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ze(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return y0(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[Vm].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>_n(s.doubleValue));return new wa(n)}convertGeoPoint(e){return new es(_n(e.latitude),_n(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=_2(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ph(e));default:return null}}convertTimestamp(e){const n=a0(e);return new Yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=zt.fromString(e);At($R(r),9688,{name:e});const i=new Ah(r.get(1),r.get(3)),a=new We(r.popFirst(5));return i.isEqual(n)||Ws(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab extends yee{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ri(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,n)}}const pN="@firebase/firestore",mN="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(gu("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vee extends x${data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ce(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ib{}class w$ extends Ib{}function xee(t,e,...n){let r=[];e instanceof Ib&&r.push(e),r=r.concat(n),function(a){const s=a.filter(l=>l instanceof Ob).length,o=a.filter(l=>l instanceof Cb).length;if(s>1||s>0&&o>0)throw new Ce(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Cb extends w${constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Cb(e,n,r)}_apply(e){const n=this._parse(e);return _$(e._query,n),new x0(e.firestore,e.converter,t7(e._query,n))}_parse(e){const n=O2(e.firestore);return function(a,s,o,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Ce(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){vN(d,u);const g=[];for(const x of d)g.push(yN(l,a,x));h={arrayValue:{values:g}}}else h=yN(l,a,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||vN(d,u),h=mee(o,s,d,u==="in"||u==="not-in");return In.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Ob extends Ib{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ob(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Na.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)_$(s,l),s=t7(s,l)}(e._query,n),new x0(e.firestore,e.converter,t7(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jb extends w${constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new jb(e,n)}_apply(e){const n=function(i,a,s){if(i.startAt!==null)throw new Ce(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ce(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ch(a,s)}(e._query,this._field,this._direction);return new x0(e.firestore,e.converter,WX(e._query,n))}}function bee(t,e="asc"){const n=e,r=gu("orderBy",t);return jb._create(r,n)}function yN(t,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new Ce(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mR(e)&&n.indexOf("/")!==-1)throw new Ce(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(zt.fromString(n));if(!We.isDocumentKey(r))throw new Ce(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return CE(t,new We(r))}if(n instanceof kn)return CE(t,n._key);throw new Ce(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${x2(n)}.`)}function vN(t,e){if(!Array.isArray(t)||t.length===0)throw new Ce(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _$(t,e){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ce(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ce(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function S$(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class hf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ol extends x${constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Y3(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gu("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ol._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ol._jsonSchemaVersion="firestore/documentSnapshot/1.0",ol._jsonSchema={type:Cn("string",ol._jsonSchemaVersion),bundleSource:Cn("string","DocumentSnapshot"),bundleName:Cn("string"),bundle:Cn("string")};class Y3 extends ol{data(e={}){return super.data(e)}}class ll{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new hf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Y3(this._firestore,this._userDataWriter,r.key,r,new hf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ce(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new Y3(i._firestore,i._userDataWriter,o.doc.key,o.doc,new hf(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new Y3(i._firestore,i._userDataWriter,o.doc.key,o.doc,new hf(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:wee(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ll._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function wee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ze(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ll._jsonSchemaVersion="firestore/querySnapshot/1.0",ll._jsonSchema={type:Cn("string",ll._jsonSchemaVersion),bundleSource:Cn("string","QuerySnapshot"),bundleName:Cn("string"),bundle:Cn("string")};function _ee(t){t=Wi(t,x0);const e=Wi(t.firestore,u0),n=kb(e),r=new Ab(e);return b$(t._query),ree(n,t._query).then(i=>new ll(e,r,t,i))}function See(t,e,n){t=Wi(t,kn);const r=Wi(t.firestore,u0),i=S$(t.converter,e),a=O2(r);return M2(r,[p$(a,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,qi.none())])}function kee(t,e,n,...r){t=Wi(t,kn);const i=Wi(t.firestore,u0),a=O2(i);let s;return s=typeof(e=jt(e))=="string"||e instanceof Eb?pee(a,"updateDoc",t._key,e,n,r):hee(a,"updateDoc",t._key,e),M2(i,[s.toMutation(t._key,qi.exists(!0))])}function xN(t){return M2(Wi(t.firestore,u0),[new ob(t._key,qi.none())])}function Eee(t,e){const n=Wi(t.firestore,u0),r=K3(t),i=S$(t.converter,e),a=O2(t.firestore);return M2(n,[p$(a,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,qi.exists(!1))]).then(()=>r)}function bN(t,...e){var c,u,d;t=jt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||gN(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(gN(e[r])){const h=e[r];e[r]=(c=h.next)==null?void 0:c.bind(h),e[r+1]=(u=h.error)==null?void 0:u.bind(h),e[r+2]=(d=h.complete)==null?void 0:d.bind(h)}let a,s,o;if(t instanceof kn)s=Wi(t.firestore,u0),o=ab(t._key.path),a={next:h=>{e[r]&&e[r](Nee(s,t,h))},error:e[r+1],complete:e[r+2]};else{const h=Wi(t,x0);s=Wi(h.firestore,u0),o=h._query;const p=new Ab(s);a={next:g=>{e[r]&&e[r](new ll(s,p,h,g))},error:e[r+1],complete:e[r+2]},b$(t._query)}const l=kb(s);return nee(l,o,i,a)}function M2(t,e){const n=kb(t);return iee(n,e)}function Nee(t,e,n){const r=n.docs.get(e._key),i=new Ab(t);return new ol(t,i,e._key,r,new hf(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){iX(Hl),Ea(new Yi("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new u0(new oX(r.getProvider("auth-internal")),new uX(s,r.getProvider("app-check-internal")),TX(s,i),s);return a={useFetchStreams:n,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Zr(pN,mN,e),Zr(pN,mN,"esm2020")})();var Tee="firebase",Pee="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zr(Tee,Pee,"app");function k$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Aee=k$,E$=new ql("auth","Firebase",k$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym=new y2("@firebase/auth");function Iee(t,...e){Ym.logLevel<=ft.WARN&&Ym.warn(`Auth (${Hl}): ${t}`,...e)}function Q3(t,...e){Ym.logLevel<=ft.ERROR&&Ym.error(`Auth (${Hl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(t,...e){throw Db(t,...e)}function _a(t,...e){return Db(t,...e)}function Mb(t,e,n){const r={...Aee(),[e]:n};return new ql("auth","Firebase",r).create(e,{appName:t.name})}function Ds(t){return Mb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cee(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qi(t,"argument-error"),Mb(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Db(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return E$.create(t,...e)}function Je(t,e,...n){if(!t)throw Db(e,...n)}function Es(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Q3(e),new Error(e)}function Hs(t,e){t||Es(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h7(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Oee(){return wN()==="http:"||wN()==="https:"}function wN(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jee(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Oee()||MD()||"connection"in navigator)?navigator.onLine:!0}function Mee(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hs(n>e,"Short delay should be less than long delay!"),this.isMobile=jY()||RY()}get(){return jee()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(t,e){Hs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dee={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ree=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$ee=new Gp(3e4,6e4);function b0(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function cs(t,e,n,r,i={}){return T$(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const o=Vp({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...a};return DY()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&m0(t.emulatorConfig.host)&&(c.credentials="include"),N$.fetch()(await P$(t,t.config.apiHost,n,o),c)})}async function T$(t,e,n){t._canInitEmulator=!1;const r={...Dee,...e};try{const i=new Fee(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Y4(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Y4(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Y4(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Y4(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Mb(t,u,c);Qi(t,u)}}catch(i){if(i instanceof Ji)throw i;Qi(t,"network-request-failed",{message:String(i)})}}async function Kp(t,e,n,r,i={}){const a=await cs(t,e,n,r,i);return"mfaPendingCredential"in a&&Qi(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function P$(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?Rb(t.config,i):`${t.config.apiScheme}://${i}`;return Ree.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function Lee(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Fee{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_a(this.auth,"network-request-failed")),$ee.get())})}}function Y4(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=_a(t,e,r);return i.customData._tokenResponse=n,i}function _N(t){return t!==void 0&&t.enterprise!==void 0}class Vee{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Lee(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Uee(t,e){return cs(t,"GET","/v2/recaptchaConfig",b0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bee(t,e){return cs(t,"POST","/v1/accounts:delete",e)}async function Qm(t,e){return cs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zee(t,e=!1){const n=jt(t),r=await n.getIdToken(e),i=$b(r);Je(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:qf(F6(i.auth_time)),issuedAtTime:qf(F6(i.iat)),expirationTime:qf(F6(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function F6(t){return Number(t)*1e3}function $b(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Q3("JWT malformed, contained fewer than 3 sections"),null;try{const i=PD(n);return i?JSON.parse(i):(Q3("Failed to decode base64 JWT payload"),null)}catch(i){return Q3("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function SN(t){const e=$b(t);return Je(e,"internal-error"),Je(typeof e.exp<"u","internal-error"),Je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ji&&Wee(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Wee({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qf(this.lastLoginAt),this.creationTime=qf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xm(t){var d;const e=t.auth,n=await t.getIdToken(),r=await wl(t,Qm(e,{idToken:n}));Je(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(d=i.providerUserInfo)!=null&&d.length?A$(i.providerUserInfo):[],s=Gee(t.providerData,a),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),c=o?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new p7(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function Hee(t){const e=jt(t);await Xm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Gee(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function A$(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kee(t,e){const n=await T$(t,{},async()=>{const r=Vp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await P$(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&m0(t.emulatorConfig.host)&&(l.credentials="include"),N$.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Yee(t,e){return cs(t,"POST","/v2/accounts:revokeToken",b0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Je(e.idToken,"internal-error"),Je(typeof e.idToken<"u","internal-error"),Je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Je(e.length!==0,"internal-error");const n=SN(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await Kee(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new Gc;return r&&(Je(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Je(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Je(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gc,this.toJSON())}_performRefresh(){return Es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(t,e){Je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fa{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new qee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new p7(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await wl(this,this.stsTokenManager.getToken(this.auth,e));return Je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zee(this,e)}reload(){return Hee(this)}_assign(e){this!==e&&(Je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qr(this.auth.app))return Promise.reject(Ds(this.auth));const e=await this.getIdToken();return await wl(this,Bee(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:h,isAnonymous:p,providerData:g,stsTokenManager:x}=n;Je(d&&x,e,"internal-error");const v=Gc.fromJSON(this.name,x);Je(typeof d=="string",e,"internal-error"),ho(r,e.name),ho(i,e.name),Je(typeof h=="boolean",e,"internal-error"),Je(typeof p=="boolean",e,"internal-error"),ho(a,e.name),ho(s,e.name),ho(o,e.name),ho(l,e.name),ho(c,e.name),ho(u,e.name);const y=new fa({uid:d,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:p,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:v,createdAt:c,lastLoginAt:u});return g&&Array.isArray(g)&&(y.providerData=g.map(b=>({...b}))),l&&(y._redirectEventId=l),y}static async _fromIdTokenResponse(e,n,r=!1){const i=new Gc;i.updateFromServerResponse(n);const a=new fa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Xm(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Je(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?A$(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new Gc;o.updateFromIdToken(r);const l=new fa({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new p7(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=new Map;function Ns(t){Hs(t instanceof Function,"Expected a class definition");let e=kN.get(t);return e?(Hs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}I$.type="NONE";const EN=I$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(t,e,n){return`firebase:${t}:${e}:${n}`}class Kc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=X3(this.userKey,i.apiKey,a),this.fullPersistenceKey=X3("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Qm(this.auth,{idToken:e}).catch(()=>{});return n?fa._fromGetAccountInfoResponse(this.auth,n,e):null}return fa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Kc(Ns(EN),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||Ns(EN);const s=X3(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const u=await c._get(s);if(u){let d;if(typeof u=="string"){const h=await Qm(e,{idToken:u}).catch(()=>{});if(!h)break;d=await fa._fromGetAccountInfoResponse(e,h,u)}else d=fa._fromJSON(e,u);c!==a&&(o=d),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Kc(a,e,r):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(s)}catch{}})),new Kc(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(M$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(C$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(R$(e))return"Blackberry";if($$(e))return"Webos";if(O$(e))return"Safari";if((e.includes("chrome/")||j$(e))&&!e.includes("edge/"))return"Chrome";if(D$(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function C$(t=_r()){return/firefox\//i.test(t)}function O$(t=_r()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function j$(t=_r()){return/crios\//i.test(t)}function M$(t=_r()){return/iemobile/i.test(t)}function D$(t=_r()){return/android/i.test(t)}function R$(t=_r()){return/blackberry/i.test(t)}function $$(t=_r()){return/webos/i.test(t)}function Lb(t=_r()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Qee(t=_r()){var e;return Lb(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Xee(){return $Y()&&document.documentMode===10}function L$(t=_r()){return Lb(t)||D$(t)||$$(t)||R$(t)||/windows phone/i.test(t)||M$(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F$(t,e=[]){let n;switch(t){case"Browser":n=NN(_r());break;case"Worker":n=`${NN(_r())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jee{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zee(t,e={}){return cs(t,"GET","/v2/passwordPolicy",b0(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ete=6;class tte{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??ete,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nte{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TN(this),this.idTokenSubscription=new TN(this),this.beforeStateQueue=new Jee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ns(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Kc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qm(this,{idToken:e}),r=await fa._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(qr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Mee()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qr(this.app))return Promise.reject(Ds(this));const n=e?jt(e):null;return n&&Je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qr(this.app)?Promise.reject(Ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qr(this.app)?Promise.reject(Ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ns(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Zee(this),n=new tte(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ql("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Yee(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ns(e)||this._popupRedirectResolver;Je(n,this,"argument-error"),this.redirectPersistenceManager=await Kc.create(this,[Ns(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Je(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=F$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(qr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Iee(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function w0(t){return jt(t)}class TN{constructor(e){this.auth=e,this.observer=null,this.addObserver=WY(n=>this.observer=n)}get next(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rte(t){D2=t}function V$(t){return D2.loadJS(t)}function ite(){return D2.recaptchaEnterpriseScript}function ate(){return D2.gapiScript}function ste(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class ote{constructor(){this.enterprise=new lte}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class lte{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const cte="recaptcha-enterprise",U$="NO_RECAPTCHA";class ute{constructor(e){this.type=cte,this.auth=w0(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{Uee(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new Vee(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,s(c.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;_N(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{s(c)}).catch(()=>{s(U$)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ote().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(o=>{if(!n&&_N(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=ite();l.length!==0&&(l+=o),V$(l).then(()=>{i(o,a,s)}).catch(c=>{s(c)})}}).catch(o=>{s(o)})})}}async function PN(t,e,n,r=!1,i=!1){const a=new ute(t);let s;if(i)s=U$;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function m7(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await PN(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await PN(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dte(t,e){const n=g0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(r0(a,e??{}))return i;Qi(i,"already-initialized")}return n.initialize({options:e})}function fte(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ns);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function hte(t,e,n){const r=w0(t);Je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=B$(e),{host:s,port:o}=pte(e),l=o===null?"":`:${o}`,c={url:`${a}//${s}${l}/`},u=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Je(r0(c,r.config.emulator)&&r0(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,m0(s)?(Yx(`${a}//${s}${l}`),Qx("Auth",!0)):mte()}function B$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function pte(t){const e=B$(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:AN(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:AN(s)}}}function AN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function mte(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Es("not implemented")}_getIdTokenResponse(e){return Es("not implemented")}_linkToIdToken(e,n){return Es("not implemented")}_getReauthenticationResolver(e){return Es("not implemented")}}async function gte(t,e){return cs(t,"POST","/v1/accounts:update",e)}async function yte(t,e){return cs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vte(t,e){return Kp(t,"POST","/v1/accounts:signInWithPassword",b0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xte(t,e){return Kp(t,"POST","/v1/accounts:signInWithEmailLink",b0(t,e))}async function bte(t,e){return Kp(t,"POST","/v1/accounts:signInWithEmailLink",b0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends Fb{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Mh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Mh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return m7(e,n,"signInWithPassword",vte);case"emailLink":return xte(e,{email:this._email,oobCode:this._password});default:Qi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return m7(e,r,"signUpPassword",yte);case"emailLink":return bte(e,{idToken:n,email:this._email,oobCode:this._password});default:Qi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yc(t,e){return Kp(t,"POST","/v1/accounts:signInWithIdp",b0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wte="http://localhost";class _l extends Fb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _l(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new _l(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Yc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Yc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yc(e,n)}buildRequest(){const e={requestUri:wte,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _te(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ste(t){const e=lf(cf(t)).link,n=e?lf(cf(e)).deep_link_id:null,r=lf(cf(t)).deep_link_id;return(r?lf(cf(r)).link:null)||r||n||e||t}class Vb{constructor(e){const n=lf(cf(e)),r=n.apiKey??null,i=n.oobCode??null,a=_te(n.mode??null);Je(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Ste(e);try{return new Vb(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(){this.providerId=Yl.PROVIDER_ID}static credential(e,n){return Mh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Vb.parseLink(n);return Je(r,"argument-error"),Mh._fromEmailAndCode(e,r.code,r.tenantId)}}Yl.PROVIDER_ID="password";Yl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends Ub{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends Yp{constructor(){super("facebook.com")}static credential(e){return _l._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ko.credentialFromTaggedObject(e)}static credentialFromError(e){return ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ko.credential(e.oauthAccessToken)}catch{return null}}}ko.FACEBOOK_SIGN_IN_METHOD="facebook.com";ko.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends Yp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _l._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xs.credential(n,r)}catch{return null}}}xs.GOOGLE_SIGN_IN_METHOD="google.com";xs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends Yp{constructor(){super("github.com")}static credential(e){return _l._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Eo.credential(e.oauthAccessToken)}catch{return null}}}Eo.GITHUB_SIGN_IN_METHOD="github.com";Eo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends Yp{constructor(){super("twitter.com")}static credential(e,n){return _l._fromParams({providerId:No.PROVIDER_ID,signInMethod:No.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return No.credentialFromTaggedObject(e)}static credentialFromError(e){return No.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return No.credential(n,r)}catch{return null}}}No.TWITTER_SIGN_IN_METHOD="twitter.com";No.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kte(t,e){return Kp(t,"POST","/v1/accounts:signUp",b0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await fa._fromIdTokenResponse(e,r,i),s=IN(r);return new Sl({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=IN(r);return new Sl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function IN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm extends Ji{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Jm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Jm(e,n,r,i)}}function z$(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Jm._fromErrorAndOperation(t,a,e,r):a})}async function Ete(t,e,n=!1){const r=await wl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Sl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W$(t,e,n=!1){const{auth:r}=t;if(qr(r.app))return Promise.reject(Ds(r));const i="reauthenticate";try{const a=await wl(t,z$(r,i,e,t),n);Je(a.idToken,r,"internal-error");const s=$b(a.idToken);Je(s,r,"internal-error");const{sub:o}=s;return Je(t.uid===o,r,"user-mismatch"),Sl._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Qi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q$(t,e,n=!1){if(qr(t.app))return Promise.reject(Ds(t));const r="signIn",i=await z$(t,r,e),a=await Sl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function Nte(t,e){return q$(w0(t),e)}async function Tte(t,e){return W$(jt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H$(t){const e=w0(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Pte(t,e,n){if(qr(t.app))return Promise.reject(Ds(t));const r=w0(t),s=await m7(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kte).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&H$(t),l}),o=await Sl._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}function Ate(t,e,n){return qr(t.app)?Promise.reject(Ds(t)):Nte(jt(t),Yl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&H$(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ite(t,e){return cs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V6(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=jt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await wl(r,Ite(r.auth,a));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function Cte(t,e){return Ote(jt(t),null,e)}async function Ote(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const s=await wl(t,gte(r,a));await t._updateTokensIfNecessary(s,!0)}function G$(t,e,n,r){return jt(t).onIdTokenChanged(e,n,r)}function jte(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}function Mte(t,e,n,r){return jt(t).onAuthStateChanged(e,n,r)}function Dte(t){return jt(t).signOut()}const Zm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zm,"1"),this.storage.removeItem(Zm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rte=1e3,$te=10;class Y$ extends K${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=L$(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);Xee()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,$te):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Rte)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Y$.type="LOCAL";const Lte=Y$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q$ extends K${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Q$.type="SESSION";const X$=Q$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fte(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new R2(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(s).map(async c=>c(n.origin,a)),l=await Fte(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}R2.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vte{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const c=Bb("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(h.data.response);break;default:clearTimeout(u),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(){return window}function Ute(t){ts().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J$(){return typeof ts().WorkerGlobalScope<"u"&&typeof ts().importScripts=="function"}async function Bte(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zte(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Wte(){return J$()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z$="firebaseLocalStorageDb",qte=1,e1="firebaseLocalStorage",eL="fbase_key";class Qp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $2(t,e){return t.transaction([e1],e?"readwrite":"readonly").objectStore(e1)}function Hte(){const t=indexedDB.deleteDatabase(Z$);return new Qp(t).toPromise()}function g7(){const t=indexedDB.open(Z$,qte);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(e1,{keyPath:eL})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(e1)?e(r):(r.close(),await Hte(),e(await g7()))})})}async function CN(t,e,n){const r=$2(t,!0).put({[eL]:e,value:n});return new Qp(r).toPromise()}async function Gte(t,e){const n=$2(t,!1).get(e),r=await new Qp(n).toPromise();return r===void 0?null:r.value}function ON(t,e){const n=$2(t,!0).delete(e);return new Qp(n).toPromise()}const Kte=800,Yte=3;class tL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await g7(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Yte)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return J$()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=R2._getInstance(Wte()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Bte(),!this.activeServiceWorker)return;this.sender=new Vte(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zte()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await g7();return await CN(e,Zm,"1"),await ON(e,Zm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>CN(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Gte(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ON(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=$2(i,!1).getAll();return new Qp(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Kte)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tL.type="LOCAL";const Qte=tL;new Gp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(t,e){return e?Ns(e):(Je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb extends Fb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Xte(t){return q$(t.auth,new zb(t),t.bypassAuthState)}function Jte(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),W$(n,new zb(t),t.bypassAuthState)}async function Zte(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),Ete(n,new zb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xte;case"linkViaPopup":case"linkViaRedirect":return Zte;case"reauthViaPopup":case"reauthViaRedirect":return Jte;default:Qi(this.auth,"internal-error")}}resolve(e){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ene=new Gp(2e3,1e4);async function tne(t,e,n){if(qr(t.app))return Promise.reject(_a(t,"operation-not-supported-in-this-environment"));const r=w0(t);Cee(t,e,Ub);const i=nL(r,n);return new Q0(r,"signInViaPopup",e,i).executeNotNull()}class Q0 extends rL{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Q0.currentPopupAction&&Q0.currentPopupAction.cancel(),Q0.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Je(e,this.auth,"internal-error"),e}async onExecution(){Hs(this.filter.length===1,"Popup operations only handle one event");const e=Bb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_a(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(_a(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Q0.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_a(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ene.get())};e()}}Q0.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nne="pendingRedirect",J3=new Map;class rne extends rL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=J3.get(this.auth._key());if(!e){try{const r=await ine(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}J3.set(this.auth._key(),e)}return this.bypassAuthState||J3.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ine(t,e){const n=one(e),r=sne(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function ane(t,e){J3.set(t._key(),e)}function sne(t){return Ns(t._redirectPersistence)}function one(t){return X3(nne,t.config.apiKey,t.name)}async function lne(t,e,n=!1){if(qr(t.app))return Promise.reject(Ds(t));const r=w0(t),i=nL(r,e),s=await new rne(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cne=10*60*1e3;class une{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dne(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!iL(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(_a(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cne&&this.cachedEventUids.clear(),this.cachedEventUids.has(jN(e))}saveEventToCache(e){this.cachedEventUids.add(jN(e)),this.lastProcessedEventTime=Date.now()}}function jN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iL({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dne(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fne(t,e={}){return cs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hne=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pne=/^https?/;async function mne(t){if(t.config.emulator)return;const{authorizedDomains:e}=await fne(t);for(const n of e)try{if(gne(n))return}catch{}Qi(t,"unauthorized-domain")}function gne(t){const e=h7(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!pne.test(n))return!1;if(hne.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yne=new Gp(3e4,6e4);function MN(){const t=ts().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vne(t){return new Promise((e,n)=>{var i,a,s;function r(){MN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{MN(),n(_a(t,"network-request-failed"))},timeout:yne.get()})}if((a=(i=ts().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=ts().gapi)!=null&&s.load)r();else{const o=ste("iframefcb");return ts()[o]=()=>{gapi.load?r():n(_a(t,"network-request-failed"))},V$(`${ate()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Z3=null,e})}let Z3=null;function xne(t){return Z3=Z3||vne(t),Z3}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bne=new Gp(5e3,15e3),wne="__/auth/iframe",_ne="emulator/auth/iframe",Sne={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kne=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ene(t){const e=t.config;Je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Rb(e,_ne):`https://${t.config.authDomain}/${wne}`,r={apiKey:e.apiKey,appName:t.name,v:Hl},i=kne.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Vp(r).slice(1)}`}async function Nne(t){const e=await xne(t),n=ts().gapi;return Je(n,t,"internal-error"),e.open({where:document.body,url:Ene(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sne,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=_a(t,"network-request-failed"),o=ts().setTimeout(()=>{a(s)},bne.get());function l(){ts().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tne={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pne=500,Ane=600,Ine="_blank",Cne="http://localhost";class DN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function One(t,e,n,r=Pne,i=Ane){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...Tne,width:r.toString(),height:i.toString(),top:a,left:s},c=_r().toLowerCase();n&&(o=j$(c)?Ine:n),C$(c)&&(e=e||Cne,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(Qee(c)&&o!=="_self")return jne(e||"",o),new DN(null);const d=window.open(e||"",o,u);Je(d,t,"popup-blocked");try{d.focus()}catch{}return new DN(d)}function jne(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mne="__/auth/handler",Dne="emulator/auth/handler",Rne=encodeURIComponent("fac");async function RN(t,e,n,r,i,a){Je(t.config.authDomain,t,"auth-domain-config-required"),Je(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Hl,eventId:i};if(e instanceof Ub){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",zY(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))s[u]=d}if(e instanceof Yp){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${Rne}=${encodeURIComponent(l)}`:"";return`${$ne(t)}?${Vp(o).slice(1)}${c}`}function $ne({config:t}){return t.emulator?Rb(t,Dne):`https://${t.authDomain}/${Mne}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6="webStorageSupport";class Lne{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=X$,this._completeRedirectFn=lne,this._overrideRedirectResult=ane}async _openPopup(e,n,r,i){var s;Hs((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await RN(e,n,r,h7(),i);return One(e,a,Bb())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await RN(e,n,r,h7(),i);return Ute(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Hs(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Nne(e),r=new une(e);return n.register("authEvent",i=>(Je(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(U6,{type:U6},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[U6];a!==void 0&&n(!!a),Qi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mne(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return L$()||O$()||Lb()}}const Fne=Lne;var $N="@firebase/auth",LN="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vne{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Une(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Bne(t){Ea(new Yi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;Je(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F$(t)},c=new nte(r,i,a,l);return fte(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ea(new Yi("auth-internal",e=>{const n=w0(e.getProvider("auth").getImmediate());return(r=>new Vne(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zr($N,LN,Une(t)),Zr($N,LN,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zne=5*60,Wne=OD("authIdTokenMaxAge")||zne;let FN=null;const qne=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Wne)return;const i=n==null?void 0:n.token;FN!==i&&(FN=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Hne(t=v2()){const e=g0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=dte(t,{popupRedirectResolver:Fne,persistence:[Qte,Lte,X$]}),r=OD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=qne(a.toString());jte(n,s,()=>s(n.currentUser)),G$(n,o=>s(o))}}const i=AD("auth");return i&&hte(n,`http://${i}`),n}function Gne(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}rte({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=_a("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",Gne().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Bne("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL="firebasestorage.googleapis.com",sL="storageBucket",Kne=2*60*1e3,Yne=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn extends Ji{constructor(e,n,r=0){super(B6(e),`Firebase Storage: ${n} (${B6(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return B6(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gn||(gn={}));function B6(t){return"storage/"+t}function Wb(){const t="An unknown error occurred, please check the error payload for server response.";return new vn(gn.UNKNOWN,t)}function Qne(t){return new vn(gn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Xne(t){return new vn(gn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Jne(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new vn(gn.UNAUTHENTICATED,t)}function Zne(){return new vn(gn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function ere(t){return new vn(gn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function tre(){return new vn(gn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function nre(){return new vn(gn.CANCELED,"User canceled the upload/download.")}function rre(t){return new vn(gn.INVALID_URL,"Invalid URL '"+t+"'.")}function ire(t){return new vn(gn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function are(){return new vn(gn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+sL+"' property when initializing the app?")}function sre(){return new vn(gn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ore(){return new vn(gn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function lre(t){return new vn(gn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function y7(t){return new vn(gn.INVALID_ARGUMENT,t)}function oL(){return new vn(gn.APP_DELETED,"The Firebase app was deleted.")}function cre(t){return new vn(gn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Hf(t,e){return new vn(gn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Fd(t){throw new vn(gn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=mi.makeFromUrl(e,n)}catch{return new mi(e,"")}if(r.path==="")return r;throw ire(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function c(k){k.path_=decodeURIComponent(k.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},x=n===aL?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",y=new RegExp(`^https?://${x}/${i}/${v}`,"i"),w=[{regex:o,indices:l,postModify:a},{regex:p,indices:g,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let k=0;k<w.length;k++){const E=w[k],S=E.regex.exec(e);if(S){const _=S[E.indices.bucket];let N=S[E.indices.path];N||(N=""),r=new mi(_,N),E.postModify(r);break}}if(r==null)throw rre(e);return r}}class ure{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dre(t,e,n){let r=1,i=null,a=null,s=!1,o=0;function l(){return o===2}let c=!1;function u(...v){c||(c=!0,e.apply(null,v))}function d(v){i=setTimeout(()=>{i=null,t(p,l())},v)}function h(){a&&clearTimeout(a)}function p(v,...y){if(c){h();return}if(v){h(),u.call(null,v,...y);return}if(l()||s){h(),u.call(null,v,...y);return}r<64&&(r*=2);let w;o===1?(o=2,w=0):w=(r+Math.random())*1e3,d(w)}let g=!1;function x(v){g||(g=!0,h(),!c&&(i!==null?(v||(o=2),clearTimeout(i),d(0)):v||(o=1)))}return d(0),a=setTimeout(()=>{s=!0,x(!0)},n),x}function fre(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hre(t){return t!==void 0}function pre(t){return typeof t=="object"&&!Array.isArray(t)}function qb(t){return typeof t=="string"||t instanceof String}function VN(t){return Hb()&&t instanceof Blob}function Hb(){return typeof Blob<"u"}function UN(t,e,n,r){if(r<e)throw y7(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw y7(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function lL(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var cl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(cl||(cl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mre(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gre{constructor(e,n,r,i,a,s,o,l,c,u,d,h=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,x)=>{this.resolve_=g,this.reject_=x,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Q4(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===cl.NO_ERROR,l=a.getStatus();if(!o||mre(l,this.additionalRetryCodes_)&&this.retry){const u=a.getErrorCode()===cl.ABORT;r(!1,new Q4(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Q4(c,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());hre(l)?a(l):a()}catch(l){s(l)}else if(o!==null){const l=Wb();l.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,l)):s(l)}else if(i.canceled){const l=this.appDelete_?oL():nre();s(l)}else{const l=tre();s(l)}};this.canceled_?n(!1,new Q4(!1,null,!0)):this.backoffId_=dre(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&fre(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Q4{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function yre(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function vre(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xre(t,e){e&&(t["X-Firebase-GMPID"]=e)}function bre(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function wre(t,e,n,r,i,a,s=!0,o=!1){const l=lL(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return xre(u,e),yre(u,n),vre(u,a),bre(u,r),new gre(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _re(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Sre(...t){const e=_re();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Hb())return new Blob(t);throw new vn(gn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function kre(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ere(t){if(typeof atob>"u")throw lre("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class z6{constructor(e,n){this.data=e,this.contentType=n||null}}function Nre(t,e){switch(t){case za.RAW:return new z6(cL(e));case za.BASE64:case za.BASE64URL:return new z6(uL(t,e));case za.DATA_URL:return new z6(Pre(e),Are(e))}throw Wb()}function cL(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,s=t.charCodeAt(++n);r=65536|(a&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Tre(t){let e;try{e=decodeURIComponent(t)}catch{throw Hf(za.DATA_URL,"Malformed data URL.")}return cL(e)}function uL(t,e){switch(t){case za.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Hf(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case za.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Hf(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Ere(e)}catch(i){throw i.message.includes("polyfill")?i:Hf(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class dL{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Hf(za.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Ire(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Pre(t){const e=new dL(t);return e.base64?uL(za.BASE64,e.rest):Tre(e.rest)}function Are(t){return new dL(t).contentType}function Ire(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n){let r=0,i="";VN(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(VN(this.data_)){const r=this.data_,i=kre(r,e,n);return i===null?null:new To(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new To(r,!0)}}static getBlob(...e){if(Hb()){const n=e.map(r=>r instanceof To?r.data_:r);return new To(Sre.apply(null,n))}else{const n=e.map(s=>qb(s)?Nre(za.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(s=>{for(let o=0;o<s.length;o++)i[a++]=s[o]}),new To(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(t){let e;try{e=JSON.parse(t)}catch{return null}return pre(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cre(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Ore(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function hL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jre(t,e){return e}class kr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||jre}}let X4=null;function Mre(t){return!qb(t)||t.length<2?t:hL(t)}function pL(){if(X4)return X4;const t=[];t.push(new kr("bucket")),t.push(new kr("generation")),t.push(new kr("metageneration")),t.push(new kr("name","fullPath",!0));function e(a,s){return Mre(s)}const n=new kr("name");n.xform=e,t.push(n);function r(a,s){return s!==void 0?Number(s):s}const i=new kr("size");return i.xform=r,t.push(i),t.push(new kr("timeCreated")),t.push(new kr("updated")),t.push(new kr("md5Hash",null,!0)),t.push(new kr("cacheControl",null,!0)),t.push(new kr("contentDisposition",null,!0)),t.push(new kr("contentEncoding",null,!0)),t.push(new kr("contentLanguage",null,!0)),t.push(new kr("contentType",null,!0)),t.push(new kr("metadata","customMetadata",!0)),X4=t,X4}function Dre(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new mi(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function Rre(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const s=n[a];r[s.local]=s.xform(r,e[s.server])}return Dre(r,t),r}function mL(t,e,n){const r=fL(e);return r===null?null:Rre(t,r,n)}function $re(t,e,n,r){const i=fL(e);if(i===null||!qb(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(c=>{const u=t.bucket,d=t.fullPath,h="/b/"+s(u)+"/o/"+s(d),p=Gb(h,n,r),g=lL({alt:"media",token:c});return p+g})[0]}function Lre(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class gL{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(t){if(!t)throw Wb()}function Fre(t,e){function n(r,i){const a=mL(t,i,e);return yL(a!==null),a}return n}function Vre(t,e){function n(r,i){const a=mL(t,i,e);return yL(a!==null),$re(a,i,t.host,t._protocol)}return n}function vL(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Zne():i=Jne():n.getStatus()===402?i=Xne(t.bucket):n.getStatus()===403?i=ere(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Ure(t){const e=vL(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=Qne(t.path)),a.serverResponse=i.serverResponse,a}return n}function Bre(t,e,n){const r=e.fullServerUrl(),i=Gb(r,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,o=new gL(i,a,Vre(t,n),s);return o.errorHandler=Ure(e),o}function zre(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Wre(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=zre(null,e)),r}function qre(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function o(){let w="";for(let k=0;k<2;k++)w=w+Math.random().toString().slice(2);return w}const l=o();s["Content-Type"]="multipart/related; boundary="+l;const c=Wre(e,r,i),u=Lre(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=To.getBlob(d,r,h);if(p===null)throw sre();const g={name:c.fullPath},x=Gb(a,t.host,t._protocol),v="POST",y=t.maxUploadRetryTime,b=new gL(x,v,Fre(t,n),y);return b.urlParams=g,b.headers=s,b.body=p.uploadData(),b.errorHandler=vL(e),b}class Hre{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=cl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=cl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=cl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw Fd("cannot .send() more than once");if(m0(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Gre extends Hre{initXhr(){this.xhr_.responseType="text"}}function xL(){return new Gre}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n){this._service=e,n instanceof mi?this._location=n:this._location=mi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new kl(e,n)}get root(){const e=new mi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return hL(this._location.path)}get storage(){return this._service}get parent(){const e=Cre(this._location.path);if(e===null)return null;const n=new mi(this._location.bucket,e);return new kl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw cre(e)}}function Kre(t,e,n){t._throwIfRoot("uploadBytes");const r=qre(t.storage,t._location,pL(),new To(e,!0),n);return t.storage.makeRequestWithTokens(r,xL).then(i=>({metadata:i,ref:t}))}function Yre(t){t._throwIfRoot("getDownloadURL");const e=Bre(t.storage,t._location,pL());return t.storage.makeRequestWithTokens(e,xL).then(n=>{if(n===null)throw ore();return n})}function Qre(t,e){const n=Ore(t._location.path,e),r=new mi(t._location.bucket,n);return new kl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xre(t){return/^[A-Za-z]+:\/\//.test(t)}function Jre(t,e){return new kl(t,e)}function bL(t,e){if(t instanceof Kb){const n=t;if(n._bucket==null)throw are();const r=new kl(n,n._bucket);return e!=null?bL(r,e):r}else return e!==void 0?Qre(t,e):t}function Zre(t,e){if(e&&Xre(e)){if(t instanceof Kb)return Jre(t,e);throw y7("To use ref(service, url), the first argument must be a Storage instance.")}else return bL(t,e)}function BN(t,e){const n=e==null?void 0:e[sL];return n==null?null:mi.makeFromBucketSpec(n,t)}function eie(t,e,n,r={}){t.host=`${e}:${n}`;const i=m0(e);i&&(Yx(`https://${t.host}/b`),Qx("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:jD(a,t.app.options.projectId))}class Kb{constructor(e,n,r,i,a,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=aL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Kne,this._maxUploadRetryTime=Yne,this._requests=new Set,i!=null?this._bucket=mi.makeFromBucketSpec(i,this._host):this._bucket=BN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=mi.makeFromBucketSpec(this._url,e):this._bucket=BN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){UN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){UN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(qr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new kl(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new ure(oL());{const s=wre(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const zN="@firebase/storage",WN="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL="storage";function _L(t,e,n){return t=jt(t),Kre(t,e,n)}function SL(t){return t=jt(t),Yre(t)}function kL(t,e){return t=jt(t),Zre(t,e)}function tie(t=v2(),e){t=jt(t);const r=g0(t,wL).getImmediate({identifier:e}),i=ID("storage");return i&&nie(r,...i),r}function nie(t,e,n,r={}){eie(t,e,n,r)}function rie(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Kb(n,r,i,e,Hl)}function iie(){Ea(new Yi(wL,rie,"PUBLIC").setMultipleInstances(!0)),Zr(zN,WN,""),Zr(zN,WN,"esm2020")}iie();const EL="@firebase/installations",Yb="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=1e4,TL=`w:${Yb}`,PL="FIS_v2",aie="https://firebaseinstallations.googleapis.com/v1",sie=60*60*1e3,oie="installations",lie="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cie={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},El=new ql(oie,lie,cie);function AL(t){return t instanceof Ji&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL({projectId:t}){return`${aie}/projects/${t}/installations`}function CL(t){return{token:t.token,requestStatus:2,expiresIn:die(t.expiresIn),creationTime:Date.now()}}async function OL(t,e){const r=(await e.json()).error;return El.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function jL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function uie(t,{refreshToken:e}){const n=jL(t);return n.append("Authorization",fie(e)),n}async function ML(t){const e=await t();return e.status>=500&&e.status<600?t():e}function die(t){return Number(t.replace("s","000"))}function fie(t){return`${PL} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hie({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=IL(t),i=jL(t),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={fid:n,authVersion:PL,appId:t.appId,sdkVersion:TL},o={method:"POST",headers:i,body:JSON.stringify(s)},l=await ML(()=>fetch(r,o));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:CL(c.authToken)}}else throw await OL("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pie(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mie=/^[cdef][\w-]{21}$/,v7="";function gie(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=yie(t);return mie.test(n)?n:v7}catch{return v7}}function yie(t){return pie(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=new Map;function $L(t,e){const n=L2(t);LL(n,e),vie(n,e)}function LL(t,e){const n=RL.get(t);if(n)for(const r of n)r(e)}function vie(t,e){const n=xie();n&&n.postMessage({key:t,fid:e}),bie()}let X0=null;function xie(){return!X0&&"BroadcastChannel"in self&&(X0=new BroadcastChannel("[Firebase] FID Change"),X0.onmessage=t=>{LL(t.data.key,t.data.fid)}),X0}function bie(){RL.size===0&&X0&&(X0.close(),X0=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wie="firebase-installations-database",_ie=1,Nl="firebase-installations-store";let W6=null;function Qb(){return W6||(W6=FD(wie,_ie,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Nl)}}})),W6}async function t1(t,e){const n=L2(t),i=(await Qb()).transaction(Nl,"readwrite"),a=i.objectStore(Nl),s=await a.get(n);return await a.put(e,n),await i.done,(!s||s.fid!==e.fid)&&$L(t,e.fid),e}async function FL(t){const e=L2(t),r=(await Qb()).transaction(Nl,"readwrite");await r.objectStore(Nl).delete(e),await r.done}async function F2(t,e){const n=L2(t),i=(await Qb()).transaction(Nl,"readwrite"),a=i.objectStore(Nl),s=await a.get(n),o=e(s);return o===void 0?await a.delete(n):await a.put(o,n),await i.done,o&&(!s||s.fid!==o.fid)&&$L(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xb(t){let e;const n=await F2(t.appConfig,r=>{const i=Sie(r),a=kie(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===v7?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Sie(t){const e=t||{fid:gie(),registrationStatus:0};return VL(e)}function kie(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(El.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Eie(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Nie(t)}:{installationEntry:e}}async function Eie(t,e){try{const n=await hie(t,e);return t1(t.appConfig,n)}catch(n){throw AL(n)&&n.customData.serverCode===409?await FL(t.appConfig):await t1(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Nie(t){let e=await qN(t.appConfig);for(;e.registrationStatus===1;)await DL(100),e=await qN(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Xb(t);return r||n}return e}function qN(t){return F2(t,e=>{if(!e)throw El.create("installation-not-found");return VL(e)})}function VL(t){return Tie(t)?{fid:t.fid,registrationStatus:0}:t}function Tie(t){return t.registrationStatus===1&&t.registrationTime+NL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pie({appConfig:t,heartbeatServiceProvider:e},n){const r=Aie(t,n),i=uie(t,n),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={installation:{sdkVersion:TL,appId:t.appId}},o={method:"POST",headers:i,body:JSON.stringify(s)},l=await ML(()=>fetch(r,o));if(l.ok){const c=await l.json();return CL(c)}else throw await OL("Generate Auth Token",l)}function Aie(t,{fid:e}){return`${IL(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jb(t,e=!1){let n;const r=await F2(t.appConfig,a=>{if(!UL(a))throw El.create("not-registered");const s=a.authToken;if(!e&&Oie(s))return a;if(s.requestStatus===1)return n=Iie(t,e),a;{if(!navigator.onLine)throw El.create("app-offline");const o=Mie(a);return n=Cie(t,o),o}});return n?await n:r.authToken}async function Iie(t,e){let n=await HN(t.appConfig);for(;n.authToken.requestStatus===1;)await DL(100),n=await HN(t.appConfig);const r=n.authToken;return r.requestStatus===0?Jb(t,e):r}function HN(t){return F2(t,e=>{if(!UL(e))throw El.create("not-registered");const n=e.authToken;return Die(n)?{...e,authToken:{requestStatus:0}}:e})}async function Cie(t,e){try{const n=await Pie(t,e),r={...e,authToken:n};return await t1(t.appConfig,r),n}catch(n){if(AL(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await FL(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await t1(t.appConfig,r)}throw n}}function UL(t){return t!==void 0&&t.registrationStatus===2}function Oie(t){return t.requestStatus===2&&!jie(t)}function jie(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+sie}function Mie(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function Die(t){return t.requestStatus===1&&t.requestTime+NL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rie(t){const e=t,{installationEntry:n,registrationPromise:r}=await Xb(e);return r?r.catch(console.error):Jb(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $ie(t,e=!1){const n=t;return await Lie(n),(await Jb(n,e)).token}async function Lie(t){const{registrationPromise:e}=await Xb(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fie(t){if(!t||!t.options)throw q6("App Configuration");if(!t.name)throw q6("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw q6(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function q6(t){return El.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL="installations",Vie="installations-internal",Uie=t=>{const e=t.getProvider("app").getImmediate(),n=Fie(e),r=g0(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Bie=t=>{const e=t.getProvider("app").getImmediate(),n=g0(e,BL).getImmediate();return{getId:()=>Rie(n),getToken:i=>$ie(n,i)}};function zie(){Ea(new Yi(BL,Uie,"PUBLIC")),Ea(new Yi(Vie,Bie,"PRIVATE"))}zie();Zr(EL,Yb);Zr(EL,Yb,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="analytics",Wie="firebase_id",qie="origin",Hie=60*1e3,Gie="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Zb="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=new y2("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kie={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},bi=new ql("analytics","Analytics",Kie);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yie(t){if(!t.startsWith(Zb)){const e=bi.create("invalid-gtag-resource",{gtagURL:t});return Rr.warn(e.message),""}return t}function zL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Qie(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Xie(t,e){const n=Qie("firebase-js-sdk-policy",{createScriptURL:Yie}),r=document.createElement("script"),i=`${Zb}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Jie(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Zie(t,e,n,r,i,a){const s=r[i];try{if(s)await e[s];else{const l=(await zL(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(o){Rr.error(o)}t("config",i,a)}async function eae(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const o=await zL(n);for(const l of s){const c=o.find(d=>d.measurementId===l),u=c&&e[c.appId];if(u)a.push(u);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){Rr.error(a)}}function tae(t,e,n,r){async function i(a,...s){try{if(a==="event"){const[o,l]=s;await eae(t,e,n,o,l)}else if(a==="config"){const[o,l]=s;await Zie(t,e,n,r,o,l)}else if(a==="consent"){const[o,l]=s;t("consent",o,l)}else if(a==="get"){const[o,l,c]=s;t("get",o,l,c)}else if(a==="set"){const[o]=s;t("set",o)}else t(a,...s)}catch(o){Rr.error(o)}}return i}function nae(t,e,n,r,i){let a=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=tae(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function rae(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Zb)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iae=30,aae=1e3;class sae{constructor(e={},n=aae){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const WL=new sae;function oae(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function lae(t){var s;const{appId:e,apiKey:n}=t,r={method:"GET",headers:oae(n)},i=Gie.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let o="";try{const l=await a.json();(s=l.error)!=null&&s.message&&(o=l.error.message)}catch{}throw bi.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function cae(t,e=WL,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw bi.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw bi.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new fae;return setTimeout(async()=>{o.abort()},Hie),qL({appId:r,apiKey:i,measurementId:a},s,o,e)}async function qL(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=WL){var o;const{appId:a,measurementId:s}=t;try{await uae(r,e)}catch(l){if(s)return Rr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:s};throw l}try{const l=await lae(t);return i.deleteThrottleMetadata(a),l}catch(l){const c=l;if(!dae(c)){if(i.deleteThrottleMetadata(a),s)return Rr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:s};throw l}const u=Number((o=c==null?void 0:c.customData)==null?void 0:o.httpStatus)===503?uE(n,i.intervalMillis,iae):uE(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(a,d),Rr.debug(`Calling attemptFetch again in ${u} millis`),qL(t,d,r,i)}}function uae(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(bi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function dae(t){if(!(t instanceof Ji)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class fae{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function hae(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,s={...r,send_to:a};t("event",n,s)}}async function pae(t,e,n,r){if(r&&r.global){const i={};for(const a of Object.keys(n))i[`user_properties.${a}`]=n[a];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mae(){if(DD())try{await RD()}catch(t){return Rr.warn(bi.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Rr.warn(bi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function gae(t,e,n,r,i,a,s){const o=cae(t);o.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Rr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Rr.error(h)),e.push(o);const l=mae().then(h=>{if(h)return r.getId()}),[c,u]=await Promise.all([o,l]);rae(a)||Xie(a,c.measurementId),i("js",new Date);const d=(s==null?void 0:s.config)??{};return d[qie]="firebase",d.update=!0,u!=null&&(d[Wie]=u),i("config",c.measurementId,d),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yae{constructor(e){this.app=e}_delete(){return delete Qc[this.app.options.appId],Promise.resolve()}}let Qc={},GN=[];const KN={};let H6="dataLayer",vae="gtag",YN,ew,QN=!1;function xae(){const t=[];if(MD()&&t.push("This is a browser extension environment."),FY()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=bi.create("invalid-analytics-context",{errorInfo:e});Rr.warn(n.message)}}function bae(t,e,n){xae();const r=t.options.appId;if(!r)throw bi.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Rr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw bi.create("no-api-key");if(Qc[r]!=null)throw bi.create("already-exists",{id:r});if(!QN){Jie(H6);const{wrappedGtag:a,gtagCore:s}=nae(Qc,GN,KN,H6,vae);ew=a,YN=s,QN=!0}return Qc[r]=gae(t,GN,KN,e,YN,H6,n),new yae(t)}function wae(t=v2()){t=jt(t);const e=g0(t,n1);return e.isInitialized()?e.getImmediate():_ae(t)}function _ae(t,e={}){const n=g0(t,n1);if(n.isInitialized()){const i=n.getImmediate();if(r0(e,n.getOptions()))return i;throw bi.create("already-initialized")}return n.initialize({options:e})}function Sae(t,e,n){t=jt(t),pae(ew,Qc[t.app.options.appId],e,n).catch(r=>Rr.error(r))}function kae(t,e,n,r){t=jt(t),hae(ew,Qc[t.app.options.appId],e,n,r).catch(i=>Rr.error(i))}const XN="@firebase/analytics",JN="0.10.19";function Eae(){Ea(new Yi(n1,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return bae(r,i,n)},"PUBLIC")),Ea(new Yi("analytics-internal",t,"PRIVATE")),Zr(XN,JN),Zr(XN,JN,"esm2020");function t(e){try{const n=e.getProvider(n1).getImmediate();return{logEvent:(r,i,a)=>kae(n,r,i,a),setUserProperties:(r,i)=>Sae(n,r,i)}}catch(n){throw bi.create("interop-component-reg-failed",{reason:n})}}}Eae();const Nae={apiKey:"AIzaSyALROg4hIMFvYd8hydNKxKWmP3Cn5JmdcQ",authDomain:"test-inventory-stoe.firebaseapp.com",projectId:"test-inventory-stoe",storageBucket:"test-inventory-stoe.firebasestorage.app",messagingSenderId:"1081430501971",appId:"1:1081430501971:web:bb4e4be92aa2519ae934a6",measurementId:"G-3Y7YENDSHN"},V2=VD(Nae),Mn=Hne(V2),po=lee(V2),HL=tie(V2,"gs://test-inventory-stoe.firebasestorage.app");typeof window<"u"&&wae(V2);const Vd={subscribeToCollection:(t,e,n="name",r="asc",i)=>{try{if(!t||typeof e!="function")return console.error("subscribeToCollection: invalid arguments",{collectionName:t,callback:e}),()=>{};const a=n?xee(Ld(po,t),bee(n,r)):Ld(po,t);return bN(a,s=>{const o=s.docs.map(l=>({_id:l.id,...l.data()}));e(o)},s=>{if(console.error(`Error subscribing to ${t}:`,s),i&&i(s),s.code==="failed-precondition"||s.message.includes("index")){console.log(`Retrying ${t} without orderBy...`);const o=Ld(po,t);return bN(o,l=>{const c=l.docs.map(u=>({_id:u.id,...u.data()}));e(c)},l=>{i&&i(l)})}})}catch(a){return console.error(`Error setting up subscription for ${t}:`,a),()=>{}}},add:async(t,e)=>{if(!t)throw new Error("add: collectionName is required");try{const n=await Eee(Ld(po,t),e);return{...e,_id:n.id}}catch(n){throw console.error(`Error adding to ${t}:`,n),n}},update:async(t,e,n)=>{if(!t||!e)throw new Error("update: collectionName and id are required");try{const r=K3(po,t,e);await kee(r,n)}catch(r){throw console.error(`Error updating ${t}:`,r),r}},set:async(t,e,n)=>{if(!t||!e)throw new Error("set: collectionName and id are required");try{const r=K3(po,t,e);await See(r,n)}catch(r){throw console.error(`Error setting in ${t}:`,r),r}},delete:async(t,e)=>{if(!t||!e)throw new Error("delete: collectionName and id are required");try{const n=K3(po,t,e);await xN(n)}catch(n){throw console.error(`Error deleting from ${t}:`,n),n}},clearCollection:async t=>{if(!t)throw new Error("clearCollection: collectionName is required");try{const n=(await _ee(Ld(po,t))).docs.map(r=>xN(r.ref));await Promise.all(n)}catch(e){throw console.error(`Error clearing ${t}:`,e),e}}};function Xn(){var t;return typeof window<"u"&&!!((t=window.desktopAPI)!=null&&t.isDesktop)}async function J4(t,e="updatedAt",n="desc"){return window.desktopAPI.list(t,e,n)}const Ye={isDesktop:Xn,subscribeToCollection:(t,e,n="name",r="asc",i)=>{if(!Xn())return Vd.subscribeToCollection(t,e,n,r,i);let a=!0;const s=async()=>{try{const l=await J4(t,n,r);a&&e(l)}catch(l){i&&i(l)}};s();const o=window.desktopAPI.onDataChanged(l=>{(!(l!=null&&l.entity)||l.entity===t||l.entity==="*")&&s()});return()=>{a=!1,o==null||o()}},add:async(t,e)=>{if(!Xn())return Vd.add(t,e);const n=crypto.randomUUID();return window.desktopAPI.upsert(t,{...e,_id:n})},update:async(t,e,n)=>Xn()?window.desktopAPI.upsert(t,{...n,_id:e}):Vd.update(t,e,n),set:async(t,e,n)=>Xn()?window.desktopAPI.upsert(t,{...n,_id:e}):Vd.set(t,e,n),delete:async(t,e)=>Xn()?window.desktopAPI.remove(t,e):Vd.delete(t,e),listProducts:()=>J4("products","name","asc"),getProduct:t=>window.desktopAPI.get("products",t),upsertProduct:t=>window.desktopAPI.upsert("products",t),deleteProduct:t=>window.desktopAPI.remove("products",t),listOrders:()=>J4("orders","date","desc"),getOrder:t=>window.desktopAPI.get("orders",t),upsertOrder:t=>window.desktopAPI.upsert("orders",t),deleteOrder:t=>window.desktopAPI.remove("orders",t),listCustomers:()=>J4("customers","name","asc"),getCustomer:t=>window.desktopAPI.get("customers",t),upsertCustomer:t=>window.desktopAPI.upsert("customers",t),deleteCustomer:t=>window.desktopAPI.remove("customers",t),syncOnce:async()=>Xn()?window.desktopAPI.syncOnce():{skipped:!0},getSyncStatus:async()=>Xn()?window.desktopAPI.getSyncStatus():{online:navigator.onLine,pendingCount:0,offlineModeEnabled:!1},getPendingSyncCount:async()=>Xn()?window.desktopAPI.getPendingCount():0,getConflicts:async()=>Xn()?window.desktopAPI.getConflicts():[],setOnlineStatus:async t=>{Xn()&&await window.desktopAPI.setOnline(t)},setAuthToken:async t=>{Xn()&&await window.desktopAPI.setAuthToken(t||null)},setSyncConfig:async t=>{Xn()&&await window.desktopAPI.setSyncConfig(t||{})},getOfflineModeEnabled:async()=>Xn()?window.desktopAPI.getOfflineMode():!1,setOfflineModeEnabled:async t=>{Xn()&&await window.desktopAPI.setOfflineMode(t)},onSyncState:t=>Xn()?window.desktopAPI.onSyncState(t):()=>{},onConflict:t=>Xn()?window.desktopAPI.onConflict(t):()=>{}},tt=t=>typeof t=="string",Ud=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},ZN=t=>t==null?"":""+t,Tae=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},Pae=/###/g,eT=t=>t&&t.indexOf("###")>-1?t.replace(Pae,"."):t,tT=t=>!t||tt(t),Gf=(t,e,n)=>{const r=tt(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(tT(t))return{};const a=eT(r[i]);!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return tT(t)?{}:{obj:t,k:eT(r[i])}},nT=(t,e,n)=>{const{obj:r,k:i}=Gf(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let a=e[e.length-1],s=e.slice(0,e.length-1),o=Gf(t,s,Object);for(;o.obj===void 0&&s.length;)a=`${s[s.length-1]}.${a}`,s=s.slice(0,s.length-1),o=Gf(t,s,Object),o!=null&&o.obj&&typeof o.obj[`${o.k}.${a}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${a}`]=n},Aae=(t,e,n,r)=>{const{obj:i,k:a}=Gf(t,e,Object);i[a]=i[a]||[],i[a].push(n)},r1=(t,e)=>{const{obj:n,k:r}=Gf(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},Iae=(t,e,n)=>{const r=r1(t,n);return r!==void 0?r:r1(e,n)},GL=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?tt(t[r])||t[r]instanceof String||tt(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):GL(t[r],e[r],n):t[r]=e[r]);return t},ac=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Cae={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Oae=t=>tt(t)?t.replace(/[&<>"'\/]/g,e=>Cae[e]):t;class jae{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const Mae=[" ",",","?","!",";"],Dae=new jae(20),Rae=(t,e,n)=>{e=e||"",n=n||"";const r=Mae.filter(s=>e.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const i=Dae.getRegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let a=!i.test(t);if(!a){const s=t.indexOf(n);s>0&&!i.test(t.substring(0,s))&&(a=!0)}return a},x7=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let s,o="";for(let l=a;l<r.length;++l)if(l!==a&&(o+=n),o+=r[l],s=i[o],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&l<r.length-1)continue;a+=l-a+1;break}i=s}return i},Dh=t=>t==null?void 0:t.replace("_","-"),$ae={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class i1{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||$ae,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(tt(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new i1(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new i1(this.logger,e)}}var Wa=new i1;let U2=class{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let s=0;s<a;s++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let s=0;s<a;s++)i.apply(i,[e,...n])})}};class rT extends U2{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var c,u;const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,n],r&&(Array.isArray(r)?o.push(...r):tt(r)&&a?o.push(...r.split(a)):o.push(r)));const l=r1(this.data,o);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=o[0],n=o[1],r=o.slice(2).join(".")),l||!s||!tt(r)?l:x7((u=(c=this.data)==null?void 0:c[e])==null?void 0:u[n],r,a)}addResource(e,n,r,i,a={silent:!1}){const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let o=[e,n];r&&(o=o.concat(s?r.split(s):r)),e.indexOf(".")>-1&&(o=e.split("."),i=n,n=o[1]),this.addNamespaces(n),nT(this.data,o,i),a.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const a in r)(tt(r[a])||Array.isArray(r[a]))&&this.addResource(e,n,a,r[a],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,a,s={silent:!1,skipCopy:!1}){let o=[e,n];e.indexOf(".")>-1&&(o=e.split("."),i=r,r=n,n=o[1]),this.addNamespaces(n);let l=r1(this.data,o)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?GL(l,r,a):l={...l,...r},nT(this.data,o,l),s.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var KL={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(a=>{var s;e=((s=this.processors[a])==null?void 0:s.process(e,n,r,i))??e}),e}};const YL=Symbol("i18next/PATH_KEY");function Lae(){const t=[],e=Object.create(null);let n;return e.get=(r,i)=>{var a;return(a=n==null?void 0:n.revoke)==null||a.call(n),i===YL?t:(t.push(i),n=Proxy.revocable(r,e),n.proxy)},Proxy.revocable(Object.create(null),e).proxy}function b7(t,e){const{[YL]:n}=t(Lae());return n.join((e==null?void 0:e.keySeparator)??".")}const iT={},G6=t=>!tt(t)&&typeof t!="boolean"&&typeof t!="number";class a1 extends U2{constructor(e,n={}){super(),Tae(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Wa.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);if((i==null?void 0:i.res)===void 0)return!1;const a=G6(i.res);return!(r.returnObjects===!1&&a)}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const s=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Rae(e,r,i);if(s&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:tt(a)?[a]:a};const c=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(a=c.shift()),e=c.join(i)}return{key:e,namespaces:tt(a)?[a]:a}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=b7(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],i),c=l[l.length-1];let u=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const d=i.lng||this.language,h=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((d==null?void 0:d.toLowerCase())==="cimode")return h?a?{res:`${c}${u}${o}`,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:`${c}${u}${o}`:a?{res:o,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:o;const p=this.resolve(e,i);let g=p==null?void 0:p.res;const x=(p==null?void 0:p.usedKey)||o,v=(p==null?void 0:p.exactUsedKey)||o,y=["[object Number]","[object Function]","[object RegExp]"],b=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,k=i.count!==void 0&&!tt(i.count),E=a1.hasDefaultValue(i),S=k?this.pluralResolver.getSuffix(d,i.count,i):"",_=i.ordinal&&k?this.pluralResolver.getSuffix(d,i.count,{ordinal:!1}):"",N=k&&!i.ordinal&&i.count===0,P=N&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${S}`]||i[`defaultValue${_}`]||i.defaultValue;let A=g;w&&!g&&E&&(A=P);const C=G6(A),O=Object.prototype.toString.apply(A);if(w&&A&&C&&y.indexOf(O)<0&&!(tt(b)&&Array.isArray(A))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const j=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,A,{...i,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return a?(p.res=j,p.usedParams=this.getUsedParamsDetails(i),p):j}if(s){const j=Array.isArray(A),R=j?[]:{},D=j?v:x;for(const $ in A)if(Object.prototype.hasOwnProperty.call(A,$)){const U=`${D}${s}${$}`;E&&!g?R[$]=this.translate(U,{...i,defaultValue:G6(P)?P[$]:void 0,joinArrays:!1,ns:l}):R[$]=this.translate(U,{...i,joinArrays:!1,ns:l}),R[$]===U&&(R[$]=A[$])}g=R}}else if(w&&tt(b)&&Array.isArray(g))g=g.join(b),g&&(g=this.extendTranslation(g,e,i,r));else{let j=!1,R=!1;!this.isValidLookup(g)&&E&&(j=!0,g=P),this.isValidLookup(g)||(R=!0,g=o);const $=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&R?void 0:g,U=E&&P!==g&&this.options.updateMissing;if(R||j||U){if(this.logger.log(U?"updateKey":"missingKey",d,c,o,U?P:g),s){const q=this.resolve(o,{...i,keySeparator:!1});q&&q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let F=[];const B=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&B&&B[0])for(let q=0;q<B.length;q++)F.push(B[q]);else this.options.saveMissingTo==="all"?F=this.languageUtils.toResolveHierarchy(i.lng||this.language):F.push(i.lng||this.language);const z=(q,G,te)=>{var ye;const de=E&&te!==g?te:$;this.options.missingKeyHandler?this.options.missingKeyHandler(q,c,G,de,U,i):(ye=this.backendConnector)!=null&&ye.saveMissing&&this.backendConnector.saveMissing(q,c,G,de,U,i),this.emit("missingKey",q,c,G,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&k?F.forEach(q=>{const G=this.pluralResolver.getSuffixes(q,i);N&&i[`defaultValue${this.options.pluralSeparator}zero`]&&G.indexOf(`${this.options.pluralSeparator}zero`)<0&&G.push(`${this.options.pluralSeparator}zero`),G.forEach(te=>{z([q],o+te,i[`defaultValue${te}`]||P)})}):z(F,o,P))}g=this.extendTranslation(g,e,i,p,r),R&&g===o&&this.options.appendNamespaceToMissingKey&&(g=`${c}${u}${o}`),(R||j)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${u}${o}`:o,j?g:void 0,i))}return a?(p.res=g,p.usedParams=this.getUsedParamsDetails(i),p):g}extendTranslation(e,n,r,i,a){var l,c;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=tt(e)&&(((c=r==null?void 0:r.interpolation)==null?void 0:c.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const p=e.match(this.interpolator.nestingRegexp);d=p&&p.length}let h=r.replace&&!tt(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||i.usedLng,r),u){const p=e.match(this.interpolator.nestingRegexp),g=p&&p.length;d<g&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...p)=>(a==null?void 0:a[0])===p[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):this.translate(...p,n),r)),r.interpolation&&this.interpolator.reset()}const s=r.postProcess||this.options.postProcess,o=tt(s)?[s]:s;return e!=null&&(o!=null&&o.length)&&r.applyPostProcessor!==!1&&(e=KL.handle(o,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,a,s,o;return tt(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),u=c.key;i=u;let d=c.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const h=n.count!==void 0&&!tt(n.count),p=h&&!n.ordinal&&n.count===0,g=n.context!==void 0&&(tt(n.context)||typeof n.context=="number")&&n.context!=="",x=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(v=>{var y,b;this.isValidLookup(r)||(o=v,!iT[`${x[0]}-${v}`]&&((y=this.utils)!=null&&y.hasLoadedNamespace)&&!((b=this.utils)!=null&&b.hasLoadedNamespace(o))&&(iT[`${x[0]}-${v}`]=!0,this.logger.warn(`key "${i}" for languages "${x.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(w=>{var S;if(this.isValidLookup(r))return;s=w;const k=[u];if((S=this.i18nFormat)!=null&&S.addLookupKeys)this.i18nFormat.addLookupKeys(k,u,w,v,n);else{let _;h&&(_=this.pluralResolver.getSuffix(w,n.count,n));const N=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(n.ordinal&&_.indexOf(P)===0&&k.push(u+_.replace(P,this.options.pluralSeparator)),k.push(u+_),p&&k.push(u+N)),g){const A=`${u}${this.options.contextSeparator||"_"}${n.context}`;k.push(A),h&&(n.ordinal&&_.indexOf(P)===0&&k.push(A+_.replace(P,this.options.pluralSeparator)),k.push(A+_),p&&k.push(A+N))}}let E;for(;E=k.pop();)this.isValidLookup(r)||(a=E,r=this.getResource(w,v,E,n))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:s,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!tt(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of n)delete i[a]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class aT{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Wa.create("languageUtils")}getScriptPartFromCode(e){if(e=Dh(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Dh(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(tt(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(s=>{if(s===a)return s;if(!(s.indexOf("-")<0&&a.indexOf("-")<0)&&(s.indexOf("-")>0&&a.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===a||s.indexOf(a)===0&&a.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),tt(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],a=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return tt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):tt(e)&&a(this.formatLanguageCode(e)),r.forEach(s=>{i.indexOf(s)<0&&a(this.formatLanguageCode(s))}),i}}const sT={zero:0,one:1,two:2,few:3,many:4,other:5},oT={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Fae{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Wa.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=Dh(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let s;try{s=new Intl.PluralRules(r,{type:i})}catch{if(typeof Intl>"u")return this.logger.error("No Intl support, please use an Intl polyfill!"),oT;if(!e.match(/-|_/))return oT;const l=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(l,n)}return this.pluralRulesCache[a]=s,s}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>sT[i]-sT[a]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const lT=(t,e,n,r=".",i=!0)=>{let a=Iae(t,e,n);return!a&&i&&tt(n)&&(a=x7(t,n,r),a===void 0&&(a=x7(e,n,r))),a},K6=t=>t.replace(/\$/g,"$$$$");class cT{constructor(e={}){var n;this.logger=Wa.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:s,suffix:o,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:d,nestingPrefix:h,nestingPrefixEscaped:p,nestingSuffix:g,nestingSuffixEscaped:x,nestingOptionsSeparator:v,maxReplaces:y,alwaysFormat:b}=e.interpolation;this.escape=n!==void 0?n:Oae,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?ac(a):s||"{{",this.suffix=o?ac(o):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=h?ac(h):p||ac("$t("),this.nestingSuffix=g?ac(g):x||ac(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=y||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var p;let a,s,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=g=>{if(g.indexOf(this.formatSeparator)<0){const b=lT(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,r,{...i,...n,interpolationkey:g}):b}const x=g.split(this.formatSeparator),v=x.shift().trim(),y=x.join(this.formatSeparator).trim();return this.format(lT(n,l,v,this.options.keySeparator,this.options.ignoreJSONStructure),y,r,{...i,...n,interpolationkey:v})};this.resetRegExp();const u=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,d=((p=i==null?void 0:i.interpolation)==null?void 0:p.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>K6(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?K6(this.escape(g)):K6(g)}].forEach(g=>{for(o=0;a=g.regex.exec(e);){const x=a[1].trim();if(s=c(x),s===void 0)if(typeof u=="function"){const y=u(e,a,i);s=tt(y)?y:""}else if(i&&Object.prototype.hasOwnProperty.call(i,x))s="";else if(d){s=a[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${e}`),s="";else!tt(s)&&!this.useRawValueToEscape&&(s=ZN(s));const v=g.safeValue(s);if(e=e.replace(a[0],v),d?(g.regex.lastIndex+=s.length,g.regex.lastIndex-=a[0].length):g.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,a,s;const o=(l,c)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const d=l.split(new RegExp(`${u}[ ]*{`));let h=`{${d[1]}`;l=d[0],h=this.interpolate(h,s);const p=h.match(/'/g),g=h.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!g||g.length%2!==0)&&(h=h.replace(/'/g,'"'));try{s=JSON.parse(h),c&&(s={...c,...s})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,x),`${l}${u}${h}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];s={...r},s=s.replace&&!tt(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;const c=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(c!==-1&&(l=i[1].slice(c).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),i[1]=i[1].slice(0,c)),a=n(o.call(this,i[1].trim(),s),s),a&&i[0]===e&&!tt(a))return a;tt(a)||(a=ZN(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),l.length&&(a=l.reduce((u,d)=>this.format(u,d,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const Vae=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(s=>{if(s){const[o,...l]=s.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=o.trim();n[u]||(n[u]=c),c==="false"&&(n[u]=!1),c==="true"&&(n[u]=!0),isNaN(c)||(n[u]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}},uT=t=>{const e={};return(n,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const s=r+JSON.stringify(a);let o=e[s];return o||(o=t(Dh(r),i),e[s]=o),o(n)}},Uae=t=>(e,n,r)=>t(Dh(n),r)(e);class Bae{constructor(e={}){this.logger=Wa.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?uT:Uae;this.formats={number:r((i,a)=>{const s=new Intl.NumberFormat(i,{...a});return o=>s.format(o)}),currency:r((i,a)=>{const s=new Intl.NumberFormat(i,{...a,style:"currency"});return o=>s.format(o)}),datetime:r((i,a)=>{const s=new Intl.DateTimeFormat(i,{...a});return o=>s.format(o)}),relativetime:r((i,a)=>{const s=new Intl.RelativeTimeFormat(i,{...a});return o=>s.format(o,a.range||"day")}),list:r((i,a)=>{const s=new Intl.ListFormat(i,{...a});return o=>s.format(o)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=uT(n)}format(e,n,r,i={}){const a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(o=>o.indexOf(")")>-1)){const o=a.findIndex(l=>l.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,o)].join(this.formatSeparator)}return a.reduce((o,l)=>{var d;const{formatName:c,formatOptions:u}=Vae(l);if(this.formats[c]){let h=o;try{const p=((d=i==null?void 0:i.formatParams)==null?void 0:d[i.interpolationkey])||{},g=p.locale||p.lng||i.locale||i.lng||r;h=this.formats[c](o,g,{...u,...i,...p})}catch(p){this.logger.warn(p)}return h}else this.logger.warn(`there was no format function for ${c}`);return o},e)}}const zae=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class Wae extends U2{constructor(e,n,r,i={}){var a,s;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Wa.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(s=(a=this.backend)==null?void 0:a.init)==null||s.call(a,r,i.backend,i)}queueLoad(e,n,r,i){const a={},s={},o={},l={};return e.forEach(c=>{let u=!0;n.forEach(d=>{const h=`${c}|${d}`;!r.reload&&this.store.hasResourceBundle(c,d)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?s[h]===void 0&&(s[h]=!0):(this.state[h]=1,u=!1,s[h]===void 0&&(s[h]=!0),a[h]===void 0&&(a[h]=!0),l[d]===void 0&&(l[d]=!0)))}),u||(o[c]=!0)}),(Object.keys(a).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(s),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),a=i[0],s=i[1];n&&this.emit("failedLoading",a,s,n),!n&&r&&this.store.addResourceBundle(a,s,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const o={};this.queue.forEach(l=>{Aae(l.loaded,[a],s),zae(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{o[c]||(o[c]={});const u=l.loaded[c];u.length&&u.forEach(d=>{o[c][d]===void 0&&(o[c][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r,i=0,a=this.retryTimeout,s){if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:a,callback:s});return}this.readingCalls++;const o=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(c&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,a*2,s)},a);return}s(c,u)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(e,n);c&&typeof c.then=="function"?c.then(u=>o(null,u)).catch(o):o(null,c)}catch(c){o(c)}return}return l(e,n,o)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();tt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),tt(n)&&(n=[n]);const a=this.queueLoad(e,n,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(s=>{this.loadOne(s)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(s,o)=>{s&&this.logger.warn(`${n}loading namespace ${a} for language ${i} failed`,s),!s&&o&&this.logger.log(`${n}loaded namespace ${a} for language ${i}`,o),this.loaded(e,s,o)})}saveMissing(e,n,r,i,a,s={},o=()=>{}){var l,c,u,d,h;if((c=(l=this.services)==null?void 0:l.utils)!=null&&c.hasLoadedNamespace&&!((d=(u=this.services)==null?void 0:u.utils)!=null&&d.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((h=this.backend)!=null&&h.create){const p={...s,isUpdate:a},g=this.backend.create.bind(this.backend);if(g.length<6)try{let x;g.length===5?x=g(e,n,r,i,p):x=g(e,n,r,i),x&&typeof x.then=="function"?x.then(v=>o(null,v)).catch(o):o(null,x)}catch(x){o(x)}else g(e,n,r,i,o,p)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const Y6=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),tt(t[1])&&(e.defaultValue=t[1]),tt(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),dT=t=>{var e,n;return tt(t.ns)&&(t.ns=[t.ns]),tt(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),tt(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},Z4=()=>{},qae=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};let fT=!1;const Hae=t=>{var e,n,r,i,a,s,o,l,c;return!!(((r=(n=(e=t==null?void 0:t.modules)==null?void 0:e.backend)==null?void 0:n.name)==null?void 0:r.indexOf("Locize"))>0||((o=(s=(a=(i=t==null?void 0:t.modules)==null?void 0:i.backend)==null?void 0:a.constructor)==null?void 0:s.name)==null?void 0:o.indexOf("Locize"))>0||(c=(l=t==null?void 0:t.options)==null?void 0:l.backend)!=null&&c.backends&&t.options.backend.backends.some(u=>{var d,h,p;return((d=u==null?void 0:u.name)==null?void 0:d.indexOf("Locize"))>0||((p=(h=u==null?void 0:u.constructor)==null?void 0:h.name)==null?void 0:p.indexOf("Locize"))>0}))};class Kf extends U2{constructor(e={},n){if(super(),this.options=dT(e),this.services={},this.logger=Wa,this.modules={external:[]},qae(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(tt(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=Y6();this.options={...r,...this.options,...dT(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler),this.options.showSupportNotice!==!1&&!Hae(this)&&!fT&&(typeof console<"u"&&typeof console.info<"u"&&console.info(" i18next is maintained with support from Locize  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com "),fT=!0);const i=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?Wa.init(i(this.modules.logger),this.options):Wa.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=Bae;const u=new aT(this.options);this.store=new rT(this.options.resources,this.options);const d=this.services;d.logger=Wa,d.resourceStore=this.store,d.languageUtils=u,d.pluralResolver=new Fae(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),c&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(d.formatter=i(c),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new cT(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new Wae(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new a1(this.services,this.options),this.translator.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Z4),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...u)=>this.store[c](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...u)=>(this.store[c](...u),this)});const o=Ud(),l=()=>{const c=(u,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(d),n(u,d)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),o}loadResources(e,n=Z4){var a,s;let r=n;const i=tt(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(d=>{d!=="cimode"&&o.indexOf(d)<0&&o.push(d)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>l(u)),(s=(a=this.options.preload)==null?void 0:a.forEach)==null||s.call(a,c=>l(c)),this.services.backendConnector.load(o,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,n,r){const i=Ud();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Z4),this.services.backendConnector.reload(e,n,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&KL.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=Ud();this.emit("languageChanging",e);const i=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},a=(o,l)=>{l?this.isLanguageChangingTo===e&&(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...c)=>this.t(...c)),n&&n(o,(...c)=>this.t(...c))},s=o=>{var u,d;!e&&!o&&this.services.languageDetector&&(o=[]);const l=tt(o)?o:o&&o[0],c=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(tt(o)?[o]:o);c&&(this.language||i(c),this.translator.language||this.translator.changeLanguage(c),(d=(u=this.services.languageDetector)==null?void 0:u.cacheUserLanguage)==null||d.call(u,c)),this.loadResources(c,h=>{a(h,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),r}getFixedT(e,n,r){const i=(a,s,...o)=>{let l;typeof s!="object"?l=this.options.overloadTranslationOptionHandler([a,s].concat(o)):l={...s},l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const c=this.options.keySeparator||".";let u;return l.keyPrefix&&Array.isArray(a)?u=a.map(d=>(typeof d=="function"&&(d=b7(d,{...this.options,...s})),`${l.keyPrefix}${c}${d}`)):(typeof a=="function"&&(a=b7(a,{...this.options,...s})),u=l.keyPrefix?`${l.keyPrefix}${c}${a}`:a),this.t(u,l)};return tt(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(o,l)=>{const c=this.services.backendConnector.state[`${o}|${l}`];return c===-1||c===0||c===2};if(n.precheck){const o=n.precheck(this,s);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,e)&&(!i||s(a,e)))}loadNamespaces(e,n){const r=Ud();return this.options.ns?(tt(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Ud();tt(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return a.length?(this.options.preload=i.concat(a),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(e){var i,a;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const s=new Intl.Locale(e);if(s&&s.getTextInfo){const o=s.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new aT(Y6());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){const r=new Kf(e,n);return r.createInstance=Kf.createInstance,r}cloneInstance(e={},n=Z4){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new Kf(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(o=>{a[o]=this[o]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const o=Object.keys(this.store.data).reduce((l,c)=>(l[c]={...this.store.data[c]},l[c]=Object.keys(l[c]).reduce((u,d)=>(u[d]={...l[c][d]},u),l[c]),l),{});a.store=new rT(o,i),a.services.resourceStore=a.store}if(e.interpolation){const l={...Y6().interpolation,...this.options.interpolation,...e.interpolation},c={...i,interpolation:l};a.services.interpolator=new cT(c)}return a.translator=new a1(a.services,i),a.translator.on("*",(o,...l)=>{a.emit(o,...l)}),a.init(i,n),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Kn=Kf.createInstance();Kn.createInstance;Kn.dir;Kn.init;Kn.loadResources;Kn.reloadResources;Kn.use;Kn.changeLanguage;Kn.getFixedT;Kn.t;Kn.exists;Kn.setDefaultNamespace;Kn.hasLoadedNamespace;Kn.loadNamespaces;Kn.loadLanguages;const Gae=(t,e,n,r)=>{var a,s,o,l;const i=[n,{code:e,...r||{}}];if((s=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&s.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);Tl(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(l=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&l.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},hT={},QL=(t,e,n,r)=>{Tl(n)&&hT[n]||(Tl(n)&&(hT[n]=new Date),Gae(t,e,n,r))},XL=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},w7=(t,e,n)=>{t.loadNamespaces(e,XL(t,n))},pT=(t,e,n,r)=>{if(Tl(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return w7(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,XL(t,r))},Kae=(t,e,n={})=>!e.languages||!e.languages.length?(QL(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),Tl=t=>typeof t=="string",Yae=t=>typeof t=="object"&&t!==null,Qae=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Xae={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Jae=t=>Xae[t],Zae=t=>t.replace(Qae,Jae);let _7={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Zae,transDefaultProps:void 0};const ese=(t={})=>{_7={..._7,...t}},tse=()=>_7;let JL;const nse=t=>{JL=t},rse=()=>JL,ise={type:"3rdParty",init(t){ese(t.options.react),nse(t)}},ase=I.createContext();class sse{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var ZL={exports:{}},eF={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yu=I;function ose(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lse=typeof Object.is=="function"?Object.is:ose,cse=yu.useState,use=yu.useEffect,dse=yu.useLayoutEffect,fse=yu.useDebugValue;function hse(t,e){var n=e(),r=cse({inst:{value:n,getSnapshot:e}}),i=r[0].inst,a=r[1];return dse(function(){i.value=n,i.getSnapshot=e,Q6(i)&&a({inst:i})},[t,n,e]),use(function(){return Q6(i)&&a({inst:i}),t(function(){Q6(i)&&a({inst:i})})},[t]),fse(n),n}function Q6(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!lse(t,n)}catch{return!0}}function pse(t,e){return e()}var mse=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?pse:hse;eF.useSyncExternalStore=yu.useSyncExternalStore!==void 0?yu.useSyncExternalStore:mse;ZL.exports=eF;var gse=ZL.exports;const yse=(t,e)=>Tl(e)?e:Yae(e)&&Tl(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,vse={t:yse,ready:!1},xse=()=>()=>{},lr=(t,e={})=>{var P,A,C;const{i18n:n}=e,{i18n:r,defaultNS:i}=I.useContext(ase)||{},a=n||r||rse();a&&!a.reportNamespaces&&(a.reportNamespaces=new sse),a||QL(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const s=I.useMemo(()=>{var O;return{...tse(),...(O=a==null?void 0:a.options)==null?void 0:O.react,...e}},[a,e]),{useSuspense:o,keyPrefix:l}=s,c=i||((P=a==null?void 0:a.options)==null?void 0:P.defaultNS),u=Tl(c)?[c]:c||["translation"],d=I.useMemo(()=>u,u);(C=(A=a==null?void 0:a.reportNamespaces)==null?void 0:A.addUsedNamespaces)==null||C.call(A,d);const h=I.useRef(0),p=I.useCallback(O=>{if(!a)return xse;const{bindI18n:j,bindI18nStore:R}=s,D=()=>{h.current+=1,O()};return j&&a.on(j,D),R&&a.store.on(R,D),()=>{j&&j.split(" ").forEach($=>a.off($,D)),R&&R.split(" ").forEach($=>a.store.off($,D))}},[a,s]),g=I.useRef(),x=I.useCallback(()=>{if(!a)return vse;const O=!!(a.isInitialized||a.initializedStoreOnce)&&d.every(F=>Kae(F,a,s)),j=e.lng||a.language,R=h.current,D=g.current;if(D&&D.ready===O&&D.lng===j&&D.keyPrefix===l&&D.revision===R)return D;const U={t:a.getFixedT(j,s.nsMode==="fallback"?d:d[0],l),ready:O,lng:j,keyPrefix:l,revision:R};return g.current=U,U},[a,d,l,s,e.lng]),[v,y]=I.useState(0),{t:b,ready:w}=gse.useSyncExternalStore(p,x,x);I.useEffect(()=>{if(a&&!w&&!o){const O=()=>y(j=>j+1);e.lng?pT(a,e.lng,d,O):w7(a,d,O)}},[a,e.lng,d,w,o,v]);const k=a||{},E=I.useRef(null),S=I.useRef(),_=O=>{const j=Object.getOwnPropertyDescriptors(O);j.__original&&delete j.__original;const R=Object.create(Object.getPrototypeOf(O),j);if(!Object.prototype.hasOwnProperty.call(R,"__original"))try{Object.defineProperty(R,"__original",{value:O,writable:!1,enumerable:!1,configurable:!1})}catch{}return R},N=I.useMemo(()=>{const O=k,j=O==null?void 0:O.language;let R=O;O&&(E.current&&E.current.__original===O?S.current!==j?(R=_(O),E.current=R,S.current=j):R=E.current:(R=_(O),E.current=R,S.current=j));const D=[b,R,w];return D.t=b,D.i18n=R,D.ready=w,D},[b,k,w,k.resolvedLanguage,k.language,k.languages]);if(a&&o&&!w)throw new Promise(O=>{const j=()=>O();e.lng?pT(a,e.lng,d,j):w7(a,d,j)});return N},tF=I.createContext(),mT="/brand-logo.svg",X6="/brand-favicon.svg",gT="https://i.imgur.com/9YXqZ5K.png",j0={theme:"light",glassBackground:!1,accentType:"gradient",accentColor:"#1e3a5f",accentGradient:{start:"#EC4899",end:"#8B5CF6"}},e3=["Social Media Post","Social Media Reels","Other"],Nn=()=>I.useContext(tF),bse=({children:t})=>{const[e,n]=I.useState(()=>localStorage.getItem("theme")||"light"),[r,i]=I.useState(()=>localStorage.getItem("isSidebarCollapsed")==="true"),[a,s]=I.useState(!1),[o,l]=I.useState(()=>{try{const Y=localStorage.getItem("appearance"),K=Y?JSON.parse(Y):null,le=K==null?void 0:K.theme,Ae=le==="liquid"||le==="default_glass";return{theme:Ae?j0.theme:le||j0.theme,glassBackground:(K==null?void 0:K.glassBackground)??Ae??j0.glassBackground,accentType:(K==null?void 0:K.accentType)||j0.accentType,accentColor:(K==null?void 0:K.accentColor)||j0.accentColor,accentGradient:(K==null?void 0:K.accentGradient)||j0.accentGradient}}catch(Y){return console.error("Error loading appearance settings:",Y),j0}});I.useEffect(()=>{const Y=document.documentElement;Y.classList.remove("theme-light","theme-dark","bg-liquid-glass"),o.theme!=="default"&&Y.classList.add(`theme-${o.theme}`),o.glassBackground&&Y.classList.add("bg-liquid-glass");let K=o.accentColor;if(o.accentColor,o.accentType==="solid")Y.style.setProperty("--accent-color",o.accentColor),Y.style.setProperty("--accent-gradient",o.accentColor);else{const{start:le,end:Ae}=o.accentGradient;K=le,Y.style.setProperty("--accent-color",le),Y.style.setProperty("--accent-gradient",`linear-gradient(135deg, ${le} 0%, ${Ae} 100%)`)}if(Y.style.setProperty("--brand-color",K),we(le=>({...le,color:K})),o.glassBackground&&Y.style.setProperty("--glass-tint",`${K}15`),o.theme==="dark")n("dark");else if(o.theme==="light")n("light");else if(o.theme==="default"){const le=localStorage.getItem("theme")||"light";n(le)}},[o]);const[c,u]=I.useState([]),[d,h]=I.useState([]),[p,g]=I.useState([]),[x,v]=I.useState([]),[y,b]=I.useState([]),[w,k]=I.useState(["Electronics","Clothing","Home","Beauty","Sports"]),[E,S]=I.useState(e3),[_,N]=I.useState(!0),P=I.useRef(!0),[A,C]=I.useState([]),O=Ye.isDesktop(),[j,R]=I.useState(typeof navigator<"u"?navigator.onLine:!0),[D,$]=I.useState(0),[U,F]=I.useState(!0),[B,z]=I.useState([]),q=(Y,K="info")=>{const le=Math.random().toString(36).substr(2,9);C(Ae=>[...Ae,{id:le,message:Y,type:K}]),setTimeout(()=>{C(Ae=>Ae.filter(Ee=>Ee.id!==le))},3e3)};I.useEffect(()=>{P.current=_},[_]),I.useEffect(()=>{if(!O)return;const Y=()=>{R(!0),Ye.setOnlineStatus(!0)},K=()=>{R(!1),Ye.setOnlineStatus(!1)};(async()=>{R(navigator.onLine),await Ye.setOnlineStatus(navigator.onLine);const ct=await Ye.getSyncStatus();$(ct.pendingCount||0),F(!!ct.offlineModeEnabled),z(await Ye.getConflicts())})().catch(ct=>console.error("Desktop sync init failed:",ct)),window.addEventListener("online",Y),window.addEventListener("offline",K);const Ae=Ye.onSyncState(ct=>{$(ct.pendingCount||0),F(!!ct.offlineModeEnabled)}),Ee=Ye.onConflict(ct=>{q(`Conflict detected on ${ct.entity} #${ct.docId} - resolved automatically`,"warning"),Ye.getConflicts().then(z).catch(()=>{})});return()=>{window.removeEventListener("online",Y),window.removeEventListener("offline",K),Ae==null||Ae(),Ee==null||Ee()}},[O]);const G=async()=>{if(O)try{const Y=await Ye.syncOnce(),K=await Ye.getPendingSyncCount();if($(K),z(await Ye.getConflicts()),Y!=null&&Y.rateLimited){const le=Math.max(1,Math.ceil(((Y==null?void 0:Y.retryAfterMs)||0)/1e3));q(`Sync paused due to quota limit. Retry in ~${le}s.`,"warning");return}(Y==null?void 0:Y.failed)>0?q(`Sync completed with ${Y.failed} failed change(s).`,"warning"):Y!=null&&Y.skipped||q("Sync completed successfully.","success")}catch(Y){q(`Sync failed: ${(Y==null?void 0:Y.message)||"Unknown error"}`,"error"),$(await Ye.getPendingSyncCount()),z(await Ye.getConflicts())}},te=async Y=>{O&&(await Ye.setOfflineModeEnabled(Y),F(Y))},[de,ye]=I.useState(!1),[J,we]=I.useState(()=>{var le;const Y=localStorage.getItem("appearance");let K="#1e3a5f";if(Y)try{const Ae=JSON.parse(Y);Ae.accentType==="gradient"&&((le=Ae.accentGradient)!=null&&le.start)?K=Ae.accentGradient.start:Ae.accentColor&&(K=Ae.accentColor)}catch(Ae){console.error("Error parsing appearance for initial brand color:",Ae)}return{name:"Gem Toys",logo:mT,favicon:X6,color:K,hideHeader:!1}});I.useEffect(()=>{try{J!=null&&J.name&&(document.title=J.name);const Y=K=>{if(!K)return;let le=document.querySelector("link[rel~='icon']");le||(le=document.createElement("link"),le.rel="icon",document.getElementsByTagName("head")[0].appendChild(le)),le.href=K};J!=null&&J.favicon?Y(J.favicon):J!=null&&J.logo?Y(J.logo):Y(X6)}catch{}},[J]);const ke=async Y=>{const{_id:K,...le}=Y,Ae=K||"branding";await Ye.set("settings",Ae,le),we(Ee=>({...Ee,...le}))};I.useEffect(()=>{N(!0);let Y={products:!1,categories:!1,orders:!1,expenses:!1,customers:!1,users:!1,settings:!1};const K=()=>{Object.values(Y).every(Fe=>Fe)&&N(!1)},le=(Fe,wn)=>{console.error(`Error loading ${Fe}:`,wn),q(`Error loading ${Fe}. Refresh page.`,"error"),Y[Fe]=!0,K()},Ae=Ye.subscribeToCollection("products",Fe=>{u(Fe),Y.products=!0,K()},"name","asc",Fe=>le("products",Fe)),Ee=Ye.subscribeToCollection("categories",Fe=>{if(Fe.length>0){const wn=Fe.map(Sr=>Sr.name).sort();k(wn),ve(Fe)}else k([]),ve([]);Y.categories=!0,K()},"name","asc",Fe=>le("categories",Fe)),ct=Ye.subscribeToCollection("orders",Fe=>{h(Fe),Y.orders=!0,K()},"date","desc",Fe=>le("orders",Fe)),W=Ye.subscribeToCollection("expenses",Fe=>{g(Fe),Y.expenses=!0,K()},"date","desc",Fe=>le("expenses",Fe)),me=Ye.subscribeToCollection("customers",Fe=>{v(Fe),Y.customers=!0,K()},"name","asc",Fe=>le("customers",Fe)),be=Ye.subscribeToCollection("users",Fe=>{b(Fe),Y.users=!0,K()},"username","asc",Fe=>le("users",Fe)),Qe=Ye.subscribeToCollection("settings",Fe=>{const wn=Fe.find(It=>It._id==="branding"),Sr=Fe.find(It=>It._id==="expenses_config");if(wn){const{_id:It,...Ti}=wn,ri=Ti.logo===gT?mT:Ti.logo,m4=Ti.favicon===gT?ri||X6:Ti.favicon;we(g4=>({...g4,...Ti,logo:ri,favicon:m4}))}if(Sr!=null&&Sr.types&&Array.isArray(Sr.types)){const It=[...new Set([...e3,...Sr.types.filter(Boolean)])];S(It)}else S(e3);Y.settings=!0,K()},"name","asc",Fe=>le("settings",Fe)),Rt=setTimeout(()=>{P.current&&(console.warn("Loading safety timeout hit."),N(!1))},8e3);return()=>{clearTimeout(Rt),Ae(),Ee(),ct(),W(),me(),be(),Qe()}},[]);const[ne,ve]=I.useState([]),Te=async Y=>{w.includes(Y)||(await Ye.add("categories",{name:Y}),q(`Category "${Y}" added!`,"success"))},ae=async(Y,K)=>{const le=ne.find(Ae=>Ae.name===Y);if(le){await Ye.update("categories",le._id,{name:K}),q(`Category updated to "${K}"`,"success");const Ae=c.filter(Ee=>Ee.category===Y);for(const Ee of Ae)await Ye.update("products",Ee._id,{category:K})}},Be=async Y=>{const K=ne.find(le=>le.name===Y);K&&(await Ye.delete("categories",K._id),q(`Category "${Y}" deleted!`,"success"))},[ie,Q]=I.useState(null);I.useEffect(()=>{if(y.length>0)if(ie){const Y=y.find(K=>K._id===ie._id||K.username===ie.username);Y&&Q(Y)}else{const Y=y.find(K=>K.role==="Admin");Q(Y||y[0])}},[y]);const fe=Y=>{n(Y)};I.useEffect(()=>{const Y=document.documentElement;e==="dark"?Y.classList.add("dark"):e==="light"?Y.classList.remove("dark"):e==="system"&&(window.matchMedia("(prefers-color-scheme: dark)").matches?Y.classList.add("dark"):Y.classList.remove("dark")),localStorage.setItem("theme",e)},[e]);const{i18n:$e}=lr(),[kt,je]=I.useState(localStorage.getItem("language")||$e.language||"en"),Ue=Y=>{je(Y),$e.changeLanguage(Y),localStorage.setItem("language",Y);const K=Y==="ar"?"rtl":"ltr";document.documentElement.setAttribute("dir",K),document.documentElement.setAttribute("lang",Y)};I.useEffect(()=>{const Y=localStorage.getItem("language")||"en",K=Y==="ar"?"rtl":"ltr";document.documentElement.setAttribute("dir",K),document.documentElement.setAttribute("lang",Y),Y!==$e.language&&$e.changeLanguage(Y)},[$e]);const Z=()=>{i(Y=>{const K=!Y;return localStorage.setItem("isSidebarCollapsed",K),K})},ge=()=>s(Y=>!Y),Ie=()=>s(!1),st=Y=>new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(Y),et=async Y=>{try{const K=await Ye.add("products",Y);return q("Product added successfully","success"),K}catch(K){return q("Error adding product","error"),console.error(K),null}},gt=async Y=>{const{_id:K,...le}=Y;try{await Ye.update("products",K,le),q("Product updated successfully","success")}catch(Ae){q("Error updating product","error"),console.error(Ae)}},vt=async Y=>{try{await Ye.delete("products",Y),q("Product deleted successfully","success")}catch(K){q("Error deleting product","error"),console.error(K)}},se=async Y=>{const K={...Y,createdOn:new Date().toISOString()},le=await Ye.add("customers",K);return q("Customer added successfully","success"),le},H=async Y=>{const{_id:K,...le}=Y;await Ye.update("customers",K,le)},ce=async Y=>{try{const K=`#ORD-${Math.floor(1e3+Math.random()*9e3)}`,le={...Y,orderId:K,date:new Date().toISOString()},Ae=await Ye.add("orders",le);for(const Ee of Y.items){const ct=c.find(W=>W._id===Ee.product._id);if(ct){const W=Math.max(0,ct.stock-Ee.quantity);await Ye.update("products",ct._id,{stock:W,status:W===0?"Out of Stock":W<=10?"Low Stock":"In Stock"})}}return q("Order created successfully","success"),Ae}catch(K){return q("Error creating order","error"),console.error(K),null}},Se=async Y=>{try{const K={...Y,amountIQD:Number(Y.amountIQD||0),createdAt:Y.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString()},le=await Ye.add("expenses",K);return q("Expense added successfully","success"),le}catch(K){return q("Error adding expense","error"),console.error(K),null}},He=async Y=>{const{_id:K,...le}=Y;try{await Ye.update("expenses",K,{...le,amountIQD:Number(le.amountIQD||0),updatedAt:new Date().toISOString()}),q("Expense updated successfully","success")}catch(Ae){q("Error updating expense","error"),console.error(Ae)}},en=async Y=>{try{await Ye.delete("expenses",Y),q("Expense deleted successfully","success")}catch(K){q("Error deleting expense","error"),console.error(K)}},Bn=async Y=>{const K=[...new Set((Y||[]).map(Ae=>String(Ae||"").trim()).filter(Boolean))],le=[...new Set([...e3,...K])];try{await Ye.set("settings","expenses_config",{name:"expenses_config",types:le,updatedAt:new Date().toISOString()}),S(le),q("Expense types saved","success")}catch(Ae){q("Error saving expense types","error"),console.error(Ae)}},xn=async Y=>{const K=d.find(le=>le._id===Y);if(K)for(const le of K.items){const Ae=c.find(Ee=>Ee._id===le.product._id);if(Ae){const Ee=Ae.stock+le.quantity;await Ye.update("products",Ae._id,{stock:Ee,status:Ee===0?"Out of Stock":Ee<=10?"Low Stock":"In Stock"})}}await Ye.delete("orders",Y),q("Order deleted and stock restored","info")},bn=async Y=>{const{_id:K,...le}=Y,Ae=d.find(Ee=>Ee._id===K);if(Ae){for(const Ee of Ae.items){const ct=c.find(W=>W._id===Ee.product._id);ct&&await Ye.update("products",ct._id,{stock:ct.stock+Ee.quantity})}for(const Ee of Y.items){const ct=c.find(W=>W._id===Ee.product._id);if(ct){const W=Ae.items.find(Qe=>Qe.product._id===Ee.product._id),me=W?W.quantity:0,be=Math.max(0,ct.stock+me-Ee.quantity);await Ye.update("products",ct._id,{stock:be,status:be===0?"Out of Stock":be<=10?"Low Stock":"In Stock"})}}}await Ye.update("orders",K,le),q("Order updated successfully","success")},cr=async Y=>{await Ye.add("users",{...Y,displayName:Y.username})},re=async Y=>{const{_id:K,...le}=Y;await Ye.update("users",K,le)},Ke=async Y=>{ie&&(await Ye.update("users",ie._id,Y),Q(K=>({...K,...Y})))},Pe=async Y=>{await Ye.delete("users",Y)};return f.jsx(tF.Provider,{value:{products:c,addProduct:et,updateProduct:gt,deleteProduct:vt,orders:d,addOrder:ce,updateOrder:bn,deleteOrder:xn,expenses:p,addExpense:Se,updateExpense:He,deleteExpense:en,customers:x,addCustomer:se,updateCustomer:H,users:y,addUser:cr,updateUser:re,deleteUser:Pe,categories:w,addCategory:Te,updateCategory:ae,deleteCategory:Be,expenseTypes:E,saveExpenseTypes:Bn,loading:_,theme:e,toggleTheme:fe,brand:J,updateBrand:ke,appearance:o,setAppearance:Y=>{l(K=>{const le={...K,...Y};return localStorage.setItem("appearance",JSON.stringify(le)),le})},currentUser:ie,updateUserProfile:Ke,language:kt,changeLanguage:Ue,formatCurrency:st,isSidebarCollapsed:r,toggleSidebar:Z,isMobileMenuOpen:a,toggleMobileMenu:ge,closeMobileMenu:Ie,toasts:A,addToast:q,isModalOpen:de,setIsModalOpen:ye,isDesktop:O,isOnline:j,pendingSyncCount:D,syncNow:G,desktopOfflineModeEnabled:U,setDesktopOfflineModeEnabled:te,conflicts:B},children:t})},nF=I.createContext(null),nd=()=>{const t=I.useContext(nF);if(!t)throw new Error("useAuth must be used inside AuthProvider");return t},wse=({children:t})=>{const[e,n]=I.useState(null),[r,i]=I.useState(!0);I.useEffect(()=>Mte(Mn,o=>{n(o),i(!1)}),[]),I.useEffect(()=>Ye.isDesktop()?(Ye.setSyncConfig({projectId:"test-inventory-stoe"}).catch(()=>{}),G$(Mn,async o=>{try{const l=o?await o.getIdToken():null;await Ye.setAuthToken(l)}catch{await Ye.setAuthToken(null)}})):void 0,[]);const a=I.useMemo(()=>({user:e,loading:r,signInWithGoogle:async()=>{const s=new xs;return tne(Mn,s)},signInWithEmail:async(s,o)=>Ate(Mn,s,o),signUpWithEmail:async(s,o)=>Pte(Mn,s,o),signOutUser:async()=>Dte(Mn),updateAuthProfile:async s=>{if(!Mn.currentUser)throw new Error("No authenticated user");await V6(Mn.currentUser,s),n({...Mn.currentUser})},updateAuthAvatar:async s=>{if(!Mn.currentUser)throw new Error("No authenticated user");try{const o=await _se(s),l=kL(HL,`users/${Mn.currentUser.uid}/avatar.jpg`);await _L(l,o,{contentType:o.type||"image/jpeg"});const c=await SL(l);return await V6(Mn.currentUser,{photoURL:c}),n({...Mn.currentUser}),c}catch{return await V6(Mn.currentUser,{photoURL:s}),n({...Mn.currentUser}),s}},changeAuthPassword:async(s,o)=>{var c;if(!((c=Mn.currentUser)!=null&&c.email))throw new Error("No authenticated user");const l=Yl.credential(Mn.currentUser.email,s);await Tte(Mn.currentUser,l),await Cte(Mn.currentUser,o)}}),[e,r]);return f.jsx(nF.Provider,{value:a,children:t})},_se=async t=>(await fetch(t)).blob(),Sse=()=>{var A,C;const{t,i18n:e}=lr(),n=to(),r=Lp(),{user:i,signOutUser:a}=nd(),{theme:s,currentUser:o,brand:l,isSidebarCollapsed:c,toggleSidebar:u,isMobileMenuOpen:d,closeMobileMenu:h,language:p}=Nn(),[g,x]=I.useState(!1),v=I.useRef(null),y=o||i,b=p==="ar",w=[{icon:iY,label:t("menu.dashboard"),path:"/"},{icon:Jk,label:t("menu.inventory"),path:"/products"},{icon:sl,label:t("menu.productPicture"),path:"/product-picture"},{icon:ED,label:t("menu.orders"),path:"/orders"},{icon:pY,label:t("menu.expenses"),path:"/expenses"},{icon:Kx,label:t("menu.customers"),path:"/customers"},{icon:kD,label:t("menu.settings"),path:"/settings"}],_=`fixed lg:static top-0 bottom-0 ${b?"right-0 left-auto":"left-0 right-auto"} border-e z-40 ${c?"w-20":"w-56"} bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 flex flex-col h-screen transition-all duration-300 ease-in-out ${d?"translate-x-0 shadow-2xl":(b?"translate-x-full":"-translate-x-full")+" lg:translate-x-0"} glass-panel`;I.useEffect(()=>{const O=j=>{v.current&&!v.current.contains(j.target)&&x(!1)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]);const N=()=>{x(!1),h(),r("/settings?tab=account")},P=async()=>{x(!1);try{await a(),h(),r("/login",{replace:!0})}catch(O){console.error("Logout failed:",O)}};return f.jsxs("aside",{className:_,children:[f.jsxs("div",{className:`h-24 flex items-center ${c?"justify-center":"px-8"} relative`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shadow-lg text-white overflow-hidden shrink-0",style:{backgroundColor:l.color,boxShadow:`0 10px 15px -3px ${l.color}33`},children:l.logo?f.jsx("img",{src:l.logo,alt:"Logo",className:"w-full h-full object-cover"}):f.jsx(Jk,{className:"w-6 h-6"})}),!c&&f.jsx("div",{className:"animate-in fade-in duration-300",children:f.jsxs("h1",{className:"font-bold text-slate-800 dark:text-white text-lg leading-tight tracking-tight",children:[l.name.split(" ")[0],f.jsx("br",{}),f.jsx("span",{style:{color:l.color},className:"font-extrabold",children:l.name.split(" ").slice(1).join(" ")||"APP"})]})})]}),f.jsx("button",{onClick:h,className:`lg:hidden absolute top-6 ${b?"left-4":"right-4"} p-2 text-slate-400 hover:text-red-500 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors`,children:f.jsx(Dr,{className:"w-5 h-5"})})]}),f.jsxs("nav",{className:"flex-1 overflow-y-auto py-4 px-3 space-y-2 custom-scrollbar",children:[!c&&f.jsx("div",{className:"mb-4 px-4",children:f.jsx("p",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:t("menu.mainMenu")})}),w.map(O=>{const j=n.pathname===O.path;return f.jsxs(KK,{to:O.path,title:c?O.label:"",onClick:h,className:`flex items-center gap-3 rounded-xl transition-all duration-200 group relative overflow-hidden ${c?"justify-center p-3":"px-4 py-3.5"} ${j?"text-white shadow-lg bg-accent shadow-accent":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 dark:text-slate-400 dark:hover:text-white"}`,children:[f.jsx(O.icon,{className:`w-5 h-5 relative z-10 transition-transform duration-200 ${j?"scale-110":"group-hover:scale-110"}`}),!c&&f.jsx("span",{className:"font-medium relative z-10 animate-in fade-in slide-in-from-start-2 duration-300",children:O.label})]},O.path)})]}),f.jsx("div",{className:"p-4 mt-auto border-t border-slate-100 dark:border-slate-800/50",children:f.jsxs("div",{className:"relative",ref:v,children:[f.jsxs("button",{onClick:()=>x(O=>!O),className:`w-full bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 flex items-center shadow-sm glass-panel transition-all hover:border-slate-300 dark:hover:border-slate-600 ${c?"p-2 justify-center":"p-4 gap-3"}`,children:[f.jsxs("div",{className:"relative shrink-0 w-10 h-10",children:[f.jsx("div",{className:"w-full h-full text-white rounded-full flex items-center justify-center font-bold text-lg overflow-hidden",style:{backgroundColor:l.color},children:y!=null&&y.photoURL?f.jsx("img",{src:y.photoURL,alt:"User",className:"w-full h-full object-cover"}):((A=y==null?void 0:y.displayName)==null?void 0:A.charAt(0))||"U"}),f.jsx("div",{className:"absolute bottom-0 end-0 w-3 h-3 bg-emerald-500 border-2 border-white dark:border-slate-800 rounded-full"})]}),!c&&f.jsxs("div",{className:"flex-1 overflow-hidden text-left animate-in fade-in duration-300",children:[f.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-white truncate",children:((C=y==null?void 0:y.displayName)==null?void 0:C.split(" ")[0])||t("user.defaultName")}),f.jsx("p",{className:"text-xs text-slate-500 truncate",children:(o==null?void 0:o.role)||(y==null?void 0:y.email)||t("user.defaultRole")})]}),!c&&f.jsx(qx,{className:`w-4 h-4 text-slate-400 transition-transform ${g?"rotate-180":""}`})]}),g&&!c&&f.jsxs("div",{className:"absolute bottom-full mb-2 left-0 right-0 rounded-2xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-2xl overflow-hidden z-50",children:[f.jsxs("button",{onClick:N,className:"w-full flex items-center gap-2 px-4 py-3 text-sm font-semibold text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/60 transition-colors",children:[f.jsx(xY,{className:"w-4 h-4"}),f.jsx("span",{children:t("settings.accountSettings")||"Account Settings"})]}),f.jsxs("button",{onClick:P,className:"w-full flex items-center gap-2 px-4 py-3 text-sm font-semibold text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/60 transition-colors border-t border-slate-100 dark:border-slate-700",children:[f.jsx(oY,{className:"w-4 h-4"}),f.jsx("span",{children:t("menu.logout")||"Log out"})]})]})]})}),f.jsx("button",{onClick:u,className:`hidden lg:flex absolute bottom-24 ${b?"-left-3":"-right-3"} w-6 h-6 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-full items-center justify-center text-slate-400 shadow-sm z-50 transition-all hover:scale-110`,style:{color:l.color},children:c?f.jsx(Eh,{className:"w-3.5 h-3.5"}):f.jsx(Dm,{className:"w-3.5 h-3.5"})})]})},kse=({title:t})=>{const{t:e}=lr(),{currentUser:n,toggleMobileMenu:r,isModalOpen:i,appearance:a,brand:s}=Nn(),o=s.hideHeader,l=["liquid","default_glass"].includes(a==null?void 0:a.theme),c=i?"hidden":o?"flex lg:hidden":"flex";return f.jsxs("header",{className:`${c} h-14 sm:h-16 md:h-20 lg:h-24 ${l?"bg-white/60 dark:bg-slate-900/60 backdrop-blur-2xl border-b border-white/20 dark:border-slate-700/30":"bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800"} items-center justify-between px-3 sm:px-4 md:px-6 lg:px-8 sticky top-0 z-20 transition-all duration-300 shadow-sm`,children:[f.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 md:gap-4 flex-1 min-w-0 overflow-hidden",children:[f.jsx("button",{onClick:r,className:`lg:hidden p-1.5 sm:p-2 rounded-xl transition-all shrink-0 ${l?"text-slate-600 dark:text-slate-300 hover:bg-white/40 dark:hover:bg-slate-800/40 backdrop-blur-sm":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800"}`,"aria-label":"Toggle menu",children:f.jsx(cY,{className:"w-5 h-5 sm:w-5.5 sm:h-5.5 md:w-6 md:h-6"})}),f.jsx("div",{className:"flex flex-col min-w-0 flex-1 overflow-hidden",children:f.jsx("h2",{className:"text-sm sm:text-base md:text-xl lg:text-2xl font-black text-slate-800 dark:text-white tracking-tight truncate",children:t})})]}),f.jsx("div",{})]})},Ese=()=>{const{toasts:t}=Nn();return f.jsx("div",{className:"fixed bottom-8 right-8 z-[1000] flex flex-col gap-3 pointer-events-none",children:t.map(e=>f.jsxs("div",{className:`
                        pointer-events-auto
                        flex items-center gap-4 px-6 py-4 rounded-2xl shadow-2xl backdrop-blur-md
                        animate-in slide-in-from-right-8 fade-in duration-300
                        ${e.type==="success"?"bg-emerald-500/90 text-white":e.type==="error"?"bg-red-500/90 text-white":"bg-slate-800/90 text-white"}
                    `,children:[f.jsxs("div",{className:"flex-shrink-0",children:[e.type==="success"&&f.jsx(xD,{className:"w-6 h-6"}),e.type==="error"&&f.jsx(Hx,{className:"w-6 h-6"}),e.type==="info"&&f.jsx(bD,{className:"w-6 h-6"})]}),f.jsx("div",{className:"flex-1",children:f.jsx("p",{className:"font-bold text-sm",children:e.message})})]},e.id))})},Ql=({children:t,title:e})=>{const{isSidebarCollapsed:n,isMobileMenuOpen:r,closeMobileMenu:i,brand:a}=Nn();return f.jsxs("div",{className:"flex h-screen bg-transparent font-sans transition-colors duration-300",children:[r&&f.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-30 lg:hidden animate-in fade-in duration-300",onClick:i}),f.jsx(Sse,{}),f.jsxs("div",{className:"flex-1 flex flex-col min-h-screen transition-all duration-300",children:[f.jsx(kse,{title:e||"Dashboard"}),f.jsx("main",{className:`flex-1 p-4 md:p-8 overflow-y-auto ${a.hideHeader?"lg:pt-8":""} overflow-x-hidden`,children:f.jsx("div",{className:"max-w-7xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:t})}),f.jsx(Ese,{})]})]})};function rF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=rF(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function St(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=rF(t))&&(r&&(r+=" "),r+=e);return r}var Nse=Array.isArray,ni=Nse,Tse=typeof N4=="object"&&N4&&N4.Object===Object&&N4,iF=Tse,Pse=iF,Ase=typeof self=="object"&&self&&self.Object===Object&&self,Ise=Pse||Ase||Function("return this")(),us=Ise,Cse=us,Ose=Cse.Symbol,Xp=Ose,yT=Xp,aF=Object.prototype,jse=aF.hasOwnProperty,Mse=aF.toString,Bd=yT?yT.toStringTag:void 0;function Dse(t){var e=jse.call(t,Bd),n=t[Bd];try{t[Bd]=void 0;var r=!0}catch{}var i=Mse.call(t);return r&&(e?t[Bd]=n:delete t[Bd]),i}var Rse=Dse,$se=Object.prototype,Lse=$se.toString;function Fse(t){return Lse.call(t)}var Vse=Fse,vT=Xp,Use=Rse,Bse=Vse,zse="[object Null]",Wse="[object Undefined]",xT=vT?vT.toStringTag:void 0;function qse(t){return t==null?t===void 0?Wse:zse:xT&&xT in Object(t)?Use(t):Bse(t)}var ro=qse;function Hse(t){return t!=null&&typeof t=="object"}var io=Hse,Gse=ro,Kse=io,Yse="[object Symbol]";function Qse(t){return typeof t=="symbol"||Kse(t)&&Gse(t)==Yse}var rd=Qse,Xse=ni,Jse=rd,Zse=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,eoe=/^\w*$/;function toe(t,e){if(Xse(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Jse(t)?!0:eoe.test(t)||!Zse.test(t)||e!=null&&t in Object(e)}var tw=toe;function noe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var _0=noe;const id=Ut(_0);var roe=ro,ioe=_0,aoe="[object AsyncFunction]",soe="[object Function]",ooe="[object GeneratorFunction]",loe="[object Proxy]";function coe(t){if(!ioe(t))return!1;var e=roe(t);return e==soe||e==ooe||e==aoe||e==loe}var nw=coe;const at=Ut(nw);var uoe=us,doe=uoe["__core-js_shared__"],foe=doe,J6=foe,bT=function(){var t=/[^.]+$/.exec(J6&&J6.keys&&J6.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function hoe(t){return!!bT&&bT in t}var poe=hoe,moe=Function.prototype,goe=moe.toString;function yoe(t){if(t!=null){try{return goe.call(t)}catch{}try{return t+""}catch{}}return""}var sF=yoe,voe=nw,xoe=poe,boe=_0,woe=sF,_oe=/[\\^$.*+?()[\]{}|]/g,Soe=/^\[object .+?Constructor\]$/,koe=Function.prototype,Eoe=Object.prototype,Noe=koe.toString,Toe=Eoe.hasOwnProperty,Poe=RegExp("^"+Noe.call(Toe).replace(_oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Aoe(t){if(!boe(t)||xoe(t))return!1;var e=voe(t)?Poe:Soe;return e.test(woe(t))}var Ioe=Aoe;function Coe(t,e){return t==null?void 0:t[e]}var Ooe=Coe,joe=Ioe,Moe=Ooe;function Doe(t,e){var n=Moe(t,e);return joe(n)?n:void 0}var Xl=Doe,Roe=Xl,$oe=Roe(Object,"create"),B2=$oe,wT=B2;function Loe(){this.__data__=wT?wT(null):{},this.size=0}var Foe=Loe;function Voe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Uoe=Voe,Boe=B2,zoe="__lodash_hash_undefined__",Woe=Object.prototype,qoe=Woe.hasOwnProperty;function Hoe(t){var e=this.__data__;if(Boe){var n=e[t];return n===zoe?void 0:n}return qoe.call(e,t)?e[t]:void 0}var Goe=Hoe,Koe=B2,Yoe=Object.prototype,Qoe=Yoe.hasOwnProperty;function Xoe(t){var e=this.__data__;return Koe?e[t]!==void 0:Qoe.call(e,t)}var Joe=Xoe,Zoe=B2,e0e="__lodash_hash_undefined__";function t0e(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Zoe&&e===void 0?e0e:e,this}var n0e=t0e,r0e=Foe,i0e=Uoe,a0e=Goe,s0e=Joe,o0e=n0e;function ad(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ad.prototype.clear=r0e;ad.prototype.delete=i0e;ad.prototype.get=a0e;ad.prototype.has=s0e;ad.prototype.set=o0e;var l0e=ad;function c0e(){this.__data__=[],this.size=0}var u0e=c0e;function d0e(t,e){return t===e||t!==t&&e!==e}var rw=d0e,f0e=rw;function h0e(t,e){for(var n=t.length;n--;)if(f0e(t[n][0],e))return n;return-1}var z2=h0e,p0e=z2,m0e=Array.prototype,g0e=m0e.splice;function y0e(t){var e=this.__data__,n=p0e(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():g0e.call(e,n,1),--this.size,!0}var v0e=y0e,x0e=z2;function b0e(t){var e=this.__data__,n=x0e(e,t);return n<0?void 0:e[n][1]}var w0e=b0e,_0e=z2;function S0e(t){return _0e(this.__data__,t)>-1}var k0e=S0e,E0e=z2;function N0e(t,e){var n=this.__data__,r=E0e(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var T0e=N0e,P0e=u0e,A0e=v0e,I0e=w0e,C0e=k0e,O0e=T0e;function sd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}sd.prototype.clear=P0e;sd.prototype.delete=A0e;sd.prototype.get=I0e;sd.prototype.has=C0e;sd.prototype.set=O0e;var W2=sd,j0e=Xl,M0e=us,D0e=j0e(M0e,"Map"),iw=D0e,_T=l0e,R0e=W2,$0e=iw;function L0e(){this.size=0,this.__data__={hash:new _T,map:new($0e||R0e),string:new _T}}var F0e=L0e;function V0e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var U0e=V0e,B0e=U0e;function z0e(t,e){var n=t.__data__;return B0e(e)?n[typeof e=="string"?"string":"hash"]:n.map}var q2=z0e,W0e=q2;function q0e(t){var e=W0e(this,t).delete(t);return this.size-=e?1:0,e}var H0e=q0e,G0e=q2;function K0e(t){return G0e(this,t).get(t)}var Y0e=K0e,Q0e=q2;function X0e(t){return Q0e(this,t).has(t)}var J0e=X0e,Z0e=q2;function ele(t,e){var n=Z0e(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var tle=ele,nle=F0e,rle=H0e,ile=Y0e,ale=J0e,sle=tle;function od(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}od.prototype.clear=nle;od.prototype.delete=rle;od.prototype.get=ile;od.prototype.has=ale;od.prototype.set=sle;var aw=od,oF=aw,ole="Expected a function";function sw(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(ole);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(sw.Cache||oF),n}sw.Cache=oF;var lF=sw;const lle=Ut(lF);var cle=lF,ule=500;function dle(t){var e=cle(t,function(r){return n.size===ule&&n.clear(),r}),n=e.cache;return e}var fle=dle,hle=fle,ple=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mle=/\\(\\)?/g,gle=hle(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(ple,function(n,r,i,a){e.push(i?a.replace(mle,"$1"):r||n)}),e}),yle=gle;function vle(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var ow=vle,ST=Xp,xle=ow,ble=ni,wle=rd,kT=ST?ST.prototype:void 0,ET=kT?kT.toString:void 0;function cF(t){if(typeof t=="string")return t;if(ble(t))return xle(t,cF)+"";if(wle(t))return ET?ET.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var _le=cF,Sle=_le;function kle(t){return t==null?"":Sle(t)}var uF=kle,Ele=ni,Nle=tw,Tle=yle,Ple=uF;function Ale(t,e){return Ele(t)?t:Nle(t,e)?[t]:Tle(Ple(t))}var dF=Ale,Ile=rd;function Cle(t){if(typeof t=="string"||Ile(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var H2=Cle,Ole=dF,jle=H2;function Mle(t,e){e=Ole(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[jle(e[n++])];return n&&n==r?t:void 0}var lw=Mle,Dle=lw;function Rle(t,e,n){var r=t==null?void 0:Dle(t,e);return r===void 0?n:r}var fF=Rle;const Hi=Ut(fF);function $le(t){return t==null}var Lle=$le;const mt=Ut(Lle);var Fle=ro,Vle=ni,Ule=io,Ble="[object String]";function zle(t){return typeof t=="string"||!Vle(t)&&Ule(t)&&Fle(t)==Ble}var Wle=zle;const Pl=Ut(Wle);var hF={exports:{}},Mt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cw=Symbol.for("react.element"),uw=Symbol.for("react.portal"),G2=Symbol.for("react.fragment"),K2=Symbol.for("react.strict_mode"),Y2=Symbol.for("react.profiler"),Q2=Symbol.for("react.provider"),X2=Symbol.for("react.context"),qle=Symbol.for("react.server_context"),J2=Symbol.for("react.forward_ref"),Z2=Symbol.for("react.suspense"),e5=Symbol.for("react.suspense_list"),t5=Symbol.for("react.memo"),n5=Symbol.for("react.lazy"),Hle=Symbol.for("react.offscreen"),pF;pF=Symbol.for("react.module.reference");function Zi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case cw:switch(t=t.type,t){case G2:case Y2:case K2:case Z2:case e5:return t;default:switch(t=t&&t.$$typeof,t){case qle:case X2:case J2:case n5:case t5:case Q2:return t;default:return e}}case uw:return e}}}Mt.ContextConsumer=X2;Mt.ContextProvider=Q2;Mt.Element=cw;Mt.ForwardRef=J2;Mt.Fragment=G2;Mt.Lazy=n5;Mt.Memo=t5;Mt.Portal=uw;Mt.Profiler=Y2;Mt.StrictMode=K2;Mt.Suspense=Z2;Mt.SuspenseList=e5;Mt.isAsyncMode=function(){return!1};Mt.isConcurrentMode=function(){return!1};Mt.isContextConsumer=function(t){return Zi(t)===X2};Mt.isContextProvider=function(t){return Zi(t)===Q2};Mt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===cw};Mt.isForwardRef=function(t){return Zi(t)===J2};Mt.isFragment=function(t){return Zi(t)===G2};Mt.isLazy=function(t){return Zi(t)===n5};Mt.isMemo=function(t){return Zi(t)===t5};Mt.isPortal=function(t){return Zi(t)===uw};Mt.isProfiler=function(t){return Zi(t)===Y2};Mt.isStrictMode=function(t){return Zi(t)===K2};Mt.isSuspense=function(t){return Zi(t)===Z2};Mt.isSuspenseList=function(t){return Zi(t)===e5};Mt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===G2||t===Y2||t===K2||t===Z2||t===e5||t===Hle||typeof t=="object"&&t!==null&&(t.$$typeof===n5||t.$$typeof===t5||t.$$typeof===Q2||t.$$typeof===X2||t.$$typeof===J2||t.$$typeof===pF||t.getModuleId!==void 0)};Mt.typeOf=Zi;hF.exports=Mt;var Gle=hF.exports,Kle=ro,Yle=io,Qle="[object Number]";function Xle(t){return typeof t=="number"||Yle(t)&&Kle(t)==Qle}var mF=Xle;const Jle=Ut(mF);var Zle=mF;function ece(t){return Zle(t)&&t!=+t}var tce=ece;const ld=Ut(tce);var ha=function(e){return e===0?0:e>0?1:-1},J0=function(e){return Pl(e)&&e.indexOf("%")===e.length-1},_e=function(e){return Jle(e)&&!ld(e)},nce=function(e){return mt(e)},Fn=function(e){return _e(e)||Pl(e)},rce=0,Jp=function(e){var n=++rce;return"".concat(e||"").concat(n)},Al=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_e(e)&&!Pl(e))return r;var a;if(J0(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return ld(a)&&(a=r),i&&a>n&&(a=n),a},Po=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},ice=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Di=function(e,n){return _e(e)&&_e(n)?function(r){return e+r*(n-e)}:function(){return n}};function s1(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Hi(r,e))===n})}var ace=function(e,n){return _e(e)&&_e(n)?e-n:Pl(e)&&Pl(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Xc(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function S7(t){"@babel/helpers - typeof";return S7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S7(t)}var sce=["viewBox","children"],oce=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],NT=["points","pathLength"],Z6={svg:sce,polygon:NT,polyline:NT},dw=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],o1=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(I.isValidElement(e)&&(r=e.props),!id(r))return null;var i={};return Object.keys(r).forEach(function(a){dw.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},lce=function(e,n,r){return function(i){return e(n,r,i),null}},l1=function(e,n,r){if(!id(e)||S7(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];dw.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=lce(s,n,r))}),i},cce=["children"],uce=["children"];function TT(t,e){if(t==null)return{};var n=dce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function k7(t){"@babel/helpers - typeof";return k7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k7(t)}var PT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Rs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},AT=null,ey=null,fw=function t(e){if(e===AT&&Array.isArray(ey))return ey;var n=[];return I.Children.forEach(e,function(r){mt(r)||(Gle.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),ey=n,AT=e,n};function Sa(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Rs(i)}):r=[Rs(e)],fw(t).forEach(function(i){var a=Hi(i,"type.displayName")||Hi(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function li(t,e){var n=Sa(t,e);return n&&n[0]}var IT=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!_e(r)||r<=0||!_e(i)||i<=0)},fce=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],hce=function(e){return e&&e.type&&Pl(e.type)&&fce.indexOf(e.type)>=0},pce=function(e){return e&&k7(e)==="object"&&"clipDot"in e},mce=function(e,n,r,i){var a,s=(a=Z6==null?void 0:Z6[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!at(e)&&(i&&s.includes(n)||oce.includes(n))||r&&dw.includes(n)},ut=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(I.isValidElement(e)&&(i=e.props),!id(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;mce((o=i)===null||o===void 0?void 0:o[s],s,n,r)&&(a[s]=i[s])}),a},E7=function t(e,n){if(e===n)return!0;var r=I.Children.count(e);if(r!==I.Children.count(n))return!1;if(r===0)return!0;if(r===1)return CT(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!CT(a,s))return!1}return!0},CT=function(e,n){if(mt(e)&&mt(n))return!0;if(!mt(e)&&!mt(n)){var r=e.props||{},i=r.children,a=TT(r,cce),s=n.props||{},o=s.children,l=TT(s,uce);return i&&o?Xc(a,l)&&E7(i,o):!i&&!o?Xc(a,l):!1}return!1},OT=function(e,n){var r=[],i={};return fw(e).forEach(function(a,s){if(hce(a))r.push(a);else if(a){var o=Rs(a.type),l=n[o]||{},c=l.handler,u=l.once;if(c&&(!u||!i[o])){var d=c(a,o,s);r.push(d),i[o]=!0}}}),r},gce=function(e){var n=e&&e.type;return n&&PT[n]?PT[n]:null},yce=function(e,n){return fw(n).indexOf(e)},vce=["children","width","height","viewBox","className","style","title","desc"];function N7(){return N7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N7.apply(this,arguments)}function xce(t,e){if(t==null)return{};var n=bce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function T7(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,c=xce(t,vce),u=i||{width:n,height:r,x:0,y:0},d=St("recharts-surface",a);return V.createElement("svg",N7({},ut(c,!0,"svg"),{className:d,width:n,height:r,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),V.createElement("title",null,o),V.createElement("desc",null,l),e)}var wce=["children","className"];function P7(){return P7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P7.apply(this,arguments)}function _ce(t,e){if(t==null)return{};var n=Sce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var an=V.forwardRef(function(t,e){var n=t.children,r=t.className,i=_ce(t,wce),a=St("recharts-layer",r);return V.createElement("g",P7({className:a},ut(i,!0),{ref:e}),n)}),$s=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function kce(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var Ece=kce,Nce=Ece;function Tce(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Nce(t,e,n)}var Pce=Tce,Ace="\\ud800-\\udfff",Ice="\\u0300-\\u036f",Cce="\\ufe20-\\ufe2f",Oce="\\u20d0-\\u20ff",jce=Ice+Cce+Oce,Mce="\\ufe0e\\ufe0f",Dce="\\u200d",Rce=RegExp("["+Dce+Ace+jce+Mce+"]");function $ce(t){return Rce.test(t)}var gF=$ce;function Lce(t){return t.split("")}var Fce=Lce,yF="\\ud800-\\udfff",Vce="\\u0300-\\u036f",Uce="\\ufe20-\\ufe2f",Bce="\\u20d0-\\u20ff",zce=Vce+Uce+Bce,Wce="\\ufe0e\\ufe0f",qce="["+yF+"]",A7="["+zce+"]",I7="\\ud83c[\\udffb-\\udfff]",Hce="(?:"+A7+"|"+I7+")",vF="[^"+yF+"]",xF="(?:\\ud83c[\\udde6-\\uddff]){2}",bF="[\\ud800-\\udbff][\\udc00-\\udfff]",Gce="\\u200d",wF=Hce+"?",_F="["+Wce+"]?",Kce="(?:"+Gce+"(?:"+[vF,xF,bF].join("|")+")"+_F+wF+")*",Yce=_F+wF+Kce,Qce="(?:"+[vF+A7+"?",A7,xF,bF,qce].join("|")+")",Xce=RegExp(I7+"(?="+I7+")|"+Qce+Yce,"g");function Jce(t){return t.match(Xce)||[]}var Zce=Jce,eue=Fce,tue=gF,nue=Zce;function rue(t){return tue(t)?nue(t):eue(t)}var iue=rue,aue=Pce,sue=gF,oue=iue,lue=uF;function cue(t){return function(e){e=lue(e);var n=sue(e)?oue(e):void 0,r=n?n[0]:e.charAt(0),i=n?aue(n,1).join(""):e.slice(1);return r[t]()+i}}var uue=cue,due=uue,fue=due("toUpperCase"),hue=fue;const r5=Ut(hue);function Bt(t){return function(){return t}}const SF=Math.cos,c1=Math.sin,Ta=Math.sqrt,u1=Math.PI,i5=2*u1,C7=Math.PI,O7=2*C7,V0=1e-6,pue=O7-V0;function kF(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function mue(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return kF;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class gue{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?kF:mue(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,c=i-n,u=s-e,d=o-n,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>V0)if(!(Math.abs(d*l-c*u)>V0)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,g=i-o,x=l*l+c*c,v=p*p+g*g,y=Math.sqrt(x),b=Math.sqrt(h),w=a*Math.tan((C7-Math.acos((x+h-v)/(2*y*b)))/2),k=w/b,E=w/y;Math.abs(k-1)>V0&&this._append`L${e+k*u},${n+k*d}`,this._append`A${a},${a},0,0,${+(d*p>u*g)},${this._x1=e+E*l},${this._y1=n+E*c}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,u=n+l,d=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>V0||Math.abs(this._y1-u)>V0)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%O7+O7),h>pue?this._append`A${r},${r},0,1,${d},${e-o},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:h>V0&&this._append`A${r},${r},0,${+(h>=C7)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function hw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new gue(e)}function pw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function EF(t){this._context=t}EF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function a5(t){return new EF(t)}function NF(t){return t[0]}function TF(t){return t[1]}function PF(t,e){var n=Bt(!0),r=null,i=a5,a=null,s=hw(o);t=typeof t=="function"?t:t===void 0?NF:Bt(t),e=typeof e=="function"?e:e===void 0?TF:Bt(e);function o(l){var c,u=(l=pw(l)).length,d,h=!1,p;for(r==null&&(a=i(p=s())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(d,c,l),+e(d,c,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Bt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Bt(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Bt(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function t3(t,e,n){var r=null,i=Bt(!0),a=null,s=a5,o=null,l=hw(c);t=typeof t=="function"?t:t===void 0?NF:Bt(+t),e=typeof e=="function"?e:Bt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?TF:Bt(+n);function c(d){var h,p,g,x=(d=pw(d)).length,v,y=!1,b,w=new Array(x),k=new Array(x);for(a==null&&(o=s(b=l())),h=0;h<=x;++h){if(!(h<x&&i(v=d[h],h,d))===y)if(y=!y)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(w[g],k[g]);o.lineEnd(),o.areaEnd()}y&&(w[h]=+t(v,h,d),k[h]=+e(v,h,d),o.point(r?+r(v,h,d):w[h],n?+n(v,h,d):k[h]))}if(b)return o=null,b+""||null}function u(){return PF().defined(i).curve(s).context(a)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Bt(+d),r=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Bt(+d),c):t},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Bt(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Bt(+d),n=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Bt(+d),c):e},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Bt(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Bt(!!d),c):i},c.curve=function(d){return arguments.length?(s=d,a!=null&&(o=s(a)),c):s},c.context=function(d){return arguments.length?(d==null?a=o=null:o=s(a=d),c):a},c}class AF{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function yue(t){return new AF(t,!0)}function vue(t){return new AF(t,!1)}const mw={draw(t,e){const n=Ta(e/u1);t.moveTo(n,0),t.arc(0,0,n,0,i5)}},xue={draw(t,e){const n=Ta(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},IF=Ta(1/3),bue=IF*2,wue={draw(t,e){const n=Ta(e/bue),r=n*IF;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},_ue={draw(t,e){const n=Ta(e),r=-n/2;t.rect(r,r,n,n)}},Sue=.8908130915292852,CF=c1(u1/10)/c1(7*u1/10),kue=c1(i5/10)*CF,Eue=-SF(i5/10)*CF,Nue={draw(t,e){const n=Ta(e*Sue),r=kue*n,i=Eue*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=i5*a/5,o=SF(s),l=c1(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},ty=Ta(3),Tue={draw(t,e){const n=-Ta(e/(ty*3));t.moveTo(0,n*2),t.lineTo(-ty*n,-n),t.lineTo(ty*n,-n),t.closePath()}},Pi=-.5,Ai=Ta(3)/2,j7=1/Ta(12),Pue=(j7/2+1)*3,Aue={draw(t,e){const n=Ta(e/Pue),r=n/2,i=n*j7,a=r,s=n*j7+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(Pi*r-Ai*i,Ai*r+Pi*i),t.lineTo(Pi*a-Ai*s,Ai*a+Pi*s),t.lineTo(Pi*o-Ai*l,Ai*o+Pi*l),t.lineTo(Pi*r+Ai*i,Pi*i-Ai*r),t.lineTo(Pi*a+Ai*s,Pi*s-Ai*a),t.lineTo(Pi*o+Ai*l,Pi*l-Ai*o),t.closePath()}};function Iue(t,e){let n=null,r=hw(i);t=typeof t=="function"?t:Bt(t||mw),e=typeof e=="function"?e:Bt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Bt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Bt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function d1(){}function f1(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function OF(t){this._context=t}OF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:f1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:f1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Cue(t){return new OF(t)}function jF(t){this._context=t}jF.prototype={areaStart:d1,areaEnd:d1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:f1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Oue(t){return new jF(t)}function MF(t){this._context=t}MF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:f1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jue(t){return new MF(t)}function DF(t){this._context=t}DF.prototype={areaStart:d1,areaEnd:d1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Mue(t){return new DF(t)}function jT(t){return t<0?-1:1}function MT(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(jT(a)+jT(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function DT(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ny(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function h1(t){this._context=t}h1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ny(this,this._t0,DT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ny(this,DT(this,n=MT(this,t,e)),n);break;default:ny(this,this._t0,n=MT(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function RF(t){this._context=new $F(t)}(RF.prototype=Object.create(h1.prototype)).point=function(t,e){h1.prototype.point.call(this,e,t)};function $F(t){this._context=t}$F.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Due(t){return new h1(t)}function Rue(t){return new RF(t)}function LF(t){this._context=t}LF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=RT(t),i=RT(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function RT(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function $ue(t){return new LF(t)}function s5(t,e){this._context=t,this._t=e}s5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Lue(t){return new s5(t,.5)}function Fue(t){return new s5(t,0)}function Vue(t){return new s5(t,1)}function vu(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function M7(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Uue(t,e){return t[e]}function Bue(t){const e=[];return e.key=t,e}function zue(){var t=Bt([]),e=M7,n=vu,r=Uue;function i(a){var s=Array.from(t.apply(this,arguments),Bue),o,l=s.length,c=-1,u;for(const d of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(d,s[o].key,c,a)]).data=d;for(o=0,u=pw(e(s));o<l;++o)s[u[o]].index=o;return n(s,u),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Bt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Bt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?M7:typeof a=="function"?a:Bt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??vu,i):n},i}function Wue(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}vu(t,e)}}function que(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}vu(t,e)}}function Hue(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var u=t[e[o]],d=u[r][1]||0,h=u[r-1][1]||0,p=(d-h)/2,g=0;g<o;++g){var x=t[e[g]],v=x[r][1]||0,y=x[r-1][1]||0;p+=v-y}l+=d,c+=p*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,vu(t,e)}}function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}var Gue=["type","size","sizeType"];function D7(){return D7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D7.apply(this,arguments)}function $T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$T(Object(n),!0).forEach(function(r){Kue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$T(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kue(t,e,n){return e=Yue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yue(t){var e=Que(t,"string");return Rh(e)=="symbol"?e:e+""}function Que(t,e){if(Rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xue(t,e){if(t==null)return{};var n=Jue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var FF={symbolCircle:mw,symbolCross:xue,symbolDiamond:wue,symbolSquare:_ue,symbolStar:Nue,symbolTriangle:Tue,symbolWye:Aue},Zue=Math.PI/180,ede=function(e){var n="symbol".concat(r5(e));return FF[n]||mw},tde=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Zue;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},nde=function(e,n){FF["symbol".concat(r5(e))]=n},gw=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=Xue(e,Gue),c=LT(LT({},l),{},{type:r,size:a,sizeType:o}),u=function(){var v=ede(r),y=Iue().type(v).size(tde(a,o,r));return y()},d=c.className,h=c.cx,p=c.cy,g=ut(c,!0);return h===+h&&p===+p&&a===+a?V.createElement("path",D7({},g,{className:St("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};gw.registerSymbol=nde;function xu(t){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(t)}function R7(){return R7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R7.apply(this,arguments)}function FT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FT(Object(n),!0).forEach(function(r){$h(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ide(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ade(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UF(r.key),r)}}function sde(t,e,n){return e&&ade(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ode(t,e,n){return e=p1(e),lde(t,VF()?Reflect.construct(e,n||[],p1(t).constructor):e.apply(t,n))}function lde(t,e){if(e&&(xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cde(t)}function cde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VF=function(){return!!t})()}function p1(t){return p1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},p1(t)}function ude(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$7(t,e)}function $7(t,e){return $7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$7(t,e)}function $h(t,e,n){return e=UF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UF(t){var e=dde(t,"string");return xu(e)=="symbol"?e:e+""}function dde(t,e){if(xu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ii=32,yw=function(t){function e(){return ide(this,e),ode(this,e,arguments)}return ude(e,t),sde(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Ii/2,s=Ii/6,o=Ii/3,l=r.inactive?i:r.color;if(r.type==="plainline")return V.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Ii,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return V.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Ii,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return V.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ii/8,"h").concat(Ii,"v").concat(Ii*3/4,"h").concat(-Ii,"z"),className:"recharts-legend-icon"});if(V.isValidElement(r.legendIcon)){var c=rde({},r);return delete c.legendIcon,V.cloneElement(r.legendIcon,c)}return V.createElement(gw,{fill:l,cx:a,cy:a,size:Ii,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Ii,height:Ii},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,g){var x=p.formatter||l,v=St($h($h({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=at(p.value)?null:p.value;$s(!at(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?c:p.color;return V.createElement("li",R7({className:v,style:d,key:"legend-item-".concat(g)},l1(r.props,p,g)),V.createElement(T7,{width:s,height:s,viewBox:u,style:h},r.renderIcon(p)),V.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},x?x(y,p,g):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return V.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(I.PureComponent);$h(yw,"displayName","Legend");$h(yw,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var fde=W2;function hde(){this.__data__=new fde,this.size=0}var pde=hde;function mde(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var gde=mde;function yde(t){return this.__data__.get(t)}var vde=yde;function xde(t){return this.__data__.has(t)}var bde=xde,wde=W2,_de=iw,Sde=aw,kde=200;function Ede(t,e){var n=this.__data__;if(n instanceof wde){var r=n.__data__;if(!_de||r.length<kde-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Sde(r)}return n.set(t,e),this.size=n.size,this}var Nde=Ede,Tde=W2,Pde=pde,Ade=gde,Ide=vde,Cde=bde,Ode=Nde;function cd(t){var e=this.__data__=new Tde(t);this.size=e.size}cd.prototype.clear=Pde;cd.prototype.delete=Ade;cd.prototype.get=Ide;cd.prototype.has=Cde;cd.prototype.set=Ode;var BF=cd,jde="__lodash_hash_undefined__";function Mde(t){return this.__data__.set(t,jde),this}var Dde=Mde;function Rde(t){return this.__data__.has(t)}var $de=Rde,Lde=aw,Fde=Dde,Vde=$de;function m1(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Lde;++e<n;)this.add(t[e])}m1.prototype.add=m1.prototype.push=Fde;m1.prototype.has=Vde;var zF=m1;function Ude(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var WF=Ude;function Bde(t,e){return t.has(e)}var qF=Bde,zde=zF,Wde=WF,qde=qF,Hde=1,Gde=2;function Kde(t,e,n,r,i,a){var s=n&Hde,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var d=-1,h=!0,p=n&Gde?new zde:void 0;for(a.set(t,e),a.set(e,t);++d<o;){var g=t[d],x=e[d];if(r)var v=s?r(x,g,d,e,t,a):r(g,x,d,t,e,a);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!Wde(e,function(y,b){if(!qde(p,b)&&(g===y||i(g,y,n,r,a)))return p.push(b)})){h=!1;break}}else if(!(g===x||i(g,x,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var HF=Kde,Yde=us,Qde=Yde.Uint8Array,Xde=Qde;function Jde(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Zde=Jde;function efe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var vw=efe,VT=Xp,UT=Xde,tfe=rw,nfe=HF,rfe=Zde,ife=vw,afe=1,sfe=2,ofe="[object Boolean]",lfe="[object Date]",cfe="[object Error]",ufe="[object Map]",dfe="[object Number]",ffe="[object RegExp]",hfe="[object Set]",pfe="[object String]",mfe="[object Symbol]",gfe="[object ArrayBuffer]",yfe="[object DataView]",BT=VT?VT.prototype:void 0,ry=BT?BT.valueOf:void 0;function vfe(t,e,n,r,i,a,s){switch(n){case yfe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case gfe:return!(t.byteLength!=e.byteLength||!a(new UT(t),new UT(e)));case ofe:case lfe:case dfe:return tfe(+t,+e);case cfe:return t.name==e.name&&t.message==e.message;case ffe:case pfe:return t==e+"";case ufe:var o=rfe;case hfe:var l=r&afe;if(o||(o=ife),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=sfe,s.set(t,e);var u=nfe(o(t),o(e),r,i,a,s);return s.delete(t),u;case mfe:if(ry)return ry.call(t)==ry.call(e)}return!1}var xfe=vfe;function bfe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var GF=bfe,wfe=GF,_fe=ni;function Sfe(t,e,n){var r=e(t);return _fe(t)?r:wfe(r,n(t))}var kfe=Sfe;function Efe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var Nfe=Efe;function Tfe(){return[]}var Pfe=Tfe,Afe=Nfe,Ife=Pfe,Cfe=Object.prototype,Ofe=Cfe.propertyIsEnumerable,zT=Object.getOwnPropertySymbols,jfe=zT?function(t){return t==null?[]:(t=Object(t),Afe(zT(t),function(e){return Ofe.call(t,e)}))}:Ife,Mfe=jfe;function Dfe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Rfe=Dfe,$fe=ro,Lfe=io,Ffe="[object Arguments]";function Vfe(t){return Lfe(t)&&$fe(t)==Ffe}var Ufe=Vfe,WT=Ufe,Bfe=io,KF=Object.prototype,zfe=KF.hasOwnProperty,Wfe=KF.propertyIsEnumerable,qfe=WT(function(){return arguments}())?WT:function(t){return Bfe(t)&&zfe.call(t,"callee")&&!Wfe.call(t,"callee")},xw=qfe,g1={exports:{}};function Hfe(){return!1}var Gfe=Hfe;g1.exports;(function(t,e){var n=us,r=Gfe,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(g1,g1.exports);var YF=g1.exports,Kfe=9007199254740991,Yfe=/^(?:0|[1-9]\d*)$/;function Qfe(t,e){var n=typeof t;return e=e??Kfe,!!e&&(n=="number"||n!="symbol"&&Yfe.test(t))&&t>-1&&t%1==0&&t<e}var bw=Qfe,Xfe=9007199254740991;function Jfe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Xfe}var ww=Jfe,Zfe=ro,ehe=ww,the=io,nhe="[object Arguments]",rhe="[object Array]",ihe="[object Boolean]",ahe="[object Date]",she="[object Error]",ohe="[object Function]",lhe="[object Map]",che="[object Number]",uhe="[object Object]",dhe="[object RegExp]",fhe="[object Set]",hhe="[object String]",phe="[object WeakMap]",mhe="[object ArrayBuffer]",ghe="[object DataView]",yhe="[object Float32Array]",vhe="[object Float64Array]",xhe="[object Int8Array]",bhe="[object Int16Array]",whe="[object Int32Array]",_he="[object Uint8Array]",She="[object Uint8ClampedArray]",khe="[object Uint16Array]",Ehe="[object Uint32Array]",Gt={};Gt[yhe]=Gt[vhe]=Gt[xhe]=Gt[bhe]=Gt[whe]=Gt[_he]=Gt[She]=Gt[khe]=Gt[Ehe]=!0;Gt[nhe]=Gt[rhe]=Gt[mhe]=Gt[ihe]=Gt[ghe]=Gt[ahe]=Gt[she]=Gt[ohe]=Gt[lhe]=Gt[che]=Gt[uhe]=Gt[dhe]=Gt[fhe]=Gt[hhe]=Gt[phe]=!1;function Nhe(t){return the(t)&&ehe(t.length)&&!!Gt[Zfe(t)]}var The=Nhe;function Phe(t){return function(e){return t(e)}}var QF=Phe,y1={exports:{}};y1.exports;(function(t,e){var n=iF,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(y1,y1.exports);var Ahe=y1.exports,Ihe=The,Che=QF,qT=Ahe,HT=qT&&qT.isTypedArray,Ohe=HT?Che(HT):Ihe,XF=Ohe,jhe=Rfe,Mhe=xw,Dhe=ni,Rhe=YF,$he=bw,Lhe=XF,Fhe=Object.prototype,Vhe=Fhe.hasOwnProperty;function Uhe(t,e){var n=Dhe(t),r=!n&&Mhe(t),i=!n&&!r&&Rhe(t),a=!n&&!r&&!i&&Lhe(t),s=n||r||i||a,o=s?jhe(t.length,String):[],l=o.length;for(var c in t)(e||Vhe.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||$he(c,l)))&&o.push(c);return o}var Bhe=Uhe,zhe=Object.prototype;function Whe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||zhe;return t===n}var qhe=Whe;function Hhe(t,e){return function(n){return t(e(n))}}var JF=Hhe,Ghe=JF,Khe=Ghe(Object.keys,Object),Yhe=Khe,Qhe=qhe,Xhe=Yhe,Jhe=Object.prototype,Zhe=Jhe.hasOwnProperty;function epe(t){if(!Qhe(t))return Xhe(t);var e=[];for(var n in Object(t))Zhe.call(t,n)&&n!="constructor"&&e.push(n);return e}var tpe=epe,npe=nw,rpe=ww;function ipe(t){return t!=null&&rpe(t.length)&&!npe(t)}var Zp=ipe,ape=Bhe,spe=tpe,ope=Zp;function lpe(t){return ope(t)?ape(t):spe(t)}var o5=lpe,cpe=kfe,upe=Mfe,dpe=o5;function fpe(t){return cpe(t,dpe,upe)}var hpe=fpe,GT=hpe,ppe=1,mpe=Object.prototype,gpe=mpe.hasOwnProperty;function ype(t,e,n,r,i,a){var s=n&ppe,o=GT(t),l=o.length,c=GT(e),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var h=o[d];if(!(s?h in e:gpe.call(e,h)))return!1}var p=a.get(t),g=a.get(e);if(p&&g)return p==e&&g==t;var x=!0;a.set(t,e),a.set(e,t);for(var v=s;++d<l;){h=o[d];var y=t[h],b=e[h];if(r)var w=s?r(b,y,h,e,t,a):r(y,b,h,t,e,a);if(!(w===void 0?y===b||i(y,b,n,r,a):w)){x=!1;break}v||(v=h=="constructor")}if(x&&!v){var k=t.constructor,E=e.constructor;k!=E&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof E=="function"&&E instanceof E)&&(x=!1)}return a.delete(t),a.delete(e),x}var vpe=ype,xpe=Xl,bpe=us,wpe=xpe(bpe,"DataView"),_pe=wpe,Spe=Xl,kpe=us,Epe=Spe(kpe,"Promise"),Npe=Epe,Tpe=Xl,Ppe=us,Ape=Tpe(Ppe,"Set"),ZF=Ape,Ipe=Xl,Cpe=us,Ope=Ipe(Cpe,"WeakMap"),jpe=Ope,L7=_pe,F7=iw,V7=Npe,U7=ZF,B7=jpe,eV=ro,ud=sF,KT="[object Map]",Mpe="[object Object]",YT="[object Promise]",QT="[object Set]",XT="[object WeakMap]",JT="[object DataView]",Dpe=ud(L7),Rpe=ud(F7),$pe=ud(V7),Lpe=ud(U7),Fpe=ud(B7),U0=eV;(L7&&U0(new L7(new ArrayBuffer(1)))!=JT||F7&&U0(new F7)!=KT||V7&&U0(V7.resolve())!=YT||U7&&U0(new U7)!=QT||B7&&U0(new B7)!=XT)&&(U0=function(t){var e=eV(t),n=e==Mpe?t.constructor:void 0,r=n?ud(n):"";if(r)switch(r){case Dpe:return JT;case Rpe:return KT;case $pe:return YT;case Lpe:return QT;case Fpe:return XT}return e});var Vpe=U0,iy=BF,Upe=HF,Bpe=xfe,zpe=vpe,ZT=Vpe,eP=ni,tP=YF,Wpe=XF,qpe=1,nP="[object Arguments]",rP="[object Array]",n3="[object Object]",Hpe=Object.prototype,iP=Hpe.hasOwnProperty;function Gpe(t,e,n,r,i,a){var s=eP(t),o=eP(e),l=s?rP:ZT(t),c=o?rP:ZT(e);l=l==nP?n3:l,c=c==nP?n3:c;var u=l==n3,d=c==n3,h=l==c;if(h&&tP(t)){if(!tP(e))return!1;s=!0,u=!1}if(h&&!u)return a||(a=new iy),s||Wpe(t)?Upe(t,e,n,r,i,a):Bpe(t,e,l,n,r,i,a);if(!(n&qpe)){var p=u&&iP.call(t,"__wrapped__"),g=d&&iP.call(e,"__wrapped__");if(p||g){var x=p?t.value():t,v=g?e.value():e;return a||(a=new iy),i(x,v,n,r,a)}}return h?(a||(a=new iy),zpe(t,e,n,r,i,a)):!1}var Kpe=Gpe,Ype=Kpe,aP=io;function tV(t,e,n,r,i){return t===e?!0:t==null||e==null||!aP(t)&&!aP(e)?t!==t&&e!==e:Ype(t,e,n,r,tV,i)}var _w=tV,Qpe=BF,Xpe=_w,Jpe=1,Zpe=2;function e4e(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null)return!a;for(t=Object(t);i--;){var o=n[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=n[i];var l=o[0],c=t[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in t))return!1}else{var d=new Qpe;if(r)var h=r(c,u,l,t,e,d);if(!(h===void 0?Xpe(u,c,Jpe|Zpe,r,d):h))return!1}}return!0}var t4e=e4e,n4e=_0;function r4e(t){return t===t&&!n4e(t)}var nV=r4e,i4e=nV,a4e=o5;function s4e(t){for(var e=a4e(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,i4e(i)]}return e}var o4e=s4e;function l4e(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var rV=l4e,c4e=t4e,u4e=o4e,d4e=rV;function f4e(t){var e=u4e(t);return e.length==1&&e[0][2]?d4e(e[0][0],e[0][1]):function(n){return n===t||c4e(n,t,e)}}var h4e=f4e;function p4e(t,e){return t!=null&&e in Object(t)}var m4e=p4e,g4e=dF,y4e=xw,v4e=ni,x4e=bw,b4e=ww,w4e=H2;function _4e(t,e,n){e=g4e(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=w4e(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&b4e(i)&&x4e(s,i)&&(v4e(t)||y4e(t)))}var S4e=_4e,k4e=m4e,E4e=S4e;function N4e(t,e){return t!=null&&E4e(t,e,k4e)}var T4e=N4e,P4e=_w,A4e=fF,I4e=T4e,C4e=tw,O4e=nV,j4e=rV,M4e=H2,D4e=1,R4e=2;function $4e(t,e){return C4e(t)&&O4e(e)?j4e(M4e(t),e):function(n){var r=A4e(n,t);return r===void 0&&r===e?I4e(n,t):P4e(e,r,D4e|R4e)}}var L4e=$4e;function F4e(t){return t}var dd=F4e;function V4e(t){return function(e){return e==null?void 0:e[t]}}var U4e=V4e,B4e=lw;function z4e(t){return function(e){return B4e(e,t)}}var W4e=z4e,q4e=U4e,H4e=W4e,G4e=tw,K4e=H2;function Y4e(t){return G4e(t)?q4e(K4e(t)):H4e(t)}var Q4e=Y4e,X4e=h4e,J4e=L4e,Z4e=dd,e3e=ni,t3e=Q4e;function n3e(t){return typeof t=="function"?t:t==null?Z4e:typeof t=="object"?e3e(t)?J4e(t[0],t[1]):X4e(t):t3e(t)}var S0=n3e;function r3e(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var iV=r3e;function i3e(t){return t!==t}var a3e=i3e;function s3e(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var o3e=s3e,l3e=iV,c3e=a3e,u3e=o3e;function d3e(t,e,n){return e===e?u3e(t,e,n):l3e(t,c3e,n)}var f3e=d3e,h3e=f3e;function p3e(t,e){var n=t==null?0:t.length;return!!n&&h3e(t,e,0)>-1}var m3e=p3e;function g3e(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var y3e=g3e;function v3e(){}var x3e=v3e,ay=ZF,b3e=x3e,w3e=vw,_3e=1/0,S3e=ay&&1/w3e(new ay([,-0]))[1]==_3e?function(t){return new ay(t)}:b3e,k3e=S3e,E3e=zF,N3e=m3e,T3e=y3e,P3e=qF,A3e=k3e,I3e=vw,C3e=200;function O3e(t,e,n){var r=-1,i=N3e,a=t.length,s=!0,o=[],l=o;if(n)s=!1,i=T3e;else if(a>=C3e){var c=e?null:A3e(t);if(c)return I3e(c);s=!1,i=P3e,l=new E3e}else l=e?[]:o;e:for(;++r<a;){var u=t[r],d=e?e(u):u;if(u=n||u!==0?u:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),o.push(u)}else i(l,d,n)||(l!==o&&l.push(d),o.push(u))}return o}var j3e=O3e,M3e=S0,D3e=j3e;function R3e(t,e){return t&&t.length?D3e(t,M3e(e)):[]}var $3e=R3e;const sP=Ut($3e);function aV(t,e,n){return e===!0?sP(t,n):at(e)?sP(t,e):t}function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}var L3e=["ref"];function oP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ms(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(n),!0).forEach(function(r){l5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oV(r.key),r)}}function V3e(t,e,n){return e&&lP(t.prototype,e),n&&lP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function U3e(t,e,n){return e=v1(e),B3e(t,sV()?Reflect.construct(e,n||[],v1(t).constructor):e.apply(t,n))}function B3e(t,e){if(e&&(bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z3e(t)}function z3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sV=function(){return!!t})()}function v1(t){return v1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},v1(t)}function W3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z7(t,e)}function z7(t,e){return z7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z7(t,e)}function l5(t,e,n){return e=oV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oV(t){var e=q3e(t,"string");return bu(e)=="symbol"?e:e+""}function q3e(t,e){if(bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function H3e(t,e){if(t==null)return{};var n=G3e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function G3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function K3e(t){return t.value}function Y3e(t,e){if(V.isValidElement(t))return V.cloneElement(t,e);if(typeof t=="function")return V.createElement(t,e);e.ref;var n=H3e(e,L3e);return V.createElement(yw,n)}var cP=1,Jc=function(t){function e(){var n;F3e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=U3e(this,e,[].concat(i)),l5(n,"lastBoundingBox",{width:-1,height:-1}),n}return W3e(e,t),V3e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>cP||Math.abs(i.height-this.lastBoundingBox.height)>cP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ms({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ms(ms({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,d=ms(ms({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return V.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){r.wrapperNode=p}},Y3e(a,ms(ms({},this.props),{},{payload:aV(u,c,K3e)})))}}],[{key:"getWithHeight",value:function(r,i){var a=ms(ms({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&_e(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(I.PureComponent);l5(Jc,"displayName","Legend");l5(Jc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var uP=Xp,Q3e=xw,X3e=ni,dP=uP?uP.isConcatSpreadable:void 0;function J3e(t){return X3e(t)||Q3e(t)||!!(dP&&t&&t[dP])}var Z3e=J3e,eme=GF,tme=Z3e;function lV(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=tme),i||(i=[]);++a<s;){var o=t[a];e>0&&n(o)?e>1?lV(o,e-1,n,r,i):eme(i,o):r||(i[i.length]=o)}return i}var cV=lV;function nme(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var l=s[t?o:++i];if(n(a[l],l,a)===!1)break}return e}}var rme=nme,ime=rme,ame=ime(),sme=ame,ome=sme,lme=o5;function cme(t,e){return t&&ome(t,e,lme)}var uV=cme,ume=Zp;function dme(t,e){return function(n,r){if(n==null)return n;if(!ume(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var fme=dme,hme=uV,pme=fme,mme=pme(hme),Sw=mme,gme=Sw,yme=Zp;function vme(t,e){var n=-1,r=yme(t)?Array(t.length):[];return gme(t,function(i,a,s){r[++n]=e(i,a,s)}),r}var dV=vme;function xme(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var bme=xme,fP=rd;function wme(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=fP(t),s=e!==void 0,o=e===null,l=e===e,c=fP(e);if(!o&&!c&&!a&&t>e||a&&s&&l&&!o&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!l)return-1}return 0}var _me=wme,Sme=_me;function kme(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,o=n.length;++r<s;){var l=Sme(i[r],a[r]);if(l){if(r>=o)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var Eme=kme,sy=ow,Nme=lw,Tme=S0,Pme=dV,Ame=bme,Ime=QF,Cme=Eme,Ome=dd,jme=ni;function Mme(t,e,n){e.length?e=sy(e,function(a){return jme(a)?function(s){return Nme(s,a.length===1?a[0]:a)}:a}):e=[Ome];var r=-1;e=sy(e,Ime(Tme));var i=Pme(t,function(a,s,o){var l=sy(e,function(c){return c(a)});return{criteria:l,index:++r,value:a}});return Ame(i,function(a,s){return Cme(a,s,n)})}var Dme=Mme;function Rme(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var $me=Rme,Lme=$me,hP=Math.max;function Fme(t,e,n){return e=hP(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=hP(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(s),Lme(t,this,o)}}var Vme=Fme;function Ume(t){return function(){return t}}var Bme=Ume,zme=Xl,Wme=function(){try{var t=zme(Object,"defineProperty");return t({},"",{}),t}catch{}}(),fV=Wme,qme=Bme,pP=fV,Hme=dd,Gme=pP?function(t,e){return pP(t,"toString",{configurable:!0,enumerable:!1,value:qme(e),writable:!0})}:Hme,Kme=Gme,Yme=800,Qme=16,Xme=Date.now;function Jme(t){var e=0,n=0;return function(){var r=Xme(),i=Qme-(r-n);if(n=r,i>0){if(++e>=Yme)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Zme=Jme,e1e=Kme,t1e=Zme,n1e=t1e(e1e),r1e=n1e,i1e=dd,a1e=Vme,s1e=r1e;function o1e(t,e){return s1e(a1e(t,e,i1e),t+"")}var l1e=o1e,c1e=rw,u1e=Zp,d1e=bw,f1e=_0;function h1e(t,e,n){if(!f1e(n))return!1;var r=typeof e;return(r=="number"?u1e(n)&&d1e(e,n.length):r=="string"&&e in n)?c1e(n[e],t):!1}var c5=h1e,p1e=cV,m1e=Dme,g1e=l1e,mP=c5,y1e=g1e(function(t,e){if(t==null)return[];var n=e.length;return n>1&&mP(t,e[0],e[1])?e=[]:n>2&&mP(e[0],e[1],e[2])&&(e=[e[0]]),m1e(t,p1e(e,1),[])}),v1e=y1e;const kw=Ut(v1e);function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function W7(){return W7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W7.apply(this,arguments)}function x1e(t,e){return S1e(t)||_1e(t,e)||w1e(t,e)||b1e()}function b1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w1e(t,e){if(t){if(typeof t=="string")return gP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gP(t,e)}}function gP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function S1e(t){if(Array.isArray(t))return t}function yP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yP(Object(n),!0).forEach(function(r){k1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k1e(t,e,n){return e=E1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E1e(t){var e=N1e(t,"string");return Lh(e)=="symbol"?e:e+""}function N1e(t,e){if(Lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T1e(t){return Array.isArray(t)&&Fn(t[0])&&Fn(t[1])?t.join(" ~ "):t}var P1e=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,x=e.label,v=e.labelFormatter,y=e.accessibilityLayer,b=y===void 0?!1:y,w=function(){if(u&&u.length){var O={padding:0,margin:0},j=(h?kw(u,h):u).map(function(R,D){if(R.type==="none")return null;var $=oy({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},o),U=R.formatter||d||T1e,F=R.value,B=R.name,z=F,q=B;if(U&&z!=null&&q!=null){var G=U(F,B,R,D,u);if(Array.isArray(G)){var te=x1e(G,2);z=te[0],q=te[1]}else z=G}return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:$},Fn(q)?V.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Fn(q)?V.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,V.createElement("span",{className:"recharts-tooltip-item-value"},z),V.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:O},j)}return null},k=oy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=oy({margin:0},c),S=!mt(x),_=S?x:"",N=St("recharts-default-tooltip",p),P=St("recharts-tooltip-label",g);S&&v&&u!==void 0&&u!==null&&(_=v(x,u));var A=b?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",W7({className:N,style:k},A),V.createElement("p",{className:P,style:E},V.isValidElement(_)?_:"".concat(_)),w())};function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function r3(t,e,n){return e=A1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A1e(t){var e=I1e(t,"string");return Fh(e)=="symbol"?e:e+""}function I1e(t,e){if(Fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zd="recharts-tooltip-wrapper",C1e={visibility:"hidden"};function O1e(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return St(zd,r3(r3(r3(r3({},"".concat(zd,"-right"),_e(n)&&e&&_e(e.x)&&n>=e.x),"".concat(zd,"-left"),_e(n)&&e&&_e(e.x)&&n<e.x),"".concat(zd,"-bottom"),_e(r)&&e&&_e(e.y)&&r>=e.y),"".concat(zd,"-top"),_e(r)&&e&&_e(e.y)&&r<e.y))}function vP(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&_e(a[r]))return a[r];var u=n[r]-o-i,d=n[r]+i;if(e[r])return s[r]?u:d;if(s[r]){var h=u,p=l[r];return h<p?Math.max(d,l[r]):Math.max(u,l[r])}var g=d+o,x=l[r]+c;return g>x?Math.max(u,l[r]):Math.max(d,l[r])}function j1e(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function M1e(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,u,d;return s.height>0&&s.width>0&&n?(u=vP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=vP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=j1e({translateX:u,translateY:d,useTranslate3d:o})):c=C1e,{cssProperties:c,cssClasses:O1e({translateX:u,translateY:d,coordinate:n})}}function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}function xP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xP(Object(n),!0).forEach(function(r){H7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pV(r.key),r)}}function $1e(t,e,n){return e&&R1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function L1e(t,e,n){return e=x1(e),F1e(t,hV()?Reflect.construct(e,n||[],x1(t).constructor):e.apply(t,n))}function F1e(t,e){if(e&&(wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V1e(t)}function V1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hV=function(){return!!t})()}function x1(t){return x1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},x1(t)}function U1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q7(t,e)}function q7(t,e){return q7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},q7(t,e)}function H7(t,e,n){return e=pV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pV(t){var e=B1e(t,"string");return wu(e)=="symbol"?e:e+""}function B1e(t,e){if(wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wP=1,z1e=function(t){function e(){var n;D1e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=L1e(this,e,[].concat(i)),H7(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),H7(n,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return U1e(e,t),$1e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>wP||Math.abs(r.height-this.state.lastBoundingBox.height)>wP)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,p=i.offset,g=i.position,x=i.reverseDirection,v=i.useTranslate3d,y=i.viewBox,b=i.wrapperStyle,w=M1e({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:p,position:g,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),k=w.cssClasses,E=w.cssProperties,S=bP(bP({transition:h&&a?"transform ".concat(o,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return V.createElement("div",{tabIndex:-1,className:k,style:S,ref:function(N){r.wrapperNode=N}},c)}}])}(I.PureComponent),W1e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},fd={isSsr:W1e()};function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}function _P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_P(Object(n),!0).forEach(function(r){Ew(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gV(r.key),r)}}function G1e(t,e,n){return e&&H1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function K1e(t,e,n){return e=b1(e),Y1e(t,mV()?Reflect.construct(e,n||[],b1(t).constructor):e.apply(t,n))}function Y1e(t,e){if(e&&(_u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q1e(t)}function Q1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mV=function(){return!!t})()}function b1(t){return b1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},b1(t)}function X1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G7(t,e)}function G7(t,e){return G7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},G7(t,e)}function Ew(t,e,n){return e=gV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gV(t){var e=J1e(t,"string");return _u(e)=="symbol"?e:e+""}function J1e(t,e){if(_u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Z1e(t){return t.dataKey}function ege(t,e){return V.isValidElement(t)?V.cloneElement(t,e):typeof t=="function"?V.createElement(t,e):V.createElement(P1e,e)}var Ra=function(t){function e(){return q1e(this,e),K1e(this,e,arguments)}return X1e(e,t),G1e(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,d=i.filterNull,h=i.isAnimationActive,p=i.offset,g=i.payload,x=i.payloadUniqBy,v=i.position,y=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,k=i.wrapperStyle,E=g??[];d&&E.length&&(E=aV(g.filter(function(_){return _.value!=null&&(_.hide!==!0||r.props.includeHidden)}),x,Z1e));var S=E.length>0;return V.createElement(z1e,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:a,coordinate:u,hasPayload:S,offset:p,position:v,reverseDirection:y,useTranslate3d:b,viewBox:w,wrapperStyle:k},ege(c,SP(SP({},this.props),{},{payload:E})))}}])}(I.PureComponent);Ew(Ra,"displayName","Tooltip");Ew(Ra,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!fd.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var tge=us,nge=function(){return tge.Date.now()},rge=nge,ige=/\s/;function age(t){for(var e=t.length;e--&&ige.test(t.charAt(e)););return e}var sge=age,oge=sge,lge=/^\s+/;function cge(t){return t&&t.slice(0,oge(t)+1).replace(lge,"")}var uge=cge,dge=uge,kP=_0,fge=rd,EP=NaN,hge=/^[-+]0x[0-9a-f]+$/i,pge=/^0b[01]+$/i,mge=/^0o[0-7]+$/i,gge=parseInt;function yge(t){if(typeof t=="number")return t;if(fge(t))return EP;if(kP(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=kP(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=dge(t);var n=pge.test(t);return n||mge.test(t)?gge(t.slice(2),n?2:8):hge.test(t)?EP:+t}var yV=yge,vge=_0,ly=rge,NP=yV,xge="Expected a function",bge=Math.max,wge=Math.min;function _ge(t,e,n){var r,i,a,s,o,l,c=0,u=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(xge);e=NP(e)||0,vge(n)&&(u=!!n.leading,d="maxWait"in n,a=d?bge(NP(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function p(S){var _=r,N=i;return r=i=void 0,c=S,s=t.apply(N,_),s}function g(S){return c=S,o=setTimeout(y,e),u?p(S):s}function x(S){var _=S-l,N=S-c,P=e-_;return d?wge(P,a-N):P}function v(S){var _=S-l,N=S-c;return l===void 0||_>=e||_<0||d&&N>=a}function y(){var S=ly();if(v(S))return b(S);o=setTimeout(y,x(S))}function b(S){return o=void 0,h&&r?p(S):(r=i=void 0,s)}function w(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function k(){return o===void 0?s:b(ly())}function E(){var S=ly(),_=v(S);if(r=arguments,i=this,l=S,_){if(o===void 0)return g(l);if(d)return clearTimeout(o),o=setTimeout(y,e),p(l)}return o===void 0&&(o=setTimeout(y,e)),s}return E.cancel=w,E.flush=k,E}var Sge=_ge,kge=Sge,Ege=_0,Nge="Expected a function";function Tge(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Nge);return Ege(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),kge(t,e,{leading:r,maxWait:e,trailing:i})}var Pge=Tge;const vV=Ut(Pge);function Vh(t){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(t)}function TP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TP(Object(n),!0).forEach(function(r){Age(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Age(t,e,n){return e=Ige(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ige(t){var e=Cge(t,"string");return Vh(e)=="symbol"?e:e+""}function Cge(t,e){if(Vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oge(t,e){return Rge(t)||Dge(t,e)||Mge(t,e)||jge()}function jge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mge(t,e){if(t){if(typeof t=="string")return PP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PP(t,e)}}function PP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Rge(t){if(Array.isArray(t))return t}var $ge=I.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,u=c===void 0?0:c,d=t.minHeight,h=t.maxHeight,p=t.children,g=t.debounce,x=g===void 0?0:g,v=t.id,y=t.className,b=t.onResize,w=t.style,k=w===void 0?{}:w,E=I.useRef(null),S=I.useRef();S.current=b,I.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var _=I.useState({containerWidth:i.width,containerHeight:i.height}),N=Oge(_,2),P=N[0],A=N[1],C=I.useCallback(function(j,R){A(function(D){var $=Math.round(j),U=Math.round(R);return D.containerWidth===$&&D.containerHeight===U?D:{containerWidth:$,containerHeight:U}})},[]);I.useEffect(function(){var j=function(B){var z,q=B[0].contentRect,G=q.width,te=q.height;C(G,te),(z=S.current)===null||z===void 0||z.call(S,G,te)};x>0&&(j=vV(j,x,{trailing:!0,leading:!1}));var R=new ResizeObserver(j),D=E.current.getBoundingClientRect(),$=D.width,U=D.height;return C($,U),R.observe(E.current),function(){R.disconnect()}},[C,x]);var O=I.useMemo(function(){var j=P.containerWidth,R=P.containerHeight;if(j<0||R<0)return null;$s(J0(s)||J0(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),$s(!n||n>0,"The aspect(%s) must be greater than zero.",n);var D=J0(s)?j:s,$=J0(l)?R:l;n&&n>0&&(D?$=D/n:$&&(D=$*n),h&&$>h&&($=h)),$s(D>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,$,s,l,u,d,n);var U=!Array.isArray(p)&&Rs(p.type).endsWith("Chart");return V.Children.map(p,function(F){return V.isValidElement(F)?I.cloneElement(F,i3({width:D,height:$},U?{style:i3({height:"100%",width:"100%",maxHeight:$,maxWidth:D},F.props.style)}:{})):F})},[n,p,l,h,d,u,P,s]);return V.createElement("div",{id:v?"".concat(v):void 0,className:St("recharts-responsive-container",y),style:i3(i3({},k),{},{width:s,height:l,minWidth:u,minHeight:d,maxHeight:h}),ref:E},O)}),xV=function(e){return null};xV.displayName="Cell";function Uh(t){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}function AP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AP(Object(n),!0).forEach(function(r){Lge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lge(t,e,n){return e=Fge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fge(t){var e=Vge(t,"string");return Uh(e)=="symbol"?e:e+""}function Vge(t,e){if(Uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sc={widthCache:{},cacheCount:0},Uge=2e3,Bge={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},IP="recharts_measurement_span";function zge(t){var e=K7({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Yf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||fd.isSsr)return{width:0,height:0};var r=zge(n),i=JSON.stringify({text:e,copyStyle:r});if(sc.widthCache[i])return sc.widthCache[i];try{var a=document.getElementById(IP);a||(a=document.createElement("span"),a.setAttribute("id",IP),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=K7(K7({},Bge),r);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return sc.widthCache[i]=l,++sc.cacheCount>Uge&&(sc.cacheCount=0,sc.widthCache={}),l}catch{return{width:0,height:0}}},Wge=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function w1(t,e){return Kge(t)||Gge(t,e)||Hge(t,e)||qge()}function qge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hge(t,e){if(t){if(typeof t=="string")return CP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CP(t,e)}}function CP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Kge(t){if(Array.isArray(t))return t}function Yge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xge(r.key),r)}}function Qge(t,e,n){return e&&OP(t.prototype,e),n&&OP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xge(t){var e=Jge(t,"string");return Bh(e)=="symbol"?e:e+""}function Jge(t,e){if(Bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zge=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,e2e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,bV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},t2e=Object.keys(bV),Oc="NaN";function n2e(t,e){return t*bV[e]}var a3=function(){function t(e,n){Yge(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Zge.test(n)&&(this.num=NaN,this.unit=""),t2e.includes(n)&&(this.num=n2e(e,n),this.unit="px")}return Qge(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=e2e.exec(n))!==null&&r!==void 0?r:[],a=w1(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function wV(t){if(t.includes(Oc))return Oc;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=jP.exec(e))!==null&&n!==void 0?n:[],i=w1(r,4),a=i[1],s=i[2],o=i[3],l=a3.parse(a??""),c=a3.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Oc;e=e.replace(jP,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=MP.exec(e))!==null&&d!==void 0?d:[],p=w1(h,4),g=p[1],x=p[2],v=p[3],y=a3.parse(g??""),b=a3.parse(v??""),w=x==="+"?y.add(b):y.subtract(b);if(w.isNaN())return Oc;e=e.replace(MP,w.toString())}return e}var DP=/\(([^()]*)\)/;function r2e(t){for(var e=t;e.includes("(");){var n=DP.exec(e),r=w1(n,2),i=r[1];e=e.replace(DP,wV(i))}return e}function i2e(t){var e=t.replace(/\s+/g,"");return e=r2e(e),e=wV(e),e}function a2e(t){try{return i2e(t)}catch{return Oc}}function cy(t){var e=a2e(t.slice(5,-1));return e===Oc?"":e}var s2e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],o2e=["dx","dy","angle","className","breakAll"];function Y7(){return Y7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y7.apply(this,arguments)}function RP(t,e){if(t==null)return{};var n=l2e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function l2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $P(t,e){return f2e(t)||d2e(t,e)||u2e(t,e)||c2e()}function c2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u2e(t,e){if(t){if(typeof t=="string")return LP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LP(t,e)}}function LP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function f2e(t){if(Array.isArray(t))return t}var _V=/[ \f\n\r\t\v\u2028\u2029]+/,SV=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];mt(n)||(r?a=n.toString().split(""):a=n.toString().split(_V));var s=a.map(function(l){return{word:l,width:Yf(l,i).width}}),o=r?0:Yf("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},h2e=function(e,n,r,i,a){var s=e.maxLines,o=e.children,l=e.style,c=e.breakAll,u=_e(s),d=o,h=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function($,U){var F=U.word,B=U.width,z=$[$.length-1];if(z&&(i==null||a||z.width+B+r<Number(i)))z.words.push(F),z.width+=B+r;else{var q={words:[F],width:B};$.push(q)}return $},[])},p=h(n),g=function(D){return D.reduce(function($,U){return $.width>U.width?$:U})};if(!u)return p;for(var x="",v=function(D){var $=d.slice(0,D),U=SV({breakAll:c,style:l,children:$+x}).wordsWithComputedWidth,F=h(U),B=F.length>s||g(F).width>Number(i);return[B,F]},y=0,b=d.length-1,w=0,k;y<=b&&w<=d.length-1;){var E=Math.floor((y+b)/2),S=E-1,_=v(S),N=$P(_,2),P=N[0],A=N[1],C=v(E),O=$P(C,1),j=O[0];if(!P&&!j&&(y=E+1),P&&j&&(b=E-1),!P&&j){k=A;break}w++}return k||p},FP=function(e){var n=mt(e)?[]:e.toString().split(_V);return[{words:n}]},p2e=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((n||r)&&!fd.isSsr){var l,c,u=SV({breakAll:s,children:i,style:a});if(u){var d=u.wordsWithComputedWidth,h=u.spaceWidth;l=d,c=h}else return FP(i);return h2e({breakAll:s,children:i,maxLines:o,style:a},l,c,n,r)}return FP(i)},VP="#808080",_1=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,d=u===void 0?!1:u,h=e.textAnchor,p=h===void 0?"start":h,g=e.verticalAnchor,x=g===void 0?"end":g,v=e.fill,y=v===void 0?VP:v,b=RP(e,s2e),w=I.useMemo(function(){return p2e({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),k=b.dx,E=b.dy,S=b.angle,_=b.className,N=b.breakAll,P=RP(b,o2e);if(!Fn(r)||!Fn(a))return null;var A=r+(_e(k)?k:0),C=a+(_e(E)?E:0),O;switch(x){case"start":O=cy("calc(".concat(c,")"));break;case"middle":O=cy("calc(".concat((w.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:O=cy("calc(".concat(w.length-1," * -").concat(o,")"));break}var j=[];if(d){var R=w[0].width,D=b.width;j.push("scale(".concat((_e(D)?D/R:1)/R,")"))}return S&&j.push("rotate(".concat(S,", ").concat(A,", ").concat(C,")")),j.length&&(P.transform=j.join(" ")),V.createElement("text",Y7({},ut(P,!0),{x:A,y:C,className:St("recharts-text",_),textAnchor:p,fill:y.includes("url")?VP:y}),w.map(function($,U){var F=$.words.join(N?"":" ");return V.createElement("tspan",{x:A,dy:U===0?O:o,key:"".concat(F,"-").concat(U)},F)}))};function Zo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function m2e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Nw(t){let e,n,r;t.length!==2?(e=Zo,n=(o,l)=>Zo(t(o),l),r=(o,l)=>t(o)-l):(e=t===Zo||t===m2e?t:g2e,n=t,r=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(o[d],l)<0?c=d+1:u=d}while(c<u)}return c}function a(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(o[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function s(o,l,c=0,u=o.length){const d=i(o,l,c,u-1);return d>c&&r(o[d-1],l)>-r(o[d],l)?d-1:d}return{left:i,center:s,right:a}}function g2e(){return 0}function kV(t){return t===null?NaN:+t}function*y2e(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const v2e=Nw(Zo),e4=v2e.right;Nw(kV).center;let ns=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=e+a,o=Math.abs(e)<Math.abs(a)?e-(s-a):a-(s-e);o&&(n[r++]=o),e=s}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=e[--n];n>0&&(r=s,i=e[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}};class UP extends Map{constructor(e,n=w2e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(BP(this,e))}has(e){return super.has(BP(this,e))}set(e,n){return super.set(x2e(this,e),n)}delete(e){return super.delete(b2e(this,e))}}function BP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function x2e({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function b2e({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function w2e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function _2e(t=Zo){if(t===Zo)return EV;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function EV(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const S2e=Math.sqrt(50),k2e=Math.sqrt(10),E2e=Math.sqrt(2);function S1(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=S2e?10:a>=k2e?5:a>=E2e?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?S1(t,e,n*2):[o,l,c]}function Q7(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?S1(e,t,n):S1(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function X7(t,e,n){return e=+e,t=+t,n=+n,S1(t,e,n)[2]}function J7(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?X7(e,t,n):X7(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function zP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function WP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function NV(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?EV:_2e(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*d/l+h)),g=Math.min(r,Math.floor(e+(l-c)*d/l+h));NV(t,e,p,g,i)}const a=t[e];let s=n,o=r;for(Wd(t,n,e),i(t[r],a)>0&&Wd(t,n,r);s<o;){for(Wd(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?Wd(t,n,o):(++o,Wd(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Wd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function N2e(t,e,n){if(t=Float64Array.from(y2e(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return WP(t);if(e>=1)return zP(t);var r,i=(r-1)*e,a=Math.floor(i),s=zP(NV(t,a).subarray(0,a+1)),o=WP(t.subarray(a+1));return s+(o-s)*(i-a)}}function T2e(t,e,n=kV){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function*P2e(t){for(const e of t)yield*e}function TV(t){return Array.from(P2e(t))}function A2e(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function ea(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ao(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Z7=Symbol("implicit");function Tw(){var t=new UP,e=[],n=[],r=Z7;function i(a){let s=t.get(a);if(s===void 0){if(r!==Z7)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new UP;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Tw(e,n).unknown(r)},ea.apply(i,arguments),i}function zh(){var t=Tw().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,c=0,u=.5;delete t.unknown;function d(){var h=e().length,p=i<r,g=p?i:r,x=p?r:i;a=(x-g)/Math.max(1,h-l+c*2),o&&(a=Math.floor(a)),g+=(x-g-a*(h-l))*u,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var v=A2e(h).map(function(y){return g+a*y});return n(p?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,d()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(o=!!h,d()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},t.copy=function(){return zh(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},ea.apply(d(),arguments)}function PV(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return PV(e())},t}function Qf(){return PV(zh.apply(null,arguments).paddingInner(1))}function Pw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function AV(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function t4(){}var Wh=.7,k1=1/Wh,Zc="\\s*([+-]?\\d+)\\s*",qh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",I2e=/^#([0-9a-f]{3,8})$/,C2e=new RegExp(`^rgb\\(${Zc},${Zc},${Zc}\\)$`),O2e=new RegExp(`^rgb\\(${rs},${rs},${rs}\\)$`),j2e=new RegExp(`^rgba\\(${Zc},${Zc},${Zc},${qh}\\)$`),M2e=new RegExp(`^rgba\\(${rs},${rs},${rs},${qh}\\)$`),D2e=new RegExp(`^hsl\\(${qh},${rs},${rs}\\)$`),R2e=new RegExp(`^hsla\\(${qh},${rs},${rs},${qh}\\)$`),qP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Pw(t4,Hh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:HP,formatHex:HP,formatHex8:$2e,formatHsl:L2e,formatRgb:GP,toString:GP});function HP(){return this.rgb().formatHex()}function $2e(){return this.rgb().formatHex8()}function L2e(){return IV(this).formatHsl()}function GP(){return this.rgb().formatRgb()}function Hh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=I2e.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?KP(e):n===3?new Kr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?s3(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?s3(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=C2e.exec(t))?new Kr(e[1],e[2],e[3],1):(e=O2e.exec(t))?new Kr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=j2e.exec(t))?s3(e[1],e[2],e[3],e[4]):(e=M2e.exec(t))?s3(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=D2e.exec(t))?XP(e[1],e[2]/100,e[3]/100,1):(e=R2e.exec(t))?XP(e[1],e[2]/100,e[3]/100,e[4]):qP.hasOwnProperty(t)?KP(qP[t]):t==="transparent"?new Kr(NaN,NaN,NaN,0):null}function KP(t){return new Kr(t>>16&255,t>>8&255,t&255,1)}function s3(t,e,n,r){return r<=0&&(t=e=n=NaN),new Kr(t,e,n,r)}function F2e(t){return t instanceof t4||(t=Hh(t)),t?(t=t.rgb(),new Kr(t.r,t.g,t.b,t.opacity)):new Kr}function e8(t,e,n,r){return arguments.length===1?F2e(t):new Kr(t,e,n,r??1)}function Kr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Pw(Kr,e8,AV(t4,{brighter(t){return t=t==null?k1:Math.pow(k1,t),new Kr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Wh:Math.pow(Wh,t),new Kr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Kr(ul(this.r),ul(this.g),ul(this.b),E1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:YP,formatHex:YP,formatHex8:V2e,formatRgb:QP,toString:QP}));function YP(){return`#${Z0(this.r)}${Z0(this.g)}${Z0(this.b)}`}function V2e(){return`#${Z0(this.r)}${Z0(this.g)}${Z0(this.b)}${Z0((isNaN(this.opacity)?1:this.opacity)*255)}`}function QP(){const t=E1(this.opacity);return`${t===1?"rgb(":"rgba("}${ul(this.r)}, ${ul(this.g)}, ${ul(this.b)}${t===1?")":`, ${t})`}`}function E1(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ul(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Z0(t){return t=ul(t),(t<16?"0":"")+t.toString(16)}function XP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ua(t,e,n,r)}function IV(t){if(t instanceof ua)return new ua(t.h,t.s,t.l,t.opacity);if(t instanceof t4||(t=Hh(t)),!t)return new ua;if(t instanceof ua)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new ua(s,o,l,t.opacity)}function U2e(t,e,n,r){return arguments.length===1?IV(t):new ua(t,e,n,r??1)}function ua(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Pw(ua,U2e,AV(t4,{brighter(t){return t=t==null?k1:Math.pow(k1,t),new ua(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Wh:Math.pow(Wh,t),new ua(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Kr(uy(t>=240?t-240:t+120,i,r),uy(t,i,r),uy(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ua(JP(this.h),o3(this.s),o3(this.l),E1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=E1(this.opacity);return`${t===1?"hsl(":"hsla("}${JP(this.h)}, ${o3(this.s)*100}%, ${o3(this.l)*100}%${t===1?")":`, ${t})`}`}}));function JP(t){return t=(t||0)%360,t<0?t+360:t}function o3(t){return Math.max(0,Math.min(1,t||0))}function uy(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Aw=t=>()=>t;function B2e(t,e){return function(n){return t+n*e}}function z2e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function W2e(t){return(t=+t)==1?CV:function(e,n){return n-e?z2e(e,n,t):Aw(isNaN(e)?n:e)}}function CV(t,e){var n=e-t;return n?B2e(t,n):Aw(isNaN(t)?e:t)}const ZP=function t(e){var n=W2e(e);function r(i,a){var s=n((i=e8(i)).r,(a=e8(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=CV(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function q2e(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function H2e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function G2e(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=hd(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function K2e(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function N1(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Y2e(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=hd(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var t8=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dy=new RegExp(t8.source,"g");function Q2e(t){return function(){return t}}function X2e(t){return function(e){return t(e)+""}}function J2e(t,e){var n=t8.lastIndex=dy.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=t8.exec(t))&&(i=dy.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:N1(r,i)})),n=dy.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?X2e(l[0].x):Q2e(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)o[(d=l[u]).i]=d.x(c);return o.join("")})}function hd(t,e){var n=typeof e,r;return e==null||n==="boolean"?Aw(e):(n==="number"?N1:n==="string"?(r=Hh(e))?(e=r,ZP):J2e:e instanceof Hh?ZP:e instanceof Date?K2e:H2e(e)?q2e:Array.isArray(e)?G2e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Y2e:N1)(t,e)}function Iw(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Z2e(t,e){e===void 0&&(e=t,t=hd);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function e5e(t){return function(){return t}}function T1(t){return+t}var eA=[0,1];function jr(t){return t}function n8(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:e5e(isNaN(e)?NaN:.5)}function t5e(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function n5e(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=n8(i,r),a=n(s,a)):(r=n8(r,i),a=n(a,s)),function(o){return a(r(o))}}function r5e(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=n8(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=e4(t,o,1,r)-1;return a[l](i[l](o))}}function n4(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function u5(){var t=eA,e=eA,n=hd,r,i,a,s=jr,o,l,c;function u(){var h=Math.min(t.length,e.length);return s!==jr&&(s=t5e(t[0],t[h-1])),o=h>2?r5e:n5e,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?a:(l||(l=o(t.map(r),e,n)))(r(s(h)))}return d.invert=function(h){return s(i((c||(c=o(e,t.map(r),N1)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,T1),u()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=Iw,u()},d.clamp=function(h){return arguments.length?(s=h?!0:jr,u()):s!==jr},d.interpolate=function(h){return arguments.length?(n=h,u()):n},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,p){return r=h,i=p,u()}}function Cw(){return u5()(jr,jr)}function i5e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function P1(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Su(t){return t=P1(Math.abs(t)),t?t[1]:NaN}function a5e(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function s5e(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var o5e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gh(t){if(!(e=o5e.exec(t)))throw new Error("invalid format: "+t);var e;return new Ow({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Gh.prototype=Ow.prototype;function Ow(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ow.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function l5e(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var A1;function c5e(t,e){var n=P1(t,e);if(!n)return A1=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(A1=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+P1(t,Math.max(0,e+a-1))[0]}function tA(t,e){var n=P1(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const nA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:i5e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>tA(t*100,e),r:tA,s:c5e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function rA(t){return t}var iA=Array.prototype.map,aA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function u5e(t){var e=t.grouping===void 0||t.thousands===void 0?rA:a5e(iA.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?rA:s5e(iA.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d,h){d=Gh(d);var p=d.fill,g=d.align,x=d.sign,v=d.symbol,y=d.zero,b=d.width,w=d.comma,k=d.precision,E=d.trim,S=d.type;S==="n"?(w=!0,S="g"):nA[S]||(k===void 0&&(k=12),E=!0,S="g"),(y||p==="0"&&g==="=")&&(y=!0,p="0",g="=");var _=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?n:v==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():""),N=(v==="$"?r:/[%p]/.test(S)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),P=nA[S],A=/[defgprs%]/.test(S);k=k===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function C(O){var j=_,R=N,D,$,U;if(S==="c")R=P(O)+R,O="";else{O=+O;var F=O<0||1/O<0;if(O=isNaN(O)?l:P(Math.abs(O),k),E&&(O=l5e(O)),F&&+O==0&&x!=="+"&&(F=!1),j=(F?x==="("?x:o:x==="-"||x==="("?"":x)+j,R=(S==="s"&&!isNaN(O)&&A1!==void 0?aA[8+A1/3]:"")+R+(F&&x==="("?")":""),A){for(D=-1,$=O.length;++D<$;)if(U=O.charCodeAt(D),48>U||U>57){R=(U===46?i+O.slice(D+1):O.slice(D))+R,O=O.slice(0,D);break}}}w&&!y&&(O=e(O,1/0));var B=j.length+O.length+R.length,z=B<b?new Array(b-B+1).join(p):"";switch(w&&y&&(O=e(z+O,z.length?b-R.length:1/0),z=""),g){case"<":O=j+O+R+z;break;case"=":O=j+z+O+R;break;case"^":O=z.slice(0,B=z.length>>1)+j+O+R+z.slice(B);break;default:O=z+j+O+R;break}return a(O)}return C.toString=function(){return d+""},C}function u(d,h){var p=Math.max(-8,Math.min(8,Math.floor(Su(h)/3)))*3,g=Math.pow(10,-p),x=c((d=Gh(d),d.type="f",d),{suffix:aA[8+p/3]});return function(v){return x(g*v)}}return{format:c,formatPrefix:u}}var l3,jw,OV;d5e({thousands:",",grouping:[3],currency:["$",""]});function d5e(t){return l3=u5e(t),jw=l3.format,OV=l3.formatPrefix,l3}function f5e(t){return Math.max(0,-Su(Math.abs(t)))}function h5e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Su(e)/3)))*3-Su(Math.abs(t)))}function p5e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Su(e)-Su(t))+1}function jV(t,e,n,r){var i=J7(t,e,n),a;switch(r=Gh(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=h5e(i,s))&&(r.precision=a),OV(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=p5e(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=f5e(i))&&(r.precision=a-(r.type==="%")*2);break}}return jw(r)}function k0(t){var e=t.domain;return t.ticks=function(n){var r=e();return Q7(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return jV(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);u-- >0;){if(c=X7(s,o,n),c===l)return r[i]=s,r[a]=o,e(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function Kh(){var t=Cw();return t.copy=function(){return n4(t,Kh())},ea.apply(t,arguments),k0(t)}function MV(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,T1),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return MV(t).unknown(e)},t=arguments.length?Array.from(t,T1):[0,1],k0(n)}function DV(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function sA(t){return Math.log(t)}function oA(t){return Math.exp(t)}function m5e(t){return-Math.log(-t)}function g5e(t){return-Math.exp(-t)}function y5e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function v5e(t){return t===10?y5e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function x5e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function lA(t){return(e,n)=>-t(-e,n)}function Mw(t){const e=t(sA,oA),n=e.domain;let r=10,i,a;function s(){return i=x5e(r),a=v5e(r),n()[0]<0?(i=lA(i),a=lA(a),t(m5e,g5e)):t(sA,oA),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=i(c),p=i(u),g,x;const v=o==null?10:+o;let y=[];if(!(r%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(g=1;g<r;++g)if(x=h<0?g/a(-h):g*a(h),!(x<c)){if(x>u)break;y.push(x)}}else for(;h<=p;++h)for(g=r-1;g>=1;--g)if(x=h>0?g/a(-h):g*a(h),!(x<c)){if(x>u)break;y.push(x)}y.length*2<v&&(y=Q7(c,u,v))}else y=Q7(h,p,Math.min(p-h,v)).map(a);return d?y.reverse():y},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Gh(l)).precision==null&&(l.trim=!0),l=jw(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?l(u):""}},e.nice=()=>n(DV(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function RV(){const t=Mw(u5()).domain([1,10]);return t.copy=()=>n4(t,RV()).base(t.base()),ea.apply(t,arguments),t}function cA(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function uA(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Dw(t){var e=1,n=t(cA(e),uA(e));return n.constant=function(r){return arguments.length?t(cA(e=+r),uA(e)):e},k0(n)}function $V(){var t=Dw(u5());return t.copy=function(){return n4(t,$V()).constant(t.constant())},ea.apply(t,arguments)}function dA(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function b5e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function w5e(t){return t<0?-t*t:t*t}function Rw(t){var e=t(jr,jr),n=1;function r(){return n===1?t(jr,jr):n===.5?t(b5e,w5e):t(dA(n),dA(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},k0(e)}function $w(){var t=Rw(u5());return t.copy=function(){return n4(t,$w()).exponent(t.exponent())},ea.apply(t,arguments),t}function _5e(){return $w.apply(null,arguments).exponent(.5)}function fA(t){return Math.sign(t)*t*t}function S5e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function LV(){var t=Cw(),e=[0,1],n=!1,r;function i(a){var s=S5e(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(fA(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,T1)).map(fA)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return LV(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ea.apply(i,arguments),k0(i)}function FV(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=T2e(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[e4(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Zo),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return FV().domain(t).range(e).unknown(r)},ea.apply(a,arguments)}function VV(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[e4(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return VV().domain([t,e]).range(i).unknown(a)},ea.apply(k0(s),arguments)}function UV(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[e4(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return UV().domain(t).range(e).unknown(n)},ea.apply(i,arguments)}const fy=new Date,hy=new Date;function Un(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},i.filter=a=>Un(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(fy.setTime(+a),hy.setTime(+s),t(fy),t(hy),Math.floor(n(fy,hy))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const I1=Un(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);I1.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Un(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):I1);I1.range;const Ts=1e3,Vi=Ts*60,Ps=Vi*60,Gs=Ps*24,Lw=Gs*7,hA=Gs*30,py=Gs*365,el=Un(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ts)},(t,e)=>(e-t)/Ts,t=>t.getUTCSeconds());el.range;const Fw=Un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ts)},(t,e)=>{t.setTime(+t+e*Vi)},(t,e)=>(e-t)/Vi,t=>t.getMinutes());Fw.range;const Vw=Un(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Vi)},(t,e)=>(e-t)/Vi,t=>t.getUTCMinutes());Vw.range;const Uw=Un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ts-t.getMinutes()*Vi)},(t,e)=>{t.setTime(+t+e*Ps)},(t,e)=>(e-t)/Ps,t=>t.getHours());Uw.range;const Bw=Un(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ps)},(t,e)=>(e-t)/Ps,t=>t.getUTCHours());Bw.range;const r4=Un(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Vi)/Gs,t=>t.getDate()-1);r4.range;const d5=Un(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Gs,t=>t.getUTCDate()-1);d5.range;const BV=Un(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Gs,t=>Math.floor(t/Gs));BV.range;function Jl(t){return Un(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Vi)/Lw)}const f5=Jl(0),C1=Jl(1),k5e=Jl(2),E5e=Jl(3),ku=Jl(4),N5e=Jl(5),T5e=Jl(6);f5.range;C1.range;k5e.range;E5e.range;ku.range;N5e.range;T5e.range;function Zl(t){return Un(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Lw)}const h5=Zl(0),O1=Zl(1),P5e=Zl(2),A5e=Zl(3),Eu=Zl(4),I5e=Zl(5),C5e=Zl(6);h5.range;O1.range;P5e.range;A5e.range;Eu.range;I5e.range;C5e.range;const zw=Un(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());zw.range;const Ww=Un(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Ww.range;const Ks=Un(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ks.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Un(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ks.range;const Ys=Un(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ys.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Un(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ys.range;function zV(t,e,n,r,i,a){const s=[[el,1,Ts],[el,5,5*Ts],[el,15,15*Ts],[el,30,30*Ts],[a,1,Vi],[a,5,5*Vi],[a,15,15*Vi],[a,30,30*Vi],[i,1,Ps],[i,3,3*Ps],[i,6,6*Ps],[i,12,12*Ps],[r,1,Gs],[r,2,2*Gs],[n,1,Lw],[e,1,hA],[e,3,3*hA],[t,1,py]];function o(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),g=p?p.range(c,+u+1):[];return h?g.reverse():g}function l(c,u,d){const h=Math.abs(u-c)/d,p=Nw(([,,v])=>v).right(s,h);if(p===s.length)return t.every(J7(c/py,u/py,d));if(p===0)return I1.every(Math.max(J7(c,u,d),1));const[g,x]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(x)}return[o,l]}const[O5e,j5e]=zV(Ys,Ww,h5,BV,Bw,Vw),[M5e,D5e]=zV(Ks,zw,f5,r4,Uw,Fw);function my(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function gy(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function qd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function R5e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=Hd(i),u=Gd(i),d=Hd(a),h=Gd(a),p=Hd(s),g=Gd(s),x=Hd(o),v=Gd(o),y=Hd(l),b=Gd(l),w={a:U,A:F,b:B,B:z,c:null,d:xA,e:xA,f:a6e,g:m6e,G:y6e,H:n6e,I:r6e,j:i6e,L:WV,m:s6e,M:o6e,p:q,q:G,Q:_A,s:SA,S:l6e,u:c6e,U:u6e,V:d6e,w:f6e,W:h6e,x:null,X:null,y:p6e,Y:g6e,Z:v6e,"%":wA},k={a:te,A:de,b:ye,B:J,c:null,d:bA,e:bA,f:_6e,g:O6e,G:M6e,H:x6e,I:b6e,j:w6e,L:HV,m:S6e,M:k6e,p:we,q:ke,Q:_A,s:SA,S:E6e,u:N6e,U:T6e,V:P6e,w:A6e,W:I6e,x:null,X:null,y:C6e,Y:j6e,Z:D6e,"%":wA},E={a:A,A:C,b:O,B:j,c:R,d:yA,e:yA,f:J5e,g:gA,G:mA,H:vA,I:vA,j:K5e,L:X5e,m:G5e,M:Y5e,p:P,q:H5e,Q:e6e,s:t6e,S:Q5e,u:U5e,U:B5e,V:z5e,w:V5e,W:W5e,x:D,X:$,y:gA,Y:mA,Z:q5e,"%":Z5e};w.x=S(n,w),w.X=S(r,w),w.c=S(e,w),k.x=S(n,k),k.X=S(r,k),k.c=S(e,k);function S(ne,ve){return function(Te){var ae=[],Be=-1,ie=0,Q=ne.length,fe,$e,kt;for(Te instanceof Date||(Te=new Date(+Te));++Be<Q;)ne.charCodeAt(Be)===37&&(ae.push(ne.slice(ie,Be)),($e=pA[fe=ne.charAt(++Be)])!=null?fe=ne.charAt(++Be):$e=fe==="e"?" ":"0",(kt=ve[fe])&&(fe=kt(Te,$e)),ae.push(fe),ie=Be+1);return ae.push(ne.slice(ie,Be)),ae.join("")}}function _(ne,ve){return function(Te){var ae=qd(1900,void 0,1),Be=N(ae,ne,Te+="",0),ie,Q;if(Be!=Te.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(ve&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(ie=gy(qd(ae.y,0,1)),Q=ie.getUTCDay(),ie=Q>4||Q===0?O1.ceil(ie):O1(ie),ie=d5.offset(ie,(ae.V-1)*7),ae.y=ie.getUTCFullYear(),ae.m=ie.getUTCMonth(),ae.d=ie.getUTCDate()+(ae.w+6)%7):(ie=my(qd(ae.y,0,1)),Q=ie.getDay(),ie=Q>4||Q===0?C1.ceil(ie):C1(ie),ie=r4.offset(ie,(ae.V-1)*7),ae.y=ie.getFullYear(),ae.m=ie.getMonth(),ae.d=ie.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),Q="Z"in ae?gy(qd(ae.y,0,1)).getUTCDay():my(qd(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(Q+5)%7:ae.w+ae.U*7-(Q+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,gy(ae)):my(ae)}}function N(ne,ve,Te,ae){for(var Be=0,ie=ve.length,Q=Te.length,fe,$e;Be<ie;){if(ae>=Q)return-1;if(fe=ve.charCodeAt(Be++),fe===37){if(fe=ve.charAt(Be++),$e=E[fe in pA?ve.charAt(Be++):fe],!$e||(ae=$e(ne,Te,ae))<0)return-1}else if(fe!=Te.charCodeAt(ae++))return-1}return ae}function P(ne,ve,Te){var ae=c.exec(ve.slice(Te));return ae?(ne.p=u.get(ae[0].toLowerCase()),Te+ae[0].length):-1}function A(ne,ve,Te){var ae=p.exec(ve.slice(Te));return ae?(ne.w=g.get(ae[0].toLowerCase()),Te+ae[0].length):-1}function C(ne,ve,Te){var ae=d.exec(ve.slice(Te));return ae?(ne.w=h.get(ae[0].toLowerCase()),Te+ae[0].length):-1}function O(ne,ve,Te){var ae=y.exec(ve.slice(Te));return ae?(ne.m=b.get(ae[0].toLowerCase()),Te+ae[0].length):-1}function j(ne,ve,Te){var ae=x.exec(ve.slice(Te));return ae?(ne.m=v.get(ae[0].toLowerCase()),Te+ae[0].length):-1}function R(ne,ve,Te){return N(ne,e,ve,Te)}function D(ne,ve,Te){return N(ne,n,ve,Te)}function $(ne,ve,Te){return N(ne,r,ve,Te)}function U(ne){return s[ne.getDay()]}function F(ne){return a[ne.getDay()]}function B(ne){return l[ne.getMonth()]}function z(ne){return o[ne.getMonth()]}function q(ne){return i[+(ne.getHours()>=12)]}function G(ne){return 1+~~(ne.getMonth()/3)}function te(ne){return s[ne.getUTCDay()]}function de(ne){return a[ne.getUTCDay()]}function ye(ne){return l[ne.getUTCMonth()]}function J(ne){return o[ne.getUTCMonth()]}function we(ne){return i[+(ne.getUTCHours()>=12)]}function ke(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var ve=S(ne+="",w);return ve.toString=function(){return ne},ve},parse:function(ne){var ve=_(ne+="",!1);return ve.toString=function(){return ne},ve},utcFormat:function(ne){var ve=S(ne+="",k);return ve.toString=function(){return ne},ve},utcParse:function(ne){var ve=_(ne+="",!0);return ve.toString=function(){return ne},ve}}}var pA={"-":"",_:" ",0:"0"},Qn=/^\s*\d+/,$5e=/^%/,L5e=/[\\^$*+?|[\]().{}]/g;function Et(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function F5e(t){return t.replace(L5e,"\\$&")}function Hd(t){return new RegExp("^(?:"+t.map(F5e).join("|")+")","i")}function Gd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function V5e(t,e,n){var r=Qn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function U5e(t,e,n){var r=Qn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function B5e(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function z5e(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function W5e(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function mA(t,e,n){var r=Qn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function gA(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function q5e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function H5e(t,e,n){var r=Qn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function G5e(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function yA(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function K5e(t,e,n){var r=Qn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function vA(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Y5e(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Q5e(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function X5e(t,e,n){var r=Qn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function J5e(t,e,n){var r=Qn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Z5e(t,e,n){var r=$5e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function e6e(t,e,n){var r=Qn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function t6e(t,e,n){var r=Qn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function xA(t,e){return Et(t.getDate(),e,2)}function n6e(t,e){return Et(t.getHours(),e,2)}function r6e(t,e){return Et(t.getHours()%12||12,e,2)}function i6e(t,e){return Et(1+r4.count(Ks(t),t),e,3)}function WV(t,e){return Et(t.getMilliseconds(),e,3)}function a6e(t,e){return WV(t,e)+"000"}function s6e(t,e){return Et(t.getMonth()+1,e,2)}function o6e(t,e){return Et(t.getMinutes(),e,2)}function l6e(t,e){return Et(t.getSeconds(),e,2)}function c6e(t){var e=t.getDay();return e===0?7:e}function u6e(t,e){return Et(f5.count(Ks(t)-1,t),e,2)}function qV(t){var e=t.getDay();return e>=4||e===0?ku(t):ku.ceil(t)}function d6e(t,e){return t=qV(t),Et(ku.count(Ks(t),t)+(Ks(t).getDay()===4),e,2)}function f6e(t){return t.getDay()}function h6e(t,e){return Et(C1.count(Ks(t)-1,t),e,2)}function p6e(t,e){return Et(t.getFullYear()%100,e,2)}function m6e(t,e){return t=qV(t),Et(t.getFullYear()%100,e,2)}function g6e(t,e){return Et(t.getFullYear()%1e4,e,4)}function y6e(t,e){var n=t.getDay();return t=n>=4||n===0?ku(t):ku.ceil(t),Et(t.getFullYear()%1e4,e,4)}function v6e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Et(e/60|0,"0",2)+Et(e%60,"0",2)}function bA(t,e){return Et(t.getUTCDate(),e,2)}function x6e(t,e){return Et(t.getUTCHours(),e,2)}function b6e(t,e){return Et(t.getUTCHours()%12||12,e,2)}function w6e(t,e){return Et(1+d5.count(Ys(t),t),e,3)}function HV(t,e){return Et(t.getUTCMilliseconds(),e,3)}function _6e(t,e){return HV(t,e)+"000"}function S6e(t,e){return Et(t.getUTCMonth()+1,e,2)}function k6e(t,e){return Et(t.getUTCMinutes(),e,2)}function E6e(t,e){return Et(t.getUTCSeconds(),e,2)}function N6e(t){var e=t.getUTCDay();return e===0?7:e}function T6e(t,e){return Et(h5.count(Ys(t)-1,t),e,2)}function GV(t){var e=t.getUTCDay();return e>=4||e===0?Eu(t):Eu.ceil(t)}function P6e(t,e){return t=GV(t),Et(Eu.count(Ys(t),t)+(Ys(t).getUTCDay()===4),e,2)}function A6e(t){return t.getUTCDay()}function I6e(t,e){return Et(O1.count(Ys(t)-1,t),e,2)}function C6e(t,e){return Et(t.getUTCFullYear()%100,e,2)}function O6e(t,e){return t=GV(t),Et(t.getUTCFullYear()%100,e,2)}function j6e(t,e){return Et(t.getUTCFullYear()%1e4,e,4)}function M6e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Eu(t):Eu.ceil(t),Et(t.getUTCFullYear()%1e4,e,4)}function D6e(){return"+0000"}function wA(){return"%"}function _A(t){return+t}function SA(t){return Math.floor(+t/1e3)}var oc,KV,YV;R6e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function R6e(t){return oc=R5e(t),KV=oc.format,oc.parse,YV=oc.utcFormat,oc.utcParse,oc}function $6e(t){return new Date(t)}function L6e(t){return t instanceof Date?+t:+new Date(+t)}function qw(t,e,n,r,i,a,s,o,l,c){var u=Cw(),d=u.invert,h=u.domain,p=c(".%L"),g=c(":%S"),x=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),b=c("%b %d"),w=c("%B"),k=c("%Y");function E(S){return(l(S)<S?p:o(S)<S?g:s(S)<S?x:a(S)<S?v:r(S)<S?i(S)<S?y:b:n(S)<S?w:k)(S)}return u.invert=function(S){return new Date(d(S))},u.domain=function(S){return arguments.length?h(Array.from(S,L6e)):h().map($6e)},u.ticks=function(S){var _=h();return t(_[0],_[_.length-1],S??10)},u.tickFormat=function(S,_){return _==null?E:c(_)},u.nice=function(S){var _=h();return(!S||typeof S.range!="function")&&(S=e(_[0],_[_.length-1],S??10)),S?h(DV(_,S)):u},u.copy=function(){return n4(u,qw(t,e,n,r,i,a,s,o,l,c))},u}function F6e(){return ea.apply(qw(M5e,D5e,Ks,zw,f5,r4,Uw,Fw,el,KV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function V6e(){return ea.apply(qw(O5e,j5e,Ys,Ww,h5,d5,Bw,Vw,el,YV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function p5(){var t=0,e=1,n,r,i,a,s=jr,o=!1,l;function c(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(a(d)-n)*i,o?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(d){return arguments.length?(o=!!d,c):o},c.interpolator=function(d){return arguments.length?(s=d,c):s};function u(d){return function(h){var p,g;return arguments.length?([p,g]=h,s=d(p,g),c):[s(0),s(1)]}}return c.range=u(hd),c.rangeRound=u(Iw),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return a=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),c}}function E0(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function QV(){var t=k0(p5()(jr));return t.copy=function(){return E0(t,QV())},ao.apply(t,arguments)}function XV(){var t=Mw(p5()).domain([1,10]);return t.copy=function(){return E0(t,XV()).base(t.base())},ao.apply(t,arguments)}function JV(){var t=Dw(p5());return t.copy=function(){return E0(t,JV()).constant(t.constant())},ao.apply(t,arguments)}function Hw(){var t=Rw(p5());return t.copy=function(){return E0(t,Hw()).exponent(t.exponent())},ao.apply(t,arguments)}function U6e(){return Hw.apply(null,arguments).exponent(.5)}function ZV(){var t=[],e=jr;function n(r){if(r!=null&&!isNaN(r=+r))return e((e4(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Zo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>N2e(t,a/r))},n.copy=function(){return ZV(e).domain(t)},ao.apply(n,arguments)}function m5(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,c=jr,u,d=!1,h;function p(x){return isNaN(x=+x)?h:(x=.5+((x=+u(x))-a)*(r*x<r*a?o:l),c(d?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([t,e,n]=x,i=u(t=+t),a=u(e=+e),s=u(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(x){return arguments.length?(d=!!x,p):d},p.interpolator=function(x){return arguments.length?(c=x,p):c};function g(x){return function(v){var y,b,w;return arguments.length?([y,b,w]=v,c=Z2e(x,[y,b,w]),p):[c(0),c(.5),c(1)]}}return p.range=g(hd),p.rangeRound=g(Iw),p.unknown=function(x){return arguments.length?(h=x,p):h},function(x){return u=x,i=x(t),a=x(e),s=x(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function eU(){var t=k0(m5()(jr));return t.copy=function(){return E0(t,eU())},ao.apply(t,arguments)}function tU(){var t=Mw(m5()).domain([.1,1,10]);return t.copy=function(){return E0(t,tU()).base(t.base())},ao.apply(t,arguments)}function nU(){var t=Dw(m5());return t.copy=function(){return E0(t,nU()).constant(t.constant())},ao.apply(t,arguments)}function Gw(){var t=Rw(m5());return t.copy=function(){return E0(t,Gw()).exponent(t.exponent())},ao.apply(t,arguments)}function B6e(){return Gw.apply(null,arguments).exponent(.5)}const kA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zh,scaleDiverging:eU,scaleDivergingLog:tU,scaleDivergingPow:Gw,scaleDivergingSqrt:B6e,scaleDivergingSymlog:nU,scaleIdentity:MV,scaleImplicit:Z7,scaleLinear:Kh,scaleLog:RV,scaleOrdinal:Tw,scalePoint:Qf,scalePow:$w,scaleQuantile:FV,scaleQuantize:VV,scaleRadial:LV,scaleSequential:QV,scaleSequentialLog:XV,scaleSequentialPow:Hw,scaleSequentialQuantile:ZV,scaleSequentialSqrt:U6e,scaleSequentialSymlog:JV,scaleSqrt:_5e,scaleSymlog:$V,scaleThreshold:UV,scaleTime:F6e,scaleUtc:V6e,tickFormat:jV},Symbol.toStringTag,{value:"Module"}));var z6e=rd;function W6e(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(s!=null&&(o===void 0?s===s&&!z6e(s):n(s,o)))var o=s,l=a}return l}var rU=W6e;function q6e(t,e){return t>e}var H6e=q6e,G6e=rU,K6e=H6e,Y6e=dd;function Q6e(t){return t&&t.length?G6e(t,Y6e,K6e):void 0}var X6e=Q6e;const Mo=Ut(X6e);function J6e(t,e){return t<e}var Z6e=J6e,eye=rU,tye=Z6e,nye=dd;function rye(t){return t&&t.length?eye(t,nye,tye):void 0}var iye=rye;const g5=Ut(iye);var aye=ow,sye=S0,oye=dV,lye=ni;function cye(t,e){var n=lye(t)?aye:oye;return n(t,sye(e))}var uye=cye,dye=cV,fye=uye;function hye(t,e){return dye(fye(t,e),1)}var pye=hye;const mye=Ut(pye);var gye=_w;function yye(t,e){return gye(t,e)}var vye=yye;const Yh=Ut(vye);var pd=1e9,xye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Yw,Zt=!0,Xi="[DecimalError] ",dl=Xi+"Invalid argument: ",Kw=Xi+"Exponent out of range: ",md=Math.floor,B0=Math.pow,bye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fi,qn=1e7,Kt=7,iU=9007199254740991,j1=md(iU/Kt),Re={};Re.absoluteValue=Re.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Re.comparedTo=Re.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Re.decimalPlaces=Re.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Kt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Re.dividedBy=Re.div=function(t){return Ls(this,new this.constructor(t))};Re.dividedToIntegerBy=Re.idiv=function(t){var e=this,n=e.constructor;return Vt(Ls(e,new n(t),0,1),n.precision)};Re.equals=Re.eq=function(t){return!this.cmp(t)};Re.exponent=function(){return On(this)};Re.greaterThan=Re.gt=function(t){return this.cmp(t)>0};Re.greaterThanOrEqualTo=Re.gte=function(t){return this.cmp(t)>=0};Re.isInteger=Re.isint=function(){return this.e>this.d.length-2};Re.isNegative=Re.isneg=function(){return this.s<0};Re.isPositive=Re.ispos=function(){return this.s>0};Re.isZero=function(){return this.s===0};Re.lessThan=Re.lt=function(t){return this.cmp(t)<0};Re.lessThanOrEqualTo=Re.lte=function(t){return this.cmp(t)<1};Re.logarithm=Re.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(fi))throw Error(Xi+"NaN");if(n.s<1)throw Error(Xi+(n.s?"NaN":"-Infinity"));return n.eq(fi)?new r(0):(Zt=!1,e=Ls(Qh(n,a),Qh(t,a),a),Zt=!0,Vt(e,i))};Re.minus=Re.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?oU(e,t):aU(e,(t.s=-t.s,t))};Re.modulo=Re.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Xi+"NaN");return n.s?(Zt=!1,e=Ls(n,t,0,1).times(t),Zt=!0,n.minus(e)):Vt(new r(n),i)};Re.naturalExponential=Re.exp=function(){return sU(this)};Re.naturalLogarithm=Re.ln=function(){return Qh(this)};Re.negated=Re.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Re.plus=Re.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?aU(e,t):oU(e,(t.s=-t.s,t))};Re.precision=Re.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(dl+t);if(e=On(i)+1,r=i.d.length-1,n=r*Kt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Re.squareRoot=Re.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Xi+"NaN")}for(t=On(o),Zt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=qa(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=md((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(Ls(o,a,s+2)).times(.5),qa(a.d).slice(0,s)===(e=qa(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Vt(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return Zt=!0,Vt(r,n)};Re.times=Re.mul=function(t){var e,n,r,i,a,s,o,l,c,u=this,d=u.constructor,h=u.d,p=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,n=u.e+t.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+p[r]*h[i-r-1]+e,a[i--]=o%qn|0,e=o/qn|0;a[i]=(a[i]+e)%qn|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Zt?Vt(t,d.precision):t};Re.toDecimalPlaces=Re.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(os(t,0,pd),e===void 0?e=r.rounding:os(e,0,8),Vt(n,t+On(n)+1,e))};Re.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Il(r,!0):(os(t,0,pd),e===void 0?e=i.rounding:os(e,0,8),r=Vt(new i(r),t+1,e),n=Il(r,!0,t+1)),n};Re.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Il(i):(os(t,0,pd),e===void 0?e=a.rounding:os(e,0,8),r=Vt(new a(i),t+On(i)+1,e),n=Il(r.abs(),!1,t+On(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Re.toInteger=Re.toint=function(){var t=this,e=t.constructor;return Vt(new e(t),On(t)+1,e.rounding)};Re.toNumber=function(){return+this};Re.toPower=Re.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(fi);if(o=new l(o),!o.s){if(t.s<1)throw Error(Xi+"Infinity");return o}if(o.eq(fi))return o;if(r=l.precision,t.eq(fi))return Vt(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=u<0?-u:u)<=iU){for(i=new l(fi),e=Math.ceil(r/Kt+4),Zt=!1;n%2&&(i=i.times(o),NA(i.d,e)),n=md(n/2),n!==0;)o=o.times(o),NA(o.d,e);return Zt=!0,t.s<0?new l(fi).div(i):Vt(i,r)}}else if(a<0)throw Error(Xi+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Zt=!1,i=t.times(Qh(o,r+c)),Zt=!0,i=sU(i),i.s=a,i};Re.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=On(i),r=Il(i,n<=a.toExpNeg||n>=a.toExpPos)):(os(t,1,pd),e===void 0?e=a.rounding:os(e,0,8),i=Vt(new a(i),t,e),n=On(i),r=Il(i,t<=n||n<=a.toExpNeg,t)),r};Re.toSignificantDigits=Re.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(os(t,1,pd),e===void 0?e=r.rounding:os(e,0,8)),Vt(new r(n),t,e)};Re.toString=Re.valueOf=Re.val=Re.toJSON=Re[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=On(t),n=t.constructor;return Il(t,e<=n.toExpNeg||e>=n.toExpPos)};function aU(t,e){var n,r,i,a,s,o,l,c,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Zt?Vt(e,d):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(d/Kt),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/qn|0,l[a]%=qn;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Zt?Vt(e,d):e}function os(t,e,n){if(t!==~~t||t<e||t>n)throw Error(dl+t)}function qa(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Kt-r.length,n&&(a+=xo(n)),a+=r;s=t[e],r=s+"",n=Kt-r.length,n&&(a+=xo(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Ls=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%qn|0,s=a/qn|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*qn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,u,d,h,p,g,x,v,y,b,w,k,E,S,_,N,P=r.constructor,A=r.s==i.s?1:-1,C=r.d,O=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(Xi+"Division by zero");for(l=r.e-i.e,_=O.length,E=C.length,p=new P(A),g=p.d=[],c=0;O[c]==(C[c]||0);)++c;if(O[c]>(C[c]||0)&&--l,a==null?b=a=P.precision:s?b=a+(On(r)-On(i))+1:b=a,b<0)return new P(0);if(b=b/Kt+2|0,c=0,_==1)for(u=0,O=O[0],b++;(c<E||u)&&b--;c++)w=u*qn+(C[c]||0),g[c]=w/O|0,u=w%O|0;else{for(u=qn/(O[0]+1)|0,u>1&&(O=t(O,u),C=t(C,u),_=O.length,E=C.length),k=_,x=C.slice(0,_),v=x.length;v<_;)x[v++]=0;N=O.slice(),N.unshift(0),S=O[0],O[1]>=qn/2&&++S;do u=0,o=e(O,x,_,v),o<0?(y=x[0],_!=v&&(y=y*qn+(x[1]||0)),u=y/S|0,u>1?(u>=qn&&(u=qn-1),d=t(O,u),h=d.length,v=x.length,o=e(d,x,h,v),o==1&&(u--,n(d,_<h?N:O,h))):(u==0&&(o=u=1),d=O.slice()),h=d.length,h<v&&d.unshift(0),n(x,d,v),o==-1&&(v=x.length,o=e(O,x,_,v),o<1&&(u++,n(x,_<v?N:O,v))),v=x.length):o===0&&(u++,x=[0]),g[c++]=u,o&&x[0]?x[v++]=C[k]||0:(x=[C[k]],v=1);while((k++<E||x[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=l,Vt(p,s?a+On(p)+1:a)}}();function sU(t,e){var n,r,i,a,s,o,l=0,c=0,u=t.constructor,d=u.precision;if(On(t)>16)throw Error(Kw+On(t));if(!t.s)return new u(fi);for(Zt=!1,o=d,s=new u(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(B0(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new u(fi),u.precision=o;;){if(i=Vt(i.times(t),o),n=n.times(++l),s=a.plus(Ls(i,n,o)),qa(s.d).slice(0,o)===qa(a.d).slice(0,o)){for(;c--;)a=Vt(a.times(a),o);return u.precision=d,e==null?(Zt=!0,Vt(a,d)):a}a=s}}function On(t){for(var e=t.e*Kt,n=t.d[0];n>=10;n/=10)e++;return e}function yy(t,e,n){if(e>t.LN10.sd())throw Zt=!0,n&&(t.precision=n),Error(Xi+"LN10 precision limit exceeded");return Vt(new t(t.LN10),e)}function xo(t){for(var e="";t--;)e+="0";return e}function Qh(t,e){var n,r,i,a,s,o,l,c,u,d=1,h=10,p=t,g=p.d,x=p.constructor,v=x.precision;if(p.s<1)throw Error(Xi+(p.s?"NaN":"-Infinity"));if(p.eq(fi))return new x(0);if(e==null?(Zt=!1,c=v):c=e,p.eq(10))return e==null&&(Zt=!0),yy(x,c);if(c+=h,x.precision=c,n=qa(g),r=n.charAt(0),a=On(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=qa(p.d),r=n.charAt(0),d++;a=On(p),r>1?(p=new x("0."+n),a++):p=new x(r+"."+n.slice(1))}else return l=yy(x,c+2,v).times(a+""),p=Qh(new x(r+"."+n.slice(1)),c-h).plus(l),x.precision=v,e==null?(Zt=!0,Vt(p,v)):p;for(o=s=p=Ls(p.minus(fi),p.plus(fi),c),u=Vt(p.times(p),c),i=3;;){if(s=Vt(s.times(u),c),l=o.plus(Ls(s,new x(i),c)),qa(l.d).slice(0,c)===qa(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(yy(x,c+2,v).times(a+""))),o=Ls(o,new x(d),c),x.precision=v,e==null?(Zt=!0,Vt(o,v)):o;o=l,i+=2}}function EA(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=md(n/Kt),t.d=[],r=(n+1)%Kt,n<0&&(r+=Kt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Kt;r<i;)t.d.push(+e.slice(r,r+=Kt));e=e.slice(r),r=Kt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Zt&&(t.e>j1||t.e<-j1))throw Error(Kw+n)}else t.s=0,t.e=0,t.d=[0];return t}function Vt(t,e,n){var r,i,a,s,o,l,c,u,d=t.d;for(s=1,a=d[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Kt,i=e,c=d[u=0];else{if(u=Math.ceil((r+1)/Kt),a=d.length,u>=a)return t;for(c=a=d[u],s=1;a>=10;a/=10)s++;r%=Kt,i=r-Kt+s}if(n!==void 0&&(a=B0(10,s-i-1),o=c/a%10|0,l=e<0||d[u+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/B0(10,s-i):0:d[u-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(a=On(t),d.length=1,e=e-a-1,d[0]=B0(10,(Kt-e%Kt)%Kt),t.e=md(-e/Kt)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=u,a=1,u--):(d.length=u+1,a=B0(10,Kt-r),d[u]=i>0?(c/B0(10,s-i)%B0(10,i)|0)*a:0),l)for(;;)if(u==0){(d[0]+=a)==qn&&(d[0]=1,++t.e);break}else{if(d[u]+=a,d[u]!=qn)break;d[u--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(Zt&&(t.e>j1||t.e<-j1))throw Error(Kw+On(t));return t}function oU(t,e){var n,r,i,a,s,o,l,c,u,d,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Zt?Vt(e,p):e;if(l=t.d,d=e.d,r=e.e,c=t.e,l=l.slice(),s=c-r,s){for(u=s<0,u?(n=l,s=-s,o=d.length):(n=d,r=c,o=l.length),i=Math.max(Math.ceil(p/Kt),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=d.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}s=0}for(u&&(n=l,l=d,d=n,e.s=-e.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=qn-1;--l[a],l[i]+=qn}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Zt?Vt(e,p):e):new h(0)}function Il(t,e,n){var r,i=On(t),a=qa(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+xo(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+xo(-i-1)+a,n&&(r=n-s)>0&&(a+=xo(r))):i>=s?(a+=xo(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+xo(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=xo(r))),t.s<0?"-"+a:a}function NA(t,e){if(t.length>e)return t.length=e,!0}function lU(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(dl+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return EA(s,a.toString())}else if(typeof a!="string")throw Error(dl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,bye.test(a))EA(s,a);else throw Error(dl+a)}if(i.prototype=Re,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=lU,i.config=i.set=wye,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function wye(t){if(!t||typeof t!="object")throw Error(Xi+"Object expected");var e,n,r,i=["precision",1,pd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(md(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(dl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(dl+n+": "+r);return this}var Yw=lU(xye);fi=new Yw(1);const Dt=Yw;function _ye(t){return Nye(t)||Eye(t)||kye(t)||Sye()}function Sye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kye(t,e){if(t){if(typeof t=="string")return r8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r8(t,e)}}function Eye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Nye(t){if(Array.isArray(t))return r8(t)}function r8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Tye=function(e){return e},cU={},uU=function(e){return e===cU},TA=function(e){return function n(){return arguments.length===0||arguments.length===1&&uU(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Pye=function t(e,n){return e===1?n:TA(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==cU}).length;return s>=e?n.apply(void 0,i):t(e-s,TA(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=i.map(function(d){return uU(d)?l.shift():d});return n.apply(void 0,_ye(u).concat(l))}))})},y5=function(e){return Pye(e.length,e)},i8=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Aye=y5(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Iye=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Tye;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},a8=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},dU=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(o,l){return o===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function Cye(t){var e;return t===0?e=1:e=Math.floor(new Dt(t).abs().log(10).toNumber())+1,e}function Oye(t,e,n){for(var r=new Dt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var jye=y5(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Mye=y5(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Dye=y5(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const v5={rangeStep:Oye,getDigitCount:Cye,interpolateNumber:jye,uninterpolateNumber:Mye,uninterpolateTruncation:Dye};function s8(t){return Lye(t)||$ye(t)||fU(t)||Rye()}function Rye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Lye(t){if(Array.isArray(t))return o8(t)}function Xh(t,e){return Uye(t)||Vye(t,e)||fU(t,e)||Fye()}function Fye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fU(t,e){if(t){if(typeof t=="string")return o8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o8(t,e)}}function o8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vye(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function Uye(t){if(Array.isArray(t))return t}function hU(t){var e=Xh(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function pU(t,e,n){if(t.lte(0))return new Dt(0);var r=v5.getDigitCount(t.toNumber()),i=new Dt(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new Dt(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?l:new Dt(Math.ceil(l))}function Bye(t,e,n){var r=1,i=new Dt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Dt(10).pow(v5.getDigitCount(t)-1),i=new Dt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Dt(Math.floor(t)))}else t===0?i=new Dt(Math.floor((e-1)/2)):n||(i=new Dt(Math.floor(t)));var s=Math.floor((e-1)/2),o=Iye(Aye(function(l){return i.add(new Dt(l-s).mul(r)).toNumber()}),i8);return o(0,e)}function mU(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Dt(0),tickMin:new Dt(0),tickMax:new Dt(0)};var a=pU(new Dt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Dt(0):(s=new Dt(t).add(e).div(2),s=s.sub(new Dt(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new Dt(e).sub(s).div(a).toNumber()),c=o+l+1;return c>n?mU(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,o=e>0?o:o+(n-c)),{step:a,tickMin:s.sub(new Dt(o).mul(a)),tickMax:s.add(new Dt(l).mul(a))})}function zye(t){var e=Xh(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=hU([n,r]),l=Xh(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(s8(i8(0,i-1).map(function(){return 1/0}))):[].concat(s8(i8(0,i-1).map(function(){return-1/0})),[u]);return n>r?a8(d):d}if(c===u)return Bye(c,i,a);var h=mU(c,u,s,a),p=h.step,g=h.tickMin,x=h.tickMax,v=v5.rangeStep(g,x.add(new Dt(.1).mul(p)),p);return n>r?a8(v):v}function Wye(t,e){var n=Xh(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=hU([r,i]),o=Xh(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),d=pU(new Dt(c).sub(l).div(u-1),a,0),h=[].concat(s8(v5.rangeStep(new Dt(l),new Dt(c).sub(new Dt(.99).mul(d)),d)),[c]);return r>i?a8(h):h}var qye=dU(zye),Hye=dU(Wye),Gye="Invariant failed";function Cl(t,e){throw new Error(Gye)}var Kye=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}function M1(){return M1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M1.apply(this,arguments)}function Yye(t,e){return Zye(t)||Jye(t,e)||Xye(t,e)||Qye()}function Qye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xye(t,e){if(t){if(typeof t=="string")return PA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PA(t,e)}}function PA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Zye(t){if(Array.isArray(t))return t}function eve(t,e){if(t==null)return{};var n=tve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vU(r.key),r)}}function ive(t,e,n){return e&&rve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ave(t,e,n){return e=D1(e),sve(t,gU()?Reflect.construct(e,n||[],D1(t).constructor):e.apply(t,n))}function sve(t,e){if(e&&(Nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ove(t)}function ove(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gU=function(){return!!t})()}function D1(t){return D1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},D1(t)}function lve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l8(t,e)}function l8(t,e){return l8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},l8(t,e)}function yU(t,e,n){return e=vU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vU(t){var e=cve(t,"string");return Nu(e)=="symbol"?e:e+""}function cve(t,e){if(Nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var x5=function(t){function e(){return nve(this,e),ave(this,e,arguments)}return lve(e,t),ive(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,d=r.yAxis,h=eve(r,Kye),p=ut(h,!1);this.props.direction==="x"&&u.type!=="number"&&Cl();var g=l.map(function(x){var v=c(x,o),y=v.x,b=v.y,w=v.value,k=v.errorVal;if(!k)return null;var E=[],S,_;if(Array.isArray(k)){var N=Yye(k,2);S=N[0],_=N[1]}else S=_=k;if(a==="vertical"){var P=u.scale,A=b+i,C=A+s,O=A-s,j=P(w-S),R=P(w+_);E.push({x1:R,y1:C,x2:R,y2:O}),E.push({x1:j,y1:A,x2:R,y2:A}),E.push({x1:j,y1:C,x2:j,y2:O})}else if(a==="horizontal"){var D=d.scale,$=y+i,U=$-s,F=$+s,B=D(w-S),z=D(w+_);E.push({x1:U,y1:z,x2:F,y2:z}),E.push({x1:$,y1:B,x2:$,y2:z}),E.push({x1:U,y1:B,x2:F,y2:B})}return V.createElement(an,M1({className:"recharts-errorBar",key:"bar-".concat(E.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},p),E.map(function(q){return V.createElement("line",M1({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return V.createElement(an,{className:"recharts-errorBars"},g)}}])}(V.Component);yU(x5,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});yU(x5,"displayName","ErrorBar");function Jh(t){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}function AA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AA(Object(n),!0).forEach(function(r){uve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uve(t,e,n){return e=dve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dve(t){var e=fve(t,"string");return Jh(e)=="symbol"?e:e+""}function fve(t,e){if(Jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xU=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=li(n,Jc);if(!s)return null;var o=Jc.defaultProps,l=o!==void 0?M0(M0({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:a==="children"?c=(r||[]).reduce(function(u,d){var h=d.item,p=d.props,g=p.sectors||p.data||[];return u.concat(g.map(function(x){return{type:s.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):c=(r||[]).map(function(u){var d=u.item,h=d.type.defaultProps,p=h!==void 0?M0(M0({},h),d.props):{},g=p.dataKey,x=p.name,v=p.legendType,y=p.hide;return{inactive:y,dataKey:g,type:l.iconType||v||"square",color:Qw(d),value:x||g,payload:p}}),M0(M0(M0({},l),Jc.getWithHeight(s,i)),{},{payload:c,item:s})};function Zh(t){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}function IA(t){return gve(t)||mve(t)||pve(t)||hve()}function hve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pve(t,e){if(t){if(typeof t=="string")return c8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c8(t,e)}}function mve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gve(t){if(Array.isArray(t))return c8(t)}function c8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CA(Object(n),!0).forEach(function(r){eu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eu(t,e,n){return e=yve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yve(t){var e=vve(t,"string");return Zh(e)=="symbol"?e:e+""}function vve(t,e){if(Zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _i(t,e,n){return mt(t)||mt(e)?n:Fn(e)?Hi(t,e,n):at(e)?e(t):n}function Xf(t,e,n,r){var i=mye(t,function(o){return _i(o,e)});if(n==="number"){var a=i.filter(function(o){return _e(o)||parseFloat(o)});return a.length?[g5(a),Mo(a)]:[1/0,-1/0]}var s=r?i.filter(function(o){return!mt(o)}):i;return s.map(function(o){return Fn(o)||o instanceof Date?o:""})}var xve=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<o;c++){var u=c>0?i[c-1].coordinate:i[o-1].coordinate,d=i[c].coordinate,h=c>=o-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(ha(d-u)!==ha(h-d)){var g=[];if(ha(h-d)===ha(l[1]-l[0])){p=h;var x=d+l[1]-l[0];g[0]=Math.min(x,(x+u)/2),g[1]=Math.max(x,(x+u)/2)}else{p=u;var v=h+l[1]-l[0];g[0]=Math.min(d,(v+d)/2),g[1]=Math.max(d,(v+d)/2)}var y=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>y[0]&&e<=y[1]||e>=g[0]&&e<=g[1]){s=i[c].index;break}}else{var b=Math.min(u,h),w=Math.max(u,h);if(e>(b+d)/2&&e<=(w+d)/2){s=i[c].index;break}}}else for(var k=0;k<o;k++)if(k===0&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k>0&&k<o-1&&e>(r[k].coordinate+r[k-1].coordinate)/2&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k===o-1&&e>(r[k].coordinate+r[k-1].coordinate)/2){s=r[k].index;break}return s},Qw=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?pn(pn({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},bve=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,c=o.length;l<c;l++)for(var u=a[o[l]].stackGroups,d=Object.keys(u),h=0,p=d.length;h<p;h++){var g=u[d[h]],x=g.items,v=g.cateAxisId,y=x.filter(function(_){return Rs(_.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,w=b!==void 0?pn(pn({},b),y[0].props):y[0].props,k=w.barSize,E=w[v];s[E]||(s[E]=[]);var S=mt(k)?n:k;s[E].push({item:y[0],stackList:y.slice(1),barSize:mt(S)?void 0:Al(S,r,0)})}}return s},wve=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var c=Al(n,i,0,!0),u,d=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/l,g=s.reduce(function(k,E){return k+E.barSize||0},0);g+=(l-1)*c,g>=i&&(g-=(l-1)*c,c=0),g>=i&&p>0&&(h=!0,p*=.9,g=l*p);var x=(i-g)/2>>0,v={offset:x-c,size:0};u=s.reduce(function(k,E){var S={item:E.item,position:{offset:v.offset+v.size+c,size:h?p:E.barSize}},_=[].concat(IA(k),[S]);return v=_[_.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(N){_.push({item:N,position:v})}),_},d)}else{var y=Al(r,i,0,!0);i-2*y-(l-1)*c<=0&&(c=0);var b=(i-2*y-(l-1)*c)/l;b>1&&(b>>=0);var w=o===+o?Math.min(b,o):b;u=s.reduce(function(k,E,S){var _=[].concat(IA(k),[{item:E.item,position:{offset:y+(b+c)*S+(b-w)/2,size:w}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(N){_.push({item:N,position:_[_.length-1].position})}),_},d)}return u},_ve=function(e,n,r,i){var a=r.children,s=r.width,o=r.margin,l=s-(o.left||0)-(o.right||0),c=xU({children:a,legendWidth:l});if(c){var u=i||{},d=u.width,h=u.height,p=c.align,g=c.verticalAlign,x=c.layout;if((x==="vertical"||x==="horizontal"&&g==="middle")&&p!=="center"&&_e(e[p]))return pn(pn({},e),{},eu({},p,e[p]+(d||0)));if((x==="horizontal"||x==="vertical"&&p==="center")&&g!=="middle"&&_e(e[g]))return pn(pn({},e),{},eu({},g,e[g]+(h||0)))}return e},Sve=function(e,n,r){return mt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},bU=function(e,n,r,i,a){var s=n.props.children,o=Sa(s,x5).filter(function(c){return Sve(i,a,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var d=_i(u,r);if(mt(d))return c;var h=Array.isArray(d)?[g5(d),Mo(d)]:[d,d],p=l.reduce(function(g,x){var v=_i(u,x,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},kve=function(e,n,r,i,a){var s=n.map(function(o){return bU(e,o,r,a,i)}).filter(function(o){return!mt(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},wU=function(e,n,r,i,a){var s=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&bU(e,l,c,i)||Xf(e,c,r,a)});if(r==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},_U=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},SU=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate});return a||o.push(n),s||o.push(r),o},As=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?ha(o[0]-o[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(d){var h=a?a.indexOf(d):d;return{coordinate:i(h)+c,value:d,offset:c}});return u.filter(function(d){return!ld(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+c,value:d,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,h){return{coordinate:i(d)+c,value:a?a[d]:d,index:h,offset:c}})},vy=new WeakMap,c3=function(e,n){if(typeof n!="function")return e;vy.has(e)||vy.set(e,new WeakMap);var r=vy.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Eve=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:zh(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Kh(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Qf(),realScaleType:"point"}:a==="category"?{scale:zh(),realScaleType:"band"}:{scale:Kh(),realScaleType:"linear"};if(Pl(i)){var l="scale".concat(r5(i));return{scale:(kA[l]||Qf)(),realScaleType:kA[l]?l:"point"}}return at(i)?{scale:i}:{scale:Qf(),realScaleType:"point"}},OA=1e-4,Nve=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-OA,s=Math.max(i[0],i[1])+OA,o=e(n[0]),l=e(n[r-1]);(o<a||o>s||l<a||l>s)&&e.domain([n[0],n[r-1]])}},Tve=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Pve=function(e,n){if(!n||n.length!==2||!_e(n[0])||!_e(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!_e(e[0])||e[0]<r)&&(a[0]=r),(!_e(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},Ave=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,o=0;o<n;++o){var l=ld(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1])}},Ive=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var o=ld(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},Cve={sign:Ave,expand:Wue,none:vu,silhouette:que,wiggle:Hue,positive:Ive},Ove=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),a=Cve[r],s=zue().keys(i).value(function(o,l){return+_i(o,l,0)}).order(M7).offset(a);return s(e)},jve=function(e,n,r,i,a,s){if(!e)return null;var o=s?n.reverse():n,l={},c=o.reduce(function(d,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?pn(pn({},h.type.defaultProps),h.props):h.props,x=g.stackId,v=g.hide;if(v)return d;var y=g[r],b=d[y]||{hasStack:!1,stackGroups:{}};if(Fn(x)){var w=b.stackGroups[x]||{numericAxisId:r,cateAxisId:i,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[x]=w}else b.stackGroups[Jp("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return pn(pn({},d),{},eu({},y,b))},l),u={};return Object.keys(c).reduce(function(d,h){var p=c[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(x,v){var y=p.stackGroups[v];return pn(pn({},x),{},eu({},v,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:Ove(e,y.items,a)}))},g)}return pn(pn({},d),{},eu({},h,p))},u)},Mve=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=qye(c,a,o);return e.domain([g5(u),Mo(u)]),{niceTicks:u}}if(a&&i==="number"){var d=e.domain(),h=Hye(d,a,o);return{niceTicks:h}}return null};function jA(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!mt(i[e.dataKey])){var o=s1(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=_i(i,mt(s)?e.dataKey:s);return mt(l)?null:e.scale(l)}var MA=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=_i(s,n.dataKey,n.domain[o]);return mt(l)?null:n.scale(l)-a/2+i},Dve=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},Rve=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?pn(pn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Fn(a)){var s=n[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},$ve=function(e){return e.reduce(function(n,r){return[g5(r.concat([n[0]]).filter(_e)),Mo(r.concat([n[1]]).filter(_e))]},[1/0,-1/0])},kU=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(c,u){var d=$ve(u.slice(n,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},DA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,RA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,u8=function(e,n,r){if(at(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(_e(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(DA.test(e[0])){var a=+DA.exec(e[0])[1];i[0]=n[0]-a}else at(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(_e(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(RA.test(e[1])){var s=+RA.exec(e[1])[1];i[1]=n[1]+s}else at(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},R1=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=kw(n,function(d){return d.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},$A=function(e,n,r){return!e||!e.length||Yh(e,Hi(r,"type.defaultProps.domain"))?n:e},EU=function(e,n){var r=e.type.defaultProps?pn(pn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return pn(pn({},ut(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:Qw(e),value:_i(n,i),type:l,payload:n,chartType:c,hide:u})};function ep(t){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(t)}function LA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LA(Object(n),!0).forEach(function(r){Lve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lve(t,e,n){return e=Fve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fve(t){var e=Vve(t,"string");return ep(e)=="symbol"?e:e+""}function Vve(t,e){if(ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $1=Math.PI/180,Uve=function(e){return e*180/Math.PI},ir=function(e,n,r,i){return{x:e+Math.cos(-$1*i)*r,y:n+Math.sin(-$1*i)*r}},Bve=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},zve=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,o=Bve({x:r,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(r-a)/o,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:o,angle:Uve(c),angleInRadian:c}},Wve=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},qve=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},VA=function(e,n){var r=e.x,i=e.y,a=zve({x:r,y:i},n),s=a.radius,o=a.angle,l=n.innerRadius,c=n.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=Wve(n),d=u.startAngle,h=u.endAngle,p=o,g;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=d}return g?FA(FA({},n),{},{radius:s,angle:qve(p,n)}):null};function tp(t){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tp(t)}var Hve=["offset"];function Gve(t){return Xve(t)||Qve(t)||Yve(t)||Kve()}function Kve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yve(t,e){if(t){if(typeof t=="string")return d8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d8(t,e)}}function Qve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xve(t){if(Array.isArray(t))return d8(t)}function d8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jve(t,e){if(t==null)return{};var n=Zve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function UA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UA(Object(n),!0).forEach(function(r){e7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e7e(t,e,n){return e=t7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t7e(t){var e=n7e(t,"string");return tp(e)=="symbol"?e:e+""}function n7e(t,e){if(tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function np(){return np=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},np.apply(this,arguments)}var r7e=function(e){var n=e.value,r=e.formatter,i=mt(e.children)?n:e.children;return at(r)?r(i):i},i7e=function(e,n){var r=ha(n-e),i=Math.min(Math.abs(n-e),360);return r*i},a7e=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,c=l.cx,u=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,x=l.clockWise,v=(d+h)/2,y=i7e(p,g),b=y>=0?1:-1,w,k;i==="insideStart"?(w=p+b*s,k=x):i==="insideEnd"?(w=g-b*s,k=!x):i==="end"&&(w=g+b*s,k=x),k=y<=0?k:!k;var E=ir(c,u,v,w),S=ir(c,u,v,w+(k?1:-1)*359),_="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(k?0:1,`,
    `).concat(S.x,",").concat(S.y),N=mt(e.id)?Jp("recharts-radial-line-"):e.id;return V.createElement("text",np({},r,{dominantBaseline:"central",className:St("recharts-radial-bar-label",o)}),V.createElement("defs",null,V.createElement("path",{id:N,d:_})),V.createElement("textPath",{xlinkHref:"#".concat(N)},n))},s7e=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,o=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,d=a.endAngle,h=(u+d)/2;if(i==="outside"){var p=ir(s,o,c+r,h),g=p.x,x=p.y;return{x:g,y:x,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,y=ir(s,o,v,h),b=y.x,w=y.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},o7e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,o=s.x,l=s.y,c=s.width,u=s.height,d=u>=0?1:-1,h=d*i,p=d>0?"end":"start",g=d>0?"start":"end",x=c>=0?1:-1,v=x*i,y=x>0?"end":"start",b=x>0?"start":"end";if(a==="top"){var w={x:o+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:p};return Rn(Rn({},w),r?{height:Math.max(l-r.y,0),width:c}:{})}if(a==="bottom"){var k={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:g};return Rn(Rn({},k),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(a==="left"){var E={x:o-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return Rn(Rn({},E),r?{width:Math.max(E.x-r.x,0),height:u}:{})}if(a==="right"){var S={x:o+c+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return Rn(Rn({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:u}:{})}var _=r?{width:c,height:u}:{};return a==="insideLeft"?Rn({x:o+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},_):a==="insideRight"?Rn({x:o+c-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},_):a==="insideTop"?Rn({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},_):a==="insideBottom"?Rn({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},_):a==="insideTopLeft"?Rn({x:o+v,y:l+h,textAnchor:b,verticalAnchor:g},_):a==="insideTopRight"?Rn({x:o+c-v,y:l+h,textAnchor:y,verticalAnchor:g},_):a==="insideBottomLeft"?Rn({x:o+v,y:l+u-h,textAnchor:b,verticalAnchor:p},_):a==="insideBottomRight"?Rn({x:o+c-v,y:l+u-h,textAnchor:y,verticalAnchor:p},_):id(a)&&(_e(a.x)||J0(a.x))&&(_e(a.y)||J0(a.y))?Rn({x:o+Al(a.x,c),y:l+Al(a.y,u),textAnchor:"end",verticalAnchor:"end"},_):Rn({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},_)},l7e=function(e){return"cx"in e&&_e(e.cx)};function vr(t){var e=t.offset,n=e===void 0?5:e,r=Jve(t,Hve),i=Rn({offset:n},r),a=i.viewBox,s=i.position,o=i.value,l=i.children,c=i.content,u=i.className,d=u===void 0?"":u,h=i.textBreakAll;if(!a||mt(o)&&mt(l)&&!I.isValidElement(c)&&!at(c))return null;if(I.isValidElement(c))return I.cloneElement(c,i);var p;if(at(c)){if(p=I.createElement(c,i),I.isValidElement(p))return p}else p=r7e(i);var g=l7e(a),x=ut(i,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return a7e(i,p,x);var v=g?s7e(i):o7e(i);return V.createElement(_1,np({className:St("recharts-label",d)},x,v,{breakAll:h}),p)}vr.displayName="Label";var NU=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,d=e.x,h=e.y,p=e.top,g=e.left,x=e.width,v=e.height,y=e.clockWise,b=e.labelViewBox;if(b)return b;if(_e(x)&&_e(v)){if(_e(d)&&_e(h))return{x:d,y:h,width:x,height:v};if(_e(p)&&_e(g))return{x:p,y:g,width:x,height:v}}return _e(d)&&_e(h)?{x:d,y:h,width:0,height:0}:_e(n)&&_e(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:y}:e.viewBox?e.viewBox:{}},c7e=function(e,n){return e?e===!0?V.createElement(vr,{key:"label-implicit",viewBox:n}):Fn(e)?V.createElement(vr,{key:"label-implicit",viewBox:n,value:e}):I.isValidElement(e)?e.type===vr?I.cloneElement(e,{key:"label-implicit",viewBox:n}):V.createElement(vr,{key:"label-implicit",content:e,viewBox:n}):at(e)?V.createElement(vr,{key:"label-implicit",content:e,viewBox:n}):id(e)?V.createElement(vr,np({viewBox:n},e,{key:"label-implicit"})):null:null},u7e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=NU(e),s=Sa(i,vr).map(function(l,c){return I.cloneElement(l,{viewBox:n||a,key:"label-".concat(c)})});if(!r)return s;var o=c7e(e.label,n||a);return[o].concat(Gve(s))};vr.parseViewBox=NU;vr.renderCallByParent=u7e;function d7e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var f7e=d7e;const h7e=Ut(f7e);function rp(t){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rp(t)}var p7e=["valueAccessor"],m7e=["data","dataKey","clockWise","id","textBreakAll"];function g7e(t){return b7e(t)||x7e(t)||v7e(t)||y7e()}function y7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v7e(t,e){if(t){if(typeof t=="string")return f8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f8(t,e)}}function x7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function b7e(t){if(Array.isArray(t))return f8(t)}function f8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function L1(){return L1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L1.apply(this,arguments)}function BA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BA(Object(n),!0).forEach(function(r){w7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w7e(t,e,n){return e=_7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _7e(t){var e=S7e(t,"string");return rp(e)=="symbol"?e:e+""}function S7e(t,e){if(rp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WA(t,e){if(t==null)return{};var n=k7e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function k7e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var E7e=function(e){return Array.isArray(e.value)?h7e(e.value):e.value};function e0(t){var e=t.valueAccessor,n=e===void 0?E7e:e,r=WA(t,p7e),i=r.data,a=r.dataKey,s=r.clockWise,o=r.id,l=r.textBreakAll,c=WA(r,m7e);return!i||!i.length?null:V.createElement(an,{className:"recharts-label-list"},i.map(function(u,d){var h=mt(a)?n(u,d):_i(u&&u.payload,a),p=mt(o)?{}:{id:"".concat(o,"-").concat(d)};return V.createElement(vr,L1({},ut(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:vr.parseViewBox(mt(s)?u:zA(zA({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}e0.displayName="LabelList";function N7e(t,e){return t?t===!0?V.createElement(e0,{key:"labelList-implicit",data:e}):V.isValidElement(t)||at(t)?V.createElement(e0,{key:"labelList-implicit",data:e,content:t}):id(t)?V.createElement(e0,L1({data:e},t,{key:"labelList-implicit"})):null:null}function T7e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Sa(r,e0).map(function(s,o){return I.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var a=N7e(t.label,e);return[a].concat(g7e(i))}e0.renderCallByParent=T7e;function ip(t){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ip(t)}function h8(){return h8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h8.apply(this,arguments)}function qA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qA(Object(n),!0).forEach(function(r){P7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P7e(t,e,n){return e=A7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A7e(t){var e=I7e(t,"string");return ip(e)=="symbol"?e:e+""}function I7e(t,e){if(ip(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ip(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C7e=function(e,n){var r=ha(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},u3=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(o?1:-1)+i,d=Math.asin(l/u)/$1,h=c?a:a+s*d,p=ir(n,r,u,h),g=ir(n,r,i,h),x=c?a-s*d:a,v=ir(n,r,u*Math.cos(d*$1),x);return{center:p,circleTangency:g,lineTangency:v,theta:d}},TU=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=C7e(s,o),c=s+l,u=ir(n,r,a,s),d=ir(n,r,a,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var p=ir(n,r,i,s),g=ir(n,r,i,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},O7e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,d=ha(u-c),h=u3({cx:n,cy:r,radius:a,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,x=h.theta,v=u3({cx:n,cy:r,radius:a,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),y=v.circleTangency,b=v.lineTangency,w=v.theta,k=l?Math.abs(c-u):Math.abs(c-u)-x-w;if(k<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):TU({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var E="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(k>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var S=u3({cx:n,cy:r,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),_=S.circleTangency,N=S.lineTangency,P=S.theta,A=u3({cx:n,cy:r,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),C=A.circleTangency,O=A.lineTangency,j=A.theta,R=l?Math.abs(c-u):Math.abs(c-u)-P-j;if(R<0&&s===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(d>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},j7e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},PU=function(e){var n=HA(HA({},j7e),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,h=n.className;if(s<a||u===d)return null;var p=St("recharts-sector",h),g=s-a,x=Al(o,g,0,!0),v;return x>0&&Math.abs(u-d)<360?v=O7e({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(x,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):v=TU({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d}),V.createElement("path",h8({},ut(n,!0),{className:p,d:v,role:"img"}))};function ap(t){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ap(t)}function p8(){return p8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p8.apply(this,arguments)}function GA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GA(Object(n),!0).forEach(function(r){M7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M7e(t,e,n){return e=D7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D7e(t){var e=R7e(t,"string");return ap(e)=="symbol"?e:e+""}function R7e(t,e){if(ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YA={curveBasisClosed:Oue,curveBasisOpen:jue,curveBasis:Cue,curveBumpX:yue,curveBumpY:vue,curveLinearClosed:Mue,curveLinear:a5,curveMonotoneX:Due,curveMonotoneY:Rue,curveNatural:$ue,curveStep:Lue,curveStepAfter:Vue,curveStepBefore:Fue},d3=function(e){return e.x===+e.x&&e.y===+e.y},Kd=function(e){return e.x},Yd=function(e){return e.y},$7e=function(e,n){if(at(e))return e;var r="curve".concat(r5(e));return(r==="curveMonotone"||r==="curveBump")&&n?YA["".concat(r).concat(n==="vertical"?"Y":"X")]:YA[r]||a5},L7e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=$7e(r,o),d=c?a.filter(function(x){return d3(x)}):a,h;if(Array.isArray(s)){var p=c?s.filter(function(x){return d3(x)}):s,g=d.map(function(x,v){return KA(KA({},x),{},{base:p[v]})});return o==="vertical"?h=t3().y(Yd).x1(Kd).x0(function(x){return x.base.x}):h=t3().x(Kd).y1(Yd).y0(function(x){return x.base.y}),h.defined(d3).curve(u),h(g)}return o==="vertical"&&_e(s)?h=t3().y(Yd).x1(Kd).x0(s):_e(s)?h=t3().x(Kd).y1(Yd).y0(s):h=PF().x(Kd).y(Yd),h.defined(d3).curve(u),h(d)},Jf=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?L7e(e):i;return I.createElement("path",p8({},ut(e,!1),o1(e),{className:St("recharts-curve",n),d:s,ref:a}))},AU={exports:{}},F7e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",V7e=F7e,U7e=V7e;function IU(){}function CU(){}CU.resetWarningCache=IU;var B7e=function(){function t(r,i,a,s,o,l){if(l!==U7e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:CU,resetWarningCache:IU};return n.PropTypes=n,n};AU.exports=B7e();var z7e=AU.exports;const he=Ut(z7e),{getOwnPropertyNames:W7e,getOwnPropertySymbols:q7e}=Object,{hasOwnProperty:H7e}=Object.prototype;function xy(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function f3(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,s=a.get(n),o=a.get(r);if(s&&o)return s===r&&o===n;a.set(n,r),a.set(r,n);const l=t(n,r,i);return a.delete(n),a.delete(r),l}}function G7e(t){return t!=null?t[Symbol.toStringTag]:void 0}function QA(t){return W7e(t).concat(q7e(t))}const K7e=Object.hasOwn||((t,e)=>H7e.call(t,e));function ec(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Y7e="__v",Q7e="__o",X7e="_owner",{getOwnPropertyDescriptor:XA,keys:JA}=Object;function J7e(t,e){return t.byteLength===e.byteLength&&F1(new Uint8Array(t),new Uint8Array(e))}function Z7e(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function e8e(t,e){return t.byteLength===e.byteLength&&F1(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function t8e(t,e){return ec(t.getTime(),e.getTime())}function n8e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function r8e(t,e){return t===e}function ZA(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let s,o,l=0;for(;(s=a.next())&&!s.done;){const c=e.entries();let u=!1,d=0;for(;(o=c.next())&&!o.done;){if(i[d]){d++;continue}const h=s.value,p=o.value;if(n.equals(h[0],p[0],l,d,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}const i8e=ec;function a8e(t,e,n){const r=JA(t);let i=r.length;if(JA(e).length!==i)return!1;for(;i-- >0;)if(!OU(t,e,n,r[i]))return!1;return!0}function Qd(t,e,n){const r=QA(t);let i=r.length;if(QA(e).length!==i)return!1;let a,s,o;for(;i-- >0;)if(a=r[i],!OU(t,e,n,a)||(s=XA(t,a),o=XA(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function s8e(t,e){return ec(t.valueOf(),e.valueOf())}function o8e(t,e){return t.source===e.source&&t.flags===e.flags}function eI(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let s,o;for(;(s=a.next())&&!s.done;){const l=e.values();let c=!1,u=0;for(;(o=l.next())&&!o.done;){if(!i[u]&&n.equals(s.value,o.value,s.value,o.value,t,e,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function F1(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function l8e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function OU(t,e,n,r){return(r===X7e||r===Q7e||r===Y7e)&&(t.$$typeof||e.$$typeof)?!0:K7e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const c8e="[object ArrayBuffer]",u8e="[object Arguments]",d8e="[object Boolean]",f8e="[object DataView]",h8e="[object Date]",p8e="[object Error]",m8e="[object Map]",g8e="[object Number]",y8e="[object Object]",v8e="[object RegExp]",x8e="[object Set]",b8e="[object String]",w8e={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},_8e="[object URL]",S8e=Object.prototype.toString;function k8e({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:o,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:g}){return function(v,y,b){if(v===y)return!0;if(v==null||y==null)return!1;const w=typeof v;if(w!==typeof y)return!1;if(w!=="object")return w==="number"?o(v,y,b):w==="function"?a(v,y,b):!1;const k=v.constructor;if(k!==y.constructor)return!1;if(k===Object)return l(v,y,b);if(Array.isArray(v))return e(v,y,b);if(k===Date)return r(v,y,b);if(k===RegExp)return u(v,y,b);if(k===Map)return s(v,y,b);if(k===Set)return d(v,y,b);const E=S8e.call(v);if(E===h8e)return r(v,y,b);if(E===v8e)return u(v,y,b);if(E===m8e)return s(v,y,b);if(E===x8e)return d(v,y,b);if(E===y8e)return typeof v.then!="function"&&typeof y.then!="function"&&l(v,y,b);if(E===_8e)return p(v,y,b);if(E===p8e)return i(v,y,b);if(E===u8e)return l(v,y,b);if(w8e[E])return h(v,y,b);if(E===c8e)return t(v,y,b);if(E===f8e)return n(v,y,b);if(E===d8e||E===g8e||E===b8e)return c(v,y,b);if(g){let S=g[E];if(!S){const _=G7e(v);_&&(S=g[_])}if(S)return S(v,y,b)}return!1}}function E8e({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:J7e,areArraysEqual:n?Qd:Z7e,areDataViewsEqual:e8e,areDatesEqual:t8e,areErrorsEqual:n8e,areFunctionsEqual:r8e,areMapsEqual:n?xy(ZA,Qd):ZA,areNumbersEqual:i8e,areObjectsEqual:n?Qd:a8e,arePrimitiveWrappersEqual:s8e,areRegExpsEqual:o8e,areSetsEqual:n?xy(eI,Qd):eI,areTypedArraysEqual:n?xy(F1,Qd):F1,areUrlsEqual:l8e,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=f3(r.areArraysEqual),a=f3(r.areMapsEqual),s=f3(r.areObjectsEqual),o=f3(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:o})}return r}function N8e(t){return function(e,n,r,i,a,s,o){return t(e,n,o)}}function T8e({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(o,l){const{cache:c=t?new WeakMap:void 0,meta:u}=n();return e(o,l,{cache:c,equals:r,meta:u,strict:i})};if(t)return function(o,l){return e(o,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(o,l){return e(o,l,a)}}const P8e=N0();N0({strict:!0});N0({circular:!0});N0({circular:!0,strict:!0});N0({createInternalComparator:()=>ec});N0({strict:!0,createInternalComparator:()=>ec});N0({circular:!0,createInternalComparator:()=>ec});N0({circular:!0,createInternalComparator:()=>ec,strict:!0});function N0(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=E8e(t),s=k8e(a),o=n?n(s):N8e(s);return T8e({circular:e,comparator:s,createState:r,equals:o,strict:i})}function A8e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function tI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):A8e(i)};requestAnimationFrame(r)}function m8(t){"@babel/helpers - typeof";return m8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m8(t)}function I8e(t){return M8e(t)||j8e(t)||O8e(t)||C8e()}function C8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O8e(t,e){if(t){if(typeof t=="string")return nI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nI(t,e)}}function nI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function j8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function M8e(t){if(Array.isArray(t))return t}function D8e(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,o=I8e(s),l=o[0],c=o.slice(1);if(typeof l=="number"){tI(i.bind(null,c),l);return}i(l),tI(i.bind(null,c));return}m8(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function sp(t){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sp(t)}function rI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rI(Object(n),!0).forEach(function(r){jU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jU(t,e,n){return e=R8e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R8e(t){var e=$8e(t,"string");return sp(e)==="symbol"?e:String(e)}function $8e(t,e){if(sp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L8e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},F8e=function(e){return e},V8e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Zf=function(e,n){return Object.keys(n).reduce(function(r,i){return iI(iI({},r),{},jU({},i,e(i,n[i])))},{})},aI=function(e,n,r){return e.map(function(i){return"".concat(V8e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function U8e(t,e){return W8e(t)||z8e(t,e)||MU(t,e)||B8e()}function B8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z8e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function W8e(t){if(Array.isArray(t))return t}function q8e(t){return K8e(t)||G8e(t)||MU(t)||H8e()}function H8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MU(t,e){if(t){if(typeof t=="string")return g8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g8(t,e)}}function G8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function K8e(t){if(Array.isArray(t))return g8(t)}function g8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var V1=1e-4,DU=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},RU=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},sI=function(e,n){return function(r){var i=DU(e,n);return RU(i,r)}},Y8e=function(e,n){return function(r){var i=DU(e,n),a=[].concat(q8e(i.map(function(s,o){return s*o}).slice(1)),[0]);return RU(a,r)}},oI=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=U8e(c,4);i=u[0],a=u[1],s=u[2],o=u[3]}}}var d=sI(i,s),h=sI(a,o),p=Y8e(i,s),g=function(y){return y>1?1:y<0?0:y},x=function(y){for(var b=y>1?1:y,w=b,k=0;k<8;++k){var E=d(w)-b,S=p(w);if(Math.abs(E-b)<V1||S<V1)return h(w);w=g(w-E/S)}return h(w)};return x.isStepper=!1,x},Q8e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(u,d,h){var p=-(u-d)*r,g=h*a,x=h+(p-g)*o/1e3,v=h*o/1e3+u;return Math.abs(v-d)<V1&&Math.abs(x)<V1?[d,0]:[v,x]};return l.isStepper=!0,l.dt=o,l},X8e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return oI(i);case"spring":return Q8e();default:if(i.split("(")[0]==="cubic-bezier")return oI(i)}return typeof i=="function"?i:null};function op(t){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},op(t)}function lI(t){return e9e(t)||Z8e(t)||$U(t)||J8e()}function J8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function e9e(t){if(Array.isArray(t))return v8(t)}function cI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cI(Object(n),!0).forEach(function(r){y8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y8(t,e,n){return e=t9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t9e(t){var e=n9e(t,"string");return op(e)==="symbol"?e:String(e)}function n9e(t,e){if(op(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(op(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r9e(t,e){return s9e(t)||a9e(t,e)||$U(t,e)||i9e()}function i9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $U(t,e){if(t){if(typeof t=="string")return v8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v8(t,e)}}function v8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a9e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function s9e(t){if(Array.isArray(t))return t}var U1=function(e,n,r){return e+(n-e)*r},x8=function(e){var n=e.from,r=e.to;return n!==r},o9e=function t(e,n,r){var i=Zf(function(a,s){if(x8(s)){var o=e(s.from,s.to,s.velocity),l=r9e(o,2),c=l[0],u=l[1];return Jn(Jn({},s),{},{from:c,velocity:u})}return s},n);return r<1?Zf(function(a,s){return x8(s)?Jn(Jn({},s),{},{velocity:U1(s.velocity,i[a].velocity,r),from:U1(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const l9e=function(t,e,n,r,i){var a=L8e(t,e),s=a.reduce(function(v,y){return Jn(Jn({},v),{},y8({},y,[t[y],e[y]]))},{}),o=a.reduce(function(v,y){return Jn(Jn({},v),{},y8({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,c,u,d=function(){return null},h=function(){return Zf(function(y,b){return b.from},o)},p=function(){return!Object.values(o).filter(x8).length},g=function(y){c||(c=y);var b=y-c,w=b/n.dt;o=o9e(n,o,w),i(Jn(Jn(Jn({},t),e),h())),c=y,p()||(l=requestAnimationFrame(d))},x=function(y){u||(u=y);var b=(y-u)/r,w=Zf(function(E,S){return U1.apply(void 0,lI(S).concat([n(b)]))},s);if(i(Jn(Jn(Jn({},t),e),w)),b<1)l=requestAnimationFrame(d);else{var k=Zf(function(E,S){return U1.apply(void 0,lI(S).concat([n(1)]))},s);i(Jn(Jn(Jn({},t),e),k))}};return d=n.isStepper?g:x,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}var c9e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function u9e(t,e){if(t==null)return{};var n=d9e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function d9e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function by(t){return m9e(t)||p9e(t)||h9e(t)||f9e()}function f9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h9e(t,e){if(t){if(typeof t=="string")return b8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b8(t,e)}}function p9e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function m9e(t){if(Array.isArray(t))return b8(t)}function b8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ra(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(n),!0).forEach(function(r){pf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pf(t,e,n){return e=LU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y9e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LU(r.key),r)}}function v9e(t,e,n){return e&&y9e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LU(t){var e=x9e(t,"string");return Tu(e)==="symbol"?e:String(e)}function x9e(t,e){if(Tu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w8(t,e)}function w8(t,e){return w8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},w8(t,e)}function w9e(t){var e=_9e();return function(){var r=B1(t),i;if(e){var a=B1(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return _8(this,i)}}function _8(t,e){if(e&&(Tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S8(t)}function S8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function B1(t){return B1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},B1(t)}var Qs=function(t){b9e(n,t);var e=w9e(n);function n(r,i){var a;g9e(this,n),a=e.call(this,r,i);var s=a.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,d=s.steps,h=s.children,p=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(S8(a)),a.changeStyle=a.changeStyle.bind(S8(a)),!o||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:u}),_8(a);if(d&&d.length)a.state={style:d[0].style};else if(c){if(typeof h=="function")return a.state={style:c},_8(a);a.state={style:l?pf({},l,c):c}}else a.state={style:{}};return a}return v9e(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,d=a.from,h=this.state.style;if(o){if(!s){var p={style:l?pf({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(P8e(i.to,u)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=g||c?d:i.to;if(this.state&&h){var v={style:l?pf({},l,x):x};(l&&h[l]!==x||!l&&h!==x)&&this.setState(v)}this.runAnimation(ra(ra({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,c=i.easing,u=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,p=l9e(s,o,X8e(c),l,this.changeStyle),g=function(){a.stopJSAnimation=p()};this.manager.start([h,u,g,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,c=s[0],u=c.style,d=c.duration,h=d===void 0?0:d,p=function(x,v,y){if(y===0)return x;var b=v.duration,w=v.easing,k=w===void 0?"ease":w,E=v.style,S=v.properties,_=v.onAnimationEnd,N=y>0?s[y-1]:v,P=S||Object.keys(E);if(typeof k=="function"||k==="spring")return[].concat(by(x),[a.runJSAnimation.bind(a,{from:N.style,to:E,duration:b,easing:k}),b]);var A=aI(P,b,k),C=ra(ra(ra({},N.style),E),{},{transition:A});return[].concat(by(x),[C,b,_]).filter(F8e)};return this.manager.start([l].concat(by(s.reduce(p,[u,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=D8e());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var x=o?pf({},o,l):l,v=aI(Object.keys(x),s,c);g.start([u,a,ra(ra({},x),{},{transition:v}),s,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=u9e(i,c9e),c=I.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!o||c===0||s<=0)return a;var d=function(p){var g=p.props,x=g.style,v=x===void 0?{}:x,y=g.className,b=I.cloneElement(p,ra(ra({},l),{},{style:ra(ra({},v),u),className:y}));return b};return c===1?d(I.Children.only(a)):V.createElement("div",null,I.Children.map(a,function(h){return d(h)}))}}]),n}(I.PureComponent);Qs.displayName="Animate";Qs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Qs.propTypes={from:he.oneOfType([he.object,he.string]),to:he.oneOfType([he.object,he.string]),attributeName:he.string,duration:he.number,begin:he.number,easing:he.oneOfType([he.string,he.func]),steps:he.arrayOf(he.shape({duration:he.number.isRequired,style:he.object.isRequired,easing:he.oneOfType([he.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),he.func]),properties:he.arrayOf("string"),onAnimationEnd:he.func})),children:he.oneOfType([he.node,he.func]),isActive:he.bool,canBegin:he.bool,onAnimationEnd:he.func,shouldReAnimate:he.bool,onAnimationStart:he.func,onAnimationReStart:he.func};function lp(t){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lp(t)}function z1(){return z1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z1.apply(this,arguments)}function S9e(t,e){return T9e(t)||N9e(t,e)||E9e(t,e)||k9e()}function k9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E9e(t,e){if(t){if(typeof t=="string")return dI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dI(t,e)}}function dI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function N9e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function T9e(t){if(Array.isArray(t))return t}function fI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fI(Object(n),!0).forEach(function(r){P9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P9e(t,e,n){return e=A9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A9e(t){var e=I9e(t,"string");return lp(e)=="symbol"?e:e+""}function I9e(t,e){if(lp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pI=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=a[h]>s?s:a[h];u="M".concat(e,",").concat(n+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(n)),u+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+o*d[1])),u+="L ".concat(e+r,",").concat(n+i-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),u+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-o*d[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var g=Math.min(s,a);u="M ".concat(e,",").concat(n+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r,",").concat(n+o*g,`
            L `).concat(e+r,",").concat(n+i-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e,",").concat(n+i-o*g," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},C9e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(a,a+o),u=Math.max(a,a+o),d=Math.min(s,s+l),h=Math.max(s,s+l);return r>=c&&r<=u&&i>=d&&i<=h}return!1},O9e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Xw=function(e){var n=hI(hI({},O9e),e),r=I.useRef(),i=I.useState(-1),a=S9e(i,2),s=a[0],o=a[1];I.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&o(k)}catch{}},[]);var l=n.x,c=n.y,u=n.width,d=n.height,h=n.radius,p=n.className,g=n.animationEasing,x=n.animationDuration,v=n.animationBegin,y=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var w=St("recharts-rectangle",p);return b?V.createElement(Qs,{canBegin:s>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:x,animationEasing:g,isActive:b},function(k){var E=k.width,S=k.height,_=k.x,N=k.y;return V.createElement(Qs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:x,isActive:y,easing:g},V.createElement("path",z1({},ut(n,!0),{className:w,d:pI(_,N,E,S,h),ref:r})))}):V.createElement("path",z1({},ut(n,!0),{className:w,d:pI(l,c,u,d,h)}))};function k8(){return k8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k8.apply(this,arguments)}var Jw=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=St("recharts-dot",a);return n===+n&&r===+r&&i===+i?I.createElement("circle",k8({},ut(e,!1),o1(e),{className:s,cx:n,cy:r,r:i})):null};function cp(t){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cp(t)}var j9e=["x","y","top","left","width","height","className"];function E8(){return E8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E8.apply(this,arguments)}function mI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M9e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mI(Object(n),!0).forEach(function(r){D9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D9e(t,e,n){return e=R9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R9e(t){var e=$9e(t,"string");return cp(e)=="symbol"?e:e+""}function $9e(t,e){if(cp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L9e(t,e){if(t==null)return{};var n=F9e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function F9e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var V9e=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},U9e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,c=l===void 0?0:l,u=e.width,d=u===void 0?0:u,h=e.height,p=h===void 0?0:h,g=e.className,x=L9e(e,j9e),v=M9e({x:r,y:a,top:o,left:c,width:d,height:p},x);return!_e(r)||!_e(a)||!_e(d)||!_e(p)||!_e(o)||!_e(c)?null:V.createElement("path",E8({},ut(v,!0),{className:St("recharts-cross",g),d:V9e(r,a,d,p,o,c)}))},B9e=JF,z9e=B9e(Object.getPrototypeOf,Object),W9e=z9e,q9e=ro,H9e=W9e,G9e=io,K9e="[object Object]",Y9e=Function.prototype,Q9e=Object.prototype,FU=Y9e.toString,X9e=Q9e.hasOwnProperty,J9e=FU.call(Object);function Z9e(t){if(!G9e(t)||q9e(t)!=K9e)return!1;var e=H9e(t);if(e===null)return!0;var n=X9e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&FU.call(n)==J9e}var exe=Z9e;const txe=Ut(exe);var nxe=ro,rxe=io,ixe="[object Boolean]";function axe(t){return t===!0||t===!1||rxe(t)&&nxe(t)==ixe}var sxe=axe;const oxe=Ut(sxe);function up(t){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},up(t)}function W1(){return W1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W1.apply(this,arguments)}function lxe(t,e){return fxe(t)||dxe(t,e)||uxe(t,e)||cxe()}function cxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uxe(t,e){if(t){if(typeof t=="string")return gI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gI(t,e)}}function gI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function fxe(t){if(Array.isArray(t))return t}function yI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yI(Object(n),!0).forEach(function(r){hxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hxe(t,e,n){return e=pxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pxe(t){var e=mxe(t,"string");return up(e)=="symbol"?e:e+""}function mxe(t,e){if(up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xI=function(e,n,r,i,a){var s=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-s/2,",").concat(n+a),o+="L ".concat(e+r-s/2-i,",").concat(n+a),o+="L ".concat(e,",").concat(n," Z"),o},gxe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yxe=function(e){var n=vI(vI({},gxe),e),r=I.useRef(),i=I.useState(-1),a=lxe(i,2),s=a[0],o=a[1];I.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&o(w)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,d=n.lowerWidth,h=n.height,p=n.className,g=n.animationEasing,x=n.animationDuration,v=n.animationBegin,y=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||h!==+h||u===0&&d===0||h===0)return null;var b=St("recharts-trapezoid",p);return y?V.createElement(Qs,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:h,x:l,y:c},duration:x,animationEasing:g,isActive:y},function(w){var k=w.upperWidth,E=w.lowerWidth,S=w.height,_=w.x,N=w.y;return V.createElement(Qs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:x,easing:g},V.createElement("path",W1({},ut(n,!0),{className:b,d:xI(_,N,k,E,S),ref:r})))}):V.createElement("g",null,V.createElement("path",W1({},ut(n,!0),{className:b,d:xI(l,c,u,d,h)})))},vxe=["option","shapeType","propTransformer","activeClassName","isActive"];function dp(t){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(t)}function xxe(t,e){if(t==null)return{};var n=bxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(r){wxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wxe(t,e,n){return e=_xe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _xe(t){var e=Sxe(t,"string");return dp(e)=="symbol"?e:e+""}function Sxe(t,e){if(dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kxe(t,e){return q1(q1({},e),t)}function Exe(t,e){return t==="symbols"}function wI(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return V.createElement(Xw,n);case"trapezoid":return V.createElement(yxe,n);case"sector":return V.createElement(PU,n);case"symbols":if(Exe(e))return V.createElement(gw,n);break;default:return null}}function Nxe(t){return I.isValidElement(t)?t.props:t}function Txe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?kxe:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=xxe(t,vxe),c;if(I.isValidElement(e))c=I.cloneElement(e,q1(q1({},l),Nxe(e)));else if(at(e))c=e(l);else if(txe(e)&&!oxe(e)){var u=i(e,l);c=V.createElement(wI,{shapeType:n,elementProps:u})}else{var d=l;c=V.createElement(wI,{shapeType:n,elementProps:d})}return o?V.createElement(an,{className:s},c):c}function b5(t,e){return e!=null&&"trapezoids"in t.props}function w5(t,e){return e!=null&&"sectors"in t.props}function fp(t,e){return e!=null&&"points"in t.props}function Pxe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function Axe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Ixe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Cxe(t,e){var n;return b5(t,e)?n=Pxe:w5(t,e)?n=Axe:fp(t,e)&&(n=Ixe),n}function Oxe(t,e){var n;return b5(t,e)?n="trapezoids":w5(t,e)?n="sectors":fp(t,e)&&(n="points"),n}function jxe(t,e){if(b5(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(w5(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return fp(t,e)?e.payload:{}}function Mxe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Oxe(n,e),a=jxe(n,e),s=r.filter(function(l,c){var u=Yh(a,l),d=n.props[i].filter(function(g){var x=Cxe(n,e);return x(g,e)}),h=n.props[i].indexOf(d[d.length-1]),p=c===h;return u&&p}),o=r.indexOf(s[s.length-1]);return o}var Dxe=Math.ceil,Rxe=Math.max;function $xe(t,e,n,r){for(var i=-1,a=Rxe(Dxe((e-t)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=t,t+=n;return s}var Lxe=$xe,Fxe=yV,_I=1/0,Vxe=17976931348623157e292;function Uxe(t){if(!t)return t===0?t:0;if(t=Fxe(t),t===_I||t===-_I){var e=t<0?-1:1;return e*Vxe}return t===t?t:0}var VU=Uxe,Bxe=Lxe,zxe=c5,wy=VU;function Wxe(t){return function(e,n,r){return r&&typeof r!="number"&&zxe(e,n,r)&&(n=r=void 0),e=wy(e),n===void 0?(n=e,e=0):n=wy(n),r=r===void 0?e<n?1:-1:wy(r),Bxe(e,n,r,t)}}var qxe=Wxe,Hxe=qxe,Gxe=Hxe(),Kxe=Gxe;const H1=Ut(Kxe);function hp(t){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp(t)}function SI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(n),!0).forEach(function(r){UU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UU(t,e,n){return e=Yxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yxe(t){var e=Qxe(t,"string");return hp(e)=="symbol"?e:e+""}function Qxe(t,e){if(hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xxe=["Webkit","Moz","O","ms"],Jxe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Xxe.reduce(function(a,s){return kI(kI({},a),{},UU({},s+r,n))},{});return i[e]=n,i};function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}function G1(){return G1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G1.apply(this,arguments)}function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){si(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zU(r.key),r)}}function ebe(t,e,n){return e&&NI(t.prototype,e),n&&NI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tbe(t,e,n){return e=K1(e),nbe(t,BU()?Reflect.construct(e,n||[],K1(t).constructor):e.apply(t,n))}function nbe(t,e){if(e&&(Pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rbe(t)}function rbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BU=function(){return!!t})()}function K1(t){return K1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},K1(t)}function ibe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N8(t,e)}function N8(t,e){return N8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N8(t,e)}function si(t,e,n){return e=zU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zU(t){var e=abe(t,"string");return Pu(e)=="symbol"?e:e+""}function abe(t,e){if(Pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sbe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=Qf().domain(H1(0,l)).range([a,a+s-o]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},TI=function(e){return e.changedTouches&&!!e.changedTouches.length},Au=function(t){function e(n){var r;return Zxe(this,e),r=tbe(this,e,[n]),si(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),si(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),si(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),r.detachDragEndListener()}),si(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),si(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),si(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),si(r,"handleSlideDragStart",function(i){var a=TI(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return ibe(e,t),ebe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,d=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(s,d),g=e.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=_i(a[r],o,r);return at(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,x=r.pageX-a;x>0?x=Math.min(x,c+u-d-o,c+u-d-s):x<0&&(x=Math.max(x,c-s,c-o));var v=this.getIndex({startX:s+x,endX:o+x});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:s+x,endX:o+x,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=TI(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[s],u=this.props,d=u.x,h=u.width,p=u.travellerWidth,g=u.onChange,x=u.gap,v=u.data,y={startX:this.state.startX,endX:this.state.endX},b=r.pageX-a;b>0?b=Math.min(b,d+h-p-c):b<0&&(b=Math.max(b,d-c)),y[s]=c+b;var w=this.getIndex(y),k=w.startIndex,E=w.endIndex,S=function(){var N=v.length-1;return s==="startX"&&(o>l?k%x===0:E%x===0)||o<l&&E===N||s==="endX"&&(o>l?E%x===0:k%x===0)||o>l&&E===N};this.setState(si(si({},s,c+b),"brushMoveStartX",r.pageX),function(){g&&S()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[i],d=o.indexOf(u);if(d!==-1){var h=d+r;if(!(h===-1||h>=o.length)){var p=o[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(si({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.fill,c=r.stroke;return V.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.data,c=r.children,u=r.padding,d=I.Children.only(c);return d?V.cloneElement(d,{x:i,y:a,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,x=l.startIndex,v=l.endIndex,y=Math.max(r,this.props.x),b=_y(_y({},ut(this.props,!1)),{},{x:y,y:c,width:u,height:d}),w=p||"Min value: ".concat((a=g[x])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=g[v])===null||s===void 0?void 0:s.name);return V.createElement(an,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),o.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(r,i)+c,d=Math.max(Math.abs(i-r)-c,0);return V.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:d,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,d=u.startX,h=u.endX,p=5,g={pointerEvents:"none",fill:c};return V.createElement(an,{className:"recharts-brush-texts"},V.createElement(_1,G1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:s+o/2},g),this.getTextOfTick(i)),V.createElement(_1,G1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:s+o/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,o=r.x,l=r.y,c=r.width,u=r.height,d=r.alwaysShowText,h=this.state,p=h.startX,g=h.endX,x=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!_e(o)||!_e(l)||!_e(c)||!_e(u)||c<=0||u<=0)return null;var w=St("recharts-brush",a),k=V.Children.count(s)===1,E=Jxe("userSelect","none");return V.createElement(an,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(x||v||y||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,o=r.height,l=r.stroke,c=Math.floor(a+o/2)-1;return V.createElement(V.Fragment,null,V.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),V.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),V.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return V.isValidElement(r)?a=V.cloneElement(r,i):at(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,d=r.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return _y({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},a&&a.length?sbe({data:a,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);r[l]>i?o=l:s=l}return i>=r[o]?o:s}}])}(I.PureComponent);si(Au,"displayName","Brush");si(Au,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var obe=Sw;function lbe(t,e){var n;return obe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var cbe=lbe,ube=WF,dbe=S0,fbe=cbe,hbe=ni,pbe=c5;function mbe(t,e,n){var r=hbe(t)?ube:fbe;return n&&pbe(t,e,n)&&(e=void 0),r(t,dbe(e))}var gbe=mbe;const ybe=Ut(gbe);var is=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},PI=fV;function vbe(t,e,n){e=="__proto__"&&PI?PI(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var xbe=vbe,bbe=xbe,wbe=uV,_be=S0;function Sbe(t,e){var n={};return e=_be(e),wbe(t,function(r,i,a){bbe(n,i,e(r,i,a))}),n}var kbe=Sbe;const Ebe=Ut(kbe);function Nbe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Tbe=Nbe,Pbe=Sw;function Abe(t,e){var n=!0;return Pbe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var Ibe=Abe,Cbe=Tbe,Obe=Ibe,jbe=S0,Mbe=ni,Dbe=c5;function Rbe(t,e,n){var r=Mbe(t)?Cbe:Obe;return n&&Dbe(t,e,n)&&(e=void 0),r(t,jbe(e))}var $be=Rbe;const WU=Ut($be);var Lbe=["x","y"];function pp(t){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pp(t)}function T8(){return T8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T8.apply(this,arguments)}function AI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(n),!0).forEach(function(r){Fbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fbe(t,e,n){return e=Vbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vbe(t){var e=Ube(t,"string");return pp(e)=="symbol"?e:e+""}function Ube(t,e){if(pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bbe(t,e){if(t==null)return{};var n=zbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wbe(t,e){var n=t.x,r=t.y,i=Bbe(t,Lbe),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),u=parseInt(c,10),d="".concat(e.width||i.width),h=parseInt(d,10);return Xd(Xd(Xd(Xd(Xd({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function II(t){return V.createElement(Txe,T8({shapeType:"rectangle",propTransformer:Wbe,activeClassName:"recharts-active-bar"},t))}var qbe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=_e(r)||nce(r);return a?e(r,i):(a||Cl(),n)}},Hbe=["value","background"],qU;function Iu(t){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}function Gbe(t,e){if(t==null)return{};var n=Kbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Y1(){return Y1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y1.apply(this,arguments)}function CI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(n),!0).forEach(function(r){Do(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ybe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GU(r.key),r)}}function Qbe(t,e,n){return e&&OI(t.prototype,e),n&&OI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xbe(t,e,n){return e=Q1(e),Jbe(t,HU()?Reflect.construct(e,n||[],Q1(t).constructor):e.apply(t,n))}function Jbe(t,e){if(e&&(Iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zbe(t)}function Zbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HU=function(){return!!t})()}function Q1(t){return Q1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q1(t)}function ewe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P8(t,e)}function P8(t,e){return P8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P8(t,e)}function Do(t,e,n){return e=GU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GU(t){var e=twe(t,"string");return Iu(e)=="symbol"?e:e+""}function twe(t,e){if(Iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var i4=function(t){function e(){var n;Ybe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Xbe(this,e,[].concat(i)),Do(n,"state",{isAnimationFinished:!1}),Do(n,"id",Jp("recharts-bar-")),Do(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Do(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return ewe(e,t),Qbe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,c=a.activeBar,u=ut(this.props,!1);return r&&r.map(function(d,h){var p=h===l,g=p?c:s,x=Pn(Pn(Pn({},u),d),{},{isActive:p,option:g,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return V.createElement(an,Y1({className:"recharts-bar-rectangle"},l1(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),V.createElement(II,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state.prevData;return V.createElement(Qs,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,x=a.map(function(v,y){var b=h&&h[y];if(b){var w=Di(b.x,v.x),k=Di(b.y,v.y),E=Di(b.width,v.width),S=Di(b.height,v.height);return Pn(Pn({},v),{},{x:w(g),y:k(g),width:E(g),height:S(g)})}if(s==="horizontal"){var _=Di(0,v.height),N=_(g);return Pn(Pn({},v),{},{y:v.y+v.height-N,height:N})}var P=Di(0,v.width),A=P(g);return Pn(Pn({},v),{},{width:A})});return V.createElement(an,null,r.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Yh(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=ut(this.props.background,!1);return a.map(function(c,u){c.value;var d=c.background,h=Gbe(c,Hbe);if(!d)return null;var p=Pn(Pn(Pn(Pn(Pn({},h),{},{fill:"#eee"},d),l),l1(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return V.createElement(II,Y1({key:"background-bar-".concat(u),option:r.props.background,isActive:u===o},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,d=Sa(u,x5);if(!d)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(v,y){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:_i(v,y)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return V.createElement(an,g,d.map(function(x){return V.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,o=r.xAxis,l=r.yAxis,c=r.left,u=r.top,d=r.width,h=r.height,p=r.isAnimationActive,g=r.background,x=r.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,y=St("recharts-bar",s),b=o&&o.allowDataOverflow,w=l&&l.allowDataOverflow,k=b||w,E=mt(x)?this.id:x;return V.createElement(an,{className:y},b||w?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(E)},V.createElement("rect",{x:b?c:c-d/2,y:w?u:u-h/2,width:b?d:d*2,height:w?h:h*2}))):null,V.createElement(an,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(E,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,E),(!p||v)&&e0.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(I.PureComponent);qU=i4;Do(i4,"displayName","Bar");Do(i4,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!fd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Do(i4,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,h=t.offset,p=Tve(r,n);if(!p)return null;var g=e.layout,x=n.type.defaultProps,v=x!==void 0?Pn(Pn({},x),n.props):n.props,y=v.dataKey,b=v.children,w=v.minPointSize,k=g==="horizontal"?s:a,E=c?k.scale.domain():null,S=Dve({numericAxis:k}),_=Sa(b,xV),N=d.map(function(P,A){var C,O,j,R,D,$;c?C=Pve(c[u+A],E):(C=_i(P,y),Array.isArray(C)||(C=[S,C]));var U=qbe(w,qU.defaultProps.minPointSize)(C[1],A);if(g==="horizontal"){var F,B=[s.scale(C[0]),s.scale(C[1])],z=B[0],q=B[1];O=MA({axis:a,ticks:o,bandSize:i,offset:p.offset,entry:P,index:A}),j=(F=q??z)!==null&&F!==void 0?F:void 0,R=p.size;var G=z-q;if(D=Number.isNaN(G)?0:G,$={x:O,y:s.y,width:R,height:s.height},Math.abs(U)>0&&Math.abs(D)<Math.abs(U)){var te=ha(D||U)*(Math.abs(U)-Math.abs(D));j-=te,D+=te}}else{var de=[a.scale(C[0]),a.scale(C[1])],ye=de[0],J=de[1];if(O=ye,j=MA({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:P,index:A}),R=J-ye,D=p.size,$={x:a.x,y:j,width:a.width,height:D},Math.abs(U)>0&&Math.abs(R)<Math.abs(U)){var we=ha(R||U)*(Math.abs(U)-Math.abs(R));R+=we}}return Pn(Pn(Pn({},P),{},{x:O,y:j,width:R,height:D,value:c?C:C[1],payload:P,background:$},_&&_[A]&&_[A].props),{},{tooltipPayload:[EU(n,P)],tooltipPosition:{x:O+R/2,y:j+D/2}})});return Pn({data:N,layout:g},h)});function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}function nwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KU(r.key),r)}}function rwe(t,e,n){return e&&jI(t.prototype,e),n&&jI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function MI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MI(Object(n),!0).forEach(function(r){_5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _5(t,e,n){return e=KU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KU(t){var e=iwe(t,"string");return mp(e)=="symbol"?e:e+""}function iwe(t,e){if(mp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var awe=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.layout,c=e.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},h=!!li(c,i4);return u.reduce(function(p,g){var x=n[g],v=x.orientation,y=x.domain,b=x.padding,w=b===void 0?{}:b,k=x.mirror,E=x.reversed,S="".concat(v).concat(k?"Mirror":""),_,N,P,A,C;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var O=y[1]-y[0],j=1/0,R=x.categoricalDomain.sort(ace);if(R.forEach(function(de,ye){ye>0&&(j=Math.min((de||0)-(R[ye-1]||0),j))}),Number.isFinite(j)){var D=j/O,$=x.layout==="vertical"?r.height:r.width;if(x.padding==="gap"&&(_=D*$/2),x.padding==="no-gap"){var U=Al(e.barCategoryGap,D*$),F=D*$/2;_=F-U-(F-U)/$*U}}}i==="xAxis"?N=[r.left+(w.left||0)+(_||0),r.left+r.width-(w.right||0)-(_||0)]:i==="yAxis"?N=l==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(_||0),r.top+r.height-(w.bottom||0)-(_||0)]:N=x.range,E&&(N=[N[1],N[0]]);var B=Eve(x,a,h),z=B.scale,q=B.realScaleType;z.domain(y).range(N),Nve(z);var G=Mve(z,oa(oa({},x),{},{realScaleType:q}));i==="xAxis"?(C=v==="top"&&!k||v==="bottom"&&k,P=r.left,A=d[S]-C*x.height):i==="yAxis"&&(C=v==="left"&&!k||v==="right"&&k,P=d[S]-C*x.width,A=r.top);var te=oa(oa(oa({},x),G),{},{realScaleType:q,x:P,y:A,scale:z,width:i==="xAxis"?r.width:x.width,height:i==="yAxis"?r.height:x.height});return te.bandSize=R1(te,G),!x.hide&&i==="xAxis"?d[S]+=(C?-1:1)*te.height:x.hide||(d[S]+=(C?-1:1)*te.width),oa(oa({},p),{},_5({},g,te))},{})},YU=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},swe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return YU({x:n,y:r},{x:i,y:a})},QU=function(){function t(e){nwe(this,t),this.scale=e}return rwe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();_5(QU,"EPS",1e-4);var Zw=function(e){var n=Object.keys(e).reduce(function(r,i){return oa(oa({},r),{},_5({},i,QU.create(e[i])))},{});return oa(oa({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return Ebe(i,function(l,c){return n[c].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return WU(i,function(a,s){return n[s].isInRange(a)})}})};function owe(t){return(t%180+180)%180}var lwe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=owe(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},cwe=S0,uwe=Zp,dwe=o5;function fwe(t){return function(e,n,r){var i=Object(e);if(!uwe(e)){var a=cwe(n);e=dwe(e),n=function(o){return a(i[o],o,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:void 0}}var hwe=fwe,pwe=VU;function mwe(t){var e=pwe(t),n=e%1;return e===e?n?e-n:e:0}var gwe=mwe,ywe=iV,vwe=S0,xwe=gwe,bwe=Math.max;function wwe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:xwe(n);return i<0&&(i=bwe(r+i,0)),ywe(t,vwe(e),i)}var _we=wwe,Swe=hwe,kwe=_we,Ewe=Swe(kwe),Nwe=Ewe;const Twe=Ut(Nwe);var Pwe=lle(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),e_=I.createContext(void 0),t_=I.createContext(void 0),XU=I.createContext(void 0),JU=I.createContext({}),ZU=I.createContext(void 0),eB=I.createContext(0),tB=I.createContext(0),DI=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,o=e.children,l=e.width,c=e.height,u=Pwe(a);return V.createElement(e_.Provider,{value:r},V.createElement(t_.Provider,{value:i},V.createElement(JU.Provider,{value:a},V.createElement(XU.Provider,{value:u},V.createElement(ZU.Provider,{value:s},V.createElement(eB.Provider,{value:c},V.createElement(tB.Provider,{value:l},o)))))))},Awe=function(){return I.useContext(ZU)},nB=function(e){var n=I.useContext(e_);n==null&&Cl();var r=n[e];return r==null&&Cl(),r},Iwe=function(){var e=I.useContext(e_);return Po(e)},Cwe=function(){var e=I.useContext(t_),n=Twe(e,function(r){return WU(r.domain,Number.isFinite)});return n||Po(e)},rB=function(e){var n=I.useContext(t_);n==null&&Cl();var r=n[e];return r==null&&Cl(),r},Owe=function(){var e=I.useContext(XU);return e},jwe=function(){return I.useContext(JU)},n_=function(){return I.useContext(tB)},r_=function(){return I.useContext(eB)};function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(t)}function Mwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aB(r.key),r)}}function Rwe(t,e,n){return e&&Dwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $we(t,e,n){return e=X1(e),Lwe(t,iB()?Reflect.construct(e,n||[],X1(t).constructor):e.apply(t,n))}function Lwe(t,e){if(e&&(Cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fwe(t)}function Fwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iB=function(){return!!t})()}function X1(t){return X1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},X1(t)}function Vwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A8(t,e)}function A8(t,e){return A8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},A8(t,e)}function RI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $I(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(n),!0).forEach(function(r){i_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i_(t,e,n){return e=aB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aB(t){var e=Uwe(t,"string");return Cu(e)=="symbol"?e:e+""}function Uwe(t,e){if(Cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Bwe(t,e){return Hwe(t)||qwe(t,e)||Wwe(t,e)||zwe()}function zwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wwe(t,e){if(t){if(typeof t=="string")return LI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LI(t,e)}}function LI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Hwe(t){if(Array.isArray(t))return t}function I8(){return I8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I8.apply(this,arguments)}var Gwe=function(e,n){var r;return V.isValidElement(e)?r=V.cloneElement(e,n):at(e)?r=e(n):r=V.createElement("line",I8({},n,{className:"recharts-reference-line-line"})),r},Kwe=function(e,n,r,i,a,s,o,l,c){var u=a.x,d=a.y,h=a.width,p=a.height;if(r){var g=c.y,x=e.y.apply(g,{position:s});if(is(c,"discard")&&!e.y.isInRange(x))return null;var v=[{x:u+h,y:x},{x:u,y:x}];return l==="left"?v.reverse():v}if(n){var y=c.x,b=e.x.apply(y,{position:s});if(is(c,"discard")&&!e.x.isInRange(b))return null;var w=[{x:b,y:d+p},{x:b,y:d}];return o==="top"?w.reverse():w}if(i){var k=c.segment,E=k.map(function(S){return e.apply(S,{position:s})});return is(c,"discard")&&ybe(E,function(S){return!e.isInRange(S)})?null:E}return null};function Ywe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,c=Awe(),u=nB(i),d=rB(a),h=Owe();if(!c||!h)return null;$s(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Zw({x:u.scale,y:d.scale}),g=Fn(e),x=Fn(n),v=r&&r.length===2,y=Kwe(p,g,x,v,h,t.position,u.orientation,d.orientation,t);if(!y)return null;var b=Bwe(y,2),w=b[0],k=w.x,E=w.y,S=b[1],_=S.x,N=S.y,P=is(t,"hidden")?"url(#".concat(c,")"):void 0,A=$I($I({clipPath:P},ut(t,!0)),{},{x1:k,y1:E,x2:_,y2:N});return V.createElement(an,{className:St("recharts-reference-line",o)},Gwe(s,A),vr.renderCallByParent(t,swe({x1:k,y1:E,x2:_,y2:N})))}var a_=function(t){function e(){return Mwe(this,e),$we(this,e,arguments)}return Vwe(e,t),Rwe(e,[{key:"render",value:function(){return V.createElement(Ywe,this.props)}}])}(V.Component);i_(a_,"displayName","ReferenceLine");i_(a_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function C8(){return C8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C8.apply(this,arguments)}function Ou(t){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ou(t)}function FI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FI(Object(n),!0).forEach(function(r){S5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oB(r.key),r)}}function Jwe(t,e,n){return e&&Xwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zwe(t,e,n){return e=J1(e),e_e(t,sB()?Reflect.construct(e,n||[],J1(t).constructor):e.apply(t,n))}function e_e(t,e){if(e&&(Ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t_e(t)}function t_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sB=function(){return!!t})()}function J1(t){return J1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J1(t)}function n_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O8(t,e)}function O8(t,e){return O8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},O8(t,e)}function S5(t,e,n){return e=oB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oB(t){var e=r_e(t,"string");return Ou(e)=="symbol"?e:e+""}function r_e(t,e){if(Ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var i_e=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=Zw({x:i.scale,y:a.scale}),o=s.apply({x:n,y:r},{bandAware:!0});return is(e,"discard")&&!s.isInRange(o)?null:o},k5=function(t){function e(){return Qwe(this,e),Zwe(this,e,arguments)}return n_e(e,t),Jwe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,o=r.alwaysShow,l=r.clipPathId,c=Fn(i),u=Fn(a);if($s(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=i_e(this.props);if(!d)return null;var h=d.x,p=d.y,g=this.props,x=g.shape,v=g.className,y=is(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=VI(VI({clipPath:y},ut(this.props,!0)),{},{cx:h,cy:p});return V.createElement(an,{className:St("recharts-reference-dot",v)},e.renderDot(x,b),vr.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(V.Component);S5(k5,"displayName","ReferenceDot");S5(k5,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});S5(k5,"renderDot",function(t,e){var n;return V.isValidElement(t)?n=V.cloneElement(t,e):at(t)?n=t(e):n=V.createElement(Jw,C8({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function j8(){return j8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j8.apply(this,arguments)}function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function UI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UI(Object(n),!0).forEach(function(r){E5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cB(r.key),r)}}function o_e(t,e,n){return e&&s_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function l_e(t,e,n){return e=Z1(e),c_e(t,lB()?Reflect.construct(e,n||[],Z1(t).constructor):e.apply(t,n))}function c_e(t,e){if(e&&(ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u_e(t)}function u_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lB=function(){return!!t})()}function Z1(t){return Z1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Z1(t)}function d_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M8(t,e)}function M8(t,e){return M8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M8(t,e)}function E5(t,e,n){return e=cB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cB(t){var e=f_e(t,"string");return ju(e)=="symbol"?e:e+""}function f_e(t,e){if(ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var h_e=function(e,n,r,i,a){var s=a.x1,o=a.x2,l=a.y1,c=a.y2,u=a.xAxis,d=a.yAxis;if(!u||!d)return null;var h=Zw({x:u.scale,y:d.scale}),p={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return is(a,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:YU(p,g)},N5=function(t){function e(){return a_e(this,e),l_e(this,e,arguments)}return d_e(e,t),o_e(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;$s(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Fn(i),h=Fn(a),p=Fn(s),g=Fn(o),x=this.props.shape;if(!d&&!h&&!p&&!g&&!x)return null;var v=h_e(d,h,p,g,this.props);if(!v&&!x)return null;var y=is(this.props,"hidden")?"url(#".concat(u,")"):void 0;return V.createElement(an,{className:St("recharts-reference-area",l)},e.renderRect(x,BI(BI({clipPath:y},ut(this.props,!0)),v)),vr.renderCallByParent(this.props,v))}}])}(V.Component);E5(N5,"displayName","ReferenceArea");E5(N5,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});E5(N5,"renderRect",function(t,e){var n;return V.isValidElement(t)?n=V.cloneElement(t,e):at(t)?n=t(e):n=V.createElement(Xw,j8({},e,{className:"recharts-reference-area-rect"})),n});function uB(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function p_e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return lwe(r,n)}function m_e(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function eg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function g_e(t,e){return uB(t,e+1)}function y_e(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,o=e.end,l=0,c=1,u=s,d=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:uB(r,c)};var x=l,v,y=function(){return v===void 0&&(v=n(g,x)),v},b=g.coordinate,w=l===0||eg(t,b,y,u,o);w||(l=0,u=s,c+=1),w&&(u=b+t*(y()/2+i),l+=c)},h;c<=a.length;)if(h=d(),h)return h.v;return[]}function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(t)}function zI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(n),!0).forEach(function(r){v_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v_e(t,e,n){return e=x_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x_e(t){var e=b_e(t,"string");return gp(e)=="symbol"?e:e+""}function b_e(t,e){if(gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function w_e(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,o=e.start,l=e.end,c=function(h){var p=a[h],g,x=function(){return g===void 0&&(g=n(p,h)),g};if(h===s-1){var v=t*(p.coordinate+t*x()/2-l);a[h]=p=hr(hr({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else a[h]=p=hr(hr({},p),{},{tickCoord:p.coordinate});var y=eg(t,p.tickCoord,x,o,l);y&&(l=p.tickCoord-t*(x()/2+i),a[h]=hr(hr({},p),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}function __e(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,l=e.start,c=e.end;if(a){var u=r[o-1],d=n(u,o-1),h=t*(u.coordinate+t*d/2-c);s[o-1]=u=hr(hr({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var p=eg(t,u.tickCoord,function(){return d},l,c);p&&(c=u.tickCoord-t*(d/2+i),s[o-1]=hr(hr({},u),{},{isShow:!0}))}for(var g=a?o-1:o,x=function(b){var w=s[b],k,E=function(){return k===void 0&&(k=n(w,b)),k};if(b===0){var S=t*(w.coordinate-t*E()/2-l);s[b]=w=hr(hr({},w),{},{tickCoord:S<0?w.coordinate-S*t:w.coordinate})}else s[b]=w=hr(hr({},w),{},{tickCoord:w.coordinate});var _=eg(t,w.tickCoord,E,l,c);_&&(l=w.tickCoord+t*(E()/2+i),s[b]=hr(hr({},w),{},{isShow:!0}))},v=0;v<g;v++)x(v);return s}function s_(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(_e(l)||fd.isSsr)return g_e(i,typeof l=="number"&&_e(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",g=u&&p==="width"?Yf(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=function(w,k){var E=at(c)?c(w.value,k):w.value;return p==="width"?p_e(Yf(E,{fontSize:e,letterSpacing:n}),g,d):Yf(E,{fontSize:e,letterSpacing:n})[p]},v=i.length>=2?ha(i[1].coordinate-i[0].coordinate):1,y=m_e(a,v,p);return l==="equidistantPreserveStart"?y_e(v,y,x,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=__e(v,y,x,i,s,l==="preserveStartEnd"):h=w_e(v,y,x,i,s),h.filter(function(b){return b.isShow}))}var S_e=["viewBox"],k_e=["viewBox"],E_e=["ticks"];function Mu(t){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(t)}function jc(){return jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jc.apply(this,arguments)}function WI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WI(Object(n),!0).forEach(function(r){o_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sy(t,e){if(t==null)return{};var n=N_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function N_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function T_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fB(r.key),r)}}function P_e(t,e,n){return e&&qI(t.prototype,e),n&&qI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function A_e(t,e,n){return e=tg(e),I_e(t,dB()?Reflect.construct(e,n||[],tg(t).constructor):e.apply(t,n))}function I_e(t,e){if(e&&(Mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C_e(t)}function C_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dB=function(){return!!t})()}function tg(t){return tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tg(t)}function O_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D8(t,e)}function D8(t,e){return D8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D8(t,e)}function o_(t,e,n){return e=fB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fB(t){var e=j_e(t,"string");return Mu(e)=="symbol"?e:e+""}function j_e(t,e){if(Mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gd=function(t){function e(n){var r;return T_e(this,e),r=A_e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return O_e(e,t),P_e(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=Sy(r,S_e),o=this.props,l=o.viewBox,c=Sy(o,k_e);return!Xc(a,l)||!Xc(s,c)||!Xc(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,c=i.orientation,u=i.tickSize,d=i.mirror,h=i.tickMargin,p,g,x,v,y,b,w=d?-1:1,k=r.tickSize||u,E=_e(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=g=r.coordinate,v=s+ +!d*l,x=v-w*k,b=x-w*h,y=E;break;case"left":x=v=r.coordinate,g=a+ +!d*o,p=g-w*k,y=p-w*h,b=E;break;case"right":x=v=r.coordinate,g=a+ +d*o,p=g+w*k,y=p+w*h,b=E;break;default:p=g=r.coordinate,v=s+ +d*l,x=v+w*k,b=x+w*h,y=E;break}return{line:{x1:p,y1:x,x2:g,y2:v},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,d=Dn(Dn(Dn({},ut(this.props,!1)),ut(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=Dn(Dn({},d),{},{x1:i,y1:a+h*o,x2:i+s,y2:a+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=Dn(Dn({},d),{},{x1:i+p*s,y1:a,x2:i+p*s,y2:a+o})}return V.createElement("line",jc({},d,{className:St("recharts-cartesian-axis-line",Hi(u,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,d=o.tickFormatter,h=o.unit,p=s_(Dn(Dn({},this.props),{},{ticks:r}),i,a),g=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),v=ut(this.props,!1),y=ut(u,!1),b=Dn(Dn({},v),{},{fill:"none"},ut(l,!1)),w=p.map(function(k,E){var S=s.getTickLineCoord(k),_=S.line,N=S.tick,P=Dn(Dn(Dn(Dn({textAnchor:g,verticalAnchor:x},v),{},{stroke:"none",fill:c},y),N),{},{index:E,payload:k,visibleTicksCount:p.length,tickFormatter:d});return V.createElement(an,jc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},l1(s.props,k,E)),l&&V.createElement("line",jc({},b,_,{className:St("recharts-cartesian-axis-tick-line",Hi(l,"className"))})),u&&e.renderTickItem(u,P,"".concat(at(d)?d(k.value,E):k.value).concat(h||"")))});return V.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var d=this.props,h=d.ticks,p=Sy(d,E_e),g=h;return at(l)&&(g=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!g||!g.length?null:V.createElement(an,{className:St("recharts-cartesian-axis",c),ref:function(v){r.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),vr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,o=St(i.className,"recharts-cartesian-axis-tick-value");return V.isValidElement(r)?s=V.cloneElement(r,Dn(Dn({},i),{},{className:o})):at(r)?s=r(Dn(Dn({},i),{},{className:o})):s=V.createElement(_1,jc({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(I.Component);o_(gd,"displayName","CartesianAxis");o_(gd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var M_e=["x1","y1","x2","y2","key"],D_e=["offset"];function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function HI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HI(Object(n),!0).forEach(function(r){R_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R_e(t,e,n){return e=$_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $_e(t){var e=L_e(t,"string");return Ol(e)=="symbol"?e:e+""}function L_e(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tl(){return tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tl.apply(this,arguments)}function GI(t,e){if(t==null)return{};var n=F_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function F_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var V_e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return V.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function hB(t,e){var n;if(V.isValidElement(t))n=V.cloneElement(t,e);else if(at(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=GI(e,M_e),c=ut(l,!1);c.offset;var u=GI(c,D_e);n=V.createElement("line",tl({},u,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function U_e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=xr(xr({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return hB(i,c)});return V.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function B_e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=xr(xr({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return hB(i,c)});return V.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function z_e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var g=!u[p+1],x=g?i+s-h:u[p+1]-h;if(x<=0)return null;var v=p%e.length;return V.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:x,width:a,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function W_e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var g=!u[p+1],x=g?a+o-h:u[p+1]-h;if(x<=0)return null;var v=p%r.length;return V.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:x,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var q_e=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return SU(s_(xr(xr(xr({},gd.defaultProps),r),{},{ticks:As(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},H_e=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return SU(s_(xr(xr(xr({},gd.defaultProps),r),{},{ticks:As(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},lc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function pB(t){var e,n,r,i,a,s,o=n_(),l=r_(),c=jwe(),u=xr(xr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:lc.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:lc.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:lc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:lc.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:lc.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:lc.verticalFill,x:_e(t.x)?t.x:c.left,y:_e(t.y)?t.y:c.top,width:_e(t.width)?t.width:c.width,height:_e(t.height)?t.height:c.height}),d=u.x,h=u.y,p=u.width,g=u.height,x=u.syncWithTicks,v=u.horizontalValues,y=u.verticalValues,b=Iwe(),w=Cwe();if(!_e(p)||p<=0||!_e(g)||g<=0||!_e(d)||d!==+d||!_e(h)||h!==+h)return null;var k=u.verticalCoordinatesGenerator||q_e,E=u.horizontalCoordinatesGenerator||H_e,S=u.horizontalPoints,_=u.verticalPoints;if((!S||!S.length)&&at(E)){var N=v&&v.length,P=E({yAxis:w?xr(xr({},w),{},{ticks:N?v:w.ticks}):void 0,width:o,height:l,offset:c},N?!0:x);$s(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ol(P),"]")),Array.isArray(P)&&(S=P)}if((!_||!_.length)&&at(k)){var A=y&&y.length,C=k({xAxis:b?xr(xr({},b),{},{ticks:A?y:b.ticks}):void 0,width:o,height:l,offset:c},A?!0:x);$s(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ol(C),"]")),Array.isArray(C)&&(_=C)}return V.createElement("g",{className:"recharts-cartesian-grid"},V.createElement(V_e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),V.createElement(U_e,tl({},u,{offset:c,horizontalPoints:S,xAxis:b,yAxis:w})),V.createElement(B_e,tl({},u,{offset:c,verticalPoints:_,xAxis:b,yAxis:w})),V.createElement(z_e,tl({},u,{horizontalPoints:S})),V.createElement(W_e,tl({},u,{verticalPoints:_})))}pB.displayName="CartesianGrid";var G_e=["layout","type","stroke","connectNulls","isRange","ref"],K_e=["key"],mB;function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function gB(t,e){if(t==null)return{};var n=Y_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Y_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nl(){return nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nl.apply(this,arguments)}function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function go(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(r){Ha(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vB(r.key),r)}}function X_e(t,e,n){return e&&YI(t.prototype,e),n&&YI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function J_e(t,e,n){return e=ng(e),Z_e(t,yB()?Reflect.construct(e,n||[],ng(t).constructor):e.apply(t,n))}function Z_e(t,e){if(e&&(Du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eSe(t)}function eSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yB=function(){return!!t})()}function ng(t){return ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ng(t)}function tSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R8(t,e)}function R8(t,e){return R8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R8(t,e)}function Ha(t,e,n){return e=vB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vB(t){var e=nSe(t,"string");return Du(e)=="symbol"?e:e+""}function nSe(t,e){if(Du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var T0=function(t){function e(){var n;Q_e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=J_e(this,e,[].concat(i)),Ha(n,"state",{isAnimationFinished:!0}),Ha(n,"id",Jp("recharts-area-")),Ha(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),at(s)&&s()}),Ha(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),at(s)&&s()}),n}return tSe(e,t),X_e(e,[{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=ut(this.props,!1),p=ut(c,!0),g=u.map(function(v,y){var b=go(go(go({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:v.x,cy:v.y,dataKey:d,value:v.value,payload:v.payload,points:u});return e.renderDotItem(c,b)}),x={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return V.createElement(an,nl({className:"recharts-area-dots"},x),g)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].x,c=s[s.length-1].x,u=r*Math.abs(l-c),d=Mo(s.map(function(h){return h.y||0}));return _e(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(Mo(a.map(function(h){return h.y||0})),d)),_e(d)?V.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(d+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].y,c=s[s.length-1].y,u=r*Math.abs(l-c),d=Mo(s.map(function(h){return h.x||0}));return _e(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(Mo(a.map(function(h){return h.x||0})),d)),_e(d)?V.createElement("rect",{x:0,y:l<c?l:l-u,width:d+(o?parseInt("".concat(o),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,s){var o=this.props,l=o.layout,c=o.type,u=o.stroke,d=o.connectNulls,h=o.isRange;o.ref;var p=gB(o,G_e);return V.createElement(an,{clipPath:a?"url(#clipPath-".concat(s,")"):null},V.createElement(Jf,nl({},ut(p,!0),{points:r,connectNulls:d,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&V.createElement(Jf,nl({},ut(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:r})),u!=="none"&&h&&V.createElement(Jf,nl({},ut(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,h=s.animationEasing,p=s.animationId,g=this.state,x=g.prevPoints,v=g.prevBaseLine;return V.createElement(Qs,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var b=y.t;if(x){var w=x.length/o.length,k=o.map(function(N,P){var A=Math.floor(P*w);if(x[A]){var C=x[A],O=Di(C.x,N.x),j=Di(C.y,N.y);return go(go({},N),{},{x:O(b),y:j(b)})}return N}),E;if(_e(l)&&typeof l=="number"){var S=Di(v,l);E=S(b)}else if(mt(l)||ld(l)){var _=Di(v,0);E=_(b)}else E=l.map(function(N,P){var A=Math.floor(P*w);if(v[A]){var C=v[A],O=Di(C.x,N.x),j=Di(C.y,N.y);return go(go({},N),{},{x:O(b),y:j(b)})}return N});return a.renderAreaStatically(k,E,r,i)}return V.createElement(an,null,V.createElement("defs",null,V.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(b))),V.createElement(an,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(o,l,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,s=a.points,o=a.baseLine,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.prevBaseLine,h=c.totalLength;return l&&s&&s.length&&(!u&&h>0||!Yh(u,s)||!Yh(d,o))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.top,u=i.left,d=i.xAxis,h=i.yAxis,p=i.width,g=i.height,x=i.isAnimationActive,v=i.id;if(a||!o||!o.length)return null;var y=this.state.isAnimationFinished,b=o.length===1,w=St("recharts-area",l),k=d&&d.allowDataOverflow,E=h&&h.allowDataOverflow,S=k||E,_=mt(v)?this.id:v,N=(r=ut(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=N.r,A=P===void 0?3:P,C=N.strokeWidth,O=C===void 0?2:C,j=pce(s)?s:{},R=j.clipDot,D=R===void 0?!0:R,$=A*2+O;return V.createElement(an,{className:w},k||E?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(_)},V.createElement("rect",{x:k?u:u-p/2,y:E?c:c-g/2,width:k?p:p*2,height:E?g:g*2})),!D&&V.createElement("clipPath",{id:"clipPath-dots-".concat(_)},V.createElement("rect",{x:u-$/2,y:c-$/2,width:p+$,height:g+$}))):null,b?null:this.renderArea(S,_),(s||b)&&this.renderDots(S,D,_),(!x||y)&&e0.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(I.PureComponent);mB=T0;Ha(T0,"displayName","Area");Ha(T0,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!fd.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ha(T0,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,s=e.props.baseValue,o=s??a;if(_e(o)&&typeof o=="number")return o;var l=i==="horizontal"?r:n,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return o==="dataMin"?d:o==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]});Ha(T0,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,o=t.bandSize,l=t.dataKey,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,h=t.offset,p=e.layout,g=c&&c.length,x=mB.getBaseValue(e,n,r,i),v=p==="horizontal",y=!1,b=d.map(function(k,E){var S;g?S=c[u+E]:(S=_i(k,l),Array.isArray(S)?y=!0:S=[x,S]);var _=S[1]==null||g&&_i(k,l)==null;return v?{x:jA({axis:r,ticks:a,bandSize:o,entry:k,index:E}),y:_?null:i.scale(S[1]),value:S,payload:k}:{x:_?null:r.scale(S[1]),y:jA({axis:i,ticks:s,bandSize:o,entry:k,index:E}),value:S,payload:k}}),w;return g||y?w=b.map(function(k){var E=Array.isArray(k.value)?k.value[0]:null;return v?{x:k.x,y:E!=null&&k.y!=null?i.scale(E):null}:{x:E!=null?r.scale(E):null,y:k.y}}):w=v?i.scale(x):r.scale(x),go({points:b,baseLine:w,layout:p,isRange:y},h)});Ha(T0,"renderDotItem",function(t,e){var n;if(V.isValidElement(t))n=V.cloneElement(t,e);else if(at(t))n=t(e);else{var r=St("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=gB(e,K_e);n=V.createElement(Jw,nl({},a,{key:i,className:r}))}return n});function Ru(t){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ru(t)}function rSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wB(r.key),r)}}function aSe(t,e,n){return e&&iSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sSe(t,e,n){return e=rg(e),oSe(t,xB()?Reflect.construct(e,n||[],rg(t).constructor):e.apply(t,n))}function oSe(t,e){if(e&&(Ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lSe(t)}function lSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xB=function(){return!!t})()}function rg(t){return rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rg(t)}function cSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$8(t,e)}function $8(t,e){return $8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$8(t,e)}function bB(t,e,n){return e=wB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wB(t){var e=uSe(t,"string");return Ru(e)=="symbol"?e:e+""}function uSe(t,e){if(Ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function L8(){return L8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L8.apply(this,arguments)}function dSe(t){var e=t.xAxisId,n=n_(),r=r_(),i=nB(e);return i==null?null:I.createElement(gd,L8({},i,{className:St("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return As(s,!0)}}))}var T5=function(t){function e(){return rSe(this,e),sSe(this,e,arguments)}return cSe(e,t),aSe(e,[{key:"render",value:function(){return I.createElement(dSe,this.props)}}])}(I.Component);bB(T5,"displayName","XAxis");bB(T5,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}function fSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kB(r.key),r)}}function pSe(t,e,n){return e&&hSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mSe(t,e,n){return e=ig(e),gSe(t,_B()?Reflect.construct(e,n||[],ig(t).constructor):e.apply(t,n))}function gSe(t,e){if(e&&($u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ySe(t)}function ySe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _B(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_B=function(){return!!t})()}function ig(t){return ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ig(t)}function vSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F8(t,e)}function F8(t,e){return F8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},F8(t,e)}function SB(t,e,n){return e=kB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kB(t){var e=xSe(t,"string");return $u(e)=="symbol"?e:e+""}function xSe(t,e){if($u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function V8(){return V8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V8.apply(this,arguments)}var bSe=function(e){var n=e.yAxisId,r=n_(),i=r_(),a=rB(n);return a==null?null:I.createElement(gd,V8({},a,{className:St("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return As(o,!0)}}))},P5=function(t){function e(){return fSe(this,e),mSe(this,e,arguments)}return vSe(e,t),pSe(e,[{key:"render",value:function(){return I.createElement(bSe,this.props)}}])}(I.Component);SB(P5,"displayName","YAxis");SB(P5,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function QI(t){return kSe(t)||SSe(t)||_Se(t)||wSe()}function wSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Se(t,e){if(t){if(typeof t=="string")return U8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U8(t,e)}}function SSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kSe(t){if(Array.isArray(t))return U8(t)}function U8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var B8=function(e,n,r,i,a){var s=Sa(e,a_),o=Sa(e,k5),l=[].concat(QI(s),QI(o)),c=Sa(e,N5),u="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(x,v){if(v.props[u]===r&&is(v.props,"extendDomain")&&_e(v.props[d])){var y=v.props[d];return[Math.min(x[0],y),Math.max(x[1],y)]}return x},h)),c.length){var p="".concat(d,"1"),g="".concat(d,"2");h=c.reduce(function(x,v){if(v.props[u]===r&&is(v.props,"extendDomain")&&_e(v.props[p])&&_e(v.props[g])){var y=v.props[p],b=v.props[g];return[Math.min(x[0],y,b),Math.max(x[1],y,b)]}return x},h)}return a&&a.length&&(h=a.reduce(function(x,v){return _e(v)?[Math.min(x[0],v),Math.max(x[1],v)]:x},h)),h},EB={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,d||l,h),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,g=new Array(p);h<p;h++)g[h]=d[h].fn;return g},o.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,u,d,h,p,g){var x=n?n+c:c;if(!this._events[x])return!1;var v=this._events[x],y=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,h),!0;case 5:return v.fn.call(v.context,u,d,h,p),!0;case 6:return v.fn.call(v.context,u,d,h,p,g),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var k=v.length,E;for(w=0;w<k;w++)switch(v[w].once&&this.removeListener(c,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,u);break;case 3:v[w].fn.call(v[w].context,u,d);break;case 4:v[w].fn.call(v[w].context,u,d,h);break;default:if(!b)for(E=1,b=new Array(y-1);E<y;E++)b[E-1]=arguments[E];v[w].fn.apply(v[w].context,b)}}return!0},o.prototype.on=function(c,u,d){return a(this,c,u,d,!1)},o.prototype.once=function(c,u,d){return a(this,c,u,d,!0)},o.prototype.removeListener=function(c,u,d,h){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!h||g.once)&&(!d||g.context===d)&&s(this,p);else{for(var x=0,v=[],y=g.length;x<y;x++)(g[x].fn!==u||h&&!g[x].once||d&&g[x].context!==d)&&v.push(g[x]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(EB);var ESe=EB.exports;const NSe=Ut(ESe);var ky=new NSe,Ey="recharts.syncMouseEvents";function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}function TSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NB(r.key),r)}}function ASe(t,e,n){return e&&PSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ny(t,e,n){return e=NB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NB(t){var e=ISe(t,"string");return yp(e)=="symbol"?e:e+""}function ISe(t,e){if(yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var CSe=function(){function t(){TSe(this,t),Ny(this,"activeIndex",0),Ny(this,"coordinateList",[]),Ny(this,"layout","horizontal")}return ASe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,o=s===void 0?null:s,l=n.layout,c=l===void 0?null:l,u=n.offset,d=u===void 0?null:u,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=a+l+c,h=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function OSe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&_e(r)&&_e(i))return!0}return!1}function jSe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function TB(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=ir(e,n,r,i),o=ir(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function MSe(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,d=e.angle,h=ir(o,l,c,d),p=ir(o,l,u,d);r=h.x,i=h.y,a=p.x,s=p.y}else return TB(e);return[{x:r,y:i},{x:a,y:s}]}function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}function XI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(n),!0).forEach(function(r){DSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DSe(t,e,n){return e=RSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RSe(t){var e=$Se(t,"string");return vp(e)=="symbol"?e:e+""}function $Se(t,e){if(vp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LSe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var g,x=Jf;if(h==="ScatterChart")g=s,x=U9e;else if(h==="BarChart")g=jSe(d,s,l,u),x=Xw;else if(d==="radial"){var v=TB(s),y=v.cx,b=v.cy,w=v.radius,k=v.startAngle,E=v.endAngle;g={cx:y,cy:b,startAngle:k,endAngle:E,innerRadius:w,outerRadius:w},x=PU}else g={points:MSe(d,s,l)},x=Jf;var S=h3(h3(h3(h3({stroke:"#ccc",pointerEvents:"none"},l),g),ut(p,!1)),{},{payload:o,payloadIndex:c,className:St("recharts-tooltip-cursor",p.className)});return I.isValidElement(p)?I.cloneElement(p,S):I.createElement(x,S)}var FSe=["item"],VSe=["children","className","width","height","style","compact","title","desc"];function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}function Mc(){return Mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mc.apply(this,arguments)}function JI(t,e){return zSe(t)||BSe(t,e)||AB(t,e)||USe()}function USe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function zSe(t){if(Array.isArray(t))return t}function ZI(t,e){if(t==null)return{};var n=WSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IB(r.key),r)}}function GSe(t,e,n){return e&&HSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KSe(t,e,n){return e=ag(e),YSe(t,PB()?Reflect.construct(e,n||[],ag(t).constructor):e.apply(t,n))}function YSe(t,e){if(e&&(Lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QSe(t)}function QSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PB=function(){return!!t})()}function ag(t){return ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ag(t)}function XSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z8(t,e)}function z8(t,e){return z8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z8(t,e)}function Fu(t){return eke(t)||ZSe(t)||AB(t)||JSe()}function JSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AB(t,e){if(t){if(typeof t=="string")return W8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W8(t,e)}}function ZSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eke(t){if(Array.isArray(t))return W8(t)}function W8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eC(Object(n),!0).forEach(function(r){Xe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xe(t,e,n){return e=IB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IB(t){var e=tke(t,"string");return Lu(e)=="symbol"?e:e+""}function tke(t,e){if(Lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nke={xAxis:["bottom","top"],yAxis:["left","right"]},rke={width:"100%",height:"100%"},CB={x:0,y:0};function p3(t){return t}var ike=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},ake=function(e,n,r,i){var a=n.find(function(u){return u&&u.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return oe(oe(oe({},i),ir(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,c=i.angle;return oe(oe(oe({},i),ir(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return CB},A5=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Fu(o),Fu(c)):o},[]);return s.length>0?s:e&&e.length&&_e(i)&&_e(a)?e.slice(i,a+1):[]};function OB(t){return t==="number"?[0,"auto"]:void 0}var q8=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,o=A5(n,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=d===void 0?o:d;h=s1(p,s.dataKey,i)}else h=d&&d[r]||o[r];return h?[].concat(Fu(l),[EU(c,h)]):l},[])},tC=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=ike(a,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=xve(s,o,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,h=q8(e,n,u,d),p=ake(r,o,u,a);return{activeTooltipIndex:u,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},ske=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,h=e.stackOffset,p=_U(u,a);return r.reduce(function(g,x){var v,y=x.type.defaultProps!==void 0?oe(oe({},x.type.defaultProps),x.props):x.props,b=y.type,w=y.dataKey,k=y.allowDataOverflow,E=y.allowDuplicatedCategory,S=y.scale,_=y.ticks,N=y.includeHidden,P=y[s];if(g[P])return g;var A=A5(e.data,{graphicalItems:i.filter(function(G){var te,de=s in G.props?G.props[s]:(te=G.type.defaultProps)===null||te===void 0?void 0:te[s];return de===P}),dataStartIndex:l,dataEndIndex:c}),C=A.length,O,j,R;OSe(y.domain,k,b)&&(O=u8(y.domain,null,k),p&&(b==="number"||S!=="auto")&&(R=Xf(A,w,"category")));var D=OB(b);if(!O||O.length===0){var $,U=($=y.domain)!==null&&$!==void 0?$:D;if(w){if(O=Xf(A,w,b),b==="category"&&p){var F=ice(O);E&&F?(j=O,O=H1(0,C)):E||(O=$A(U,O,x).reduce(function(G,te){return G.indexOf(te)>=0?G:[].concat(Fu(G),[te])},[]))}else if(b==="category")E?O=O.filter(function(G){return G!==""&&!mt(G)}):O=$A(U,O,x).reduce(function(G,te){return G.indexOf(te)>=0||te===""||mt(te)?G:[].concat(Fu(G),[te])},[]);else if(b==="number"){var B=kve(A,i.filter(function(G){var te,de,ye=s in G.props?G.props[s]:(te=G.type.defaultProps)===null||te===void 0?void 0:te[s],J="hide"in G.props?G.props.hide:(de=G.type.defaultProps)===null||de===void 0?void 0:de.hide;return ye===P&&(N||!J)}),w,a,u);B&&(O=B)}p&&(b==="number"||S!=="auto")&&(R=Xf(A,w,"category"))}else p?O=H1(0,C):o&&o[P]&&o[P].hasStack&&b==="number"?O=h==="expand"?[0,1]:kU(o[P].stackGroups,l,c):O=wU(A,i.filter(function(G){var te=s in G.props?G.props[s]:G.type.defaultProps[s],de="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return te===P&&(N||!de)}),b,u,!0);if(b==="number")O=B8(d,O,P,a,_),U&&(O=u8(U,O,k));else if(b==="category"&&U){var z=U,q=O.every(function(G){return z.indexOf(G)>=0});q&&(O=z)}}return oe(oe({},g),{},Xe({},P,oe(oe({},y),{},{axisType:a,domain:O,categoricalDomain:R,duplicateDomain:j,originalDomain:(v=y.domain)!==null&&v!==void 0?v:D,isCategorical:p,layout:u})))},{})},oke=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,h=A5(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=h.length,g=_U(u,a),x=-1;return r.reduce(function(v,y){var b=y.type.defaultProps!==void 0?oe(oe({},y.type.defaultProps),y.props):y.props,w=b[s],k=OB("number");if(!v[w]){x++;var E;return g?E=H1(0,p):o&&o[w]&&o[w].hasStack?(E=kU(o[w].stackGroups,l,c),E=B8(d,E,w,a)):(E=u8(k,wU(h,r.filter(function(S){var _,N,P=s in S.props?S.props[s]:(_=S.type.defaultProps)===null||_===void 0?void 0:_[s],A="hide"in S.props?S.props.hide:(N=S.type.defaultProps)===null||N===void 0?void 0:N.hide;return P===w&&!A}),"number",u),i.defaultProps.allowDataOverflow),E=B8(d,E,w,a)),oe(oe({},v),{},Xe({},w,oe(oe({axisType:a},i.defaultProps),{},{hide:!0,orientation:Hi(nke,"".concat(a,".").concat(x%2),null),domain:E,originalDomain:k,isCategorical:g,layout:u})))}return v},{})},lke=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,d="".concat(i,"Id"),h=Sa(u,a),p={};return h&&h.length?p=ske(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=oke(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},cke=function(e){var n=Po(e),r=As(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:kw(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:R1(n,r)}},nC=function(e){var n=e.children,r=e.defaultShowTooltip,i=li(n,Au),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},uke=function(e){return!e||!e.length?!1:e.some(function(n){var r=Rs(n&&n.type);return r&&r.indexOf("Bar")>=0})},rC=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},dke=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,u=r.height,d=r.children,h=r.margin||{},p=li(d,Au),g=li(d,Jc),x=Object.keys(l).reduce(function(E,S){var _=l[S],N=_.orientation;return!_.mirror&&!_.hide?oe(oe({},E),{},Xe({},N,E[N]+_.width)):E},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(E,S){var _=s[S],N=_.orientation;return!_.mirror&&!_.hide?oe(oe({},E),{},Xe({},N,Hi(E,"".concat(N))+_.height)):E},{top:h.top||0,bottom:h.bottom||0}),y=oe(oe({},v),x),b=y.bottom;p&&(y.bottom+=p.props.height||Au.defaultProps.height),g&&n&&(y=_ve(y,i,r,n));var w=c-y.left-y.right,k=u-y.top-y.bottom;return oe(oe({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(k,0)})},fke=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},hke=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(y,b){var w=b.graphicalItems,k=b.stackGroups,E=b.offset,S=b.updateId,_=b.dataStartIndex,N=b.dataEndIndex,P=y.barSize,A=y.layout,C=y.barGap,O=y.barCategoryGap,j=y.maxBarSize,R=rC(A),D=R.numericAxisName,$=R.cateAxisName,U=uke(w),F=[];return w.forEach(function(B,z){var q=A5(y.data,{graphicalItems:[B],dataStartIndex:_,dataEndIndex:N}),G=B.type.defaultProps!==void 0?oe(oe({},B.type.defaultProps),B.props):B.props,te=G.dataKey,de=G.maxBarSize,ye=G["".concat(D,"Id")],J=G["".concat($,"Id")],we={},ke=l.reduce(function(Z,ge){var Ie=b["".concat(ge.axisType,"Map")],st=G["".concat(ge.axisType,"Id")];Ie&&Ie[st]||ge.axisType==="zAxis"||Cl();var et=Ie[st];return oe(oe({},Z),{},Xe(Xe({},ge.axisType,et),"".concat(ge.axisType,"Ticks"),As(et)))},we),ne=ke[$],ve=ke["".concat($,"Ticks")],Te=k&&k[ye]&&k[ye].hasStack&&Rve(B,k[ye].stackGroups),ae=Rs(B.type).indexOf("Bar")>=0,Be=R1(ne,ve),ie=[],Q=U&&bve({barSize:P,stackGroups:k,totalSize:fke(ke,$)});if(ae){var fe,$e,kt=mt(de)?j:de,je=(fe=($e=R1(ne,ve,!0))!==null&&$e!==void 0?$e:kt)!==null&&fe!==void 0?fe:0;ie=wve({barGap:C,barCategoryGap:O,bandSize:je!==Be?je:Be,sizeList:Q[J],maxBarSize:kt}),je!==Be&&(ie=ie.map(function(Z){return oe(oe({},Z),{},{position:oe(oe({},Z.position),{},{offset:Z.position.offset-je/2})})}))}var Ue=B&&B.type&&B.type.getComposedData;Ue&&F.push({props:oe(oe({},Ue(oe(oe({},ke),{},{displayedData:q,props:y,dataKey:te,item:B,bandSize:Be,barPosition:ie,offset:E,stackedData:Te,layout:A,dataStartIndex:_,dataEndIndex:N}))),{},Xe(Xe(Xe({key:B.key||"item-".concat(z)},D,ke[D]),$,ke[$]),"animationId",S)),childIndex:yce(B,y.children),item:B})}),F},p=function(y,b){var w=y.props,k=y.dataStartIndex,E=y.dataEndIndex,S=y.updateId;if(!IT({props:w}))return null;var _=w.children,N=w.layout,P=w.stackOffset,A=w.data,C=w.reverseStackOrder,O=rC(N),j=O.numericAxisName,R=O.cateAxisName,D=Sa(_,r),$=jve(A,D,"".concat(j,"Id"),"".concat(R,"Id"),P,C),U=l.reduce(function(G,te){var de="".concat(te.axisType,"Map");return oe(oe({},G),{},Xe({},de,lke(w,oe(oe({},te),{},{graphicalItems:D,stackGroups:te.axisType===j&&$,dataStartIndex:k,dataEndIndex:E}))))},{}),F=dke(oe(oe({},U),{},{props:w,graphicalItems:D}),b==null?void 0:b.legendBBox);Object.keys(U).forEach(function(G){U[G]=u(w,U[G],F,G.replace("Map",""),n)});var B=U["".concat(R,"Map")],z=cke(B),q=h(w,oe(oe({},U),{},{dataStartIndex:k,dataEndIndex:E,updateId:S,graphicalItems:D,stackGroups:$,offset:F}));return oe(oe({formattedGraphicalItems:q,graphicalItems:D,offset:F,stackGroups:$},z),U)},g=function(v){function y(b){var w,k,E;return qSe(this,y),E=KSe(this,y,[b]),Xe(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Xe(E,"accessibilityManager",new CSe),Xe(E,"handleLegendBBoxUpdate",function(S){if(S){var _=E.state,N=_.dataStartIndex,P=_.dataEndIndex,A=_.updateId;E.setState(oe({legendBBox:S},p({props:E.props,dataStartIndex:N,dataEndIndex:P,updateId:A},oe(oe({},E.state),{},{legendBBox:S}))))}}),Xe(E,"handleReceiveSyncEvent",function(S,_,N){if(E.props.syncId===S){if(N===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(_)}}),Xe(E,"handleBrushChange",function(S){var _=S.startIndex,N=S.endIndex;if(_!==E.state.dataStartIndex||N!==E.state.dataEndIndex){var P=E.state.updateId;E.setState(function(){return oe({dataStartIndex:_,dataEndIndex:N},p({props:E.props,dataStartIndex:_,dataEndIndex:N,updateId:P},E.state))}),E.triggerSyncEvent({dataStartIndex:_,dataEndIndex:N})}}),Xe(E,"handleMouseEnter",function(S){var _=E.getMouseInfo(S);if(_){var N=oe(oe({},_),{},{isTooltipActive:!0});E.setState(N),E.triggerSyncEvent(N);var P=E.props.onMouseEnter;at(P)&&P(N,S)}}),Xe(E,"triggeredAfterMouseMove",function(S){var _=E.getMouseInfo(S),N=_?oe(oe({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(N),E.triggerSyncEvent(N);var P=E.props.onMouseMove;at(P)&&P(N,S)}),Xe(E,"handleItemMouseEnter",function(S){E.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Xe(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Xe(E,"handleMouseMove",function(S){S.persist(),E.throttleTriggeredAfterMouseMove(S)}),Xe(E,"handleMouseLeave",function(S){E.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};E.setState(_),E.triggerSyncEvent(_);var N=E.props.onMouseLeave;at(N)&&N(_,S)}),Xe(E,"handleOuterEvent",function(S){var _=gce(S),N=Hi(E.props,"".concat(_));if(_&&at(N)){var P,A;/.*touch.*/i.test(_)?A=E.getMouseInfo(S.changedTouches[0]):A=E.getMouseInfo(S),N((P=A)!==null&&P!==void 0?P:{},S)}}),Xe(E,"handleClick",function(S){var _=E.getMouseInfo(S);if(_){var N=oe(oe({},_),{},{isTooltipActive:!0});E.setState(N),E.triggerSyncEvent(N);var P=E.props.onClick;at(P)&&P(N,S)}}),Xe(E,"handleMouseDown",function(S){var _=E.props.onMouseDown;if(at(_)){var N=E.getMouseInfo(S);_(N,S)}}),Xe(E,"handleMouseUp",function(S){var _=E.props.onMouseUp;if(at(_)){var N=E.getMouseInfo(S);_(N,S)}}),Xe(E,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Xe(E,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&E.handleMouseDown(S.changedTouches[0])}),Xe(E,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&E.handleMouseUp(S.changedTouches[0])}),Xe(E,"handleDoubleClick",function(S){var _=E.props.onDoubleClick;if(at(_)){var N=E.getMouseInfo(S);_(N,S)}}),Xe(E,"handleContextMenu",function(S){var _=E.props.onContextMenu;if(at(_)){var N=E.getMouseInfo(S);_(N,S)}}),Xe(E,"triggerSyncEvent",function(S){E.props.syncId!==void 0&&ky.emit(Ey,E.props.syncId,S,E.eventEmitterSymbol)}),Xe(E,"applySyncEvent",function(S){var _=E.props,N=_.layout,P=_.syncMethod,A=E.state.updateId,C=S.dataStartIndex,O=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)E.setState(oe({dataStartIndex:C,dataEndIndex:O},p({props:E.props,dataStartIndex:C,dataEndIndex:O,updateId:A},E.state)));else if(S.activeTooltipIndex!==void 0){var j=S.chartX,R=S.chartY,D=S.activeTooltipIndex,$=E.state,U=$.offset,F=$.tooltipTicks;if(!U)return;if(typeof P=="function")D=P(F,S);else if(P==="value"){D=-1;for(var B=0;B<F.length;B++)if(F[B].value===S.activeLabel){D=B;break}}var z=oe(oe({},U),{},{x:U.left,y:U.top}),q=Math.min(j,z.x+z.width),G=Math.min(R,z.y+z.height),te=F[D]&&F[D].value,de=q8(E.state,E.props.data,D),ye=F[D]?{x:N==="horizontal"?F[D].coordinate:q,y:N==="horizontal"?G:F[D].coordinate}:CB;E.setState(oe(oe({},S),{},{activeLabel:te,activeCoordinate:ye,activePayload:de,activeTooltipIndex:D}))}else E.setState(S)}),Xe(E,"renderCursor",function(S){var _,N=E.state,P=N.isTooltipActive,A=N.activeCoordinate,C=N.activePayload,O=N.offset,j=N.activeTooltipIndex,R=N.tooltipAxisBandSize,D=E.getTooltipEventType(),$=(_=S.props.active)!==null&&_!==void 0?_:P,U=E.props.layout,F=S.key||"_recharts-cursor";return V.createElement(LSe,{key:F,activeCoordinate:A,activePayload:C,activeTooltipIndex:j,chartName:n,element:S,isActive:$,layout:U,offset:O,tooltipAxisBandSize:R,tooltipEventType:D})}),Xe(E,"renderPolarAxis",function(S,_,N){var P=Hi(S,"type.axisType"),A=Hi(E.state,"".concat(P,"Map")),C=S.type.defaultProps,O=C!==void 0?oe(oe({},C),S.props):S.props,j=A&&A[O["".concat(P,"Id")]];return I.cloneElement(S,oe(oe({},j),{},{className:St(P,j.className),key:S.key||"".concat(_,"-").concat(N),ticks:As(j,!0)}))}),Xe(E,"renderPolarGrid",function(S){var _=S.props,N=_.radialLines,P=_.polarAngles,A=_.polarRadius,C=E.state,O=C.radiusAxisMap,j=C.angleAxisMap,R=Po(O),D=Po(j),$=D.cx,U=D.cy,F=D.innerRadius,B=D.outerRadius;return I.cloneElement(S,{polarAngles:Array.isArray(P)?P:As(D,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(A)?A:As(R,!0).map(function(z){return z.coordinate}),cx:$,cy:U,innerRadius:F,outerRadius:B,key:S.key||"polar-grid",radialLines:N})}),Xe(E,"renderLegend",function(){var S=E.state.formattedGraphicalItems,_=E.props,N=_.children,P=_.width,A=_.height,C=E.props.margin||{},O=P-(C.left||0)-(C.right||0),j=xU({children:N,formattedGraphicalItems:S,legendWidth:O,legendContent:c});if(!j)return null;var R=j.item,D=ZI(j,FSe);return I.cloneElement(R,oe(oe({},D),{},{chartWidth:P,chartHeight:A,margin:C,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Xe(E,"renderTooltip",function(){var S,_=E.props,N=_.children,P=_.accessibilityLayer,A=li(N,Ra);if(!A)return null;var C=E.state,O=C.isTooltipActive,j=C.activeCoordinate,R=C.activePayload,D=C.activeLabel,$=C.offset,U=(S=A.props.active)!==null&&S!==void 0?S:O;return I.cloneElement(A,{viewBox:oe(oe({},$),{},{x:$.left,y:$.top}),active:U,label:D,payload:U?R:[],coordinate:j,accessibilityLayer:P})}),Xe(E,"renderBrush",function(S){var _=E.props,N=_.margin,P=_.data,A=E.state,C=A.offset,O=A.dataStartIndex,j=A.dataEndIndex,R=A.updateId;return I.cloneElement(S,{key:S.key||"_recharts-brush",onChange:c3(E.handleBrushChange,S.props.onChange),data:P,x:_e(S.props.x)?S.props.x:C.left,y:_e(S.props.y)?S.props.y:C.top+C.height+C.brushBottom-(N.bottom||0),width:_e(S.props.width)?S.props.width:C.width,startIndex:O,endIndex:j,updateId:"brush-".concat(R)})}),Xe(E,"renderReferenceElement",function(S,_,N){if(!S)return null;var P=E,A=P.clipPathId,C=E.state,O=C.xAxisMap,j=C.yAxisMap,R=C.offset,D=S.type.defaultProps||{},$=S.props,U=$.xAxisId,F=U===void 0?D.xAxisId:U,B=$.yAxisId,z=B===void 0?D.yAxisId:B;return I.cloneElement(S,{key:S.key||"".concat(_,"-").concat(N),xAxis:O[F],yAxis:j[z],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:A})}),Xe(E,"renderActivePoints",function(S){var _=S.item,N=S.activePoint,P=S.basePoint,A=S.childIndex,C=S.isRange,O=[],j=_.props.key,R=_.item.type.defaultProps!==void 0?oe(oe({},_.item.type.defaultProps),_.item.props):_.item.props,D=R.activeDot,$=R.dataKey,U=oe(oe({index:A,dataKey:$,cx:N.x,cy:N.y,r:4,fill:Qw(_.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},ut(D,!1)),o1(D));return O.push(y.renderActiveDot(D,U,"".concat(j,"-activePoint-").concat(A))),P?O.push(y.renderActiveDot(D,oe(oe({},U),{},{cx:P.x,cy:P.y}),"".concat(j,"-basePoint-").concat(A))):C&&O.push(null),O}),Xe(E,"renderGraphicChild",function(S,_,N){var P=E.filterFormatItem(S,_,N);if(!P)return null;var A=E.getTooltipEventType(),C=E.state,O=C.isTooltipActive,j=C.tooltipAxis,R=C.activeTooltipIndex,D=C.activeLabel,$=E.props.children,U=li($,Ra),F=P.props,B=F.points,z=F.isRange,q=F.baseLine,G=P.item.type.defaultProps!==void 0?oe(oe({},P.item.type.defaultProps),P.item.props):P.item.props,te=G.activeDot,de=G.hide,ye=G.activeBar,J=G.activeShape,we=!!(!de&&O&&U&&(te||ye||J)),ke={};A!=="axis"&&U&&U.props.trigger==="click"?ke={onClick:c3(E.handleItemMouseEnter,S.props.onClick)}:A!=="axis"&&(ke={onMouseLeave:c3(E.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:c3(E.handleItemMouseEnter,S.props.onMouseEnter)});var ne=I.cloneElement(S,oe(oe({},P.props),ke));function ve(ge){return typeof j.dataKey=="function"?j.dataKey(ge.payload):null}if(we)if(R>=0){var Te,ae;if(j.dataKey&&!j.allowDuplicatedCategory){var Be=typeof j.dataKey=="function"?ve:"payload.".concat(j.dataKey.toString());Te=s1(B,Be,D),ae=z&&q&&s1(q,Be,D)}else Te=B==null?void 0:B[R],ae=z&&q&&q[R];if(J||ye){var ie=S.props.activeIndex!==void 0?S.props.activeIndex:R;return[I.cloneElement(S,oe(oe(oe({},P.props),ke),{},{activeIndex:ie})),null,null]}if(!mt(Te))return[ne].concat(Fu(E.renderActivePoints({item:P,activePoint:Te,basePoint:ae,childIndex:R,isRange:z})))}else{var Q,fe=(Q=E.getItemByXY(E.state.activeCoordinate))!==null&&Q!==void 0?Q:{graphicalItem:ne},$e=fe.graphicalItem,kt=$e.item,je=kt===void 0?S:kt,Ue=$e.childIndex,Z=oe(oe(oe({},P.props),ke),{},{activeIndex:Ue});return[I.cloneElement(je,Z),null,null]}return z?[ne,null,null]:[ne,null]}),Xe(E,"renderCustomized",function(S,_,N){return I.cloneElement(S,oe(oe({key:"recharts-customized-".concat(N)},E.props),E.state))}),Xe(E,"renderMap",{CartesianGrid:{handler:p3,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:p3},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:p3},YAxis:{handler:p3},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:Jp("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=vV(E.triggeredAfterMouseMove,(k=b.throttleDelay)!==null&&k!==void 0?k:1e3/60),E.state={},E}return XSe(y,v),GSe(y,[{key:"componentDidMount",value:function(){var w,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,k=w.children,E=w.data,S=w.height,_=w.layout,N=li(k,Ra);if(N){var P=N.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,C=q8(this.state,E,P,A),O=this.state.tooltipTicks[P].coordinate,j=(this.state.offset.top+S)/2,R=_==="horizontal",D=R?{x:O,y:j}:{y:O,x:j},$=this.state.formattedGraphicalItems.find(function(F){var B=F.item;return B.type.name==="Scatter"});$&&(D=oe(oe({},D),$.props.points[P].tooltipPosition),C=$.props.points[P].tooltipPayload);var U={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:A,activePayload:C,activeCoordinate:D};this.setState(U),this.renderCursor(N),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var E,S;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(w){E7([li(w.children,Ra)],[li(this.props.children,Ra)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=li(this.props.children,Ra);if(w&&typeof w.props.shared=="boolean"){var k=w.props.shared?"axis":"item";return o.indexOf(k)>=0?k:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var k=this.container,E=k.getBoundingClientRect(),S=Wge(E),_={chartX:Math.round(w.pageX-S.left),chartY:Math.round(w.pageY-S.top)},N=E.width/k.offsetWidth||1,P=this.inRange(_.chartX,_.chartY,N);if(!P)return null;var A=this.state,C=A.xAxisMap,O=A.yAxisMap,j=this.getTooltipEventType(),R=tC(this.state,this.props.data,this.props.layout,P);if(j!=="axis"&&C&&O){var D=Po(C).scale,$=Po(O).scale,U=D&&D.invert?D.invert(_.chartX):null,F=$&&$.invert?$.invert(_.chartY):null;return oe(oe({},_),{},{xValue:U,yValue:F},R)}return R?oe(oe({},_),R):null}},{key:"inRange",value:function(w,k){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,_=w/E,N=k/E;if(S==="horizontal"||S==="vertical"){var P=this.state.offset,A=_>=P.left&&_<=P.left+P.width&&N>=P.top&&N<=P.top+P.height;return A?{x:_,y:N}:null}var C=this.state,O=C.angleAxisMap,j=C.radiusAxisMap;if(O&&j){var R=Po(O);return VA({x:_,y:N},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,k=this.getTooltipEventType(),E=li(w,Ra),S={};E&&k==="axis"&&(E.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=o1(this.props,this.handleOuterEvent);return oe(oe({},_),S)}},{key:"addListener",value:function(){ky.on(Ey,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ky.removeListener(Ey,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,k,E){for(var S=this.state.formattedGraphicalItems,_=0,N=S.length;_<N;_++){var P=S[_];if(P.item===w||P.props.key===w.key||k===Rs(P.item.type)&&E===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,k=this.state.offset,E=k.left,S=k.top,_=k.height,N=k.width;return V.createElement("defs",null,V.createElement("clipPath",{id:w},V.createElement("rect",{x:E,y:S,height:_,width:N})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(k,E){var S=JI(E,2),_=S[0],N=S[1];return oe(oe({},k),{},Xe({},_,N.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(k,E){var S=JI(E,2),_=S[0],N=S[1];return oe(oe({},k),{},Xe({},_,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[w])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(w){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[w])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(w){var k=this.state,E=k.formattedGraphicalItems,S=k.activeItem;if(E&&E.length)for(var _=0,N=E.length;_<N;_++){var P=E[_],A=P.props,C=P.item,O=C.type.defaultProps!==void 0?oe(oe({},C.type.defaultProps),C.props):C.props,j=Rs(C.type);if(j==="Bar"){var R=(A.data||[]).find(function(F){return C9e(w,F)});if(R)return{graphicalItem:P,payload:R}}else if(j==="RadialBar"){var D=(A.data||[]).find(function(F){return VA(w,F)});if(D)return{graphicalItem:P,payload:D}}else if(b5(P,S)||w5(P,S)||fp(P,S)){var $=Mxe({graphicalItem:P,activeTooltipItem:S,itemData:O.data}),U=O.activeIndex===void 0?$:O.activeIndex;return{graphicalItem:oe(oe({},P),{},{childIndex:U}),payload:fp(P,S)?O.data[$]:P.props.data[$]}}}return null}},{key:"render",value:function(){var w=this;if(!IT(this))return null;var k=this.props,E=k.children,S=k.className,_=k.width,N=k.height,P=k.style,A=k.compact,C=k.title,O=k.desc,j=ZI(k,VSe),R=ut(j,!1);if(A)return V.createElement(DI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement(T7,Mc({},R,{width:_,height:N,title:C,desc:O}),this.renderClipPath(),OT(E,this.renderMap)));if(this.props.accessibilityLayer){var D,$;R.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,R.role=($=this.props.role)!==null&&$!==void 0?$:"application",R.onKeyDown=function(F){w.accessibilityManager.keyboardEvent(F)},R.onFocus=function(){w.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return V.createElement(DI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement("div",Mc({className:St("recharts-wrapper",S),style:oe({position:"relative",cursor:"default",width:_,height:N},P)},U,{ref:function(B){w.container=B}}),V.createElement(T7,Mc({},R,{width:_,height:N,title:C,desc:O,style:rke}),this.renderClipPath(),OT(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(I.Component);Xe(g,"displayName",n),Xe(g,"defaultProps",oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Xe(g,"getDerivedStateFromProps",function(v,y){var b=v.dataKey,w=v.data,k=v.children,E=v.width,S=v.height,_=v.layout,N=v.stackOffset,P=v.margin,A=y.dataStartIndex,C=y.dataEndIndex;if(y.updateId===void 0){var O=nC(v);return oe(oe(oe({},O),{},{updateId:0},p(oe(oe({props:v},O),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:w,prevWidth:E,prevHeight:S,prevLayout:_,prevStackOffset:N,prevMargin:P,prevChildren:k})}if(b!==y.prevDataKey||w!==y.prevData||E!==y.prevWidth||S!==y.prevHeight||_!==y.prevLayout||N!==y.prevStackOffset||!Xc(P,y.prevMargin)){var j=nC(v),R={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},D=oe(oe({},tC(y,w,_)),{},{updateId:y.updateId+1}),$=oe(oe(oe({},j),R),D);return oe(oe(oe({},$),p(oe({props:v},$),y)),{},{prevDataKey:b,prevData:w,prevWidth:E,prevHeight:S,prevLayout:_,prevStackOffset:N,prevMargin:P,prevChildren:k})}if(!E7(k,y.prevChildren)){var U,F,B,z,q=li(k,Au),G=q&&(U=(F=q.props)===null||F===void 0?void 0:F.startIndex)!==null&&U!==void 0?U:A,te=q&&(B=(z=q.props)===null||z===void 0?void 0:z.endIndex)!==null&&B!==void 0?B:C,de=G!==A||te!==C,ye=!mt(w),J=ye&&!de?y.updateId:y.updateId+1;return oe(oe({updateId:J},p(oe(oe({props:v},y),{},{updateId:J,dataStartIndex:G,dataEndIndex:te}),y)),{},{prevChildren:k,dataStartIndex:G,dataEndIndex:te})}return null}),Xe(g,"renderActiveDot",function(v,y,b){var w;return I.isValidElement(v)?w=I.cloneElement(v,y):at(v)?w=v(y):w=V.createElement(Jw,y),V.createElement(an,{className:"recharts-active-dot",key:b},w)});var x=I.forwardRef(function(y,b){return V.createElement(g,Mc({},y,{ref:b}))});return x.displayName=g.displayName,x},pke=hke({chartName:"AreaChart",GraphicalChild:T0,axisComponents:[{axisType:"xAxis",AxisComp:T5},{axisType:"yAxis",AxisComp:P5}],formatAxisMap:awe});const jB=6048e5,mke=864e5,MB=6e4,DB=36e5,iC=Symbol.for("constructDateFrom");function yn(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&iC in t?t[iC](e):t instanceof Date?new t.constructor(e):new Date(e)}function wt(t,e){return yn(e||t,t)}function I5(t,e,n){const r=wt(t,n==null?void 0:n.in);return isNaN(e)?yn(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function tu(t,e,n){const r=wt(t,n==null?void 0:n.in);if(isNaN(e))return yn(t,NaN);if(!e)return r;const i=r.getDate(),a=yn(t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const s=a.getDate();return i>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}let gke={};function a4(){return gke}function jl(t,e){var o,l,c,u;const n=a4(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=wt(t,e==null?void 0:e.in),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function xp(t,e){return jl(t,{...e,weekStartsOn:1})}function RB(t,e){const n=wt(t,e==null?void 0:e.in),r=n.getFullYear(),i=yn(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=xp(i),s=yn(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=xp(s);return n.getTime()>=a.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function aC(t){const e=wt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function tc(t,...e){const n=yn.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function Ga(t,e){const n=wt(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function C5(t,e,n){const[r,i]=tc(n==null?void 0:n.in,t,e),a=Ga(r),s=Ga(i),o=+a-aC(a),l=+s-aC(s);return Math.round((o-l)/mke)}function yke(t,e){const n=RB(t,e),r=yn(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),xp(r)}function vke(t,e,n){return I5(t,e*7,n)}function xke(t,e,n){return tu(t,e*12,n)}function bke(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=yn.bind(null,i));const a=wt(i,r);(!n||n<a||isNaN(+a))&&(n=a)}),yn(r,n||NaN)}function wke(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=yn.bind(null,i));const a=wt(i,r);(!n||n>a||isNaN(+a))&&(n=a)}),yn(r,n||NaN)}function Is(t,e,n){const[r,i]=tc(n==null?void 0:n.in,t,e);return+Ga(r)==+Ga(i)}function $B(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function _ke(t){return!(!$B(t)&&typeof t!="number"||isNaN(+wt(t)))}function LB(t,e,n){const[r,i]=tc(n==null?void 0:n.in,t,e),a=r.getFullYear()-i.getFullYear(),s=r.getMonth()-i.getMonth();return a*12+s}function Ske(t,e,n){const[r,i]=tc(n==null?void 0:n.in,t,e),a=sC(r,i),s=Math.abs(C5(r,i));r.setDate(r.getDate()-a*s);const o=+(sC(r,i)===-a),l=a*(s-o);return l===0?0:l}function sC(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function em(t,e){const n=wt(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function FB(t,e){const n=wt(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function l_(t,e){const[n,r]=tc(t,e.start,e.end);return{start:n,end:r}}function kke(t,e){const{start:n,end:r}=l_(e==null?void 0:e.in,t);let i=+n>+r;const a=i?+n:+r,s=i?r:n;s.setHours(0,0,0,0);let o=1;const l=[];for(;+s<=a;)l.push(yn(n,s)),s.setDate(s.getDate()+o),s.setHours(0,0,0,0);return i?l.reverse():l}function Eke(t,e){const{start:n,end:r}=l_(e==null?void 0:e.in,t);let i=+n>+r;const a=i?+n:+r,s=i?r:n;s.setHours(0,0,0,0),s.setDate(1);let o=1;const l=[];for(;+s<=a;)l.push(yn(n,s)),s.setMonth(s.getMonth()+o);return i?l.reverse():l}function VB(t,e){const n=wt(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Nke(t,e){const n=wt(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function UB(t,e){const n=wt(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Tke(t,e){const{start:n,end:r}=l_(e==null?void 0:e.in,t);let i=+n>+r;const a=i?+n:+r,s=i?r:n;s.setHours(0,0,0,0),s.setMonth(0,1);let o=1;const l=[];for(;+s<=a;)l.push(yn(n,s)),s.setFullYear(s.getFullYear()+o);return i?l.reverse():l}function c_(t,e){var o,l,c,u;const n=a4(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=wt(t,e==null?void 0:e.in),a=i.getDay(),s=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function Pke(t,e){return c_(t,{...e,weekStartsOn:1})}const Ake={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ike=(t,e,n)=>{let r;const i=Ake[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ty(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Cke={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Oke={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},jke={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Mke={date:Ty({formats:Cke,defaultWidth:"full"}),time:Ty({formats:Oke,defaultWidth:"full"}),dateTime:Ty({formats:jke,defaultWidth:"full"})},Dke={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Rke=(t,e,n,r)=>Dke[t];function Jd(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const $ke={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Lke={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Fke={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Vke={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Uke={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Bke={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zke=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Wke={ordinalNumber:zke,era:Jd({values:$ke,defaultWidth:"wide"}),quarter:Jd({values:Lke,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Jd({values:Fke,defaultWidth:"wide"}),day:Jd({values:Vke,defaultWidth:"wide"}),dayPeriod:Jd({values:Uke,defaultWidth:"wide",formattingValues:Bke,defaultFormattingWidth:"wide"})};function Zd(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?Hke(o,d=>d.test(s)):qke(o,d=>d.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}function qke(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Hke(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Gke(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const Kke=/^(\d+)(th|st|nd|rd)?/i,Yke=/\d+/i,Qke={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Xke={any:[/^b/i,/^(a|c)/i]},Jke={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Zke={any:[/1/i,/2/i,/3/i,/4/i]},eEe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},tEe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},nEe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rEe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},iEe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},aEe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},sEe={ordinalNumber:Gke({matchPattern:Kke,parsePattern:Yke,valueCallback:t=>parseInt(t,10)}),era:Zd({matchPatterns:Qke,defaultMatchWidth:"wide",parsePatterns:Xke,defaultParseWidth:"any"}),quarter:Zd({matchPatterns:Jke,defaultMatchWidth:"wide",parsePatterns:Zke,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Zd({matchPatterns:eEe,defaultMatchWidth:"wide",parsePatterns:tEe,defaultParseWidth:"any"}),day:Zd({matchPatterns:nEe,defaultMatchWidth:"wide",parsePatterns:rEe,defaultParseWidth:"any"}),dayPeriod:Zd({matchPatterns:iEe,defaultMatchWidth:"any",parsePatterns:aEe,defaultParseWidth:"any"})},vc={code:"en-US",formatDistance:Ike,formatLong:Mke,formatRelative:Rke,localize:Wke,match:sEe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function oEe(t,e){const n=wt(t,e==null?void 0:e.in);return C5(n,UB(n))+1}function u_(t,e){const n=wt(t,e==null?void 0:e.in),r=+xp(n)-+yke(n);return Math.round(r/jB)+1}function BB(t,e){var u,d,h,p;const n=wt(t,e==null?void 0:e.in),r=n.getFullYear(),i=a4(),a=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=yn((e==null?void 0:e.in)||t,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const o=jl(s,e),l=yn((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const c=jl(l,e);return+n>=+o?r+1:+n>=+c?r:r-1}function lEe(t,e){var o,l,c,u;const n=a4(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=BB(t,e),a=yn((e==null?void 0:e.in)||t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),jl(a,e)}function d_(t,e){const n=wt(t,e==null?void 0:e.in),r=+jl(n,e)-+lEe(n,e);return Math.round(r/jB)+1}function Ct(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const mo={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ct(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ct(n+1,2)},d(t,e){return Ct(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ct(t.getHours()%12||12,e.length)},H(t,e){return Ct(t.getHours(),e.length)},m(t,e){return Ct(t.getMinutes(),e.length)},s(t,e){return Ct(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ct(i,e.length)}},cc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},oC={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return mo.y(t,e)},Y:function(t,e,n,r){const i=BB(t,r),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return Ct(s,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):Ct(a,e.length)},R:function(t,e){const n=RB(t);return Ct(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ct(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ct(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ct(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return mo.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ct(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=d_(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Ct(i,e.length)},I:function(t,e,n){const r=u_(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ct(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):mo.d(t,e)},D:function(t,e,n){const r=oEe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ct(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Ct(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Ct(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Ct(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=cc.noon:r===0?i=cc.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=cc.evening:r>=12?i=cc.afternoon:r>=4?i=cc.morning:i=cc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return mo.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):mo.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ct(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ct(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):mo.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):mo.s(t,e)},S:function(t,e){return mo.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return cC(r);case"XXXX":case"XX":return z0(r);case"XXXXX":case"XXX":default:return z0(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return cC(r);case"xxxx":case"xx":return z0(r);case"xxxxx":case"xxx":default:return z0(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+lC(r,":");case"OOOO":default:return"GMT"+z0(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+lC(r,":");case"zzzz":default:return"GMT"+z0(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Ct(r,e.length)},T:function(t,e,n){return Ct(+t,e.length)}};function lC(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+Ct(a,2)}function cC(t,e){return t%60===0?(t>0?"-":"+")+Ct(Math.abs(t)/60,2):z0(t,e)}function z0(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Ct(Math.trunc(r/60),2),a=Ct(r%60,2);return n+i+e+a}const uC=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},zB=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},cEe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return uC(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",uC(r,e)).replace("{{time}}",zB(i,e))},uEe={p:zB,P:cEe},dEe=/^D+$/,fEe=/^Y+$/,hEe=["D","DD","YY","YYYY"];function pEe(t){return dEe.test(t)}function mEe(t){return fEe.test(t)}function gEe(t,e,n){const r=yEe(t,e,n);if(console.warn(r),hEe.includes(t))throw new RangeError(r)}function yEe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const vEe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,xEe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bEe=/^'([^]*?)'?$/,wEe=/''/g,_Ee=/[a-zA-Z]/;function Xt(t,e,n){var u,d,h,p,g,x,v,y;const r=a4(),i=(n==null?void 0:n.locale)??r.locale??vc,a=(n==null?void 0:n.firstWeekContainsDate)??((d=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((x=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:x.weekStartsOn)??r.weekStartsOn??((y=(v=r.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??0,o=wt(t,n==null?void 0:n.in);if(!_ke(o))throw new RangeError("Invalid time value");let l=e.match(xEe).map(b=>{const w=b[0];if(w==="p"||w==="P"){const k=uEe[w];return k(b,i.formatLong)}return b}).join("").match(vEe).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const w=b[0];if(w==="'")return{isToken:!1,value:SEe(b)};if(oC[w])return{isToken:!0,value:b};if(w.match(_Ee))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:b}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(b=>{if(!b.isToken)return b.value;const w=b.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&mEe(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&pEe(w))&&gEe(w,e,String(t));const k=oC[w[0]];return k(o,w,i.localize,c)}).join("")}function SEe(t){const e=t.match(bEe);return e?e[1].replace(wEe,"'"):t}function kEe(t,e){const n=wt(t,e==null?void 0:e.in),r=n.getFullYear(),i=n.getMonth(),a=yn(n,0);return a.setFullYear(r,i+1,0),a.setHours(0,0,0,0),a.getDate()}function EEe(t,e){return wt(t,e==null?void 0:e.in).getMonth()}function NEe(t,e){return wt(t,e==null?void 0:e.in).getFullYear()}function f_(t,e){return+wt(t)>+wt(e)}function xc(t,e){return+wt(t)<+wt(e)}function WB(t,e,n){const[r,i]=tc(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function TEe(t,e,n){const[r,i]=tc(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()}function Ro(t,e,n){const r=+wt(t,n==null?void 0:n.in),[i,a]=[+wt(e.start,n==null?void 0:n.in),+wt(e.end,n==null?void 0:n.in)].sort((s,o)=>s-o);return r>=i&&r<=a}function O5(t,e,n){return I5(t,-e,n)}function Oi(t,e){const n=()=>yn(e==null?void 0:e.in,NaN),i=CEe(t);let a;if(i.date){const c=OEe(i.date,2);a=jEe(c.restDateString,c.year)}if(!a||isNaN(+a))return n();const s=+a;let o=0,l;if(i.time&&(o=MEe(i.time),isNaN(o)))return n();if(i.timezone){if(l=DEe(i.timezone),isNaN(l))return n()}else{const c=new Date(s+o),u=wt(0,e==null?void 0:e.in);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return wt(s+o+l,e==null?void 0:e.in)}const m3={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},PEe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,AEe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,IEe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function CEe(t){const e={},n=t.split(m3.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],m3.timeZoneDelimiter.test(e.date)&&(e.date=t.split(m3.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=m3.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function OEe(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:t.slice((r[1]||r[2]).length)}}function jEe(t,e){if(e===null)return new Date(NaN);const n=t.match(PEe);if(!n)return new Date(NaN);const r=!!n[4],i=ef(n[1]),a=ef(n[2])-1,s=ef(n[3]),o=ef(n[4]),l=ef(n[5])-1;if(r)return VEe(e,o,l)?REe(e,o,l):new Date(NaN);{const c=new Date(0);return!LEe(e,a,s)||!FEe(e,i)?new Date(NaN):(c.setUTCFullYear(e,a,Math.max(i,s)),c)}}function ef(t){return t?parseInt(t):1}function MEe(t){const e=t.match(AEe);if(!e)return NaN;const n=Py(e[1]),r=Py(e[2]),i=Py(e[3]);return UEe(n,r,i)?n*DB+r*MB+i*1e3:NaN}function Py(t){return t&&parseFloat(t.replace(",","."))||0}function DEe(t){if(t==="Z")return 0;const e=t.match(IEe);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return BEe(r,i)?n*(r*DB+i*MB):NaN}function REe(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,a=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}const $Ee=[31,null,31,30,31,30,31,31,30,31,30,31];function qB(t){return t%400===0||t%4===0&&t%100!==0}function LEe(t,e,n){return e>=0&&e<=11&&n>=1&&n<=($Ee[e]||(qB(t)?29:28))}function FEe(t,e){return e>=1&&e<=(qB(t)?366:365)}function VEe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function UEe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function BEe(t,e){return e>=0&&e<=59}function zEe(t,e,n){const r=wt(t,n==null?void 0:n.in),i=r.getFullYear(),a=r.getDate(),s=yn(t,0);s.setFullYear(i,e,15),s.setHours(0,0,0,0);const o=kEe(s);return r.setMonth(e,Math.min(a,o)),r}function WEe(t,e,n){const r=wt(t,n==null?void 0:n.in);return isNaN(+r)?yn(t,NaN):(r.setFullYear(e),r)}function qEe(t,e,n){return tu(t,-1,n)}const j5=({onChange:t,initialRange:e,range:n,onRangeChange:r,brandColor:i})=>{const[a,s]=I.useState(!1),[o,l]=I.useState(n||e||{from:null,to:null}),[c,u]=I.useState(null),[d,h]=I.useState(new Date),p=I.useRef(null);I.useEffect(()=>{const _=N=>{p.current&&!p.current.contains(N.target)&&s(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const g=_=>{const N=t||r,P=Ga(_);if(!o.from||o.from&&o.to)l({from:P,to:null});else{let A;xc(_,o.from)?A={from:Ga(_),to:em(o.from)}:A={from:Ga(o.from),to:em(_)},l(A),N&&N(A)}},x=_=>{o.from&&!o.to?u(_):u(null)},v=()=>{s(!1);const _=t||r;if(_){const N={...o};o.from&&(N.from=Ga(o.from)),o.to&&(N.to=em(o.to)),_(N)}},y=()=>{s(!1),l(n||e||{from:null,to:null})};I.useEffect(()=>{n&&l(n)},[n]);const b=()=>o.from&&o.to?`${Xt(o.from,"d MMM yyyy")}  ${Xt(o.to,"d MMM yyyy")}`:o.from?`${Xt(o.from,"d MMM yyyy")}  Select end date`:"",w=_=>{const N=VB(_),P=FB(N),A=jl(N,{weekStartsOn:1}),C=c_(P,{weekStartsOn:1});let O=A;const j=[];let R=[];for(;O<=C;)R.push(O),R.length===7&&(j.push(R),R=[]),O=I5(O,1);return f.jsx("div",{className:"grid grid-cols-7 gap-y-2",children:j.map((D,$)=>D.map((U,F)=>{const B=o.from&&Is(U,o.from),z=o.to&&Is(U,o.to),q=o.from&&o.to&&Ro(U,{start:o.from,end:o.to});let G=!1;if(o.from&&!o.to&&c){const ne=xc(o.from,c)?o.from:c,ve=f_(o.from,c)?o.from:c;G=Ro(U,{start:ne,end:ve})&&!Is(U,o.from)}const te=WB(U,N);let de="relative w-9 h-9 sm:w-10 sm:h-10 flex items-center justify-center",ye="w-9 h-9 sm:w-10 sm:h-10 flex items-center justify-center text-sm relative z-10 cursor-pointer rounded-full transition-colors font-medium",J="",we="text-gray-700 dark:text-slate-300";te?B?(J="bg-accent text-white font-semibold shadow-accent z-20 brightness-110",we="text-white"):z?J="bg-white dark:bg-slate-800 border-2 border-accent text-accent font-semibold z-20 hover:brightness-110":q||G?we="text-accent font-semibold":ye+=" hover:bg-slate-100 dark:hover:bg-slate-700":we="text-gray-300 dark:text-slate-600 pointer-events-none";let ke="";return te&&(q||G)&&(ke="absolute h-9 sm:h-10 z-0 top-0 bottom-0",B&&(o.to||c)?ke+=xc(o.to||c,o.from)?" left-0 right-1/2":" left-1/2 right-0 rounded-l-none":z?ke+=" left-0 right-1/2 rounded-r-none":Is(U,c)&&o.from?ke+=xc(c,o.from)?" left-1/2 right-0":" left-0 right-1/2":ke+=" left-0 right-0",B&&o.to&&xc(o.to,o.from)&&(ke="absolute h-9 sm:h-10 z-0 top-0 bottom-0 left-0 right-1/2")),f.jsxs("div",{className:de,role:"button","aria-label":`Select ${Xt(U,"d MMMM yyyy")}`,tabIndex:te?0:-1,onMouseEnter:()=>x(U),onClick:()=>g(U),onKeyDown:ne=>{(ne.key==="Enter"||ne.key===" ")&&(ne.preventDefault(),g(U))},children:[ke&&f.jsx("div",{className:ke,style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)"}}),f.jsx("div",{className:`${ye} ${J} ${we}`,children:Xt(U,"d")})]},U.toISOString())}))})},k=()=>h(tu(d,1)),E=()=>h(qEe(d)),S=["Mo","Tu","We","Th","Fr","Sa","Su"];return f.jsxs("div",{className:"relative w-full max-w-xl font-sans",ref:p,children:[f.jsxs("div",{className:"relative flex items-center w-full outline-none focus-visible:outline-none",onClick:()=>s(!a),role:"button","aria-haspopup":"dialog","aria-expanded":a,"aria-label":"Select date range",tabIndex:0,onKeyDown:_=>{(_.key==="Enter"||_.key===" ")&&s(!a)},children:[f.jsx("div",{className:`w-full h-[42px] sm:h-[44px] flex items-center ps-3 sm:ps-4 pe-9 sm:pe-10 bg-white dark:bg-slate-800 border-2 rounded-2xl cursor-pointer transition-all shadow-sm font-bold
            ${a?"border-accent/30 ring-4 ring-accent/10 bg-accent/5 dark:border-slate-500 dark:ring-0 dark:bg-slate-800":"border-slate-100 dark:border-slate-600 hover:border-slate-300 dark:hover:border-slate-500"}`,children:f.jsx("span",{className:`text-[11px] font-bold truncate ${o.from?"text-gray-900 dark:text-white":"text-gray-500 dark:text-slate-400"}`,children:o.from?b():"Select date range"})}),f.jsx(yD,{className:`absolute end-3 w-4 h-4 pointer-events-none transition-colors ${a?"text-accent":"text-slate-400"}`})]}),a&&f.jsxs("div",{className:"absolute top-full start-0 mt-2 sm:mt-4 z-50 bg-white dark:bg-slate-800 rounded-xl shadow-2xl border border-gray-100 dark:border-slate-700 p-0 overflow-hidden w-[min(420px,calc(100vw-1rem))] sm:w-[680px] animate-in fade-in zoom-in-95 duration-200",role:"dialog","aria-modal":"true","aria-label":"Calendar date range picker",children:[f.jsxs("div",{className:"flex flex-col md:flex-row divide-y md:divide-y-0 md:divide-x dark:md:divide-slate-700 md:divide-gray-100",children:[f.jsxs("div",{className:"p-3 sm:p-6 flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("button",{onClick:E,className:"p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full text-gray-500 dark:text-slate-400 transition-colors","aria-label":"Previous month",children:f.jsx(Dm,{className:"w-5 h-5"})}),f.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white",children:Xt(d,"MMMM yyyy")}),f.jsx("button",{onClick:k,className:"p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full text-gray-500 dark:text-slate-400 transition-colors md:hidden","aria-label":"Next month",children:f.jsx(Eh,{className:"w-5 h-5"})}),f.jsx("div",{className:"w-7 hidden md:block"})]}),f.jsx("div",{className:"grid grid-cols-7 mb-4",children:S.map(_=>f.jsx("span",{className:"text-center text-xs font-semibold text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:_},_))}),w(d)]}),f.jsxs("div",{className:"hidden md:block p-3 sm:p-6 flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("div",{className:"w-7"}),f.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white",children:Xt(tu(d,1),"MMMM yyyy")}),f.jsx("button",{onClick:k,className:"p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full text-gray-500 dark:text-slate-400 transition-colors","aria-label":"Next month",children:f.jsx(Eh,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"grid grid-cols-7 mb-4",children:S.map(_=>f.jsx("span",{className:"text-center text-xs font-semibold text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:_},_))}),w(tu(d,1))]})]}),f.jsxs("div",{className:"border-t border-gray-100 dark:border-slate-700 p-3 sm:p-4 flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3 bg-white dark:bg-slate-800 sm:px-6 sm:py-4",children:[f.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:o.from&&o.to?`${Ske(o.to,o.from)+1} days`:o.from?"Select end date":""}),f.jsxs("div",{className:"flex gap-2 sm:gap-3 justify-end",children:[f.jsx("button",{onClick:y,className:"px-6 py-2.5 text-sm font-bold text-gray-700 dark:text-slate-200 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 hover:text-gray-900 dark:hover:text-white transition-all font-sans",children:"Cancel"}),f.jsx("button",{onClick:v,className:"px-8 py-2.5 text-sm font-bold text-white bg-accent rounded-lg shadow-accent transition-all transform active:scale-95 font-sans",children:"Done"})]})]})]})]})},HEe=({title:t,options:e,selectedValues:n,onChange:r,onClear:i,showProductCount:a=!1,productCount:s=0,showSearch:o=!0,collapsible:l=!1})=>{const{appearance:c}=Nn(),[u,d]=I.useState(""),[h,p]=I.useState(!l),g=v=>{const y=n.includes(v)?n.filter(b=>b!==v):[...n,v];r(y)},x=o?a?e:e.filter(v=>v.label.toLowerCase().includes(u.toLowerCase())):e;return f.jsxs("div",{className:`rounded-2xl shadow-[0_2px_10px_-4px_rgba(0,0,0,0.1)] border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col w-full min-w-[240px] transition-all ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:[t&&t.length>0&&f.jsxs("div",{className:"px-4 py-3 pb-2 flex items-center justify-between",children:[f.jsx("div",{className:"flex items-center gap-3",children:f.jsx("h3",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:t})}),l&&f.jsx("button",{onClick:()=>p(!h),className:"p-1 rounded-full text-slate-400 hover:text-slate-600",children:h?f.jsx(qx,{className:"w-4 h-4"}):f.jsx(no,{className:"w-4 h-4"})})]}),!a&&o&&h&&f.jsx("div",{className:"px-3 pb-2",children:f.jsxs("div",{className:"relative",children:[f.jsx(Wl,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),f.jsx("input",{type:"text",placeholder:"Search...",value:u,onChange:v=>d(v.target.value),className:`w-full ps-9 pe-4 py-2 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent transition-all font-bold text-xs dark:text-white ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900/50"}`})]})}),f.jsx("div",{className:`flex-1 px-2 pb-2 space-y-1 max-h-64 overflow-y-auto ${h?"":"hidden"}`,children:x.map(v=>{const y=n.includes(v.value);return f.jsxs("div",{onClick:()=>g(v.value),className:`flex items-center justify-between px-3 py-2.5 rounded-xl cursor-pointer transition-all group ${y?"bg-accent/10":["liquid","default_glass"].includes(c==null?void 0:c.theme)?"hover:bg-white/20 dark:hover:bg-slate-700/30":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-5 h-5 rounded-[5px] border flex items-center justify-center transition-all ${y?"bg-accent border-accent shadow-sm":"border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800"}`,children:y&&f.jsx(vD,{className:"w-3.5 h-3.5 text-white stroke-[3px]"})}),f.jsx("span",{className:`text-sm font-semibold ${y?"text-accent":"text-slate-600 dark:text-slate-300"}`,children:v.label})]}),f.jsx("span",{className:`text-xs font-bold ${y?"text-accent":"text-slate-400 group-hover:text-slate-500"}`,children:v.count})]},v.value)})}),n.length>0&&f.jsx("div",{className:"px-4 py-3 border-t border-slate-50 dark:border-slate-700/50",children:f.jsx("button",{onClick:i,className:"text-xs font-bold text-accent hover:underline transition-colors flex items-center gap-1",children:"Clear All"})})]})},Ui=({title:t,options:e,selectedValues:n,onChange:r,icon:i,showProductCount:a=!1,productCount:s=0,showSearch:o=!0,ariaLabel:l=null})=>{const{appearance:c}=Nn(),[u,d]=I.useState(!1),h=I.useRef(null);I.useEffect(()=>{const v=y=>{h.current&&!h.current.contains(y.target)&&d(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const p=()=>{r([])},g=()=>{d(!1)},x=n.length>0;return f.jsxs("div",{className:"relative",ref:h,children:[f.jsxs("button",{onClick:()=>d(!u),"aria-label":l||t||"Filter",className:`flex items-center gap-1.5 px-3 h-[44px] rounded-2xl border-2 transition-all font-bold text-[11px] outline-none ${u||x?"bg-accent/10 border-accent/30 dark:border-slate-500 text-accent shadow-[0_0_15px_-3px_rgba(0,0,0,0.1)]":["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-800/40 backdrop-blur-md border-white/20 dark:border-slate-600 text-slate-500 hover:bg-white/60 dark:hover:bg-slate-700/60 dark:hover:border-slate-500":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-600 text-slate-500 hover:border-slate-300 dark:hover:border-slate-500"}`,children:[i?f.jsx(i,{className:"w-4 h-4"}):f.jsx(Gx,{className:"w-4 h-4"}),f.jsx("span",{className:"truncate max-w-[120px]",children:x?`${n.length} Selected`:t}),f.jsx(no,{className:`w-4 h-4 transition-transform ${u?"rotate-180":""}`})]}),u&&f.jsx("div",{className:"absolute top-full start-0 mt-2 z-50 w-72 animate-in fade-in zoom-in-95 duration-200",children:f.jsx(HEe,{title:"",options:e,selectedValues:n,onChange:r,onClear:p,onClose:g,showProductCount:a,productCount:s,showSearch:o})})]})};class br{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=e+a,o=Math.abs(e)<Math.abs(a)?e-(s-a):a-(s-e);o&&(n[r++]=o),e=s}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=e[--n];n>0&&(r=s,i=e[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}}function*GEe(t){for(const e of t)yield*e}function HB(t){return Array.from(GEe(t))}function Dc(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}var qe=1e-6,bp=1e-12,lt=Math.PI,mn=lt/2,sg=lt/4,$r=lt*2,Lt=180/lt,Ge=lt/180,yt=Math.abs,yd=Math.atan,Lr=Math.atan2,Ve=Math.cos,g3=Math.ceil,GB=Math.exp,H8=Math.hypot,og=Math.log,Ay=Math.pow,Me=Math.sin,Bi=Math.sign||function(t){return t>0?1:t<0?-1:0},Yn=Math.sqrt,h_=Math.tan;function KB(t){return t>1?0:t<-1?lt:Math.acos(t)}function Fr(t){return t>1?mn:t<-1?-mn:Math.asin(t)}function dC(t){return(t=Me(t/2))*t}function sn(){}function lg(t,e){t&&hC.hasOwnProperty(t.type)&&hC[t.type](t,e)}var fC={Feature:function(t,e){lg(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)lg(n[r].geometry,e)}},hC={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){G8(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)G8(n[r],e,0)},Polygon:function(t,e){pC(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)pC(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)lg(n[r],e)}};function G8(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function pC(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)G8(t[n],e,1);e.polygonEnd()}function da(t,e){t&&fC.hasOwnProperty(t.type)?fC[t.type](t,e):lg(t,e)}var cg=new br,ug=new br,YB,QB,K8,Y8,Q8,ls={point:sn,lineStart:sn,lineEnd:sn,polygonStart:function(){cg=new br,ls.lineStart=KEe,ls.lineEnd=YEe},polygonEnd:function(){var t=+cg;ug.add(t<0?$r+t:t),this.lineStart=this.lineEnd=this.point=sn},sphere:function(){ug.add($r)}};function KEe(){ls.point=QEe}function YEe(){XB(YB,QB)}function QEe(t,e){ls.point=XB,YB=t,QB=e,t*=Ge,e*=Ge,K8=t,Y8=Ve(e=e/2+sg),Q8=Me(e)}function XB(t,e){t*=Ge,e*=Ge,e=e/2+sg;var n=t-K8,r=n>=0?1:-1,i=r*n,a=Ve(e),s=Me(e),o=Q8*s,l=Y8*a+o*Ve(i),c=o*r*Me(i);cg.add(Lr(c,l)),K8=t,Y8=a,Q8=s}function XEe(t){return ug=new br,da(t,ls),ug*2}function dg(t){return[Lr(t[1],t[0]),Fr(t[2])]}function Ml(t){var e=t[0],n=t[1],r=Ve(n);return[r*Ve(e),r*Me(e),Me(n)]}function y3(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Vu(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Iy(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function v3(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function fg(t){var e=Yn(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var tn,Wr,fn,di,W0,JB,ZB,nu,eh,bo,Xs,vs={point:X8,lineStart:mC,lineEnd:gC,polygonStart:function(){vs.point=tz,vs.lineStart=JEe,vs.lineEnd=ZEe,eh=new br,ls.polygonStart()},polygonEnd:function(){ls.polygonEnd(),vs.point=X8,vs.lineStart=mC,vs.lineEnd=gC,cg<0?(tn=-(fn=180),Wr=-(di=90)):eh>qe?di=90:eh<-qe&&(Wr=-90),Xs[0]=tn,Xs[1]=fn},sphere:function(){tn=-(fn=180),Wr=-(di=90)}};function X8(t,e){bo.push(Xs=[tn=t,fn=t]),e<Wr&&(Wr=e),e>di&&(di=e)}function ez(t,e){var n=Ml([t*Ge,e*Ge]);if(nu){var r=Vu(nu,n),i=[r[1],-r[0],0],a=Vu(i,r);fg(a),a=dg(a);var s=t-W0,o=s>0?1:-1,l=a[0]*Lt*o,c,u=yt(s)>180;u^(o*W0<l&&l<o*t)?(c=a[1]*Lt,c>di&&(di=c)):(l=(l+360)%360-180,u^(o*W0<l&&l<o*t)?(c=-a[1]*Lt,c<Wr&&(Wr=c)):(e<Wr&&(Wr=e),e>di&&(di=e))),u?t<W0?ci(tn,t)>ci(tn,fn)&&(fn=t):ci(t,fn)>ci(tn,fn)&&(tn=t):fn>=tn?(t<tn&&(tn=t),t>fn&&(fn=t)):t>W0?ci(tn,t)>ci(tn,fn)&&(fn=t):ci(t,fn)>ci(tn,fn)&&(tn=t)}else bo.push(Xs=[tn=t,fn=t]);e<Wr&&(Wr=e),e>di&&(di=e),nu=n,W0=t}function mC(){vs.point=ez}function gC(){Xs[0]=tn,Xs[1]=fn,vs.point=X8,nu=null}function tz(t,e){if(nu){var n=t-W0;eh.add(yt(n)>180?n+(n>0?360:-360):n)}else JB=t,ZB=e;ls.point(t,e),ez(t,e)}function JEe(){ls.lineStart()}function ZEe(){tz(JB,ZB),ls.lineEnd(),yt(eh)>qe&&(tn=-(fn=180)),Xs[0]=tn,Xs[1]=fn,nu=null}function ci(t,e){return(e-=t)<0?e+360:e}function eNe(t,e){return t[0]-e[0]}function yC(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function tNe(t){var e,n,r,i,a,s,o;if(di=fn=-(tn=Wr=1/0),bo=[],da(t,vs),n=bo.length){for(bo.sort(eNe),e=1,r=bo[0],a=[r];e<n;++e)i=bo[e],yC(r,i[0])||yC(r,i[1])?(ci(r[0],i[1])>ci(r[0],r[1])&&(r[1]=i[1]),ci(i[0],r[1])>ci(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(s=-1/0,n=a.length-1,e=0,r=a[n];e<=n;r=i,++e)i=a[e],(o=ci(r[1],i[0]))>s&&(s=o,tn=i[0],fn=r[1])}return bo=Xs=null,tn===1/0||Wr===1/0?[[NaN,NaN],[NaN,NaN]]:[[tn,Wr],[fn,di]]}var mf,hg,pg,mg,gg,yg,vg,xg,J8,Z8,e9,nz,rz,Tr,Pr,Ar,pa={sphere:sn,point:p_,lineStart:vC,lineEnd:xC,polygonStart:function(){pa.lineStart=iNe,pa.lineEnd=aNe},polygonEnd:function(){pa.lineStart=vC,pa.lineEnd=xC}};function p_(t,e){t*=Ge,e*=Ge;var n=Ve(e);s4(n*Ve(t),n*Me(t),Me(e))}function s4(t,e,n){++mf,pg+=(t-pg)/mf,mg+=(e-mg)/mf,gg+=(n-gg)/mf}function vC(){pa.point=nNe}function nNe(t,e){t*=Ge,e*=Ge;var n=Ve(e);Tr=n*Ve(t),Pr=n*Me(t),Ar=Me(e),pa.point=rNe,s4(Tr,Pr,Ar)}function rNe(t,e){t*=Ge,e*=Ge;var n=Ve(e),r=n*Ve(t),i=n*Me(t),a=Me(e),s=Lr(Yn((s=Pr*a-Ar*i)*s+(s=Ar*r-Tr*a)*s+(s=Tr*i-Pr*r)*s),Tr*r+Pr*i+Ar*a);hg+=s,yg+=s*(Tr+(Tr=r)),vg+=s*(Pr+(Pr=i)),xg+=s*(Ar+(Ar=a)),s4(Tr,Pr,Ar)}function xC(){pa.point=p_}function iNe(){pa.point=sNe}function aNe(){iz(nz,rz),pa.point=p_}function sNe(t,e){nz=t,rz=e,t*=Ge,e*=Ge,pa.point=iz;var n=Ve(e);Tr=n*Ve(t),Pr=n*Me(t),Ar=Me(e),s4(Tr,Pr,Ar)}function iz(t,e){t*=Ge,e*=Ge;var n=Ve(e),r=n*Ve(t),i=n*Me(t),a=Me(e),s=Pr*a-Ar*i,o=Ar*r-Tr*a,l=Tr*i-Pr*r,c=H8(s,o,l),u=Fr(c),d=c&&-u/c;J8.add(d*s),Z8.add(d*o),e9.add(d*l),hg+=u,yg+=u*(Tr+(Tr=r)),vg+=u*(Pr+(Pr=i)),xg+=u*(Ar+(Ar=a)),s4(Tr,Pr,Ar)}function oNe(t){mf=hg=pg=mg=gg=yg=vg=xg=0,J8=new br,Z8=new br,e9=new br,da(t,pa);var e=+J8,n=+Z8,r=+e9,i=H8(e,n,r);return i<bp&&(e=yg,n=vg,r=xg,hg<qe&&(e=pg,n=mg,r=gg),i=H8(e,n,r),i<bp)?[NaN,NaN]:[Lr(n,e)*Lt,Fr(r/i)*Lt]}function uc(t){return function(){return t}}function t9(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function n9(t,e){return[yt(t)>lt?t+Math.round(-t/$r)*$r:t,e]}n9.invert=n9;function m_(t,e,n){return(t%=$r)?e||n?t9(wC(t),_C(e,n)):wC(t):e||n?_C(e,n):n9}function bC(t){return function(e,n){return e+=t,[e>lt?e-$r:e<-lt?e+$r:e,n]}}function wC(t){var e=bC(t);return e.invert=bC(-t),e}function _C(t,e){var n=Ve(t),r=Me(t),i=Ve(e),a=Me(e);function s(o,l){var c=Ve(l),u=Ve(o)*c,d=Me(o)*c,h=Me(l),p=h*n+u*r;return[Lr(d*i-p*a,u*n-h*r),Fr(p*i+d*a)]}return s.invert=function(o,l){var c=Ve(l),u=Ve(o)*c,d=Me(o)*c,h=Me(l),p=h*i-d*a;return[Lr(d*i+h*a,u*n+p*r),Fr(p*n-u*r)]},s}function az(t){t=m_(t[0]*Ge,t[1]*Ge,t.length>2?t[2]*Ge:0);function e(n){return n=t(n[0]*Ge,n[1]*Ge),n[0]*=Lt,n[1]*=Lt,n}return e.invert=function(n){return n=t.invert(n[0]*Ge,n[1]*Ge),n[0]*=Lt,n[1]*=Lt,n},e}function sz(t,e,n,r,i,a){if(n){var s=Ve(e),o=Me(e),l=r*n;i==null?(i=e+r*$r,a=e-l/2):(i=SC(s,i),a=SC(s,a),(r>0?i<a:i>a)&&(i+=r*$r));for(var c,u=i;r>0?u>a:u<a;u-=l)c=dg([s,-o*Ve(u),-o*Me(u)]),t.point(c[0],c[1])}}function SC(t,e){e=Ml(e),e[0]-=t,fg(e);var n=KB(-e[1]);return((-e[2]<0?-n:n)+$r-qe)%$r}function lNe(){var t=uc([0,0]),e=uc(90),n=uc(6),r,i,a={point:s};function s(l,c){r.push(l=i(l,c)),l[0]*=Lt,l[1]*=Lt}function o(){var l=t.apply(this,arguments),c=e.apply(this,arguments)*Ge,u=n.apply(this,arguments)*Ge;return r=[],i=m_(-l[0]*Ge,-l[1]*Ge,0).invert,sz(a,c,u,1),l={type:"Polygon",coordinates:[r]},r=i=null,l}return o.center=function(l){return arguments.length?(t=typeof l=="function"?l:uc([+l[0],+l[1]]),o):t},o.radius=function(l){return arguments.length?(e=typeof l=="function"?l:uc(+l),o):e},o.precision=function(l){return arguments.length?(n=typeof l=="function"?l:uc(+l),o):n},o}function oz(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:sn,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function tm(t,e){return yt(t[0]-e[0])<qe&&yt(t[1]-e[1])<qe}function x3(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function lz(t,e,n,r,i){var a=[],s=[],o,l;if(t.forEach(function(g){if(!((x=g.length-1)<=0)){var x,v=g[0],y=g[x],b;if(tm(v,y)){if(!v[2]&&!y[2]){for(i.lineStart(),o=0;o<x;++o)i.point((v=g[o])[0],v[1]);i.lineEnd();return}y[0]+=2*qe}a.push(b=new x3(v,g,null,!0)),s.push(b.o=new x3(v,null,b,!1)),a.push(b=new x3(y,g,null,!1)),s.push(b.o=new x3(y,null,b,!0))}}),!!a.length){for(s.sort(e),kC(a),kC(s),o=0,l=s.length;o<l;++o)s[o].e=n=!n;for(var c=a[0],u,d;;){for(var h=c,p=!0;h.v;)if((h=h.n)===c)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,l=u.length;o<l;++o)i.point((d=u[o])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(u=h.p.z,o=u.length-1;o>=0;--o)i.point((d=u[o])[0],d[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,p=!p}while(!h.v);i.lineEnd()}}}function kC(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Cy(t){return yt(t[0])<=lt?t[0]:Bi(t[0])*((yt(t[0])+lt)%$r-lt)}function cz(t,e){var n=Cy(e),r=e[1],i=Me(r),a=[Me(n),-Ve(n),0],s=0,o=0,l=new br;i===1?r=mn+qe:i===-1&&(r=-mn-qe);for(var c=0,u=t.length;c<u;++c)if(h=(d=t[c]).length)for(var d,h,p=d[h-1],g=Cy(p),x=p[1]/2+sg,v=Me(x),y=Ve(x),b=0;b<h;++b,g=k,v=S,y=_,p=w){var w=d[b],k=Cy(w),E=w[1]/2+sg,S=Me(E),_=Ve(E),N=k-g,P=N>=0?1:-1,A=P*N,C=A>lt,O=v*S;if(l.add(Lr(O*P*Me(A),y*_+O*Ve(A))),s+=C?N+P*$r:N,C^g>=n^k>=n){var j=Vu(Ml(p),Ml(w));fg(j);var R=Vu(a,j);fg(R);var D=(C^N>=0?-1:1)*Fr(R[2]);(r>D||r===D&&(j[0]||j[1]))&&(o+=C^N>=0?1:-1)}}return(s<-qe||s<qe&&l<-bp)^o&1}function uz(t,e,n,r){return function(i){var a=e(i),s=oz(),o=e(s),l=!1,c,u,d,h={point:p,lineStart:x,lineEnd:v,polygonStart:function(){h.point=y,h.lineStart=b,h.lineEnd=w,u=[],c=[]},polygonEnd:function(){h.point=p,h.lineStart=x,h.lineEnd=v,u=HB(u);var k=cz(c,r);u.length?(l||(i.polygonStart(),l=!0),lz(u,uNe,k,n,i)):k&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(k,E){t(k,E)&&i.point(k,E)}function g(k,E){a.point(k,E)}function x(){h.point=g,a.lineStart()}function v(){h.point=p,a.lineEnd()}function y(k,E){d.push([k,E]),o.point(k,E)}function b(){o.lineStart(),d=[]}function w(){y(d[0][0],d[0][1]),o.lineEnd();var k=o.clean(),E=s.result(),S,_=E.length,N,P,A;if(d.pop(),c.push(d),d=null,!!_){if(k&1){if(P=E[0],(N=P.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),S=0;S<N;++S)i.point((A=P[S])[0],A[1]);i.lineEnd()}return}_>1&&k&2&&E.push(E.pop().concat(E.shift())),u.push(E.filter(cNe))}}return h}}function cNe(t){return t.length>1}function uNe(t,e){return((t=t.x)[0]<0?t[1]-mn-qe:mn-t[1])-((e=e.x)[0]<0?e[1]-mn-qe:mn-e[1])}const r9=uz(function(){return!0},dNe,hNe,[-lt,-mn]);function dNe(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,s){var o=a>0?lt:-lt,l=yt(a-e);yt(l-lt)<qe?(t.point(e,n=(n+s)/2>0?mn:-mn),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),t.point(a,n),i=0):r!==o&&l>=lt&&(yt(e-r)<qe&&(e-=r*qe),yt(a-o)<qe&&(a-=o*qe),n=fNe(e,n,a,s),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),i=0),t.point(e=a,n=s),r=o},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function fNe(t,e,n,r){var i,a,s=Me(t-n);return yt(s)>qe?yd((Me(e)*(a=Ve(r))*Me(n)-Me(r)*(i=Ve(e))*Me(t))/(i*a*s)):(e+r)/2}function hNe(t,e,n,r){var i;if(t==null)i=n*mn,r.point(-lt,i),r.point(0,i),r.point(lt,i),r.point(lt,0),r.point(lt,-i),r.point(0,-i),r.point(-lt,-i),r.point(-lt,0),r.point(-lt,i);else if(yt(t[0]-e[0])>qe){var a=t[0]<e[0]?lt:-lt;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function dz(t){var e=Ve(t),n=6*Ge,r=e>0,i=yt(e)>qe;function a(u,d,h,p){sz(p,t,n,h,u,d)}function s(u,d){return Ve(u)*Ve(d)>e}function o(u){var d,h,p,g,x;return{lineStart:function(){g=p=!1,x=1},point:function(v,y){var b=[v,y],w,k=s(v,y),E=r?k?0:c(v,y):k?c(v+(v<0?lt:-lt),y):0;if(!d&&(g=p=k)&&u.lineStart(),k!==p&&(w=l(d,b),(!w||tm(d,w)||tm(b,w))&&(b[2]=1)),k!==p)x=0,k?(u.lineStart(),w=l(b,d),u.point(w[0],w[1])):(w=l(d,b),u.point(w[0],w[1],2),u.lineEnd()),d=w;else if(i&&d&&r^k){var S;!(E&h)&&(S=l(b,d,!0))&&(x=0,r?(u.lineStart(),u.point(S[0][0],S[0][1]),u.point(S[1][0],S[1][1]),u.lineEnd()):(u.point(S[1][0],S[1][1]),u.lineEnd(),u.lineStart(),u.point(S[0][0],S[0][1],3)))}k&&(!d||!tm(d,b))&&u.point(b[0],b[1]),d=b,p=k,h=E},lineEnd:function(){p&&u.lineEnd(),d=null},clean:function(){return x|(g&&p)<<1}}}function l(u,d,h){var p=Ml(u),g=Ml(d),x=[1,0,0],v=Vu(p,g),y=y3(v,v),b=v[0],w=y-b*b;if(!w)return!h&&u;var k=e*y/w,E=-e*b/w,S=Vu(x,v),_=v3(x,k),N=v3(v,E);Iy(_,N);var P=S,A=y3(_,P),C=y3(P,P),O=A*A-C*(y3(_,_)-1);if(!(O<0)){var j=Yn(O),R=v3(P,(-A-j)/C);if(Iy(R,_),R=dg(R),!h)return R;var D=u[0],$=d[0],U=u[1],F=d[1],B;$<D&&(B=D,D=$,$=B);var z=$-D,q=yt(z-lt)<qe,G=q||z<qe;if(!q&&F<U&&(B=U,U=F,F=B),G?q?U+F>0^R[1]<(yt(R[0]-D)<qe?U:F):U<=R[1]&&R[1]<=F:z>lt^(D<=R[0]&&R[0]<=$)){var te=v3(P,(-A+j)/C);return Iy(te,_),[R,dg(te)]}}}function c(u,d){var h=r?t:lt-t,p=0;return u<-h?p|=1:u>h&&(p|=2),d<-h?p|=4:d>h&&(p|=8),p}return uz(s,o,a,r?[0,-t]:[-lt,t-lt])}function pNe(t,e,n,r,i,a){var s=t[0],o=t[1],l=e[0],c=e[1],u=0,d=1,h=l-s,p=c-o,g;if(g=n-s,!(!h&&g>0)){if(g/=h,h<0){if(g<u)return;g<d&&(d=g)}else if(h>0){if(g>d)return;g>u&&(u=g)}if(g=i-s,!(!h&&g<0)){if(g/=h,h<0){if(g>d)return;g>u&&(u=g)}else if(h>0){if(g<u)return;g<d&&(d=g)}if(g=r-o,!(!p&&g>0)){if(g/=p,p<0){if(g<u)return;g<d&&(d=g)}else if(p>0){if(g>d)return;g>u&&(u=g)}if(g=a-o,!(!p&&g<0)){if(g/=p,p<0){if(g>d)return;g>u&&(u=g)}else if(p>0){if(g<u)return;g<d&&(d=g)}return u>0&&(t[0]=s+u*h,t[1]=o+u*p),d<1&&(e[0]=s+d*h,e[1]=o+d*p),!0}}}}}var gf=1e9,b3=-gf;function M5(t,e,n,r){function i(c,u){return t<=c&&c<=n&&e<=u&&u<=r}function a(c,u,d,h){var p=0,g=0;if(c==null||(p=s(c,d))!==(g=s(u,d))||l(c,u)<0^d>0)do h.point(p===0||p===3?t:n,p>1?r:e);while((p=(p+d+4)%4)!==g);else h.point(u[0],u[1])}function s(c,u){return yt(c[0]-t)<qe?u>0?0:3:yt(c[0]-n)<qe?u>0?2:1:yt(c[1]-e)<qe?u>0?1:0:u>0?3:2}function o(c,u){return l(c.x,u.x)}function l(c,u){var d=s(c,1),h=s(u,1);return d!==h?d-h:d===0?u[1]-c[1]:d===1?c[0]-u[0]:d===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,d=oz(),h,p,g,x,v,y,b,w,k,E,S,_={point:N,lineStart:O,lineEnd:j,polygonStart:A,polygonEnd:C};function N(D,$){i(D,$)&&u.point(D,$)}function P(){for(var D=0,$=0,U=p.length;$<U;++$)for(var F=p[$],B=1,z=F.length,q=F[0],G,te,de=q[0],ye=q[1];B<z;++B)G=de,te=ye,q=F[B],de=q[0],ye=q[1],te<=r?ye>r&&(de-G)*(r-te)>(ye-te)*(t-G)&&++D:ye<=r&&(de-G)*(r-te)<(ye-te)*(t-G)&&--D;return D}function A(){u=d,h=[],p=[],S=!0}function C(){var D=P(),$=S&&D,U=(h=HB(h)).length;($||U)&&(c.polygonStart(),$&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),U&&lz(h,o,D,a,c),c.polygonEnd()),u=c,h=p=g=null}function O(){_.point=R,p&&p.push(g=[]),E=!0,k=!1,b=w=NaN}function j(){h&&(R(x,v),y&&k&&d.rejoin(),h.push(d.result())),_.point=N,k&&u.lineEnd()}function R(D,$){var U=i(D,$);if(p&&g.push([D,$]),E)x=D,v=$,y=U,E=!1,U&&(u.lineStart(),u.point(D,$));else if(U&&k)u.point(D,$);else{var F=[b=Math.max(b3,Math.min(gf,b)),w=Math.max(b3,Math.min(gf,w))],B=[D=Math.max(b3,Math.min(gf,D)),$=Math.max(b3,Math.min(gf,$))];pNe(F,B,t,e,n,r)?(k||(u.lineStart(),u.point(F[0],F[1])),u.point(B[0],B[1]),U||u.lineEnd(),S=!1):U&&(u.lineStart(),u.point(D,$),S=!1)}b=D,w=$,k=U}return _}}function mNe(){var t=0,e=0,n=960,r=500,i,a,s;return s={stream:function(o){return i&&a===o?i:i=M5(t,e,n,r)(a=o)},extent:function(o){return arguments.length?(t=+o[0][0],e=+o[0][1],n=+o[1][0],r=+o[1][1],i=a=null,s):[[t,e],[n,r]]}}}var i9,a9,nm,rm,Uu={sphere:sn,point:sn,lineStart:gNe,lineEnd:sn,polygonStart:sn,polygonEnd:sn};function gNe(){Uu.point=vNe,Uu.lineEnd=yNe}function yNe(){Uu.point=Uu.lineEnd=sn}function vNe(t,e){t*=Ge,e*=Ge,a9=t,nm=Me(e),rm=Ve(e),Uu.point=xNe}function xNe(t,e){t*=Ge,e*=Ge;var n=Me(e),r=Ve(e),i=yt(t-a9),a=Ve(i),s=Me(i),o=r*s,l=rm*n-nm*r*a,c=nm*n+rm*r*a;i9.add(Lr(Yn(o*o+l*l),c)),a9=t,nm=n,rm=r}function fz(t){return i9=new br,da(t,Uu),+i9}var s9=[null,null],bNe={type:"LineString",coordinates:s9};function bg(t,e){return s9[0]=t,s9[1]=e,fz(bNe)}var EC={Feature:function(t,e){return wg(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(wg(n[r].geometry,e))return!0;return!1}},NC={Sphere:function(){return!0},Point:function(t,e){return TC(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(TC(n[r],e))return!0;return!1},LineString:function(t,e){return PC(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(PC(n[r],e))return!0;return!1},Polygon:function(t,e){return AC(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(AC(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(wg(n[r],e))return!0;return!1}};function wg(t,e){return t&&NC.hasOwnProperty(t.type)?NC[t.type](t,e):!1}function TC(t,e){return bg(t,e)===0}function PC(t,e){for(var n,r,i,a=0,s=t.length;a<s;a++){if(r=bg(t[a],e),r===0||a>0&&(i=bg(t[a],t[a-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<bp*i))return!0;n=r}return!1}function AC(t,e){return!!cz(t.map(wNe),hz(e))}function wNe(t){return t=t.map(hz),t.pop(),t}function hz(t){return[t[0]*Ge,t[1]*Ge]}function _Ne(t,e){return(t&&EC.hasOwnProperty(t.type)?EC[t.type]:wg)(t,e)}function IC(t,e,n){var r=Dc(t,e-qe,n).concat(e);return function(i){return r.map(function(a){return[i,a]})}}function CC(t,e,n){var r=Dc(t,e-qe,n).concat(e);return function(i){return r.map(function(a){return[a,i]})}}function g_(){var t,e,n,r,i,a,s,o,l=10,c=l,u=90,d=360,h,p,g,x,v=2.5;function y(){return{type:"MultiLineString",coordinates:b()}}function b(){return Dc(g3(r/u)*u,n,u).map(g).concat(Dc(g3(o/d)*d,s,d).map(x)).concat(Dc(g3(e/l)*l,t,l).filter(function(w){return yt(w%u)>qe}).map(h)).concat(Dc(g3(a/c)*c,i,c).filter(function(w){return yt(w%d)>qe}).map(p))}return y.lines=function(){return b().map(function(w){return{type:"LineString",coordinates:w}})},y.outline=function(){return{type:"Polygon",coordinates:[g(r).concat(x(s).slice(1),g(n).reverse().slice(1),x(o).reverse().slice(1))]}},y.extent=function(w){return arguments.length?y.extentMajor(w).extentMinor(w):y.extentMinor()},y.extentMajor=function(w){return arguments.length?(r=+w[0][0],n=+w[1][0],o=+w[0][1],s=+w[1][1],r>n&&(w=r,r=n,n=w),o>s&&(w=o,o=s,s=w),y.precision(v)):[[r,o],[n,s]]},y.extentMinor=function(w){return arguments.length?(e=+w[0][0],t=+w[1][0],a=+w[0][1],i=+w[1][1],e>t&&(w=e,e=t,t=w),a>i&&(w=a,a=i,i=w),y.precision(v)):[[e,a],[t,i]]},y.step=function(w){return arguments.length?y.stepMajor(w).stepMinor(w):y.stepMinor()},y.stepMajor=function(w){return arguments.length?(u=+w[0],d=+w[1],y):[u,d]},y.stepMinor=function(w){return arguments.length?(l=+w[0],c=+w[1],y):[l,c]},y.precision=function(w){return arguments.length?(v=+w,h=IC(a,i,90),p=CC(e,t,v),g=IC(o,s,90),x=CC(r,n,v),y):v},y.extentMajor([[-180,-90+qe],[180,90-qe]]).extentMinor([[-180,-80-qe],[180,80+qe]])}function SNe(){return g_()()}function kNe(t,e){var n=t[0]*Ge,r=t[1]*Ge,i=e[0]*Ge,a=e[1]*Ge,s=Ve(r),o=Me(r),l=Ve(a),c=Me(a),u=s*Ve(n),d=s*Me(n),h=l*Ve(i),p=l*Me(i),g=2*Fr(Yn(dC(a-r)+s*l*dC(i-n))),x=Me(g),v=g?function(y){var b=Me(y*=g)/x,w=Me(g-y)/x,k=w*u+b*h,E=w*d+b*p,S=w*o+b*c;return[Lr(E,k)*Lt,Lr(S,Yn(k*k+E*E))*Lt]}:function(){return[n*Lt,r*Lt]};return v.distance=g,v}const wp=t=>t;var Oy=new br,o9=new br,pz,mz,l9,c9,bs={point:sn,lineStart:sn,lineEnd:sn,polygonStart:function(){bs.lineStart=ENe,bs.lineEnd=TNe},polygonEnd:function(){bs.lineStart=bs.lineEnd=bs.point=sn,Oy.add(yt(o9)),o9=new br},result:function(){var t=Oy/2;return Oy=new br,t}};function ENe(){bs.point=NNe}function NNe(t,e){bs.point=gz,pz=l9=t,mz=c9=e}function gz(t,e){o9.add(c9*t-l9*e),l9=t,c9=e}function TNe(){gz(pz,mz)}var Bu=1/0,_g=Bu,_p=-Bu,Sg=_p,kg={point:PNe,lineStart:sn,lineEnd:sn,polygonStart:sn,polygonEnd:sn,result:function(){var t=[[Bu,_g],[_p,Sg]];return _p=Sg=-(_g=Bu=1/0),t}};function PNe(t,e){t<Bu&&(Bu=t),t>_p&&(_p=t),e<_g&&(_g=e),e>Sg&&(Sg=e)}var u9=0,d9=0,yf=0,Eg=0,Ng=0,Rc=0,f9=0,h9=0,vf=0,yz,vz,La,Fa,$i={point:Dl,lineStart:OC,lineEnd:jC,polygonStart:function(){$i.lineStart=CNe,$i.lineEnd=ONe},polygonEnd:function(){$i.point=Dl,$i.lineStart=OC,$i.lineEnd=jC},result:function(){var t=vf?[f9/vf,h9/vf]:Rc?[Eg/Rc,Ng/Rc]:yf?[u9/yf,d9/yf]:[NaN,NaN];return u9=d9=yf=Eg=Ng=Rc=f9=h9=vf=0,t}};function Dl(t,e){u9+=t,d9+=e,++yf}function OC(){$i.point=ANe}function ANe(t,e){$i.point=INe,Dl(La=t,Fa=e)}function INe(t,e){var n=t-La,r=e-Fa,i=Yn(n*n+r*r);Eg+=i*(La+t)/2,Ng+=i*(Fa+e)/2,Rc+=i,Dl(La=t,Fa=e)}function jC(){$i.point=Dl}function CNe(){$i.point=jNe}function ONe(){xz(yz,vz)}function jNe(t,e){$i.point=xz,Dl(yz=La=t,vz=Fa=e)}function xz(t,e){var n=t-La,r=e-Fa,i=Yn(n*n+r*r);Eg+=i*(La+t)/2,Ng+=i*(Fa+e)/2,Rc+=i,i=Fa*t-La*e,f9+=i*(La+t),h9+=i*(Fa+e),vf+=i*3,Dl(La=t,Fa=e)}function bz(t){this._context=t}bz.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,$r);break}}},result:sn};var p9=new br,jy,wz,_z,xf,bf,Sp={point:sn,lineStart:function(){Sp.point=MNe},lineEnd:function(){jy&&Sz(wz,_z),Sp.point=sn},polygonStart:function(){jy=!0},polygonEnd:function(){jy=null},result:function(){var t=+p9;return p9=new br,t}};function MNe(t,e){Sp.point=Sz,wz=xf=t,_z=bf=e}function Sz(t,e){xf-=t,bf-=e,p9.add(Yn(xf*xf+bf*bf)),xf=t,bf=e}function kz(){this._string=[]}kz.prototype={_radius:4.5,_circle:MC(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._string.push("M",t,",",e),this._point=1;break}case 1:{this._string.push("L",t,",",e);break}default:{this._circle==null&&(this._circle=MC(this._radius)),this._string.push("M",t,",",e,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function MC(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ez(t,e){var n=4.5,r,i;function a(s){return s&&(typeof n=="function"&&i.pointRadius(+n.apply(this,arguments)),da(s,r(i))),i.result()}return a.area=function(s){return da(s,r(bs)),bs.result()},a.measure=function(s){return da(s,r(Sp)),Sp.result()},a.bounds=function(s){return da(s,r(kg)),kg.result()},a.centroid=function(s){return da(s,r($i)),$i.result()},a.projection=function(s){return arguments.length?(r=s==null?(t=null,wp):(t=s).stream,a):t},a.context=function(s){return arguments.length?(i=s==null?(e=null,new kz):new bz(e=s),typeof n!="function"&&i.pointRadius(n),a):e},a.pointRadius=function(s){return arguments.length?(n=typeof s=="function"?s:(i.pointRadius(+s),+s),a):n},a.projection(t).context(e)}function DNe(t){return{stream:o4(t)}}function o4(t){return function(e){var n=new m9;for(var r in t)n[r]=t[r];return n.stream=e,n}}function m9(){}m9.prototype={constructor:m9,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function y_(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),da(n,t.stream(kg)),e(kg.result()),r!=null&&t.clipExtent(r),t}function D5(t,e,n){return y_(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),o=+e[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(a-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([o,l])},n)}function v_(t,e,n){return D5(t,[[0,0],e],n)}function x_(t,e,n){return y_(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,o=-a*r[0][1];t.scale(150*a).translate([s,o])},n)}function b_(t,e,n){return y_(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],o=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,o])},n)}var DC=16,RNe=Ve(30*Ge);function RC(t,e){return+e?LNe(t,e):$Ne(t)}function $Ne(t){return o4({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function LNe(t,e){function n(r,i,a,s,o,l,c,u,d,h,p,g,x,v){var y=c-r,b=u-i,w=y*y+b*b;if(w>4*e&&x--){var k=s+h,E=o+p,S=l+g,_=Yn(k*k+E*E+S*S),N=Fr(S/=_),P=yt(yt(S)-1)<qe||yt(a-d)<qe?(a+d)/2:Lr(E,k),A=t(P,N),C=A[0],O=A[1],j=C-r,R=O-i,D=b*j-y*R;(D*D/w>e||yt((y*j+b*R)/w-.5)>.3||s*h+o*p+l*g<RNe)&&(n(r,i,a,s,o,l,C,O,P,k/=_,E/=_,S,x,v),v.point(C,O),n(C,O,P,k,E,S,c,u,d,h,p,g,x,v))}}return function(r){var i,a,s,o,l,c,u,d,h,p,g,x,v={point:y,lineStart:b,lineEnd:k,polygonStart:function(){r.polygonStart(),v.lineStart=E},polygonEnd:function(){r.polygonEnd(),v.lineStart=b}};function y(N,P){N=t(N,P),r.point(N[0],N[1])}function b(){d=NaN,v.point=w,r.lineStart()}function w(N,P){var A=Ml([N,P]),C=t(N,P);n(d,h,u,p,g,x,d=C[0],h=C[1],u=N,p=A[0],g=A[1],x=A[2],DC,r),r.point(d,h)}function k(){v.point=y,r.lineEnd()}function E(){b(),v.point=S,v.lineEnd=_}function S(N,P){w(i=N,P),a=d,s=h,o=p,l=g,c=x,v.point=w}function _(){n(d,h,u,p,g,x,a,s,i,o,l,c,DC,r),v.lineEnd=k,k()}return v}}var FNe=o4({point:function(t,e){this.stream.point(t*Ge,e*Ge)}});function VNe(t){return o4({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function UNe(t,e,n,r,i){function a(s,o){return s*=r,o*=i,[e+t*s,n-t*o]}return a.invert=function(s,o){return[(s-e)/t*r,(n-o)/t*i]},a}function $C(t,e,n,r,i,a){if(!a)return UNe(t,e,n,r,i);var s=Ve(a),o=Me(a),l=s*t,c=o*t,u=s/t,d=o/t,h=(o*n-s*e)/t,p=(o*e+s*n)/t;function g(x,v){return x*=r,v*=i,[l*x-c*v+e,n-c*x-l*v]}return g.invert=function(x,v){return[r*(u*x-d*v+h),i*(p-d*x-u*v)]},g}function ds(t){return w_(function(){return t})()}function w_(t){var e,n=150,r=480,i=250,a=0,s=0,o=0,l=0,c=0,u,d=0,h=1,p=1,g=null,x=r9,v=null,y,b,w,k=wp,E=.5,S,_,N,P,A;function C(D){return N(D[0]*Ge,D[1]*Ge)}function O(D){return D=N.invert(D[0],D[1]),D&&[D[0]*Lt,D[1]*Lt]}C.stream=function(D){return P&&A===D?P:P=FNe(VNe(u)(x(S(k(A=D)))))},C.preclip=function(D){return arguments.length?(x=D,g=void 0,R()):x},C.postclip=function(D){return arguments.length?(k=D,v=y=b=w=null,R()):k},C.clipAngle=function(D){return arguments.length?(x=+D?dz(g=D*Ge):(g=null,r9),R()):g*Lt},C.clipExtent=function(D){return arguments.length?(k=D==null?(v=y=b=w=null,wp):M5(v=+D[0][0],y=+D[0][1],b=+D[1][0],w=+D[1][1]),R()):v==null?null:[[v,y],[b,w]]},C.scale=function(D){return arguments.length?(n=+D,j()):n},C.translate=function(D){return arguments.length?(r=+D[0],i=+D[1],j()):[r,i]},C.center=function(D){return arguments.length?(a=D[0]%360*Ge,s=D[1]%360*Ge,j()):[a*Lt,s*Lt]},C.rotate=function(D){return arguments.length?(o=D[0]%360*Ge,l=D[1]%360*Ge,c=D.length>2?D[2]%360*Ge:0,j()):[o*Lt,l*Lt,c*Lt]},C.angle=function(D){return arguments.length?(d=D%360*Ge,j()):d*Lt},C.reflectX=function(D){return arguments.length?(h=D?-1:1,j()):h<0},C.reflectY=function(D){return arguments.length?(p=D?-1:1,j()):p<0},C.precision=function(D){return arguments.length?(S=RC(_,E=D*D),R()):Yn(E)},C.fitExtent=function(D,$){return D5(C,D,$)},C.fitSize=function(D,$){return v_(C,D,$)},C.fitWidth=function(D,$){return x_(C,D,$)},C.fitHeight=function(D,$){return b_(C,D,$)};function j(){var D=$C(n,0,0,h,p,d).apply(null,e(a,s)),$=$C(n,r-D[0],i-D[1],h,p,d);return u=m_(o,l,c),_=t9(e,$),N=t9(u,_),S=RC(_,E),R()}function R(){return P=A=null,C}return function(){return e=t.apply(this,arguments),C.invert=e.invert&&O,j()}}function __(t){var e=0,n=lt/3,r=w_(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*Ge,n=a[1]*Ge):[e*Lt,n*Lt]},i}function BNe(t){var e=Ve(t);function n(r,i){return[r*e,Me(i)/e]}return n.invert=function(r,i){return[r/e,Fr(i*e)]},n}function Nz(t,e){var n=Me(t),r=(n+Me(e))/2;if(yt(r)<qe)return BNe(t);var i=1+n*(2*r-n),a=Yn(i)/r;function s(o,l){var c=Yn(i-2*r*Me(l))/r;return[c*Me(o*=r),a-c*Ve(o)]}return s.invert=function(o,l){var c=a-l,u=Lr(o,yt(c))*Bi(c);return c*r<0&&(u-=lt*Bi(o)*Bi(c)),[u/r,Fr((i-(o*o+c*c)*r*r)/(2*r))]},s}function Tg(){return __(Nz).scale(155.424).center([0,33.6442])}function Tz(){return Tg().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function zNe(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function WNe(){var t,e,n=Tz(),r,i=Tg().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,s=Tg().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,l,c={point:function(h,p){l=[h,p]}};function u(h){var p=h[0],g=h[1];return l=null,r.point(p,g),l||(a.point(p,g),l)||(o.point(p,g),l)}u.invert=function(h){var p=n.scale(),g=n.translate(),x=(h[0]-g[0])/p,v=(h[1]-g[1])/p;return(v>=.12&&v<.234&&x>=-.425&&x<-.214?i:v>=.166&&v<.234&&x>=-.214&&x<-.115?s:n).invert(h)},u.stream=function(h){return t&&e===h?t:t=zNe([n.stream(e=h),i.stream(h),s.stream(h)])},u.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),s.precision(h),d()):n.precision()},u.scale=function(h){return arguments.length?(n.scale(h),i.scale(h*.35),s.scale(h),u.translate(n.translate())):n.scale()},u.translate=function(h){if(!arguments.length)return n.translate();var p=n.scale(),g=+h[0],x=+h[1];return r=n.translate(h).clipExtent([[g-.455*p,x-.238*p],[g+.455*p,x+.238*p]]).stream(c),a=i.translate([g-.307*p,x+.201*p]).clipExtent([[g-.425*p+qe,x+.12*p+qe],[g-.214*p-qe,x+.234*p-qe]]).stream(c),o=s.translate([g-.205*p,x+.212*p]).clipExtent([[g-.214*p+qe,x+.166*p+qe],[g-.115*p-qe,x+.234*p-qe]]).stream(c),d()},u.fitExtent=function(h,p){return D5(u,h,p)},u.fitSize=function(h,p){return v_(u,h,p)},u.fitWidth=function(h,p){return x_(u,h,p)},u.fitHeight=function(h,p){return b_(u,h,p)};function d(){return t=e=null,u}return u.scale(1070)}function Pz(t){return function(e,n){var r=Ve(e),i=Ve(n),a=t(r*i);return a===1/0?[2,0]:[a*i*Me(e),a*Me(n)]}}function l4(t){return function(e,n){var r=Yn(e*e+n*n),i=t(r),a=Me(i),s=Ve(i);return[Lr(e*a,r*s),Fr(r&&n*a/r)]}}var S_=Pz(function(t){return Yn(2/(1+t))});S_.invert=l4(function(t){return 2*Fr(t/2)});function qNe(){return ds(S_).scale(124.75).clipAngle(180-.001)}var k_=Pz(function(t){return(t=KB(t))&&t/Me(t)});k_.invert=l4(function(t){return t});function HNe(){return ds(k_).scale(79.4188).clipAngle(180-.001)}function c4(t,e){return[t,og(h_((mn+e)/2))]}c4.invert=function(t,e){return[t,2*yd(GB(e))-mn]};function GNe(){return Az(c4).scale(961/$r)}function Az(t){var e=ds(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,s=null,o,l,c;e.scale=function(d){return arguments.length?(r(d),u()):r()},e.translate=function(d){return arguments.length?(i(d),u()):i()},e.center=function(d){return arguments.length?(n(d),u()):n()},e.clipExtent=function(d){return arguments.length?(d==null?s=o=l=c=null:(s=+d[0][0],o=+d[0][1],l=+d[1][0],c=+d[1][1]),u()):s==null?null:[[s,o],[l,c]]};function u(){var d=lt*r(),h=e(az(e.rotate()).invert([0,0]));return a(s==null?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:t===c4?[[Math.max(h[0]-d,s),o],[Math.min(h[0]+d,l),c]]:[[s,Math.max(h[1]-d,o)],[l,Math.min(h[1]+d,c)]])}return u()}function w3(t){return h_((mn+t)/2)}function Iz(t,e){var n=Ve(t),r=t===e?Me(t):og(n/Ve(e))/og(w3(e)/w3(t)),i=n*Ay(w3(t),r)/r;if(!r)return c4;function a(s,o){i>0?o<-mn+qe&&(o=-mn+qe):o>mn-qe&&(o=mn-qe);var l=i/Ay(w3(o),r);return[l*Me(r*s),i-l*Ve(r*s)]}return a.invert=function(s,o){var l=i-o,c=Bi(r)*Yn(s*s+l*l),u=Lr(s,yt(l))*Bi(l);return l*r<0&&(u-=lt*Bi(s)*Bi(l)),[u/r,2*yd(Ay(i/c,1/r))-mn]},a}function KNe(){return __(Iz).scale(109.5).parallels([30,30])}function kp(t,e){return[t,e]}kp.invert=kp;function YNe(){return ds(kp).scale(152.63)}function Cz(t,e){var n=Ve(t),r=t===e?Me(t):(n-Ve(e))/(e-t),i=n/r+t;if(yt(r)<qe)return kp;function a(s,o){var l=i-o,c=r*s;return[l*Me(c),i-l*Ve(c)]}return a.invert=function(s,o){var l=i-o,c=Lr(s,yt(l))*Bi(l);return l*r<0&&(c-=lt*Bi(s)*Bi(l)),[c/r,i-Bi(r)*Yn(s*s+l*l)]},a}function QNe(){return __(Cz).scale(131.154).center([0,13.9389])}var th=1.340264,nh=-.081106,rh=893e-6,ih=.003796,Pg=Yn(3)/2,XNe=12;function E_(t,e){var n=Fr(Pg*Me(e)),r=n*n,i=r*r*r;return[t*Ve(n)/(Pg*(th+3*nh*r+i*(7*rh+9*ih*r))),n*(th+nh*r+i*(rh+ih*r))]}E_.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,a=0,s,o,l;a<XNe&&(o=n*(th+nh*r+i*(rh+ih*r))-e,l=th+3*nh*r+i*(7*rh+9*ih*r),n-=s=o/l,r=n*n,i=r*r*r,!(yt(s)<bp));++a);return[Pg*t*(th+3*nh*r+i*(7*rh+9*ih*r))/Ve(n),Fr(Me(n)/Pg)]};function JNe(){return ds(E_).scale(177.158)}function N_(t,e){var n=Ve(e),r=Ve(t)*n;return[n*Me(t)/r,Me(e)/r]}N_.invert=l4(yd);function ZNe(){return ds(N_).scale(144.049).clipAngle(60)}function eTe(){var t=1,e=0,n=0,r=1,i=1,a=0,s,o,l=null,c,u,d,h=1,p=1,g=o4({point:function(k,E){var S=w([k,E]);this.stream.point(S[0],S[1])}}),x=wp,v,y;function b(){return h=t*r,p=t*i,v=y=null,w}function w(k){var E=k[0]*h,S=k[1]*p;if(a){var _=S*s-E*o;E=E*s+S*o,S=_}return[E+e,S+n]}return w.invert=function(k){var E=k[0]-e,S=k[1]-n;if(a){var _=S*s+E*o;E=E*s-S*o,S=_}return[E/h,S/p]},w.stream=function(k){return v&&y===k?v:v=g(x(y=k))},w.postclip=function(k){return arguments.length?(x=k,l=c=u=d=null,b()):x},w.clipExtent=function(k){return arguments.length?(x=k==null?(l=c=u=d=null,wp):M5(l=+k[0][0],c=+k[0][1],u=+k[1][0],d=+k[1][1]),b()):l==null?null:[[l,c],[u,d]]},w.scale=function(k){return arguments.length?(t=+k,b()):t},w.translate=function(k){return arguments.length?(e=+k[0],n=+k[1],b()):[e,n]},w.angle=function(k){return arguments.length?(a=k%360*Ge,o=Me(a),s=Ve(a),b()):a*Lt},w.reflectX=function(k){return arguments.length?(r=k?-1:1,b()):r<0},w.reflectY=function(k){return arguments.length?(i=k?-1:1,b()):i<0},w.fitExtent=function(k,E){return D5(w,k,E)},w.fitSize=function(k,E){return v_(w,k,E)},w.fitWidth=function(k,E){return x_(w,k,E)},w.fitHeight=function(k,E){return b_(w,k,E)},w}function T_(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}T_.invert=function(t,e){var n=e,r=25,i;do{var a=n*n,s=a*a;n-=i=(n*(1.007226+a*(.015085+s*(-.044475+.028874*a-.005916*s)))-e)/(1.007226+a*(.015085*3+s*(-.044475*7+.028874*9*a-.005916*11*s)))}while(yt(i)>qe&&--r>0);return[t/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function tTe(){return ds(T_).scale(175.295)}function P_(t,e){return[Ve(e)*Me(t),Me(e)]}P_.invert=l4(Fr);function nTe(){return ds(P_).scale(249.5).clipAngle(90+qe)}function A_(t,e){var n=Ve(e),r=1+Ve(t)*n;return[n*Me(t)/r,Me(e)/r]}A_.invert=l4(function(t){return 2*yd(t)});function rTe(){return ds(A_).scale(250).clipAngle(142)}function I_(t,e){return[og(h_((mn+e)/2)),-t]}I_.invert=function(t,e){return[-e,2*yd(GB(t))-mn]};function iTe(){var t=Az(I_),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}const aTe=Object.freeze(Object.defineProperty({__proto__:null,geoAlbers:Tz,geoAlbersUsa:WNe,geoArea:XEe,geoAzimuthalEqualArea:qNe,geoAzimuthalEqualAreaRaw:S_,geoAzimuthalEquidistant:HNe,geoAzimuthalEquidistantRaw:k_,geoBounds:tNe,geoCentroid:oNe,geoCircle:lNe,geoClipAntimeridian:r9,geoClipCircle:dz,geoClipExtent:mNe,geoClipRectangle:M5,geoConicConformal:KNe,geoConicConformalRaw:Iz,geoConicEqualArea:Tg,geoConicEqualAreaRaw:Nz,geoConicEquidistant:QNe,geoConicEquidistantRaw:Cz,geoContains:_Ne,geoDistance:bg,geoEqualEarth:JNe,geoEqualEarthRaw:E_,geoEquirectangular:YNe,geoEquirectangularRaw:kp,geoGnomonic:ZNe,geoGnomonicRaw:N_,geoGraticule:g_,geoGraticule10:SNe,geoIdentity:eTe,geoInterpolate:kNe,geoLength:fz,geoMercator:GNe,geoMercatorRaw:c4,geoNaturalEarth1:tTe,geoNaturalEarth1Raw:T_,geoOrthographic:nTe,geoOrthographicRaw:P_,geoPath:Ez,geoProjection:ds,geoProjectionMutator:w_,geoRotation:az,geoStereographic:rTe,geoStereographicRaw:A_,geoStream:da,geoTransform:DNe,geoTransverseMercator:iTe,geoTransverseMercatorRaw:I_},Symbol.toStringTag,{value:"Module"}));function sTe(t){return t}function oTe(t){if(t==null)return sTe;var e,n,r=t.scale[0],i=t.scale[1],a=t.translate[0],s=t.translate[1];return function(o,l){l||(e=n=0);var c=2,u=o.length,d=new Array(u);for(d[0]=(e+=o[0])*r+a,d[1]=(n+=o[1])*i+s;c<u;)d[c]=o[c],++c;return d}}function lTe(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}function cTe(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return LC(t,n)})}:LC(t,e)}function LC(t,e){var n=e.id,r=e.bbox,i=e.properties==null?{}:e.properties,a=Oz(t,e);return n==null&&r==null?{type:"Feature",properties:i,geometry:a}:r==null?{type:"Feature",id:n,properties:i,geometry:a}:{type:"Feature",id:n,bbox:r,properties:i,geometry:a}}function Oz(t,e){var n=oTe(t.transform),r=t.arcs;function i(u,d){d.length&&d.pop();for(var h=r[u<0?~u:u],p=0,g=h.length;p<g;++p)d.push(n(h[p],p));u<0&&lTe(d,g)}function a(u){return n(u)}function s(u){for(var d=[],h=0,p=u.length;h<p;++h)i(u[h],d);return d.length<2&&d.push(d[0]),d}function o(u){for(var d=s(u);d.length<4;)d.push(d[0]);return d}function l(u){return u.map(o)}function c(u){var d=u.type,h;switch(d){case"GeometryCollection":return{type:d,geometries:u.geometries.map(c)};case"Point":h=a(u.coordinates);break;case"MultiPoint":h=u.coordinates.map(a);break;case"LineString":h=s(u.arcs);break;case"MultiLineString":h=u.arcs.map(s);break;case"Polygon":h=l(u.arcs);break;case"MultiPolygon":h=u.arcs.map(l);break;default:return null}return{type:d,coordinates:h}}return c(e)}function uTe(t,e){var n={},r={},i={},a=[],s=-1;e.forEach(function(c,u){var d=t.arcs[c<0?~c:c],h;d.length<3&&!d[1][0]&&!d[1][1]&&(h=e[++s],e[s]=c,e[u]=h)}),e.forEach(function(c){var u=o(c),d=u[0],h=u[1],p,g;if(p=i[d])if(delete i[p.end],p.push(c),p.end=h,g=r[h]){delete r[g.start];var x=g===p?p:p.concat(g);r[x.start=p.start]=i[x.end=g.end]=x}else r[p.start]=i[p.end]=p;else if(p=r[h])if(delete r[p.start],p.unshift(c),p.start=d,g=i[d]){delete i[g.end];var v=g===p?p:g.concat(p);r[v.start=g.start]=i[v.end=p.end]=v}else r[p.start]=i[p.end]=p;else p=[c],r[p.start=d]=i[p.end=h]=p});function o(c){var u=t.arcs[c<0?~c:c],d=u[0],h;return t.transform?(h=[0,0],u.forEach(function(p){h[0]+=p[0],h[1]+=p[1]})):h=u[u.length-1],c<0?[h,d]:[d,h]}function l(c,u){for(var d in c){var h=c[d];delete u[h.start],delete h.start,delete h.end,h.forEach(function(p){n[p<0?~p:p]=1}),a.push(h)}}return l(i,r),l(r,i),e.forEach(function(c){n[c<0?~c:c]||a.push([c])}),a}function FC(t){return Oz(t,dTe.apply(this,arguments))}function dTe(t,e,n){var r,i,a;if(arguments.length>1)r=fTe(t,e,n);else for(i=0,r=new Array(a=t.arcs.length);i<a;++i)r[i]=i;return{type:"MultiLineString",arcs:uTe(t,r)}}function fTe(t,e,n){var r=[],i=[],a;function s(d){var h=d<0?~d:d;(i[h]||(i[h]=[])).push({i:d,g:a})}function o(d){d.forEach(s)}function l(d){d.forEach(o)}function c(d){d.forEach(l)}function u(d){switch(a=d,d.type){case"GeometryCollection":d.geometries.forEach(u);break;case"LineString":o(d.arcs);break;case"MultiLineString":case"Polygon":l(d.arcs);break;case"MultiPolygon":c(d.arcs);break}}return u(e),i.forEach(n==null?function(d){r.push(d[0].i)}:function(d){n(d[0].g,d[d.length-1].g)&&r.push(d[0].i)}),r}var hTe={value:()=>{}};function C_(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new im(n)}function im(t){this._=t}function pTe(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}im.prototype=C_.prototype={constructor:im,on:function(t,e){var n=this._,r=pTe(t+"",n),i,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((i=(t=r[a]).type)&&(i=mTe(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<s;)if(i=(t=r[a]).type)n[i]=VC(n[i],t.name,e);else if(e==null)for(i in n)n[i]=VC(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new im(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function mTe(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function VC(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=hTe,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var g9="http://www.w3.org/1999/xhtml";const UC={svg:"http://www.w3.org/2000/svg",xhtml:g9,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function R5(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),UC.hasOwnProperty(e)?{space:UC[e],local:t}:t}function gTe(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===g9&&e.documentElement.namespaceURI===g9?e.createElement(t):e.createElementNS(n,t)}}function yTe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function jz(t){var e=R5(t);return(e.local?yTe:gTe)(e)}function vTe(){}function O_(t){return t==null?vTe:function(){return this.querySelector(t)}}function xTe(t){typeof t!="function"&&(t=O_(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=new Array(s),l,c,u=0;u<s;++u)(l=a[u])&&(c=t.call(l,l.__data__,u,a))&&("__data__"in l&&(c.__data__=l.__data__),o[u]=c);return new ei(r,this._parents)}function Mz(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function bTe(){return[]}function Dz(t){return t==null?bTe:function(){return this.querySelectorAll(t)}}function wTe(t){return function(){var e=t.apply(this,arguments);return e==null?[]:Mz(e)}}function _Te(t){typeof t=="function"?t=wTe(t):t=Dz(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var s=e[a],o=s.length,l,c=0;c<o;++c)(l=s[c])&&(r.push(t.call(l,l.__data__,c,s)),i.push(l));return new ei(r,i)}function Rz(t){return function(){return this.matches(t)}}function $z(t){return function(e){return e.matches(t)}}var STe=Array.prototype.find;function kTe(t){return function(){return STe.call(this.children,t)}}function ETe(){return this.firstElementChild}function NTe(t){return this.select(t==null?ETe:kTe(typeof t=="function"?t:$z(t)))}var TTe=Array.prototype.filter;function PTe(){return this.children}function ATe(t){return function(){return TTe.call(this.children,t)}}function ITe(t){return this.selectAll(t==null?PTe:ATe(typeof t=="function"?t:$z(t)))}function CTe(t){typeof t!="function"&&(t=Rz(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=[],l,c=0;c<s;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&o.push(l);return new ei(r,this._parents)}function Lz(t){return new Array(t.length)}function OTe(){return new ei(this._enter||this._groups.map(Lz),this._parents)}function Ag(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ag.prototype={constructor:Ag,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function jTe(t){return function(){return t}}function MTe(t,e,n,r,i,a){for(var s=0,o,l=e.length,c=a.length;s<c;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new Ag(t,a[s]);for(;s<l;++s)(o=e[s])&&(i[s]=o)}function DTe(t,e,n,r,i,a,s){var o,l,c=new Map,u=e.length,d=a.length,h=new Array(u),p;for(o=0;o<u;++o)(l=e[o])&&(h[o]=p=s.call(l,l.__data__,o,e)+"",c.has(p)?i[o]=l:c.set(p,l));for(o=0;o<d;++o)p=s.call(t,a[o],o,a)+"",(l=c.get(p))?(r[o]=l,l.__data__=a[o],c.delete(p)):n[o]=new Ag(t,a[o]);for(o=0;o<u;++o)(l=e[o])&&c.get(h[o])===l&&(i[o]=l)}function RTe(t){return t.__data__}function $Te(t,e){if(!arguments.length)return Array.from(this,RTe);var n=e?DTe:MTe,r=this._parents,i=this._groups;typeof t!="function"&&(t=jTe(t));for(var a=i.length,s=new Array(a),o=new Array(a),l=new Array(a),c=0;c<a;++c){var u=r[c],d=i[c],h=d.length,p=Mz(t.call(u,u&&u.__data__,c,r)),g=p.length,x=o[c]=new Array(g),v=s[c]=new Array(g),y=l[c]=new Array(h);n(u,d,x,v,y,p,e);for(var b=0,w=0,k,E;b<g;++b)if(k=x[b]){for(b>=w&&(w=b+1);!(E=v[w])&&++w<g;);k._next=E||null}}return s=new ei(s,r),s._enter=o,s._exit=l,s}function LTe(){return new ei(this._exit||this._groups.map(Lz),this._parents)}function FTe(t,e,n){var r=this.enter(),i=this,a=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),e!=null&&(i=e(i)),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function VTe(t){if(!(t instanceof ei))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l=e[o],c=n[o],u=l.length,d=s[o]=new Array(u),h,p=0;p<u;++p)(h=l[p]||c[p])&&(d[p]=h);for(;o<r;++o)s[o]=e[o];return new ei(s,this._parents)}function UTe(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],s;--i>=0;)(s=r[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function BTe(t){t||(t=zTe);function e(d,h){return d&&h?t(d.__data__,h.__data__):!d-!h}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var s=n[a],o=s.length,l=i[a]=new Array(o),c,u=0;u<o;++u)(c=s[u])&&(l[u]=c);l.sort(e)}return new ei(i,this._parents).order()}function zTe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function WTe(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function qTe(){return Array.from(this)}function HTe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null}function GTe(){let t=0;for(const e of this)++t;return t}function KTe(){return!this.node()}function YTe(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,s=i.length,o;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this}function QTe(t){return function(){this.removeAttribute(t)}}function XTe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function JTe(t,e){return function(){this.setAttribute(t,e)}}function ZTe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ePe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function tPe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function nPe(t,e){var n=R5(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?XTe:QTe:typeof e=="function"?n.local?tPe:ePe:n.local?ZTe:JTe)(n,e))}function Fz(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function rPe(t){return function(){this.style.removeProperty(t)}}function iPe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function aPe(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function sPe(t,e,n){return arguments.length>1?this.each((e==null?rPe:typeof e=="function"?aPe:iPe)(t,e,n??"")):zu(this.node(),t)}function zu(t,e){return t.style.getPropertyValue(e)||Fz(t).getComputedStyle(t,null).getPropertyValue(e)}function oPe(t){return function(){delete this[t]}}function lPe(t,e){return function(){this[t]=e}}function cPe(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function uPe(t,e){return arguments.length>1?this.each((e==null?oPe:typeof e=="function"?cPe:lPe)(t,e)):this.node()[t]}function Vz(t){return t.trim().split(/^|\s+/)}function j_(t){return t.classList||new Uz(t)}function Uz(t){this._node=t,this._names=Vz(t.getAttribute("class")||"")}Uz.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Bz(t,e){for(var n=j_(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function zz(t,e){for(var n=j_(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function dPe(t){return function(){Bz(this,t)}}function fPe(t){return function(){zz(this,t)}}function hPe(t,e){return function(){(e.apply(this,arguments)?Bz:zz)(this,t)}}function pPe(t,e){var n=Vz(t+"");if(arguments.length<2){for(var r=j_(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?hPe:e?dPe:fPe)(n,e))}function mPe(){this.textContent=""}function gPe(t){return function(){this.textContent=t}}function yPe(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function vPe(t){return arguments.length?this.each(t==null?mPe:(typeof t=="function"?yPe:gPe)(t)):this.node().textContent}function xPe(){this.innerHTML=""}function bPe(t){return function(){this.innerHTML=t}}function wPe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function _Pe(t){return arguments.length?this.each(t==null?xPe:(typeof t=="function"?wPe:bPe)(t)):this.node().innerHTML}function SPe(){this.nextSibling&&this.parentNode.appendChild(this)}function kPe(){return this.each(SPe)}function EPe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function NPe(){return this.each(EPe)}function TPe(t){var e=typeof t=="function"?t:jz(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function PPe(){return null}function APe(t,e){var n=typeof t=="function"?t:jz(t),r=e==null?PPe:typeof e=="function"?e:O_(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function IPe(){var t=this.parentNode;t&&t.removeChild(this)}function CPe(){return this.each(IPe)}function OPe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function jPe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function MPe(t){return this.select(t?jPe:OPe)}function DPe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function RPe(t){return function(e){t.call(this,e,this.__data__)}}function $Pe(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function LPe(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function FPe(t,e,n){return function(){var r=this.__on,i,a=RPe(e);if(r){for(var s=0,o=r.length;s<o;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function VPe(t,e,n){var r=$Pe(t+""),i,a=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,c=o.length,u;l<c;++l)for(i=0,u=o[l];i<a;++i)if((s=r[i]).type===u.type&&s.name===u.name)return u.value}return}for(o=e?FPe:LPe,i=0;i<a;++i)this.each(o(r[i],e,n));return this}function Wz(t,e,n){var r=Fz(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function UPe(t,e){return function(){return Wz(this,t,e)}}function BPe(t,e){return function(){return Wz(this,t,e.apply(this,arguments))}}function zPe(t,e){return this.each((typeof e=="function"?BPe:UPe)(t,e))}function*WPe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,s;i<a;++i)(s=r[i])&&(yield s)}var qz=[null];function ei(t,e){this._groups=t,this._parents=e}function u4(){return new ei([[document.documentElement]],qz)}function qPe(){return this}ei.prototype=u4.prototype={constructor:ei,select:xTe,selectAll:_Te,selectChild:NTe,selectChildren:ITe,filter:CTe,data:$Te,enter:OTe,exit:LTe,join:FTe,merge:VTe,selection:qPe,order:UTe,sort:BTe,call:WTe,nodes:qTe,node:HTe,size:GTe,empty:KTe,each:YTe,attr:nPe,style:sPe,property:uPe,classed:pPe,text:vPe,html:_Pe,raise:kPe,lower:NPe,append:TPe,insert:APe,remove:CPe,clone:MPe,datum:DPe,on:VPe,dispatch:zPe,[Symbol.iterator]:WPe};function ws(t){return typeof t=="string"?new ei([[document.querySelector(t)]],[document.documentElement]):new ei([[t]],qz)}function HPe(t){let e;for(;e=t.sourceEvent;)t=e;return t}function D0(t,e){if(t=HPe(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function y9(t){t.preventDefault(),t.stopImmediatePropagation()}function GPe(t){var e=t.document.documentElement,n=ws(t).on("dragstart.drag",y9,!0);"onselectstart"in e?n.on("selectstart.drag",y9,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function KPe(t,e){var n=t.document.documentElement,r=ws(t).on("dragstart.drag",null);e&&(r.on("click.drag",y9,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var YPe=1e-12;function BC(t){return((t=Math.exp(t))+1/t)/2}function QPe(t){return((t=Math.exp(t))-1/t)/2}function XPe(t){return((t=Math.exp(2*t))-1)/(t+1)}const JPe=function t(e,n,r){function i(a,s){var o=a[0],l=a[1],c=a[2],u=s[0],d=s[1],h=s[2],p=u-o,g=d-l,x=p*p+g*g,v,y;if(x<YPe)y=Math.log(h/c)/e,v=function(_){return[o+_*p,l+_*g,c*Math.exp(e*_*y)]};else{var b=Math.sqrt(x),w=(h*h-c*c+r*x)/(2*c*n*b),k=(h*h-c*c-r*x)/(2*h*n*b),E=Math.log(Math.sqrt(w*w+1)-w),S=Math.log(Math.sqrt(k*k+1)-k);y=(S-E)/e,v=function(_){var N=_*y,P=BC(E),A=c/(n*b)*(P*XPe(e*N+E)-QPe(E));return[o+A*p,l+A*g,c*P/BC(e*N+E)]}}return v.duration=y*1e3*e/Math.SQRT2,v}return i.rho=function(a){var s=Math.max(.001,+a),o=s*s,l=o*o;return t(s,o,l)},i}(Math.SQRT2,2,4);var Wu=0,wf=0,tf=0,Hz=1e3,Ig,_f,Cg=0,Rl=0,$5=0,Ep=typeof performance=="object"&&performance.now?performance:Date,Gz=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function M_(){return Rl||(Gz(ZPe),Rl=Ep.now()+$5)}function ZPe(){Rl=0}function Og(){this._call=this._time=this._next=null}Og.prototype=Kz.prototype={constructor:Og,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?M_():+n)+(e==null?0:+e),!this._next&&_f!==this&&(_f?_f._next=this:Ig=this,_f=this),this._call=t,this._time=n,v9()},stop:function(){this._call&&(this._call=null,this._time=1/0,v9())}};function Kz(t,e,n){var r=new Og;return r.restart(t,e,n),r}function eAe(){M_(),++Wu;for(var t=Ig,e;t;)(e=Rl-t._time)>=0&&t._call.call(null,e),t=t._next;--Wu}function zC(){Rl=(Cg=Ep.now())+$5,Wu=wf=0;try{eAe()}finally{Wu=0,nAe(),Rl=0}}function tAe(){var t=Ep.now(),e=t-Cg;e>Hz&&($5-=e,Cg=t)}function nAe(){for(var t,e=Ig,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Ig=n);_f=t,v9(r)}function v9(t){if(!Wu){wf&&(wf=clearTimeout(wf));var e=t-Rl;e>24?(t<1/0&&(wf=setTimeout(zC,t-Ep.now()-$5)),tf&&(tf=clearInterval(tf))):(tf||(Cg=Ep.now(),tf=setInterval(tAe,Hz)),Wu=1,Gz(zC))}}function WC(t,e,n){var r=new Og;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var rAe=C_("start","end","cancel","interrupt"),iAe=[],Yz=0,qC=1,x9=2,am=3,HC=4,b9=5,sm=6;function L5(t,e,n,r,i,a){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;aAe(t,n,{name:e,index:r,group:i,on:rAe,tween:iAe,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Yz})}function D_(t,e){var n=Pa(t,e);if(n.state>Yz)throw new Error("too late; already scheduled");return n}function fs(t,e){var n=Pa(t,e);if(n.state>am)throw new Error("too late; already running");return n}function Pa(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function aAe(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Kz(a,0,n.time);function a(c){n.state=qC,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var u,d,h,p;if(n.state!==qC)return l();for(u in r)if(p=r[u],p.name===n.name){if(p.state===am)return WC(s);p.state===HC?(p.state=sm,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[u]):+u<e&&(p.state=sm,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[u])}if(WC(function(){n.state===am&&(n.state=HC,n.timer.restart(o,n.delay,n.time),o(c))}),n.state=x9,n.on.call("start",t,t.__data__,n.index,n.group),n.state===x9){for(n.state=am,i=new Array(h=n.tween.length),u=0,d=-1;u<h;++u)(p=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=p);i.length=d+1}}function o(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=b9,1),d=-1,h=i.length;++d<h;)i[d].call(t,u);n.state===b9&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=sm,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function om(t,e){var n=t.__transition,r,i,a=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){a=!1;continue}i=r.state>x9&&r.state<b9,r.state=sm,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}a&&delete t.__transition}}function sAe(t){return this.each(function(){om(this,t)})}function R_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Qz(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function d4(){}var Np=.7,jg=1/Np,ru="\\s*([+-]?\\d+)\\s*",Tp="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",as="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oAe=/^#([0-9a-f]{3,8})$/,lAe=new RegExp("^rgb\\("+[ru,ru,ru]+"\\)$"),cAe=new RegExp("^rgb\\("+[as,as,as]+"\\)$"),uAe=new RegExp("^rgba\\("+[ru,ru,ru,Tp]+"\\)$"),dAe=new RegExp("^rgba\\("+[as,as,as,Tp]+"\\)$"),fAe=new RegExp("^hsl\\("+[Tp,as,as]+"\\)$"),hAe=new RegExp("^hsla\\("+[Tp,as,as,Tp]+"\\)$"),GC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};R_(d4,Pp,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:KC,formatHex:KC,formatHsl:pAe,formatRgb:YC,toString:YC});function KC(){return this.rgb().formatHex()}function pAe(){return Xz(this).formatHsl()}function YC(){return this.rgb().formatRgb()}function Pp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=oAe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?QC(e):n===3?new gi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?_3(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?_3(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=lAe.exec(t))?new gi(e[1],e[2],e[3],1):(e=cAe.exec(t))?new gi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=uAe.exec(t))?_3(e[1],e[2],e[3],e[4]):(e=dAe.exec(t))?_3(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=fAe.exec(t))?ZC(e[1],e[2]/100,e[3]/100,1):(e=hAe.exec(t))?ZC(e[1],e[2]/100,e[3]/100,e[4]):GC.hasOwnProperty(t)?QC(GC[t]):t==="transparent"?new gi(NaN,NaN,NaN,0):null}function QC(t){return new gi(t>>16&255,t>>8&255,t&255,1)}function _3(t,e,n,r){return r<=0&&(t=e=n=NaN),new gi(t,e,n,r)}function mAe(t){return t instanceof d4||(t=Pp(t)),t?(t=t.rgb(),new gi(t.r,t.g,t.b,t.opacity)):new gi}function w9(t,e,n,r){return arguments.length===1?mAe(t):new gi(t,e,n,r??1)}function gi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}R_(gi,w9,Qz(d4,{brighter:function(t){return t=t==null?jg:Math.pow(jg,t),new gi(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?Np:Math.pow(Np,t),new gi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:XC,formatHex:XC,formatRgb:JC,toString:JC}));function XC(){return"#"+My(this.r)+My(this.g)+My(this.b)}function JC(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function My(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function ZC(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Va(t,e,n,r)}function Xz(t){if(t instanceof Va)return new Va(t.h,t.s,t.l,t.opacity);if(t instanceof d4||(t=Pp(t)),!t)return new Va;if(t instanceof Va)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Va(s,o,l,t.opacity)}function gAe(t,e,n,r){return arguments.length===1?Xz(t):new Va(t,e,n,r??1)}function Va(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}R_(Va,gAe,Qz(d4,{brighter:function(t){return t=t==null?jg:Math.pow(jg,t),new Va(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Np:Math.pow(Np,t),new Va(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new gi(Dy(t>=240?t-240:t+120,i,r),Dy(t,i,r),Dy(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function Dy(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Jz=t=>()=>t;function yAe(t,e){return function(n){return t+n*e}}function vAe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function xAe(t){return(t=+t)==1?Zz:function(e,n){return n-e?vAe(e,n,t):Jz(isNaN(e)?n:e)}}function Zz(t,e){var n=e-t;return n?yAe(t,n):Jz(isNaN(t)?e:t)}const eO=function t(e){var n=xAe(e);function r(i,a){var s=n((i=w9(i)).r,(a=w9(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=Zz(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function wo(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var _9=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ry=new RegExp(_9.source,"g");function bAe(t){return function(){return t}}function wAe(t){return function(e){return t(e)+""}}function _Ae(t,e){var n=_9.lastIndex=Ry.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=_9.exec(t))&&(i=Ry.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:wo(r,i)})),n=Ry.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?wAe(l[0].x):bAe(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)o[(d=l[u]).i]=d.x(c);return o.join("")})}var tO=180/Math.PI,S9={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function eW(t,e,n,r,i,a){var s,o,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*tO,skewX:Math.atan(l)*tO,scaleX:s,scaleY:o}}var S3;function SAe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?S9:eW(e.a,e.b,e.c,e.d,e.e,e.f)}function kAe(t){return t==null||(S3||(S3=document.createElementNS("http://www.w3.org/2000/svg","g")),S3.setAttribute("transform",t),!(t=S3.transform.baseVal.consolidate()))?S9:(t=t.matrix,eW(t.a,t.b,t.c,t.d,t.e,t.f))}function tW(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function a(c,u,d,h,p,g){if(c!==d||u!==h){var x=p.push("translate(",null,e,null,n);g.push({i:x-4,x:wo(c,d)},{i:x-2,x:wo(u,h)})}else(d||h)&&p.push("translate("+d+e+h+n)}function s(c,u,d,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:d.push(i(d)+"rotate(",null,r)-2,x:wo(c,u)})):u&&d.push(i(d)+"rotate("+u+r)}function o(c,u,d,h){c!==u?h.push({i:d.push(i(d)+"skewX(",null,r)-2,x:wo(c,u)}):u&&d.push(i(d)+"skewX("+u+r)}function l(c,u,d,h,p,g){if(c!==d||u!==h){var x=p.push(i(p)+"scale(",null,",",null,")");g.push({i:x-4,x:wo(c,d)},{i:x-2,x:wo(u,h)})}else(d!==1||h!==1)&&p.push(i(p)+"scale("+d+","+h+")")}return function(c,u){var d=[],h=[];return c=t(c),u=t(u),a(c.translateX,c.translateY,u.translateX,u.translateY,d,h),s(c.rotate,u.rotate,d,h),o(c.skewX,u.skewX,d,h),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,h),c=u=null,function(p){for(var g=-1,x=h.length,v;++g<x;)d[(v=h[g]).i]=v.x(p);return d.join("")}}}var EAe=tW(SAe,"px, ","px)","deg)"),NAe=tW(kAe,", ",")",")");function TAe(t,e){var n,r;return function(){var i=fs(this,t),a=i.tween;if(a!==n){r=n=a;for(var s=0,o=r.length;s<o;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function PAe(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=fs(this,t),s=a.tween;if(s!==r){i=(r=s).slice();for(var o={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=o;break}l===c&&i.push(o)}a.tween=i}}function AAe(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Pa(this.node(),n).tween,i=0,a=r.length,s;i<a;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?TAe:PAe)(n,t,e))}function $_(t,e,n){var r=t._id;return t.each(function(){var i=fs(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Pa(i,r).value[e]}}function nW(t,e){var n;return(typeof e=="number"?wo:e instanceof Pp?eO:(n=Pp(e))?(e=n,eO):_Ae)(t,e)}function IAe(t){return function(){this.removeAttribute(t)}}function CAe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function OAe(t,e,n){var r,i=n+"",a;return function(){var s=this.getAttribute(t);return s===i?null:s===r?a:a=e(r=s,n)}}function jAe(t,e,n){var r,i=n+"",a;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?a:a=e(r=s,n)}}function MAe(t,e,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o)))}}function DAe(t,e,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o)))}}function RAe(t,e){var n=R5(t),r=n==="transform"?NAe:nW;return this.attrTween(t,typeof e=="function"?(n.local?DAe:MAe)(n,r,$_(this,"attr."+t,e)):e==null?(n.local?CAe:IAe)(n):(n.local?jAe:OAe)(n,r,e))}function $Ae(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function LAe(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function FAe(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&LAe(t,a)),n}return i._value=e,i}function VAe(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&$Ae(t,a)),n}return i._value=e,i}function UAe(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=R5(t);return this.tween(n,(r.local?FAe:VAe)(r,e))}function BAe(t,e){return function(){D_(this,t).delay=+e.apply(this,arguments)}}function zAe(t,e){return e=+e,function(){D_(this,t).delay=e}}function WAe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?BAe:zAe)(e,t)):Pa(this.node(),e).delay}function qAe(t,e){return function(){fs(this,t).duration=+e.apply(this,arguments)}}function HAe(t,e){return e=+e,function(){fs(this,t).duration=e}}function GAe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?qAe:HAe)(e,t)):Pa(this.node(),e).duration}function KAe(t,e){if(typeof e!="function")throw new Error;return function(){fs(this,t).ease=e}}function YAe(t){var e=this._id;return arguments.length?this.each(KAe(e,t)):Pa(this.node(),e).ease}function QAe(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;fs(this,t).ease=n}}function XAe(t){if(typeof t!="function")throw new Error;return this.each(QAe(this._id,t))}function JAe(t){typeof t!="function"&&(t=Rz(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=[],l,c=0;c<s;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&o.push(l);return new Js(r,this._parents,this._name,this._id)}function ZAe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l=e[o],c=n[o],u=l.length,d=s[o]=new Array(u),h,p=0;p<u;++p)(h=l[p]||c[p])&&(d[p]=h);for(;o<r;++o)s[o]=e[o];return new Js(s,this._parents,this._name,this._id)}function eIe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function tIe(t,e,n){var r,i,a=eIe(e)?D_:fs;return function(){var s=a(this,t),o=s.on;o!==r&&(i=(r=o).copy()).on(e,n),s.on=i}}function nIe(t,e){var n=this._id;return arguments.length<2?Pa(this.node(),n).on.on(t):this.each(tIe(n,t,e))}function rIe(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function iIe(){return this.on("end.remove",rIe(this._id))}function aIe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=O_(t));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var o=r[s],l=o.length,c=a[s]=new Array(l),u,d,h=0;h<l;++h)(u=o[h])&&(d=t.call(u,u.__data__,h,o))&&("__data__"in u&&(d.__data__=u.__data__),c[h]=d,L5(c[h],e,n,h,c,Pa(u,n)));return new Js(a,this._parents,e,n)}function sIe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Dz(t));for(var r=this._groups,i=r.length,a=[],s=[],o=0;o<i;++o)for(var l=r[o],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var h=t.call(u,u.__data__,d,l),p,g=Pa(u,n),x=0,v=h.length;x<v;++x)(p=h[x])&&L5(p,e,n,x,h,g);a.push(h),s.push(u)}return new Js(a,s,e,n)}var oIe=u4.prototype.constructor;function lIe(){return new oIe(this._groups,this._parents)}function cIe(t,e){var n,r,i;return function(){var a=zu(this,t),s=(this.style.removeProperty(t),zu(this,t));return a===s?null:a===n&&s===r?i:i=e(n=a,r=s)}}function rW(t){return function(){this.style.removeProperty(t)}}function uIe(t,e,n){var r,i=n+"",a;return function(){var s=zu(this,t);return s===i?null:s===r?a:a=e(r=s,n)}}function dIe(t,e,n){var r,i,a;return function(){var s=zu(this,t),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),zu(this,t))),s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o))}}function fIe(t,e){var n,r,i,a="style."+e,s="end."+a,o;return function(){var l=fs(this,t),c=l.on,u=l.value[a]==null?o||(o=rW(e)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(s,i=u),l.on=r}}function hIe(t,e,n){var r=(t+="")=="transform"?EAe:nW;return e==null?this.styleTween(t,cIe(t,r)).on("end.style."+t,rW(t)):typeof e=="function"?this.styleTween(t,dIe(t,r,$_(this,"style."+t,e))).each(fIe(this._id,t)):this.styleTween(t,uIe(t,r,e),n).on("end.style."+t,null)}function pIe(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function mIe(t,e,n){var r,i;function a(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&pIe(t,s,n)),r}return a._value=e,a}function gIe(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,mIe(t,e,n??""))}function yIe(t){return function(){this.textContent=t}}function vIe(t){return function(){var e=t(this);this.textContent=e??""}}function xIe(t){return this.tween("text",typeof t=="function"?vIe($_(this,"text",t)):yIe(t==null?"":t+""))}function bIe(t){return function(e){this.textContent=t.call(this,e)}}function wIe(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&bIe(i)),e}return r._value=t,r}function _Ie(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,wIe(t))}function SIe(){for(var t=this._name,e=this._id,n=iW(),r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,c=0;c<o;++c)if(l=s[c]){var u=Pa(l,e);L5(l,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Js(r,this._parents,t,n)}function kIe(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,s){var o={value:s},l={value:function(){--i===0&&a()}};n.each(function(){var c=fs(this,r),u=c.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),c.on=e}),i===0&&a()})}var EIe=0;function Js(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function iW(){return++EIe}var R0=u4.prototype;Js.prototype={constructor:Js,select:aIe,selectAll:sIe,filter:JAe,merge:ZAe,selection:lIe,transition:SIe,call:R0.call,nodes:R0.nodes,node:R0.node,size:R0.size,empty:R0.empty,each:R0.each,on:nIe,attr:RAe,attrTween:UAe,style:hIe,styleTween:gIe,text:xIe,textTween:_Ie,remove:iIe,tween:AAe,delay:WAe,duration:GAe,ease:YAe,easeVarying:XAe,end:kIe,[Symbol.iterator]:R0[Symbol.iterator]};function NIe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var TIe={time:null,delay:0,duration:250,ease:NIe};function PIe(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function AIe(t){var e,n;t instanceof Js?(e=t._id,t=t._name):(e=iW(),(n=TIe).time=M_(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,c=0;c<o;++c)(l=s[c])&&L5(l,t,e,c,s,n||PIe(l,e));return new Js(r,this._parents,t,e)}u4.prototype.interrupt=sAe;u4.prototype.transition=AIe;const k3=t=>()=>t;function IIe(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Cs(t,e,n){this.k=t,this.x=e,this.y=n}Cs.prototype={constructor:Cs,scale:function(t){return t===1?this:new Cs(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Cs(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var L_=new Cs(1,0,0);Cs.prototype;function $y(t){t.stopImmediatePropagation()}function nf(t){t.preventDefault(),t.stopImmediatePropagation()}function CIe(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function OIe(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function nO(){return this.__zoom||L_}function jIe(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function MIe(){return navigator.maxTouchPoints||"ontouchstart"in this}function DIe(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}function RIe(){var t=CIe,e=OIe,n=DIe,r=jIe,i=MIe,a=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],o=250,l=JPe,c=C_("start","zoom","end"),u,d,h,p=500,g=150,x=0,v=10;function y(R){R.property("__zoom",nO).on("wheel.zoom",N).on("mousedown.zoom",P).on("dblclick.zoom",A).filter(i).on("touchstart.zoom",C).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",j).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(R,D,$,U){var F=R.selection?R.selection():R;F.property("__zoom",nO),R!==F?E(R,D,$,U):F.interrupt().each(function(){S(this,arguments).event(U).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},y.scaleBy=function(R,D,$,U){y.scaleTo(R,function(){var F=this.__zoom.k,B=typeof D=="function"?D.apply(this,arguments):D;return F*B},$,U)},y.scaleTo=function(R,D,$,U){y.transform(R,function(){var F=e.apply(this,arguments),B=this.__zoom,z=$==null?k(F):typeof $=="function"?$.apply(this,arguments):$,q=B.invert(z),G=typeof D=="function"?D.apply(this,arguments):D;return n(w(b(B,G),z,q),F,s)},$,U)},y.translateBy=function(R,D,$,U){y.transform(R,function(){return n(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof $=="function"?$.apply(this,arguments):$),e.apply(this,arguments),s)},null,U)},y.translateTo=function(R,D,$,U,F){y.transform(R,function(){var B=e.apply(this,arguments),z=this.__zoom,q=U==null?k(B):typeof U=="function"?U.apply(this,arguments):U;return n(L_.translate(q[0],q[1]).scale(z.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof $=="function"?-$.apply(this,arguments):-$),B,s)},U,F)};function b(R,D){return D=Math.max(a[0],Math.min(a[1],D)),D===R.k?R:new Cs(D,R.x,R.y)}function w(R,D,$){var U=D[0]-$[0]*R.k,F=D[1]-$[1]*R.k;return U===R.x&&F===R.y?R:new Cs(R.k,U,F)}function k(R){return[(+R[0][0]+ +R[1][0])/2,(+R[0][1]+ +R[1][1])/2]}function E(R,D,$,U){R.on("start.zoom",function(){S(this,arguments).event(U).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).event(U).end()}).tween("zoom",function(){var F=this,B=arguments,z=S(F,B).event(U),q=e.apply(F,B),G=$==null?k(q):typeof $=="function"?$.apply(F,B):$,te=Math.max(q[1][0]-q[0][0],q[1][1]-q[0][1]),de=F.__zoom,ye=typeof D=="function"?D.apply(F,B):D,J=l(de.invert(G).concat(te/de.k),ye.invert(G).concat(te/ye.k));return function(we){if(we===1)we=ye;else{var ke=J(we),ne=te/ke[2];we=new Cs(ne,G[0]-ke[0]*ne,G[1]-ke[1]*ne)}z.zoom(null,we)}})}function S(R,D,$){return!$&&R.__zooming||new _(R,D)}function _(R,D){this.that=R,this.args=D,this.active=0,this.sourceEvent=null,this.extent=e.apply(R,D),this.taps=0}_.prototype={event:function(R){return R&&(this.sourceEvent=R),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(R,D){return this.mouse&&R!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&R!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&R!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(R){var D=ws(this.that).datum();c.call(R,this.that,new IIe(R,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:c}),D)}};function N(R,...D){if(!t.apply(this,arguments))return;var $=S(this,D).event(R),U=this.__zoom,F=Math.max(a[0],Math.min(a[1],U.k*Math.pow(2,r.apply(this,arguments)))),B=D0(R);if($.wheel)($.mouse[0][0]!==B[0]||$.mouse[0][1]!==B[1])&&($.mouse[1]=U.invert($.mouse[0]=B)),clearTimeout($.wheel);else{if(U.k===F)return;$.mouse=[B,U.invert(B)],om(this),$.start()}nf(R),$.wheel=setTimeout(z,g),$.zoom("mouse",n(w(b(U,F),$.mouse[0],$.mouse[1]),$.extent,s));function z(){$.wheel=null,$.end()}}function P(R,...D){if(h||!t.apply(this,arguments))return;var $=S(this,D,!0).event(R),U=ws(R.view).on("mousemove.zoom",G,!0).on("mouseup.zoom",te,!0),F=D0(R,B),B=R.currentTarget,z=R.clientX,q=R.clientY;GPe(R.view),$y(R),$.mouse=[F,this.__zoom.invert(F)],om(this),$.start();function G(de){if(nf(de),!$.moved){var ye=de.clientX-z,J=de.clientY-q;$.moved=ye*ye+J*J>x}$.event(de).zoom("mouse",n(w($.that.__zoom,$.mouse[0]=D0(de,B),$.mouse[1]),$.extent,s))}function te(de){U.on("mousemove.zoom mouseup.zoom",null),KPe(de.view,$.moved),nf(de),$.event(de).end()}}function A(R,...D){if(t.apply(this,arguments)){var $=this.__zoom,U=D0(R.changedTouches?R.changedTouches[0]:R,this),F=$.invert(U),B=$.k*(R.shiftKey?.5:2),z=n(w(b($,B),U,F),e.apply(this,D),s);nf(R),o>0?ws(this).transition().duration(o).call(E,z,U,R):ws(this).call(y.transform,z,U,R)}}function C(R,...D){if(t.apply(this,arguments)){var $=R.touches,U=$.length,F=S(this,D,R.changedTouches.length===U).event(R),B,z,q,G;for($y(R),z=0;z<U;++z)q=$[z],G=D0(q,this),G=[G,this.__zoom.invert(G),q.identifier],F.touch0?!F.touch1&&F.touch0[2]!==G[2]&&(F.touch1=G,F.taps=0):(F.touch0=G,B=!0,F.taps=1+!!u);u&&(u=clearTimeout(u)),B&&(F.taps<2&&(d=G[0],u=setTimeout(function(){u=null},p)),om(this),F.start())}}function O(R,...D){if(this.__zooming){var $=S(this,D).event(R),U=R.changedTouches,F=U.length,B,z,q,G;for(nf(R),B=0;B<F;++B)z=U[B],q=D0(z,this),$.touch0&&$.touch0[2]===z.identifier?$.touch0[0]=q:$.touch1&&$.touch1[2]===z.identifier&&($.touch1[0]=q);if(z=$.that.__zoom,$.touch1){var te=$.touch0[0],de=$.touch0[1],ye=$.touch1[0],J=$.touch1[1],we=(we=ye[0]-te[0])*we+(we=ye[1]-te[1])*we,ke=(ke=J[0]-de[0])*ke+(ke=J[1]-de[1])*ke;z=b(z,Math.sqrt(we/ke)),q=[(te[0]+ye[0])/2,(te[1]+ye[1])/2],G=[(de[0]+J[0])/2,(de[1]+J[1])/2]}else if($.touch0)q=$.touch0[0],G=$.touch0[1];else return;$.zoom("touch",n(w(z,q,G),$.extent,s))}}function j(R,...D){if(this.__zooming){var $=S(this,D).event(R),U=R.changedTouches,F=U.length,B,z;for($y(R),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),B=0;B<F;++B)z=U[B],$.touch0&&$.touch0[2]===z.identifier?delete $.touch0:$.touch1&&$.touch1[2]===z.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(z=D0(z,this),Math.hypot(d[0]-z[0],d[1]-z[1])<v)){var q=ws(this).on("dblclick.zoom");q&&q.apply(this,arguments)}}}return y.wheelDelta=function(R){return arguments.length?(r=typeof R=="function"?R:k3(+R),y):r},y.filter=function(R){return arguments.length?(t=typeof R=="function"?R:k3(!!R),y):t},y.touchable=function(R){return arguments.length?(i=typeof R=="function"?R:k3(!!R),y):i},y.extent=function(R){return arguments.length?(e=typeof R=="function"?R:k3([[+R[0][0],+R[0][1]],[+R[1][0],+R[1][1]]]),y):e},y.scaleExtent=function(R){return arguments.length?(a[0]=+R[0],a[1]=+R[1],y):[a[0],a[1]]},y.translateExtent=function(R){return arguments.length?(s[0][0]=+R[0][0],s[1][0]=+R[1][0],s[0][1]=+R[0][1],s[1][1]=+R[1][1],y):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},y.constrain=function(R){return arguments.length?(n=R,y):n},y.duration=function(R){return arguments.length?(o=+R,y):o},y.interpolate=function(R){return arguments.length?(l=R,y):l},y.on=function(){var R=c.on.apply(c,arguments);return R===c?y:R},y.clickDistance=function(R){return arguments.length?(x=(R=+R)*R,y):Math.sqrt(x)},y.tapDistance=function(R){return arguments.length?(v=+R,y):v},y}function rO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $c(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(n),!0).forEach(function(r){$Ie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k9(t){"@babel/helpers - typeof";return k9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k9(t)}function $Ie(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ti(){return ti=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ti.apply(this,arguments)}function LIe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ta(t,e){if(t==null)return{};var n=LIe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nr(t,e){return FIe(t)||VIe(t,e)||UIe(t,e)||BIe()}function FIe(t){if(Array.isArray(t))return t}function VIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,s,o;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(l){a=!0,o=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw o}}return r}}function UIe(t,e){if(t){if(typeof t=="string")return iO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iO(t,e)}}function iO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var zIe=["width","height","projection","projectionConfig"],WIe=Ez,qIe=ta(aTe,["geoPath"]),hs=I.createContext(),HIe=function(e){var n=e.projectionConfig,r=n===void 0?{}:n,i=e.projection,a=i===void 0?"geoEqualEarth":i,s=e.width,o=s===void 0?800:s,l=e.height,c=l===void 0?600:l,u=typeof a=="function";if(u)return a;var d=qIe[a]().translate([o/2,c/2]),h=[d.center?"center":null,d.rotate?"rotate":null,d.scale?"scale":null,d.parallels?"parallels":null];return h.forEach(function(p){p&&(d=d[p](r[p]||d[p]()))}),d},aW=function(e){var n=e.width,r=e.height,i=e.projection,a=e.projectionConfig,s=ta(e,zIe),o=a.center||[],l=nr(o,2),c=l[0],u=l[1],d=a.rotate||[],h=nr(d,3),p=h[0],g=h[1],x=h[2],v=a.parallels||[],y=nr(v,2),b=y[0],w=y[1],k=a.scale||null,E=I.useMemo(function(){return HIe({projectionConfig:{center:c||c===0||u||u===0?[c,u]:null,rotate:p||p===0||g||g===0?[p,g,x]:null,parallels:b||b===0||w||w===0?[b,w]:null,scale:k},projection:i,width:n,height:r})},[n,r,i,c,u,p,g,x,b,w,k]),S=I.useCallback(E,[E]),_=I.useMemo(function(){return{width:n,height:r,projection:S,path:WIe().projection(S)}},[n,r,S]);return V.createElement(hs.Provider,ti({value:_},s))};aW.propTypes={width:he.number,height:he.number,projection:he.oneOfType([he.string,he.func]),projectionConfig:he.object};var GIe=["width","height","projection","projectionConfig","className"],F_=I.forwardRef(function(t,e){var n=t.width,r=n===void 0?800:n,i=t.height,a=i===void 0?600:i,s=t.projection,o=s===void 0?"geoEqualEarth":s,l=t.projectionConfig,c=l===void 0?{}:l,u=t.className,d=u===void 0?"":u,h=ta(t,GIe);return V.createElement(aW,{width:r,height:a,projection:o,projectionConfig:c},V.createElement("svg",ti({ref:e,viewBox:"0 0 ".concat(r," ").concat(a),className:"rsm-svg ".concat(d)},h)))});F_.displayName="ComposableMap";F_.propTypes={width:he.number,height:he.number,projection:he.oneOfType([he.string,he.func]),projectionConfig:he.object,className:he.string};function aO(t,e,n){var r=(t*n.k-t)/2,i=(e*n.k-e)/2;return[t/2-(r+n.x)/n.k,e/2-(i+n.y)/n.k]}function KIe(t){return fetch(t).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).catch(function(e){console.log("There was a problem when fetching the data: ",e)})}function sO(t,e){var n=t.type==="Topology";if(!n)return e?e(t.features||t):t.features||t;var r=cTe(t,t.objects[Object.keys(t.objects)[0]]).features;return e?e(r):r}function oO(t){var e=t.type==="Topology";if(!e)return null;var n=FC(t,t.objects[Object.keys(t.objects)[0]],function(i,a){return i===a}),r=FC(t,t.objects[Object.keys(t.objects)[0]],function(i,a){return i!==a});return{outline:n,borders:r}}function YIe(t,e,n){return t&&e?{outline:$c($c({},t),{},{rsmKey:"outline",svgPath:n(t)}),borders:$c($c({},e),{},{rsmKey:"borders",svgPath:n(e)})}:{}}function QIe(t,e){return t?t.map(function(n,r){return $c($c({},n),{},{rsmKey:"geo-".concat(r),svgPath:e(n)})}):[]}function XIe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:30,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:30,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.5,r=Array.isArray(n)?n:[n,n],i=t/2*r[0],a=e/2*r[1];return"M".concat(0,",",0," Q",-t/2-i,",").concat(-e/2+a," ").concat(-t,",").concat(-e)}function JIe(t){return typeof t=="string"}function ZIe(t){var e=t.geography,n=t.parseGeographies,r=I.useContext(hs),i=r.path,a=I.useState({}),s=nr(a,2),o=s[0],l=s[1];I.useEffect(function(){(typeof window>"u"?"undefined":k9(window))!=="undefined"&&e&&(JIe(e)?KIe(e).then(function(p){p&&l({geographies:sO(p,n),mesh:oO(p)})}):l({geographies:sO(e,n),mesh:oO(e)}))},[e,n]);var c=I.useMemo(function(){var p=o.mesh||{},g=YIe(p.outline,p.borders,i);return{geographies:QIe(o.geographies,i),outline:g.outline,borders:g.borders}},[o,i]),u=c.geographies,d=c.outline,h=c.borders;return{geographies:u,outline:d,borders:h}}var eCe=["geography","children","parseGeographies","className"],V_=I.forwardRef(function(t,e){var n=t.geography,r=t.children,i=t.parseGeographies,a=t.className,s=a===void 0?"":a,o=ta(t,eCe),l=I.useContext(hs),c=l.path,u=l.projection,d=ZIe({geography:n,parseGeographies:i}),h=d.geographies,p=d.outline,g=d.borders;return V.createElement("g",ti({ref:e,className:"rsm-geographies ".concat(s)},o),h&&h.length>0&&r({geographies:h,outline:p,borders:g,path:c,projection:u}))});V_.displayName="Geographies";V_.propTypes={geography:he.oneOfType([he.string,he.object,he.array]),children:he.func,parseGeographies:he.func,className:he.string};var tCe=["geography","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],U_=I.forwardRef(function(t,e){var n=t.geography,r=t.onMouseEnter,i=t.onMouseLeave,a=t.onMouseDown,s=t.onMouseUp,o=t.onFocus,l=t.onBlur,c=t.style,u=c===void 0?{}:c,d=t.className,h=d===void 0?"":d,p=ta(t,tCe),g=I.useState(!1),x=nr(g,2),v=x[0],y=x[1],b=I.useState(!1),w=nr(b,2),k=w[0],E=w[1];function S(O){E(!0),r&&r(O)}function _(O){E(!1),v&&y(!1),i&&i(O)}function N(O){E(!0),o&&o(O)}function P(O){E(!1),v&&y(!1),l&&l(O)}function A(O){y(!0),a&&a(O)}function C(O){y(!1),s&&s(O)}return V.createElement("path",ti({ref:e,tabIndex:"0",className:"rsm-geography ".concat(h),d:n.svgPath,onMouseEnter:S,onMouseLeave:_,onFocus:N,onBlur:P,onMouseDown:A,onMouseUp:C,style:u[v||k?v?"pressed":"hover":"default"]},p))});U_.displayName="Geography";U_.propTypes={geography:he.object,onMouseEnter:he.func,onMouseLeave:he.func,onMouseDown:he.func,onMouseUp:he.func,onFocus:he.func,onBlur:he.func,style:he.object,className:he.string};var nCe=I.memo(U_),rCe=["fill","stroke","step","className"],B_=I.forwardRef(function(t,e){var n=t.fill,r=n===void 0?"transparent":n,i=t.stroke,a=i===void 0?"currentcolor":i,s=t.step,o=s===void 0?[10,10]:s,l=t.className,c=l===void 0?"":l,u=ta(t,rCe),d=I.useContext(hs),h=d.path;return V.createElement("path",ti({ref:e,d:h(g_().step(o)()),fill:r,stroke:a,className:"rsm-graticule ".concat(c)},u))});B_.displayName="Graticule";B_.propTypes={fill:he.string,stroke:he.string,step:he.array,className:he.string};I.memo(B_);var iCe=["value"],aCe=I.createContext(),sCe={x:0,y:0,k:1,transformString:"translate(0 0) scale(1)"},sW=function(e){var n=e.value,r=n===void 0?sCe:n,i=ta(e,iCe);return V.createElement(aCe.Provider,ti({value:r},i))};sW.propTypes={x:he.number,y:he.number,k:he.number,transformString:he.string};function oCe(t){var e=t.center,n=t.filterZoomEvent,r=t.onMoveStart,i=t.onMoveEnd,a=t.onMove,s=t.translateExtent,o=s===void 0?[[-1/0,-1/0],[1/0,1/0]]:s,l=t.scaleExtent,c=l===void 0?[1,8]:l,u=t.zoom,d=u===void 0?1:u,h=I.useContext(hs),p=h.width,g=h.height,x=h.projection,v=nr(e,2),y=v[0],b=v[1],w=I.useState({x:0,y:0,k:1}),k=nr(w,2),E=k[0],S=k[1],_=I.useRef({x:0,y:0,k:1}),N=I.useRef(),P=I.useRef(),A=I.useRef(!1),C=nr(o,2),O=C[0],j=C[1],R=nr(O,2),D=R[0],$=R[1],U=nr(j,2),F=U[0],B=U[1],z=nr(c,2),q=z[0],G=z[1];return I.useEffect(function(){var te=ws(N.current);function de(ne){!r||A.current||r({coordinates:x.invert(aO(p,g,ne.transform)),zoom:ne.transform.k},ne)}function ye(ne){if(!A.current){var ve=ne.transform,Te=ne.sourceEvent;S({x:ve.x,y:ve.y,k:ve.k,dragging:Te}),a&&a({x:ve.x,y:ve.y,zoom:ve.k,dragging:Te},ne)}}function J(ne){if(A.current){A.current=!1;return}var ve=x.invert(aO(p,g,ne.transform)),Te=nr(ve,2),ae=Te[0],Be=Te[1];_.current={x:ae,y:Be,k:ne.transform.k},i&&i({coordinates:[ae,Be],zoom:ne.transform.k},ne)}function we(ne){return n?n(ne):ne?!ne.ctrlKey&&!ne.button:!1}var ke=RIe().filter(we).scaleExtent([q,G]).translateExtent([[D,$],[F,B]]).on("start",de).on("zoom",ye).on("end",J);P.current=ke,te.call(ke)},[p,g,D,$,F,B,q,G,x,r,a,i,n]),I.useEffect(function(){if(!(y===_.current.x&&b===_.current.y&&d===_.current.k)){var te=x([y,b]),de=te[0]*d,ye=te[1]*d,J=ws(N.current);A.current=!0,J.call(P.current.transform,L_.translate(p/2-de,g/2-ye).scale(d)),S({x:p/2-de,y:g/2-ye,k:d}),_.current={x:y,y:b,k:d}}},[y,b,d,p,g,x]),{mapRef:N,position:E,transformString:"translate(".concat(E.x," ").concat(E.y,") scale(").concat(E.k,")")}}var lCe=["center","zoom","minZoom","maxZoom","translateExtent","filterZoomEvent","onMoveStart","onMove","onMoveEnd","className"],oW=I.forwardRef(function(t,e){var n=t.center,r=n===void 0?[0,0]:n,i=t.zoom,a=i===void 0?1:i,s=t.minZoom,o=s===void 0?1:s,l=t.maxZoom,c=l===void 0?8:l,u=t.translateExtent,d=t.filterZoomEvent,h=t.onMoveStart,p=t.onMove,g=t.onMoveEnd,x=t.className,v=ta(t,lCe),y=I.useContext(hs),b=y.width,w=y.height,k=oCe({center:r,filterZoomEvent:d,onMoveStart:h,onMove:p,onMoveEnd:g,scaleExtent:[o,c],translateExtent:u,zoom:a}),E=k.mapRef,S=k.transformString,_=k.position;return V.createElement(sW,{value:{x:_.x,y:_.y,k:_.k,transformString:S}},V.createElement("g",{ref:E},V.createElement("rect",{width:b,height:w,fill:"transparent"}),V.createElement("g",ti({ref:e,transform:S,className:"rsm-zoomable-group ".concat(x)},v))))});oW.displayName="ZoomableGroup";oW.propTypes={center:he.array,zoom:he.number,minZoom:he.number,maxZoom:he.number,translateExtent:he.arrayOf(he.array),onMoveStart:he.func,onMove:he.func,onMoveEnd:he.func,className:he.string};var cCe=["id","fill","stroke","strokeWidth","className"],z_=I.forwardRef(function(t,e){var n=t.id,r=n===void 0?"rsm-sphere":n,i=t.fill,a=i===void 0?"transparent":i,s=t.stroke,o=s===void 0?"currentcolor":s,l=t.strokeWidth,c=l===void 0?.5:l,u=t.className,d=u===void 0?"":u,h=ta(t,cCe),p=I.useContext(hs),g=p.path,x=I.useMemo(function(){return g({type:"Sphere"})},[g]);return V.createElement(I.Fragment,null,V.createElement("defs",null,V.createElement("clipPath",{id:r},V.createElement("path",{d:x}))),V.createElement("path",ti({ref:e,d:x,fill:a,stroke:o,strokeWidth:c,style:{pointerEvents:"none"},className:"rsm-sphere ".concat(d)},h)))});z_.displayName="Sphere";z_.propTypes={id:he.string,fill:he.string,stroke:he.string,strokeWidth:he.number,className:he.string};I.memo(z_);var uCe=["coordinates","children","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],W_=I.forwardRef(function(t,e){var n=t.coordinates,r=t.children,i=t.onMouseEnter,a=t.onMouseLeave,s=t.onMouseDown,o=t.onMouseUp,l=t.onFocus,c=t.onBlur,u=t.style,d=u===void 0?{}:u,h=t.className,p=h===void 0?"":h,g=ta(t,uCe),x=I.useContext(hs),v=x.projection,y=I.useState(!1),b=nr(y,2),w=b[0],k=b[1],E=I.useState(!1),S=nr(E,2),_=S[0],N=S[1],P=v(n),A=nr(P,2),C=A[0],O=A[1];function j(B){N(!0),i&&i(B)}function R(B){N(!1),w&&k(!1),a&&a(B)}function D(B){N(!0),l&&l(B)}function $(B){N(!1),w&&k(!1),c&&c(B)}function U(B){k(!0),s&&s(B)}function F(B){k(!1),o&&o(B)}return V.createElement("g",ti({ref:e,transform:"translate(".concat(C,", ").concat(O,")"),className:"rsm-marker ".concat(p),onMouseEnter:j,onMouseLeave:R,onFocus:D,onBlur:$,onMouseDown:U,onMouseUp:F,style:d[w||_?w?"pressed":"hover":"default"]},g),r)});W_.displayName="Marker";W_.propTypes={coordinates:he.array,children:he.oneOfType([he.node,he.arrayOf(he.node)]),onMouseEnter:he.func,onMouseLeave:he.func,onMouseDown:he.func,onMouseUp:he.func,onFocus:he.func,onBlur:he.func,style:he.object,className:he.string};var dCe=["from","to","coordinates","stroke","strokeWidth","fill","className"],lW=I.forwardRef(function(t,e){var n=t.from,r=n===void 0?[0,0]:n,i=t.to,a=i===void 0?[0,0]:i,s=t.coordinates,o=t.stroke,l=o===void 0?"currentcolor":o,c=t.strokeWidth,u=c===void 0?3:c,d=t.fill,h=d===void 0?"transparent":d,p=t.className,g=p===void 0?"":p,x=ta(t,dCe),v=I.useContext(hs),y=v.path,b={type:"LineString",coordinates:s||[r,a]};return V.createElement("path",ti({ref:e,d:y(b),className:"rsm-line ".concat(g),stroke:l,strokeWidth:u,fill:h},x))});lW.displayName="Line";lW.propTypes={from:he.array,to:he.array,coordinates:he.array,stroke:he.string,strokeWidth:he.number,fill:he.string,className:he.string};var fCe=["subject","children","connectorProps","dx","dy","curve","className"],cW=I.forwardRef(function(t,e){var n=t.subject,r=t.children,i=t.connectorProps,a=t.dx,s=a===void 0?30:a,o=t.dy,l=o===void 0?30:o,c=t.curve,u=c===void 0?0:c,d=t.className,h=d===void 0?"":d,p=ta(t,fCe),g=I.useContext(hs),x=g.projection,v=x(n),y=nr(v,2),b=y[0],w=y[1],k=XIe(s,l,u);return V.createElement("g",ti({ref:e,transform:"translate(".concat(b+s,", ").concat(w+l,")"),className:"rsm-annotation ".concat(h)},p),V.createElement("path",ti({d:k,fill:"transparent",stroke:"#000"},i)),r)});cW.displayName="Annotation";cW.propTypes={subject:he.array,children:he.oneOfType([he.node,he.arrayOf(he.node)]),dx:he.number,dy:he.number,curve:he.number,connectorProps:he.object,className:he.string};var Ft=1e-6,E9=1e-12,bt=Math.PI,Yr=bt/2,lO=bt/4,Si=bt*2,Nr=180/bt,Pt=bt/180,on=Math.abs,uW=Math.atan,$l=Math.atan2,Nt=Math.cos,hCe=Math.exp,N9=Math.hypot,pCe=Math.log,Tt=Math.sin,mCe=Math.sign||function(t){return t>0?1:t<0?-1:0},P0=Math.sqrt,gCe=Math.tan;function yCe(t){return t>1?0:t<-1?bt:Math.acos(t)}function Ll(t){return t>1?Yr:t<-1?-Yr:Math.asin(t)}function yi(){}function Mg(t,e){t&&uO.hasOwnProperty(t.type)&&uO[t.type](t,e)}var cO={Feature:function(t,e){Mg(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Mg(n[r].geometry,e)}},uO={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){T9(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)T9(n[r],e,0)},Polygon:function(t,e){dO(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)dO(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Mg(n[r],e)}};function T9(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function dO(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)T9(t[n],e,1);e.polygonEnd()}function q0(t,e){t&&cO.hasOwnProperty(t.type)?cO[t.type](t,e):Mg(t,e)}function P9(t){return[$l(t[1],t[0]),Ll(t[2])]}function qu(t){var e=t[0],n=t[1],r=Nt(n);return[r*Nt(e),r*Tt(e),Tt(n)]}function E3(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Dg(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ly(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function N3(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function A9(t){var e=P0(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Sf,Rg,$g,Lg,Fg,Vg,Ug,Bg,I9,C9,O9,dW,fW,Ir,Cr,Or,ma={sphere:yi,point:q_,lineStart:fO,lineEnd:hO,polygonStart:function(){ma.lineStart=bCe,ma.lineEnd=wCe},polygonEnd:function(){ma.lineStart=fO,ma.lineEnd=hO}};function q_(t,e){t*=Pt,e*=Pt;var n=Nt(e);f4(n*Nt(t),n*Tt(t),Tt(e))}function f4(t,e,n){++Sf,$g+=(t-$g)/Sf,Lg+=(e-Lg)/Sf,Fg+=(n-Fg)/Sf}function fO(){ma.point=vCe}function vCe(t,e){t*=Pt,e*=Pt;var n=Nt(e);Ir=n*Nt(t),Cr=n*Tt(t),Or=Tt(e),ma.point=xCe,f4(Ir,Cr,Or)}function xCe(t,e){t*=Pt,e*=Pt;var n=Nt(e),r=n*Nt(t),i=n*Tt(t),a=Tt(e),s=$l(P0((s=Cr*a-Or*i)*s+(s=Or*r-Ir*a)*s+(s=Ir*i-Cr*r)*s),Ir*r+Cr*i+Or*a);Rg+=s,Vg+=s*(Ir+(Ir=r)),Ug+=s*(Cr+(Cr=i)),Bg+=s*(Or+(Or=a)),f4(Ir,Cr,Or)}function hO(){ma.point=q_}function bCe(){ma.point=_Ce}function wCe(){hW(dW,fW),ma.point=q_}function _Ce(t,e){dW=t,fW=e,t*=Pt,e*=Pt,ma.point=hW;var n=Nt(e);Ir=n*Nt(t),Cr=n*Tt(t),Or=Tt(e),f4(Ir,Cr,Or)}function hW(t,e){t*=Pt,e*=Pt;var n=Nt(e),r=n*Nt(t),i=n*Tt(t),a=Tt(e),s=Cr*a-Or*i,o=Or*r-Ir*a,l=Ir*i-Cr*r,c=N9(s,o,l),u=Ll(c),d=c&&-u/c;I9.add(d*s),C9.add(d*o),O9.add(d*l),Rg+=u,Vg+=u*(Ir+(Ir=r)),Ug+=u*(Cr+(Cr=i)),Bg+=u*(Or+(Or=a)),f4(Ir,Cr,Or)}function SCe(t){Sf=Rg=$g=Lg=Fg=Vg=Ug=Bg=0,I9=new ns,C9=new ns,O9=new ns,q0(t,ma);var e=+I9,n=+C9,r=+O9,i=N9(e,n,r);return i<E9&&(e=Vg,n=Ug,r=Bg,Rg<Ft&&(e=$g,n=Lg,r=Fg),i=N9(e,n,r),i<E9)?[NaN,NaN]:[$l(n,e)*Nr,Ll(r/i)*Nr]}function j9(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function M9(t,e){return on(t)>bt&&(t-=Math.round(t/Si)*Si),[t,e]}M9.invert=M9;function pW(t,e,n){return(t%=Si)?e||n?j9(mO(t),gO(e,n)):mO(t):e||n?gO(e,n):M9}function pO(t){return function(e,n){return e+=t,on(e)>bt&&(e-=Math.round(e/Si)*Si),[e,n]}}function mO(t){var e=pO(t);return e.invert=pO(-t),e}function gO(t,e){var n=Nt(t),r=Tt(t),i=Nt(e),a=Tt(e);function s(o,l){var c=Nt(l),u=Nt(o)*c,d=Tt(o)*c,h=Tt(l),p=h*n+u*r;return[$l(d*i-p*a,u*n-h*r),Ll(p*i+d*a)]}return s.invert=function(o,l){var c=Nt(l),u=Nt(o)*c,d=Tt(o)*c,h=Tt(l),p=h*i-d*a;return[$l(d*i+h*a,u*n+p*r),Ll(p*n-u*r)]},s}function kCe(t){t=pW(t[0]*Pt,t[1]*Pt,t.length>2?t[2]*Pt:0);function e(n){return n=t(n[0]*Pt,n[1]*Pt),n[0]*=Nr,n[1]*=Nr,n}return e.invert=function(n){return n=t.invert(n[0]*Pt,n[1]*Pt),n[0]*=Nr,n[1]*=Nr,n},e}function ECe(t,e,n,r,i,a){if(n){var s=Nt(e),o=Tt(e),l=r*n;i==null?(i=e+r*Si,a=e-l/2):(i=yO(s,i),a=yO(s,a),(r>0?i<a:i>a)&&(i+=r*Si));for(var c,u=i;r>0?u>a:u<a;u-=l)c=P9([s,-o*Nt(u),-o*Tt(u)]),t.point(c[0],c[1])}}function yO(t,e){e=qu(e),e[0]-=t,A9(e);var n=yCe(-e[1]);return((-e[2]<0?-n:n)+Si-Ft)%Si}function mW(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:yi,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function lm(t,e){return on(t[0]-e[0])<Ft&&on(t[1]-e[1])<Ft}function T3(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function gW(t,e,n,r,i){var a=[],s=[],o,l;if(t.forEach(function(g){if(!((x=g.length-1)<=0)){var x,v=g[0],y=g[x],b;if(lm(v,y)){if(!v[2]&&!y[2]){for(i.lineStart(),o=0;o<x;++o)i.point((v=g[o])[0],v[1]);i.lineEnd();return}y[0]+=2*Ft}a.push(b=new T3(v,g,null,!0)),s.push(b.o=new T3(v,null,b,!1)),a.push(b=new T3(y,g,null,!1)),s.push(b.o=new T3(y,null,b,!0))}}),!!a.length){for(s.sort(e),vO(a),vO(s),o=0,l=s.length;o<l;++o)s[o].e=n=!n;for(var c=a[0],u,d;;){for(var h=c,p=!0;h.v;)if((h=h.n)===c)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,l=u.length;o<l;++o)i.point((d=u[o])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(u=h.p.z,o=u.length-1;o>=0;--o)i.point((d=u[o])[0],d[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,p=!p}while(!h.v);i.lineEnd()}}}function vO(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Fy(t){return on(t[0])<=bt?t[0]:mCe(t[0])*((on(t[0])+bt)%Si-bt)}function NCe(t,e){var n=Fy(e),r=e[1],i=Tt(r),a=[Tt(n),-Nt(n),0],s=0,o=0,l=new ns;i===1?r=Yr+Ft:i===-1&&(r=-Yr-Ft);for(var c=0,u=t.length;c<u;++c)if(h=(d=t[c]).length)for(var d,h,p=d[h-1],g=Fy(p),x=p[1]/2+lO,v=Tt(x),y=Nt(x),b=0;b<h;++b,g=k,v=S,y=_,p=w){var w=d[b],k=Fy(w),E=w[1]/2+lO,S=Tt(E),_=Nt(E),N=k-g,P=N>=0?1:-1,A=P*N,C=A>bt,O=v*S;if(l.add($l(O*P*Tt(A),y*_+O*Nt(A))),s+=C?N+P*Si:N,C^g>=n^k>=n){var j=Dg(qu(p),qu(w));A9(j);var R=Dg(a,j);A9(R);var D=(C^N>=0?-1:1)*Ll(R[2]);(r>D||r===D&&(j[0]||j[1]))&&(o+=C^N>=0?1:-1)}}return(s<-Ft||s<Ft&&l<-E9)^o&1}function yW(t,e,n,r){return function(i){var a=e(i),s=mW(),o=e(s),l=!1,c,u,d,h={point:p,lineStart:x,lineEnd:v,polygonStart:function(){h.point=y,h.lineStart=b,h.lineEnd=w,u=[],c=[]},polygonEnd:function(){h.point=p,h.lineStart=x,h.lineEnd=v,u=TV(u);var k=NCe(c,r);u.length?(l||(i.polygonStart(),l=!0),gW(u,PCe,k,n,i)):k&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(k,E){t(k,E)&&i.point(k,E)}function g(k,E){a.point(k,E)}function x(){h.point=g,a.lineStart()}function v(){h.point=p,a.lineEnd()}function y(k,E){d.push([k,E]),o.point(k,E)}function b(){o.lineStart(),d=[]}function w(){y(d[0][0],d[0][1]),o.lineEnd();var k=o.clean(),E=s.result(),S,_=E.length,N,P,A;if(d.pop(),c.push(d),d=null,!!_){if(k&1){if(P=E[0],(N=P.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),S=0;S<N;++S)i.point((A=P[S])[0],A[1]);i.lineEnd()}return}_>1&&k&2&&E.push(E.pop().concat(E.shift())),u.push(E.filter(TCe))}}return h}}function TCe(t){return t.length>1}function PCe(t,e){return((t=t.x)[0]<0?t[1]-Yr-Ft:Yr-t[1])-((e=e.x)[0]<0?e[1]-Yr-Ft:Yr-e[1])}const xO=yW(function(){return!0},ACe,CCe,[-bt,-Yr]);function ACe(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,s){var o=a>0?bt:-bt,l=on(a-e);on(l-bt)<Ft?(t.point(e,n=(n+s)/2>0?Yr:-Yr),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),t.point(a,n),i=0):r!==o&&l>=bt&&(on(e-r)<Ft&&(e-=r*Ft),on(a-o)<Ft&&(a-=o*Ft),n=ICe(e,n,a,s),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),i=0),t.point(e=a,n=s),r=o},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function ICe(t,e,n,r){var i,a,s=Tt(t-n);return on(s)>Ft?uW((Tt(e)*(a=Nt(r))*Tt(n)-Tt(r)*(i=Nt(e))*Tt(t))/(i*a*s)):(e+r)/2}function CCe(t,e,n,r){var i;if(t==null)i=n*Yr,r.point(-bt,i),r.point(0,i),r.point(bt,i),r.point(bt,0),r.point(bt,-i),r.point(0,-i),r.point(-bt,-i),r.point(-bt,0),r.point(-bt,i);else if(on(t[0]-e[0])>Ft){var a=t[0]<e[0]?bt:-bt;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function OCe(t){var e=Nt(t),n=2*Pt,r=e>0,i=on(e)>Ft;function a(u,d,h,p){ECe(p,t,n,h,u,d)}function s(u,d){return Nt(u)*Nt(d)>e}function o(u){var d,h,p,g,x;return{lineStart:function(){g=p=!1,x=1},point:function(v,y){var b=[v,y],w,k=s(v,y),E=r?k?0:c(v,y):k?c(v+(v<0?bt:-bt),y):0;if(!d&&(g=p=k)&&u.lineStart(),k!==p&&(w=l(d,b),(!w||lm(d,w)||lm(b,w))&&(b[2]=1)),k!==p)x=0,k?(u.lineStart(),w=l(b,d),u.point(w[0],w[1])):(w=l(d,b),u.point(w[0],w[1],2),u.lineEnd()),d=w;else if(i&&d&&r^k){var S;!(E&h)&&(S=l(b,d,!0))&&(x=0,r?(u.lineStart(),u.point(S[0][0],S[0][1]),u.point(S[1][0],S[1][1]),u.lineEnd()):(u.point(S[1][0],S[1][1]),u.lineEnd(),u.lineStart(),u.point(S[0][0],S[0][1],3)))}k&&(!d||!lm(d,b))&&u.point(b[0],b[1]),d=b,p=k,h=E},lineEnd:function(){p&&u.lineEnd(),d=null},clean:function(){return x|(g&&p)<<1}}}function l(u,d,h){var p=qu(u),g=qu(d),x=[1,0,0],v=Dg(p,g),y=E3(v,v),b=v[0],w=y-b*b;if(!w)return!h&&u;var k=e*y/w,E=-e*b/w,S=Dg(x,v),_=N3(x,k),N=N3(v,E);Ly(_,N);var P=S,A=E3(_,P),C=E3(P,P),O=A*A-C*(E3(_,_)-1);if(!(O<0)){var j=P0(O),R=N3(P,(-A-j)/C);if(Ly(R,_),R=P9(R),!h)return R;var D=u[0],$=d[0],U=u[1],F=d[1],B;$<D&&(B=D,D=$,$=B);var z=$-D,q=on(z-bt)<Ft,G=q||z<Ft;if(!q&&F<U&&(B=U,U=F,F=B),G?q?U+F>0^R[1]<(on(R[0]-D)<Ft?U:F):U<=R[1]&&R[1]<=F:z>bt^(D<=R[0]&&R[0]<=$)){var te=N3(P,(-A+j)/C);return Ly(te,_),[R,P9(te)]}}}function c(u,d){var h=r?t:bt-t,p=0;return u<-h?p|=1:u>h&&(p|=2),d<-h?p|=4:d>h&&(p|=8),p}return yW(s,o,a,r?[0,-t]:[-bt,t-bt])}function jCe(t,e,n,r,i,a){var s=t[0],o=t[1],l=e[0],c=e[1],u=0,d=1,h=l-s,p=c-o,g;if(g=n-s,!(!h&&g>0)){if(g/=h,h<0){if(g<u)return;g<d&&(d=g)}else if(h>0){if(g>d)return;g>u&&(u=g)}if(g=i-s,!(!h&&g<0)){if(g/=h,h<0){if(g>d)return;g>u&&(u=g)}else if(h>0){if(g<u)return;g<d&&(d=g)}if(g=r-o,!(!p&&g>0)){if(g/=p,p<0){if(g<u)return;g<d&&(d=g)}else if(p>0){if(g>d)return;g>u&&(u=g)}if(g=a-o,!(!p&&g<0)){if(g/=p,p<0){if(g>d)return;g>u&&(u=g)}else if(p>0){if(g<u)return;g<d&&(d=g)}return u>0&&(t[0]=s+u*h,t[1]=o+u*p),d<1&&(e[0]=s+d*h,e[1]=o+d*p),!0}}}}}var kf=1e9,P3=-kf;function MCe(t,e,n,r){function i(c,u){return t<=c&&c<=n&&e<=u&&u<=r}function a(c,u,d,h){var p=0,g=0;if(c==null||(p=s(c,d))!==(g=s(u,d))||l(c,u)<0^d>0)do h.point(p===0||p===3?t:n,p>1?r:e);while((p=(p+d+4)%4)!==g);else h.point(u[0],u[1])}function s(c,u){return on(c[0]-t)<Ft?u>0?0:3:on(c[0]-n)<Ft?u>0?2:1:on(c[1]-e)<Ft?u>0?1:0:u>0?3:2}function o(c,u){return l(c.x,u.x)}function l(c,u){var d=s(c,1),h=s(u,1);return d!==h?d-h:d===0?u[1]-c[1]:d===1?c[0]-u[0]:d===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,d=mW(),h,p,g,x,v,y,b,w,k,E,S,_={point:N,lineStart:O,lineEnd:j,polygonStart:A,polygonEnd:C};function N(D,$){i(D,$)&&u.point(D,$)}function P(){for(var D=0,$=0,U=p.length;$<U;++$)for(var F=p[$],B=1,z=F.length,q=F[0],G,te,de=q[0],ye=q[1];B<z;++B)G=de,te=ye,q=F[B],de=q[0],ye=q[1],te<=r?ye>r&&(de-G)*(r-te)>(ye-te)*(t-G)&&++D:ye<=r&&(de-G)*(r-te)<(ye-te)*(t-G)&&--D;return D}function A(){u=d,h=[],p=[],S=!0}function C(){var D=P(),$=S&&D,U=(h=TV(h)).length;($||U)&&(c.polygonStart(),$&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),U&&gW(h,o,D,a,c),c.polygonEnd()),u=c,h=p=g=null}function O(){_.point=R,p&&p.push(g=[]),E=!0,k=!1,b=w=NaN}function j(){h&&(R(x,v),y&&k&&d.rejoin(),h.push(d.result())),_.point=N,k&&u.lineEnd()}function R(D,$){var U=i(D,$);if(p&&g.push([D,$]),E)x=D,v=$,y=U,E=!1,U&&(u.lineStart(),u.point(D,$));else if(U&&k)u.point(D,$);else{var F=[b=Math.max(P3,Math.min(kf,b)),w=Math.max(P3,Math.min(kf,w))],B=[D=Math.max(P3,Math.min(kf,D)),$=Math.max(P3,Math.min(kf,$))];jCe(F,B,t,e,n,r)?(k||(u.lineStart(),u.point(F[0],F[1])),u.point(B[0],B[1]),U||u.lineEnd(),S=!1):U&&(u.lineStart(),u.point(D,$),S=!1)}b=D,w=$,k=U}return _}}const D9=t=>t;var Vy=new ns,R9=new ns,vW,xW,$9,L9,_s={point:yi,lineStart:yi,lineEnd:yi,polygonStart:function(){_s.lineStart=DCe,_s.lineEnd=$Ce},polygonEnd:function(){_s.lineStart=_s.lineEnd=_s.point=yi,Vy.add(on(R9)),R9=new ns},result:function(){var t=Vy/2;return Vy=new ns,t}};function DCe(){_s.point=RCe}function RCe(t,e){_s.point=bW,vW=$9=t,xW=L9=e}function bW(t,e){R9.add(L9*t-$9*e),$9=t,L9=e}function $Ce(){bW(vW,xW)}var Hu=1/0,zg=Hu,Ap=-Hu,Wg=Ap,qg={point:LCe,lineStart:yi,lineEnd:yi,polygonStart:yi,polygonEnd:yi,result:function(){var t=[[Hu,zg],[Ap,Wg]];return Ap=Wg=-(zg=Hu=1/0),t}};function LCe(t,e){t<Hu&&(Hu=t),t>Ap&&(Ap=t),e<zg&&(zg=e),e>Wg&&(Wg=e)}var F9=0,V9=0,Ef=0,Hg=0,Gg=0,Lc=0,U9=0,B9=0,Nf=0,wW,_W,Ua,Ba,Li={point:Fl,lineStart:bO,lineEnd:wO,polygonStart:function(){Li.lineStart=UCe,Li.lineEnd=BCe},polygonEnd:function(){Li.point=Fl,Li.lineStart=bO,Li.lineEnd=wO},result:function(){var t=Nf?[U9/Nf,B9/Nf]:Lc?[Hg/Lc,Gg/Lc]:Ef?[F9/Ef,V9/Ef]:[NaN,NaN];return F9=V9=Ef=Hg=Gg=Lc=U9=B9=Nf=0,t}};function Fl(t,e){F9+=t,V9+=e,++Ef}function bO(){Li.point=FCe}function FCe(t,e){Li.point=VCe,Fl(Ua=t,Ba=e)}function VCe(t,e){var n=t-Ua,r=e-Ba,i=P0(n*n+r*r);Hg+=i*(Ua+t)/2,Gg+=i*(Ba+e)/2,Lc+=i,Fl(Ua=t,Ba=e)}function wO(){Li.point=Fl}function UCe(){Li.point=zCe}function BCe(){SW(wW,_W)}function zCe(t,e){Li.point=SW,Fl(wW=Ua=t,_W=Ba=e)}function SW(t,e){var n=t-Ua,r=e-Ba,i=P0(n*n+r*r);Hg+=i*(Ua+t)/2,Gg+=i*(Ba+e)/2,Lc+=i,i=Ba*t-Ua*e,U9+=i*(Ua+t),B9+=i*(Ba+e),Nf+=i*3,Fl(Ua=t,Ba=e)}function kW(t){this._context=t}kW.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Si);break}}},result:yi};var z9=new ns,Uy,EW,NW,Tf,Pf,Ip={point:yi,lineStart:function(){Ip.point=WCe},lineEnd:function(){Uy&&TW(EW,NW),Ip.point=yi},polygonStart:function(){Uy=!0},polygonEnd:function(){Uy=null},result:function(){var t=+z9;return z9=new ns,t}};function WCe(t,e){Ip.point=TW,EW=Tf=t,NW=Pf=e}function TW(t,e){Tf-=t,Pf-=e,z9.add(P0(Tf*Tf+Pf*Pf)),Tf=t,Pf=e}let _O,Kg,SO,kO;class EO{constructor(e){this._append=e==null?PW:qCe(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==SO||this._append!==Kg){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,SO=r,Kg=this._append,kO=this._,this._=i}this._+=kO;break}}}result(){const e=this._;return this._="",e.length?e:null}}function PW(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function qCe(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return PW;if(e!==_O){const n=10**e;_O=e,Kg=function(i){let a=1;this._+=i[0];for(const s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return Kg}function HCe(t,e){let n=3,r=4.5,i,a;function s(o){return o&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),q0(o,i(a))),a.result()}return s.area=function(o){return q0(o,i(_s)),_s.result()},s.measure=function(o){return q0(o,i(Ip)),Ip.result()},s.bounds=function(o){return q0(o,i(qg)),qg.result()},s.centroid=function(o){return q0(o,i(Li)),Li.result()},s.projection=function(o){return arguments.length?(i=o==null?(t=null,D9):(t=o).stream,s):t},s.context=function(o){return arguments.length?(a=o==null?(e=null,new EO(n)):new kW(e=o),typeof r!="function"&&a.pointRadius(r),s):e},s.pointRadius=function(o){return arguments.length?(r=typeof o=="function"?o:(a.pointRadius(+o),+o),s):r},s.digits=function(o){if(!arguments.length)return n;if(o==null)n=null;else{const l=Math.floor(o);if(!(l>=0))throw new RangeError(`invalid digits: ${o}`);n=l}return e===null&&(a=new EO(n)),s},s.projection(t).digits(n).context(e)}function H_(t){return function(e){var n=new W9;for(var r in t)n[r]=t[r];return n.stream=e,n}}function W9(){}W9.prototype={constructor:W9,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function G_(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),q0(n,t.stream(qg)),e(qg.result()),r!=null&&t.clipExtent(r),t}function AW(t,e,n){return G_(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),o=+e[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(a-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([o,l])},n)}function GCe(t,e,n){return AW(t,[[0,0],e],n)}function KCe(t,e,n){return G_(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,o=-a*r[0][1];t.scale(150*a).translate([s,o])},n)}function YCe(t,e,n){return G_(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],o=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,o])},n)}var NO=16,QCe=Nt(30*Pt);function TO(t,e){return+e?JCe(t,e):XCe(t)}function XCe(t){return H_({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function JCe(t,e){function n(r,i,a,s,o,l,c,u,d,h,p,g,x,v){var y=c-r,b=u-i,w=y*y+b*b;if(w>4*e&&x--){var k=s+h,E=o+p,S=l+g,_=P0(k*k+E*E+S*S),N=Ll(S/=_),P=on(on(S)-1)<Ft||on(a-d)<Ft?(a+d)/2:$l(E,k),A=t(P,N),C=A[0],O=A[1],j=C-r,R=O-i,D=b*j-y*R;(D*D/w>e||on((y*j+b*R)/w-.5)>.3||s*h+o*p+l*g<QCe)&&(n(r,i,a,s,o,l,C,O,P,k/=_,E/=_,S,x,v),v.point(C,O),n(C,O,P,k,E,S,c,u,d,h,p,g,x,v))}}return function(r){var i,a,s,o,l,c,u,d,h,p,g,x,v={point:y,lineStart:b,lineEnd:k,polygonStart:function(){r.polygonStart(),v.lineStart=E},polygonEnd:function(){r.polygonEnd(),v.lineStart=b}};function y(N,P){N=t(N,P),r.point(N[0],N[1])}function b(){d=NaN,v.point=w,r.lineStart()}function w(N,P){var A=qu([N,P]),C=t(N,P);n(d,h,u,p,g,x,d=C[0],h=C[1],u=N,p=A[0],g=A[1],x=A[2],NO,r),r.point(d,h)}function k(){v.point=y,r.lineEnd()}function E(){b(),v.point=S,v.lineEnd=_}function S(N,P){w(i=N,P),a=d,s=h,o=p,l=g,c=x,v.point=w}function _(){n(d,h,u,p,g,x,a,s,i,o,l,c,NO,r),v.lineEnd=k,k()}return v}}var ZCe=H_({point:function(t,e){this.stream.point(t*Pt,e*Pt)}});function eOe(t){return H_({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function tOe(t,e,n,r,i){function a(s,o){return s*=r,o*=i,[e+t*s,n-t*o]}return a.invert=function(s,o){return[(s-e)/t*r,(n-o)/t*i]},a}function PO(t,e,n,r,i,a){if(!a)return tOe(t,e,n,r,i);var s=Nt(a),o=Tt(a),l=s*t,c=o*t,u=s/t,d=o/t,h=(o*n-s*e)/t,p=(o*e+s*n)/t;function g(x,v){return x*=r,v*=i,[l*x-c*v+e,n-c*x-l*v]}return g.invert=function(x,v){return[r*(u*x-d*v+h),i*(p-d*x-u*v)]},g}function nOe(t){return rOe(function(){return t})()}function rOe(t){var e,n=150,r=480,i=250,a=0,s=0,o=0,l=0,c=0,u,d=0,h=1,p=1,g=null,x=xO,v=null,y,b,w,k=D9,E=.5,S,_,N,P,A;function C(D){return N(D[0]*Pt,D[1]*Pt)}function O(D){return D=N.invert(D[0],D[1]),D&&[D[0]*Nr,D[1]*Nr]}C.stream=function(D){return P&&A===D?P:P=ZCe(eOe(u)(x(S(k(A=D)))))},C.preclip=function(D){return arguments.length?(x=D,g=void 0,R()):x},C.postclip=function(D){return arguments.length?(k=D,v=y=b=w=null,R()):k},C.clipAngle=function(D){return arguments.length?(x=+D?OCe(g=D*Pt):(g=null,xO),R()):g*Nr},C.clipExtent=function(D){return arguments.length?(k=D==null?(v=y=b=w=null,D9):MCe(v=+D[0][0],y=+D[0][1],b=+D[1][0],w=+D[1][1]),R()):v==null?null:[[v,y],[b,w]]},C.scale=function(D){return arguments.length?(n=+D,j()):n},C.translate=function(D){return arguments.length?(r=+D[0],i=+D[1],j()):[r,i]},C.center=function(D){return arguments.length?(a=D[0]%360*Pt,s=D[1]%360*Pt,j()):[a*Nr,s*Nr]},C.rotate=function(D){return arguments.length?(o=D[0]%360*Pt,l=D[1]%360*Pt,c=D.length>2?D[2]%360*Pt:0,j()):[o*Nr,l*Nr,c*Nr]},C.angle=function(D){return arguments.length?(d=D%360*Pt,j()):d*Nr},C.reflectX=function(D){return arguments.length?(h=D?-1:1,j()):h<0},C.reflectY=function(D){return arguments.length?(p=D?-1:1,j()):p<0},C.precision=function(D){return arguments.length?(S=TO(_,E=D*D),R()):P0(E)},C.fitExtent=function(D,$){return AW(C,D,$)},C.fitSize=function(D,$){return GCe(C,D,$)},C.fitWidth=function(D,$){return KCe(C,D,$)},C.fitHeight=function(D,$){return YCe(C,D,$)};function j(){var D=PO(n,0,0,h,p,d).apply(null,e(a,s)),$=PO(n,r-D[0],i-D[1],h,p,d);return u=pW(o,l,c),_=j9(e,$),N=j9(u,_),S=TO(_,E),R()}function R(){return P=A=null,C}return function(){return e=t.apply(this,arguments),C.invert=e.invert&&O,j()}}function K_(t,e){return[t,pCe(gCe((Yr+e)/2))]}K_.invert=function(t,e){return[t,2*uW(hCe(e))-Yr]};function iOe(){return aOe(K_).scale(961/Si)}function aOe(t){var e=nOe(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,s=null,o,l,c;e.scale=function(d){return arguments.length?(r(d),u()):r()},e.translate=function(d){return arguments.length?(i(d),u()):i()},e.center=function(d){return arguments.length?(n(d),u()):n()},e.clipExtent=function(d){return arguments.length?(d==null?s=o=l=c=null:(s=+d[0][0],o=+d[0][1],l=+d[1][0],c=+d[1][1]),u()):s==null?null:[[s,o],[l,c]]};function u(){var d=bt*r(),h=e(kCe(e.rotate()).invert([0,0]));return a(s==null?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:t===K_?[[Math.max(h[0]-d,s),o],[Math.min(h[0]+d,l),c]]:[[s,Math.max(h[1]-d,o)],[l,Math.min(h[1]+d,c)]])}return u()}const sOe=`{\r
"type": "FeatureCollection",\r
"crs": { "type": "name", "properties": { "name": "urn:ogc:def:crs:OGC:1.3:CRS84" } },\r
"features": [\r
{ "type": "Feature", "properties": { "shapeName": "Al-Anbar", "shapeISO": "IQ-AN", "shapeID": "90741666B95383716564687", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 41.215106344000048, 35.13619847800004 ], [ 41.215106344000048, 35.005016305000026 ], [ 41.225123991000032, 34.970135611000046 ], [ 41.220115167000074, 34.791396081000073 ], [ 41.195071049000035, 34.76053965400007 ], [ 41.17253134200007, 34.735846206000076 ], [ 41.124947516000077, 34.68849646700005 ], [ 41.112425457000029, 34.659661619000076 ], [ 41.079868102000034, 34.612268295000035 ], [ 41.072354866000069, 34.593715711000073 ], [ 41.029779864000034, 34.523590780000063 ], [ 41.002231334000044, 34.484377579000068 ], [ 40.98219603900003, 34.447211218000064 ], [ 40.964665155000034, 34.426556090000076 ], [ 40.949638684000035, 34.414160563000053 ], [ 40.909568094000065, 34.399696793000032 ], [ 40.859479856000064, 34.395563827000046 ], [ 40.819409266000036, 34.389363997000032 ], [ 40.769321029000025, 34.387297285000045 ], [ 40.726746027000047, 34.387297285000045 ], [ 40.674153377000039, 34.376962959000025 ], [ 40.621560728000077, 34.354222952000043 ], [ 38.794905311000036, 33.408622035000064 ], [ 39.088391079000075, 32.535391729000025 ], [ 38.991188592000071, 32.508863753000071 ], [ 39.056303301000071, 32.316467330000023 ], [ 39.256656252000028, 32.37782499900004 ], [ 39.304240078000078, 32.267774774000031 ], [ 39.204063602000076, 32.176670758000057 ], [ 40.413694541000041, 31.966573059000041 ], [ 40.997222510000029, 31.638797245000035 ], [ 41.317787231000068, 31.448839288000045 ], [ 41.52314900500005, 31.352646144000062 ], [ 41.668404894000048, 31.294882969000071 ], [ 42.094154914000057, 31.117093041000032 ], [ 42.935637307000036, 30.510549738000066 ], [ 42.935751249000077, 30.513761097000042 ], [ 42.953168190000042, 31.003389915000071 ], [ 42.988229956000055, 31.074202168000056 ], [ 43.005760839000061, 31.10422781300008 ], [ 43.025796134000075, 31.127812733000042 ], [ 43.053344665000054, 31.151391792000027 ], [ 43.080893196000034, 31.166393594000056 ], [ 43.113450550000039, 31.185678136000035 ], [ 43.123468198000069, 31.209242797000059 ], [ 43.123468198000069, 31.339812946000052 ], [ 43.168547612000054, 31.406098950000057 ], [ 43.181069671000046, 31.421060285000067 ], [ 43.203609378000067, 31.448839288000045 ], [ 43.216131437000058, 31.474474136000026 ], [ 43.226149085000031, 31.495831148000036 ], [ 43.223644673000081, 31.608941852000044 ], [ 43.311299089000045, 31.681431185000065 ], [ 43.35387409100008, 31.745345395000072 ], [ 43.386431445000028, 31.798573566000073 ], [ 43.40396232900008, 31.830495763000044 ], [ 43.429006447000063, 31.858152740000037 ], [ 43.456554978000042, 31.881548319000046 ], [ 43.49662556800007, 31.900685739000039 ], [ 43.544209394000063, 31.91131591900006 ], [ 43.586784396000041, 31.926196109000045 ], [ 43.636872634000042, 31.953824360000056 ], [ 43.674438812000062, 31.975071208000031 ], [ 43.714509402000033, 31.998437061000061 ], [ 43.837225584000066, 32.087597364000032 ], [ 43.273732911000025, 32.576422065000031 ], [ 43.426502036000045, 32.61018215200005 ], [ 43.589288808000049, 32.646038305000047 ], [ 43.709500578000075, 32.669231689000071 ], [ 43.797154994000039, 32.707171515000027 ], [ 43.829712349000033, 32.734562471000061 ], [ 43.872287351000068, 32.755626712000037 ], [ 43.902340293000066, 32.772474518000024 ], [ 43.944915295000044, 32.787213733000044 ], [ 43.982481473000064, 32.793529792000072 ], [ 44.025056475000042, 32.793529792000072 ], [ 44.062622654000052, 32.797740248000025 ], [ 44.080153537000058, 32.875597721000076 ], [ 44.10519765600003, 32.91765440000006 ], [ 44.107702068000037, 32.953386873000056 ], [ 44.097684420000064, 32.99960746000005 ], [ 44.097684420000064, 33.039505764000069 ], [ 44.097684420000064, 33.073090328000035 ], [ 44.095180008000057, 33.100368350000053 ], [ 44.090171184000042, 33.127637908000054 ], [ 44.072640301000035, 33.150705537000078 ], [ 44.050100594000071, 33.175863307000043 ], [ 44.030065299000057, 33.194726896000077 ], [ 44.00001235700006, 33.213586423000038 ], [ 43.979977062000046, 33.194726896000077 ], [ 43.967455002000065, 33.196822599000029 ], [ 43.942410883000036, 33.230347035000079 ], [ 43.917366764000064, 33.240820787000075 ], [ 43.907349117000081, 33.259670379000056 ], [ 43.919871176000072, 33.284796842000048 ], [ 43.942410883000036, 33.29317072300006 ], [ 44.125232951000044, 33.29317072300006 ], [ 44.260471192000068, 33.433313682000062 ], [ 44.215391778000026, 33.508521089000055 ], [ 44.165303541000071, 33.577403846000038 ], [ 44.132746186000077, 33.598266566000063 ], [ 44.10519765600003, 33.614953109000055 ], [ 44.082657949000065, 33.631636423000032 ], [ 44.082657949000065, 33.671246343000064 ], [ 44.072640301000035, 33.700420932000043 ], [ 44.045091770000056, 33.725419841000075 ], [ 44.020047652000073, 33.742081736000046 ], [ 43.732040285000039, 33.750411470000074 ], [ 43.70449175400006, 33.773314066000069 ], [ 43.671934400000055, 33.789966656000047 ], [ 43.629359398000076, 33.792048002000058 ], [ 43.60181086700004, 33.792048002000058 ], [ 43.571757925000043, 33.792048002000058 ], [ 43.551722630000029, 33.79412929700004 ], [ 43.521669687000042, 33.79621054200004 ], [ 43.326325560000043, 33.84406520400006 ], [ 43.183574083000053, 33.968777321000061 ], [ 43.183574083000053, 34.004079235000063 ], [ 43.115954962000046, 34.022762546000024 ], [ 43.115954962000046, 34.055967167000063 ], [ 43.103432903000055, 34.08708469100003 ], [ 43.045831429000032, 34.12233739800007 ], [ 42.998247604000028, 34.147212816000035 ], [ 42.920610835000048, 34.228007339000044 ], [ 42.923115247000055, 34.515336902000058 ], [ 42.770346122000035, 34.374895940000044 ], [ 42.442268166000076, 34.558660635000024 ], [ 42.422232871000062, 34.931133724000063 ], [ 41.901315199000067, 34.922920436000027 ], [ 41.743537251000078, 34.974239994000072 ], [ 41.653378423000049, 34.998861968000028 ], [ 41.578246067000066, 35.019374623000033 ], [ 41.52314900500005, 35.03373042000004 ], [ 41.488087239000038, 35.029629021000062 ], [ 41.450521061000074, 35.03373042000004 ], [ 41.415459294000073, 35.048083696000049 ], [ 41.372884292000037, 35.072683445000052 ], [ 41.320291643000076, 35.095226702000048 ], [ 41.280221053000048, 35.113666551000051 ], [ 41.250168110000061, 35.125957466000045 ], [ 41.215106344000048, 35.13619847800004 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Karbala", "shapeISO": "IQ-KA", "shapeID": "90741666B6541054971840", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 43.273732911000025, 32.576422065000031 ], [ 43.729914548000067, 32.18089201600003 ], [ 44.250453545000028, 32.358787418000077 ], [ 44.222905014000048, 32.420116378000046 ], [ 44.192852072000051, 32.456048469000052 ], [ 44.177825600000062, 32.475065541000049 ], [ 44.167807953000079, 32.489853821000054 ], [ 44.157790305000049, 32.506751736000069 ], [ 44.145268246000057, 32.519423089000043 ], [ 44.125232951000044, 32.542649263000044 ], [ 44.110206479000055, 32.561648028000036 ], [ 44.095180008000057, 32.580642771000043 ], [ 44.082657949000065, 32.593303698000057 ], [ 44.082657949000065, 32.608072519000075 ], [ 44.092675596000049, 32.622838905000037 ], [ 44.102693244000079, 32.637602856000058 ], [ 44.11521530300007, 32.658689988000049 ], [ 44.152781481000034, 32.696634291000066 ], [ 44.165303541000071, 32.707171515000027 ], [ 44.187843248000036, 32.71560039700006 ], [ 44.205374131000042, 32.730349026000056 ], [ 44.207878543000049, 32.740882266000028 ], [ 44.202869719000034, 32.755626712000037 ], [ 44.187843248000036, 32.770368717000053 ], [ 44.170312365000029, 32.772474518000024 ], [ 44.137755010000035, 32.774580270000058 ], [ 44.120224127000029, 32.780897226000036 ], [ 44.085162361000073, 32.791424489000065 ], [ 44.062622654000052, 32.797740248000025 ], [ 44.025056475000042, 32.793529792000072 ], [ 43.982481473000064, 32.793529792000072 ], [ 43.944915295000044, 32.787213733000044 ], [ 43.902340293000066, 32.772474518000024 ], [ 43.872287351000068, 32.755626712000037 ], [ 43.829712349000033, 32.734562471000061 ], [ 43.797154994000039, 32.707171515000027 ], [ 43.709500578000075, 32.669231689000071 ], [ 43.589288808000049, 32.646038305000047 ], [ 43.426502036000045, 32.61018215200005 ], [ 43.273732911000025, 32.576422065000031 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "An-Najaf", "shapeISO": "IQ-NA", "shapeID": "90741666B48190773870201", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 42.935751249000077, 30.513761097000042 ], [ 42.978112132000035, 30.476453047000064 ], [ 43.813614360613677, 29.850955358773959 ], [ 43.813584493000064, 29.850980567000079 ], [ 43.814786054000081, 29.850078172000053 ], [ 43.898132881000038, 29.954287058000034 ], [ 43.95583453100005, 30.034800458000063 ], [ 44.011933357000032, 30.095835997000052 ], [ 44.031167240000059, 30.115248500000064 ], [ 44.039181358000064, 30.134657188000062 ], [ 44.071237831000076, 30.203942774000041 ], [ 44.080854772000066, 30.223334007000062 ], [ 44.088868890000072, 30.245490736000079 ], [ 44.096883008000077, 30.264873776000059 ], [ 44.109705597000072, 30.293941164000046 ], [ 44.116116891000047, 30.321616382000059 ], [ 44.152981834000059, 30.412889127000028 ], [ 44.257165369000063, 30.607595038000056 ], [ 44.278002075000074, 30.629664674000026 ], [ 44.362951727000052, 30.711002950000079 ], [ 44.454312672000071, 30.806040425000049 ], [ 44.53445385200007, 30.892731767000043 ], [ 44.545673617000034, 30.916111240000077 ], [ 44.552084912000055, 30.935360635000052 ], [ 44.563304677000076, 30.964227462000053 ], [ 44.571318795000025, 30.984841283000037 ], [ 44.57933291300003, 31.045282799000063 ], [ 44.592155502000026, 31.083725614000059 ], [ 44.606580914000062, 31.108430646000045 ], [ 44.624211974000048, 31.127641227000026 ], [ 44.643445857000074, 31.142732528000067 ], [ 44.675502329000039, 31.194847629000037 ], [ 44.712367272000051, 31.260636223000063 ], [ 44.771671746000038, 31.378392812000072 ], [ 44.779685864000044, 31.39891666300008 ], [ 44.775333671000055, 31.409131973000058 ], [ 44.77327456900008, 31.41396463500007 ], [ 44.758849157000043, 31.422171603000038 ], [ 44.712367272000051, 31.420803825000064 ], [ 44.68191362400006, 31.424907099000052 ], [ 44.667488211000034, 31.431745491000072 ], [ 44.640240210000059, 31.437215845000026 ], [ 44.612992209000026, 31.438583384000026 ], [ 44.572921619000056, 31.44405333900005 ], [ 44.550482088000081, 31.453624992000073 ], [ 44.537659499000029, 31.465929966000033 ], [ 44.52964538100008, 31.479600263000066 ], [ 44.521631263000074, 31.493268564000061 ], [ 44.516822793000074, 31.504201766000051 ], [ 44.504000204000079, 31.517866470000058 ], [ 44.489574791000052, 31.531529177000039 ], [ 44.475149379000072, 31.549287707000076 ], [ 44.462326790000077, 31.564311517000078 ], [ 44.44309290700005, 31.595717117000049 ], [ 44.44309290700005, 31.610733445000051 ], [ 44.444695730000035, 31.625747352000076 ], [ 44.455915496000046, 31.627112132000036 ], [ 44.489574791000052, 31.629841633000069 ], [ 44.513617145000069, 31.636665035000078 ], [ 44.515219969000043, 31.651674757000023 ], [ 44.512014322000027, 31.674866832000077 ], [ 44.497588909000058, 31.699416836000069 ], [ 44.489574791000052, 31.713052921000042 ], [ 44.478355026000031, 31.73214007100006 ], [ 44.478355026000031, 31.747134359000029 ], [ 44.491177615000026, 31.759400608000078 ], [ 44.513617145000069, 31.771665231000043 ], [ 44.520028440000033, 31.788015533000078 ], [ 44.513617145000069, 31.804362944000047 ], [ 44.502397380000048, 31.839772412000059 ], [ 44.504000204000079, 31.856110662000049 ], [ 44.518425616000059, 31.867001221000066 ], [ 44.539262323000059, 31.877890493000052 ], [ 44.556893383000045, 31.886056603000043 ], [ 44.56490750100005, 31.905108043000041 ], [ 44.561701853000045, 31.921434711000074 ], [ 44.547276441000065, 31.941838970000049 ], [ 44.532851029000028, 31.958159116000047 ], [ 44.523234087000048, 31.977195623000057 ], [ 44.516822793000074, 31.99758749800003 ], [ 44.512014322000027, 32.020692810000071 ], [ 44.512014322000027, 32.032922675000066 ], [ 44.512014322000027, 32.05330215500004 ], [ 44.515219969000043, 32.072318909000046 ], [ 44.515219969000043, 32.094047500000045 ], [ 44.516822793000074, 32.113055779000035 ], [ 44.526439734000064, 32.130702780000036 ], [ 44.544070794000049, 32.14291793600006 ], [ 44.558496206000029, 32.153774479000049 ], [ 44.584141384000077, 32.16734333900007 ], [ 44.587347031000036, 32.178196972000023 ], [ 44.586545620000038, 32.178875281000046 ], [ 44.576127266000071, 32.187692840000068 ], [ 44.552084912000055, 32.206681604000039 ], [ 44.483163497000078, 32.241935936000061 ], [ 44.470340908000026, 32.250069609000036 ], [ 44.44790137800004, 32.263624112000059 ], [ 44.41744772900006, 32.251425150000046 ], [ 44.40302231700008, 32.233801534000065 ], [ 44.385391257000038, 32.216174500000079 ], [ 44.358143256000062, 32.183623303000047 ], [ 44.305250077000039, 32.176840338000034 ], [ 44.287619017000054, 32.184979835000036 ], [ 44.282810546000064, 32.201256647000037 ], [ 44.278002075000074, 32.220242580000047 ], [ 44.278002075000074, 32.237868826000067 ], [ 44.276399252000033, 32.256847113000049 ], [ 44.271590781000043, 32.274466257000029 ], [ 44.265179487000069, 32.293436893000035 ], [ 44.263576663000038, 32.308339609000029 ], [ 44.250453545000028, 32.358787418000077 ], [ 43.729914548000067, 32.18089201600003 ], [ 43.837225584000066, 32.087597364000032 ], [ 43.714509402000033, 31.998437061000061 ], [ 43.674438812000062, 31.975071208000031 ], [ 43.636872634000042, 31.953824360000056 ], [ 43.586784396000041, 31.926196109000045 ], [ 43.544209394000063, 31.91131591900006 ], [ 43.49662556800007, 31.900685739000039 ], [ 43.456554978000042, 31.881548319000046 ], [ 43.429006447000063, 31.858152740000037 ], [ 43.40396232900008, 31.830495763000044 ], [ 43.386431445000028, 31.798573566000073 ], [ 43.35387409100008, 31.745345395000072 ], [ 43.311299089000045, 31.681431185000065 ], [ 43.223644673000081, 31.608941852000044 ], [ 43.226149085000031, 31.495831148000036 ], [ 43.216131437000058, 31.474474136000026 ], [ 43.203609378000067, 31.448839288000045 ], [ 43.181069671000046, 31.421060285000067 ], [ 43.168547612000054, 31.406098950000057 ], [ 43.123468198000069, 31.339812946000052 ], [ 43.123468198000069, 31.209242797000059 ], [ 43.113450550000039, 31.185678136000035 ], [ 43.080893196000034, 31.166393594000056 ], [ 43.053344665000054, 31.151391792000027 ], [ 43.025796134000075, 31.127812733000042 ], [ 43.005760839000061, 31.10422781300008 ], [ 42.988229956000055, 31.074202168000056 ], [ 42.953168190000042, 31.003389915000071 ], [ 42.935751249000077, 30.513761097000042 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Babil", "shapeISO": "IQ-BB", "shapeID": "90741666B44177402341950", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.062622654000052, 32.797740248000025 ], [ 44.085162361000073, 32.791424489000065 ], [ 44.120224127000029, 32.780897226000036 ], [ 44.137755010000035, 32.774580270000058 ], [ 44.170312365000029, 32.772474518000024 ], [ 44.187843248000036, 32.770368717000053 ], [ 44.202869719000034, 32.755626712000037 ], [ 44.207878543000049, 32.740882266000028 ], [ 44.205374131000042, 32.730349026000056 ], [ 44.187843248000036, 32.71560039700006 ], [ 44.165303541000071, 32.707171515000027 ], [ 44.152781481000034, 32.696634291000066 ], [ 44.11521530300007, 32.658689988000049 ], [ 44.102693244000079, 32.637602856000058 ], [ 44.092675596000049, 32.622838905000037 ], [ 44.082657949000065, 32.608072519000075 ], [ 44.082657949000065, 32.593303698000057 ], [ 44.095180008000057, 32.580642771000043 ], [ 44.110206479000055, 32.561648028000036 ], [ 44.125232951000044, 32.542649263000044 ], [ 44.145268246000057, 32.519423089000043 ], [ 44.157790305000049, 32.506751736000069 ], [ 44.167807953000079, 32.489853821000054 ], [ 44.177825600000062, 32.475065541000049 ], [ 44.192852072000051, 32.456048469000052 ], [ 44.222905014000048, 32.420116378000046 ], [ 44.250453545000028, 32.358787418000077 ], [ 44.263576663000038, 32.308339609000029 ], [ 44.265179487000069, 32.293436893000035 ], [ 44.271590781000043, 32.274466257000029 ], [ 44.276399252000033, 32.256847113000049 ], [ 44.278002075000074, 32.237868826000067 ], [ 44.278002075000074, 32.220242580000047 ], [ 44.282810546000064, 32.201256647000037 ], [ 44.287619017000054, 32.184979835000036 ], [ 44.305250077000039, 32.176840338000034 ], [ 44.358143256000062, 32.183623303000047 ], [ 44.385391257000038, 32.216174500000079 ], [ 44.40302231700008, 32.233801534000065 ], [ 44.41744772900006, 32.251425150000046 ], [ 44.44790137800004, 32.263624112000059 ], [ 44.470340908000026, 32.250069609000036 ], [ 44.483163497000078, 32.241935936000061 ], [ 44.552084912000055, 32.206681604000039 ], [ 44.576127266000071, 32.187692840000068 ], [ 44.586545620000038, 32.178875281000046 ], [ 44.608183738000037, 32.168700113000057 ], [ 44.621006327000032, 32.170056868000074 ], [ 44.635431739000069, 32.161916037000026 ], [ 44.649857152000038, 32.153774479000049 ], [ 44.673899506000055, 32.149703427000077 ], [ 44.704353154000046, 32.148346369000024 ], [ 44.721984214000031, 32.144275074000063 ], [ 44.746026568000048, 32.133417401000031 ], [ 44.771671746000038, 32.132060101000036 ], [ 44.805331041000045, 32.132060101000036 ], [ 44.826167748000046, 32.140203598000028 ], [ 44.830976219000036, 32.15513145500006 ], [ 44.830976219000036, 32.171413603000076 ], [ 44.830976219000036, 32.189049311000076 ], [ 44.829373395000061, 32.205325395000045 ], [ 44.829373395000061, 32.227022310000052 ], [ 44.847004455000047, 32.259557973000028 ], [ 44.863032691000058, 32.266334770000071 ], [ 44.877458104000027, 32.267690068000036 ], [ 44.893486340000038, 32.269045346000041 ], [ 44.907911752000075, 32.274466257000029 ], [ 44.93035128300005, 32.281241940000029 ], [ 44.946379519000061, 32.286662122000052 ], [ 44.960804931000041, 32.296146660000034 ], [ 44.980038814000068, 32.325948749000077 ], [ 44.991258580000078, 32.339491912000028 ], [ 45.031329170000049, 32.343554466000057 ], [ 45.04254893500007, 32.350324983000064 ], [ 45.053768700000035, 32.36251063800006 ], [ 45.06178281800004, 32.376048328000024 ], [ 45.06659128900003, 32.389583990000062 ], [ 45.069796936000046, 32.400411060000067 ], [ 45.081016701000067, 32.407177319000027 ], [ 45.098647761000052, 32.412589962000027 ], [ 45.111470350000047, 32.418002279000063 ], [ 45.125895762000027, 32.423414272000059 ], [ 45.143526822000069, 32.435590069000057 ], [ 45.157952234000049, 32.45587941000008 ], [ 45.146732469000028, 32.473459810000065 ], [ 45.127498586000058, 32.482924758000024 ], [ 45.108264703000032, 32.484276812000076 ], [ 45.087427996000031, 32.488332853000031 ], [ 45.069796936000046, 32.497796237000045 ], [ 45.06659128900003, 32.518071563000035 ], [ 45.071399760000077, 32.528883201000042 ], [ 45.079413878000025, 32.542395919000057 ], [ 45.093839290000062, 32.558608496000033 ], [ 45.116278821000037, 32.573467452000045 ], [ 45.137115528000038, 32.580220710000049 ], [ 45.151540940000075, 32.597776798000041 ], [ 45.146732469000028, 32.60722865200006 ], [ 45.103456232000042, 32.60722865200006 ], [ 45.084222349000072, 32.608578836000049 ], [ 45.064988465000056, 32.62207955100007 ], [ 45.058577171000081, 32.669316018000075 ], [ 45.063385642000071, 32.680109421000054 ], [ 45.082619525000041, 32.696297080000079 ], [ 45.079413878000025, 32.70304107100003 ], [ 45.063385642000071, 32.707087222000041 ], [ 45.04254893500007, 32.709784553000077 ], [ 45.018506581000054, 32.717876059000048 ], [ 44.997669874000053, 32.735405137000043 ], [ 44.988052932000073, 32.747538633000033 ], [ 44.957599284000025, 32.779886543000032 ], [ 44.936762577000081, 32.797403419000034 ], [ 44.91432304600005, 32.809528466000074 ], [ 44.874252456000079, 32.814916845000027 ], [ 44.835784690000025, 32.821651860000031 ], [ 44.80853668900005, 32.835120356000061 ], [ 44.752437862000079, 32.880897962000063 ], [ 44.741218097000058, 32.915888421000034 ], [ 44.728395508000062, 32.929342609000059 ], [ 44.678707977000045, 32.933378467000068 ], [ 44.654665623000028, 32.925306568000053 ], [ 44.632226092000053, 32.910506174000034 ], [ 44.593758326000057, 32.913197338000032 ], [ 44.571318795000025, 32.923961180000049 ], [ 44.568113148000066, 32.936068936000026 ], [ 44.556893383000045, 32.953554992000079 ], [ 44.53445385200007, 32.973726912000075 ], [ 44.513617145000069, 32.981794390000061 ], [ 44.500794557000063, 32.989861131000055 ], [ 44.495986086000073, 33.000615639000046 ], [ 44.492780439000057, 33.018088919000036 ], [ 44.500794557000063, 33.032871298000032 ], [ 44.515219969000043, 33.039589742000032 ], [ 44.531248205000054, 33.040933369000072 ], [ 44.548879265000039, 33.050338186000033 ], [ 44.552084912000055, 33.062428617000023 ], [ 44.550482088000081, 33.079889642000069 ], [ 44.548879265000039, 33.102718061000076 ], [ 44.556893383000045, 33.116143773000033 ], [ 44.568113148000066, 33.129567433000034 ], [ 44.566510324000035, 33.142989042000067 ], [ 44.556893383000045, 33.176534082000046 ], [ 44.545673617000034, 33.192631142000039 ], [ 44.528042558000038, 33.202019728000039 ], [ 44.507205851000037, 33.212748308000073 ], [ 44.495986086000073, 33.224816388000079 ], [ 44.492780439000057, 33.240904572000034 ], [ 44.492780439000057, 33.256989796000028 ], [ 44.483163497000078, 33.275752148000038 ], [ 44.479957850000062, 33.275752148000038 ], [ 44.449504201000025, 33.275752148000038 ], [ 44.419050553000034, 33.275752148000038 ], [ 44.396611022000059, 33.269051771000079 ], [ 44.370965845000057, 33.256989796000028 ], [ 44.350129138000057, 33.24894755400004 ], [ 44.324483960000066, 33.242245120000064 ], [ 44.289221841000028, 33.234201522000035 ], [ 44.252356898000073, 33.230179445000033 ], [ 44.228314544000057, 33.231520158000023 ], [ 44.201066542000035, 33.238223414000061 ], [ 44.15939312900008, 33.258330098000044 ], [ 44.125232951000044, 33.29317072300006 ], [ 43.942410883000036, 33.29317072300006 ], [ 43.919871176000072, 33.284796842000048 ], [ 43.907349117000081, 33.259670379000056 ], [ 43.917366764000064, 33.240820787000075 ], [ 43.942410883000036, 33.230347035000079 ], [ 43.967455002000065, 33.196822599000029 ], [ 43.979977062000046, 33.194726896000077 ], [ 44.00001235700006, 33.213586423000038 ], [ 44.030065299000057, 33.194726896000077 ], [ 44.050100594000071, 33.175863307000043 ], [ 44.072640301000035, 33.150705537000078 ], [ 44.090171184000042, 33.127637908000054 ], [ 44.095180008000057, 33.100368350000053 ], [ 44.097684420000064, 33.073090328000035 ], [ 44.097684420000064, 33.039505764000069 ], [ 44.097684420000064, 32.99960746000005 ], [ 44.107702068000037, 32.953386873000056 ], [ 44.10519765600003, 32.91765440000006 ], [ 44.080153537000058, 32.875597721000076 ], [ 44.062622654000052, 32.797740248000025 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Baghdad", "shapeISO": "IQ-BG", "shapeID": "90741666B78865175105083", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.125232951000044, 33.29317072300006 ], [ 44.15939312900008, 33.258330098000044 ], [ 44.201066542000035, 33.238223414000061 ], [ 44.228314544000057, 33.231520158000023 ], [ 44.252356898000073, 33.230179445000033 ], [ 44.289221841000028, 33.234201522000035 ], [ 44.324483960000066, 33.242245120000064 ], [ 44.350129138000057, 33.24894755400004 ], [ 44.370965845000057, 33.256989796000028 ], [ 44.396611022000059, 33.269051771000079 ], [ 44.419050553000034, 33.275752148000038 ], [ 44.449504201000025, 33.275752148000038 ], [ 44.479957850000062, 33.275752148000038 ], [ 44.523234087000048, 33.279772128000047 ], [ 44.542467970000075, 33.283791923000024 ], [ 44.56490750100005, 33.289151361000052 ], [ 44.580935737000061, 33.295850195000071 ], [ 44.592155502000026, 33.306567261000055 ], [ 44.598566796000057, 33.318622385000026 ], [ 44.596963973000072, 33.329336652000052 ], [ 44.598566796000057, 33.385564935000048 ], [ 44.595361149000041, 33.409651647000032 ], [ 44.593758326000057, 33.437744371000065 ], [ 44.590552678000051, 33.457805036000025 ], [ 44.55368773500004, 33.492565863000038 ], [ 44.345320667000067, 33.495239195000067 ], [ 44.344299115000069, 33.494493901000055 ], [ 44.260471192000068, 33.433313682000062 ], [ 44.125232951000044, 33.29317072300006 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Al-Qadisiyah", "shapeISO": "IQ-QA", "shapeID": "90741666B96348295205066", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.775333671000055, 31.409131973000058 ], [ 44.821359277000056, 31.404388932000074 ], [ 44.827770572000077, 31.400284760000034 ], [ 44.843798808000031, 31.38933942400007 ], [ 44.855018573000052, 31.377024396000024 ], [ 44.867841162000047, 31.360601848000044 ], [ 44.882266574000028, 31.340069627000048 ], [ 44.89989763400007, 31.322271411000031 ], [ 44.923939988000029, 31.308578186000034 ], [ 44.955996460000051, 31.288034615000072 ], [ 44.964010578000057, 31.290774016000057 ], [ 44.978435991000026, 31.305839302000038 ], [ 44.986450109000032, 31.319532925000033 ], [ 44.994464227000037, 31.349651888000039 ], [ 44.999272698000027, 31.367444925000029 ], [ 45.007286816000033, 31.381129585000053 ], [ 45.018506581000054, 31.401652837000029 ], [ 45.031329170000049, 31.418068209000069 ], [ 45.039343288000055, 31.431745491000072 ], [ 45.039343288000055, 31.44405333900005 ], [ 45.04254893500007, 31.459094069000059 ], [ 45.050563053000076, 31.472765364000054 ], [ 45.052165876000061, 31.489168283000026 ], [ 45.060179995000055, 31.508301387000074 ], [ 45.073002583000061, 31.524698073000025 ], [ 45.119484468000053, 31.569774121000023 ], [ 45.130704233000074, 31.587525372000073 ], [ 45.13871835100008, 31.60390814200008 ], [ 45.133909880000033, 31.616193328000065 ], [ 45.119484468000053, 31.627112132000036 ], [ 45.105059055000027, 31.640758836000032 ], [ 45.098647761000052, 31.653039157000023 ], [ 45.089030819000072, 31.663953636000031 ], [ 45.071399760000077, 31.683050889000071 ], [ 45.05697434700005, 31.693961841000032 ], [ 45.055371524000066, 31.703507872000046 ], [ 45.064988465000056, 31.711689402000047 ], [ 45.085825172000057, 31.713052921000042 ], [ 45.124292939000043, 31.711689402000047 ], [ 45.165966352000055, 31.708962306000046 ], [ 45.194817177000061, 31.710325864000026 ], [ 45.217256708000036, 31.721233609000024 ], [ 45.230079297000032, 31.744408305000036 ], [ 45.241299062000053, 31.767577204000077 ], [ 45.258930121000049, 31.774390482000058 ], [ 45.292589417000045, 31.76621448800006 ], [ 45.302206359000081, 31.756674915000076 ], [ 45.324645889000067, 31.751223289000052 ], [ 45.363113656000053, 31.751223289000052 ], [ 45.391964481000059, 31.744408305000036 ], [ 45.456077425000046, 31.73077683300005 ], [ 45.491339544000027, 31.723960345000023 ], [ 45.597125902000073, 31.693961841000032 ], [ 45.717337672000042, 31.656259061000071 ], [ 45.752022775000057, 31.647963487000027 ], [ 45.774590532000047, 31.646216957000036 ], [ 45.778693760000067, 31.649709986000062 ], [ 45.78279698800003, 31.654949283000064 ], [ 45.783822795000049, 31.663680789000068 ], [ 45.783822795000049, 31.670665404000033 ], [ 45.783822795000049, 31.682887214000061 ], [ 45.783822795000049, 31.69336177200006 ], [ 45.783822795000049, 31.706453306000071 ], [ 45.781771181000067, 31.717797808000057 ], [ 45.777667953000048, 31.731758366000065 ], [ 45.774590532000047, 31.753567528000076 ], [ 45.769461496000076, 31.786707615000068 ], [ 45.765358268000057, 31.803273206000028 ], [ 45.759203425000067, 31.828551804000028 ], [ 45.754074389000039, 31.839881343000059 ], [ 45.740738897000028, 31.854694795000057 ], [ 45.728429212000037, 31.867763512000067 ], [ 45.721248562000028, 31.87560385300003 ], [ 45.717145334000065, 31.95135940800003 ], [ 45.714067912000075, 31.985298537000062 ], [ 45.709681542000055, 31.993152482000028 ], [ 45.704835648000028, 32.001828439000064 ], [ 45.696629191000056, 32.013136655000039 ], [ 45.691500156000075, 32.023573769000052 ], [ 45.690474349000056, 32.040096770000048 ], [ 45.684319506000065, 32.053139137000073 ], [ 45.679190471000027, 32.068787525000062 ], [ 45.672009821000074, 32.081825803000072 ], [ 45.664829171000065, 32.089647877000061 ], [ 45.645338836000064, 32.107896780000033 ], [ 45.622771080000064, 32.14612075000008 ], [ 45.589945252000064, 32.186065047000056 ], [ 45.545835547000081, 32.228595135000035 ], [ 45.489416156000061, 32.273707349000063 ], [ 45.478132278000032, 32.290185066000049 ], [ 45.466848399000071, 32.306659789000037 ], [ 45.440177415000051, 32.320530917000042 ], [ 45.42068708000005, 32.331799644000057 ], [ 45.405299973000069, 32.33873354900004 ], [ 45.385809638000069, 32.347400182000058 ], [ 45.376577374000078, 32.356065985000043 ], [ 45.370422531000031, 32.364730958000052 ], [ 45.357087039000078, 32.379459506000046 ], [ 45.337596704000077, 32.395051823000074 ], [ 45.312977333000049, 32.407177319000027 ], [ 45.293486998000049, 32.413239457000032 ], [ 45.266816014000028, 32.41930118700003 ], [ 45.252454714000066, 32.424496632000057 ], [ 45.222706308000056, 32.426228380000055 ], [ 45.188854673000037, 32.441812619000075 ], [ 45.157952234000049, 32.45587941000008 ], [ 45.143526822000069, 32.435590069000057 ], [ 45.125895762000027, 32.423414272000059 ], [ 45.111470350000047, 32.418002279000063 ], [ 45.098647761000052, 32.412589962000027 ], [ 45.081016701000067, 32.407177319000027 ], [ 45.069796936000046, 32.400411060000067 ], [ 45.06659128900003, 32.389583990000062 ], [ 45.06178281800004, 32.376048328000024 ], [ 45.053768700000035, 32.36251063800006 ], [ 45.04254893500007, 32.350324983000064 ], [ 45.031329170000049, 32.343554466000057 ], [ 44.991258580000078, 32.339491912000028 ], [ 44.980038814000068, 32.325948749000077 ], [ 44.960804931000041, 32.296146660000034 ], [ 44.946379519000061, 32.286662122000052 ], [ 44.93035128300005, 32.281241940000029 ], [ 44.907911752000075, 32.274466257000029 ], [ 44.893486340000038, 32.269045346000041 ], [ 44.877458104000027, 32.267690068000036 ], [ 44.863032691000058, 32.266334770000071 ], [ 44.847004455000047, 32.259557973000028 ], [ 44.829373395000061, 32.227022310000052 ], [ 44.829373395000061, 32.205325395000045 ], [ 44.830976219000036, 32.189049311000076 ], [ 44.830976219000036, 32.171413603000076 ], [ 44.830976219000036, 32.15513145500006 ], [ 44.826167748000046, 32.140203598000028 ], [ 44.805331041000045, 32.132060101000036 ], [ 44.771671746000038, 32.132060101000036 ], [ 44.746026568000048, 32.133417401000031 ], [ 44.721984214000031, 32.144275074000063 ], [ 44.704353154000046, 32.148346369000024 ], [ 44.673899506000055, 32.149703427000077 ], [ 44.649857152000038, 32.153774479000049 ], [ 44.635431739000069, 32.161916037000026 ], [ 44.621006327000032, 32.170056868000074 ], [ 44.608183738000037, 32.168700113000057 ], [ 44.586545620000038, 32.178875281000046 ], [ 44.587347031000036, 32.178196972000023 ], [ 44.584141384000077, 32.16734333900007 ], [ 44.558496206000029, 32.153774479000049 ], [ 44.544070794000049, 32.14291793600006 ], [ 44.526439734000064, 32.130702780000036 ], [ 44.516822793000074, 32.113055779000035 ], [ 44.515219969000043, 32.094047500000045 ], [ 44.515219969000043, 32.072318909000046 ], [ 44.512014322000027, 32.05330215500004 ], [ 44.512014322000027, 32.032922675000066 ], [ 44.512014322000027, 32.020692810000071 ], [ 44.516822793000074, 31.99758749800003 ], [ 44.523234087000048, 31.977195623000057 ], [ 44.532851029000028, 31.958159116000047 ], [ 44.547276441000065, 31.941838970000049 ], [ 44.561701853000045, 31.921434711000074 ], [ 44.56490750100005, 31.905108043000041 ], [ 44.556893383000045, 31.886056603000043 ], [ 44.539262323000059, 31.877890493000052 ], [ 44.518425616000059, 31.867001221000066 ], [ 44.504000204000079, 31.856110662000049 ], [ 44.502397380000048, 31.839772412000059 ], [ 44.513617145000069, 31.804362944000047 ], [ 44.520028440000033, 31.788015533000078 ], [ 44.513617145000069, 31.771665231000043 ], [ 44.491177615000026, 31.759400608000078 ], [ 44.478355026000031, 31.747134359000029 ], [ 44.478355026000031, 31.73214007100006 ], [ 44.489574791000052, 31.713052921000042 ], [ 44.497588909000058, 31.699416836000069 ], [ 44.512014322000027, 31.674866832000077 ], [ 44.515219969000043, 31.651674757000023 ], [ 44.513617145000069, 31.636665035000078 ], [ 44.489574791000052, 31.629841633000069 ], [ 44.455915496000046, 31.627112132000036 ], [ 44.444695730000035, 31.625747352000076 ], [ 44.44309290700005, 31.610733445000051 ], [ 44.44309290700005, 31.595717117000049 ], [ 44.462326790000077, 31.564311517000078 ], [ 44.475149379000072, 31.549287707000076 ], [ 44.489574791000052, 31.531529177000039 ], [ 44.504000204000079, 31.517866470000058 ], [ 44.516822793000074, 31.504201766000051 ], [ 44.521631263000074, 31.493268564000061 ], [ 44.52964538100008, 31.479600263000066 ], [ 44.537659499000029, 31.465929966000033 ], [ 44.550482088000081, 31.453624992000073 ], [ 44.572921619000056, 31.44405333900005 ], [ 44.612992209000026, 31.438583384000026 ], [ 44.640240210000059, 31.437215845000026 ], [ 44.667488211000034, 31.431745491000072 ], [ 44.68191362400006, 31.424907099000052 ], [ 44.712367272000051, 31.420803825000064 ], [ 44.758849157000043, 31.422171603000038 ], [ 44.77327456900008, 31.41396463500007 ], [ 44.775333671000055, 31.409131973000058 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Al-Muthanna", "shapeISO": "IQ-MU", "shapeID": "90741666B65782159470120", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 43.813614360613677, 29.850955358773959 ], [ 43.914862353000046, 29.765502188000028 ], [ 44.727241475000028, 29.13533424700006 ], [ 44.965228724000042, 29.114723861000073 ], [ 45.349420784000074, 29.084658041000068 ], [ 45.482467665000058, 29.07439841300004 ], [ 45.666385413000057, 29.064137764000066 ], [ 46.026394621000065, 29.026506647000076 ], [ 46.456840413000066, 28.99912994400006 ], [ 46.570321576000026, 29.033349689000033 ], [ 46.571063096000046, 29.06360058000007 ], [ 46.573245477000057, 29.152581068000075 ], [ 46.590876537000042, 29.313430266000069 ], [ 46.611713244000043, 29.33858377200005 ], [ 46.622933009000064, 29.349761117000071 ], [ 46.643769716000065, 29.376302396000028 ], [ 46.653386657000055, 29.398647580000045 ], [ 46.65498948100003, 29.416799428000047 ], [ 46.651783834000071, 29.427968184000065 ], [ 46.646975363000081, 29.443323219000035 ], [ 46.64537253900005, 29.580020019000074 ], [ 46.65498948100003, 29.64690613700003 ], [ 46.671017717000041, 29.730451324000057 ], [ 46.680634659000077, 29.758284278000076 ], [ 46.688648777000026, 29.780545077000056 ], [ 46.701471366000078, 29.822270737000053 ], [ 46.712691131000042, 29.884826576000023 ], [ 46.730322190000038, 29.98622259900003 ], [ 46.735130661000028, 30.012596389000066 ], [ 46.744747603000064, 30.040350699000044 ], [ 46.746350426000049, 30.160991448000061 ], [ 46.719102425000074, 30.208098360000065 ], [ 46.677429011000072, 30.256567227000062 ], [ 46.656592305000061, 30.285637074000078 ], [ 46.638961245000075, 30.31469831000004 ], [ 46.627741480000054, 30.343750930000056 ], [ 46.624535833000039, 30.356199414000059 ], [ 46.611713244000043, 30.374177762000045 ], [ 46.606904773000053, 30.400447861000032 ], [ 46.605301949000079, 30.437766901000032 ], [ 46.605301949000079, 30.462638330000061 ], [ 46.600493478000033, 30.486122183000077 ], [ 46.584465242000078, 30.502695611000036 ], [ 46.575647053000068, 30.511378421000074 ], [ 46.573245477000057, 30.513742993000051 ], [ 46.557217241000046, 30.516504643000076 ], [ 46.52355794500005, 30.523408423000035 ], [ 46.50913253300007, 30.538595014000066 ], [ 46.497912768000049, 30.55653974300003 ], [ 46.483487355000079, 30.578621008000027 ], [ 46.462650648000078, 30.611733478000076 ], [ 46.408154646000071, 30.680681431000039 ], [ 46.388920763000044, 30.699978045000023 ], [ 46.361672761000079, 30.722026594000056 ], [ 46.324807818000068, 30.745447655000078 ], [ 46.28954569900003, 30.768863021000072 ], [ 46.249475109000059, 30.79778002200004 ], [ 46.204596048000042, 30.801910312000075 ], [ 46.090795572000047, 30.803287036000029 ], [ 46.005845921000059, 30.804663740000024 ], [ 45.920896270000071, 30.814300118000062 ], [ 45.810301441000036, 30.830817373000059 ], [ 45.672458611000081, 30.840451126000062 ], [ 45.650019081000039, 30.855587928000034 ], [ 45.638799316000075, 30.870722341000032 ], [ 45.635593669000059, 30.924361455000053 ], [ 45.635593669000059, 30.949107831000049 ], [ 45.635593669000059, 30.975222054000028 ], [ 45.640402139000059, 30.987589456000023 ], [ 45.669252964000066, 30.999955256000078 ], [ 45.690089671000067, 31.015066833000049 ], [ 45.701309436000031, 31.035669668000025 ], [ 45.707720731000052, 31.054894959000023 ], [ 45.710926378000067, 31.075489176000076 ], [ 45.718940496000073, 31.093333890000054 ], [ 45.742982850000033, 31.109802959000035 ], [ 45.762216733000059, 31.127641227000026 ], [ 45.762216733000059, 31.145476142000064 ], [ 45.76862802800008, 31.214040699000066 ], [ 45.762216733000059, 31.233229874000074 ], [ 45.750996968000038, 31.24556371500006 ], [ 45.742982850000033, 31.277076213000043 ], [ 45.742982850000033, 31.301730826000039 ], [ 45.750996968000038, 31.315425047000076 ], [ 45.762216733000059, 31.33322455800004 ], [ 45.759011086000044, 31.351020703000074 ], [ 45.747791321000079, 31.360601848000044 ], [ 45.725351790000047, 31.367444925000029 ], [ 45.728557438000053, 31.382497941000054 ], [ 45.741380026000058, 31.397548546000053 ], [ 45.757408262000069, 31.41396463500007 ], [ 45.770230851000065, 31.435848286000066 ], [ 45.779847793000044, 31.456359571000064 ], [ 45.779847793000044, 31.471398325000052 ], [ 45.779847793000044, 31.489168283000026 ], [ 45.779847793000044, 31.506934866000051 ], [ 45.779847793000044, 31.527430575000039 ], [ 45.779847793000044, 31.549287707000076 ], [ 45.781450617000075, 31.576601925000034 ], [ 45.78786191100005, 31.597082338000064 ], [ 45.79747885300003, 31.616193328000065 ], [ 45.795876029000055, 31.632571054000039 ], [ 45.774590532000047, 31.646216957000036 ], [ 45.752022775000057, 31.647963487000027 ], [ 45.717337672000042, 31.656259061000071 ], [ 45.597125902000073, 31.693961841000032 ], [ 45.491339544000027, 31.723960345000023 ], [ 45.456077425000046, 31.73077683300005 ], [ 45.391964481000059, 31.744408305000036 ], [ 45.363113656000053, 31.751223289000052 ], [ 45.324645889000067, 31.751223289000052 ], [ 45.302206359000081, 31.756674915000076 ], [ 45.292589417000045, 31.76621448800006 ], [ 45.258930121000049, 31.774390482000058 ], [ 45.241299062000053, 31.767577204000077 ], [ 45.230079297000032, 31.744408305000036 ], [ 45.217256708000036, 31.721233609000024 ], [ 45.194817177000061, 31.710325864000026 ], [ 45.165966352000055, 31.708962306000046 ], [ 45.124292939000043, 31.711689402000047 ], [ 45.085825172000057, 31.713052921000042 ], [ 45.064988465000056, 31.711689402000047 ], [ 45.055371524000066, 31.703507872000046 ], [ 45.05697434700005, 31.693961841000032 ], [ 45.071399760000077, 31.683050889000071 ], [ 45.089030819000072, 31.663953636000031 ], [ 45.098647761000052, 31.653039157000023 ], [ 45.105059055000027, 31.640758836000032 ], [ 45.119484468000053, 31.627112132000036 ], [ 45.133909880000033, 31.616193328000065 ], [ 45.13871835100008, 31.60390814200008 ], [ 45.130704233000074, 31.587525372000073 ], [ 45.119484468000053, 31.569774121000023 ], [ 45.073002583000061, 31.524698073000025 ], [ 45.060179995000055, 31.508301387000074 ], [ 45.052165876000061, 31.489168283000026 ], [ 45.050563053000076, 31.472765364000054 ], [ 45.04254893500007, 31.459094069000059 ], [ 45.039343288000055, 31.44405333900005 ], [ 45.039343288000055, 31.431745491000072 ], [ 45.031329170000049, 31.418068209000069 ], [ 45.018506581000054, 31.401652837000029 ], [ 45.007286816000033, 31.381129585000053 ], [ 44.999272698000027, 31.367444925000029 ], [ 44.994464227000037, 31.349651888000039 ], [ 44.986450109000032, 31.319532925000033 ], [ 44.978435991000026, 31.305839302000038 ], [ 44.964010578000057, 31.290774016000057 ], [ 44.955996460000051, 31.288034615000072 ], [ 44.923939988000029, 31.308578186000034 ], [ 44.89989763400007, 31.322271411000031 ], [ 44.882266574000028, 31.340069627000048 ], [ 44.867841162000047, 31.360601848000044 ], [ 44.855018573000052, 31.377024396000024 ], [ 44.843798808000031, 31.38933942400007 ], [ 44.827770572000077, 31.400284760000034 ], [ 44.821359277000056, 31.404388932000074 ], [ 44.775333671000055, 31.409131973000058 ], [ 44.779685864000044, 31.39891666300008 ], [ 44.771671746000038, 31.378392812000072 ], [ 44.712367272000051, 31.260636223000063 ], [ 44.675502329000039, 31.194847629000037 ], [ 44.643445857000074, 31.142732528000067 ], [ 44.624211974000048, 31.127641227000026 ], [ 44.606580914000062, 31.108430646000045 ], [ 44.592155502000026, 31.083725614000059 ], [ 44.57933291300003, 31.045282799000063 ], [ 44.571318795000025, 30.984841283000037 ], [ 44.563304677000076, 30.964227462000053 ], [ 44.552084912000055, 30.935360635000052 ], [ 44.545673617000034, 30.916111240000077 ], [ 44.53445385200007, 30.892731767000043 ], [ 44.454312672000071, 30.806040425000049 ], [ 44.362951727000052, 30.711002950000079 ], [ 44.278002075000074, 30.629664674000026 ], [ 44.257165369000063, 30.607595038000056 ], [ 44.152981834000059, 30.412889127000028 ], [ 44.116116891000047, 30.321616382000059 ], [ 44.109705597000072, 30.293941164000046 ], [ 44.096883008000077, 30.264873776000059 ], [ 44.088868890000072, 30.245490736000079 ], [ 44.080854772000066, 30.223334007000062 ], [ 44.071237831000076, 30.203942774000041 ], [ 44.039181358000064, 30.134657188000062 ], [ 44.031167240000059, 30.115248500000064 ], [ 44.011933357000032, 30.095835997000052 ], [ 43.95583453100005, 30.034800458000063 ], [ 43.898132881000038, 29.954287058000034 ], [ 43.814786054000081, 29.850078172000053 ], [ 43.813584493000064, 29.850980567000079 ], [ 43.813614360613677, 29.850955358773959 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Dhi Qar", "shapeISO": "IQ-DQ", "shapeID": "90741666B18034483497899", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 45.774590532000047, 31.646216957000036 ], [ 45.795876029000055, 31.632571054000039 ], [ 45.79747885300003, 31.616193328000065 ], [ 45.78786191100005, 31.597082338000064 ], [ 45.781450617000075, 31.576601925000034 ], [ 45.779847793000044, 31.549287707000076 ], [ 45.779847793000044, 31.527430575000039 ], [ 45.779847793000044, 31.506934866000051 ], [ 45.779847793000044, 31.489168283000026 ], [ 45.779847793000044, 31.471398325000052 ], [ 45.779847793000044, 31.456359571000064 ], [ 45.770230851000065, 31.435848286000066 ], [ 45.757408262000069, 31.41396463500007 ], [ 45.741380026000058, 31.397548546000053 ], [ 45.728557438000053, 31.382497941000054 ], [ 45.725351790000047, 31.367444925000029 ], [ 45.747791321000079, 31.360601848000044 ], [ 45.759011086000044, 31.351020703000074 ], [ 45.762216733000059, 31.33322455800004 ], [ 45.750996968000038, 31.315425047000076 ], [ 45.742982850000033, 31.301730826000039 ], [ 45.742982850000033, 31.277076213000043 ], [ 45.750996968000038, 31.24556371500006 ], [ 45.762216733000059, 31.233229874000074 ], [ 45.76862802800008, 31.214040699000066 ], [ 45.762216733000059, 31.145476142000064 ], [ 45.762216733000059, 31.127641227000026 ], [ 45.742982850000033, 31.109802959000035 ], [ 45.718940496000073, 31.093333890000054 ], [ 45.710926378000067, 31.075489176000076 ], [ 45.707720731000052, 31.054894959000023 ], [ 45.701309436000031, 31.035669668000025 ], [ 45.690089671000067, 31.015066833000049 ], [ 45.669252964000066, 30.999955256000078 ], [ 45.640402139000059, 30.987589456000023 ], [ 45.635593669000059, 30.975222054000028 ], [ 45.635593669000059, 30.949107831000049 ], [ 45.635593669000059, 30.924361455000053 ], [ 45.638799316000075, 30.870722341000032 ], [ 45.650019081000039, 30.855587928000034 ], [ 45.672458611000081, 30.840451126000062 ], [ 45.810301441000036, 30.830817373000059 ], [ 45.920896270000071, 30.814300118000062 ], [ 46.005845921000059, 30.804663740000024 ], [ 46.090795572000047, 30.803287036000029 ], [ 46.204596048000042, 30.801910312000075 ], [ 46.249475109000059, 30.79778002200004 ], [ 46.28954569900003, 30.768863021000072 ], [ 46.324807818000068, 30.745447655000078 ], [ 46.361672761000079, 30.722026594000056 ], [ 46.388920763000044, 30.699978045000023 ], [ 46.408154646000071, 30.680681431000039 ], [ 46.462650648000078, 30.611733478000076 ], [ 46.483487355000079, 30.578621008000027 ], [ 46.497912768000049, 30.55653974300003 ], [ 46.50913253300007, 30.538595014000066 ], [ 46.52355794500005, 30.523408423000035 ], [ 46.557217241000046, 30.516504643000076 ], [ 46.573245477000057, 30.513742993000051 ], [ 46.575647053000068, 30.511378421000074 ], [ 46.594583066000041, 30.534280883000065 ], [ 46.727316896000048, 30.566632194000078 ], [ 46.842519843000048, 30.605439531000059 ], [ 46.907634552000047, 30.631302455000025 ], [ 46.960227201000066, 30.644231325000078 ], [ 46.995288968000068, 30.644231325000078 ], [ 47.017828675000032, 30.635612270000024 ], [ 47.050386029000038, 30.605439531000059 ], [ 47.097969855000031, 30.594661274000032 ], [ 47.105483090000064, 30.611905909000029 ], [ 47.105483090000064, 30.633457386000032 ], [ 47.097969855000031, 30.650695112000051 ], [ 47.090456619000065, 30.661467131000052 ], [ 47.082943383000043, 30.674391968000066 ], [ 47.09546544300008, 30.704543197000078 ], [ 47.107987502000071, 30.723921156000074 ], [ 47.107987502000071, 30.743295221000039 ], [ 47.110491914000079, 30.775576671000067 ], [ 47.12301397400006, 30.801394035000044 ], [ 47.133031621000043, 30.833655990000068 ], [ 47.130527209000036, 30.865907105000076 ], [ 47.138040445000058, 31.162107607000053 ], [ 47.066081679000035, 31.159412479000025 ], [ 46.999404217000063, 31.154145443000061 ], [ 46.991197760000034, 31.150633923000044 ], [ 46.976836461000062, 31.138342579000039 ], [ 46.89272027800007, 31.140098583000054 ], [ 46.863997679000079, 31.146244340000067 ], [ 46.84655895800006, 31.152389700000072 ], [ 46.83630088700005, 31.165556985000023 ], [ 46.829120237000041, 31.176089495000042 ], [ 46.81988797300005, 31.191008547000024 ], [ 46.805526674000077, 31.203293059000032 ], [ 46.785010532000058, 31.208557362000079 ], [ 46.773726654000029, 31.217330549000053 ], [ 46.766546004000077, 31.226980114000071 ], [ 46.761416968000049, 31.241891140000064 ], [ 46.76039116100003, 31.253292102000046 ], [ 46.759365354000067, 31.326050391000024 ], [ 46.750133090000077, 31.338317337000035 ], [ 46.736797598000067, 31.347078463000059 ], [ 46.718333070000028, 31.355838772000027 ], [ 46.695765314000028, 31.36459826600003 ], [ 46.680378207000047, 31.375108580000074 ], [ 46.635242694000056, 31.40313033800004 ], [ 46.632165273000055, 31.404881420000038 ], [ 46.616778166000074, 31.418013495000025 ], [ 46.607545902000027, 31.432019016000027 ], [ 46.605494288000045, 31.442521784000064 ], [ 46.603442674000064, 31.453898454000068 ], [ 46.603442674000064, 31.467023664000067 ], [ 46.609597517000054, 31.478397357000063 ], [ 46.614726552000036, 31.488020172000063 ], [ 46.618829781000045, 31.496767327000043 ], [ 46.618829781000045, 31.505513664000034 ], [ 46.619855588000064, 31.530873413000052 ], [ 46.615752359000055, 31.546610484000041 ], [ 46.609597517000054, 31.562344901000074 ], [ 46.598313638000036, 31.57632882200005 ], [ 46.588055567000026, 31.582446128000072 ], [ 46.563436197000044, 31.596427034000044 ], [ 46.548049090000063, 31.61215304600006 ], [ 46.535739405000072, 31.623509068000033 ], [ 46.530610369000044, 31.635737082000048 ], [ 46.526507141000081, 31.647090226000046 ], [ 46.501887770000053, 31.668046235000077 ], [ 46.48444905000008, 31.681141340000067 ], [ 46.469061943000042, 31.69336177200006 ], [ 46.455726451000032, 31.709944070000063 ], [ 46.447519994000061, 31.732630831000051 ], [ 46.437261923000051, 31.811990746000049 ], [ 46.430081273000042, 31.837266958000043 ], [ 46.423926430000051, 31.854694795000057 ], [ 46.412642552000079, 31.879959309000071 ], [ 46.38186833900005, 31.926114488000053 ], [ 46.360326390000068, 31.93569096300007 ], [ 46.339810247000059, 31.947007330000076 ], [ 46.320319912000059, 31.959192628000039 ], [ 46.31621668400004, 31.971376310000039 ], [ 46.320319912000059, 31.980077949000076 ], [ 46.34904251100005, 31.982688280000048 ], [ 46.373661882000079, 31.985298537000062 ], [ 46.376739303000079, 31.988778764000074 ], [ 46.374687689000041, 32.003568255000062 ], [ 46.368532846000051, 32.012266841000041 ], [ 46.354171547000078, 32.014876256000036 ], [ 46.330577983000069, 32.014876256000036 ], [ 46.317242491000059, 32.013136655000039 ], [ 46.227997273000028, 32.010527190000062 ], [ 46.077203628000063, 32.010527190000062 ], [ 45.837164765000068, 32.007917651000071 ], [ 45.776642146000029, 32.007917651000071 ], [ 45.750996968000038, 32.004438151000045 ], [ 45.738687283000047, 31.996608792000075 ], [ 45.709681542000055, 31.993152482000028 ], [ 45.714067912000075, 31.985298537000062 ], [ 45.717145334000065, 31.95135940800003 ], [ 45.721248562000028, 31.87560385300003 ], [ 45.728429212000037, 31.867763512000067 ], [ 45.740738897000028, 31.854694795000057 ], [ 45.754074389000039, 31.839881343000059 ], [ 45.759203425000067, 31.828551804000028 ], [ 45.765358268000057, 31.803273206000028 ], [ 45.769461496000076, 31.786707615000068 ], [ 45.774590532000047, 31.753567528000076 ], [ 45.777667953000048, 31.731758366000065 ], [ 45.781771181000067, 31.717797808000057 ], [ 45.783822795000049, 31.706453306000071 ], [ 45.783822795000049, 31.69336177200006 ], [ 45.783822795000049, 31.682887214000061 ], [ 45.783822795000049, 31.670665404000033 ], [ 45.783822795000049, 31.663680789000068 ], [ 45.78279698800003, 31.654949283000064 ], [ 45.778693760000067, 31.649709986000062 ], [ 45.774590532000047, 31.646216957000036 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Al-Basrah", "shapeISO": "IQ-BA", "shapeID": "90741666B36076314760085", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 46.571063096000046, 29.06360058000007 ], [ 46.599591890000056, 29.071799145000057 ], [ 46.614618361000055, 29.082742988000064 ], [ 46.634653657000058, 29.102438975000041 ], [ 46.652184540000064, 29.117755471000066 ], [ 46.664706599000056, 29.128694429000063 ], [ 46.682237482000062, 29.144007016000046 ], [ 46.699768365000068, 29.165878181000039 ], [ 46.712290425000049, 29.178998645000036 ], [ 46.739838956000028, 29.211792463000052 ], [ 46.804953665000028, 29.307927110000037 ], [ 46.832502195000075, 29.338496444000043 ], [ 46.855041902000039, 29.364691437000033 ], [ 46.865059550000069, 29.382151024000052 ], [ 46.870068373000038, 29.408334787000058 ], [ 46.902625728000032, 29.480305356000031 ], [ 46.910138964000055, 29.502104540000062 ], [ 46.920156611000039, 29.530436464000047 ], [ 46.935183082000037, 29.563117288000058 ], [ 46.960227201000066, 29.591432118000057 ], [ 47.005306615000052, 29.676328926000053 ], [ 47.010315439000067, 29.695910330000061 ], [ 47.015324263000025, 29.728537524000046 ], [ 47.025341910000066, 29.754631643000039 ], [ 47.035359558000039, 29.776371554000036 ], [ 47.045377205000079, 29.793760086000077 ], [ 47.060403677000068, 29.819837218000032 ], [ 47.082943383000043, 29.858940164000046 ], [ 47.105483090000064, 29.937100102000045 ], [ 47.173102211000071, 30.023872514000061 ], [ 47.20065074200005, 30.039049889000069 ], [ 47.23821692000007, 30.049889448000044 ], [ 47.273278686000026, 30.058560241000066 ], [ 47.308340453000028, 30.067230275000043 ], [ 47.340897807000033, 30.082401006000055 ], [ 47.363437514000054, 30.097569411000052 ], [ 47.390986045000034, 30.106236026000033 ], [ 47.73158606100003, 30.091068951000068 ], [ 47.954478718000075, 29.995679797000037 ], [ 47.996552838000071, 29.988999118000038 ], [ 48.007772603000035, 29.995940074000032 ], [ 48.025403663000077, 30.008432572000061 ], [ 48.051048841000068, 30.019535695000059 ], [ 48.067077077000079, 30.030637574000025 ], [ 48.111956138000039, 30.034800458000063 ], [ 48.134395668000082, 30.034800458000063 ], [ 48.164849317000062, 30.029249907000064 ], [ 48.185686023000073, 30.026474515000075 ], [ 48.198508612000069, 30.026474515000075 ], [ 48.228962261000049, 30.020923498000059 ], [ 48.26422438000003, 30.005656597000041 ], [ 48.309103441000047, 29.980669329000079 ], [ 48.36199662000007, 29.948732003000032 ], [ 48.414889799000036, 29.916784416000041 ], [ 48.475797096000065, 29.914005881000037 ], [ 48.499839450000081, 29.916784416000041 ], [ 48.530293098000072, 29.912616584000034 ], [ 48.563952394000069, 29.900112040000067 ], [ 48.583186277000038, 29.901501511000049 ], [ 48.607228631000055, 29.914005881000037 ], [ 48.607228631000055, 29.919562875000054 ], [ 48.587994748000028, 29.927897784000038 ], [ 48.563952394000069, 29.945954359000041 ], [ 48.543115687000068, 29.955675773000053 ], [ 48.522278980000067, 29.965396236000061 ], [ 48.501442273000066, 29.973727305000068 ], [ 48.48861968500006, 29.980669329000079 ], [ 48.474194272000034, 29.987610868000047 ], [ 48.45816603600008, 29.995940074000032 ], [ 48.448549095000033, 30.009820531000059 ], [ 48.443740624000043, 30.051450247000048 ], [ 48.437329329000079, 30.073645611000074 ], [ 48.429315211000073, 30.091675679000048 ], [ 48.416492622000078, 30.104156108000041 ], [ 48.398861563000025, 30.11108899900006 ], [ 48.38603897400003, 30.127725952000048 ], [ 48.389244621000046, 30.142974030000062 ], [ 48.398861563000025, 30.155447977000051 ], [ 48.413286975000062, 30.167920347000063 ], [ 48.413286975000062, 30.181776686000035 ], [ 48.408478504000072, 30.20117228600003 ], [ 48.397258739000051, 30.210868653000034 ], [ 48.310706265000078, 30.296709037000028 ], [ 48.289869558000078, 30.317465598000069 ], [ 48.272238498000036, 30.335451061000072 ], [ 48.248196144000076, 30.335451061000072 ], [ 48.228962261000049, 30.32991742400003 ], [ 48.21453684800008, 30.322999938000066 ], [ 48.201714259000028, 30.331300863000024 ], [ 48.195302965000053, 30.34098438500007 ], [ 48.188891671000079, 30.352050095000038 ], [ 48.185686023000073, 30.368646314000046 ], [ 48.171260611000037, 30.41980025600003 ], [ 48.153629551000051, 30.437766901000032 ], [ 48.140806962000056, 30.444676268000023 ], [ 48.103942020000034, 30.455730236000079 ], [ 48.089516607000064, 30.464019890000031 ], [ 48.057460135000042, 30.486122183000077 ], [ 48.052651664000052, 30.497171449000064 ], [ 48.046240370000078, 30.508219459000031 ], [ 48.035020605000057, 30.568961073000025 ], [ 48.038226252000072, 30.595178657000076 ], [ 48.043034723000062, 30.615871741000035 ], [ 48.047843193000062, 30.643455642000049 ], [ 48.047843193000062, 30.662759693000055 ], [ 48.030212134000067, 31.005450652000036 ], [ 48.014183898000056, 31.015066833000049 ], [ 47.700030471000048, 31.00957199100003 ], [ 47.698427648000063, 31.038416376000043 ], [ 47.698427648000063, 31.050775581000039 ], [ 47.698427648000063, 31.069997821000072 ], [ 47.701633295000079, 31.094706422000058 ], [ 47.704838942000038, 31.12078075200003 ], [ 47.708044589000053, 31.146847920000027 ], [ 47.706441766000069, 31.171536523000043 ], [ 47.703236118000063, 31.189363179000054 ], [ 47.698427648000063, 31.278446083000063 ], [ 47.677590941000062, 31.281185763000053 ], [ 47.639123174000076, 31.285295134000023 ], [ 47.613477997000075, 31.286664884000061 ], [ 47.578215877000048, 31.286664884000061 ], [ 47.531733993000046, 31.288034615000072 ], [ 47.499677521000081, 31.289404326000067 ], [ 47.482046461000039, 31.294882969000071 ], [ 47.448387165000042, 31.298991743000045 ], [ 47.403508104000025, 31.300361295000073 ], [ 47.369848809000075, 31.300361295000073 ], [ 47.332983866000063, 31.297622172000047 ], [ 47.294516099000077, 31.292143687000078 ], [ 47.252842686000065, 31.285295134000023 ], [ 47.223991861000059, 31.272966484000051 ], [ 47.198346683000068, 31.253785381000057 ], [ 47.169495858000062, 31.227747650000026 ], [ 47.138040445000058, 31.162107607000053 ], [ 47.130527209000036, 30.865907105000076 ], [ 47.133031621000043, 30.833655990000068 ], [ 47.12301397400006, 30.801394035000044 ], [ 47.110491914000079, 30.775576671000067 ], [ 47.107987502000071, 30.743295221000039 ], [ 47.107987502000071, 30.723921156000074 ], [ 47.09546544300008, 30.704543197000078 ], [ 47.082943383000043, 30.674391968000066 ], [ 47.090456619000065, 30.661467131000052 ], [ 47.097969855000031, 30.650695112000051 ], [ 47.105483090000064, 30.633457386000032 ], [ 47.105483090000064, 30.611905909000029 ], [ 47.097969855000031, 30.594661274000032 ], [ 47.050386029000038, 30.605439531000059 ], [ 47.017828675000032, 30.635612270000024 ], [ 46.995288968000068, 30.644231325000078 ], [ 46.960227201000066, 30.644231325000078 ], [ 46.907634552000047, 30.631302455000025 ], [ 46.842519843000048, 30.605439531000059 ], [ 46.727316896000048, 30.566632194000078 ], [ 46.594583066000041, 30.534280883000065 ], [ 46.575647053000068, 30.511378421000074 ], [ 46.584465242000078, 30.502695611000036 ], [ 46.600493478000033, 30.486122183000077 ], [ 46.605301949000079, 30.462638330000061 ], [ 46.605301949000079, 30.437766901000032 ], [ 46.606904773000053, 30.400447861000032 ], [ 46.611713244000043, 30.374177762000045 ], [ 46.624535833000039, 30.356199414000059 ], [ 46.627741480000054, 30.343750930000056 ], [ 46.638961245000075, 30.31469831000004 ], [ 46.656592305000061, 30.285637074000078 ], [ 46.677429011000072, 30.256567227000062 ], [ 46.719102425000074, 30.208098360000065 ], [ 46.746350426000049, 30.160991448000061 ], [ 46.744747603000064, 30.040350699000044 ], [ 46.735130661000028, 30.012596389000066 ], [ 46.730322190000038, 29.98622259900003 ], [ 46.712691131000042, 29.884826576000023 ], [ 46.701471366000078, 29.822270737000053 ], [ 46.688648777000026, 29.780545077000056 ], [ 46.680634659000077, 29.758284278000076 ], [ 46.671017717000041, 29.730451324000057 ], [ 46.65498948100003, 29.64690613700003 ], [ 46.64537253900005, 29.580020019000074 ], [ 46.646975363000081, 29.443323219000035 ], [ 46.651783834000071, 29.427968184000065 ], [ 46.65498948100003, 29.416799428000047 ], [ 46.653386657000055, 29.398647580000045 ], [ 46.643769716000065, 29.376302396000028 ], [ 46.622933009000064, 29.349761117000071 ], [ 46.611713244000043, 29.33858377200005 ], [ 46.590876537000042, 29.313430266000069 ], [ 46.573245477000057, 29.152581068000075 ], [ 46.571063096000046, 29.06360058000007 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Maysan", "shapeISO": "IQ-MA", "shapeID": "90741666B47130783728166", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 47.138040445000058, 31.162107607000053 ], [ 47.169495858000062, 31.227747650000026 ], [ 47.198346683000068, 31.253785381000057 ], [ 47.223991861000059, 31.272966484000051 ], [ 47.252842686000065, 31.285295134000023 ], [ 47.294516099000077, 31.292143687000078 ], [ 47.332983866000063, 31.297622172000047 ], [ 47.369848809000075, 31.300361295000073 ], [ 47.403508104000025, 31.300361295000073 ], [ 47.448387165000042, 31.298991743000045 ], [ 47.482046461000039, 31.294882969000071 ], [ 47.499677521000081, 31.289404326000067 ], [ 47.531733993000046, 31.288034615000072 ], [ 47.578215877000048, 31.286664884000061 ], [ 47.613477997000075, 31.286664884000061 ], [ 47.639123174000076, 31.285295134000023 ], [ 47.677590941000062, 31.281185763000053 ], [ 47.695537006000052, 31.278826159000062 ], [ 47.700030471000048, 31.407124947000057 ], [ 47.704838942000038, 31.424907099000052 ], [ 47.709647413000027, 31.446788197000046 ], [ 47.717661531000033, 31.46866418500008 ], [ 47.730484120000028, 31.493268564000061 ], [ 47.74330670900008, 31.513767269000027 ], [ 47.759334945000035, 31.539725841000063 ], [ 47.770554710000056, 31.56567719800006 ], [ 47.77696600400003, 31.584794630000033 ], [ 47.788185769000052, 31.609368425000071 ], [ 47.794597064000072, 31.629841633000069 ], [ 47.802611182000078, 31.663953636000031 ], [ 47.812228124000058, 31.688506525000037 ], [ 47.861658953000074, 31.790059117000055 ], [ 47.86415960800008, 31.857308687000057 ], [ 47.852875730000051, 31.865149917000053 ], [ 47.836462816000051, 31.872119339000051 ], [ 47.821075710000059, 31.876474961000042 ], [ 47.811843446000069, 31.888669605000075 ], [ 47.80979183200003, 31.899991758000056 ], [ 47.80774021700006, 31.913054050000028 ], [ 47.794404725000049, 31.93743203300005 ], [ 47.788249882000059, 31.946136890000048 ], [ 47.765682126000058, 31.952229798000076 ], [ 47.753372441000067, 31.96267384500004 ], [ 47.749269212000058, 31.978337687000078 ], [ 47.748243405000039, 31.993128862000049 ], [ 47.731830492000029, 32.003568255000062 ], [ 47.725675649000038, 32.014876256000036 ], [ 47.722598228000038, 32.028791881000075 ], [ 47.720546613000067, 32.048791888000039 ], [ 47.715417578000029, 32.059224940000036 ], [ 47.689772400000038, 32.066179646000023 ], [ 47.678488522000066, 32.081825803000072 ], [ 47.678488522000066, 32.097469282000077 ], [ 47.674385294000047, 32.111372348000032 ], [ 47.635404623000056, 32.138303514000029 ], [ 47.622069131000046, 32.150463370000068 ], [ 47.599501375000045, 32.166095088000077 ], [ 47.591294918000074, 32.156542690000038 ], [ 47.574882004000074, 32.155674241000042 ], [ 47.555391669000073, 32.161753213000054 ], [ 47.553340055000035, 32.177382994000027 ], [ 47.549236826000026, 32.214709946000028 ], [ 47.555391669000073, 32.223388438000029 ], [ 47.576933618000055, 32.236404622000066 ], [ 47.583088461000045, 32.248551379000048 ], [ 47.581036847000064, 32.261563958000067 ], [ 47.562572319000026, 32.280645700000036 ], [ 47.541030370000044, 32.293653678000055 ], [ 47.525643263000063, 32.301457568000046 ], [ 47.518462613000054, 32.317063334000068 ], [ 47.521540035000044, 32.330066085000055 ], [ 47.523591649000025, 32.340466942000035 ], [ 47.518462613000054, 32.35346633100005 ], [ 47.499998085000072, 32.35433289100007 ], [ 47.477430329000072, 32.359532074000072 ], [ 47.469223872000043, 32.368196715000067 ], [ 47.458965801000033, 32.383790975000068 ], [ 47.453836766000052, 32.402846972000077 ], [ 47.458965801000033, 32.413239457000032 ], [ 47.470249679000062, 32.421898947000045 ], [ 47.475378715000033, 32.431423426000038 ], [ 47.470249679000062, 32.441812619000075 ], [ 47.459991608000053, 32.453066228000068 ], [ 47.443578694000053, 32.460856364000051 ], [ 47.430243202000042, 32.476434616000063 ], [ 47.40562383200006, 32.499796939000078 ], [ 47.39331414600008, 32.513638416000049 ], [ 47.358436705000031, 32.516233455000076 ], [ 47.345101212000031, 32.521423310000046 ], [ 47.315352806000078, 32.540450213000042 ], [ 47.291759243000058, 32.529207530000065 ], [ 47.269191486000068, 32.509313183000074 ], [ 47.220978552000076, 32.508448112000053 ], [ 47.191230146000066, 32.503257508000047 ], [ 47.164559161000057, 32.506717944000059 ], [ 47.149172055000065, 32.517963440000074 ], [ 47.123526877000074, 32.532666967000068 ], [ 47.101984928000036, 32.54304447800007 ], [ 47.081468786000073, 32.550826824000069 ], [ 47.071210715000063, 32.562066800000025 ], [ 47.054797801000063, 32.576763105000055 ], [ 47.032230045000063, 32.596642509000048 ], [ 46.994275182000081, 32.625157429000069 ], [ 46.966578390000052, 32.643298559000073 ], [ 46.94195901900008, 32.657117903000028 ], [ 46.90913319200007, 32.668344547000061 ], [ 46.889642857000069, 32.676116013000069 ], [ 46.871178329000031, 32.695973355000035 ], [ 46.843481537000059, 32.717552413000078 ], [ 46.811681517000068, 32.753793478000034 ], [ 46.797320217000049, 32.771908484000051 ], [ 46.780907303000049, 32.794331478000061 ], [ 46.759365354000067, 32.814162492000037 ], [ 46.704997577000029, 32.840022382000029 ], [ 46.670120136000037, 32.85122599500005 ], [ 46.644474958000046, 32.861566537000044 ], [ 46.627036237000027, 32.873628979000046 ], [ 46.603442674000064, 32.892580929000076 ], [ 46.591132989000073, 32.905500389000053 ], [ 46.583952339000064, 32.916695730000072 ], [ 46.573694268000054, 32.906361620000041 ], [ 46.551126511000064, 32.886551203000067 ], [ 46.540868440000054, 32.872767430000067 ], [ 46.544971669000063, 32.862428195000064 ], [ 46.553178126000034, 32.852949503000048 ], [ 46.563436197000044, 32.844331631000045 ], [ 46.563436197000044, 32.838298623000071 ], [ 46.559332968000035, 32.821921250000059 ], [ 46.547023283000044, 32.807265250000057 ], [ 46.538816826000073, 32.794331478000061 ], [ 46.529584562000025, 32.779670929000076 ], [ 46.525481334000062, 32.760694867000041 ], [ 46.522403912000073, 32.734811901000057 ], [ 46.517274877000034, 32.71668935100007 ], [ 46.512145841000063, 32.698563118000038 ], [ 46.505990999000062, 32.680433203000064 ], [ 46.496758735000071, 32.658845171000053 ], [ 46.490603892000081, 32.641570991000037 ], [ 46.488552278000043, 32.553420790000075 ], [ 46.488552278000043, 32.549962152000035 ], [ 46.486500664000062, 32.539585441000042 ], [ 46.473165171000062, 32.52834265000007 ], [ 46.461881293000033, 32.525747960000047 ], [ 46.454700643000081, 32.516233455000076 ], [ 46.449571608000042, 32.49806660400003 ], [ 46.44136515100007, 32.479896083000028 ], [ 46.434184501000061, 32.465183926000066 ], [ 46.42187481600007, 32.440081170000042 ], [ 46.40238448100007, 32.423630745000025 ], [ 46.390074796000079, 32.417569306000075 ], [ 46.389048989000059, 32.40024866400006 ], [ 46.39828125300005, 32.378593187000035 ], [ 46.406487709000032, 32.367330288000062 ], [ 46.427003852000041, 32.350866603000043 ], [ 46.459829679000052, 32.323131517000036 ], [ 46.459829679000052, 32.313595618000079 ], [ 46.459829679000052, 32.305792773000064 ], [ 46.459829679000052, 32.294520810000051 ], [ 46.460855486000071, 32.283247445000029 ], [ 46.46803613600008, 32.275441986000033 ], [ 46.477268400000071, 32.269370610000067 ], [ 46.491629699000043, 32.264166250000073 ], [ 46.508042613000043, 32.256359150000037 ], [ 46.520352298000034, 32.245081042000038 ], [ 46.522403912000073, 32.238139972000056 ], [ 46.522403912000073, 32.225991824000062 ], [ 46.522403912000073, 32.216445711000063 ], [ 46.519326491000072, 32.212106237000057 ], [ 46.516249070000072, 32.200822636000055 ], [ 46.510094227000081, 32.196482417000027 ], [ 46.497784542000034, 32.190405763000058 ], [ 46.481371628000034, 32.186065047000056 ], [ 46.459829679000052, 32.17825123700004 ], [ 46.437261923000051, 32.170436756000072 ], [ 46.410590938000041, 32.16522672900004 ], [ 46.386997374000032, 32.159147989000076 ], [ 46.368532846000051, 32.147857823000038 ], [ 46.364429618000031, 32.129616909000049 ], [ 46.364429618000031, 32.107896780000033 ], [ 46.373661882000079, 32.089647877000061 ], [ 46.383919953000031, 32.077479917000062 ], [ 46.39520383100006, 32.067048948000036 ], [ 46.400332867000031, 32.054008562000035 ], [ 46.396229638000079, 32.042705392000073 ], [ 46.380842532000031, 32.034009695000066 ], [ 46.366481232000069, 32.025313173000029 ], [ 46.368532846000051, 32.012266841000041 ], [ 46.374687689000041, 32.003568255000062 ], [ 46.376739303000079, 31.988778764000074 ], [ 46.373661882000079, 31.985298537000062 ], [ 46.34904251100005, 31.982688280000048 ], [ 46.320319912000059, 31.980077949000076 ], [ 46.31621668400004, 31.971376310000039 ], [ 46.320319912000059, 31.959192628000039 ], [ 46.339810247000059, 31.947007330000076 ], [ 46.360326390000068, 31.93569096300007 ], [ 46.38186833900005, 31.926114488000053 ], [ 46.412642552000079, 31.879959309000071 ], [ 46.423926430000051, 31.854694795000057 ], [ 46.430081273000042, 31.837266958000043 ], [ 46.437261923000051, 31.811990746000049 ], [ 46.447519994000061, 31.732630831000051 ], [ 46.455726451000032, 31.709944070000063 ], [ 46.469061943000042, 31.69336177200006 ], [ 46.48444905000008, 31.681141340000067 ], [ 46.501887770000053, 31.668046235000077 ], [ 46.526507141000081, 31.647090226000046 ], [ 46.530610369000044, 31.635737082000048 ], [ 46.535739405000072, 31.623509068000033 ], [ 46.548049090000063, 31.61215304600006 ], [ 46.563436197000044, 31.596427034000044 ], [ 46.588055567000026, 31.582446128000072 ], [ 46.598313638000036, 31.57632882200005 ], [ 46.609597517000054, 31.562344901000074 ], [ 46.615752359000055, 31.546610484000041 ], [ 46.619855588000064, 31.530873413000052 ], [ 46.618829781000045, 31.505513664000034 ], [ 46.618829781000045, 31.496767327000043 ], [ 46.614726552000036, 31.488020172000063 ], [ 46.609597517000054, 31.478397357000063 ], [ 46.603442674000064, 31.467023664000067 ], [ 46.603442674000064, 31.453898454000068 ], [ 46.605494288000045, 31.442521784000064 ], [ 46.607545902000027, 31.432019016000027 ], [ 46.616778166000074, 31.418013495000025 ], [ 46.632165273000055, 31.404881420000038 ], [ 46.635242694000056, 31.40313033800004 ], [ 46.680378207000047, 31.375108580000074 ], [ 46.695765314000028, 31.36459826600003 ], [ 46.718333070000028, 31.355838772000027 ], [ 46.736797598000067, 31.347078463000059 ], [ 46.750133090000077, 31.338317337000035 ], [ 46.759365354000067, 31.326050391000024 ], [ 46.76039116100003, 31.253292102000046 ], [ 46.761416968000049, 31.241891140000064 ], [ 46.766546004000077, 31.226980114000071 ], [ 46.773726654000029, 31.217330549000053 ], [ 46.785010532000058, 31.208557362000079 ], [ 46.805526674000077, 31.203293059000032 ], [ 46.81988797300005, 31.191008547000024 ], [ 46.829120237000041, 31.176089495000042 ], [ 46.83630088700005, 31.165556985000023 ], [ 46.84655895800006, 31.152389700000072 ], [ 46.863997679000079, 31.146244340000067 ], [ 46.89272027800007, 31.140098583000054 ], [ 46.976836461000062, 31.138342579000039 ], [ 46.991197760000034, 31.150633923000044 ], [ 46.999404217000063, 31.154145443000061 ], [ 47.066081679000035, 31.159412479000025 ], [ 47.138040445000058, 31.162107607000053 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Wasit", "shapeISO": "IQ-WA", "shapeID": "90741666B22138095387242", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 45.157952234000049, 32.45587941000008 ], [ 45.188854673000037, 32.441812619000075 ], [ 45.222706308000056, 32.426228380000055 ], [ 45.252454714000066, 32.424496632000057 ], [ 45.266816014000028, 32.41930118700003 ], [ 45.293486998000049, 32.413239457000032 ], [ 45.312977333000049, 32.407177319000027 ], [ 45.337596704000077, 32.395051823000074 ], [ 45.357087039000078, 32.379459506000046 ], [ 45.370422531000031, 32.364730958000052 ], [ 45.376577374000078, 32.356065985000043 ], [ 45.385809638000069, 32.347400182000058 ], [ 45.405299973000069, 32.33873354900004 ], [ 45.42068708000005, 32.331799644000057 ], [ 45.440177415000051, 32.320530917000042 ], [ 45.466848399000071, 32.306659789000037 ], [ 45.478132278000032, 32.290185066000049 ], [ 45.489416156000061, 32.273707349000063 ], [ 45.545835547000081, 32.228595135000035 ], [ 45.589945252000064, 32.186065047000056 ], [ 45.622771080000064, 32.14612075000008 ], [ 45.645338836000064, 32.107896780000033 ], [ 45.664829171000065, 32.089647877000061 ], [ 45.672009821000074, 32.081825803000072 ], [ 45.679190471000027, 32.068787525000062 ], [ 45.684319506000065, 32.053139137000073 ], [ 45.690474349000056, 32.040096770000048 ], [ 45.691500156000075, 32.023573769000052 ], [ 45.696629191000056, 32.013136655000039 ], [ 45.704835648000028, 32.001828439000064 ], [ 45.709681542000055, 31.993152482000028 ], [ 45.738687283000047, 31.996608792000075 ], [ 45.750996968000038, 32.004438151000045 ], [ 45.776642146000029, 32.007917651000071 ], [ 45.837164765000068, 32.007917651000071 ], [ 46.077203628000063, 32.010527190000062 ], [ 46.227997273000028, 32.010527190000062 ], [ 46.317242491000059, 32.013136655000039 ], [ 46.330577983000069, 32.014876256000036 ], [ 46.354171547000078, 32.014876256000036 ], [ 46.368532846000051, 32.012266841000041 ], [ 46.366481232000069, 32.025313173000029 ], [ 46.380842532000031, 32.034009695000066 ], [ 46.396229638000079, 32.042705392000073 ], [ 46.400332867000031, 32.054008562000035 ], [ 46.39520383100006, 32.067048948000036 ], [ 46.383919953000031, 32.077479917000062 ], [ 46.373661882000079, 32.089647877000061 ], [ 46.364429618000031, 32.107896780000033 ], [ 46.364429618000031, 32.129616909000049 ], [ 46.368532846000051, 32.147857823000038 ], [ 46.386997374000032, 32.159147989000076 ], [ 46.410590938000041, 32.16522672900004 ], [ 46.437261923000051, 32.170436756000072 ], [ 46.459829679000052, 32.17825123700004 ], [ 46.481371628000034, 32.186065047000056 ], [ 46.497784542000034, 32.190405763000058 ], [ 46.510094227000081, 32.196482417000027 ], [ 46.516249070000072, 32.200822636000055 ], [ 46.519326491000072, 32.212106237000057 ], [ 46.522403912000073, 32.216445711000063 ], [ 46.522403912000073, 32.225991824000062 ], [ 46.522403912000073, 32.238139972000056 ], [ 46.520352298000034, 32.245081042000038 ], [ 46.508042613000043, 32.256359150000037 ], [ 46.491629699000043, 32.264166250000073 ], [ 46.477268400000071, 32.269370610000067 ], [ 46.46803613600008, 32.275441986000033 ], [ 46.460855486000071, 32.283247445000029 ], [ 46.459829679000052, 32.294520810000051 ], [ 46.459829679000052, 32.305792773000064 ], [ 46.459829679000052, 32.313595618000079 ], [ 46.459829679000052, 32.323131517000036 ], [ 46.427003852000041, 32.350866603000043 ], [ 46.406487709000032, 32.367330288000062 ], [ 46.39828125300005, 32.378593187000035 ], [ 46.389048989000059, 32.40024866400006 ], [ 46.390074796000079, 32.417569306000075 ], [ 46.40238448100007, 32.423630745000025 ], [ 46.42187481600007, 32.440081170000042 ], [ 46.434184501000061, 32.465183926000066 ], [ 46.44136515100007, 32.479896083000028 ], [ 46.449571608000042, 32.49806660400003 ], [ 46.454700643000081, 32.516233455000076 ], [ 46.461881293000033, 32.525747960000047 ], [ 46.473165171000062, 32.52834265000007 ], [ 46.486500664000062, 32.539585441000042 ], [ 46.488552278000043, 32.549962152000035 ], [ 46.488552278000043, 32.553420790000075 ], [ 46.490603892000081, 32.641570991000037 ], [ 46.496758735000071, 32.658845171000053 ], [ 46.505990999000062, 32.680433203000064 ], [ 46.512145841000063, 32.698563118000038 ], [ 46.517274877000034, 32.71668935100007 ], [ 46.522403912000073, 32.734811901000057 ], [ 46.525481334000062, 32.760694867000041 ], [ 46.529584562000025, 32.779670929000076 ], [ 46.538816826000073, 32.794331478000061 ], [ 46.547023283000044, 32.807265250000057 ], [ 46.559332968000035, 32.821921250000059 ], [ 46.563436197000044, 32.838298623000071 ], [ 46.563436197000044, 32.844331631000045 ], [ 46.553178126000034, 32.852949503000048 ], [ 46.544971669000063, 32.862428195000064 ], [ 46.540868440000054, 32.872767430000067 ], [ 46.551126511000064, 32.886551203000067 ], [ 46.573694268000054, 32.906361620000041 ], [ 46.583164065000062, 32.915901656000074 ], [ 46.545997476000025, 32.929342609000059 ], [ 46.531572063000056, 32.938759324000046 ], [ 46.507529709000039, 32.94952005500005 ], [ 46.486693003000028, 32.960279477000029 ], [ 46.459445001000063, 32.973726912000075 ], [ 46.427388529000041, 32.987172299000065 ], [ 46.40655182200004, 32.995238549000078 ], [ 46.38731793900007, 32.996582852000074 ], [ 46.332821937000062, 33.014056931000027 ], [ 46.268708992000029, 33.015400948000035 ], [ 46.196581930000036, 33.008680660000039 ], [ 46.193376283000077, 33.007336541000029 ], [ 46.182156518000056, 33.000615639000046 ], [ 46.16773110500003, 32.996582852000074 ], [ 46.151702869000076, 33.003304062000041 ], [ 46.137277457000039, 33.019432874000074 ], [ 46.119646397000054, 33.027496175000067 ], [ 46.110029455000074, 33.034215028000062 ], [ 46.111632279000048, 33.050338186000033 ], [ 46.114837926000064, 33.05974199800005 ], [ 46.132468986000049, 33.07183113800005 ], [ 46.135674633000065, 33.082575646000066 ], [ 46.15330569300005, 33.091976014000068 ], [ 46.169333929000061, 33.108088592000058 ], [ 46.164525458000071, 33.120171086000028 ], [ 46.15330569300005, 33.126882865000027 ], [ 46.129263339000033, 33.129567433000034 ], [ 46.108426632000032, 33.134936323000034 ], [ 46.090795572000047, 33.138962775000039 ], [ 46.066753218000031, 33.145673117000058 ], [ 46.058739100000025, 33.15372485100005 ], [ 46.058739100000025, 33.160434064000071 ], [ 46.065150395000046, 33.171167738000065 ], [ 46.076370160000067, 33.176534082000046 ], [ 46.103618161000043, 33.177875616000051 ], [ 46.129263339000033, 33.177875616000051 ], [ 46.142085928000029, 33.180558624000071 ], [ 46.15811416400004, 33.191289833000042 ], [ 46.16773110500003, 33.20470199600004 ], [ 46.190170636000062, 33.21945300200008 ], [ 46.199274674000037, 33.235595799000066 ], [ 46.209532745000047, 33.241601660000072 ], [ 46.208506938000028, 33.250180746000069 ], [ 46.190042410000046, 33.26047453800004 ], [ 46.191068217000065, 33.269051771000079 ], [ 46.197223060000056, 33.278485755000077 ], [ 46.206455324000046, 33.282773592000069 ], [ 46.200300481000056, 33.299065453000026 ], [ 46.190042410000046, 33.317925912000078 ], [ 46.175681110000028, 33.322211812000035 ], [ 46.157216582000046, 33.331640048000054 ], [ 46.151061740000046, 33.334211208000056 ], [ 46.125416562000055, 33.36077541700007 ], [ 46.118235912000046, 33.373626157000047 ], [ 46.113106877000064, 33.38647499800004 ], [ 46.109003648000055, 33.400178336000067 ], [ 46.089513313000054, 33.407029195000064 ], [ 46.080281049000064, 33.416448244000037 ], [ 46.080281049000064, 33.432715104000067 ], [ 46.079255242000045, 33.448978915000055 ], [ 46.071048785000073, 33.462672391000069 ], [ 46.051558450000073, 33.474652409000043 ], [ 46.047455222000053, 33.484064118000049 ], [ 46.048481029000072, 33.498607476000075 ], [ 46.054635872000063, 33.51913511500004 ], [ 46.035145537000062, 33.536237761000052 ], [ 46.015655202000062, 33.538802866000026 ], [ 46.001293902000043, 33.529397109000058 ], [ 45.992061638000052, 33.514858925000055 ], [ 45.982829374000062, 33.500318298000025 ], [ 45.966416461000051, 33.48577522800008 ], [ 45.940771283000061, 33.475508061000028 ], [ 45.917177719000051, 33.466951159000075 ], [ 45.89460996300005, 33.458393412000078 ], [ 45.887429313000041, 33.450690718000033 ], [ 45.87511962800005, 33.426722405000078 ], [ 45.86178413600004, 33.399321941000039 ], [ 45.853577679000068, 33.387331520000032 ], [ 45.84537122200004, 33.368486089000044 ], [ 45.817674430000068, 33.352207203000034 ], [ 45.789977638000039, 33.350493459000063 ], [ 45.769461496000076, 33.347922779000044 ], [ 45.757151811000028, 33.334211208000056 ], [ 45.746893740000075, 33.312782555000069 ], [ 45.738687283000047, 33.292206093000061 ], [ 45.727403405000075, 33.265620979000062 ], [ 45.718171141000028, 33.249322875000075 ], [ 45.692525963000037, 33.220150261000072 ], [ 45.679190471000027, 33.203843679000045 ], [ 45.641235608000045, 33.17379728700007 ], [ 45.619693658000074, 33.160917107000046 ], [ 45.600203323000073, 33.155764506000025 ], [ 45.578661374000035, 33.159199607000062 ], [ 45.565325882000081, 33.16692809400007 ], [ 45.547887161000062, 33.175514502000055 ], [ 45.525319405000062, 33.186675574000049 ], [ 45.495570998000062, 33.198693601000059 ], [ 45.468900014000042, 33.198693601000059 ], [ 45.45453871400008, 33.206418605000067 ], [ 45.41042900900004, 33.215859350000073 ], [ 45.332467668000049, 33.21757573900004 ], [ 45.293486998000049, 33.220150261000072 ], [ 45.270919242000048, 33.227873371000044 ], [ 45.253480521000029, 33.23988574200007 ], [ 45.238093415000037, 33.249322875000075 ], [ 45.218603080000037, 33.26047453800004 ], [ 45.191932095000027, 33.273340072000053 ], [ 45.171415953000064, 33.282773592000069 ], [ 45.140641739000046, 33.293920984000067 ], [ 45.101661069000045, 33.307638895000025 ], [ 45.042164257000081, 33.325640379000049 ], [ 45.018570694000061, 33.321354649000057 ], [ 44.999080359000061, 33.311068036000052 ], [ 44.97035776000007, 33.306781589000025 ], [ 44.944712582000079, 33.300780209000038 ], [ 44.906757719000041, 33.291348635000077 ], [ 44.892396420000068, 33.282773592000069 ], [ 44.87085447000004, 33.252754308000078 ], [ 44.862648013000069, 33.229589525000051 ], [ 44.855467364000049, 33.208993454000051 ], [ 44.844183486000077, 33.183241550000048 ], [ 44.830847993000077, 33.159199607000062 ], [ 44.792893130000039, 33.130855997000026 ], [ 44.749809232000075, 33.092190867000056 ], [ 44.732370511000056, 33.073281723000036 ], [ 44.719035019000046, 33.069843260000027 ], [ 44.706725333000065, 33.067264325000053 ], [ 44.693389841000055, 33.06124651500005 ], [ 44.673899506000055, 33.057807582000066 ], [ 44.656460785000036, 33.062965931000065 ], [ 44.645176907000064, 33.071562508000056 ], [ 44.644151100000045, 33.08789369200008 ], [ 44.647228521000045, 33.105940419000035 ], [ 44.634918836000054, 33.116251170000055 ], [ 44.608247851000044, 33.118828669000038 ], [ 44.591834937000044, 33.113673596000069 ], [ 44.582602673000054, 33.107658961000027 ], [ 44.579525252000053, 33.115391987000066 ], [ 44.568113148000066, 33.129567433000034 ], [ 44.556893383000045, 33.116143773000033 ], [ 44.548879265000039, 33.102718061000076 ], [ 44.550482088000081, 33.079889642000069 ], [ 44.552084912000055, 33.062428617000023 ], [ 44.548879265000039, 33.050338186000033 ], [ 44.531248205000054, 33.040933369000072 ], [ 44.515219969000043, 33.039589742000032 ], [ 44.500794557000063, 33.032871298000032 ], [ 44.492780439000057, 33.018088919000036 ], [ 44.495986086000073, 33.000615639000046 ], [ 44.500794557000063, 32.989861131000055 ], [ 44.513617145000069, 32.981794390000061 ], [ 44.53445385200007, 32.973726912000075 ], [ 44.556893383000045, 32.953554992000079 ], [ 44.568113148000066, 32.936068936000026 ], [ 44.571318795000025, 32.923961180000049 ], [ 44.593758326000057, 32.913197338000032 ], [ 44.632226092000053, 32.910506174000034 ], [ 44.654665623000028, 32.925306568000053 ], [ 44.678707977000045, 32.933378467000068 ], [ 44.728395508000062, 32.929342609000059 ], [ 44.741218097000058, 32.915888421000034 ], [ 44.752437862000079, 32.880897962000063 ], [ 44.80853668900005, 32.835120356000061 ], [ 44.835784690000025, 32.821651860000031 ], [ 44.874252456000079, 32.814916845000027 ], [ 44.91432304600005, 32.809528466000074 ], [ 44.936762577000081, 32.797403419000034 ], [ 44.957599284000025, 32.779886543000032 ], [ 44.988052932000073, 32.747538633000033 ], [ 44.997669874000053, 32.735405137000043 ], [ 45.018506581000054, 32.717876059000048 ], [ 45.04254893500007, 32.709784553000077 ], [ 45.063385642000071, 32.707087222000041 ], [ 45.079413878000025, 32.70304107100003 ], [ 45.082619525000041, 32.696297080000079 ], [ 45.063385642000071, 32.680109421000054 ], [ 45.058577171000081, 32.669316018000075 ], [ 45.064988465000056, 32.62207955100007 ], [ 45.084222349000072, 32.608578836000049 ], [ 45.103456232000042, 32.60722865200006 ], [ 45.146732469000028, 32.60722865200006 ], [ 45.151540940000075, 32.597776798000041 ], [ 45.137115528000038, 32.580220710000049 ], [ 45.116278821000037, 32.573467452000045 ], [ 45.093839290000062, 32.558608496000033 ], [ 45.079413878000025, 32.542395919000057 ], [ 45.071399760000077, 32.528883201000042 ], [ 45.06659128900003, 32.518071563000035 ], [ 45.069796936000046, 32.497796237000045 ], [ 45.087427996000031, 32.488332853000031 ], [ 45.108264703000032, 32.484276812000076 ], [ 45.127498586000058, 32.482924758000024 ], [ 45.146732469000028, 32.473459810000065 ], [ 45.157952234000049, 32.45587941000008 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Ninawa", "shapeISO": "IQ-NI", "shapeID": "90741666B29902093370976", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 42.422232871000062, 34.931133724000063 ], [ 42.419728459000055, 35.095226702000048 ], [ 42.995743192000077, 35.105471578000049 ], [ 42.973303661000045, 35.143243547000054 ], [ 42.905985070000042, 35.228391437000028 ], [ 42.84347494900004, 35.295137292000049 ], [ 42.816226948000065, 35.323912644000075 ], [ 42.809815654000033, 35.340911450000078 ], [ 42.809815654000033, 35.364442355000051 ], [ 42.805007183000043, 35.381432633000031 ], [ 42.795390241000064, 35.404951727000025 ], [ 42.796993065000038, 35.478078364000055 ], [ 42.81462412500008, 35.501569243000063 ], [ 42.83866647900004, 35.526357720000078 ], [ 42.859503185000051, 35.542009656000062 ], [ 42.885148363000042, 35.556354581000051 ], [ 42.997346015000062, 35.637159782000026 ], [ 43.09832390300005, 35.637159782000026 ], [ 43.164039670000079, 35.648882787000048 ], [ 43.191287672000044, 35.663208568000073 ], [ 43.221741320000035, 35.677531780000038 ], [ 43.248989321000067, 35.686645213000077 ], [ 43.273031675000027, 35.694455898000058 ], [ 43.300279677000049, 35.707472007000035 ], [ 43.317910736000044, 35.721787273000075 ], [ 43.321116384000049, 35.732196760000079 ], [ 43.322277968000037, 35.738325517000078 ], [ 43.327527678000081, 35.766018196000061 ], [ 43.33554179600003, 35.78162324200008 ], [ 43.349967208000066, 35.797225225000034 ], [ 43.351570032000041, 35.819322791000047 ], [ 43.353172856000072, 35.838815537000073 ], [ 43.367598268000052, 35.869993969000063 ], [ 43.378818033000073, 35.886877166000033 ], [ 43.391640622000068, 35.902458462000027 ], [ 43.406066035000038, 35.912844289000077 ], [ 43.417285800000059, 35.925824655000042 ], [ 43.417285800000059, 35.93620741400008 ], [ 43.415682976000028, 35.959563636000041 ], [ 43.407668858000079, 35.979021880000062 ], [ 43.401257564000048, 35.997178580000025 ], [ 43.402860387000032, 36.007551961000047 ], [ 43.418888623000043, 36.016627550000067 ], [ 43.442930978000049, 36.021813132000034 ], [ 43.463767684000061, 36.026998373000026 ], [ 43.479795920000072, 36.034775593000063 ], [ 43.492618509000067, 36.047735922000072 ], [ 43.505441098000063, 36.068468009000071 ], [ 43.511852393000026, 36.084013490000075 ], [ 43.518263687000058, 36.102146001000051 ], [ 43.529483452000079, 36.128042329000039 ], [ 43.540703217000043, 36.144870362000063 ], [ 43.542306041000074, 36.157812547000049 ], [ 43.56474557100006, 36.182396813000025 ], [ 43.579170984000029, 36.194039300000043 ], [ 43.588787926000066, 36.206973367000046 ], [ 43.619369800000072, 36.239299183000071 ], [ 43.625524643000062, 36.246745157000078 ], [ 43.657324663000054, 36.273213987000076 ], [ 43.683995648000064, 36.282310575000054 ], [ 43.709640825000065, 36.294713306000062 ], [ 43.721950511000045, 36.302980698000056 ], [ 43.740415039000027, 36.317033253000034 ], [ 43.756827952000037, 36.333562427000061 ], [ 43.773240866000037, 36.350088096000036 ], [ 43.789653780000037, 36.365784232000067 ], [ 43.806066693000048, 36.378173683000057 ], [ 43.811195729000076, 36.389735390000055 ], [ 43.815298957000039, 36.407900313000027 ], [ 43.823505414000067, 36.431838497000058 ], [ 43.828634450000038, 36.443392221000067 ], [ 43.846073171000057, 36.452468939000028 ], [ 43.859408663000067, 36.456594370000062 ], [ 43.866589313000077, 36.468969343000026 ], [ 43.864537698000049, 36.487940467000044 ], [ 43.87376996200004, 36.493713365000076 ], [ 43.90044094700005, 36.497011971000063 ], [ 43.918905475000031, 36.511853959000064 ], [ 43.927111932000059, 36.525044448000074 ], [ 43.94249903900004, 36.530814580000026 ], [ 43.95275711000005, 36.539056878000054 ], [ 43.961989374000041, 36.551418679000051 ], [ 43.980453902000079, 36.567074122000065 ], [ 44.014305536000052, 36.593434013000035 ], [ 44.029692643000033, 36.60002257900004 ], [ 44.046105556000043, 36.604140148000056 ], [ 44.066621699000052, 36.588492219000045 ], [ 44.092266876000053, 36.588492219000045 ], [ 44.106628176000072, 36.595904791000066 ], [ 44.115860440000063, 36.59837549100007 ], [ 44.126118511000072, 36.586844884000072 ], [ 44.141505617000064, 36.592610403000037 ], [ 44.151763688000074, 36.602493147000075 ], [ 44.170228216000055, 36.603316652000046 ], [ 44.181512094000027, 36.609904374000052 ], [ 44.194847587000027, 36.623901416000024 ], [ 44.212286308000046, 36.63542648300006 ], [ 44.229725029000065, 36.640365270000075 ], [ 44.235879871000066, 36.646949827000071 ], [ 44.250241171000027, 36.663408756000024 ], [ 44.257421820000047, 36.674105174000033 ], [ 44.267679891000057, 36.684800104000033 ], [ 44.276912155000048, 36.694671028000073 ], [ 44.288196034000066, 36.69960601400004 ], [ 44.298454105000076, 36.707007900000065 ], [ 44.302557333000038, 36.716053681000062 ], [ 44.296402490000048, 36.725098398000057 ], [ 44.283066998000038, 36.733319943000026 ], [ 44.271783120000066, 36.741540608000037 ], [ 44.267679891000057, 36.749760392000042 ], [ 44.259473435000075, 36.775236128000074 ], [ 44.234854064000046, 36.788381584000035 ], [ 44.207157272000074, 36.79577491200007 ], [ 44.192795973000045, 36.801524785000026 ], [ 44.156892724000045, 36.815486965000048 ], [ 44.132273353000073, 36.817129407000039 ], [ 44.122015282000064, 36.824519959000042 ], [ 44.104576561000044, 36.835193942000046 ], [ 44.075853962000053, 36.839298924000047 ], [ 44.058415242000081, 36.842582750000076 ], [ 44.053286206000053, 36.858999768000047 ], [ 44.044053942000062, 36.87131021700003 ], [ 44.025589414000081, 36.880336620000037 ], [ 44.020460379000042, 36.894284416000062 ], [ 43.996866815000033, 36.913150907000045 ], [ 43.974299059000032, 36.926272671000049 ], [ 43.948653881000041, 36.935292574000073 ], [ 43.91993128200005, 36.94677090700003 ], [ 43.889157069000078, 36.954968657000052 ], [ 43.855305435000048, 36.968083223000065 ], [ 43.832737678000058, 36.980376076000027 ], [ 43.82860239300004, 36.981477214000051 ], [ 43.808118308000076, 36.986931453000068 ], [ 43.744518267000046, 36.986112062000075 ], [ 43.716821475000074, 36.986112062000075 ], [ 43.689124683000045, 36.982014973000048 ], [ 43.661427891000073, 36.97300060200007 ], [ 43.645014978000063, 36.967263629000058 ], [ 43.625524643000062, 36.969722385000068 ], [ 43.602956886000072, 36.968083223000065 ], [ 43.594750429000044, 36.955788384000073 ], [ 43.596802044000071, 36.941851833000044 ], [ 43.606034308000062, 36.928732750000052 ], [ 43.621421414000054, 36.917251701000055 ], [ 43.634756907000053, 36.90576892200005 ], [ 43.653221434000045, 36.894284416000062 ], [ 43.662453698000036, 36.885259662000067 ], [ 43.662453698000036, 36.862282748000041 ], [ 43.655273049000073, 36.845045528000071 ], [ 43.648092399000063, 36.831088740000041 ], [ 43.633731099000045, 36.822877676000076 ], [ 43.610137536000025, 36.81302323500006 ], [ 43.584492358000034, 36.80234616000007 ], [ 43.55166653100008, 36.794132012000034 ], [ 43.51884070300008, 36.789203100000066 ], [ 43.474730998000041, 36.794132012000034 ], [ 43.454214856000078, 36.803167526000038 ], [ 43.43985355600006, 36.816308190000029 ], [ 43.418311607000078, 36.829446598000061 ], [ 43.40600192200003, 36.838477945000079 ], [ 43.394718044000058, 36.844224611000072 ], [ 43.376253516000077, 36.851612546000069 ], [ 43.364969637000058, 36.860641276000024 ], [ 43.342401881000058, 36.870489582000062 ], [ 43.323937353000076, 36.880336620000037 ], [ 43.315730896000048, 36.889361955000027 ], [ 43.299317983000037, 36.895104795000066 ], [ 43.256234084000027, 36.890182387000038 ], [ 43.245976013000075, 36.882798180000066 ], [ 43.214175993000026, 36.881977669000037 ], [ 43.199814693000064, 36.868027625000025 ], [ 43.182375972000045, 36.845866436000051 ], [ 43.171092094000073, 36.83273084800004 ], [ 43.157756602000063, 36.81959300300008 ], [ 43.144421109000064, 36.801524785000026 ], [ 43.136214653000025, 36.78591698300005 ], [ 43.114672703000053, 36.769484282000064 ], [ 43.095182368000053, 36.744006636000051 ], [ 43.086975911000025, 36.732497828000078 ], [ 43.081846876000043, 36.721809533000055 ], [ 43.059279120000042, 36.716875972000025 ], [ 43.032608135000032, 36.709475037000061 ], [ 43.01824683500007, 36.702895829000056 ], [ 42.99465327200005, 36.702073389000077 ], [ 42.977214551000031, 36.698783538000043 ], [ 42.966956480000078, 36.686445346000028 ], [ 42.951569373000041, 36.685622729000045 ], [ 42.903356439000049, 36.691380860000038 ], [ 42.893098368000039, 36.693848499000069 ], [ 42.869504805000076, 36.696316058000036 ], [ 42.857195119000039, 36.693025962000036 ], [ 42.845911241000067, 36.680686845000025 ], [ 42.832575749000057, 36.674927913000033 ], [ 42.820266064000066, 36.67821878400008 ], [ 42.819240257000047, 36.687267954000049 ], [ 42.817188642000076, 36.69960601400004 ], [ 42.804878957000028, 36.71523138200007 ], [ 42.780259586000057, 36.705363098000078 ], [ 42.767949901000065, 36.690558297000052 ], [ 42.760769251000056, 36.687267954000049 ], [ 42.742304724000064, 36.690558297000052 ], [ 42.734098267000036, 36.697138560000042 ], [ 42.735124074000055, 36.704540684000051 ], [ 42.749485373000027, 36.720987295000043 ], [ 42.751536987000065, 36.732497828000078 ], [ 42.731020845000046, 36.74647258400006 ], [ 42.714607932000035, 36.755513717000042 ], [ 42.702298246000055, 36.76291021600008 ], [ 42.701272439000036, 36.774414462000038 ], [ 42.691014368000026, 36.780987543000037 ], [ 42.666394998000044, 36.786738525000032 ], [ 42.648956277000025, 36.782630725000047 ], [ 42.637672399000053, 36.763732005000065 ], [ 42.624336906000053, 36.75797929600003 ], [ 42.597665921000043, 36.762088418000076 ], [ 42.592536886000062, 36.770306001000051 ], [ 42.577149779000081, 36.78591698300005 ], [ 42.572020744000042, 36.799882008000054 ], [ 42.558685251000043, 36.81384448700004 ], [ 42.55047879500006, 36.816308190000029 ], [ 42.500214246000041, 36.81959300300008 ], [ 42.493033597000078, 36.824519959000042 ], [ 42.493033597000078, 36.836835961000077 ], [ 42.494059404000041, 36.843403685000055 ], [ 42.505343282000069, 36.857358225000041 ], [ 42.51149812400007, 36.87377206900004 ], [ 42.51149812400007, 36.881977669000037 ], [ 42.513549739000041, 36.90576892200005 ], [ 42.51867877400008, 36.922992442000066 ], [ 42.51149812400007, 36.943491560000041 ], [ 42.49508521100006, 36.941851833000044 ], [ 42.473543261000032, 36.921352274000071 ], [ 42.459181962000059, 36.918891957000028 ], [ 42.449949698000069, 36.922992442000066 ], [ 42.439691627000059, 36.929552759000046 ], [ 42.430459363000068, 36.941031957000064 ], [ 42.42225290600004, 36.950869892000071 ], [ 42.40583999200004, 36.964804793000042 ], [ 42.399685150000039, 36.97300060200007 ], [ 42.394556114000068, 36.982834409000077 ], [ 42.387375465000048, 36.994305576000045 ], [ 42.378143201000057, 37.015604583000027 ], [ 42.372144633000062, 37.070431006000035 ], [ 42.342091691000064, 37.04844698200003 ], [ 42.32205639600005, 37.024457147000078 ], [ 42.297012277000078, 37.000459733000071 ], [ 42.27196815800005, 36.974453986000071 ], [ 42.239410803000055, 36.952442179000059 ], [ 42.191826978000051, 36.916409134000048 ], [ 42.119199033000029, 36.840283445000068 ], [ 42.094154914000057, 36.814223030000051 ], [ 42.056588736000037, 36.780130635000035 ], [ 41.966429908000066, 36.711900335000053 ], [ 41.936376966000068, 36.681779451000068 ], [ 41.888793140000075, 36.649637502000076 ], [ 41.831191667000041, 36.599388840000074 ], [ 41.400432823000074, 36.522948160000055 ], [ 41.285229876000074, 36.353705845000036 ], [ 41.282725465000055, 36.275003669000057 ], [ 41.282725465000055, 36.228552332000049 ], [ 41.255176934000076, 36.06271864200005 ], [ 41.372884292000037, 35.833617939000078 ], [ 41.375388704000045, 35.734067070000037 ], [ 41.382901940000067, 35.611998362000065 ], [ 41.275212229000033, 35.499938154000063 ], [ 41.272707817000025, 35.471388733000026 ], [ 41.272707817000025, 35.412218393000046 ], [ 41.270203405000075, 35.367301546000078 ], [ 41.260185758000034, 35.336662084000068 ], [ 41.23764605100007, 35.287614774000076 ], [ 41.215106344000048, 35.13619847800004 ], [ 41.250168110000061, 35.125957466000045 ], [ 41.280221053000048, 35.113666551000051 ], [ 41.320291643000076, 35.095226702000048 ], [ 41.372884292000037, 35.072683445000052 ], [ 41.415459294000073, 35.048083696000049 ], [ 41.450521061000074, 35.03373042000004 ], [ 41.488087239000038, 35.029629021000062 ], [ 41.52314900500005, 35.03373042000004 ], [ 41.578246067000066, 35.019374623000033 ], [ 41.653378423000049, 34.998861968000028 ], [ 41.743537251000078, 34.974239994000072 ], [ 41.901315199000067, 34.922920436000027 ], [ 42.422232871000062, 34.931133724000063 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Dohuk", "shapeISO": "IQ-DA", "shapeID": "90741666B81100048725045", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 43.82860239300004, 36.981477214000051 ], [ 43.853253820000077, 37.003419824000048 ], [ 43.867679233000047, 37.017498677000049 ], [ 43.893324410000048, 37.027736205000053 ], [ 43.91576394100008, 37.039251774000036 ], [ 43.939806295000039, 37.052044804000047 ], [ 43.954231707000076, 37.063556686000027 ], [ 43.975068414000077, 37.076345619000051 ], [ 43.999110768000037, 37.092968006000035 ], [ 44.019947475000038, 37.109586749000073 ], [ 44.031167240000059, 37.122367915000041 ], [ 44.035975711000049, 37.133869121000032 ], [ 44.047437990000049, 37.146432883000045 ], [ 44.057389434000072, 37.150632191000057 ], [ 44.076879770000062, 37.152267413000061 ], [ 44.086112033000063, 37.152267413000061 ], [ 44.092266876000053, 37.152267413000061 ], [ 44.091241069000034, 37.242966808000062 ], [ 44.087137841000072, 37.247866373000079 ], [ 44.075853963000043, 37.257664547000047 ], [ 44.066621699000052, 37.270726798000055 ], [ 44.058415242000081, 37.281338207000033 ], [ 44.046105557000033, 37.28623527700006 ], [ 44.013279729000033, 37.282970600000056 ], [ 43.990711972000042, 37.269910473000039 ], [ 43.978402287000051, 37.256031607000068 ], [ 43.94967968800006, 37.251949100000047 ], [ 43.945576460000041, 37.234800158000041 ], [ 43.94044742400007, 37.221731678000026 ], [ 43.928137739000078, 37.205392894000056 ], [ 43.914802247000068, 37.188233363000052 ], [ 43.90351836800005, 37.180060787000059 ], [ 43.885053841000058, 37.179243480000025 ], [ 43.853253820000077, 37.180878084000028 ], [ 43.840944135000029, 37.175156816000026 ], [ 43.821453800000029, 37.16453045600008 ], [ 43.808118307000029, 37.180060787000059 ], [ 43.784524744000066, 37.192319319000035 ], [ 43.780421515000057, 37.193953640000075 ], [ 43.760931181000046, 37.195587925000041 ], [ 43.693227911000065, 37.192319319000035 ], [ 43.660402084000054, 37.190684963000024 ], [ 43.650144013000045, 37.182512652000071 ], [ 43.629627871000025, 37.182512652000071 ], [ 43.608085922000043, 37.188233363000052 ], [ 43.588595587000043, 37.198856389000071 ], [ 43.584492358000034, 37.20620991800007 ], [ 43.558847181000033, 37.218464204000043 ], [ 43.53833103900007, 37.222548524000047 ], [ 43.523969739000052, 37.210294901000054 ], [ 43.51268586100008, 37.209477922000076 ], [ 43.480885840000042, 37.212745785000038 ], [ 43.461395505000041, 37.220914823000044 ], [ 43.452163241000051, 37.232349990000046 ], [ 43.426518064000049, 37.238066924000066 ], [ 43.413182572000039, 37.23970025400007 ], [ 43.397795465000058, 37.250316036000072 ], [ 43.394718043000069, 37.259297453000045 ], [ 43.38958900800003, 37.265828720000059 ], [ 43.37009867300003, 37.26909414000005 ], [ 43.365995444000077, 37.276440820000062 ], [ 43.347530917000029, 37.282154408000054 ], [ 43.330092196000066, 37.282970600000056 ], [ 43.315730896000048, 37.28052199800004 ], [ 43.302395404000038, 37.272359420000043 ], [ 43.291111526000066, 37.269910473000039 ], [ 43.281879262000075, 37.269910473000039 ], [ 43.268543770000065, 37.276440820000062 ], [ 43.251105048000056, 37.290315925000073 ], [ 43.226485678000074, 37.302556540000069 ], [ 43.193659851000064, 37.313979317000076 ], [ 43.165963059000035, 37.315611 ], [ 43.148524338000072, 37.326216080000052 ], [ 43.123904968000033, 37.330294559000038 ], [ 43.080821068000034, 37.328663194000058 ], [ 43.05825331300008, 37.318058459000042 ], [ 43.039788784000052, 37.313163462000034 ], [ 43.020298450000041, 37.310715843000025 ], [ 42.990550044000031, 37.287867562000031 ], [ 42.977214551000031, 37.28052199800004 ], [ 42.95875002300005, 37.279705780000029 ], [ 42.921820967000031, 37.281338207000033 ], [ 42.890020947000039, 37.287051424000026 ], [ 42.880788683000048, 37.291948122000065 ], [ 42.836678977000076, 37.304188471000032 ], [ 42.825395100000037, 37.314795163000042 ], [ 42.817188643000065, 37.323768887000028 ], [ 42.798724114000038, 37.33355718200005 ], [ 42.782311201000027, 37.329478881000057 ], [ 42.758717637000075, 37.313163462000034 ], [ 42.744356338000046, 37.300108576000071 ], [ 42.735124074000055, 37.290315925000073 ], [ 42.723840196000026, 37.279705780000029 ], [ 42.711530510000046, 37.270726798000055 ], [ 42.689988561000064, 37.254398631000072 ], [ 42.682807911000054, 37.242966808000062 ], [ 42.662291769000035, 37.231533250000041 ], [ 42.643827241000054, 37.217647314000033 ], [ 42.639724013000034, 37.20457586200007 ], [ 42.630491748000054, 37.193953640000075 ], [ 42.619207871000071, 37.183329923000031 ], [ 42.605872379000061, 37.168617694000034 ], [ 42.598691729000052, 37.154720181000073 ], [ 42.586382043000071, 37.137549137000065 ], [ 42.572020743000053, 37.113830336000035 ], [ 42.559711058000062, 37.108103994000032 ], [ 42.543298144000062, 37.11792031400006 ], [ 42.515601353000079, 37.111376242000063 ], [ 42.500214246000041, 37.104831604000026 ], [ 42.48482713900006, 37.102377219000061 ], [ 42.45200131200005, 37.102377219000061 ], [ 42.427381941000078, 37.100740918000042 ], [ 42.40583999200004, 37.088467535000063 ], [ 42.382246429000077, 37.090104101000065 ], [ 42.369936744000029, 37.087649239000029 ], [ 42.374390237000057, 37.081051241000068 ], [ 42.371578035000027, 37.080938877000051 ], [ 42.372144633000062, 37.070431006000035 ], [ 42.378143201000057, 37.015604583000027 ], [ 42.387375465000048, 36.994305576000045 ], [ 42.394556114000068, 36.982834409000077 ], [ 42.399685150000039, 36.97300060200007 ], [ 42.40583999200004, 36.964804793000042 ], [ 42.42225290600004, 36.950869892000071 ], [ 42.430459363000068, 36.941031957000064 ], [ 42.439691627000059, 36.929552759000046 ], [ 42.449949698000069, 36.922992442000066 ], [ 42.459181962000059, 36.918891957000028 ], [ 42.473543261000032, 36.921352274000071 ], [ 42.49508521100006, 36.941851833000044 ], [ 42.51149812400007, 36.943491560000041 ], [ 42.51867877400008, 36.922992442000066 ], [ 42.513549739000041, 36.90576892200005 ], [ 42.51149812400007, 36.881977669000037 ], [ 42.51149812400007, 36.87377206900004 ], [ 42.505343282000069, 36.857358225000041 ], [ 42.494059404000041, 36.843403685000055 ], [ 42.493033597000078, 36.836835961000077 ], [ 42.493033597000078, 36.824519959000042 ], [ 42.500214246000041, 36.81959300300008 ], [ 42.55047879500006, 36.816308190000029 ], [ 42.558685251000043, 36.81384448700004 ], [ 42.572020744000042, 36.799882008000054 ], [ 42.577149779000081, 36.78591698300005 ], [ 42.592536886000062, 36.770306001000051 ], [ 42.597665921000043, 36.762088418000076 ], [ 42.624336906000053, 36.75797929600003 ], [ 42.637672399000053, 36.763732005000065 ], [ 42.648956277000025, 36.782630725000047 ], [ 42.666394998000044, 36.786738525000032 ], [ 42.691014368000026, 36.780987543000037 ], [ 42.701272439000036, 36.774414462000038 ], [ 42.702298246000055, 36.76291021600008 ], [ 42.714607932000035, 36.755513717000042 ], [ 42.731020845000046, 36.74647258400006 ], [ 42.751536987000065, 36.732497828000078 ], [ 42.749485373000027, 36.720987295000043 ], [ 42.735124074000055, 36.704540684000051 ], [ 42.734098267000036, 36.697138560000042 ], [ 42.742304724000064, 36.690558297000052 ], [ 42.760769251000056, 36.687267954000049 ], [ 42.767949901000065, 36.690558297000052 ], [ 42.780259586000057, 36.705363098000078 ], [ 42.804878957000028, 36.71523138200007 ], [ 42.817188642000076, 36.69960601400004 ], [ 42.819240257000047, 36.687267954000049 ], [ 42.820266064000066, 36.67821878400008 ], [ 42.832575749000057, 36.674927913000033 ], [ 42.845911241000067, 36.680686845000025 ], [ 42.857195119000039, 36.693025962000036 ], [ 42.869504805000076, 36.696316058000036 ], [ 42.893098368000039, 36.693848499000069 ], [ 42.903356439000049, 36.691380860000038 ], [ 42.951569373000041, 36.685622729000045 ], [ 42.966956480000078, 36.686445346000028 ], [ 42.977214551000031, 36.698783538000043 ], [ 42.99465327200005, 36.702073389000077 ], [ 43.01824683500007, 36.702895829000056 ], [ 43.032608135000032, 36.709475037000061 ], [ 43.059279120000042, 36.716875972000025 ], [ 43.081846876000043, 36.721809533000055 ], [ 43.086975911000025, 36.732497828000078 ], [ 43.095182368000053, 36.744006636000051 ], [ 43.114672703000053, 36.769484282000064 ], [ 43.136214653000025, 36.78591698300005 ], [ 43.144421109000064, 36.801524785000026 ], [ 43.157756602000063, 36.81959300300008 ], [ 43.171092094000073, 36.83273084800004 ], [ 43.182375972000045, 36.845866436000051 ], [ 43.199814693000064, 36.868027625000025 ], [ 43.214175993000026, 36.881977669000037 ], [ 43.245976013000075, 36.882798180000066 ], [ 43.256234084000027, 36.890182387000038 ], [ 43.299317983000037, 36.895104795000066 ], [ 43.315730896000048, 36.889361955000027 ], [ 43.323937353000076, 36.880336620000037 ], [ 43.342401881000058, 36.870489582000062 ], [ 43.364969637000058, 36.860641276000024 ], [ 43.376253516000077, 36.851612546000069 ], [ 43.394718044000058, 36.844224611000072 ], [ 43.40600192200003, 36.838477945000079 ], [ 43.418311607000078, 36.829446598000061 ], [ 43.43985355600006, 36.816308190000029 ], [ 43.454214856000078, 36.803167526000038 ], [ 43.474730998000041, 36.794132012000034 ], [ 43.51884070300008, 36.789203100000066 ], [ 43.55166653100008, 36.794132012000034 ], [ 43.584492358000034, 36.80234616000007 ], [ 43.610137536000025, 36.81302323500006 ], [ 43.633731099000045, 36.822877676000076 ], [ 43.648092399000063, 36.831088740000041 ], [ 43.655273049000073, 36.845045528000071 ], [ 43.662453698000036, 36.862282748000041 ], [ 43.662453698000036, 36.885259662000067 ], [ 43.653221434000045, 36.894284416000062 ], [ 43.634756907000053, 36.90576892200005 ], [ 43.621421414000054, 36.917251701000055 ], [ 43.606034308000062, 36.928732750000052 ], [ 43.596802044000071, 36.941851833000044 ], [ 43.594750429000044, 36.955788384000073 ], [ 43.602956886000072, 36.968083223000065 ], [ 43.625524643000062, 36.969722385000068 ], [ 43.645014978000063, 36.967263629000058 ], [ 43.661427891000073, 36.97300060200007 ], [ 43.689124683000045, 36.982014973000048 ], [ 43.716821475000074, 36.986112062000075 ], [ 43.744518267000046, 36.986112062000075 ], [ 43.808118308000076, 36.986931453000068 ], [ 43.82860239300004, 36.981477214000051 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Salah al-Din", "shapeISO": "IQ-SD", "shapeID": "90741666B48099694344995", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.260471192000068, 33.433313682000062 ], [ 44.344299115000069, 33.494493901000055 ], [ 44.327689607000025, 33.50860461700006 ], [ 44.32127831300005, 33.516622879000067 ], [ 44.314867018000029, 33.521967975000052 ], [ 44.310058548000029, 33.532657175000054 ], [ 44.306852900000081, 33.584748099000024 ], [ 44.32127831300005, 33.599434729000052 ], [ 44.327689607000025, 33.608779465000055 ], [ 44.33089525400004, 33.631469606000053 ], [ 44.33089525400004, 33.650151118000053 ], [ 44.346923490000052, 33.66616061600007 ], [ 44.364554550000037, 33.667494606000048 ], [ 44.386994081000068, 33.670162525000023 ], [ 44.391802551000069, 33.678165784000043 ], [ 44.398213846000033, 33.714171233000059 ], [ 44.401419493000049, 33.739499354000031 ], [ 44.414242082000044, 33.751494276000074 ], [ 44.41744772900006, 33.763487520000069 ], [ 44.414242082000044, 33.776811379000037 ], [ 44.406227964000038, 33.788801080000042 ], [ 44.385391257000038, 33.799457183000072 ], [ 44.383788433000063, 33.81410715800007 ], [ 44.385391257000038, 33.834080355000026 ], [ 44.385391257000038, 33.848724401000027 ], [ 44.386994081000068, 33.863365936000037 ], [ 44.40302231700008, 33.87401274900003 ], [ 44.420653376000075, 33.888649948000079 ], [ 44.431873142000029, 33.905945219000046 ], [ 44.439887260000035, 33.932546477000074 ], [ 44.444695730000035, 33.939195494000046 ], [ 44.460723966000046, 33.94850324500004 ], [ 44.45751831900003, 33.976420391000033 ], [ 44.455915496000046, 33.98971104900005 ], [ 44.439887260000035, 33.997684446000051 ], [ 44.427064671000039, 34.002999629000044 ], [ 44.419050553000034, 34.016286130000026 ], [ 44.406227964000038, 34.024257033000026 ], [ 44.395008199000074, 34.037540207000063 ], [ 44.382185610000079, 34.046837192000055 ], [ 44.359746079000047, 34.052149297000028 ], [ 44.340512196000077, 34.053477271000077 ], [ 44.314867018000029, 34.056133157000033 ], [ 44.300441606000049, 34.062772509000069 ], [ 44.300441606000049, 34.073394389000043 ], [ 44.300441606000049, 34.084014937000063 ], [ 44.300441606000049, 34.101270487000079 ], [ 44.306852900000081, 34.119849453000029 ], [ 44.319675489000076, 34.133117645000027 ], [ 44.324483960000066, 34.145057236000071 ], [ 44.33089525400004, 34.162300335000054 ], [ 44.350129138000057, 34.198101672000064 ], [ 44.362951727000052, 34.211357571000065 ], [ 44.370965845000057, 34.221960789000036 ], [ 44.390199728000027, 34.221960789000036 ], [ 44.404625140000064, 34.223286098000074 ], [ 44.420653376000075, 34.229912327000079 ], [ 44.428667494000081, 34.248462996000058 ], [ 44.43828443600006, 34.264360315000033 ], [ 44.451107025000056, 34.274956859000042 ], [ 44.467135261000067, 34.282903390000058 ], [ 44.479957850000062, 34.28820066000003 ], [ 44.491177615000026, 34.301442375000079 ], [ 44.491177615000026, 34.319977269000049 ], [ 44.491469970000026, 34.358827946000076 ], [ 44.479652672000043, 34.365873222000062 ], [ 44.471774473000039, 34.377794646000041 ], [ 44.473087507000059, 34.392964914000061 ], [ 44.479652672000043, 34.402715778000072 ], [ 44.488843904000078, 34.41138225800006 ], [ 44.492783003000056, 34.420047841000041 ], [ 44.503287268000065, 34.432503043000054 ], [ 44.501974235000034, 34.44874616900006 ], [ 44.499348169000029, 34.455783876000055 ], [ 44.495409069000061, 34.464444856000057 ], [ 44.49409603600003, 34.473104936000027 ], [ 44.489574791000052, 34.499817398000062 ], [ 44.507205851000037, 34.510384183000042 ], [ 44.516822793000074, 34.519629021000071 ], [ 44.520028440000033, 34.531513733000054 ], [ 44.516822793000074, 34.542076498000029 ], [ 44.510411498000053, 34.548677545000032 ], [ 44.507205851000037, 34.560558111000034 ], [ 44.505603027000063, 34.579035619000024 ], [ 44.507205851000037, 34.59882839200003 ], [ 44.513617145000069, 34.606744181000067 ], [ 44.528042558000038, 34.609382609000079 ], [ 44.540865147000034, 34.610701792000043 ], [ 44.55368773500004, 34.609382609000079 ], [ 44.576127266000071, 34.596189628000047 ], [ 44.595361149000041, 34.577715933000036 ], [ 44.611389385000052, 34.560558111000034 ], [ 44.635431739000069, 34.543396749000067 ], [ 44.657871270000044, 34.540756226000042 ], [ 44.669091035000065, 34.555278069000053 ], [ 44.675502329000039, 34.571117190000052 ], [ 44.680310800000029, 34.589592351000078 ], [ 44.683516447000045, 34.609382609000079 ], [ 44.68672209500005, 34.623892468000065 ], [ 44.699544683000056, 34.63312469300007 ], [ 44.723587038000062, 34.643674550000071 ], [ 44.725189861000047, 34.70299248300006 ], [ 44.729998332000036, 34.738562847000026 ], [ 44.742820921000032, 34.754366984000058 ], [ 44.757246333000069, 34.764901396000027 ], [ 44.776480217000028, 34.782016948000035 ], [ 44.797316923000039, 34.801761250000027 ], [ 44.814947983000081, 34.855704882000055 ], [ 44.869443986000078, 34.867541436000067 ], [ 44.901500458000044, 34.867541436000067 ], [ 44.912720223000065, 34.872801580000043 ], [ 44.91432304600005, 34.895153438000079 ], [ 44.92073434100007, 34.918813484000054 ], [ 44.933556930000066, 34.938524980000068 ], [ 44.936762577000081, 34.958231740000031 ], [ 44.931954106000035, 34.98187359800005 ], [ 44.931954106000035, 35.002882854000063 ], [ 44.923939988000029, 35.030449317000034 ], [ 44.903103281000028, 35.052758219000054 ], [ 44.879060927000069, 35.071125681000069 ], [ 44.840593161000072, 35.089489010000079 ], [ 44.80853668900005, 35.09473491600005 ], [ 44.768466098000033, 35.09473491600005 ], [ 44.68672209500005, 35.102603142000078 ], [ 44.649857152000038, 35.102603142000078 ], [ 44.609786562000068, 35.10391443900005 ], [ 44.56971597200004, 35.11047060900006 ], [ 44.544070794000049, 35.120959384000059 ], [ 44.528042558000038, 35.131446808000078 ], [ 44.507205851000037, 35.149796551000065 ], [ 44.490068760000042, 35.157969887000036 ], [ 44.487971968000068, 35.158969871000068 ], [ 44.473546555000041, 35.135379244000035 ], [ 44.467135261000067, 35.109159418000047 ], [ 44.460723966000046, 35.07374926600005 ], [ 44.451107025000056, 35.05013395800006 ], [ 44.414242082000044, 34.988439570000025 ], [ 44.380582786000048, 34.930640950000054 ], [ 44.318072666000035, 34.810973640000043 ], [ 44.271590781000043, 34.749099274000059 ], [ 44.252356898000073, 34.743831228000033 ], [ 44.229917367000041, 34.753050088000066 ], [ 44.212286308000046, 34.770168098000056 ], [ 44.19305242400003, 34.783333382000023 ], [ 44.175421365000034, 34.795180341000048 ], [ 44.154584658000033, 34.804393466000079 ], [ 44.140159246000053, 34.814921491000064 ], [ 44.106499950000057, 34.841235669000071 ], [ 44.05200394700006, 34.878061388000049 ], [ 44.024755946000028, 34.888579993000064 ], [ 44.000713592000068, 34.893838791000064 ], [ 43.963848649000056, 34.900411815000041 ], [ 43.928586530000075, 34.906984313000066 ], [ 43.906146999000043, 34.916184927000074 ], [ 43.883707469000058, 34.937211028000036 ], [ 43.869282056000031, 34.952977067000063 ], [ 43.853253820000077, 34.973993737000058 ], [ 43.805169112000044, 35.018636257000026 ], [ 43.774715464000053, 35.051446099000032 ], [ 43.750673110000037, 35.067190144000051 ], [ 43.72182228500003, 35.077684487000056 ], [ 43.689765813000065, 35.085554358000024 ], [ 43.665723459000048, 35.093423471000051 ], [ 43.632064163000052, 35.101291824000043 ], [ 43.616035927000041, 35.106536971000025 ], [ 43.579170984000029, 35.120959384000059 ], [ 43.556731453000054, 35.131446808000078 ], [ 43.513455216000068, 35.14586481200007 ], [ 43.441328154000075, 35.164211304000048 ], [ 43.420491447000074, 35.16683189400004 ], [ 43.399654740000074, 35.170762620000062 ], [ 43.374009563000072, 35.17862350300004 ], [ 43.353172856000072, 35.189103497000076 ], [ 43.345158738000066, 35.20482095400007 ], [ 43.337144620000061, 35.223154144000034 ], [ 43.324322031000065, 35.241483192000032 ], [ 43.301882500000033, 35.283362607000072 ], [ 43.289059911000038, 35.304294196000058 ], [ 43.282648617000063, 35.319989336000049 ], [ 43.274634499000058, 35.34221890200007 ], [ 43.266620381000052, 35.360521013000039 ], [ 43.253797792000057, 35.382739429000026 ], [ 43.239372380000077, 35.402338833000044 ], [ 43.224946967000051, 35.465024908000032 ], [ 43.232961085000056, 35.472857236000038 ], [ 43.252194969000072, 35.481993987000067 ], [ 43.271428852000042, 35.485909420000041 ], [ 43.303485324000064, 35.492434717000037 ], [ 43.319513560000075, 35.497654573000034 ], [ 43.340350267000076, 35.502874090000034 ], [ 43.357981326000072, 35.510702730000048 ], [ 43.370803915000067, 35.518530607000059 ], [ 43.369201092000026, 35.52896658800006 ], [ 43.361186974000077, 35.540705445000071 ], [ 43.351570032000041, 35.548530395000057 ], [ 43.332336149000071, 35.556354581000051 ], [ 43.314705089000029, 35.568089429000054 ], [ 43.309896618000039, 35.578518963000079 ], [ 43.309896618000039, 35.591553970000064 ], [ 43.313102266000044, 35.603283662000024 ], [ 43.321116384000049, 35.620223516000067 ], [ 43.329130502000055, 35.63455443600003 ], [ 43.33554179600003, 35.646277823000048 ], [ 43.340350267000076, 35.657999491000055 ], [ 43.341953090000061, 35.672323637000034 ], [ 43.343555914000035, 35.691852421000078 ], [ 43.341953090000061, 35.711376425000026 ], [ 43.33554179600003, 35.725690990000032 ], [ 43.322277968000037, 35.738325517000078 ], [ 43.321116384000049, 35.732196760000079 ], [ 43.317910736000044, 35.721787273000075 ], [ 43.300279677000049, 35.707472007000035 ], [ 43.273031675000027, 35.694455898000058 ], [ 43.248989321000067, 35.686645213000077 ], [ 43.221741320000035, 35.677531780000038 ], [ 43.191287672000044, 35.663208568000073 ], [ 43.164039670000079, 35.648882787000048 ], [ 43.09832390300005, 35.637159782000026 ], [ 42.997346015000062, 35.637159782000026 ], [ 42.885148363000042, 35.556354581000051 ], [ 42.859503185000051, 35.542009656000062 ], [ 42.83866647900004, 35.526357720000078 ], [ 42.81462412500008, 35.501569243000063 ], [ 42.796993065000038, 35.478078364000055 ], [ 42.795390241000064, 35.404951727000025 ], [ 42.805007183000043, 35.381432633000031 ], [ 42.809815654000033, 35.364442355000051 ], [ 42.809815654000033, 35.340911450000078 ], [ 42.816226948000065, 35.323912644000075 ], [ 42.84347494900004, 35.295137292000049 ], [ 42.905985070000042, 35.228391437000028 ], [ 42.973303661000045, 35.143243547000054 ], [ 42.995743192000077, 35.105471578000049 ], [ 42.419728459000055, 35.095226702000048 ], [ 42.422232871000062, 34.931133724000063 ], [ 42.442268166000076, 34.558660635000024 ], [ 42.770346122000035, 34.374895940000044 ], [ 42.923115247000055, 34.515336902000058 ], [ 42.920610835000048, 34.228007339000044 ], [ 42.998247604000028, 34.147212816000035 ], [ 43.045831429000032, 34.12233739800007 ], [ 43.103432903000055, 34.08708469100003 ], [ 43.115954962000046, 34.055967167000063 ], [ 43.115954962000046, 34.022762546000024 ], [ 43.183574083000053, 34.004079235000063 ], [ 43.183574083000053, 33.968777321000061 ], [ 43.326325560000043, 33.84406520400006 ], [ 43.521669687000042, 33.79621054200004 ], [ 43.551722630000029, 33.79412929700004 ], [ 43.571757925000043, 33.792048002000058 ], [ 43.60181086700004, 33.792048002000058 ], [ 43.629359398000076, 33.792048002000058 ], [ 43.671934400000055, 33.789966656000047 ], [ 43.70449175400006, 33.773314066000069 ], [ 43.732040285000039, 33.750411470000074 ], [ 44.020047652000073, 33.742081736000046 ], [ 44.045091770000056, 33.725419841000075 ], [ 44.072640301000035, 33.700420932000043 ], [ 44.082657949000065, 33.671246343000064 ], [ 44.082657949000065, 33.631636423000032 ], [ 44.10519765600003, 33.614953109000055 ], [ 44.132746186000077, 33.598266566000063 ], [ 44.165303541000071, 33.577403846000038 ], [ 44.215391778000026, 33.508521089000055 ], [ 44.260471192000068, 33.433313682000062 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Diyala", "shapeISO": "IQ-DI", "shapeID": "90741666B43715208964458", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.568113148000066, 33.129567433000034 ], [ 44.579525252000053, 33.115391987000066 ], [ 44.582602673000054, 33.107658961000027 ], [ 44.591834937000044, 33.113673596000069 ], [ 44.608247851000044, 33.118828669000038 ], [ 44.634918836000054, 33.116251170000055 ], [ 44.647228521000045, 33.105940419000035 ], [ 44.644151100000045, 33.08789369200008 ], [ 44.645176907000064, 33.071562508000056 ], [ 44.656460785000036, 33.062965931000065 ], [ 44.673899506000055, 33.057807582000066 ], [ 44.693389841000055, 33.06124651500005 ], [ 44.706725333000065, 33.067264325000053 ], [ 44.719035019000046, 33.069843260000027 ], [ 44.732370511000056, 33.073281723000036 ], [ 44.749809232000075, 33.092190867000056 ], [ 44.792893130000039, 33.130855997000026 ], [ 44.830847993000077, 33.159199607000062 ], [ 44.844183486000077, 33.183241550000048 ], [ 44.855467364000049, 33.208993454000051 ], [ 44.862648013000069, 33.229589525000051 ], [ 44.87085447000004, 33.252754308000078 ], [ 44.892396420000068, 33.282773592000069 ], [ 44.906757719000041, 33.291348635000077 ], [ 44.944712582000079, 33.300780209000038 ], [ 44.97035776000007, 33.306781589000025 ], [ 44.999080359000061, 33.311068036000052 ], [ 45.018570694000061, 33.321354649000057 ], [ 45.042164257000081, 33.325640379000049 ], [ 45.101661069000045, 33.307638895000025 ], [ 45.140641739000046, 33.293920984000067 ], [ 45.171415953000064, 33.282773592000069 ], [ 45.191932095000027, 33.273340072000053 ], [ 45.218603080000037, 33.26047453800004 ], [ 45.238093415000037, 33.249322875000075 ], [ 45.253480521000029, 33.23988574200007 ], [ 45.270919242000048, 33.227873371000044 ], [ 45.293486998000049, 33.220150261000072 ], [ 45.332467668000049, 33.21757573900004 ], [ 45.41042900900004, 33.215859350000073 ], [ 45.45453871400008, 33.206418605000067 ], [ 45.468900014000042, 33.198693601000059 ], [ 45.495570998000062, 33.198693601000059 ], [ 45.525319405000062, 33.186675574000049 ], [ 45.547887161000062, 33.175514502000055 ], [ 45.565325882000081, 33.16692809400007 ], [ 45.578661374000035, 33.159199607000062 ], [ 45.600203323000073, 33.155764506000025 ], [ 45.619693658000074, 33.160917107000046 ], [ 45.641235608000045, 33.17379728700007 ], [ 45.679190471000027, 33.203843679000045 ], [ 45.692525963000037, 33.220150261000072 ], [ 45.718171141000028, 33.249322875000075 ], [ 45.727403405000075, 33.265620979000062 ], [ 45.738687283000047, 33.292206093000061 ], [ 45.746893740000075, 33.312782555000069 ], [ 45.757151811000028, 33.334211208000056 ], [ 45.769461496000076, 33.347922779000044 ], [ 45.789977638000039, 33.350493459000063 ], [ 45.817674430000068, 33.352207203000034 ], [ 45.84537122200004, 33.368486089000044 ], [ 45.853577679000068, 33.387331520000032 ], [ 45.86178413600004, 33.399321941000039 ], [ 45.87511962800005, 33.426722405000078 ], [ 45.887429313000041, 33.450690718000033 ], [ 45.89460996300005, 33.458393412000078 ], [ 45.917177719000051, 33.466951159000075 ], [ 45.940771283000061, 33.475508061000028 ], [ 45.966416461000051, 33.48577522800008 ], [ 45.982829374000062, 33.500318298000025 ], [ 45.992061638000052, 33.514858925000055 ], [ 46.001293902000043, 33.529397109000058 ], [ 46.015655202000062, 33.538802866000026 ], [ 46.019319516000053, 33.538320615000032 ], [ 46.001037450000069, 33.562796940000055 ], [ 45.978497743000048, 33.569057345000033 ], [ 45.963471272000049, 33.556536081000047 ], [ 45.943435977000036, 33.539838239000062 ], [ 45.923400682000079, 33.53357571600003 ], [ 45.888338916000066, 33.535663274000058 ], [ 45.895852151000042, 33.554449027000032 ], [ 45.915887446000056, 33.575317296000037 ], [ 45.938427153000077, 33.589922083000033 ], [ 45.958462448000034, 33.598266566000063 ], [ 45.978497743000048, 33.61703870000008 ], [ 45.970984508000072, 33.633721610000066 ], [ 45.945940389000043, 33.64206185300003 ], [ 45.920896270000071, 33.658739917000048 ], [ 45.920896270000071, 33.671246343000064 ], [ 45.915887446000056, 33.685834875000069 ], [ 45.888338916000066, 33.685834875000069 ], [ 45.855781561000072, 33.685834875000069 ], [ 45.813206559000037, 33.677498874000037 ], [ 45.798180088000038, 33.660824447000039 ], [ 45.778144793000081, 33.648316506000072 ], [ 45.753100674000052, 33.664993357000071 ], [ 45.775640381000073, 33.679582950000054 ], [ 45.773135969000066, 33.687918749000062 ], [ 45.758109498000067, 33.698337362000075 ], [ 45.725552143000073, 33.717087680000077 ], [ 45.708021260000066, 33.733751193000046 ], [ 45.685481553000045, 33.746246704000043 ], [ 45.670455082000046, 33.762904554000045 ], [ 45.657933023000055, 33.783722314000045 ], [ 45.655428611000048, 33.798291736000067 ], [ 45.642906551000067, 33.819100895000076 ], [ 45.620366844000046, 33.833664294000073 ], [ 45.602835961000039, 33.848225213000035 ], [ 45.587809490000041, 33.879418825000073 ], [ 45.577791842000067, 33.900208234000047 ], [ 45.557756547000054, 33.925148836000062 ], [ 45.542730076000055, 33.943849496000041 ], [ 45.522694781000041, 33.981238494000024 ], [ 45.522241983000072, 34.000129472000026 ], [ 45.500700034000033, 34.005231906000063 ], [ 45.478132278000032, 33.999279036000075 ], [ 45.462745171000051, 33.988222599000039 ], [ 45.439151608000032, 33.991624733000037 ], [ 45.43094515100006, 34.004381522000074 ], [ 45.42786772900007, 34.009483701000079 ], [ 45.415558044000079, 34.029039215000068 ], [ 45.435048379000079, 34.047740273000045 ], [ 45.455564521000042, 34.055389518000027 ], [ 45.467874207000079, 34.06303807200004 ], [ 45.47402904900008, 34.075784128000066 ], [ 45.485312927000052, 34.089377808000052 ], [ 45.488390349000042, 34.098722197000029 ], [ 45.492493577000062, 34.120804832000033 ], [ 45.503777455000034, 34.138636599000051 ], [ 45.515061333000062, 34.153069083000048 ], [ 45.527371019000043, 34.159011154000041 ], [ 45.541732318000072, 34.168347849000043 ], [ 45.554042004000053, 34.177683511000055 ], [ 45.577635567000073, 34.179380794000053 ], [ 45.584816217000025, 34.187018141000067 ], [ 45.583790410000063, 34.193806314000028 ], [ 45.580712988000073, 34.216712363000056 ], [ 45.571480724000025, 34.22264995200004 ], [ 45.562248460000035, 34.234523875000036 ], [ 45.560196846000053, 34.247244077000062 ], [ 45.564300075000062, 34.254027399000051 ], [ 45.574558146000072, 34.260810174000028 ], [ 45.574558146000072, 34.273526403000062 ], [ 45.577635567000073, 34.289630866000039 ], [ 45.595074288000035, 34.299800516000062 ], [ 45.597125902000073, 34.31759444000005 ], [ 45.597125902000073, 34.326913562000072 ], [ 45.593022674000053, 34.344701739000072 ], [ 45.584816217000025, 34.357405271000061 ], [ 45.573532339000053, 34.365873222000062 ], [ 45.560196846000053, 34.376880279000034 ], [ 45.559171039000034, 34.381113377000077 ], [ 45.532500054000081, 34.387039356000059 ], [ 45.518138755000052, 34.387885890000064 ], [ 45.486338734000071, 34.396350760000075 ], [ 45.481209699000033, 34.403968411000051 ], [ 45.473003242000061, 34.412431654000045 ], [ 45.47402904900008, 34.423432590000061 ], [ 45.476080663000062, 34.441200276000075 ], [ 45.473003242000061, 34.458964184000024 ], [ 45.455564521000042, 34.476724313000034 ], [ 45.44735806400007, 34.491098793000049 ], [ 45.44735806400007, 34.503780100000029 ], [ 45.461719364000032, 34.513923756000054 ], [ 45.482235506000052, 34.516459478000058 ], [ 45.501725841000052, 34.518995122000035 ], [ 45.520190369000034, 34.524066178000055 ], [ 45.527371019000043, 34.534207365000043 ], [ 45.529422633000081, 34.551106599000036 ], [ 45.529422633000081, 34.611071160000051 ], [ 45.535577476000071, 34.626266567000073 ], [ 45.543783932000053, 34.639771260000032 ], [ 45.558145232000072, 34.637239297000065 ], [ 45.567377496000063, 34.614448157000027 ], [ 45.579687181000054, 34.603472413000077 ], [ 45.602254938000044, 34.595028545000048 ], [ 45.621745273000045, 34.592495218000067 ], [ 45.672009821000074, 34.594184111000061 ], [ 45.704835648000028, 34.594184111000061 ], [ 45.723300176000066, 34.584894771000052 ], [ 45.736635669000066, 34.577293630000042 ], [ 45.741764704000047, 34.587428331000069 ], [ 45.741764704000047, 34.606849720000071 ], [ 45.740738897000028, 34.622045899000057 ], [ 45.738687283000047, 34.636395293000078 ], [ 45.738687283000047, 34.656649034000054 ], [ 45.733558247000076, 34.669305109000049 ], [ 45.723300176000066, 34.68195925200007 ], [ 45.721248562000028, 34.700515162000045 ], [ 45.717145334000065, 34.708105018000026 ], [ 45.705861455000047, 34.724968870000055 ], [ 45.697654999000065, 34.738457476000065 ], [ 45.682267892000027, 34.744358048000038 ], [ 45.669958207000036, 34.75447233500006 ], [ 45.668932400000074, 34.767113452000046 ], [ 45.674061435000056, 34.780595176000077 ], [ 45.682267892000027, 34.789020135000044 ], [ 45.690474349000056, 34.799128949000078 ], [ 45.697654999000065, 34.80502518600008 ], [ 45.703809841000066, 34.813447649000068 ], [ 45.704835648000028, 34.837025965000066 ], [ 45.706887262000066, 34.857230578000042 ], [ 45.720222755000066, 34.864806028000032 ], [ 45.741764704000047, 34.868172671000025 ], [ 45.754074389000039, 34.869014311000058 ], [ 45.775616339000067, 34.877430229000026 ], [ 45.788951831000077, 34.88836963500006 ], [ 45.795106674000067, 34.89762491700003 ], [ 45.794080867000048, 34.911926485000038 ], [ 45.794531307000057, 34.942209687000059 ], [ 45.795106674000067, 34.980875524000055 ], [ 45.791003445000058, 35.003565564000041 ], [ 45.78279698800003, 35.016168424000057 ], [ 45.771513110000058, 35.038008780000041 ], [ 45.771513110000058, 35.119438595000076 ], [ 45.771513110000058, 35.155510341000024 ], [ 45.764332460000048, 35.172282450000068 ], [ 45.747919547000038, 35.174797968000064 ], [ 45.733558247000076, 35.16725118100004 ], [ 45.723300176000066, 35.159703692000051 ], [ 45.706887262000066, 35.158026378000045 ], [ 45.702784034000047, 35.143767806000028 ], [ 45.697654999000065, 35.128667773000075 ], [ 45.684319506000065, 35.104334050000034 ], [ 45.667906592000065, 35.095941426000024 ], [ 45.652519486000074, 35.088387326000031 ], [ 45.637132379000036, 35.076635113000066 ], [ 45.630977537000035, 35.060682973000041 ], [ 45.608409780000045, 35.043048034000037 ], [ 45.607383973000026, 35.025409287000059 ], [ 45.618667851000055, 35.009447140000077 ], [ 45.628925922000064, 35.001885036000033 ], [ 45.630977537000035, 34.990960763000032 ], [ 45.615590430000054, 34.97835402000004 ], [ 45.612513009000054, 34.956497735000028 ], [ 45.601229130000036, 34.950612354000043 ], [ 45.580712988000073, 34.943044816000054 ], [ 45.563274268000043, 34.925384509000025 ], [ 45.544809740000062, 34.910244077000073 ], [ 45.540706511000053, 34.877430229000026 ], [ 45.535577476000071, 34.865647702000047 ], [ 45.526345212000081, 34.857230578000042 ], [ 45.514035526000043, 34.847128892000057 ], [ 45.501725841000052, 34.837025965000066 ], [ 45.48736454200008, 34.822711364000043 ], [ 45.479158085000051, 34.80502518600008 ], [ 45.476080663000062, 34.788177677000078 ], [ 45.469925821000061, 34.755315136000036 ], [ 45.469925821000061, 34.734242523000034 ], [ 45.446332257000051, 34.715694177000046 ], [ 45.421712887000069, 34.698828433000074 ], [ 45.39811932300006, 34.696298275000061 ], [ 45.369396724000069, 34.696298275000061 ], [ 45.350932196000031, 34.692924611000024 ], [ 45.337596704000077, 34.681115702000056 ], [ 45.326312826000049, 34.670148779000044 ], [ 45.306822491000048, 34.652429912000059 ], [ 45.284254734000058, 34.633863227000063 ], [ 45.266816014000028, 34.637239297000065 ], [ 45.258609557000057, 34.649054461000048 ], [ 45.251428907000047, 34.66086794000006 ], [ 45.252454714000066, 34.679428578000056 ], [ 45.251428907000047, 34.698828433000074 ], [ 45.249377293000066, 34.714850971000033 ], [ 45.243222450000076, 34.723282640000036 ], [ 45.240145029000075, 34.735928530000024 ], [ 45.236041800000066, 34.755315136000036 ], [ 45.224757922000038, 34.768798788000026 ], [ 45.213474044000066, 34.775539787000071 ], [ 45.205267587000037, 34.78480776300006 ], [ 45.207319201000075, 34.801655959000072 ], [ 45.200138552000055, 34.812605441000073 ], [ 45.195009516000027, 34.828605913000047 ], [ 45.195009516000027, 34.842077583000048 ], [ 45.187828866000075, 34.853863487000069 ], [ 45.168338531000074, 34.864806028000032 ], [ 45.151925618000064, 34.863964346000046 ], [ 45.140641739000046, 34.853021693000073 ], [ 45.117048176000026, 34.847970746000044 ], [ 45.106790105000073, 34.842077583000048 ], [ 45.091402998000035, 34.83618399900007 ], [ 45.081144927000025, 34.847128892000057 ], [ 45.077041699000063, 34.860597531000053 ], [ 45.067809435000072, 34.872380781000061 ], [ 45.060628785000063, 34.884162343000071 ], [ 45.046267486000033, 34.895100853000031 ], [ 45.030880379000052, 34.899307584000042 ], [ 45.012415851000071, 34.886686744000031 ], [ 44.997028744000033, 34.874063965000062 ], [ 44.982667445000061, 34.865647702000047 ], [ 44.95702226700007, 34.861439248000067 ], [ 44.941635161000079, 34.863122655000041 ], [ 44.928299668000079, 34.865647702000047 ], [ 44.912720223000065, 34.872801580000043 ], [ 44.901500458000044, 34.867541436000067 ], [ 44.869443986000078, 34.867541436000067 ], [ 44.814947983000081, 34.855704882000055 ], [ 44.797316923000039, 34.801761250000027 ], [ 44.776480217000028, 34.782016948000035 ], [ 44.757246333000069, 34.764901396000027 ], [ 44.742820921000032, 34.754366984000058 ], [ 44.729998332000036, 34.738562847000026 ], [ 44.725189861000047, 34.70299248300006 ], [ 44.723587038000062, 34.643674550000071 ], [ 44.699544683000056, 34.63312469300007 ], [ 44.68672209500005, 34.623892468000065 ], [ 44.683516447000045, 34.609382609000079 ], [ 44.680310800000029, 34.589592351000078 ], [ 44.675502329000039, 34.571117190000052 ], [ 44.669091035000065, 34.555278069000053 ], [ 44.657871270000044, 34.540756226000042 ], [ 44.635431739000069, 34.543396749000067 ], [ 44.611389385000052, 34.560558111000034 ], [ 44.595361149000041, 34.577715933000036 ], [ 44.576127266000071, 34.596189628000047 ], [ 44.55368773500004, 34.609382609000079 ], [ 44.540865147000034, 34.610701792000043 ], [ 44.528042558000038, 34.609382609000079 ], [ 44.513617145000069, 34.606744181000067 ], [ 44.507205851000037, 34.59882839200003 ], [ 44.505603027000063, 34.579035619000024 ], [ 44.507205851000037, 34.560558111000034 ], [ 44.510411498000053, 34.548677545000032 ], [ 44.516822793000074, 34.542076498000029 ], [ 44.520028440000033, 34.531513733000054 ], [ 44.516822793000074, 34.519629021000071 ], [ 44.507205851000037, 34.510384183000042 ], [ 44.489574791000052, 34.499817398000062 ], [ 44.49409603600003, 34.473104936000027 ], [ 44.495409069000061, 34.464444856000057 ], [ 44.499348169000029, 34.455783876000055 ], [ 44.501974235000034, 34.44874616900006 ], [ 44.503287268000065, 34.432503043000054 ], [ 44.492783003000056, 34.420047841000041 ], [ 44.488843904000078, 34.41138225800006 ], [ 44.479652672000043, 34.402715778000072 ], [ 44.473087507000059, 34.392964914000061 ], [ 44.471774473000039, 34.377794646000041 ], [ 44.479652672000043, 34.365873222000062 ], [ 44.491469970000026, 34.358827946000076 ], [ 44.491177615000026, 34.319977269000049 ], [ 44.491177615000026, 34.301442375000079 ], [ 44.479957850000062, 34.28820066000003 ], [ 44.467135261000067, 34.282903390000058 ], [ 44.451107025000056, 34.274956859000042 ], [ 44.43828443600006, 34.264360315000033 ], [ 44.428667494000081, 34.248462996000058 ], [ 44.420653376000075, 34.229912327000079 ], [ 44.404625140000064, 34.223286098000074 ], [ 44.390199728000027, 34.221960789000036 ], [ 44.370965845000057, 34.221960789000036 ], [ 44.362951727000052, 34.211357571000065 ], [ 44.350129138000057, 34.198101672000064 ], [ 44.33089525400004, 34.162300335000054 ], [ 44.324483960000066, 34.145057236000071 ], [ 44.319675489000076, 34.133117645000027 ], [ 44.306852900000081, 34.119849453000029 ], [ 44.300441606000049, 34.101270487000079 ], [ 44.300441606000049, 34.084014937000063 ], [ 44.300441606000049, 34.073394389000043 ], [ 44.300441606000049, 34.062772509000069 ], [ 44.314867018000029, 34.056133157000033 ], [ 44.340512196000077, 34.053477271000077 ], [ 44.359746079000047, 34.052149297000028 ], [ 44.382185610000079, 34.046837192000055 ], [ 44.395008199000074, 34.037540207000063 ], [ 44.406227964000038, 34.024257033000026 ], [ 44.419050553000034, 34.016286130000026 ], [ 44.427064671000039, 34.002999629000044 ], [ 44.439887260000035, 33.997684446000051 ], [ 44.455915496000046, 33.98971104900005 ], [ 44.45751831900003, 33.976420391000033 ], [ 44.460723966000046, 33.94850324500004 ], [ 44.444695730000035, 33.939195494000046 ], [ 44.439887260000035, 33.932546477000074 ], [ 44.431873142000029, 33.905945219000046 ], [ 44.420653376000075, 33.888649948000079 ], [ 44.40302231700008, 33.87401274900003 ], [ 44.386994081000068, 33.863365936000037 ], [ 44.385391257000038, 33.848724401000027 ], [ 44.385391257000038, 33.834080355000026 ], [ 44.383788433000063, 33.81410715800007 ], [ 44.385391257000038, 33.799457183000072 ], [ 44.406227964000038, 33.788801080000042 ], [ 44.414242082000044, 33.776811379000037 ], [ 44.41744772900006, 33.763487520000069 ], [ 44.414242082000044, 33.751494276000074 ], [ 44.401419493000049, 33.739499354000031 ], [ 44.398213846000033, 33.714171233000059 ], [ 44.391802551000069, 33.678165784000043 ], [ 44.386994081000068, 33.670162525000023 ], [ 44.364554550000037, 33.667494606000048 ], [ 44.346923490000052, 33.66616061600007 ], [ 44.33089525400004, 33.650151118000053 ], [ 44.33089525400004, 33.631469606000053 ], [ 44.327689607000025, 33.608779465000055 ], [ 44.32127831300005, 33.599434729000052 ], [ 44.306852900000081, 33.584748099000024 ], [ 44.310058548000029, 33.532657175000054 ], [ 44.314867018000029, 33.521967975000052 ], [ 44.32127831300005, 33.516622879000067 ], [ 44.327689607000025, 33.50860461700006 ], [ 44.344299115000069, 33.494493901000055 ], [ 44.345320667000067, 33.495239195000067 ], [ 44.55368773500004, 33.492565863000038 ], [ 44.590552678000051, 33.457805036000025 ], [ 44.593758326000057, 33.437744371000065 ], [ 44.595361149000041, 33.409651647000032 ], [ 44.598566796000057, 33.385564935000048 ], [ 44.596963973000072, 33.329336652000052 ], [ 44.598566796000057, 33.318622385000026 ], [ 44.592155502000026, 33.306567261000055 ], [ 44.580935737000061, 33.295850195000071 ], [ 44.56490750100005, 33.289151361000052 ], [ 44.542467970000075, 33.283791923000024 ], [ 44.523234087000048, 33.279772128000047 ], [ 44.479957850000062, 33.275752148000038 ], [ 44.483163497000078, 33.275752148000038 ], [ 44.492780439000057, 33.256989796000028 ], [ 44.492780439000057, 33.240904572000034 ], [ 44.495986086000073, 33.224816388000079 ], [ 44.507205851000037, 33.212748308000073 ], [ 44.528042558000038, 33.202019728000039 ], [ 44.545673617000034, 33.192631142000039 ], [ 44.556893383000045, 33.176534082000046 ], [ 44.566510324000035, 33.142989042000067 ], [ 44.568113148000066, 33.129567433000034 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Kirkuk", "shapeISO": "IQ-KI", "shapeID": "90741666B18027903150762", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.490068760000042, 35.157969887000036 ], [ 44.530947676000039, 35.173055456000043 ], [ 44.553487383000061, 35.177149645000043 ], [ 44.591053561000081, 35.183290542000066 ], [ 44.606080032000079, 35.18943097500005 ], [ 44.621106503000078, 35.201710449000075 ], [ 44.641141798000035, 35.222172114000045 ], [ 44.658672682000031, 35.236492210000051 ], [ 44.676203565000037, 35.252854939000031 ], [ 44.681212389000052, 35.273303707000025 ], [ 44.686221212000078, 35.29579139100008 ], [ 44.693734448000043, 35.326446347000058 ], [ 44.706256507000035, 35.338705076000053 ], [ 44.716274155000065, 35.357089683000027 ], [ 44.728796214000056, 35.377512117000038 ], [ 44.756344745000035, 35.40201221600006 ], [ 44.771371216000034, 35.414259474000062 ], [ 44.78890209900004, 35.426504871000077 ], [ 44.811441806000062, 35.436707947000059 ], [ 44.82646827800005, 35.455070225000043 ], [ 44.82646827800005, 35.471388733000026 ], [ 44.818955042000027, 35.493821274000027 ], [ 44.793910923000055, 35.524401013000045 ], [ 44.778884452000057, 35.546818752000036 ], [ 44.756344745000035, 35.57534135800006 ], [ 44.751335921000077, 35.591635432000032 ], [ 44.74883150900007, 35.620142083000076 ], [ 44.74883150900007, 35.652708673000063 ], [ 44.763857981000058, 35.66695238300008 ], [ 44.776380040000049, 35.681193552000025 ], [ 44.781388864000064, 35.699499892000063 ], [ 44.763857981000058, 35.713735252000049 ], [ 44.746327097000062, 35.732034122000073 ], [ 44.731300626000063, 35.748296255000071 ], [ 44.716274155000065, 35.762522896000064 ], [ 44.706256507000035, 35.782842257000027 ], [ 44.716274155000065, 35.807218636000073 ], [ 44.738813862000029, 35.821434736000072 ], [ 44.738813862000029, 35.841739035000046 ], [ 44.731300626000063, 35.862038138000059 ], [ 44.71126533100005, 35.876244418000056 ], [ 44.701532801000042, 35.881501657000058 ], [ 44.696238860000051, 35.884361148000039 ], [ 44.666185917000064, 35.896534685000063 ], [ 44.638637387000074, 35.902620751000029 ], [ 44.621583343000054, 35.907651546000068 ], [ 44.600041394000073, 35.907651546000068 ], [ 44.576447831000053, 35.904328011000075 ], [ 44.566189760000043, 35.895187572000054 ], [ 44.557983303000071, 35.890201433000072 ], [ 44.543622003000053, 35.870253737000041 ], [ 44.517976826000051, 35.868591203000051 ], [ 44.506692947000033, 35.874409922000041 ], [ 44.487202612000033, 35.881059363000077 ], [ 44.468738084000051, 35.881059363000077 ], [ 44.44309290700005, 35.881059363000077 ], [ 44.41334450100004, 35.880228213000066 ], [ 44.391802551000069, 35.869422474000032 ], [ 44.372312216000068, 35.85196393700005 ], [ 44.348718653000049, 35.848638065000046 ], [ 44.298454105000076, 35.850301019000028 ], [ 44.262550856000075, 35.854458249000061 ], [ 44.244086328000037, 35.86194071500006 ], [ 44.105602369000053, 35.864434713000037 ], [ 44.095344298000043, 35.856121080000037 ], [ 44.075853962000053, 35.836996416000034 ], [ 44.060466856000062, 35.826184783000031 ], [ 44.035847485000033, 35.820362525000064 ], [ 44.018408765000061, 35.821194302000038 ], [ 44.008150693000061, 35.830343278000043 ], [ 44.000970044000042, 35.833669917000066 ], [ 43.985582937000061, 35.842817454000055 ], [ 43.97224744500005, 35.84946954600008 ], [ 43.953782917000069, 35.853626821000034 ], [ 43.94044742400007, 35.861109365000061 ], [ 43.915828054000031, 35.866097335000063 ], [ 43.89326029700004, 35.866097335000063 ], [ 43.838892521000048, 35.867759922000062 ], [ 43.829660257000057, 35.857783877000031 ], [ 43.816324764000058, 35.84032277600005 ], [ 43.804015079000067, 35.831174951000037 ], [ 43.793757008000057, 35.818698944000062 ], [ 43.779395709000028, 35.805389042000058 ], [ 43.773240866000037, 35.786252150000053 ], [ 43.765034409000066, 35.770439937000049 ], [ 43.755802145000075, 35.747964541000044 ], [ 43.748621495000066, 35.716321747000052 ], [ 43.738363424000056, 35.692997962000049 ], [ 43.738363424000056, 35.672167387000059 ], [ 43.735286003000056, 35.657999491000055 ], [ 43.726053739000065, 35.644662703000051 ], [ 43.720924703000037, 35.625487170000042 ], [ 43.713744054000074, 35.609643043000062 ], [ 43.711692440000036, 35.59880051600004 ], [ 43.704511790000026, 35.563760774000059 ], [ 43.695279526000036, 35.556250264000028 ], [ 43.685021455000026, 35.545400506000078 ], [ 43.683995648000064, 35.52787087400003 ], [ 43.682969841000045, 35.504492072000062 ], [ 43.669634348000045, 35.501151687000061 ], [ 43.648092399000063, 35.502821897000047 ], [ 43.636808521000034, 35.511172424000051 ], [ 43.629627871000025, 35.519522083000027 ], [ 43.614240764000044, 35.52870570500005 ], [ 43.599879465000072, 35.529540527000051 ], [ 43.575260094000043, 35.527036034000048 ], [ 43.552692338000043, 35.525366328000075 ], [ 43.547563302000071, 35.517017277000036 ], [ 43.546537495000052, 35.50198679600004 ], [ 43.546537495000052, 35.484447681000063 ], [ 43.544485881000071, 35.459385160000068 ], [ 43.53525361700008, 35.448522309000055 ], [ 43.527047160000052, 35.460220703000061 ], [ 43.516789089000042, 35.467740202000073 ], [ 43.510634247000041, 35.476929745000064 ], [ 43.507556825000052, 35.486953503000052 ], [ 43.49216971900006, 35.496140850000074 ], [ 43.473705191000079, 35.501151687000061 ], [ 43.466524541000069, 35.491964913000061 ], [ 43.460369698000079, 35.471081975000061 ], [ 43.44908582000005, 35.466069263000065 ], [ 43.43267290600005, 35.469411106000052 ], [ 43.424466450000068, 35.476094375000059 ], [ 43.415234186000077, 35.48945924700007 ], [ 43.408053536000068, 35.498646308000048 ], [ 43.390614815000049, 35.51200742900005 ], [ 43.370803915000067, 35.518530607000059 ], [ 43.357981326000072, 35.510702730000048 ], [ 43.340350267000076, 35.502874090000034 ], [ 43.319513560000075, 35.497654573000034 ], [ 43.303485324000064, 35.492434717000037 ], [ 43.271428852000042, 35.485909420000041 ], [ 43.252194969000072, 35.481993987000067 ], [ 43.232961085000056, 35.472857236000038 ], [ 43.224946967000051, 35.465024908000032 ], [ 43.239372380000077, 35.402338833000044 ], [ 43.253797792000057, 35.382739429000026 ], [ 43.266620381000052, 35.360521013000039 ], [ 43.274634499000058, 35.34221890200007 ], [ 43.282648617000063, 35.319989336000049 ], [ 43.289059911000038, 35.304294196000058 ], [ 43.301882500000033, 35.283362607000072 ], [ 43.324322031000065, 35.241483192000032 ], [ 43.337144620000061, 35.223154144000034 ], [ 43.345158738000066, 35.20482095400007 ], [ 43.353172856000072, 35.189103497000076 ], [ 43.374009563000072, 35.17862350300004 ], [ 43.399654740000074, 35.170762620000062 ], [ 43.420491447000074, 35.16683189400004 ], [ 43.441328154000075, 35.164211304000048 ], [ 43.513455216000068, 35.14586481200007 ], [ 43.556731453000054, 35.131446808000078 ], [ 43.579170984000029, 35.120959384000059 ], [ 43.616035927000041, 35.106536971000025 ], [ 43.632064163000052, 35.101291824000043 ], [ 43.665723459000048, 35.093423471000051 ], [ 43.689765813000065, 35.085554358000024 ], [ 43.72182228500003, 35.077684487000056 ], [ 43.750673110000037, 35.067190144000051 ], [ 43.774715464000053, 35.051446099000032 ], [ 43.805169112000044, 35.018636257000026 ], [ 43.853253820000077, 34.973993737000058 ], [ 43.869282056000031, 34.952977067000063 ], [ 43.883707469000058, 34.937211028000036 ], [ 43.906146999000043, 34.916184927000074 ], [ 43.928586530000075, 34.906984313000066 ], [ 43.963848649000056, 34.900411815000041 ], [ 44.000713592000068, 34.893838791000064 ], [ 44.024755946000028, 34.888579993000064 ], [ 44.05200394700006, 34.878061388000049 ], [ 44.106499950000057, 34.841235669000071 ], [ 44.140159246000053, 34.814921491000064 ], [ 44.154584658000033, 34.804393466000079 ], [ 44.175421365000034, 34.795180341000048 ], [ 44.19305242400003, 34.783333382000023 ], [ 44.212286308000046, 34.770168098000056 ], [ 44.229917367000041, 34.753050088000066 ], [ 44.252356898000073, 34.743831228000033 ], [ 44.271590781000043, 34.749099274000059 ], [ 44.318072666000035, 34.810973640000043 ], [ 44.380582786000048, 34.930640950000054 ], [ 44.414242082000044, 34.988439570000025 ], [ 44.451107025000056, 35.05013395800006 ], [ 44.460723966000046, 35.07374926600005 ], [ 44.467135261000067, 35.109159418000047 ], [ 44.473546555000041, 35.135379244000035 ], [ 44.487971968000068, 35.158969871000068 ], [ 44.490068760000042, 35.157969887000036 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Erbil", "shapeISO": "IQ-AR", "shapeID": "90741666B26956950402634", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 43.322277968000037, 35.738325517000078 ], [ 43.33554179600003, 35.725690990000032 ], [ 43.341953090000061, 35.711376425000026 ], [ 43.343555914000035, 35.691852421000078 ], [ 43.341953090000061, 35.672323637000034 ], [ 43.340350267000076, 35.657999491000055 ], [ 43.33554179600003, 35.646277823000048 ], [ 43.329130502000055, 35.63455443600003 ], [ 43.321116384000049, 35.620223516000067 ], [ 43.313102266000044, 35.603283662000024 ], [ 43.309896618000039, 35.591553970000064 ], [ 43.309896618000039, 35.578518963000079 ], [ 43.314705089000029, 35.568089429000054 ], [ 43.332336149000071, 35.556354581000051 ], [ 43.351570032000041, 35.548530395000057 ], [ 43.361186974000077, 35.540705445000071 ], [ 43.369201092000026, 35.52896658800006 ], [ 43.370803915000067, 35.518530607000059 ], [ 43.390614815000049, 35.51200742900005 ], [ 43.408053536000068, 35.498646308000048 ], [ 43.415234186000077, 35.48945924700007 ], [ 43.424466450000068, 35.476094375000059 ], [ 43.43267290600005, 35.469411106000052 ], [ 43.44908582000005, 35.466069263000065 ], [ 43.460369698000079, 35.471081975000061 ], [ 43.466524541000069, 35.491964913000061 ], [ 43.473705191000079, 35.501151687000061 ], [ 43.49216971900006, 35.496140850000074 ], [ 43.507556825000052, 35.486953503000052 ], [ 43.510634247000041, 35.476929745000064 ], [ 43.516789089000042, 35.467740202000073 ], [ 43.527047160000052, 35.460220703000061 ], [ 43.53525361700008, 35.448522309000055 ], [ 43.544485881000071, 35.459385160000068 ], [ 43.546537495000052, 35.484447681000063 ], [ 43.546537495000052, 35.50198679600004 ], [ 43.547563302000071, 35.517017277000036 ], [ 43.552692338000043, 35.525366328000075 ], [ 43.575260094000043, 35.527036034000048 ], [ 43.599879465000072, 35.529540527000051 ], [ 43.614240764000044, 35.52870570500005 ], [ 43.629627871000025, 35.519522083000027 ], [ 43.636808521000034, 35.511172424000051 ], [ 43.648092399000063, 35.502821897000047 ], [ 43.669634348000045, 35.501151687000061 ], [ 43.682969841000045, 35.504492072000062 ], [ 43.683995648000064, 35.52787087400003 ], [ 43.685021455000026, 35.545400506000078 ], [ 43.695279526000036, 35.556250264000028 ], [ 43.704511790000026, 35.563760774000059 ], [ 43.711692440000036, 35.59880051600004 ], [ 43.713744054000074, 35.609643043000062 ], [ 43.720924703000037, 35.625487170000042 ], [ 43.726053739000065, 35.644662703000051 ], [ 43.735286003000056, 35.657999491000055 ], [ 43.738363424000056, 35.672167387000059 ], [ 43.738363424000056, 35.692997962000049 ], [ 43.748621495000066, 35.716321747000052 ], [ 43.755802145000075, 35.747964541000044 ], [ 43.765034409000066, 35.770439937000049 ], [ 43.773240866000037, 35.786252150000053 ], [ 43.779395709000028, 35.805389042000058 ], [ 43.793757008000057, 35.818698944000062 ], [ 43.804015079000067, 35.831174951000037 ], [ 43.816324764000058, 35.84032277600005 ], [ 43.829660257000057, 35.857783877000031 ], [ 43.838892521000048, 35.867759922000062 ], [ 43.89326029700004, 35.866097335000063 ], [ 43.915828054000031, 35.866097335000063 ], [ 43.94044742400007, 35.861109365000061 ], [ 43.953782917000069, 35.853626821000034 ], [ 43.97224744500005, 35.84946954600008 ], [ 43.985582937000061, 35.842817454000055 ], [ 44.000970044000042, 35.833669917000066 ], [ 44.008150693000061, 35.830343278000043 ], [ 44.018408765000061, 35.821194302000038 ], [ 44.035847485000033, 35.820362525000064 ], [ 44.060466856000062, 35.826184783000031 ], [ 44.075853962000053, 35.836996416000034 ], [ 44.095344298000043, 35.856121080000037 ], [ 44.105602369000053, 35.864434713000037 ], [ 44.244086328000037, 35.86194071500006 ], [ 44.262550856000075, 35.854458249000061 ], [ 44.298454105000076, 35.850301019000028 ], [ 44.348718653000049, 35.848638065000046 ], [ 44.372312216000068, 35.85196393700005 ], [ 44.391802551000069, 35.869422474000032 ], [ 44.41334450100004, 35.880228213000066 ], [ 44.44309290700005, 35.881059363000077 ], [ 44.468738084000051, 35.881059363000077 ], [ 44.487202612000033, 35.881059363000077 ], [ 44.506692947000033, 35.874409922000041 ], [ 44.517976826000051, 35.868591203000051 ], [ 44.543622003000053, 35.870253737000041 ], [ 44.557983303000071, 35.890201433000072 ], [ 44.566189760000043, 35.895187572000054 ], [ 44.576447831000053, 35.904328011000075 ], [ 44.600041394000073, 35.907651546000068 ], [ 44.621583343000054, 35.907651546000068 ], [ 44.638637387000074, 35.902620751000029 ], [ 44.666185917000064, 35.896534685000063 ], [ 44.696238860000051, 35.884361148000039 ], [ 44.701532801000042, 35.881501657000058 ], [ 44.726792685000078, 35.90116013800008 ], [ 44.749232215000063, 35.903756765000026 ], [ 44.776480217000028, 35.902458462000027 ], [ 44.790905629000065, 35.886877166000033 ], [ 44.80853668900005, 35.885578586000065 ], [ 44.819756454000071, 35.89336974500003 ], [ 44.832579043000067, 35.898563425000077 ], [ 44.855018573000052, 35.882981363000056 ], [ 44.864635515000032, 35.895966628000053 ], [ 44.874252456000079, 35.908949763000066 ], [ 44.887075045000074, 35.914142421000065 ], [ 44.909514576000049, 35.899861792000024 ], [ 44.911117399000034, 35.910247960000049 ], [ 44.911117399000034, 35.920632764000061 ], [ 44.903103281000028, 35.932314039000062 ], [ 44.880663751000043, 35.94139828200008 ], [ 44.863032691000058, 35.949183945000073 ], [ 44.845401632000062, 35.964752970000063 ], [ 44.797316923000039, 35.986803835000046 ], [ 44.779685864000044, 36.001068758000031 ], [ 44.760451980000028, 36.012738140000067 ], [ 44.746026568000048, 36.024405795000064 ], [ 44.736409626000068, 36.041256024000063 ], [ 44.725189861000047, 36.054215286000044 ], [ 44.712367272000051, 36.064581159000056 ], [ 44.693133389000025, 36.082718151000051 ], [ 44.659474093000028, 36.112505557000077 ], [ 44.635431739000069, 36.122863746000064 ], [ 44.622609150000073, 36.137104026000031 ], [ 44.598566796000057, 36.157812547000049 ], [ 44.593758326000057, 36.169458687000031 ], [ 44.593758326000057, 36.183690508000041 ], [ 44.595361149000041, 36.204386725000063 ], [ 44.603375267000047, 36.239299183000071 ], [ 44.622609150000073, 36.241884671000037 ], [ 44.70114750700003, 36.244470074000048 ], [ 44.734806803000026, 36.245762743000057 ], [ 44.738012450000042, 36.258688259000053 ], [ 44.733203979000052, 36.279364637000072 ], [ 44.709161625000036, 36.28970077300005 ], [ 44.68191362400006, 36.293576471000051 ], [ 44.664282564000075, 36.300035540000067 ], [ 44.659474093000028, 36.320700966000061 ], [ 44.65145997500008, 36.33748759100007 ], [ 44.630623268000079, 36.33877872000005 ], [ 44.612992209000026, 36.327157788000079 ], [ 44.595361149000041, 36.318118087000073 ], [ 44.571318795000025, 36.325866467000026 ], [ 44.572921619000056, 36.454892656000027 ], [ 44.611612498000056, 36.455637289000038 ], [ 44.616208114000074, 36.458805510000047 ], [ 44.628025412000056, 36.464613578000069 ], [ 44.64115574300007, 36.474116751000054 ], [ 44.644438326000056, 36.485730158000024 ], [ 44.668072921000032, 36.50736868000007 ], [ 44.67398157000008, 36.518977102000065 ], [ 44.691051001000062, 36.523725500000069 ], [ 44.712716047000072, 36.526363373000038 ], [ 44.729785477000064, 36.525308235000068 ], [ 44.744228841000051, 36.515811342000063 ], [ 44.75998523800007, 36.496286290000057 ], [ 44.784276351000074, 36.484146614000053 ], [ 44.815132628000072, 36.484146614000053 ], [ 44.84073677400005, 36.497341824000046 ], [ 44.853867105000063, 36.505257871000026 ], [ 44.884066866000069, 36.520032327000024 ], [ 44.901792813000043, 36.526363373000038 ], [ 44.925427408000076, 36.52847360700008 ], [ 44.964161885000067, 36.527418497000042 ], [ 44.997644229000059, 36.530056244000036 ], [ 45.002239845000076, 36.533748939000077 ], [ 45.003450298000075, 36.534721539000031 ], [ 45.007491977000029, 36.537968945000046 ], [ 45.010118043000034, 36.545880837000027 ], [ 45.01865275800003, 36.551154981000025 ], [ 45.029157023000039, 36.556428766000067 ], [ 45.038348255000074, 36.560120201000075 ], [ 45.042287354000052, 36.569084381000039 ], [ 45.040974321000078, 36.580156343000056 ], [ 45.038348255000074, 36.587009619000071 ], [ 45.033752639000056, 36.596497766000027 ], [ 45.048196003000044, 36.608619812000029 ], [ 45.056074202000048, 36.613362703000064 ], [ 45.065921950000075, 36.619686104000039 ], [ 45.071174082000027, 36.627062749000061 ], [ 45.071174082000027, 36.632858189000046 ], [ 45.070517566000035, 36.642867468000077 ], [ 45.071174082000027, 36.651822037000045 ], [ 45.071830599000066, 36.666568468000037 ], [ 45.064608917000044, 36.689209273000074 ], [ 45.058043751000071, 36.696579260000078 ], [ 45.052135102000079, 36.702369468000029 ], [ 45.042943871000034, 36.719737476000034 ], [ 45.036378705000061, 36.729735457000061 ], [ 45.027843990000065, 36.739732137000033 ], [ 45.004209394000043, 36.746045159000062 ], [ 44.998300745000051, 36.747097278000069 ], [ 44.981231315000059, 36.752357661000076 ], [ 44.972696600000063, 36.759721591000073 ], [ 44.962192335000054, 36.766558892000035 ], [ 44.949062004000041, 36.772343825000064 ], [ 44.934618640000053, 36.773921459000064 ], [ 44.922801342000071, 36.77339558500006 ], [ 44.904418879000048, 36.773921459000064 ], [ 44.886692932000074, 36.772869707000041 ], [ 44.855836654000029, 36.770766160000051 ], [ 44.845332390000067, 36.779180002000032 ], [ 44.843362840000054, 36.792324781000048 ], [ 44.858462720000034, 36.819133138000041 ], [ 44.871593051000048, 36.828592670000035 ], [ 44.893258098000047, 36.844881345000033 ], [ 44.903762362000066, 36.85381237100006 ], [ 44.910984044000031, 36.866419103000055 ], [ 44.912297077000062, 36.881649462000041 ], [ 44.908357978000026, 36.897401810000076 ], [ 44.89982326300003, 36.907376615000032 ], [ 44.895884164000051, 36.917350117000069 ], [ 44.896540680000044, 36.929421558000058 ], [ 44.89522764700007, 36.969820733000063 ], [ 44.896540680000044, 36.983981603000075 ], [ 44.887349449000055, 37.003382960000067 ], [ 44.878158217000077, 37.00600438500004 ], [ 44.855180138000037, 37.01439233800005 ], [ 44.842706323000073, 37.020158519000063 ], [ 44.804628364000052, 37.023827680000068 ], [ 44.792154549000031, 37.03955064400003 ], [ 44.778367702000025, 37.063128987000027 ], [ 44.767863437000074, 37.075177311000061 ], [ 44.751450523000074, 37.086176283000043 ], [ 44.759328722000078, 37.094031715000028 ], [ 44.771802536000052, 37.101886332000049 ], [ 44.781650284000079, 37.112357889000066 ], [ 44.780337251000049, 37.12858594000005 ], [ 44.770489503000078, 37.135390216000076 ], [ 44.745541874000025, 37.13696034700007 ], [ 44.720594245000029, 37.135390216000076 ], [ 44.706150881000042, 37.134866832000057 ], [ 44.681859769000027, 37.140100510000025 ], [ 44.666759888000058, 37.142717214000072 ], [ 44.658225173000062, 37.147427052000069 ], [ 44.644438326000056, 37.148473643000045 ], [ 44.618177664000029, 37.147950349000041 ], [ 44.592573518000052, 37.142193880000036 ], [ 44.581412737000051, 37.133296658000063 ], [ 44.568282406000037, 37.121257573000037 ], [ 44.55515207500008, 37.111310798000034 ], [ 44.545304327000053, 37.098220946000026 ], [ 44.530860963000066, 37.093508045000078 ], [ 44.505256817000031, 37.083033883000041 ], [ 44.490813453000044, 37.066796071000056 ], [ 44.475713573000064, 37.056318218000058 ], [ 44.455361560000028, 37.044790909000028 ], [ 44.42516179900008, 37.036930376000043 ], [ 44.412031468000066, 37.032737759000042 ], [ 44.364105760000029, 37.032213666000075 ], [ 44.353601495000078, 37.026972533000048 ], [ 44.350318912000034, 37.00914997600006 ], [ 44.337188581000078, 36.982932740000024 ], [ 44.322745217000033, 36.976114778000067 ], [ 44.310927919000051, 36.960903278000046 ], [ 44.297797588000037, 36.955657228000064 ], [ 44.279415125000071, 36.955657228000064 ], [ 44.257750079000061, 36.959854097000061 ], [ 44.255124012000067, 36.964050734000068 ], [ 44.248558847000027, 36.986603697000078 ], [ 44.239367615000049, 36.99394508000006 ], [ 44.236741549000044, 37.001810061000072 ], [ 44.234115483000039, 37.015964977000067 ], [ 44.22886335100003, 37.025400123000054 ], [ 44.217046053000047, 37.031689569000036 ], [ 44.201289656000029, 37.058413905000066 ], [ 44.194724490000056, 37.074653511000065 ], [ 44.196694040000068, 37.094555382000067 ], [ 44.210480887000074, 37.106075129000033 ], [ 44.221641669000064, 37.114975552000033 ], [ 44.227550317000066, 37.121781051000028 ], [ 44.260376145000066, 37.12230452600005 ], [ 44.270880410000075, 37.128062508000028 ], [ 44.272193443000049, 37.14114720300006 ], [ 44.27810209200004, 37.171494978000055 ], [ 44.270880410000075, 37.193463347000034 ], [ 44.264315244000045, 37.207582496000043 ], [ 44.251184913000031, 37.219607837000069 ], [ 44.24068064800008, 37.229540367000027 ], [ 44.226893801000074, 37.237903589000041 ], [ 44.209167854000043, 37.243130132000033 ], [ 44.185533258000078, 37.24992409500004 ], [ 44.170433378000041, 37.253582129000051 ], [ 44.162555179000037, 37.257239986000059 ], [ 44.147455299000057, 37.268212490000053 ], [ 44.131042385000057, 37.275526605000039 ], [ 44.115942504000031, 37.279705780000029 ], [ 44.090994875000035, 37.284407075000047 ], [ 44.058415242000081, 37.281338207000033 ], [ 44.066621699000052, 37.270726798000055 ], [ 44.075853963000043, 37.257664547000047 ], [ 44.087137841000072, 37.247866373000079 ], [ 44.091241069000034, 37.242966808000062 ], [ 44.092266876000053, 37.152267413000061 ], [ 44.086112033000063, 37.152267413000061 ], [ 44.076879770000062, 37.152267413000061 ], [ 44.057389434000072, 37.150632191000057 ], [ 44.047437990000049, 37.146432883000045 ], [ 44.035975711000049, 37.133869121000032 ], [ 44.031167240000059, 37.122367915000041 ], [ 44.019947475000038, 37.109586749000073 ], [ 43.999110768000037, 37.092968006000035 ], [ 43.975068414000077, 37.076345619000051 ], [ 43.954231707000076, 37.063556686000027 ], [ 43.939806295000039, 37.052044804000047 ], [ 43.91576394100008, 37.039251774000036 ], [ 43.893324410000048, 37.027736205000053 ], [ 43.867679233000047, 37.017498677000049 ], [ 43.853253820000077, 37.003419824000048 ], [ 43.82860239300004, 36.981477214000051 ], [ 43.832737678000058, 36.980376076000027 ], [ 43.855305435000048, 36.968083223000065 ], [ 43.889157069000078, 36.954968657000052 ], [ 43.91993128200005, 36.94677090700003 ], [ 43.948653881000041, 36.935292574000073 ], [ 43.974299059000032, 36.926272671000049 ], [ 43.996866815000033, 36.913150907000045 ], [ 44.020460379000042, 36.894284416000062 ], [ 44.025589414000081, 36.880336620000037 ], [ 44.044053942000062, 36.87131021700003 ], [ 44.053286206000053, 36.858999768000047 ], [ 44.058415242000081, 36.842582750000076 ], [ 44.075853962000053, 36.839298924000047 ], [ 44.104576561000044, 36.835193942000046 ], [ 44.122015282000064, 36.824519959000042 ], [ 44.132273353000073, 36.817129407000039 ], [ 44.156892724000045, 36.815486965000048 ], [ 44.192795973000045, 36.801524785000026 ], [ 44.207157272000074, 36.79577491200007 ], [ 44.234854064000046, 36.788381584000035 ], [ 44.259473435000075, 36.775236128000074 ], [ 44.267679891000057, 36.749760392000042 ], [ 44.271783120000066, 36.741540608000037 ], [ 44.283066998000038, 36.733319943000026 ], [ 44.296402490000048, 36.725098398000057 ], [ 44.302557333000038, 36.716053681000062 ], [ 44.298454105000076, 36.707007900000065 ], [ 44.288196034000066, 36.69960601400004 ], [ 44.276912155000048, 36.694671028000073 ], [ 44.267679891000057, 36.684800104000033 ], [ 44.257421820000047, 36.674105174000033 ], [ 44.250241171000027, 36.663408756000024 ], [ 44.235879871000066, 36.646949827000071 ], [ 44.229725029000065, 36.640365270000075 ], [ 44.212286308000046, 36.63542648300006 ], [ 44.194847587000027, 36.623901416000024 ], [ 44.181512094000027, 36.609904374000052 ], [ 44.170228216000055, 36.603316652000046 ], [ 44.151763688000074, 36.602493147000075 ], [ 44.141505617000064, 36.592610403000037 ], [ 44.126118511000072, 36.586844884000072 ], [ 44.115860440000063, 36.59837549100007 ], [ 44.106628176000072, 36.595904791000066 ], [ 44.092266876000053, 36.588492219000045 ], [ 44.066621699000052, 36.588492219000045 ], [ 44.046105556000043, 36.604140148000056 ], [ 44.029692643000033, 36.60002257900004 ], [ 44.014305536000052, 36.593434013000035 ], [ 43.980453902000079, 36.567074122000065 ], [ 43.961989374000041, 36.551418679000051 ], [ 43.95275711000005, 36.539056878000054 ], [ 43.94249903900004, 36.530814580000026 ], [ 43.927111932000059, 36.525044448000074 ], [ 43.918905475000031, 36.511853959000064 ], [ 43.90044094700005, 36.497011971000063 ], [ 43.87376996200004, 36.493713365000076 ], [ 43.864537698000049, 36.487940467000044 ], [ 43.866589313000077, 36.468969343000026 ], [ 43.859408663000067, 36.456594370000062 ], [ 43.846073171000057, 36.452468939000028 ], [ 43.828634450000038, 36.443392221000067 ], [ 43.823505414000067, 36.431838497000058 ], [ 43.815298957000039, 36.407900313000027 ], [ 43.811195729000076, 36.389735390000055 ], [ 43.806066693000048, 36.378173683000057 ], [ 43.789653780000037, 36.365784232000067 ], [ 43.773240866000037, 36.350088096000036 ], [ 43.756827952000037, 36.333562427000061 ], [ 43.740415039000027, 36.317033253000034 ], [ 43.721950511000045, 36.302980698000056 ], [ 43.709640825000065, 36.294713306000062 ], [ 43.683995648000064, 36.282310575000054 ], [ 43.657324663000054, 36.273213987000076 ], [ 43.625524643000062, 36.246745157000078 ], [ 43.619369800000072, 36.239299183000071 ], [ 43.588787926000066, 36.206973367000046 ], [ 43.579170984000029, 36.194039300000043 ], [ 43.56474557100006, 36.182396813000025 ], [ 43.542306041000074, 36.157812547000049 ], [ 43.540703217000043, 36.144870362000063 ], [ 43.529483452000079, 36.128042329000039 ], [ 43.518263687000058, 36.102146001000051 ], [ 43.511852393000026, 36.084013490000075 ], [ 43.505441098000063, 36.068468009000071 ], [ 43.492618509000067, 36.047735922000072 ], [ 43.479795920000072, 36.034775593000063 ], [ 43.463767684000061, 36.026998373000026 ], [ 43.442930978000049, 36.021813132000034 ], [ 43.418888623000043, 36.016627550000067 ], [ 43.402860387000032, 36.007551961000047 ], [ 43.401257564000048, 35.997178580000025 ], [ 43.407668858000079, 35.979021880000062 ], [ 43.415682976000028, 35.959563636000041 ], [ 43.417285800000059, 35.93620741400008 ], [ 43.417285800000059, 35.925824655000042 ], [ 43.406066035000038, 35.912844289000077 ], [ 43.391640622000068, 35.902458462000027 ], [ 43.378818033000073, 35.886877166000033 ], [ 43.367598268000052, 35.869993969000063 ], [ 43.353172856000072, 35.838815537000073 ], [ 43.351570032000041, 35.819322791000047 ], [ 43.349967208000066, 35.797225225000034 ], [ 43.33554179600003, 35.78162324200008 ], [ 43.327527678000081, 35.766018196000061 ], [ 43.322277968000037, 35.738325517000078 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Al-Sulaimaniyah", "shapeISO": "IQ-SU", "shapeID": "90741666B75227633199275", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.912720223000065, 34.872801580000043 ], [ 44.928299668000079, 34.865647702000047 ], [ 44.941635161000079, 34.863122655000041 ], [ 44.95702226700007, 34.861439248000067 ], [ 44.982667445000061, 34.865647702000047 ], [ 44.997028744000033, 34.874063965000062 ], [ 45.012415851000071, 34.886686744000031 ], [ 45.030880379000052, 34.899307584000042 ], [ 45.046267486000033, 34.895100853000031 ], [ 45.060628785000063, 34.884162343000071 ], [ 45.067809435000072, 34.872380781000061 ], [ 45.077041699000063, 34.860597531000053 ], [ 45.081144927000025, 34.847128892000057 ], [ 45.091402998000035, 34.83618399900007 ], [ 45.106790105000073, 34.842077583000048 ], [ 45.117048176000026, 34.847970746000044 ], [ 45.140641739000046, 34.853021693000073 ], [ 45.151925618000064, 34.863964346000046 ], [ 45.168338531000074, 34.864806028000032 ], [ 45.187828866000075, 34.853863487000069 ], [ 45.195009516000027, 34.842077583000048 ], [ 45.195009516000027, 34.828605913000047 ], [ 45.200138552000055, 34.812605441000073 ], [ 45.207319201000075, 34.801655959000072 ], [ 45.205267587000037, 34.78480776300006 ], [ 45.213474044000066, 34.775539787000071 ], [ 45.224757922000038, 34.768798788000026 ], [ 45.236041800000066, 34.755315136000036 ], [ 45.240145029000075, 34.735928530000024 ], [ 45.243222450000076, 34.723282640000036 ], [ 45.249377293000066, 34.714850971000033 ], [ 45.251428907000047, 34.698828433000074 ], [ 45.252454714000066, 34.679428578000056 ], [ 45.251428907000047, 34.66086794000006 ], [ 45.258609557000057, 34.649054461000048 ], [ 45.266816014000028, 34.637239297000065 ], [ 45.284254734000058, 34.633863227000063 ], [ 45.306822491000048, 34.652429912000059 ], [ 45.326312826000049, 34.670148779000044 ], [ 45.337596704000077, 34.681115702000056 ], [ 45.350932196000031, 34.692924611000024 ], [ 45.369396724000069, 34.696298275000061 ], [ 45.39811932300006, 34.696298275000061 ], [ 45.421712887000069, 34.698828433000074 ], [ 45.446332257000051, 34.715694177000046 ], [ 45.469925821000061, 34.734242523000034 ], [ 45.469925821000061, 34.755315136000036 ], [ 45.476080663000062, 34.788177677000078 ], [ 45.479158085000051, 34.80502518600008 ], [ 45.48736454200008, 34.822711364000043 ], [ 45.501725841000052, 34.837025965000066 ], [ 45.514035526000043, 34.847128892000057 ], [ 45.526345212000081, 34.857230578000042 ], [ 45.535577476000071, 34.865647702000047 ], [ 45.540706511000053, 34.877430229000026 ], [ 45.544809740000062, 34.910244077000073 ], [ 45.563274268000043, 34.925384509000025 ], [ 45.580712988000073, 34.943044816000054 ], [ 45.601229130000036, 34.950612354000043 ], [ 45.612513009000054, 34.956497735000028 ], [ 45.615590430000054, 34.97835402000004 ], [ 45.630977537000035, 34.990960763000032 ], [ 45.628925922000064, 35.001885036000033 ], [ 45.618667851000055, 35.009447140000077 ], [ 45.607383973000026, 35.025409287000059 ], [ 45.608409780000045, 35.043048034000037 ], [ 45.630977537000035, 35.060682973000041 ], [ 45.637132379000036, 35.076635113000066 ], [ 45.652519486000074, 35.088387326000031 ], [ 45.667906592000065, 35.095941426000024 ], [ 45.684319506000065, 35.104334050000034 ], [ 45.697654999000065, 35.128667773000075 ], [ 45.702784034000047, 35.143767806000028 ], [ 45.706887262000066, 35.158026378000045 ], [ 45.723300176000066, 35.159703692000051 ], [ 45.733558247000076, 35.16725118100004 ], [ 45.747919547000038, 35.174797968000064 ], [ 45.764332460000048, 35.172282450000068 ], [ 45.771513110000058, 35.155510341000024 ], [ 45.771513110000058, 35.119438595000076 ], [ 45.771513110000058, 35.038008780000041 ], [ 45.78279698800003, 35.016168424000057 ], [ 45.791003445000058, 35.003565564000041 ], [ 45.795106674000067, 34.980875524000055 ], [ 45.794531307000057, 34.942209687000059 ], [ 45.820751851000068, 34.940522147000024 ], [ 45.836138958000049, 34.938840326000047 ], [ 45.847422836000078, 34.933794653000064 ], [ 45.856655100000069, 34.929589689000068 ], [ 45.862809943000059, 34.932112693000079 ], [ 45.869990592000079, 34.944726551000031 ], [ 45.87511962800005, 34.957338469000035 ], [ 45.87819704900005, 34.975832439000044 ], [ 45.887429313000041, 34.989279976000034 ], [ 45.895635770000069, 34.997683565000045 ], [ 45.90179061300006, 35.010287331000029 ], [ 45.90179061300006, 35.022049094000067 ], [ 45.88845512000006, 35.041368317000035 ], [ 45.88127447100004, 35.05060633100004 ], [ 45.882300278000059, 35.060682973000041 ], [ 45.88537769900006, 35.072437484000034 ], [ 45.899738999000078, 35.082511431000057 ], [ 45.919229334000079, 35.08335087100005 ], [ 45.932564826000032, 35.085869137000032 ], [ 45.936668054000052, 35.103494827000077 ], [ 45.938719669000079, 35.122794781000039 ], [ 45.953080968000052, 35.120277655000052 ], [ 45.975648724000052, 35.106012471000042 ], [ 45.987958410000033, 35.097620020000079 ], [ 46.007448745000033, 35.095941426000024 ], [ 46.021810044000063, 35.094262798000045 ], [ 46.035145537000062, 35.088387326000031 ], [ 46.047455222000053, 35.075795605000053 ], [ 46.068997171000035, 35.078314104000071 ], [ 46.077203628000063, 35.094262798000045 ], [ 46.077203628000063, 35.110208373000034 ], [ 46.084384278000073, 35.120277655000052 ], [ 46.106952034000074, 35.115243169000053 ], [ 46.135674633000065, 35.114404058000048 ], [ 46.159716987000081, 35.127514183000073 ], [ 46.156511340000066, 35.132757642000058 ], [ 46.14849722200006, 35.144554190000065 ], [ 46.16292263400004, 35.172072820000039 ], [ 46.164525458000071, 35.183863669000061 ], [ 46.175745223000035, 35.191723284000034 ], [ 46.191773459000046, 35.196962606000056 ], [ 46.186964989000046, 35.206130605000055 ], [ 46.177348047000066, 35.217916512000045 ], [ 46.159716987000081, 35.225772833000065 ], [ 46.137277457000039, 35.221844768000039 ], [ 46.135674633000065, 35.225772833000065 ], [ 46.124454868000043, 35.23362839300006 ], [ 46.124454868000043, 35.24410129000006 ], [ 46.132468986000049, 35.261116863000041 ], [ 46.145291575000044, 35.274203334000049 ], [ 46.15330569300005, 35.289904310000054 ], [ 46.14368875100007, 35.300369935000049 ], [ 46.129263339000033, 35.319989336000049 ], [ 46.114837926000064, 35.339603976000035 ], [ 46.098809690000053, 35.346141132000071 ], [ 46.082781454000042, 35.353985021000028 ], [ 46.074767336000036, 35.368363506000037 ], [ 46.057136277000041, 35.384046204000072 ], [ 46.04110804000004, 35.395806228000026 ], [ 46.023476981000044, 35.414096189000077 ], [ 46.010654392000049, 35.427157907000037 ], [ 45.996228980000069, 35.463719446000027 ], [ 45.988214862000063, 35.476773114000025 ], [ 45.978597920000027, 35.495044688000064 ], [ 45.986612038000032, 35.510702730000048 ], [ 46.002640274000044, 35.515921399000035 ], [ 46.009051568000075, 35.526357720000078 ], [ 45.997831803000054, 35.542009656000062 ], [ 45.989817685000048, 35.548530395000057 ], [ 45.972186625000063, 35.561570282000048 ], [ 45.972571303000052, 35.576276728000039 ], [ 45.988984217000052, 35.577111055000046 ], [ 45.993087445000072, 35.574608047000027 ], [ 46.011551973000053, 35.568767390000062 ], [ 46.015655202000062, 35.574608047000027 ], [ 46.011551973000053, 35.592127462000064 ], [ 46.011551973000053, 35.601302768000039 ], [ 46.014629395000043, 35.61881634100007 ], [ 46.011551973000053, 35.629656156000067 ], [ 45.988984217000052, 35.628822376000073 ], [ 45.986932603000071, 35.637159782000026 ], [ 45.998216481000043, 35.646329923000053 ], [ 46.010526166000034, 35.652998456000034 ], [ 46.014629395000043, 35.663000212000043 ], [ 46.017706816000043, 35.674667343000067 ], [ 46.028990694000072, 35.683833179000032 ], [ 46.046429415000034, 35.691331716000036 ], [ 46.064893943000072, 35.695497265000029 ], [ 46.093616542000063, 35.692997962000049 ], [ 46.114132684000026, 35.693831071000034 ], [ 46.127468176000036, 35.699662597000042 ], [ 46.145932704000074, 35.699662597000042 ], [ 46.158242390000055, 35.694664173000035 ], [ 46.170552075000046, 35.701328668000031 ], [ 46.179784339000037, 35.711324368000078 ], [ 46.203377902000057, 35.720485991000032 ], [ 46.217739202000075, 35.720485991000032 ], [ 46.241332765000038, 35.721318814000028 ], [ 46.251590836000048, 35.726315567000029 ], [ 46.274158593000038, 35.734642792000045 ], [ 46.282365049000077, 35.740471331000037 ], [ 46.287494085000048, 35.750462120000066 ], [ 46.308010227000068, 35.760451656000043 ], [ 46.315190877000077, 35.765445953000039 ], [ 46.326474755000049, 35.774601350000069 ], [ 46.340836055000068, 35.787084285000049 ], [ 46.340836055000068, 35.799565259000076 ], [ 46.33570701900004, 35.815371678000076 ], [ 46.328526369000031, 35.823689582000043 ], [ 46.314165070000058, 35.828679906000048 ], [ 46.270055364000029, 35.816203507000068 ], [ 46.260823100000039, 35.807052902000066 ], [ 46.229023080000047, 35.808716727000046 ], [ 46.210558552000066, 35.806220976000077 ], [ 46.193119831000047, 35.803725148000069 ], [ 46.172603689000027, 35.806220976000077 ], [ 46.151061740000046, 35.817867141000079 ], [ 46.143881090000036, 35.827848207000045 ], [ 46.141829476000055, 35.84032277600005 ], [ 46.129519791000064, 35.842817454000055 ], [ 46.107977841000036, 35.848638065000046 ], [ 46.095668156000045, 35.857783877000031 ], [ 46.063868136000053, 35.860278006000044 ], [ 46.039248765000025, 35.846975077000025 ], [ 46.014629395000043, 35.838659614000051 ], [ 45.995139060000042, 35.838659614000051 ], [ 45.969493882000052, 35.845312054000033 ], [ 45.953080968000052, 35.842817454000055 ], [ 45.93769386200006, 35.830343278000043 ], [ 45.928461598000069, 35.829511597000078 ], [ 45.903842227000041, 35.838659614000051 ], [ 45.86178413600004, 35.818698944000062 ], [ 45.85562929300005, 35.815371678000076 ], [ 45.83511315100003, 35.816203507000068 ], [ 45.822803466000039, 35.814539839000076 ], [ 45.807416359000058, 35.821194302000038 ], [ 45.785874410000076, 35.816203507000068 ], [ 45.777667953000048, 35.802893187000052 ], [ 45.762280846000067, 35.801229240000055 ], [ 45.743816318000029, 35.818698944000062 ], [ 45.737661476000028, 35.828679906000048 ], [ 45.728429212000037, 35.852795383000057 ], [ 45.719196948000047, 35.86277205600004 ], [ 45.712016298000037, 35.869422474000032 ], [ 45.705861455000047, 35.880228213000066 ], [ 45.698680806000027, 35.88937037900007 ], [ 45.684319506000065, 35.898511490000033 ], [ 45.676113049000037, 35.905989796000028 ], [ 45.670984014000055, 35.918452068000079 ], [ 45.645338836000064, 35.945862156000032 ], [ 45.637132379000036, 35.958318145000078 ], [ 45.627900115000045, 35.967451289000053 ], [ 45.607383973000026, 35.971602369000038 ], [ 45.595074288000035, 35.976583376000065 ], [ 45.589945252000064, 35.984884357000055 ], [ 45.580712988000073, 35.987374481000074 ], [ 45.571480724000025, 35.990694524000048 ], [ 45.560196846000053, 35.999823922000076 ], [ 45.542758125000034, 36.003973299000052 ], [ 45.517112948000033, 36.005632989000048 ], [ 45.493519384000081, 36.003973299000052 ], [ 45.476080663000062, 35.99733419100005 ], [ 45.462745171000051, 35.99318446500007 ], [ 45.43812580000008, 35.99235449300005 ], [ 45.415558044000079, 35.980733976000067 ], [ 45.405299973000069, 35.969941963000053 ], [ 45.38786125200005, 35.974923075000049 ], [ 45.36426768900003, 35.979903873000069 ], [ 45.357087039000078, 35.989034520000075 ], [ 45.354009618000077, 35.998164110000062 ], [ 45.348880582000049, 36.008122458000059 ], [ 45.34477735400003, 36.013101160000076 ], [ 45.350932196000031, 36.028035380000063 ], [ 45.35503542500004, 36.03964892700003 ], [ 45.359138653000059, 36.050431402000072 ], [ 45.36837091700005, 36.061212400000045 ], [ 45.373499953000078, 36.071991921000063 ], [ 45.373499953000078, 36.082769965000068 ], [ 45.37144833900004, 36.094375437000053 ], [ 45.36426768900003, 36.104321621000054 ], [ 45.35503542500004, 36.111780432000046 ], [ 45.345803161000049, 36.127524486000027 ], [ 45.336570897000058, 36.136638021000067 ], [ 45.335545090000039, 36.149892183000077 ], [ 45.332467668000049, 36.157346665000034 ], [ 45.32836444000003, 36.173909644000048 ], [ 45.33144186100003, 36.182189820000076 ], [ 45.33144186100003, 36.194608444000039 ], [ 45.32836444000003, 36.207025099000077 ], [ 45.326312826000049, 36.21695700500004 ], [ 45.32220959700004, 36.22606014400003 ], [ 45.315028948000077, 36.236817034000069 ], [ 45.296564420000038, 36.24343592300005 ], [ 45.287332156000048, 36.245917862000056 ], [ 45.273996663000048, 36.248399722000045 ], [ 45.270919242000048, 36.253363205000028 ], [ 45.275022470000067, 36.261634978000075 ], [ 45.295538613000076, 36.269078824000076 ], [ 45.299641841000039, 36.272386972000049 ], [ 45.300667648000058, 36.279829793000033 ], [ 45.295538613000076, 36.288925610000035 ], [ 45.289383770000029, 36.294713306000062 ], [ 45.276048278000076, 36.302980698000056 ], [ 45.270919242000048, 36.314553574000058 ], [ 45.271945049000067, 36.323645343000067 ], [ 45.276048278000076, 36.334388794000063 ], [ 45.276048278000076, 36.35421896500003 ], [ 45.277074085000038, 36.36248004600003 ], [ 45.279125699000076, 36.390561161000051 ], [ 45.264764399000057, 36.397992700000032 ], [ 45.253480521000029, 36.405423528000028 ], [ 45.249377293000066, 36.414504687000033 ], [ 45.239119222000056, 36.421108500000059 ], [ 45.225783729000057, 36.422759365000047 ], [ 45.206293394000056, 36.421108500000059 ], [ 45.176544988000046, 36.415330195000024 ], [ 45.161157882000055, 36.409551460000046 ], [ 45.145770775000074, 36.406249132000028 ], [ 45.130383668000036, 36.406249132000028 ], [ 45.121151404000045, 36.408725891000074 ], [ 45.111919140000055, 36.414504687000033 ], [ 45.101661069000045, 36.419457599000054 ], [ 45.090377191000073, 36.426886375000038 ], [ 45.083196541000063, 36.436790304000056 ], [ 45.080119120000063, 36.448343290000025 ], [ 45.077041699000063, 36.458244480000076 ], [ 45.068835242000034, 36.467319461000045 ], [ 45.064732014000072, 36.47556852200006 ], [ 45.060628785000063, 36.488765193000063 ], [ 45.051396521000072, 36.500310437000053 ], [ 45.043190064000044, 36.507731470000067 ], [ 45.031906186000072, 36.512678430000051 ], [ 45.018570694000061, 36.516800656000044 ], [ 45.012415851000071, 36.525868779000064 ], [ 45.003450298000075, 36.534721539000031 ], [ 45.002239845000076, 36.533748939000077 ], [ 44.997644229000059, 36.530056244000036 ], [ 44.964161885000067, 36.527418497000042 ], [ 44.925427408000076, 36.52847360700008 ], [ 44.901792813000043, 36.526363373000038 ], [ 44.884066866000069, 36.520032327000024 ], [ 44.853867105000063, 36.505257871000026 ], [ 44.84073677400005, 36.497341824000046 ], [ 44.815132628000072, 36.484146614000053 ], [ 44.784276351000074, 36.484146614000053 ], [ 44.75998523800007, 36.496286290000057 ], [ 44.744228841000051, 36.515811342000063 ], [ 44.729785477000064, 36.525308235000068 ], [ 44.712716047000072, 36.526363373000038 ], [ 44.691051001000062, 36.523725500000069 ], [ 44.67398157000008, 36.518977102000065 ], [ 44.668072921000032, 36.50736868000007 ], [ 44.644438326000056, 36.485730158000024 ], [ 44.64115574300007, 36.474116751000054 ], [ 44.628025412000056, 36.464613578000069 ], [ 44.616208114000074, 36.458805510000047 ], [ 44.611612498000056, 36.455637289000038 ], [ 44.572921619000056, 36.454892656000027 ], [ 44.571318795000025, 36.325866467000026 ], [ 44.595361149000041, 36.318118087000073 ], [ 44.612992209000026, 36.327157788000079 ], [ 44.630623268000079, 36.33877872000005 ], [ 44.65145997500008, 36.33748759100007 ], [ 44.659474093000028, 36.320700966000061 ], [ 44.664282564000075, 36.300035540000067 ], [ 44.68191362400006, 36.293576471000051 ], [ 44.709161625000036, 36.28970077300005 ], [ 44.733203979000052, 36.279364637000072 ], [ 44.738012450000042, 36.258688259000053 ], [ 44.734806803000026, 36.245762743000057 ], [ 44.70114750700003, 36.244470074000048 ], [ 44.622609150000073, 36.241884671000037 ], [ 44.603375267000047, 36.239299183000071 ], [ 44.595361149000041, 36.204386725000063 ], [ 44.593758326000057, 36.183690508000041 ], [ 44.593758326000057, 36.169458687000031 ], [ 44.598566796000057, 36.157812547000049 ], [ 44.622609150000073, 36.137104026000031 ], [ 44.635431739000069, 36.122863746000064 ], [ 44.659474093000028, 36.112505557000077 ], [ 44.693133389000025, 36.082718151000051 ], [ 44.712367272000051, 36.064581159000056 ], [ 44.725189861000047, 36.054215286000044 ], [ 44.736409626000068, 36.041256024000063 ], [ 44.746026568000048, 36.024405795000064 ], [ 44.760451980000028, 36.012738140000067 ], [ 44.779685864000044, 36.001068758000031 ], [ 44.797316923000039, 35.986803835000046 ], [ 44.845401632000062, 35.964752970000063 ], [ 44.863032691000058, 35.949183945000073 ], [ 44.880663751000043, 35.94139828200008 ], [ 44.903103281000028, 35.932314039000062 ], [ 44.911117399000034, 35.920632764000061 ], [ 44.911117399000034, 35.910247960000049 ], [ 44.909514576000049, 35.899861792000024 ], [ 44.887075045000074, 35.914142421000065 ], [ 44.874252456000079, 35.908949763000066 ], [ 44.864635515000032, 35.895966628000053 ], [ 44.855018573000052, 35.882981363000056 ], [ 44.832579043000067, 35.898563425000077 ], [ 44.819756454000071, 35.89336974500003 ], [ 44.80853668900005, 35.885578586000065 ], [ 44.790905629000065, 35.886877166000033 ], [ 44.776480217000028, 35.902458462000027 ], [ 44.749232215000063, 35.903756765000026 ], [ 44.726792685000078, 35.90116013800008 ], [ 44.701532801000042, 35.881501657000058 ], [ 44.71126533100005, 35.876244418000056 ], [ 44.731300626000063, 35.862038138000059 ], [ 44.738813862000029, 35.841739035000046 ], [ 44.738813862000029, 35.821434736000072 ], [ 44.716274155000065, 35.807218636000073 ], [ 44.706256507000035, 35.782842257000027 ], [ 44.716274155000065, 35.762522896000064 ], [ 44.731300626000063, 35.748296255000071 ], [ 44.746327097000062, 35.732034122000073 ], [ 44.763857981000058, 35.713735252000049 ], [ 44.781388864000064, 35.699499892000063 ], [ 44.776380040000049, 35.681193552000025 ], [ 44.763857981000058, 35.66695238300008 ], [ 44.74883150900007, 35.652708673000063 ], [ 44.74883150900007, 35.620142083000076 ], [ 44.751335921000077, 35.591635432000032 ], [ 44.756344745000035, 35.57534135800006 ], [ 44.778884452000057, 35.546818752000036 ], [ 44.793910923000055, 35.524401013000045 ], [ 44.818955042000027, 35.493821274000027 ], [ 44.82646827800005, 35.471388733000026 ], [ 44.82646827800005, 35.455070225000043 ], [ 44.811441806000062, 35.436707947000059 ], [ 44.78890209900004, 35.426504871000077 ], [ 44.771371216000034, 35.414259474000062 ], [ 44.756344745000035, 35.40201221600006 ], [ 44.728796214000056, 35.377512117000038 ], [ 44.716274155000065, 35.357089683000027 ], [ 44.706256507000035, 35.338705076000053 ], [ 44.693734448000043, 35.326446347000058 ], [ 44.686221212000078, 35.29579139100008 ], [ 44.681212389000052, 35.273303707000025 ], [ 44.676203565000037, 35.252854939000031 ], [ 44.658672682000031, 35.236492210000051 ], [ 44.641141798000035, 35.222172114000045 ], [ 44.621106503000078, 35.201710449000075 ], [ 44.606080032000079, 35.18943097500005 ], [ 44.591053561000081, 35.183290542000066 ], [ 44.553487383000061, 35.177149645000043 ], [ 44.530947676000039, 35.173055456000043 ], [ 44.490068760000042, 35.157969887000036 ], [ 44.507205851000037, 35.149796551000065 ], [ 44.528042558000038, 35.131446808000078 ], [ 44.544070794000049, 35.120959384000059 ], [ 44.56971597200004, 35.11047060900006 ], [ 44.609786562000068, 35.10391443900005 ], [ 44.649857152000038, 35.102603142000078 ], [ 44.68672209500005, 35.102603142000078 ], [ 44.768466098000033, 35.09473491600005 ], [ 44.80853668900005, 35.09473491600005 ], [ 44.840593161000072, 35.089489010000079 ], [ 44.879060927000069, 35.071125681000069 ], [ 44.903103281000028, 35.052758219000054 ], [ 44.923939988000029, 35.030449317000034 ], [ 44.931954106000035, 35.002882854000063 ], [ 44.931954106000035, 34.98187359800005 ], [ 44.936762577000081, 34.958231740000031 ], [ 44.933556930000066, 34.938524980000068 ], [ 44.92073434100007, 34.918813484000054 ], [ 44.91432304600005, 34.895153438000079 ], [ 44.912720223000065, 34.872801580000043 ] ] ] } }\r
]\r
}\r
`,nt=({className:t=""})=>f.jsx("div",{className:`animate-pulse bg-slate-200 dark:bg-slate-700/50 rounded-lg ${t}`}),oOe=t=>{const e=t==null?void 0:t.geometry;return e?e.type==="Polygon"?{...t,geometry:{...e,coordinates:e.coordinates.map((n,r)=>r===0?[...n].reverse():n)}}:e.type==="MultiPolygon"?{...t,geometry:{...e,coordinates:e.coordinates.map(n=>n.map((r,i)=>i===0?[...r].reverse():r))}}:t:t},lOe=({data:t,selectedGovernorates:e=[],onSelect:n})=>{const{theme:r,appearance:i}=Nn(),a=i.accentType==="solid"?i.accentColor:i.accentGradient.start,s=I.useMemo(()=>{const h=JSON.parse(sOe);return{...h,features:(h.features||[]).map(oOe)}},[]),o=I.useMemo(()=>{const g=iOe().fitExtent([[35,15],[765,585]],s);g.scale(g.scale()*1.05);const[[x,v],[y,b]]=HCe(g).bounds(s),[w,k]=g.translate();return g.translate([w+(800/2-(x+y)/2),k+(600/2-(v+b)/2)]),g},[s]),{maxValue:l,minPositive:c}=I.useMemo(()=>{const h=Object.values(t||{}).filter(v=>typeof v=="number"),p=h.length>0?Math.max(...h):0,g=h.filter(v=>v>0),x=g.length>0?Math.min(...g):1;return{maxValue:p,minPositive:x}},[t]),u=I.useMemo(()=>Kh().domain([c||1,l||c||1]).range([`${a}40`,a]),[c,l,a]),d=r==="dark"?"#0f172a":"#f1f5f9";return f.jsx("div",{className:"w-full h-full bg-slate-50 dark:bg-slate-900/50 rounded-2xl overflow-hidden relative flex items-center justify-center border border-slate-100 dark:border-slate-800",children:s?f.jsx(F_,{projection:o,className:"w-full h-full",children:f.jsx(V_,{geography:s,children:({geographies:h})=>f.jsxs(f.Fragment,{children:[h.map(p=>{const g=p.properties||{},x=g.name||g.shapeName||g.ADM1_EN||"Unknown",v=_=>typeof _=="string"?_.toLowerCase().replace(/[^a-z0-9]/g,""):"",y=v(x),b=Object.keys(t||{}).find(_=>{const N=v(_);return y&&N&&(y.includes(N)||N.includes(y))}),w=b||x,k=b&&t[b]||0,E=e.includes(w);let S=d;return E?S="#94a3b8":k>0&&(S=u(k)),f.jsx(nCe,{geography:p,fill:S,stroke:E?"#ffffff":r==="dark"?"#334155":"#cbd5e1",strokeWidth:E?2:.5,onClick:()=>{n&&n(w)},style:{default:{outline:"none",transition:"all 250ms"},hover:{fill:"#94a3b8",outline:"none",stroke:"#fff",strokeWidth:2,cursor:"pointer",opacity:.8},pressed:{outline:"none"}},title:`${w}: ${k} Orders`},p.rsmKey)}),h.map(p=>{const g=SCe(p);if(!g||isNaN(g[0])||isNaN(g[1]))return null;const x=p.properties||{},v=x.name||x.shapeName||x.ADM1_EN||"Unknown",y=S=>typeof S=="string"?S.toLowerCase().replace(/[^a-z0-9]/g,""):"",b=y(v),w=Object.keys(t||{}).find(S=>{const _=y(S);return b&&_&&(b.includes(_)||_.includes(b))}),k=w||v,E=w&&t[w]||0;return f.jsx(W_,{coordinates:g,children:f.jsxs("g",{className:"pointer-events-none",style:{transform:"translateY(-6px)"},children:[f.jsx("text",{y:"-6",textAnchor:"middle",style:{fontSize:10,fill:r==="dark"?"#fff":"#1e293b",fontWeight:"bold",pointerEvents:"none",textShadow:"0px 0px 2px rgba(255,255,255,0.8)"},children:k}),f.jsx("text",{y:"8",textAnchor:"middle",style:{fontSize:12,fill:r==="dark"?"#e6f0ff":"#0f172a",fontWeight:"800",pointerEvents:"none",textShadow:"0px 0px 2px rgba(255,255,255,0.8)"},children:E>0?E:""})]})},`${p.rsmKey}-label`)})]})})}):f.jsxs("div",{className:"absolute inset-0 z-10 bg-white dark:bg-slate-900 overflow-hidden",children:[f.jsx(nt,{className:"w-full h-full rounded-none"}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("span",{className:"bg-white/50 dark:bg-slate-900/50 backdrop-blur px-3 py-1 rounded-full text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Loading Map..."})})]})})},cOe=({regions:t,selectedRegion:e,onSelect:n})=>{const r=[...t].sort((a,s)=>s.count-a.count).slice(0,5),i=a=>{n(a)};return f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 h-full flex flex-col",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(Xa,{className:"w-5 h-5 text-accent"})," Top Regions"]}),f.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto custom-scrollbar pe-2",children:[r.map((a,s)=>{const o=e===a.name||Array.isArray(e)&&e.includes(a.name);return f.jsxs("div",{onClick:()=>i(a.name),className:`flex items-center justify-between p-3 rounded-xl cursor-pointer transition-all ltr:hover:translate-x-1 rtl:hover:-translate-x-1 ${o?"bg-accent text-white shadow-accent":"bg-slate-50 dark:bg-slate-700/30 border border-transparent hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-black transition-all ${s===0?"bg-amber-100 text-amber-600":s===1?"bg-slate-200 text-slate-600":s===2?"bg-orange-100 text-orange-600":""}`,style:s>2?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"}:{},children:s+1}),f.jsx("span",{className:`font-bold transition-colors ${o?"text-white":"text-slate-700 dark:text-slate-300"}`,children:a.name})]}),f.jsx("span",{className:`font-black transition-colors ${o?"text-white":"text-slate-800 dark:text-white"}`,children:a.count})]},a.name)}),r.length===0&&f.jsx("p",{className:"text-center text-slate-400 text-sm py-4",children:"No data available"})]})]})},uOe=({products:t,orders:e,formatCurrency:n})=>{const r=V.useMemo(()=>{const o={};return t.forEach(l=>{const c=l._id||l.id||l.id_str||l.sku||l.name;o[c]={...l,_id:c,totalSales:0,orderCount:0,distinctOrders:[]}}),e.forEach(l=>{l.items&&l.items.forEach(c=>{var d,h;const u=((d=c.product)==null?void 0:d._id)||c.productId;u&&o[u]&&(o[u].totalSales+=c.price*c.quantity,o[u].orderCount+=c.quantity,o[u].distinctOrders.push({id:l._id||l.id,customer:((h=l.customer)==null?void 0:h.name)||l.customer||"",date:l.date||l.createdAt||l.updatedAt,quantity:c.quantity,total:c.price*c.quantity}))})}),Object.values(o).sort((l,c)=>c.orderCount-l.orderCount).slice(0,10)},[t,e]),[i,a]=I.useState(null),s=o=>{a(i===o?null:o)};return f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(yl,{className:"w-5 h-5 text-accent"})," Top Selling Products"]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-start border-collapse",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider border-b border-slate-100 dark:border-slate-700",children:[f.jsx("th",{className:"py-3 ps-2",children:"Product Name"}),f.jsx("th",{className:"py-3 text-center",children:"Sales"}),f.jsx("th",{className:"py-3 text-end pe-2",children:"Total Revenue"}),f.jsx("th",{className:"py-3 w-10"})]})}),f.jsxs("tbody",{className:"text-sm",children:[r.filter(o=>o.orderCount>0).map(o=>{var l;return f.jsxs(V.Fragment,{children:[f.jsxs("tr",{onClick:()=>s(o._id),className:`group cursor-pointer transition-colors border-b border-slate-50 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700/50 ${i===o._id?"bg-slate-50 dark:bg-slate-800":""}`,children:[f.jsxs("td",{className:"py-4 ps-2 font-bold text-slate-700 dark:text-slate-200 flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-100 dark:bg-slate-700 overflow-hidden shrink-0",children:f.jsx("img",{src:((l=o.images)==null?void 0:l[0])||"https://via.placeholder.com/40",alt:o.name||"Product image",className:"w-full h-full object-cover"})}),o.name]}),f.jsx("td",{className:"py-4 text-center text-slate-600 dark:text-slate-300",children:f.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-black transition-all",style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"},children:[o.orderCount," Orders"]})}),f.jsx("td",{className:"py-4 text-end pe-2 font-bold text-slate-800 dark:text-white",children:n(o.totalSales)}),f.jsx("td",{className:"py-4 text-center text-slate-400 group-hover:text-accent",children:i===o._id?f.jsx(qx,{className:"w-4 h-4"}):f.jsx(no,{className:"w-4 h-4"})})]}),i===o._id&&f.jsx("tr",{children:f.jsx("td",{colSpan:"4",className:"bg-slate-50/50 dark:bg-slate-900/30 p-4",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[f.jsx("div",{className:"px-4 py-3 bg-slate-50 dark:bg-slate-700/30 border-b border-slate-100 dark:border-slate-700 text-xs font-bold text-slate-500 uppercase flex justify-between",children:f.jsxs("span",{children:["Order Details (",o.distinctOrders.length,")"]})}),f.jsxs("div",{className:"max-h-60 overflow-y-auto custom-scrollbar",children:[o.distinctOrders.map((c,u)=>f.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-slate-50 dark:border-slate-700 last:border-0 hover:bg-slate-50 dark:hover:bg-slate-700/20 transition-colors",children:[f.jsx("div",{className:"flex items-center gap-4",children:f.jsxs("div",{className:"flex flex-col",children:[f.jsxs("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300 flex items-center gap-1",children:[f.jsx(Oo,{className:"w-3 h-3 text-slate-400"})," ",c.customer]}),f.jsxs("span",{className:"text-[10px] text-slate-400 flex items-center gap-1 mt-0.5",children:[f.jsx(yD,{className:"w-3 h-3"})," ",c.date&&!isNaN(new Date(c.date).getTime())?Xt(new Date(c.date),"dd MMM yyyy"):"N/A"]})]})}),f.jsxs("div",{className:"text-end",children:[f.jsxs("span",{className:"block text-xs font-bold text-slate-800 dark:text-white",children:["Qty: ",c.quantity]}),f.jsx("span",{className:"block text-[10px] font-semibold text-emerald-600 dark:text-emerald-400",children:n(c.total)})]})]},u)),o.distinctOrders.length===0&&f.jsx("div",{className:"text-center py-4 text-slate-400 text-xs",children:"No order details available"})]})]})})})]},o._id)}),r.filter(o=>o.orderCount>0).length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:"4",className:"text-center py-8 text-slate-400",children:"No sales data matches current filters"})})]})]})})]})},Cp=["Al Anbar","Babil","Baghdad","Basra","Dhi Qar","Al-Qadisiyyah","Diyala","Duhok","Erbil","Karbala","Kirkuk","Maysan","Muthanna","Najaf","Nineveh","Saladin","Sulaymaniyah","Wasit"],Op=["Facebook","Instagram","TikTok","Snapchat","Telegram","WhatsApp","Other"],dOe=()=>{var ve,Te,ae,Be;const{t}=lr(),{orders:e,expenses:n,products:r,customers:i,loading:a,formatCurrency:s,brand:o,categories:l,theme:c,appearance:u}=Nn(),d=I.useMemo(()=>e.length===0?O5(new Date,30):e.reduce((ie,Q)=>{try{const fe=Oi(Q.date);return fe<ie?fe:ie}catch{return ie}},new Date),[e]),h=I.useMemo(()=>({from:d,to:new Date}),[d]),[p,g]=I.useState(h),[x,v]=I.useState(!1);V.useEffect(()=>{!a&&e.length>0&&!x&&(g(h),v(!0))},[a,e.length,h,x]);const[y,b]=I.useState([]),[w,k]=I.useState([]),[E,S]=I.useState([]),[_,N]=I.useState([]),P=I.useMemo(()=>e.filter(ie=>{var Z,ge;let Q;try{Q=ie.date?Oi(ie.date):null}catch{return!1}if(!Q||isNaN(Q.getTime()))return!1;const fe=!(p!=null&&p.from)||!(p!=null&&p.to)||Ro(Q,{start:p.from,end:p.to}),$e=y.length===0||y.includes(ie.status),kt=w.length===0||((Z=ie.customer)==null?void 0:Z.governorate)&&w.includes(ie.customer.governorate),je=E.length===0||((ge=ie.customer)==null?void 0:ge.social)&&E.includes(ie.customer.social),Ue=_.length===0||ie.items&&ie.items.some(Ie=>{var st;return((st=Ie.product)==null?void 0:st.category)&&_.includes(Ie.product.category)});return fe&&$e&&kt&&je&&Ue}),[e,p,y,w,E,_]),A=I.useMemo(()=>{if(!(p!=null&&p.from)||!(p!=null&&p.to))return 0;const ie=p.from,fe=p.to.getTime()-ie.getTime();if(fe<0)return 0;const $e=new Date(ie.getTime()-1),kt=new Date($e.getTime()-fe);return e.reduce((je,Ue)=>{var vt,se;let Z;try{Z=Ue.date?Oi(Ue.date):null}catch{return je}if(!Z||isNaN(Z.getTime()))return je;const ge=Ro(Z,{start:kt,end:$e}),Ie=y.length===0||y.includes(Ue.status),st=w.length===0||((vt=Ue.customer)==null?void 0:vt.governorate)&&w.includes(Ue.customer.governorate),et=E.length===0||((se=Ue.customer)==null?void 0:se.social)&&E.includes(Ue.customer.social),gt=_.length===0||Ue.items&&Ue.items.some(H=>{var ce;return((ce=H.product)==null?void 0:ce.category)&&_.includes(H.product.category)});return!ge||!Ie||!st||!et||!gt?je:je+(Number(Ue.total)||0)},0)},[e,p,y,w,E,_]),C=I.useMemo(()=>P.reduce((ie,Q)=>ie+Q.total,0),[P]),O=I.useMemo(()=>n.filter(ie=>{let Q;try{Q=ie.date?Oi(ie.date):null}catch{return!1}return!Q||isNaN(Q.getTime())?!1:!(p!=null&&p.from)||!(p!=null&&p.to)||Ro(Q,{start:p.from,end:p.to})}),[n,p]),j=I.useMemo(()=>O.reduce((ie,Q)=>ie+Number(Q.amountIQD||0),0),[O]),R=I.useMemo(()=>s(C).replace(/\u00A0/g," "),[s,C]),D=I.useMemo(()=>A<=0?C>0?100:0:(C-A)/A*100,[C,A]),$=D>=0?"+":"-",U=I.useMemo(()=>`${$}${Math.abs(D).toFixed(1)}% vs last period`,[$,D,p,y,w,E,_]),F=P.length,B=I.useMemo(()=>new Set(P.map(ie=>{var Q,fe;return((Q=ie.customer)==null?void 0:Q.phone)||((fe=ie.customer)==null?void 0:fe.id)||ie.customer}).filter(Boolean)).size,[P]),z=I.useMemo(()=>{const ie={};return P.forEach(Q=>{var $e;const fe=($e=Q.customer)==null?void 0:$e.governorate;fe&&(ie[fe]=(ie[fe]||0)+1)}),Object.entries(ie).map(([Q,fe])=>({name:Q,count:fe}))},[P]),q=I.useMemo(()=>z.length===0?{name:"N/A",count:0}:z.reduce((ie,Q)=>ie.count>Q.count?ie:Q),[z]),G=I.useMemo(()=>e.filter(ie=>{let Q;try{Q=ie.date?Oi(ie.date):null}catch{return!1}return!Q||isNaN(Q.getTime())?!1:!(p!=null&&p.from)||!(p!=null&&p.to)||Ro(Q,{start:p.from,end:p.to})}),[e,p]),te=I.useMemo(()=>{const ie={};return G.forEach(Q=>ie[Q.status]=(ie[Q.status]||0)+1),["Processing","Completed","Cancelled"].map(Q=>({value:Q,label:Q,count:ie[Q]||0}))},[G]),de=I.useMemo(()=>{const ie={};return G.forEach(Q=>{var $e;const fe=($e=Q.customer)==null?void 0:$e.governorate;fe&&(ie[fe]=(ie[fe]||0)+1)}),Cp.map(Q=>({value:Q,label:Q,count:ie[Q]||0})).sort((Q,fe)=>fe.count-Q.count)},[G]),ye=I.useMemo(()=>{const ie={};return G.forEach(Q=>{var $e;const fe=($e=Q.customer)==null?void 0:$e.social;fe&&(ie[fe]=(ie[fe]||0)+1)}),Op.map(Q=>({value:Q,label:Q,count:ie[Q]||0})).sort((Q,fe)=>fe.count-Q.count)},[G]),J=I.useMemo(()=>{const ie={};return G.forEach(Q=>{var $e;const fe=new Set;($e=Q.items)==null||$e.forEach(kt=>{var Ue;const je=(Ue=kt.product)==null?void 0:Ue.category;je&&!fe.has(je)&&(ie[je]=(ie[je]||0)+1,fe.add(je))})}),l.map(Q=>({value:Q,label:Q,count:ie[Q]||0})).sort((Q,fe)=>fe.count-Q.count)},[G,l]),we=I.useMemo(()=>{if(!(p!=null&&p.from)||!(p!=null&&p.to)||f_(p.from,p.to))return[];let ie=[];try{ie=kke({start:p.from,end:p.to})}catch(fe){return console.error("Invalid date range for chart:",fe),[]}const Q={};return ie.forEach(fe=>Q[Xt(fe,"yyyy-MM-dd")]=0),P.forEach(fe=>{const $e=Xt(Oi(fe.date),"yyyy-MM-dd");Q[$e]!==void 0&&(Q[$e]+=fe.total)}),Object.entries(Q).map(([fe,$e])=>({date:Xt(Oi(fe),"MMM d"),value:$e}))},[P,p]),ke=I.useMemo(()=>z.reduce((ie,Q)=>(ie[Q.name]=Q.count,ie),{}),[z]),ne=c==="dark"?{text:"#94A3B8",grid:"#334155",tooltipBg:"#1E293B"}:{text:"#64748B",grid:"#E2E8F0",tooltipBg:"#FFFFFF"};return f.jsxs(Ql,{title:t("dashboard.title"),children:[f.jsx("div",{className:"flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:f.jsxs("div",{className:"flex gap-3 w-full flex-wrap items-center",children:[f.jsx("div",{className:"h-[44px] flex-shrink-0",children:f.jsx(j5,{range:p,onRangeChange:g,brandColor:o.color})}),f.jsx(Ui,{title:t("dashboard.governorate"),options:de,selectedValues:w,onChange:k,icon:Xa,showSearch:!1}),f.jsx(Ui,{title:t("dashboard.socialMedia"),options:ye,selectedValues:E,onChange:S,icon:Ho,showSearch:!1}),f.jsx(Ui,{title:t("dashboard.categories"),options:J,selectedValues:_,onChange:N,icon:yl,showSearch:!1}),f.jsx(Ui,{title:t("dashboard.status"),options:te,selectedValues:y,onChange:b,icon:tr,showSearch:!1}),f.jsxs("div",{className:"ms-auto flex items-center gap-3 flex-wrap",children:[(y.length>0||w.length>0||E.length>0||_.length>0||((ve=p.from)==null?void 0:ve.getTime())!==((Te=h.from)==null?void 0:Te.getTime())||((ae=p.to)==null?void 0:ae.getTime())!==((Be=h.to)==null?void 0:Be.getTime()))&&f.jsx("button",{onClick:()=>{b([]),k([]),S([]),N([]),g(h)},className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(yl,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:P.length})," ",t("dashboard.filteredOrders")]})]})]})]})}),f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:a?Array.from({length:5}).map((ie,Q)=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsx(nt,{className:"h-4 w-24"}),f.jsx(nt,{className:"h-5 w-5 rounded-full"})]}),f.jsx(nt,{className:"h-8 w-32 mb-2"}),f.jsx(nt,{className:"h-3 w-40"})]},Q)):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"bg-accent rounded-3xl p-6 text-white shadow-accent",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 opacity-80",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.totalRevenue")}),f.jsx(tY,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-[clamp(0.95rem,2.6vw,1.85rem)] font-black mb-1 leading-tight whitespace-nowrap tracking-tight",children:R}),f.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium opacity-80",children:[f.jsx(sE,{className:"w-3 h-3"}),f.jsx("span",{children:U})]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 text-slate-400",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.totalOrders")}),f.jsx(ED,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-3xl font-black text-slate-800 dark:text-white mb-1",children:F}),f.jsx("p",{className:"text-xs text-slate-500 font-medium mt-1",children:t("dashboard.ordersPlaced")})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 text-slate-400",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.topRegion")}),f.jsx(Xa,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-2xl font-black text-slate-800 dark:text-white mb-1 truncate",children:q.name}),f.jsx("p",{className:"text-xs text-slate-500 font-medium mt-1",children:t("dashboard.ordersCount",{count:q.count})})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 text-slate-400",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.totalExpenses")}),f.jsx(Hx,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-2xl font-black text-slate-800 dark:text-white mb-1 whitespace-nowrap overflow-hidden text-ellipsis",children:s(j).replace(/\u00A0/g," ")}),f.jsxs("p",{className:"text-xs text-slate-500 font-medium mt-1",children:[O.length," records"]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 text-slate-400",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.activeCustomers")}),f.jsx(Kx,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-3xl font-black text-slate-800 dark:text-white mb-1",children:B}),f.jsx("p",{className:"text-xs text-slate-500 font-medium mt-1",children:t("dashboard.uniqueBuyers")})]})]})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[400px]",children:[f.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(sE,{className:"w-5 h-5",style:{color:u.accentType==="solid"?u.accentColor:u.accentGradient.start}})," ",t("dashboard.revenueTrend")]}),f.jsx("div",{className:"flex-1 min-h-0",children:a?f.jsx(nt,{className:"w-full h-full rounded-xl"}):f.jsx($ge,{width:"100%",height:"100%",children:f.jsxs(pke,{data:we,children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"5%",stopColor:u.accentType==="solid"?u.accentColor:u.accentGradient.start,stopOpacity:.3}),f.jsx("stop",{offset:"95%",stopColor:u.accentType==="solid"?u.accentColor:u.accentGradient.start,stopOpacity:0})]})}),f.jsx(pB,{strokeDasharray:"3 3",vertical:!1,stroke:ne.grid}),f.jsx(T5,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:ne.text},dy:10}),f.jsx(P5,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:ne.text},tickFormatter:ie=>`${ie/1e3}k`}),f.jsx(Ra,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 8px 16px rgba(0,0,0,0.1)",backgroundColor:ne.tooltipBg,color:c==="dark"?"#F8FAFC":"#1E293B"},itemStyle:{color:c==="dark"?"#F8FAFC":"#1E293B"},formatter:ie=>[s(ie),t("dashboard.revenue")]}),f.jsx(T0,{type:"monotone",dataKey:"value",stroke:u.accentType==="solid"?u.accentColor:u.accentGradient.start,strokeWidth:3,fillOpacity:1,fill:"url(#colorValue)"})]})})})]}),f.jsxs("div",{className:"lg:col-span-1 border border-slate-100 dark:border-slate-700 rounded-3xl overflow-hidden shadow-sm h-full relative",children:[f.jsx(lOe,{data:ke,selectedGovernorates:w,onSelect:ie=>{w.includes(ie)?k(w.filter(Q=>Q!==ie)):k([...w,ie])}}),f.jsx("div",{className:"absolute top-4 start-4 bg-white/90 backdrop-blur px-3 py-1 rounded-full text-xs font-bold text-slate-500 shadow-sm border border-slate-100",children:f.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[f.jsx(Xa,{className:"w-3.5 h-3.5",style:{color:u.accentType==="solid"?u.accentColor:u.accentGradient.start}}),f.jsx("span",{children:"Map"})]})})]})]}),f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-[400px]",children:a?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsx(nt,{className:"h-6 w-48 mb-6"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(nt,{className:"h-10 w-full"}),f.jsx(nt,{className:"h-10 w-full"}),f.jsx(nt,{className:"h-10 w-full"})]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsx(nt,{className:"h-6 w-48 mb-6"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(nt,{className:"h-12 w-full"}),f.jsx(nt,{className:"h-12 w-full"}),f.jsx(nt,{className:"h-12 w-full"})]})]})]}):f.jsxs(f.Fragment,{children:[f.jsx(cOe,{regions:z,selectedRegion:w,onSelect:ie=>{w.includes(ie)?k(w.filter(Q=>Q!==ie)):k([...w,ie])}}),f.jsx("div",{className:"h-full",children:f.jsx(uOe,{products:r,orders:P,formatCurrency:s})})]})})]})]})},vd=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i})=>{const{t:a}=lr();return t?f.jsxs("div",{className:"fixed inset-0 z-[1001] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:[f.jsx("div",{className:"absolute inset-0",onClick:e}),f.jsxs("div",{className:"relative w-full max-w-sm bg-white dark:bg-slate-800 rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[f.jsxs("div",{className:"p-6 text-center",children:[f.jsx("div",{className:"mx-auto w-16 h-16 bg-red-50 dark:bg-red-500/10 rounded-2xl flex items-center justify-center mb-4",children:f.jsx(xi,{className:"w-8 h-8 text-red-500"})}),f.jsx("h3",{className:"text-xl font-black text-slate-800 dark:text-white mb-2",children:r||a("common.delete")}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-8 leading-relaxed",children:i||a("common.confirmDelete")}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx("button",{onClick:e,className:"py-3 px-4 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 font-bold rounded-2xl transition-all active:scale-95 text-sm",children:a("common.cancel")}),f.jsx("button",{onClick:()=>{n(),e()},className:"py-3 px-4 bg-red-500 hover:bg-red-600 text-white font-bold rounded-2xl transition-all shadow-lg shadow-red-500/25 active:scale-95 text-sm",children:a("common.delete")})]})]}),f.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-1 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-400 transition-colors",children:f.jsx(Dr,{className:"w-4 h-4"})})]})]}):null},fOe=({categories:t,products:e,onClose:n,onAdd:r,onUpdate:i,onDelete:a})=>{const{addToast:s}=Nn(),[o,l]=I.useState(""),[c,u]=I.useState(null),[d,h]=I.useState(""),[p,g]=I.useState({}),[x,v]=I.useState(!1),[y,b]=I.useState(null);I.useEffect(()=>{const _={};t.forEach(N=>{_[N]=e.filter(P=>P.category===N).length}),g(_)},[t,e]);const w=()=>{o.trim()&&(r(o.trim()),l(""))},k=()=>{c&&d.trim()&&d!==c&&(i(c,d.trim()),u(null),h(""))},E=_=>{if(p[_]>0){s(`Cannot delete category "${_}" because it is used by ${p[_]} products.`,"error");return}b(_),v(!0)},S=()=>{y&&(a(y),v(!1),b(null))};return f.jsxs("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden flex flex-col max-h-[80vh]",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-800/50",children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Manage Categories"}),f.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:f.jsx(Dr,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:o,onChange:_=>l(_.target.value),placeholder:"New Category Name",className:"flex-1 px-4 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent dark:text-white",onKeyDown:_=>_.key==="Enter"&&w()}),f.jsx("button",{onClick:w,disabled:!o.trim(),className:"px-4 py-2 bg-accent disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-xl shadow-lg shadow-accent/20 transition-all flex items-center justify-center",children:f.jsx(ba,{className:"w-5 h-5"})})]})}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 custom-scrollbar bg-slate-50/50 dark:bg-slate-900/20",children:[t.map(_=>f.jsx("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm group hover:border-indigo-100 dark:hover:border-slate-600 transition-colors",children:c===_?f.jsxs("div",{className:"flex-1 flex gap-2 mr-2",children:[f.jsx("input",{autoFocus:!0,type:"text",value:d,onChange:N=>h(N.target.value),className:"flex-1 px-2 py-1 bg-slate-50 dark:bg-slate-900 border border-accent rounded-lg text-sm outline-none dark:text-white",onKeyDown:N=>{N.key==="Enter"&&k(),N.key==="Escape"&&u(null)}}),f.jsx("button",{onClick:k,className:"text-emerald-500 hover:bg-emerald-50 rounded p-1",children:f.jsx(m2,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>u(null),className:"text-red-400 hover:bg-red-50 rounded p-1",children:f.jsx(Dr,{className:"w-4 h-4"})})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200 text-sm",children:_}),f.jsxs("span",{className:"text-[10px] font-bold px-2 py-0.5 bg-slate-100 dark:bg-slate-700 text-slate-500 rounded-full",children:[p[_]||0," products"]})]}),f.jsxs("div",{className:"flex gap-1 opacity-100 sm:opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>{u(_),h(_)},className:"p-2 text-slate-400 hover:text-accent hover:bg-accent/10 rounded-lg transition-colors",title:"Rename",children:f.jsx(SD,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>E(_),className:`p-2 rounded-lg transition-colors ${p[_]>0?"text-slate-300 cursor-not-allowed":"text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30"}`,title:p[_]>0?"Cannot delete used category":"Delete",children:p[_]>0?f.jsx(gD,{className:"w-4 h-4"}):f.jsx(xi,{className:"w-4 h-4"})})]})]})},_)),t.length===0&&f.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"No categories found. Add one above."})]})]}),f.jsx(vd,{isOpen:x,onClose:()=>{v(!1),b(null)},onConfirm:S,title:"Delete Category",message:`Are you sure you want to delete category "${y}"?`})]})},ca=({title:t,options:e,selectedValue:n,onChange:r,icon:i,placeholder:a="Search...",showSearch:s=!0,customAction:o=null,disabled:l=!1,direction:c="down"})=>{const{appearance:u}=Nn(),[d,h]=I.useState(!1),[p,g]=I.useState(""),x=I.useRef(null);I.useEffect(()=>{const k=E=>{x.current&&!x.current.contains(E.target)&&h(!1)};return document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[]),I.useEffect(()=>{d&&g("")},[d]);const v=k=>{r(k),h(!1)},y=I.useMemo(()=>p?e.filter(k=>k.label.toLowerCase().includes(p.toLowerCase())):e,[e,p]),b=e.find(k=>k.value===n),w=b?b.label:t;return f.jsxs("div",{className:"relative w-full",ref:x,children:[f.jsxs("button",{type:"button",disabled:l,onClick:()=>h(!d),className:`flex items-center justify-between w-full px-3 h-[44px] rounded-xl border-2 transition-all font-bold text-[11px] outline-none shadow-sm ${l?"bg-slate-50 dark:bg-slate-900/50 border-slate-100 dark:border-slate-800 text-slate-400 cursor-not-allowed opacity-60":d?"bg-accent/10 border-accent/40 text-accent shadow-[0_0_15px_-3px_rgba(0,0,0,0.1)]":["liquid","default_glass"].includes(u==null?void 0:u.theme)?"bg-white/40 dark:bg-slate-800/40 backdrop-blur-md border-white/20 dark:border-slate-700/50 text-slate-700 dark:text-white hover:bg-white/60 dark:hover:bg-slate-700/60":"bg-slate-50 dark:bg-slate-900 border-slate-100 dark:border-slate-800 text-slate-700 dark:text-white hover:border-slate-200 dark:hover:border-slate-700"}`,children:[f.jsxs("div",{className:"flex items-center gap-1 truncate",children:[i&&f.jsx(i,{className:`w-3.5 h-3.5 ${d?"text-accent":"text-slate-400"}`}),f.jsx("span",{className:"truncate",children:w})]}),f.jsx(no,{className:`w-3 h-3 transition-transform flex-shrink-0 ${d?"rotate-180 text-accent":"text-slate-400"}`})]}),d&&f.jsx("div",{className:`absolute start-0 z-[100] w-full animate-in fade-in zoom-in-95 duration-200 ${c==="up"?"bottom-full mb-2":"top-full mt-2"}`,children:f.jsxs("div",{className:`rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col transition-all ${["liquid","default_glass"].includes(u==null?void 0:u.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:[s&&f.jsx("div",{className:"p-3 border-b border-slate-100 dark:border-slate-700",children:f.jsxs("div",{className:"relative",children:[f.jsx(Wl,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),f.jsx("input",{autoFocus:!0,type:"text",placeholder:a,value:p,onChange:k=>g(k.target.value),className:`w-full ps-9 pe-4 py-2 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent transition-all font-bold text-xs dark:text-white ${["liquid","default_glass"].includes(u==null?void 0:u.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900/50"}`})]})}),f.jsxs("div",{className:"flex-1 max-h-48 overflow-y-auto p-2 space-y-1",children:[o&&f.jsxs("div",{onClick:()=>{o.onClick(),h(!1)},className:"flex items-center gap-3 px-3 py-2 rounded-xl cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700/50 text-accent font-bold text-sm border border-dashed border-accent/30 mb-1",children:[o.icon&&f.jsx(o.icon,{className:"w-4 h-4"}),f.jsx("span",{children:o.label})]}),y.length===0?f.jsx("div",{className:"px-4 py-8 text-center text-slate-400",children:f.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"No results found"})}):y.map(k=>{const E=n===k.value;return f.jsxs("div",{onClick:()=>v(k.value),className:`flex items-center justify-between px-3 py-2 rounded-xl cursor-pointer transition-all group ${E?"bg-accent/10 text-accent font-bold":"hover:bg-slate-50 dark:hover:bg-slate-700/50 text-slate-600 dark:text-slate-300"}`,children:[f.jsx("span",{className:`text-xs font-semibold ${E?"text-accent":"text-slate-600 dark:text-slate-300"}`,children:k.label}),E&&f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent shadow-[0_0_8px_var(--accent-color)]"})]},k.value)})]})]})})]})},ga=({src:t,alt:e,className:n="bg-slate-100 dark:bg-slate-700",imageClassName:r="",imageStyle:i=void 0,fallback:a=null})=>{const[s,o]=I.useState(!0),[l,c]=I.useState(!1),u=I.useRef(null);I.useEffect(()=>{var p;if(!t){o(!1),c(!1);return}c(!1),(p=u.current)!=null&&p.complete?o(!1):o(!0)},[t]);const d=()=>{o(!1)},h=()=>{c(!0),o(!1)};return f.jsxs("div",{className:`relative overflow-hidden ${n}`,children:[!t&&f.jsx("div",{className:"flex items-center justify-center w-full h-full text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800",children:a||f.jsxs("div",{className:"flex flex-col items-center gap-1",children:[f.jsx(nE,{className:"w-1/3 h-1/3 opacity-50"}),f.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider opacity-50",children:"No Image"})]})}),t&&f.jsxs(f.Fragment,{children:[s&&!l&&f.jsx("div",{className:"absolute inset-0 animate-pulse bg-slate-200 dark:bg-slate-600 z-10"}),l?f.jsx("div",{className:"flex items-center justify-center w-full h-full text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800",children:a||f.jsxs("div",{className:"flex flex-col items-center gap-1",children:[f.jsx(nE,{className:"w-1/3 h-1/3 opacity-50"}),f.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider opacity-50 text-center px-2",children:"Image Error"})]})}):f.jsx("img",{ref:u,src:t,alt:e,className:`w-full h-full object-cover transition-opacity duration-300 ${s?"opacity-0":"opacity-100"} ${r}`,style:i,onLoad:d,onError:h})]})]})},hOe=({images:t,currentIndex:e,onChange:n,onDelete:r,onDownload:i})=>{const{t:a}=lr(),{language:s}=Nn(),o=s==="ar",l=t.length>0&&e<t.length?e:0,c=t[l],u=(typeof c=="string"?c:c==null?void 0:c.url)||"https://via.placeholder.com/600";return!t||t.length===0?f.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-900/50 rounded-2xl border-2 border-dashed border-slate-200 dark:border-slate-800",children:[f.jsx(sl,{className:"w-12 h-12 text-slate-300 mb-4"}),f.jsx("p",{className:"text-sm font-bold text-slate-400",children:a("productPicture.modal.noImages")})]}):f.jsxs("div",{className:"relative w-full h-full flex flex-col group",children:[f.jsxs("div",{className:"relative h-[300px] sm:h-[400px] md:h-[500px] rounded-2xl overflow-hidden bg-slate-100 dark:bg-slate-900 flex items-center justify-center shadow-lg w-full",children:[f.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[f.jsx("img",{src:u,alt:"",className:"w-full h-full object-cover blur-3xl opacity-50 scale-125 transition-opacity duration-500"}),f.jsx("div",{className:"absolute inset-0 bg-white/20 dark:bg-black/40"})]}),f.jsx(ga,{src:u,alt:"Product",className:"w-full h-full flex items-center justify-center relative z-10 bg-transparent",imageClassName:"w-auto h-auto max-w-full max-h-full object-contain drop-shadow-2xl"},u),f.jsxs("div",{className:`absolute top-4 ${o?"right-4":"left-4"} flex gap-2 z-30`,children:[f.jsx("button",{onClick:i,className:"p-2 bg-white/90 dark:bg-slate-800/90 hover:bg-white dark:hover:bg-slate-700 text-slate-800 dark:text-white rounded-lg backdrop-blur transition-all shadow-md border border-slate-200/50 dark:border-slate-700/50",title:a("common.download"),children:f.jsx(Fp,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>r(l),className:"p-2 bg-red-500/90 hover:bg-red-600 text-white rounded-lg backdrop-blur transition-all shadow-md border border-red-400/20",title:a("common.delete"),children:f.jsx(xi,{className:"w-4 h-4"})})]}),t.length>1&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>n((l-1+t.length)%t.length),className:`absolute ${o?"right-4":"left-4"} top-[55%] md:top-1/2 -translate-y-1/2 p-2.5 md:p-3 bg-slate-900/40 hover:bg-slate-900/60 text-white rounded-full backdrop-blur-md transition-all z-20 shadow-lg border border-white/10`,children:o?f.jsx(Eh,{className:"w-5 h-5 md:w-6 md:h-6"}):f.jsx(Dm,{className:"w-5 h-5 md:w-6 md:h-6"})}),f.jsx("button",{onClick:()=>n((l+1)%t.length),className:`absolute ${o?"left-4":"right-4"} top-[55%] md:top-1/2 -translate-y-1/2 p-2.5 md:p-3 bg-slate-900/40 hover:bg-slate-900/60 text-white rounded-full backdrop-blur-md transition-all z-20 shadow-lg border border-white/10`,children:o?f.jsx(Dm,{className:"w-5 h-5 md:w-6 md:h-6"}):f.jsx(Eh,{className:"w-5 h-5 md:w-6 md:h-6"})})]})]}),t.length>1&&f.jsx("div",{className:"flex gap-2 mt-6 px-2 overflow-x-auto py-2 hide-scrollbar",children:t.map((d,h)=>f.jsx("button",{onClick:()=>n(h),className:`w-12 h-12 rounded-xl border-2 transition-all flex-shrink-0 bg-white dark:bg-slate-900 shadow-sm overflow-hidden ${h===l?"border-accent ring-2 ring-accent/20":"border-transparent opacity-60 hover:opacity-100"}`,children:f.jsx(ga,{src:typeof d=="string"?d:d==null?void 0:d.url,alt:`Thumb ${h}`,className:"w-full h-full",imageClassName:"object-cover"})},h))})]})},IW=({product:t,onClose:e,onSave:n,onUpload:r})=>{var $;const{t:i}=lr(),{formatCurrency:a,isSidebarCollapsed:s,language:o,addToast:l}=Nn(),c=o==="ar",[u,d]=I.useState(0),[h,p]=I.useState(t.name||""),[g,x]=I.useState(t.description||""),[v,y]=I.useState(t.images||[]),[b,w]=I.useState(!1),[k,E]=I.useState(!1),S=["image/jpeg","image/png","image/webp","image/gif"],_=["jpg","jpeg","png","webp","gif"];I.useEffect(()=>{const U=F=>{F.key==="Escape"&&e()};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[e]),I.useEffect(()=>{p(t.name||""),x(t.description||""),y(t.images||[]),d(0)},[t._id]);const N=async()=>{if(h.trim()){w(!0);try{await n({...t,name:h,description:g,images:v})}catch(U){console.error("Failed to save product:",U)}finally{w(!1)}}},P=async U=>{if(U.target.files&&U.target.files.length>0){const F=Array.from(U.target.files),B=F.filter(G=>{var de,ye;const te=(ye=(de=G.name)==null?void 0:de.split(".").pop())==null?void 0:ye.toLowerCase();return S.includes(G.type)||_.includes(te)});if(F.length-B.length>0&&l(i("productPicture.modal.invalidImageFormat"),"warning"),B.length===0){U.target.value="";return}const q=G=>new Promise(te=>{const de=new FileReader;de.onload=ye=>{const J=new Image;J.onload=()=>{const we=document.createElement("canvas");let ke=J.width,ne=J.height;const ve=1200;ke>ne?ke>ve&&(ne*=ve/ke,ke=ve):ne>ve&&(ke*=ve/ne,ne=ve),we.width=ke,we.height=ne,we.getContext("2d").drawImage(J,0,0,ke,ne),te({url:we.toDataURL("image/jpeg",.8),name:G.name})},J.src=ye.target.result},de.readAsDataURL(G)});try{const G=await Promise.all(B.map(q));if(r){const te=await r(G);te&&y(de=>[...de,...te])}else y(te=>[...te,...G])}catch(G){console.error("Image processing failed:",G)}}U.target.value=""},A=()=>{E(!0)},C=()=>{const U=u,F=v.filter((B,z)=>z!==U);y(F),u>=F.length&&F.length>0?d(F.length-1):F.length===0&&d(0),E(!1)},O=v.length>0?v[u]:(($=t.images)==null?void 0:$[0])||t.image,j=typeof O=="string"?O:(O==null?void 0:O.url)||"https://via.placeholder.com/600",R=()=>{const U=document.createElement("a");U.href=j,U.download=`product-${t.sku}-${u}.jpg`,document.body.appendChild(U),U.click(),document.body.removeChild(U)},D=c?s?"lg:pr-20":"lg:pr-56":s?"lg:pl-20":"lg:pl-56";return f.jsxs("div",{className:`fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/60 backdrop-blur-md animate-in fade-in duration-300 transition-all ${D}`,children:[f.jsx("div",{className:"absolute inset-0",onClick:e}),f.jsxs("div",{className:"relative w-full h-full md:h-auto md:max-h-[95vh] md:max-w-6xl bg-white dark:bg-slate-800 md:rounded-3xl shadow-2xl overflow-hidden flex flex-col md:flex-row animate-in zoom-in slide-in-from-bottom-10 duration-500",children:[f.jsx("button",{onClick:e,className:`absolute top-16 ${c?"left-8":"right-8"} md:top-4 ${c?"md:left-4":"md:right-4"} z-[150] p-2 bg-slate-100/80 dark:bg-slate-900/80 hover:bg-slate-200 text-slate-500 dark:text-slate-400 rounded-lg transition-all active:scale-95 border border-slate-200/50 dark:border-slate-700/50 backdrop-blur shadow-sm`,children:f.jsx(Dr,{className:"w-4 h-4"})}),f.jsxs("div",{className:"flex flex-col md:flex-row flex-1 overflow-hidden",children:[f.jsxs("div",{className:"w-full h-[70vh] md:h-auto md:w-2/3 bg-slate-100 dark:bg-slate-900/50 flex flex-col p-4 pt-12 md:p-6 overflow-hidden relative",children:[f.jsx("div",{className:"flex-1 min-h-0",children:f.jsx(hOe,{images:v,currentIndex:u,onChange:U=>d(U),onDelete:()=>A(),onDownload:R})}),f.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-800 flex justify-center",children:f.jsxs("label",{className:"w-full sm:w-auto flex items-center justify-center gap-2 px-8 py-3 bg-accent text-white rounded-2xl text-sm font-black hover:brightness-110 cursor-pointer transition-all shadow-xl shadow-accent/20 active:scale-95",children:[f.jsx(ba,{className:"w-5 h-5"}),f.jsx("span",{children:i("productPicture.modal.addPhoto")}),f.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:P})]})})]}),f.jsxs("div",{className:"w-full md:w-1/3 flex-1 p-6 md:p-8 flex flex-col bg-white dark:bg-slate-800 md:border-s border-slate-100 dark:border-slate-700 overflow-y-auto scrollbar-none",children:[f.jsxs("div",{className:"space-y-6 flex-1",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:i("productPicture.modal.productTitle")}),f.jsx("input",{type:"text",value:h,onChange:U=>p(U.target.value),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl font-bold text-slate-800 dark:text-white focus:ring-2 focus:ring-accent outline-none transition-all",placeholder:i("productPicture.modal.enterTitle")})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:i("productPicture.modal.description")}),f.jsx("textarea",{value:g,onChange:U=>x(U.target.value),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 focus:ring-2 focus:ring-accent outline-none transition-all resize-none h-32",placeholder:i("productPicture.modal.enterDescription")})]}),f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:i("productPicture.modal.sellingPrice")}),f.jsx("span",{className:"text-xl font-black text-slate-800 dark:text-white",children:a(t.sellingPriceIQD||t.price||0)})]}),f.jsx("div",{className:"p-2 bg-accent/10 rounded-lg",children:f.jsx(Ff,{className:"w-5 h-5 text-accent"})})]})]}),f.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100 dark:border-slate-700",children:f.jsx("button",{onClick:N,disabled:b||!h.trim(),className:"w-full py-3.5 bg-accent text-white font-bold rounded-xl shadow-accent transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",children:b?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),i("common.saving")]}):f.jsxs(f.Fragment,{children:[f.jsx(m2,{className:"w-5 h-5"}),i("settings.saveChanges")]})})})]})]}),f.jsx(vd,{isOpen:k,onClose:()=>E(!1),onConfirm:C,title:i("common.delete"),message:i("productPicture.modal.confirmDeleteImage")})]})]})},Vl=({limit:t,onChange:e})=>{const{t:n}=lr(),{appearance:r}=Nn(),[i,a]=I.useState(!1),[s,o]=I.useState(![50,100,500,1e3].includes(t)),l=I.useRef(null),c=I.useRef(null),u=[50,100,500,1e3];I.useEffect(()=>{const p=g=>{l.current&&!l.current.contains(g.target)&&a(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const d=p=>{p==="custom"?o(!0):(o(!1),e(Number(p)),a(!1))},h=p=>{const g=Number(p.target.value);g>0&&e(g)};return f.jsxs("div",{className:"relative",ref:l,children:[f.jsxs("button",{onClick:()=>a(!i),className:`shrink-0 flex items-center gap-1.5 px-3 h-[44px] rounded-2xl border-2 transition-all font-bold text-[11px] outline-none ${i?"bg-accent/10 border-accent/30 text-accent shadow-[0_0_15px_-3px_rgba(0,0,0,0.1)]":["liquid","default_glass"].includes(r==null?void 0:r.theme)?"bg-white/40 dark:bg-slate-800/40 backdrop-blur-md border-white/20 dark:border-slate-700/50 text-slate-500 hover:bg-white/60 dark:hover:bg-slate-700/60":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-800 text-slate-500 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[f.jsx(wD,{className:"w-4 h-4"}),f.jsx("span",{className:"truncate",children:t}),f.jsx(no,{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`})]}),i&&f.jsx("div",{className:"absolute top-full start-0 sm:start-auto sm:end-0 mt-2 z-50 w-48 max-w-[calc(100vw-1rem)] animate-in fade-in zoom-in-95 duration-200",children:f.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden py-2 ${["liquid","default_glass"].includes(r==null?void 0:r.theme)?"glass-panel":""}`,children:[u.map(p=>f.jsx("button",{onClick:()=>d(p),className:`w-full text-start px-4 py-2 text-sm font-semibold hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors ${t===p&&!s?"text-accent bg-accent/5":"text-slate-600 dark:text-slate-300"}`,children:p},p)),f.jsxs("div",{className:"px-2 pt-2 mt-2 border-t border-slate-100 dark:border-slate-700",children:[f.jsx("button",{onClick:()=>d("custom"),className:`w-full text-start px-2 py-1.5 text-xs font-black uppercase tracking-widest ${s?"text-accent":"text-slate-400"}`,children:n("common.custom")||"Custom"}),s&&f.jsx("div",{className:"px-2 pb-2",children:f.jsx("input",{ref:c,type:"number",value:t,onChange:h,className:"w-full mt-1 px-3 py-2 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-bold outline-none focus:border-accent transition-all dark:text-white",placeholder:"Value...",autoFocus:!0})})]})]})})]})},F5=(t,e=null)=>{if(!t||t.length===0)return"";const n=e||Object.keys(t[0]),r=n.map(a=>`"${a}"`).join(","),i=t.map(a=>n.map(s=>{let o=a[s];return typeof o=="object"&&o!==null&&(o=JSON.stringify(o)),o==null&&(o=""),`"${String(o).replace(/"/g,'""')}"`}).join(","));return[r,...i].join(`
`)},V5=(t,e)=>{const n="\uFEFF",r=new Blob([n+t],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),a=URL.createObjectURL(r);i.setAttribute("href",a),i.setAttribute("download",e),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a)},pOe=(t,e=null)=>{if(!t||t.length===0)return;const n=t.map(a=>{var s,o,l,c,u,d,h;return{"Order ID":a.orderId||a._id,Date:a.date,Status:a.status,"Customer Name":((s=a.customer)==null?void 0:s.name)||"","Customer Phone":((o=a.customer)==null?void 0:o.phone)||"","Customer Email":((l=a.customer)==null?void 0:l.email)||"","Customer Address":((c=a.customer)==null?void 0:c.address)||"",Governorate:((u=a.customer)==null?void 0:u.governorate)||"","Social Platform":((d=a.customer)==null?void 0:d.social)||"","Items Count":((h=a.items)==null?void 0:h.length)||0,Subtotal:a.subtotal||a.total,"Discount %":a.discount||0,Total:a.total,Notes:a.notes||""}}),r=F5(n),i=e||`orders_export_${new Date().toISOString().split("T")[0]}.csv`;V5(r,i)},mOe=(t,e=null)=>{if(!t||t.length===0)return;const n=t.map(a=>({Name:a.name,Phone:a.phone,Email:a.email||"",Address:a.address||"",Governorate:a.governorate||"","Social Platform":a.social||"",Notes:a.notes||"","Created On":a.createdOn||""})),r=F5(n),i=e||`customers_export_${new Date().toISOString().split("T")[0]}.csv`;V5(r,i)},gOe=(t,e=null)=>{if(!t||t.length===0)return;const n=t.map(a=>({Name:a.name,SKU:a.sku,Category:a.category,Stock:a.stock,Status:a.status,"Selling Price (IQD)":a.sellingPriceIQD||a.price,"Unit Price ($)":a.unitPriceUSD||a.unitPrice,"Profit per Unit (IQD)":a.profitPerUnitIQD||0,"Units Sold":a.unitsSold||0,"Total Profit (IQD)":a.totalProfitIQD||0})),r=F5(n),i=e||`products_export_${new Date().toISOString().split("T")[0]}.csv`;V5(r,i)},yOe=(t,e=null)=>{if(!t||t.length===0)return;const n=t.map(a=>({Date:a.date||"",Type:a.type||"",Campaign:a.campaign||"","Amount (IQD)":a.amountIQD||0,Link:a.link||"",Tags:Array.isArray(a.tags)?a.tags.join(", "):a.tags||"",Attachments:Array.isArray(a.attachments)?a.attachments.map(s=>(s==null?void 0:s.name)||(s==null?void 0:s.url)).filter(Boolean).join(" | "):"",Notes:a.notes||""})),r=F5(n),i=e||`expenses_export_${new Date().toISOString().split("T")[0]}.csv`;V5(r,i)},A3=t=>{const e=Number(t);return e<=0?"Out of Stock":e<10?"Low Stock":"In Stock"},AO=t=>Math.round(t/500)*500,vOe=["In Stock","Low Stock","Out of Stock"],IO=({status:t})=>{const{t:e}=lr(),n=i=>{switch(i){case"In Stock":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400";case"Low Stock":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";case"Out of Stock":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-200"}},r=i=>{switch(i){case"In Stock":return e("products.stockStatus.instock");case"Low Stock":return e("products.stockStatus.lowstock");case"Out of Stock":return e("products.stockStatus.outofstock");default:return i}};return f.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold ${n(t)}`,children:r(t)})},xOe=()=>{const{t,i18n:e}=lr(),{products:n,addProduct:r,updateProduct:i,deleteProduct:a,categories:s,addCategory:o,updateCategory:l,deleteCategory:c,formatCurrency:u,loading:d,brand:h,addToast:p,appearance:g,setIsModalOpen:x}=Nn(),[v,y]=I.useState(""),[b,w]=I.useState([]),[k,E]=I.useState([]),[S,_]=I.useState(!1),[N,P]=I.useState(!1),[A,C]=I.useState(!1),[O,j]=I.useState(100),[R,D]=I.useState(null),[$,U]=I.useState(null),[F,B]=I.useState({key:null,direction:"ascending"}),z=I.useRef(null),[q,G]=I.useState(!1),[te,de]=I.useState(null);I.useEffect(()=>(x(S||N||A||q),()=>x(!1)),[S,N,A,q,x]);const ye={name:"",sku:"",category:"",unitPrice:"",price:"",stock:"",status:"In Stock",images:[],alibabaProductLink:"",alibabaMessageLink:"",alibabaOrderLink:"",alibabaOrderNumber:"",unitPriceUSD:"",exchangeRate:"1380",unitPriceIQD:0,additionalFeesIQD:"",shippingToIraqIQD:"",marginPercent:"",sellingPriceIQD:0,profitPerUnitIQD:0,unitsSold:0,totalProfitIQD:0,alibabaFeeUSD:"",isSellingPriceOverridden:!1,costPriceIQD_total:0,costPriceIQD_perUnit:0,recommendedSellingPriceIQD_perUnit:0,alibabaNote:"",description:"",profitPerUnitUSD:0,totalProfitUSD:0},[J,we]=I.useState(ye),[ke,ne]=I.useState(""),[ve,Te]=I.useState(!1),ae=I.useMemo(()=>{const se={};return n.forEach(H=>{H.category&&(se[H.category]=(se[H.category]||0)+1)}),s.map(H=>({value:H,label:H,count:se[H]||0})).sort((H,ce)=>ce.count-H.count)},[s,n]),Be=I.useMemo(()=>{const se={};return n.forEach(H=>{H.status&&(se[H.status]=(se[H.status]||0)+1)}),vOe.map(H=>({value:H,label:t(`products.stockStatus.${H.replace(/\s/g,"").toLowerCase()}`),count:se[H]||0}))},[n,t]),fe=I.useMemo(()=>{let se=[...n];return F.key&&se.sort((H,ce)=>{let Se=H[F.key],He=ce[F.key];return typeof Se=="string"&&(Se=Se.toLowerCase()),typeof He=="string"&&(He=He.toLowerCase()),Se<He?F.direction==="ascending"?-1:1:Se>He?F.direction==="ascending"?1:-1:0}),se},[n,F]).filter(se=>{const H=se.name.toLowerCase().includes(v.toLowerCase())||se.sku.toLowerCase().includes(v.toLowerCase()),ce=b.length===0||b.includes(se.category),Se=k.length===0||k.includes(se.status);return H&&ce&&Se}).slice(0,O),$e=se=>{let H="ascending";F.key===se&&F.direction==="ascending"&&(H="descending"),B({key:se,direction:H})};I.useEffect(()=>{const se=parseFloat(J.unitPriceUSD)||0,H=parseFloat(J.alibabaFeeUSD)||0,ce=parseInt(J.stock)||0,Se=parseFloat(J.exchangeRate)||1320,He=parseFloat(J.shippingToIraqIQD)||0,en=parseFloat(J.additionalFeesIQD)||0,Bn=parseFloat(J.marginPercent)||0,xn=parseInt(J.unitsSold)||0,re=(se+H)*ce*Se+He+en,Ke=ce>0?re/ce:0,Pe=Ke*(1+Bn/100),Y=AO(Pe);we(K=>{let le=K.sellingPriceIQD;K.isSellingPriceOverridden||(le=Y);const Ae=(parseFloat(le)||0)-Ke,Ee=Ae*xn,ct=Se>0?Ae/Se:0,W=ct*xn;return K.costPriceIQD_total===re&&K.costPriceIQD_perUnit===Ke&&K.recommendedSellingPriceIQD_perUnit===Y&&K.sellingPriceIQD===le&&K.profitPerUnitIQD===Ae&&K.totalProfitIQD===Ee&&K.profitPerUnitUSD===ct&&K.totalProfitUSD===W?K:{...K,costPriceIQD_total:re,costPriceIQD_perUnit:Ke,recommendedSellingPriceIQD_perUnit:Y,sellingPriceIQD:le,profitPerUnitIQD:Ae,totalProfitIQD:Ee,profitPerUnitUSD:ct,totalProfitUSD:W,unitPrice:se,price:le}})},[J.unitPriceUSD,J.alibabaFeeUSD,J.stock,J.exchangeRate,J.shippingToIraqIQD,J.additionalFeesIQD,J.marginPercent,J.unitsSold,J.isSellingPriceOverridden]);const kt=()=>{D(null),we(ye),_(!0)},je=se=>{D(se),we({...ye,...se,images:se.images||[]}),_(!0)},Ue=se=>{de(se),G(!0)},Z=()=>{te&&(a(te),G(!1),de(null))},ge=se=>{const{name:H,value:ce}=se.target;if(H==="category"&&ce==="new")Te(!0),we(Se=>({...Se,category:""}));else if(H==="sellingPriceIQD"){const Se=ce===""?"":parseFloat(ce);we(He=>({...He,sellingPriceIQD:Se,isSellingPriceOverridden:!0}))}else we(Se=>({...Se,[H]:ce}))},Ie=()=>{we(se=>{if(!se.isSellingPriceOverridden)return se;const H=AO(parseFloat(se.sellingPriceIQD)||0),ce=se.costPriceIQD_perUnit,Se=ce>0?(H/ce-1)*100:0;return{...se,sellingPriceIQD:H,marginPercent:Se.toFixed(2)}})},st=se=>{const H=Array.from(se.target.files);H.length!==0&&H.forEach(ce=>{const Se=new FileReader;Se.onloadend=()=>{we(He=>({...He,images:[...He.images,Se.result]}))},Se.readAsDataURL(ce)})},et=se=>{const H=J.images.filter((ce,Se)=>Se!==se);we(ce=>({...ce,images:H}))},gt=se=>{if(se.preventDefault(),parseFloat(J.marginPercent)>=100){p(t("products.marginTooHigh"),"error");return}const H={...J,unitPriceUSD:parseFloat(J.unitPriceUSD)||0,alibabaFeeUSD:parseFloat(J.alibabaFeeUSD)||0,exchangeRate:parseFloat(J.exchangeRate)||1380,additionalFeesIQD:parseFloat(J.additionalFeesIQD)||0,shippingToIraqIQD:parseFloat(J.shippingToIraqIQD)||0,marginPercent:parseFloat(J.marginPercent)||0,unitsSold:parseInt(J.unitsSold)||0,stock:parseInt(J.stock)||0,status:A3(J.stock),unitPrice:parseFloat(J.unitPriceUSD)||0,price:J.sellingPriceIQD||0,images:J.images||[]};R?i({...H,_id:R._id}):r(H),_(!1)},vt=({column:se,label:H,border:ce=!1})=>{const Se=F.key===se;return f.jsx("th",{onClick:()=>$e(se),className:`px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors select-none ${ce?"border-s dark:border-slate-700":""}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[H,Se&&f.jsx("span",{className:"text-[var(--brand-color)] font-bold",children:F.direction==="ascending"?"":""})]})})};return f.jsxs(Ql,{title:t("products.title"),children:[f.jsxs("div",{className:"flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[f.jsxs("div",{className:"flex gap-2 sm:gap-3 items-center w-full sm:w-auto flex-nowrap",children:[f.jsxs("button",{onClick:kt,className:"flex-1 sm:flex-none min-w-0 flex items-center justify-center gap-1 sm:gap-2 px-2.5 sm:px-6 py-2.5 text-white rounded-xl font-bold text-[13px] sm:text-base transition-all bg-accent shadow-accent hover:brightness-110 active:scale-95",children:[f.jsx(ba,{className:"w-4 h-4 sm:w-5 sm:h-5 shrink-0"}),f.jsx("span",{className:"truncate",children:t("products.addProduct")})]}),f.jsxs("button",{onClick:()=>{if(fe.length===0)return p(t("common.noDataToExport"),"info");gOe(fe)},className:"flex-1 sm:flex-none min-w-0 flex items-center justify-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2.5 bg-green-600 text-white rounded-xl font-bold text-[13px] sm:text-base transition-all shadow-lg hover:bg-green-700 active:scale-95",children:[f.jsx(Fp,{className:"w-5 h-5"}),f.jsx("span",{className:"truncate sm:hidden",children:"CSV"}),f.jsx("span",{className:"truncate hidden sm:inline",children:t("common.exportCSV")})]}),f.jsxs("button",{onClick:()=>P(!0),className:"hidden sm:flex flex-1 sm:flex-none min-w-0 items-center justify-center gap-1.5 sm:gap-2 px-3 sm:px-6 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700 active:scale-95",children:[f.jsx(Gx,{className:"w-4 h-4"}),f.jsx("span",{className:"truncate",children:t("products.manageCategories")})]}),f.jsx("button",{onClick:()=>{(b.length>0||k.length>0||v)&&(y(""),w([]),E([]))},className:`sm:hidden flex-1 min-w-0 flex items-center justify-center gap-1.5 px-3 py-2.5 rounded-xl font-bold text-sm transition-all border active:scale-95 ${b.length>0||k.length>0||v?"bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 border-slate-200 dark:border-slate-700":"opacity-0 pointer-events-none border-transparent"}`,children:f.jsx("span",{className:"truncate",children:t("common.clearFilters")})})]}),f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[(b.length>0||k.length>0||v)&&f.jsx("button",{onClick:()=>{y(""),w([]),E([])},className:"hidden sm:inline-flex px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsx("button",{onClick:()=>P(!0),className:"sm:hidden shrink-0 whitespace-nowrap px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700 active:scale-95",children:t("products.manageCategories")}),f.jsx(Vl,{limit:O,onChange:j}),f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(sl,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:fe.length})," ",t("products.title")]})]})]})]}),f.jsxs("div",{className:"flex gap-3 w-full flex-wrap lg:flex-nowrap items-center",children:[f.jsxs("div",{className:"relative order-last w-full sm:order-none sm:min-w-[200px] sm:flex-1 lg:flex-none lg:w-[320px] h-[44px]",children:[f.jsx(Wl,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("products.searchPlaceholder"),value:v,onChange:se=>y(se.target.value),className:"ps-10 pe-4 py-0 h-full w-full bg-white dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-800 rounded-2xl outline-none focus:border-accent/40 focus:ring-4 focus:ring-accent/10 transition-all font-bold text-sm text-slate-700 dark:text-white"})]}),f.jsx(Ui,{title:t("products.categories"),options:ae,selectedValues:b,onChange:w,icon:yl,showProductCount:!0}),f.jsx(Ui,{title:t("products.status"),options:Be,selectedValues:k,onChange:E,icon:tr,showSearch:!1})]})]}),N&&f.jsx(fOe,{categories:s,products:n,onClose:()=>P(!1),onAdd:o,onUpdate:l,onDelete:c}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[f.jsx("div",{className:"hidden sm:block overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:[f.jsx(vt,{column:"name",label:t("products.table.product")}),f.jsx(vt,{column:"category",label:t("products.table.category")}),f.jsx(vt,{column:"stock",label:t("products.table.stock"),border:!0}),f.jsx(vt,{column:"sellingPriceIQD",label:t("products.table.price"),border:!0}),f.jsx(vt,{column:"status",label:t("products.table.status"),border:!0}),f.jsx("th",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:t("common.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:d?Array.from({length:5}).map((se,H)=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(nt,{className:"w-12 h-12 rounded-xl"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{className:"w-24 h-4"}),f.jsx(nt,{className:"w-16 h-3"})]})]})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(nt,{className:"w-20 h-6 rounded-lg"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(nt,{className:"w-12 h-5"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(nt,{className:"w-24 h-5"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(nt,{className:"w-20 h-6 rounded-full"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(nt,{className:"w-16 h-8 ms-auto rounded-lg"})})]},H)):fe.length===0?f.jsx("tr",{children:f.jsxs("td",{colSpan:"6",className:"text-center py-12 text-slate-400",children:[f.jsx(sl,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:t("products.noProducts")})]})}):fe.map(se=>f.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 rounded-xl overflow-hidden bg-slate-100 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 flex-shrink-0 cursor-zoom-in hover:brightness-90 transition-all shadow-sm",onClick:()=>{U(se),C(!0)},children:f.jsx(ga,{src:se.images&&se.images[0]?typeof se.images[0]=="string"?se.images[0]:se.images[0].url:se.image||"https://via.placeholder.com/400x400?text=No+Image",alt:se.name,className:"w-full h-full"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-bold text-slate-800 dark:text-white",children:se.name}),f.jsx("p",{className:"text-xs font-mono text-slate-400 uppercase tracking-tighter",children:se.sku})]})]})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("span",{className:"px-2.5 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-lg text-xs font-bold",children:se.category})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-sm font-bold text-slate-800 dark:text-white",children:se.stock})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-sm font-black text-slate-800 dark:text-white",children:u(se.sellingPriceIQD||se.price||0)})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx(IO,{status:A3(se.stock)})}),f.jsx("td",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-end gap-1",children:[f.jsx("button",{onClick:()=>je(se),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all",title:t("common.edit"),children:f.jsx(Go,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>Ue(se._id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",title:t("common.delete"),children:f.jsx(xi,{className:"w-4 h-4"})})]})})]},se._id))})]})}),f.jsx("div",{className:"block sm:hidden p-4 space-y-3",children:d?Array.from({length:3}).map((se,H)=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-4 flex gap-4",children:[f.jsx(nt,{className:"w-16 h-16 rounded-xl flex-shrink-0"}),f.jsxs("div",{className:"flex-1 space-y-3",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{className:"w-32 h-4"}),f.jsx(nt,{className:"w-20 h-3"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{className:"w-16 h-4"}),f.jsx(nt,{className:"w-12 h-3"})]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx(nt,{className:"w-20 h-3"}),f.jsx(nt,{className:"w-16 h-8 rounded-lg"})]})]})]},H)):fe.length===0?f.jsxs("div",{className:"text-center py-12 text-slate-400",children:[f.jsx(sl,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:t("products.noProducts")})]}):fe.map(se=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-4 flex items-start gap-4",children:[f.jsx("div",{className:"w-16 h-16 rounded-xl overflow-hidden bg-slate-100 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 flex-shrink-0",children:f.jsx(ga,{src:se.images&&se.images[0]?typeof se.images[0]=="string"?se.images[0]:se.images[0].url:se.image||"https://via.placeholder.com/400x400?text=No+Image",alt:se.name,className:"w-full h-full"})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-bold text-slate-800 dark:text-white",children:se.name}),f.jsxs("p",{className:"text-xs text-slate-400",children:[se.sku,"  ",f.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-slate-100 dark:bg-slate-700",children:se.category})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-sm font-black text-slate-800 dark:text-white",children:u(se.sellingPriceIQD||se.price||0)}),f.jsx("div",{className:"text-[10px] text-slate-400",children:A3(se.stock)})]})]}),f.jsxs("div",{className:"flex items-center justify-between mt-3",children:[f.jsxs("div",{className:"text-[11px] text-slate-600",children:[t("products.table.stock"),": ",f.jsx("span",{className:"font-bold",children:se.stock})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>je(se),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-all",title:t("common.edit"),children:f.jsx(Go,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>Ue(se._id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",title:t("common.delete"),children:f.jsx(xi,{className:"w-4 h-4"})})]})]})]})]},se._id))})]}),S&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-black/50 backdrop-blur-sm p-2 sm:p-4 overflow-y-auto",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-2xl w-full max-w-2xl my-4 sm:my-8 animate-in fade-in zoom-in duration-200 flex flex-col relative max-h-[90vh]",children:[f.jsxs("div",{className:"px-6 py-5 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-white dark:bg-slate-800 sticky top-0 z-20 rounded-t-3xl",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white uppercase tracking-tight",children:t(R?"products.editProduct":"products.addProduct")}),f.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:R?`${t("products.sku")}: ${J.sku}`:t("products.fillInfo")})]}),f.jsx("button",{onClick:()=>_(!1),className:"w-10 h-10 flex items-center justify-center text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-all",children:f.jsx(Dr,{className:"w-6 h-6"})})]}),f.jsxs("form",{id:"productForm",onSubmit:gt,className:"overflow-y-auto p-6 space-y-8 custom-scrollbar relative",children:[f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.basicInfo")}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.productName")}),f.jsx("input",{required:!0,name:"name",value:J.name,onChange:ge,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none dark:text-white transition-all",placeholder:t("products.form.productNamePlaceholder")})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.sku")}),f.jsx("input",{required:!0,name:"sku",value:J.sku,onChange:ge,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none dark:text-white transition-all",placeholder:t("products.form.skuPlaceholder")})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.category")}),f.jsx(ca,{title:t("products.form.selectCategory"),options:s.map(se=>({value:se,label:se})),selectedValue:J.category,onChange:se=>we(H=>({...H,category:se})),icon:yl,showSearch:!1,customAction:{label:t("products.form.createCategory"),icon:ba,onClick:()=>P(!0)}})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.stock")}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{required:!0,type:"number",name:"stock",value:J.stock,onChange:ge,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none dark:text-white transition-all shadow-sm"}),f.jsx("div",{className:"absolute end-3 top-1/2 -translate-y-1/2",children:f.jsx(IO,{status:A3(J.stock)})})]})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.alibabaSourcing")}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.productLink")}),f.jsx("input",{name:"alibabaProductLink",value:J.alibabaProductLink,onChange:ge,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium",placeholder:"https://..."})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.messageLink")}),f.jsx("input",{name:"alibabaMessageLink",value:J.alibabaMessageLink,onChange:ge,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium",placeholder:"https://..."})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.orderLink")}),f.jsx("input",{name:"alibabaOrderLink",value:J.alibabaOrderLink,onChange:ge,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium",placeholder:"https://..."})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.alibabaOrderNo")}),f.jsx("input",{name:"alibabaOrderNumber",value:J.alibabaOrderNumber,onChange:ge,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-bold shadow-sm",placeholder:"1234..."})]}),f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.alibabaNote")}),f.jsxs("div",{className:"relative",children:[f.jsx(dY,{className:"absolute start-3 top-3 w-4 h-4 text-slate-400"}),f.jsx("textarea",{name:"alibabaNote",value:J.alibabaNote,onChange:ge,className:"w-full ps-10 pe-4 py-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium min-h-[80px] resize-none",placeholder:t("products.form.notePlaceholder")})]})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.costAndPricing")}),f.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.unitPrice")}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute start-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:"$"}),f.jsx("input",{required:!0,type:"number",step:"0.01",name:"unitPriceUSD",value:J.unitPriceUSD,onChange:ge,className:"w-full ps-7 p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.alibabaFee")}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute start-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:"$"}),f.jsx("input",{type:"number",step:"0.01",name:"alibabaFeeUSD",value:J.alibabaFeeUSD,onChange:ge,className:"w-full ps-7 p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.exchangeRate")}),f.jsx("input",{required:!0,type:"number",name:"exchangeRate",value:J.exchangeRate,onChange:ge,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.margin")}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{required:!0,type:"number",name:"marginPercent",value:J.marginPercent,onChange:ge,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"}),f.jsx("span",{className:"absolute end-3 top-1/2 -translate-y-1/2 text-slate-400",children:"%"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.shippingIQD")}),f.jsx("input",{type:"number",name:"shippingToIraqIQD",value:J.shippingToIraqIQD,onChange:ge,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.otherFeesIQD")}),f.jsx("input",{type:"number",name:"additionalFeesIQD",value:J.additionalFeesIQD,onChange:ge,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none"})]}),f.jsxs("div",{className:"col-span-2 grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:t("products.form.costTotal")}),f.jsxs("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:["IQD ",(J.costPriceIQD_total||0).toLocaleString()]})]}),f.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:t("products.form.costPerUnit")}),f.jsxs("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:["IQD ",(J.costPriceIQD_perUnit||0).toLocaleString()]})]})]}),f.jsxs("div",{className:"col-span-full grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-1",children:t("products.form.recommendedPrice")}),f.jsxs("span",{className:"text-xl font-bold text-slate-600 dark:text-slate-400",children:["IQD ",(J.recommendedSellingPriceIQD_perUnit||0).toLocaleString()]})]}),f.jsxs("div",{className:`p-4 rounded-2xl border-2 transition-all ${J.isSellingPriceOverridden?"bg-orange-50 border-orange-200 dark:bg-orange-900/10 dark:border-orange-800/50":"bg-[var(--brand-color)]/5 border-[var(--brand-color)]/20"}`,children:[f.jsxs("div",{className:"flex justify-between items-start mb-1",children:[f.jsx("span",{className:"text-[10px] font-bold text-[var(--brand-color)] uppercase tracking-wider",children:t("products.form.finalPrice")}),J.isSellingPriceOverridden&&f.jsxs("button",{type:"button",onClick:()=>we(se=>({...se,isSellingPriceOverridden:!1})),className:"text-[10px] font-bold text-orange-600 hover:underline flex items-center gap-1",children:[f.jsx(Dr,{className:"w-3 h-3"})," ",t("common.reset")]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg font-black text-[var(--brand-color)]",children:"IQD"}),f.jsx("input",{type:"number",name:"sellingPriceIQD",value:J.sellingPriceIQD,onChange:ge,onBlur:Ie,className:"w-full bg-transparent border-b-2 border-[var(--brand-color)] animate-pulse-slow outline-none text-2xl font-black text-[var(--brand-color)]"})]}),f.jsx("p",{className:"text-[10px] text-slate-400 mt-1 font-medium italic",children:J.isSellingPriceOverridden?t("products.form.manualOverride"):t("products.form.autoCalculated")})]})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.profitAnalysis")}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("div",{className:"w-2 h-4 bg-green-500 rounded-full"}),f.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-slate-400",children:t("products.form.iqdAnalysis")})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1",children:t("products.form.profitPerUnit")}),f.jsxs("span",{className:`text-lg font-black ${J.profitPerUnitIQD>=0?"text-green-600 dark:text-green-400":"text-red-500"}`,children:[J.profitPerUnitIQD>=0?"+":"-"," IQD ",Math.abs(J.profitPerUnitIQD||0).toLocaleString()]})]}),f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1",children:t("products.form.totalProfit")}),f.jsxs("span",{className:`text-lg font-black ${J.totalProfitIQD>=0?"text-green-500":"text-red-400"}`,children:["IQD ",(J.totalProfitIQD||0).toLocaleString()]})]})]})]}),f.jsxs("div",{className:"p-4 bg-slate-900 dark:bg-slate-950 rounded-2xl border border-slate-800",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("div",{className:"w-2 h-4 bg-blue-500 rounded-full"}),f.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:t("products.form.usdAnalysis")})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:t("products.form.profitPerUnit")}),f.jsxs("span",{className:`text-lg font-black ${J.profitPerUnitUSD>=0?"text-blue-500":"text-red-400"}`,children:[J.profitPerUnitUSD>=0?"+":"-"," $",Math.abs(J.profitPerUnitUSD||0).toFixed(2)]})]}),f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:t("products.form.totalProfit")}),f.jsxs("span",{className:`text-lg font-black ${J.totalProfitUSD>=0?"text-blue-400":"text-red-400"}`,children:["$",(J.totalProfitUSD||0).toFixed(2)]})]})]})]}),f.jsxs("div",{className:"col-span-full p-4 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-lg",children:f.jsx(tr,{className:"w-4 h-4 text-slate-500"})}),f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:t("products.form.qtyCalculation")}),f.jsx("span",{className:"text-xs font-medium text-slate-500 italic",children:t("products.form.unitsExpected")})]})]}),f.jsx("input",{type:"number",name:"unitsSold",value:J.unitsSold,onChange:ge,className:"w-24 text-right p-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg outline-none text-base font-black text-accent focus:ring-2 focus:ring-accent/20"})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-100 dark:border-slate-700 pb-2",children:t("products.form.generalInfo")}),f.jsx("div",{className:"space-y-4",children:f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.description")}),f.jsxs("div",{className:"relative",children:[f.jsx(bD,{className:"absolute left-3 top-3 w-4 h-4 text-slate-400"}),f.jsx("textarea",{name:"description",value:J.description,onChange:ge,className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium min-h-[120px] resize-none",placeholder:t("products.form.descriptionPlaceholder")})]})]})})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-100 dark:border-slate-700 pb-2",children:t("products.form.gallery")}),f.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[J.images.map((se,H)=>f.jsxs("div",{className:"relative group aspect-square rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 group",children:[f.jsx(ga,{src:se,alt:"Product",className:"w-full h-full",imageClassName:"w-full h-full object-cover"}),f.jsx("button",{type:"button",onClick:()=>et(H),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity transform hover:scale-110",children:f.jsx(Dr,{className:"w-3 h-3"})})]},H)),f.jsxs("button",{type:"button",onClick:()=>{var se;return(se=z.current)==null?void 0:se.click()},className:"aspect-square rounded-xl border-2 border-dashed border-slate-300 dark:border-slate-700 flex flex-col items-center justify-center text-slate-400 hover:border-[var(--brand-color)] hover:text-[var(--brand-color)] transition-all hover:bg-slate-50 dark:hover:bg-slate-900 group",children:[f.jsx(vY,{className:"w-5 h-5 mb-1 group-hover:scale-110 transition-transform"}),f.jsx("span",{className:"text-[9px] font-black uppercase",children:t("products.form.addImage")})]})]}),f.jsx("input",{type:"file",ref:z,className:"hidden",onChange:st,multiple:!0,accept:"image/*"})]}),f.jsx("div",{className:"h-28 sm:h-20"})]}),f.jsxs("div",{className:"fixed sm:sticky bottom-0 left-2 right-2 sm:left-auto sm:right-auto w-auto sm:w-auto max-w-2xl p-4 sm:p-6 border-t border-slate-100 dark:border-slate-700 flex flex-row justify-end gap-3 bg-white dark:bg-slate-800 rounded-b-3xl sm:rounded-b-2xl shadow-[0_-10px_20px_rgba(0,0,0,0.05)] z-30",children:[f.jsx("button",{type:"button",onClick:()=>_(!1),className:"px-4 sm:px-6 py-2.5 text-slate-500 dark:text-slate-400 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 rounded-xl transition-all",children:t("common.cancel")}),f.jsxs("button",{type:"submit",form:"productForm",className:"px-5 sm:px-8 py-2.5 text-white font-black rounded-xl transition-all bg-accent shadow-accent active:scale-95 flex items-center justify-center gap-2",children:[f.jsx(m2,{className:"w-5 h-5"}),t(R?"products.update":"products.create")]})]})]})}),A&&$&&f.jsx(IW,{product:$,onClose:()=>{C(!1),U(null)},onSave:async(se,H=!1)=>{await i(se),U(se),H||(C(!1),U(null))}}),f.jsx(vd,{isOpen:q,onClose:()=>{G(!1),de(null)},onConfirm:Z,title:t("common.delete"),message:t("products.confirmDelete")})]})},Yg=({title:t,options:e,selectedValue:n,onChange:r,icon:i})=>{var d;const{appearance:a}=Nn(),[s,o]=I.useState(!1),l=I.useRef(null);I.useEffect(()=>{const h=p=>{l.current&&!l.current.contains(p.target)&&o(!1)};return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[]);const c=h=>{r(h),o(!1)},u=((d=e.find(h=>h.value===n))==null?void 0:d.label)||t;return f.jsxs("div",{className:"relative",ref:l,children:[f.jsxs("button",{onClick:()=>o(!s),className:`flex items-center gap-1.5 px-3 h-[44px] rounded-2xl border-2 transition-all font-bold text-[11px] outline-none ${s?"bg-accent/10 border-accent/30 text-accent shadow-[0_0_15px_-3px_rgba(0,0,0,0.1)]":["liquid","default_glass"].includes(a==null?void 0:a.theme)?"bg-white/40 dark:bg-slate-800/40 backdrop-blur-md border-white/20 dark:border-slate-700/50 text-slate-500 hover:bg-white/60 dark:hover:bg-slate-700/60":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-800 text-slate-500 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[i?f.jsx(i,{className:"w-4 h-4"}):f.jsx(Gx,{className:"w-4 h-4"}),f.jsx("span",{className:"truncate max-w-[120px]",children:u}),f.jsx(no,{className:`w-4 h-4 transition-transform ${s?"rotate-180":""}`})]}),s&&f.jsx("div",{className:"absolute top-full start-0 mt-2 z-50 w-72 animate-in fade-in zoom-in-95 duration-200",children:f.jsxs("div",{className:`rounded-2xl shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col w-full min-w-[240px] transition-all ${["liquid","default_glass"].includes(a==null?void 0:a.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:[f.jsx("div",{className:"px-4 py-3 pb-2 flex items-center justify-between",children:f.jsx("div",{className:"flex items-center gap-3",children:f.jsx("h3",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:t})})}),f.jsx("div",{className:"flex-1 px-2 pb-2 space-y-1 max-h-64 overflow-y-auto",children:e.map(h=>{const p=n===h.value;return f.jsx("div",{onClick:()=>c(h.value),className:`flex items-center justify-between px-3 py-2.5 rounded-xl cursor-pointer transition-all group ${p?"bg-accent/10":["liquid","default_glass"].includes(a==null?void 0:a.theme)?"hover:bg-white/20 dark:hover:bg-slate-700/30":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:f.jsx("span",{className:`text-sm font-semibold ${p?"text-accent":"text-slate-600 dark:text-slate-300"}`,children:h.label})},h.value)})})]})})]})},CO=({order:t,onUpdate:e})=>{const[n,r]=I.useState(!1),i=V.useRef(null);V.useEffect(()=>{const c=u=>{i.current&&!i.current.contains(u.target)&&r(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const{t:a}=lr(),s=c=>{switch(c){case"Processing":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"Completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"Cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";case"Pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";default:return"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-300"}},o=c=>{c!==t.status&&e({...t,status:c}),r(!1)},l=c=>a(`common.status.${c.toLowerCase()}`,c);return f.jsxs("div",{className:"relative",ref:i,children:[f.jsxs("button",{onClick:()=>r(!n),className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold transition-all hover:brightness-95 active:scale-95 ${s(t.status)}`,children:[l(t.status),f.jsx("div",{className:`w-0 h-0 border-s-[3px] border-s-transparent border-t-[4px] border-t-current border-e-[3px] border-e-transparent opacity-50 ${document.dir==="rtl"?"me-1":"ms-1"}`})]}),n&&f.jsx("div",{className:`absolute top-full mt-1 w-32 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-slate-100 dark:border-slate-700 py-1 z-50 animate-in fade-in zoom-in-95 duration-100 ${document.dir==="rtl"?"end-0":"start-0"}`,children:["Processing","Completed","Cancelled","Pending"].map(c=>f.jsx("button",{onClick:()=>o(c),className:`w-full text-start px-3 py-2 text-xs font-bold hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${t.status===c?"text-accent bg-slate-50 dark:bg-slate-700/30":"text-slate-600 dark:text-slate-300"}`,children:l(c)},c))})]})},bOe=()=>{var re,Ke,Pe,Y,K,le,Ae,Ee,ct;const{t}=lr(),{orders:e,products:n,customers:r,addOrder:i,updateOrder:a,deleteOrder:s,addCustomer:o,formatCurrency:l,brand:c,loading:u,appearance:d,addToast:h,setIsModalOpen:p}=Nn(),[g,x]=I.useState(""),[v,y]=I.useState(!1),[b,w]=I.useState(!1),[k,E]=I.useState(null),[S,_]=I.useState(null),[N,P]=I.useState(!1),[A,C]=I.useState(!1),[O,j]=I.useState(null);I.useEffect(()=>(p(v||b||A),()=>p(!1)),[v,b,A,p]);const[R,D]=I.useState(100),$=I.useMemo(()=>e.length===0?O5(new Date,30):e.reduce((W,me)=>{try{const be=Oi(me.date);return be<W?be:W}catch{return W}},new Date),[e]),U=I.useMemo(()=>({from:$,to:new Date}),[$]),[F,B]=I.useState(U),[z,q]=I.useState(!1);V.useEffect(()=>{!u&&e.length>0&&!z&&(B(U),q(!0))},[u,e.length,U,z]);const[G,te]=I.useState([]),[de,ye]=I.useState([]),[J,we]=I.useState([]),[ke,ne]=I.useState("date-new"),[ve,Te]=I.useState({column:"date",direction:"desc"}),ae=I.useMemo(()=>{const W={};return e.forEach(me=>{var Qe;const be=(Qe=me.customer)==null?void 0:Qe.governorate;be&&(W[be]=(W[be]||0)+1)}),Cp.map(me=>({value:me,label:me,count:W[me]||0})).sort((me,be)=>be.count-me.count)},[e]),Be=I.useMemo(()=>{const W={};return e.forEach(me=>{var Qe;const be=(Qe=me.customer)==null?void 0:Qe.social;be&&(W[be]=(W[be]||0)+1)}),Op.map(me=>({value:me,label:me,count:W[me]||0})).sort((me,be)=>be.count-me.count)},[e]),ie=I.useMemo(()=>{const W={};return e.forEach(me=>{const be=me.status;be&&(W[be]=(W[be]||0)+1)}),["Processing","Completed","Cancelled","Pending"].map(me=>({value:me,label:t(`common.status.${me.toLowerCase()}`,me),count:W[me]||0}))},[e,t]),[Q,fe]=I.useState({customerId:"new",customerName:"",customerPhone:"",customerGender:"",customerAddress:"",customerGovernorate:"",customerSocial:"",customerNotes:"",items:[],discount:0}),[$e,kt]=I.useState(""),[je,Ue]=I.useState(1),Z=I.useMemo(()=>e.filter(be=>{const Qe=g.toLowerCase(),Rt=be.orderId.toLowerCase().includes(Qe)||be.customer.name.toLowerCase().includes(Qe),Fe=Oi(be.date),wn=!(F!=null&&F.from)||!(F!=null&&F.to)||Ro(Fe,{start:F.from,end:F.to}),Sr=G.length===0||G.includes(be.customer.governorate),It=de.length===0||de.includes(be.customer.social),Ti=J.length===0||J.includes(be.status);return Rt&&wn&&Sr&&It&&Ti}).sort((be,Qe)=>{let Rt=0;return ve.column==="orderId"?Rt=be.orderId.localeCompare(Qe.orderId):ve.column==="customer"?Rt=be.customer.name.localeCompare(Qe.customer.name):ve.column==="date"?Rt=new Date(be.date)-new Date(Qe.date):ve.column==="total"?Rt=be.total-Qe.total:ve.column==="status"&&(Rt=be.status.localeCompare(Qe.status)),ve.direction==="asc"?Rt:-Rt}).slice(0,R),[e,g,G,de,J,ke,F,ve,R]),ge=W=>{ne(W),W==="date-new"?Te({column:"date",direction:"desc"}):W==="date-old"?Te({column:"date",direction:"asc"}):W==="total-high"?Te({column:"total",direction:"desc"}):W==="total-low"?Te({column:"total",direction:"asc"}):W==="name-asc"&&Te({column:"customer",direction:"asc"})},Ie=()=>{if(!$e)return;const W=n.find(It=>It._id===$e);if(!W)return;const me=parseInt(je),be=e.find(It=>It._id===S),Qe=be==null?void 0:be.items.find(It=>It.product._id===W._id),Rt=Qe?Qe.quantity:0,Fe=W.stock+Rt;if(me>Fe)return h(t("orders.stockError",{available:Fe}),"error");const wn=Q.items.findIndex(It=>It.product._id===W._id),Sr=W.sellingPriceIQD||W.price||0;if(wn>-1){const It=[...Q.items],Ti=It[wn].quantity+me;if(Ti>Fe)return h(t("orders.limitReached",{available:Fe}),"error");It[wn].quantity=Ti,fe(ri=>({...ri,items:It}))}else fe(It=>({...It,items:[...It.items,{product:W,quantity:me,price:Sr}]}));Ue(1),kt("")},st=W=>{const me=Q.items.filter((be,Qe)=>Qe!==W);fe(be=>({...be,items:me}))},et=(W,me)=>{const be=[...Q.items];be[W].price=parseFloat(me||0),fe(Qe=>({...Qe,items:be}))},gt=(W,me)=>{Q.items[W].product;const be=parseInt(me||0),Qe=[...Q.items];Qe[W].quantity=be,fe(Rt=>({...Rt,items:Qe}))},vt=W=>W.reduce((me,be)=>me+be.price*be.quantity,0),se=()=>{const W=vt(Q.items),me=W*(Q.discount/100);let be=W-me;return be=Math.ceil(be/500)*500,be},H=W=>{if(fe(me=>({...me,customerId:W})),W==="new")fe(me=>({...me,customerName:"",customerPhone:"",customerGender:"",customerAddress:"",customerGovernorate:"",customerSocial:""}));else if(W){const me=r.find(be=>be._id===W);me&&fe(be=>({...be,customerName:me.name,customerPhone:me.phone,customerGender:me.gender||"",customerAddress:me.address,customerGovernorate:me.governorate,customerSocial:me.social}))}},ce=W=>{w(!1),_(W._id);const me=r.find(be=>be.name===W.customer.name&&be.phone===W.customer.phone);fe({customerId:me?me._id:"new",customerName:W.customer.name,customerPhone:W.customer.phone,customerGender:W.customer.gender||"",customerAddress:W.customer.address||"",customerGovernorate:W.customer.governorate||"",customerSocial:W.customer.social||"",customerNotes:W.notes||"",items:W.items,discount:W.discount||0}),y(!0)},Se=W=>{E(W),w(!0)},He=async()=>{if(Q.items.length===0)return h(t("orders.addItemsError"),"error");if(!Q.customerName||!Q.customerPhone)return h(t("orders.customerError"),"error");const W=e.find(me=>me._id===S);for(const me of Q.items){const be=n.find(wn=>wn._id===me.product._id),Qe=W==null?void 0:W.items.find(wn=>wn.product._id===me.product._id),Rt=Qe?Qe.quantity:0,Fe=((be==null?void 0:be.stock)||0)+Rt;if(me.quantity>Fe)return h(t("orders.stockErrorWithName",{name:me.product.name,available:Fe}),"error")}P(!0);try{let me={_id:Q.customerId!=="new"?Q.customerId:void 0,name:Q.customerName,phone:Q.customerPhone,gender:Q.customerGender,address:Q.customerAddress,governorate:Q.customerGovernorate,social:Q.customerSocial};if(Q.customerId==="new"){const Fe=await o({...me,email:""});me._id=Fe._id}const be=vt(Q.items),Qe=se(),Rt={customer:me,date:S&&W?W.date:new Date().toISOString(),total:Qe,subtotal:be,discount:Q.discount,status:S&&W?W.status:"Processing",items:Q.items,notes:Q.customerNotes};if(S&&W)await a({...Rt,_id:S,orderId:W.orderId});else{const Fe=await i(Rt);Fe&&setTimeout(()=>{try{en(Fe)}catch(wn){console.error("Print error:",wn)}},800)}y(!1),_(null),fe({customerId:"new",customerName:"",customerPhone:"",customerGender:"",customerAddress:"",customerGovernorate:"",customerSocial:"",customerNotes:"",items:[],discount:0})}catch(me){console.error("Order submission error:",me),h(t("orders.errors.submitError",{message:me.message||t("orders.errors.unknown")}),"error")}finally{P(!1)}},en=W=>{const me=window.open("","","width=600,height=800"),be=document.dir==="rtl";me.document.write(`
            <html dir="${be?"rtl":"ltr"}">
                <head>
                    <title>${t("orders.receipt.title")}</title>
                    <style>
                        body { font-family: 'Cairo', 'Courier New', monospace; padding: 20px; font-size: 14px; direction: ${be?"rtl":"ltr"}; }
                        .header { text-align: center; margin-bottom: 20px; }
                        .item { display: flex; justify-content: space-between; margin-bottom: 5px; }
                        .divider { border-top: 1px dashed black; margin: 10px 0; }
                        .totals { text-align: ${be?"left":"right"}; margin-top: 10px; }
                        .total-row { display: flex; justify-content: space-between; font-weight: bold; margin-top: 5px; }
                        .discount { color: red; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h2>${t("orders.receipt.companyName")}</h2>
                        <p>${t("orders.receipt.address")}</p>
                        <p>${t("orders.receipt.order")}: ${W.orderId||"###"}</p>
                        <p>${W.date}</p>
                    </div>
                    <div class="divider"></div>
                    <div>
                        <p><strong>${t("orders.receipt.customer")}:</strong> ${W.customer.name}</p>
                        <p><strong>${t("orders.receipt.phone")}:</strong> ${W.customer.phone||t("orders.receipt.na")}</p>
                        <p><strong>${t("orders.receipt.gov")}:</strong> ${W.customer.governorate||t("orders.receipt.na")}</p>
                    </div>
                    <div class="divider"></div>
                    <div>
                        ${W.items.map(Qe=>`
                            <div class="item">
                                <span>${Qe.product.name} <br> <small>x${Qe.quantity} @ ${l(Qe.price)}</small></span>
                                <span>${l(Qe.price*Qe.quantity)}</span>
                            </div>
                        `).join("")}
                    </div>
                    <div class="divider"></div>
                    <div class="totals">
                        <div class="total-row" style="font-weight: normal;">
                            <span>${t("orders.receipt.subtotal")}:</span>
                            <span>${l(W.subtotal||W.total)}</span>
                        </div>
                        ${W.discount?`
                        <div class="total-row discount" style="font-weight: normal;">
                            <span>${t("orders.receipt.discount")} (${W.discount}%):</span>
                            <span>-${l((W.subtotal||W.total)-W.total)}</span>
                        </div>
                        `:""}
                        <div class="total-row" style="font-size: 18px; margin-top: 10px;">
                            <span>${t("orders.receipt.total")}:</span>
                            <span>${l(W.total)}</span>
                        </div>
                    </div>
                    <div class="divider"></div>
                    <div style="text-align: center; margin-top: 20px;">
                        <p>${t("orders.receipt.thankYou")}</p>
                        <p>${t("orders.receipt.noReturn")}</p>
                    </div>
                </body>
            </html>
        `),me.document.close(),me.print()},Bn=W=>{ve.column===W?Te(me=>({...me,direction:me.direction==="asc"?"desc":"asc"})):Te({column:W,direction:"asc"})},xn=({column:W,label:me,border:be=!1})=>{const Qe=ve.column===W;return f.jsx("th",{onClick:()=>Bn(W),className:`px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-600 transition-colors select-none ${be?"border-s dark:border-slate-700":""}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[me,Qe&&f.jsx("span",{className:"text-accent font-bold",children:ve.direction==="asc"?"":""})]})})},bn=N||Q.items.length===0||Q.items.some(W=>{const me=n.find(Fe=>Fe._id===W.product._id),be=e.find(Fe=>Fe._id===S),Qe=be==null?void 0:be.items.find(Fe=>Fe.product._id===W.product._id),Rt=Qe?Qe.quantity:0;return W.quantity>((me==null?void 0:me.stock)||0)+Rt}),cr=t(S?"orders.updateOrder":"orders.saveOrder");return f.jsxs(Ql,{title:t("orders.title"),children:[f.jsxs("div",{className:`flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-all ${["liquid","default_glass"].includes(d.theme)?"glass-panel":""}`,children:[f.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[f.jsxs("button",{onClick:()=>{y(!0),_(null),fe({customerId:"new",customerName:"",customerPhone:"",customerAddress:"",customerGovernorate:"",customerSocial:"",customerNotes:"",items:[],discount:0})},className:"flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-xl font-bold transition-all bg-accent shadow-accent active:scale-95",children:[f.jsx(ba,{className:"w-5 h-5"}),f.jsx("span",{children:t("orders.createOrder")})]}),f.jsxs("button",{onClick:()=>{if(Z.length===0)return h(t("common.noDataToExport"),"info");pOe(Z)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 text-white rounded-xl font-bold transition-all shadow-lg hover:bg-green-700",children:[f.jsx(Fp,{className:"w-5 h-5"}),f.jsx("span",{className:"sm:hidden",children:"CSV"}),f.jsx("span",{className:"hidden sm:inline",children:t("common.exportCSV")})]})]}),(G.length>0||J.length>0||de.length>0||g||((re=F.from)==null?void 0:re.getTime())!==((Ke=U.from)==null?void 0:Ke.getTime())||((Pe=F.to)==null?void 0:Pe.getTime())!==((Y=U.to)==null?void 0:Y.getTime()))&&f.jsx("button",{onClick:()=>{x(""),we([]),te([]),ye([]),B(U)},className:"sm:hidden ms-auto shrink-0 whitespace-nowrap px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsxs("div",{className:"hidden sm:flex gap-2 sm:gap-3 items-center w-full sm:w-auto flex-nowrap overflow-visible",children:[(G.length>0||J.length>0||de.length>0||g||((K=F.from)==null?void 0:K.getTime())!==((le=U.from)==null?void 0:le.getTime())||((Ae=F.to)==null?void 0:Ae.getTime())!==((Ee=U.to)==null?void 0:Ee.getTime()))&&f.jsx("button",{onClick:()=>{x(""),we([]),te([]),ye([]),B(U)},className:"shrink-0 whitespace-nowrap px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsx(Vl,{limit:R,onChange:D}),f.jsxs("div",{className:"shrink-0 whitespace-nowrap flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(tr,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:Z.length})," ",t("orders.title")]})]})]})]}),f.jsxs("div",{className:"flex sm:hidden gap-2 items-center w-full flex-nowrap overflow-visible",children:[f.jsx(Yg,{title:t("common.sort"),options:[{value:"date-new",label:t("common.dateNew")},{value:"date-old",label:t("common.dateOld")},{value:"total-high",label:t("common.priceHigh")},{value:"total-low",label:t("common.priceLow")},{value:"name-asc",label:t("common.nameAZ")}],selectedValue:ke,onChange:ge}),f.jsx(Vl,{limit:R,onChange:D}),f.jsxs("div",{className:"shrink-0 whitespace-nowrap flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(tr,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:Z.length})," ",t("orders.title")]})]})]}),f.jsxs("div",{className:"flex gap-3 w-full flex-wrap lg:flex-nowrap items-center",children:[f.jsxs("div",{className:"relative order-last w-full sm:order-none sm:min-w-[200px] sm:flex-1 lg:flex-none lg:w-[280px] h-[44px]",children:[f.jsx(Wl,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("orders.searchPlaceholder"),value:g,onChange:W=>x(W.target.value),className:"ps-10 pe-4 py-0 h-full w-full bg-white dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-800 rounded-2xl outline-none focus:border-accent/40 focus:ring-4 focus:ring-accent/10 transition-all font-bold text-sm text-slate-700 dark:text-white"})]}),f.jsx("div",{className:"h-[44px] flex-shrink-0",children:f.jsx(j5,{range:F,onRangeChange:B,brandColor:c.color})}),f.jsx(Ui,{title:t("orders.status"),options:ie,selectedValues:J,onChange:we,icon:tr,showSearch:!1}),f.jsx(Ui,{title:t("orders.governorate"),options:ae,selectedValues:G,onChange:te,icon:Xa,showSearch:!1}),f.jsx(Ui,{title:t("orders.socialMedia"),options:Be,selectedValues:de,onChange:ye,icon:Ho,showSearch:!1}),f.jsx("div",{className:"hidden sm:block",children:f.jsx(Yg,{title:t("common.sort"),options:[{value:"date-new",label:t("common.dateNew")},{value:"date-old",label:t("common.dateOld")},{value:"total-high",label:t("common.priceHigh")},{value:"total-low",label:t("common.priceLow")},{value:"name-asc",label:t("common.nameAZ")}],selectedValue:ke,onChange:ge})})]})]}),f.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-all ${["liquid","default_glass"].includes(d.theme)?"glass-panel":""}`,children:[f.jsx("div",{className:"hidden sm:block overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-500 uppercase",children:[f.jsx(xn,{column:"orderId",label:t("orders.table.orderId")}),f.jsx(xn,{column:"customer",label:t("orders.table.customer")}),f.jsx(xn,{column:"date",label:t("orders.table.date"),border:!0}),f.jsx(xn,{column:"total",label:t("orders.table.total"),border:!0}),f.jsx(xn,{column:"status",label:t("orders.table.status"),border:!0}),f.jsx("th",{className:"ps-6 pe-6 py-4 text-end border-s dark:border-slate-700",children:t("common.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:u?Array.from({length:5}).map((W,me)=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4",children:f.jsx(nt,{className:"w-20 h-5"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{className:"w-32 h-5"}),f.jsx(nt,{className:"w-24 h-3"})]})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(nt,{className:"w-24 h-4"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(nt,{className:"w-24 h-5"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(nt,{className:"w-24 h-6 rounded-full"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(nt,{className:"w-20 h-8 ms-auto rounded-lg"})})]},me)):Z.map(W=>f.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4 text-sm font-semibold text-[var(--brand-color)]",children:W.orderId}),f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-sm font-medium text-slate-800 dark:text-white",children:W.customer.name}),f.jsxs("span",{className:"text-xs text-slate-500 flex gap-1 items-center",children:[W.customer.governorate&&f.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-1 rounded",children:W.customer.governorate}),W.customer.phone]})]})}),f.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 dark:text-slate-400 border-s dark:border-slate-700",children:W.date}),f.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-800 dark:text-white border-s dark:border-slate-700",children:l(W.total)}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx(CO,{order:W,onUpdate:a})}),f.jsx("td",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("button",{onClick:()=>Se(W),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",title:"View Details",children:f.jsx(eE,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>ce(W),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",title:"Edit Order",children:f.jsx(Go,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>en(W),className:"p-2 text-slate-400 hover:text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg",title:"Print Receipt",children:f.jsx(zv,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>{j(W._id),C(!0)},className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",title:"Delete Order",children:f.jsx(xi,{className:"w-4 h-4"})})]})})]},W._id))})]})}),f.jsx("div",{className:"block sm:hidden p-4 space-y-3",children:u?f.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((W,me)=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-4",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{className:"w-24 h-5"}),f.jsx(nt,{className:"w-32 h-4"})]}),f.jsx(nt,{className:"w-20 h-8 rounded-lg"})]}),f.jsxs("div",{className:"flex justify-between items-end",children:[f.jsx(nt,{className:"w-24 h-3"}),f.jsx(nt,{className:"w-24 h-6"})]})]},me))}):Z.length===0?f.jsxs("div",{className:"text-center py-12 text-slate-400",children:[f.jsx(tr,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:t("orders.noOrders")||t("orders.title")})]}):Z.map(W=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-4 flex items-start justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-black text-[var(--brand-color)]",children:W.orderId}),f.jsx("div",{className:"text-sm font-bold text-slate-800 dark:text-white",children:W.customer.name}),f.jsx("div",{className:"text-xs text-slate-400",children:W.date})]}),f.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[f.jsx("div",{className:"font-black text-lg",children:l(W.total)}),f.jsx("div",{children:f.jsx(CO,{order:W,onUpdate:a})}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>Se(W),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-all",children:f.jsx(eE,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>ce(W),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-all",children:f.jsx(Go,{className:"w-4 h-4"})})]})]})]},W._id))})]}),v&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-slate-900/60 backdrop-blur-md p-2 md:p-4 overflow-hidden",children:f.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[32px] shadow-2xl w-full max-w-5xl my-4 sm:my-8 min-h-0 flex flex-col overflow-hidden animate-in fade-in zoom-in duration-300 relative max-h-[90vh]",children:f.jsxs("div",{className:"flex-1 min-h-0 flex flex-col md:flex-row overflow-y-auto overflow-x-hidden md:overflow-hidden custom-scrollbar",children:[f.jsxs("div",{className:"order-2 md:order-1 w-full shrink-0 md:shrink md:flex-1 p-4 md:p-6 border-t md:border-t-0 md:border-e border-slate-100 dark:border-slate-700 flex flex-col md:min-h-0 overflow-x-hidden overflow-visible md:overflow-visible relative z-20",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 pb-4 z-10 md:sticky md:top-0 lg:static",children:[f.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white",children:"Add Items"}),f.jsx("div",{className:"space-y-4",children:f.jsxs("div",{className:"grid grid-cols-[minmax(0,1fr)_68px_40px] sm:grid-cols-[minmax(0,1fr)_96px_52px] gap-2 items-end",children:[f.jsxs("div",{className:"min-w-0",children:[f.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5 ms-1",children:t("orders.searchProduct")}),f.jsx(ca,{title:t("orders.chooseProduct"),options:n.filter(W=>W.stock>0).map(W=>({value:W._id,label:`${W.name} (${W.stock}) - ${l(W.price)}`})),selectedValue:$e,onChange:kt,icon:yl,placeholder:t("orders.searchPlaceholder")})]}),f.jsxs("div",{className:"w-full",children:[f.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5 ms-1",children:t("orders.qty")}),f.jsx("input",{type:"number",min:"1",value:je,onChange:W=>Ue(W.target.value),className:`w-full p-3 border-2 rounded-xl dark:bg-slate-900 dark:text-white outline-none text-center font-bold ${$e&&parseInt(je)>(((ct=n.find(W=>W._id===$e))==null?void 0:ct.stock)||0)?"border-red-500 text-red-500 ring-4 ring-red-500/10":"border-slate-100 dark:border-slate-700 focus:border-[var(--brand-color)]"}`})]}),f.jsx("button",{type:"button",onClick:Ie,disabled:!$e||!je,className:"h-11 sm:h-[52px] w-11 sm:w-[52px] text-white font-black rounded-xl transition-all bg-accent shadow-accent active:scale-95 disabled:opacity-50 flex items-center justify-center",children:f.jsx(ba,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})})]}),f.jsx("div",{className:"overflow-visible mt-6 space-y-3 custom-scrollbar md:min-h-[300px] md:pr-1 md:flex-1 md:overflow-y-auto",children:Q.items.length===0?f.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 border-2 border-dashed border-slate-100 dark:border-slate-700/50 rounded-3xl py-12",children:[f.jsx(tr,{className:"w-12 h-12 mb-2 opacity-20"}),f.jsx("p",{className:"font-bold",children:t("orders.cartEmpty")}),f.jsx("p",{className:"text-xs",children:t("orders.cartEmptySub")})]}):Q.items.map((W,me)=>f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-4 bg-slate-50 dark:bg-slate-900/30 rounded-2xl border border-slate-100 dark:border-slate-700/50 group hover:border-indigo-500/50 transition-all overflow-hidden",children:[f.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1 min-w-0",children:[f.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-white dark:bg-slate-800 border dark:border-slate-700 shrink-0",children:f.jsx(ga,{src:W.product.images&&W.product.images[0]?typeof W.product.images[0]=="string"?W.product.images[0]:W.product.images[0].url:"",alt:W.product.name||"Product image",className:"w-full h-full",imageClassName:"w-full h-full object-cover"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h4",{className:"text-sm font-black text-slate-800 dark:text-white truncate",children:W.product.name}),f.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 mt-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:t("orders.price")}),f.jsx("input",{type:"number",value:W.price,onChange:be=>et(me,be.target.value),className:"w-20 sm:w-24 p-1.5 text-xs font-black border-2 border-slate-100 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800 dark:text-white transition-colors focus:border-[var(--brand-color)]"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:t("orders.qty")}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"number",min:"1",value:W.quantity,onChange:be=>gt(me,be.target.value),className:`w-14 sm:w-16 p-1.5 text-xs font-black border-2 rounded-lg bg-white dark:bg-slate-800 dark:text-white transition-all text-center ${W.quantity>W.product.stock?"border-red-500 text-red-500 ring-4 ring-red-500/10":"border-slate-100 dark:border-slate-700 focus:border-indigo-500"}`}),W.quantity>W.product.stock&&f.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 bg-red-500 text-white text-[8px] px-1.5 py-0.5 rounded font-black whitespace-nowrap animate-bounce",children:t("orders.onlyLeft",{count:W.product.stock})})]})]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 w-full sm:w-auto justify-between sm:justify-end mt-3 sm:mt-0 sm:ml-4",children:[f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:t("orders.subtotal")}),f.jsx("span",{className:"text-sm font-black dark:text-white break-words",children:l(W.price*W.quantity)})]}),f.jsx("button",{onClick:()=>st(me),className:"p-2.5 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-all",children:f.jsx(xi,{className:"w-4 h-4"})})]})]},me))}),f.jsx("div",{className:"mt-8 pt-6 pb-8 md:pb-8 border-t border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800 md:sticky md:bottom-0",children:f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsxs("div",{className:"flex justify-between items-center text-sm",children:[f.jsx("span",{className:"font-bold text-slate-400 uppercase tracking-widest text-[10px]",children:t("orders.orderSubtotal")}),f.jsx("span",{className:"font-black dark:text-white text-lg",children:l(vt(Q.items))})]}),f.jsxs("div",{className:"flex justify-between items-center p-3.5 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-700",children:[f.jsxs("span",{className:"text-xs font-bold text-slate-500 flex items-center gap-2",children:[f.jsx(Ff,{className:"w-4 h-4 text-accent"})," ",t("orders.applyDiscount")]}),f.jsx("div",{className:"w-48",children:f.jsx(ca,{title:t("orders.noDiscount"),options:[0,5,10,15,20,30,40,50,75,100].map(W=>({value:W,label:W===0?t("orders.noDiscount"):t("orders.offDiscount",{percent:W})})),selectedValue:Q.discount,onChange:W=>fe(me=>({...me,discount:W})),showSearch:!1,direction:"up"})})]}),f.jsxs("div",{className:"flex justify-between items-center pt-2",children:[f.jsx("span",{className:"font-black text-slate-800 dark:text-white uppercase tracking-tighter text-sm",children:t("orders.grandTotal")}),f.jsx("span",{className:"font-black text-3xl text-accent",children:l(se())})]})]})})]}),f.jsxs("div",{className:"order-1 md:order-2 w-full shrink-0 md:w-1/3 p-4 bg-slate-50 dark:bg-slate-900/50 md:flex md:flex-col md:min-h-0 border-b md:border-b-0 md:border-l border-slate-100 dark:border-slate-700 relative z-10",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-lg font-black text-slate-800 dark:text-white uppercase tracking-tighter",children:t("orders.customerInfo")}),f.jsx("button",{onClick:()=>y(!1),className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-white rounded-lg hover:bg-white dark:hover:bg-slate-800 transition-colors",children:f.jsx(Dr,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"space-y-2 pb-2 md:pb-0 md:pr-1 custom-scrollbar",children:[f.jsx("div",{className:"space-y-2",children:f.jsx(ca,{title:t("orders.chooseCustomer"),options:r.map(W=>({value:W._id,label:W.name})),selectedValue:Q.customerId,onChange:H,icon:Oo,placeholder:t("orders.searchCustomers"),customAction:{label:t("orders.createNewCustomer"),icon:ba,onClick:()=>H("new")}})}),f.jsxs("div",{className:`space-y-2 transition-all duration-300 ${Q.customerId?"opacity-100 pointer-events-auto":"opacity-30 pointer-events-none grayscale"}`,children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.fullName")}),f.jsx("input",{placeholder:"e.g. Ahmed Ali",value:Q.customerName,onChange:W=>fe({...Q,customerName:W.target.value}),className:"w-full p-2 border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm text-sm",disabled:Q.customerId!=="new"})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.phone")}),f.jsx("input",{placeholder:"07XX XXX XXXX",value:Q.customerPhone,onChange:W=>fe({...Q,customerPhone:W.target.value}),className:"w-full p-2 border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm text-sm",disabled:Q.customerId!=="new"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.gender")}),f.jsx(ca,{title:t("common.select"),options:[{value:"Male",label:t("common.male")},{value:"Female",label:t("common.female")}],selectedValue:Q.customerGender,onChange:W=>fe({...Q,customerGender:W}),showSearch:!1,disabled:Q.customerId!=="new"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.governorate")}),f.jsx(ca,{title:t("common.select"),options:Cp.map(W=>({value:W,label:W})),selectedValue:Q.customerGovernorate,onChange:W=>fe({...Q,customerGovernorate:W}),icon:Xa,showSearch:!1,disabled:Q.customerId!=="new"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.social")}),f.jsx(ca,{title:t("common.select"),options:Op.map(W=>({value:W,label:W})),selectedValue:Q.customerSocial,onChange:W=>fe({...Q,customerSocial:W}),icon:Ho,showSearch:!1,disabled:Q.customerId!=="new"})]})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.shippingAddress")}),f.jsx("textarea",{placeholder:"House/District/Street...",value:Q.customerAddress,onChange:W=>fe({...Q,customerAddress:W.target.value}),className:"w-full p-2 text-xs border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm resize-none",disabled:Q.customerId!=="new",rows:"1"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.internalNotes")}),f.jsx("textarea",{placeholder:"Special instructions...",value:Q.customerNotes,onChange:W=>fe({...Q,customerNotes:W.target.value}),className:"w-full p-2 text-xs border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm resize-none",rows:"2"})]})]})]}),f.jsx("div",{className:"mt-auto pt-2 border-t border-slate-100 dark:border-slate-700 hidden md:block",children:f.jsx("button",{onClick:He,disabled:bn,className:"w-full py-3 bg-accent text-white rounded-2xl font-black shadow-accent active:scale-[0.98] transition-all disabled:opacity-50 disabled:grayscale flex items-center justify-center gap-3",children:N?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),t("common.saving")]}):f.jsxs(f.Fragment,{children:[f.jsx(tr,{className:"w-5 h-5"}),cr]})})})]}),f.jsx("div",{className:"order-3 md:hidden mt-2 bg-white dark:bg-slate-800 border-t border-slate-100 dark:border-slate-700 p-4",children:f.jsx("button",{onClick:He,disabled:bn,className:"w-full py-3 bg-accent text-white rounded-2xl font-black shadow-accent active:scale-[0.98] transition-all disabled:opacity-50 disabled:grayscale flex items-center justify-center gap-3",children:N?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),t("common.saving")]}):f.jsxs(f.Fragment,{children:[f.jsx(tr,{className:"w-5 h-5"}),cr]})})})]})})}),b&&k&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/40 backdrop-blur-md p-4 animate-in fade-in duration-300",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[32px] shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col relative",children:[f.jsxs("div",{className:"px-8 py-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center sticky top-0 bg-white dark:bg-slate-800 z-10",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white uppercase tracking-tight",children:"Order Details"}),f.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:[k.orderId,"  ",k.date]})]}),f.jsx("button",{onClick:()=>w(!1),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:f.jsx(Dr,{className:"w-6 h-6 text-slate-400"})})]}),f.jsx("div",{className:"p-8 overflow-y-auto custom-scrollbar flex-1 bg-slate-50 dark:bg-slate-900/50",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[f.jsx(Oo,{className:"w-3.5 h-3.5"}),"Customer Information"]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-black text-slate-900 dark:text-white",children:k.customer.name}),f.jsx("div",{className:"text-xs text-slate-500 font-bold",children:k.customer.phone})]}),f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx(Xa,{className:"w-4 h-4 text-slate-300 mt-0.5 shrink-0"}),f.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:[f.jsx("span",{className:"font-bold text-slate-800 dark:text-white",children:k.customer.governorate}),f.jsx("br",{}),k.customer.address]})]}),k.customer.social&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Ho,{className:"w-4 h-4 text-slate-300 shrink-0"}),f.jsx("span",{className:"text-[10px] font-black text-accent uppercase tracking-wider bg-accent/5 px-2 py-0.5 rounded-lg",children:k.customer.social})]})]})]}),k.notes&&f.jsxs("div",{className:"bg-amber-50/50 dark:bg-amber-900/10 p-6 rounded-3xl border border-amber-100 dark:border-amber-900/30",children:[f.jsx("h4",{className:"text-[11px] font-black text-amber-600 dark:text-amber-500 uppercase tracking-widest mb-2",children:"Order Notes"}),f.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 italic",children:['"',k.notes,'"']})]})]}),f.jsx("div",{className:"space-y-6",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[f.jsx(yl,{className:"w-3.5 h-3.5"}),"Items Summary"]}),f.jsx("div",{className:"space-y-4 max-h-[300px] overflow-y-auto custom-scrollbar pr-2",children:k.items.map((W,me)=>f.jsxs("div",{className:"flex justify-between items-center p-3 rounded-2xl bg-slate-50 dark:bg-slate-900/50 border border-slate-100 dark:border-slate-800 group",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"w-10 h-10 rounded-xl bg-white dark:bg-slate-800 flex items-center justify-center font-black text-xs text-accent border border-slate-100 dark:border-slate-700 shadow-sm",children:[W.quantity,""]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-bold text-slate-800 dark:text-white line-clamp-1",children:W.product.name}),f.jsxs("div",{className:"text-[10px] font-bold text-slate-400 uppercase",children:[l(W.price)," each"]})]})]}),f.jsx("span",{className:"text-sm font-black text-slate-900 dark:text-white whitespace-nowrap",children:l(W.price*W.quantity)})]},me))}),f.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-100 dark:border-slate-700 space-y-3",children:[f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{className:"text-slate-400 font-bold uppercase tracking-widest text-[10px]",children:"Subtotal"}),f.jsx("span",{className:"font-black text-slate-700 dark:text-slate-300",children:l(k.subtotal||k.total)})]}),k.discount>0&&f.jsxs("div",{className:"flex justify-between text-sm text-red-500",children:[f.jsxs("span",{className:"font-bold uppercase tracking-widest text-[10px]",children:["Discount ($",k.discount,"%)"]}),f.jsxs("span",{className:"font-black",children:["-",l((k.subtotal||k.total)-k.total)]})]}),f.jsxs("div",{className:"flex justify-between items-end pt-2",children:[f.jsx("span",{className:"text-slate-900 dark:text-white font-black uppercase tracking-tighter text-sm",children:"Final Total"}),f.jsx("span",{className:"text-2xl font-black text-accent",children:l(k.total)})]})]})]})})]})}),f.jsxs("div",{className:"px-8 py-6 border-t border-slate-100 dark:border-slate-700 flex justify-end items-center gap-3 bg-white dark:bg-slate-800",children:[f.jsxs("button",{onClick:()=>ce(k),className:"px-6 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-xl font-bold flex items-center gap-2 hover:bg-slate-200 dark:hover:bg-slate-600 transition-all active:scale-95",children:[f.jsx(Go,{className:"w-4 h-4"}),"Edit Order"]}),f.jsxs("button",{onClick:()=>en(k),className:"px-6 py-2.5 bg-green-600 text-white rounded-xl font-bold flex items-center gap-2 hover:bg-green-700 shadow-lg shadow-green-600/20 transition-all active:scale-95",children:[f.jsx(zv,{className:"w-4 h-4"}),"Print Receipt"]})]})]})}),f.jsx(vd,{isOpen:A,onClose:()=>{C(!1),j(null)},onConfirm:()=>{O&&(s(O),C(!1),j(null))},title:t("common.delete"),message:t("orders.deleteConfirm")})]})},wOe=()=>{const{t}=lr(),{customers:e,orders:n,addCustomer:r,updateCustomer:i,formatCurrency:a,brand:s,addToast:o,loading:l,appearance:c,setIsModalOpen:u}=Nn(),[d,h]=I.useState(""),[p,g]=I.useState([]),[x,v]=I.useState([]),[y,b]=I.useState(!1),[w,k]=I.useState(!1);I.useEffect(()=>(u(y||w),()=>u(!1)),[y,w,u]);const[E,S]=I.useState("orders-high"),_=I.useMemo(()=>e.length===0?O5(new Date,90):e.reduce((Z,ge)=>{try{const Ie=ge.createdOn?Oi(ge.createdOn):new Date;return Ie<Z?Ie:Z}catch{return Z}},new Date),[e]),N=I.useMemo(()=>({from:_,to:new Date}),[_]),[P,A]=I.useState(N),[C,O]=I.useState(!1);I.useEffect(()=>{e.length>0&&!C&&(A({from:_,to:new Date}),O(!0))},[e.length,C,_]);const[j,R]=I.useState(null),[D,$]=I.useState(null),[U,F]=I.useState(null),[B,z]=I.useState({column:"orders",direction:"desc"}),[q,G]=I.useState("table"),[te,de]=I.useState(100),ye=Z=>{B.column===Z?z(ge=>({...ge,direction:ge.direction==="asc"?"desc":"asc"})):z({column:Z,direction:"asc"})},J=({column:Z,label:ge,border:Ie=!1})=>{const st=B.column===Z;return f.jsx("th",{onClick:()=>ye(Z),className:`px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors select-none ${Ie?"border-s dark:border-slate-700":""}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[ge,st&&f.jsx("span",{className:"text-[var(--brand-color)] font-bold",children:B.direction==="asc"?"":""})]})})},[we,ke]=I.useState({name:"",email:"",phone:"",address:"",governorate:"",social:"",notes:""}),ne=I.useMemo(()=>{const Z={};return e.forEach(ge=>{const Ie=ge.governorate;Ie&&(Z[Ie]=(Z[Ie]||0)+1)}),Cp.map(ge=>({value:ge,label:ge,count:Z[ge]||0})).sort((ge,Ie)=>Ie.count-ge.count)},[e]),ve=I.useMemo(()=>{const Z={};return e.forEach(ge=>{const Ie=ge.social;Ie&&(Z[Ie]=(Z[Ie]||0)+1)}),Op.map(ge=>({value:ge,label:ge,count:Z[ge]||0})).sort((ge,Ie)=>Ie.count-ge.count)},[e]),Te=Z=>n.filter(ge=>{var st,et,gt;const Ie=e.find(vt=>vt._id===Z);return Ie?((st=ge.customer)==null?void 0:st._id)===Z||((et=ge.customer)==null?void 0:et.name)===Ie.name&&((gt=ge.customer)==null?void 0:gt.phone)===Ie.phone:!1}),ae=Z=>{const ge=Z.createdOn||Z.createdAt;if(!ge)return null;try{return typeof ge=="string"?Oi(ge):ge.toDate?ge.toDate():new Date(ge)}catch{return null}},Be=I.useMemo(()=>e.filter(Ie=>{const st=Ie.name.toLowerCase().includes(d.toLowerCase())||Ie.phone.includes(d),et=ae(Ie);let gt=!0;if(P!=null&&P.from&&(P!=null&&P.to)&&et){const H=Ga(P.from),ce=em(P.to);gt=et>=H&&et<=ce}const vt=p.length===0||p.includes(Ie.governorate),se=x.length===0||x.includes(Ie.social);return st&&gt&&vt&&se}).sort((Ie,st)=>{if(B.column==="name"){const et=Ie.name.toLowerCase(),gt=st.name.toLowerCase();return B.direction==="asc"?et.localeCompare(gt):gt.localeCompare(et)}if(B.column==="orders"){const et=Te(Ie._id).length,gt=Te(st._id).length;return B.direction==="asc"?et-gt:gt-et}if(B.column==="spent"){const et=Te(Ie._id).reduce((vt,se)=>vt+se.total,0),gt=Te(st._id).reduce((vt,se)=>vt+se.total,0);return B.direction==="asc"?et-gt:gt-et}if(B.column==="governorate"){const et=(Ie.governorate||"").toLowerCase(),gt=(st.governorate||"").toLowerCase();return B.direction==="asc"?et.localeCompare(gt):gt.localeCompare(et)}return 0}).slice(0,te),[e,d,p,x,E,B,n,P,te]),ie=Z=>{S(Z),Z==="orders-high"?z({column:"orders",direction:"desc"}):Z==="orders-low"?z({column:"orders",direction:"asc"}):Z==="name-asc"?z({column:"name",direction:"asc"}):Z==="date-new"&&z({column:"orders",direction:"desc"})};I.useEffect(()=>{(()=>{try{window.innerWidth<640&&q==="table"&&G("card")}catch{}})();const ge=()=>{window.innerWidth<640&&G("card")};return window.addEventListener("resize",ge),()=>window.removeEventListener("resize",ge)},[]);const Q=()=>{$(null),ke({name:"",email:"",phone:"",address:"",governorate:"",social:"",notes:""}),b(!0)},fe=Z=>{$(Z),ke(Z),b(!0)},$e=Z=>{R(Z),k(!0),F(null)},kt=Z=>{Z.preventDefault(),D?i({...we,_id:D._id}):r(we),b(!1)},je=Z=>{const ge=window.open("","_blank");ge.document.write(`
            <html>
                <head>
                    <title>${t("customers.receipt.title")} ${Z.orderId}</title>
                    <style>
                        body { font-family: sans-serif; padding: 20px; direction: ${document.dir}; }
                        .header { text-align: center; margin-bottom: 20px; }
                        .order-info { margin-bottom: 20px; border-bottom: 1px solid #ccc; padding-bottom: 10px; }
                        table { width: 100%; border-collapse: collapse; }
                        th, td { text-align: ${document.dir==="rtl"?"right":"left"}; padding: 8px; border-bottom: 1px solid #eee; }
                        .total { text-align: ${document.dir==="rtl"?"left":"right"}; font-weight: bold; font-size: 1.2em; margin-top: 20px; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h1>${t("customers.receipt.title")}</h1>
                        <h3>${Z.orderId}</h3>
                    </div>
                    <div class="order-info">
                        <p><strong>${t("customers.receipt.customer")}:</strong> ${Z.customer.name}</p>
                        <p><strong>${t("customers.receipt.date")}:</strong> ${Z.date}</p>
                        <p><strong>${t("customers.receipt.status")}:</strong> ${Z.status}</p>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>${t("customers.receipt.item")}</th>
                                <th>${t("customers.receipt.qty")}</th>
                                <th>${t("customers.receipt.price")}</th>
                                <th>${t("customers.receipt.total")}</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${Z.items.map(Ie=>`
                                <tr>
                                    <td>${Ie.product.name}</td>
                                    <td>${Ie.quantity}</td>
                                    <td>${new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(Ie.price)}</td>
                                    <td>${new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(Ie.price*Ie.quantity)}</td>
                                </tr>
                            `).join("")}
                        </tbody>
                    </table>
                    <div class="total">
                        ${t("customers.receipt.total")}: ${new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(Z.total)}
                    </div>
                    <script>window.onload = function() { window.print(); window.close(); }<\/script>
                </body>
            </html>
        `),ge.document.close()},Ue=Z=>{switch(Z==null?void 0:Z.toLowerCase()){case"facebook":return f.jsx(nY,{className:"w-4 h-4"});case"instagram":return f.jsx(rY,{className:"w-4 h-4"});case"twitter":return f.jsx(yY,{className:"w-4 h-4"});case"tiktok":return f.jsx("div",{className:"w-4 h-4 font-bold text-xs flex items-center justify-center",children:"TT"});case"whatsapp":return f.jsx(uY,{className:"w-4 h-4"});default:return f.jsx(Ho,{className:"w-4 h-4"})}};return f.jsxs(Ql,{title:t("customers.title"),children:[f.jsxs("div",{className:`flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-all ${["liquid","default_glass"].includes(c.theme)?"glass-panel":""}`,children:[f.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[f.jsxs("button",{onClick:Q,className:"flex items-center gap-2 px-6 py-2.5 text-white rounded-xl font-bold transition-all bg-accent shadow-accent active:scale-95",children:[f.jsx(ba,{className:"w-5 h-5"}),f.jsx("span",{children:t("customers.addCustomer")})]}),f.jsxs("button",{onClick:()=>{if(Be.length===0)return o(t("customers.noMatch"),"info");mOe(Be)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 text-white rounded-xl font-bold transition-all shadow-lg hover:bg-green-700",children:[f.jsx(Fp,{className:"w-5 h-5"}),f.jsx("span",{className:"hidden sm:inline",children:t("common.exportCSV")})]})]}),(p.length>0||x.length>0||d||!Is(P.from,N.from)||!Is(P.to,N.to))&&f.jsx("button",{onClick:()=>{h(""),g([]),v([]),A(N)},className:"sm:hidden ms-auto shrink-0 whitespace-nowrap px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsxs("div",{className:"hidden sm:flex gap-3 items-center flex-wrap",children:[(p.length>0||x.length>0||d||!Is(P.from,N.from)||!Is(P.to,N.to))&&f.jsx("button",{onClick:()=>{h(""),g([]),v([]),A(N)},className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsx(Vl,{limit:te,onChange:de}),f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(Oo,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:Be.length})," ",t("customers.title")]})]})]})]}),f.jsxs("div",{className:"flex sm:hidden gap-2 items-center w-full flex-nowrap overflow-visible",children:[f.jsx(Yg,{title:t("common.sort"),options:[{value:"orders-high",label:t("customers.totalSpent")+" (High)"},{value:"orders-low",label:t("customers.totalSpent")+" (Low)"},{value:"date-new",label:t("common.dateNew")},{value:"name-asc",label:t("common.nameAZ")}],selectedValue:E,onChange:ie}),f.jsx(Vl,{limit:te,onChange:de}),f.jsxs("div",{className:"shrink-0 whitespace-nowrap flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(Oo,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:Be.length})," ",t("customers.title")]})]})]}),f.jsxs("div",{className:"flex gap-3 w-full flex-wrap lg:flex-nowrap items-center",children:[f.jsxs("div",{className:"relative order-last w-full sm:order-none sm:min-w-[200px] sm:flex-1 lg:flex-none lg:w-[320px] h-[44px]",children:[f.jsx(Wl,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("customers.searchPlaceholder"),value:d,onChange:Z=>h(Z.target.value),className:"ps-10 pe-4 py-0 h-full w-full bg-slate-50 dark:bg-slate-900/50 border-2 border-slate-100 dark:border-slate-800 rounded-2xl outline-none focus:border-blue-200 dark:focus:border-blue-800 focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-bold text-sm dark:text-white"})]}),f.jsx("div",{className:"h-[44px] flex-shrink-0 order-2 sm:order-none",children:f.jsx(j5,{range:P,onRangeChange:A,brandColor:s.color})}),f.jsx(Ui,{title:t("customers.form.governorate"),options:ne,selectedValues:p,onChange:g,icon:Xa,showSearch:!1}),f.jsx("div",{className:"order-1 sm:order-none",children:f.jsx(Ui,{title:t("customers.social"),options:ve,selectedValues:x,onChange:v,icon:Ho,showSearch:!1})}),f.jsx("div",{className:"hidden sm:block",children:f.jsx(Yg,{title:t("common.sort"),options:[{value:"orders-high",label:t("common.priceHigh")},{value:"orders-low",label:t("common.priceLow")},{value:"date-new",label:t("common.dateNew")},{value:"name-asc",label:t("common.nameAZ")}].map(Z=>({...Z,label:Z.value==="orders-high"?t("customers.totalSpent")+" (High)":Z.value==="orders-low"?t("customers.totalSpent")+" (Low)":Z.label})),selectedValue:E,onChange:ie})}),f.jsxs("div",{className:"hidden lg:flex bg-slate-100 dark:bg-slate-700 p-1 rounded-xl border border-slate-200 dark:border-slate-600 ms-auto",children:[f.jsx("button",{onClick:()=>G("table"),className:`p-1.5 rounded-lg transition-all ${q==="table"?"bg-white dark:bg-slate-600 text-[var(--brand-color)] shadow-sm":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"}`,title:"Table View",children:f.jsx(wD,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>G("card"),className:`p-1.5 rounded-lg transition-all ${q==="card"?"bg-white dark:bg-slate-600 text-[var(--brand-color)] shadow-sm":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"}`,title:t("customers.viewCard"),children:f.jsx(aY,{className:"w-4 h-4"})})]})]})]}),q==="table"?f.jsx("div",{className:`rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-all ${["liquid","default_glass"].includes(c.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-start",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:[f.jsx(J,{column:"name",label:t("customers.name")}),f.jsx(J,{column:"governorate",label:t("customers.location"),border:!0}),f.jsx(J,{column:"orders",label:t("customers.orders"),border:!0}),f.jsx(J,{column:"spent",label:t("customers.totalSpent"),border:!0}),f.jsx("th",{className:"px-6 py-4 border-s dark:border-slate-700 select-none",children:t("customers.createdOn")}),f.jsx("th",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:t("customers.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:l?f.jsx("tr",{children:f.jsx("td",{colSpan:"6",className:"px-6 py-12",children:f.jsxs("div",{className:"space-y-3",children:[f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-1/3 animate-pulse"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-1/2 animate-pulse"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-2/3 animate-pulse"})]})})}):Be.length===0?f.jsx("tr",{children:f.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center text-slate-400",children:[f.jsx(Oo,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:t("customers.noData")})]})}):Be.map(Z=>{const ge=Te(Z._id),Ie=ge.reduce((st,et)=>st+et.total,0);return f.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 dark:bg-slate-900 flex items-center justify-center text-[var(--brand-color)] font-bold text-lg border border-slate-100 dark:border-slate-800 shadow-sm",children:Z.name.charAt(0)}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-bold text-slate-800 dark:text-white",children:Z.name}),f.jsx("p",{className:"text-xs text-slate-400",children:Z.phone})]})]})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:Z.governorate}),f.jsx("span",{className:"text-[11px] text-slate-400 line-clamp-1",children:Z.address})]})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 rounded-xl text-xs font-black inline-flex transition-all",style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"},children:[f.jsx(tr,{className:"w-3.5 h-3.5"}),ge.length]})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-sm font-black text-slate-800 dark:text-white",children:a(Ie)})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-xs font-bold text-slate-500 whitespace-nowrap",children:ae(Z)?Xt(ae(Z),"MMM dd, yyyy"):t("orders.receipt.na")})}),f.jsx("td",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-end gap-1",children:[f.jsx("button",{onClick:()=>$e(Z),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all",title:"Order History",children:f.jsx(tr,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>fe(Z),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all",title:"Edit",children:f.jsx(Go,{className:"w-4 h-4"})})]})})]},Z._id)})})]})})}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-in fade-in duration-500",children:l?[1,2,3].map(Z=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 p-6",children:[f.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-1/4 animate-pulse mb-4"}),f.jsx("div",{className:"h-3 bg-slate-200 dark:bg-slate-700 rounded w-1/2 animate-pulse mb-2"}),f.jsx("div",{className:"h-3 bg-slate-200 dark:bg-slate-700 rounded w-2/3 animate-pulse"})]},Z)):Be.length===0?f.jsxs("div",{className:"col-span-full py-20 text-center bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700",children:[f.jsx(Oo,{className:"w-16 h-16 mx-auto mb-4 text-slate-200"}),f.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-sm",children:t("customers.noMatch")})]}):Be.map(Z=>{const ge=Te(Z._id),Ie=ge.reduce((st,et)=>st+et.total,0);return f.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 hover:shadow-xl transition-all duration-300 group overflow-hidden flex flex-col h-full ${["liquid","default_glass"].includes(c.theme)?"glass-panel":""}`,children:f.jsxs("div",{className:"p-6 flex-1",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6",children:[f.jsx("div",{className:"w-14 h-14 rounded-2xl bg-slate-50 dark:bg-slate-900 flex items-center justify-center text-[var(--brand-color)] font-black text-xl border border-slate-100 dark:border-slate-800 group-hover:bg-indigo-50 dark:group-hover:bg-indigo-900 transition-colors",children:Z.name.charAt(0)}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>$e(Z),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800 transition-colors",title:"Order History",children:f.jsx(tr,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>fe(Z),className:"p-2 text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800 transition-colors",title:"Edit Profile",children:f.jsx(Go,{className:"w-4 h-4"})})]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-lg mb-2 truncate",children:Z.name}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-lg text-[10px] font-black uppercase tracking-wider",children:[f.jsx(tr,{className:"w-3 h-3"}),ge.length," ",ge.length===1?t("customers.receipt.order"):t("customers.orders")]}),f.jsx("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 rounded-lg text-[10px] font-black uppercase tracking-wider",children:a(Ie)})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 dark:bg-slate-900 flex items-center justify-center border border-slate-100 dark:border-slate-800 shrink-0",children:f.jsx(hY,{className:"w-4 h-4 text-slate-400"})}),f.jsx("span",{className:"font-bold",children:Z.phone||"No phone"})]}),f.jsxs("div",{className:"flex items-start gap-3 text-sm text-slate-600 dark:text-slate-400",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 dark:bg-slate-900 flex items-center justify-center border border-slate-100 dark:border-slate-800 shrink-0 mt-0.5",children:f.jsx(Xa,{className:"w-4 h-4 text-slate-400"})}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300 text-xs",children:Z.governorate}),f.jsx("span",{className:"text-[10px] text-slate-400 line-clamp-1",children:Z.address})]})]}),Z.social&&f.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 dark:bg-slate-900 flex items-center justify-center border border-slate-100 dark:border-slate-800 shrink-0",children:Ue(Z.social)}),f.jsx("span",{className:"text-[10px] font-black uppercase text-blue-500 tracking-wider",children:Z.social})]})]})]})},Z._id)})}),y&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-slate-900/80 backdrop-blur-md p-2 sm:p-4 overflow-y-auto",children:f.jsxs("div",{className:`rounded-[32px] shadow-2xl w-full max-w-md my-4 sm:my-8 flex flex-col overflow-hidden animate-in fade-in zoom-in duration-300 relative ${["liquid","default_glass"].includes(c.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:[f.jsxs("div",{className:`px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center sticky top-0 z-10 ${["liquid","default_glass"].includes(c.theme)?"bg-white/20 dark:bg-slate-900/20 backdrop-blur-md":"bg-white dark:bg-slate-800"}`,children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white",children:t(D?"customers.form.edit":"customers.form.new")}),f.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:t("customers.form.sub")})]}),f.jsx("button",{onClick:()=>b(!1),className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:f.jsx(Dr,{className:"w-5 h-5 text-slate-400"})})]}),f.jsx("div",{className:"p-5 overflow-y-auto custom-scrollbar",children:f.jsx("form",{id:"customer-form",onSubmit:kt,className:"space-y-4",children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.fullName")}),f.jsx("input",{required:!0,placeholder:"Ahmed Ali",value:we.name,onChange:Z=>ke({...we,name:Z.target.value}),className:`w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold placeholder:opacity-30 ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900"}`})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.phone")}),f.jsx("input",{required:!0,placeholder:"07XX XXX XXXX",value:we.phone,onChange:Z=>ke({...we,phone:Z.target.value}),className:`w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold placeholder:opacity-30 ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900"}`})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.email")}),f.jsx("input",{placeholder:"customer@example.com",type:"email",value:we.email,onChange:Z=>ke({...we,email:Z.target.value}),className:`w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold placeholder:opacity-30 ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900"}`})]})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.governorate")}),f.jsx(ca,{title:t("common.select"),options:Cp.map(Z=>({value:Z,label:Z})),selectedValue:we.governorate,onChange:Z=>ke(ge=>({...ge,governorate:Z})),icon:Xa,showSearch:!1})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.channel")}),f.jsx(ca,{title:t("common.select"),options:Op.map(Z=>({value:Z,label:Z})),selectedValue:we.social,onChange:Z=>ke(ge=>({...ge,social:Z})),icon:Ho,showSearch:!1})]})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.shippingAddress")}),f.jsx("textarea",{rows:"2",placeholder:"Street name, landmark, house number...",value:we.address,onChange:Z=>ke({...we,address:Z.target.value}),className:`w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold resize-none placeholder:opacity-30 ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900"}`})]})]})})}),f.jsx("div",{className:`p-6 pt-0 mt-auto border-t border-slate-100 dark:border-slate-700 ${["liquid","default_glass"].includes(c.theme)?"bg-white/20 dark:bg-slate-900/20 backdrop-blur-md":"bg-white dark:bg-slate-800"}`,children:f.jsxs("div",{className:"flex gap-4 pt-4",children:[f.jsx("button",{type:"button",onClick:()=>b(!1),className:"flex-1 py-3 border-2 border-slate-100 dark:border-slate-800 rounded-2xl font-black text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700 transition-all active:scale-95",children:t("common.cancel")}),f.jsx("button",{onClick:()=>document.getElementById("customer-form").requestSubmit(),className:"flex-2 py-3 text-white rounded-2xl font-black transition-all active:scale-95 bg-accent shadow-accent hover:brightness-110 flex-[2]",children:t(D?"customers.form.save":"customers.form.register")})]})})]})}),w&&j&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/90 backdrop-blur-md p-4",children:f.jsxs("div",{className:`rounded-[32px] shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in slide-in-from-bottom-8 duration-500 ${["liquid","default_glass"].includes(c.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:[f.jsx("div",{className:`px-10 py-8 border-b border-slate-100 dark:border-slate-700 ${["liquid","default_glass"].includes(c.theme)?"bg-white/20 dark:bg-slate-900/20 backdrop-blur-md":"bg-white dark:bg-slate-800"}`,children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"},children:f.jsx(tr,{className:"w-6 h-6"})}),f.jsx("h3",{className:"text-2xl font-black text-slate-900 dark:text-white",children:t("customers.history.title")})]}),f.jsxs("p",{className:"text-slate-500 font-bold uppercase text-[10px] tracking-[0.2em] ms-13",children:[t("customers.receipt.customer"),": ",f.jsx("span",{className:"text-[var(--brand-color)]",children:j.name})]})]}),f.jsx("button",{onClick:()=>k(!1),className:"w-12 h-12 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:f.jsx(Dr,{className:"w-8 h-8 text-slate-400"})})]})}),f.jsx("div",{className:"p-10 overflow-y-auto custom-scrollbar bg-slate-50 dark:bg-slate-900/50",children:Te(j._id).length===0?f.jsxs("div",{className:"text-center py-24",children:[f.jsx("div",{className:"w-24 h-24 bg-white dark:bg-slate-800 border-2 border-slate-100 dark:border-slate-700 rounded-3xl flex items-center justify-center mx-auto mb-6 text-slate-200",children:f.jsx(tr,{className:"w-12 h-12"})}),f.jsx("h4",{className:"text-slate-400 font-black uppercase text-xs tracking-widest",children:t("customers.history.noRecords")})]}):f.jsx("div",{className:"space-y-4",children:Te(j._id).map(Z=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl sm:rounded-[28px] border-2 border-slate-100 dark:border-slate-800 shadow-sm overflow-hidden transition-all hover:shadow-xl hover:border-accent group",children:[f.jsxs("div",{className:"p-4 sm:p-6 flex items-center justify-between cursor-pointer",onClick:()=>F(U===Z._id?null:Z._id),children:[f.jsxs("div",{className:"flex items-center gap-4 sm:gap-6",children:[f.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 bg-slate-50 dark:bg-slate-900 rounded-xl sm:rounded-2xl flex items-center justify-center text-[var(--brand-color)] group-hover:bg-[var(--brand-color)] group-hover:text-white transition-all",children:f.jsx(tr,{className:"w-6 h-6 sm:w-7 sm:h-7"})}),f.jsxs("div",{children:[f.jsx("div",{className:"font-black text-slate-900 dark:text-white text-base sm:text-lg",children:Z.orderId}),f.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:Z.date})]})]}),f.jsxs("div",{className:"flex items-center gap-4 sm:gap-8",children:[f.jsxs("div",{className:"text-end",children:[f.jsx("div",{className:"font-black text-slate-900 dark:text-white text-lg sm:text-xl",children:a(Z.total)}),f.jsx("div",{className:`text-[10px] font-black uppercase px-2.5 py-1 rounded-lg inline-block mt-1 ${Z.status==="Completed"?"bg-emerald-50 text-emerald-600 border border-emerald-100":Z.status==="Processing"?"bg-amber-50 text-amber-600 border border-amber-100":"bg-slate-50 text-slate-600 border border-slate-100"}`,children:Z.status})]}),f.jsx("div",{className:`w-9 h-9 sm:w-10 sm:h-10 rounded-full flex items-center justify-center transition-transform ${U===Z._id?"rotate-180":"bg-slate-50 dark:bg-slate-900 text-slate-300"}`,style:U===Z._id?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"}:{},children:f.jsx(no,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})]}),U===Z._id&&f.jsxs("div",{className:"px-8 pb-8 pt-0 border-t border-slate-50 dark:border-slate-800 animate-in slide-in-from-top-4 duration-300",children:[f.jsx("div",{className:"grid grid-cols-1 gap-3 mt-6",children:Z.items.map((ge,Ie)=>f.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-900/80 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"w-12 h-12 bg-white dark:bg-slate-800 rounded-xl flex items-center justify-center font-black text-sm text-[var(--brand-color)] border border-slate-100 dark:border-slate-700 shadow-sm",children:[ge.quantity,""]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-black text-slate-800 dark:text-white block text-sm",children:ge.product.name}),f.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[a(ge.price)," ",t("common.perUnit")]})]})]}),f.jsx("span",{className:"font-black text-slate-900 dark:text-white",children:a(ge.price*ge.quantity)})]},Ie))}),f.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-100 dark:border-slate-700 flex flex-col sm:flex-row justify-between items-center gap-4",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:t("customers.history.paymentMethod")}),f.jsx("p",{className:"text-sm font-bold text-slate-700 dark:text-white",children:t("common.cashOnDelivery")})]}),f.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-700"}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:t("customers.history.itemsCount")}),f.jsxs("p",{className:"text-sm font-bold text-slate-700 dark:text-white",children:[Z.items.length," ",t("customers.receipt.item")]})]})]}),f.jsxs("button",{onClick:ge=>{ge.stopPropagation(),je(Z)},className:"flex items-center gap-2 px-8 py-4 bg-slate-900 dark:bg-slate-700 text-white rounded-2xl font-black text-sm transition-all shadow-xl active:scale-95 hover:brightness-125 hover:shadow-2xl",children:[f.jsx(zv,{className:"w-5 h-5"}),t("customers.history.printThermal")]})]})]})]},Z._id))})})]})})]})},_Oe=()=>{const{t}=lr(),{products:e,updateProduct:n,loading:r,isDesktop:i,isOnline:a,addToast:s,setIsModalOpen:o}=Nn(),[l,c]=I.useState(null),[u,d]=I.useState("");I.useEffect(()=>(o(!!l),()=>o(!1)),[l,o]);const h=y=>{c(y)},p=()=>{c(null)},g=async(y,b=!1)=>{await n(y),b||c(null)},x=async y=>{if(i&&!a)return s("Image upload is disabled while offline. Reconnect and try again.","warning"),[];const b=await Promise.all(y.map(async w=>w.url?w:new Promise(k=>{const E=new FileReader;E.onloadend=()=>k({url:E.result,name:w.name}),E.readAsDataURL(w)})));if(l){const w=[...l.images||[],...b],k={...l,images:w};c(k),await n(k)}return b},v=e.filter(y=>{var b;return y.name.toLowerCase().includes(u.toLowerCase())||((b=y.sku)==null?void 0:b.toLowerCase().includes(u.toLowerCase()))});return f.jsxs(Ql,{title:t("productPicture.title"),children:[f.jsx("div",{className:"sticky top-14 sm:top-16 md:top-0 z-40 bg-slate-50/90 dark:bg-slate-900/95 backdrop-blur-xl -mx-4 md:-mx-8 px-4 md:px-8 py-3 md:py-4 mb-3 md:mb-8 border-b border-slate-200/50 dark:border-slate-700/50 flex flex-col md:flex-row items-center justify-start gap-3 md:gap-4",children:f.jsxs("div",{className:"relative w-full md:w-96",children:[f.jsx(Wl,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("products.searchPlaceholder"),value:u,onChange:y=>d(y.target.value),className:"w-full ps-10 pe-4 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl text-sm font-bold focus:ring-2 focus:ring-accent outline-none transition-all shadow-sm"})]})}),r?f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:8}).map((y,b)=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-3 shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsx(nt,{className:"aspect-[4/5] w-full rounded-2xl mb-4"}),f.jsxs("div",{className:"px-1 space-y-2",children:[f.jsx(nt,{className:"h-5 w-3/4 rounded-lg"}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx(nt,{className:"h-4 w-16"}),f.jsx(nt,{className:"h-4 w-12"})]})]})]},b))}):f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:v.map(y=>{const b=y.images&&y.images[0]?typeof y.images[0]=="string"?y.images[0]:y.images[0].url:y.image||"https://via.placeholder.com/400x400?text=No+Image";return f.jsxs("div",{onClick:()=>h(y),className:"group bg-white dark:bg-slate-800 rounded-3xl p-3 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer border border-transparent hover:border-accent",children:[f.jsxs("div",{className:"aspect-[4/5] w-full rounded-2xl overflow-hidden bg-slate-100 dark:bg-slate-900 relative",children:[f.jsx(ga,{src:b,alt:y.name,className:"w-full h-full",imageClassName:"transition-transform duration-700 group-hover:scale-110"}),y.stock<=0?f.jsx("div",{className:"absolute top-3 start-3 bg-red-500 text-white text-[10px] font-bold px-2 py-1 rounded-md shadow-md",children:t("products.stockStatus.outOfStock")}):y.stock<=5?f.jsx("div",{className:"absolute top-3 start-3 bg-amber-500 text-white text-[10px] font-bold px-2 py-1 rounded-md shadow-md",children:t("products.stockStatus.lowStock")}):null,f.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"})]}),f.jsxs("div",{className:"mt-4 px-1",children:[f.jsx("h3",{className:"font-bold text-slate-800 dark:text-white truncate text-base mb-1 group-hover:text-accent transition-colors",children:y.name}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-xs font-mono font-bold text-slate-400 uppercase tracking-wider",children:y.sku||"NO-SKU"}),f.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 rounded-lg",children:y.category||"General"})]})]})]},y._id||y.id)})}),v.length===0&&!r&&f.jsxs("div",{className:"text-center py-20 text-slate-400",children:[f.jsx(sl,{className:"w-12 h-12 mx-auto mb-4 opacity-20"}),f.jsx("p",{children:t("productPicture.noProducts")})]}),l&&f.jsx(IW,{product:l,onClose:p,onSave:g,onUpload:x})]})},SOe=({image:t,onCrop:e,onClose:n,aspect:r=1})=>{const[i,a]=I.useState(1),[s,o]=I.useState(0),[l,c]=I.useState({x:0,y:0}),[u,d]=I.useState(!1),[h,p]=I.useState({x:0,y:0}),[g,x]=I.useState({width:0,height:0}),v=320,y=512,b=r===1,w=I.useRef(null);I.useRef(null),I.useEffect(()=>{a(1),o(0),c({x:0,y:0})},[t]);const k=A=>{const{naturalWidth:C,naturalHeight:O}=A.currentTarget;x({width:C,height:O}),a(1)},E=A=>{d(!0),p({x:A.clientX-l.x,y:A.clientY-l.y})},S=A=>{u&&(A.preventDefault(),c({x:A.clientX-h.x,y:A.clientY-h.y}))},_=()=>{d(!1)},N=()=>{const A=document.createElement("canvas"),C=A.getContext("2d"),O=w.current;A.width=y,A.height=y/r,C.clearRect(0,0,A.width,A.height),C.save();const j=y/v;if(C.translate(A.width/2,A.height/2),b){const U=Math.min(A.width,A.height)/2;C.beginPath(),C.arc(0,0,U,0,Math.PI*2),C.closePath(),C.clip()}C.translate(l.x*j,l.y*j),C.rotate(s*Math.PI/180);const R=i*j;C.scale(R,R);const D=O.naturalWidth,$=O.naturalHeight;return C.imageSmoothingEnabled=!0,C.imageSmoothingQuality="high",C.drawImage(O,-D/2,-$/2,D,$),C.restore(),A.toDataURL("image/png",1)},P=()=>{const A=N();e(A)};return f.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/95 backdrop-blur-md p-4 animate-in fade-in duration-300",children:f.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl shadow-2xl w-full max-w-5xl h-[85vh] flex flex-col overflow-hidden border border-slate-200 dark:border-slate-800",children:[f.jsxs("div",{className:"px-8 py-5 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-white dark:bg-slate-900 z-20",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-xl font-black text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(sl,{className:"w-6 h-6 text-accent"})," Editor Studio"]}),f.jsx("p",{className:"text-xs font-bold text-slate-400 mt-1 uppercase tracking-wider",children:"Customize your brand identity"})]}),f.jsx("button",{onClick:n,className:"p-1.5 text-slate-400 hover:text-slate-600 dark:hover:text-white rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:f.jsx(Dr,{className:"w-6 h-6"})})]}),f.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row overflow-hidden",children:[f.jsxs("div",{className:"flex-1 relative bg-slate-100 dark:bg-slate-950 overflow-hidden flex items-center justify-center cursor-move select-none",style:{backgroundImage:"linear-gradient(45deg, #e5e7eb 25%, transparent 25%), linear-gradient(-45deg, #e5e7eb 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #e5e7eb 75%), linear-gradient(-45deg, transparent 75% , #e5e7eb 75%)",backgroundSize:"20px 20px",backgroundPosition:"0 0, 0 10px, 10px -10px, -10px 0px"},onMouseDown:E,onMouseMove:S,onMouseUp:_,onMouseLeave:_,children:[f.jsx("div",{className:"absolute inset-0 bg-black/40 pointer-events-none z-0"}),f.jsxs("div",{className:`relative z-10 border-2 border-white/80 shadow-[0_0_0_9999px_rgba(0,0,0,0.7)] overflow-visible ${b?"rounded-full":"rounded-xl"}`,style:{width:v,height:v/r,boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.7)"},children:[f.jsxs("div",{className:`absolute inset-0 grid grid-cols-3 grid-rows-3 pointer-events-none opacity-50 ${b?"rounded-full overflow-hidden":""}`,children:[f.jsx("div",{className:"border-r border-white/30 h-full col-start-2"}),f.jsx("div",{className:"border-r border-white/30 h-full col-start-3"}),f.jsx("div",{className:"border-b border-white/30 w-full row-start-2 col-span-3"}),f.jsx("div",{className:"border-b border-white/30 w-full row-start-3 col-span-3"})]}),!b&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"absolute -top-1 -left-1 w-4 h-4 border-t-4 border-l-4 border-white rounded-tl-sm shadow-sm"}),f.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 border-t-4 border-r-4 border-white rounded-tr-sm shadow-sm"}),f.jsx("div",{className:"absolute -bottom-1 -left-1 w-4 h-4 border-b-4 border-l-4 border-white rounded-bl-sm shadow-sm"}),f.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 border-b-4 border-r-4 border-white rounded-br-sm shadow-sm"})]})]}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none overflow-hidden",children:f.jsx("img",{ref:w,src:t,alt:"To crop",onLoad:k,draggable:!1,className:"max-none transition-transform duration-75 origin-center will-change-transform",style:{transform:`translate(${l.x}px, ${l.y}px) rotate(${s}deg) scale(${i})`}})})]}),f.jsxs("div",{className:"w-full lg:w-80 bg-white dark:bg-slate-900 border-s border-slate-100 dark:border-slate-800 p-6 flex flex-col z-20 shadow-xl",children:[f.jsxs("div",{className:"space-y-8 flex-1 overflow-y-auto custom-scrollbar",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center text-sm font-bold text-slate-700 dark:text-slate-300",children:[f.jsx("span",{children:"Zoom & Scale"}),f.jsxs("span",{className:"font-mono text-accent",children:[Math.round(i*100),"%"]})]}),f.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-2xl border border-slate-100 dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>a(A=>Math.max(.1,A-.1)),className:"p-1 hover:text-accent transition-colors",children:f.jsx(wY,{className:"w-5 h-5 text-slate-400"})}),f.jsx("input",{type:"range",min:"0.1",max:"3",step:"0.01",value:i,onChange:A=>a(parseFloat(A.target.value)),className:"flex-1 h-2 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-accent"}),f.jsx("button",{onClick:()=>a(A=>Math.min(3,A+.1)),className:"p-1 hover:text-accent transition-colors",children:f.jsx(bY,{className:"w-5 h-5 text-slate-400"})})]})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Orientation"}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("button",{onClick:()=>o(A=>A-90),className:"flex items-center gap-2 px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl hover:border-accent hover:text-accent transition-all group",children:[f.jsx(aE,{className:"w-4 h-4 text-slate-500 group-hover:text-accent transition-colors"}),f.jsx("span",{className:"text-[11px] font-bold text-slate-600 dark:text-slate-400 group-hover:text-accent",children:"-90"})]}),f.jsxs("button",{onClick:()=>o(A=>A+90),className:"flex items-center gap-2 px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl hover:border-accent hover:text-accent transition-all group",children:[f.jsx(aE,{className:"w-4 h-4 text-slate-500 group-hover:text-accent transition-colors scale-x-[-1]"}),f.jsx("span",{className:"text-[11px] font-bold text-slate-600 dark:text-slate-400 group-hover:text-accent",children:"+90"})]})]}),f.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 p-3 rounded-xl border border-slate-100 dark:border-slate-700 text-center",children:f.jsxs("span",{className:"text-xs font-mono text-slate-500",children:["Current Rotation: ",s,""]})})]})]}),f.jsxs("div",{className:"pt-6 border-t border-slate-100 dark:border-slate-800 flex flex-col gap-3",children:[f.jsxs("button",{onClick:P,className:"w-full py-4 bg-accent text-white font-black rounded-2xl shadow-accent shadow-lg active:scale-[0.98] transition-all flex items-center justify-center gap-3 hover:brightness-110",children:[f.jsx(vD,{className:"w-5 h-5"}),"Apply Changes"]}),f.jsx("button",{onClick:n,className:"w-full py-3 text-slate-500 hover:text-slate-800 dark:hover:text-white font-bold transition-colors",children:"Cancel"})]})]})]})]})})},kOe=()=>{var bn,cr;const{t}=lr(),{theme:e,toggleTheme:n,appearance:r,setAppearance:i,users:a,addUser:s,updateUser:o,deleteUser:l,currentUser:c,updateUserProfile:u,brand:d,updateBrand:h,addToast:p,language:g,changeLanguage:x,isDesktop:v,isOnline:y,pendingSyncCount:b,syncNow:w,desktopOfflineModeEnabled:k,setDesktopOfflineModeEnabled:E,conflicts:S}=Nn(),{user:_,updateAuthProfile:N,changeAuthPassword:P}=nd(),[A,C]=I.useState("general"),[O,j]=QK(),[R,D]=I.useState(!1),[$,U]=I.useState(!1),[F,B]=I.useState(null),[z,q]=I.useState(!1),[G,te]=I.useState(null),[de,ye]=I.useState(null),[J,we]=I.useState(null),[ke,ne]=I.useState((_==null?void 0:_.displayName)||""),[ve,Te]=I.useState(!1),[ae,Be]=I.useState({currentPassword:"",newPassword:"",confirmPassword:""});I.useEffect(()=>{_&&ne(_.displayName||"")},[_]),I.useEffect(()=>{const re=O.get("tab");if(!re){j({tab:"general"},{replace:!0});return}["general","appearance","branding","users","account"].includes(re)&&C(re)},[O,j]);const ie=_!=null&&_.email?_.email.split("@")[0]:"",Q=(c==null?void 0:c.photoURL)||(_==null?void 0:_.photoURL)||"",fe=re=>{C(re),j({tab:re})},$e=async()=>{try{await N({displayName:ke.trim()}),Te(!1),p("Profile updated successfully!","success")}catch(re){console.error("Profile update error:",re),p("Failed to update profile.","error")}},kt=re=>{const Ke=re.target.files[0];if(Ke){if(Ke.size>3*1024*1024)return p("Avatar too large. Max 3MB.","error");const Pe=new FileReader;Pe.onloadend=()=>{ye(Pe.result),we("avatar")},Pe.readAsDataURL(Ke)}},[je,Ue]=I.useState({name:d.name,color:d.color,logo:d.logo,favicon:d.favicon||null,hideHeader:d.hideHeader||!1});I.useEffect(()=>{Ue({name:d.name,color:d.color,logo:d.logo,favicon:d.favicon||null,hideHeader:d.hideHeader||!1})},[d]);const Z=async()=>{try{const re=await Ie(je);await h(re),Ue(re),p("Branding settings saved successfully!","success")}catch(re){console.error("Branding save error:",re),p("Failed to save branding settings.","error")}},ge=(re,Ke,Pe=.85)=>new Promise((Y,K)=>{if(!re){Y(re);return}const le=new Image;le.onload=()=>{const Ae=Math.min(1,Ke/Math.max(le.width,le.height)),Ee=Math.max(1,Math.round(le.width*Ae)),ct=Math.max(1,Math.round(le.height*Ae)),W=document.createElement("canvas");W.width=Ee,W.height=ct,W.getContext("2d").drawImage(le,0,0,Ee,ct),Y(W.toDataURL("image/jpeg",Pe))},le.onerror=()=>K(new Error("Image processing failed")),le.src=re}),Ie=async re=>{const[Ke,Pe]=await Promise.all([ge(re.logo,384,.82),ge(re.favicon,96,.8)]);return{...re,logo:Ke,favicon:Pe}},st=re=>{const Ke=re.target.files[0];if(Ke){if(Ke.size>3*1024*1024)return p("File too large. Max 3MB.","error");const Pe=new FileReader;Pe.onloadend=()=>{ye(Pe.result),we("logo")},Pe.readAsDataURL(Ke)}},et=re=>{const Ke=re.target.files[0];if(Ke){if(Ke.size>512*1024)return p("Favicon too large. Max 512KB.","error");const Pe=new FileReader;Pe.onloadend=async()=>{try{const Y=await ge(Pe.result,96,.8);Ue(K=>({...K,favicon:Y})),p("Favicon updated (preview). Save to persist.","success")}catch{p("Failed to process favicon image.","error")}},Pe.readAsDataURL(Ke)}},gt=async re=>{if(J==="avatar")try{await u({photoURL:re}),p("Avatar updated successfully!","success")}catch(Ke){console.error("Avatar update error:",Ke),p(`Failed to update avatar (${(Ke==null?void 0:Ke.code)||"unknown"}).`,"error")}else J==="logo"&&(Ue(Ke=>({...Ke,logo:re})),p("Logo updated successfully!","success"));ye(null),we(null)},vt=(re,Ke)=>{Be(Pe=>({...Pe,[re]:Ke}))},se=async re=>{re.preventDefault();const{currentPassword:Ke,newPassword:Pe,confirmPassword:Y}=ae;if(Pe!==Y){p("New passwords do not match.","error");return}if(Pe.length<6){p("Password must be at least 6 characters.","error");return}try{await P(Ke,Pe),p(t("settings.toasts.passwordChanged"),"success"),U(!1),Be({currentPassword:"",newPassword:"",confirmPassword:""})}catch(K){console.error("Password change error:",K),p("Failed to change password. Please verify your current password.","error")}},[H,ce]=I.useState({username:"",email:"",role:"Staff",password:"",displayName:""}),Se=()=>{B(null),ce({username:"",email:"",role:"Staff",password:"",displayName:""}),D(!0)},He=re=>{B(re),ce({...re,password:""}),D(!0)},en=async re=>{re.preventDefault();try{F?(await o({...H,_id:F._id}),p("User updated successfully!","success")):(await s({...H}),p("User created successfully!","success")),D(!1)}catch(Ke){console.error("User management error:",Ke),p("Failed to save user.","error")}},Bn=async re=>{te(re),q(!0)},xn=async()=>{if(G)try{await l(G),p("User deleted successfully.","success")}catch{p("Failed to delete user.","error")}finally{q(!1),te(null)}};return f.jsxs(Ql,{title:"Settings",children:[f.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[f.jsx("aside",{className:"w-full lg:w-64 bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-6",children:f.jsxs("nav",{className:"space-y-2",children:[f.jsxs("button",{onClick:()=>fe("general"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${A==="general"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(kD,{className:"w-5 h-5"}),t("settings.general")]}),f.jsxs("button",{onClick:()=>fe("appearance"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${A==="appearance"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(rE,{className:"w-5 h-5"}),t("settings.appearance")]}),f.jsxs("button",{onClick:()=>fe("branding"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${A==="branding"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(mY,{className:"w-5 h-5"}),t("settings.branding")]}),f.jsxs("button",{onClick:()=>fe("account"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${A==="account"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(Oo,{className:"w-5 h-5"}),t("settings.account")]}),f.jsxs("button",{onClick:()=>fe("users"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${A==="users"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(Kx,{className:"w-5 h-5"}),t("settings.users")]})]})}),f.jsxs("div",{className:"flex-1",children:[A==="general"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:t("settings.general")}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("h3",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[f.jsx(Ho,{className:"w-4 h-4 text-accent"}),t("settings.language")]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>x("en"),className:`flex-1 py-3 px-4 rounded-xl font-bold text-sm transition-all border-2 ${g==="en"?"border-accent bg-white dark:bg-slate-800 text-accent shadow-sm":"border-transparent bg-slate-100 dark:bg-slate-800 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:" English"}),f.jsx("button",{onClick:()=>x("ar"),className:`flex-1 py-3 px-4 rounded-xl font-bold text-sm transition-all border-2 ${g==="ar"?"border-accent bg-white dark:bg-slate-800 text-accent shadow-sm":"border-transparent bg-slate-100 dark:bg-slate-800 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:" "})]})]}),v&&f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800 space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:"Desktop Offline Mode"}),f.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[y?"Online":"Offline","  ",b," queued"]})]}),f.jsx("button",{onClick:()=>E(!k),className:`px-3 py-1.5 rounded-lg text-xs font-bold border ${k?"bg-emerald-50 border-emerald-200 text-emerald-700 dark:bg-emerald-900/20 dark:border-emerald-800/50 dark:text-emerald-300":"bg-slate-100 border-slate-200 text-slate-600 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-300"}`,children:k?"Enabled":"Disabled"})]}),f.jsx("button",{onClick:w,className:"px-4 py-2 text-sm font-bold rounded-xl bg-accent text-white shadow-lg shadow-accent/20",children:"Sync Now"}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-bold text-slate-600 dark:text-slate-300 mb-2",children:["Conflicts (",S.length,")"]}),f.jsxs("div",{className:"max-h-36 overflow-y-auto space-y-2",children:[S.length===0&&f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"No conflicts logged."}),S.slice(0,10).map(re=>f.jsxs("div",{className:"text-xs p-2 rounded-lg bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700",children:[f.jsx("span",{className:"font-bold",children:re.entity})," #",re.docId]},re.id))]})]})]})]})]}),A==="branding"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t("settings.branding")}),f.jsx("button",{onClick:Z,className:"px-4 py-2 text-white text-sm font-bold rounded-xl shadow-lg transition-all active:scale-95 bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.saveBranding")})]}),f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"max-w-md",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:t("settings.appName")}),f.jsx("input",{type:"text",value:je.name,onChange:re=>Ue({...je,name:re.target.value}),className:"w-full p-3 border border-slate-200 dark:border-slate-600 rounded-xl bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500/20"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-4",children:t("settings.logoAndFavicon")||"Logo & Favicon"}),f.jsxs("div",{className:"flex flex-col items-start gap-4",children:[f.jsxs("div",{className:"flex flex-wrap items-center gap-8",children:[f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsxs("div",{className:"relative",children:[f.jsxs("label",{className:"cursor-pointer w-24 h-24 rounded-full flex items-center justify-center border-2 border-white dark:border-slate-700 overflow-hidden bg-slate-100 dark:bg-slate-800 shadow-md",style:{backgroundColor:r.accentType==="solid"?r.accentColor:(bn=r.accentGradient)==null?void 0:bn.start},children:[je.logo?f.jsx(ga,{src:je.logo,alt:"Logo",className:"w-full h-full bg-white/85 dark:bg-slate-900/60",imageClassName:"w-full h-full",imageStyle:{objectFit:"contain"}}):f.jsx("span",{className:"text-white font-bold text-3xl",children:(je.name||"").charAt(0)}),f.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:st})]}),je.logo&&f.jsx("button",{type:"button",onClick:()=>Ue({...je,logo:null}),className:"absolute -top-1 -right-1 w-6 h-6 rounded-full bg-red-500 text-white flex items-center justify-center shadow-md hover:bg-red-600 transition-colors","aria-label":t("settings.removeLogo")||"Remove Logo",children:f.jsx(xi,{className:"w-3 h-3"})})]}),f.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:t("settings.logo")})]}),f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsxs("div",{className:"relative",children:[f.jsxs("label",{className:"cursor-pointer w-16 h-16 rounded-full flex items-center justify-center border-2 border-white dark:border-slate-700 overflow-hidden bg-slate-100 dark:bg-slate-800 shadow-md",children:[je.favicon?f.jsx(ga,{src:je.favicon,alt:"Favicon",className:"w-full h-full bg-white/85 dark:bg-slate-900/60",imageClassName:"w-full h-full",imageStyle:{objectFit:"contain"}}):f.jsx("div",{className:"w-8 h-8 rounded bg-slate-200 dark:bg-slate-700 animate-pulse"}),f.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:et})]}),je.favicon&&f.jsx("button",{type:"button",onClick:()=>Ue(re=>({...re,favicon:null})),className:"absolute -top-1 -right-1 w-5 h-5 rounded-full bg-red-500 text-white flex items-center justify-center shadow-md hover:bg-red-600 transition-colors","aria-label":t("settings.removeFavicon")||"Remove Favicon",children:f.jsx(xi,{className:"w-2.5 h-2.5"})})]}),f.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Favicon"})]})]}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:t("settings.logoSize")})]})]}),f.jsx("div",{className:"pt-8 border-t border-slate-100 dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-bold text-slate-800 dark:text-white",children:t("settings.appHeader")}),f.jsx("p",{className:"text-xs text-slate-500",children:t("settings.appHeaderDesc")})]}),f.jsx("button",{onClick:async()=>{const re=!je.hideHeader;Ue(Ke=>({...Ke,hideHeader:re})),await h({...d,hideHeader:re})},className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none",style:{backgroundColor:je.hideHeader?"#e2e8f0":d.color},children:f.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${je.hideHeader?"translate-x-1":"translate-x-6"}`})})]})})]})]}),A==="appearance"&&f.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(rE,{className:"w-5 h-5 text-[var(--brand-color)]"}),t("settings.themeOptions")]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[{id:"light",name:"Pro Light",icon:gY,desc:"Clean & minimal"},{id:"dark",name:"Pro Dark",icon:fY,desc:"Deep & elegant"}].map(re=>f.jsxs("button",{onClick:()=>i({theme:re.id}),className:`group relative flex flex-col p-4 rounded-2xl border-2 transition-all text-left ${r.theme===re.id?"border-accent":"border-slate-100 dark:border-slate-700 hover:border-slate-200 dark:hover:border-slate-600"}`,style:r.theme===re.id?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)"}:{},children:[f.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center mb-3 transition-colors ${r.theme===re.id?"bg-accent text-white":"bg-slate-100 dark:bg-slate-700 text-slate-500"}`,children:f.jsx(re.icon,{className:"w-6 h-6"})}),f.jsx("span",{className:"font-bold text-slate-800 dark:text-white",children:re.name}),f.jsx("span",{className:"text-xs text-slate-500 mt-1",children:re.desc}),r.theme===re.id&&f.jsx("div",{className:"absolute top-3 right-3 w-6 h-6 bg-accent rounded-full flex items-center justify-center shadow-lg border-2 border-white dark:border-slate-800 animate-in zoom-in duration-200",children:f.jsx(xD,{className:"w-3.5 h-3.5 text-white"})})]},re.id))}),f.jsx("div",{className:"mt-6 pt-6 border-t border-slate-100 dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:t("settings.liquidBackground")}),f.jsx("p",{className:"text-xs text-slate-500 mt-1",children:t("settings.liquidBackgroundDesc")})]}),f.jsx("button",{onClick:()=>i({glassBackground:!r.glassBackground}),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none",style:{backgroundColor:r.glassBackground?"var(--accent-color)":"#cbd5e1"},children:f.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${r.glassBackground?"translate-x-6":"translate-x-1"}`})})]})})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8",children:[f.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 rounded-full bg-accent"}),t("settings.accentCustomization")]}),f.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-900 p-1 rounded-xl",children:[f.jsx("button",{onClick:()=>i({accentType:"solid"}),className:`px-4 py-1.5 rounded-lg text-sm font-bold transition-all ${r.accentType==="solid"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500"}`,children:t("settings.solid")}),f.jsx("button",{onClick:()=>i({accentType:"gradient"}),className:`px-4 py-1.5 rounded-lg text-sm font-bold transition-all ${r.accentType==="gradient"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500"}`,children:t("settings.gradient")})]})]}),f.jsx("div",{className:"space-y-8",children:r.accentType==="solid"?f.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[["#1e3a5f","#6366f1","#8b5cf6","#ec4899","#f43f5e","#f59e0b","#10b981","#06b6d4"].map(re=>f.jsx("button",{onClick:()=>i({accentColor:re}),className:`w-10 h-10 rounded-full border-4 transition-transform hover:scale-110 ${r.accentColor===re?"border-white dark:border-slate-800 shadow-xl":"border-transparent"}`,style:{backgroundColor:re}},re)),f.jsx("div",{className:"h-8 w-[1px] bg-slate-200 dark:bg-slate-700 mx-2"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"relative group",children:[f.jsx("input",{type:"color",value:r.accentColor,onChange:re=>i({accentColor:re.target.value}),className:"w-10 h-10 rounded-full cursor-pointer border-0 p-0 overflow-hidden bg-transparent"}),f.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-[10px] px-2 py-0.5 rounded opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity whitespace-nowrap",children:t("settings.customColor")})]}),f.jsx("span",{className:"font-mono text-sm text-slate-500 uppercase",children:r.accentColor})]})]}):f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[{start:"#8B5CF6",end:"#3B82F6",name:"Royal"},{start:"#F472B6",end:"#FB923C",name:"Sunset"},{start:"#34D399",end:"#3B82F6",name:"Aurora"},{start:"#EC4899",end:"#8B5CF6",name:"Vibrant"}].map((re,Ke)=>f.jsxs("button",{onClick:()=>i({accentGradient:re}),className:`flex items-center gap-3 p-3 rounded-xl border-2 transition-all ${r.accentGradient.start===re.start&&r.accentGradient.end===re.end?"border-accent":"border-slate-100 dark:border-slate-700 hover:border-slate-200"}`,style:r.accentGradient.start===re.start&&r.accentGradient.end===re.end?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)"}:{},children:[f.jsx("div",{className:"w-10 h-10 rounded-lg",style:{background:`linear-gradient(135deg, ${re.start}, ${re.end})`}}),f.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:re.name})]},Ke))}),f.jsxs("div",{className:"pt-6 border-t border-slate-100 dark:border-slate-700",children:[f.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-4",children:t("settings.customDualColors")}),f.jsxs("div",{className:"flex items-center gap-8",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("input",{type:"color",value:r.accentGradient.start,onChange:re=>i({accentGradient:{...r.accentGradient,start:re.target.value}}),className:"w-10 h-10 rounded-full cursor-pointer border-4 border-white dark:border-slate-800 shadow-lg p-0 overflow-hidden bg-transparent"}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold tracking-wider",children:t("settings.start")}),f.jsx("span",{className:"font-mono text-xs text-slate-600 dark:text-slate-400",children:r.accentGradient.start.toUpperCase()})]})]}),f.jsx("div",{className:"w-8 h-0.5 bg-slate-200 dark:bg-slate-700 rounded-full"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("input",{type:"color",value:r.accentGradient.end,onChange:re=>i({accentGradient:{...r.accentGradient,end:re.target.value}}),className:"w-10 h-10 rounded-full cursor-pointer border-4 border-white dark:border-slate-800 shadow-lg p-0 overflow-hidden bg-transparent"}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold tracking-wider",children:t("settings.end")}),f.jsx("span",{className:"font-mono text-xs text-slate-600 dark:text-slate-400",children:r.accentGradient.end.toUpperCase()})]})]})]})]})]})})]}),f.jsxs("div",{className:"bg-slate-100 dark:bg-slate-900 rounded-2xl p-8 flex flex-col items-center justify-center min-h-[300px] border border-slate-200 dark:border-slate-800",children:[f.jsx("p",{className:"text-sm font-bold text-slate-500 mb-8 tracking-widest uppercase",children:t("settings.livePreview")}),f.jsxs("div",{className:`w-full max-w-sm p-8 rounded-2xl transition-all ${r.glassBackground?"glass-panel":"bg-white dark:bg-slate-800 shadow-xl"}`,children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h4",{className:"font-bold text-slate-800 dark:text-white",children:t("settings.contentLayoutExample")}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),f.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),f.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-4 rounded-xl border border-slate-100 dark:border-slate-700",children:[f.jsx("div",{className:"h-2 w-3/4 bg-slate-200 dark:bg-slate-700 rounded mb-2"}),f.jsx("div",{className:"h-2 w-1/2 bg-slate-200 dark:bg-slate-700 rounded"})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{className:"px-4 py-2 bg-[var(--brand-color)] text-white rounded-lg text-sm font-medium shadow-lg shadow-[var(--brand-color)]/20",children:t("settings.primaryButton")}),f.jsx("button",{className:"px-4 py-2 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-lg text-sm font-medium",children:t("common.cancel")})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:t("settings.toggleSwitch")}),f.jsx("div",{className:"w-10 h-5 bg-accent rounded-full relative",children:f.jsx("div",{className:"absolute right-1 top-1 w-3 h-3 bg-white rounded-full"})})]})]})]})]})]}),A==="account"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:t("settings.accountSettings")}),f.jsxs("div",{className:"max-w-xl space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[f.jsx("div",{className:"w-24 h-24 bg-accent/20 rounded-full flex items-center justify-center text-3xl font-bold text-accent overflow-hidden border-4 border-white dark:border-slate-800 shadow-lg",children:Q?f.jsx(ga,{src:Q,alt:"Avatar",className:"w-full h-full",imageClassName:"w-full h-full object-cover"}):((cr=(c==null?void 0:c.displayName)||(_==null?void 0:_.displayName))==null?void 0:cr.charAt(0))||"U"}),f.jsxs("div",{children:[f.jsxs("label",{className:"cursor-pointer px-4 py-2 text-white text-sm font-bold rounded-xl shadow-lg transition-all inline-block hover:scale-[1.02] bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:[t("settings.changeAvatar"),f.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:kt})]}),f.jsx("p",{className:"text-xs text-slate-500 mt-2",children:t("settings.avatarRecommendedSize")})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:t("settings.displayName")}),f.jsx("input",{type:"text",id:"displayName",value:ke,onChange:re=>ne(re.target.value),disabled:!ve,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent transition-all disabled:bg-slate-100 dark:disabled:bg-slate-700 disabled:text-slate-500 dark:disabled:text-slate-400"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:t("settings.username")}),f.jsx("input",{type:"text",value:ie,readOnly:!0,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 cursor-not-allowed"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:t("settings.emailAddress")}),f.jsx("input",{type:"email",value:(_==null?void 0:_.email)||"",readOnly:!0,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 cursor-not-allowed"})]}),f.jsx("div",{className:"flex justify-end pt-4",children:ve?f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>{ne((_==null?void 0:_.displayName)||""),Te(!1)},className:"px-6 py-3 text-slate-600 dark:text-slate-300 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 rounded-xl transition-colors",children:t("common.cancel")}),f.jsx("button",{onClick:$e,className:"px-6 py-3 text-white font-bold rounded-xl transition-all shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.saveChanges")})]}):f.jsx("button",{onClick:()=>Te(!0),className:"px-6 py-3 text-white font-bold rounded-xl transition-all shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.editProfile")})}),f.jsxs("div",{className:"mt-12 pt-8 border-t border-slate-100 dark:border-slate-700",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(_D,{className:"w-5 h-5 text-accent"}),t("settings.securitySettings")]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"p-6 rounded-2xl bg-slate-50 dark:bg-slate-900 border border-slate-100 dark:border-slate-800",children:[f.jsx("h4",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 mb-1",children:t("settings.password")}),f.jsx("p",{className:"text-xs text-slate-500 mb-4 leading-relaxed",children:t("settings.passwordDescription")}),f.jsx("button",{onClick:()=>U(!0),className:"w-full py-2.5 bg-accent text-white text-sm font-bold rounded-xl shadow-lg hover:brightness-110 transition-all",style:{boxShadow:"0 4px 10px -2px var(--accent-color)44"},children:t("settings.changePassword")})]}),f.jsxs("div",{className:"p-6 rounded-2xl bg-slate-50 dark:bg-slate-900 border border-slate-100 dark:border-slate-800",children:[f.jsx("h4",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 mb-1",children:"Two-Factor Authentication"}),f.jsx("p",{className:"text-xs text-slate-500 mb-4 leading-relaxed",children:"Add an extra layer of protection to your profile."}),f.jsx("button",{className:"w-full py-2.5 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 text-sm font-bold rounded-xl hover:bg-slate-300 dark:hover:bg-slate-600 transition-all",children:t("settings.enable2fa")})]})]})]})]})]}),A==="users"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t("settings.users")}),f.jsxs("button",{onClick:Se,className:"flex items-center gap-2 px-4 py-2 text-white font-medium rounded-xl transition-colors shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:[f.jsx(ba,{className:"w-5 h-5"})," ",t("settings.addUser")]})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("settings.table.user")}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("settings.table.email")}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("settings.table.role")}),f.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("common.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:a.map(re=>{var Ke,Pe;return f.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[f.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 overflow-hidden flex-shrink-0 border-2 border-white dark:border-slate-700 shadow-sm",children:re.photoURL?f.jsx(ga,{src:re.photoURL,alt:re.displayName,className:"w-full h-full",imageClassName:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center bg-accent text-white font-bold",children:((Ke=re.displayName)==null?void 0:Ke.charAt(0))||((Pe=re.username)==null?void 0:Pe.charAt(0))||"U"})}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white",children:re.displayName}),f.jsxs("div",{className:"text-xs text-slate-500",children:["@",re.username]})]})]})}),f.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:re.email}),f.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:f.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-bold ${re.role==="Admin"?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300"}`,children:re.role})}),f.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("button",{onClick:()=>He(re),className:"p-2 text-accent hover:bg-accent/10 rounded-lg transition-all",children:f.jsx(Go,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>Bn(re._id),className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",children:f.jsx(xi,{className:"w-4 h-4"})})]})})]},re._id)})})]})})]})]})]}),R&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:t(F?"settings.editUser":"settings.addNewUser")}),f.jsxs("form",{onSubmit:en,className:"space-y-4",children:[f.jsx("input",{required:!0,placeholder:t("settings.placeholders.displayName"),value:H.displayName,onChange:re=>ce({...H,displayName:re.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.username"),value:H.username,onChange:re=>ce({...H,username:re.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.email"),type:"email",value:H.email,onChange:re=>ce({...H,email:re.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsxs("select",{value:H.role,onChange:re=>ce({...H,role:re.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none",children:[f.jsx("option",{value:"Manager",children:"Manager"}),f.jsx("option",{value:"Staff",children:"Staff"}),f.jsx("option",{value:"Admin",children:"Admin"})]}),f.jsx("input",{placeholder:t(F?"settings.placeholders.passwordKeep":"settings.placeholders.password"),type:"password",value:H.password,onChange:re=>ce({...H,password:re.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none",required:!F}),f.jsxs("div",{className:"flex gap-3 mt-6",children:[f.jsx("button",{type:"button",onClick:()=>D(!1),className:"flex-1 py-3 text-slate-600 font-bold hover:bg-slate-100 rounded-xl transition-colors",children:t("common.cancel")}),f.jsx("button",{type:"submit",className:"flex-1 py-3 text-white font-bold rounded-xl transition-colors shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t(F?"settings.updateUser":"settings.createUser")})]})]})]})}),$&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:t("settings.changePassword")}),f.jsxs("form",{onSubmit:se,className:"space-y-4",children:[f.jsx("input",{required:!0,placeholder:t("settings.placeholders.currentPassword"),type:"password",value:ae.currentPassword,onChange:re=>vt("currentPassword",re.target.value),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.newPassword"),type:"password",value:ae.newPassword,onChange:re=>vt("newPassword",re.target.value),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.confirmPassword"),type:"password",value:ae.confirmPassword,onChange:re=>vt("confirmPassword",re.target.value),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsxs("div",{className:"flex gap-3 mt-6",children:[f.jsx("button",{type:"button",onClick:()=>{U(!1),Be({currentPassword:"",newPassword:"",confirmPassword:""})},className:"flex-1 py-3 text-slate-600 font-bold hover:bg-slate-100 rounded-xl transition-colors",children:t("common.cancel")}),f.jsx("button",{type:"submit",className:"flex-1 py-3 text-white font-bold rounded-xl transition-colors shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.changePassword")})]})]})]})}),de&&f.jsx(SOe,{image:de,onCrop:gt,onClose:()=>{ye(null),we(null)},aspect:1}),f.jsx(vd,{isOpen:z,onClose:()=>{q(!1),te(null)},onConfirm:xn,title:"Delete User",message:"Are you sure you want to delete this user?"})]})},I3=["Social Media Post","Social Media Reels","Other"],EOe=({expenseTypes:t,expenses:e,onClose:n,onSaveTypes:r})=>{const{addToast:i}=Nn(),[a,s]=I.useState(""),[o,l]=I.useState(null),[c,u]=I.useState(""),[d,h]=I.useState({}),[p,g]=I.useState(!1),[x,v]=I.useState(null);I.useEffect(()=>{const S={};(t||[]).forEach(_=>{S[_]=(e||[]).filter(N=>(N.type||"Other")===_).length}),h(S)},[t,e]);const y=async S=>{await r(S)},b=async()=>{const S=a.trim();if(S){if(t.includes(S)){i("Expense type already exists","info");return}await y([...t,S]),s("")}},w=async()=>{const S=c.trim();if(!o||!S)return;if(S===o){l(null),u("");return}if(t.includes(S)){i("Expense type already exists","info");return}const _=t.map(N=>N===o?S:N);await y(_),l(null),u("")},k=S=>{if(I3.includes(S)){i("Default expense types cannot be removed.","warning");return}if((d[S]||0)>0){i(`Cannot delete type "${S}" because it is used by ${d[S]} expenses.`,"error");return}v(S),g(!0)},E=async()=>{if(!x)return;const S=t.filter(_=>_!==x);await y(S),g(!1),v(null)};return f.jsxs("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden flex flex-col max-h-[80vh]",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-800/50",children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Manage Expense Types"}),f.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:f.jsx(Dr,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:a,onChange:S=>s(S.target.value),placeholder:"New expense type",className:"flex-1 px-4 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent dark:text-white",onKeyDown:S=>S.key==="Enter"&&b()}),f.jsx("button",{onClick:b,disabled:!a.trim(),className:"px-4 py-2 bg-accent disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-xl shadow-lg shadow-accent/20 transition-all flex items-center justify-center",children:f.jsx(ba,{className:"w-5 h-5"})})]})}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 custom-scrollbar bg-slate-50/50 dark:bg-slate-900/20",children:[(t||[]).map(S=>f.jsx("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm group hover:border-indigo-100 dark:hover:border-slate-600 transition-colors",children:o===S?f.jsxs("div",{className:"flex-1 flex gap-2 mr-2",children:[f.jsx("input",{autoFocus:!0,type:"text",value:c,onChange:_=>u(_.target.value),className:"flex-1 px-2 py-1 bg-slate-50 dark:bg-slate-900 border border-accent rounded-lg text-sm outline-none dark:text-white",onKeyDown:_=>{_.key==="Enter"&&w(),_.key==="Escape"&&(l(null),u(""))}}),f.jsx("button",{onClick:w,className:"text-emerald-500 hover:bg-emerald-50 rounded p-1",children:f.jsx(m2,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>{l(null),u("")},className:"text-red-400 hover:bg-red-50 rounded p-1",children:f.jsx(Dr,{className:"w-4 h-4"})})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200 text-sm",children:S}),f.jsxs("span",{className:"text-[10px] font-bold px-2 py-0.5 bg-slate-100 dark:bg-slate-700 text-slate-500 rounded-full",children:[d[S]||0," expenses"]})]}),f.jsxs("div",{className:"flex gap-1 opacity-100 sm:opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>{l(S),u(S)},className:"p-2 text-slate-400 hover:text-accent hover:bg-accent/10 rounded-lg transition-colors",title:"Rename",children:f.jsx(SD,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>k(S),className:`p-2 rounded-lg transition-colors ${I3.includes(S)||(d[S]||0)>0?"text-slate-300 cursor-not-allowed":"text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30"}`,title:I3.includes(S)?"Default type cannot be deleted":(d[S]||0)>0?"Cannot delete used type":"Delete",children:I3.includes(S)||(d[S]||0)>0?f.jsx(gD,{className:"w-4 h-4"}):f.jsx(xi,{className:"w-4 h-4"})})]})]})},S)),(t||[]).length===0&&f.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"No expense types found. Add one above."})]})]}),f.jsx(vd,{isOpen:p,onClose:()=>{g(!1),v(null)},onConfirm:E,title:"Delete Expense Type",message:`Are you sure you want to delete type "${x}"?`})]})};function NOe(t,e,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:t,timeZoneName:n}).format(e).split(/\s/g).slice(2).join(" ")}const By={},Af={};function rl(t,e){try{const r=(By[t]||(By[t]=new Intl.DateTimeFormat("en-US",{timeZone:t,timeZoneName:"longOffset"}).format))(e).split("GMT")[1];return r in Af?Af[r]:OO(r,r.split(":"))}catch{if(t in Af)return Af[t];const n=t==null?void 0:t.match(TOe);return n?OO(t,n.slice(1)):NaN}}const TOe=/([+-]\d\d):?(\d\d)?/;function OO(t,e){const n=+(e[0]||0),r=+(e[1]||0),i=+(e[2]||0)/60;return Af[t]=n*60+r>0?n*60+r+i:n*60-r-i}class Ka extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(rl(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),CW(this),q9(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new Ka(...n,e):new Ka(Date.now(),e)}withTimeZone(e){return new Ka(+this,e)}getTimezoneOffset(){const e=-rl(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),q9(this),+this}[Symbol.for("constructDateFrom")](e){return new Ka(+new Date(e),this.timeZone)}}const jO=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!jO.test(t))return;const e=t.replace(jO,"$1UTC");Ka.prototype[e]&&(t.startsWith("get")?Ka.prototype[t]=function(){return this.internal[e]()}:(Ka.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),POe(this),+this},Ka.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),q9(this),+this}))});function q9(t){t.internal.setTime(+t),t.internal.setUTCSeconds(t.internal.getUTCSeconds()-Math.round(-rl(t.timeZone,t)*60))}function POe(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),CW(t)}function CW(t){const e=rl(t.timeZone,t),n=e>0?Math.floor(e):Math.ceil(e),r=new Date(+t);r.setUTCHours(r.getUTCHours()-1);const i=-new Date(+t).getTimezoneOffset(),a=-new Date(+r).getTimezoneOffset(),s=i-a,o=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();s&&o&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+s);const l=i-n;l&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+l);const c=new Date(+t);c.setUTCSeconds(0);const u=i>0?c.getSeconds():(c.getSeconds()-60)%60,d=Math.round(-(rl(t.timeZone,t)*60))%60;(d||u)&&(t.internal.setUTCSeconds(t.internal.getUTCSeconds()+d),Date.prototype.setUTCSeconds.call(t,Date.prototype.getUTCSeconds.call(t)+d+u));const h=rl(t.timeZone,t),p=h>0?Math.floor(h):Math.ceil(h),x=-new Date(+t).getTimezoneOffset()-p,v=p!==n,y=x-l;if(v&&y){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+y);const b=rl(t.timeZone,t),w=b>0?Math.floor(b):Math.ceil(b),k=p-w;k&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+k),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+k))}}class mr extends Ka{static tz(e,...n){return n.length?new mr(...n,e):new mr(Date.now(),e)}toISOString(){const[e,n,r]=this.tzComponents(),i=`${e}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+i}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,r,i]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${r} ${n} ${i}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,r,i]=this.tzComponents();return`${e} GMT${n}${r}${i} (${NOe(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",r=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),i=String(Math.abs(e)%60).padStart(2,"0");return[n,r,i]}withTimeZone(e){return new mr(+this,e)}[Symbol.for("constructDateFrom")](e){return new mr(+new Date(e),this.timeZone)}}const MO=5,AOe=4;function IOe(t,e){const n=e.startOfMonth(t),r=n.getDay()>0?n.getDay():7,i=e.addDays(t,-r+1),a=e.addDays(i,MO*7-1);return e.getMonth(t)===e.getMonth(a)?MO:AOe}function OW(t,e){const n=e.startOfMonth(t),r=n.getDay();return r===1?n:r===0?e.addDays(n,-1*6):e.addDays(n,-1*(r-1))}function COe(t,e){const n=OW(t,e),r=IOe(t,e);return e.addDays(n,r*7-1)}const jW={...vc,labels:{labelDayButton:(t,e,n,r)=>{let i;r&&typeof r.format=="function"?i=r.format.bind(r):i=(s,o)=>Xt(s,o,{locale:vc,...n});let a=i(t,"PPPP");return e.today&&(a=`Today, ${a}`),e.selected&&(a=`${a}, selected`),a},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:t=>`Week ${t}`,labelYearDropdown:"Choose the Year",labelGrid:(t,e,n)=>{let r;return n&&typeof n.format=="function"?r=n.format.bind(n):r=(i,a)=>Xt(i,a,{locale:vc,...e}),r(t,"LLLL yyyy")},labelGridcell:(t,e,n,r)=>{let i;r&&typeof r.format=="function"?i=r.format.bind(r):i=(s,o)=>Xt(s,o,{locale:vc,...n});let a=i(t,"PPPP");return e!=null&&e.today&&(a=`Today, ${a}`),a},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(t,e,n)=>{let r;return n&&typeof n.format=="function"?r=n.format.bind(n):r=(i,a)=>Xt(i,a,{locale:vc,...e}),r(t,"cccc")}}};class ki{constructor(e,n){this.Date=Date,this.today=()=>{var r;return(r=this.overrides)!=null&&r.today?this.overrides.today():this.options.timeZone?mr.tz(this.options.timeZone):new this.Date},this.newDate=(r,i,a)=>{var s;return(s=this.overrides)!=null&&s.newDate?this.overrides.newDate(r,i,a):this.options.timeZone?new mr(r,i,a,this.options.timeZone):new Date(r,i,a)},this.addDays=(r,i)=>{var a;return(a=this.overrides)!=null&&a.addDays?this.overrides.addDays(r,i):I5(r,i)},this.addMonths=(r,i)=>{var a;return(a=this.overrides)!=null&&a.addMonths?this.overrides.addMonths(r,i):tu(r,i)},this.addWeeks=(r,i)=>{var a;return(a=this.overrides)!=null&&a.addWeeks?this.overrides.addWeeks(r,i):vke(r,i)},this.addYears=(r,i)=>{var a;return(a=this.overrides)!=null&&a.addYears?this.overrides.addYears(r,i):xke(r,i)},this.differenceInCalendarDays=(r,i)=>{var a;return(a=this.overrides)!=null&&a.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,i):C5(r,i)},this.differenceInCalendarMonths=(r,i)=>{var a;return(a=this.overrides)!=null&&a.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,i):LB(r,i)},this.eachMonthOfInterval=r=>{var i;return(i=this.overrides)!=null&&i.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):Eke(r)},this.eachYearOfInterval=r=>{var o;const i=(o=this.overrides)!=null&&o.eachYearOfInterval?this.overrides.eachYearOfInterval(r):Tke(r),a=new Set(i.map(l=>this.getYear(l)));if(a.size===i.length)return i;const s=[];return a.forEach(l=>{s.push(new Date(l,0,1))}),s},this.endOfBroadcastWeek=r=>{var i;return(i=this.overrides)!=null&&i.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):COe(r,this)},this.endOfISOWeek=r=>{var i;return(i=this.overrides)!=null&&i.endOfISOWeek?this.overrides.endOfISOWeek(r):Pke(r)},this.endOfMonth=r=>{var i;return(i=this.overrides)!=null&&i.endOfMonth?this.overrides.endOfMonth(r):FB(r)},this.endOfWeek=(r,i)=>{var a;return(a=this.overrides)!=null&&a.endOfWeek?this.overrides.endOfWeek(r,i):c_(r,this.options)},this.endOfYear=r=>{var i;return(i=this.overrides)!=null&&i.endOfYear?this.overrides.endOfYear(r):Nke(r)},this.format=(r,i,a)=>{var o;const s=(o=this.overrides)!=null&&o.format?this.overrides.format(r,i,this.options):Xt(r,i,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(s):s},this.getISOWeek=r=>{var i;return(i=this.overrides)!=null&&i.getISOWeek?this.overrides.getISOWeek(r):u_(r)},this.getMonth=(r,i)=>{var a;return(a=this.overrides)!=null&&a.getMonth?this.overrides.getMonth(r,this.options):EEe(r,this.options)},this.getYear=(r,i)=>{var a;return(a=this.overrides)!=null&&a.getYear?this.overrides.getYear(r,this.options):NEe(r,this.options)},this.getWeek=(r,i)=>{var a;return(a=this.overrides)!=null&&a.getWeek?this.overrides.getWeek(r,this.options):d_(r,this.options)},this.isAfter=(r,i)=>{var a;return(a=this.overrides)!=null&&a.isAfter?this.overrides.isAfter(r,i):f_(r,i)},this.isBefore=(r,i)=>{var a;return(a=this.overrides)!=null&&a.isBefore?this.overrides.isBefore(r,i):xc(r,i)},this.isDate=r=>{var i;return(i=this.overrides)!=null&&i.isDate?this.overrides.isDate(r):$B(r)},this.isSameDay=(r,i)=>{var a;return(a=this.overrides)!=null&&a.isSameDay?this.overrides.isSameDay(r,i):Is(r,i)},this.isSameMonth=(r,i)=>{var a;return(a=this.overrides)!=null&&a.isSameMonth?this.overrides.isSameMonth(r,i):WB(r,i)},this.isSameYear=(r,i)=>{var a;return(a=this.overrides)!=null&&a.isSameYear?this.overrides.isSameYear(r,i):TEe(r,i)},this.max=r=>{var i;return(i=this.overrides)!=null&&i.max?this.overrides.max(r):bke(r)},this.min=r=>{var i;return(i=this.overrides)!=null&&i.min?this.overrides.min(r):wke(r)},this.setMonth=(r,i)=>{var a;return(a=this.overrides)!=null&&a.setMonth?this.overrides.setMonth(r,i):zEe(r,i)},this.setYear=(r,i)=>{var a;return(a=this.overrides)!=null&&a.setYear?this.overrides.setYear(r,i):WEe(r,i)},this.startOfBroadcastWeek=(r,i)=>{var a;return(a=this.overrides)!=null&&a.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):OW(r,this)},this.startOfDay=r=>{var i;return(i=this.overrides)!=null&&i.startOfDay?this.overrides.startOfDay(r):Ga(r)},this.startOfISOWeek=r=>{var i;return(i=this.overrides)!=null&&i.startOfISOWeek?this.overrides.startOfISOWeek(r):xp(r)},this.startOfMonth=r=>{var i;return(i=this.overrides)!=null&&i.startOfMonth?this.overrides.startOfMonth(r):VB(r)},this.startOfWeek=(r,i)=>{var a;return(a=this.overrides)!=null&&a.startOfWeek?this.overrides.startOfWeek(r,this.options):jl(r,this.options)},this.startOfYear=r=>{var i;return(i=this.overrides)!=null&&i.startOfYear?this.overrides.startOfYear(r):UB(r)},this.options={locale:jW,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),r={};for(let i=0;i<10;i++)r[i.toString()]=n.format(i);return r}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,r=>n[r]||r)}formatNumber(e){return this.replaceDigits(e.toString())}getMonthYearOrder(){var n;const e=(n=this.options.locale)==null?void 0:n.code;return e&&ki.yearFirstLocales.has(e)?"year-first":"month-first"}formatMonthYear(e){const{locale:n,timeZone:r,numerals:i}=this.options,a=n==null?void 0:n.code;if(a&&ki.yearFirstLocales.has(a))try{return new Intl.DateTimeFormat(a,{month:"long",year:"numeric",timeZone:r,numberingSystem:i}).format(e)}catch{}const s=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(e,s)}}ki.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const ps=new ki;class MW{constructor(e,n,r=ps){this.date=e,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(e,n)),this.dateLib=r,this.isoDate=r.format(e,"yyyy-MM-dd"),this.displayMonthId=r.format(n,"yyyy-MM"),this.dateMonthId=r.format(e,"yyyy-MM")}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class OOe{constructor(e,n){this.date=e,this.weeks=n}}class jOe{constructor(e,n){this.days=n,this.weekNumber=e}}function MOe(t){return V.createElement("button",{...t})}function DOe(t){return V.createElement("span",{...t})}function ROe(t){const{size:e=24,orientation:n="left",className:r}=t;return V.createElement("svg",{className:r,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&V.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&V.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&V.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&V.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function $Oe(t){const{day:e,modifiers:n,...r}=t;return V.createElement("td",{...r})}function LOe(t){const{day:e,modifiers:n,...r}=t,i=V.useRef(null);return V.useEffect(()=>{var a;n.focused&&((a=i.current)==null||a.focus())},[n.focused]),V.createElement("button",{ref:i,...r})}var ze;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(ze||(ze={}));var nn;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(nn||(nn={}));var ya;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(ya||(ya={}));var ui;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(ui||(ui={}));function FOe(t){const{options:e,className:n,components:r,classNames:i,...a}=t,s=[i[ze.Dropdown],n].join(" "),o=e==null?void 0:e.find(({value:l})=>l===a.value);return V.createElement("span",{"data-disabled":a.disabled,className:i[ze.DropdownRoot]},V.createElement(r.Select,{className:s,...a},e==null?void 0:e.map(({value:l,label:c,disabled:u})=>V.createElement(r.Option,{key:l,value:l,disabled:u},c))),V.createElement("span",{className:i[ze.CaptionLabel],"aria-hidden":!0},o==null?void 0:o.label,V.createElement(r.Chevron,{orientation:"down",size:18,className:i[ze.Chevron]})))}function VOe(t){return V.createElement("div",{...t})}function UOe(t){return V.createElement("div",{...t})}function BOe(t){const{calendarMonth:e,displayIndex:n,...r}=t;return V.createElement("div",{...r},t.children)}function zOe(t){const{calendarMonth:e,displayIndex:n,...r}=t;return V.createElement("div",{...r})}function WOe(t){return V.createElement("table",{...t})}function qOe(t){return V.createElement("div",{...t})}const DW=I.createContext(void 0);function h4(){const t=I.useContext(DW);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function HOe(t){const{components:e}=h4();return V.createElement(e.Dropdown,{...t})}function GOe(t){const{onPreviousClick:e,onNextClick:n,previousMonth:r,nextMonth:i,...a}=t,{components:s,classNames:o,labels:{labelPrevious:l,labelNext:c}}=h4(),u=I.useCallback(h=>{i&&(n==null||n(h))},[i,n]),d=I.useCallback(h=>{r&&(e==null||e(h))},[r,e]);return V.createElement("nav",{...a},V.createElement(s.PreviousMonthButton,{type:"button",className:o[ze.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":l(r),onClick:d},V.createElement(s.Chevron,{disabled:r?void 0:!0,className:o[ze.Chevron],orientation:"left"})),V.createElement(s.NextMonthButton,{type:"button",className:o[ze.NextMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":c(i),onClick:u},V.createElement(s.Chevron,{disabled:i?void 0:!0,orientation:"right",className:o[ze.Chevron]})))}function KOe(t){const{components:e}=h4();return V.createElement(e.Button,{...t})}function YOe(t){return V.createElement("option",{...t})}function QOe(t){const{components:e}=h4();return V.createElement(e.Button,{...t})}function XOe(t){const{rootRef:e,...n}=t;return V.createElement("div",{...n,ref:e})}function JOe(t){return V.createElement("select",{...t})}function ZOe(t){const{week:e,...n}=t;return V.createElement("tr",{...n})}function eje(t){return V.createElement("th",{...t})}function tje(t){return V.createElement("thead",{"aria-hidden":!0},V.createElement("tr",{...t}))}function nje(t){const{week:e,...n}=t;return V.createElement("th",{...n})}function rje(t){return V.createElement("th",{...t})}function ije(t){return V.createElement("tbody",{...t})}function aje(t){const{components:e}=h4();return V.createElement(e.Dropdown,{...t})}const sje=Object.freeze(Object.defineProperty({__proto__:null,Button:MOe,CaptionLabel:DOe,Chevron:ROe,Day:$Oe,DayButton:LOe,Dropdown:FOe,DropdownNav:VOe,Footer:UOe,Month:BOe,MonthCaption:zOe,MonthGrid:WOe,Months:qOe,MonthsDropdown:HOe,Nav:GOe,NextMonthButton:KOe,Option:YOe,PreviousMonthButton:QOe,Root:XOe,Select:JOe,Week:ZOe,WeekNumber:nje,WeekNumberHeader:rje,Weekday:eje,Weekdays:tje,Weeks:ije,YearsDropdown:aje},Symbol.toStringTag,{value:"Module"}));function Os(t,e,n=!1,r=ps){let{from:i,to:a}=t;const{differenceInCalendarDays:s,isSameDay:o}=r;return i&&a?(s(a,i)<0&&([i,a]=[a,i]),s(e,i)>=(n?1:0)&&s(a,e)>=(n?1:0)):!n&&a?o(a,e):!n&&i?o(i,e):!1}function Y_(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function U5(t){return!!(t&&typeof t=="object"&&"from"in t)}function Q_(t){return!!(t&&typeof t=="object"&&"after"in t)}function X_(t){return!!(t&&typeof t=="object"&&"before"in t)}function RW(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function $W(t,e){return Array.isArray(t)&&t.every(e.isDate)}function js(t,e,n=ps){const r=Array.isArray(e)?e:[e],{isSameDay:i,differenceInCalendarDays:a,isAfter:s}=n;return r.some(o=>{if(typeof o=="boolean")return o;if(n.isDate(o))return i(t,o);if($W(o,n))return o.some(l=>i(t,l));if(U5(o))return Os(o,t,!1,n);if(RW(o))return Array.isArray(o.dayOfWeek)?o.dayOfWeek.includes(t.getDay()):o.dayOfWeek===t.getDay();if(Y_(o)){const l=a(o.before,t),c=a(o.after,t),u=l>0,d=c<0;return s(o.before,o.after)?d&&u:u||d}return Q_(o)?a(t,o.after)>0:X_(o)?a(o.before,t)>0:typeof o=="function"?o(t):!1})}function oje(t,e,n,r,i){const{disabled:a,hidden:s,modifiers:o,showOutsideDays:l,broadcastCalendar:c,today:u=i.today()}=e,{isSameDay:d,isSameMonth:h,startOfMonth:p,isBefore:g,endOfMonth:x,isAfter:v}=i,y=n&&p(n),b=r&&x(r),w={[nn.focused]:[],[nn.outside]:[],[nn.disabled]:[],[nn.hidden]:[],[nn.today]:[]},k={};for(const E of t){const{date:S,displayMonth:_}=E,N=!!(_&&!h(S,_)),P=!!(y&&g(S,y)),A=!!(b&&v(S,b)),C=!!(a&&js(S,a,i)),O=!!(s&&js(S,s,i))||P||A||!c&&!l&&N||c&&l===!1&&N,j=d(S,u);N&&w.outside.push(E),C&&w.disabled.push(E),O&&w.hidden.push(E),j&&w.today.push(E),o&&Object.keys(o).forEach(R=>{const D=o==null?void 0:o[R];D&&js(S,D,i)&&(k[R]?k[R].push(E):k[R]=[E])})}return E=>{const S={[nn.focused]:!1,[nn.disabled]:!1,[nn.hidden]:!1,[nn.outside]:!1,[nn.today]:!1},_={};for(const N in w){const P=w[N];S[N]=P.some(A=>A===E)}for(const N in k)_[N]=k[N].some(P=>P===E);return{...S,..._}}}function lje(t,e,n={}){return Object.entries(t).filter(([,i])=>i===!0).reduce((i,[a])=>(n[a]?i.push(n[a]):e[nn[a]]?i.push(e[nn[a]]):e[ya[a]]&&i.push(e[ya[a]]),i),[e[ze.Day]])}function cje(t){return{...sje,...t}}function uje(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([n,r])=>{n.startsWith("data-")&&(e[n]=r)}),e}function dje(){const t={};for(const e in ze)t[ze[e]]=`rdp-${ze[e]}`;for(const e in nn)t[nn[e]]=`rdp-${nn[e]}`;for(const e in ya)t[ya[e]]=`rdp-${ya[e]}`;for(const e in ui)t[ui[e]]=`rdp-${ui[e]}`;return t}function LW(t,e,n){return(n??new ki(e)).formatMonthYear(t)}const fje=LW;function hje(t,e,n){return(n??new ki(e)).format(t,"d")}function pje(t,e=ps){return e.format(t,"LLLL")}function mje(t,e,n){return(n??new ki(e)).format(t,"cccccc")}function gje(t,e=ps){return t<10?e.formatNumber(`0${t.toLocaleString()}`):e.formatNumber(`${t.toLocaleString()}`)}function yje(){return""}function FW(t,e=ps){return e.format(t,"yyyy")}const vje=FW,xje=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:LW,formatDay:hje,formatMonthCaption:fje,formatMonthDropdown:pje,formatWeekNumber:gje,formatWeekNumberHeader:yje,formatWeekdayName:mje,formatYearCaption:vje,formatYearDropdown:FW},Symbol.toStringTag,{value:"Module"}));function bje(t){return t!=null&&t.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t!=null&&t.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...xje,...t}}function J_(t,e,n,r){let i=(r??new ki(n)).format(t,"PPPP");return e.today&&(i=`Today, ${i}`),e.selected&&(i=`${i}, selected`),i}const wje=J_;function Z_(t,e,n){return(n??new ki(e)).formatMonthYear(t)}const _je=Z_;function VW(t,e,n,r){let i=(r??new ki(n)).format(t,"PPPP");return e!=null&&e.today&&(i=`Today, ${i}`),i}function UW(t){return"Choose the Month"}function BW(){return""}const Sje="Go to the Next Month";function zW(t,e){return Sje}function WW(t){return"Go to the Previous Month"}function qW(t,e,n){return(n??new ki(e)).format(t,"cccc")}function HW(t,e){return`Week ${t}`}function GW(t){return"Week Number"}function KW(t){return"Choose the Year"}const kje=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:_je,labelDay:wje,labelDayButton:J_,labelGrid:Z_,labelGridcell:VW,labelMonthDropdown:UW,labelNav:BW,labelNext:zW,labelPrevious:WW,labelWeekNumber:HW,labelWeekNumberHeader:GW,labelWeekday:qW,labelYearDropdown:KW},Symbol.toStringTag,{value:"Module"})),ia=(t,e,n)=>e||(n?typeof n=="function"?n:(...r)=>n:t);function Eje(t,e){var r;const n=((r=e.locale)==null?void 0:r.labels)??{};return{...kje,...t??{},labelDayButton:ia(J_,t==null?void 0:t.labelDayButton,n.labelDayButton),labelMonthDropdown:ia(UW,t==null?void 0:t.labelMonthDropdown,n.labelMonthDropdown),labelNext:ia(zW,t==null?void 0:t.labelNext,n.labelNext),labelPrevious:ia(WW,t==null?void 0:t.labelPrevious,n.labelPrevious),labelWeekNumber:ia(HW,t==null?void 0:t.labelWeekNumber,n.labelWeekNumber),labelYearDropdown:ia(KW,t==null?void 0:t.labelYearDropdown,n.labelYearDropdown),labelGrid:ia(Z_,t==null?void 0:t.labelGrid,n.labelGrid),labelGridcell:ia(VW,t==null?void 0:t.labelGridcell,n.labelGridcell),labelNav:ia(BW,t==null?void 0:t.labelNav,n.labelNav),labelWeekNumberHeader:ia(GW,t==null?void 0:t.labelWeekNumberHeader,n.labelWeekNumberHeader),labelWeekday:ia(qW,t==null?void 0:t.labelWeekday,n.labelWeekday)}}function Nje(t,e,n,r,i){const{startOfMonth:a,startOfYear:s,endOfYear:o,eachMonthOfInterval:l,getMonth:c}=i;return l({start:s(t),end:o(t)}).map(h=>{const p=r.formatMonthDropdown(h,i),g=c(h),x=e&&h<a(e)||n&&h>a(n)||!1;return{value:g,label:p,disabled:x}})}function Tje(t,e={},n={}){let r={...e==null?void 0:e[ze.Day]};return Object.entries(t).filter(([,i])=>i===!0).forEach(([i])=>{r={...r,...n==null?void 0:n[i]}}),r}function Pje(t,e,n,r){const i=r??t.today(),a=n?t.startOfBroadcastWeek(i,t):e?t.startOfISOWeek(i):t.startOfWeek(i),s=[];for(let o=0;o<7;o++){const l=t.addDays(a,o);s.push(l)}return s}function Aje(t,e,n,r,i=!1){if(!t||!e)return;const{startOfYear:a,endOfYear:s,eachYearOfInterval:o,getYear:l}=r,c=a(t),u=s(e),d=o({start:c,end:u});return i&&d.reverse(),d.map(h=>{const p=n.formatYearDropdown(h,r);return{value:l(h),label:p,disabled:!1}})}function Ije(t,e={}){var o;const{weekStartsOn:n,locale:r}=e,i=n??((o=r==null?void 0:r.options)==null?void 0:o.weekStartsOn)??0,a=l=>{const c=typeof l=="number"||typeof l=="string"?new Date(l):l;return new mr(c.getFullYear(),c.getMonth(),c.getDate(),12,0,0,t)},s=l=>{const c=a(l);return new Date(c.getFullYear(),c.getMonth(),c.getDate(),0,0,0,0)};return{today:()=>a(mr.tz(t)),newDate:(l,c,u)=>new mr(l,c,u,12,0,0,t),startOfDay:l=>a(l),startOfWeek:(l,c)=>{const u=a(l),d=(c==null?void 0:c.weekStartsOn)??i,h=(u.getDay()-d+7)%7;return u.setDate(u.getDate()-h),u},startOfISOWeek:l=>{const c=a(l),u=(c.getDay()-1+7)%7;return c.setDate(c.getDate()-u),c},startOfMonth:l=>{const c=a(l);return c.setDate(1),c},startOfYear:l=>{const c=a(l);return c.setMonth(0,1),c},endOfWeek:(l,c)=>{const u=a(l),p=((((c==null?void 0:c.weekStartsOn)??i)+6)%7-u.getDay()+7)%7;return u.setDate(u.getDate()+p),u},endOfISOWeek:l=>{const c=a(l),u=(7-c.getDay())%7;return c.setDate(c.getDate()+u),c},endOfMonth:l=>{const c=a(l);return c.setMonth(c.getMonth()+1,0),c},endOfYear:l=>{const c=a(l);return c.setMonth(11,31),c},eachMonthOfInterval:l=>{const c=a(l.start),u=a(l.end),d=[],h=new mr(c.getFullYear(),c.getMonth(),1,12,0,0,t),p=u.getFullYear()*12+u.getMonth();for(;h.getFullYear()*12+h.getMonth()<=p;)d.push(new mr(h,t)),h.setMonth(h.getMonth()+1,1);return d},addDays:(l,c)=>{const u=a(l);return u.setDate(u.getDate()+c),u},addWeeks:(l,c)=>{const u=a(l);return u.setDate(u.getDate()+c*7),u},addMonths:(l,c)=>{const u=a(l);return u.setMonth(u.getMonth()+c),u},addYears:(l,c)=>{const u=a(l);return u.setFullYear(u.getFullYear()+c),u},eachYearOfInterval:l=>{const c=a(l.start),u=a(l.end),d=[],h=new mr(c.getFullYear(),0,1,12,0,0,t);for(;h.getFullYear()<=u.getFullYear();)d.push(new mr(h,t)),h.setFullYear(h.getFullYear()+1,0,1);return d},getWeek:(l,c)=>{var d;const u=s(l);return d_(u,{weekStartsOn:(c==null?void 0:c.weekStartsOn)??i,firstWeekContainsDate:(c==null?void 0:c.firstWeekContainsDate)??((d=r==null?void 0:r.options)==null?void 0:d.firstWeekContainsDate)??1})},getISOWeek:l=>{const c=s(l);return u_(c)},differenceInCalendarDays:(l,c)=>{const u=s(l),d=s(c);return C5(u,d)},differenceInCalendarMonths:(l,c)=>{const u=s(l),d=s(c);return LB(u,d)}}}const p4=t=>t instanceof HTMLElement?t:null,zy=t=>[...t.querySelectorAll("[data-animated-month]")??[]],Cje=t=>p4(t.querySelector("[data-animated-month]")),Wy=t=>p4(t.querySelector("[data-animated-caption]")),qy=t=>p4(t.querySelector("[data-animated-weeks]")),Oje=t=>p4(t.querySelector("[data-animated-nav]")),jje=t=>p4(t.querySelector("[data-animated-weekdays]"));function Mje(t,e,{classNames:n,months:r,focused:i,dateLib:a}){const s=I.useRef(null),o=I.useRef(r),l=I.useRef(!1);I.useLayoutEffect(()=>{const c=o.current;if(o.current=r,!e||!t.current||!(t.current instanceof HTMLElement)||r.length===0||c.length===0||r.length!==c.length)return;const u=a.isSameMonth(r[0].date,c[0].date),d=a.isAfter(r[0].date,c[0].date),h=d?n[ui.caption_after_enter]:n[ui.caption_before_enter],p=d?n[ui.weeks_after_enter]:n[ui.weeks_before_enter],g=s.current,x=t.current.cloneNode(!0);if(x instanceof HTMLElement?(zy(x).forEach(w=>{if(!(w instanceof HTMLElement))return;const k=Cje(w);k&&w.contains(k)&&w.removeChild(k);const E=Wy(w);E&&E.classList.remove(h);const S=qy(w);S&&S.classList.remove(p)}),s.current=x):s.current=null,l.current||u||i)return;const v=g instanceof HTMLElement?zy(g):[],y=zy(t.current);if(y!=null&&y.every(b=>b instanceof HTMLElement)&&v&&v.every(b=>b instanceof HTMLElement)){l.current=!0,t.current.style.isolation="isolate";const b=Oje(t.current);b&&(b.style.zIndex="1"),y.forEach((w,k)=>{const E=v[k];if(!E)return;w.style.position="relative",w.style.overflow="hidden";const S=Wy(w);S&&S.classList.add(h);const _=qy(w);_&&_.classList.add(p);const N=()=>{l.current=!1,t.current&&(t.current.style.isolation=""),b&&(b.style.zIndex=""),S&&S.classList.remove(h),_&&_.classList.remove(p),w.style.position="",w.style.overflow="",w.contains(E)&&w.removeChild(E)};E.style.pointerEvents="none",E.style.position="absolute",E.style.overflow="hidden",E.setAttribute("aria-hidden","true");const P=jje(E);P&&(P.style.opacity="0");const A=Wy(E);A&&(A.classList.add(d?n[ui.caption_before_exit]:n[ui.caption_after_exit]),A.addEventListener("animationend",N));const C=qy(E);C&&C.classList.add(d?n[ui.weeks_before_exit]:n[ui.weeks_after_exit]),w.insertBefore(E,w.firstChild)})}})}function Dje(t,e,n,r){const i=t[0],a=t[t.length-1],{ISOWeek:s,fixedWeeks:o,broadcastCalendar:l}=n??{},{addDays:c,differenceInCalendarDays:u,differenceInCalendarMonths:d,endOfBroadcastWeek:h,endOfISOWeek:p,endOfMonth:g,endOfWeek:x,isAfter:v,startOfBroadcastWeek:y,startOfISOWeek:b,startOfWeek:w}=r,k=l?y(i,r):s?b(i):w(i),E=l?h(a):s?p(g(a)):x(g(a)),S=e&&(l?h(e):s?p(e):x(e)),_=S&&v(E,S)?S:E,N=u(_,k),P=d(a,i)+1,A=[];for(let j=0;j<=N;j++){const R=c(k,j);A.push(R)}const O=(l?35:42)*P;if(o&&A.length<O){const j=O-A.length;for(let R=0;R<j;R++){const D=c(A[A.length-1],1);A.push(D)}}return A}function Rje(t){const e=[];return t.reduce((n,r)=>{const i=r.weeks.reduce((a,s)=>a.concat(s.days.slice()),e.slice());return n.concat(i.slice())},e.slice())}function $je(t,e,n,r){const{numberOfMonths:i=1}=n,a=[];for(let s=0;s<i;s++){const o=r.addMonths(t,s);if(e&&o>e)break;a.push(o)}return a}function DO(t,e,n,r){const{month:i,defaultMonth:a,today:s=r.today(),numberOfMonths:o=1}=t;let l=i||a||s;const{differenceInCalendarMonths:c,addMonths:u,startOfMonth:d}=r;if(n&&c(n,l)<o-1){const h=-1*(o-1);l=u(n,h)}return e&&c(l,e)<0&&(l=e),d(l)}function Lje(t,e,n,r){const{addDays:i,endOfBroadcastWeek:a,endOfISOWeek:s,endOfMonth:o,endOfWeek:l,getISOWeek:c,getWeek:u,startOfBroadcastWeek:d,startOfISOWeek:h,startOfWeek:p}=r,g=t.reduce((x,v)=>{const y=n.broadcastCalendar?d(v,r):n.ISOWeek?h(v):p(v),b=n.broadcastCalendar?a(v):n.ISOWeek?s(o(v)):l(o(v)),w=e.filter(_=>_>=y&&_<=b),k=n.broadcastCalendar?35:42;if(n.fixedWeeks&&w.length<k){const _=e.filter(N=>{const P=k-w.length;return N>b&&N<=i(b,P)});w.push(..._)}const E=w.reduce((_,N)=>{const P=n.ISOWeek?c(N):u(N),A=_.find(O=>O.weekNumber===P),C=new MW(N,v,r);return A?A.days.push(C):_.push(new jOe(P,[C])),_},[]),S=new OOe(v,E);return x.push(S),x},[]);return n.reverseMonths?g.reverse():g}function Fje(t,e){let{startMonth:n,endMonth:r}=t;const{startOfYear:i,startOfDay:a,startOfMonth:s,endOfMonth:o,addYears:l,endOfYear:c,newDate:u,today:d}=e,{fromYear:h,toYear:p,fromMonth:g,toMonth:x}=t;!n&&g&&(n=g),!n&&h&&(n=e.newDate(h,0,1)),!r&&x&&(r=x),!r&&p&&(r=u(p,11,31));const v=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=s(n):h?n=u(h,0,1):!n&&v&&(n=i(l(t.today??d(),-100))),r?r=o(r):p?r=u(p,11,31):!r&&v&&(r=c(t.today??d())),[n&&a(n),r&&a(r)]}function Vje(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:a=1}=n,{startOfMonth:s,addMonths:o,differenceInCalendarMonths:l}=r,c=i?a:1,u=s(t);if(!e)return o(u,c);if(!(l(e,t)<a))return o(u,c)}function Uje(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:a}=n,{startOfMonth:s,addMonths:o,differenceInCalendarMonths:l}=r,c=i?a??1:1,u=s(t);if(!e)return o(u,-c);if(!(l(u,e)<=0))return o(u,-c)}function Bje(t){const e=[];return t.reduce((n,r)=>n.concat(r.weeks.slice()),e.slice())}function B5(t,e){const[n,r]=I.useState(t);return[e===void 0?n:e,r]}function zje(t,e){var k;const[n,r]=Fje(t,e),{startOfMonth:i,endOfMonth:a}=e,s=DO(t,n,r,e),[o,l]=B5(s,t.month?s:void 0);I.useEffect(()=>{const E=DO(t,n,r,e);l(E)},[t.timeZone]);const{months:c,weeks:u,days:d,previousMonth:h,nextMonth:p}=I.useMemo(()=>{const E=$je(o,r,{numberOfMonths:t.numberOfMonths},e),S=Dje(E,t.endMonth?a(t.endMonth):void 0,{ISOWeek:t.ISOWeek,fixedWeeks:t.fixedWeeks,broadcastCalendar:t.broadcastCalendar},e),_=Lje(E,S,{broadcastCalendar:t.broadcastCalendar,fixedWeeks:t.fixedWeeks,ISOWeek:t.ISOWeek,reverseMonths:t.reverseMonths},e),N=Bje(_),P=Rje(_),A=Uje(o,n,t,e),C=Vje(o,r,t,e);return{months:_,weeks:N,days:P,previousMonth:A,nextMonth:C}},[e,o.getTime(),r==null?void 0:r.getTime(),n==null?void 0:n.getTime(),t.disableNavigation,t.broadcastCalendar,(k=t.endMonth)==null?void 0:k.getTime(),t.fixedWeeks,t.ISOWeek,t.numberOfMonths,t.pagedNavigation,t.reverseMonths]),{disableNavigation:g,onMonthChange:x}=t,v=E=>u.some(S=>S.days.some(_=>_.isEqualTo(E))),y=E=>{if(g)return;let S=i(E);n&&S<i(n)&&(S=i(n)),r&&S>i(r)&&(S=i(r)),l(S),x==null||x(S)};return{months:c,weeks:u,days:d,navStart:n,navEnd:r,previousMonth:h,nextMonth:p,goToMonth:y,goToDay:E=>{v(E)||y(E.date)}}}var Ma;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(Ma||(Ma={}));function RO(t){return!t[nn.disabled]&&!t[nn.hidden]&&!t[nn.outside]}function Wje(t,e,n,r){let i,a=-1;for(const s of t){const o=e(s);RO(o)&&(o[nn.focused]&&a<Ma.FocusedModifier?(i=s,a=Ma.FocusedModifier):r!=null&&r.isEqualTo(s)&&a<Ma.LastFocused?(i=s,a=Ma.LastFocused):n(s.date)&&a<Ma.Selected?(i=s,a=Ma.Selected):o[nn.today]&&a<Ma.Today&&(i=s,a=Ma.Today))}return i||(i=t.find(s=>RO(e(s)))),i}function qje(t,e,n,r,i,a,s){const{ISOWeek:o,broadcastCalendar:l}=a,{addDays:c,addMonths:u,addWeeks:d,addYears:h,endOfBroadcastWeek:p,endOfISOWeek:g,endOfWeek:x,max:v,min:y,startOfBroadcastWeek:b,startOfISOWeek:w,startOfWeek:k}=s;let S={day:c,week:d,month:u,year:h,startOfWeek:_=>l?b(_,s):o?w(_):k(_),endOfWeek:_=>l?p(_):o?g(_):x(_)}[t](n,e==="after"?1:-1);return e==="before"&&r?S=v([r,S]):e==="after"&&i&&(S=y([i,S])),S}function YW(t,e,n,r,i,a,s,o=0){if(o>365)return;const l=qje(t,e,n.date,r,i,a,s),c=!!(a.disabled&&js(l,a.disabled,s)),u=!!(a.hidden&&js(l,a.hidden,s)),d=l,h=new MW(l,d,s);return!c&&!u?h:YW(t,e,h,r,i,a,s,o+1)}function Hje(t,e,n,r,i){const{autoFocus:a}=t,[s,o]=I.useState(),l=Wje(e.days,n,r||(()=>!1),s),[c,u]=I.useState(a?l:void 0);return{isFocusTarget:x=>!!(l!=null&&l.isEqualTo(x)),setFocused:u,focused:c,blur:()=>{o(c),u(void 0)},moveFocus:(x,v)=>{if(!c)return;const y=YW(x,v,c,e.navStart,e.navEnd,t,i);y&&(t.disableNavigation&&!e.days.some(w=>w.isEqualTo(y))||(e.goToDay(y),u(y)))}}}function Gje(t,e){const{selected:n,required:r,onSelect:i}=t,[a,s]=B5(n,i?n:void 0),o=i?n:a,{isSameDay:l}=e,c=p=>(o==null?void 0:o.some(g=>l(g,p)))??!1,{min:u,max:d}=t;return{selected:o,select:(p,g,x)=>{let v=[...o??[]];if(c(p)){if((o==null?void 0:o.length)===u||r&&(o==null?void 0:o.length)===1)return;v=o==null?void 0:o.filter(y=>!l(y,p))}else(o==null?void 0:o.length)===d?v=[p]:v=[...v,p];return i||s(v),i==null||i(v,p,g,x),v},isSelected:c}}function Kje(t,e,n=0,r=0,i=!1,a=ps){const{from:s,to:o}=e||{},{isSameDay:l,isAfter:c,isBefore:u}=a;let d;if(!s&&!o)d={from:t,to:n>0?void 0:t};else if(s&&!o)l(s,t)?n===0?d={from:s,to:t}:i?d={from:s,to:void 0}:d=void 0:u(t,s)?d={from:t,to:s}:d={from:s,to:t};else if(s&&o)if(l(s,t)&&l(o,t))i?d={from:s,to:o}:d=void 0;else if(l(s,t))d={from:s,to:n>0?void 0:t};else if(l(o,t))d={from:t,to:n>0?void 0:t};else if(u(t,s))d={from:t,to:o};else if(c(t,s))d={from:s,to:t};else if(c(t,o))d={from:s,to:t};else throw new Error("Invalid range");if(d!=null&&d.from&&(d!=null&&d.to)){const h=a.differenceInCalendarDays(d.to,d.from);r>0&&h>r?d={from:t,to:void 0}:n>1&&h<n&&(d={from:t,to:void 0})}return d}function Yje(t,e,n=ps){const r=Array.isArray(e)?e:[e];let i=t.from;const a=n.differenceInCalendarDays(t.to,t.from),s=Math.min(a,6);for(let o=0;o<=s;o++){if(r.includes(i.getDay()))return!0;i=n.addDays(i,1)}return!1}function $O(t,e,n=ps){return Os(t,e.from,!1,n)||Os(t,e.to,!1,n)||Os(e,t.from,!1,n)||Os(e,t.to,!1,n)}function Qje(t,e,n=ps){const r=Array.isArray(e)?e:[e];if(r.filter(o=>typeof o!="function").some(o=>typeof o=="boolean"?o:n.isDate(o)?Os(t,o,!1,n):$W(o,n)?o.some(l=>Os(t,l,!1,n)):U5(o)?o.from&&o.to?$O(t,{from:o.from,to:o.to},n):!1:RW(o)?Yje(t,o.dayOfWeek,n):Y_(o)?n.isAfter(o.before,o.after)?$O(t,{from:n.addDays(o.after,1),to:n.addDays(o.before,-1)},n):js(t.from,o,n)||js(t.to,o,n):Q_(o)||X_(o)?js(t.from,o,n)||js(t.to,o,n):!1))return!0;const s=r.filter(o=>typeof o=="function");if(s.length){let o=t.from;const l=n.differenceInCalendarDays(t.to,t.from);for(let c=0;c<=l;c++){if(s.some(u=>u(o)))return!0;o=n.addDays(o,1)}}return!1}function Xje(t,e){const{disabled:n,excludeDisabled:r,selected:i,required:a,onSelect:s}=t,[o,l]=B5(i,s?i:void 0),c=s?i:o;return{selected:c,select:(h,p,g)=>{const{min:x,max:v}=t,y=h?Kje(h,c,x,v,a,e):void 0;return r&&n&&(y!=null&&y.from)&&y.to&&Qje({from:y.from,to:y.to},n,e)&&(y.from=h,y.to=void 0),s||l(y),s==null||s(y,h,p,g),y},isSelected:h=>c&&Os(c,h,!1,e)}}function Jje(t,e){const{selected:n,required:r,onSelect:i}=t,[a,s]=B5(n,i?n:void 0),o=i?n:a,{isSameDay:l}=e;return{selected:o,select:(d,h,p)=>{let g=d;return!r&&o&&o&&l(d,o)&&(g=void 0),i||s(g),i==null||i(g,d,h,p),g},isSelected:d=>o?l(o,d):!1}}function Zje(t,e){const n=Jje(t,e),r=Gje(t,e),i=Xje(t,e);switch(t.mode){case"single":return n;case"multiple":return r;case"range":return i;default:return}}function Ci(t,e){return t instanceof mr&&t.timeZone===e?t:new mr(t,e)}function dc(t,e,n){return Ci(t,e)}function LO(t,e,n){return typeof t=="boolean"||typeof t=="function"?t:t instanceof Date?dc(t,e):Array.isArray(t)?t.map(r=>r instanceof Date?dc(r,e):r):U5(t)?{...t,from:t.from?Ci(t.from,e):t.from,to:t.to?Ci(t.to,e):t.to}:Y_(t)?{before:dc(t.before,e),after:dc(t.after,e)}:Q_(t)?{after:dc(t.after,e)}:X_(t)?{before:dc(t.before,e)}:t}function Hy(t,e,n){return t&&(Array.isArray(t)?t.map(r=>LO(r,e)):LO(t,e))}function eMe(t){var Ke;let e=t;const n=e.timeZone;if(n&&(e={...t,timeZone:n},e.today&&(e.today=Ci(e.today,n)),e.month&&(e.month=Ci(e.month,n)),e.defaultMonth&&(e.defaultMonth=Ci(e.defaultMonth,n)),e.startMonth&&(e.startMonth=Ci(e.startMonth,n)),e.endMonth&&(e.endMonth=Ci(e.endMonth,n)),e.mode==="single"&&e.selected?e.selected=Ci(e.selected,n):e.mode==="multiple"&&e.selected?e.selected=(Ke=e.selected)==null?void 0:Ke.map(Pe=>Ci(Pe,n)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?Ci(e.selected.from,n):e.selected.from,to:e.selected.to?Ci(e.selected.to,n):e.selected.to}),e.disabled!==void 0&&(e.disabled=Hy(e.disabled,n)),e.hidden!==void 0&&(e.hidden=Hy(e.hidden,n)),e.modifiers)){const Pe={};Object.keys(e.modifiers).forEach(Y=>{var K;Pe[Y]=Hy((K=e.modifiers)==null?void 0:K[Y],n)}),e.modifiers=Pe}const{components:r,formatters:i,labels:a,dateLib:s,locale:o,classNames:l}=I.useMemo(()=>{const Pe={...jW,...e.locale},Y=e.broadcastCalendar?1:e.weekStartsOn,K=e.noonSafe&&e.timeZone?Ije(e.timeZone,{weekStartsOn:Y,locale:Pe}):void 0,le=e.dateLib&&K?{...K,...e.dateLib}:e.dateLib??K,Ae=new ki({locale:Pe,weekStartsOn:Y,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},le);return{dateLib:Ae,components:cje(e.components),formatters:bje(e.formatters),labels:Eje(e.labels,Ae.options),locale:Pe,classNames:{...dje(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.noonSafe,e.components,e.formatters,e.labels,e.classNames]);e.today||(e={...e,today:s.today()});const{captionLayout:c,mode:u,navLayout:d,numberOfMonths:h=1,onDayBlur:p,onDayClick:g,onDayFocus:x,onDayKeyDown:v,onDayMouseEnter:y,onDayMouseLeave:b,onNextClick:w,onPrevClick:k,showWeekNumber:E,styles:S}=e,{formatCaption:_,formatDay:N,formatMonthDropdown:P,formatWeekNumber:A,formatWeekNumberHeader:C,formatWeekdayName:O,formatYearDropdown:j}=i,R=zje(e,s),{days:D,months:$,navStart:U,navEnd:F,previousMonth:B,nextMonth:z,goToMonth:q}=R,G=oje(D,e,U,F,s),{isSelected:te,select:de,selected:ye}=Zje(e,s)??{},{blur:J,focused:we,isFocusTarget:ke,moveFocus:ne,setFocused:ve}=Hje(e,R,G,te??(()=>!1),s),{labelDayButton:Te,labelGridcell:ae,labelGrid:Be,labelMonthDropdown:ie,labelNav:Q,labelPrevious:fe,labelNext:$e,labelWeekday:kt,labelWeekNumber:je,labelWeekNumberHeader:Ue,labelYearDropdown:Z}=a,ge=I.useMemo(()=>Pje(s,e.ISOWeek,e.broadcastCalendar,e.today),[s,e.ISOWeek,e.broadcastCalendar,e.today]),Ie=u!==void 0||g!==void 0,st=I.useCallback(()=>{B&&(q(B),k==null||k(B))},[B,q,k]),et=I.useCallback(()=>{z&&(q(z),w==null||w(z))},[q,z,w]),gt=I.useCallback((Pe,Y)=>K=>{K.preventDefault(),K.stopPropagation(),ve(Pe),!Y.disabled&&(de==null||de(Pe.date,Y,K),g==null||g(Pe.date,Y,K))},[de,g,ve]),vt=I.useCallback((Pe,Y)=>K=>{ve(Pe),x==null||x(Pe.date,Y,K)},[x,ve]),se=I.useCallback((Pe,Y)=>K=>{J(),p==null||p(Pe.date,Y,K)},[J,p]),H=I.useCallback((Pe,Y)=>K=>{const le={ArrowLeft:[K.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[K.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[K.shiftKey?"year":"week","after"],ArrowUp:[K.shiftKey?"year":"week","before"],PageUp:[K.shiftKey?"year":"month","before"],PageDown:[K.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(le[K.key]){K.preventDefault(),K.stopPropagation();const[Ae,Ee]=le[K.key];ne(Ae,Ee)}v==null||v(Pe.date,Y,K)},[ne,v,e.dir]),ce=I.useCallback((Pe,Y)=>K=>{y==null||y(Pe.date,Y,K)},[y]),Se=I.useCallback((Pe,Y)=>K=>{b==null||b(Pe.date,Y,K)},[b]),He=I.useCallback(Pe=>Y=>{const K=Number(Y.target.value),le=s.setMonth(s.startOfMonth(Pe),K);q(le)},[s,q]),en=I.useCallback(Pe=>Y=>{const K=Number(Y.target.value),le=s.setYear(s.startOfMonth(Pe),K);q(le)},[s,q]),{className:Bn,style:xn}=I.useMemo(()=>({className:[l[ze.Root],e.className].filter(Boolean).join(" "),style:{...S==null?void 0:S[ze.Root],...e.style}}),[l,e.className,e.style,S]),bn=uje(e),cr=I.useRef(null);Mje(cr,!!e.animate,{classNames:l,months:$,focused:we,dateLib:s});const re={dayPickerProps:e,selected:ye,select:de,isSelected:te,months:$,nextMonth:z,previousMonth:B,goToMonth:q,getModifiers:G,components:r,classNames:l,styles:S,labels:a,formatters:i};return V.createElement(DW.Provider,{value:re},V.createElement(r.Root,{rootRef:e.animate?cr:void 0,className:Bn,style:xn,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"],...bn},V.createElement(r.Months,{className:l[ze.Months],style:S==null?void 0:S[ze.Months]},!e.hideNavigation&&!d&&V.createElement(r.Nav,{"data-animated-nav":e.animate?"true":void 0,className:l[ze.Nav],style:S==null?void 0:S[ze.Nav],"aria-label":Q(),onPreviousClick:st,onNextClick:et,previousMonth:B,nextMonth:z}),$.map((Pe,Y)=>V.createElement(r.Month,{"data-animated-month":e.animate?"true":void 0,className:l[ze.Month],style:S==null?void 0:S[ze.Month],key:Y,displayIndex:Y,calendarMonth:Pe},d==="around"&&!e.hideNavigation&&Y===0&&V.createElement(r.PreviousMonthButton,{type:"button",className:l[ze.PreviousMonthButton],tabIndex:B?void 0:-1,"aria-disabled":B?void 0:!0,"aria-label":fe(B),onClick:st,"data-animated-button":e.animate?"true":void 0},V.createElement(r.Chevron,{disabled:B?void 0:!0,className:l[ze.Chevron],orientation:e.dir==="rtl"?"right":"left"})),V.createElement(r.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:l[ze.MonthCaption],style:S==null?void 0:S[ze.MonthCaption],calendarMonth:Pe,displayIndex:Y},c!=null&&c.startsWith("dropdown")?V.createElement(r.DropdownNav,{className:l[ze.Dropdowns],style:S==null?void 0:S[ze.Dropdowns]},(()=>{const K=c==="dropdown"||c==="dropdown-months"?V.createElement(r.MonthsDropdown,{key:"month",className:l[ze.MonthsDropdown],"aria-label":ie(),classNames:l,components:r,disabled:!!e.disableNavigation,onChange:He(Pe.date),options:Nje(Pe.date,U,F,i,s),style:S==null?void 0:S[ze.Dropdown],value:s.getMonth(Pe.date)}):V.createElement("span",{key:"month"},P(Pe.date,s)),le=c==="dropdown"||c==="dropdown-years"?V.createElement(r.YearsDropdown,{key:"year",className:l[ze.YearsDropdown],"aria-label":Z(s.options),classNames:l,components:r,disabled:!!e.disableNavigation,onChange:en(Pe.date),options:Aje(U,F,i,s,!!e.reverseYears),style:S==null?void 0:S[ze.Dropdown],value:s.getYear(Pe.date)}):V.createElement("span",{key:"year"},j(Pe.date,s));return s.getMonthYearOrder()==="year-first"?[le,K]:[K,le]})(),V.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},_(Pe.date,s.options,s))):V.createElement(r.CaptionLabel,{className:l[ze.CaptionLabel],role:"status","aria-live":"polite"},_(Pe.date,s.options,s))),d==="around"&&!e.hideNavigation&&Y===h-1&&V.createElement(r.NextMonthButton,{type:"button",className:l[ze.NextMonthButton],tabIndex:z?void 0:-1,"aria-disabled":z?void 0:!0,"aria-label":$e(z),onClick:et,"data-animated-button":e.animate?"true":void 0},V.createElement(r.Chevron,{disabled:z?void 0:!0,className:l[ze.Chevron],orientation:e.dir==="rtl"?"left":"right"})),Y===h-1&&d==="after"&&!e.hideNavigation&&V.createElement(r.Nav,{"data-animated-nav":e.animate?"true":void 0,className:l[ze.Nav],style:S==null?void 0:S[ze.Nav],"aria-label":Q(),onPreviousClick:st,onNextClick:et,previousMonth:B,nextMonth:z}),V.createElement(r.MonthGrid,{role:"grid","aria-multiselectable":u==="multiple"||u==="range","aria-label":Be(Pe.date,s.options,s)||void 0,className:l[ze.MonthGrid],style:S==null?void 0:S[ze.MonthGrid]},!e.hideWeekdays&&V.createElement(r.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:l[ze.Weekdays],style:S==null?void 0:S[ze.Weekdays]},E&&V.createElement(r.WeekNumberHeader,{"aria-label":Ue(s.options),className:l[ze.WeekNumberHeader],style:S==null?void 0:S[ze.WeekNumberHeader],scope:"col"},C()),ge.map(K=>V.createElement(r.Weekday,{"aria-label":kt(K,s.options,s),className:l[ze.Weekday],key:String(K),style:S==null?void 0:S[ze.Weekday],scope:"col"},O(K,s.options,s)))),V.createElement(r.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:l[ze.Weeks],style:S==null?void 0:S[ze.Weeks]},Pe.weeks.map(K=>V.createElement(r.Week,{className:l[ze.Week],key:K.weekNumber,style:S==null?void 0:S[ze.Week],week:K},E&&V.createElement(r.WeekNumber,{week:K,style:S==null?void 0:S[ze.WeekNumber],"aria-label":je(K.weekNumber,{locale:o}),className:l[ze.WeekNumber],scope:"row",role:"rowheader"},A(K.weekNumber,s)),K.days.map(le=>{const{date:Ae}=le,Ee=G(le);if(Ee[nn.focused]=!Ee.hidden&&!!(we!=null&&we.isEqualTo(le)),Ee[ya.selected]=(te==null?void 0:te(Ae))||Ee.selected,U5(ye)){const{from:be,to:Qe}=ye;Ee[ya.range_start]=!!(be&&Qe&&s.isSameDay(Ae,be)),Ee[ya.range_end]=!!(be&&Qe&&s.isSameDay(Ae,Qe)),Ee[ya.range_middle]=Os(ye,Ae,!0,s)}const ct=Tje(Ee,S,e.modifiersStyles),W=lje(Ee,l,e.modifiersClassNames),me=!Ie&&!Ee.hidden?ae(Ae,Ee,s.options,s):void 0;return V.createElement(r.Day,{key:`${le.isoDate}_${le.displayMonthId}`,day:le,modifiers:Ee,className:W.join(" "),style:ct,role:"gridcell","aria-selected":Ee.selected||void 0,"aria-label":me,"data-day":le.isoDate,"data-month":le.outside?le.dateMonthId:void 0,"data-selected":Ee.selected||void 0,"data-disabled":Ee.disabled||void 0,"data-hidden":Ee.hidden||void 0,"data-outside":le.outside||void 0,"data-focused":Ee.focused||void 0,"data-today":Ee.today||void 0},!Ee.hidden&&Ie?V.createElement(r.DayButton,{className:l[ze.DayButton],style:S==null?void 0:S[ze.DayButton],type:"button",day:le,modifiers:Ee,disabled:!Ee.focused&&Ee.disabled||void 0,"aria-disabled":Ee.focused&&Ee.disabled||void 0,tabIndex:ke(le)?0:-1,"aria-label":Te(Ae,Ee,s.options,s),onClick:gt(le,Ee),onBlur:se(le,Ee),onFocus:vt(le,Ee),onKeyDown:H(le,Ee),onMouseEnter:ce(le,Ee),onMouseLeave:Se(le,Ee)},N(Ae,s.options,s)):!Ee.hidden&&N(le.date,s.options,s))})))))))),e.footer&&V.createElement(r.Footer,{className:l[ze.Footer],style:S==null?void 0:S[ze.Footer],role:"status","aria-live":"polite"},e.footer)))}const FO={date:Xt(new Date,"yyyy-MM-dd"),type:"Social Media Post",socialPlatform:"Facebook",amountIQD:"",link:"",campaign:"",tags:"",notes:"",attachments:[]},Oa=t=>{if(!t)return null;try{const e=Oi(t);return Number.isNaN(e.getTime())?null:e}catch{return null}},tMe=t=>{try{const e=new URL(t);return["http:","https:"].includes(e.protocol)}catch{return!1}},nMe=()=>{var Z,ge,Ie,st,et,gt,vt,se;const{t}=lr(),{expenses:e,expenseTypes:n,saveExpenseTypes:r,addExpense:i,updateExpense:a,deleteExpense:s,addToast:o,formatCurrency:l,loading:c,brand:u,setIsModalOpen:d}=Nn(),{user:h}=nd(),p=I.useMemo(()=>e.length?e.reduce((H,ce)=>{const Se=Oa(ce.date);return Se&&Se<H?Se:H},new Date):O5(new Date,30),[e]),g=I.useMemo(()=>({from:p,to:new Date}),[p]),[x,v]=I.useState(g),[y,b]=I.useState(!1),[w,k]=I.useState([]),[E,S]=I.useState(""),[_,N]=I.useState(100),[P,A]=I.useState({column:"date",direction:"desc"}),[C,O]=I.useState(!1),[j,R]=I.useState(!1),[D,$]=I.useState(!1),[U,F]=I.useState(null),[B,z]=I.useState(FO),[q,G]=I.useState([]),[te,de]=I.useState(!1),ye=I.useRef(null);I.useEffect(()=>{!c&&e.length>0&&!y&&(v(g),b(!0))},[c,e.length,y,g]),I.useEffect(()=>(d(C||j),()=>d(!1)),[C,j,d]),I.useEffect(()=>{if(!D)return;const H=ce=>{ye.current&&!ye.current.contains(ce.target)&&$(!1)};return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[D]);const J=I.useMemo(()=>e.filter(H=>{const ce=Oa(H.date);return ce?!(x!=null&&x.from)||!(x!=null&&x.to)?!0:Ro(ce,{start:x.from,end:x.to}):!1}),[e,x]),we=I.useMemo(()=>{const H={};return J.forEach(Se=>{const He=Se.type||"Other";H[He]=(H[He]||0)+1}),[...new Set([...n||[],...Object.keys(H)])].map(Se=>({value:Se,label:Se,count:H[Se]||0})).sort((Se,He)=>He.count-Se.count)},[J,n]),ke=I.useMemo(()=>{const H=E.trim().toLowerCase();return J.filter(ce=>w.length===0||w.includes(ce.type)?H?[ce.type,ce.campaign,ce.notes,ce.link,Array.isArray(ce.tags)?ce.tags.join(" "):ce.tags].join(" ").toLowerCase().includes(H):!0:!1)},[J,w,E]),ne=I.useMemo(()=>{const H=(ce,Se)=>{var He;return Se==="date"?((He=Oa(ce.date))==null?void 0:He.getTime())||0:Se==="amountIQD"?Number(ce.amountIQD||0):String(ce[Se]||"").toLowerCase()};return[...ke].sort((ce,Se)=>{const He=H(ce,P.column),en=H(Se,P.column);if(He===en)return 0;const Bn=He>en?1:-1;return P.direction==="asc"?Bn:-Bn})},[ke,P]),ve=I.useMemo(()=>ne.slice(0,_),[ne,_]),Te=I.useMemo(()=>ke.reduce((H,ce)=>H+Number(ce.amountIQD||0),0),[ke]),ae=I.useMemo(()=>{const H={};return ke.forEach(ce=>{const Se=ce.type||"Other";H[Se]=(H[Se]||0)+Number(ce.amountIQD||0)}),Object.entries(H).sort((ce,Se)=>Se[1]-ce[1])},[ke]),Be=I.useMemo(()=>{const H={};return ke.forEach(ce=>{var He;const Se=((He=ce.campaign)==null?void 0:He.trim())||"Unassigned";H[Se]=(H[Se]||0)+Number(ce.amountIQD||0)}),Object.entries(H).sort((ce,Se)=>Se[1]-ce[1])},[ke]),ie=()=>{z(FO),G([]),F(null)},Q=()=>{ie(),O(!0)},fe=H=>{F(H._id),z({date:Xt(Oa(H.date)||new Date,"yyyy-MM-dd"),type:H.type||"Other",socialPlatform:H.socialPlatform||"Facebook",amountIQD:String(H.amountIQD||""),link:H.link||"",campaign:H.campaign||"",tags:Array.isArray(H.tags)?H.tags.join(", "):H.tags||"",notes:H.notes||"",attachments:Array.isArray(H.attachments)?H.attachments:[]}),G([]),O(!0)},$e=H=>{A(ce=>ce.column!==H?{column:H,direction:"asc"}:{column:H,direction:ce.direction==="asc"?"desc":"asc"})},kt=H=>{z(ce=>({...ce,attachments:ce.attachments.filter((Se,He)=>He!==H)}))},je=async H=>{if(!H.length)return[];const ce=(h==null?void 0:h.uid)||"anonymous",Se=[];for(const He of H){if(!(He.type.startsWith("image/")||He.type==="application/pdf"))throw new Error("Only images and PDFs are allowed.");const Bn=He.name.replace(/[^\w.\-]/g,"_"),xn=`expenses/${ce}/${Date.now()}_${Bn}`,bn=kL(HL,xn);await _L(bn,He,{contentType:He.type});const cr=await SL(bn);Se.push({name:He.name,url:cr,path:xn,contentType:He.type,size:He.size})}return Se},Ue=async H=>{if(H.preventDefault(),!B.date){o("Date is required","error");return}const ce=Number(B.amountIQD);if(!Number.isFinite(ce)||ce<=0){o("Amount must be greater than 0","error");return}if(!tMe(B.link.trim())){o("Please enter a valid URL (http/https)","error");return}de(!0);try{const Se=await je(q),He={date:new Date(`${B.date}T12:00:00`).toISOString(),type:B.type,socialPlatform:B.socialPlatform,amountIQD:ce,link:B.link.trim(),campaign:B.campaign.trim(),tags:B.tags.split(",").map(en=>en.trim()).filter(Boolean),notes:B.notes.trim(),attachments:[...B.attachments,...Se]};U?await a({_id:U,...He}):await i(He),O(!1),ie()}catch(Se){o((Se==null?void 0:Se.message)||"Failed to save expense","error")}finally{de(!1)}};return f.jsxs(Ql,{title:t("expenses.title"),children:[f.jsxs("div",{className:"flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[f.jsxs("button",{onClick:Q,className:"flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-xl font-bold transition-all bg-accent shadow-accent active:scale-95",children:[f.jsx(ba,{className:"w-5 h-5"}),f.jsx("span",{children:t("expenses.newExpense")})]}),f.jsxs("button",{onClick:()=>{if(ne.length===0)return o(t("common.noDataToExport"),"info");yOe(ne)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 text-white rounded-xl font-bold transition-all shadow-lg hover:bg-green-700",children:[f.jsx(Fp,{className:"w-5 h-5"}),f.jsx("span",{className:"sm:hidden",children:"CSV"}),f.jsx("span",{className:"hidden sm:inline",children:t("common.exportCSV")})]}),f.jsx("button",{onClick:()=>R(!0),className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded-xl font-bold text-sm border border-slate-200 dark:border-slate-700",children:t("expenses.addType")})]}),f.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[(w.length>0||E||((Z=x.from)==null?void 0:Z.getTime())!==((ge=g.from)==null?void 0:ge.getTime())||((Ie=x.to)==null?void 0:Ie.getTime())!==((st=g.to)==null?void 0:st.getTime()))&&f.jsx("button",{onClick:()=>{S(""),k([]),v(g)},className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsx(Vl,{limit:_,onChange:N}),f.jsxs("div",{className:"shrink-0 whitespace-nowrap flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(tE,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:ke.length})," ",t("expenses.title")]})]})]})]}),f.jsxs("div",{className:"flex sm:hidden gap-2 items-center w-full",children:[f.jsx(Vl,{limit:_,onChange:N}),f.jsxs("div",{className:"shrink-0 whitespace-nowrap flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(tE,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:ke.length})," ",t("expenses.title")]})]})]}),f.jsxs("div",{className:"flex gap-3 w-full flex-wrap lg:flex-nowrap items-center",children:[f.jsxs("div",{className:"relative order-last w-full sm:order-none sm:min-w-[220px] sm:flex-1 lg:flex-none lg:w-[320px] h-[44px]",children:[f.jsx(Wl,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("expenses.searchPlaceholder"),value:E,onChange:H=>S(H.target.value),className:"ps-10 pe-4 py-0 h-full w-full bg-white dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-800 rounded-2xl outline-none focus:border-accent/40 focus:ring-4 focus:ring-accent/10 transition-all font-bold text-sm text-slate-700 dark:text-white"})]}),f.jsx("div",{className:"h-[44px] flex-shrink-0",children:f.jsx(j5,{range:x,onRangeChange:v,brandColor:u.color})}),f.jsx(Ui,{title:"Type",options:we,selectedValues:w,onChange:k,icon:Ff,showSearch:!1})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-2xl p-4",children:[f.jsx("p",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 mb-1",children:t("expenses.totalSpend")}),f.jsx("p",{className:"text-2xl font-black text-slate-900 dark:text-white",children:l(Te)})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-2xl p-4",children:[f.jsx("p",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 mb-1",children:t("expenses.topType")}),f.jsx("p",{className:"text-xl font-black text-slate-900 dark:text-white",children:((et=ae[0])==null?void 0:et[0])||"N/A"}),f.jsx("p",{className:"text-sm text-slate-500",children:l(((gt=ae[0])==null?void 0:gt[1])||0)})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-2xl p-4",children:[f.jsx("p",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 mb-1",children:t("expenses.topCampaign")}),f.jsx("p",{className:"text-xl font-black text-slate-900 dark:text-white",children:((vt=Be[0])==null?void 0:vt[0])||"N/A"}),f.jsx("p",{className:"text-sm text-slate-500",children:l(((se=Be[0])==null?void 0:se[1])||0)})]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[f.jsx("div",{className:"hidden sm:block overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-500 uppercase",children:[[["date","Date"],["type","Type"],["campaign","Campaign"],["link","Link"],["amountIQD","Amount (IQD)"]].map(([H,ce])=>f.jsx("th",{onClick:()=>$e(H),className:"px-6 py-4 cursor-pointer select-none",children:f.jsxs("div",{className:"flex items-center gap-2",children:[ce,P.column===H&&f.jsx("span",{className:"text-accent",children:P.direction==="asc"?"":""})]})},H)),f.jsx("th",{className:"px-6 py-4",children:"Attachments"}),f.jsx("th",{className:"px-6 py-4 text-end",children:"Actions"})]})}),f.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[ve.map(H=>f.jsxs("tr",{className:"hover:bg-slate-50/60 dark:hover:bg-slate-700/40",children:[f.jsx("td",{className:"px-6 py-4 text-sm font-semibold text-slate-700 dark:text-slate-200",children:Oa(H.date)?Xt(Oa(H.date),"dd MMM yyyy"):"-"}),f.jsx("td",{className:"px-6 py-4 text-sm text-slate-700 dark:text-slate-200",children:H.type||"-"}),f.jsx("td",{className:"px-6 py-4 text-sm text-slate-700 dark:text-slate-200",children:H.campaign||"-"}),f.jsx("td",{className:"px-6 py-4 text-sm",children:H.link?f.jsxs("a",{href:H.link,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-accent font-semibold hover:underline",children:["Open ",f.jsx(Zk,{className:"w-3.5 h-3.5"})]}):"-"}),f.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-900 dark:text-white",children:l(H.amountIQD||0)}),f.jsx("td",{className:"px-6 py-4 text-sm",children:Array.isArray(H.attachments)&&H.attachments.length>0?f.jsxs("div",{className:"flex flex-col gap-1",children:[H.attachments.slice(0,2).map((ce,Se)=>f.jsx("a",{href:ce.url,target:"_blank",rel:"noreferrer",className:"text-accent hover:underline truncate max-w-[180px]",children:ce.name||`Attachment ${Se+1}`},`${H._id}-${Se}`)),H.attachments.length>2&&f.jsxs("span",{className:"text-xs text-slate-500",children:["+",H.attachments.length-2," more"]})]}):"-"}),f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("button",{onClick:()=>fe(H),className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700",children:f.jsx(iE,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>{window.confirm("Delete this expense?")&&s(H._id)},className:"p-2 rounded-lg text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20",children:f.jsx(xi,{className:"w-4 h-4"})})]})})]},H._id)),ve.length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:"8",className:"px-6 py-12 text-center text-slate-400",children:t("expenses.noExpenses")})})]})]})}),f.jsxs("div",{className:"sm:hidden divide-y divide-slate-100 dark:divide-slate-700",children:[ve.map(H=>f.jsxs("div",{className:"p-4 space-y-3",children:[f.jsxs("div",{className:"flex items-start justify-between gap-3",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-xs uppercase tracking-wider text-slate-400 font-bold",children:Oa(H.date)?Xt(Oa(H.date),"dd MMM yyyy"):"-"}),f.jsx("p",{className:"text-base font-black text-slate-900 dark:text-white",children:H.type||"Other"}),f.jsx("p",{className:"text-sm text-slate-500",children:H.campaign||"No campaign"})]}),f.jsx("p",{className:"text-base font-black text-slate-900 dark:text-white",children:l(H.amountIQD||0)})]}),H.link&&f.jsxs("a",{href:H.link,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-accent text-sm font-semibold",children:["Open link ",f.jsx(Zk,{className:"w-3.5 h-3.5"})]}),Array.isArray(H.attachments)&&H.attachments.length>0&&f.jsx("div",{className:"flex flex-wrap gap-2",children:H.attachments.map((ce,Se)=>f.jsx("a",{href:ce.url,target:"_blank",rel:"noreferrer",className:"text-xs px-2 py-1 bg-slate-100 dark:bg-slate-700 rounded-lg text-slate-600 dark:text-slate-200",children:ce.name||`File ${Se+1}`},`${H._id}-mobile-${Se}`))}),f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("button",{onClick:()=>fe(H),className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700",children:f.jsx(iE,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>{window.confirm("Delete this expense?")&&s(H._id)},className:"p-2 rounded-lg text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20",children:f.jsx(xi,{className:"w-4 h-4"})})]})]},H._id)),ve.length===0&&f.jsx("div",{className:"px-6 py-10 text-center text-slate-400",children:t("expenses.noExpenses")})]})]}),j&&f.jsx(EOe,{expenseTypes:n,expenses:e,onSaveTypes:r,onClose:()=>R(!1)}),C&&f.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/50 backdrop-blur-sm flex items-center justify-center p-4",children:f.jsxs("div",{className:"w-full max-w-xl bg-white dark:bg-slate-800 rounded-3xl shadow-2xl border border-slate-100 dark:border-slate-700",children:[f.jsxs("div",{className:"px-6 py-5 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between",children:[f.jsx("h3",{className:"text-xl font-black text-slate-800 dark:text-white",children:t(U?"expenses.editExpense":"expenses.newExpense")}),f.jsx("button",{onClick:()=>O(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:"X"})]}),f.jsxs("form",{onSubmit:Ue,className:"p-6 space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",ref:ye,children:[f.jsx("span",{className:"text-[11px] font-bold uppercase tracking-wider text-slate-500",children:"Date"}),f.jsxs("div",{className:"relative",children:[f.jsxs("button",{type:"button",onClick:()=>$(H=>!H),className:"w-full h-12 px-3 rounded-2xl border-2 border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-900 text-slate-700 dark:text-slate-200 font-bold flex items-center justify-between gap-2",children:[f.jsxs("span",{className:"inline-flex items-center gap-2 truncate",children:[f.jsx(eY,{className:"w-4 h-4 text-slate-400"}),B.date?Xt(Oa(B.date)||new Date(B.date),"MM/dd/yyyy"):"Select date"]}),f.jsx(no,{className:`w-4 h-4 text-slate-400 transition-transform ${D?"rotate-180":""}`})]}),D&&f.jsxs("div",{className:"absolute start-0 top-full mt-2 z-50 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-2xl shadow-2xl p-4 w-[340px]",children:[f.jsx(eMe,{mode:"single",selected:B.date?Oa(B.date):void 0,onSelect:H=>{H&&(z(ce=>({...ce,date:Xt(H,"yyyy-MM-dd")})),$(!1))},showOutsideDays:!0,classNames:{months:"flex",month:"w-full",month_caption:"flex items-center justify-between mb-3",caption:"m-0",caption_label:"m-0 leading-none text-xl font-extrabold text-slate-800 dark:text-white",nav:"relative z-10 flex items-center gap-1",nav_button:"h-8 w-8 rounded-lg border border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-300 flex items-center justify-center",button_previous:"!static",button_next:"!static",month_grid:"w-full",weekdays:"grid grid-cols-7 mb-1",weekday:"h-10 text-[13px] font-bold text-slate-400 text-center flex items-center justify-center",week:"grid grid-cols-7",day:"h-10 w-10 flex items-center justify-center",day_button:"h-9 w-9 flex items-center justify-center rounded-lg text-[16px] font-semibold text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",day_selected:"bg-accent text-white font-black shadow-md",day_today:"ring-2 ring-accent/50 font-black",outside:"!text-slate-300 dark:!text-slate-600",day_outside:"!text-slate-300 dark:!text-slate-600"}}),f.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-slate-100 dark:border-slate-700",children:[f.jsx("button",{type:"button",onClick:()=>{z(H=>({...H,date:""})),$(!1)},className:"text-accent text-sm font-semibold",children:"Clear"}),f.jsx("button",{type:"button",onClick:()=>{z(H=>({...H,date:Xt(new Date,"yyyy-MM-dd")})),$(!1)},className:"text-accent text-sm font-semibold",children:"Today"})]})]}),f.jsx("input",{type:"hidden",value:B.date,required:!0,readOnly:!0})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("span",{className:"text-[11px] font-bold uppercase tracking-wider text-slate-500",children:"Type"}),f.jsx(ca,{title:t("common.select"),options:n.map(H=>({value:H,label:H})),selectedValue:B.type,onChange:H=>z(ce=>({...ce,type:H})),icon:Ff,showSearch:!1})]}),f.jsx("input",{type:"number",min:"1",step:"1",value:B.amountIQD,onChange:H=>z(ce=>({...ce,amountIQD:H.target.value})),className:"w-full px-3 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900",placeholder:"Amount in IQD",required:!0}),f.jsx("input",{type:"text",value:B.campaign,onChange:H=>z(ce=>({...ce,campaign:H.target.value})),className:"w-full px-3 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900",placeholder:"Campaign"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("span",{className:"text-[11px] font-bold uppercase tracking-wider text-slate-500",children:"Platform"}),f.jsx(ca,{title:t("common.select"),options:[{value:"Facebook",label:"Facebook"},{value:"Instagram",label:"Instagram"},{value:"Tiktok",label:"Tiktok"}],selectedValue:B.socialPlatform,onChange:H=>z(ce=>({...ce,socialPlatform:H})),icon:Ff,showSearch:!1})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("span",{className:"text-[11px] font-bold uppercase tracking-wider text-slate-500",children:"URL"}),f.jsxs("div",{className:"relative",children:[f.jsx(sY,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),f.jsx("input",{type:"url",value:B.link,onChange:H=>z(ce=>({...ce,link:H.target.value})),className:"w-full ps-9 pe-3 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900",placeholder:"https://...",required:!0})]})]})]}),f.jsx("input",{type:"text",value:B.tags,onChange:H=>z(ce=>({...ce,tags:H.target.value})),className:"w-full px-3 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900",placeholder:"Tags separated by comma"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[11px] font-bold uppercase tracking-wider text-slate-500 block",children:"Choose Files"}),f.jsxs("label",{className:"flex items-center justify-between gap-3 px-3 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 cursor-pointer",children:[f.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-300 truncate",children:q.length>0?`${q.length} file(s) selected`:"Upload receipts or invoices (image/PDF)"}),f.jsx("span",{className:"px-3 py-1.5 rounded-lg bg-slate-100 dark:bg-slate-700 text-xs font-bold text-slate-600 dark:text-slate-200",children:"Browse"}),f.jsx("input",{type:"file",accept:"image/*,application/pdf",multiple:!0,onChange:H=>G(Array.from(H.target.files||[])),className:"hidden"})]}),B.attachments.length>0&&f.jsx("div",{className:"flex flex-wrap gap-2",children:B.attachments.map((H,ce)=>f.jsxs("span",{className:"inline-flex items-center gap-2 px-2 py-1 rounded-lg bg-slate-100 dark:bg-slate-700 text-xs",children:[f.jsx("a",{href:H.url,target:"_blank",rel:"noreferrer",className:"text-accent hover:underline",children:H.name||`File ${ce+1}`}),f.jsx("button",{type:"button",onClick:()=>kt(ce),className:"text-red-500",children:"x"})]},`form-att-${ce}`))})]}),f.jsx("textarea",{rows:4,value:B.notes,onChange:H=>z(ce=>({...ce,notes:H.target.value})),className:"w-full px-3 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 resize-none",placeholder:"Notes"}),f.jsxs("div",{className:"pt-2 flex justify-end gap-3",children:[f.jsx("button",{type:"button",onClick:()=>O(!1),className:"px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 font-bold",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:te,className:"px-5 py-2.5 rounded-xl text-white font-bold bg-accent shadow-accent disabled:opacity-60",children:te?"Saving...":t(U?"expenses.updateExpense":"expenses.createExpense")})]})]})]})})]})},rMe=()=>f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 48 48","aria-hidden":"true",children:[f.jsx("path",{fill:"#FFC107",d:"M43.611 20.083H42V20H24v8h11.303C33.651 32.657 29.251 36 24 36c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.846 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.27 4 24 4 12.955 4 4 12.955 4 24s8.955 20 20 20 20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"}),f.jsx("path",{fill:"#FF3D00",d:"M6.306 14.691l6.571 4.819A11.955 11.955 0 0 1 24 12c3.059 0 5.846 1.154 7.961 3.039l5.657-5.657A19.9 19.9 0 0 0 24 4C16.318 4 9.656 8.337 6.306 14.691z"}),f.jsx("path",{fill:"#4CAF50",d:"M24 44c5.17 0 9.86-1.977 13.409-5.197l-6.19-5.238A11.956 11.956 0 0 1 24 36c-5.229 0-9.614-3.316-11.278-7.946l-6.522 5.024C9.514 39.556 16.152 44 24 44z"}),f.jsx("path",{fill:"#1976D2",d:"M43.611 20.083H42V20H24v8h11.303a12.04 12.04 0 0 1-4.084 5.565l6.19 5.238C36.971 39.15 44 34 44 24c0-1.341-.138-2.65-.389-3.917z"})]}),VO=t=>{const e=(t==null?void 0:t.code)||"";return e.includes("invalid-credential")||e.includes("wrong-password")?"Invalid email or password.":e.includes("user-not-found")?"No account found for this email.":e.includes("email-already-in-use")?"This email is already in use.":e.includes("weak-password")?"Password must be at least 6 characters.":e.includes("popup-closed-by-user")?"Google sign-in was cancelled.":"Authentication failed. Please try again."},iMe={en:{welcomeBack:"Welcome Back",heroText:"Manage inventory, orders, customers, and analytics from one dashboard.",signIn:"Sign in",createAccount:"Create account",loginHint:"Use your email/password or continue with Google.",continueGoogle:"Continue with Google",or:"or",email:"Email",password:"Password",placeholderEmail:"you@example.com",placeholderPassword:"Enter your password",pleaseWait:"Please wait...",dontHave:"Don't have an account?",haveAccount:"Already have an account?",createOne:"Create one",switchSignIn:"Sign in",language:""},ar:{welcomeBack:" ",heroText:"       .",signIn:" ",createAccount:" ",loginHint:" /     Google.",continueGoogle:"  Google",or:"",email:" ",password:" ",placeholderEmail:"you@example.com",placeholderPassword:"  ",pleaseWait:" ...",dontHave:"  ",haveAccount:"  ",createOne:" ",switchSignIn:" ",language:"English"}},aMe=()=>{var P;const{user:t,signInWithGoogle:e,signInWithEmail:n,signUpWithEmail:r}=nd(),{i18n:i}=lr(),a=Lp(),s=to(),o=I.useMemo(()=>{var A,C;return((C=(A=s.state)==null?void 0:A.from)==null?void 0:C.pathname)||"/"},[s.state]),l=(P=i.language)!=null&&P.startsWith("ar")?"ar":"en",c=iMe[l],[u,d]=I.useState("signin"),[h,p]=I.useState(""),[g,x]=I.useState(""),[v,y]=I.useState(!1),[b,w]=I.useState(""),[k,E]=I.useState(!1),S=A=>{i.changeLanguage(A),localStorage.setItem("language",A)};if(t)return f.jsx(p2,{to:o,replace:!0});const _=async A=>{A.preventDefault(),w(""),y(!0);try{u==="signup"?await r(h.trim(),g):await n(h.trim(),g),a(o,{replace:!0})}catch(C){w(VO(C))}finally{y(!1)}},N=async()=>{w(""),y(!0);try{await e(),a(o,{replace:!0})}catch(A){w(VO(A))}finally{y(!1)}};return f.jsx("div",{className:"min-h-screen bg-slate-50",dir:"ltr",children:f.jsxs("div",{className:"grid min-h-screen grid-cols-1 lg:grid-cols-2",children:[f.jsxs("div",{className:"relative hidden lg:flex items-center justify-center overflow-hidden bg-gradient-to-br from-[#1e3a5f] via-[#243b6f] to-[#8b5cf6] p-10",children:[f.jsx("div",{className:"absolute -top-24 -left-16 h-72 w-72 rounded-full bg-white/15 blur-2xl"}),f.jsx("div",{className:"absolute -bottom-24 -right-20 h-80 w-80 rounded-full bg-pink-400/25 blur-2xl"}),f.jsxs("div",{className:"relative max-w-md text-white text-right",children:[f.jsx("h1",{className:"text-5xl font-black leading-tight",children:c.welcomeBack}),f.jsx("p",{className:"mt-4 text-lg text-white/80",children:c.heroText})]})]}),f.jsx("div",{className:"flex items-center justify-center p-6 sm:p-10",children:f.jsxs("div",{className:`w-full max-w-md rounded-3xl border border-slate-200 bg-white p-7 shadow-xl sm:p-8 ${l==="ar"?"text-right":"text-left"}`,children:[f.jsxs("div",{className:`mb-8 ${l==="ar"?"text-right":"text-left"}`,children:[f.jsxs("div",{className:"mb-3 flex justify-end relative",children:[f.jsxs("button",{type:"button",onClick:()=>E(A=>!A),className:"inline-flex items-center gap-1.5 rounded-lg border border-slate-200 px-3 py-1.5 text-xs font-bold text-slate-600 hover:bg-slate-50",children:[f.jsx("span",{children:l==="ar"?"":""}),f.jsx("span",{children:l==="ar"?"":"English"}),f.jsx(no,{className:`h-3.5 w-3.5 transition-transform ${k?"rotate-180":""}`})]}),k&&f.jsxs("div",{className:"absolute top-full mt-2 w-32 rounded-lg border border-slate-200 bg-white p-1 shadow-lg z-20",children:[f.jsxs("button",{type:"button",onClick:()=>{S("en"),E(!1)},className:"flex w-full items-center gap-1.5 rounded-md px-2 py-1.5 text-xs font-bold text-slate-600 hover:bg-slate-50",children:[f.jsx("span",{children:""}),"English"]}),f.jsxs("button",{type:"button",onClick:()=>{S("ar"),E(!1)},className:"flex w-full items-center gap-1.5 rounded-md px-2 py-1.5 text-xs font-bold text-slate-600 hover:bg-slate-50",children:[f.jsx("span",{children:""}),""]})]})]}),f.jsx("h2",{className:"text-3xl font-black text-slate-900",children:u==="signin"?c.signIn:c.createAccount}),f.jsx("p",{className:"mt-2 text-sm text-slate-500",children:c.loginHint})]}),b&&f.jsxs("div",{className:"mb-5 flex items-start gap-2 rounded-xl border border-rose-200 bg-rose-50 p-3 text-sm text-rose-700",children:[f.jsx(Hx,{className:"mt-0.5 h-4 w-4 shrink-0"}),f.jsx("span",{children:b})]}),f.jsxs("button",{type:"button",onClick:N,disabled:v,className:"mb-4 flex w-full items-center justify-center gap-3 rounded-xl border border-slate-300 bg-white px-4 py-3 text-sm font-bold text-slate-700 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-60",children:[f.jsx(rMe,{}),c.continueGoogle]}),f.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[f.jsx("div",{className:"h-px flex-1 bg-slate-200"}),f.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:c.or}),f.jsx("div",{className:"h-px flex-1 bg-slate-200"})]}),f.jsxs("form",{onSubmit:_,className:"space-y-3",children:[f.jsxs("label",{className:"block",children:[f.jsx("span",{className:"mb-1.5 block text-xs font-bold uppercase tracking-wide text-slate-500",children:c.email}),f.jsxs("div",{className:"relative",children:[f.jsx(lY,{className:"pointer-events-none absolute start-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),f.jsx("input",{type:"email",required:!0,autoComplete:"email",value:h,onChange:A=>p(A.target.value),className:"w-full rounded-xl border border-slate-300 bg-white py-3 ps-10 pe-3 text-sm font-medium text-slate-900 outline-none transition focus:border-indigo-400 focus:ring-4 focus:ring-indigo-100",placeholder:c.placeholderEmail})]})]}),f.jsxs("label",{className:"block",children:[f.jsx("span",{className:"mb-1.5 block text-xs font-bold uppercase tracking-wide text-slate-500",children:c.password}),f.jsxs("div",{className:"relative",children:[f.jsx(_D,{className:"pointer-events-none absolute start-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),f.jsx("input",{type:"password",required:!0,minLength:6,autoComplete:u==="signup"?"new-password":"current-password",value:g,onChange:A=>x(A.target.value),className:"w-full rounded-xl border border-slate-300 bg-white py-3 ps-10 pe-3 text-sm font-medium text-slate-900 outline-none transition focus:border-indigo-400 focus:ring-4 focus:ring-indigo-100",placeholder:c.placeholderPassword})]})]}),f.jsx("button",{type:"submit",disabled:v,className:"w-full rounded-xl bg-gradient-to-r from-pink-500 to-violet-600 px-4 py-3 text-sm font-black text-white shadow-lg shadow-pink-500/20 transition hover:opacity-95 disabled:cursor-not-allowed disabled:opacity-60",children:v?c.pleaseWait:u==="signup"?c.createAccount:c.signIn})]}),f.jsxs("p",{className:"mt-6 text-center text-sm text-slate-500",children:[u==="signin"?c.dontHave:c.haveAccount," ",f.jsx("button",{type:"button",onClick:()=>d(u==="signin"?"signup":"signin"),className:"font-bold text-indigo-600 hover:text-indigo-700",children:u==="signin"?c.createOne:c.switchSignIn})]})]})})]})})},QW=()=>f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:f.jsx("div",{className:"h-10 w-10 rounded-full border-4 border-slate-300 border-t-slate-500 animate-spin"})}),sMe=()=>{const{user:t,loading:e}=nd(),n=to();return e?f.jsx(QW,{}):t?f.jsx(Wx,{}):f.jsx(p2,{to:"/login",replace:!0,state:{from:n}})},oMe=()=>{const{user:t,loading:e}=nd();return e?f.jsx(QW,{}):t?f.jsx(p2,{to:"/",replace:!0}):f.jsx(Wx,{})};function lMe(){var n,r;const e=typeof window<"u"&&(((n=window.desktopAPI)==null?void 0:n.isDesktop)||((r=window.location)==null?void 0:r.protocol)==="file:")?qK:WK;return f.jsx(wse,{children:f.jsx(e,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:f.jsxs(RK,{children:[f.jsx(ai,{element:f.jsx(oMe,{}),children:f.jsx(ai,{path:"/login",element:f.jsx(aMe,{})})}),f.jsx(ai,{element:f.jsx(sMe,{}),children:f.jsxs(ai,{element:f.jsx(bse,{children:f.jsx(Wx,{})}),children:[f.jsx(ai,{path:"/",element:f.jsx(dOe,{})}),f.jsx(ai,{path:"/products",element:f.jsx(xOe,{})}),f.jsx(ai,{path:"/orders",element:f.jsx(bOe,{})}),f.jsx(ai,{path:"/expenses",element:f.jsx(nMe,{})}),f.jsx(ai,{path:"/customers",element:f.jsx(wOe,{})}),f.jsx(ai,{path:"/product-picture",element:f.jsx(_Oe,{})}),f.jsx(ai,{path:"/settings",element:f.jsx(kOe,{})})]})}),f.jsx(ai,{path:"*",element:f.jsx(p2,{to:"/",replace:!0})})]})})})}const{slice:cMe,forEach:uMe}=[];function dMe(t){return uMe.call(cMe.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function fMe(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const UO=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,hMe=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let a=`${t}=${i}`;if(r.maxAge>0){const s=r.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(s)}`}if(r.domain){if(!UO.test(r.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${r.domain}`}if(r.path){if(!UO.test(r.path))throw new TypeError("option path is invalid");a+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(a+="; Partitioned"),a},BO={create(t,e,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=hMe(t,e,i)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var pMe={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return BO.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:a}=e;n&&typeof document<"u"&&BO.create(n,t,r,i,a)}},mMe={name:"querystring",lookup(t){var r;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const s=i.substring(1).split("&");for(let o=0;o<s.length;o++){const l=s[o].indexOf("=");l>0&&s[o].substring(0,l)===e&&(n=s[o].substring(l+1))}}return n}},gMe={name:"hash",lookup(t){var i;let{lookupHash:e,lookupFromHashIndex:n}=t,r;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const s=a.substring(1);if(e){const o=s.split("&");for(let l=0;l<o.length;l++){const c=o[l].indexOf("=");c>0&&o[l].substring(0,c)===e&&(r=o[l].substring(c+1))}}if(r)return r;if(!r&&n>-1){const o=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?(i=o[typeof n=="number"?n:0])==null?void 0:i.replace("/",""):void 0}}}return r}};let fc=null;const zO=()=>{if(fc!==null)return fc;try{if(fc=typeof window<"u"&&window.localStorage!==null,!fc)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{fc=!1}return fc};var yMe={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&zO())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&zO()&&window.localStorage.setItem(n,t)}};let hc=null;const WO=()=>{if(hc!==null)return hc;try{if(hc=typeof window<"u"&&window.sessionStorage!==null,!hc)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{hc=!1}return hc};var vMe={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&WO())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&WO()&&window.sessionStorage.setItem(n,t)}},xMe={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let a=0;a<n.length;a++)e.push(n[a]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},bMe={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},wMe={name:"path",lookup(t){var i;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},_Me={name:"subdomain",lookup(t){var i,a;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&((a=(i=window.location)==null?void 0:i.hostname)==null?void 0:a.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let XW=!1;try{document.cookie,XW=!0}catch{}const JW=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];XW||JW.splice(1,1);const SMe=()=>({order:JW,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class ZW{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=dMe(n,this.options||{},SMe()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(pMe),this.addDetector(mMe),this.addDetector(yMe),this.addDetector(vMe),this.addDetector(xMe),this.addDetector(bMe),this.addDetector(wMe),this.addDetector(_Me),this.addDetector(gMe)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.filter(r=>r!=null&&!fMe(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}ZW.type="languageDetector";const kMe={mainMenu:"Main Menu",dashboard:"Dashboard",inventory:"Inventory",productPicture:"Product Picture",orders:"Orders",expenses:"Expenses",customers:"Customers",settings:"Settings",logout:"Logout"},EMe={welcome:"Welcome back,",admin:"Admin",switchMode:"Switch to {{mode}} mode",activityLogs:"Activity Logs",new:"New",viewAllActivity:"View All Activity"},NMe={defaultName:"User",defaultRole:"Staff"},TMe={loading:"Loading...",error:"Error",success:"Success",save:"Save",saving:"Saving...",cancel:"Cancel",delete:"Delete",edit:"Edit",view:"View",search:"Search...",actions:"Actions",noData:"No data found",noDataToExport:"No data to export",clearFilters:"Clear Filters",exportCSV:"Export CSV",print:"Print",confirmDelete:"Are you sure you want to delete this?",yes:"Yes",no:"No",status:{processing:"Processing",completed:"Completed",cancelled:"Cancelled",pending:"Pending",shipped:"Shipped",delivered:"Delivered",returned:"Returned"},sort:"Sort",dateNew:"Newest First",dateOld:"Oldest First",priceHigh:"Highest Price",priceLow:"Lowest Price",nameAZ:"Name (A-Z)",male:"Male",female:"Female",showRows:"Show Rows",custom:"Custom",select:"Select...",cashOnDelivery:"Cash on Delivery",perUnit:"per unit"},PMe={title:"Dashboard",live:"Live Dashboard",totalRevenue:"Total Revenue",totalExpenses:"Total Expenses",revenueTrend:"Revenue Trend",totalOrders:"Total Orders",ordersPlaced:"Orders placed",totalCustomers:"Total Customers",activeCustomers:"Active Customers",uniqueBuyers:"Unique buyers",topRegion:"Top Region",interactiveMap:"Interactive Map",totalProducts:"Total Products",lowStock:"Low Stock Items",recentActivity:"Recent Activity",filteredOrders:"Filtered Orders",liveDashboard:"Live Dashboard",revenueComparison:"+12.5% vs last period",ordersCount:"{{count}} orders",revenue:"Revenue",governorate:"Governorate",socialMedia:"Social Media",categories:"Categories",status:"Status"},AMe={title:"Inventory",addProduct:"Add Product",productName:"Product Name",category:"Category",price:"Price",stock:"Stock",status:"Status",supplier:"Supplier",description:"Description",image:"Image",sellingPrice:"Selling Price (IQD)",costPrice:"Cost Price (USD)",exchangeRate:"Exchange Rate",profit:"Profit",margin:"Margin",create:"Create Product",update:"Update Product",stockStatus:{inStock:"In Stock",lowStock:"Low Stock",outOfStock:"Out of Stock",instock:"In Stock",lowstock:"Low Stock",outofstock:"Out of Stock"},form:{basicInfo:"Basic Information",generalInfo:"General Information",description:"Description",descriptionPlaceholder:"General product description, features, or internal notes...",gallery:"Product Gallery",addImage:"Add Image",category:"Category",status:"Status",productName:"Product Name",productNamePlaceholder:"e.g. Wireless Headset",sku:"SKU",skuPlaceholder:"e.g. WH-001",stock:"Stock",unitPrice:"Unit Price",alibabaSourcing:"Alibaba Sourcing",productLink:"Product Link",messageLink:"Message Link",orderLink:"Order Link",alibabaOrderNo:"Alibaba Order No",alibabaNote:"Alibaba Note",notePlaceholder:"Enter details...",costAndPricing:"Cost & Pricing",alibabaFee:"Alibaba Fee",exchangeRate:"Exchange Rate",margin:"Margin",shippingIQD:"Shipping (IQD)",otherFeesIQD:"Other Fees (IQD)",costTotal:"Total Cost",costPerUnit:"Cost Per Unit",recommendedPrice:"Recommended Price",finalPrice:"Final Price",manualOverride:"Manual Override Active",autoCalculated:"Auto Calculated",profitAnalysis:"Profit Analysis",iqdAnalysis:"IQD Analysis",usdAnalysis:"USD Analysis",profitPerUnit:"Profit / Unit",totalProfit:"Total Profit",qtyCalculation:"Quantity Calculation",unitsExpected:"Units Expected to Sell",selectCategory:"Select Category",createCategory:"Create New Category"},searchPlaceholder:"Search products...",confirmDelete:"Are you sure you want to delete this product?",marginTooHigh:"Margin percentage must be less than 100%",fillInfo:"Fill in the details below to add a new product.",editProduct:"Edit Product",manageCategories:"Categories",categories:"Categories",table:{product:"Product",category:"Category",stock:"Stock",price:"Price",status:"Status"}},IMe={title:"Orders",createOrder:"Create Order",orderId:"Order ID",customer:"Customer",date:"Date",total:"Total",status:"Status",items:"Items",quantity:"Qty",discount:"Discount",subtotal:"Subtotal",grandTotal:"Grand Total",customerInfo:"Customer Info",shippingAddress:"Shipping Address",internalNotes:"Internal Notes",paymentMethod:"Payment Method",governorate:"Governorate",socialMedia:"Social Media",deleteConfirm:"Are you sure you want to delete this order?",searchPlaceholder:"Search orders...",stockError:"Only {{available}} units available",limitReached:"Limit reached: {{available}}",addItemsError:"Please add items to the order",customerError:"Please fill in customer name and phone",stockErrorWithName:"Not enough stock for {{name}}. Max available: {{available}}",chooseProduct:"Choose Product",searchProduct:"Search & Select Product",qty:"Qty",price:"PRICE",cartEmpty:"Your cart is empty",cartEmptySub:"Add products to start building the order",onlyLeft:"ONLY {{count}} LEFT",orderSubtotal:"Order Subtotal",applyDiscount:"APPLY DISCOUNT",noDiscount:"No Discount",offDiscount:"{{percent}}% OFF DISCOUNT",chooseCustomer:"Choose a Customer",searchCustomers:"Search customers...",createNewCustomer:"Create New Customer",fullName:"Full Name",phone:"Phone Number",gender:"Gender",social:"Social",saveOrder:"SAVE ORDER",updateOrder:"UPDATE ORDER",orderStatus:"Order Status",orderItems:"Order Items",printReceipt:"Print Receipt",editOrder:"Edit Order",receipt:{title:"Receipt",companyName:"SHAN ENTERPRISE",address:"Baghdad, Iraq",order:"Order",customer:"Customer",phone:"Phone",gov:"Gov",subtotal:"Subtotal",discount:"Discount",total:"TOTAL",thankYou:"Thank you for your business!",noReturn:"Items checked out cannot be returned.",na:"N/A"},errors:{submitError:"Failed to submit order: {{message}}",unknown:"Unknown error"},table:{orderId:"Order ID",customer:"Customer",date:"Date",total:"Total (IQD)",status:"Status"}},CMe={title:"Product Picture Gallery",subtitle:"Product Gallery",description:"Manage your product visual assets.",noProducts:"No products found matching your search.",modal:{images:"Product Images",addPhoto:"Add Photo",details:"Product Details",productTitle:"Product Title",enterTitle:"Enter product title",description:"Description",enterDescription:"Enter product description...",sellingPrice:"Selling Price",confirmDeleteImage:"Are you sure you want to delete this image?",invalidImageFormat:"Only JPG, PNG, WEBP, or GIF images are allowed."}},OMe={title:"Expenses",newExpense:"New Expense",editExpense:"Edit Expense",createExpense:"Create Expense",updateExpense:"Update Expense",searchPlaceholder:"Search campaign, tags, notes...",totalSpend:"Total Spend",topType:"Top Type",topCampaign:"Top Campaign",addType:"Add Type",typePrompt:"Enter new expense type",noExpenses:"No expenses found"},jMe={title:"Customers",addCustomer:"Add Customer",name:"Name",phone:"Phone",email:"Email",address:"Address",governorate:"Governorate",social:"Social Media",totalSpent:"Total Spent",lastOrder:"Last Order",joinDate:"Join Date",orders:"Orders",location:"Location",createdOn:"Created On",actions:"Actions",noData:"No customers found",noMatch:"No customers matching filters",searchPlaceholder:"Search by name or phone...",viewTable:"Table View",viewCard:"Card View",form:{new:"New Customer",edit:"Refine Profile",sub:"Customer Database",fullName:"Full Name",phone:"Phone Number",email:"Email (Optional)",governorate:"Governorate",channel:"Channel",shippingAddress:"Shipping Address",save:"Save Profile",register:"Register Customer"},history:{title:"Transaction Logs",customer:"Customer",noRecords:"No Active Records Found",paymentMethod:"Payment Method",itemsCount:"Items Count",printThermal:"Print Thermal Receipt"},receipt:{title:"Order Receipt",order:"Order",customer:"Customer",date:"Date",status:"Status",item:"Item",qty:"Qty",price:"Price",total:"Total"}},MMe={title:"Settings",general:"General",account:"Account",appearance:"Appearance",users:"User Management",language:"Language",saveChanges:"Save Changes",branding:"Branding",appHeader:"Application Header",appHeaderDesc:"Show or hide the top navigation header",saveBranding:"Save Branding Settings",appName:"Application Name",logo:"Logo",logoAndFavicon:"Logo & Favicon",uploadLogo:"Upload Logo",uploadFavicon:"Upload Favicon",logoSize:"Recommended size: 512x512px. Max 3MB.",removeLogo:"Remove Logo",removeFavicon:"Remove Favicon",themeOptions:"Theme Options",liquidBackground:"Liquid Glass Background",liquidBackgroundDesc:"Apply glass gradient background to the website only",themes:{liquid:"Liquid Glass",liquidDesc:"Apple macOS style",light:"Pro Light",lightDesc:"Clean & minimal",dark:"Pro Dark",darkDesc:"Deep & elegant"},accentCustomization:"Accent Customization",solid:"Solid",gradient:"Gradient",customColor:"Custom Color",gradients:{royal:"Royal",sunset:"Sunset",aurora:"Aurora",vibrant:"Vibrant"},customDualColors:"Custom Dual Colors",start:"Start",end:"End",livePreview:"Live Preview",contentLayoutExample:"Content Layout Example",primaryButton:"Primary Button",toggleSwitch:"Toggle Switch",accountSettings:"Account Settings",changeAvatar:"Change Avatar",avatarFormat:"JPG, GIF or PNG. Max size of 3MB",emailAddress:"Email Address",avatarRecommendedSize:"JPG, GIF or PNG. Max size of 3MB",displayName:"Display Name",username:"Username",securitySettings:"Security Settings",password:"Password",passwordDescription:"Change your password to keep your account safe.",changePassword:"Change Password",enable2fa:"Enable 2FA",editProfile:"Edit Profile",addUser:"Add User",editUser:"Edit User",addNewUser:"Add New User",updateUser:"Update User",createUser:"Create User",confirmDeleteUser:"Are you sure you want to delete this user?",table:{user:"User",email:"Email",role:"Role"},placeholders:{displayName:"Display Name",username:"Username",email:"Email",password:"Password",passwordKeep:"Password (leave blank to keep)",currentPassword:"Current Password",newPassword:"New Password",confirmPassword:"Confirm New Password"},toasts:{profileUpdated:"Profile updated successfully!",avatarTooLarge:"Avatar too large. Max 3MB.",brandingSaved:"Branding settings saved successfully!",fileTooLarge:"File too large. Max 3MB.",userUpdated:"User updated successfully!",userCreated:"User created successfully!",passwordChanged:"Password changed successfully!"}},DMe={menu:kMe,header:EMe,user:NMe,common:TMe,dashboard:PMe,products:AMe,orders:IMe,productPicture:CMe,expenses:OMe,customers:jMe,settings:MMe},RMe={mainMenu:" ",dashboard:" ",inventory:"",productPicture:" ",orders:"",expenses:"",customers:"",settings:"",logout:" "},$Me={welcome:" ",admin:"",switchMode:"   {{mode}}",activityLogs:" ",new:"",viewAllActivity:"  "},LMe={defaultName:"",defaultRole:""},FMe={loading:" ...",error:"",success:" ",save:"",saving:" ...",cancel:"",delete:"",edit:"",view:"",search:"...",actions:"",noData:"  ",noDataToExport:"   ",clearFilters:" ",exportCSV:" CSV",print:"",confirmDelete:"    ",yes:"",no:"",status:{processing:" ",completed:"",cancelled:"",pending:" ",shipped:" ",delivered:" ",returned:""},sort:"",dateNew:" ",dateOld:" ",priceHigh:" ",priceLow:" ",nameAZ:" (-)",male:"",female:"",showRows:" ",custom:"",select:"...",cashOnDelivery:"  ",perUnit:" "},VMe={title:" ",live:"  ",totalRevenue:" ",totalExpenses:" ",revenueTrend:" ",totalOrders:" ",ordersPlaced:" ",totalCustomers:" ",activeCustomers:" ",uniqueBuyers:" ",topRegion:" ",interactiveMap:" ",totalProducts:" ",lowStock:"  ",recentActivity:" ",filteredOrders:" ",liveDashboard:"  ",revenueComparison:"+12.5%   ",ordersCount:"{{count}} ",revenue:"",governorate:"",socialMedia:" ",categories:"",status:""},UMe={title:"",addProduct:" ",productName:" ",category:"",price:"",stock:"",status:"",supplier:"",description:"",image:"",sellingPrice:"  (.)",costPrice:"  ()",exchangeRate:" ",profit:"",margin:"",create:" ",update:" ",stockStatus:{inStock:"",lowStock:" ",outOfStock:" ",instock:"",lowstock:" ",outofstock:" "},form:{basicInfo:" ",generalInfo:" ",description:"",descriptionPlaceholder:"     ...",gallery:" ",addImage:" ",category:"",status:"",productName:" ",productNamePlaceholder:":  ",sku:"  (SKU)",skuPlaceholder:": WH-001",stock:"",unitPrice:" ",alibabaSourcing:"  ",productLink:" ",messageLink:" ",orderLink:" ",alibabaOrderNo:"   ",alibabaNote:"  ",notePlaceholder:" ...",costAndPricing:" ",alibabaFee:"  ",exchangeRate:" ",margin:" ",shippingIQD:" (.)",otherFeesIQD:"  (.)",costTotal:" ",costPerUnit:" ",recommendedPrice:" ",finalPrice:" ",manualOverride:"  ",autoCalculated:" ",profitAnalysis:" ",iqdAnalysis:"  ",usdAnalysis:"  ",profitPerUnit:" / ",totalProfit:" ",qtyCalculation:" ",unitsExpected:"  ",selectCategory:" ",createCategory:"  "},searchPlaceholder:"  ...",confirmDelete:"      ",marginTooHigh:"       100%",fillInfo:"     .",editProduct:" ",manageCategories:"",categories:"",table:{product:"",category:"",stock:"",price:"",status:""}},BMe={title:"",createOrder:" ",orderId:" ",customer:"",date:"",total:"",status:"",items:"",quantity:"",discount:"",subtotal:" ",grandTotal:" ",customerInfo:" ",shippingAddress:" ",internalNotes:" ",paymentMethod:" ",governorate:"",socialMedia:" ",deleteConfirm:"      ",searchPlaceholder:"  ...",stockError:" {{available}}  ",limitReached:"  : {{available}}",addItemsError:"   ",customerError:"    ",stockErrorWithName:"     {{name}}. : {{available}}",chooseProduct:" ",searchProduct:"  ",qty:"",price:"",cartEmpty:" ",cartEmptySub:"     ",onlyLeft:" {{count}} ",orderSubtotal:" ",applyDiscount:" ",noDiscount:" ",offDiscount:" {{percent}}%",chooseCustomer:" ",searchCustomers:"  ...",createNewCustomer:"  ",fullName:" ",phone:" ",gender:"",social:" ",saveOrder:" ",updateOrder:" ",orderStatus:" ",orderItems:" ",printReceipt:" ",editOrder:" ",receipt:{title:" ",companyName:"SHAN ENTERPRISE",address:" ",order:"",customer:"",phone:"",gov:"",subtotal:" ",discount:"",total:"",thankYou:"  !",noReturn:"     .",na:" "},errors:{submitError:"   : {{message}}",unknown:"  "},table:{orderId:" ",customer:"",date:"",total:" (.)",status:""}},zMe={title:"  ",subtitle:" ",description:"   .",noProducts:"      .",modal:{images:" ",addPhoto:" ",details:" ",productTitle:" ",enterTitle:"  ",description:"",enterDescription:"  ...",sellingPrice:" ",confirmDeleteImage:"      ",invalidImageFormat:"    JPG PNG WEBP GIF."}},WMe={title:"",newExpense:" ",editExpense:" ",createExpense:" ",updateExpense:" ",searchPlaceholder:"      ...",totalSpend:" ",topType:" ",topCampaign:" ",addType:" ",typePrompt:"   ",noExpenses:"  "},qMe={title:"",addCustomer:" ",name:"",phone:"",email:" ",address:"",governorate:"",social:" ",totalSpent:" ",lastOrder:" ",joinDate:" ",orders:"",location:"",createdOn:" ",actions:"",noData:"  ",noMatch:"   ",searchPlaceholder:"   ...",viewTable:" ",viewCard:" ",form:{new:" ",edit:" ",sub:"  ",fullName:" ",phone:" ",email:"  ()",governorate:"",channel:"",shippingAddress:" ",save:" ",register:" "},history:{title:" ",customer:"",noRecords:"   ",paymentMethod:" ",itemsCount:" ",printThermal:"  "},receipt:{title:" ",order:"",customer:"",date:"",status:"",item:"",qty:"",price:"",total:""}},HMe={title:"",general:"",account:"",appearance:"",users:" ",language:"",saveChanges:" ",branding:" ",appHeader:" ",appHeaderDesc:"     ",saveBranding:"   ",appName:" ",logo:"",logoAndFavicon:" ",uploadLogo:" ",uploadFavicon:" ",logoSize:"  : 512x512 .   3 .",removeLogo:" ",removeFavicon:" ",themeOptions:" ",liquidBackground:"  ",liquidBackgroundDesc:"      ",themes:{liquid:" ",liquidDesc:"  ",light:" ",lightDesc:" ",dark:" ",darkDesc:" "},accentCustomization:"  ",solid:" ",gradient:" ",customColor:" ",gradients:{royal:"",sunset:"",aurora:"",vibrant:""},customDualColors:"  ",start:"",end:"",livePreview:" ",contentLayoutExample:"  ",primaryButton:" ",toggleSwitch:" ",accountSettings:" ",changeAvatar:"  ",avatarFormat:"JPG GIF  PNG.   3 ",emailAddress:" ",avatarRecommendedSize:"JPG GIF  PNG.   3 ",displayName:" ",username:" ",securitySettings:" ",password:" ",passwordDescription:"      .",changePassword:"  ",enable2fa:"  ",editProfile:"  ",addUser:" ",editUser:" ",addNewUser:"  ",updateUser:" ",createUser:" ",confirmDeleteUser:"      ",table:{user:"",email:" ",role:""},placeholders:{displayName:" ",username:" ",email:" ",password:" ",passwordKeep:"  (   )",currentPassword:"  ",newPassword:"  ",confirmPassword:"   "},toasts:{profileUpdated:"    !",avatarTooLarge:"  .   3 .",brandingSaved:"     !",fileTooLarge:"  .   3 .",userUpdated:"   !",userCreated:"   !",passwordChanged:"    !"}},GMe={menu:RMe,header:$Me,user:LMe,common:FMe,dashboard:VMe,products:UMe,orders:BMe,productPicture:zMe,expenses:WMe,customers:qMe,settings:HMe};Kn.use(ZW).use(ise).init({resources:{en:{translation:DMe},ar:{translation:GMe}},fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}}).then(()=>{const t=Kn.language==="ar"?"rtl":"ltr";document.dir=t,document.documentElement.lang=Kn.language});Kn.on("languageChanged",t=>{const e=t==="ar"?"rtl":"ltr";document.dir=e,document.documentElement.lang=t});Gy.createRoot(document.getElementById("root")).render(f.jsx(V.StrictMode,{children:f.jsx(lMe,{})}));
