function UF(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tj={exports:{}},Ny={},nj={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh=Symbol.for("react.element"),BF=Symbol.for("react.portal"),zF=Symbol.for("react.fragment"),WF=Symbol.for("react.strict_mode"),qF=Symbol.for("react.profiler"),HF=Symbol.for("react.provider"),GF=Symbol.for("react.context"),KF=Symbol.for("react.forward_ref"),XF=Symbol.for("react.suspense"),YF=Symbol.for("react.memo"),QF=Symbol.for("react.lazy"),iP=Symbol.iterator;function JF(t){return t===null||typeof t!="object"?null:(t=iP&&t[iP]||t["@@iterator"],typeof t=="function"?t:null)}var rj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ij=Object.assign,oj={};function ku(t,e,n){this.props=t,this.context=e,this.refs=oj,this.updater=n||rj}ku.prototype.isReactComponent={};ku.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ku.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function aj(){}aj.prototype=ku.prototype;function k1(t,e,n){this.props=t,this.context=e,this.refs=oj,this.updater=n||rj}var I1=k1.prototype=new aj;I1.constructor=k1;ij(I1,ku.prototype);I1.isPureReactComponent=!0;var oP=Array.isArray,sj=Object.prototype.hasOwnProperty,O1={current:null},lj={key:!0,ref:!0,__self:!0,__source:!0};function uj(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)sj.call(e,r)&&!lj.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Xh,type:t,key:o,ref:a,props:i,_owner:O1.current}}function ZF(t,e){return{$$typeof:Xh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function C1(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xh}function e9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var aP=/\/+/g;function O0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?e9(""+t.key):e.toString(36)}function Rp(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Xh:case BF:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+O0(a,0):r,oP(i)?(n="",t!=null&&(n=t.replace(aP,"$&/")+"/"),Rp(i,e,n,"",function(u){return u})):i!=null&&(C1(i)&&(i=ZF(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(aP,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",oP(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+O0(o,s);a+=Rp(o,e,n,l,i)}else if(l=JF(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+O0(o,s++),a+=Rp(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Ld(t,e,n){if(t==null)return t;var r=[],i=0;return Rp(t,r,"","",function(o){return e.call(n,o,i++)}),r}function t9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var On={current:null},jp={transition:null},n9={ReactCurrentDispatcher:On,ReactCurrentBatchConfig:jp,ReactCurrentOwner:O1};function cj(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:Ld,forEach:function(t,e,n){Ld(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ld(t,function(){e++}),e},toArray:function(t){return Ld(t,function(e){return e})||[]},only:function(t){if(!C1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ne.Component=ku;Ne.Fragment=zF;Ne.Profiler=qF;Ne.PureComponent=k1;Ne.StrictMode=WF;Ne.Suspense=XF;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n9;Ne.act=cj;Ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ij({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=O1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)sj.call(e,l)&&!lj.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Xh,type:t.type,key:i,ref:o,props:r,_owner:a}};Ne.createContext=function(t){return t={$$typeof:GF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HF,_context:t},t.Consumer=t};Ne.createElement=uj;Ne.createFactory=function(t){var e=uj.bind(null,t);return e.type=t,e};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(t){return{$$typeof:KF,render:t}};Ne.isValidElement=C1;Ne.lazy=function(t){return{$$typeof:QF,_payload:{_status:-1,_result:t},_init:t9}};Ne.memo=function(t,e){return{$$typeof:YF,type:t,compare:e===void 0?null:e}};Ne.startTransition=function(t){var e=jp.transition;jp.transition={};try{t()}finally{jp.transition=e}};Ne.unstable_act=cj;Ne.useCallback=function(t,e){return On.current.useCallback(t,e)};Ne.useContext=function(t){return On.current.useContext(t)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(t){return On.current.useDeferredValue(t)};Ne.useEffect=function(t,e){return On.current.useEffect(t,e)};Ne.useId=function(){return On.current.useId()};Ne.useImperativeHandle=function(t,e,n){return On.current.useImperativeHandle(t,e,n)};Ne.useInsertionEffect=function(t,e){return On.current.useInsertionEffect(t,e)};Ne.useLayoutEffect=function(t,e){return On.current.useLayoutEffect(t,e)};Ne.useMemo=function(t,e){return On.current.useMemo(t,e)};Ne.useReducer=function(t,e,n){return On.current.useReducer(t,e,n)};Ne.useRef=function(t){return On.current.useRef(t)};Ne.useState=function(t){return On.current.useState(t)};Ne.useSyncExternalStore=function(t,e,n){return On.current.useSyncExternalStore(t,e,n)};Ne.useTransition=function(){return On.current.useTransition()};Ne.version="18.3.1";nj.exports=Ne;var D=nj.exports;const z=Xe(D),r9=UF({__proto__:null,default:z},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i9=D,o9=Symbol.for("react.element"),a9=Symbol.for("react.fragment"),s9=Object.prototype.hasOwnProperty,l9=i9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u9={key:!0,ref:!0,__self:!0,__source:!0};function fj(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)s9.call(e,r)&&!u9.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:o9,type:t,key:o,ref:a,props:i,_owner:l9.current}}Ny.Fragment=a9;Ny.jsx=fj;Ny.jsxs=fj;tj.exports=Ny;var g=tj.exports,rw={},hj={exports:{}},or={},dj={exports:{}},pj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,F){var L=U.length;U.push(F);e:for(;0<L;){var H=L-1>>>1,X=U[H];if(0<i(X,F))U[H]=F,U[L]=X,L=H;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var F=U[0],L=U.pop();if(L!==F){U[0]=L;e:for(var H=0,X=U.length,K=X>>>1;H<K;){var ie=2*(H+1)-1,ue=U[ie],ne=ie+1,pe=U[ne];if(0>i(ue,L))ne<X&&0>i(pe,ue)?(U[H]=pe,U[ne]=L,H=ne):(U[H]=ue,U[ie]=L,H=ie);else if(ne<X&&0>i(pe,L))U[H]=pe,U[ne]=L,H=ne;else break e}}return F}function i(U,F){var L=U.sortIndex-F.sortIndex;return L!==0?L:U.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,h=3,p=!1,m=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(U){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=U)r(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(u)}}function A(U){if(y=!1,x(U),!m)if(n(l)!==null)m=!0,V(_);else{var F=n(u);F!==null&&W(A,F.startTime-U)}}function _(U,F){m=!1,y&&(y=!1,v(T),T=-1),p=!0;var L=h;try{for(x(F),f=n(l);f!==null&&(!(f.expirationTime>F)||U&&!C());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var X=H(f.expirationTime<=F);F=t.unstable_now(),typeof X=="function"?f.callback=X:f===n(l)&&r(l),x(F)}else r(l);f=n(l)}if(f!==null)var K=!0;else{var ie=n(u);ie!==null&&W(A,ie.startTime-F),K=!1}return K}finally{f=null,h=L,p=!1}}var P=!1,S=null,T=-1,k=5,N=-1;function C(){return!(t.unstable_now()-N<k)}function R(){if(S!==null){var U=t.unstable_now();N=U;var F=!0;try{F=S(!0,U)}finally{F?O():(P=!1,S=null)}}else P=!1}var O;if(typeof w=="function")O=function(){w(R)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,$=j.port2;j.port1.onmessage=R,O=function(){$.postMessage(null)}}else O=function(){b(R,0)};function V(U){S=U,P||(P=!0,O())}function W(U,F){T=b(function(){U(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,V(_))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var L=h;h=F;try{return U()}finally{h=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,F){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var L=h;h=U;try{return F()}finally{h=L}},t.unstable_scheduleCallback=function(U,F,L){var H=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?H+L:H):L=H,U){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=L+X,U={id:c++,callback:F,priorityLevel:U,startTime:L,expirationTime:X,sortIndex:-1},L>H?(U.sortIndex=L,e(u,U),n(l)===null&&U===n(u)&&(y?(v(T),T=-1):y=!0,W(A,L-H))):(U.sortIndex=X,e(l,U),m||p||(m=!0,V(_))),U},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(U){var F=h;return function(){var L=h;h=F;try{return U.apply(this,arguments)}finally{h=L}}}})(pj);dj.exports=pj;var c9=dj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f9=D,rr=c9;function oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mj=new Set,Pf={};function Cs(t,e){Ul(t,e),Ul(t+"Capture",e)}function Ul(t,e){for(Pf[t]=e,t=0;t<e.length;t++)mj.add(e[t])}var Yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iw=Object.prototype.hasOwnProperty,h9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sP={},lP={};function d9(t){return iw.call(lP,t)?!0:iw.call(sP,t)?!1:h9.test(t)?lP[t]=!0:(sP[t]=!0,!1)}function p9(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function m9(t,e,n,r){if(e===null||typeof e>"u"||p9(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Cn(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var on={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){on[t]=new Cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];on[e]=new Cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){on[t]=new Cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){on[t]=new Cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){on[t]=new Cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){on[t]=new Cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){on[t]=new Cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){on[t]=new Cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){on[t]=new Cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var N1=/[\-:]([a-z])/g;function R1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(N1,R1);on[e]=new Cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(N1,R1);on[e]=new Cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(N1,R1);on[e]=new Cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){on[t]=new Cn(t,1,!1,t.toLowerCase(),null,!1,!1)});on.xlinkHref=new Cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){on[t]=new Cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function j1(t,e,n,r){var i=on.hasOwnProperty(e)?on[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(m9(e,n,i,r)&&(n=null),r||i===null?d9(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var fo=f9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vd=Symbol.for("react.element"),nl=Symbol.for("react.portal"),rl=Symbol.for("react.fragment"),M1=Symbol.for("react.strict_mode"),ow=Symbol.for("react.profiler"),gj=Symbol.for("react.provider"),yj=Symbol.for("react.context"),$1=Symbol.for("react.forward_ref"),aw=Symbol.for("react.suspense"),sw=Symbol.for("react.suspense_list"),D1=Symbol.for("react.memo"),Ao=Symbol.for("react.lazy"),vj=Symbol.for("react.offscreen"),uP=Symbol.iterator;function gc(t){return t===null||typeof t!="object"?null:(t=uP&&t[uP]||t["@@iterator"],typeof t=="function"?t:null)}var mt=Object.assign,C0;function Dc(t){if(C0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);C0=e&&e[1]||""}return`
`+C0+t}var N0=!1;function R0(t,e){if(!t||N0)return"";N0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{N0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Dc(t):""}function g9(t){switch(t.tag){case 5:return Dc(t.type);case 16:return Dc("Lazy");case 13:return Dc("Suspense");case 19:return Dc("SuspenseList");case 0:case 2:case 15:return t=R0(t.type,!1),t;case 11:return t=R0(t.type.render,!1),t;case 1:return t=R0(t.type,!0),t;default:return""}}function lw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case rl:return"Fragment";case nl:return"Portal";case ow:return"Profiler";case M1:return"StrictMode";case aw:return"Suspense";case sw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yj:return(t.displayName||"Context")+".Consumer";case gj:return(t._context.displayName||"Context")+".Provider";case $1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D1:return e=t.displayName||null,e!==null?e:lw(t.type)||"Memo";case Ao:e=t._payload,t=t._init;try{return lw(t(e))}catch{}}return null}function y9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lw(e);case 8:return e===M1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function aa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bj(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function v9(t){var e=bj(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fd(t){t._valueTracker||(t._valueTracker=v9(t))}function wj(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bj(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function um(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function uw(t,e){var n=e.checked;return mt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function cP(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=aa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xj(t,e){e=e.checked,e!=null&&j1(t,"checked",e,!1)}function cw(t,e){xj(t,e);var n=aa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fw(t,e.type,n):e.hasOwnProperty("defaultValue")&&fw(t,e.type,aa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fP(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fw(t,e,n){(e!=="number"||um(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Lc=Array.isArray;function xl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+aa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function hw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oe(91));return mt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hP(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(oe(92));if(Lc(n)){if(1<n.length)throw Error(oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:aa(n)}}function _j(t,e){var n=aa(e.value),r=aa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function dP(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ej(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ej(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ud,Sj=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ud=Ud||document.createElement("div"),Ud.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ud.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var tf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},b9=["Webkit","ms","Moz","O"];Object.keys(tf).forEach(function(t){b9.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),tf[e]=tf[t]})});function Tj(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||tf.hasOwnProperty(t)&&tf[t]?(""+e).trim():e+"px"}function Aj(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Tj(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var w9=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pw(t,e){if(e){if(w9[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oe(62))}}function mw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gw=null;function L1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yw=null,_l=null,El=null;function pP(t){if(t=Jh(t)){if(typeof yw!="function")throw Error(oe(280));var e=t.stateNode;e&&(e=Dy(e),yw(t.stateNode,t.type,e))}}function Pj(t){_l?El?El.push(t):El=[t]:_l=t}function kj(){if(_l){var t=_l,e=El;if(El=_l=null,pP(t),e)for(t=0;t<e.length;t++)pP(e[t])}}function Ij(t,e){return t(e)}function Oj(){}var j0=!1;function Cj(t,e,n){if(j0)return t(e,n);j0=!0;try{return Ij(t,e,n)}finally{j0=!1,(_l!==null||El!==null)&&(Oj(),kj())}}function If(t,e){var n=t.stateNode;if(n===null)return null;var r=Dy(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(oe(231,e,typeof n));return n}var vw=!1;if(Yi)try{var yc={};Object.defineProperty(yc,"passive",{get:function(){vw=!0}}),window.addEventListener("test",yc,yc),window.removeEventListener("test",yc,yc)}catch{vw=!1}function x9(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var nf=!1,cm=null,fm=!1,bw=null,_9={onError:function(t){nf=!0,cm=t}};function E9(t,e,n,r,i,o,a,s,l){nf=!1,cm=null,x9.apply(_9,arguments)}function S9(t,e,n,r,i,o,a,s,l){if(E9.apply(this,arguments),nf){if(nf){var u=cm;nf=!1,cm=null}else throw Error(oe(198));fm||(fm=!0,bw=u)}}function Ns(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Nj(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function mP(t){if(Ns(t)!==t)throw Error(oe(188))}function T9(t){var e=t.alternate;if(!e){if(e=Ns(t),e===null)throw Error(oe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return mP(i),t;if(o===r)return mP(i),e;o=o.sibling}throw Error(oe(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(oe(189))}}if(n.alternate!==r)throw Error(oe(190))}if(n.tag!==3)throw Error(oe(188));return n.stateNode.current===n?t:e}function Rj(t){return t=T9(t),t!==null?jj(t):null}function jj(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jj(t);if(e!==null)return e;t=t.sibling}return null}var Mj=rr.unstable_scheduleCallback,gP=rr.unstable_cancelCallback,A9=rr.unstable_shouldYield,P9=rr.unstable_requestPaint,Et=rr.unstable_now,k9=rr.unstable_getCurrentPriorityLevel,V1=rr.unstable_ImmediatePriority,$j=rr.unstable_UserBlockingPriority,hm=rr.unstable_NormalPriority,I9=rr.unstable_LowPriority,Dj=rr.unstable_IdlePriority,Ry=null,fi=null;function O9(t){if(fi&&typeof fi.onCommitFiberRoot=="function")try{fi.onCommitFiberRoot(Ry,t,void 0,(t.current.flags&128)===128)}catch{}}var Wr=Math.clz32?Math.clz32:R9,C9=Math.log,N9=Math.LN2;function R9(t){return t>>>=0,t===0?32:31-(C9(t)/N9|0)|0}var Bd=64,zd=4194304;function Vc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function dm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Vc(s):(o&=a,o!==0&&(r=Vc(o)))}else a=n&~i,a!==0?r=Vc(a):o!==0&&(r=Vc(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Wr(e),i=1<<n,r|=t[n],e&=~i;return r}function j9(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M9(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Wr(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=j9(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function ww(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Lj(){var t=Bd;return Bd<<=1,!(Bd&4194240)&&(Bd=64),t}function M0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wr(e),t[e]=n}function $9(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Wr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function F1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Wr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ze=0;function Vj(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Fj,U1,Uj,Bj,zj,xw=!1,Wd=[],Wo=null,qo=null,Ho=null,Of=new Map,Cf=new Map,Co=[],D9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yP(t,e){switch(t){case"focusin":case"focusout":Wo=null;break;case"dragenter":case"dragleave":qo=null;break;case"mouseover":case"mouseout":Ho=null;break;case"pointerover":case"pointerout":Of.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cf.delete(e.pointerId)}}function vc(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Jh(e),e!==null&&U1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function L9(t,e,n,r,i){switch(e){case"focusin":return Wo=vc(Wo,t,e,n,r,i),!0;case"dragenter":return qo=vc(qo,t,e,n,r,i),!0;case"mouseover":return Ho=vc(Ho,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Of.set(o,vc(Of.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Cf.set(o,vc(Cf.get(o)||null,t,e,n,r,i)),!0}return!1}function Wj(t){var e=Ga(t.target);if(e!==null){var n=Ns(e);if(n!==null){if(e=n.tag,e===13){if(e=Nj(n),e!==null){t.blockedOn=e,zj(t.priority,function(){Uj(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_w(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);gw=r,n.target.dispatchEvent(r),gw=null}else return e=Jh(n),e!==null&&U1(e),t.blockedOn=n,!1;e.shift()}return!0}function vP(t,e,n){Mp(t)&&n.delete(e)}function V9(){xw=!1,Wo!==null&&Mp(Wo)&&(Wo=null),qo!==null&&Mp(qo)&&(qo=null),Ho!==null&&Mp(Ho)&&(Ho=null),Of.forEach(vP),Cf.forEach(vP)}function bc(t,e){t.blockedOn===e&&(t.blockedOn=null,xw||(xw=!0,rr.unstable_scheduleCallback(rr.unstable_NormalPriority,V9)))}function Nf(t){function e(i){return bc(i,t)}if(0<Wd.length){bc(Wd[0],t);for(var n=1;n<Wd.length;n++){var r=Wd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Wo!==null&&bc(Wo,t),qo!==null&&bc(qo,t),Ho!==null&&bc(Ho,t),Of.forEach(e),Cf.forEach(e),n=0;n<Co.length;n++)r=Co[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Co.length&&(n=Co[0],n.blockedOn===null);)Wj(n),n.blockedOn===null&&Co.shift()}var Sl=fo.ReactCurrentBatchConfig,pm=!0;function F9(t,e,n,r){var i=ze,o=Sl.transition;Sl.transition=null;try{ze=1,B1(t,e,n,r)}finally{ze=i,Sl.transition=o}}function U9(t,e,n,r){var i=ze,o=Sl.transition;Sl.transition=null;try{ze=4,B1(t,e,n,r)}finally{ze=i,Sl.transition=o}}function B1(t,e,n,r){if(pm){var i=_w(t,e,n,r);if(i===null)q0(t,e,r,mm,n),yP(t,r);else if(L9(i,t,e,n,r))r.stopPropagation();else if(yP(t,r),e&4&&-1<D9.indexOf(t)){for(;i!==null;){var o=Jh(i);if(o!==null&&Fj(o),o=_w(t,e,n,r),o===null&&q0(t,e,r,mm,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else q0(t,e,r,null,n)}}var mm=null;function _w(t,e,n,r){if(mm=null,t=L1(r),t=Ga(t),t!==null)if(e=Ns(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Nj(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mm=t,null}function qj(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(k9()){case V1:return 1;case $j:return 4;case hm:case I9:return 16;case Dj:return 536870912;default:return 16}default:return 16}}var Lo=null,z1=null,$p=null;function Hj(){if($p)return $p;var t,e=z1,n=e.length,r,i="value"in Lo?Lo.value:Lo.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return $p=i.slice(t,1<r?1-r:void 0)}function Dp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qd(){return!0}function bP(){return!1}function ar(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?qd:bP,this.isPropagationStopped=bP,this}return mt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qd)},persist:function(){},isPersistent:qd}),e}var Iu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},W1=ar(Iu),Qh=mt({},Iu,{view:0,detail:0}),B9=ar(Qh),$0,D0,wc,jy=mt({},Qh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:q1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wc&&(wc&&t.type==="mousemove"?($0=t.screenX-wc.screenX,D0=t.screenY-wc.screenY):D0=$0=0,wc=t),$0)},movementY:function(t){return"movementY"in t?t.movementY:D0}}),wP=ar(jy),z9=mt({},jy,{dataTransfer:0}),W9=ar(z9),q9=mt({},Qh,{relatedTarget:0}),L0=ar(q9),H9=mt({},Iu,{animationName:0,elapsedTime:0,pseudoElement:0}),G9=ar(H9),K9=mt({},Iu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),X9=ar(K9),Y9=mt({},Iu,{data:0}),xP=ar(Y9),Q9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eU(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Z9[t])?!!e[t]:!1}function q1(){return eU}var tU=mt({},Qh,{key:function(t){if(t.key){var e=Q9[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Dp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?J9[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:q1,charCode:function(t){return t.type==="keypress"?Dp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nU=ar(tU),rU=mt({},jy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_P=ar(rU),iU=mt({},Qh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:q1}),oU=ar(iU),aU=mt({},Iu,{propertyName:0,elapsedTime:0,pseudoElement:0}),sU=ar(aU),lU=mt({},jy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uU=ar(lU),cU=[9,13,27,32],H1=Yi&&"CompositionEvent"in window,rf=null;Yi&&"documentMode"in document&&(rf=document.documentMode);var fU=Yi&&"TextEvent"in window&&!rf,Gj=Yi&&(!H1||rf&&8<rf&&11>=rf),EP=" ",SP=!1;function Kj(t,e){switch(t){case"keyup":return cU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xj(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var il=!1;function hU(t,e){switch(t){case"compositionend":return Xj(e);case"keypress":return e.which!==32?null:(SP=!0,EP);case"textInput":return t=e.data,t===EP&&SP?null:t;default:return null}}function dU(t,e){if(il)return t==="compositionend"||!H1&&Kj(t,e)?(t=Hj(),$p=z1=Lo=null,il=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Gj&&e.locale!=="ko"?null:e.data;default:return null}}var pU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function TP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pU[t.type]:e==="textarea"}function Yj(t,e,n,r){Pj(r),e=gm(e,"onChange"),0<e.length&&(n=new W1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var of=null,Rf=null;function mU(t){sM(t,0)}function My(t){var e=sl(t);if(wj(e))return t}function gU(t,e){if(t==="change")return e}var Qj=!1;if(Yi){var V0;if(Yi){var F0="oninput"in document;if(!F0){var AP=document.createElement("div");AP.setAttribute("oninput","return;"),F0=typeof AP.oninput=="function"}V0=F0}else V0=!1;Qj=V0&&(!document.documentMode||9<document.documentMode)}function PP(){of&&(of.detachEvent("onpropertychange",Jj),Rf=of=null)}function Jj(t){if(t.propertyName==="value"&&My(Rf)){var e=[];Yj(e,Rf,t,L1(t)),Cj(mU,e)}}function yU(t,e,n){t==="focusin"?(PP(),of=e,Rf=n,of.attachEvent("onpropertychange",Jj)):t==="focusout"&&PP()}function vU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return My(Rf)}function bU(t,e){if(t==="click")return My(e)}function wU(t,e){if(t==="input"||t==="change")return My(e)}function xU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kr=typeof Object.is=="function"?Object.is:xU;function jf(t,e){if(Kr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!iw.call(e,i)||!Kr(t[i],e[i]))return!1}return!0}function kP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function IP(t,e){var n=kP(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kP(n)}}function Zj(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Zj(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function eM(){for(var t=window,e=um();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=um(t.document)}return e}function G1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _U(t){var e=eM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Zj(n.ownerDocument.documentElement,n)){if(r!==null&&G1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=IP(n,o);var a=IP(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var EU=Yi&&"documentMode"in document&&11>=document.documentMode,ol=null,Ew=null,af=null,Sw=!1;function OP(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sw||ol==null||ol!==um(r)||(r=ol,"selectionStart"in r&&G1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),af&&jf(af,r)||(af=r,r=gm(Ew,"onSelect"),0<r.length&&(e=new W1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ol)))}function Hd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var al={animationend:Hd("Animation","AnimationEnd"),animationiteration:Hd("Animation","AnimationIteration"),animationstart:Hd("Animation","AnimationStart"),transitionend:Hd("Transition","TransitionEnd")},U0={},tM={};Yi&&(tM=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function $y(t){if(U0[t])return U0[t];if(!al[t])return t;var e=al[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in tM)return U0[t]=e[n];return t}var nM=$y("animationend"),rM=$y("animationiteration"),iM=$y("animationstart"),oM=$y("transitionend"),aM=new Map,CP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ma(t,e){aM.set(t,e),Cs(e,[t])}for(var B0=0;B0<CP.length;B0++){var z0=CP[B0],SU=z0.toLowerCase(),TU=z0[0].toUpperCase()+z0.slice(1);ma(SU,"on"+TU)}ma(nM,"onAnimationEnd");ma(rM,"onAnimationIteration");ma(iM,"onAnimationStart");ma("dblclick","onDoubleClick");ma("focusin","onFocus");ma("focusout","onBlur");ma(oM,"onTransitionEnd");Ul("onMouseEnter",["mouseout","mouseover"]);Ul("onMouseLeave",["mouseout","mouseover"]);Ul("onPointerEnter",["pointerout","pointerover"]);Ul("onPointerLeave",["pointerout","pointerover"]);Cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fc));function NP(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,S9(r,e,void 0,t),t.currentTarget=null}function sM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;NP(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;NP(i,s,u),o=l}}}if(fm)throw t=bw,fm=!1,bw=null,t}function et(t,e){var n=e[Iw];n===void 0&&(n=e[Iw]=new Set);var r=t+"__bubble";n.has(r)||(lM(e,t,2,!1),n.add(r))}function W0(t,e,n){var r=0;e&&(r|=4),lM(n,t,r,e)}var Gd="_reactListening"+Math.random().toString(36).slice(2);function Mf(t){if(!t[Gd]){t[Gd]=!0,mj.forEach(function(n){n!=="selectionchange"&&(AU.has(n)||W0(n,!1,t),W0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gd]||(e[Gd]=!0,W0("selectionchange",!1,e))}}function lM(t,e,n,r){switch(qj(e)){case 1:var i=F9;break;case 4:i=U9;break;default:i=B1}n=i.bind(null,e,n,t),i=void 0,!vw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function q0(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Ga(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}Cj(function(){var u=o,c=L1(n),f=[];e:{var h=aM.get(t);if(h!==void 0){var p=W1,m=t;switch(t){case"keypress":if(Dp(n)===0)break e;case"keydown":case"keyup":p=nU;break;case"focusin":m="focus",p=L0;break;case"focusout":m="blur",p=L0;break;case"beforeblur":case"afterblur":p=L0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=wP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=W9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=oU;break;case nM:case rM:case iM:p=G9;break;case oM:p=sU;break;case"scroll":p=B9;break;case"wheel":p=uU;break;case"copy":case"cut":case"paste":p=X9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=_P}var y=(e&4)!==0,b=!y&&t==="scroll",v=y?h!==null?h+"Capture":null:h;y=[];for(var w=u,x;w!==null;){x=w;var A=x.stateNode;if(x.tag===5&&A!==null&&(x=A,v!==null&&(A=If(w,v),A!=null&&y.push($f(w,A,x)))),b)break;w=w.return}0<y.length&&(h=new p(h,m,null,n,c),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==gw&&(m=n.relatedTarget||n.fromElement)&&(Ga(m)||m[Qi]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?Ga(m):null,m!==null&&(b=Ns(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(y=wP,A="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=_P,A="onPointerLeave",v="onPointerEnter",w="pointer"),b=p==null?h:sl(p),x=m==null?h:sl(m),h=new y(A,w+"leave",p,n,c),h.target=b,h.relatedTarget=x,A=null,Ga(c)===u&&(y=new y(v,w+"enter",m,n,c),y.target=x,y.relatedTarget=b,A=y),b=A,p&&m)t:{for(y=p,v=m,w=0,x=y;x;x=Gs(x))w++;for(x=0,A=v;A;A=Gs(A))x++;for(;0<w-x;)y=Gs(y),w--;for(;0<x-w;)v=Gs(v),x--;for(;w--;){if(y===v||v!==null&&y===v.alternate)break t;y=Gs(y),v=Gs(v)}y=null}else y=null;p!==null&&RP(f,h,p,y,!1),m!==null&&b!==null&&RP(f,b,m,y,!0)}}e:{if(h=u?sl(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var _=gU;else if(TP(h))if(Qj)_=wU;else{_=vU;var P=yU}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=bU);if(_&&(_=_(t,u))){Yj(f,_,n,c);break e}P&&P(t,h,u),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&fw(h,"number",h.value)}switch(P=u?sl(u):window,t){case"focusin":(TP(P)||P.contentEditable==="true")&&(ol=P,Ew=u,af=null);break;case"focusout":af=Ew=ol=null;break;case"mousedown":Sw=!0;break;case"contextmenu":case"mouseup":case"dragend":Sw=!1,OP(f,n,c);break;case"selectionchange":if(EU)break;case"keydown":case"keyup":OP(f,n,c)}var S;if(H1)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else il?Kj(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Gj&&n.locale!=="ko"&&(il||T!=="onCompositionStart"?T==="onCompositionEnd"&&il&&(S=Hj()):(Lo=c,z1="value"in Lo?Lo.value:Lo.textContent,il=!0)),P=gm(u,T),0<P.length&&(T=new xP(T,t,null,n,c),f.push({event:T,listeners:P}),S?T.data=S:(S=Xj(n),S!==null&&(T.data=S)))),(S=fU?hU(t,n):dU(t,n))&&(u=gm(u,"onBeforeInput"),0<u.length&&(c=new xP("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=S))}sM(f,e)})}function $f(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=If(t,n),o!=null&&r.unshift($f(t,o,i)),o=If(t,e),o!=null&&r.push($f(t,o,i))),t=t.return}return r}function Gs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function RP(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=If(n,o),l!=null&&a.unshift($f(n,l,s))):i||(l=If(n,o),l!=null&&a.push($f(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var PU=/\r\n?/g,kU=/\u0000|\uFFFD/g;function jP(t){return(typeof t=="string"?t:""+t).replace(PU,`
`).replace(kU,"")}function Kd(t,e,n){if(e=jP(e),jP(t)!==e&&n)throw Error(oe(425))}function ym(){}var Tw=null,Aw=null;function Pw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kw=typeof setTimeout=="function"?setTimeout:void 0,IU=typeof clearTimeout=="function"?clearTimeout:void 0,MP=typeof Promise=="function"?Promise:void 0,OU=typeof queueMicrotask=="function"?queueMicrotask:typeof MP<"u"?function(t){return MP.resolve(null).then(t).catch(CU)}:kw;function CU(t){setTimeout(function(){throw t})}function H0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Nf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Nf(e)}function Go(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $P(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ou=Math.random().toString(36).slice(2),oi="__reactFiber$"+Ou,Df="__reactProps$"+Ou,Qi="__reactContainer$"+Ou,Iw="__reactEvents$"+Ou,NU="__reactListeners$"+Ou,RU="__reactHandles$"+Ou;function Ga(t){var e=t[oi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qi]||n[oi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$P(t);t!==null;){if(n=t[oi])return n;t=$P(t)}return e}t=n,n=t.parentNode}return null}function Jh(t){return t=t[oi]||t[Qi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(oe(33))}function Dy(t){return t[Df]||null}var Ow=[],ll=-1;function ga(t){return{current:t}}function it(t){0>ll||(t.current=Ow[ll],Ow[ll]=null,ll--)}function Je(t,e){ll++,Ow[ll]=t.current,t.current=e}var sa={},yn=ga(sa),Ln=ga(!1),cs=sa;function Bl(t,e){var n=t.type.contextTypes;if(!n)return sa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Vn(t){return t=t.childContextTypes,t!=null}function vm(){it(Ln),it(yn)}function DP(t,e,n){if(yn.current!==sa)throw Error(oe(168));Je(yn,e),Je(Ln,n)}function uM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(oe(108,y9(t)||"Unknown",i));return mt({},n,r)}function bm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||sa,cs=yn.current,Je(yn,t),Je(Ln,Ln.current),!0}function LP(t,e,n){var r=t.stateNode;if(!r)throw Error(oe(169));n?(t=uM(t,e,cs),r.__reactInternalMemoizedMergedChildContext=t,it(Ln),it(yn),Je(yn,t)):it(Ln),Je(Ln,n)}var ji=null,Ly=!1,G0=!1;function cM(t){ji===null?ji=[t]:ji.push(t)}function jU(t){Ly=!0,cM(t)}function ya(){if(!G0&&ji!==null){G0=!0;var t=0,e=ze;try{var n=ji;for(ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ji=null,Ly=!1}catch(i){throw ji!==null&&(ji=ji.slice(t+1)),Mj(V1,ya),i}finally{ze=e,G0=!1}}return null}var ul=[],cl=0,wm=null,xm=0,fr=[],hr=0,fs=null,Li=1,Vi="";function Va(t,e){ul[cl++]=xm,ul[cl++]=wm,wm=t,xm=e}function fM(t,e,n){fr[hr++]=Li,fr[hr++]=Vi,fr[hr++]=fs,fs=t;var r=Li;t=Vi;var i=32-Wr(r)-1;r&=~(1<<i),n+=1;var o=32-Wr(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Li=1<<32-Wr(e)+i|n<<i|r,Vi=o+t}else Li=1<<o|n<<i|r,Vi=t}function K1(t){t.return!==null&&(Va(t,1),fM(t,1,0))}function X1(t){for(;t===wm;)wm=ul[--cl],ul[cl]=null,xm=ul[--cl],ul[cl]=null;for(;t===fs;)fs=fr[--hr],fr[hr]=null,Vi=fr[--hr],fr[hr]=null,Li=fr[--hr],fr[hr]=null}var tr=null,Jn=null,ot=!1,$r=null;function hM(t,e){var n=gr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function VP(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tr=t,Jn=Go(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tr=t,Jn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fs!==null?{id:Li,overflow:Vi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tr=t,Jn=null,!0):!1;default:return!1}}function Cw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Nw(t){if(ot){var e=Jn;if(e){var n=e;if(!VP(t,e)){if(Cw(t))throw Error(oe(418));e=Go(n.nextSibling);var r=tr;e&&VP(t,e)?hM(r,n):(t.flags=t.flags&-4097|2,ot=!1,tr=t)}}else{if(Cw(t))throw Error(oe(418));t.flags=t.flags&-4097|2,ot=!1,tr=t}}}function FP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tr=t}function Xd(t){if(t!==tr)return!1;if(!ot)return FP(t),ot=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Pw(t.type,t.memoizedProps)),e&&(e=Jn)){if(Cw(t))throw dM(),Error(oe(418));for(;e;)hM(t,e),e=Go(e.nextSibling)}if(FP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jn=Go(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jn=null}}else Jn=tr?Go(t.stateNode.nextSibling):null;return!0}function dM(){for(var t=Jn;t;)t=Go(t.nextSibling)}function zl(){Jn=tr=null,ot=!1}function Y1(t){$r===null?$r=[t]:$r.push(t)}var MU=fo.ReactCurrentBatchConfig;function xc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(oe(309));var r=n.stateNode}if(!r)throw Error(oe(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(oe(284));if(!n._owner)throw Error(oe(290,t))}return t}function Yd(t,e){throw t=Object.prototype.toString.call(e),Error(oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function UP(t){var e=t._init;return e(t._payload)}function pM(t){function e(v,w){if(t){var x=v.deletions;x===null?(v.deletions=[w],v.flags|=16):x.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=Qo(v,w),v.index=0,v.sibling=null,v}function o(v,w,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<w?(v.flags|=2,w):x):(v.flags|=2,w)):(v.flags|=1048576,w)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function s(v,w,x,A){return w===null||w.tag!==6?(w=eb(x,v.mode,A),w.return=v,w):(w=i(w,x),w.return=v,w)}function l(v,w,x,A){var _=x.type;return _===rl?c(v,w,x.props.children,A,x.key):w!==null&&(w.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ao&&UP(_)===w.type)?(A=i(w,x.props),A.ref=xc(v,w,x),A.return=v,A):(A=Wp(x.type,x.key,x.props,null,v.mode,A),A.ref=xc(v,w,x),A.return=v,A)}function u(v,w,x,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=tb(x,v.mode,A),w.return=v,w):(w=i(w,x.children||[]),w.return=v,w)}function c(v,w,x,A,_){return w===null||w.tag!==7?(w=is(x,v.mode,A,_),w.return=v,w):(w=i(w,x),w.return=v,w)}function f(v,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=eb(""+w,v.mode,x),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Vd:return x=Wp(w.type,w.key,w.props,null,v.mode,x),x.ref=xc(v,null,w),x.return=v,x;case nl:return w=tb(w,v.mode,x),w.return=v,w;case Ao:var A=w._init;return f(v,A(w._payload),x)}if(Lc(w)||gc(w))return w=is(w,v.mode,x,null),w.return=v,w;Yd(v,w)}return null}function h(v,w,x,A){var _=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:s(v,w,""+x,A);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Vd:return x.key===_?l(v,w,x,A):null;case nl:return x.key===_?u(v,w,x,A):null;case Ao:return _=x._init,h(v,w,_(x._payload),A)}if(Lc(x)||gc(x))return _!==null?null:c(v,w,x,A,null);Yd(v,x)}return null}function p(v,w,x,A,_){if(typeof A=="string"&&A!==""||typeof A=="number")return v=v.get(x)||null,s(w,v,""+A,_);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Vd:return v=v.get(A.key===null?x:A.key)||null,l(w,v,A,_);case nl:return v=v.get(A.key===null?x:A.key)||null,u(w,v,A,_);case Ao:var P=A._init;return p(v,w,x,P(A._payload),_)}if(Lc(A)||gc(A))return v=v.get(x)||null,c(w,v,A,_,null);Yd(w,A)}return null}function m(v,w,x,A){for(var _=null,P=null,S=w,T=w=0,k=null;S!==null&&T<x.length;T++){S.index>T?(k=S,S=null):k=S.sibling;var N=h(v,S,x[T],A);if(N===null){S===null&&(S=k);break}t&&S&&N.alternate===null&&e(v,S),w=o(N,w,T),P===null?_=N:P.sibling=N,P=N,S=k}if(T===x.length)return n(v,S),ot&&Va(v,T),_;if(S===null){for(;T<x.length;T++)S=f(v,x[T],A),S!==null&&(w=o(S,w,T),P===null?_=S:P.sibling=S,P=S);return ot&&Va(v,T),_}for(S=r(v,S);T<x.length;T++)k=p(S,v,T,x[T],A),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?T:k.key),w=o(k,w,T),P===null?_=k:P.sibling=k,P=k);return t&&S.forEach(function(C){return e(v,C)}),ot&&Va(v,T),_}function y(v,w,x,A){var _=gc(x);if(typeof _!="function")throw Error(oe(150));if(x=_.call(x),x==null)throw Error(oe(151));for(var P=_=null,S=w,T=w=0,k=null,N=x.next();S!==null&&!N.done;T++,N=x.next()){S.index>T?(k=S,S=null):k=S.sibling;var C=h(v,S,N.value,A);if(C===null){S===null&&(S=k);break}t&&S&&C.alternate===null&&e(v,S),w=o(C,w,T),P===null?_=C:P.sibling=C,P=C,S=k}if(N.done)return n(v,S),ot&&Va(v,T),_;if(S===null){for(;!N.done;T++,N=x.next())N=f(v,N.value,A),N!==null&&(w=o(N,w,T),P===null?_=N:P.sibling=N,P=N);return ot&&Va(v,T),_}for(S=r(v,S);!N.done;T++,N=x.next())N=p(S,v,T,N.value,A),N!==null&&(t&&N.alternate!==null&&S.delete(N.key===null?T:N.key),w=o(N,w,T),P===null?_=N:P.sibling=N,P=N);return t&&S.forEach(function(R){return e(v,R)}),ot&&Va(v,T),_}function b(v,w,x,A){if(typeof x=="object"&&x!==null&&x.type===rl&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Vd:e:{for(var _=x.key,P=w;P!==null;){if(P.key===_){if(_=x.type,_===rl){if(P.tag===7){n(v,P.sibling),w=i(P,x.props.children),w.return=v,v=w;break e}}else if(P.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ao&&UP(_)===P.type){n(v,P.sibling),w=i(P,x.props),w.ref=xc(v,P,x),w.return=v,v=w;break e}n(v,P);break}else e(v,P);P=P.sibling}x.type===rl?(w=is(x.props.children,v.mode,A,x.key),w.return=v,v=w):(A=Wp(x.type,x.key,x.props,null,v.mode,A),A.ref=xc(v,w,x),A.return=v,v=A)}return a(v);case nl:e:{for(P=x.key;w!==null;){if(w.key===P)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(v,w.sibling),w=i(w,x.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=tb(x,v.mode,A),w.return=v,v=w}return a(v);case Ao:return P=x._init,b(v,w,P(x._payload),A)}if(Lc(x))return m(v,w,x,A);if(gc(x))return y(v,w,x,A);Yd(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(v,w.sibling),w=i(w,x),w.return=v,v=w):(n(v,w),w=eb(x,v.mode,A),w.return=v,v=w),a(v)):n(v,w)}return b}var Wl=pM(!0),mM=pM(!1),_m=ga(null),Em=null,fl=null,Q1=null;function J1(){Q1=fl=Em=null}function Z1(t){var e=_m.current;it(_m),t._currentValue=e}function Rw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Tl(t,e){Em=t,Q1=fl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($n=!0),t.firstContext=null)}function _r(t){var e=t._currentValue;if(Q1!==t)if(t={context:t,memoizedValue:e,next:null},fl===null){if(Em===null)throw Error(oe(308));fl=t,Em.dependencies={lanes:0,firstContext:t}}else fl=fl.next=t;return e}var Ka=null;function eE(t){Ka===null?Ka=[t]:Ka.push(t)}function gM(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,eE(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ji(t,r)}function Ji(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Po=!1;function tE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ko(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ji(t,n)}return i=r.interleaved,i===null?(e.next=e,eE(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ji(t,n)}function Lp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,F1(t,n)}}function BP(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Sm(t,e,n,r){var i=t.updateQueue;Po=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=t,y=s;switch(h=e,p=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=mt({},f,h);break e;case 2:Po=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ds|=a,t.lanes=a,t.memoizedState=f}}function zP(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(oe(191,i));i.call(r)}}}var Zh={},hi=ga(Zh),Lf=ga(Zh),Vf=ga(Zh);function Xa(t){if(t===Zh)throw Error(oe(174));return t}function nE(t,e){switch(Je(Vf,e),Je(Lf,t),Je(hi,Zh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=dw(e,t)}it(hi),Je(hi,e)}function ql(){it(hi),it(Lf),it(Vf)}function vM(t){Xa(Vf.current);var e=Xa(hi.current),n=dw(e,t.type);e!==n&&(Je(Lf,t),Je(hi,n))}function rE(t){Lf.current===t&&(it(hi),it(Lf))}var ft=ga(0);function Tm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var K0=[];function iE(){for(var t=0;t<K0.length;t++)K0[t]._workInProgressVersionPrimary=null;K0.length=0}var Vp=fo.ReactCurrentDispatcher,X0=fo.ReactCurrentBatchConfig,hs=0,pt=null,Lt=null,Gt=null,Am=!1,sf=!1,Ff=0,$U=0;function sn(){throw Error(oe(321))}function oE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Kr(t[n],e[n]))return!1;return!0}function aE(t,e,n,r,i,o){if(hs=o,pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vp.current=t===null||t.memoizedState===null?FU:UU,t=n(r,i),sf){o=0;do{if(sf=!1,Ff=0,25<=o)throw Error(oe(301));o+=1,Gt=Lt=null,e.updateQueue=null,Vp.current=BU,t=n(r,i)}while(sf)}if(Vp.current=Pm,e=Lt!==null&&Lt.next!==null,hs=0,Gt=Lt=pt=null,Am=!1,e)throw Error(oe(300));return t}function sE(){var t=Ff!==0;return Ff=0,t}function ni(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?pt.memoizedState=Gt=t:Gt=Gt.next=t,Gt}function Er(){if(Lt===null){var t=pt.alternate;t=t!==null?t.memoizedState:null}else t=Lt.next;var e=Gt===null?pt.memoizedState:Gt.next;if(e!==null)Gt=e,Lt=t;else{if(t===null)throw Error(oe(310));Lt=t,t={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Gt===null?pt.memoizedState=Gt=t:Gt=Gt.next=t}return Gt}function Uf(t,e){return typeof e=="function"?e(t):e}function Y0(t){var e=Er(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=Lt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((hs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,pt.lanes|=c,ds|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,Kr(r,e.memoizedState)||($n=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,pt.lanes|=o,ds|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Q0(t){var e=Er(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Kr(o,e.memoizedState)||($n=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function bM(){}function wM(t,e){var n=pt,r=Er(),i=e(),o=!Kr(r.memoizedState,i);if(o&&(r.memoizedState=i,$n=!0),r=r.queue,lE(EM.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Gt!==null&&Gt.memoizedState.tag&1){if(n.flags|=2048,Bf(9,_M.bind(null,n,r,i,e),void 0,null),Kt===null)throw Error(oe(349));hs&30||xM(n,e,i)}return i}function xM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function _M(t,e,n,r){e.value=n,e.getSnapshot=r,SM(e)&&TM(t)}function EM(t,e,n){return n(function(){SM(e)&&TM(t)})}function SM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Kr(t,n)}catch{return!0}}function TM(t){var e=Ji(t,1);e!==null&&qr(e,t,1,-1)}function WP(t){var e=ni();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uf,lastRenderedState:t},e.queue=t,t=t.dispatch=VU.bind(null,pt,t),[e.memoizedState,t]}function Bf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function AM(){return Er().memoizedState}function Fp(t,e,n,r){var i=ni();pt.flags|=t,i.memoizedState=Bf(1|e,n,void 0,r===void 0?null:r)}function Vy(t,e,n,r){var i=Er();r=r===void 0?null:r;var o=void 0;if(Lt!==null){var a=Lt.memoizedState;if(o=a.destroy,r!==null&&oE(r,a.deps)){i.memoizedState=Bf(e,n,o,r);return}}pt.flags|=t,i.memoizedState=Bf(1|e,n,o,r)}function qP(t,e){return Fp(8390656,8,t,e)}function lE(t,e){return Vy(2048,8,t,e)}function PM(t,e){return Vy(4,2,t,e)}function kM(t,e){return Vy(4,4,t,e)}function IM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function OM(t,e,n){return n=n!=null?n.concat([t]):null,Vy(4,4,IM.bind(null,e,t),n)}function uE(){}function CM(t,e){var n=Er();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&oE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function NM(t,e){var n=Er();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&oE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function RM(t,e,n){return hs&21?(Kr(n,e)||(n=Lj(),pt.lanes|=n,ds|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$n=!0),t.memoizedState=n)}function DU(t,e){var n=ze;ze=n!==0&&4>n?n:4,t(!0);var r=X0.transition;X0.transition={};try{t(!1),e()}finally{ze=n,X0.transition=r}}function jM(){return Er().memoizedState}function LU(t,e,n){var r=Yo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},MM(t))$M(e,n);else if(n=gM(t,e,n,r),n!==null){var i=Tn();qr(n,t,r,i),DM(n,e,r)}}function VU(t,e,n){var r=Yo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(MM(t))$M(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Kr(s,a)){var l=e.interleaved;l===null?(i.next=i,eE(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=gM(t,e,i,r),n!==null&&(i=Tn(),qr(n,t,r,i),DM(n,e,r))}}function MM(t){var e=t.alternate;return t===pt||e!==null&&e===pt}function $M(t,e){sf=Am=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function DM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,F1(t,n)}}var Pm={readContext:_r,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},FU={readContext:_r,useCallback:function(t,e){return ni().memoizedState=[t,e===void 0?null:e],t},useContext:_r,useEffect:qP,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fp(4194308,4,IM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fp(4,2,t,e)},useMemo:function(t,e){var n=ni();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ni();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=LU.bind(null,pt,t),[r.memoizedState,t]},useRef:function(t){var e=ni();return t={current:t},e.memoizedState=t},useState:WP,useDebugValue:uE,useDeferredValue:function(t){return ni().memoizedState=t},useTransition:function(){var t=WP(!1),e=t[0];return t=DU.bind(null,t[1]),ni().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pt,i=ni();if(ot){if(n===void 0)throw Error(oe(407));n=n()}else{if(n=e(),Kt===null)throw Error(oe(349));hs&30||xM(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,qP(EM.bind(null,r,o,t),[t]),r.flags|=2048,Bf(9,_M.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ni(),e=Kt.identifierPrefix;if(ot){var n=Vi,r=Li;n=(r&~(1<<32-Wr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ff++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$U++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},UU={readContext:_r,useCallback:CM,useContext:_r,useEffect:lE,useImperativeHandle:OM,useInsertionEffect:PM,useLayoutEffect:kM,useMemo:NM,useReducer:Y0,useRef:AM,useState:function(){return Y0(Uf)},useDebugValue:uE,useDeferredValue:function(t){var e=Er();return RM(e,Lt.memoizedState,t)},useTransition:function(){var t=Y0(Uf)[0],e=Er().memoizedState;return[t,e]},useMutableSource:bM,useSyncExternalStore:wM,useId:jM,unstable_isNewReconciler:!1},BU={readContext:_r,useCallback:CM,useContext:_r,useEffect:lE,useImperativeHandle:OM,useInsertionEffect:PM,useLayoutEffect:kM,useMemo:NM,useReducer:Q0,useRef:AM,useState:function(){return Q0(Uf)},useDebugValue:uE,useDeferredValue:function(t){var e=Er();return Lt===null?e.memoizedState=t:RM(e,Lt.memoizedState,t)},useTransition:function(){var t=Q0(Uf)[0],e=Er().memoizedState;return[t,e]},useMutableSource:bM,useSyncExternalStore:wM,useId:jM,unstable_isNewReconciler:!1};function Rr(t,e){if(t&&t.defaultProps){e=mt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function jw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:mt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fy={isMounted:function(t){return(t=t._reactInternals)?Ns(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Tn(),i=Yo(t),o=Hi(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ko(t,o,i),e!==null&&(qr(e,t,i,r),Lp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Tn(),i=Yo(t),o=Hi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ko(t,o,i),e!==null&&(qr(e,t,i,r),Lp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Tn(),r=Yo(t),i=Hi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ko(t,i,r),e!==null&&(qr(e,t,r,n),Lp(e,t,r))}};function HP(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!jf(n,r)||!jf(i,o):!0}function LM(t,e,n){var r=!1,i=sa,o=e.contextType;return typeof o=="object"&&o!==null?o=_r(o):(i=Vn(e)?cs:yn.current,r=e.contextTypes,o=(r=r!=null)?Bl(t,i):sa),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fy,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function GP(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Fy.enqueueReplaceState(e,e.state,null)}function Mw(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},tE(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=_r(o):(o=Vn(e)?cs:yn.current,i.context=Bl(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(jw(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Fy.enqueueReplaceState(i,i.state,null),Sm(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Hl(t,e){try{var n="",r=e;do n+=g9(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function J0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $w(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zU=typeof WeakMap=="function"?WeakMap:Map;function VM(t,e,n){n=Hi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Im||(Im=!0,Hw=r),$w(t,e)},n}function FM(t,e,n){n=Hi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){$w(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){$w(t,e),typeof r!="function"&&(Xo===null?Xo=new Set([this]):Xo.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function KP(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new zU;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=r8.bind(null,t,e,n),e.then(t,t))}function XP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function YP(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Hi(-1,1),e.tag=2,Ko(n,e,1))),n.lanes|=1),t)}var WU=fo.ReactCurrentOwner,$n=!1;function wn(t,e,n,r){e.child=t===null?mM(e,null,n,r):Wl(e,t.child,n,r)}function QP(t,e,n,r,i){n=n.render;var o=e.ref;return Tl(e,i),r=aE(t,e,n,r,o,i),n=sE(),t!==null&&!$n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zi(t,e,i)):(ot&&n&&K1(e),e.flags|=1,wn(t,e,r,i),e.child)}function JP(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!yE(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,UM(t,e,o,r,i)):(t=Wp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:jf,n(a,r)&&t.ref===e.ref)return Zi(t,e,i)}return e.flags|=1,t=Qo(o,r),t.ref=e.ref,t.return=e,e.child=t}function UM(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(jf(o,r)&&t.ref===e.ref)if($n=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&($n=!0);else return e.lanes=t.lanes,Zi(t,e,i)}return Dw(t,e,n,r,i)}function BM(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(dl,Gn),Gn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Je(dl,Gn),Gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Je(dl,Gn),Gn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Je(dl,Gn),Gn|=r;return wn(t,e,i,n),e.child}function zM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Dw(t,e,n,r,i){var o=Vn(n)?cs:yn.current;return o=Bl(e,o),Tl(e,i),n=aE(t,e,n,r,o,i),r=sE(),t!==null&&!$n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zi(t,e,i)):(ot&&r&&K1(e),e.flags|=1,wn(t,e,n,i),e.child)}function ZP(t,e,n,r,i){if(Vn(n)){var o=!0;bm(e)}else o=!1;if(Tl(e,i),e.stateNode===null)Up(t,e),LM(e,n,r),Mw(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=_r(u):(u=Vn(n)?cs:yn.current,u=Bl(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&GP(e,a,r,u),Po=!1;var h=e.memoizedState;a.state=h,Sm(e,r,a,i),l=e.memoizedState,s!==r||h!==l||Ln.current||Po?(typeof c=="function"&&(jw(e,n,c,r),l=e.memoizedState),(s=Po||HP(e,n,s,r,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,yM(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Rr(e.type,s),a.props=u,f=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=_r(l):(l=Vn(n)?cs:yn.current,l=Bl(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==l)&&GP(e,a,r,l),Po=!1,h=e.memoizedState,a.state=h,Sm(e,r,a,i);var m=e.memoizedState;s!==f||h!==m||Ln.current||Po?(typeof p=="function"&&(jw(e,n,p,r),m=e.memoizedState),(u=Po||HP(e,n,u,r,h,m,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),a.props=r,a.state=m,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Lw(t,e,n,r,o,i)}function Lw(t,e,n,r,i,o){zM(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&LP(e,n,!1),Zi(t,e,o);r=e.stateNode,WU.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Wl(e,t.child,null,o),e.child=Wl(e,null,s,o)):wn(t,e,s,o),e.memoizedState=r.state,i&&LP(e,n,!0),e.child}function WM(t){var e=t.stateNode;e.pendingContext?DP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&DP(t,e.context,!1),nE(t,e.containerInfo)}function ek(t,e,n,r,i){return zl(),Y1(i),e.flags|=256,wn(t,e,n,r),e.child}var Vw={dehydrated:null,treeContext:null,retryLane:0};function Fw(t){return{baseLanes:t,cachePool:null,transitions:null}}function qM(t,e,n){var r=e.pendingProps,i=ft.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Je(ft,i&1),t===null)return Nw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=zy(a,r,0,null),t=is(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Fw(n),e.memoizedState=Vw,t):cE(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return qU(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Qo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Qo(s,o):(o=is(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Fw(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Vw,r}return o=t.child,t=o.sibling,r=Qo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function cE(t,e){return e=zy({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qd(t,e,n,r){return r!==null&&Y1(r),Wl(e,t.child,null,n),t=cE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qU(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=J0(Error(oe(422))),Qd(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=zy({mode:"visible",children:r.children},i,0,null),o=is(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Wl(e,t.child,null,a),e.child.memoizedState=Fw(a),e.memoizedState=Vw,o);if(!(e.mode&1))return Qd(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(oe(419)),r=J0(o,r,void 0),Qd(t,e,a,r)}if(s=(a&t.childLanes)!==0,$n||s){if(r=Kt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ji(t,i),qr(r,t,i,-1))}return gE(),r=J0(Error(oe(421))),Qd(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=i8.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Jn=Go(i.nextSibling),tr=e,ot=!0,$r=null,t!==null&&(fr[hr++]=Li,fr[hr++]=Vi,fr[hr++]=fs,Li=t.id,Vi=t.overflow,fs=e),e=cE(e,r.children),e.flags|=4096,e)}function tk(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Rw(t.return,e,n)}function Z0(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function HM(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(wn(t,e,r.children,n),r=ft.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tk(t,n,e);else if(t.tag===19)tk(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Je(ft,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Tm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Z0(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Tm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Z0(e,!0,n,null,o);break;case"together":Z0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Up(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ds|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(oe(153));if(e.child!==null){for(t=e.child,n=Qo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function HU(t,e,n){switch(e.tag){case 3:WM(e),zl();break;case 5:vM(e);break;case 1:Vn(e.type)&&bm(e);break;case 4:nE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Je(_m,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Je(ft,ft.current&1),e.flags|=128,null):n&e.child.childLanes?qM(t,e,n):(Je(ft,ft.current&1),t=Zi(t,e,n),t!==null?t.sibling:null);Je(ft,ft.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return HM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Je(ft,ft.current),r)break;return null;case 22:case 23:return e.lanes=0,BM(t,e,n)}return Zi(t,e,n)}var GM,Uw,KM,XM;GM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Uw=function(){};KM=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Xa(hi.current);var o=null;switch(n){case"input":i=uw(t,i),r=uw(t,r),o=[];break;case"select":i=mt({},i,{value:void 0}),r=mt({},r,{value:void 0}),o=[];break;case"textarea":i=hw(t,i),r=hw(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ym)}pw(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pf.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pf.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&et("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};XM=function(t,e,n,r){n!==r&&(e.flags|=4)};function _c(t,e){if(!ot)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ln(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function GU(t,e,n){var r=e.pendingProps;switch(X1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(e),null;case 1:return Vn(e.type)&&vm(),ln(e),null;case 3:return r=e.stateNode,ql(),it(Ln),it(yn),iE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$r!==null&&(Xw($r),$r=null))),Uw(t,e),ln(e),null;case 5:rE(e);var i=Xa(Vf.current);if(n=e.type,t!==null&&e.stateNode!=null)KM(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(oe(166));return ln(e),null}if(t=Xa(hi.current),Xd(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[oi]=e,r[Df]=o,t=(e.mode&1)!==0,n){case"dialog":et("cancel",r),et("close",r);break;case"iframe":case"object":case"embed":et("load",r);break;case"video":case"audio":for(i=0;i<Fc.length;i++)et(Fc[i],r);break;case"source":et("error",r);break;case"img":case"image":case"link":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"input":cP(r,o),et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},et("invalid",r);break;case"textarea":hP(r,o),et("invalid",r)}pw(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Kd(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Kd(r.textContent,s,t),i=["children",""+s]):Pf.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&et("scroll",r)}switch(n){case"input":Fd(r),fP(r,o,!0);break;case"textarea":Fd(r),dP(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ym)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ej(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[oi]=e,t[Df]=r,GM(t,e,!1,!1),e.stateNode=t;e:{switch(a=mw(n,r),n){case"dialog":et("cancel",t),et("close",t),i=r;break;case"iframe":case"object":case"embed":et("load",t),i=r;break;case"video":case"audio":for(i=0;i<Fc.length;i++)et(Fc[i],t);i=r;break;case"source":et("error",t),i=r;break;case"img":case"image":case"link":et("error",t),et("load",t),i=r;break;case"details":et("toggle",t),i=r;break;case"input":cP(t,r),i=uw(t,r),et("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=mt({},r,{value:void 0}),et("invalid",t);break;case"textarea":hP(t,r),i=hw(t,r),et("invalid",t);break;default:i=r}pw(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?Aj(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Sj(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&kf(t,l):typeof l=="number"&&kf(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Pf.hasOwnProperty(o)?l!=null&&o==="onScroll"&&et("scroll",t):l!=null&&j1(t,o,l,a))}switch(n){case"input":Fd(t),fP(t,r,!1);break;case"textarea":Fd(t),dP(t);break;case"option":r.value!=null&&t.setAttribute("value",""+aa(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?xl(t,!!r.multiple,o,!1):r.defaultValue!=null&&xl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ym)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ln(e),null;case 6:if(t&&e.stateNode!=null)XM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(oe(166));if(n=Xa(Vf.current),Xa(hi.current),Xd(e)){if(r=e.stateNode,n=e.memoizedProps,r[oi]=e,(o=r.nodeValue!==n)&&(t=tr,t!==null))switch(t.tag){case 3:Kd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Kd(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[oi]=e,e.stateNode=r}return ln(e),null;case 13:if(it(ft),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ot&&Jn!==null&&e.mode&1&&!(e.flags&128))dM(),zl(),e.flags|=98560,o=!1;else if(o=Xd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(oe(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(oe(317));o[oi]=e}else zl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ln(e),o=!1}else $r!==null&&(Xw($r),$r=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ft.current&1?Vt===0&&(Vt=3):gE())),e.updateQueue!==null&&(e.flags|=4),ln(e),null);case 4:return ql(),Uw(t,e),t===null&&Mf(e.stateNode.containerInfo),ln(e),null;case 10:return Z1(e.type._context),ln(e),null;case 17:return Vn(e.type)&&vm(),ln(e),null;case 19:if(it(ft),o=e.memoizedState,o===null)return ln(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)_c(o,!1);else{if(Vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Tm(t),a!==null){for(e.flags|=128,_c(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Je(ft,ft.current&1|2),e.child}t=t.sibling}o.tail!==null&&Et()>Gl&&(e.flags|=128,r=!0,_c(o,!1),e.lanes=4194304)}else{if(!r)if(t=Tm(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_c(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!ot)return ln(e),null}else 2*Et()-o.renderingStartTime>Gl&&n!==1073741824&&(e.flags|=128,r=!0,_c(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Et(),e.sibling=null,n=ft.current,Je(ft,r?n&1|2:n&1),e):(ln(e),null);case 22:case 23:return mE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gn&1073741824&&(ln(e),e.subtreeFlags&6&&(e.flags|=8192)):ln(e),null;case 24:return null;case 25:return null}throw Error(oe(156,e.tag))}function KU(t,e){switch(X1(e),e.tag){case 1:return Vn(e.type)&&vm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ql(),it(Ln),it(yn),iE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rE(e),null;case 13:if(it(ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(oe(340));zl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return it(ft),null;case 4:return ql(),null;case 10:return Z1(e.type._context),null;case 22:case 23:return mE(),null;case 24:return null;default:return null}}var Jd=!1,hn=!1,XU=typeof WeakSet=="function"?WeakSet:Set,he=null;function hl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){bt(t,e,r)}else n.current=null}function Bw(t,e,n){try{n()}catch(r){bt(t,e,r)}}var nk=!1;function YU(t,e){if(Tw=pm,t=eM(),G1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Aw={focusedElem:t,selectionRange:n},pm=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,b=m.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:Rr(e.type,y),b);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(A){bt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return m=nk,nk=!1,m}function lf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Bw(e,n,o)}i=i.next}while(i!==r)}}function Uy(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function zw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function YM(t){var e=t.alternate;e!==null&&(t.alternate=null,YM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[oi],delete e[Df],delete e[Iw],delete e[NU],delete e[RU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function QM(t){return t.tag===5||t.tag===3||t.tag===4}function rk(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||QM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ww(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ym));else if(r!==4&&(t=t.child,t!==null))for(Ww(t,e,n),t=t.sibling;t!==null;)Ww(t,e,n),t=t.sibling}function qw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(qw(t,e,n),t=t.sibling;t!==null;)qw(t,e,n),t=t.sibling}var Jt=null,jr=!1;function Eo(t,e,n){for(n=n.child;n!==null;)JM(t,e,n),n=n.sibling}function JM(t,e,n){if(fi&&typeof fi.onCommitFiberUnmount=="function")try{fi.onCommitFiberUnmount(Ry,n)}catch{}switch(n.tag){case 5:hn||hl(n,e);case 6:var r=Jt,i=jr;Jt=null,Eo(t,e,n),Jt=r,jr=i,Jt!==null&&(jr?(t=Jt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Jt.removeChild(n.stateNode));break;case 18:Jt!==null&&(jr?(t=Jt,n=n.stateNode,t.nodeType===8?H0(t.parentNode,n):t.nodeType===1&&H0(t,n),Nf(t)):H0(Jt,n.stateNode));break;case 4:r=Jt,i=jr,Jt=n.stateNode.containerInfo,jr=!0,Eo(t,e,n),Jt=r,jr=i;break;case 0:case 11:case 14:case 15:if(!hn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Bw(n,e,a),i=i.next}while(i!==r)}Eo(t,e,n);break;case 1:if(!hn&&(hl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){bt(n,e,s)}Eo(t,e,n);break;case 21:Eo(t,e,n);break;case 22:n.mode&1?(hn=(r=hn)||n.memoizedState!==null,Eo(t,e,n),hn=r):Eo(t,e,n);break;default:Eo(t,e,n)}}function ik(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new XU),e.forEach(function(r){var i=o8.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Cr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Jt=s.stateNode,jr=!1;break e;case 3:Jt=s.stateNode.containerInfo,jr=!0;break e;case 4:Jt=s.stateNode.containerInfo,jr=!0;break e}s=s.return}if(Jt===null)throw Error(oe(160));JM(o,a,i),Jt=null,jr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){bt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ZM(e,t),e=e.sibling}function ZM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Cr(e,t),ti(t),r&4){try{lf(3,t,t.return),Uy(3,t)}catch(y){bt(t,t.return,y)}try{lf(5,t,t.return)}catch(y){bt(t,t.return,y)}}break;case 1:Cr(e,t),ti(t),r&512&&n!==null&&hl(n,n.return);break;case 5:if(Cr(e,t),ti(t),r&512&&n!==null&&hl(n,n.return),t.flags&32){var i=t.stateNode;try{kf(i,"")}catch(y){bt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&xj(i,o),mw(s,a);var u=mw(s,o);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?Aj(i,f):c==="dangerouslySetInnerHTML"?Sj(i,f):c==="children"?kf(i,f):j1(i,c,f,u)}switch(s){case"input":cw(i,o);break;case"textarea":_j(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?xl(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?xl(i,!!o.multiple,o.defaultValue,!0):xl(i,!!o.multiple,o.multiple?[]:"",!1))}i[Df]=o}catch(y){bt(t,t.return,y)}}break;case 6:if(Cr(e,t),ti(t),r&4){if(t.stateNode===null)throw Error(oe(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){bt(t,t.return,y)}}break;case 3:if(Cr(e,t),ti(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Nf(e.containerInfo)}catch(y){bt(t,t.return,y)}break;case 4:Cr(e,t),ti(t);break;case 13:Cr(e,t),ti(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(dE=Et())),r&4&&ik(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(hn=(u=hn)||c,Cr(e,t),hn=u):Cr(e,t),ti(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(he=t,c=t.child;c!==null;){for(f=he=c;he!==null;){switch(h=he,p=h.child,h.tag){case 0:case 11:case 14:case 15:lf(4,h,h.return);break;case 1:hl(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){bt(r,n,y)}}break;case 5:hl(h,h.return);break;case 22:if(h.memoizedState!==null){ak(f);continue}}p!==null?(p.return=h,he=p):ak(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Tj("display",a))}catch(y){bt(t,t.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){bt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Cr(e,t),ti(t),r&4&&ik(t);break;case 21:break;default:Cr(e,t),ti(t)}}function ti(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(QM(n)){var r=n;break e}n=n.return}throw Error(oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(kf(i,""),r.flags&=-33);var o=rk(t);qw(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=rk(t);Ww(t,s,a);break;default:throw Error(oe(161))}}catch(l){bt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QU(t,e,n){he=t,e$(t)}function e$(t,e,n){for(var r=(t.mode&1)!==0;he!==null;){var i=he,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Jd;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||hn;s=Jd;var u=hn;if(Jd=a,(hn=l)&&!u)for(he=i;he!==null;)a=he,l=a.child,a.tag===22&&a.memoizedState!==null?sk(i):l!==null?(l.return=a,he=l):sk(i);for(;o!==null;)he=o,e$(o),o=o.sibling;he=i,Jd=s,hn=u}ok(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,he=o):ok(t)}}function ok(t){for(;he!==null;){var e=he;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hn||Uy(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!hn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Rr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&zP(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}zP(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Nf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}hn||e.flags&512&&zw(e)}catch(h){bt(e,e.return,h)}}if(e===t){he=null;break}if(n=e.sibling,n!==null){n.return=e.return,he=n;break}he=e.return}}function ak(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var n=e.sibling;if(n!==null){n.return=e.return,he=n;break}he=e.return}}function sk(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Uy(4,e)}catch(l){bt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){bt(e,i,l)}}var o=e.return;try{zw(e)}catch(l){bt(e,o,l)}break;case 5:var a=e.return;try{zw(e)}catch(l){bt(e,a,l)}}}catch(l){bt(e,e.return,l)}if(e===t){he=null;break}var s=e.sibling;if(s!==null){s.return=e.return,he=s;break}he=e.return}}var JU=Math.ceil,km=fo.ReactCurrentDispatcher,fE=fo.ReactCurrentOwner,br=fo.ReactCurrentBatchConfig,Ve=0,Kt=null,It=null,rn=0,Gn=0,dl=ga(0),Vt=0,zf=null,ds=0,By=0,hE=0,uf=null,Rn=null,dE=0,Gl=1/0,Ri=null,Im=!1,Hw=null,Xo=null,Zd=!1,Vo=null,Om=0,cf=0,Gw=null,Bp=-1,zp=0;function Tn(){return Ve&6?Et():Bp!==-1?Bp:Bp=Et()}function Yo(t){return t.mode&1?Ve&2&&rn!==0?rn&-rn:MU.transition!==null?(zp===0&&(zp=Lj()),zp):(t=ze,t!==0||(t=window.event,t=t===void 0?16:qj(t.type)),t):1}function qr(t,e,n,r){if(50<cf)throw cf=0,Gw=null,Error(oe(185));Yh(t,n,r),(!(Ve&2)||t!==Kt)&&(t===Kt&&(!(Ve&2)&&(By|=n),Vt===4&&No(t,rn)),Fn(t,r),n===1&&Ve===0&&!(e.mode&1)&&(Gl=Et()+500,Ly&&ya()))}function Fn(t,e){var n=t.callbackNode;M9(t,e);var r=dm(t,t===Kt?rn:0);if(r===0)n!==null&&gP(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&gP(n),e===1)t.tag===0?jU(lk.bind(null,t)):cM(lk.bind(null,t)),OU(function(){!(Ve&6)&&ya()}),n=null;else{switch(Vj(r)){case 1:n=V1;break;case 4:n=$j;break;case 16:n=hm;break;case 536870912:n=Dj;break;default:n=hm}n=l$(n,t$.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function t$(t,e){if(Bp=-1,zp=0,Ve&6)throw Error(oe(327));var n=t.callbackNode;if(Al()&&t.callbackNode!==n)return null;var r=dm(t,t===Kt?rn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Cm(t,r);else{e=r;var i=Ve;Ve|=2;var o=r$();(Kt!==t||rn!==e)&&(Ri=null,Gl=Et()+500,rs(t,e));do try{t8();break}catch(s){n$(t,s)}while(!0);J1(),km.current=o,Ve=i,It!==null?e=0:(Kt=null,rn=0,e=Vt)}if(e!==0){if(e===2&&(i=ww(t),i!==0&&(r=i,e=Kw(t,i))),e===1)throw n=zf,rs(t,0),No(t,r),Fn(t,Et()),n;if(e===6)No(t,r);else{if(i=t.current.alternate,!(r&30)&&!ZU(i)&&(e=Cm(t,r),e===2&&(o=ww(t),o!==0&&(r=o,e=Kw(t,o))),e===1))throw n=zf,rs(t,0),No(t,r),Fn(t,Et()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(oe(345));case 2:Fa(t,Rn,Ri);break;case 3:if(No(t,r),(r&130023424)===r&&(e=dE+500-Et(),10<e)){if(dm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Tn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=kw(Fa.bind(null,t,Rn,Ri),e);break}Fa(t,Rn,Ri);break;case 4:if(No(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Wr(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=Et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*JU(r/1960))-r,10<r){t.timeoutHandle=kw(Fa.bind(null,t,Rn,Ri),r);break}Fa(t,Rn,Ri);break;case 5:Fa(t,Rn,Ri);break;default:throw Error(oe(329))}}}return Fn(t,Et()),t.callbackNode===n?t$.bind(null,t):null}function Kw(t,e){var n=uf;return t.current.memoizedState.isDehydrated&&(rs(t,e).flags|=256),t=Cm(t,e),t!==2&&(e=Rn,Rn=n,e!==null&&Xw(e)),t}function Xw(t){Rn===null?Rn=t:Rn.push.apply(Rn,t)}function ZU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Kr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function No(t,e){for(e&=~hE,e&=~By,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Wr(e),r=1<<n;t[n]=-1,e&=~r}}function lk(t){if(Ve&6)throw Error(oe(327));Al();var e=dm(t,0);if(!(e&1))return Fn(t,Et()),null;var n=Cm(t,e);if(t.tag!==0&&n===2){var r=ww(t);r!==0&&(e=r,n=Kw(t,r))}if(n===1)throw n=zf,rs(t,0),No(t,e),Fn(t,Et()),n;if(n===6)throw Error(oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fa(t,Rn,Ri),Fn(t,Et()),null}function pE(t,e){var n=Ve;Ve|=1;try{return t(e)}finally{Ve=n,Ve===0&&(Gl=Et()+500,Ly&&ya())}}function ps(t){Vo!==null&&Vo.tag===0&&!(Ve&6)&&Al();var e=Ve;Ve|=1;var n=br.transition,r=ze;try{if(br.transition=null,ze=1,t)return t()}finally{ze=r,br.transition=n,Ve=e,!(Ve&6)&&ya()}}function mE(){Gn=dl.current,it(dl)}function rs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,IU(n)),It!==null)for(n=It.return;n!==null;){var r=n;switch(X1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vm();break;case 3:ql(),it(Ln),it(yn),iE();break;case 5:rE(r);break;case 4:ql();break;case 13:it(ft);break;case 19:it(ft);break;case 10:Z1(r.type._context);break;case 22:case 23:mE()}n=n.return}if(Kt=t,It=t=Qo(t.current,null),rn=Gn=e,Vt=0,zf=null,hE=By=ds=0,Rn=uf=null,Ka!==null){for(e=0;e<Ka.length;e++)if(n=Ka[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Ka=null}return t}function n$(t,e){do{var n=It;try{if(J1(),Vp.current=Pm,Am){for(var r=pt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Am=!1}if(hs=0,Gt=Lt=pt=null,sf=!1,Ff=0,fE.current=null,n===null||n.return===null){Vt=1,zf=e,It=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=rn,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=XP(a);if(p!==null){p.flags&=-257,YP(p,a,s,o,e),p.mode&1&&KP(o,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){KP(o,u,e),gE();break e}l=Error(oe(426))}}else if(ot&&s.mode&1){var b=XP(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),YP(b,a,s,o,e),Y1(Hl(l,s));break e}}o=l=Hl(l,s),Vt!==4&&(Vt=2),uf===null?uf=[o]:uf.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=VM(o,l,e);BP(o,v);break e;case 1:s=l;var w=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Xo===null||!Xo.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var A=FM(o,s,e);BP(o,A);break e}}o=o.return}while(o!==null)}o$(n)}catch(_){e=_,It===n&&n!==null&&(It=n=n.return);continue}break}while(!0)}function r$(){var t=km.current;return km.current=Pm,t===null?Pm:t}function gE(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Kt===null||!(ds&268435455)&&!(By&268435455)||No(Kt,rn)}function Cm(t,e){var n=Ve;Ve|=2;var r=r$();(Kt!==t||rn!==e)&&(Ri=null,rs(t,e));do try{e8();break}catch(i){n$(t,i)}while(!0);if(J1(),Ve=n,km.current=r,It!==null)throw Error(oe(261));return Kt=null,rn=0,Vt}function e8(){for(;It!==null;)i$(It)}function t8(){for(;It!==null&&!A9();)i$(It)}function i$(t){var e=s$(t.alternate,t,Gn);t.memoizedProps=t.pendingProps,e===null?o$(t):It=e,fE.current=null}function o$(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=KU(n,e),n!==null){n.flags&=32767,It=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Vt=6,It=null;return}}else if(n=GU(n,e,Gn),n!==null){It=n;return}if(e=e.sibling,e!==null){It=e;return}It=e=t}while(e!==null);Vt===0&&(Vt=5)}function Fa(t,e,n){var r=ze,i=br.transition;try{br.transition=null,ze=1,n8(t,e,n,r)}finally{br.transition=i,ze=r}return null}function n8(t,e,n,r){do Al();while(Vo!==null);if(Ve&6)throw Error(oe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(oe(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if($9(t,o),t===Kt&&(It=Kt=null,rn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zd||(Zd=!0,l$(hm,function(){return Al(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=br.transition,br.transition=null;var a=ze;ze=1;var s=Ve;Ve|=4,fE.current=null,YU(t,n),ZM(n,t),_U(Aw),pm=!!Tw,Aw=Tw=null,t.current=n,QU(n),P9(),Ve=s,ze=a,br.transition=o}else t.current=n;if(Zd&&(Zd=!1,Vo=t,Om=i),o=t.pendingLanes,o===0&&(Xo=null),O9(n.stateNode),Fn(t,Et()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Im)throw Im=!1,t=Hw,Hw=null,t;return Om&1&&t.tag!==0&&Al(),o=t.pendingLanes,o&1?t===Gw?cf++:(cf=0,Gw=t):cf=0,ya(),null}function Al(){if(Vo!==null){var t=Vj(Om),e=br.transition,n=ze;try{if(br.transition=null,ze=16>t?16:t,Vo===null)var r=!1;else{if(t=Vo,Vo=null,Om=0,Ve&6)throw Error(oe(331));var i=Ve;for(Ve|=4,he=t.current;he!==null;){var o=he,a=o.child;if(he.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(he=u;he!==null;){var c=he;switch(c.tag){case 0:case 11:case 15:lf(8,c,o)}var f=c.child;if(f!==null)f.return=c,he=f;else for(;he!==null;){c=he;var h=c.sibling,p=c.return;if(YM(c),c===u){he=null;break}if(h!==null){h.return=p,he=h;break}he=p}}}var m=o.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}he=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,he=a;else e:for(;he!==null;){if(o=he,o.flags&2048)switch(o.tag){case 0:case 11:case 15:lf(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,he=v;break e}he=o.return}}var w=t.current;for(he=w;he!==null;){a=he;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,he=x;else e:for(a=w;he!==null;){if(s=he,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Uy(9,s)}}catch(_){bt(s,s.return,_)}if(s===a){he=null;break e}var A=s.sibling;if(A!==null){A.return=s.return,he=A;break e}he=s.return}}if(Ve=i,ya(),fi&&typeof fi.onPostCommitFiberRoot=="function")try{fi.onPostCommitFiberRoot(Ry,t)}catch{}r=!0}return r}finally{ze=n,br.transition=e}}return!1}function uk(t,e,n){e=Hl(n,e),e=VM(t,e,1),t=Ko(t,e,1),e=Tn(),t!==null&&(Yh(t,1,e),Fn(t,e))}function bt(t,e,n){if(t.tag===3)uk(t,t,n);else for(;e!==null;){if(e.tag===3){uk(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xo===null||!Xo.has(r))){t=Hl(n,t),t=FM(e,t,1),e=Ko(e,t,1),t=Tn(),e!==null&&(Yh(e,1,t),Fn(e,t));break}}e=e.return}}function r8(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Tn(),t.pingedLanes|=t.suspendedLanes&n,Kt===t&&(rn&n)===n&&(Vt===4||Vt===3&&(rn&130023424)===rn&&500>Et()-dE?rs(t,0):hE|=n),Fn(t,e)}function a$(t,e){e===0&&(t.mode&1?(e=zd,zd<<=1,!(zd&130023424)&&(zd=4194304)):e=1);var n=Tn();t=Ji(t,e),t!==null&&(Yh(t,e,n),Fn(t,n))}function i8(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),a$(t,n)}function o8(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(oe(314))}r!==null&&r.delete(e),a$(t,n)}var s$;s$=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ln.current)$n=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $n=!1,HU(t,e,n);$n=!!(t.flags&131072)}else $n=!1,ot&&e.flags&1048576&&fM(e,xm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Up(t,e),t=e.pendingProps;var i=Bl(e,yn.current);Tl(e,n),i=aE(null,e,r,t,i,n);var o=sE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vn(r)?(o=!0,bm(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tE(e),i.updater=Fy,e.stateNode=i,i._reactInternals=e,Mw(e,r,t,n),e=Lw(null,e,r,!0,o,n)):(e.tag=0,ot&&o&&K1(e),wn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Up(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=s8(r),t=Rr(r,t),i){case 0:e=Dw(null,e,r,t,n);break e;case 1:e=ZP(null,e,r,t,n);break e;case 11:e=QP(null,e,r,t,n);break e;case 14:e=JP(null,e,r,Rr(r.type,t),n);break e}throw Error(oe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rr(r,i),Dw(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rr(r,i),ZP(t,e,r,i,n);case 3:e:{if(WM(e),t===null)throw Error(oe(387));r=e.pendingProps,o=e.memoizedState,i=o.element,yM(t,e),Sm(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Hl(Error(oe(423)),e),e=ek(t,e,r,n,i);break e}else if(r!==i){i=Hl(Error(oe(424)),e),e=ek(t,e,r,n,i);break e}else for(Jn=Go(e.stateNode.containerInfo.firstChild),tr=e,ot=!0,$r=null,n=mM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zl(),r===i){e=Zi(t,e,n);break e}wn(t,e,r,n)}e=e.child}return e;case 5:return vM(e),t===null&&Nw(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,Pw(r,i)?a=null:o!==null&&Pw(r,o)&&(e.flags|=32),zM(t,e),wn(t,e,a,n),e.child;case 6:return t===null&&Nw(e),null;case 13:return qM(t,e,n);case 4:return nE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Wl(e,null,r,n):wn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rr(r,i),QP(t,e,r,i,n);case 7:return wn(t,e,e.pendingProps,n),e.child;case 8:return wn(t,e,e.pendingProps.children,n),e.child;case 12:return wn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Je(_m,r._currentValue),r._currentValue=a,o!==null)if(Kr(o.value,a)){if(o.children===i.children&&!Ln.current){e=Zi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Hi(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Rw(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(oe(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Rw(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}wn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Tl(e,n),i=_r(i),r=r(i),e.flags|=1,wn(t,e,r,n),e.child;case 14:return r=e.type,i=Rr(r,e.pendingProps),i=Rr(r.type,i),JP(t,e,r,i,n);case 15:return UM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rr(r,i),Up(t,e),e.tag=1,Vn(r)?(t=!0,bm(e)):t=!1,Tl(e,n),LM(e,r,i),Mw(e,r,i,n),Lw(null,e,r,!0,t,n);case 19:return HM(t,e,n);case 22:return BM(t,e,n)}throw Error(oe(156,e.tag))};function l$(t,e){return Mj(t,e)}function a8(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(t,e,n,r){return new a8(t,e,n,r)}function yE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function s8(t){if(typeof t=="function")return yE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$1)return 11;if(t===D1)return 14}return 2}function Qo(t,e){var n=t.alternate;return n===null?(n=gr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wp(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")yE(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case rl:return is(n.children,i,o,e);case M1:a=8,i|=8;break;case ow:return t=gr(12,n,e,i|2),t.elementType=ow,t.lanes=o,t;case aw:return t=gr(13,n,e,i),t.elementType=aw,t.lanes=o,t;case sw:return t=gr(19,n,e,i),t.elementType=sw,t.lanes=o,t;case vj:return zy(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gj:a=10;break e;case yj:a=9;break e;case $1:a=11;break e;case D1:a=14;break e;case Ao:a=16,r=null;break e}throw Error(oe(130,t==null?t:typeof t,""))}return e=gr(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function is(t,e,n,r){return t=gr(7,t,r,e),t.lanes=n,t}function zy(t,e,n,r){return t=gr(22,t,r,e),t.elementType=vj,t.lanes=n,t.stateNode={isHidden:!1},t}function eb(t,e,n){return t=gr(6,t,null,e),t.lanes=n,t}function tb(t,e,n){return e=gr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function l8(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=M0(0),this.expirationTimes=M0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=M0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vE(t,e,n,r,i,o,a,s,l){return t=new l8(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=gr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tE(o),t}function u8(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function u$(t){if(!t)return sa;t=t._reactInternals;e:{if(Ns(t)!==t||t.tag!==1)throw Error(oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(oe(171))}if(t.tag===1){var n=t.type;if(Vn(n))return uM(t,n,e)}return e}function c$(t,e,n,r,i,o,a,s,l){return t=vE(n,r,!0,t,i,o,a,s,l),t.context=u$(null),n=t.current,r=Tn(),i=Yo(n),o=Hi(r,i),o.callback=e??null,Ko(n,o,i),t.current.lanes=i,Yh(t,i,r),Fn(t,r),t}function Wy(t,e,n,r){var i=e.current,o=Tn(),a=Yo(i);return n=u$(n),e.context===null?e.context=n:e.pendingContext=n,e=Hi(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ko(i,e,a),t!==null&&(qr(t,i,a,o),Lp(t,i,a)),a}function Nm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ck(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function bE(t,e){ck(t,e),(t=t.alternate)&&ck(t,e)}function c8(){return null}var f$=typeof reportError=="function"?reportError:function(t){console.error(t)};function wE(t){this._internalRoot=t}qy.prototype.render=wE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(oe(409));Wy(t,e,null,null)};qy.prototype.unmount=wE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ps(function(){Wy(null,t,null,null)}),e[Qi]=null}};function qy(t){this._internalRoot=t}qy.prototype.unstable_scheduleHydration=function(t){if(t){var e=Bj();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Co.length&&e!==0&&e<Co[n].priority;n++);Co.splice(n,0,t),n===0&&Wj(t)}};function xE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fk(){}function f8(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Nm(a);o.call(u)}}var a=c$(e,r,t,0,null,!1,!1,"",fk);return t._reactRootContainer=a,t[Qi]=a.current,Mf(t.nodeType===8?t.parentNode:t),ps(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Nm(l);s.call(u)}}var l=vE(t,0,!1,null,null,!1,!1,"",fk);return t._reactRootContainer=l,t[Qi]=l.current,Mf(t.nodeType===8?t.parentNode:t),ps(function(){Wy(e,l,n,r)}),l}function Gy(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Nm(a);s.call(l)}}Wy(e,a,t,i)}else a=f8(n,e,t,i,r);return Nm(a)}Fj=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Vc(e.pendingLanes);n!==0&&(F1(e,n|1),Fn(e,Et()),!(Ve&6)&&(Gl=Et()+500,ya()))}break;case 13:ps(function(){var r=Ji(t,1);if(r!==null){var i=Tn();qr(r,t,1,i)}}),bE(t,1)}};U1=function(t){if(t.tag===13){var e=Ji(t,134217728);if(e!==null){var n=Tn();qr(e,t,134217728,n)}bE(t,134217728)}};Uj=function(t){if(t.tag===13){var e=Yo(t),n=Ji(t,e);if(n!==null){var r=Tn();qr(n,t,e,r)}bE(t,e)}};Bj=function(){return ze};zj=function(t,e){var n=ze;try{return ze=t,e()}finally{ze=n}};yw=function(t,e,n){switch(e){case"input":if(cw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Dy(r);if(!i)throw Error(oe(90));wj(r),cw(r,i)}}}break;case"textarea":_j(t,n);break;case"select":e=n.value,e!=null&&xl(t,!!n.multiple,e,!1)}};Ij=pE;Oj=ps;var h8={usingClientEntryPoint:!1,Events:[Jh,sl,Dy,Pj,kj,pE]},Ec={findFiberByHostInstance:Ga,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},d8={bundleType:Ec.bundleType,version:Ec.version,rendererPackageName:Ec.rendererPackageName,rendererConfig:Ec.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Rj(t),t===null?null:t.stateNode},findFiberByHostInstance:Ec.findFiberByHostInstance||c8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ep=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ep.isDisabled&&ep.supportsFiber)try{Ry=ep.inject(d8),fi=ep}catch{}}or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h8;or.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xE(e))throw Error(oe(200));return u8(t,e,null,n)};or.createRoot=function(t,e){if(!xE(t))throw Error(oe(299));var n=!1,r="",i=f$;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=vE(t,1,!1,null,null,n,!1,r,i),t[Qi]=e.current,Mf(t.nodeType===8?t.parentNode:t),new wE(e)};or.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(oe(188)):(t=Object.keys(t).join(","),Error(oe(268,t)));return t=Rj(e),t=t===null?null:t.stateNode,t};or.flushSync=function(t){return ps(t)};or.hydrate=function(t,e,n){if(!Hy(e))throw Error(oe(200));return Gy(null,t,e,!0,n)};or.hydrateRoot=function(t,e,n){if(!xE(t))throw Error(oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=f$;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=c$(e,null,t,1,n??null,i,!1,o,a),t[Qi]=e.current,Mf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new qy(e)};or.render=function(t,e,n){if(!Hy(e))throw Error(oe(200));return Gy(null,t,e,!1,n)};or.unmountComponentAtNode=function(t){if(!Hy(t))throw Error(oe(40));return t._reactRootContainer?(ps(function(){Gy(null,null,t,!1,function(){t._reactRootContainer=null,t[Qi]=null})}),!0):!1};or.unstable_batchedUpdates=pE;or.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hy(n))throw Error(oe(200));if(t==null||t._reactInternals===void 0)throw Error(oe(38));return Gy(t,e,n,!1,r)};or.version="18.3.1-next-f1338f8080-20240426";function h$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h$)}catch(t){console.error(t)}}h$(),hj.exports=or;var p8=hj.exports,hk=p8;rw.createRoot=hk.createRoot,rw.hydrateRoot=hk.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wf(){return Wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wf.apply(this,arguments)}var Fo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fo||(Fo={}));const dk="popstate";function m8(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:s}=r.location;return Yw("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Rm(i)}return y8(e,n,null,t)}function Tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _E(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function g8(){return Math.random().toString(36).substr(2,8)}function pk(t,e){return{usr:t.state,key:t.key,idx:e}}function Yw(t,e,n,r){return n===void 0&&(n=null),Wf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Cu(e):e,{state:n,key:e&&e.key||r||g8()})}function Rm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Cu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function y8(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=Fo.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(Wf({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function f(){s=Fo.Pop;let b=c(),v=b==null?null:b-u;u=b,l&&l({action:s,location:y.location,delta:v})}function h(b,v){s=Fo.Push;let w=Yw(y.location,b,v);u=c()+1;let x=pk(w,u),A=y.createHref(w);try{a.pushState(x,"",A)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(A)}o&&l&&l({action:s,location:y.location,delta:1})}function p(b,v){s=Fo.Replace;let w=Yw(y.location,b,v);u=c();let x=pk(w,u),A=y.createHref(w);a.replaceState(x,"",A),o&&l&&l({action:s,location:y.location,delta:0})}function m(b){let v=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof b=="string"?b:Rm(b);return w=w.replace(/ $/,"%20"),Tt(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let y={get action(){return s},get location(){return t(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(dk,f),l=b,()=>{i.removeEventListener(dk,f),l=null}},createHref(b){return e(i,b)},createURL:m,encodeLocation(b){let v=m(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(b){return a.go(b)}};return y}var mk;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(mk||(mk={}));function v8(t,e,n){return n===void 0&&(n="/"),b8(t,e,n)}function b8(t,e,n,r){let i=typeof e=="string"?Cu(e):e,o=EE(i.pathname||"/",n);if(o==null)return null;let a=d$(t);w8(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=N8(o);s=I8(a[l],u)}return s}function d$(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(Tt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Jo([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Tt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),d$(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:P8(u,o.index),routesMeta:c})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of p$(o.path))i(o,a,l)}),e}function p$(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=p$(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function w8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:k8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const x8=/^:[\w-]+$/,_8=3,E8=2,S8=1,T8=10,A8=-2,gk=t=>t==="*";function P8(t,e){let n=t.split("/"),r=n.length;return n.some(gk)&&(r+=A8),e&&(r+=E8),n.filter(i=>!gk(i)).reduce((i,o)=>i+(x8.test(o)?_8:o===""?S8:T8),r)}function k8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function I8(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",f=O8({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Jo([o,f.pathname]),pathnameBase:D8(Jo([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Jo([o,f.pathnameBase]))}return a}function O8(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=C8(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:h,isOptional:p}=c;if(h==="*"){let y=s[f]||"";a=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const m=s[f];return p&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function C8(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),_E(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function N8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _E(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function EE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const R8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,j8=t=>R8.test(t);function M8(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Cu(t):t,o;if(n)if(j8(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),_E(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?o=yk(n.substring(1),"/"):o=yk(n,e)}else o=e;return{pathname:o,search:L8(r),hash:V8(i)}}function yk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function nb(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $8(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function SE(t,e){let n=$8(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function TE(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Cu(t):(i=Wf({},t),Tt(!i.pathname||!i.pathname.includes("?"),nb("?","pathname","search",i)),Tt(!i.pathname||!i.pathname.includes("#"),nb("#","pathname","hash",i)),Tt(!i.search||!i.search.includes("#"),nb("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=M8(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Jo=t=>t.join("/").replace(/\/\/+/g,"/"),D8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),L8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,V8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function F8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const m$=["post","put","patch","delete"];new Set(m$);const U8=["get",...m$];new Set(U8);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qf(){return qf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qf.apply(this,arguments)}const AE=D.createContext(null),B8=D.createContext(null),va=D.createContext(null),Ky=D.createContext(null),ba=D.createContext({outlet:null,matches:[],isDataRoute:!1}),g$=D.createContext(null);function z8(t,e){let{relative:n}=e===void 0?{}:e;Nu()||Tt(!1);let{basename:r,navigator:i}=D.useContext(va),{hash:o,pathname:a,search:s}=b$(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:Jo([r,a])),i.createHref({pathname:l,search:s,hash:o})}function Nu(){return D.useContext(Ky)!=null}function Ru(){return Nu()||Tt(!1),D.useContext(Ky).location}function y$(t){D.useContext(va).static||D.useLayoutEffect(t)}function v$(){let{isDataRoute:t}=D.useContext(ba);return t?nB():W8()}function W8(){Nu()||Tt(!1);let t=D.useContext(AE),{basename:e,future:n,navigator:r}=D.useContext(va),{matches:i}=D.useContext(ba),{pathname:o}=Ru(),a=JSON.stringify(SE(i,n.v7_relativeSplatPath)),s=D.useRef(!1);return y$(()=>{s.current=!0}),D.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=TE(u,JSON.parse(a),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Jo([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,a,o,t])}function b$(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=D.useContext(va),{matches:i}=D.useContext(ba),{pathname:o}=Ru(),a=JSON.stringify(SE(i,r.v7_relativeSplatPath));return D.useMemo(()=>TE(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function q8(t,e){return H8(t,e)}function H8(t,e,n,r){Nu()||Tt(!1);let{navigator:i}=D.useContext(va),{matches:o}=D.useContext(ba),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Ru(),c;if(e){var f;let b=typeof e=="string"?Cu(e):e;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||Tt(!1),c=b}else c=u;let h=c.pathname||"/",p=h;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let m=v8(t,{pathname:p}),y=Q8(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},s,b.params),pathname:Jo([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Jo([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r);return e&&y?D.createElement(Ky.Provider,{value:{location:qf({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Fo.Pop}},y):y}function G8(){let t=tB(),e=F8(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:i},n):null,null)}const K8=D.createElement(G8,null);class X8 extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(ba.Provider,{value:this.props.routeContext},D.createElement(g$.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Y8(t){let{routeContext:e,match:n,children:r}=t,i=D.useContext(AE);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(ba.Provider,{value:e},r)}function Q8(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);c>=0||Tt(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:h,errors:p}=n,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,f,h)=>{let p,m=!1,y=null,b=null;n&&(p=s&&f.route.id?s[f.route.id]:void 0,y=f.route.errorElement||K8,l&&(u<0&&h===0?(rB("route-fallback"),m=!0,b=null):u===h&&(m=!0,b=f.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,h+1)),w=()=>{let x;return p?x=y:m?x=b:f.route.Component?x=D.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=c,D.createElement(Y8,{match:f,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?D.createElement(X8,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var w$=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(w$||{}),x$=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(x$||{});function J8(t){let e=D.useContext(AE);return e||Tt(!1),e}function Z8(t){let e=D.useContext(B8);return e||Tt(!1),e}function eB(t){let e=D.useContext(ba);return e||Tt(!1),e}function _$(t){let e=eB(),n=e.matches[e.matches.length-1];return n.route.id||Tt(!1),n.route.id}function tB(){var t;let e=D.useContext(g$),n=Z8(),r=_$();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function nB(){let{router:t}=J8(w$.UseNavigateStable),e=_$(x$.UseNavigateStable),n=D.useRef(!1);return y$(()=>{n.current=!0}),D.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,qf({fromRouteId:e},o)))},[t,e])}const vk={};function rB(t,e,n){vk[t]||(vk[t]=!0)}function iB(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function oB(t){let{to:e,replace:n,state:r,relative:i}=t;Nu()||Tt(!1);let{future:o,static:a}=D.useContext(va),{matches:s}=D.useContext(ba),{pathname:l}=Ru(),u=v$(),c=TE(e,SE(s,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return D.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function Ua(t){Tt(!1)}function aB(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Fo.Pop,navigator:o,static:a=!1,future:s}=t;Nu()&&Tt(!1);let l=e.replace(/^\/*/,"/"),u=D.useMemo(()=>({basename:l,navigator:o,static:a,future:qf({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=Cu(r));let{pathname:c="/",search:f="",hash:h="",state:p=null,key:m="default"}=r,y=D.useMemo(()=>{let b=EE(c,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:m},navigationType:i}},[l,c,f,h,p,m,i]);return y==null?null:D.createElement(va.Provider,{value:u},D.createElement(Ky.Provider,{children:n,value:y}))}function sB(t){let{children:e,location:n}=t;return q8(Qw(e),n)}new Promise(()=>{});function Qw(t,e){e===void 0&&(e=[]);let n=[];return D.Children.forEach(t,(r,i)=>{if(!D.isValidElement(r))return;let o=[...e,i];if(r.type===D.Fragment){n.push.apply(n,Qw(r.props.children,o));return}r.type!==Ua&&Tt(!1),!r.props.index||!r.props.children||Tt(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Qw(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jw(){return Jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jw.apply(this,arguments)}function lB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function uB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function cB(t,e){return t.button===0&&(!e||e==="_self")&&!uB(t)}const fB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hB="6";try{window.__reactRouterVersion=hB}catch{}const dB="startTransition",bk=r9[dB];function pB(t){let{basename:e,children:n,future:r,window:i}=t,o=D.useRef();o.current==null&&(o.current=m8({window:i,v5Compat:!0}));let a=o.current,[s,l]=D.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=D.useCallback(f=>{u&&bk?bk(()=>l(f)):l(f)},[l,u]);return D.useLayoutEffect(()=>a.listen(c),[a,c]),D.useEffect(()=>iB(r),[r]),D.createElement(aB,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const mB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yB=D.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,h=lB(e,fB),{basename:p}=D.useContext(va),m,y=!1;if(typeof u=="string"&&gB.test(u)&&(m=u,mB))try{let x=new URL(window.location.href),A=u.startsWith("//")?new URL(x.protocol+u):new URL(u),_=EE(A.pathname,p);A.origin===x.origin&&_!=null?u=_+A.search+A.hash:y=!0}catch{}let b=z8(u,{relative:i}),v=vB(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:f});function w(x){r&&r(x),x.defaultPrevented||v(x)}return D.createElement("a",Jw({},h,{href:m||b,onClick:y||o?r:w,ref:n,target:l}))});var wk;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(wk||(wk={}));var xk;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(xk||(xk={}));function vB(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=e===void 0?{}:e,l=v$(),u=Ru(),c=b$(t,{relative:a});return D.useCallback(f=>{if(cB(f,n)){f.preventDefault();let h=r!==void 0?r:Rm(u)===Rm(c);l(t,{replace:h,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[u,l,c,r,i,n,t,o,a,s])}/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),E$=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>D.createElement("svg",{ref:l,...wB,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:E$("lucide",i),...s},[...a.map(([u,c])=>D.createElement(u,c)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(t,e)=>{const n=D.forwardRef(({className:r,...i},o)=>D.createElement(xB,{ref:o,iconNode:e,className:E$(`lucide-${bB(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=Oe("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=Oe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=Oe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=Oe("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=Oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=Oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=Oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=Oe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=Oe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=Oe("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=Oe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=Oe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=Oe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=Oe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=Oe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=Oe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=Oe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=Oe("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=Oe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=Oe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=Oe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=Oe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=Oe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=Oe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=Oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=Oe("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=Oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=Oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=Oe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=Oe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=Oe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=Oe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=Oe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=Oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=Oe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=Oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=Oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=Oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=Oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qB=()=>{};var Pk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},HB=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},k$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|s>>4;let h=(s&15)<<2|u>>6,p=u&63;l||(p=64,a||(h=64)),r.push(n[c],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(P$(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):HB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||f==null)throw new GB;const h=o<<2|s>>4;if(r.push(h),u!==64){const p=s<<4&240|u>>2;if(r.push(p),f!==64){const m=u<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KB=function(t){const e=P$(t);return k$.encodeByteArray(e,!0)},Mm=function(t){return KB(t).replace(/\./g,"")},I$=function(t){try{return k$.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB=()=>XB().__FIREBASE_DEFAULTS__,QB=()=>{if(typeof process>"u"||typeof Pk>"u")return;const t=Pk.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&I$(t[1]);return e&&JSON.parse(e)},Yy=()=>{try{return qB()||YB()||QB()||JB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},O$=t=>{var e,n;return(n=(e=Yy())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},C$=t=>{const e=O$(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},N$=()=>{var t;return(t=Yy())==null?void 0:t.config},R$=t=>{var e;return(e=Yy())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Mm(JSON.stringify(n)),Mm(JSON.stringify(a)),""].join(".")}const ff={};function ez(){const t={prod:[],emulator:[]};for(const e of Object.keys(ff))ff[e]?t.emulator.push(e):t.prod.push(e);return t}function tz(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let kk=!1;function IE(t,e){if(typeof window>"u"||typeof document>"u"||!Rs(window.location.host)||ff[t]===e||ff[t]||kk)return;ff[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",o=ez().prod.length>0;function a(){const h=document.getElementById(r);h&&h.remove()}function s(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{kk=!0,a()},h}function c(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=tz(r),p=n("text"),m=document.getElementById(p)||document.createElement("span"),y=n("learnmore"),b=document.getElementById(y)||document.createElement("a"),v=n("preprendIcon"),w=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const x=h.element;s(x),c(b,y);const A=u();l(w,v),x.append(w,m,b,A),document.body.appendChild(x)}o?(m.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nz(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function rz(){var e;const t=(e=Yy())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iz(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function M$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oz(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function az(){const t=vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sz(){return!rz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $$(){try{return typeof indexedDB=="object"}catch{return!1}}function D$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}function lz(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz="FirebaseError";class Ar extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uz,Object.setPrototypeOf(this,Ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,js.prototype.create)}}class js{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?cz(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new Ar(i,s,r)}}function cz(t,e){return t.replace(fz,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const fz=/\{\$([^}]+)}/g;function hz(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function la(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(Ik(o)&&Ik(a)){if(!la(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ik(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function dz(t,e){const n=new pz(t,e);return n.subscribe.bind(n)}class pz{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mz(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=rb),i.error===void 0&&(i.error=rb),i.complete===void 0&&(i.complete=rb);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mz(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rb(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gz=1e3,yz=2,vz=4*60*60*1e3,bz=.5;function Ok(t,e=gz,n=yz){const r=e*Math.pow(n,t),i=Math.round(bz*r*(Math.random()-.5)*2);return Math.min(vz,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t){return t&&t._delegate?t._delegate:t}class Sr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ZB;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_z(e))try{this.getOrInitializeService({instanceIdentifier:Ba})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ba){return this.instances.has(e)}getOptions(e=Ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xz(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ba){return this.component?this.component.multipleInstances?e:Ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xz(t){return t===Ba?void 0:t}function _z(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wz(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const Sz={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},Tz=Re.INFO,Az={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},Pz=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Az[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qy{constructor(e){this.name=e,this._logLevel=Tz,this._logHandler=Pz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Sz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const kz=(t,e)=>e.some(n=>t instanceof n);let Ck,Nk;function Iz(){return Ck||(Ck=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Oz(){return Nk||(Nk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L$=new WeakMap,ex=new WeakMap,V$=new WeakMap,ib=new WeakMap,OE=new WeakMap;function Cz(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Zo(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&L$.set(n,t)}).catch(()=>{}),OE.set(e,t),e}function Nz(t){if(ex.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});ex.set(t,e)}let tx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ex.get(t);if(e==="objectStoreNames")return t.objectStoreNames||V$.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Rz(t){tx=t(tx)}function jz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ob(this),e,...n);return V$.set(r,e.sort?e.sort():[e]),Zo(r)}:Oz().includes(t)?function(...e){return t.apply(ob(this),e),Zo(L$.get(this))}:function(...e){return Zo(t.apply(ob(this),e))}}function Mz(t){return typeof t=="function"?jz(t):(t instanceof IDBTransaction&&Nz(t),kz(t,Iz())?new Proxy(t,tx):t)}function Zo(t){if(t instanceof IDBRequest)return Cz(t);if(ib.has(t))return ib.get(t);const e=Mz(t);return e!==t&&(ib.set(t,e),OE.set(e,t)),e}const ob=t=>OE.get(t);function F$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=Zo(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Zo(a.result),l.oldVersion,l.newVersion,Zo(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const $z=["get","getKey","getAll","getAllKeys","count"],Dz=["put","add","delete","clear"],ab=new Map;function Rk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ab.get(e))return ab.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Dz.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$z.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return ab.set(e,o),o}Rz(t=>({...t,get:(e,n,r)=>Rk(e,n)||t.get(e,n,r),has:(e,n)=>!!Rk(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Vz(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Vz(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nx="@firebase/app",jk="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=new Qy("@firebase/app"),Fz="@firebase/app-compat",Uz="@firebase/analytics-compat",Bz="@firebase/analytics",zz="@firebase/app-check-compat",Wz="@firebase/app-check",qz="@firebase/auth",Hz="@firebase/auth-compat",Gz="@firebase/database",Kz="@firebase/data-connect",Xz="@firebase/database-compat",Yz="@firebase/functions",Qz="@firebase/functions-compat",Jz="@firebase/installations",Zz="@firebase/installations-compat",e7="@firebase/messaging",t7="@firebase/messaging-compat",n7="@firebase/performance",r7="@firebase/performance-compat",i7="@firebase/remote-config",o7="@firebase/remote-config-compat",a7="@firebase/storage",s7="@firebase/storage-compat",l7="@firebase/firestore",u7="@firebase/ai",c7="@firebase/firestore-compat",f7="firebase",h7="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="[DEFAULT]",d7={[nx]:"fire-core",[Fz]:"fire-core-compat",[Bz]:"fire-analytics",[Uz]:"fire-analytics-compat",[Wz]:"fire-app-check",[zz]:"fire-app-check-compat",[qz]:"fire-auth",[Hz]:"fire-auth-compat",[Gz]:"fire-rtdb",[Kz]:"fire-data-connect",[Xz]:"fire-rtdb-compat",[Yz]:"fire-fn",[Qz]:"fire-fn-compat",[Jz]:"fire-iid",[Zz]:"fire-iid-compat",[e7]:"fire-fcm",[t7]:"fire-fcm-compat",[n7]:"fire-perf",[r7]:"fire-perf-compat",[i7]:"fire-rc",[o7]:"fire-rc-compat",[a7]:"fire-gcs",[s7]:"fire-gcs-compat",[l7]:"fire-fst",[c7]:"fire-fst-compat",[u7]:"fire-vertex","fire-js":"fire-js",[f7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m=new Map,p7=new Map,ix=new Map;function Mk(t,e){try{t.container.addComponent(e)}catch(n){eo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xr(t){const e=t.name;if(ix.has(e))return eo.debug(`There were multiple attempts to register component ${e}.`),!1;ix.set(e,t);for(const n of $m.values())Mk(n,t);for(const n of p7.values())Mk(n,t);return!0}function wa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Dr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ea=new js("app","Firebase",m7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ea.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=h7;function U$(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:rx,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ea.create("bad-app-name",{appName:String(i)});if(n||(n=N$()),!n)throw ea.create("no-options");const o=$m.get(i);if(o){if(la(n,o.options)&&la(r,o.config))return o;throw ea.create("duplicate-app",{appName:i})}const a=new Ez(i);for(const l of ix.values())a.addComponent(l);const s=new g7(n,r,a);return $m.set(i,s),s}function Jy(t=rx){const e=$m.get(t);if(!e&&t===rx&&N$())return U$();if(!e)throw ea.create("no-app",{appName:t});return e}function Un(t,e,n){let r=d7[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),eo.warn(a.join(" "));return}Xr(new Sr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7="firebase-heartbeat-database",v7=1,Kf="firebase-heartbeat-store";let sb=null;function B$(){return sb||(sb=F$(y7,v7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kf)}catch(n){console.warn(n)}}}}).catch(t=>{throw ea.create("idb-open",{originalErrorMessage:t.message})})),sb}async function b7(t){try{const n=(await B$()).transaction(Kf),r=await n.objectStore(Kf).get(z$(t));return await n.done,r}catch(e){if(e instanceof Ar)eo.warn(e.message);else{const n=ea.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});eo.warn(n.message)}}}async function $k(t,e){try{const r=(await B$()).transaction(Kf,"readwrite");await r.objectStore(Kf).put(e,z$(t)),await r.done}catch(n){if(n instanceof Ar)eo.warn(n.message);else{const r=ea.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});eo.warn(r.message)}}}function z$(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=1024,x7=30;class _7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new S7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Dk();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>x7){const a=T7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){eo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Dk(),{heartbeatsToSend:r,unsentEntries:i}=E7(this._heartbeatsCache.heartbeats),o=Mm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return eo.warn(n),""}}}function Dk(){return new Date().toISOString().substring(0,10)}function E7(t,e=w7){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),Lk(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Lk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class S7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $$()?D$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await b7(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $k(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $k(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Lk(t){return Mm(JSON.stringify({version:2,heartbeats:t})).length}function T7(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A7(t){Xr(new Sr("platform-logger",e=>new Lz(e),"PRIVATE")),Xr(new Sr("heartbeat",e=>new _7(e),"PRIVATE")),Un(nx,jk,t),Un(nx,jk,"esm2020"),Un("fire-js","")}A7("");var P7="firebase",k7="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un(P7,k7,"app");function W$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const I7=W$,q$=new js("auth","Firebase",W$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=new Qy("@firebase/auth");function O7(t,...e){Dm.logLevel<=Re.WARN&&Dm.warn(`Auth (${Ms}): ${t}`,...e)}function qp(t,...e){Dm.logLevel<=Re.ERROR&&Dm.error(`Auth (${Ms}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(t,...e){throw CE(t,...e)}function di(t,...e){return CE(t,...e)}function H$(t,e,n){const r={...I7(),[e]:n};return new js("auth","Firebase",r).create(e,{appName:t.name})}function os(t){return H$(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return q$.create(t,...e)}function _e(t,e,...n){if(!t)throw CE(e,...n)}function Fi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qp(e),new Error(e)}function no(t,e){t||Fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function C7(){return Vk()==="http:"||Vk()==="https:"}function Vk(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(C7()||M$()||"connection"in navigator)?navigator.onLine:!0}function R7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n){this.shortDelay=e,this.longDelay=n,no(n>e,"Short delay should be less than long delay!"),this.isMobile=nz()||oz()}get(){return N7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(t,e){no(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$7=new td(3e4,6e4);function RE(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ju(t,e,n,r,i={}){return K$(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=ed({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...o};return iz()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Rs(t.emulatorConfig.host)&&(u.credentials="include"),G$.fetch()(await X$(t,t.config.apiHost,n,s),u)})}async function K$(t,e,n){t._canInitEmulator=!1;const r={...j7,...e};try{const i=new L7(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw tp(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw tp(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw tp(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw tp(t,"user-disabled",a);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw H$(t,c,u);to(t,c)}}catch(i){if(i instanceof Ar)throw i;to(t,"network-request-failed",{message:String(i)})}}async function D7(t,e,n,r,i={}){const o=await ju(t,e,n,r,i);return"mfaPendingCredential"in o&&to(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function X$(t,e,n,r){const i=`${e}${n}?${r}`,o=t,a=o.config.emulator?NE(t.config,i):`${t.config.apiScheme}://${i}`;return M7.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}class L7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(di(this.auth,"network-request-failed")),$7.get())})}}function tp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=di(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V7(t,e){return ju(t,"POST","/v1/accounts:delete",e)}async function Lm(t,e){return ju(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function F7(t,e=!1){const n=Rt(t),r=await n.getIdToken(e),i=jE(r);_e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:hf(lb(i.auth_time)),issuedAtTime:hf(lb(i.iat)),expirationTime:hf(lb(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function lb(t){return Number(t)*1e3}function jE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qp("JWT malformed, contained fewer than 3 sections"),null;try{const i=I$(n);return i?JSON.parse(i):(qp("Failed to decode base64 JWT payload"),null)}catch(i){return qp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Fk(t){const e=jE(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ar&&U7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function U7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hf(this.lastLoginAt),this.creationTime=hf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vm(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Xf(t,Lm(e,{idToken:n}));_e(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(f=i.providerUserInfo)!=null&&f.length?Y$(i.providerUserInfo):[],a=W7(t.providerData,o),s=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=s?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new ax(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function z7(t){const e=Rt(t);await Vm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function W7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Y$(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q7(t,e){const n=await K$(t,{},async()=>{const r=ed({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=await X$(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:r};return t.emulatorConfig&&Rs(t.emulatorConfig.host)&&(l.credentials="include"),G$.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function H7(t,e){return ju(t,"POST","/v2/accounts:revokeToken",RE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Fk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=Fk(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await q7(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new Pl;return r&&(_e(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(_e(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pl,this.toJSON())}_performRefresh(){return Fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new B7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ax(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Xf(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return F7(this,e)}reload(){return z7(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dr(this.auth.app))return Promise.reject(os(this.auth));const e=await this.getIdToken();return await Xf(this,V7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,a=n.photoURL??void 0,s=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:p,providerData:m,stsTokenManager:y}=n;_e(f&&y,e,"internal-error");const b=Pl.fromJSON(this.name,y);_e(typeof f=="string",e,"internal-error"),So(r,e.name),So(i,e.name),_e(typeof h=="boolean",e,"internal-error"),_e(typeof p=="boolean",e,"internal-error"),So(o,e.name),So(a,e.name),So(s,e.name),So(l,e.name),So(u,e.name),So(c,e.name);const v=new Fr({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:p,photoURL:a,phoneNumber:o,tenantId:s,stsTokenManager:b,createdAt:u,lastLoginAt:c});return m&&Array.isArray(m)&&(v.providerData=m.map(w=>({...w}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,n,r=!1){const i=new Pl;i.updateFromServerResponse(n);const o=new Fr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Vm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];_e(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Y$(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new Pl;s.updateFromIdToken(r);const l=new Fr({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ax(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=new Map;function Ui(t){no(t instanceof Function,"Expected a class definition");let e=Uk.get(t);return e?(no(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Uk.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Q$.type="NONE";const Bk=Q$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(t,e,n){return`firebase:${t}:${e}:${n}`}class kl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Hp(this.userKey,i.apiKey,o),this.fullPersistenceKey=Hp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Lm(this.auth,{idToken:e}).catch(()=>{});return n?Fr._fromGetAccountInfoResponse(this.auth,n,e):null}return Fr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new kl(Ui(Bk),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Ui(Bk);const a=Hp(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const c=await u._get(a);if(c){let f;if(typeof c=="string"){const h=await Lm(e,{idToken:c}).catch(()=>{});if(!h)break;f=await Fr._fromGetAccountInfoResponse(e,h,c)}else f=Fr._fromJSON(e,c);u!==o&&(s=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new kl(o,e,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new kl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(J$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rD(e))return"Blackberry";if(iD(e))return"Webos";if(Z$(e))return"Safari";if((e.includes("chrome/")||eD(e))&&!e.includes("edge/"))return"Chrome";if(nD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function J$(t=vn()){return/firefox\//i.test(t)}function Z$(t=vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eD(t=vn()){return/crios\//i.test(t)}function tD(t=vn()){return/iemobile/i.test(t)}function nD(t=vn()){return/android/i.test(t)}function rD(t=vn()){return/blackberry/i.test(t)}function iD(t=vn()){return/webos/i.test(t)}function ME(t=vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function G7(t=vn()){var e;return ME(t)&&!!((e=window.navigator)!=null&&e.standalone)}function K7(){return az()&&document.documentMode===10}function oD(t=vn()){return ME(t)||nD(t)||iD(t)||rD(t)||/windows phone/i.test(t)||tD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(t,e=[]){let n;switch(t){case"Browser":n=zk(vn());break;case"Worker":n=`${zk(vn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ms}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y7(t,e={}){return ju(t,"GET","/v2/passwordPolicy",RE(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7=6;class J7{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Q7,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wk(this),this.idTokenSubscription=new Wk(this),this.beforeStateQueue=new X7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ui(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await kl.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Lm(this,{idToken:e}),r=await Fr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Dr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(o=this.redirectUser)==null?void 0:o._redirectEventId,s=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=R7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dr(this.app))return Promise.reject(os(this));const n=e?Rt(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dr(this.app)?Promise.reject(os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dr(this.app)?Promise.reject(os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Y7(this),n=new J7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new js("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await H7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ui(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await kl.create(this,[Ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&O7(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function $E(t){return Rt(t)}class Wk{constructor(e){this.auth=e,this.observer=null,this.addObserver=dz(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eW(t){DE=t}function tW(t){return DE.loadJS(t)}function nW(){return DE.gapiScript}function rW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iW(t,e){const n=wa(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(la(o,e??{}))return i;to(i,"already-initialized")}return n.initialize({options:e})}function oW(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ui);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function aW(t,e,n){const r=$E(t);_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=sD(e),{host:a,port:s}=sW(e),l=s===null?"":`:${s}`,u={url:`${o}//${a}${l}/`},c=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){_e(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),_e(la(u,r.config.emulator)&&la(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,Rs(a)?(kE(`${o}//${a}${l}`),IE("Auth",!0)):lW()}function sD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function sW(t){const e=sD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:qk(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:qk(a)}}}function qk(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fi("not implemented")}_getIdTokenResponse(e){return Fi("not implemented")}_linkToIdToken(e,n){return Fi("not implemented")}_getReauthenticationResolver(e){return Fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(t,e){return D7(t,"POST","/v1/accounts:signInWithIdp",RE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uW="http://localhost";class gs extends lD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):to("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const a=new gs(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Il(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Il(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Il(e,n)}buildRequest(){const e={requestUri:uW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ed(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends uD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends nd{constructor(){super("facebook.com")}static credential(e){return gs._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ro.credentialFromTaggedObject(e)}static credentialFromError(e){return Ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ro.credential(e.oauthAccessToken)}catch{return null}}}Ro.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ro.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends nd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gs._fromParams({providerId:jo.PROVIDER_ID,signInMethod:jo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jo.credentialFromTaggedObject(e)}static credentialFromError(e){return jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return jo.credential(n,r)}catch{return null}}}jo.GOOGLE_SIGN_IN_METHOD="google.com";jo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends nd{constructor(){super("github.com")}static credential(e){return gs._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mo.credential(e.oauthAccessToken)}catch{return null}}}Mo.GITHUB_SIGN_IN_METHOD="github.com";Mo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends nd{constructor(){super("twitter.com")}static credential(e,n){return gs._fromParams({providerId:$o.PROVIDER_ID,signInMethod:$o.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $o.credentialFromTaggedObject(e)}static credentialFromError(e){return $o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $o.credential(n,r)}catch{return null}}}$o.TWITTER_SIGN_IN_METHOD="twitter.com";$o.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Fr._fromIdTokenResponse(e,r,i),a=Hk(r);return new Kl({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Hk(r);return new Kl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Hk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm extends Ar{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Fm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Fm(e,n,r,i)}}function cD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Fm._fromErrorAndOperation(t,o,e,r):o})}async function cW(t,e,n=!1){const r=await Xf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Kl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fW(t,e,n=!1){const{auth:r}=t;if(Dr(r.app))return Promise.reject(os(r));const i="reauthenticate";try{const o=await Xf(t,cD(r,i,e,t),n);_e(o.idToken,r,"internal-error");const a=jE(o.idToken);_e(a,r,"internal-error");const{sub:s}=a;return _e(t.uid===s,r,"user-mismatch"),Kl._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&to(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hW(t,e,n=!1){if(Dr(t.app))return Promise.reject(os(t));const r="signIn",i=await cD(t,r,e),o=await Kl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function dW(t,e,n,r){return Rt(t).onIdTokenChanged(e,n,r)}function pW(t,e,n){return Rt(t).beforeAuthStateChanged(e,n)}const Um="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Um,"1"),this.storage.removeItem(Um),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mW=1e3,gW=10;class hD extends fD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);K7()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,gW):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},mW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hD.type="LOCAL";const yW=hD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD extends fD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dD.type="SESSION";const pD=dD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Zy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await vW(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=LE("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return window}function wW(t){pi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function xW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _W(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function EW(){return mD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="firebaseLocalStorageDb",SW=1,Bm="firebaseLocalStorage",yD="fbase_key";class rd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ev(t,e){return t.transaction([Bm],e?"readwrite":"readonly").objectStore(Bm)}function TW(){const t=indexedDB.deleteDatabase(gD);return new rd(t).toPromise()}function sx(){const t=indexedDB.open(gD,SW);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bm,{keyPath:yD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bm)?e(r):(r.close(),await TW(),e(await sx()))})})}async function Gk(t,e,n){const r=ev(t,!0).put({[yD]:e,value:n});return new rd(r).toPromise()}async function AW(t,e){const n=ev(t,!1).get(e),r=await new rd(n).toPromise();return r===void 0?null:r.value}function Kk(t,e){const n=ev(t,!0).delete(e);return new rd(n).toPromise()}const PW=800,kW=3;class vD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zy._getInstance(EW()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await xW(),!this.activeServiceWorker)return;this.sender=new bW(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_W()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sx();return await Gk(e,Um,"1"),await Kk(e,Um),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Gk(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>AW(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Kk(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=ev(i,!1).getAll();return new rd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vD.type="LOCAL";const IW=vD;new td(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OW(t,e){return e?Ui(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE extends lD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Il(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Il(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Il(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function CW(t){return hW(t.auth,new VE(t),t.bypassAuthState)}function NW(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),fW(n,new VE(t),t.bypassAuthState)}async function RW(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),cW(n,new VE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CW;case"linkViaPopup":case"linkViaRedirect":return RW;case"reauthViaPopup":case"reauthViaRedirect":return NW;default:to(this.auth,"internal-error")}}resolve(e){no(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){no(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jW=new td(2e3,1e4);class pl extends bD{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,pl.currentPopupAction&&pl.currentPopupAction.cancel(),pl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){no(this.filter.length===1,"Popup operations only handle one event");const e=LE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jW.get())};e()}}pl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MW="pendingRedirect",Gp=new Map;class $W extends bD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gp.get(this.auth._key());if(!e){try{const r=await DW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gp.set(this.auth._key(),e)}return this.bypassAuthState||Gp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DW(t,e){const n=FW(e),r=VW(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function LW(t,e){Gp.set(t._key(),e)}function VW(t){return Ui(t._redirectPersistence)}function FW(t){return Hp(MW,t.config.apiKey,t.name)}async function UW(t,e,n=!1){if(Dr(t.app))return Promise.reject(os(t));const r=$E(t),i=OW(r,e),a=await new $W(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BW=10*60*1e3;class zW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!wD(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(di(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BW&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xk(e))}saveEventToCache(e){this.cachedEventUids.add(Xk(e)),this.lastProcessedEventTime=Date.now()}}function Xk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qW(t,e={}){return ju(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GW=/^https?/;async function KW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qW(t);for(const n of e)try{if(XW(n))return}catch{}to(t,"unauthorized-domain")}function XW(t){const e=ox(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!GW.test(n))return!1;if(HW.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YW=new td(3e4,6e4);function Yk(){const t=pi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QW(t){return new Promise((e,n)=>{var i,o,a;function r(){Yk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yk(),n(di(t,"network-request-failed"))},timeout:YW.get()})}if((o=(i=pi().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((a=pi().gapi)!=null&&a.load)r();else{const s=rW("iframefcb");return pi()[s]=()=>{gapi.load?r():n(di(t,"network-request-failed"))},tW(`${nW()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw Kp=null,e})}let Kp=null;function JW(t){return Kp=Kp||QW(t),Kp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZW=new td(5e3,15e3),eq="__/auth/iframe",tq="emulator/auth/iframe",nq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iq(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?NE(e,tq):`https://${t.config.authDomain}/${eq}`,r={apiKey:e.apiKey,appName:t.name,v:Ms},i=rq.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ed(r).slice(1)}`}async function oq(t){const e=await JW(t),n=pi().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:iq(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nq,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=di(t,"network-request-failed"),s=pi().setTimeout(()=>{o(a)},ZW.get());function l(){pi().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sq=500,lq=600,uq="_blank",cq="http://localhost";class Qk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fq(t,e,n,r=sq,i=lq){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l={...aq,width:r.toString(),height:i.toString(),top:o,left:a},u=vn().toLowerCase();n&&(s=eD(u)?uq:n),J$(u)&&(e=e||cq,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(G7(u)&&s!=="_self")return hq(e||"",s),new Qk(null);const f=window.open(e||"",s,c);_e(f,t,"popup-blocked");try{f.focus()}catch{}return new Qk(f)}function hq(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq="__/auth/handler",pq="emulator/auth/handler",mq=encodeURIComponent("fac");async function Jk(t,e,n,r,i,o){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ms,eventId:i};if(e instanceof uD){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",hz(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))a[c]=f}if(e instanceof nd){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${mq}=${encodeURIComponent(l)}`:"";return`${gq(t)}?${ed(s).slice(1)}${u}`}function gq({config:t}){return t.emulator?NE(t,pq):`https://${t.authDomain}/${dq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="webStorageSupport";class yq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pD,this._completeRedirectFn=UW,this._overrideRedirectResult=LW}async _openPopup(e,n,r,i){var a;no((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await Jk(e,n,r,ox(),i);return fq(e,o,LE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await Jk(e,n,r,ox(),i);return wW(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(no(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await oq(e),r=new zW(e);return n.register("authEvent",i=>(_e(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ub,{type:ub},i=>{var a;const o=(a=i==null?void 0:i[0])==null?void 0:a[ub];o!==void 0&&n(!!o),to(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oD()||Z$()||ME()}}const vq=yq;var Zk="@firebase/auth",eI="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xq(t){Xr(new Sr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;_e(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aD(t)},u=new Z7(r,i,o,l);return oW(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xr(new Sr("auth-internal",e=>{const n=$E(e.getProvider("auth").getImmediate());return(r=>new bq(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Un(Zk,eI,wq(t)),Un(Zk,eI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _q=5*60,Eq=R$("authIdTokenMaxAge")||_q;let tI=null;const Sq=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Eq)return;const i=n==null?void 0:n.token;tI!==i&&(tI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Tq(t=Jy()){const e=wa(t,"auth");if(e.isInitialized())return e.getImmediate();const n=iW(t,{popupRedirectResolver:vq,persistence:[IW,yW,pD]}),r=R$("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=Sq(o.toString());pW(n,a,()=>a(n.currentUser)),dW(n,s=>a(s))}}const i=O$("auth");return i&&aW(n,`http://${i}`),n}function Aq(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}eW({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=di("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Aq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xq("Browser");var nI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ta,xD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,T){function k(){}k.prototype=T.prototype,S.F=T.prototype,S.prototype=new k,S.prototype.constructor=S,S.D=function(N,C,R){for(var O=Array(arguments.length-2),j=2;j<arguments.length;j++)O[j-2]=arguments[j];return T.prototype[C].apply(N,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,T,k){k||(k=0);const N=Array(16);if(typeof T=="string")for(var C=0;C<16;++C)N[C]=T.charCodeAt(k++)|T.charCodeAt(k++)<<8|T.charCodeAt(k++)<<16|T.charCodeAt(k++)<<24;else for(C=0;C<16;++C)N[C]=T[k++]|T[k++]<<8|T[k++]<<16|T[k++]<<24;T=S.g[0],k=S.g[1],C=S.g[2];let R=S.g[3],O;O=T+(R^k&(C^R))+N[0]+3614090360&4294967295,T=k+(O<<7&4294967295|O>>>25),O=R+(C^T&(k^C))+N[1]+3905402710&4294967295,R=T+(O<<12&4294967295|O>>>20),O=C+(k^R&(T^k))+N[2]+606105819&4294967295,C=R+(O<<17&4294967295|O>>>15),O=k+(T^C&(R^T))+N[3]+3250441966&4294967295,k=C+(O<<22&4294967295|O>>>10),O=T+(R^k&(C^R))+N[4]+4118548399&4294967295,T=k+(O<<7&4294967295|O>>>25),O=R+(C^T&(k^C))+N[5]+1200080426&4294967295,R=T+(O<<12&4294967295|O>>>20),O=C+(k^R&(T^k))+N[6]+2821735955&4294967295,C=R+(O<<17&4294967295|O>>>15),O=k+(T^C&(R^T))+N[7]+4249261313&4294967295,k=C+(O<<22&4294967295|O>>>10),O=T+(R^k&(C^R))+N[8]+1770035416&4294967295,T=k+(O<<7&4294967295|O>>>25),O=R+(C^T&(k^C))+N[9]+2336552879&4294967295,R=T+(O<<12&4294967295|O>>>20),O=C+(k^R&(T^k))+N[10]+4294925233&4294967295,C=R+(O<<17&4294967295|O>>>15),O=k+(T^C&(R^T))+N[11]+2304563134&4294967295,k=C+(O<<22&4294967295|O>>>10),O=T+(R^k&(C^R))+N[12]+1804603682&4294967295,T=k+(O<<7&4294967295|O>>>25),O=R+(C^T&(k^C))+N[13]+4254626195&4294967295,R=T+(O<<12&4294967295|O>>>20),O=C+(k^R&(T^k))+N[14]+2792965006&4294967295,C=R+(O<<17&4294967295|O>>>15),O=k+(T^C&(R^T))+N[15]+1236535329&4294967295,k=C+(O<<22&4294967295|O>>>10),O=T+(C^R&(k^C))+N[1]+4129170786&4294967295,T=k+(O<<5&4294967295|O>>>27),O=R+(k^C&(T^k))+N[6]+3225465664&4294967295,R=T+(O<<9&4294967295|O>>>23),O=C+(T^k&(R^T))+N[11]+643717713&4294967295,C=R+(O<<14&4294967295|O>>>18),O=k+(R^T&(C^R))+N[0]+3921069994&4294967295,k=C+(O<<20&4294967295|O>>>12),O=T+(C^R&(k^C))+N[5]+3593408605&4294967295,T=k+(O<<5&4294967295|O>>>27),O=R+(k^C&(T^k))+N[10]+38016083&4294967295,R=T+(O<<9&4294967295|O>>>23),O=C+(T^k&(R^T))+N[15]+3634488961&4294967295,C=R+(O<<14&4294967295|O>>>18),O=k+(R^T&(C^R))+N[4]+3889429448&4294967295,k=C+(O<<20&4294967295|O>>>12),O=T+(C^R&(k^C))+N[9]+568446438&4294967295,T=k+(O<<5&4294967295|O>>>27),O=R+(k^C&(T^k))+N[14]+3275163606&4294967295,R=T+(O<<9&4294967295|O>>>23),O=C+(T^k&(R^T))+N[3]+4107603335&4294967295,C=R+(O<<14&4294967295|O>>>18),O=k+(R^T&(C^R))+N[8]+1163531501&4294967295,k=C+(O<<20&4294967295|O>>>12),O=T+(C^R&(k^C))+N[13]+2850285829&4294967295,T=k+(O<<5&4294967295|O>>>27),O=R+(k^C&(T^k))+N[2]+4243563512&4294967295,R=T+(O<<9&4294967295|O>>>23),O=C+(T^k&(R^T))+N[7]+1735328473&4294967295,C=R+(O<<14&4294967295|O>>>18),O=k+(R^T&(C^R))+N[12]+2368359562&4294967295,k=C+(O<<20&4294967295|O>>>12),O=T+(k^C^R)+N[5]+4294588738&4294967295,T=k+(O<<4&4294967295|O>>>28),O=R+(T^k^C)+N[8]+2272392833&4294967295,R=T+(O<<11&4294967295|O>>>21),O=C+(R^T^k)+N[11]+1839030562&4294967295,C=R+(O<<16&4294967295|O>>>16),O=k+(C^R^T)+N[14]+4259657740&4294967295,k=C+(O<<23&4294967295|O>>>9),O=T+(k^C^R)+N[1]+2763975236&4294967295,T=k+(O<<4&4294967295|O>>>28),O=R+(T^k^C)+N[4]+1272893353&4294967295,R=T+(O<<11&4294967295|O>>>21),O=C+(R^T^k)+N[7]+4139469664&4294967295,C=R+(O<<16&4294967295|O>>>16),O=k+(C^R^T)+N[10]+3200236656&4294967295,k=C+(O<<23&4294967295|O>>>9),O=T+(k^C^R)+N[13]+681279174&4294967295,T=k+(O<<4&4294967295|O>>>28),O=R+(T^k^C)+N[0]+3936430074&4294967295,R=T+(O<<11&4294967295|O>>>21),O=C+(R^T^k)+N[3]+3572445317&4294967295,C=R+(O<<16&4294967295|O>>>16),O=k+(C^R^T)+N[6]+76029189&4294967295,k=C+(O<<23&4294967295|O>>>9),O=T+(k^C^R)+N[9]+3654602809&4294967295,T=k+(O<<4&4294967295|O>>>28),O=R+(T^k^C)+N[12]+3873151461&4294967295,R=T+(O<<11&4294967295|O>>>21),O=C+(R^T^k)+N[15]+530742520&4294967295,C=R+(O<<16&4294967295|O>>>16),O=k+(C^R^T)+N[2]+3299628645&4294967295,k=C+(O<<23&4294967295|O>>>9),O=T+(C^(k|~R))+N[0]+4096336452&4294967295,T=k+(O<<6&4294967295|O>>>26),O=R+(k^(T|~C))+N[7]+1126891415&4294967295,R=T+(O<<10&4294967295|O>>>22),O=C+(T^(R|~k))+N[14]+2878612391&4294967295,C=R+(O<<15&4294967295|O>>>17),O=k+(R^(C|~T))+N[5]+4237533241&4294967295,k=C+(O<<21&4294967295|O>>>11),O=T+(C^(k|~R))+N[12]+1700485571&4294967295,T=k+(O<<6&4294967295|O>>>26),O=R+(k^(T|~C))+N[3]+2399980690&4294967295,R=T+(O<<10&4294967295|O>>>22),O=C+(T^(R|~k))+N[10]+4293915773&4294967295,C=R+(O<<15&4294967295|O>>>17),O=k+(R^(C|~T))+N[1]+2240044497&4294967295,k=C+(O<<21&4294967295|O>>>11),O=T+(C^(k|~R))+N[8]+1873313359&4294967295,T=k+(O<<6&4294967295|O>>>26),O=R+(k^(T|~C))+N[15]+4264355552&4294967295,R=T+(O<<10&4294967295|O>>>22),O=C+(T^(R|~k))+N[6]+2734768916&4294967295,C=R+(O<<15&4294967295|O>>>17),O=k+(R^(C|~T))+N[13]+1309151649&4294967295,k=C+(O<<21&4294967295|O>>>11),O=T+(C^(k|~R))+N[4]+4149444226&4294967295,T=k+(O<<6&4294967295|O>>>26),O=R+(k^(T|~C))+N[11]+3174756917&4294967295,R=T+(O<<10&4294967295|O>>>22),O=C+(T^(R|~k))+N[2]+718787259&4294967295,C=R+(O<<15&4294967295|O>>>17),O=k+(R^(C|~T))+N[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(C+(O<<21&4294967295|O>>>11))&4294967295,S.g[2]=S.g[2]+C&4294967295,S.g[3]=S.g[3]+R&4294967295}r.prototype.v=function(S,T){T===void 0&&(T=S.length);const k=T-this.blockSize,N=this.C;let C=this.h,R=0;for(;R<T;){if(C==0)for(;R<=k;)i(this,S,R),R+=this.blockSize;if(typeof S=="string"){for(;R<T;)if(N[C++]=S.charCodeAt(R++),C==this.blockSize){i(this,N),C=0;break}}else for(;R<T;)if(N[C++]=S[R++],C==this.blockSize){i(this,N),C=0;break}}this.h=C,this.o+=T},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;T=this.o*8;for(var k=S.length-8;k<S.length;++k)S[k]=T&255,T/=256;for(this.v(S),S=Array(16),T=0,k=0;k<4;++k)for(let N=0;N<32;N+=8)S[T++]=this.g[k]>>>N&255;return S};function o(S,T){var k=s;return Object.prototype.hasOwnProperty.call(k,S)?k[S]:k[S]=T(S)}function a(S,T){this.h=T;const k=[];let N=!0;for(let C=S.length-1;C>=0;C--){const R=S[C]|0;N&&R==T||(k[C]=R,N=!1)}this.g=k}var s={};function l(S){return-128<=S&&S<128?o(S,function(T){return new a([T|0],T<0?-1:0)}):new a([S|0],S<0?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(S<0)return b(u(-S));const T=[];let k=1;for(let N=0;S>=k;N++)T[N]=S/k|0,k*=4294967296;return new a(T,0)}function c(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return b(c(S.substring(1),T));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=u(Math.pow(T,8));let N=f;for(let R=0;R<S.length;R+=8){var C=Math.min(8,S.length-R);const O=parseInt(S.substring(R,R+C),T);C<8?(C=u(Math.pow(T,C)),N=N.j(C).add(u(O))):(N=N.j(k),N=N.add(u(O)))}return N}var f=l(0),h=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(y(this))return-b(this).m();let S=0,T=1;for(let k=0;k<this.g.length;k++){const N=this.i(k);S+=(N>=0?N:4294967296+N)*T,T*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(m(this))return"0";if(y(this))return"-"+b(this).toString(S);const T=u(Math.pow(S,6));var k=this;let N="";for(;;){const C=A(k,T).g;k=v(k,C.j(T));let R=((k.g.length>0?k.g[0]:k.h)>>>0).toString(S);if(k=C,m(k))return R+N;for(;R.length<6;)R="0"+R;N=R+N}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function m(S){if(S.h!=0)return!1;for(let T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function y(S){return S.h==-1}t.l=function(S){return S=v(this,S),y(S)?-1:m(S)?0:1};function b(S){const T=S.g.length,k=[];for(let N=0;N<T;N++)k[N]=~S.g[N];return new a(k,~S.h).add(h)}t.abs=function(){return y(this)?b(this):this},t.add=function(S){const T=Math.max(this.g.length,S.g.length),k=[];let N=0;for(let C=0;C<=T;C++){let R=N+(this.i(C)&65535)+(S.i(C)&65535),O=(R>>>16)+(this.i(C)>>>16)+(S.i(C)>>>16);N=O>>>16,R&=65535,O&=65535,k[C]=O<<16|R}return new a(k,k[k.length-1]&-2147483648?-1:0)};function v(S,T){return S.add(b(T))}t.j=function(S){if(m(this)||m(S))return f;if(y(this))return y(S)?b(this).j(b(S)):b(b(this).j(S));if(y(S))return b(this.j(b(S)));if(this.l(p)<0&&S.l(p)<0)return u(this.m()*S.m());const T=this.g.length+S.g.length,k=[];for(var N=0;N<2*T;N++)k[N]=0;for(N=0;N<this.g.length;N++)for(let C=0;C<S.g.length;C++){const R=this.i(N)>>>16,O=this.i(N)&65535,j=S.i(C)>>>16,$=S.i(C)&65535;k[2*N+2*C]+=O*$,w(k,2*N+2*C),k[2*N+2*C+1]+=R*$,w(k,2*N+2*C+1),k[2*N+2*C+1]+=O*j,w(k,2*N+2*C+1),k[2*N+2*C+2]+=R*j,w(k,2*N+2*C+2)}for(S=0;S<T;S++)k[S]=k[2*S+1]<<16|k[2*S];for(S=T;S<2*T;S++)k[S]=0;return new a(k,0)};function w(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function x(S,T){this.g=S,this.h=T}function A(S,T){if(m(T))throw Error("division by zero");if(m(S))return new x(f,f);if(y(S))return T=A(b(S),T),new x(b(T.g),b(T.h));if(y(T))return T=A(S,b(T)),new x(b(T.g),T.h);if(S.g.length>30){if(y(S)||y(T))throw Error("slowDivide_ only works with positive integers.");for(var k=h,N=T;N.l(S)<=0;)k=_(k),N=_(N);var C=P(k,1),R=P(N,1);for(N=P(N,2),k=P(k,2);!m(N);){var O=R.add(N);O.l(S)<=0&&(C=C.add(k),R=O),N=P(N,1),k=P(k,1)}return T=v(S,C.j(T)),new x(C,T)}for(C=f;S.l(T)>=0;){for(k=Math.max(1,Math.floor(S.m()/T.m())),N=Math.ceil(Math.log(k)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),R=u(k),O=R.j(T);y(O)||O.l(S)>0;)k-=N,R=u(k),O=R.j(T);m(R)&&(R=h),C=C.add(R),S=v(S,O)}return new x(C,S)}t.B=function(S){return A(this,S).h},t.and=function(S){const T=Math.max(this.g.length,S.g.length),k=[];for(let N=0;N<T;N++)k[N]=this.i(N)&S.i(N);return new a(k,this.h&S.h)},t.or=function(S){const T=Math.max(this.g.length,S.g.length),k=[];for(let N=0;N<T;N++)k[N]=this.i(N)|S.i(N);return new a(k,this.h|S.h)},t.xor=function(S){const T=Math.max(this.g.length,S.g.length),k=[];for(let N=0;N<T;N++)k[N]=this.i(N)^S.i(N);return new a(k,this.h^S.h)};function _(S){const T=S.g.length+1,k=[];for(let N=0;N<T;N++)k[N]=S.i(N)<<1|S.i(N-1)>>>31;return new a(k,S.h)}function P(S,T){const k=T>>5;T%=32;const N=S.g.length-k,C=[];for(let R=0;R<N;R++)C[R]=T>0?S.i(R+k)>>>T|S.i(R+k+1)<<32-T:S.i(R+k);return new a(C,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,xD=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,ta=a}).apply(typeof nI<"u"?nI:typeof self<"u"?self:typeof window<"u"?window:{});var np=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _D,Bc,ED,Xp,lx,SD,TD,AD;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof np=="object"&&np];for(var E=0;E<d.length;++E){var I=d[E];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(d,E){if(E)e:{var I=r;d=d.split(".");for(var M=0;M<d.length-1;M++){var G=d[M];if(!(G in I))break e;I=I[G]}d=d[d.length-1],M=I[d],E=E(M),E!=M&&E!=null&&e(I,d,{configurable:!0,writable:!0,value:E})}}i("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(d){return d||function(E){var I=[],M;for(M in E)Object.prototype.hasOwnProperty.call(E,M)&&I.push([M,E[M]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function s(d){var E=typeof d;return E=="object"&&d!=null||E=="function"}function l(d,E,I){return d.call.apply(d.bind,arguments)}function u(d,E,I){return u=l,u.apply(null,arguments)}function c(d,E){var I=Array.prototype.slice.call(arguments,1);return function(){var M=I.slice();return M.push.apply(M,arguments),d.apply(this,M)}}function f(d,E){function I(){}I.prototype=E.prototype,d.Z=E.prototype,d.prototype=new I,d.prototype.constructor=d,d.Ob=function(M,G,Y){for(var se=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)se[ke-2]=arguments[ke];return E.prototype[G].apply(M,se)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function p(d){const E=d.length;if(E>0){const I=Array(E);for(let M=0;M<E;M++)I[M]=d[M];return I}return[]}function m(d,E){for(let M=1;M<arguments.length;M++){const G=arguments[M];var I=typeof G;if(I=I!="object"?I:G?Array.isArray(G)?"array":I:"null",I=="array"||I=="object"&&typeof G.length=="number"){I=d.length||0;const Y=G.length||0;d.length=I+Y;for(let se=0;se<Y;se++)d[I+se]=G[se]}else d.push(G)}}class y{constructor(E,I){this.i=E,this.j=I,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function b(d){a.setTimeout(()=>{throw d},0)}function v(){var d=S;let E=null;return d.g&&(E=d.g,d.g=d.g.next,d.g||(d.h=null),E.next=null),E}class w{constructor(){this.h=this.g=null}add(E,I){const M=x.get();M.set(E,I),this.h?this.h.next=M:this.g=M,this.h=M}}var x=new y(()=>new A,d=>d.reset());class A{constructor(){this.next=this.g=this.h=null}set(E,I){this.h=E,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let _,P=!1,S=new w,T=()=>{const d=Promise.resolve(void 0);_=()=>{d.then(k)}};function k(){for(var d;d=v();){try{d.h.call(d.g)}catch(I){b(I)}var E=x;E.j(d),E.h<100&&(E.h++,d.next=E.g,E.g=d)}P=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(d,E){this.type=d,this.g=this.target=E,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,E=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const I=()=>{};a.addEventListener("test",I,E),a.removeEventListener("test",I,E)}catch{}return d}();function O(d){return/^[\s\xa0]*$/.test(d)}function j(d,E){C.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,E)}f(j,C),j.prototype.init=function(d,E){const I=this.type=d.type,M=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=E,E=d.relatedTarget,E||(I=="mouseover"?E=d.fromElement:I=="mouseout"&&(E=d.toElement)),this.relatedTarget=E,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&j.Z.h.call(this)},j.prototype.h=function(){j.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var $="closure_listenable_"+(Math.random()*1e6|0),V=0;function W(d,E,I,M,G){this.listener=d,this.proxy=null,this.src=E,this.type=I,this.capture=!!M,this.ha=G,this.key=++V,this.da=this.fa=!1}function U(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function F(d,E,I){for(const M in d)E.call(I,d[M],M,d)}function L(d,E){for(const I in d)E.call(void 0,d[I],I,d)}function H(d){const E={};for(const I in d)E[I]=d[I];return E}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(d,E){let I,M;for(let G=1;G<arguments.length;G++){M=arguments[G];for(I in M)d[I]=M[I];for(let Y=0;Y<X.length;Y++)I=X[Y],Object.prototype.hasOwnProperty.call(M,I)&&(d[I]=M[I])}}function ie(d){this.src=d,this.g={},this.h=0}ie.prototype.add=function(d,E,I,M,G){const Y=d.toString();d=this.g[Y],d||(d=this.g[Y]=[],this.h++);const se=ne(d,E,M,G);return se>-1?(E=d[se],I||(E.fa=!1)):(E=new W(E,this.src,Y,!!M,G),E.fa=I,d.push(E)),E};function ue(d,E){const I=E.type;if(I in d.g){var M=d.g[I],G=Array.prototype.indexOf.call(M,E,void 0),Y;(Y=G>=0)&&Array.prototype.splice.call(M,G,1),Y&&(U(E),d.g[I].length==0&&(delete d.g[I],d.h--))}}function ne(d,E,I,M){for(let G=0;G<d.length;++G){const Y=d[G];if(!Y.da&&Y.listener==E&&Y.capture==!!I&&Y.ha==M)return G}return-1}var pe="closure_lm_"+(Math.random()*1e6|0),Ee={};function re(d,E,I,M,G){if(Array.isArray(E)){for(let Y=0;Y<E.length;Y++)re(d,E[Y],I,M,G);return null}return I=Or(I),d&&d[$]?d.J(E,I,s(M)?!!M.capture:!1,G):B(d,E,I,!1,M,G)}function B(d,E,I,M,G,Y){if(!E)throw Error("Invalid event type");const se=s(G)?!!G.capture:!!G;let ke=lt(d);if(ke||(d[pe]=ke=new ie(d)),I=ke.add(E,I,M,se,Y),I.proxy)return I;if(M=te(),I.proxy=M,M.src=d,M.listener=I,d.addEventListener)R||(G=se),G===void 0&&(G=!1),d.addEventListener(E.toString(),M,G);else if(d.attachEvent)d.attachEvent(Te(E.toString()),M);else if(d.addListener&&d.removeListener)d.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return I}function te(){function d(I){return E.call(d.src,d.listener,I)}const E=st;return d}function q(d,E,I,M,G){if(Array.isArray(E))for(var Y=0;Y<E.length;Y++)q(d,E[Y],I,M,G);else M=s(M)?!!M.capture:!!M,I=Or(I),d&&d[$]?(d=d.i,Y=String(E).toString(),Y in d.g&&(E=d.g[Y],I=ne(E,I,M,G),I>-1&&(U(E[I]),Array.prototype.splice.call(E,I,1),E.length==0&&(delete d.g[Y],d.h--)))):d&&(d=lt(d))&&(E=d.g[E.toString()],d=-1,E&&(d=ne(E,I,M,G)),(I=d>-1?E[d]:null)&&ge(I))}function ge(d){if(typeof d!="number"&&d&&!d.da){var E=d.src;if(E&&E[$])ue(E.i,d);else{var I=d.type,M=d.proxy;E.removeEventListener?E.removeEventListener(I,M,d.capture):E.detachEvent?E.detachEvent(Te(I),M):E.addListener&&E.removeListener&&E.removeListener(M),(I=lt(E))?(ue(I,d),I.h==0&&(I.src=null,E[pe]=null)):U(d)}}}function Te(d){return d in Ee?Ee[d]:Ee[d]="on"+d}function st(d,E){if(d.da)d=!0;else{E=new j(E,this);const I=d.listener,M=d.ha||d.src;d.fa&&ge(d),d=I.call(M,E)}return d}function lt(d){return d=d[pe],d instanceof ie?d:null}var zt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Or(d){return typeof d=="function"?d:(d[zt]||(d[zt]=function(E){return d.handleEvent(E)}),d[zt])}function ut(){N.call(this),this.i=new ie(this),this.M=this,this.G=null}f(ut,N),ut.prototype[$]=!0,ut.prototype.removeEventListener=function(d,E,I,M){q(this,d,E,I,M)};function At(d,E){var I,M=d.G;if(M)for(I=[];M;M=M.G)I.push(M);if(d=d.M,M=E.type||E,typeof E=="string")E=new C(E,d);else if(E instanceof C)E.target=E.target||d;else{var G=E;E=new C(M,d),K(E,G)}G=!0;let Y,se;if(I)for(se=I.length-1;se>=0;se--)Y=E.g=I[se],G=sr(Y,M,!0,E)&&G;if(Y=E.g=d,G=sr(Y,M,!0,E)&&G,G=sr(Y,M,!1,E)&&G,I)for(se=0;se<I.length;se++)Y=E.g=I[se],G=sr(Y,M,!1,E)&&G}ut.prototype.N=function(){if(ut.Z.N.call(this),this.i){var d=this.i;for(const E in d.g){const I=d.g[E];for(let M=0;M<I.length;M++)U(I[M]);delete d.g[E],d.h--}}this.G=null},ut.prototype.J=function(d,E,I,M){return this.i.add(String(d),E,!1,I,M)},ut.prototype.K=function(d,E,I,M){return this.i.add(String(d),E,!0,I,M)};function sr(d,E,I,M){if(E=d.i.g[String(E)],!E)return!0;E=E.concat();let G=!0;for(let Y=0;Y<E.length;++Y){const se=E[Y];if(se&&!se.da&&se.capture==I){const ke=se.listener,jt=se.ha||se.src;se.fa&&ue(d.i,se),G=ke.call(jt,M)!==!1&&G}}return G&&!M.defaultPrevented}function Ci(d,E){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=u(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:a.setTimeout(d,E||0)}function zs(d){d.g=Ci(()=>{d.g=null,d.i&&(d.i=!1,zs(d))},d.l);const E=d.h;d.h=null,d.m.apply(null,E)}class Td extends N{constructor(E,I){super(),this.m=E,this.l=I,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:zs(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function go(d){N.call(this),this.h=d,this.g={}}f(go,N);var fA=[];function hA(d){F(d.g,function(E,I){this.g.hasOwnProperty(I)&&ge(E)},d),d.g={}}go.prototype.N=function(){go.Z.N.call(this),hA(this)},go.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var d0=a.JSON.stringify,yF=a.JSON.parse,vF=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function dA(){}function pA(){}var tc={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function p0(){C.call(this,"d")}f(p0,C);function m0(){C.call(this,"c")}f(m0,C);var Oa={},mA=null;function Ad(){return mA=mA||new ut}Oa.Ia="serverreachability";function gA(d){C.call(this,Oa.Ia,d)}f(gA,C);function nc(d){const E=Ad();At(E,new gA(E))}Oa.STAT_EVENT="statevent";function yA(d,E){C.call(this,Oa.STAT_EVENT,d),this.stat=E}f(yA,C);function bn(d){const E=Ad();At(E,new yA(E,d))}Oa.Ja="timingevent";function vA(d,E){C.call(this,Oa.Ja,d),this.size=E}f(vA,C);function rc(d,E){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},E)}function ic(){this.g=!0}ic.prototype.ua=function(){this.g=!1};function bF(d,E,I,M,G,Y){d.info(function(){if(d.g)if(Y){var se="",ke=Y.split("&");for(let He=0;He<ke.length;He++){var jt=ke[He].split("=");if(jt.length>1){const Wt=jt[0];jt=jt[1];const ei=Wt.split("_");se=ei.length>=2&&ei[1]=="type"?se+(Wt+"="+jt+"&"):se+(Wt+"=redacted&")}}}else se=null;else se=Y;return"XMLHTTP REQ ("+M+") [attempt "+G+"]: "+E+`
`+I+`
`+se})}function wF(d,E,I,M,G,Y,se){d.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+G+"]: "+E+`
`+I+`
`+Y+" "+se})}function Ws(d,E,I,M){d.info(function(){return"XMLHTTP TEXT ("+E+"): "+_F(d,I)+(M?" "+M:"")})}function xF(d,E){d.info(function(){return"TIMEOUT: "+E})}ic.prototype.info=function(){};function _F(d,E){if(!d.g)return E;if(!E)return null;try{const Y=JSON.parse(E);if(Y){for(d=0;d<Y.length;d++)if(Array.isArray(Y[d])){var I=Y[d];if(!(I.length<2)){var M=I[1];if(Array.isArray(M)&&!(M.length<1)){var G=M[0];if(G!="noop"&&G!="stop"&&G!="close")for(let se=1;se<M.length;se++)M[se]=""}}}}return d0(Y)}catch{return E}}var Pd={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bA={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wA;function g0(){}f(g0,dA),g0.prototype.g=function(){return new XMLHttpRequest},wA=new g0;function oc(d){return encodeURIComponent(String(d))}function EF(d){var E=1;d=d.split(":");const I=[];for(;E>0&&d.length;)I.push(d.shift()),E--;return d.length&&I.push(d.join(":")),I}function yo(d,E,I,M){this.j=d,this.i=E,this.l=I,this.S=M||1,this.V=new go(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new xA}function xA(){this.i=null,this.g="",this.h=!1}var _A={},y0={};function v0(d,E,I){d.M=1,d.A=Id(Zr(E)),d.u=I,d.R=!0,EA(d,null)}function EA(d,E){d.F=Date.now(),kd(d),d.B=Zr(d.A);var I=d.B,M=d.S;Array.isArray(M)||(M=[String(M)]),$A(I.i,"t",M),d.C=0,I=d.j.L,d.h=new xA,d.g=eP(d.j,I?E:null,!d.u),d.P>0&&(d.O=new Td(u(d.Y,d,d.g),d.P)),E=d.V,I=d.g,M=d.ba;var G="readystatechange";Array.isArray(G)||(G&&(fA[0]=G.toString()),G=fA);for(let Y=0;Y<G.length;Y++){const se=re(I,G[Y],M||E.handleEvent,!1,E.h||E);if(!se)break;E.g[se.key]=se}E=d.J?H(d.J):{},d.u?(d.v||(d.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,E)):(d.v="GET",d.g.ea(d.B,d.v,null,E)),nc(),bF(d.i,d.v,d.B,d.l,d.S,d.u)}yo.prototype.ba=function(d){d=d.target;const E=this.O;E&&wo(d)==3?E.j():this.Y(d)},yo.prototype.Y=function(d){try{if(d==this.g)e:{const ke=wo(this.g),jt=this.g.ya(),He=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||zA(this.g)))){this.K||ke!=4||jt==7||(jt==8||He<=0?nc(3):nc(2)),b0(this);var E=this.g.ca();this.X=E;var I=SF(this);if(this.o=E==200,wF(this.i,this.v,this.B,this.l,this.S,ke,E),this.o){if(this.U&&!this.L){t:{if(this.g){var M,G=this.g;if((M=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(M)){var Y=M;break t}}Y=null}if(d=Y)Ws(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,w0(this,d);else{this.o=!1,this.m=3,bn(12),Ca(this),ac(this);break e}}if(this.R){d=!0;let Wt;for(;!this.K&&this.C<I.length;)if(Wt=TF(this,I),Wt==y0){ke==4&&(this.m=4,bn(14),d=!1),Ws(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==_A){this.m=4,bn(15),Ws(this.i,this.l,I,"[Invalid Chunk]"),d=!1;break}else Ws(this.i,this.l,Wt,null),w0(this,Wt);if(SA(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||I.length!=0||this.h.h||(this.m=1,bn(16),d=!1),this.o=this.o&&d,!d)Ws(this.i,this.l,I,"[Invalid Chunked Response]"),Ca(this),ac(this);else if(I.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),k0(se),se.P=!0,bn(11))}}else Ws(this.i,this.l,I,null),w0(this,I);ke==4&&Ca(this),this.o&&!this.K&&(ke==4?YA(this.j,this):(this.o=!1,kd(this)))}else VF(this.g),E==400&&I.indexOf("Unknown SID")>0?(this.m=3,bn(12)):(this.m=0,bn(13)),Ca(this),ac(this)}}}catch{}finally{}};function SF(d){if(!SA(d))return d.g.la();const E=zA(d.g);if(E==="")return"";let I="";const M=E.length,G=wo(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Ca(d),ac(d),"";d.h.i=new a.TextDecoder}for(let Y=0;Y<M;Y++)d.h.h=!0,I+=d.h.i.decode(E[Y],{stream:!(G&&Y==M-1)});return E.length=0,d.h.g+=I,d.C=0,d.h.g}function SA(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function TF(d,E){var I=d.C,M=E.indexOf(`
`,I);return M==-1?y0:(I=Number(E.substring(I,M)),isNaN(I)?_A:(M+=1,M+I>E.length?y0:(E=E.slice(M,M+I),d.C=M+I,E)))}yo.prototype.cancel=function(){this.K=!0,Ca(this)};function kd(d){d.T=Date.now()+d.H,TA(d,d.H)}function TA(d,E){if(d.D!=null)throw Error("WatchDog timer not null");d.D=rc(u(d.aa,d),E)}function b0(d){d.D&&(a.clearTimeout(d.D),d.D=null)}yo.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(xF(this.i,this.B),this.M!=2&&(nc(),bn(17)),Ca(this),this.m=2,ac(this)):TA(this,this.T-d)};function ac(d){d.j.I==0||d.K||YA(d.j,d)}function Ca(d){b0(d);var E=d.O;E&&typeof E.dispose=="function"&&E.dispose(),d.O=null,hA(d.V),d.g&&(E=d.g,d.g=null,E.abort(),E.dispose())}function w0(d,E){try{var I=d.j;if(I.I!=0&&(I.g==d||x0(I.h,d))){if(!d.L&&x0(I.h,d)&&I.I==3){try{var M=I.Ba.g.parse(E)}catch{M=null}if(Array.isArray(M)&&M.length==3){var G=M;if(G[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<d.F)jd(I),Nd(I);else break e;P0(I),bn(18)}}else I.xa=G[1],0<I.xa-I.K&&G[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=rc(u(I.Va,I),6e3));kA(I.h)<=1&&I.ta&&(I.ta=void 0)}else Ra(I,11)}else if((d.L||I.g==d)&&jd(I),!O(E))for(G=I.Ba.g.parse(E),E=0;E<G.length;E++){let He=G[E];const Wt=He[0];if(!(Wt<=I.K))if(I.K=Wt,He=He[1],I.I==2)if(He[0]=="c"){I.M=He[1],I.ba=He[2];const ei=He[3];ei!=null&&(I.ka=ei,I.j.info("VER="+I.ka));const ja=He[4];ja!=null&&(I.za=ja,I.j.info("SVER="+I.za));const xo=He[5];xo!=null&&typeof xo=="number"&&xo>0&&(M=1.5*xo,I.O=M,I.j.info("backChannelRequestTimeoutMs_="+M)),M=I;const _o=d.g;if(_o){const $d=_o.g?_o.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($d){var Y=M.h;Y.g||$d.indexOf("spdy")==-1&&$d.indexOf("quic")==-1&&$d.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(_0(Y,Y.h),Y.h=null))}if(M.G){const I0=_o.g?_o.g.getResponseHeader("X-HTTP-Session-Id"):null;I0&&(M.wa=I0,Ze(M.J,M.G,I0))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-d.F,I.j.info("Handshake RTT: "+I.T+"ms")),M=I;var se=d;if(M.na=ZA(M,M.L?M.ba:null,M.W),se.L){IA(M.h,se);var ke=se,jt=M.O;jt&&(ke.H=jt),ke.D&&(b0(ke),kd(ke)),M.g=se}else KA(M);I.i.length>0&&Rd(I)}else He[0]!="stop"&&He[0]!="close"||Ra(I,7);else I.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Ra(I,7):A0(I):He[0]!="noop"&&I.l&&I.l.qa(He),I.A=0)}}nc(4)}catch{}}var AF=class{constructor(d,E){this.g=d,this.map=E}};function AA(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function PA(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function kA(d){return d.h?1:d.g?d.g.size:0}function x0(d,E){return d.h?d.h==E:d.g?d.g.has(E):!1}function _0(d,E){d.g?d.g.add(E):d.h=E}function IA(d,E){d.h&&d.h==E?d.h=null:d.g&&d.g.has(E)&&d.g.delete(E)}AA.prototype.cancel=function(){if(this.i=OA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function OA(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let E=d.i;for(const I of d.g.values())E=E.concat(I.G);return E}return p(d.i)}var CA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function PF(d,E){if(d){d=d.split("&");for(let I=0;I<d.length;I++){const M=d[I].indexOf("=");let G,Y=null;M>=0?(G=d[I].substring(0,M),Y=d[I].substring(M+1)):G=d[I],E(G,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function vo(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;d instanceof vo?(this.l=d.l,sc(this,d.j),this.o=d.o,this.g=d.g,lc(this,d.u),this.h=d.h,E0(this,DA(d.i)),this.m=d.m):d&&(E=String(d).match(CA))?(this.l=!1,sc(this,E[1]||"",!0),this.o=uc(E[2]||""),this.g=uc(E[3]||"",!0),lc(this,E[4]),this.h=uc(E[5]||"",!0),E0(this,E[6]||"",!0),this.m=uc(E[7]||"")):(this.l=!1,this.i=new fc(null,this.l))}vo.prototype.toString=function(){const d=[];var E=this.j;E&&d.push(cc(E,NA,!0),":");var I=this.g;return(I||E=="file")&&(d.push("//"),(E=this.o)&&d.push(cc(E,NA,!0),"@"),d.push(oc(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&d.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&d.push("/"),d.push(cc(I,I.charAt(0)=="/"?OF:IF,!0))),(I=this.i.toString())&&d.push("?",I),(I=this.m)&&d.push("#",cc(I,NF)),d.join("")},vo.prototype.resolve=function(d){const E=Zr(this);let I=!!d.j;I?sc(E,d.j):I=!!d.o,I?E.o=d.o:I=!!d.g,I?E.g=d.g:I=d.u!=null;var M=d.h;if(I)lc(E,d.u);else if(I=!!d.h){if(M.charAt(0)!="/")if(this.g&&!this.h)M="/"+M;else{var G=E.h.lastIndexOf("/");G!=-1&&(M=E.h.slice(0,G+1)+M)}if(G=M,G==".."||G==".")M="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){M=G.lastIndexOf("/",0)==0,G=G.split("/");const Y=[];for(let se=0;se<G.length;){const ke=G[se++];ke=="."?M&&se==G.length&&Y.push(""):ke==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),M&&se==G.length&&Y.push("")):(Y.push(ke),M=!0)}M=Y.join("/")}else M=G}return I?E.h=M:I=d.i.toString()!=="",I?E0(E,DA(d.i)):I=!!d.m,I&&(E.m=d.m),E};function Zr(d){return new vo(d)}function sc(d,E,I){d.j=I?uc(E,!0):E,d.j&&(d.j=d.j.replace(/:$/,""))}function lc(d,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);d.u=E}else d.u=null}function E0(d,E,I){E instanceof fc?(d.i=E,RF(d.i,d.l)):(I||(E=cc(E,CF)),d.i=new fc(E,d.l))}function Ze(d,E,I){d.i.set(E,I)}function Id(d){return Ze(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function uc(d,E){return d?E?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function cc(d,E,I){return typeof d=="string"?(d=encodeURI(d).replace(E,kF),I&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function kF(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var NA=/[#\/\?@]/g,IF=/[#\?:]/g,OF=/[#\?]/g,CF=/[#\?@]/g,NF=/#/g;function fc(d,E){this.h=this.g=null,this.i=d||null,this.j=!!E}function Na(d){d.g||(d.g=new Map,d.h=0,d.i&&PF(d.i,function(E,I){d.add(decodeURIComponent(E.replace(/\+/g," ")),I)}))}t=fc.prototype,t.add=function(d,E){Na(this),this.i=null,d=qs(this,d);let I=this.g.get(d);return I||this.g.set(d,I=[]),I.push(E),this.h+=1,this};function RA(d,E){Na(d),E=qs(d,E),d.g.has(E)&&(d.i=null,d.h-=d.g.get(E).length,d.g.delete(E))}function jA(d,E){return Na(d),E=qs(d,E),d.g.has(E)}t.forEach=function(d,E){Na(this),this.g.forEach(function(I,M){I.forEach(function(G){d.call(E,G,M,this)},this)},this)};function MA(d,E){Na(d);let I=[];if(typeof E=="string")jA(d,E)&&(I=I.concat(d.g.get(qs(d,E))));else for(d=Array.from(d.g.values()),E=0;E<d.length;E++)I=I.concat(d[E]);return I}t.set=function(d,E){return Na(this),this.i=null,d=qs(this,d),jA(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[E]),this.h+=1,this},t.get=function(d,E){return d?(d=MA(this,d),d.length>0?String(d[0]):E):E};function $A(d,E,I){RA(d,E),I.length>0&&(d.i=null,d.g.set(qs(d,E),p(I)),d.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],E=Array.from(this.g.keys());for(let M=0;M<E.length;M++){var I=E[M];const G=oc(I);I=MA(this,I);for(let Y=0;Y<I.length;Y++){let se=G;I[Y]!==""&&(se+="="+oc(I[Y])),d.push(se)}}return this.i=d.join("&")};function DA(d){const E=new fc;return E.i=d.i,d.g&&(E.g=new Map(d.g),E.h=d.h),E}function qs(d,E){return E=String(E),d.j&&(E=E.toLowerCase()),E}function RF(d,E){E&&!d.j&&(Na(d),d.i=null,d.g.forEach(function(I,M){const G=M.toLowerCase();M!=G&&(RA(this,M),$A(this,G,I))},d)),d.j=E}function jF(d,E){const I=new ic;if(a.Image){const M=new Image;M.onload=c(bo,I,"TestLoadImage: loaded",!0,E,M),M.onerror=c(bo,I,"TestLoadImage: error",!1,E,M),M.onabort=c(bo,I,"TestLoadImage: abort",!1,E,M),M.ontimeout=c(bo,I,"TestLoadImage: timeout",!1,E,M),a.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=d}else E(!1)}function MF(d,E){const I=new ic,M=new AbortController,G=setTimeout(()=>{M.abort(),bo(I,"TestPingServer: timeout",!1,E)},1e4);fetch(d,{signal:M.signal}).then(Y=>{clearTimeout(G),Y.ok?bo(I,"TestPingServer: ok",!0,E):bo(I,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(G),bo(I,"TestPingServer: error",!1,E)})}function bo(d,E,I,M,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),M(I)}catch{}}function $F(){this.g=new vF}function S0(d){this.i=d.Sb||null,this.h=d.ab||!1}f(S0,dA),S0.prototype.g=function(){return new Od(this.i,this.h)};function Od(d,E){ut.call(this),this.H=d,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Od,ut),t=Od.prototype,t.open=function(d,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=E,this.readyState=1,dc(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(E.body=d),(this.H||a).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hc(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,dc(this)),this.g&&(this.readyState=3,dc(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;LA(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function LA(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var E=d.value?d.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!d.done}))&&(this.response=this.responseText+=E)}d.done?hc(this):dc(this),this.readyState==3&&LA(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,hc(this))},t.Na=function(d){this.g&&(this.response=d,hc(this))},t.ga=function(){this.g&&hc(this)};function hc(d){d.readyState=4,d.l=null,d.j=null,d.B=null,dc(d)}t.setRequestHeader=function(d,E){this.A.append(d,E)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],E=this.h.entries();for(var I=E.next();!I.done;)I=I.value,d.push(I[0]+": "+I[1]),I=E.next();return d.join(`\r
`)};function dc(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Od.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function VA(d){let E="";return F(d,function(I,M){E+=M,E+=":",E+=I,E+=`\r
`}),E}function T0(d,E,I){e:{for(M in I){var M=!1;break e}M=!0}M||(I=VA(I),typeof d=="string"?I!=null&&oc(I):Ze(d,E,I))}function yt(d){ut.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(yt,ut);var DF=/^https?$/i,LF=["POST","PUT"];t=yt.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,E,I,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);E=E?E.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wA.g(),this.g.onreadystatechange=h(u(this.Ca,this));try{this.B=!0,this.g.open(E,String(d),!0),this.B=!1}catch(Y){FA(this,Y);return}if(d=I||"",I=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var G in M)I.set(G,M[G]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const Y of M.keys())I.set(Y,M.get(Y));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(I.keys()).find(Y=>Y.toLowerCase()=="content-type"),G=a.FormData&&d instanceof a.FormData,!(Array.prototype.indexOf.call(LF,E,void 0)>=0)||M||G||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,se]of I)this.g.setRequestHeader(Y,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(Y){FA(this,Y)}};function FA(d,E){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=E,d.o=5,UA(d),Cd(d)}function UA(d){d.A||(d.A=!0,At(d,"complete"),At(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,At(this,"complete"),At(this,"abort"),Cd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cd(this,!0)),yt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?BA(this):this.Xa())},t.Xa=function(){BA(this)};function BA(d){if(d.h&&typeof o<"u"){if(d.v&&wo(d)==4)setTimeout(d.Ca.bind(d),0);else if(At(d,"readystatechange"),wo(d)==4){d.h=!1;try{const Y=d.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var I;if(!(I=E)){var M;if(M=Y===0){let se=String(d.D).match(CA)[1]||null;!se&&a.self&&a.self.location&&(se=a.self.location.protocol.slice(0,-1)),M=!DF.test(se?se.toLowerCase():"")}I=M}if(I)At(d,"complete"),At(d,"success");else{d.o=6;try{var G=wo(d)>2?d.g.statusText:""}catch{G=""}d.l=G+" ["+d.ca()+"]",UA(d)}}finally{Cd(d)}}}}function Cd(d,E){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const I=d.g;d.g=null,E||At(d,"ready");try{I.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function wo(d){return d.g?d.g.readyState:0}t.ca=function(){try{return wo(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var E=this.g.responseText;return d&&E.indexOf(d)==0&&(E=E.substring(d.length)),yF(E)}};function zA(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function VF(d){const E={};d=(d.g&&wo(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<d.length;M++){if(O(d[M]))continue;var I=EF(d[M]);const G=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const Y=E[G]||[];E[G]=Y,Y.push(I)}L(E,function(M){return M.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pc(d,E,I){return I&&I.internalChannelParams&&I.internalChannelParams[d]||E}function WA(d){this.za=0,this.i=[],this.j=new ic,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pc("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pc("baseRetryDelayMs",5e3,d),this.Za=pc("retryDelaySeedMs",1e4,d),this.Ta=pc("forwardChannelMaxRetries",2,d),this.va=pc("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new AA(d&&d.concurrentRequestLimit),this.Ba=new $F,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=WA.prototype,t.ka=8,t.I=1,t.connect=function(d,E,I,M){bn(0),this.W=d,this.H=E||{},I&&M!==void 0&&(this.H.OSID=I,this.H.OAID=M),this.F=this.X,this.J=ZA(this,null,this.W),Rd(this)};function A0(d){if(qA(d),d.I==3){var E=d.V++,I=Zr(d.J);if(Ze(I,"SID",d.M),Ze(I,"RID",E),Ze(I,"TYPE","terminate"),mc(d,I),E=new yo(d,d.j,E),E.M=2,E.A=Id(Zr(I)),I=!1,a.navigator&&a.navigator.sendBeacon)try{I=a.navigator.sendBeacon(E.A.toString(),"")}catch{}!I&&a.Image&&(new Image().src=E.A,I=!0),I||(E.g=eP(E.j,null),E.g.ea(E.A)),E.F=Date.now(),kd(E)}JA(d)}function Nd(d){d.g&&(k0(d),d.g.cancel(),d.g=null)}function qA(d){Nd(d),d.v&&(a.clearTimeout(d.v),d.v=null),jd(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&a.clearTimeout(d.m),d.m=null)}function Rd(d){if(!PA(d.h)&&!d.m){d.m=!0;var E=d.Ea;_||T(),P||(_(),P=!0),S.add(E,d),d.D=0}}function FF(d,E){return kA(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=E.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=rc(u(d.Ea,d,E),QA(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const G=new yo(this,this.j,d);let Y=this.o;if(this.U&&(Y?(Y=H(Y),K(Y,this.U)):Y=this.U),this.u!==null||this.R||(G.J=Y,Y=null),this.S)e:{for(var E=0,I=0;I<this.i.length;I++){t:{var M=this.i[I];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(E+=M,E>4096){E=I;break e}if(E===4096||I===this.i.length-1){E=I+1;break e}}E=1e3}else E=1e3;E=GA(this,G,E),I=Zr(this.J),Ze(I,"RID",d),Ze(I,"CVER",22),this.G&&Ze(I,"X-HTTP-Session-Id",this.G),mc(this,I),Y&&(this.R?E="headers="+oc(VA(Y))+"&"+E:this.u&&T0(I,this.u,Y)),_0(this.h,G),this.Ra&&Ze(I,"TYPE","init"),this.S?(Ze(I,"$req",E),Ze(I,"SID","null"),G.U=!0,v0(G,I,null)):v0(G,I,E),this.I=2}}else this.I==3&&(d?HA(this,d):this.i.length==0||PA(this.h)||HA(this))};function HA(d,E){var I;E?I=E.l:I=d.V++;const M=Zr(d.J);Ze(M,"SID",d.M),Ze(M,"RID",I),Ze(M,"AID",d.K),mc(d,M),d.u&&d.o&&T0(M,d.u,d.o),I=new yo(d,d.j,I,d.D+1),d.u===null&&(I.J=d.o),E&&(d.i=E.G.concat(d.i)),E=GA(d,I,1e3),I.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),_0(d.h,I),v0(I,M,E)}function mc(d,E){d.H&&F(d.H,function(I,M){Ze(E,M,I)}),d.l&&F({},function(I,M){Ze(E,M,I)})}function GA(d,E,I){I=Math.min(d.i.length,I);const M=d.l?u(d.l.Ka,d.l,d):null;e:{var G=d.i;let ke=-1;for(;;){const jt=["count="+I];ke==-1?I>0?(ke=G[0].g,jt.push("ofs="+ke)):ke=0:jt.push("ofs="+ke);let He=!0;for(let Wt=0;Wt<I;Wt++){var Y=G[Wt].g;const ei=G[Wt].map;if(Y-=ke,Y<0)ke=Math.max(0,G[Wt].g-100),He=!1;else try{Y="req"+Y+"_"||"";try{var se=ei instanceof Map?ei:Object.entries(ei);for(const[ja,xo]of se){let _o=xo;s(xo)&&(_o=d0(xo)),jt.push(Y+ja+"="+encodeURIComponent(_o))}}catch(ja){throw jt.push(Y+"type="+encodeURIComponent("_badmap")),ja}}catch{M&&M(ei)}}if(He){se=jt.join("&");break e}}se=void 0}return d=d.i.splice(0,I),E.G=d,se}function KA(d){if(!d.g&&!d.v){d.Y=1;var E=d.Da;_||T(),P||(_(),P=!0),S.add(E,d),d.A=0}}function P0(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=rc(u(d.Da,d),QA(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,XA(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=rc(u(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bn(10),Nd(this),XA(this))};function k0(d){d.B!=null&&(a.clearTimeout(d.B),d.B=null)}function XA(d){d.g=new yo(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var E=Zr(d.na);Ze(E,"RID","rpc"),Ze(E,"SID",d.M),Ze(E,"AID",d.K),Ze(E,"CI",d.F?"0":"1"),!d.F&&d.ia&&Ze(E,"TO",d.ia),Ze(E,"TYPE","xmlhttp"),mc(d,E),d.u&&d.o&&T0(E,d.u,d.o),d.O&&(d.g.H=d.O);var I=d.g;d=d.ba,I.M=1,I.A=Id(Zr(E)),I.u=null,I.R=!0,EA(I,d)}t.Va=function(){this.C!=null&&(this.C=null,Nd(this),P0(this),bn(19))};function jd(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function YA(d,E){var I=null;if(d.g==E){jd(d),k0(d),d.g=null;var M=2}else if(x0(d.h,E))I=E.G,IA(d.h,E),M=1;else return;if(d.I!=0){if(E.o)if(M==1){I=E.u?E.u.length:0,E=Date.now()-E.F;var G=d.D;M=Ad(),At(M,new vA(M,I)),Rd(d)}else KA(d);else if(G=E.m,G==3||G==0&&E.X>0||!(M==1&&FF(d,E)||M==2&&P0(d)))switch(I&&I.length>0&&(E=d.h,E.i=E.i.concat(I)),G){case 1:Ra(d,5);break;case 4:Ra(d,10);break;case 3:Ra(d,6);break;default:Ra(d,2)}}}function QA(d,E){let I=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(I*=2),I*E}function Ra(d,E){if(d.j.info("Error code "+E),E==2){var I=u(d.bb,d),M=d.Ua;const G=!M;M=new vo(M||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||sc(M,"https"),Id(M),G?jF(M.toString(),I):MF(M.toString(),I)}else bn(2);d.I=0,d.l&&d.l.pa(E),JA(d),qA(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),bn(2)):(this.j.info("Failed to ping google.com"),bn(1))};function JA(d){if(d.I=0,d.ja=[],d.l){const E=OA(d.h);(E.length!=0||d.i.length!=0)&&(m(d.ja,E),m(d.ja,d.i),d.h.i.length=0,p(d.i),d.i.length=0),d.l.oa()}}function ZA(d,E,I){var M=I instanceof vo?Zr(I):new vo(I);if(M.g!="")E&&(M.g=E+"."+M.g),lc(M,M.u);else{var G=a.location;M=G.protocol,E=E?E+"."+G.hostname:G.hostname,G=+G.port;const Y=new vo(null);M&&sc(Y,M),E&&(Y.g=E),G&&lc(Y,G),I&&(Y.h=I),M=Y}return I=d.G,E=d.wa,I&&E&&Ze(M,I,E),Ze(M,"VER",d.ka),mc(d,M),M}function eP(d,E,I){if(E&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=d.Aa&&!d.ma?new yt(new S0({ab:I})):new yt(d.ma),E.Fa(d.L),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tP(){}t=tP.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Md(){}Md.prototype.g=function(d,E){return new qn(d,E)};function qn(d,E){ut.call(this),this.g=new WA(E),this.l=d,this.h=E&&E.messageUrlParams||null,d=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(d?d["X-WebChannel-Content-Type"]=E.messageContentType:d={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(d?d["X-WebChannel-Client-Profile"]=E.sa:d={"X-WebChannel-Client-Profile":E.sa}),this.g.U=d,(d=E&&E.Qb)&&!O(d)&&(this.g.u=d),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!O(E)&&(this.g.G=E,d=this.h,d!==null&&E in d&&(d=this.h,E in d&&delete d[E])),this.j=new Hs(this)}f(qn,ut),qn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){A0(this.g)},qn.prototype.o=function(d){var E=this.g;if(typeof d=="string"){var I={};I.__data__=d,d=I}else this.v&&(I={},I.__data__=d0(d),d=I);E.i.push(new AF(E.Ya++,d)),E.I==3&&Rd(E)},qn.prototype.N=function(){this.g.l=null,delete this.j,A0(this.g),delete this.g,qn.Z.N.call(this)};function nP(d){p0.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var E=d.__sm__;if(E){e:{for(const I in E){d=I;break e}d=void 0}(this.i=d)&&(d=this.i,E=E!==null&&d in E?E[d]:void 0),this.data=E}else this.data=d}f(nP,p0);function rP(){m0.call(this),this.status=1}f(rP,m0);function Hs(d){this.g=d}f(Hs,tP),Hs.prototype.ra=function(){At(this.g,"a")},Hs.prototype.qa=function(d){At(this.g,new nP(d))},Hs.prototype.pa=function(d){At(this.g,new rP)},Hs.prototype.oa=function(){At(this.g,"b")},Md.prototype.createWebChannel=Md.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,AD=function(){return new Md},TD=function(){return Ad()},SD=Oa,lx={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Pd.NO_ERROR=0,Pd.TIMEOUT=8,Pd.HTTP_ERROR=6,Xp=Pd,bA.COMPLETE="complete",ED=bA,pA.EventType=tc,tc.OPEN="a",tc.CLOSE="b",tc.ERROR="c",tc.MESSAGE="d",ut.prototype.listen=ut.prototype.J,Bc=pA,yt.prototype.listenOnce=yt.prototype.K,yt.prototype.getLastError=yt.prototype.Ha,yt.prototype.getLastErrorCode=yt.prototype.ya,yt.prototype.getStatus=yt.prototype.ca,yt.prototype.getResponseJson=yt.prototype.La,yt.prototype.getResponseText=yt.prototype.la,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Fa,_D=yt}).apply(typeof np<"u"?np:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mu="12.9.0";function Pq(t){Mu=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new Qy("@firebase/firestore");function Js(){return ys.logLevel}function ce(t,...e){if(ys.logLevel<=Re.DEBUG){const n=e.map(FE);ys.debug(`Firestore (${Mu}): ${t}`,...n)}}function ro(t,...e){if(ys.logLevel<=Re.ERROR){const n=e.map(FE);ys.error(`Firestore (${Mu}): ${t}`,...n)}}function vs(t,...e){if(ys.logLevel<=Re.WARN){const n=e.map(FE);ys.warn(`Firestore (${Mu}): ${t}`,...n)}}function FE(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,PD(t,r,n)}function PD(t,e,n){let r=`FIRESTORE (${Mu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ro(r),new Error(r)}function Be(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||PD(e,i,r)}function Ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Ar{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(fn.UNAUTHENTICATED))}shutdown(){}}class Iq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Oq{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Be(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new as;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new as,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new as)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string",31837,{l:r}),new kD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class Cq{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Nq{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Cq(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rq{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Be(this.o===void 0,3512);const r=o=>{o.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,ce("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Be(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=jq(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function ux(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return cb(i)===cb(o)?je(i,o):cb(i)?1:-1}return je(t.length,e.length)}const Mq=55296,$q=57343;function cb(t){const e=t.charCodeAt(0);return e>=Mq&&e<=$q}function Xl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="__name__";class ri{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&xe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ri.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ri?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=ri.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return je(e.length,n.length)}static compareSegments(e,n){const r=ri.isNumericId(e),i=ri.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ri.extractNumericId(e).compare(ri.extractNumericId(n)):ux(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ta.fromString(e.substring(4,e.length-2))}}class Qe extends ri{construct(e,n,r){return new Qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Qe(n)}static emptyPath(){return new Qe([])}}const Dq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends ri{construct(e,n,r){return new tn(e,n,r)}static isValidIdentifier(e){return Dq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iI}static keyField(){return new tn([iI])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new le(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new le(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new le(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Qe.fromString(e))}static fromName(e){return new ye(Qe.fromString(e).popFirst(5))}static empty(){return new ye(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t,e,n){if(!n)throw new le(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Lq(t,e,n,r){if(e===!0&&r===!0)throw new le(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function oI(t){if(!ye.isDocumentKey(t))throw new le(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aI(t){if(ye.isDocumentKey(t))throw new le(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function OD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function tv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function mi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tv(t);throw new le(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t,e){const n={typeString:t};return e&&(n.value=e),n}function id(t,e){if(!OD(t))throw new le(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&a!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new le(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=-62135596800,lI=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*lI);return new rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<sI)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lI}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(id(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-sI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Ct("string",rt._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new rt(0,0))}static max(){return new Se(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=-1;function Vq(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new ua(i,ye.empty(),e)}function Fq(t){return new ua(t.readTime,t.key,Yf)}class ua{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ua(Se.min(),ye.empty(),Yf)}static max(){return new ua(Se.max(),ye.empty(),Yf)}}function Uq(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $u(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==Bq)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(i=>i?ee.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{a[u]=c,++s,s===o&&r(a)},c=>i(c))}})}static doWhile(e,n){return new ee((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function Wq(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Du(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nv.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=-1;function rv(t){return t==null}function zm(t){return t===0&&1/t==-1/0}function qq(t){return typeof t=="number"&&Number.isInteger(t)&&!zm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD="";function Hq(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=uI(e)),e=Gq(t.get(n),e);return uI(e)}function Gq(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case CD:n+="";break;default:n+=o}}return n}function uI(t){return t+CD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ND(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rp(this.root,e,this.comparator,!1)}getReverseIterator(){return new rp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rp(this.root,e,this.comparator,!0)}}class rp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Zt.RED,this.left=i??Zt.EMPTY,this.right=o??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Zt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fI(this.data.getIterator())}getIteratorFrom(e){return new fI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class fI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Zn([])}unionWith(e){let n=new Ut(tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new RD("Invalid base64 string: "+o):o}}(e);return new an(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new an(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const Kq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ca(t){if(Be(!!t,39018),typeof t=="string"){let e=0;const n=Kq.exec(t);if(Be(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(t.seconds),nanos:_t(t.nanos)}}function _t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fa(t){return typeof t=="string"?an.fromBase64String(t):an.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="server_timestamp",MD="__type__",$D="__previous_value__",DD="__local_write_time__";function zE(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[MD])==null?void 0:r.stringValue)===jD}function iv(t){const e=t.mapValue.fields[$D];return zE(e)?iv(e):e}function Qf(t){const e=ca(t.mapValue.fields[DD].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(e,n,r,i,o,a,s,l,u,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c,this.apiKey=f}}const Wm="(default)";class Jf{constructor(e,n){this.projectId=e,this.database=n||Wm}static empty(){return new Jf("","")}get isDefaultDatabase(){return this.database===Wm}isEqual(e){return e instanceof Jf&&e.projectId===this.projectId&&e.database===this.database}}function Yq(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new le(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jf(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="__type__",Qq="__max__",ip={mapValue:{}},VD="__vector__",qm="value";function ha(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zE(t)?4:Zq(t)?9007199254740991:Jq(t)?10:11:xe(28295,{value:t})}function _i(t,e){if(t===e)return!0;const n=ha(t);if(n!==ha(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qf(t).isEqual(Qf(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=ca(i.timestampValue),s=ca(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return fa(i.bytesValue).isEqual(fa(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return _t(i.geoPointValue.latitude)===_t(o.geoPointValue.latitude)&&_t(i.geoPointValue.longitude)===_t(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return _t(i.integerValue)===_t(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=_t(i.doubleValue),s=_t(o.doubleValue);return a===s?zm(a)===zm(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return Xl(t.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(cI(a)!==cI(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!_i(a[l],s[l])))return!1;return!0}(t,e);default:return xe(52216,{left:t})}}function Zf(t,e){return(t.values||[]).find(n=>_i(n,e))!==void 0}function Yl(t,e){if(t===e)return 0;const n=ha(t),r=ha(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=_t(o.integerValue||o.doubleValue),l=_t(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return hI(t.timestampValue,e.timestampValue);case 4:return hI(Qf(t),Qf(e));case 5:return ux(t.stringValue,e.stringValue);case 6:return function(o,a){const s=fa(o),l=fa(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=je(s[u],l[u]);if(c!==0)return c}return je(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=je(_t(o.latitude),_t(a.latitude));return s!==0?s:je(_t(o.longitude),_t(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return dI(t.arrayValue,e.arrayValue);case 10:return function(o,a){var h,p,m,y;const s=o.fields||{},l=a.fields||{},u=(h=s[qm])==null?void 0:h.arrayValue,c=(p=l[qm])==null?void 0:p.arrayValue,f=je(((m=u==null?void 0:u.values)==null?void 0:m.length)||0,((y=c==null?void 0:c.values)==null?void 0:y.length)||0);return f!==0?f:dI(u,c)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===ip.mapValue&&a===ip.mapValue)return 0;if(o===ip.mapValue)return 1;if(a===ip.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=ux(l[f],c[f]);if(h!==0)return h;const p=Yl(s[l[f]],u[c[f]]);if(p!==0)return p}return je(l.length,c.length)}(t.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function hI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=ca(t),r=ca(e),i=je(n.seconds,r.seconds);return i!==0?i:je(n.nanos,r.nanos)}function dI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Yl(n[i],r[i]);if(o)return o}return je(n.length,r.length)}function Ql(t){return cx(t)}function cx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ca(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return fa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=cx(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${cx(n.fields[a])}`;return i+"}"}(t.mapValue):xe(61005,{value:t})}function Yp(t){switch(ha(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=iv(t);return e?16+Yp(e):16;case 5:return 2*t.stringValue.length;case 6:return fa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Yp(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return xa(r.fields,(o,a)=>{i+=o.length+Yp(a)}),i}(t.mapValue);default:throw xe(13486,{value:t})}}function pI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fx(t){return!!t&&"integerValue"in t}function WE(t){return!!t&&"arrayValue"in t}function mI(t){return!!t&&"nullValue"in t}function gI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qp(t){return!!t&&"mapValue"in t}function Jq(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[LD])==null?void 0:r.stringValue)===VD}function df(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return xa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=df(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=df(t.arrayValue.values[n]);return e}return{...t}}function Zq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Qq}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Qp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=df(n)}setAll(e){let n=tn.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=df(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Qp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Qp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){xa(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Mn(df(this.value))}}function FD(t){const e=[];return xa(t.fields,(n,r)=>{const i=new tn([n]);if(Qp(r)){const o=FD(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new dn(e,0,Se.min(),Se.min(),Se.min(),Mn.empty(),0)}static newFoundDocument(e,n,r,i){return new dn(e,1,n,Se.min(),r,i,0)}static newNoDocument(e,n){return new dn(e,2,n,Se.min(),Se.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,Se.min(),Se.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n){this.position=e,this.inclusive=n}}function yI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=ye.comparator(ye.fromName(a.referenceValue),n.key):r=Yl(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function vI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_i(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n="asc"){this.field=e,this.dir=n}}function eH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{}class Ot extends UD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nH(e,n,r):n==="array-contains"?new oH(e,r):n==="in"?new aH(e,r):n==="not-in"?new sH(e,r):n==="array-contains-any"?new lH(e,r):new Ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rH(e,r):new iH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Yl(n,this.value)):n!==null&&ha(this.value)===ha(n)&&this.matchesComparison(Yl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yr extends UD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Yr(e,n)}matches(e){return BD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function BD(t){return t.op==="and"}function zD(t){return tH(t)&&BD(t)}function tH(t){for(const e of t.filters)if(e instanceof Yr)return!1;return!0}function hx(t){if(t instanceof Ot)return t.field.canonicalString()+t.op.toString()+Ql(t.value);if(zD(t))return t.filters.map(e=>hx(e)).join(",");{const e=t.filters.map(n=>hx(n)).join(",");return`${t.op}(${e})`}}function WD(t,e){return t instanceof Ot?function(r,i){return i instanceof Ot&&r.op===i.op&&r.field.isEqual(i.field)&&_i(r.value,i.value)}(t,e):t instanceof Yr?function(r,i){return i instanceof Yr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&WD(a,i.filters[s]),!0):!1}(t,e):void xe(19439)}function qD(t){return t instanceof Ot?function(n){return`${n.field.canonicalString()} ${n.op} ${Ql(n.value)}`}(t):t instanceof Yr?function(n){return n.op.toString()+" {"+n.getFilters().map(qD).join(" ,")+"}"}(t):"Filter"}class nH extends Ot{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class rH extends Ot{constructor(e,n){super(e,"in",n),this.keys=HD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class iH extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=HD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function HD(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ye.fromName(r.referenceValue))}class oH extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return WE(n)&&Zf(n.arrayValue,this.value)}}class aH extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zf(this.value.arrayValue,n)}}class sH extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zf(this.value.arrayValue,n)}}class lH extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!WE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.Te=null}}function bI(t,e=null,n=[],r=[],i=null,o=null,a=null){return new uH(t,e,n,r,i,o,a)}function qE(t){const e=Ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>hx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),rv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ql(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ql(r)).join(",")),e.Te=n}return e.Te}function HE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vI(t.startAt,e.startAt)&&vI(t.endAt,e.endAt)}function dx(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function cH(t,e,n,r,i,o,a,s){return new Lu(t,e,n,r,i,o,a,s)}function GE(t){return new Lu(t)}function wI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fH(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function GD(t){return t.collectionGroup!==null}function pf(t){const e=Ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new Ut(tn.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new eh(o,r))}),n.has(tn.keyField().canonicalString())||e.Ie.push(new eh(tn.keyField(),r))}return e.Ie}function gi(t){const e=Ae(t);return e.Ee||(e.Ee=hH(e,pf(t))),e.Ee}function hH(t,e){if(t.limitType==="F")return bI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new eh(i.field,o)});const n=t.endAt?new Hm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hm(t.startAt.position,t.startAt.inclusive):null;return bI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function px(t,e){const n=t.filters.concat([e]);return new Lu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dH(t,e){const n=t.explicitOrderBy.concat([e]);return new Lu(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function mx(t,e,n){return new Lu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ov(t,e){return HE(gi(t),gi(e))&&t.limitType===e.limitType}function KD(t){return`${qE(gi(t))}|lt:${t.limitType}`}function Zs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>qD(i)).join(", ")}]`),rv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ql(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ql(i)).join(",")),`Target(${r})`}(gi(t))}; limitType=${t.limitType})`}function av(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ye.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of pf(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=yI(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,pf(r),i)||r.endAt&&!function(a,s,l){const u=yI(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,pf(r),i))}(t,e)}function pH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XD(t){return(e,n)=>{let r=!1;for(const i of pf(t)){const o=mH(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function mH(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?Yl(l,u):xe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xa(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return ND(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gH=new gt(ye.comparator);function io(){return gH}const YD=new gt(ye.comparator);function zc(...t){let e=YD;for(const n of t)e=e.insert(n.key,n);return e}function QD(t){let e=YD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ya(){return mf()}function JD(){return mf()}function mf(){return new $s(t=>t.toString(),(t,e)=>t.isEqual(e))}const yH=new gt(ye.comparator),vH=new Ut(ye.comparator);function Me(...t){let e=vH;for(const n of t)e=e.add(n);return e}const bH=new Ut(je);function wH(){return bH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zm(e)?"-0":e}}function ZD(t){return{integerValue:""+t}}function xH(t,e){return qq(e)?ZD(e):KE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(){this._=void 0}}function _H(t,e,n){return t instanceof Gm?function(i,o){const a={fields:{[MD]:{stringValue:jD},[DD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&zE(o)&&(o=iv(o)),o&&(a.fields[$D]=o),{mapValue:a}}(n,e):t instanceof th?t4(t,e):t instanceof nh?n4(t,e):function(i,o){const a=e4(i,o),s=xI(a)+xI(i.Ae);return fx(a)&&fx(i.Ae)?ZD(s):KE(i.serializer,s)}(t,e)}function EH(t,e,n){return t instanceof th?t4(t,e):t instanceof nh?n4(t,e):n}function e4(t,e){return t instanceof Km?function(r){return fx(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Gm extends sv{}class th extends sv{constructor(e){super(),this.elements=e}}function t4(t,e){const n=r4(e);for(const r of t.elements)n.some(i=>_i(i,r))||n.push(r);return{arrayValue:{values:n}}}class nh extends sv{constructor(e){super(),this.elements=e}}function n4(t,e){let n=r4(e);for(const r of t.elements)n=n.filter(i=>!_i(i,r));return{arrayValue:{values:n}}}class Km extends sv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function xI(t){return _t(t.integerValue||t.doubleValue)}function r4(t){return WE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function SH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof th&&i instanceof th||r instanceof nh&&i instanceof nh?Xl(r.elements,i.elements,_i):r instanceof Km&&i instanceof Km?_i(r.Ae,i.Ae):r instanceof Gm&&i instanceof Gm}(t.transform,e.transform)}class TH{constructor(e,n){this.version=e,this.transformResults=n}}class wr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lv{}function i4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new XE(t.key,wr.none()):new od(t.key,t.data,wr.none());{const n=t.data,r=Mn.empty();let i=new Ut(tn.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new _a(t.key,r,new Zn(i.toArray()),wr.none())}}function AH(t,e,n){t instanceof od?function(i,o,a){const s=i.value.clone(),l=EI(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof _a?function(i,o,a){if(!Jp(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=EI(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(o4(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function gf(t,e,n,r){return t instanceof od?function(o,a,s,l){if(!Jp(o.precondition,a))return s;const u=o.value.clone(),c=SI(o.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof _a?function(o,a,s,l){if(!Jp(o.precondition,a))return s;const u=SI(o.fieldTransforms,l,a),c=a.data;return c.setAll(o4(o)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,a,s){return Jp(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function PH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=e4(r.transform,i||null);o!=null&&(n===null&&(n=Mn.empty()),n.set(r.field,o))}return n||null}function _I(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Xl(r,i,(o,a)=>SH(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class od extends lv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _a extends lv{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function o4(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function EI(t,e,n){const r=new Map;Be(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,EH(a,s,n[i]))}return r}function SI(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,_H(o,a,e))}return r}class XE extends lv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kH extends lv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&AH(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=JD();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=i4(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&Xl(this.mutations,e.mutations,(n,r)=>_I(n,r))&&Xl(this.baseMutations,e.baseMutations,(n,r)=>_I(n,r))}}class YE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Be(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return yH}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new YE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Le;function NH(t){switch(t){case J.OK:return xe(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function a4(t){if(t===void 0)return ro("GRPC error has no .code"),J.UNKNOWN;switch(t){case Pt.OK:return J.OK;case Pt.CANCELLED:return J.CANCELLED;case Pt.UNKNOWN:return J.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return J.INTERNAL;case Pt.UNAVAILABLE:return J.UNAVAILABLE;case Pt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Pt.NOT_FOUND:return J.NOT_FOUND;case Pt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Pt.ABORTED:return J.ABORTED;case Pt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Pt.DATA_LOSS:return J.DATA_LOSS;default:return xe(39323,{code:t})}}(Le=Pt||(Pt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jH=new ta([4294967295,4294967295],0);function TI(t){const e=RH().encode(t),n=new xD;return n.update(e),new Uint8Array(n.digest())}function AI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ta([n,r],0),new ta([i,o],0)]}class QE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Wc(`Invalid padding: ${n}`);if(r<0)throw new Wc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Wc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ta.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ta.fromNumber(r)));return i.compare(jH)===1&&(i=new ta([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=TI(e),[r,i]=AI(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,i,o);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new QE(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.ge===0)return;const n=TI(e),[r,i]=AI(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,i,o);this.be(a)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Wc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ad.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new uv(Se.min(),i,new gt(je),io(),Me())}}class ad{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ad(r,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class s4{constructor(e,n){this.targetId=e,this.Ce=n}}class l4{constructor(e,n,r=an.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class PI{constructor(){this.ve=0,this.Fe=kI(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Me(),n=Me(),r=Me();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:xe(38017,{changeType:o})}}),new ad(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=kI()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Be(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class MH{constructor(e){this.Ge=e,this.ze=new Map,this.je=io(),this.He=op(),this.Je=op(),this.Ze=new gt(je)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(dx(o))if(r===0){const a=new ye(o.path);this.et(n,a,dn.newNoDocument(a,Se.min()))}else Be(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const s=this.ut(e),l=s?this.ct(s,e,a):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=fa(r).toUint8Array()}catch(l){if(l instanceof RD)return vs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new QE(a,i,o)}catch(l){return vs(l instanceof Wc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.ge===0?null:s}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Ge.ht(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,a)=>{const s=this.ot(a);if(s){if(o.current&&dx(s.target)){const l=new ye(s.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,dn.newNoDocument(l,e))}o.Be&&(n.set(a,o.ke()),o.Ke())}});let r=Me();this.Je.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.je.forEach((o,a)=>a.setReadTime(e));const i=new uv(e,n,this.Ze,this.je,r);return this.je=io(),this.He=op(),this.Je=op(),this.Ze=new gt(je),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new PI,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ut(je),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ut(je),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new PI),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function op(){return new gt(ye.comparator)}function kI(){return new gt(ye.comparator)}const $H={asc:"ASCENDING",desc:"DESCENDING"},DH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LH={and:"AND",or:"OR"};class VH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gx(t,e){return t.useProto3Json||rv(e)?e:{value:e}}function Xm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function u4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function FH(t,e){return Xm(t,e.toTimestamp())}function yi(t){return Be(!!t,49232),Se.fromTimestamp(function(n){const r=ca(n);return new rt(r.seconds,r.nanos)}(t))}function JE(t,e){return yx(t,e).canonicalString()}function yx(t,e){const n=function(i){return new Qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function c4(t){const e=Qe.fromString(t);return Be(m4(e),10190,{key:e.toString()}),e}function vx(t,e){return JE(t.databaseId,e.path)}function fb(t,e){const n=c4(e);if(n.get(1)!==t.databaseId.projectId)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(h4(n))}function f4(t,e){return JE(t.databaseId,e)}function UH(t){const e=c4(t);return e.length===4?Qe.emptyPath():h4(e)}function bx(t){return new Qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function h4(t){return Be(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function II(t,e,n){return{name:vx(t,e),fields:n.value.mapValue.fields}}function BH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:xe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Be(c===void 0||typeof c=="string",58123),an.fromBase64String(c||"")):(Be(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),an.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const c=u.code===void 0?J.UNKNOWN:a4(u.code);return new le(c,u.message||"")}(a);n=new l4(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=fb(t,r.document.name),o=yi(r.document.updateTime),a=r.document.createTime?yi(r.document.createTime):Se.min(),s=new Mn({mapValue:{fields:r.document.fields}}),l=dn.newFoundDocument(i,o,a,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Zp(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=fb(t,r.document),o=r.readTime?yi(r.readTime):Se.min(),a=dn.newNoDocument(i,o),s=r.removedTargetIds||[];n=new Zp([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=fb(t,r.document),o=r.removedTargetIds||[];n=new Zp([],o,i,null)}else{if(!("filter"in e))return xe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new CH(i,o),s=r.targetId;n=new s4(s,a)}}return n}function zH(t,e){let n;if(e instanceof od)n={update:II(t,e.key,e.value)};else if(e instanceof XE)n={delete:vx(t,e.key)};else if(e instanceof _a)n={update:II(t,e.key,e.data),updateMask:JH(e.fieldMask)};else{if(!(e instanceof kH))return xe(16599,{dt:e.type});n={verify:vx(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof Gm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof th)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof nh)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Km)return{fieldPath:a.field.canonicalString(),increment:s.Ae};throw xe(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:FH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xe(27497)}(t,e.precondition)),n}function WH(t,e){return t&&t.length>0?(Be(e!==void 0,14353),t.map(n=>function(i,o){let a=i.updateTime?yi(i.updateTime):yi(o);return a.isEqual(Se.min())&&(a=yi(o)),new TH(a,i.transformResults||[])}(n,e))):[]}function qH(t,e){return{documents:[f4(t,e.path)]}}function HH(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=f4(t,i);const o=function(u){if(u.length!==0)return p4(Yr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:el(h.field),direction:XH(h.dir)}}(c))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=gx(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function GH(t){let e=UH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Be(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const h=d4(f);return h instanceof Yr&&zD(h)?h.getFilters():[h]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(h=>function(m){return new eh(tl(m.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let s=null;n.limit&&(s=function(f){let h;return h=typeof f=="object"?f.value:f,rv(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new Hm(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new Hm(p,h)}(n.endAt)),cH(e,i,a,o,s,"F",l,u)}function KH(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function d4(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=tl(n.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=tl(n.unaryFilter.field);return Ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=tl(n.unaryFilter.field);return Ot.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=tl(n.unaryFilter.field);return Ot.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ot.create(tl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Yr.create(n.compositeFilter.filters.map(r=>d4(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xe(1026)}}(n.compositeFilter.op))}(t):xe(30097,{filter:t})}function XH(t){return $H[t]}function YH(t){return DH[t]}function QH(t){return LH[t]}function el(t){return{fieldPath:t.canonicalString()}}function tl(t){return tn.fromServerFormat(t.fieldPath)}function p4(t){return t instanceof Ot?function(n){if(n.op==="=="){if(gI(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NAN"}};if(mI(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gI(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NAN"}};if(mI(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(n.field),op:YH(n.op),value:n.value}}}(t):t instanceof Yr?function(n){const r=n.getFilters().map(i=>p4(i));return r.length===1?r[0]:{compositeFilter:{op:QH(n.op),filters:r}}}(t):xe(54877,{filter:t})}function JH(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function m4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function g4(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n,r,i,o=Se.min(),a=Se.min(),s=an.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Uo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Uo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(e){this.yt=e}}function eG(t){const e=GH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tG{constructor(){this.Sn=new nG}addToCollectionParentIndex(e,n){return this.Sn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(ua.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(ua.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class nG{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ut(Qe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ut(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},y4=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(y4,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Jl(0)}static ar(){return new Jl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="LruGarbageCollector",rG=1048576;function NI([t,e],[n,r]){const i=je(t,n);return i===0?je(e,r):i}class iG{constructor(e){this.Pr=e,this.buffer=new Ut(NI),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();NI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class oG{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(CI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Du(n)?ce(CI,"Ignoring IndexedDB error during garbage collection: ",n):await $u(n)}await this.Ar(3e5)})}}class aG{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(nv.ce);const r=new iG(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(OI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OI):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,o,a,s,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,a=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,s=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Js()<=Re.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-c}ms
	Determined least recently used ${i} in `+(s-a)+`ms
	Removed ${o} targets in `+(l-s)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function sG(t,e){return new aG(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lG{constructor(){this.changes=new $s(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&gf(r.mutation,i,Zn.empty(),rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Me()){const i=Ya();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=zc();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Ya();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Me()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=io();const a=mf(),s=function(){return mf()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof _a)?o=o.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),gf(c.mutation,u,c.mutation.getFieldMask(),rt.now())):a.set(u.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>a.set(u,c)),n.forEach((u,c)=>s.set(u,new uG(c,a.get(u)??null))),s))}recalculateAndSaveOverlays(e,n){const r=mf();let i=new gt((a,s)=>a-s),o=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Zn.empty();c=s.applyToLocalView(u,c),r.set(l,c);const f=(i.get(s.batchId)||Me()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,f=JD();c.forEach(h=>{if(!o.has(h)){const p=i4(n.get(h),r.get(h));p!==null&&f.set(h,p),o=o.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ee.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return fH(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):GD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ee.resolve(Ya());let s=Yf,l=o;return a.next(u=>ee.forEach(u,(c,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),o.get(c)?ee.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Me())).next(c=>({batchId:s,changes:QD(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let i=zc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=zc();return this.indexManager.getCollectionParents(e,o).next(s=>ee.forEach(s,l=>{const u=function(f,h){return new Lu(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,h)=>{a=a.insert(f,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,dn.newInvalidDocument(c)))});let s=zc();return a.forEach((l,u)=>{const c=o.get(l);c!==void 0&&gf(c.mutation,u,Zn.empty(),rt.now()),av(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fG{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ee.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:yi(i.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(i){return{name:i.name,query:eG(i.bundledQuery),readTime:yi(i.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{constructor(){this.overlays=new gt(ye.comparator),this.Lr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ya();return ee.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.bt(e,n,o)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Lr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const i=Ya(),o=n.length+1,a=new ye(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new gt((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Ya(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=Ya(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return ee.resolve(s)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new OH(n,r));let o=this.Lr.get(n);o===void 0&&(o=Me(),this.Lr.set(n,o)),this.Lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dG{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(){this.kr=new Ut(qt.Kr),this.qr=new Ut(qt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new qt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new qt(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new ye(new Qe([])),r=new qt(n,e),i=new qt(n,e+1),o=[];return this.qr.forEachInRange([r,i],a=>{this.Wr(a),o.push(a.key)}),o}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ye(new Qe([])),r=new qt(n,e),i=new qt(n,e+1);let o=Me();return this.qr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new qt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ye.comparator(e.key,n.key)||je(e.Hr,n.Hr)}static Ur(e,n){return je(e.Hr,n.Hr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ut(qt.Kr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new IH(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.Jr=this.Jr.add(new qt(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return ee.resolve(a)}lookupMutationBatch(e,n){return ee.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),o=i<0?0:i;return ee.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?BE:this.Yn-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qt(n,0),i=new qt(n,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,i],a=>{const s=this.Zr(a.Hr);o.push(s)}),ee.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ut(je);return n.forEach(i=>{const o=new qt(i,0),a=new qt(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,a],s=>{r=r.add(s.Hr)})}),ee.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ye.isDocumentKey(o)||(o=o.child(""));const a=new qt(new ye(o),0);let s=new Ut(je);return this.Jr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.Hr)),!0)},a),ee.resolve(this.Yr(s))}Yr(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Be(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ee.forEach(n.mutations,i=>{const o=new qt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new qt(n,0),i=this.Jr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mG{constructor(e){this.ti=e,this.docs=function(){return new gt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let r=io();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():dn.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=io();const a=n.path,s=new ye(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||Uq(Fq(c),r)<=0||(i.has(c.key)||av(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return ee.resolve(o)}getAllFromCollectionGroup(e,n,r,i){xe(9500)}ni(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new gG(this)}getSize(e){return ee.resolve(this.size)}}class gG extends lG{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(e){this.persistence=e,this.ri=new $s(n=>qE(n),HE),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new ZE,this.targetCount=0,this.oi=Jl._r()}forEachTarget(e,n){return this.ri.forEach((r,i)=>n(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ee.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Jl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.lr(n),ee.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.ri.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.ri.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),ee.waitFor(o).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),ee.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,n){this._i={},this.overlays={},this.ai=new nv(0),this.ui=!1,this.ui=!0,this.ci=new dG,this.referenceDelegate=e(this),this.li=new yG(this),this.indexManager=new tG,this.remoteDocumentCache=function(i){return new mG(i)}(r=>this.referenceDelegate.hi(r)),this.serializer=new ZH(n),this.Pi=new fG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new pG(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const i=new vG(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(o=>this.referenceDelegate.Ii(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return ee.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class vG extends zq{constructor(e){super(),this.currentSequenceNumber=e}}class eS{constructor(e){this.persistence=e,this.Ri=new ZE,this.Ai=null}static Vi(e){return new eS(e)}get di(){if(this.Ai)return this.Ai;throw xe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.di,r=>{const i=ye.fromPath(r);return this.mi(e,i).next(o=>{o||n.removeEntry(i,Se.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Ym{constructor(e,n){this.persistence=e,this.fi=new $s(r=>Hq(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=sG(this,n)}static Vi(e,n){return new Ym(e,n)}Ti(){}Ii(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return ee.forEach(this.fi,(r,i)=>this.wr(e,r,i).next(o=>o?ee.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ni(e,a=>this.wr(e,a,n).next(s=>{s||(r++,o.removeEntry(a,Se.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yp(e.data.value)),n}wr(e,n,r){return ee.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return ee.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=Me(),i=Me();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new tS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return sz()?8:Wq(vn())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.gs(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.ps(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new bG;return this.ys(e,n,a).next(s=>{if(o.result=s,this.As)return this.ws(e,n,a,s.size)})}).next(()=>o.result)}ws(e,n,r,i){return r.documentReadCount<this.Vs?(Js()<=Re.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Zs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(Js()<=Re.DEBUG&&ce("QueryEngine","Query:",Zs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Js()<=Re.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Zs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(n))):ee.resolve())}gs(e,n){if(wI(n))return ee.resolve(null);let r=gi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=mx(n,null,"F"),r=gi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=Me(...o);return this.fs.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.bs(n,s);return this.Ss(n,u,a,l.readTime)?this.gs(e,mx(n,null,"F")):this.Ds(e,u,n,l)}))})))}ps(e,n,r,i){return wI(n)||i.isEqual(Se.min())?ee.resolve(null):this.fs.getDocuments(e,r).next(o=>{const a=this.bs(n,o);return this.Ss(n,a,r,i)?ee.resolve(null):(Js()<=Re.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Zs(n)),this.Ds(e,a,n,Vq(i,Yf)).next(s=>s))})}bs(e,n){let r=new Ut(XD(e));return n.forEach((i,o)=>{av(e,o)&&(r=r.add(o))}),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ys(e,n,r){return Js()<=Re.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Zs(n)),this.fs.getDocumentsMatchingQuery(e,n,ua.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="LocalStore",xG=3e8;class _G{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new gt(je),this.Fs=new $s(o=>qE(o),HE),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cG(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function EG(t,e,n,r){return new _G(t,e,n,r)}async function b4(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=Me();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ns:u,removedBatchIds:a,addedBatchIds:s}))})})}function SG(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.xs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const f=u.batch,h=f.keys();let p=ee.resolve();return h.forEach(m=>{p=p.next(()=>c.getEntry(l,m)).next(y=>{const b=u.docVersions.get(m);Be(b!==null,48541),y.version.compareTo(b)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=Me();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function w4(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function TG(t,e){const n=Ae(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const s=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;s.push(n.li.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.li.addMatchingKeys(o,c.addedDocuments,f)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(an.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(y,b,v){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=xG?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,p,c)&&s.push(n.li.updateTargetData(o,p))});let l=io(),u=Me();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push(AG(o,a,e.documentUpdates).next(c=>{l=c.Bs,u=c.Ls})),!r.isEqual(Se.min())){const c=n.li.getLastRemoteSnapshotVersion(o).next(f=>n.li.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(c)}return ee.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.vs=i,o))}function AG(t,e,n){let r=Me(),i=Me();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=io();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(Se.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):ce(nS,"Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Bs:a,Ls:i}})}function PG(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=BE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function kG(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.li.getTargetData(r,e).next(o=>o?(i=o,ee.resolve(i)):n.li.allocateTargetId(r).next(a=>(i=new Uo(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function wx(t,e,n){const r=Ae(t),i=r.vs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Du(a))throw a;ce(nS,`Failed to update sequence numbers for target ${e}: ${a}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function RI(t,e,n){const r=Ae(t);let i=Se.min(),o=Me();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const f=Ae(l),h=f.Fs.get(c);return h!==void 0?ee.resolve(f.vs.get(h)):f.li.getTargetData(u,c)}(r,a,gi(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(a,e,n?i:Se.min(),n?o:Me())).next(s=>(IG(r,pH(e),s),{documents:s,ks:o})))}function IG(t,e,n){let r=t.Ms.get(e)||Se.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ms.set(e,r)}class jI{constructor(){this.activeTargetIds=wH()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OG{constructor(){this.vo=new jI,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new jI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="ConnectivityMonitor";class $I{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(MI,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(MI,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ap=null;function xx(){return ap===null?ap=function(){return 268435456+Math.round(2147483648*Math.random())}():ap++,"0x"+ap.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="RestConnection",NG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class RG{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Wm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){const a=xx(),s=this.Qo(e,n.toUriEncodedString());ce(hb,`Sending RPC '${e}' ${a}:`,s,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,i,o);const{host:u}=new URL(s),c=Rs(u);return this.zo(e,s,l,r,c).then(f=>(ce(hb,`Received RPC '${e}' ${a}: `,f),f),f=>{throw vs(hb,`RPC '${e}' ${a} failed with error: `,f,"url: ",s,"request:",r),f})}jo(e,n,r,i,o,a){return this.Wo(e,n,r,i,o)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Qo(e,n){const r=NG[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection",Sc=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(i){setTimeout(()=>{throw i},0)}})};class Ol extends RG{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ol.c_){const e=TD();Sc(e,SD.STAT_EVENT,n=>{n.stat===lx.PROXY?ce(un,"STAT_EVENT: detected buffering proxy"):n.stat===lx.NOPROXY&&ce(un,"STAT_EVENT: detected no buffering proxy")}),Ol.c_=!0}}zo(e,n,r,i,o){const a=xx();return new Promise((s,l)=>{const u=new _D;u.setWithCredentials(!0),u.listenOnce(ED.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Xp.NO_ERROR:const f=u.getResponseJson();ce(un,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),s(f);break;case Xp.TIMEOUT:ce(un,`RPC '${e}' ${a} timed out`),l(new le(J.DEADLINE_EXCEEDED,"Request time out"));break;case Xp.HTTP_ERROR:const h=u.getStatus();if(ce(un,`RPC '${e}' ${a} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const y=function(v){const w=v.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(w)>=0?w:J.UNKNOWN}(m.status);l(new le(y,m.message))}else l(new le(J.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new le(J.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ce(un,`RPC '${e}' ${a} completed.`)}});const c=JSON.stringify(i);ce(un,`RPC '${e}' ${a} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(e,n,r){const i=xx(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=this.createWebChannelTransport(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Go(s.initMessageHeaders,n,r),s.encodeInitMessageHeaders=!0;const u=o.join("");ce(un,`Creating RPC '${e}' stream ${i}: ${u}`,s);const c=a.createWebChannel(u,s);this.I_(c);let f=!1,h=!1;const p=new jG({Ho:m=>{h?ce(un,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(f||(ce(un,`Opening RPC '${e}' stream ${i} transport.`),c.open(),f=!0),ce(un,`RPC '${e}' stream ${i} sending:`,m),c.send(m))},Jo:()=>c.close()});return Sc(c,Bc.EventType.OPEN,()=>{h||(ce(un,`RPC '${e}' stream ${i} transport opened.`),p.i_())}),Sc(c,Bc.EventType.CLOSE,()=>{h||(h=!0,ce(un,`RPC '${e}' stream ${i} transport closed`),p.o_(),this.E_(c))}),Sc(c,Bc.EventType.ERROR,m=>{h||(h=!0,vs(un,`RPC '${e}' stream ${i} transport errored. Name:`,m.name,"Message:",m.message),p.o_(new le(J.UNAVAILABLE,"The operation could not be completed")))}),Sc(c,Bc.EventType.MESSAGE,m=>{var y;if(!h){const b=m.data[0];Be(!!b,16349);const v=b,w=(v==null?void 0:v.error)||((y=v[0])==null?void 0:y.error);if(w){ce(un,`RPC '${e}' stream ${i} received error:`,w);const x=w.status;let A=function(S){const T=Pt[S];if(T!==void 0)return a4(T)}(x),_=w.message;x==="NOT_FOUND"&&_.includes("database")&&_.includes("does not exist")&&_.includes(this.databaseId.database)&&vs(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),A===void 0&&(A=J.INTERNAL,_="Unknown error status: "+x+" with message "+w.message),h=!0,p.o_(new le(A,_)),c.close()}else ce(un,`RPC '${e}' stream ${i} received:`,b),p.__(b)}}),Ol.u_(),setTimeout(()=>{p.s_()},0),p}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return AD()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MG(t){return new Ol(t)}function db(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t){return new VH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ol.c_=!1;class x4{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="PersistentStream";class _4{constructor(e,n,r,i,o,a,s,l){this.Ci=e,this.b_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new x4(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(ro(n.toString()),ro("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new le(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ce(DI,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(ce(DI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $G extends _4{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=BH(this.serializer,e),r=function(o){if(!("targetChange"in o))return Se.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?Se.min():a.readTime?yi(a.readTime):Se.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=bx(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=dx(l)?{documents:qH(o,l)}:{query:HH(o,l).ft},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=u4(o,a.resumeToken);const u=gx(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(Se.min())>0){s.readTime=Xm(o,a.snapshotVersion.toTimestamp());const u=gx(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=KH(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=bx(this.serializer),n.removeTarget=e,this.K_(n)}}class DG extends _4{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=WH(e.writeResults,e.commitTime),r=yi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=bx(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>zH(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{}class VG extends LG{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Wo(e,yx(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(J.UNKNOWN,o.toString())})}jo(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.jo(e,yx(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new le(J.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function FG(t,e,n,r){return new VG(t,e,n,r)}class UG{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ro(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="RemoteStore";class BG{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo(a=>{r.enqueueAndForget(async()=>{Ds(this)&&(ce(bs,"Restarting streams for network reachability change."),await async function(l){const u=Ae(l);u.Ea.add(4),await sd(u),u.Va.set("Unknown"),u.Ea.delete(4),await fv(u)}(this))})}),this.Va=new UG(r,i)}}async function fv(t){if(Ds(t))for(const e of t.Ra)await e(!0)}async function sd(t){for(const e of t.Ra)await e(!1)}function E4(t,e){const n=Ae(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),aS(n)?oS(n):Vu(n).O_()&&iS(n,e))}function rS(t,e){const n=Ae(t),r=Vu(n);n.Ia.delete(e),r.O_()&&S4(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ds(n)&&n.Va.set("Unknown"))}function iS(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vu(t).Z_(e)}function S4(t,e){t.da.$e(e),Vu(t).X_(e)}function oS(t){t.da=new MH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Vu(t).start(),t.Va.ua()}function aS(t){return Ds(t)&&!Vu(t).x_()&&t.Ia.size>0}function Ds(t){return Ae(t).Ea.size===0}function T4(t){t.da=void 0}async function zG(t){t.Va.set("Online")}async function WG(t){t.Ia.forEach((e,n)=>{iS(t,e)})}async function qG(t,e){T4(t),aS(t)?(t.Va.ha(e),oS(t)):t.Va.set("Unknown")}async function HG(t,e,n){if(t.Va.set("Online"),e instanceof l4&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.Ia.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.Ia.delete(s),i.da.removeTarget(s))}(t,e)}catch(r){ce(bs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qm(t,r)}else if(e instanceof Zp?t.da.Xe(e):e instanceof s4?t.da.st(e):t.da.tt(e),!n.isEqual(Se.min()))try{const r=await w4(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.da.Tt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.Ia.get(u);c&&o.Ia.set(u,c.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const c=o.Ia.get(l);if(!c)return;o.Ia.set(l,c.withResumeToken(an.EMPTY_BYTE_STRING,c.snapshotVersion)),S4(o,l);const f=new Uo(c.target,l,u,c.sequenceNumber);iS(o,f)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){ce(bs,"Failed to raise snapshot:",r),await Qm(t,r)}}async function Qm(t,e,n){if(!Du(e))throw e;t.Ea.add(1),await sd(t),t.Va.set("Offline"),n||(n=()=>w4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce(bs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await fv(t)})}function A4(t,e){return e().catch(n=>Qm(t,n,e))}async function hv(t){const e=Ae(t),n=da(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:BE;for(;GG(e);)try{const i=await PG(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,KG(e,i)}catch(i){await Qm(e,i)}P4(e)&&k4(e)}function GG(t){return Ds(t)&&t.Ta.length<10}function KG(t,e){t.Ta.push(e);const n=da(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function P4(t){return Ds(t)&&!da(t).x_()&&t.Ta.length>0}function k4(t){da(t).start()}async function XG(t){da(t).ra()}async function YG(t){const e=da(t);for(const n of t.Ta)e.ea(n.mutations)}async function QG(t,e,n){const r=t.Ta.shift(),i=YE.from(r,e,n);await A4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await hv(t)}async function JG(t,e){e&&da(t).Y_&&await async function(r,i){if(function(a){return NH(a)&&a!==J.ABORTED}(i.code)){const o=r.Ta.shift();da(r).B_(),await A4(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await hv(r)}}(t,e),P4(t)&&k4(t)}async function LI(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),ce(bs,"RemoteStore received new credentials");const r=Ds(n);n.Ea.add(3),await sd(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await fv(n)}async function ZG(t,e){const n=Ae(t);e?(n.Ea.delete(2),await fv(n)):e||(n.Ea.add(2),await sd(n),n.Va.set("Unknown"))}function Vu(t){return t.ma||(t.ma=function(n,r,i){const o=Ae(n);return o.sa(),new $G(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:zG.bind(null,t),Yo:WG.bind(null,t),t_:qG.bind(null,t),J_:HG.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),aS(t)?oS(t):t.Va.set("Unknown")):(await t.ma.stop(),T4(t))})),t.ma}function da(t){return t.fa||(t.fa=function(n,r,i){const o=Ae(n);return o.sa(),new DG(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:XG.bind(null,t),t_:JG.bind(null,t),ta:YG.bind(null,t),na:QG.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await hv(t)):(await t.fa.stop(),t.Ta.length>0&&(ce(bs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new sS(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lS(t,e){if(ro("AsyncQueue",`${e}: ${t}`),Du(t))return new le(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{static emptySet(e){return new Cl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=zc(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Cl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Cl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(){this.ga=new gt(ye.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Zl{constructor(e,n,r,i,o,a,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new Zl(e,n,Cl.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ov(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class tK{constructor(){this.queries=FI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ae(n),o=i.queries;i.queries=FI(),o.forEach((a,s)=>{for(const l of s.ba)l.onError(r)})})(this,new le(J.ABORTED,"Firestore shutting down"))}}function FI(){return new $s(t=>KD(t),ov)}async function nK(t,e){const n=Ae(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Sa()&&e.Da()&&(r=2):(o=new eK,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=lS(a,`Initialization of query '${Zs(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.ba.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&uS(n)}async function rK(t,e){const n=Ae(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.ba.indexOf(e);a>=0&&(o.ba.splice(a,1),o.ba.length===0?i=e.Da()?0:1:!o.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function iK(t,e){const n=Ae(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.ba)s.Fa(i)&&(r=!0);a.wa=i}}r&&uS(n)}function oK(t,e,n){const r=Ae(t),i=r.queries.get(e);if(i)for(const o of i.ba)o.onError(n);r.queries.delete(e)}function uS(t){t.Ca.forEach(e=>{e.next()})}var _x,UI;(UI=_x||(_x={})).Ma="default",UI.Cache="cache";class aK{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Zl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Zl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_x.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.key=e}}class O4{constructor(e){this.key=e}}class sK{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Me(),this.mutatedKeys=Me(),this.eu=XD(e),this.tu=new Cl(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new VI,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),p=av(this.query,f)?f:null,m=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;h&&p?h.data.isEqual(p.data)?m!==y&&(r.track({type:3,doc:p}),b=!0):this.su(h,p)||(r.track({type:2,doc:p}),b=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(s=!0)):!h&&p?(r.track({type:0,doc:p}),b=!0):h&&!p&&(r.track({type:1,doc:h}),b=!0,(l||u)&&(s=!0)),b&&(p?(a=a.add(p),o=y?o.add(c):o.delete(c)):(a=a.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{tu:a,iu:r,Ss:s,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((c,f)=>function(p,m){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Vt:b})}};return y(p)-y(m)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(r),i=i??!1;const s=n&&!i?this._u():[],l=this.Ya.size===0&&this.current&&!i?1:0,u=l!==this.Xa;return this.Xa=l,a.length!==0||u?{snapshot:new Zl(this.query,e.tu,o,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new VI,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Me(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new O4(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new I4(r))}),n}cu(e){this.Za=e.ks,this.Ya=Me();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Zl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const cS="SyncEngine";class lK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class uK{constructor(e){this.key=e,this.hu=!1}}class cK{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new $s(s=>KD(s),ov),this.Iu=new Map,this.Eu=new Set,this.Ru=new gt(ye.comparator),this.Au=new Map,this.Vu=new ZE,this.du={},this.mu=new Map,this.fu=Jl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fK(t,e,n=!0){const r=$4(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await C4(r,e,n,!0),i}async function hK(t,e){const n=$4(t);await C4(n,e,!0,!1)}async function C4(t,e,n,r){const i=await kG(t.localStore,gi(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await dK(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&E4(t.remoteStore,i),s}async function dK(t,e,n,r,i){t.pu=(f,h,p)=>async function(y,b,v,w){let x=b.view.ru(v);x.Ss&&(x=await RI(y.localStore,b.query,!1).then(({documents:S})=>b.view.ru(S,x)));const A=w&&w.targetChanges.get(b.targetId),_=w&&w.targetMismatches.get(b.targetId)!=null,P=b.view.applyChanges(x,y.isPrimaryClient,A,_);return zI(y,b.targetId,P.au),P.snapshot}(t,f,h,p);const o=await RI(t.localStore,e,!0),a=new sK(e,o.ks),s=a.ru(o.documents),l=ad.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,l);zI(t,n,u.au);const c=new lK(e,n,a);return t.Tu.set(e,c),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function pK(t,e,n){const r=Ae(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(a=>!ov(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await wx(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&rS(r.remoteStore,i.targetId),Ex(r,i.targetId)}).catch($u)):(Ex(r,i.targetId),await wx(r.localStore,i.targetId,!0))}async function mK(t,e){const n=Ae(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),rS(n.remoteStore,r.targetId))}async function gK(t,e,n){const r=EK(t);try{const i=await function(a,s){const l=Ae(a),u=rt.now(),c=s.reduce((p,m)=>p.add(m.key),Me());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=io(),y=Me();return l.xs.getEntries(p,c).next(b=>{m=b,m.forEach((v,w)=>{w.isValidDocument()||(y=y.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(b=>{f=b;const v=[];for(const w of s){const x=PH(w,f.get(w.key).overlayedDocument);x!=null&&v.push(new _a(w.key,x,FD(x.value.mapValue),wr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,v,s)}).next(b=>{h=b;const v=b.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(p,b.batchId,v)})}).then(()=>({batchId:h.batchId,changes:QD(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.du[a.currentUser.toKey()];u||(u=new gt(je)),u=u.insert(s,l),a.du[a.currentUser.toKey()]=u}(r,i.batchId,n),await ld(r,i.changes),await hv(r.remoteStore)}catch(i){const o=lS(i,"Failed to persist write");n.reject(o)}}async function N4(t,e){const n=Ae(t);try{const r=await TG(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Au.get(o);a&&(Be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?Be(a.hu,14607):i.removedDocuments.size>0&&(Be(a.hu,42227),a.hu=!1))}),await ld(n,r,e)}catch(r){await $u(r)}}function BI(t,e,n){const r=Ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,a)=>{const s=a.view.va(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=Ae(a);l.onlineState=s;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.ba)h.va(s)&&(u=!0)}),u&&uS(l)}(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yK(t,e,n){const r=Ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let a=new gt(ye.comparator);a=a.insert(o,dn.newNoDocument(o,Se.min()));const s=Me().add(o),l=new uv(Se.min(),new Map,new gt(je),a,s);await N4(r,l),r.Ru=r.Ru.remove(o),r.Au.delete(e),fS(r)}else await wx(r.localStore,e,!1).then(()=>Ex(r,e,n)).catch($u)}async function vK(t,e){const n=Ae(t),r=e.batch.batchId;try{const i=await SG(n.localStore,e);j4(n,r,null),R4(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ld(n,i)}catch(i){await $u(i)}}async function bK(t,e,n){const r=Ae(t);try{const i=await function(a,s){const l=Ae(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(f=>(Be(f!==null,37113),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);j4(r,e,n),R4(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ld(r,i)}catch(i){await $u(i)}}function R4(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function j4(t,e,n){const r=Ae(t);let i=r.du[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function Ex(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||M4(t,r)})}function M4(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(rS(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),fS(t))}function zI(t,e,n){for(const r of n)r instanceof I4?(t.Vu.addReference(r.key,e),wK(t,r)):r instanceof O4?(ce(cS,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||M4(t,r.key)):xe(19791,{wu:r})}function wK(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(ce(cS,"New document in limbo: "+n),t.Eu.add(r),fS(t))}function fS(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(Qe.fromString(e)),r=t.fu.next();t.Au.set(r,new uK(n)),t.Ru=t.Ru.insert(n,r),E4(t.remoteStore,new Uo(gi(GE(n.path)),r,"TargetPurposeLimboResolution",nv.ce))}}async function ld(t,e,n){const r=Ae(t),i=[],o=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((s,l)=>{a.push(r.pu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=tS.Es(l.targetId,u);o.push(f)}}))}),await Promise.all(a),r.Pu.J_(i),await async function(l,u){const c=Ae(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ee.forEach(u,h=>ee.forEach(h.Ts,p=>c.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>ee.forEach(h.Is,p=>c.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Du(f))throw f;ce(nS,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=c.vs.get(h),m=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(m);c.vs=c.vs.insert(h,y)}}}(r.localStore,o))}async function xK(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){ce(cS,"User change. New user:",e.toKey());const r=await b4(n.localStore,e);n.currentUser=e,function(o,a){o.mu.forEach(s=>{s.forEach(l=>{l.reject(new le(J.CANCELLED,a))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ld(n,r.Ns)}}function _K(t,e){const n=Ae(t),r=n.Au.get(e);if(r&&r.hu)return Me().add(r.key);{let i=Me();const o=n.Iu.get(e);if(!o)return i;for(const a of o){const s=n.Tu.get(a);i=i.unionWith(s.view.nu)}return i}}function $4(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=N4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_K.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yK.bind(null,e),e.Pu.J_=iK.bind(null,e.eventManager),e.Pu.yu=oK.bind(null,e.eventManager),e}function EK(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bK.bind(null,e),e}class Jm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return EG(this.persistence,new wG,e.initialUser,this.serializer)}Cu(e){return new v4(eS.Vi,this.serializer)}Du(e){return new OG}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jm.provider={build:()=>new Jm};class SK extends Jm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Be(this.persistence.referenceDelegate instanceof Ym,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new oG(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new v4(r=>Ym.Vi(r,n),this.serializer)}}class Sx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>BI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xK.bind(null,this.syncEngine),await ZG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new tK}()}createDatastore(e){const n=cv(e.databaseInfo.databaseId),r=MG(e.databaseInfo);return FG(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new BG(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>BI(this.syncEngine,n,0),function(){return $I.v()?new $I:new CG}())}createSyncEngine(e,n){return function(i,o,a,s,l,u,c){const f=new cK(i,o,a,s,l,u);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Ae(i);ce(bs,"RemoteStore shutting down."),o.Ea.add(5),await sd(o),o.Aa.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Sx.provider={build:()=>new Sx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TK{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ro("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="FirestoreClient";class AK{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=fn.UNAUTHENTICATED,this.clientId=UE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{ce(pa,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ce(pa,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=lS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function pb(t,e){t.asyncQueue.verifyOperationInProgress(),ce(pa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await b4(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function WI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await PK(t);ce(pa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>LI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>LI(e.remoteStore,i)),t._onlineComponents=e}async function PK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce(pa,"Using user provided OfflineComponentProvider");try{await pb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;vs("Error using user provided cache. Falling back to memory cache: "+n),await pb(t,new Jm)}}else ce(pa,"Using default OfflineComponentProvider"),await pb(t,new SK(void 0));return t._offlineComponents}async function D4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce(pa,"Using user provided OnlineComponentProvider"),await WI(t,t._uninitializedComponentsProvider._online)):(ce(pa,"Using default OnlineComponentProvider"),await WI(t,new Sx))),t._onlineComponents}function kK(t){return D4(t).then(e=>e.syncEngine)}async function qI(t){const e=await D4(t),n=e.eventManager;return n.onListen=fK.bind(null,e.syncEngine),n.onUnlisten=pK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mK.bind(null,e.syncEngine),n}function IK(t,e,n,r){const i=new TK(r),o=new aK(e,i,n);return t.asyncQueue.enqueueAndForget(async()=>nK(await qI(t),o)),()=>{i.Nu(),t.asyncQueue.enqueueAndForget(async()=>rK(await qI(t),o))}}function OK(t,e){const n=new as;return t.asyncQueue.enqueueAndForget(async()=>gK(await kK(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CK="ComponentProvider",HI=new Map;function NK(t,e,n,r,i){return new Xq(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,L4(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4="firestore.googleapis.com",GI=!0;class KI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=V4,this.ssl=GI}else this.host=e.host,this.ssl=e.ssl??GI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=y4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rG)throw new le(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Lq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=L4(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new kq;switch(r.type){case"firstParty":return new Nq(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=HI.get(n);r&&(ce(CK,"Removing Datastore"),HI.delete(n),r.terminate())}(this),Promise.resolve()}}function RK(t,e,n,r={}){var u;t=mi(t,dv);const i=Rs(e),o=t._getSettings(),a={...o,emulatorOptions:t._getEmulatorOptions()},s=`${e}:${n}`;i&&(kE(`https://${s}`),IE("Firestore",!0)),o.host!==V4&&o.host!==s&&vs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:s,ssl:i,emulatorOptions:r};if(!la(l,a)&&(t._setSettings(l),r.mockUserToken)){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=fn.MOCK_USER;else{c=j$(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new le(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new fn(h)}t._authCredentials=new Iq(new kD(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ls(this.firestore,e,this._query)}}class St{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}toJSON(){return{type:St._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(id(n,St._jsonSchema))return new St(e,r||null,new ye(Qe.fromString(n.referencePath)))}}St._jsonSchemaVersion="firestore/documentReference/1.0",St._jsonSchema={type:Ct("string",St._jsonSchemaVersion),referencePath:Ct("string")};class na extends Ls{constructor(e,n,r){super(e,n,GE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new ye(e))}withConverter(e){return new na(this.firestore,e,this._path)}}function sp(t,e,...n){if(t=Rt(t),ID("collection","path",e),t instanceof dv){const r=Qe.fromString(e,...n);return aI(r),new na(t,null,r)}{if(!(t instanceof St||t instanceof na))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return aI(r),new na(t.firestore,null,r)}}function em(t,e,...n){if(t=Rt(t),arguments.length===1&&(e=UE.newId()),ID("doc","path",e),t instanceof dv){const r=Qe.fromString(e,...n);return oI(r),new St(t,null,new ye(r))}{if(!(t instanceof St||t instanceof na))throw new le(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return oI(r),new St(t.firestore,t instanceof na?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="AsyncQueue";class YI{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new x4(this,"async_queue_retry"),this._c=()=>{const r=db();r&&ce(XI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=db();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=db();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new as;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Du(e))throw e;ce(XI,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ro("INTERNAL UNHANDLED ERROR: ",QI(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=sS.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&xe(47125,{Pc:QI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function QI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ws extends dv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new YI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new YI(e),this._firestoreClient=void 0,await e}}}function jK(t,e){const n=typeof t=="object"?t:Jy(),r=typeof t=="string"?t:Wm,i=wa(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=C$("firestore");o&&RK(i,...o)}return i}function F4(t){if(t._terminated)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||MK(t),t._firestoreClient}function MK(t){var r,i,o,a;const e=t._freezeSettings(),n=NK(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new AK(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pr(an.fromBase64String(e))}catch(n){throw new le(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pr(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(id(e,pr._jsonSchema))return pr.fromBase64String(e.bytes)}}pr._jsonSchemaVersion="firestore/bytes/1.0",pr._jsonSchema={type:Ct("string",pr._jsonSchemaVersion),bytes:Ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vi._jsonSchemaVersion}}static fromJSON(e){if(id(e,vi._jsonSchema))return new vi(e.latitude,e.longitude)}}vi._jsonSchemaVersion="firestore/geoPoint/1.0",vi._jsonSchema={type:Ct("string",vi._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Hr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(id(e,Hr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Hr(e.vectorValues);throw new le(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hr._jsonSchemaVersion="firestore/vectorValue/1.0",Hr._jsonSchema={type:Ct("string",Hr._jsonSchemaVersion),vectorValues:Ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $K=/^__.*__$/;class DK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _a(e,this.data,this.fieldMask,n,this.fieldTransforms):new od(e,this.data,n,this.fieldTransforms)}}class U4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _a(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function B4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{dataSource:t})}}class pS{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new pS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Zm(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(B4(this.dataSource)&&$K.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class LK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cv(e)}createContext(e,n,r,i=!1){return new pS({dataSource:e,methodName:n,targetDoc:r,path:tn.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pv(t){const e=t._freezeSettings(),n=cv(t._databaseId);return new LK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function z4(t,e,n,r,i,o={}){const a=t.createContext(o.merge||o.mergeFields?2:0,e,n,i);mS("Data must be an object, but it was:",a,r);const s=W4(r,a);let l,u;if(o.merge)l=new Zn(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const h=eu(e,f,n);if(!a.contains(h))throw new le(J.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);G4(c,h)||c.push(h)}l=new Zn(c),u=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=a.fieldTransforms;return new DK(new Mn(s),l,u)}class mv extends dS{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mv}}function VK(t,e,n,r){const i=t.createContext(1,e,n);mS("Data must be an object, but it was:",i,r);const o=[],a=Mn.empty();xa(r,(l,u)=>{const c=H4(e,l,n);u=Rt(u);const f=i.childContextForFieldPath(c);if(u instanceof mv)o.push(c);else{const h=ud(u,f);h!=null&&(o.push(c),a.set(c,h))}});const s=new Zn(o);return new U4(a,s,i.fieldTransforms)}function FK(t,e,n,r,i,o){const a=t.createContext(1,e,n),s=[eu(e,r,n)],l=[i];if(o.length%2!=0)throw new le(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)s.push(eu(e,o[h])),l.push(o[h+1]);const u=[],c=Mn.empty();for(let h=s.length-1;h>=0;--h)if(!G4(u,s[h])){const p=s[h];let m=l[h];m=Rt(m);const y=a.childContextForFieldPath(p);if(m instanceof mv)u.push(p);else{const b=ud(m,y);b!=null&&(u.push(p),c.set(p,b))}}const f=new Zn(u);return new U4(c,f,a.fieldTransforms)}function UK(t,e,n,r=!1){return ud(n,t.createContext(r?4:3,e))}function ud(t,e){if(q4(t=Rt(t)))return mS("Unsupported field value:",e,t),W4(t,e);if(t instanceof dS)return function(r,i){if(!B4(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=ud(s,i.childContextForArray(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=rt.fromDate(r);return{timestampValue:Xm(i.serializer,o)}}if(r instanceof rt){const o=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xm(i.serializer,o)}}if(r instanceof vi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pr)return{bytesValue:u4(i.serializer,r._byteString)};if(r instanceof St){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.createError(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:JE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Hr)return function(a,s){const l=a instanceof Hr?a.toArray():a;return{mapValue:{fields:{[LD]:{stringValue:VD},[qm]:{arrayValue:{values:l.map(c=>{if(typeof c!="number")throw s.createError("VectorValues must only contain numeric values.");return KE(s.serializer,c)})}}}}}}(r,i);if(g4(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${tv(r)}`)}(t,e)}function W4(t,e){const n={};return ND(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xa(t,(r,i)=>{const o=ud(i,e.childContextForField(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function q4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof vi||t instanceof pr||t instanceof St||t instanceof dS||t instanceof Hr||g4(t))}function mS(t,e,n){if(!q4(n)||!OD(n)){const r=tv(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function eu(t,e,n){if((e=Rt(e))instanceof hS)return e._internalPath;if(typeof e=="string")return H4(t,e);throw Zm("Field path arguments must be of type string or ",t,!1,void 0,n)}const BK=new RegExp("[~\\*/\\[\\]]");function H4(t,e,n){if(e.search(BK)>=0)throw Zm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hS(...e.split("."))._internalPath}catch{throw Zm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zm(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new le(J.INVALID_ARGUMENT,s+t+l)}function G4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zK{convertValue(e,n="none"){switch(ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xa(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[qm].arrayValue)==null?void 0:i.values)==null?void 0:o.map(a=>_t(a.doubleValue));return new Hr(n)}convertGeoPoint(e){return new vi(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=iv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qf(e));default:return null}}convertTimestamp(e){const n=ca(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Qe.fromString(e);Be(m4(r),9688,{name:e});const i=new Jf(r.get(1),r.get(3)),o=new ye(r.popFirst(5));return i.isEqual(n)||ro(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4 extends zK{constructor(e){super(),this.firestore=e}convertBytes(e){return new pr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,n)}}const JI="@firebase/firestore",ZI="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(eu("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WK extends X4{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qK(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gS{}class Y4 extends gS{}function HK(t,e,...n){let r=[];e instanceof gS&&r.push(e),r=r.concat(n),function(o){const a=o.filter(l=>l instanceof vS).length,s=o.filter(l=>l instanceof yS).length;if(a>1||a>0&&s>0)throw new le(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class yS extends Y4{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new yS(e,n,r)}_apply(e){const n=this._parse(e);return Q4(e._query,n),new Ls(e.firestore,e.converter,px(e._query,n))}_parse(e){const n=pv(e.firestore);return function(o,a,s,l,u,c,f){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new le(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){n2(f,c);const m=[];for(const y of f)m.push(t2(l,o,y));h={arrayValue:{values:m}}}else h=t2(l,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||n2(f,c),h=UK(s,a,f,c==="in"||c==="not-in");return Ot.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class vS extends gS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Yr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i;const s=o.getFlattenedFilters();for(const l of s)Q4(a,l),a=px(a,l)}(e._query,n),new Ls(e.firestore,e.converter,px(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bS extends Y4{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new bS(e,n)}_apply(e){const n=function(i,o,a){if(i.startAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eh(o,a)}(e._query,this._field,this._direction);return new Ls(e.firestore,e.converter,dH(e._query,n))}}function GK(t,e="asc"){const n=e,r=eu("orderBy",t);return bS._create(r,n)}function t2(t,e,n){if(typeof(n=Rt(n))=="string"){if(n==="")throw new le(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GD(e)&&n.indexOf("/")!==-1)throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Qe.fromString(n));if(!ye.isDocumentKey(r))throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pI(t,new ye(r))}if(n instanceof St)return pI(t,n._key);throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tv(n)}.`)}function n2(t,e){if(!Array.isArray(t)||t.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Q4(t,e){const n=function(i,o){for(const a of i)for(const s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function J4(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class qc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ss extends X4{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new tm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(eu("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ss._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ss._jsonSchemaVersion="firestore/documentSnapshot/1.0",ss._jsonSchema={type:Ct("string",ss._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class tm extends ss{data(e={}){return super.data(e)}}class Nl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new tm(this._firestore,this._userDataWriter,r.key,r,new qc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new tm(i._firestore,i._userDataWriter,s.doc.key,s.doc,new qc(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new tm(i._firestore,i._userDataWriter,s.doc.key,s.doc,new qc(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),c=a.indexOf(s.doc.key)),{type:KK(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Nl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=UE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function KK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nl._jsonSchemaVersion="firestore/querySnapshot/1.0",Nl._jsonSchema={type:Ct("string",Nl._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};function XK(t,e,n){t=mi(t,St);const r=mi(t.firestore,ws),i=J4(t.converter,e),o=pv(r);return gv(r,[z4(o,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,wr.none())])}function YK(t,e,n,...r){t=mi(t,St);const i=mi(t.firestore,ws),o=pv(i);let a;return a=typeof(e=Rt(e))=="string"||e instanceof hS?FK(o,"updateDoc",t._key,e,n,r):VK(o,"updateDoc",t._key,e),gv(i,[a.toMutation(t._key,wr.exists(!0))])}function QK(t){return gv(mi(t.firestore,ws),[new XE(t._key,wr.none())])}function JK(t,e){const n=mi(t.firestore,ws),r=em(t),i=J4(t.converter,e),o=pv(t.firestore);return gv(n,[z4(o,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,wr.exists(!1))]).then(()=>r)}function r2(t,...e){var u,c,f;t=Rt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||e2(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(e2(e[r])){const h=e[r];e[r]=(u=h.next)==null?void 0:u.bind(h),e[r+1]=(c=h.error)==null?void 0:c.bind(h),e[r+2]=(f=h.complete)==null?void 0:f.bind(h)}let o,a,s;if(t instanceof St)a=mi(t.firestore,ws),s=GE(t._key.path),o={next:h=>{e[r]&&e[r](ZK(a,t,h))},error:e[r+1],complete:e[r+2]};else{const h=mi(t,Ls);a=mi(h.firestore,ws),s=h._query;const p=new K4(a);o={next:m=>{e[r]&&e[r](new Nl(a,p,h,m))},error:e[r+1],complete:e[r+2]},qK(t._query)}const l=F4(a);return IK(l,s,i,o)}function gv(t,e){const n=F4(t);return OK(n,e)}function ZK(t,e,n){const r=n.docs.get(e._key),i=new K4(t);return new ss(t,i,e._key,r,new qc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){Pq(Ms),Xr(new Sr("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new ws(new Oq(r.getProvider("auth-internal")),new Rq(a,r.getProvider("app-check-internal")),Yq(a,i),a);return o={useFetchStreams:n,...o},s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),Un(JI,ZI,e),Un(JI,ZI,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4="firebasestorage.googleapis.com",eX="storageBucket",tX=2*60*1e3,nX=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Ar{constructor(e,n,r=0){super(mb(e),`Firebase Storage: ${n} (${mb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ai.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return mb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ei;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ei||(Ei={}));function mb(t){return"storage/"+t}function rX(){const t="An unknown error occurred, please check the error payload for server response.";return new Ai(Ei.UNKNOWN,t)}function iX(){return new Ai(Ei.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function oX(){return new Ai(Ei.CANCELED,"User canceled the upload/download.")}function aX(t){return new Ai(Ei.INVALID_URL,"Invalid URL '"+t+"'.")}function sX(t){return new Ai(Ei.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function i2(t){return new Ai(Ei.INVALID_ARGUMENT,t)}function eL(){return new Ai(Ei.APP_DELETED,"The Firebase app was deleted.")}function lX(t){return new Ai(Ei.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ur.makeFromUrl(e,n)}catch{return new Ur(e,"")}if(r.path==="")return r;throw sX(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const a="(/(.*))?$",s=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function u(A){A.path_=decodeURIComponent(A.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${c}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},y=n===Z4?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",v=new RegExp(`^https?://${y}/${i}/${b}`,"i"),x=[{regex:s,indices:l,postModify:o},{regex:p,indices:m,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let A=0;A<x.length;A++){const _=x[A],P=_.regex.exec(e);if(P){const S=P[_.indices.bucket];let T=P[_.indices.path];T||(T=""),r=new Ur(S,T),_.postModify(r);break}}if(r==null)throw aX(e);return r}}class uX{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cX(t,e,n){let r=1,i=null,o=null,a=!1,s=0;function l(){return s===2}let u=!1;function c(...b){u||(u=!0,e.apply(null,b))}function f(b){i=setTimeout(()=>{i=null,t(p,l())},b)}function h(){o&&clearTimeout(o)}function p(b,...v){if(u){h();return}if(b){h(),c.call(null,b,...v);return}if(l()||a){h(),c.call(null,b,...v);return}r<64&&(r*=2);let x;s===1?(s=2,x=0):x=(r+Math.random())*1e3,f(x)}let m=!1;function y(b){m||(m=!0,h(),!u&&(i!==null?(b||(s=2),clearTimeout(i),f(0)):b||(s=1)))}return f(0),o=setTimeout(()=>{a=!0,y(!0)},n),y}function fX(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hX(t){return t!==void 0}function o2(t,e,n,r){if(r<e)throw i2(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw i2(`Invalid value for '${t}'. Expected ${n} or less.`)}function dX(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var eg;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(eg||(eg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pX(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mX{constructor(e,n,r,i,o,a,s,l,u,c,f,h=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,y)=>{this.resolve_=m,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new lp(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=s=>{const l=s.loaded,u=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const s=o.getErrorCode()===eg.NO_ERROR,l=o.getStatus();if(!s||pX(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===eg.ABORT;r(!1,new lp(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new lp(u,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());hX(l)?o(l):o()}catch(l){a(l)}else if(s!==null){const l=rX();l.serverResponse=s.getErrorText(),this.errorCallback_?a(this.errorCallback_(s,l)):a(l)}else if(i.canceled){const l=this.appDelete_?eL():oX();a(l)}else{const l=iX();a(l)}};this.canceled_?n(!1,new lp(!1,null,!0)):this.backoffId_=cX(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&fX(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class lp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function gX(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function yX(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function vX(t,e){e&&(t["X-Firebase-GMPID"]=e)}function bX(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function wX(t,e,n,r,i,o,a=!0,s=!1){const l=dX(t.urlParams),u=t.url+l,c=Object.assign({},t.headers);return vX(c,e),gX(c,n),yX(c,o),bX(c,r),new mX(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xX(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function _X(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n){this._service=e,n instanceof Ur?this._location=n:this._location=Ur.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new tg(e,n)}get root(){const e=new Ur(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _X(this._location.path)}get storage(){return this._service}get parent(){const e=xX(this._location.path);if(e===null)return null;const n=new Ur(this._location.bucket,e);return new tg(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw lX(e)}}function a2(t,e){const n=e==null?void 0:e[eX];return n==null?null:Ur.makeFromBucketSpec(n,t)}function EX(t,e,n,r={}){t.host=`${e}:${n}`;const i=Rs(e);i&&(kE(`https://${t.host}/b`),IE("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:j$(o,t.app.options.projectId))}class SX{constructor(e,n,r,i,o,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=a,this._bucket=null,this._host=Z4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tX,this._maxUploadRetryTime=nX,this._requests=new Set,i!=null?this._bucket=Ur.makeFromBucketSpec(i,this._host):this._bucket=a2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ur.makeFromBucketSpec(this._url,e):this._bucket=a2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){o2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){o2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new tg(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new uX(eL());{const a=wX(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const s2="@firebase/storage",l2="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL="storage";function TX(t=Jy(),e){t=Rt(t);const r=wa(t,tL).getImmediate({identifier:e}),i=C$("storage");return i&&AX(r,...i),r}function AX(t,e,n,r={}){EX(t,e,n,r)}function PX(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new SX(n,r,i,e,Ms)}function kX(){Xr(new Sr(tL,PX,"PUBLIC").setMultipleInstances(!0)),Un(s2,l2,""),Un(s2,l2,"esm2020")}kX();const nL="@firebase/installations",wS="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=1e4,iL=`w:${wS}`,oL="FIS_v2",IX="https://firebaseinstallations.googleapis.com/v1",OX=60*60*1e3,CX="installations",NX="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RX={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},xs=new js(CX,NX,RX);function aL(t){return t instanceof Ar&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL({projectId:t}){return`${IX}/projects/${t}/installations`}function lL(t){return{token:t.token,requestStatus:2,expiresIn:MX(t.expiresIn),creationTime:Date.now()}}async function uL(t,e){const r=(await e.json()).error;return xs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function cL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function jX(t,{refreshToken:e}){const n=cL(t);return n.append("Authorization",$X(e)),n}async function fL(t){const e=await t();return e.status>=500&&e.status<600?t():e}function MX(t){return Number(t.replace("s","000"))}function $X(t){return`${oL} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DX({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=sL(t),i=cL(t),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={fid:n,authVersion:oL,appId:t.appId,sdkVersion:iL},s={method:"POST",headers:i,body:JSON.stringify(a)},l=await fL(()=>fetch(r,s));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:lL(u.authToken)}}else throw await uL("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LX(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VX=/^[cdef][\w-]{21}$/,Tx="";function FX(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=UX(t);return VX.test(n)?n:Tx}catch{return Tx}}function UX(t){return LX(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=new Map;function pL(t,e){const n=yv(t);mL(n,e),BX(n,e)}function mL(t,e){const n=dL.get(t);if(n)for(const r of n)r(e)}function BX(t,e){const n=zX();n&&n.postMessage({key:t,fid:e}),WX()}let Qa=null;function zX(){return!Qa&&"BroadcastChannel"in self&&(Qa=new BroadcastChannel("[Firebase] FID Change"),Qa.onmessage=t=>{mL(t.data.key,t.data.fid)}),Qa}function WX(){dL.size===0&&Qa&&(Qa.close(),Qa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qX="firebase-installations-database",HX=1,_s="firebase-installations-store";let gb=null;function xS(){return gb||(gb=F$(qX,HX,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(_s)}}})),gb}async function ng(t,e){const n=yv(t),i=(await xS()).transaction(_s,"readwrite"),o=i.objectStore(_s),a=await o.get(n);return await o.put(e,n),await i.done,(!a||a.fid!==e.fid)&&pL(t,e.fid),e}async function gL(t){const e=yv(t),r=(await xS()).transaction(_s,"readwrite");await r.objectStore(_s).delete(e),await r.done}async function vv(t,e){const n=yv(t),i=(await xS()).transaction(_s,"readwrite"),o=i.objectStore(_s),a=await o.get(n),s=e(a);return s===void 0?await o.delete(n):await o.put(s,n),await i.done,s&&(!a||a.fid!==s.fid)&&pL(t,s.fid),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _S(t){let e;const n=await vv(t.appConfig,r=>{const i=GX(r),o=KX(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===Tx?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function GX(t){const e=t||{fid:FX(),registrationStatus:0};return yL(e)}function KX(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(xs.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=XX(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:YX(t)}:{installationEntry:e}}async function XX(t,e){try{const n=await DX(t,e);return ng(t.appConfig,n)}catch(n){throw aL(n)&&n.customData.serverCode===409?await gL(t.appConfig):await ng(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function YX(t){let e=await u2(t.appConfig);for(;e.registrationStatus===1;)await hL(100),e=await u2(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await _S(t);return r||n}return e}function u2(t){return vv(t,e=>{if(!e)throw xs.create("installation-not-found");return yL(e)})}function yL(t){return QX(t)?{fid:t.fid,registrationStatus:0}:t}function QX(t){return t.registrationStatus===1&&t.registrationTime+rL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JX({appConfig:t,heartbeatServiceProvider:e},n){const r=ZX(t,n),i=jX(t,n),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={installation:{sdkVersion:iL,appId:t.appId}},s={method:"POST",headers:i,body:JSON.stringify(a)},l=await fL(()=>fetch(r,s));if(l.ok){const u=await l.json();return lL(u)}else throw await uL("Generate Auth Token",l)}function ZX(t,{fid:e}){return`${sL(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ES(t,e=!1){let n;const r=await vv(t.appConfig,o=>{if(!vL(o))throw xs.create("not-registered");const a=o.authToken;if(!e&&nY(a))return o;if(a.requestStatus===1)return n=eY(t,e),o;{if(!navigator.onLine)throw xs.create("app-offline");const s=iY(o);return n=tY(t,s),s}});return n?await n:r.authToken}async function eY(t,e){let n=await c2(t.appConfig);for(;n.authToken.requestStatus===1;)await hL(100),n=await c2(t.appConfig);const r=n.authToken;return r.requestStatus===0?ES(t,e):r}function c2(t){return vv(t,e=>{if(!vL(e))throw xs.create("not-registered");const n=e.authToken;return oY(n)?{...e,authToken:{requestStatus:0}}:e})}async function tY(t,e){try{const n=await JX(t,e),r={...e,authToken:n};return await ng(t.appConfig,r),n}catch(n){if(aL(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await gL(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await ng(t.appConfig,r)}throw n}}function vL(t){return t!==void 0&&t.registrationStatus===2}function nY(t){return t.requestStatus===2&&!rY(t)}function rY(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+OX}function iY(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function oY(t){return t.requestStatus===1&&t.requestTime+rL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aY(t){const e=t,{installationEntry:n,registrationPromise:r}=await _S(e);return r?r.catch(console.error):ES(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sY(t,e=!1){const n=t;return await lY(n),(await ES(n,e)).token}async function lY(t){const{registrationPromise:e}=await _S(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uY(t){if(!t||!t.options)throw yb("App Configuration");if(!t.name)throw yb("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw yb(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function yb(t){return xs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL="installations",cY="installations-internal",fY=t=>{const e=t.getProvider("app").getImmediate(),n=uY(e),r=wa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},hY=t=>{const e=t.getProvider("app").getImmediate(),n=wa(e,bL).getImmediate();return{getId:()=>aY(n),getToken:i=>sY(n,i)}};function dY(){Xr(new Sr(bL,fY,"PUBLIC")),Xr(new Sr(cY,hY,"PRIVATE"))}dY();Un(nL,wS);Un(nL,wS,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="analytics",pY="firebase_id",mY="origin",gY=60*1e3,yY="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",SS="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An=new Qy("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vY={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},nr=new js("analytics","Analytics",vY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bY(t){if(!t.startsWith(SS)){const e=nr.create("invalid-gtag-resource",{gtagURL:t});return An.warn(e.message),""}return t}function wL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function wY(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function xY(t,e){const n=wY("firebase-js-sdk-policy",{createScriptURL:bY}),r=document.createElement("script"),i=`${SS}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function _Y(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function EY(t,e,n,r,i,o){const a=r[i];try{if(a)await e[a];else{const l=(await wL(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(s){An.error(s)}t("config",i,o)}async function SY(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const s=await wL(n);for(const l of a){const u=s.find(f=>f.measurementId===l),c=u&&e[u.appId];if(c)o.push(c);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){An.error(o)}}function TY(t,e,n,r){async function i(o,...a){try{if(o==="event"){const[s,l]=a;await SY(t,e,n,s,l)}else if(o==="config"){const[s,l]=a;await EY(t,e,n,r,s,l)}else if(o==="consent"){const[s,l]=a;t("consent",s,l)}else if(o==="get"){const[s,l,u]=a;t("get",s,l,u)}else if(o==="set"){const[s]=a;t("set",s)}else t(o,...a)}catch(s){An.error(s)}}return i}function AY(t,e,n,r,i){let o=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=TY(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function PY(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(SS)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kY=30,IY=1e3;class OY{constructor(e={},n=IY){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const xL=new OY;function CY(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function NY(t){var a;const{appId:e,apiKey:n}=t,r={method:"GET",headers:CY(n)},i=yY.replace("{app-id}",e),o=await fetch(i,r);if(o.status!==200&&o.status!==304){let s="";try{const l=await o.json();(a=l.error)!=null&&a.message&&(s=l.error.message)}catch{}throw nr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s})}return o.json()}async function RY(t,e=xL,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw nr.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw nr.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new $Y;return setTimeout(async()=>{s.abort()},gY),_L({appId:r,apiKey:i,measurementId:o},a,s,e)}async function _L(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=xL){var s;const{appId:o,measurementId:a}=t;try{await jY(r,e)}catch(l){if(a)return An.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await NY(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!MY(u)){if(i.deleteThrottleMetadata(o),a)return An.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)==null?void 0:s.httpStatus)===503?Ok(n,i.intervalMillis,kY):Ok(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,f),An.debug(`Calling attemptFetch again in ${c} millis`),_L(t,f,r,i)}}function jY(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(nr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function MY(t){if(!(t instanceof Ar)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class $Y{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function DY(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,a={...r,send_to:o};t("event",n,a)}}async function LY(t,e,n,r){if(r&&r.global){const i={};for(const o of Object.keys(n))i[`user_properties.${o}`]=n[o];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VY(){if($$())try{await D$()}catch(t){return An.warn(nr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return An.warn(nr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function FY(t,e,n,r,i,o,a){const s=RY(t);s.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&An.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>An.error(h)),e.push(s);const l=VY().then(h=>{if(h)return r.getId()}),[u,c]=await Promise.all([s,l]);PY(o)||xY(o,u.measurementId),i("js",new Date);const f=(a==null?void 0:a.config)??{};return f[mY]="firebase",f.update=!0,c!=null&&(f[pY]=c),i("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UY{constructor(e){this.app=e}_delete(){return delete Rl[this.app.options.appId],Promise.resolve()}}let Rl={},f2=[];const h2={};let vb="dataLayer",BY="gtag",d2,TS,p2=!1;function zY(){const t=[];if(M$()&&t.push("This is a browser extension environment."),lz()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=nr.create("invalid-analytics-context",{errorInfo:e});An.warn(n.message)}}function WY(t,e,n){zY();const r=t.options.appId;if(!r)throw nr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)An.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw nr.create("no-api-key");if(Rl[r]!=null)throw nr.create("already-exists",{id:r});if(!p2){_Y(vb);const{wrappedGtag:o,gtagCore:a}=AY(Rl,f2,h2,vb,BY);TS=o,d2=a,p2=!0}return Rl[r]=FY(t,f2,h2,e,d2,vb,n),new UY(t)}function qY(t=Jy()){t=Rt(t);const e=wa(t,rg);return e.isInitialized()?e.getImmediate():HY(t)}function HY(t,e={}){const n=wa(t,rg);if(n.isInitialized()){const i=n.getImmediate();if(la(e,n.getOptions()))return i;throw nr.create("already-initialized")}return n.initialize({options:e})}function GY(t,e,n){t=Rt(t),LY(TS,Rl[t.app.options.appId],e,n).catch(r=>An.error(r))}function KY(t,e,n,r){t=Rt(t),DY(TS,Rl[t.app.options.appId],e,n,r).catch(i=>An.error(i))}const m2="@firebase/analytics",g2="0.10.19";function XY(){Xr(new Sr(rg,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return WY(r,i,n)},"PUBLIC")),Xr(new Sr("analytics-internal",t,"PRIVATE")),Un(m2,g2),Un(m2,g2,"esm2020");function t(e){try{const n=e.getProvider(rg).getImmediate();return{logEvent:(r,i,o)=>KY(n,r,i,o),setUserProperties:(r,i)=>GY(n,r,i)}}catch(n){throw nr.create("interop-component-reg-failed",{reason:n})}}}XY();const YY={apiKey:"AIzaSyALROg4hIMFvYd8hydNKxKWmP3Cn5JmdcQ",authDomain:"test-inventory-stoe.firebaseapp.com",projectId:"test-inventory-stoe",storageBucket:"test-inventory-stoe.firebasestorage.app",messagingSenderId:"1081430501971",appId:"1:1081430501971:web:bb4e4be92aa2519ae934a6",measurementId:"G-3Y7YENDSHN"},bv=U$(YY);Tq(bv);const Ma=jK(bv);TX(bv);typeof window<"u"&&qY(bv);const Mt={subscribeToCollection:(t,e,n="name",r="asc")=>{try{const i=n?HK(sp(Ma,t),GK(n,r)):sp(Ma,t);return r2(i,o=>{const a=o.docs.map(s=>({_id:s.id,...s.data()}));e(a)},o=>{if(console.error(`Error subscribing to ${t}:`,o),o.code==="failed-precondition"||o.message.includes("index")){console.log(`Retrying ${t} without orderBy...`);const a=sp(Ma,t);return r2(a,s=>{const l=s.docs.map(u=>({_id:u.id,...u.data()}));e(l)})}})}catch(i){return console.error(`Error setting up subscription for ${t}:`,i),()=>{}}},add:async(t,e)=>{try{const n=await JK(sp(Ma,t),e);return{...e,_id:n.id}}catch(n){throw console.error(`Error adding to ${t}:`,n),n}},update:async(t,e,n)=>{try{const r=em(Ma,t,e);await YK(r,n)}catch(r){throw console.error(`Error updating ${t}:`,r),r}},set:async(t,e,n)=>{try{const r=em(Ma,t,e);await XK(r,n)}catch(r){throw console.error(`Error setting in ${t}:`,r),r}},delete:async(t,e)=>{try{const n=em(Ma,t,e);await QK(n)}catch(n){throw console.error(`Error deleting from ${t}:`,n),n}}},EL=D.createContext(),Ea=()=>D.useContext(EL),QY=({children:t})=>{const[e,n]=D.useState(()=>localStorage.getItem("theme")||"light"),[r,i]=D.useState(()=>localStorage.getItem("isSidebarCollapsed")==="true"),[o,a]=D.useState(!1),[s,l]=D.useState([]),[u,c]=D.useState([]),[f,h]=D.useState([]),[p,m]=D.useState([]),[y,b]=D.useState(["Electronics","Clothing","Home","Beauty","Sports"]),[v,w]=D.useState(!0),[x,A]=D.useState({name:"Gem Toys",logo:"https://i.imgur.com/9YXqZ5K.png",color:"#1e3a5f",hideHeader:!1}),_=async ne=>{const pe={...x,...ne};A(pe),await Mt.set("settings","branding",pe)};D.useEffect(()=>{w(!0);const ne=Mt.subscribeToCollection("products",te=>{l(te);const q=[...new Set(te.map(ge=>ge.category))];b(ge=>[...new Set([...ge,...q])])},"name"),pe=Mt.subscribeToCollection("orders",c,"date","desc"),Ee=Mt.subscribeToCollection("customers",h,"name"),re=Mt.subscribeToCollection("users",m),B=Mt.subscribeToCollection("settings",te=>{const q=te.find(ge=>ge._id==="branding");if(q){const{_id:ge,...Te}=q;A(Te)}});return w(!1),()=>{ne(),pe(),Ee(),re(),B()}},[]);const[P,S]=D.useState(null);D.useEffect(()=>{p.length>0&&!P&&S(p[0])},[p,P]);const T=ne=>{n(ne)};D.useEffect(()=>{const ne=document.documentElement;e==="dark"?ne.classList.add("dark"):e==="light"?ne.classList.remove("dark"):e==="system"&&(window.matchMedia("(prefers-color-scheme: dark)").matches?ne.classList.add("dark"):ne.classList.remove("dark")),localStorage.setItem("theme",e)},[e]);const k=()=>{i(ne=>{const pe=!ne;return localStorage.setItem("isSidebarCollapsed",pe),pe})},N=()=>a(ne=>!ne),C=()=>a(!1),R=ne=>new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(ne),O=async ne=>{await Mt.add("products",ne)},j=async ne=>{const{_id:pe,...Ee}=ne;await Mt.update("products",pe,Ee)},$=async ne=>{await Mt.delete("products",ne)},V=ne=>{y.includes(ne)||b(pe=>[...pe,ne])},W=async ne=>await Mt.add("customers",ne),U=async ne=>{const{_id:pe,...Ee}=ne;await Mt.update("customers",pe,Ee)},F=async ne=>{const pe={...ne,orderId:`#ORD-${Math.floor(1e3+Math.random()*9e3)}`,date:new Date().toISOString()},Ee=await Mt.add("orders",pe);for(const re of ne.items){const B=s.find(te=>te._id===re.product._id);if(B){const te=Math.max(0,B.stock-re.quantity);await Mt.update("products",B._id,{stock:te,status:te===0?"Out of Stock":te<=5?"Low Stock":"In Stock"})}}return Ee},L=async ne=>{await Mt.delete("orders",ne)},H=async ne=>{const{_id:pe,...Ee}=ne;await Mt.update("orders",pe,Ee)},X=async ne=>{await Mt.add("users",{...ne,displayName:ne.username})},K=async ne=>{const{_id:pe,...Ee}=ne;await Mt.update("users",pe,Ee)},ie=async ne=>{P&&(await Mt.update("users",P._id,ne),S(pe=>({...pe,...ne})))},ue=async ne=>{await Mt.delete("users",ne)};return g.jsx(EL.Provider,{value:{products:s,addProduct:O,updateProduct:j,deleteProduct:$,orders:u,addOrder:F,updateOrder:H,deleteOrder:L,customers:f,addCustomer:W,updateCustomer:U,users:p,addUser:X,updateUser:K,deleteUser:ue,categories:y,addCategory:V,loading:v,theme:e,toggleTheme:T,brand:x,updateBrand:_,currentUser:P,updateUserProfile:ie,formatCurrency:R,isSidebarCollapsed:r,toggleSidebar:k,isMobileMenuOpen:o,toggleMobileMenu:N,closeMobileMenu:C},children:t})},JY=()=>{var c;const t=Ru(),{theme:e,currentUser:n,brand:r,isSidebarCollapsed:i,toggleSidebar:o,isMobileMenuOpen:a,closeMobileMenu:s}=Ea(),l=[{icon:CB,label:"Dashboard",path:"/"},{icon:Ek,label:"Inventory",path:"/products"},{icon:FB,label:"Orders",path:"/orders"},{icon:PE,label:"Customers",path:"/customers"},{icon:T$,label:"Settings",path:"/settings"}],u=`
        fixed lg:static inset-y-0 left-0 z-40
        ${i?"w-20":"w-64"}
        bg-slate-50 dark:bg-brand-color 
        border-r border-slate-200 dark:border-slate-800 
        flex flex-col h-screen 
        transition-all duration-300 ease-in-out
        ${a?"translate-x-0":"-translate-x-full lg:translate-x-0"}
    `;return g.jsxs("aside",{className:u,children:[g.jsxs("div",{className:`h-24 flex items-center ${i?"justify-center":"px-8"} relative`,children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center shadow-lg text-white overflow-hidden shrink-0",style:{backgroundColor:r.color,boxShadow:`0 10px 15px -3px ${r.color}33`},children:r.logo?g.jsx("img",{src:r.logo,alt:"Logo",className:"w-full h-full object-cover"}):g.jsx(Ek,{className:"w-6 h-6"})}),!i&&g.jsx("div",{className:"animate-in fade-in duration-300",children:g.jsxs("h1",{className:"font-bold text-slate-800 dark:text-white text-lg leading-tight tracking-tight",children:[r.name.split(" ")[0],g.jsx("br",{}),g.jsx("span",{style:{color:r.color},className:"font-extrabold",children:r.name.split(" ").slice(1).join(" ")||"APP"})]})})]}),g.jsx("button",{onClick:s,className:"lg:hidden absolute top-6 right-4 p-2 text-slate-400 hover:text-red-500 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:g.jsx(ms,{className:"w-5 h-5"})})]}),g.jsxs("nav",{className:"flex-1 overflow-y-auto py-4 px-3 space-y-2 custom-scrollbar",children:[!i&&g.jsx("div",{className:"mb-4 px-4",children:g.jsx("p",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:"Main Menu"})}),l.map(f=>{const h=t.pathname===f.path;return g.jsxs(yB,{to:f.path,title:i?f.label:"",onClick:s,className:`flex items-center gap-3 rounded-xl transition-all duration-200 group relative overflow-hidden ${i?"justify-center p-3":"px-4 py-3.5"} ${h?"text-white shadow-lg":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 dark:text-slate-400 dark:hover:text-white"}`,style:h?{backgroundColor:r.color,boxShadow:`0 10px 15px -3px ${r.color}4d`}:{},children:[g.jsx(f.icon,{className:`w-5 h-5 relative z-10 transition-transform duration-200 ${h?"scale-110":"group-hover:scale-110"}`}),!i&&g.jsx("span",{className:"font-medium relative z-10 animate-in fade-in slide-in-from-left-2 duration-300",children:f.label})]},f.path)})]}),g.jsx("div",{className:"p-4 mt-auto border-t border-slate-100 dark:border-slate-800/50",children:g.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 flex items-center shadow-sm ${i?"p-2 justify-center":"p-4 gap-3"}`,children:[g.jsxs("div",{className:"relative shrink-0",children:[g.jsx("div",{className:"w-10 h-10 text-white rounded-full flex items-center justify-center font-bold text-lg",style:{backgroundColor:r.color},children:((c=n==null?void 0:n.displayName)==null?void 0:c.charAt(0))||"U"}),g.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-emerald-500 border-2 border-white dark:border-slate-800 rounded-full"})]}),!i&&g.jsxs("div",{className:"overflow-hidden animate-in fade-in duration-300",children:[g.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-white truncate",children:(n==null?void 0:n.displayName)||"User"}),g.jsx("p",{className:"text-xs text-slate-500 truncate",children:(n==null?void 0:n.role)||"Staff"})]})]})}),g.jsx("button",{onClick:o,className:"hidden lg:flex absolute bottom-24 -right-3 w-6 h-6 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-full items-center justify-center text-slate-400 shadow-sm z-50 transition-all hover:scale-110",style:{color:r.color},children:i?g.jsx(AB,{className:"w-3.5 h-3.5"}):g.jsx(TB,{className:"w-3.5 h-3.5"})})]})},ZY=({title:t})=>{var r,i,o;const{currentUser:e,toggleMobileMenu:n}=Ea();return g.jsxs("header",{className:"h-24 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-slate-200 dark:border-slate-800 flex items-center justify-between px-4 md:px-8 sticky top-0 z-20 transition-all duration-300",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("button",{onClick:n,className:"p-2 lg:hidden text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl transition-colors",children:g.jsx(jB,{className:"w-6 h-6"})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl md:text-2xl font-black text-slate-800 dark:text-white tracking-tight truncate max-w-[150px] md:max-w-none",children:t}),g.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium hidden md:block",children:["Welcome back, ",((r=e==null?void 0:e.displayName)==null?void 0:r.split(" ")[0])||"Admin"]})]})]}),g.jsxs("div",{className:"flex items-center gap-2 md:gap-6",children:[g.jsxs("div",{className:"relative hidden md:block group",children:[g.jsx(Xy,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 group-focus-within:text-indigo-500 transition-colors"}),g.jsx("input",{type:"text",placeholder:"Type to search...",className:"pl-10 pr-4 py-2.5 w-48 lg:w-64 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 transition-all outline-none"})]}),g.jsxs("div",{className:"flex items-center gap-1 md:gap-3",children:[g.jsxs("button",{className:"p-2.5 text-slate-400 hover:text-indigo-600 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-xl transition-all relative group",children:[g.jsx(EB,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),g.jsx("span",{className:"absolute top-2.5 right-2.5 w-2 h-2 bg-red-500 rounded-full border-2 border-white dark:border-slate-900 animate-pulse"})]}),g.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-700 mx-1 hidden min-[400px]:block"}),g.jsxs("button",{className:"flex items-center gap-2 p-1 md:p-1.5 md:pr-3 rounded-full hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors border border-transparent hover:border-slate-200 dark:hover:border-slate-700",children:[g.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-indigo-500 to-purple-500 flex items-center justify-center text-white font-bold text-sm shadow-md overflow-hidden shrink-0",children:e!=null&&e.photoURL?g.jsx("img",{src:e.photoURL,alt:"User",className:"w-full h-full object-cover"}):((i=e==null?void 0:e.displayName)==null?void 0:i.charAt(0))||"A"}),g.jsx("span",{className:"hidden sm:block text-sm font-bold text-slate-700 dark:text-slate-300 truncate max-w-[80px]",children:((o=e==null?void 0:e.displayName)==null?void 0:o.split(" ")[0])||"Admin"})]})]})]})]})},cd=({children:t,title:e})=>{const{isSidebarCollapsed:n,isMobileMenuOpen:r,closeMobileMenu:i,brand:o}=Ea();return g.jsxs("div",{className:"flex h-screen bg-slate-50 dark:bg-slate-950 font-sans transition-colors duration-300",style:{"--brand-color":o.color},children:[r&&g.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-30 lg:hidden animate-in fade-in duration-300",onClick:i}),g.jsx(JY,{}),g.jsxs("div",{className:"flex-1 flex flex-col min-h-screen transition-all duration-300",children:[!o.hideHeader&&g.jsx(ZY,{title:e||"Dashboard"}),g.jsx("main",{className:`flex-1 p-4 md:p-8 overflow-y-auto ${o.hideHeader?"pt-8":""}`,children:g.jsx("div",{className:"max-w-7xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:t})})]})]})};function SL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=SL(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Fe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=SL(t))&&(r&&(r+=" "),r+=e);return r}var eQ=Array.isArray,Wn=eQ,tQ=typeof Dd=="object"&&Dd&&Dd.Object===Object&&Dd,TL=tQ,nQ=TL,rQ=typeof self=="object"&&self&&self.Object===Object&&self,iQ=nQ||rQ||Function("return this")(),Pi=iQ,oQ=Pi,aQ=oQ.Symbol,fd=aQ,y2=fd,AL=Object.prototype,sQ=AL.hasOwnProperty,lQ=AL.toString,Tc=y2?y2.toStringTag:void 0;function uQ(t){var e=sQ.call(t,Tc),n=t[Tc];try{t[Tc]=void 0;var r=!0}catch{}var i=lQ.call(t);return r&&(e?t[Tc]=n:delete t[Tc]),i}var cQ=uQ,fQ=Object.prototype,hQ=fQ.toString;function dQ(t){return hQ.call(t)}var pQ=dQ,v2=fd,mQ=cQ,gQ=pQ,yQ="[object Null]",vQ="[object Undefined]",b2=v2?v2.toStringTag:void 0;function bQ(t){return t==null?t===void 0?vQ:yQ:b2&&b2 in Object(t)?mQ(t):gQ(t)}var ho=bQ;function wQ(t){return t!=null&&typeof t=="object"}var po=wQ,xQ=ho,_Q=po,EQ="[object Symbol]";function SQ(t){return typeof t=="symbol"||_Q(t)&&xQ(t)==EQ}var Fu=SQ,TQ=Wn,AQ=Fu,PQ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kQ=/^\w*$/;function IQ(t,e){if(TQ(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||AQ(t)?!0:kQ.test(t)||!PQ.test(t)||e!=null&&t in Object(e)}var AS=IQ;function OQ(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Sa=OQ;const Uu=Xe(Sa);var CQ=ho,NQ=Sa,RQ="[object AsyncFunction]",jQ="[object Function]",MQ="[object GeneratorFunction]",$Q="[object Proxy]";function DQ(t){if(!NQ(t))return!1;var e=CQ(t);return e==jQ||e==MQ||e==RQ||e==$Q}var PS=DQ;const Pe=Xe(PS);var LQ=Pi,VQ=LQ["__core-js_shared__"],FQ=VQ,bb=FQ,w2=function(){var t=/[^.]+$/.exec(bb&&bb.keys&&bb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function UQ(t){return!!w2&&w2 in t}var BQ=UQ,zQ=Function.prototype,WQ=zQ.toString;function qQ(t){if(t!=null){try{return WQ.call(t)}catch{}try{return t+""}catch{}}return""}var PL=qQ,HQ=PS,GQ=BQ,KQ=Sa,XQ=PL,YQ=/[\\^$.*+?()[\]{}|]/g,QQ=/^\[object .+?Constructor\]$/,JQ=Function.prototype,ZQ=Object.prototype,eJ=JQ.toString,tJ=ZQ.hasOwnProperty,nJ=RegExp("^"+eJ.call(tJ).replace(YQ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function rJ(t){if(!KQ(t)||GQ(t))return!1;var e=HQ(t)?nJ:QQ;return e.test(XQ(t))}var iJ=rJ;function oJ(t,e){return t==null?void 0:t[e]}var aJ=oJ,sJ=iJ,lJ=aJ;function uJ(t,e){var n=lJ(t,e);return sJ(n)?n:void 0}var Vs=uJ,cJ=Vs,fJ=cJ(Object,"create"),wv=fJ,x2=wv;function hJ(){this.__data__=x2?x2(null):{},this.size=0}var dJ=hJ;function pJ(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var mJ=pJ,gJ=wv,yJ="__lodash_hash_undefined__",vJ=Object.prototype,bJ=vJ.hasOwnProperty;function wJ(t){var e=this.__data__;if(gJ){var n=e[t];return n===yJ?void 0:n}return bJ.call(e,t)?e[t]:void 0}var xJ=wJ,_J=wv,EJ=Object.prototype,SJ=EJ.hasOwnProperty;function TJ(t){var e=this.__data__;return _J?e[t]!==void 0:SJ.call(e,t)}var AJ=TJ,PJ=wv,kJ="__lodash_hash_undefined__";function IJ(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=PJ&&e===void 0?kJ:e,this}var OJ=IJ,CJ=dJ,NJ=mJ,RJ=xJ,jJ=AJ,MJ=OJ;function Bu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Bu.prototype.clear=CJ;Bu.prototype.delete=NJ;Bu.prototype.get=RJ;Bu.prototype.has=jJ;Bu.prototype.set=MJ;var $J=Bu;function DJ(){this.__data__=[],this.size=0}var LJ=DJ;function VJ(t,e){return t===e||t!==t&&e!==e}var kS=VJ,FJ=kS;function UJ(t,e){for(var n=t.length;n--;)if(FJ(t[n][0],e))return n;return-1}var xv=UJ,BJ=xv,zJ=Array.prototype,WJ=zJ.splice;function qJ(t){var e=this.__data__,n=BJ(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():WJ.call(e,n,1),--this.size,!0}var HJ=qJ,GJ=xv;function KJ(t){var e=this.__data__,n=GJ(e,t);return n<0?void 0:e[n][1]}var XJ=KJ,YJ=xv;function QJ(t){return YJ(this.__data__,t)>-1}var JJ=QJ,ZJ=xv;function eZ(t,e){var n=this.__data__,r=ZJ(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var tZ=eZ,nZ=LJ,rZ=HJ,iZ=XJ,oZ=JJ,aZ=tZ;function zu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}zu.prototype.clear=nZ;zu.prototype.delete=rZ;zu.prototype.get=iZ;zu.prototype.has=oZ;zu.prototype.set=aZ;var _v=zu,sZ=Vs,lZ=Pi,uZ=sZ(lZ,"Map"),IS=uZ,_2=$J,cZ=_v,fZ=IS;function hZ(){this.size=0,this.__data__={hash:new _2,map:new(fZ||cZ),string:new _2}}var dZ=hZ;function pZ(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var mZ=pZ,gZ=mZ;function yZ(t,e){var n=t.__data__;return gZ(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Ev=yZ,vZ=Ev;function bZ(t){var e=vZ(this,t).delete(t);return this.size-=e?1:0,e}var wZ=bZ,xZ=Ev;function _Z(t){return xZ(this,t).get(t)}var EZ=_Z,SZ=Ev;function TZ(t){return SZ(this,t).has(t)}var AZ=TZ,PZ=Ev;function kZ(t,e){var n=PZ(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var IZ=kZ,OZ=dZ,CZ=wZ,NZ=EZ,RZ=AZ,jZ=IZ;function Wu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Wu.prototype.clear=OZ;Wu.prototype.delete=CZ;Wu.prototype.get=NZ;Wu.prototype.has=RZ;Wu.prototype.set=jZ;var OS=Wu,kL=OS,MZ="Expected a function";function CS(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(MZ);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(CS.Cache||kL),n}CS.Cache=kL;var IL=CS;const $Z=Xe(IL);var DZ=IL,LZ=500;function VZ(t){var e=DZ(t,function(r){return n.size===LZ&&n.clear(),r}),n=e.cache;return e}var FZ=VZ,UZ=FZ,BZ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zZ=/\\(\\)?/g,WZ=UZ(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(BZ,function(n,r,i,o){e.push(i?o.replace(zZ,"$1"):r||n)}),e}),qZ=WZ;function HZ(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var NS=HZ,E2=fd,GZ=NS,KZ=Wn,XZ=Fu,S2=E2?E2.prototype:void 0,T2=S2?S2.toString:void 0;function OL(t){if(typeof t=="string")return t;if(KZ(t))return GZ(t,OL)+"";if(XZ(t))return T2?T2.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var YZ=OL,QZ=YZ;function JZ(t){return t==null?"":QZ(t)}var CL=JZ,ZZ=Wn,eee=AS,tee=qZ,nee=CL;function ree(t,e){return ZZ(t)?t:eee(t,e)?[t]:tee(nee(t))}var NL=ree,iee=Fu;function oee(t){if(typeof t=="string"||iee(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Sv=oee,aee=NL,see=Sv;function lee(t,e){e=aee(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[see(e[n++])];return n&&n==r?t:void 0}var RS=lee,uee=RS;function cee(t,e,n){var r=t==null?void 0:uee(t,e);return r===void 0?n:r}var RL=cee;const xr=Xe(RL);function fee(t){return t==null}var hee=fee;const $e=Xe(hee);var dee=ho,pee=Wn,mee=po,gee="[object String]";function yee(t){return typeof t=="string"||!pee(t)&&mee(t)&&dee(t)==gee}var vee=yee;const Es=Xe(vee);var jL={exports:{}},We={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jS=Symbol.for("react.element"),MS=Symbol.for("react.portal"),Tv=Symbol.for("react.fragment"),Av=Symbol.for("react.strict_mode"),Pv=Symbol.for("react.profiler"),kv=Symbol.for("react.provider"),Iv=Symbol.for("react.context"),bee=Symbol.for("react.server_context"),Ov=Symbol.for("react.forward_ref"),Cv=Symbol.for("react.suspense"),Nv=Symbol.for("react.suspense_list"),Rv=Symbol.for("react.memo"),jv=Symbol.for("react.lazy"),wee=Symbol.for("react.offscreen"),ML;ML=Symbol.for("react.module.reference");function Pr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case jS:switch(t=t.type,t){case Tv:case Pv:case Av:case Cv:case Nv:return t;default:switch(t=t&&t.$$typeof,t){case bee:case Iv:case Ov:case jv:case Rv:case kv:return t;default:return e}}case MS:return e}}}We.ContextConsumer=Iv;We.ContextProvider=kv;We.Element=jS;We.ForwardRef=Ov;We.Fragment=Tv;We.Lazy=jv;We.Memo=Rv;We.Portal=MS;We.Profiler=Pv;We.StrictMode=Av;We.Suspense=Cv;We.SuspenseList=Nv;We.isAsyncMode=function(){return!1};We.isConcurrentMode=function(){return!1};We.isContextConsumer=function(t){return Pr(t)===Iv};We.isContextProvider=function(t){return Pr(t)===kv};We.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===jS};We.isForwardRef=function(t){return Pr(t)===Ov};We.isFragment=function(t){return Pr(t)===Tv};We.isLazy=function(t){return Pr(t)===jv};We.isMemo=function(t){return Pr(t)===Rv};We.isPortal=function(t){return Pr(t)===MS};We.isProfiler=function(t){return Pr(t)===Pv};We.isStrictMode=function(t){return Pr(t)===Av};We.isSuspense=function(t){return Pr(t)===Cv};We.isSuspenseList=function(t){return Pr(t)===Nv};We.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Tv||t===Pv||t===Av||t===Cv||t===Nv||t===wee||typeof t=="object"&&t!==null&&(t.$$typeof===jv||t.$$typeof===Rv||t.$$typeof===kv||t.$$typeof===Iv||t.$$typeof===Ov||t.$$typeof===ML||t.getModuleId!==void 0)};We.typeOf=Pr;jL.exports=We;var xee=jL.exports,_ee=ho,Eee=po,See="[object Number]";function Tee(t){return typeof t=="number"||Eee(t)&&_ee(t)==See}var $L=Tee;const Aee=Xe($L);var Pee=$L;function kee(t){return Pee(t)&&t!=+t}var Iee=kee;const qu=Xe(Iee);var Br=function(e){return e===0?0:e>0?1:-1},Ja=function(e){return Es(e)&&e.indexOf("%")===e.length-1},ae=function(e){return Aee(e)&&!qu(e)},Oee=function(e){return $e(e)},Ft=function(e){return ae(e)||Es(e)},Cee=0,hd=function(e){var n=++Cee;return"".concat(e||"").concat(n)},Ss=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ae(e)&&!Es(e))return r;var o;if(Ja(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return qu(o)&&(o=r),i&&o>n&&(o=n),o},Do=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Nee=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},dr=function(e,n){return ae(e)&&ae(n)?function(r){return e+r*(n-e)}:function(){return n}};function ig(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):xr(r,e))===n})}var Ree=function(e,n){return ae(e)&&ae(n)?e-n:Es(e)&&Es(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function jl(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Ax(t){"@babel/helpers - typeof";return Ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ax(t)}var jee=["viewBox","children"],Mee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],A2=["points","pathLength"],wb={svg:jee,polygon:A2,polyline:A2},$S=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],og=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(D.isValidElement(e)&&(r=e.props),!Uu(r))return null;var i={};return Object.keys(r).forEach(function(o){$S.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},$ee=function(e,n,r){return function(i){return e(n,r,i),null}},ag=function(e,n,r){if(!Uu(e)||Ax(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];$S.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=$ee(a,n,r))}),i},Dee=["children"],Lee=["children"];function P2(t,e){if(t==null)return{};var n=Vee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Px(t){"@babel/helpers - typeof";return Px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Px(t)}var k2={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Gi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},I2=null,xb=null,DS=function t(e){if(e===I2&&Array.isArray(xb))return xb;var n=[];return D.Children.forEach(e,function(r){$e(r)||(xee.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),xb=n,I2=e,n};function Gr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Gi(i)}):r=[Gi(e)],DS(t).forEach(function(i){var o=xr(i,"type.displayName")||xr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Kn(t,e){var n=Gr(t,e);return n&&n[0]}var O2=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ae(r)||r<=0||!ae(i)||i<=0)},Fee=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Uee=function(e){return e&&e.type&&Es(e.type)&&Fee.indexOf(e.type)>=0},Bee=function(e){return e&&Px(e)==="object"&&"clipDot"in e},zee=function(e,n,r,i){var o,a=(o=wb==null?void 0:wb[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Pe(e)&&(i&&a.includes(n)||Mee.includes(n))||r&&$S.includes(n)},Ce=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(D.isValidElement(e)&&(i=e.props),!Uu(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;zee((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},kx=function t(e,n){if(e===n)return!0;var r=D.Children.count(e);if(r!==D.Children.count(n))return!1;if(r===0)return!0;if(r===1)return C2(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!C2(o,a))return!1}return!0},C2=function(e,n){if($e(e)&&$e(n))return!0;if(!$e(e)&&!$e(n)){var r=e.props||{},i=r.children,o=P2(r,Dee),a=n.props||{},s=a.children,l=P2(a,Lee);return i&&s?jl(o,l)&&kx(i,s):!i&&!s?jl(o,l):!1}return!1},N2=function(e,n){var r=[],i={};return DS(e).forEach(function(o,a){if(Uee(o))r.push(o);else if(o){var s=Gi(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},Wee=function(e){var n=e&&e.type;return n&&k2[n]?k2[n]:null},qee=function(e,n){return DS(n).indexOf(e)},Hee=["children","width","height","viewBox","className","style","title","desc"];function Ix(){return Ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ix.apply(this,arguments)}function Gee(t,e){if(t==null)return{};var n=Kee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ox(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=Gee(t,Hee),c=i||{width:n,height:r,x:0,y:0},f=Fe("recharts-surface",o);return z.createElement("svg",Ix({},Ce(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),z.createElement("title",null,s),z.createElement("desc",null,l),e)}var Xee=["children","className"];function Cx(){return Cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cx.apply(this,arguments)}function Yee(t,e){if(t==null)return{};var n=Qee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ht=z.forwardRef(function(t,e){var n=t.children,r=t.className,i=Yee(t,Xee),o=Fe("recharts-layer",r);return z.createElement("g",Cx({className:o},Ce(i,!0),{ref:e}),n)}),Ki=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function Jee(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var Zee=Jee,ete=Zee;function tte(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:ete(t,e,n)}var nte=tte,rte="\\ud800-\\udfff",ite="\\u0300-\\u036f",ote="\\ufe20-\\ufe2f",ate="\\u20d0-\\u20ff",ste=ite+ote+ate,lte="\\ufe0e\\ufe0f",ute="\\u200d",cte=RegExp("["+ute+rte+ste+lte+"]");function fte(t){return cte.test(t)}var DL=fte;function hte(t){return t.split("")}var dte=hte,LL="\\ud800-\\udfff",pte="\\u0300-\\u036f",mte="\\ufe20-\\ufe2f",gte="\\u20d0-\\u20ff",yte=pte+mte+gte,vte="\\ufe0e\\ufe0f",bte="["+LL+"]",Nx="["+yte+"]",Rx="\\ud83c[\\udffb-\\udfff]",wte="(?:"+Nx+"|"+Rx+")",VL="[^"+LL+"]",FL="(?:\\ud83c[\\udde6-\\uddff]){2}",UL="[\\ud800-\\udbff][\\udc00-\\udfff]",xte="\\u200d",BL=wte+"?",zL="["+vte+"]?",_te="(?:"+xte+"(?:"+[VL,FL,UL].join("|")+")"+zL+BL+")*",Ete=zL+BL+_te,Ste="(?:"+[VL+Nx+"?",Nx,FL,UL,bte].join("|")+")",Tte=RegExp(Rx+"(?="+Rx+")|"+Ste+Ete,"g");function Ate(t){return t.match(Tte)||[]}var Pte=Ate,kte=dte,Ite=DL,Ote=Pte;function Cte(t){return Ite(t)?Ote(t):kte(t)}var Nte=Cte,Rte=nte,jte=DL,Mte=Nte,$te=CL;function Dte(t){return function(e){e=$te(e);var n=jte(e)?Mte(e):void 0,r=n?n[0]:e.charAt(0),i=n?Rte(n,1).join(""):e.slice(1);return r[t]()+i}}var Lte=Dte,Vte=Lte,Fte=Vte("toUpperCase"),Ute=Fte;const Mv=Xe(Ute);function Ye(t){return function(){return t}}const WL=Math.cos,sg=Math.sin,Qr=Math.sqrt,lg=Math.PI,$v=2*lg,jx=Math.PI,Mx=2*jx,za=1e-6,Bte=Mx-za;function qL(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function zte(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return qL;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Wte{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?qL:zte(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,f=s-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>za)if(!(Math.abs(f*l-u*c)>za)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,m=i-s,y=l*l+u*u,b=p*p+m*m,v=Math.sqrt(y),w=Math.sqrt(h),x=o*Math.tan((jx-Math.acos((y+h-b)/(2*v*w)))/2),A=x/w,_=x/v;Math.abs(A-1)>za&&this._append`L${e+A*c},${n+A*f}`,this._append`A${o},${o},0,0,${+(f*p>c*m)},${this._x1=e+_*l},${this._y1=n+_*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>za||Math.abs(this._y1-c)>za)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%Mx+Mx),h>Bte?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>za&&this._append`A${r},${r},0,${+(h>=jx)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function LS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Wte(e)}function VS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function HL(t){this._context=t}HL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Dv(t){return new HL(t)}function GL(t){return t[0]}function KL(t){return t[1]}function XL(t,e){var n=Ye(!0),r=null,i=Dv,o=null,a=LS(s);t=typeof t=="function"?t:t===void 0?GL:Ye(t),e=typeof e=="function"?e:e===void 0?KL:Ye(e);function s(l){var u,c=(l=VS(l)).length,f,h=!1,p;for(r==null&&(o=i(p=a())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ye(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ye(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ye(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function up(t,e,n){var r=null,i=Ye(!0),o=null,a=Dv,s=null,l=LS(u);t=typeof t=="function"?t:t===void 0?GL:Ye(+t),e=typeof e=="function"?e:Ye(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?KL:Ye(+n);function u(f){var h,p,m,y=(f=VS(f)).length,b,v=!1,w,x=new Array(y),A=new Array(y);for(o==null&&(s=a(w=l())),h=0;h<=y;++h){if(!(h<y&&i(b=f[h],h,f))===v)if(v=!v)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(x[m],A[m]);s.lineEnd(),s.areaEnd()}v&&(x[h]=+t(b,h,f),A[h]=+e(b,h,f),s.point(r?+r(b,h,f):x[h],n?+n(b,h,f):A[h]))}if(w)return s=null,w+""||null}function c(){return XL().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ye(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Ye(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ye(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ye(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Ye(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ye(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ye(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class YL{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function qte(t){return new YL(t,!0)}function Hte(t){return new YL(t,!1)}const FS={draw(t,e){const n=Qr(e/lg);t.moveTo(n,0),t.arc(0,0,n,0,$v)}},Gte={draw(t,e){const n=Qr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},QL=Qr(1/3),Kte=QL*2,Xte={draw(t,e){const n=Qr(e/Kte),r=n*QL;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Yte={draw(t,e){const n=Qr(e),r=-n/2;t.rect(r,r,n,n)}},Qte=.8908130915292852,JL=sg(lg/10)/sg(7*lg/10),Jte=sg($v/10)*JL,Zte=-WL($v/10)*JL,ene={draw(t,e){const n=Qr(e*Qte),r=Jte*n,i=Zte*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=$v*o/5,s=WL(a),l=sg(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},_b=Qr(3),tne={draw(t,e){const n=-Qr(e/(_b*3));t.moveTo(0,n*2),t.lineTo(-_b*n,-n),t.lineTo(_b*n,-n),t.closePath()}},lr=-.5,ur=Qr(3)/2,$x=1/Qr(12),nne=($x/2+1)*3,rne={draw(t,e){const n=Qr(e/nne),r=n/2,i=n*$x,o=r,a=n*$x+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(lr*r-ur*i,ur*r+lr*i),t.lineTo(lr*o-ur*a,ur*o+lr*a),t.lineTo(lr*s-ur*l,ur*s+lr*l),t.lineTo(lr*r+ur*i,lr*i-ur*r),t.lineTo(lr*o+ur*a,lr*a-ur*o),t.lineTo(lr*s+ur*l,lr*l-ur*s),t.closePath()}};function ine(t,e){let n=null,r=LS(i);t=typeof t=="function"?t:Ye(t||FS),e=typeof e=="function"?e:Ye(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ye(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ye(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function ug(){}function cg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function ZL(t){this._context=t}ZL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function one(t){return new ZL(t)}function e3(t){this._context=t}e3.prototype={areaStart:ug,areaEnd:ug,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:cg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ane(t){return new e3(t)}function t3(t){this._context=t}t3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:cg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function sne(t){return new t3(t)}function n3(t){this._context=t}n3.prototype={areaStart:ug,areaEnd:ug,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function lne(t){return new n3(t)}function R2(t){return t<0?-1:1}function j2(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(R2(o)+R2(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function M2(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Eb(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function fg(t){this._context=t}fg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Eb(this,this._t0,M2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Eb(this,M2(this,n=j2(this,t,e)),n);break;default:Eb(this,this._t0,n=j2(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function r3(t){this._context=new i3(t)}(r3.prototype=Object.create(fg.prototype)).point=function(t,e){fg.prototype.point.call(this,e,t)};function i3(t){this._context=t}i3.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function une(t){return new fg(t)}function cne(t){return new r3(t)}function o3(t){this._context=t}o3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=$2(t),i=$2(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function $2(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function fne(t){return new o3(t)}function Lv(t,e){this._context=t,this._t=e}Lv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function hne(t){return new Lv(t,.5)}function dne(t){return new Lv(t,0)}function pne(t){return new Lv(t,1)}function tu(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Dx(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function mne(t,e){return t[e]}function gne(t){const e=[];return e.key=t,e}function yne(){var t=Ye([]),e=Dx,n=tu,r=mne;function i(o){var a=Array.from(t.apply(this,arguments),gne),s,l=a.length,u=-1,c;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,c=VS(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ye(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ye(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Dx:typeof o=="function"?o:Ye(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??tu,i):n},i}function vne(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}tu(t,e)}}function bne(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}tu(t,e)}}function wne(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],f=c[r][1]||0,h=c[r-1][1]||0,p=(f-h)/2,m=0;m<s;++m){var y=t[e[m]],b=y[r][1]||0,v=y[r-1][1]||0;p+=b-v}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,tu(t,e)}}function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}var xne=["type","size","sizeType"];function Lx(){return Lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lx.apply(this,arguments)}function D2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D2(Object(n),!0).forEach(function(r){_ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ne(t,e,n){return e=Ene(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ene(t){var e=Sne(t,"string");return rh(e)=="symbol"?e:e+""}function Sne(t,e){if(rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tne(t,e){if(t==null)return{};var n=Ane(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ane(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var a3={symbolCircle:FS,symbolCross:Gte,symbolDiamond:Xte,symbolSquare:Yte,symbolStar:ene,symbolTriangle:tne,symbolWye:rne},Pne=Math.PI/180,kne=function(e){var n="symbol".concat(Mv(e));return a3[n]||FS},Ine=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Pne;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},One=function(e,n){a3["symbol".concat(Mv(e))]=n},US=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=Tne(e,xne),u=L2(L2({},l),{},{type:r,size:o,sizeType:s}),c=function(){var b=kne(r),v=ine().type(b).size(Ine(o,s,r));return v()},f=u.className,h=u.cx,p=u.cy,m=Ce(u,!0);return h===+h&&p===+p&&o===+o?z.createElement("path",Lx({},m,{className:Fe("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:c()})):null};US.registerSymbol=One;function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function Vx(){return Vx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vx.apply(this,arguments)}function V2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V2(Object(n),!0).forEach(function(r){ih(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l3(r.key),r)}}function jne(t,e,n){return e&&Rne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mne(t,e,n){return e=hg(e),$ne(t,s3()?Reflect.construct(e,n||[],hg(t).constructor):e.apply(t,n))}function $ne(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dne(t)}function Dne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s3=function(){return!!t})()}function hg(t){return hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hg(t)}function Lne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fx(t,e)}function Fx(t,e){return Fx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fx(t,e)}function ih(t,e,n){return e=l3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l3(t){var e=Vne(t,"string");return nu(e)=="symbol"?e:e+""}function Vne(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cr=32,BS=function(t){function e(){return Nne(this,e),Mne(this,e,arguments)}return Lne(e,t),jne(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=cr/2,a=cr/6,s=cr/3,l=r.inactive?i:r.color;if(r.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:cr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(cr,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return z.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(cr/8,"h").concat(cr,"v").concat(cr*3/4,"h").concat(-cr,"z"),className:"recharts-legend-icon"});if(z.isValidElement(r.legendIcon)){var u=Cne({},r);return delete u.legendIcon,z.cloneElement(r.legendIcon,u)}return z.createElement(US,{fill:l,cx:o,cy:o,size:cr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:cr,height:cr},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var y=p.formatter||l,b=Fe(ih(ih({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=Pe(p.value)?null:p.value;Ki(!Pe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?u:p.color;return z.createElement("li",Vx({className:b,style:f,key:"legend-item-".concat(m)},ag(r.props,p,m)),z.createElement(Ox,{width:a,height:a,viewBox:c,style:h},r.renderIcon(p)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},y?y(v,p,m):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(D.PureComponent);ih(BS,"displayName","Legend");ih(BS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Fne=_v;function Une(){this.__data__=new Fne,this.size=0}var Bne=Une;function zne(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Wne=zne;function qne(t){return this.__data__.get(t)}var Hne=qne;function Gne(t){return this.__data__.has(t)}var Kne=Gne,Xne=_v,Yne=IS,Qne=OS,Jne=200;function Zne(t,e){var n=this.__data__;if(n instanceof Xne){var r=n.__data__;if(!Yne||r.length<Jne-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Qne(r)}return n.set(t,e),this.size=n.size,this}var ere=Zne,tre=_v,nre=Bne,rre=Wne,ire=Hne,ore=Kne,are=ere;function Hu(t){var e=this.__data__=new tre(t);this.size=e.size}Hu.prototype.clear=nre;Hu.prototype.delete=rre;Hu.prototype.get=ire;Hu.prototype.has=ore;Hu.prototype.set=are;var u3=Hu,sre="__lodash_hash_undefined__";function lre(t){return this.__data__.set(t,sre),this}var ure=lre;function cre(t){return this.__data__.has(t)}var fre=cre,hre=OS,dre=ure,pre=fre;function dg(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new hre;++e<n;)this.add(t[e])}dg.prototype.add=dg.prototype.push=dre;dg.prototype.has=pre;var c3=dg;function mre(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var f3=mre;function gre(t,e){return t.has(e)}var h3=gre,yre=c3,vre=f3,bre=h3,wre=1,xre=2;function _re(t,e,n,r,i,o){var a=n&wre,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,p=n&xre?new yre:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var m=t[f],y=e[f];if(r)var b=a?r(y,m,f,e,t,o):r(m,y,f,t,e,o);if(b!==void 0){if(b)continue;h=!1;break}if(p){if(!vre(e,function(v,w){if(!bre(p,w)&&(m===v||i(m,v,n,r,o)))return p.push(w)})){h=!1;break}}else if(!(m===y||i(m,y,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var d3=_re,Ere=Pi,Sre=Ere.Uint8Array,Tre=Sre;function Are(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Pre=Are;function kre(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var zS=kre,F2=fd,U2=Tre,Ire=kS,Ore=d3,Cre=Pre,Nre=zS,Rre=1,jre=2,Mre="[object Boolean]",$re="[object Date]",Dre="[object Error]",Lre="[object Map]",Vre="[object Number]",Fre="[object RegExp]",Ure="[object Set]",Bre="[object String]",zre="[object Symbol]",Wre="[object ArrayBuffer]",qre="[object DataView]",B2=F2?F2.prototype:void 0,Sb=B2?B2.valueOf:void 0;function Hre(t,e,n,r,i,o,a){switch(n){case qre:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Wre:return!(t.byteLength!=e.byteLength||!o(new U2(t),new U2(e)));case Mre:case $re:case Vre:return Ire(+t,+e);case Dre:return t.name==e.name&&t.message==e.message;case Fre:case Bre:return t==e+"";case Lre:var s=Cre;case Ure:var l=r&Rre;if(s||(s=Nre),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=jre,a.set(t,e);var c=Ore(s(t),s(e),r,i,o,a);return a.delete(t),c;case zre:if(Sb)return Sb.call(t)==Sb.call(e)}return!1}var Gre=Hre;function Kre(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var p3=Kre,Xre=p3,Yre=Wn;function Qre(t,e,n){var r=e(t);return Yre(t)?r:Xre(r,n(t))}var Jre=Qre;function Zre(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var eie=Zre;function tie(){return[]}var nie=tie,rie=eie,iie=nie,oie=Object.prototype,aie=oie.propertyIsEnumerable,z2=Object.getOwnPropertySymbols,sie=z2?function(t){return t==null?[]:(t=Object(t),rie(z2(t),function(e){return aie.call(t,e)}))}:iie,lie=sie;function uie(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var cie=uie,fie=ho,hie=po,die="[object Arguments]";function pie(t){return hie(t)&&fie(t)==die}var mie=pie,W2=mie,gie=po,m3=Object.prototype,yie=m3.hasOwnProperty,vie=m3.propertyIsEnumerable,bie=W2(function(){return arguments}())?W2:function(t){return gie(t)&&yie.call(t,"callee")&&!vie.call(t,"callee")},WS=bie,pg={exports:{}};function wie(){return!1}var xie=wie;pg.exports;(function(t,e){var n=Pi,r=xie,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(pg,pg.exports);var g3=pg.exports,_ie=9007199254740991,Eie=/^(?:0|[1-9]\d*)$/;function Sie(t,e){var n=typeof t;return e=e??_ie,!!e&&(n=="number"||n!="symbol"&&Eie.test(t))&&t>-1&&t%1==0&&t<e}var qS=Sie,Tie=9007199254740991;function Aie(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Tie}var HS=Aie,Pie=ho,kie=HS,Iie=po,Oie="[object Arguments]",Cie="[object Array]",Nie="[object Boolean]",Rie="[object Date]",jie="[object Error]",Mie="[object Function]",$ie="[object Map]",Die="[object Number]",Lie="[object Object]",Vie="[object RegExp]",Fie="[object Set]",Uie="[object String]",Bie="[object WeakMap]",zie="[object ArrayBuffer]",Wie="[object DataView]",qie="[object Float32Array]",Hie="[object Float64Array]",Gie="[object Int8Array]",Kie="[object Int16Array]",Xie="[object Int32Array]",Yie="[object Uint8Array]",Qie="[object Uint8ClampedArray]",Jie="[object Uint16Array]",Zie="[object Uint32Array]",tt={};tt[qie]=tt[Hie]=tt[Gie]=tt[Kie]=tt[Xie]=tt[Yie]=tt[Qie]=tt[Jie]=tt[Zie]=!0;tt[Oie]=tt[Cie]=tt[zie]=tt[Nie]=tt[Wie]=tt[Rie]=tt[jie]=tt[Mie]=tt[$ie]=tt[Die]=tt[Lie]=tt[Vie]=tt[Fie]=tt[Uie]=tt[Bie]=!1;function eoe(t){return Iie(t)&&kie(t.length)&&!!tt[Pie(t)]}var toe=eoe;function noe(t){return function(e){return t(e)}}var y3=noe,mg={exports:{}};mg.exports;(function(t,e){var n=TL,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(mg,mg.exports);var roe=mg.exports,ioe=toe,ooe=y3,q2=roe,H2=q2&&q2.isTypedArray,aoe=H2?ooe(H2):ioe,v3=aoe,soe=cie,loe=WS,uoe=Wn,coe=g3,foe=qS,hoe=v3,doe=Object.prototype,poe=doe.hasOwnProperty;function moe(t,e){var n=uoe(t),r=!n&&loe(t),i=!n&&!r&&coe(t),o=!n&&!r&&!i&&hoe(t),a=n||r||i||o,s=a?soe(t.length,String):[],l=s.length;for(var u in t)(e||poe.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||foe(u,l)))&&s.push(u);return s}var goe=moe,yoe=Object.prototype;function voe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||yoe;return t===n}var boe=voe;function woe(t,e){return function(n){return t(e(n))}}var b3=woe,xoe=b3,_oe=xoe(Object.keys,Object),Eoe=_oe,Soe=boe,Toe=Eoe,Aoe=Object.prototype,Poe=Aoe.hasOwnProperty;function koe(t){if(!Soe(t))return Toe(t);var e=[];for(var n in Object(t))Poe.call(t,n)&&n!="constructor"&&e.push(n);return e}var Ioe=koe,Ooe=PS,Coe=HS;function Noe(t){return t!=null&&Coe(t.length)&&!Ooe(t)}var dd=Noe,Roe=goe,joe=Ioe,Moe=dd;function $oe(t){return Moe(t)?Roe(t):joe(t)}var Vv=$oe,Doe=Jre,Loe=lie,Voe=Vv;function Foe(t){return Doe(t,Voe,Loe)}var Uoe=Foe,G2=Uoe,Boe=1,zoe=Object.prototype,Woe=zoe.hasOwnProperty;function qoe(t,e,n,r,i,o){var a=n&Boe,s=G2(t),l=s.length,u=G2(e),c=u.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var h=s[f];if(!(a?h in e:Woe.call(e,h)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var y=!0;o.set(t,e),o.set(e,t);for(var b=a;++f<l;){h=s[f];var v=t[h],w=e[h];if(r)var x=a?r(w,v,h,e,t,o):r(v,w,h,t,e,o);if(!(x===void 0?v===w||i(v,w,n,r,o):x)){y=!1;break}b||(b=h=="constructor")}if(y&&!b){var A=t.constructor,_=e.constructor;A!=_&&"constructor"in t&&"constructor"in e&&!(typeof A=="function"&&A instanceof A&&typeof _=="function"&&_ instanceof _)&&(y=!1)}return o.delete(t),o.delete(e),y}var Hoe=qoe,Goe=Vs,Koe=Pi,Xoe=Goe(Koe,"DataView"),Yoe=Xoe,Qoe=Vs,Joe=Pi,Zoe=Qoe(Joe,"Promise"),eae=Zoe,tae=Vs,nae=Pi,rae=tae(nae,"Set"),w3=rae,iae=Vs,oae=Pi,aae=iae(oae,"WeakMap"),sae=aae,Ux=Yoe,Bx=IS,zx=eae,Wx=w3,qx=sae,x3=ho,Gu=PL,K2="[object Map]",lae="[object Object]",X2="[object Promise]",Y2="[object Set]",Q2="[object WeakMap]",J2="[object DataView]",uae=Gu(Ux),cae=Gu(Bx),fae=Gu(zx),hae=Gu(Wx),dae=Gu(qx),Wa=x3;(Ux&&Wa(new Ux(new ArrayBuffer(1)))!=J2||Bx&&Wa(new Bx)!=K2||zx&&Wa(zx.resolve())!=X2||Wx&&Wa(new Wx)!=Y2||qx&&Wa(new qx)!=Q2)&&(Wa=function(t){var e=x3(t),n=e==lae?t.constructor:void 0,r=n?Gu(n):"";if(r)switch(r){case uae:return J2;case cae:return K2;case fae:return X2;case hae:return Y2;case dae:return Q2}return e});var pae=Wa,Tb=u3,mae=d3,gae=Gre,yae=Hoe,Z2=pae,eO=Wn,tO=g3,vae=v3,bae=1,nO="[object Arguments]",rO="[object Array]",cp="[object Object]",wae=Object.prototype,iO=wae.hasOwnProperty;function xae(t,e,n,r,i,o){var a=eO(t),s=eO(e),l=a?rO:Z2(t),u=s?rO:Z2(e);l=l==nO?cp:l,u=u==nO?cp:u;var c=l==cp,f=u==cp,h=l==u;if(h&&tO(t)){if(!tO(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new Tb),a||vae(t)?mae(t,e,n,r,i,o):gae(t,e,l,n,r,i,o);if(!(n&bae)){var p=c&&iO.call(t,"__wrapped__"),m=f&&iO.call(e,"__wrapped__");if(p||m){var y=p?t.value():t,b=m?e.value():e;return o||(o=new Tb),i(y,b,n,r,o)}}return h?(o||(o=new Tb),yae(t,e,n,r,i,o)):!1}var _ae=xae,Eae=_ae,oO=po;function _3(t,e,n,r,i){return t===e?!0:t==null||e==null||!oO(t)&&!oO(e)?t!==t&&e!==e:Eae(t,e,n,r,_3,i)}var GS=_3,Sae=u3,Tae=GS,Aae=1,Pae=2;function kae(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new Sae;if(r)var h=r(u,c,l,t,e,f);if(!(h===void 0?Tae(c,u,Aae|Pae,r,f):h))return!1}}return!0}var Iae=kae,Oae=Sa;function Cae(t){return t===t&&!Oae(t)}var E3=Cae,Nae=E3,Rae=Vv;function jae(t){for(var e=Rae(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Nae(i)]}return e}var Mae=jae;function $ae(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var S3=$ae,Dae=Iae,Lae=Mae,Vae=S3;function Fae(t){var e=Lae(t);return e.length==1&&e[0][2]?Vae(e[0][0],e[0][1]):function(n){return n===t||Dae(n,t,e)}}var Uae=Fae;function Bae(t,e){return t!=null&&e in Object(t)}var zae=Bae,Wae=NL,qae=WS,Hae=Wn,Gae=qS,Kae=HS,Xae=Sv;function Yae(t,e,n){e=Wae(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=Xae(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Kae(i)&&Gae(a,i)&&(Hae(t)||qae(t)))}var Qae=Yae,Jae=zae,Zae=Qae;function ese(t,e){return t!=null&&Zae(t,e,Jae)}var tse=ese,nse=GS,rse=RL,ise=tse,ose=AS,ase=E3,sse=S3,lse=Sv,use=1,cse=2;function fse(t,e){return ose(t)&&ase(e)?sse(lse(t),e):function(n){var r=rse(n,t);return r===void 0&&r===e?ise(n,t):nse(e,r,use|cse)}}var hse=fse;function dse(t){return t}var Ku=dse;function pse(t){return function(e){return e==null?void 0:e[t]}}var mse=pse,gse=RS;function yse(t){return function(e){return gse(e,t)}}var vse=yse,bse=mse,wse=vse,xse=AS,_se=Sv;function Ese(t){return xse(t)?bse(_se(t)):wse(t)}var Sse=Ese,Tse=Uae,Ase=hse,Pse=Ku,kse=Wn,Ise=Sse;function Ose(t){return typeof t=="function"?t:t==null?Pse:typeof t=="object"?kse(t)?Ase(t[0],t[1]):Tse(t):Ise(t)}var Ta=Ose;function Cse(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var T3=Cse;function Nse(t){return t!==t}var Rse=Nse;function jse(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Mse=jse,$se=T3,Dse=Rse,Lse=Mse;function Vse(t,e,n){return e===e?Lse(t,e,n):$se(t,Dse,n)}var Fse=Vse,Use=Fse;function Bse(t,e){var n=t==null?0:t.length;return!!n&&Use(t,e,0)>-1}var zse=Bse;function Wse(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var qse=Wse;function Hse(){}var Gse=Hse,Ab=w3,Kse=Gse,Xse=zS,Yse=1/0,Qse=Ab&&1/Xse(new Ab([,-0]))[1]==Yse?function(t){return new Ab(t)}:Kse,Jse=Qse,Zse=c3,ele=zse,tle=qse,nle=h3,rle=Jse,ile=zS,ole=200;function ale(t,e,n){var r=-1,i=ele,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=tle;else if(o>=ole){var u=e?null:rle(t);if(u)return ile(u);a=!1,i=nle,l=new Zse}else l=e?[]:s;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var sle=ale,lle=Ta,ule=sle;function cle(t,e){return t&&t.length?ule(t,lle(e)):[]}var fle=cle;const aO=Xe(fle);function A3(t,e,n){return e===!0?aO(t,n):Pe(e)?aO(t,e):t}function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}var hle=["ref"];function sO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ni(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(n),!0).forEach(function(r){Fv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k3(r.key),r)}}function ple(t,e,n){return e&&lO(t.prototype,e),n&&lO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mle(t,e,n){return e=gg(e),gle(t,P3()?Reflect.construct(e,n||[],gg(t).constructor):e.apply(t,n))}function gle(t,e){if(e&&(ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yle(t)}function yle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P3=function(){return!!t})()}function gg(t){return gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gg(t)}function vle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hx(t,e)}function Hx(t,e){return Hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hx(t,e)}function Fv(t,e,n){return e=k3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k3(t){var e=ble(t,"string");return ru(e)=="symbol"?e:e+""}function ble(t,e){if(ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wle(t,e){if(t==null)return{};var n=xle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _le(t){return t.value}function Ele(t,e){if(z.isValidElement(t))return z.cloneElement(t,e);if(typeof t=="function")return z.createElement(t,e);e.ref;var n=wle(e,hle);return z.createElement(BS,n)}var uO=1,Ml=function(t){function e(){var n;dle(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=mle(this,e,[].concat(i)),Fv(n,"lastBoundingBox",{width:-1,height:-1}),n}return vle(e,t),ple(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>uO||Math.abs(i.height-this.lastBoundingBox.height)>uO)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ni({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((c||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ni(Ni({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=Ni(Ni({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return z.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},Ele(o,Ni(Ni({},this.props),{},{payload:A3(c,u,_le)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Ni(Ni({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&ae(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(D.PureComponent);Fv(Ml,"displayName","Legend");Fv(Ml,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var cO=fd,Sle=WS,Tle=Wn,fO=cO?cO.isConcatSpreadable:void 0;function Ale(t){return Tle(t)||Sle(t)||!!(fO&&t&&t[fO])}var Ple=Ale,kle=p3,Ile=Ple;function I3(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Ile),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?I3(s,e-1,n,r,i):kle(i,s):r||(i[i.length]=s)}return i}var O3=I3;function Ole(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var Cle=Ole,Nle=Cle,Rle=Nle(),jle=Rle,Mle=jle,$le=Vv;function Dle(t,e){return t&&Mle(t,e,$le)}var C3=Dle,Lle=dd;function Vle(t,e){return function(n,r){if(n==null)return n;if(!Lle(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var Fle=Vle,Ule=C3,Ble=Fle,zle=Ble(Ule),KS=zle,Wle=KS,qle=dd;function Hle(t,e){var n=-1,r=qle(t)?Array(t.length):[];return Wle(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var N3=Hle;function Gle(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Kle=Gle,hO=Fu;function Xle(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=hO(t),a=e!==void 0,s=e===null,l=e===e,u=hO(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var Yle=Xle,Qle=Yle;function Jle(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=Qle(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Zle=Jle,Pb=NS,eue=RS,tue=Ta,nue=N3,rue=Kle,iue=y3,oue=Zle,aue=Ku,sue=Wn;function lue(t,e,n){e.length?e=Pb(e,function(o){return sue(o)?function(a){return eue(a,o.length===1?o[0]:o)}:o}):e=[aue];var r=-1;e=Pb(e,iue(tue));var i=nue(t,function(o,a,s){var l=Pb(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return rue(i,function(o,a){return oue(o,a,n)})}var uue=lue;function cue(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var fue=cue,hue=fue,dO=Math.max;function due(t,e,n){return e=dO(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=dO(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),hue(t,this,s)}}var pue=due;function mue(t){return function(){return t}}var gue=mue,yue=Vs,vue=function(){try{var t=yue(Object,"defineProperty");return t({},"",{}),t}catch{}}(),R3=vue,bue=gue,pO=R3,wue=Ku,xue=pO?function(t,e){return pO(t,"toString",{configurable:!0,enumerable:!1,value:bue(e),writable:!0})}:wue,_ue=xue,Eue=800,Sue=16,Tue=Date.now;function Aue(t){var e=0,n=0;return function(){var r=Tue(),i=Sue-(r-n);if(n=r,i>0){if(++e>=Eue)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Pue=Aue,kue=_ue,Iue=Pue,Oue=Iue(kue),Cue=Oue,Nue=Ku,Rue=pue,jue=Cue;function Mue(t,e){return jue(Rue(t,e,Nue),t+"")}var $ue=Mue,Due=kS,Lue=dd,Vue=qS,Fue=Sa;function Uue(t,e,n){if(!Fue(n))return!1;var r=typeof e;return(r=="number"?Lue(n)&&Vue(e,n.length):r=="string"&&e in n)?Due(n[e],t):!1}var Uv=Uue,Bue=O3,zue=uue,Wue=$ue,mO=Uv,que=Wue(function(t,e){if(t==null)return[];var n=e.length;return n>1&&mO(t,e[0],e[1])?e=[]:n>2&&mO(e[0],e[1],e[2])&&(e=[e[0]]),zue(t,Bue(e,1),[])}),Hue=que;const XS=Xe(Hue);function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function Gx(){return Gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gx.apply(this,arguments)}function Gue(t,e){return Que(t)||Yue(t,e)||Xue(t,e)||Kue()}function Kue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xue(t,e){if(t){if(typeof t=="string")return gO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gO(t,e)}}function gO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Que(t){if(Array.isArray(t))return t}function yO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yO(Object(n),!0).forEach(function(r){Jue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jue(t,e,n){return e=Zue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zue(t){var e=ece(t,"string");return oh(e)=="symbol"?e:e+""}function ece(t,e){if(oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tce(t){return Array.isArray(t)&&Ft(t[0])&&Ft(t[1])?t.join(" ~ "):t}var nce=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,y=e.label,b=e.labelFormatter,v=e.accessibilityLayer,w=v===void 0?!1:v,x=function(){if(c&&c.length){var R={padding:0,margin:0},O=(h?XS(c,h):c).map(function(j,$){if(j.type==="none")return null;var V=kb({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},s),W=j.formatter||f||tce,U=j.value,F=j.name,L=U,H=F;if(W&&L!=null&&H!=null){var X=W(U,F,j,$,c);if(Array.isArray(X)){var K=Gue(X,2);L=K[0],H=K[1]}else L=X}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:V},Ft(H)?z.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Ft(H)?z.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,z.createElement("span",{className:"recharts-tooltip-item-value"},L),z.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:R},O)}return null},A=kb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),_=kb({margin:0},u),P=!$e(y),S=P?y:"",T=Fe("recharts-default-tooltip",p),k=Fe("recharts-tooltip-label",m);P&&b&&c!==void 0&&c!==null&&(S=b(y,c));var N=w?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",Gx({className:T,style:A},N),z.createElement("p",{className:k,style:_},z.isValidElement(S)?S:"".concat(S)),x())};function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function fp(t,e,n){return e=rce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rce(t){var e=ice(t,"string");return ah(e)=="symbol"?e:e+""}function ice(t,e){if(ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ac="recharts-tooltip-wrapper",oce={visibility:"hidden"};function ace(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Fe(Ac,fp(fp(fp(fp({},"".concat(Ac,"-right"),ae(n)&&e&&ae(e.x)&&n>=e.x),"".concat(Ac,"-left"),ae(n)&&e&&ae(e.x)&&n<e.x),"".concat(Ac,"-bottom"),ae(r)&&e&&ae(e.y)&&r>=e.y),"".concat(Ac,"-top"),ae(r)&&e&&ae(e.y)&&r<e.y))}function vO(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&ae(o[r]))return o[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?c:f;if(a[r]){var h=c,p=l[r];return h<p?Math.max(f,l[r]):Math.max(c,l[r])}var m=f+s,y=l[r]+u;return m>y?Math.max(c,l[r]):Math.max(f,l[r])}function sce(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function lce(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return a.height>0&&a.width>0&&n?(c=vO({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=vO({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=sce({translateX:c,translateY:f,useTranslate3d:s})):u=oce,{cssProperties:u,cssClasses:ace({translateX:c,translateY:f,coordinate:n})}}function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function bO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(n),!0).forEach(function(r){Xx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M3(r.key),r)}}function fce(t,e,n){return e&&cce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hce(t,e,n){return e=yg(e),dce(t,j3()?Reflect.construct(e,n||[],yg(t).constructor):e.apply(t,n))}function dce(t,e){if(e&&(iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pce(t)}function pce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j3=function(){return!!t})()}function yg(t){return yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yg(t)}function mce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kx(t,e)}function Kx(t,e){return Kx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Kx(t,e)}function Xx(t,e,n){return e=M3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M3(t){var e=gce(t,"string");return iu(e)=="symbol"?e:e+""}function gce(t,e){if(iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xO=1,yce=function(t){function e(){var n;uce(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=hce(this,e,[].concat(i)),Xx(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Xx(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return mce(e,t),fce(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>xO||Math.abs(r.height-this.state.lastBoundingBox.height)>xO)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,m=i.position,y=i.reverseDirection,b=i.useTranslate3d,v=i.viewBox,w=i.wrapperStyle,x=lce({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:p,position:m,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:v}),A=x.cssClasses,_=x.cssProperties,P=wO(wO({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return z.createElement("div",{tabIndex:-1,className:A,style:P,ref:function(T){r.wrapperNode=T}},u)}}])}(D.PureComponent),vce=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Xu={isSsr:vce()};function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function _O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(n),!0).forEach(function(r){YS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D3(r.key),r)}}function xce(t,e,n){return e&&wce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _ce(t,e,n){return e=vg(e),Ece(t,$3()?Reflect.construct(e,n||[],vg(t).constructor):e.apply(t,n))}function Ece(t,e){if(e&&(ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sce(t)}function Sce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($3=function(){return!!t})()}function vg(t){return vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vg(t)}function Tce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yx(t,e)}function Yx(t,e){return Yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yx(t,e)}function YS(t,e,n){return e=D3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D3(t){var e=Ace(t,"string");return ou(e)=="symbol"?e:e+""}function Ace(t,e){if(ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Pce(t){return t.dataKey}function kce(t,e){return z.isValidElement(t)?z.cloneElement(t,e):typeof t=="function"?z.createElement(t,e):z.createElement(nce,e)}var ii=function(t){function e(){return bce(this,e),_ce(this,e,arguments)}return Tce(e,t),xce(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,m=i.payload,y=i.payloadUniqBy,b=i.position,v=i.reverseDirection,w=i.useTranslate3d,x=i.viewBox,A=i.wrapperStyle,_=m??[];f&&_.length&&(_=A3(m.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),y,Pce));var P=_.length>0;return z.createElement(yce,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:P,offset:p,position:b,reverseDirection:v,useTranslate3d:w,viewBox:x,wrapperStyle:A},kce(u,EO(EO({},this.props),{},{payload:_})))}}])}(D.PureComponent);YS(ii,"displayName","Tooltip");YS(ii,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Xu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Ice=Pi,Oce=function(){return Ice.Date.now()},Cce=Oce,Nce=/\s/;function Rce(t){for(var e=t.length;e--&&Nce.test(t.charAt(e)););return e}var jce=Rce,Mce=jce,$ce=/^\s+/;function Dce(t){return t&&t.slice(0,Mce(t)+1).replace($ce,"")}var Lce=Dce,Vce=Lce,SO=Sa,Fce=Fu,TO=NaN,Uce=/^[-+]0x[0-9a-f]+$/i,Bce=/^0b[01]+$/i,zce=/^0o[0-7]+$/i,Wce=parseInt;function qce(t){if(typeof t=="number")return t;if(Fce(t))return TO;if(SO(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=SO(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Vce(t);var n=Bce.test(t);return n||zce.test(t)?Wce(t.slice(2),n?2:8):Uce.test(t)?TO:+t}var L3=qce,Hce=Sa,Ib=Cce,AO=L3,Gce="Expected a function",Kce=Math.max,Xce=Math.min;function Yce(t,e,n){var r,i,o,a,s,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Gce);e=AO(e)||0,Hce(n)&&(c=!!n.leading,f="maxWait"in n,o=f?Kce(AO(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(P){var S=r,T=i;return r=i=void 0,u=P,a=t.apply(T,S),a}function m(P){return u=P,s=setTimeout(v,e),c?p(P):a}function y(P){var S=P-l,T=P-u,k=e-S;return f?Xce(k,o-T):k}function b(P){var S=P-l,T=P-u;return l===void 0||S>=e||S<0||f&&T>=o}function v(){var P=Ib();if(b(P))return w(P);s=setTimeout(v,y(P))}function w(P){return s=void 0,h&&r?p(P):(r=i=void 0,a)}function x(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function A(){return s===void 0?a:w(Ib())}function _(){var P=Ib(),S=b(P);if(r=arguments,i=this,l=P,S){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(v,e),p(l)}return s===void 0&&(s=setTimeout(v,e)),a}return _.cancel=x,_.flush=A,_}var Qce=Yce,Jce=Qce,Zce=Sa,efe="Expected a function";function tfe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(efe);return Zce(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Jce(t,e,{leading:r,maxWait:e,trailing:i})}var nfe=tfe;const V3=Xe(nfe);function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function PO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(n),!0).forEach(function(r){rfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rfe(t,e,n){return e=ife(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ife(t){var e=ofe(t,"string");return sh(e)=="symbol"?e:e+""}function ofe(t,e){if(sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function afe(t,e){return cfe(t)||ufe(t,e)||lfe(t,e)||sfe()}function sfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lfe(t,e){if(t){if(typeof t=="string")return kO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kO(t,e)}}function kO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ufe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function cfe(t){if(Array.isArray(t))return t}var ffe=D.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,m=t.debounce,y=m===void 0?0:m,b=t.id,v=t.className,w=t.onResize,x=t.style,A=x===void 0?{}:x,_=D.useRef(null),P=D.useRef();P.current=w,D.useImperativeHandle(e,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var S=D.useState({containerWidth:i.width,containerHeight:i.height}),T=afe(S,2),k=T[0],N=T[1],C=D.useCallback(function(O,j){N(function($){var V=Math.round(O),W=Math.round(j);return $.containerWidth===V&&$.containerHeight===W?$:{containerWidth:V,containerHeight:W}})},[]);D.useEffect(function(){var O=function(F){var L,H=F[0].contentRect,X=H.width,K=H.height;C(X,K),(L=P.current)===null||L===void 0||L.call(P,X,K)};y>0&&(O=V3(O,y,{trailing:!0,leading:!1}));var j=new ResizeObserver(O),$=_.current.getBoundingClientRect(),V=$.width,W=$.height;return C(V,W),j.observe(_.current),function(){j.disconnect()}},[C,y]);var R=D.useMemo(function(){var O=k.containerWidth,j=k.containerHeight;if(O<0||j<0)return null;Ki(Ja(a)||Ja(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Ki(!n||n>0,"The aspect(%s) must be greater than zero.",n);var $=Ja(a)?O:a,V=Ja(l)?j:l;n&&n>0&&($?V=$/n:V&&($=V*n),h&&V>h&&(V=h)),Ki($>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,V,a,l,c,f,n);var W=!Array.isArray(p)&&Gi(p.type).endsWith("Chart");return z.Children.map(p,function(U){return z.isValidElement(U)?D.cloneElement(U,hp({width:$,height:V},W?{style:hp({height:"100%",width:"100%",maxHeight:V,maxWidth:$},U.props.style)}:{})):U})},[n,p,l,h,f,c,k,a]);return z.createElement("div",{id:b?"".concat(b):void 0,className:Fe("recharts-responsive-container",v),style:hp(hp({},A),{},{width:a,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:_},R)}),F3=function(e){return null};F3.displayName="Cell";function lh(t){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(t)}function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){hfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hfe(t,e,n){return e=dfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dfe(t){var e=pfe(t,"string");return lh(e)=="symbol"?e:e+""}function pfe(t,e){if(lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ks={widthCache:{},cacheCount:0},mfe=2e3,gfe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},OO="recharts_measurement_span";function yfe(t){var e=Qx({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var yf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Xu.isSsr)return{width:0,height:0};var r=yfe(n),i=JSON.stringify({text:e,copyStyle:r});if(Ks.widthCache[i])return Ks.widthCache[i];try{var o=document.getElementById(OO);o||(o=document.createElement("span"),o.setAttribute("id",OO),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=Qx(Qx({},gfe),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Ks.widthCache[i]=l,++Ks.cacheCount>mfe&&(Ks.cacheCount=0,Ks.widthCache={}),l}catch{return{width:0,height:0}}},vfe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function bg(t,e){return _fe(t)||xfe(t,e)||wfe(t,e)||bfe()}function bfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wfe(t,e){if(t){if(typeof t=="string")return CO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CO(t,e)}}function CO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function _fe(t){if(Array.isArray(t))return t}function Efe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tfe(r.key),r)}}function Sfe(t,e,n){return e&&NO(t.prototype,e),n&&NO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tfe(t){var e=Afe(t,"string");return uh(e)=="symbol"?e:e+""}function Afe(t,e){if(uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var RO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Pfe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,kfe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,U3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ife=Object.keys(U3),ml="NaN";function Ofe(t,e){return t*U3[e]}var dp=function(){function t(e,n){Efe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Pfe.test(n)&&(this.num=NaN,this.unit=""),Ife.includes(n)&&(this.num=Ofe(e,n),this.unit="px")}return Sfe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=kfe.exec(n))!==null&&r!==void 0?r:[],o=bg(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function B3(t){if(t.includes(ml))return ml;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=RO.exec(e))!==null&&n!==void 0?n:[],i=bg(r,4),o=i[1],a=i[2],s=i[3],l=dp.parse(o??""),u=dp.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return ml;e=e.replace(RO,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=jO.exec(e))!==null&&f!==void 0?f:[],p=bg(h,4),m=p[1],y=p[2],b=p[3],v=dp.parse(m??""),w=dp.parse(b??""),x=y==="+"?v.add(w):v.subtract(w);if(x.isNaN())return ml;e=e.replace(jO,x.toString())}return e}var MO=/\(([^()]*)\)/;function Cfe(t){for(var e=t;e.includes("(");){var n=MO.exec(e),r=bg(n,2),i=r[1];e=e.replace(MO,B3(i))}return e}function Nfe(t){var e=t.replace(/\s+/g,"");return e=Cfe(e),e=B3(e),e}function Rfe(t){try{return Nfe(t)}catch{return ml}}function Ob(t){var e=Rfe(t.slice(5,-1));return e===ml?"":e}var jfe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Mfe=["dx","dy","angle","className","breakAll"];function Jx(){return Jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jx.apply(this,arguments)}function $O(t,e){if(t==null)return{};var n=$fe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $fe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function DO(t,e){return Ffe(t)||Vfe(t,e)||Lfe(t,e)||Dfe()}function Dfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lfe(t,e){if(t){if(typeof t=="string")return LO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LO(t,e)}}function LO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Ffe(t){if(Array.isArray(t))return t}var z3=/[ \f\n\r\t\v\u2028\u2029]+/,W3=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];$e(n)||(r?o=n.toString().split(""):o=n.toString().split(z3));var a=o.map(function(l){return{word:l,width:yf(l,i).width}}),s=r?0:yf("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},Ufe=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=ae(a),f=s,h=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(V,W){var U=W.word,F=W.width,L=V[V.length-1];if(L&&(i==null||o||L.width+F+r<Number(i)))L.words.push(U),L.width+=F+r;else{var H={words:[U],width:F};V.push(H)}return V},[])},p=h(n),m=function($){return $.reduce(function(V,W){return V.width>W.width?V:W})};if(!c)return p;for(var y="",b=function($){var V=f.slice(0,$),W=W3({breakAll:u,style:l,children:V+y}).wordsWithComputedWidth,U=h(W),F=U.length>a||m(U).width>Number(i);return[F,U]},v=0,w=f.length-1,x=0,A;v<=w&&x<=f.length-1;){var _=Math.floor((v+w)/2),P=_-1,S=b(P),T=DO(S,2),k=T[0],N=T[1],C=b(_),R=DO(C,1),O=R[0];if(!k&&!O&&(v=_+1),k&&O&&(w=_-1),!k&&O){A=N;break}x++}return A||p},VO=function(e){var n=$e(e)?[]:e.toString().split(z3);return[{words:n}]},Bfe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!Xu.isSsr){var l,u,c=W3({breakAll:a,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return VO(i);return Ufe({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return VO(i)},FO="#808080",wg=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,p=h===void 0?"start":h,m=e.verticalAnchor,y=m===void 0?"end":m,b=e.fill,v=b===void 0?FO:b,w=$O(e,jfe),x=D.useMemo(function(){return Bfe({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),A=w.dx,_=w.dy,P=w.angle,S=w.className,T=w.breakAll,k=$O(w,Mfe);if(!Ft(r)||!Ft(o))return null;var N=r+(ae(A)?A:0),C=o+(ae(_)?_:0),R;switch(y){case"start":R=Ob("calc(".concat(u,")"));break;case"middle":R=Ob("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:R=Ob("calc(".concat(x.length-1," * -").concat(s,")"));break}var O=[];if(f){var j=x[0].width,$=w.width;O.push("scale(".concat((ae($)?$/j:1)/j,")"))}return P&&O.push("rotate(".concat(P,", ").concat(N,", ").concat(C,")")),O.length&&(k.transform=O.join(" ")),z.createElement("text",Jx({},Ce(k,!0),{x:N,y:C,className:Fe("recharts-text",S),textAnchor:p,fill:v.includes("url")?FO:v}),x.map(function(V,W){var U=V.words.join(T?"":" ");return z.createElement("tspan",{x:N,dy:W===0?R:s,key:"".concat(U,"-").concat(W)},U)}))};function ra(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zfe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function QS(t){let e,n,r;t.length!==2?(e=ra,n=(s,l)=>ra(t(s),l),r=(s,l)=>t(s)-l):(e=t===ra||t===zfe?t:Wfe,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function Wfe(){return 0}function q3(t){return t===null?NaN:+t}function*qfe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Hfe=QS(ra),pd=Hfe.right;QS(q3).center;class UO extends Map{constructor(e,n=Xfe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(BO(this,e))}has(e){return super.has(BO(this,e))}set(e,n){return super.set(Gfe(this,e),n)}delete(e){return super.delete(Kfe(this,e))}}function BO({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Gfe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Kfe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Xfe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Yfe(t=ra){if(t===ra)return H3;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function H3(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Qfe=Math.sqrt(50),Jfe=Math.sqrt(10),Zfe=Math.sqrt(2);function xg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Qfe?10:o>=Jfe?5:o>=Zfe?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?xg(t,e,n*2):[s,l,u]}function Zx(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?xg(e,t,n):xg(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function e_(t,e,n){return e=+e,t=+t,n=+n,xg(t,e,n)[2]}function t_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?e_(e,t,n):e_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function zO(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function WO(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function G3(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?H3:Yfe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+h)),m=Math.min(r,Math.floor(e+(l-u)*f/l+h));G3(t,e,p,m,i)}const o=t[e];let a=n,s=r;for(Pc(t,n,e),i(t[r],o)>0&&Pc(t,n,r);a<s;){for(Pc(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Pc(t,n,s):(++s,Pc(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Pc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ehe(t,e,n){if(t=Float64Array.from(qfe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return WO(t);if(e>=1)return zO(t);var r,i=(r-1)*e,o=Math.floor(i),a=zO(G3(t,o).subarray(0,o+1)),s=WO(t.subarray(o+1));return a+(s-a)*(i-o)}}function the(t,e,n=q3){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function nhe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function kr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function mo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const n_=Symbol("implicit");function JS(){var t=new UO,e=[],n=[],r=n_;function i(o){let a=t.get(o);if(a===void 0){if(r!==n_)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new UO;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return JS(e,n).unknown(r)},kr.apply(i,arguments),i}function ch(){var t=JS().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,p=i<r,m=p?i:r,y=p?r:i;o=(y-m)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),m+=(y-m-o*(h-l))*c,a=o*(1-l),s&&(m=Math.round(m),a=Math.round(a));var b=nhe(h).map(function(v){return m+o*v});return n(p?b.reverse():b)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return ch(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},kr.apply(f(),arguments)}function K3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return K3(e())},t}function vf(){return K3(ch.apply(null,arguments).paddingInner(1))}function ZS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function X3(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function md(){}var fh=.7,_g=1/fh,$l="\\s*([+-]?\\d+)\\s*",hh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rhe=/^#([0-9a-f]{3,8})$/,ihe=new RegExp(`^rgb\\(${$l},${$l},${$l}\\)$`),ohe=new RegExp(`^rgb\\(${bi},${bi},${bi}\\)$`),ahe=new RegExp(`^rgba\\(${$l},${$l},${$l},${hh}\\)$`),she=new RegExp(`^rgba\\(${bi},${bi},${bi},${hh}\\)$`),lhe=new RegExp(`^hsl\\(${hh},${bi},${bi}\\)$`),uhe=new RegExp(`^hsla\\(${hh},${bi},${bi},${hh}\\)$`),qO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ZS(md,dh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:HO,formatHex:HO,formatHex8:che,formatHsl:fhe,formatRgb:GO,toString:GO});function HO(){return this.rgb().formatHex()}function che(){return this.rgb().formatHex8()}function fhe(){return Y3(this).formatHsl()}function GO(){return this.rgb().formatRgb()}function dh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=rhe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?KO(e):n===3?new Dn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?pp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?pp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ihe.exec(t))?new Dn(e[1],e[2],e[3],1):(e=ohe.exec(t))?new Dn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ahe.exec(t))?pp(e[1],e[2],e[3],e[4]):(e=she.exec(t))?pp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=lhe.exec(t))?QO(e[1],e[2]/100,e[3]/100,1):(e=uhe.exec(t))?QO(e[1],e[2]/100,e[3]/100,e[4]):qO.hasOwnProperty(t)?KO(qO[t]):t==="transparent"?new Dn(NaN,NaN,NaN,0):null}function KO(t){return new Dn(t>>16&255,t>>8&255,t&255,1)}function pp(t,e,n,r){return r<=0&&(t=e=n=NaN),new Dn(t,e,n,r)}function hhe(t){return t instanceof md||(t=dh(t)),t?(t=t.rgb(),new Dn(t.r,t.g,t.b,t.opacity)):new Dn}function r_(t,e,n,r){return arguments.length===1?hhe(t):new Dn(t,e,n,r??1)}function Dn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ZS(Dn,r_,X3(md,{brighter(t){return t=t==null?_g:Math.pow(_g,t),new Dn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?fh:Math.pow(fh,t),new Dn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Dn(ls(this.r),ls(this.g),ls(this.b),Eg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:XO,formatHex:XO,formatHex8:dhe,formatRgb:YO,toString:YO}));function XO(){return`#${Za(this.r)}${Za(this.g)}${Za(this.b)}`}function dhe(){return`#${Za(this.r)}${Za(this.g)}${Za(this.b)}${Za((isNaN(this.opacity)?1:this.opacity)*255)}`}function YO(){const t=Eg(this.opacity);return`${t===1?"rgb(":"rgba("}${ls(this.r)}, ${ls(this.g)}, ${ls(this.b)}${t===1?")":`, ${t})`}`}function Eg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ls(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Za(t){return t=ls(t),(t<16?"0":"")+t.toString(16)}function QO(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Lr(t,e,n,r)}function Y3(t){if(t instanceof Lr)return new Lr(t.h,t.s,t.l,t.opacity);if(t instanceof md||(t=dh(t)),!t)return new Lr;if(t instanceof Lr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Lr(a,s,l,t.opacity)}function phe(t,e,n,r){return arguments.length===1?Y3(t):new Lr(t,e,n,r??1)}function Lr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ZS(Lr,phe,X3(md,{brighter(t){return t=t==null?_g:Math.pow(_g,t),new Lr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?fh:Math.pow(fh,t),new Lr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Dn(Cb(t>=240?t-240:t+120,i,r),Cb(t,i,r),Cb(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Lr(JO(this.h),mp(this.s),mp(this.l),Eg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Eg(this.opacity);return`${t===1?"hsl(":"hsla("}${JO(this.h)}, ${mp(this.s)*100}%, ${mp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function JO(t){return t=(t||0)%360,t<0?t+360:t}function mp(t){return Math.max(0,Math.min(1,t||0))}function Cb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const eT=t=>()=>t;function mhe(t,e){return function(n){return t+n*e}}function ghe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function yhe(t){return(t=+t)==1?Q3:function(e,n){return n-e?ghe(e,n,t):eT(isNaN(e)?n:e)}}function Q3(t,e){var n=e-t;return n?mhe(t,n):eT(isNaN(t)?e:t)}const ZO=function t(e){var n=yhe(e);function r(i,o){var a=n((i=r_(i)).r,(o=r_(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=Q3(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function vhe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function bhe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function whe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Yu(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function xhe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Sg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function _he(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Yu(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var i_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nb=new RegExp(i_.source,"g");function Ehe(t){return function(){return t}}function She(t){return function(e){return t(e)+""}}function The(t,e){var n=i_.lastIndex=Nb.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=i_.exec(t))&&(i=Nb.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Sg(r,i)})),n=Nb.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?She(l[0].x):Ehe(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function Yu(t,e){var n=typeof e,r;return e==null||n==="boolean"?eT(e):(n==="number"?Sg:n==="string"?(r=dh(e))?(e=r,ZO):The:e instanceof dh?ZO:e instanceof Date?xhe:bhe(e)?vhe:Array.isArray(e)?whe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?_he:Sg)(t,e)}function tT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Ahe(t,e){e===void 0&&(e=t,t=Yu);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function Phe(t){return function(){return t}}function Tg(t){return+t}var eC=[0,1];function Sn(t){return t}function o_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Phe(isNaN(e)?NaN:.5)}function khe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Ihe(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=o_(i,r),o=n(a,o)):(r=o_(r,i),o=n(o,a)),function(s){return o(r(s))}}function Ohe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=o_(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=pd(t,s,1,r)-1;return o[l](i[l](s))}}function gd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Bv(){var t=eC,e=eC,n=Yu,r,i,o,a=Sn,s,l,u;function c(){var h=Math.min(t.length,e.length);return a!==Sn&&(a=khe(t[0],t[h-1])),s=h>2?Ohe:Ihe,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((u||(u=s(e,t.map(r),Sg)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Tg),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=tT,c()},f.clamp=function(h){return arguments.length?(a=h?!0:Sn,c()):a!==Sn},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,p){return r=h,i=p,c()}}function nT(){return Bv()(Sn,Sn)}function Che(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ag(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function au(t){return t=Ag(Math.abs(t)),t?t[1]:NaN}function Nhe(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Rhe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var jhe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ph(t){if(!(e=jhe.exec(t)))throw new Error("invalid format: "+t);var e;return new rT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ph.prototype=rT.prototype;function rT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}rT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Mhe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Pg;function $he(t,e){var n=Ag(t,e);if(!n)return Pg=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(Pg=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ag(t,Math.max(0,e+o-1))[0]}function tC(t,e){var n=Ag(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const nC={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Che,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>tC(t*100,e),r:tC,s:$he,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function rC(t){return t}var iC=Array.prototype.map,oC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Dhe(t){var e=t.grouping===void 0||t.thousands===void 0?rC:Nhe(iC.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?rC:Rhe(iC.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f,h){f=ph(f);var p=f.fill,m=f.align,y=f.sign,b=f.symbol,v=f.zero,w=f.width,x=f.comma,A=f.precision,_=f.trim,P=f.type;P==="n"?(x=!0,P="g"):nC[P]||(A===void 0&&(A=12),_=!0,P="g"),(v||p==="0"&&m==="=")&&(v=!0,p="0",m="=");var S=(h&&h.prefix!==void 0?h.prefix:"")+(b==="$"?n:b==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),T=(b==="$"?r:/[%p]/.test(P)?a:"")+(h&&h.suffix!==void 0?h.suffix:""),k=nC[P],N=/[defgprs%]/.test(P);A=A===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function C(R){var O=S,j=T,$,V,W;if(P==="c")j=k(R)+j,R="";else{R=+R;var U=R<0||1/R<0;if(R=isNaN(R)?l:k(Math.abs(R),A),_&&(R=Mhe(R)),U&&+R==0&&y!=="+"&&(U=!1),O=(U?y==="("?y:s:y==="-"||y==="("?"":y)+O,j=(P==="s"&&!isNaN(R)&&Pg!==void 0?oC[8+Pg/3]:"")+j+(U&&y==="("?")":""),N){for($=-1,V=R.length;++$<V;)if(W=R.charCodeAt($),48>W||W>57){j=(W===46?i+R.slice($+1):R.slice($))+j,R=R.slice(0,$);break}}}x&&!v&&(R=e(R,1/0));var F=O.length+R.length+j.length,L=F<w?new Array(w-F+1).join(p):"";switch(x&&v&&(R=e(L+R,L.length?w-j.length:1/0),L=""),m){case"<":R=O+R+j+L;break;case"=":R=O+L+R+j;break;case"^":R=L.slice(0,F=L.length>>1)+O+R+j+L.slice(F);break;default:R=L+O+R+j;break}return o(R)}return C.toString=function(){return f+""},C}function c(f,h){var p=Math.max(-8,Math.min(8,Math.floor(au(h)/3)))*3,m=Math.pow(10,-p),y=u((f=ph(f),f.type="f",f),{suffix:oC[8+p/3]});return function(b){return y(m*b)}}return{format:u,formatPrefix:c}}var gp,iT,J3;Lhe({thousands:",",grouping:[3],currency:["$",""]});function Lhe(t){return gp=Dhe(t),iT=gp.format,J3=gp.formatPrefix,gp}function Vhe(t){return Math.max(0,-au(Math.abs(t)))}function Fhe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(au(e)/3)))*3-au(Math.abs(t)))}function Uhe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,au(e)-au(t))+1}function Z3(t,e,n,r){var i=t_(t,e,n),o;switch(r=ph(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Fhe(i,a))&&(r.precision=o),J3(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Uhe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Vhe(i))&&(r.precision=o-(r.type==="%")*2);break}}return iT(r)}function Aa(t){var e=t.domain;return t.ticks=function(n){var r=e();return Zx(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Z3(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=e_(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function mh(){var t=nT();return t.copy=function(){return gd(t,mh())},kr.apply(t,arguments),Aa(t)}function e5(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Tg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return e5(t).unknown(e)},t=arguments.length?Array.from(t,Tg):[0,1],Aa(n)}function t5(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function aC(t){return Math.log(t)}function sC(t){return Math.exp(t)}function Bhe(t){return-Math.log(-t)}function zhe(t){return-Math.exp(-t)}function Whe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function qhe(t){return t===10?Whe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Hhe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function lC(t){return(e,n)=>-t(-e,n)}function oT(t){const e=t(aC,sC),n=e.domain;let r=10,i,o;function a(){return i=Hhe(r),o=qhe(r),n()[0]<0?(i=lC(i),o=lC(o),t(Bhe,zhe)):t(aC,sC),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),p=i(c),m,y;const b=s==null?10:+s;let v=[];if(!(r%1)&&p-h<b){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<r;++m)if(y=h<0?m/o(-h):m*o(h),!(y<u)){if(y>c)break;v.push(y)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(y=h>0?m/o(-h):m*o(h),!(y<u)){if(y>c)break;v.push(y)}v.length*2<b&&(v=Zx(u,c,b))}else v=Zx(h,p,Math.min(p-h,b)).map(o);return f?v.reverse():v},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=ph(l)).precision==null&&(l.trim=!0),l=iT(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(t5(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function n5(){const t=oT(Bv()).domain([1,10]);return t.copy=()=>gd(t,n5()).base(t.base()),kr.apply(t,arguments),t}function uC(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function cC(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function aT(t){var e=1,n=t(uC(e),cC(e));return n.constant=function(r){return arguments.length?t(uC(e=+r),cC(e)):e},Aa(n)}function r5(){var t=aT(Bv());return t.copy=function(){return gd(t,r5()).constant(t.constant())},kr.apply(t,arguments)}function fC(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ghe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Khe(t){return t<0?-t*t:t*t}function sT(t){var e=t(Sn,Sn),n=1;function r(){return n===1?t(Sn,Sn):n===.5?t(Ghe,Khe):t(fC(n),fC(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Aa(e)}function lT(){var t=sT(Bv());return t.copy=function(){return gd(t,lT()).exponent(t.exponent())},kr.apply(t,arguments),t}function Xhe(){return lT.apply(null,arguments).exponent(.5)}function hC(t){return Math.sign(t)*t*t}function Yhe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function i5(){var t=nT(),e=[0,1],n=!1,r;function i(o){var a=Yhe(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(hC(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Tg)).map(hC)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return i5(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},kr.apply(i,arguments),Aa(i)}function o5(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=the(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[pd(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(ra),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return o5().domain(t).range(e).unknown(r)},kr.apply(o,arguments)}function a5(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[pd(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return a5().domain([t,e]).range(i).unknown(o)},kr.apply(Aa(a),arguments)}function s5(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[pd(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return s5().domain(t).range(e).unknown(n)},kr.apply(i,arguments)}const Rb=new Date,jb=new Date;function Bt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>Bt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Rb.setTime(+o),jb.setTime(+a),t(Rb),t(jb),Math.floor(n(Rb,jb))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const kg=Bt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);kg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Bt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):kg);kg.range;const Bi=1e3,yr=Bi*60,zi=yr*60,oo=zi*24,uT=oo*7,dC=oo*30,Mb=oo*365,es=Bt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Bi)},(t,e)=>(e-t)/Bi,t=>t.getUTCSeconds());es.range;const cT=Bt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bi)},(t,e)=>{t.setTime(+t+e*yr)},(t,e)=>(e-t)/yr,t=>t.getMinutes());cT.range;const fT=Bt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*yr)},(t,e)=>(e-t)/yr,t=>t.getUTCMinutes());fT.range;const hT=Bt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bi-t.getMinutes()*yr)},(t,e)=>{t.setTime(+t+e*zi)},(t,e)=>(e-t)/zi,t=>t.getHours());hT.range;const dT=Bt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*zi)},(t,e)=>(e-t)/zi,t=>t.getUTCHours());dT.range;const yd=Bt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*yr)/oo,t=>t.getDate()-1);yd.range;const zv=Bt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/oo,t=>t.getUTCDate()-1);zv.range;const l5=Bt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/oo,t=>Math.floor(t/oo));l5.range;function Fs(t){return Bt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*yr)/uT)}const Wv=Fs(0),Ig=Fs(1),Qhe=Fs(2),Jhe=Fs(3),su=Fs(4),Zhe=Fs(5),ede=Fs(6);Wv.range;Ig.range;Qhe.range;Jhe.range;su.range;Zhe.range;ede.range;function Us(t){return Bt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/uT)}const qv=Us(0),Og=Us(1),tde=Us(2),nde=Us(3),lu=Us(4),rde=Us(5),ide=Us(6);qv.range;Og.range;tde.range;nde.range;lu.range;rde.range;ide.range;const pT=Bt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());pT.range;const mT=Bt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());mT.range;const ao=Bt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ao.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Bt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ao.range;const so=Bt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());so.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Bt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});so.range;function u5(t,e,n,r,i,o){const a=[[es,1,Bi],[es,5,5*Bi],[es,15,15*Bi],[es,30,30*Bi],[o,1,yr],[o,5,5*yr],[o,15,15*yr],[o,30,30*yr],[i,1,zi],[i,3,3*zi],[i,6,6*zi],[i,12,12*zi],[r,1,oo],[r,2,2*oo],[n,1,uT],[e,1,dC],[e,3,3*dC],[t,1,Mb]];function s(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),m=p?p.range(u,+c+1):[];return h?m.reverse():m}function l(u,c,f){const h=Math.abs(c-u)/f,p=QS(([,,b])=>b).right(a,h);if(p===a.length)return t.every(t_(u/Mb,c/Mb,f));if(p===0)return kg.every(Math.max(t_(u,c,f),1));const[m,y]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return m.every(y)}return[s,l]}const[ode,ade]=u5(so,mT,qv,l5,dT,fT),[sde,lde]=u5(ao,pT,Wv,yd,hT,cT);function $b(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Db(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function kc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function ude(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Ic(i),c=Oc(i),f=Ic(o),h=Oc(o),p=Ic(a),m=Oc(a),y=Ic(s),b=Oc(s),v=Ic(l),w=Oc(l),x={a:W,A:U,b:F,B:L,c:null,d:bC,e:bC,f:Nde,g:Bde,G:Wde,H:Ide,I:Ode,j:Cde,L:c5,m:Rde,M:jde,p:H,q:X,Q:_C,s:EC,S:Mde,u:$de,U:Dde,V:Lde,w:Vde,W:Fde,x:null,X:null,y:Ude,Y:zde,Z:qde,"%":xC},A={a:K,A:ie,b:ue,B:ne,c:null,d:wC,e:wC,f:Xde,g:ope,G:spe,H:Hde,I:Gde,j:Kde,L:h5,m:Yde,M:Qde,p:pe,q:Ee,Q:_C,s:EC,S:Jde,u:Zde,U:epe,V:tpe,w:npe,W:rpe,x:null,X:null,y:ipe,Y:ape,Z:lpe,"%":xC},_={a:N,A:C,b:R,B:O,c:j,d:yC,e:yC,f:Tde,g:gC,G:mC,H:vC,I:vC,j:xde,L:Sde,m:wde,M:_de,p:k,q:bde,Q:Pde,s:kde,S:Ede,u:pde,U:mde,V:gde,w:dde,W:yde,x:$,X:V,y:gC,Y:mC,Z:vde,"%":Ade};x.x=P(n,x),x.X=P(r,x),x.c=P(e,x),A.x=P(n,A),A.X=P(r,A),A.c=P(e,A);function P(re,B){return function(te){var q=[],ge=-1,Te=0,st=re.length,lt,zt,Or;for(te instanceof Date||(te=new Date(+te));++ge<st;)re.charCodeAt(ge)===37&&(q.push(re.slice(Te,ge)),(zt=pC[lt=re.charAt(++ge)])!=null?lt=re.charAt(++ge):zt=lt==="e"?" ":"0",(Or=B[lt])&&(lt=Or(te,zt)),q.push(lt),Te=ge+1);return q.push(re.slice(Te,ge)),q.join("")}}function S(re,B){return function(te){var q=kc(1900,void 0,1),ge=T(q,re,te+="",0),Te,st;if(ge!=te.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(B&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(Te=Db(kc(q.y,0,1)),st=Te.getUTCDay(),Te=st>4||st===0?Og.ceil(Te):Og(Te),Te=zv.offset(Te,(q.V-1)*7),q.y=Te.getUTCFullYear(),q.m=Te.getUTCMonth(),q.d=Te.getUTCDate()+(q.w+6)%7):(Te=$b(kc(q.y,0,1)),st=Te.getDay(),Te=st>4||st===0?Ig.ceil(Te):Ig(Te),Te=yd.offset(Te,(q.V-1)*7),q.y=Te.getFullYear(),q.m=Te.getMonth(),q.d=Te.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),st="Z"in q?Db(kc(q.y,0,1)).getUTCDay():$b(kc(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(st+5)%7:q.w+q.U*7-(st+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,Db(q)):$b(q)}}function T(re,B,te,q){for(var ge=0,Te=B.length,st=te.length,lt,zt;ge<Te;){if(q>=st)return-1;if(lt=B.charCodeAt(ge++),lt===37){if(lt=B.charAt(ge++),zt=_[lt in pC?B.charAt(ge++):lt],!zt||(q=zt(re,te,q))<0)return-1}else if(lt!=te.charCodeAt(q++))return-1}return q}function k(re,B,te){var q=u.exec(B.slice(te));return q?(re.p=c.get(q[0].toLowerCase()),te+q[0].length):-1}function N(re,B,te){var q=p.exec(B.slice(te));return q?(re.w=m.get(q[0].toLowerCase()),te+q[0].length):-1}function C(re,B,te){var q=f.exec(B.slice(te));return q?(re.w=h.get(q[0].toLowerCase()),te+q[0].length):-1}function R(re,B,te){var q=v.exec(B.slice(te));return q?(re.m=w.get(q[0].toLowerCase()),te+q[0].length):-1}function O(re,B,te){var q=y.exec(B.slice(te));return q?(re.m=b.get(q[0].toLowerCase()),te+q[0].length):-1}function j(re,B,te){return T(re,e,B,te)}function $(re,B,te){return T(re,n,B,te)}function V(re,B,te){return T(re,r,B,te)}function W(re){return a[re.getDay()]}function U(re){return o[re.getDay()]}function F(re){return l[re.getMonth()]}function L(re){return s[re.getMonth()]}function H(re){return i[+(re.getHours()>=12)]}function X(re){return 1+~~(re.getMonth()/3)}function K(re){return a[re.getUTCDay()]}function ie(re){return o[re.getUTCDay()]}function ue(re){return l[re.getUTCMonth()]}function ne(re){return s[re.getUTCMonth()]}function pe(re){return i[+(re.getUTCHours()>=12)]}function Ee(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var B=P(re+="",x);return B.toString=function(){return re},B},parse:function(re){var B=S(re+="",!1);return B.toString=function(){return re},B},utcFormat:function(re){var B=P(re+="",A);return B.toString=function(){return re},B},utcParse:function(re){var B=S(re+="",!0);return B.toString=function(){return re},B}}}var pC={"-":"",_:" ",0:"0"},Yt=/^\s*\d+/,cde=/^%/,fde=/[\\^$*+?|[\]().{}]/g;function Ue(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function hde(t){return t.replace(fde,"\\$&")}function Ic(t){return new RegExp("^(?:"+t.map(hde).join("|")+")","i")}function Oc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function dde(t,e,n){var r=Yt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function pde(t,e,n){var r=Yt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function mde(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function gde(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function yde(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function mC(t,e,n){var r=Yt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function gC(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function vde(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function bde(t,e,n){var r=Yt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function wde(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function yC(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function xde(t,e,n){var r=Yt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function vC(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function _de(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Ede(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Sde(t,e,n){var r=Yt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Tde(t,e,n){var r=Yt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ade(t,e,n){var r=cde.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Pde(t,e,n){var r=Yt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function kde(t,e,n){var r=Yt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function bC(t,e){return Ue(t.getDate(),e,2)}function Ide(t,e){return Ue(t.getHours(),e,2)}function Ode(t,e){return Ue(t.getHours()%12||12,e,2)}function Cde(t,e){return Ue(1+yd.count(ao(t),t),e,3)}function c5(t,e){return Ue(t.getMilliseconds(),e,3)}function Nde(t,e){return c5(t,e)+"000"}function Rde(t,e){return Ue(t.getMonth()+1,e,2)}function jde(t,e){return Ue(t.getMinutes(),e,2)}function Mde(t,e){return Ue(t.getSeconds(),e,2)}function $de(t){var e=t.getDay();return e===0?7:e}function Dde(t,e){return Ue(Wv.count(ao(t)-1,t),e,2)}function f5(t){var e=t.getDay();return e>=4||e===0?su(t):su.ceil(t)}function Lde(t,e){return t=f5(t),Ue(su.count(ao(t),t)+(ao(t).getDay()===4),e,2)}function Vde(t){return t.getDay()}function Fde(t,e){return Ue(Ig.count(ao(t)-1,t),e,2)}function Ude(t,e){return Ue(t.getFullYear()%100,e,2)}function Bde(t,e){return t=f5(t),Ue(t.getFullYear()%100,e,2)}function zde(t,e){return Ue(t.getFullYear()%1e4,e,4)}function Wde(t,e){var n=t.getDay();return t=n>=4||n===0?su(t):su.ceil(t),Ue(t.getFullYear()%1e4,e,4)}function qde(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ue(e/60|0,"0",2)+Ue(e%60,"0",2)}function wC(t,e){return Ue(t.getUTCDate(),e,2)}function Hde(t,e){return Ue(t.getUTCHours(),e,2)}function Gde(t,e){return Ue(t.getUTCHours()%12||12,e,2)}function Kde(t,e){return Ue(1+zv.count(so(t),t),e,3)}function h5(t,e){return Ue(t.getUTCMilliseconds(),e,3)}function Xde(t,e){return h5(t,e)+"000"}function Yde(t,e){return Ue(t.getUTCMonth()+1,e,2)}function Qde(t,e){return Ue(t.getUTCMinutes(),e,2)}function Jde(t,e){return Ue(t.getUTCSeconds(),e,2)}function Zde(t){var e=t.getUTCDay();return e===0?7:e}function epe(t,e){return Ue(qv.count(so(t)-1,t),e,2)}function d5(t){var e=t.getUTCDay();return e>=4||e===0?lu(t):lu.ceil(t)}function tpe(t,e){return t=d5(t),Ue(lu.count(so(t),t)+(so(t).getUTCDay()===4),e,2)}function npe(t){return t.getUTCDay()}function rpe(t,e){return Ue(Og.count(so(t)-1,t),e,2)}function ipe(t,e){return Ue(t.getUTCFullYear()%100,e,2)}function ope(t,e){return t=d5(t),Ue(t.getUTCFullYear()%100,e,2)}function ape(t,e){return Ue(t.getUTCFullYear()%1e4,e,4)}function spe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?lu(t):lu.ceil(t),Ue(t.getUTCFullYear()%1e4,e,4)}function lpe(){return"+0000"}function xC(){return"%"}function _C(t){return+t}function EC(t){return Math.floor(+t/1e3)}var Xs,p5,m5;upe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function upe(t){return Xs=ude(t),p5=Xs.format,Xs.parse,m5=Xs.utcFormat,Xs.utcParse,Xs}function cpe(t){return new Date(t)}function fpe(t){return t instanceof Date?+t:+new Date(+t)}function gT(t,e,n,r,i,o,a,s,l,u){var c=nT(),f=c.invert,h=c.domain,p=u(".%L"),m=u(":%S"),y=u("%I:%M"),b=u("%I %p"),v=u("%a %d"),w=u("%b %d"),x=u("%B"),A=u("%Y");function _(P){return(l(P)<P?p:s(P)<P?m:a(P)<P?y:o(P)<P?b:r(P)<P?i(P)<P?v:w:n(P)<P?x:A)(P)}return c.invert=function(P){return new Date(f(P))},c.domain=function(P){return arguments.length?h(Array.from(P,fpe)):h().map(cpe)},c.ticks=function(P){var S=h();return t(S[0],S[S.length-1],P??10)},c.tickFormat=function(P,S){return S==null?_:u(S)},c.nice=function(P){var S=h();return(!P||typeof P.range!="function")&&(P=e(S[0],S[S.length-1],P??10)),P?h(t5(S,P)):c},c.copy=function(){return gd(c,gT(t,e,n,r,i,o,a,s,l,u))},c}function hpe(){return kr.apply(gT(sde,lde,ao,pT,Wv,yd,hT,cT,es,p5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function dpe(){return kr.apply(gT(ode,ade,so,mT,qv,zv,dT,fT,es,m5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Hv(){var t=0,e=1,n,r,i,o,a=Sn,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function c(f){return function(h){var p,m;return arguments.length?([p,m]=h,a=f(p,m),u):[a(0),a(1)]}}return u.range=c(Yu),u.rangeRound=c(tT),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Pa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function g5(){var t=Aa(Hv()(Sn));return t.copy=function(){return Pa(t,g5())},mo.apply(t,arguments)}function y5(){var t=oT(Hv()).domain([1,10]);return t.copy=function(){return Pa(t,y5()).base(t.base())},mo.apply(t,arguments)}function v5(){var t=aT(Hv());return t.copy=function(){return Pa(t,v5()).constant(t.constant())},mo.apply(t,arguments)}function yT(){var t=sT(Hv());return t.copy=function(){return Pa(t,yT()).exponent(t.exponent())},mo.apply(t,arguments)}function ppe(){return yT.apply(null,arguments).exponent(.5)}function b5(){var t=[],e=Sn;function n(r){if(r!=null&&!isNaN(r=+r))return e((pd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ra),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>ehe(t,o/r))},n.copy=function(){return b5(e).domain(t)},mo.apply(n,arguments)}function Gv(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=Sn,c,f=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+c(y))-o)*(r*y<r*o?s:l),u(f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,n]=y,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(u=y,p):u};function m(y){return function(b){var v,w,x;return arguments.length?([v,w,x]=b,u=Ahe(y,[v,w,x]),p):[u(0),u(.5),u(1)]}}return p.range=m(Yu),p.rangeRound=m(tT),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return c=y,i=y(t),o=y(e),a=y(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function w5(){var t=Aa(Gv()(Sn));return t.copy=function(){return Pa(t,w5())},mo.apply(t,arguments)}function x5(){var t=oT(Gv()).domain([.1,1,10]);return t.copy=function(){return Pa(t,x5()).base(t.base())},mo.apply(t,arguments)}function _5(){var t=aT(Gv());return t.copy=function(){return Pa(t,_5()).constant(t.constant())},mo.apply(t,arguments)}function vT(){var t=sT(Gv());return t.copy=function(){return Pa(t,vT()).exponent(t.exponent())},mo.apply(t,arguments)}function mpe(){return vT.apply(null,arguments).exponent(.5)}const SC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ch,scaleDiverging:w5,scaleDivergingLog:x5,scaleDivergingPow:vT,scaleDivergingSqrt:mpe,scaleDivergingSymlog:_5,scaleIdentity:e5,scaleImplicit:n_,scaleLinear:mh,scaleLog:n5,scaleOrdinal:JS,scalePoint:vf,scalePow:lT,scaleQuantile:o5,scaleQuantize:a5,scaleRadial:i5,scaleSequential:g5,scaleSequentialLog:y5,scaleSequentialPow:yT,scaleSequentialQuantile:b5,scaleSequentialSqrt:ppe,scaleSequentialSymlog:v5,scaleSqrt:Xhe,scaleSymlog:r5,scaleThreshold:s5,scaleTime:hpe,scaleUtc:dpe,tickFormat:Z3},Symbol.toStringTag,{value:"Module"}));var gpe=Fu;function ype(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!gpe(a):n(a,s)))var s=a,l=o}return l}var E5=ype;function vpe(t,e){return t>e}var bpe=vpe,wpe=E5,xpe=bpe,_pe=Ku;function Epe(t){return t&&t.length?wpe(t,_pe,xpe):void 0}var Spe=Epe;const Bo=Xe(Spe);function Tpe(t,e){return t<e}var Ape=Tpe,Ppe=E5,kpe=Ape,Ipe=Ku;function Ope(t){return t&&t.length?Ppe(t,Ipe,kpe):void 0}var Cpe=Ope;const Kv=Xe(Cpe);var Npe=NS,Rpe=Ta,jpe=N3,Mpe=Wn;function $pe(t,e){var n=Mpe(t)?Npe:jpe;return n(t,Rpe(e))}var Dpe=$pe,Lpe=O3,Vpe=Dpe;function Fpe(t,e){return Lpe(Vpe(t,e),1)}var Upe=Fpe;const Bpe=Xe(Upe);var zpe=GS;function Wpe(t,e){return zpe(t,e)}var qpe=Wpe;const gh=Xe(qpe);var Qu=1e9,Hpe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},wT,at=!0,Tr="[DecimalError] ",us=Tr+"Invalid argument: ",bT=Tr+"Exponent out of range: ",Ju=Math.floor,qa=Math.pow,Gpe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qn,Ht=1e7,nt=7,S5=9007199254740991,Cg=Ju(S5/nt),de={};de.absoluteValue=de.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};de.comparedTo=de.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};de.decimalPlaces=de.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*nt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};de.dividedBy=de.div=function(t){return Xi(this,new this.constructor(t))};de.dividedToIntegerBy=de.idiv=function(t){var e=this,n=e.constructor;return Ke(Xi(e,new n(t),0,1),n.precision)};de.equals=de.eq=function(t){return!this.cmp(t)};de.exponent=function(){return Nt(this)};de.greaterThan=de.gt=function(t){return this.cmp(t)>0};de.greaterThanOrEqualTo=de.gte=function(t){return this.cmp(t)>=0};de.isInteger=de.isint=function(){return this.e>this.d.length-2};de.isNegative=de.isneg=function(){return this.s<0};de.isPositive=de.ispos=function(){return this.s>0};de.isZero=function(){return this.s===0};de.lessThan=de.lt=function(t){return this.cmp(t)<0};de.lessThanOrEqualTo=de.lte=function(t){return this.cmp(t)<1};de.logarithm=de.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Qn))throw Error(Tr+"NaN");if(n.s<1)throw Error(Tr+(n.s?"NaN":"-Infinity"));return n.eq(Qn)?new r(0):(at=!1,e=Xi(yh(n,o),yh(t,o),o),at=!0,Ke(e,i))};de.minus=de.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?P5(e,t):T5(e,(t.s=-t.s,t))};de.modulo=de.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Tr+"NaN");return n.s?(at=!1,e=Xi(n,t,0,1).times(t),at=!0,n.minus(e)):Ke(new r(n),i)};de.naturalExponential=de.exp=function(){return A5(this)};de.naturalLogarithm=de.ln=function(){return yh(this)};de.negated=de.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};de.plus=de.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?T5(e,t):P5(e,(t.s=-t.s,t))};de.precision=de.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(us+t);if(e=Nt(i)+1,r=i.d.length-1,n=r*nt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};de.squareRoot=de.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Tr+"NaN")}for(t=Nt(s),at=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=ui(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ju((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Xi(s,o,a+2)).times(.5),ui(o.d).slice(0,a)===(e=ui(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Ke(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return at=!0,Ke(r,n)};de.times=de.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,f=c.constructor,h=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=p.length,l<u&&(o=h,h=p,p=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+p[r]*h[i-r-1]+e,o[i--]=s%Ht|0,e=s/Ht|0;o[i]=(o[i]+e)%Ht|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,at?Ke(t,f.precision):t};de.toDecimalPlaces=de.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Si(t,0,Qu),e===void 0?e=r.rounding:Si(e,0,8),Ke(n,t+Nt(n)+1,e))};de.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ts(r,!0):(Si(t,0,Qu),e===void 0?e=i.rounding:Si(e,0,8),r=Ke(new i(r),t+1,e),n=Ts(r,!0,t+1)),n};de.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Ts(i):(Si(t,0,Qu),e===void 0?e=o.rounding:Si(e,0,8),r=Ke(new o(i),t+Nt(i)+1,e),n=Ts(r.abs(),!1,t+Nt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};de.toInteger=de.toint=function(){var t=this,e=t.constructor;return Ke(new e(t),Nt(t)+1,e.rounding)};de.toNumber=function(){return+this};de.toPower=de.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Qn);if(s=new l(s),!s.s){if(t.s<1)throw Error(Tr+"Infinity");return s}if(s.eq(Qn))return s;if(r=l.precision,t.eq(Qn))return Ke(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=S5){for(i=new l(Qn),e=Math.ceil(r/nt+4),at=!1;n%2&&(i=i.times(s),AC(i.d,e)),n=Ju(n/2),n!==0;)s=s.times(s),AC(s.d,e);return at=!0,t.s<0?new l(Qn).div(i):Ke(i,r)}}else if(o<0)throw Error(Tr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,at=!1,i=t.times(yh(s,r+u)),at=!0,i=A5(i),i.s=o,i};de.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Nt(i),r=Ts(i,n<=o.toExpNeg||n>=o.toExpPos)):(Si(t,1,Qu),e===void 0?e=o.rounding:Si(e,0,8),i=Ke(new o(i),t,e),n=Nt(i),r=Ts(i,t<=n||n<=o.toExpNeg,t)),r};de.toSignificantDigits=de.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Si(t,1,Qu),e===void 0?e=r.rounding:Si(e,0,8)),Ke(new r(n),t,e)};de.toString=de.valueOf=de.val=de.toJSON=de[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Nt(t),n=t.constructor;return Ts(t,e<=n.toExpNeg||e>=n.toExpPos)};function T5(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),at?Ke(e,f):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/nt),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Ht|0,l[o]%=Ht;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,at?Ke(e,f):e}function Si(t,e,n){if(t!==~~t||t<e||t>n)throw Error(us+t)}function ui(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=nt-r.length,n&&(o+=ko(n)),o+=r;a=t[e],r=a+"",n=nt-r.length,n&&(o+=ko(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Xi=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Ht|0,a=o/Ht|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Ht+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,f,h,p,m,y,b,v,w,x,A,_,P,S,T,k=r.constructor,N=r.s==i.s?1:-1,C=r.d,R=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(Tr+"Division by zero");for(l=r.e-i.e,S=R.length,_=C.length,p=new k(N),m=p.d=[],u=0;R[u]==(C[u]||0);)++u;if(R[u]>(C[u]||0)&&--l,o==null?w=o=k.precision:a?w=o+(Nt(r)-Nt(i))+1:w=o,w<0)return new k(0);if(w=w/nt+2|0,u=0,S==1)for(c=0,R=R[0],w++;(u<_||c)&&w--;u++)x=c*Ht+(C[u]||0),m[u]=x/R|0,c=x%R|0;else{for(c=Ht/(R[0]+1)|0,c>1&&(R=t(R,c),C=t(C,c),S=R.length,_=C.length),A=S,y=C.slice(0,S),b=y.length;b<S;)y[b++]=0;T=R.slice(),T.unshift(0),P=R[0],R[1]>=Ht/2&&++P;do c=0,s=e(R,y,S,b),s<0?(v=y[0],S!=b&&(v=v*Ht+(y[1]||0)),c=v/P|0,c>1?(c>=Ht&&(c=Ht-1),f=t(R,c),h=f.length,b=y.length,s=e(f,y,h,b),s==1&&(c--,n(f,S<h?T:R,h))):(c==0&&(s=c=1),f=R.slice()),h=f.length,h<b&&f.unshift(0),n(y,f,b),s==-1&&(b=y.length,s=e(R,y,S,b),s<1&&(c++,n(y,S<b?T:R,b))),b=y.length):s===0&&(c++,y=[0]),m[u++]=c,s&&y[0]?y[b++]=C[A]||0:(y=[C[A]],b=1);while((A++<_||y[0]!==void 0)&&w--)}return m[0]||m.shift(),p.e=l,Ke(p,a?o+Nt(p)+1:o)}}();function A5(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,f=c.precision;if(Nt(t)>16)throw Error(bT+Nt(t));if(!t.s)return new c(Qn);for(at=!1,s=f,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(qa(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(Qn),c.precision=s;;){if(i=Ke(i.times(t),s),n=n.times(++l),a=o.plus(Xi(i,n,s)),ui(a.d).slice(0,s)===ui(o.d).slice(0,s)){for(;u--;)o=Ke(o.times(o),s);return c.precision=f,e==null?(at=!0,Ke(o,f)):o}o=a}}function Nt(t){for(var e=t.e*nt,n=t.d[0];n>=10;n/=10)e++;return e}function Lb(t,e,n){if(e>t.LN10.sd())throw at=!0,n&&(t.precision=n),Error(Tr+"LN10 precision limit exceeded");return Ke(new t(t.LN10),e)}function ko(t){for(var e="";t--;)e+="0";return e}function yh(t,e){var n,r,i,o,a,s,l,u,c,f=1,h=10,p=t,m=p.d,y=p.constructor,b=y.precision;if(p.s<1)throw Error(Tr+(p.s?"NaN":"-Infinity"));if(p.eq(Qn))return new y(0);if(e==null?(at=!1,u=b):u=e,p.eq(10))return e==null&&(at=!0),Lb(y,u);if(u+=h,y.precision=u,n=ui(m),r=n.charAt(0),o=Nt(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=ui(p.d),r=n.charAt(0),f++;o=Nt(p),r>1?(p=new y("0."+n),o++):p=new y(r+"."+n.slice(1))}else return l=Lb(y,u+2,b).times(o+""),p=yh(new y(r+"."+n.slice(1)),u-h).plus(l),y.precision=b,e==null?(at=!0,Ke(p,b)):p;for(s=a=p=Xi(p.minus(Qn),p.plus(Qn),u),c=Ke(p.times(p),u),i=3;;){if(a=Ke(a.times(c),u),l=s.plus(Xi(a,new y(i),u)),ui(l.d).slice(0,u)===ui(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(Lb(y,u+2,b).times(o+""))),s=Xi(s,new y(f),u),y.precision=b,e==null?(at=!0,Ke(s,b)):s;s=l,i+=2}}function TC(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ju(n/nt),t.d=[],r=(n+1)%nt,n<0&&(r+=nt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=nt;r<i;)t.d.push(+e.slice(r,r+=nt));e=e.slice(r),r=nt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),at&&(t.e>Cg||t.e<-Cg))throw Error(bT+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ke(t,e,n){var r,i,o,a,s,l,u,c,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=nt,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/nt),o=f.length,c>=o)return t;for(u=o=f[c],a=1;o>=10;o/=10)a++;r%=nt,i=r-nt+a}if(n!==void 0&&(o=qa(10,a-i-1),s=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/qa(10,a-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=Nt(t),f.length=1,e=e-o-1,f[0]=qa(10,(nt-e%nt)%nt),t.e=Ju(-e/nt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=qa(10,nt-r),f[c]=i>0?(u/qa(10,a-i)%qa(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==Ht&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=Ht)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(at&&(t.e>Cg||t.e<-Cg))throw Error(bT+Nt(t));return t}function P5(t,e){var n,r,i,o,a,s,l,u,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),at?Ke(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(p/nt),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}a=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Ht-1;--l[o],l[i]+=Ht}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,at?Ke(e,p):e):new h(0)}function Ts(t,e,n){var r,i=Nt(t),o=ui(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+ko(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ko(-i-1)+o,n&&(r=n-a)>0&&(o+=ko(r))):i>=a?(o+=ko(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+ko(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=ko(r))),t.s<0?"-"+o:o}function AC(t,e){if(t.length>e)return t.length=e,!0}function k5(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(us+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return TC(a,o.toString())}else if(typeof o!="string")throw Error(us+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Gpe.test(o))TC(a,o);else throw Error(us+o)}if(i.prototype=de,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=k5,i.config=i.set=Kpe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Kpe(t){if(!t||typeof t!="object")throw Error(Tr+"Object expected");var e,n,r,i=["precision",1,Qu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ju(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(us+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(us+n+": "+r);return this}var wT=k5(Hpe);Qn=new wT(1);const qe=wT;function Xpe(t){return Zpe(t)||Jpe(t)||Qpe(t)||Ype()}function Ype(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qpe(t,e){if(t){if(typeof t=="string")return a_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a_(t,e)}}function Jpe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Zpe(t){if(Array.isArray(t))return a_(t)}function a_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var eme=function(e){return e},I5={},O5=function(e){return e===I5},PC=function(e){return function n(){return arguments.length===0||arguments.length===1&&O5(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},tme=function t(e,n){return e===1?n:PC(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==I5}).length;return a>=e?n.apply(void 0,i):t(e-a,PC(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return O5(f)?l.shift():f});return n.apply(void 0,Xpe(c).concat(l))}))})},Xv=function(e){return tme(e.length,e)},s_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},nme=Xv(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),rme=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return eme;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},l_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},C5=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function ime(t){var e;return t===0?e=1:e=Math.floor(new qe(t).abs().log(10).toNumber())+1,e}function ome(t,e,n){for(var r=new qe(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var ame=Xv(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),sme=Xv(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),lme=Xv(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Yv={rangeStep:ome,getDigitCount:ime,interpolateNumber:ame,uninterpolateNumber:sme,uninterpolateTruncation:lme};function u_(t){return fme(t)||cme(t)||N5(t)||ume()}function ume(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cme(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function fme(t){if(Array.isArray(t))return c_(t)}function vh(t,e){return pme(t)||dme(t,e)||N5(t,e)||hme()}function hme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N5(t,e){if(t){if(typeof t=="string")return c_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c_(t,e)}}function c_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dme(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function pme(t){if(Array.isArray(t))return t}function R5(t){var e=vh(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function j5(t,e,n){if(t.lte(0))return new qe(0);var r=Yv.getDigitCount(t.toNumber()),i=new qe(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new qe(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new qe(Math.ceil(l))}function mme(t,e,n){var r=1,i=new qe(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new qe(10).pow(Yv.getDigitCount(t)-1),i=new qe(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new qe(Math.floor(t)))}else t===0?i=new qe(Math.floor((e-1)/2)):n||(i=new qe(Math.floor(t)));var a=Math.floor((e-1)/2),s=rme(nme(function(l){return i.add(new qe(l-a).mul(r)).toNumber()}),s_);return s(0,e)}function M5(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new qe(0),tickMin:new qe(0),tickMax:new qe(0)};var o=j5(new qe(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new qe(0):(a=new qe(t).add(e).div(2),a=a.sub(new qe(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new qe(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?M5(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new qe(s).mul(o)),tickMax:a.add(new qe(l).mul(o))})}function gme(t){var e=vh(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=R5([n,r]),l=vh(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(u_(s_(0,i-1).map(function(){return 1/0}))):[].concat(u_(s_(0,i-1).map(function(){return-1/0})),[c]);return n>r?l_(f):f}if(u===c)return mme(u,i,o);var h=M5(u,c,a,o),p=h.step,m=h.tickMin,y=h.tickMax,b=Yv.rangeStep(m,y.add(new qe(.1).mul(p)),p);return n>r?l_(b):b}function yme(t,e){var n=vh(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=R5([r,i]),s=vh(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=j5(new qe(u).sub(l).div(c-1),o,0),h=[].concat(u_(Yv.rangeStep(new qe(l),new qe(u).sub(new qe(.99).mul(f)),f)),[u]);return r>i?l_(h):h}var vme=C5(gme),bme=C5(yme),wme="Invariant failed";function As(t,e){throw new Error(wme)}var xme=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function Ng(){return Ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ng.apply(this,arguments)}function _me(t,e){return Ame(t)||Tme(t,e)||Sme(t,e)||Eme()}function Eme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sme(t,e){if(t){if(typeof t=="string")return kC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kC(t,e)}}function kC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Ame(t){if(Array.isArray(t))return t}function Pme(t,e){if(t==null)return{};var n=kme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ime(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ome(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L5(r.key),r)}}function Cme(t,e,n){return e&&Ome(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nme(t,e,n){return e=Rg(e),Rme(t,$5()?Reflect.construct(e,n||[],Rg(t).constructor):e.apply(t,n))}function Rme(t,e){if(e&&(uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jme(t)}function jme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($5=function(){return!!t})()}function Rg(t){return Rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rg(t)}function Mme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f_(t,e)}function f_(t,e){return f_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},f_(t,e)}function D5(t,e,n){return e=L5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L5(t){var e=$me(t,"string");return uu(e)=="symbol"?e:e+""}function $me(t,e){if(uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qv=function(t){function e(){return Ime(this,e),Nme(this,e,arguments)}return Mme(e,t),Cme(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,h=Pme(r,xme),p=Ce(h,!1);this.props.direction==="x"&&c.type!=="number"&&As();var m=l.map(function(y){var b=u(y,s),v=b.x,w=b.y,x=b.value,A=b.errorVal;if(!A)return null;var _=[],P,S;if(Array.isArray(A)){var T=_me(A,2);P=T[0],S=T[1]}else P=S=A;if(o==="vertical"){var k=c.scale,N=w+i,C=N+a,R=N-a,O=k(x-P),j=k(x+S);_.push({x1:j,y1:C,x2:j,y2:R}),_.push({x1:O,y1:N,x2:j,y2:N}),_.push({x1:O,y1:C,x2:O,y2:R})}else if(o==="horizontal"){var $=f.scale,V=v+i,W=V-a,U=V+a,F=$(x-P),L=$(x+S);_.push({x1:W,y1:L,x2:U,y2:L}),_.push({x1:V,y1:F,x2:V,y2:L}),_.push({x1:W,y1:F,x2:U,y2:F})}return z.createElement(ht,Ng({className:"recharts-errorBar",key:"bar-".concat(_.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},p),_.map(function(H){return z.createElement("line",Ng({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return z.createElement(ht,{className:"recharts-errorBars"},m)}}])}(z.Component);D5(Qv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});D5(Qv,"displayName","ErrorBar");function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function IC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IC(Object(n),!0).forEach(function(r){Dme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dme(t,e,n){return e=Lme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lme(t){var e=Vme(t,"string");return bh(e)=="symbol"?e:e+""}function Vme(t,e){if(bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V5=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Kn(n,Ml);if(!a)return null;var s=Ml.defaultProps,l=s!==void 0?$a($a({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return c.concat(m.map(function(y){return{type:a.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(c){var f=c.item,h=f.type.defaultProps,p=h!==void 0?$a($a({},h),f.props):{},m=p.dataKey,y=p.name,b=p.legendType,v=p.hide;return{inactive:v,dataKey:m,type:l.iconType||b||"square",color:xT(f),value:y||m,payload:p}}),$a($a($a({},l),Ml.getWithHeight(a,i)),{},{payload:u,item:a})};function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function OC(t){return zme(t)||Bme(t)||Ume(t)||Fme()}function Fme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ume(t,e){if(t){if(typeof t=="string")return h_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h_(t,e)}}function Bme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zme(t){if(Array.isArray(t))return h_(t)}function h_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CC(Object(n),!0).forEach(function(r){Dl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dl(t,e,n){return e=Wme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wme(t){var e=qme(t,"string");return wh(e)=="symbol"?e:e+""}function qme(t,e){if(wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ir(t,e,n){return $e(t)||$e(e)?n:Ft(e)?xr(t,e,n):Pe(e)?e(t):n}function bf(t,e,n,r){var i=Bpe(t,function(s){return ir(s,e)});if(n==="number"){var o=i.filter(function(s){return ae(s)||parseFloat(s)});return o.length?[Kv(o),Bo(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!$e(s)}):i;return a.map(function(s){return Ft(s)||s instanceof Date?s:""})}var Hme=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Br(f-c)!==Br(h-f)){var m=[];if(Br(h-f)===Br(l[1]-l[0])){p=h;var y=f+l[1]-l[0];m[0]=Math.min(y,(y+c)/2),m[1]=Math.max(y,(y+c)/2)}else{p=c;var b=h+l[1]-l[0];m[0]=Math.min(f,(b+f)/2),m[1]=Math.max(f,(b+f)/2)}var v=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>v[0]&&e<=v[1]||e>=m[0]&&e<=m[1]){a=i[u].index;break}}else{var w=Math.min(c,h),x=Math.max(c,h);if(e>(w+f)/2&&e<=(x+f)/2){a=i[u].index;break}}}else for(var A=0;A<s;A++)if(A===0&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A>0&&A<s-1&&e>(r[A].coordinate+r[A-1].coordinate)/2&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A===s-1&&e>(r[A].coordinate+r[A-1].coordinate)/2){a=r[A].index;break}return a},xT=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},Gme=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,f=Object.keys(c),h=0,p=f.length;h<p;h++){var m=c[f[h]],y=m.items,b=m.cateAxisId,v=y.filter(function(S){return Gi(S.type).indexOf("Bar")>=0});if(v&&v.length){var w=v[0].type.defaultProps,x=w!==void 0?wt(wt({},w),v[0].props):v[0].props,A=x.barSize,_=x[b];a[_]||(a[_]=[]);var P=$e(A)?n:A;a[_].push({item:v[0],stackList:v.slice(1),barSize:$e(P)?void 0:Ss(P,r,0)})}}return a},Kme=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=Ss(n,i,0,!0),c,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,p=i/l,m=a.reduce(function(A,_){return A+_.barSize||0},0);m+=(l-1)*u,m>=i&&(m-=(l-1)*u,u=0),m>=i&&p>0&&(h=!0,p*=.9,m=l*p);var y=(i-m)/2>>0,b={offset:y-u,size:0};c=a.reduce(function(A,_){var P={item:_.item,position:{offset:b.offset+b.size+u,size:h?p:_.barSize}},S=[].concat(OC(A),[P]);return b=S[S.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(T){S.push({item:T,position:b})}),S},f)}else{var v=Ss(r,i,0,!0);i-2*v-(l-1)*u<=0&&(u=0);var w=(i-2*v-(l-1)*u)/l;w>1&&(w>>=0);var x=s===+s?Math.min(w,s):w;c=a.reduce(function(A,_,P){var S=[].concat(OC(A),[{item:_.item,position:{offset:v+(w+u)*P+(w-x)/2,size:x}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(T){S.push({item:T,position:S[S.length-1].position})}),S},f)}return c},Xme=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=V5({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,p=u.align,m=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&m==="middle")&&p!=="center"&&ae(e[p]))return wt(wt({},e),{},Dl({},p,e[p]+(f||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&m!=="middle"&&ae(e[m]))return wt(wt({},e),{},Dl({},m,e[m]+(h||0)))}return e},Yme=function(e,n,r){return $e(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},F5=function(e,n,r,i,o){var a=n.props.children,s=Gr(a,Qv).filter(function(u){return Yme(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=ir(c,r);if($e(f))return u;var h=Array.isArray(f)?[Kv(f),Bo(f)]:[f,f],p=l.reduce(function(m,y){var b=ir(c,y,0),v=h[0]-Math.abs(Array.isArray(b)?b[0]:b),w=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(v,m[0]),Math.max(w,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Qme=function(e,n,r,i,o){var a=n.map(function(s){return F5(e,s,r,o,i)}).filter(function(s){return!$e(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},U5=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&F5(e,l,u,i)||bf(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},B5=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},z5=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},Wi=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Br(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!qu(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},Vb=new WeakMap,yp=function(e,n){if(typeof n!="function")return e;Vb.has(e)||Vb.set(e,new WeakMap);var r=Vb.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Jme=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:ch(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:mh(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:vf(),realScaleType:"point"}:o==="category"?{scale:ch(),realScaleType:"band"}:{scale:mh(),realScaleType:"linear"};if(Es(i)){var l="scale".concat(Mv(i));return{scale:(SC[l]||vf)(),realScaleType:SC[l]?l:"point"}}return Pe(i)?{scale:i}:{scale:vf(),realScaleType:"point"}},NC=1e-4,Zme=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-NC,a=Math.max(i[0],i[1])+NC,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},ege=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},tge=function(e,n){if(!n||n.length!==2||!ae(n[0])||!ae(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ae(e[0])||e[0]<r)&&(o[0]=r),(!ae(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},nge=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=qu(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},rge=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=qu(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},ige={sign:nge,expand:vne,none:tu,silhouette:bne,wiggle:wne,positive:rge},oge=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=ige[r],a=yne().keys(i).value(function(s,l){return+ir(s,l,0)}).order(Dx).offset(o);return a(e)},age=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?wt(wt({},h.type.defaultProps),h.props):h.props,y=m.stackId,b=m.hide;if(b)return f;var v=m[r],w=f[v]||{hasStack:!1,stackGroups:{}};if(Ft(y)){var x=w.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(h),w.hasStack=!0,w.stackGroups[y]=x}else w.stackGroups[hd("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return wt(wt({},f),{},Dl({},v,w))},l),c={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,b){var v=p.stackGroups[b];return wt(wt({},y),{},Dl({},b,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:oge(e,v.items,o)}))},m)}return wt(wt({},f),{},Dl({},h,p))},c)},sge=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=vme(u,o,s);return e.domain([Kv(c),Bo(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),h=bme(f,o,s);return{niceTicks:h}}return null};function RC(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!$e(i[e.dataKey])){var s=ig(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=ir(i,$e(a)?e.dataKey:a);return $e(l)?null:e.scale(l)}var jC=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=ir(a,n.dataKey,n.domain[s]);return $e(l)?null:n.scale(l)-o/2+i},lge=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},uge=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Ft(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},cge=function(e){return e.reduce(function(n,r){return[Kv(r.concat([n[0]]).filter(ae)),Bo(r.concat([n[1]]).filter(ae))]},[1/0,-1/0])},W5=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var f=cge(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},MC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$C=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,d_=function(e,n,r){if(Pe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ae(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(MC.test(e[0])){var o=+MC.exec(e[0])[1];i[0]=n[0]-o}else Pe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ae(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if($C.test(e[1])){var a=+$C.exec(e[1])[1];i[1]=n[1]+a}else Pe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},jg=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=XS(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},DC=function(e,n,r){return!e||!e.length||gh(e,xr(r,"type.defaultProps.domain"))?n:e},q5=function(e,n){var r=e.type.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return wt(wt({},Ce(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:xT(e),value:ir(n,i),type:l,payload:n,chartType:u,hide:c})};function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function LC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LC(Object(n),!0).forEach(function(r){fge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fge(t,e,n){return e=hge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hge(t){var e=dge(t,"string");return xh(e)=="symbol"?e:e+""}function dge(t,e){if(xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mg=Math.PI/180,pge=function(e){return e*180/Math.PI},nn=function(e,n,r,i){return{x:e+Math.cos(-Mg*i)*r,y:n+Math.sin(-Mg*i)*r}},mge=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},gge=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=mge({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:pge(u),angleInRadian:u}},yge=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},vge=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},FC=function(e,n){var r=e.x,i=e.y,o=gge({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=yge(n),f=c.startAngle,h=c.endAngle,p=s,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?VC(VC({},n),{},{radius:a,angle:vge(p,n)}):null};function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}var bge=["offset"];function wge(t){return Sge(t)||Ege(t)||_ge(t)||xge()}function xge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ge(t,e){if(t){if(typeof t=="string")return p_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p_(t,e)}}function Ege(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sge(t){if(Array.isArray(t))return p_(t)}function p_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tge(t,e){if(t==null)return{};var n=Age(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Age(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function UC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UC(Object(n),!0).forEach(function(r){Pge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pge(t,e,n){return e=kge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kge(t){var e=Ige(t,"string");return _h(e)=="symbol"?e:e+""}function Ige(t,e){if(_h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eh(){return Eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eh.apply(this,arguments)}var Oge=function(e){var n=e.value,r=e.formatter,i=$e(e.children)?n:e.children;return Pe(r)?r(i):i},Cge=function(e,n){var r=Br(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Nge=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,y=l.clockWise,b=(f+h)/2,v=Cge(p,m),w=v>=0?1:-1,x,A;i==="insideStart"?(x=p+w*a,A=y):i==="insideEnd"?(x=m-w*a,A=!y):i==="end"&&(x=m+w*a,A=y),A=v<=0?A:!A;var _=nn(u,c,b,x),P=nn(u,c,b,x+(A?1:-1)*359),S="M".concat(_.x,",").concat(_.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(A?0:1,`,
    `).concat(P.x,",").concat(P.y),T=$e(e.id)?hd("recharts-radial-line-"):e.id;return z.createElement("text",Eh({},r,{dominantBaseline:"central",className:Fe("recharts-radial-bar-label",s)}),z.createElement("defs",null,z.createElement("path",{id:T,d:S})),z.createElement("textPath",{xlinkHref:"#".concat(T)},n))},Rge=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,h=(c+f)/2;if(i==="outside"){var p=nn(a,s,u+r,h),m=p.x,y=p.y;return{x:m,y,textAnchor:m>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,v=nn(a,s,b,h),w=v.x,x=v.y;return{x:w,y:x,textAnchor:"middle",verticalAnchor:"middle"}},jge=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,f=c>=0?1:-1,h=f*i,p=f>0?"end":"start",m=f>0?"start":"end",y=u>=0?1:-1,b=y*i,v=y>0?"end":"start",w=y>0?"start":"end";if(o==="top"){var x={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Dt(Dt({},x),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var A={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:m};return Dt(Dt({},A),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var _={x:s-b,y:l+c/2,textAnchor:v,verticalAnchor:"middle"};return Dt(Dt({},_),r?{width:Math.max(_.x-r.x,0),height:c}:{})}if(o==="right"){var P={x:s+u+b,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return Dt(Dt({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:c}:{})}var S=r?{width:u,height:c}:{};return o==="insideLeft"?Dt({x:s+b,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},S):o==="insideRight"?Dt({x:s+u-b,y:l+c/2,textAnchor:v,verticalAnchor:"middle"},S):o==="insideTop"?Dt({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:m},S):o==="insideBottom"?Dt({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:p},S):o==="insideTopLeft"?Dt({x:s+b,y:l+h,textAnchor:w,verticalAnchor:m},S):o==="insideTopRight"?Dt({x:s+u-b,y:l+h,textAnchor:v,verticalAnchor:m},S):o==="insideBottomLeft"?Dt({x:s+b,y:l+c-h,textAnchor:w,verticalAnchor:p},S):o==="insideBottomRight"?Dt({x:s+u-b,y:l+c-h,textAnchor:v,verticalAnchor:p},S):Uu(o)&&(ae(o.x)||Ja(o.x))&&(ae(o.y)||Ja(o.y))?Dt({x:s+Ss(o.x,u),y:l+Ss(o.y,c),textAnchor:"end",verticalAnchor:"end"},S):Dt({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},S)},Mge=function(e){return"cx"in e&&ae(e.cx)};function pn(t){var e=t.offset,n=e===void 0?5:e,r=Tge(t,bge),i=Dt({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!o||$e(s)&&$e(l)&&!D.isValidElement(u)&&!Pe(u))return null;if(D.isValidElement(u))return D.cloneElement(u,i);var p;if(Pe(u)){if(p=D.createElement(u,i),D.isValidElement(p))return p}else p=Oge(i);var m=Mge(o),y=Ce(i,!0);if(m&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Nge(i,p,y);var b=m?Rge(i):jge(i);return z.createElement(wg,Eh({className:Fe("recharts-label",f)},y,b,{breakAll:h}),p)}pn.displayName="Label";var H5=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,p=e.top,m=e.left,y=e.width,b=e.height,v=e.clockWise,w=e.labelViewBox;if(w)return w;if(ae(y)&&ae(b)){if(ae(f)&&ae(h))return{x:f,y:h,width:y,height:b};if(ae(p)&&ae(m))return{x:p,y:m,width:y,height:b}}return ae(f)&&ae(h)?{x:f,y:h,width:0,height:0}:ae(n)&&ae(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:v}:e.viewBox?e.viewBox:{}},$ge=function(e,n){return e?e===!0?z.createElement(pn,{key:"label-implicit",viewBox:n}):Ft(e)?z.createElement(pn,{key:"label-implicit",viewBox:n,value:e}):D.isValidElement(e)?e.type===pn?D.cloneElement(e,{key:"label-implicit",viewBox:n}):z.createElement(pn,{key:"label-implicit",content:e,viewBox:n}):Pe(e)?z.createElement(pn,{key:"label-implicit",content:e,viewBox:n}):Uu(e)?z.createElement(pn,Eh({viewBox:n},e,{key:"label-implicit"})):null:null},Dge=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=H5(e),a=Gr(i,pn).map(function(l,u){return D.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=$ge(e.label,n||o);return[s].concat(wge(a))};pn.parseViewBox=H5;pn.renderCallByParent=Dge;function Lge(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Vge=Lge;const Fge=Xe(Vge);function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}var Uge=["valueAccessor"],Bge=["data","dataKey","clockWise","id","textBreakAll"];function zge(t){return Gge(t)||Hge(t)||qge(t)||Wge()}function Wge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qge(t,e){if(t){if(typeof t=="string")return m_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m_(t,e)}}function Hge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gge(t){if(Array.isArray(t))return m_(t)}function m_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $g(){return $g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$g.apply(this,arguments)}function BC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BC(Object(n),!0).forEach(function(r){Kge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kge(t,e,n){return e=Xge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xge(t){var e=Yge(t,"string");return Sh(e)=="symbol"?e:e+""}function Yge(t,e){if(Sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WC(t,e){if(t==null)return{};var n=Qge(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Jge=function(e){return Array.isArray(e.value)?Fge(e.value):e.value};function ia(t){var e=t.valueAccessor,n=e===void 0?Jge:e,r=WC(t,Uge),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=WC(r,Bge);return!i||!i.length?null:z.createElement(ht,{className:"recharts-label-list"},i.map(function(c,f){var h=$e(o)?n(c,f):ir(c&&c.payload,o),p=$e(s)?{}:{id:"".concat(s,"-").concat(f)};return z.createElement(pn,$g({},Ce(c,!0),u,p,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:pn.parseViewBox($e(a)?c:zC(zC({},c),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}ia.displayName="LabelList";function Zge(t,e){return t?t===!0?z.createElement(ia,{key:"labelList-implicit",data:e}):z.isValidElement(t)||Pe(t)?z.createElement(ia,{key:"labelList-implicit",data:e,content:t}):Uu(t)?z.createElement(ia,$g({data:e},t,{key:"labelList-implicit"})):null:null}function eye(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Gr(r,ia).map(function(a,s){return D.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=Zge(t.label,e);return[o].concat(zge(i))}ia.renderCallByParent=eye;function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function g_(){return g_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g_.apply(this,arguments)}function qC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(n),!0).forEach(function(r){tye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tye(t,e,n){return e=nye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nye(t){var e=rye(t,"string");return Th(e)=="symbol"?e:e+""}function rye(t,e){if(Th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iye=function(e,n){var r=Br(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},vp=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/Mg,h=u?o:o+a*f,p=nn(n,r,c,h),m=nn(n,r,i,h),y=u?o-a*f:o,b=nn(n,r,c*Math.cos(f*Mg),y);return{center:p,circleTangency:m,lineTangency:b,theta:f}},G5=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=iye(a,s),u=a+l,c=nn(n,r,o,a),f=nn(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=nn(n,r,i,a),m=nn(n,r,i,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},oye=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Br(c-u),h=vp({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,y=h.theta,b=vp({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:a,cornerIsExternal:l}),v=b.circleTangency,w=b.lineTangency,x=b.theta,A=l?Math.abs(u-c):Math.abs(u-c)-y-x;if(A<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):G5({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var _="M ".concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(A>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var P=vp({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),S=P.circleTangency,T=P.lineTangency,k=P.theta,N=vp({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),C=N.circleTangency,R=N.lineTangency,O=N.theta,j=l?Math.abs(u-c):Math.abs(u-c)-k-O;if(j<0&&a===0)return"".concat(_,"L").concat(n,",").concat(r,"Z");_+="L".concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else _+="L".concat(n,",").concat(r,"Z");return _},aye={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},K5=function(e){var n=HC(HC({},aye),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(a<o||c===f)return null;var p=Fe("recharts-sector",h),m=a-o,y=Ss(s,m,0,!0),b;return y>0&&Math.abs(c-f)<360?b=oye({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(y,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):b=G5({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:f}),z.createElement("path",g_({},Ce(n,!0),{className:p,d:b,role:"img"}))};function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function y_(){return y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y_.apply(this,arguments)}function GC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GC(Object(n),!0).forEach(function(r){sye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sye(t,e,n){return e=lye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lye(t){var e=uye(t,"string");return Ah(e)=="symbol"?e:e+""}function uye(t,e){if(Ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XC={curveBasisClosed:ane,curveBasisOpen:sne,curveBasis:one,curveBumpX:qte,curveBumpY:Hte,curveLinearClosed:lne,curveLinear:Dv,curveMonotoneX:une,curveMonotoneY:cne,curveNatural:fne,curveStep:hne,curveStepAfter:pne,curveStepBefore:dne},bp=function(e){return e.x===+e.x&&e.y===+e.y},Cc=function(e){return e.x},Nc=function(e){return e.y},cye=function(e,n){if(Pe(e))return e;var r="curve".concat(Mv(e));return(r==="curveMonotone"||r==="curveBump")&&n?XC["".concat(r).concat(n==="vertical"?"Y":"X")]:XC[r]||Dv},fye=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=cye(r,s),f=u?o.filter(function(y){return bp(y)}):o,h;if(Array.isArray(a)){var p=u?a.filter(function(y){return bp(y)}):a,m=f.map(function(y,b){return KC(KC({},y),{},{base:p[b]})});return s==="vertical"?h=up().y(Nc).x1(Cc).x0(function(y){return y.base.x}):h=up().x(Cc).y1(Nc).y0(function(y){return y.base.y}),h.defined(bp).curve(c),h(m)}return s==="vertical"&&ae(a)?h=up().y(Nc).x1(Cc).x0(a):ae(a)?h=up().x(Cc).y1(Nc).y0(a):h=XL().x(Cc).y(Nc),h.defined(bp).curve(c),h(f)},wf=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?fye(e):i;return D.createElement("path",y_({},Ce(e,!1),og(e),{className:Fe("recharts-curve",n),d:a,ref:o}))},X5={exports:{}},hye="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",dye=hye,pye=dye;function Y5(){}function Q5(){}Q5.resetWarningCache=Y5;var mye=function(){function t(r,i,o,a,s,l){if(l!==pye){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Q5,resetWarningCache:Y5};return n.PropTypes=n,n};X5.exports=mye();var gye=X5.exports;const Z=Xe(gye),{getOwnPropertyNames:yye,getOwnPropertySymbols:vye}=Object,{hasOwnProperty:bye}=Object.prototype;function Fb(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function wp(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function wye(t){return t!=null?t[Symbol.toStringTag]:void 0}function YC(t){return yye(t).concat(vye(t))}const xye=Object.hasOwn||((t,e)=>bye.call(t,e));function Bs(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const _ye="__v",Eye="__o",Sye="_owner",{getOwnPropertyDescriptor:QC,keys:JC}=Object;function Tye(t,e){return t.byteLength===e.byteLength&&Dg(new Uint8Array(t),new Uint8Array(e))}function Aye(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Pye(t,e){return t.byteLength===e.byteLength&&Dg(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function kye(t,e){return Bs(t.getTime(),e.getTime())}function Iye(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Oye(t,e){return t===e}function ZC(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const u=e.entries();let c=!1,f=0;for(;(s=u.next())&&!s.done;){if(i[f]){f++;continue}const h=a.value,p=s.value;if(n.equals(h[0],p[0],l,f,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}const Cye=Bs;function Nye(t,e,n){const r=JC(t);let i=r.length;if(JC(e).length!==i)return!1;for(;i-- >0;)if(!J5(t,e,n,r[i]))return!1;return!0}function Rc(t,e,n){const r=YC(t);let i=r.length;if(YC(e).length!==i)return!1;let o,a,s;for(;i-- >0;)if(o=r[i],!J5(t,e,n,o)||(a=QC(t,o),s=QC(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function Rye(t,e){return Bs(t.valueOf(),e.valueOf())}function jye(t,e){return t.source===e.source&&t.flags===e.flags}function eN(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let a,s;for(;(a=o.next())&&!a.done;){const l=e.values();let u=!1,c=0;for(;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function Dg(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Mye(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function J5(t,e,n,r){return(r===Sye||r===Eye||r===_ye)&&(t.$$typeof||e.$$typeof)?!0:xye(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const $ye="[object ArrayBuffer]",Dye="[object Arguments]",Lye="[object Boolean]",Vye="[object DataView]",Fye="[object Date]",Uye="[object Error]",Bye="[object Map]",zye="[object Number]",Wye="[object Object]",qye="[object RegExp]",Hye="[object Set]",Gye="[object String]",Kye={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Xye="[object URL]",Yye=Object.prototype.toString;function Qye({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:m}){return function(b,v,w){if(b===v)return!0;if(b==null||v==null)return!1;const x=typeof b;if(x!==typeof v)return!1;if(x!=="object")return x==="number"?s(b,v,w):x==="function"?o(b,v,w):!1;const A=b.constructor;if(A!==v.constructor)return!1;if(A===Object)return l(b,v,w);if(Array.isArray(b))return e(b,v,w);if(A===Date)return r(b,v,w);if(A===RegExp)return c(b,v,w);if(A===Map)return a(b,v,w);if(A===Set)return f(b,v,w);const _=Yye.call(b);if(_===Fye)return r(b,v,w);if(_===qye)return c(b,v,w);if(_===Bye)return a(b,v,w);if(_===Hye)return f(b,v,w);if(_===Wye)return typeof b.then!="function"&&typeof v.then!="function"&&l(b,v,w);if(_===Xye)return p(b,v,w);if(_===Uye)return i(b,v,w);if(_===Dye)return l(b,v,w);if(Kye[_])return h(b,v,w);if(_===$ye)return t(b,v,w);if(_===Vye)return n(b,v,w);if(_===Lye||_===zye||_===Gye)return u(b,v,w);if(m){let P=m[_];if(!P){const S=wye(b);S&&(P=m[S])}if(P)return P(b,v,w)}return!1}}function Jye({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:Tye,areArraysEqual:n?Rc:Aye,areDataViewsEqual:Pye,areDatesEqual:kye,areErrorsEqual:Iye,areFunctionsEqual:Oye,areMapsEqual:n?Fb(ZC,Rc):ZC,areNumbersEqual:Cye,areObjectsEqual:n?Rc:Nye,arePrimitiveWrappersEqual:Rye,areRegExpsEqual:jye,areSetsEqual:n?Fb(eN,Rc):eN,areTypedArraysEqual:n?Fb(Dg,Rc):Dg,areUrlsEqual:Mye,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=wp(r.areArraysEqual),o=wp(r.areMapsEqual),a=wp(r.areObjectsEqual),s=wp(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:s})}return r}function Zye(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function eve({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(s,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(s,l){return e(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return e(s,l,o)}}const tve=ka();ka({strict:!0});ka({circular:!0});ka({circular:!0,strict:!0});ka({createInternalComparator:()=>Bs});ka({strict:!0,createInternalComparator:()=>Bs});ka({circular:!0,createInternalComparator:()=>Bs});ka({circular:!0,createInternalComparator:()=>Bs,strict:!0});function ka(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=Jye(t),a=Qye(o),s=n?n(a):Zye(a);return eve({circular:e,comparator:a,createState:r,equals:s,strict:i})}function nve(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function tN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):nve(i)};requestAnimationFrame(r)}function v_(t){"@babel/helpers - typeof";return v_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v_(t)}function rve(t){return sve(t)||ave(t)||ove(t)||ive()}function ive(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ove(t,e){if(t){if(typeof t=="string")return nN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nN(t,e)}}function nN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ave(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sve(t){if(Array.isArray(t))return t}function lve(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=rve(a),l=s[0],u=s.slice(1);if(typeof l=="number"){tN(i.bind(null,u),l);return}i(l),tN(i.bind(null,u));return}v_(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function rN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rN(Object(n),!0).forEach(function(r){Z5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z5(t,e,n){return e=uve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uve(t){var e=cve(t,"string");return Ph(e)==="symbol"?e:String(e)}function cve(t,e){if(Ph(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ph(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fve=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},hve=function(e){return e},dve=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},xf=function(e,n){return Object.keys(n).reduce(function(r,i){return iN(iN({},r),{},Z5({},i,e(i,n[i])))},{})},oN=function(e,n,r){return e.map(function(i){return"".concat(dve(i)," ").concat(n,"ms ").concat(r)}).join(",")};function pve(t,e){return yve(t)||gve(t,e)||e6(t,e)||mve()}function mve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function yve(t){if(Array.isArray(t))return t}function vve(t){return xve(t)||wve(t)||e6(t)||bve()}function bve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e6(t,e){if(t){if(typeof t=="string")return b_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b_(t,e)}}function wve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xve(t){if(Array.isArray(t))return b_(t)}function b_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Lg=1e-4,t6=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},n6=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},aN=function(e,n){return function(r){var i=t6(e,n);return n6(i,r)}},_ve=function(e,n){return function(r){var i=t6(e,n),o=[].concat(vve(i.map(function(a,s){return a*s}).slice(1)),[0]);return n6(o,r)}},sN=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),c=pve(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var f=aN(i,a),h=aN(o,s),p=_ve(i,a),m=function(v){return v>1?1:v<0?0:v},y=function(v){for(var w=v>1?1:v,x=w,A=0;A<8;++A){var _=f(x)-w,P=p(x);if(Math.abs(_-w)<Lg||P<Lg)return h(x);x=m(x-_/P)}return h(x)};return y.isStepper=!1,y},Eve=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,f,h){var p=-(c-f)*r,m=h*o,y=h+(p-m)*s/1e3,b=h*s/1e3+c;return Math.abs(b-f)<Lg&&Math.abs(y)<Lg?[f,0]:[b,y]};return l.isStepper=!0,l.dt=s,l},Sve=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return sN(i);case"spring":return Eve();default:if(i.split("(")[0]==="cubic-bezier")return sN(i)}return typeof i=="function"?i:null};function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function lN(t){return Pve(t)||Ave(t)||r6(t)||Tve()}function Tve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ave(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pve(t){if(Array.isArray(t))return x_(t)}function uN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uN(Object(n),!0).forEach(function(r){w_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w_(t,e,n){return e=kve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kve(t){var e=Ive(t,"string");return kh(e)==="symbol"?e:String(e)}function Ive(t,e){if(kh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ove(t,e){return Rve(t)||Nve(t,e)||r6(t,e)||Cve()}function Cve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r6(t,e){if(t){if(typeof t=="string")return x_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x_(t,e)}}function x_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Rve(t){if(Array.isArray(t))return t}var Vg=function(e,n,r){return e+(n-e)*r},__=function(e){var n=e.from,r=e.to;return n!==r},jve=function t(e,n,r){var i=xf(function(o,a){if(__(a)){var s=e(a.from,a.to,a.velocity),l=Ove(s,2),u=l[0],c=l[1];return Qt(Qt({},a),{},{from:u,velocity:c})}return a},n);return r<1?xf(function(o,a){return __(a)?Qt(Qt({},a),{},{velocity:Vg(a.velocity,i[o].velocity,r),from:Vg(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const Mve=function(t,e,n,r,i){var o=fve(t,e),a=o.reduce(function(b,v){return Qt(Qt({},b),{},w_({},v,[t[v],e[v]]))},{}),s=o.reduce(function(b,v){return Qt(Qt({},b),{},w_({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return xf(function(v,w){return w.from},s)},p=function(){return!Object.values(s).filter(__).length},m=function(v){u||(u=v);var w=v-u,x=w/n.dt;s=jve(n,s,x),i(Qt(Qt(Qt({},t),e),h())),u=v,p()||(l=requestAnimationFrame(f))},y=function(v){c||(c=v);var w=(v-c)/r,x=xf(function(_,P){return Vg.apply(void 0,lN(P).concat([n(w)]))},a);if(i(Qt(Qt(Qt({},t),e),x)),w<1)l=requestAnimationFrame(f);else{var A=xf(function(_,P){return Vg.apply(void 0,lN(P).concat([n(1)]))},a);i(Qt(Qt(Qt({},t),e),A))}};return f=n.isStepper?m:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}var $ve=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Dve(t,e){if(t==null)return{};var n=Lve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lve(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ub(t){return Bve(t)||Uve(t)||Fve(t)||Vve()}function Vve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fve(t,e){if(t){if(typeof t=="string")return E_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E_(t,e)}}function Uve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bve(t){if(Array.isArray(t))return E_(t)}function E_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cN(Object(n),!0).forEach(function(r){Hc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hc(t,e,n){return e=i6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i6(r.key),r)}}function qve(t,e,n){return e&&Wve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function i6(t){var e=Hve(t,"string");return cu(e)==="symbol"?e:String(e)}function Hve(t,e){if(cu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S_(t,e)}function S_(t,e){return S_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},S_(t,e)}function Kve(t){var e=Xve();return function(){var r=Fg(t),i;if(e){var o=Fg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return T_(this,i)}}function T_(t,e){if(e&&(cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A_(t)}function A_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fg(t){return Fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fg(t)}var lo=function(t){Gve(n,t);var e=Kve(n);function n(r,i){var o;zve(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,f=a.steps,h=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(A_(o)),o.changeStyle=o.changeStyle.bind(A_(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),T_(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},T_(o);o.state={style:l?Hc({},l,u):u}}else o.state={style:{}};return o}return qve(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,h=this.state.style;if(s){if(!a){var p={style:l?Hc({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(p);return}if(!(tve(i.to,c)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=m||u?f:i.to;if(this.state&&h){var b={style:l?Hc({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(b)}this.runAnimation(Nr(Nr({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=Mve(a,s,Sve(u),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([h,c,m,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,f=u.duration,h=f===void 0?0:f,p=function(y,b,v){if(v===0)return y;var w=b.duration,x=b.easing,A=x===void 0?"ease":x,_=b.style,P=b.properties,S=b.onAnimationEnd,T=v>0?a[v-1]:b,k=P||Object.keys(_);if(typeof A=="function"||A==="spring")return[].concat(Ub(y),[o.runJSAnimation.bind(o,{from:T.style,to:_,duration:w,easing:A}),w]);var N=oN(k,w,A),C=Nr(Nr(Nr({},T.style),_),{},{transition:N});return[].concat(Ub(y),[C,w,S]).filter(hve)};return this.manager.start([l].concat(Ub(a.reduce(p,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=lve());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=s?Hc({},s,l):l,b=oN(Object.keys(y),a,u);m.start([c,o,Nr(Nr({},y),{},{transition:b}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Dve(i,$ve),u=D.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var f=function(p){var m=p.props,y=m.style,b=y===void 0?{}:y,v=m.className,w=D.cloneElement(p,Nr(Nr({},l),{},{style:Nr(Nr({},b),c),className:v}));return w};return u===1?f(D.Children.only(o)):z.createElement("div",null,D.Children.map(o,function(h){return f(h)}))}}]),n}(D.PureComponent);lo.displayName="Animate";lo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};lo.propTypes={from:Z.oneOfType([Z.object,Z.string]),to:Z.oneOfType([Z.object,Z.string]),attributeName:Z.string,duration:Z.number,begin:Z.number,easing:Z.oneOfType([Z.string,Z.func]),steps:Z.arrayOf(Z.shape({duration:Z.number.isRequired,style:Z.object.isRequired,easing:Z.oneOfType([Z.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Z.func]),properties:Z.arrayOf("string"),onAnimationEnd:Z.func})),children:Z.oneOfType([Z.node,Z.func]),isActive:Z.bool,canBegin:Z.bool,onAnimationEnd:Z.func,shouldReAnimate:Z.bool,onAnimationStart:Z.func,onAnimationReStart:Z.func};function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function Ug(){return Ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ug.apply(this,arguments)}function Yve(t,e){return e0e(t)||Zve(t,e)||Jve(t,e)||Qve()}function Qve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jve(t,e){if(t){if(typeof t=="string")return fN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fN(t,e)}}function fN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function e0e(t){if(Array.isArray(t))return t}function hN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hN(Object(n),!0).forEach(function(r){t0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t0e(t,e,n){return e=n0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n0e(t){var e=r0e(t,"string");return Ih(e)=="symbol"?e:e+""}function r0e(t,e){if(Ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pN=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=o[h]>a?a:o[h];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var m=Math.min(a,o);c="M ".concat(e,",").concat(n+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*m,`
            L `).concat(e+r,",").concat(n+i-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*m," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},i0e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),f=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=c&&i>=f&&i<=h}return!1},o0e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_T=function(e){var n=dN(dN({},o0e),e),r=D.useRef(),i=D.useState(-1),o=Yve(i,2),a=o[0],s=o[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&s(A)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,h=n.radius,p=n.className,m=n.animationEasing,y=n.animationDuration,b=n.animationBegin,v=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var x=Fe("recharts-rectangle",p);return w?z.createElement(lo,{canBegin:a>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:y,animationEasing:m,isActive:w},function(A){var _=A.width,P=A.height,S=A.x,T=A.y;return z.createElement(lo,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:v,easing:m},z.createElement("path",Ug({},Ce(n,!0),{className:x,d:pN(S,T,_,P,h),ref:r})))}):z.createElement("path",Ug({},Ce(n,!0),{className:x,d:pN(l,u,c,f,h)}))};function P_(){return P_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P_.apply(this,arguments)}var ET=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Fe("recharts-dot",o);return n===+n&&r===+r&&i===+i?D.createElement("circle",P_({},Ce(e,!1),og(e),{className:a,cx:n,cy:r,r:i})):null};function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}var a0e=["x","y","top","left","width","height","className"];function k_(){return k_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k_.apply(this,arguments)}function mN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s0e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mN(Object(n),!0).forEach(function(r){l0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l0e(t,e,n){return e=u0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u0e(t){var e=c0e(t,"string");return Oh(e)=="symbol"?e:e+""}function c0e(t,e){if(Oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f0e(t,e){if(t==null)return{};var n=h0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function h0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var d0e=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},p0e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,h=e.height,p=h===void 0?0:h,m=e.className,y=f0e(e,a0e),b=s0e({x:r,y:o,top:s,left:u,width:f,height:p},y);return!ae(r)||!ae(o)||!ae(f)||!ae(p)||!ae(s)||!ae(u)?null:z.createElement("path",k_({},Ce(b,!0),{className:Fe("recharts-cross",m),d:d0e(r,o,f,p,s,u)}))},m0e=b3,g0e=m0e(Object.getPrototypeOf,Object),y0e=g0e,v0e=ho,b0e=y0e,w0e=po,x0e="[object Object]",_0e=Function.prototype,E0e=Object.prototype,o6=_0e.toString,S0e=E0e.hasOwnProperty,T0e=o6.call(Object);function A0e(t){if(!w0e(t)||v0e(t)!=x0e)return!1;var e=b0e(t);if(e===null)return!0;var n=S0e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&o6.call(n)==T0e}var P0e=A0e;const k0e=Xe(P0e);var I0e=ho,O0e=po,C0e="[object Boolean]";function N0e(t){return t===!0||t===!1||O0e(t)&&I0e(t)==C0e}var R0e=N0e;const j0e=Xe(R0e);function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function Bg(){return Bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bg.apply(this,arguments)}function M0e(t,e){return V0e(t)||L0e(t,e)||D0e(t,e)||$0e()}function $0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D0e(t,e){if(t){if(typeof t=="string")return gN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gN(t,e)}}function gN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function L0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function V0e(t){if(Array.isArray(t))return t}function yN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yN(Object(n),!0).forEach(function(r){F0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F0e(t,e,n){return e=U0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U0e(t){var e=B0e(t,"string");return Ch(e)=="symbol"?e:e+""}function B0e(t,e){if(Ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bN=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},z0e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},W0e=function(e){var n=vN(vN({},z0e),e),r=D.useRef(),i=D.useState(-1),o=M0e(i,2),a=o[0],s=o[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&s(x)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,m=n.animationEasing,y=n.animationDuration,b=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var w=Fe("recharts-trapezoid",p);return v?z.createElement(lo,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:y,animationEasing:m,isActive:v},function(x){var A=x.upperWidth,_=x.lowerWidth,P=x.height,S=x.x,T=x.y;return z.createElement(lo,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:m},z.createElement("path",Bg({},Ce(n,!0),{className:w,d:bN(S,T,A,_,P),ref:r})))}):z.createElement("g",null,z.createElement("path",Bg({},Ce(n,!0),{className:w,d:bN(l,u,c,f,h)})))},q0e=["option","shapeType","propTransformer","activeClassName","isActive"];function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function H0e(t,e){if(t==null)return{};var n=G0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function G0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wN(Object(n),!0).forEach(function(r){K0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K0e(t,e,n){return e=X0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X0e(t){var e=Y0e(t,"string");return Nh(e)=="symbol"?e:e+""}function Y0e(t,e){if(Nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q0e(t,e){return zg(zg({},e),t)}function J0e(t,e){return t==="symbols"}function xN(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return z.createElement(_T,n);case"trapezoid":return z.createElement(W0e,n);case"sector":return z.createElement(K5,n);case"symbols":if(J0e(e))return z.createElement(US,n);break;default:return null}}function Z0e(t){return D.isValidElement(t)?t.props:t}function ebe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Q0e:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=H0e(t,q0e),u;if(D.isValidElement(e))u=D.cloneElement(e,zg(zg({},l),Z0e(e)));else if(Pe(e))u=e(l);else if(k0e(e)&&!j0e(e)){var c=i(e,l);u=z.createElement(xN,{shapeType:n,elementProps:c})}else{var f=l;u=z.createElement(xN,{shapeType:n,elementProps:f})}return s?z.createElement(ht,{className:a},u):u}function Jv(t,e){return e!=null&&"trapezoids"in t.props}function Zv(t,e){return e!=null&&"sectors"in t.props}function Rh(t,e){return e!=null&&"points"in t.props}function tbe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function nbe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function rbe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function ibe(t,e){var n;return Jv(t,e)?n=tbe:Zv(t,e)?n=nbe:Rh(t,e)&&(n=rbe),n}function obe(t,e){var n;return Jv(t,e)?n="trapezoids":Zv(t,e)?n="sectors":Rh(t,e)&&(n="points"),n}function abe(t,e){if(Jv(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Zv(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Rh(t,e)?e.payload:{}}function sbe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=obe(n,e),o=abe(n,e),a=r.filter(function(l,u){var c=gh(o,l),f=n.props[i].filter(function(m){var y=ibe(n,e);return y(m,e)}),h=n.props[i].indexOf(f[f.length-1]),p=u===h;return c&&p}),s=r.indexOf(a[a.length-1]);return s}var lbe=Math.ceil,ube=Math.max;function cbe(t,e,n,r){for(var i=-1,o=ube(lbe((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var fbe=cbe,hbe=L3,_N=1/0,dbe=17976931348623157e292;function pbe(t){if(!t)return t===0?t:0;if(t=hbe(t),t===_N||t===-_N){var e=t<0?-1:1;return e*dbe}return t===t?t:0}var a6=pbe,mbe=fbe,gbe=Uv,Bb=a6;function ybe(t){return function(e,n,r){return r&&typeof r!="number"&&gbe(e,n,r)&&(n=r=void 0),e=Bb(e),n===void 0?(n=e,e=0):n=Bb(n),r=r===void 0?e<n?1:-1:Bb(r),mbe(e,n,r,t)}}var vbe=ybe,bbe=vbe,wbe=bbe(),xbe=wbe;const Wg=Xe(xbe);function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function EN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EN(Object(n),!0).forEach(function(r){s6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s6(t,e,n){return e=_be(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _be(t){var e=Ebe(t,"string");return jh(e)=="symbol"?e:e+""}function Ebe(t,e){if(jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sbe=["Webkit","Moz","O","ms"],Tbe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Sbe.reduce(function(o,a){return SN(SN({},o),{},s6({},a+r,n))},{});return i[e]=n,i};function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function qg(){return qg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qg.apply(this,arguments)}function TN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TN(Object(n),!0).forEach(function(r){Hn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Abe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u6(r.key),r)}}function Pbe(t,e,n){return e&&AN(t.prototype,e),n&&AN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kbe(t,e,n){return e=Hg(e),Ibe(t,l6()?Reflect.construct(e,n||[],Hg(t).constructor):e.apply(t,n))}function Ibe(t,e){if(e&&(fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Obe(t)}function Obe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l6=function(){return!!t})()}function Hg(t){return Hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hg(t)}function Cbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I_(t,e)}function I_(t,e){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},I_(t,e)}function Hn(t,e,n){return e=u6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u6(t){var e=Nbe(t,"string");return fu(e)=="symbol"?e:e+""}function Nbe(t,e){if(fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rbe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=vf().domain(Wg(0,l)).range([o,o+a-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},PN=function(e){return e.changedTouches&&!!e.changedTouches.length},hu=function(t){function e(n){var r;return Abe(this,e),r=kbe(this,e,[n]),Hn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Hn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Hn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Hn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Hn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Hn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Hn(r,"handleSlideDragStart",function(i){var o=PN(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Cbe(e,t),Pbe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,o),h=Math.max(i,o),p=e.getIndexInRange(a,f),m=e.getIndexInRange(a,h);return{startIndex:p-p%l,endIndex:m===c?c:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=ir(o[r],s,r);return Pe(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,y=r.pageX-o;y>0?y=Math.min(y,u+c-f-s,u+c-f-a):y<0&&(y=Math.max(y,u-a,u-s));var b=this.getIndex({startX:a+y,endX:s+y});(b.startIndex!==h||b.endIndex!==p)&&m&&m(b),this.setState({startX:a+y,endX:s+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=PN(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,f=c.x,h=c.width,p=c.travellerWidth,m=c.onChange,y=c.gap,b=c.data,v={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,f+h-p-u):w<0&&(w=Math.max(w,f-u)),v[a]=u+w;var x=this.getIndex(v),A=x.startIndex,_=x.endIndex,P=function(){var T=b.length-1;return a==="startX"&&(s>l?A%y===0:_%y===0)||s<l&&_===T||a==="endX"&&(s>l?_%y===0:A%y===0)||s>l&&_===T};this.setState(Hn(Hn({},a,u+w),"brushMoveStartX",r.pageX),function(){m&&P()&&m(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Hn({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return z.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=D.Children.only(u);return f?z.cloneElement(f,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,y=l.startIndex,b=l.endIndex,v=Math.max(r,this.props.x),w=zb(zb({},Ce(this.props,!1)),{},{x:v,y:u,width:c,height:f}),x=p||"Min value: ".concat((o=m[y])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=m[b])===null||a===void 0?void 0:a.name);return z.createElement(ht,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),s.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,h=c.endX,p=5,m={pointerEvents:"none",fill:u};return z.createElement(ht,{className:"recharts-brush-texts"},z.createElement(wg,qg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:a+s/2},m),this.getTextOfTick(i)),z.createElement(wg,qg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:a+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,m=h.endX,y=h.isTextActive,b=h.isSlideMoving,v=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!ae(s)||!ae(l)||!ae(u)||!ae(c)||u<=0||c<=0)return null;var x=Fe("recharts-brush",o),A=z.Children.count(a)===1,_=Tbe("userSelect","none");return z.createElement(ht,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(y||b||v||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),z.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return z.isValidElement(r)?o=z.cloneElement(r,i):Pe(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return zb({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?Rbe({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(D.PureComponent);Hn(hu,"displayName","Brush");Hn(hu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var jbe=KS;function Mbe(t,e){var n;return jbe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var $be=Mbe,Dbe=f3,Lbe=Ta,Vbe=$be,Fbe=Wn,Ube=Uv;function Bbe(t,e,n){var r=Fbe(t)?Dbe:Vbe;return n&&Ube(t,e,n)&&(e=void 0),r(t,Lbe(e))}var zbe=Bbe;const Wbe=Xe(zbe);var wi=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},kN=R3;function qbe(t,e,n){e=="__proto__"&&kN?kN(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Hbe=qbe,Gbe=Hbe,Kbe=C3,Xbe=Ta;function Ybe(t,e){var n={};return e=Xbe(e),Kbe(t,function(r,i,o){Gbe(n,i,e(r,i,o))}),n}var Qbe=Ybe;const Jbe=Xe(Qbe);function Zbe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var ewe=Zbe,twe=KS;function nwe(t,e){var n=!0;return twe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var rwe=nwe,iwe=ewe,owe=rwe,awe=Ta,swe=Wn,lwe=Uv;function uwe(t,e,n){var r=swe(t)?iwe:owe;return n&&lwe(t,e,n)&&(e=void 0),r(t,awe(e))}var cwe=uwe;const c6=Xe(cwe);var fwe=["x","y"];function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function O_(){return O_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O_.apply(this,arguments)}function IN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IN(Object(n),!0).forEach(function(r){hwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hwe(t,e,n){return e=dwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dwe(t){var e=pwe(t,"string");return Mh(e)=="symbol"?e:e+""}function pwe(t,e){if(Mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mwe(t,e){if(t==null)return{};var n=gwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ywe(t,e){var n=t.x,r=t.y,i=mwe(t,fwe),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return jc(jc(jc(jc(jc({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function ON(t){return z.createElement(ebe,O_({shapeType:"rectangle",propTransformer:ywe,activeClassName:"recharts-active-bar"},t))}var vwe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=ae(r)||Oee(r);return o?e(r,i):(o||As(),n)}},bwe=["value","background"],f6;function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function wwe(t,e){if(t==null)return{};var n=xwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gg(){return Gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gg.apply(this,arguments)}function CN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CN(Object(n),!0).forEach(function(r){zo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _we(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d6(r.key),r)}}function Ewe(t,e,n){return e&&NN(t.prototype,e),n&&NN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Swe(t,e,n){return e=Kg(e),Twe(t,h6()?Reflect.construct(e,n||[],Kg(t).constructor):e.apply(t,n))}function Twe(t,e){if(e&&(du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Awe(t)}function Awe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h6=function(){return!!t})()}function Kg(t){return Kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kg(t)}function Pwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C_(t,e)}function C_(t,e){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},C_(t,e)}function zo(t,e,n){return e=d6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d6(t){var e=kwe(t,"string");return du(e)=="symbol"?e:e+""}function kwe(t,e){if(du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vd=function(t){function e(){var n;_we(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Swe(this,e,[].concat(i)),zo(n,"state",{isAnimationFinished:!1}),zo(n,"id",hd("recharts-bar-")),zo(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),zo(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return Pwe(e,t),Ewe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=Ce(this.props,!1);return r&&r.map(function(f,h){var p=h===l,m=p?u:a,y=kt(kt(kt({},c),f),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return z.createElement(ht,Gg({className:"recharts-bar-rectangle"},ag(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),z.createElement(ON,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return z.createElement(lo,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,y=o.map(function(b,v){var w=h&&h[v];if(w){var x=dr(w.x,b.x),A=dr(w.y,b.y),_=dr(w.width,b.width),P=dr(w.height,b.height);return kt(kt({},b),{},{x:x(m),y:A(m),width:_(m),height:P(m)})}if(a==="horizontal"){var S=dr(0,b.height),T=S(m);return kt(kt({},b),{},{y:b.y+b.height-T,height:T})}var k=dr(0,b.width),N=k(m);return kt(kt({},b),{},{width:N})});return z.createElement(ht,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!gh(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=Ce(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,h=wwe(u,bwe);if(!f)return null;var p=kt(kt(kt(kt(kt({},h),{},{fill:"#eee"},f),l),ag(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return z.createElement(ON,Gg({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=Gr(c,Qv);if(!f)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,p=function(b,v){var w=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:w,errorVal:ir(b,v)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return z.createElement(ht,m,f.map(function(y){return z.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,h=r.height,p=r.isAnimationActive,m=r.background,y=r.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,v=Fe("recharts-bar",a),w=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,A=w||x,_=$e(y)?this.id:y;return z.createElement(ht,{className:v},w||x?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(_)},z.createElement("rect",{x:w?u:u-f/2,y:x?c:c-h/2,width:w?f:f*2,height:x?h:h*2}))):null,z.createElement(ht,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(_,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,_),(!p||b)&&ia.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(D.PureComponent);f6=vd;zo(vd,"displayName","Bar");zo(vd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Xu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});zo(vd,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,p=ege(r,n);if(!p)return null;var m=e.layout,y=n.type.defaultProps,b=y!==void 0?kt(kt({},y),n.props):n.props,v=b.dataKey,w=b.children,x=b.minPointSize,A=m==="horizontal"?a:o,_=u?A.scale.domain():null,P=lge({numericAxis:A}),S=Gr(w,F3),T=f.map(function(k,N){var C,R,O,j,$,V;u?C=tge(u[c+N],_):(C=ir(k,v),Array.isArray(C)||(C=[P,C]));var W=vwe(x,f6.defaultProps.minPointSize)(C[1],N);if(m==="horizontal"){var U,F=[a.scale(C[0]),a.scale(C[1])],L=F[0],H=F[1];R=jC({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:k,index:N}),O=(U=H??L)!==null&&U!==void 0?U:void 0,j=p.size;var X=L-H;if($=Number.isNaN(X)?0:X,V={x:R,y:a.y,width:j,height:a.height},Math.abs(W)>0&&Math.abs($)<Math.abs(W)){var K=Br($||W)*(Math.abs(W)-Math.abs($));O-=K,$+=K}}else{var ie=[o.scale(C[0]),o.scale(C[1])],ue=ie[0],ne=ie[1];if(R=ue,O=jC({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:k,index:N}),j=ne-ue,$=p.size,V={x:o.x,y:O,width:o.width,height:$},Math.abs(W)>0&&Math.abs(j)<Math.abs(W)){var pe=Br(j||W)*(Math.abs(W)-Math.abs(j));j+=pe}}return kt(kt(kt({},k),{},{x:R,y:O,width:j,height:$,value:u?C:C[1],payload:k,background:V},S&&S[N]&&S[N].props),{},{tooltipPayload:[q5(n,k)],tooltipPosition:{x:R+j/2,y:O+$/2}})});return kt({data:T,layout:m},h)});function $h(t){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}function Iwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p6(r.key),r)}}function Owe(t,e,n){return e&&RN(t.prototype,e),n&&RN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jN(Object(n),!0).forEach(function(r){e0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e0(t,e,n){return e=p6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p6(t){var e=Cwe(t,"string");return $h(e)=="symbol"?e:e+""}function Cwe(t,e){if($h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nwe=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Kn(u,vd);return c.reduce(function(p,m){var y=n[m],b=y.orientation,v=y.domain,w=y.padding,x=w===void 0?{}:w,A=y.mirror,_=y.reversed,P="".concat(b).concat(A?"Mirror":""),S,T,k,N,C;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var R=v[1]-v[0],O=1/0,j=y.categoricalDomain.sort(Ree);if(j.forEach(function(ie,ue){ue>0&&(O=Math.min((ie||0)-(j[ue-1]||0),O))}),Number.isFinite(O)){var $=O/R,V=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(S=$*V/2),y.padding==="no-gap"){var W=Ss(e.barCategoryGap,$*V),U=$*V/2;S=U-W-(U-W)/V*W}}}i==="xAxis"?T=[r.left+(x.left||0)+(S||0),r.left+r.width-(x.right||0)-(S||0)]:i==="yAxis"?T=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(S||0),r.top+r.height-(x.bottom||0)-(S||0)]:T=y.range,_&&(T=[T[1],T[0]]);var F=Jme(y,o,h),L=F.scale,H=F.realScaleType;L.domain(v).range(T),Zme(L);var X=sge(L,Mr(Mr({},y),{},{realScaleType:H}));i==="xAxis"?(C=b==="top"&&!A||b==="bottom"&&A,k=r.left,N=f[P]-C*y.height):i==="yAxis"&&(C=b==="left"&&!A||b==="right"&&A,k=f[P]-C*y.width,N=r.top);var K=Mr(Mr(Mr({},y),X),{},{realScaleType:H,x:k,y:N,scale:L,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return K.bandSize=jg(K,X),!y.hide&&i==="xAxis"?f[P]+=(C?-1:1)*K.height:y.hide||(f[P]+=(C?-1:1)*K.width),Mr(Mr({},p),{},e0({},m,K))},{})},m6=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Rwe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return m6({x:n,y:r},{x:i,y:o})},g6=function(){function t(e){Iwe(this,t),this.scale=e}return Owe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();e0(g6,"EPS",1e-4);var ST=function(e){var n=Object.keys(e).reduce(function(r,i){return Mr(Mr({},r),{},e0({},i,g6.create(e[i])))},{});return Mr(Mr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Jbe(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return c6(i,function(o,a){return n[a].isInRange(o)})}})};function jwe(t){return(t%180+180)%180}var Mwe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=jwe(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},$we=Ta,Dwe=dd,Lwe=Vv;function Vwe(t){return function(e,n,r){var i=Object(e);if(!Dwe(e)){var o=$we(n);e=Lwe(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var Fwe=Vwe,Uwe=a6;function Bwe(t){var e=Uwe(t),n=e%1;return e===e?n?e-n:e:0}var zwe=Bwe,Wwe=T3,qwe=Ta,Hwe=zwe,Gwe=Math.max;function Kwe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Hwe(n);return i<0&&(i=Gwe(r+i,0)),Wwe(t,qwe(e),i)}var Xwe=Kwe,Ywe=Fwe,Qwe=Xwe,Jwe=Ywe(Qwe),Zwe=Jwe;const exe=Xe(Zwe);var txe=$Z(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),TT=D.createContext(void 0),AT=D.createContext(void 0),y6=D.createContext(void 0),v6=D.createContext({}),b6=D.createContext(void 0),w6=D.createContext(0),x6=D.createContext(0),MN=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=txe(o);return z.createElement(TT.Provider,{value:r},z.createElement(AT.Provider,{value:i},z.createElement(v6.Provider,{value:o},z.createElement(y6.Provider,{value:c},z.createElement(b6.Provider,{value:a},z.createElement(w6.Provider,{value:u},z.createElement(x6.Provider,{value:l},s)))))))},nxe=function(){return D.useContext(b6)},_6=function(e){var n=D.useContext(TT);n==null&&As();var r=n[e];return r==null&&As(),r},rxe=function(){var e=D.useContext(TT);return Do(e)},ixe=function(){var e=D.useContext(AT),n=exe(e,function(r){return c6(r.domain,Number.isFinite)});return n||Do(e)},E6=function(e){var n=D.useContext(AT);n==null&&As();var r=n[e];return r==null&&As(),r},oxe=function(){var e=D.useContext(y6);return e},axe=function(){return D.useContext(v6)},PT=function(){return D.useContext(x6)},kT=function(){return D.useContext(w6)};function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function sxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T6(r.key),r)}}function uxe(t,e,n){return e&&lxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cxe(t,e,n){return e=Xg(e),fxe(t,S6()?Reflect.construct(e,n||[],Xg(t).constructor):e.apply(t,n))}function fxe(t,e){if(e&&(pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hxe(t)}function hxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S6=function(){return!!t})()}function Xg(t){return Xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xg(t)}function dxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N_(t,e)}function N_(t,e){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N_(t,e)}function $N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$N(Object(n),!0).forEach(function(r){IT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IT(t,e,n){return e=T6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T6(t){var e=pxe(t,"string");return pu(e)=="symbol"?e:e+""}function pxe(t,e){if(pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function mxe(t,e){return bxe(t)||vxe(t,e)||yxe(t,e)||gxe()}function gxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yxe(t,e){if(t){if(typeof t=="string")return LN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LN(t,e)}}function LN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function bxe(t){if(Array.isArray(t))return t}function R_(){return R_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R_.apply(this,arguments)}var wxe=function(e,n){var r;return z.isValidElement(e)?r=z.cloneElement(e,n):Pe(e)?r=e(n):r=z.createElement("line",R_({},n,{className:"recharts-reference-line-line"})),r},xxe=function(e,n,r,i,o,a,s,l,u){var c=o.x,f=o.y,h=o.width,p=o.height;if(r){var m=u.y,y=e.y.apply(m,{position:a});if(wi(u,"discard")&&!e.y.isInRange(y))return null;var b=[{x:c+h,y},{x:c,y}];return l==="left"?b.reverse():b}if(n){var v=u.x,w=e.x.apply(v,{position:a});if(wi(u,"discard")&&!e.x.isInRange(w))return null;var x=[{x:w,y:f+p},{x:w,y:f}];return s==="top"?x.reverse():x}if(i){var A=u.segment,_=A.map(function(P){return e.apply(P,{position:a})});return wi(u,"discard")&&Wbe(_,function(P){return!e.isInRange(P)})?null:_}return null};function _xe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=nxe(),c=_6(i),f=E6(o),h=oxe();if(!u||!h)return null;Ki(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=ST({x:c.scale,y:f.scale}),m=Ft(e),y=Ft(n),b=r&&r.length===2,v=xxe(p,m,y,b,h,t.position,c.orientation,f.orientation,t);if(!v)return null;var w=mxe(v,2),x=w[0],A=x.x,_=x.y,P=w[1],S=P.x,T=P.y,k=wi(t,"hidden")?"url(#".concat(u,")"):void 0,N=DN(DN({clipPath:k},Ce(t,!0)),{},{x1:A,y1:_,x2:S,y2:T});return z.createElement(ht,{className:Fe("recharts-reference-line",s)},wxe(a,N),pn.renderCallByParent(t,Rwe({x1:A,y1:_,x2:S,y2:T})))}var OT=function(t){function e(){return sxe(this,e),cxe(this,e,arguments)}return dxe(e,t),uxe(e,[{key:"render",value:function(){return z.createElement(_xe,this.props)}}])}(z.Component);IT(OT,"displayName","ReferenceLine");IT(OT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function j_(){return j_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j_.apply(this,arguments)}function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function VN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VN(Object(n),!0).forEach(function(r){t0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Exe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P6(r.key),r)}}function Txe(t,e,n){return e&&Sxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Axe(t,e,n){return e=Yg(e),Pxe(t,A6()?Reflect.construct(e,n||[],Yg(t).constructor):e.apply(t,n))}function Pxe(t,e){if(e&&(mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kxe(t)}function kxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A6=function(){return!!t})()}function Yg(t){return Yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yg(t)}function Ixe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M_(t,e)}function M_(t,e){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M_(t,e)}function t0(t,e,n){return e=P6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P6(t){var e=Oxe(t,"string");return mu(e)=="symbol"?e:e+""}function Oxe(t,e){if(mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cxe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=ST({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return wi(e,"discard")&&!a.isInRange(s)?null:s},n0=function(t){function e(){return Exe(this,e),Axe(this,e,arguments)}return Ixe(e,t),Txe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=Ft(i),c=Ft(o);if(Ki(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=Cxe(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,y=m.shape,b=m.className,v=wi(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=FN(FN({clipPath:v},Ce(this.props,!0)),{},{cx:h,cy:p});return z.createElement(ht,{className:Fe("recharts-reference-dot",b)},e.renderDot(y,w),pn.renderCallByParent(this.props,{x:h-a,y:p-a,width:2*a,height:2*a}))}}])}(z.Component);t0(n0,"displayName","ReferenceDot");t0(n0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});t0(n0,"renderDot",function(t,e){var n;return z.isValidElement(t)?n=z.cloneElement(t,e):Pe(t)?n=t(e):n=z.createElement(ET,j_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function $_(){return $_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$_.apply(this,arguments)}function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function UN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UN(Object(n),!0).forEach(function(r){r0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I6(r.key),r)}}function jxe(t,e,n){return e&&Rxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mxe(t,e,n){return e=Qg(e),$xe(t,k6()?Reflect.construct(e,n||[],Qg(t).constructor):e.apply(t,n))}function $xe(t,e){if(e&&(gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dxe(t)}function Dxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k6=function(){return!!t})()}function Qg(t){return Qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qg(t)}function Lxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D_(t,e)}function D_(t,e){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D_(t,e)}function r0(t,e,n){return e=I6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I6(t){var e=Vxe(t,"string");return gu(e)=="symbol"?e:e+""}function Vxe(t,e){if(gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fxe=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var h=ST({x:c.scale,y:f.scale}),p={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return wi(o,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:m6(p,m)},i0=function(t){function e(){return Nxe(this,e),Mxe(this,e,arguments)}return Lxe(e,t),jxe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Ki(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ft(i),h=Ft(o),p=Ft(a),m=Ft(s),y=this.props.shape;if(!f&&!h&&!p&&!m&&!y)return null;var b=Fxe(f,h,p,m,this.props);if(!b&&!y)return null;var v=wi(this.props,"hidden")?"url(#".concat(c,")"):void 0;return z.createElement(ht,{className:Fe("recharts-reference-area",l)},e.renderRect(y,BN(BN({clipPath:v},Ce(this.props,!0)),b)),pn.renderCallByParent(this.props,b))}}])}(z.Component);r0(i0,"displayName","ReferenceArea");r0(i0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});r0(i0,"renderRect",function(t,e){var n;return z.isValidElement(t)?n=z.cloneElement(t,e):Pe(t)?n=t(e):n=z.createElement(_T,$_({},e,{className:"recharts-reference-area-rect"})),n});function O6(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Uxe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Mwe(r,n)}function Bxe(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function Jg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function zxe(t,e){return O6(t,e+1)}function Wxe(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:O6(r,u)};var y=l,b,v=function(){return b===void 0&&(b=n(m,y)),b},w=m.coordinate,x=l===0||Jg(t,w,v,c,s);x||(l=0,c=a,u+=1),x&&(c=w+t*(v()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function zN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(n),!0).forEach(function(r){qxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qxe(t,e,n){return e=Hxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hxe(t){var e=Gxe(t,"string");return Dh(e)=="symbol"?e:e+""}function Gxe(t,e){if(Dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kxe(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(h){var p=o[h],m,y=function(){return m===void 0&&(m=n(p,h)),m};if(h===a-1){var b=t*(p.coordinate+t*y()/2-l);o[h]=p=cn(cn({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate})}else o[h]=p=cn(cn({},p),{},{tickCoord:p.coordinate});var v=Jg(t,p.tickCoord,y,s,l);v&&(l=p.tickCoord-t*(y()/2+i),o[h]=cn(cn({},p),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function Xxe(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],f=n(c,s-1),h=t*(c.coordinate+t*f/2-u);a[s-1]=c=cn(cn({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var p=Jg(t,c.tickCoord,function(){return f},l,u);p&&(u=c.tickCoord-t*(f/2+i),a[s-1]=cn(cn({},c),{},{isShow:!0}))}for(var m=o?s-1:s,y=function(w){var x=a[w],A,_=function(){return A===void 0&&(A=n(x,w)),A};if(w===0){var P=t*(x.coordinate-t*_()/2-l);a[w]=x=cn(cn({},x),{},{tickCoord:P<0?x.coordinate-P*t:x.coordinate})}else a[w]=x=cn(cn({},x),{},{tickCoord:x.coordinate});var S=Jg(t,x.tickCoord,_,l,u);S&&(l=x.tickCoord+t*(_()/2+i),a[w]=cn(cn({},x),{},{isShow:!0}))},b=0;b<m;b++)y(b);return a}function CT(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ae(l)||Xu.isSsr)return zxe(i,typeof l=="number"&&ae(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=c&&p==="width"?yf(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(x,A){var _=Pe(u)?u(x.value,A):x.value;return p==="width"?Uxe(yf(_,{fontSize:e,letterSpacing:n}),m,f):yf(_,{fontSize:e,letterSpacing:n})[p]},b=i.length>=2?Br(i[1].coordinate-i[0].coordinate):1,v=Bxe(o,b,p);return l==="equidistantPreserveStart"?Wxe(b,v,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=Xxe(b,v,y,i,a,l==="preserveStartEnd"):h=Kxe(b,v,y,i,a),h.filter(function(w){return w.isShow}))}var Yxe=["viewBox"],Qxe=["viewBox"],Jxe=["ticks"];function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function gl(){return gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gl.apply(this,arguments)}function WN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WN(Object(n),!0).forEach(function(r){NT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wb(t,e){if(t==null)return{};var n=Zxe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function e_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N6(r.key),r)}}function t_e(t,e,n){return e&&qN(t.prototype,e),n&&qN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function n_e(t,e,n){return e=Zg(e),r_e(t,C6()?Reflect.construct(e,n||[],Zg(t).constructor):e.apply(t,n))}function r_e(t,e){if(e&&(yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i_e(t)}function i_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C6=function(){return!!t})()}function Zg(t){return Zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zg(t)}function o_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L_(t,e)}function L_(t,e){return L_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},L_(t,e)}function NT(t,e,n){return e=N6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N6(t){var e=a_e(t,"string");return yu(e)=="symbol"?e:e+""}function a_e(t,e){if(yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zu=function(t){function e(n){var r;return e_e(this,e),r=n_e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return o_e(e,t),t_e(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=Wb(r,Yxe),s=this.props,l=s.viewBox,u=Wb(s,Qxe);return!jl(o,l)||!jl(a,u)||!jl(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,p,m,y,b,v,w,x=f?-1:1,A=r.tickSize||c,_=ae(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=m=r.coordinate,b=a+ +!f*l,y=b-x*A,w=y-x*h,v=_;break;case"left":y=b=r.coordinate,m=o+ +!f*s,p=m-x*A,v=p-x*h,w=_;break;case"right":y=b=r.coordinate,m=o+ +f*s,p=m+x*A,v=p+x*h,w=_;break;default:p=m=r.coordinate,b=a+ +f*l,y=b+x*A,w=y+x*h,v=_;break}return{line:{x1:p,y1:y,x2:m,y2:b},tick:{x:v,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=$t($t($t({},Ce(this.props,!1)),Ce(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=$t($t({},f),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=$t($t({},f),{},{x1:i+p*a,y1:o,x2:i+p*a,y2:o+s})}return z.createElement("line",gl({},f,{className:Fe("recharts-cartesian-axis-line",xr(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,h=s.unit,p=CT($t($t({},this.props),{},{ticks:r}),i,o),m=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),b=Ce(this.props,!1),v=Ce(c,!1),w=$t($t({},b),{},{fill:"none"},Ce(l,!1)),x=p.map(function(A,_){var P=a.getTickLineCoord(A),S=P.line,T=P.tick,k=$t($t($t($t({textAnchor:m,verticalAnchor:y},b),{},{stroke:"none",fill:u},v),T),{},{index:_,payload:A,visibleTicksCount:p.length,tickFormatter:f});return z.createElement(ht,gl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},ag(a.props,A,_)),l&&z.createElement("line",gl({},w,S,{className:Fe("recharts-cartesian-axis-tick-line",xr(l,"className"))})),c&&e.renderTickItem(c,k,"".concat(Pe(f)?f(A.value,_):A.value).concat(h||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,p=Wb(f,Jxe),m=h;return Pe(l)&&(m=h&&h.length>0?l(this.props):l(p)),a<=0||s<=0||!m||!m.length?null:z.createElement(ht,{className:Fe("recharts-cartesian-axis",u),ref:function(b){r.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),pn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=Fe(i.className,"recharts-cartesian-axis-tick-value");return z.isValidElement(r)?a=z.cloneElement(r,$t($t({},i),{},{className:s})):Pe(r)?a=r($t($t({},i),{},{className:s})):a=z.createElement(wg,gl({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(D.Component);NT(Zu,"displayName","CartesianAxis");NT(Zu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var s_e=["x1","y1","x2","y2","key"],l_e=["offset"];function Ps(t){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ps(t)}function HN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HN(Object(n),!0).forEach(function(r){u_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u_e(t,e,n){return e=c_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c_e(t){var e=f_e(t,"string");return Ps(e)=="symbol"?e:e+""}function f_e(t,e){if(Ps(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ps(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ts(){return ts=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ts.apply(this,arguments)}function GN(t,e){if(t==null)return{};var n=h_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function h_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var d_e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return z.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function R6(t,e){var n;if(z.isValidElement(t))n=z.cloneElement(t,e);else if(Pe(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=GN(e,s_e),u=Ce(l,!1);u.offset;var c=GN(u,l_e);n=z.createElement("line",ts({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function p_e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=mn(mn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return R6(i,u)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function m_e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=mn(mn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return R6(i,u)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function g_e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==c[0]&&c.unshift(0);var f=c.map(function(h,p){var m=!c[p+1],y=m?i+a-h:c[p+1]-h;if(y<=0)return null;var b=p%e.length;return z.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:y,width:o,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function y_e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==c[0]&&c.unshift(0);var f=c.map(function(h,p){var m=!c[p+1],y=m?o+s-h:c[p+1]-h;if(y<=0)return null;var b=p%r.length;return z.createElement("rect",{key:"react-".concat(p),x:h,y:a,width:y,height:l,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var v_e=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return z5(CT(mn(mn(mn({},Zu.defaultProps),r),{},{ticks:Wi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},b_e=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return z5(CT(mn(mn(mn({},Zu.defaultProps),r),{},{ticks:Wi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Ys={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function j6(t){var e,n,r,i,o,a,s=PT(),l=kT(),u=axe(),c=mn(mn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ys.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ys.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ys.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ys.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Ys.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Ys.verticalFill,x:ae(t.x)?t.x:u.left,y:ae(t.y)?t.y:u.top,width:ae(t.width)?t.width:u.width,height:ae(t.height)?t.height:u.height}),f=c.x,h=c.y,p=c.width,m=c.height,y=c.syncWithTicks,b=c.horizontalValues,v=c.verticalValues,w=rxe(),x=ixe();if(!ae(p)||p<=0||!ae(m)||m<=0||!ae(f)||f!==+f||!ae(h)||h!==+h)return null;var A=c.verticalCoordinatesGenerator||v_e,_=c.horizontalCoordinatesGenerator||b_e,P=c.horizontalPoints,S=c.verticalPoints;if((!P||!P.length)&&Pe(_)){var T=b&&b.length,k=_({yAxis:x?mn(mn({},x),{},{ticks:T?b:x.ticks}):void 0,width:s,height:l,offset:u},T?!0:y);Ki(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ps(k),"]")),Array.isArray(k)&&(P=k)}if((!S||!S.length)&&Pe(A)){var N=v&&v.length,C=A({xAxis:w?mn(mn({},w),{},{ticks:N?v:w.ticks}):void 0,width:s,height:l,offset:u},N?!0:y);Ki(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ps(C),"]")),Array.isArray(C)&&(S=C)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(d_e,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),z.createElement(p_e,ts({},c,{offset:u,horizontalPoints:P,xAxis:w,yAxis:x})),z.createElement(m_e,ts({},c,{offset:u,verticalPoints:S,xAxis:w,yAxis:x})),z.createElement(g_e,ts({},c,{horizontalPoints:P})),z.createElement(y_e,ts({},c,{verticalPoints:S})))}j6.displayName="CartesianGrid";var w_e=["layout","type","stroke","connectNulls","isRange","ref"],x_e=["key"],M6;function vu(t){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}function $6(t,e){if(t==null)return{};var n=__e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function __e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ns(){return ns=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ns.apply(this,arguments)}function KN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function To(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KN(Object(n),!0).forEach(function(r){ci(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L6(r.key),r)}}function S_e(t,e,n){return e&&XN(t.prototype,e),n&&XN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function T_e(t,e,n){return e=ey(e),A_e(t,D6()?Reflect.construct(e,n||[],ey(t).constructor):e.apply(t,n))}function A_e(t,e){if(e&&(vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P_e(t)}function P_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D6=function(){return!!t})()}function ey(t){return ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ey(t)}function k_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V_(t,e)}function V_(t,e){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V_(t,e)}function ci(t,e,n){return e=L6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L6(t){var e=I_e(t,"string");return vu(e)=="symbol"?e:e+""}function I_e(t,e){if(vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ia=function(t){function e(){var n;E_e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=T_e(this,e,[].concat(i)),ci(n,"state",{isAnimationFinished:!0}),ci(n,"id",hd("recharts-area-")),ci(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Pe(a)&&a()}),ci(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Pe(a)&&a()}),n}return k_e(e,t),S_e(e,[{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(a&&!s)return null;var l=this.props,u=l.dot,c=l.points,f=l.dataKey,h=Ce(this.props,!1),p=Ce(u,!0),m=c.map(function(b,v){var w=To(To(To({key:"dot-".concat(v),r:3},h),p),{},{index:v,cx:b.x,cy:b.y,dataKey:f,value:b.value,payload:b.payload,points:c});return e.renderDotItem(u,w)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return z.createElement(ht,ns({className:"recharts-area-dots"},y),m)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].x,u=a[a.length-1].x,c=r*Math.abs(l-u),f=Bo(a.map(function(h){return h.y||0}));return ae(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(Bo(o.map(function(h){return h.y||0})),f)),ae(f)?z.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].y,u=a[a.length-1].y,c=r*Math.abs(l-u),f=Bo(a.map(function(h){return h.x||0}));return ae(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(Bo(o.map(function(h){return h.x||0})),f)),ae(f)?z.createElement("rect",{x:0,y:l<u?l:l-c,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,a){var s=this.props,l=s.layout,u=s.type,c=s.stroke,f=s.connectNulls,h=s.isRange;s.ref;var p=$6(s,w_e);return z.createElement(ht,{clipPath:o?"url(#clipPath-".concat(a,")"):null},z.createElement(wf,ns({},Ce(p,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&z.createElement(wf,ns({},Ce(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:r})),c!=="none"&&h&&z.createElement(wf,ns({},Ce(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.baseLine,u=a.isAnimationActive,c=a.animationBegin,f=a.animationDuration,h=a.animationEasing,p=a.animationId,m=this.state,y=m.prevPoints,b=m.prevBaseLine;return z.createElement(lo,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var w=v.t;if(y){var x=y.length/s.length,A=s.map(function(T,k){var N=Math.floor(k*x);if(y[N]){var C=y[N],R=dr(C.x,T.x),O=dr(C.y,T.y);return To(To({},T),{},{x:R(w),y:O(w)})}return T}),_;if(ae(l)&&typeof l=="number"){var P=dr(b,l);_=P(w)}else if($e(l)||qu(l)){var S=dr(b,0);_=S(w)}else _=l.map(function(T,k){var N=Math.floor(k*x);if(b[N]){var C=b[N],R=dr(C.x,T.x),O=dr(C.y,T.y);return To(To({},T),{},{x:R(w),y:O(w)})}return T});return o.renderAreaStatically(A,_,r,i)}return z.createElement(ht,null,z.createElement("defs",null,z.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(w))),z.createElement(ht,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,a=o.points,s=o.baseLine,l=o.isAnimationActive,u=this.state,c=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return l&&a&&a.length&&(!c&&h>0||!gh(c,a)||!gh(f,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.top,c=i.left,f=i.xAxis,h=i.yAxis,p=i.width,m=i.height,y=i.isAnimationActive,b=i.id;if(o||!s||!s.length)return null;var v=this.state.isAnimationFinished,w=s.length===1,x=Fe("recharts-area",l),A=f&&f.allowDataOverflow,_=h&&h.allowDataOverflow,P=A||_,S=$e(b)?this.id:b,T=(r=Ce(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=T.r,N=k===void 0?3:k,C=T.strokeWidth,R=C===void 0?2:C,O=Bee(a)?a:{},j=O.clipDot,$=j===void 0?!0:j,V=N*2+R;return z.createElement(ht,{className:x},A||_?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(S)},z.createElement("rect",{x:A?c:c-p/2,y:_?u:u-m/2,width:A?p:p*2,height:_?m:m*2})),!$&&z.createElement("clipPath",{id:"clipPath-dots-".concat(S)},z.createElement("rect",{x:c-V/2,y:u-V/2,width:p+V,height:m+V}))):null,w?null:this.renderArea(P,S),(a||w)&&this.renderDots(P,$,S),(!y||v)&&ia.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(D.PureComponent);M6=Ia;ci(Ia,"displayName","Area");ci(Ia,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Xu.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ci(Ia,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,a=e.props.baseValue,s=a??o;if(ae(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});ci(Ia,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,a=t.yAxisTicks,s=t.bandSize,l=t.dataKey,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,p=e.layout,m=u&&u.length,y=M6.getBaseValue(e,n,r,i),b=p==="horizontal",v=!1,w=f.map(function(A,_){var P;m?P=u[c+_]:(P=ir(A,l),Array.isArray(P)?v=!0:P=[y,P]);var S=P[1]==null||m&&ir(A,l)==null;return b?{x:RC({axis:r,ticks:o,bandSize:s,entry:A,index:_}),y:S?null:i.scale(P[1]),value:P,payload:A}:{x:S?null:r.scale(P[1]),y:RC({axis:i,ticks:a,bandSize:s,entry:A,index:_}),value:P,payload:A}}),x;return m||v?x=w.map(function(A){var _=Array.isArray(A.value)?A.value[0]:null;return b?{x:A.x,y:_!=null&&A.y!=null?i.scale(_):null}:{x:_!=null?r.scale(_):null,y:A.y}}):x=b?i.scale(y):r.scale(y),To({points:w,baseLine:x,layout:p,isRange:v},h)});ci(Ia,"renderDotItem",function(t,e){var n;if(z.isValidElement(t))n=z.cloneElement(t,e);else if(Pe(t))n=t(e);else{var r=Fe("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=$6(e,x_e);n=z.createElement(ET,ns({},o,{key:i,className:r}))}return n});function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function O_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U6(r.key),r)}}function N_e(t,e,n){return e&&C_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function R_e(t,e,n){return e=ty(e),j_e(t,V6()?Reflect.construct(e,n||[],ty(t).constructor):e.apply(t,n))}function j_e(t,e){if(e&&(bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M_e(t)}function M_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V6=function(){return!!t})()}function ty(t){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ty(t)}function $_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F_(t,e)}function F_(t,e){return F_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},F_(t,e)}function F6(t,e,n){return e=U6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U6(t){var e=D_e(t,"string");return bu(e)=="symbol"?e:e+""}function D_e(t,e){if(bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function U_(){return U_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U_.apply(this,arguments)}function L_e(t){var e=t.xAxisId,n=PT(),r=kT(),i=_6(e);return i==null?null:D.createElement(Zu,U_({},i,{className:Fe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Wi(a,!0)}}))}var o0=function(t){function e(){return O_e(this,e),R_e(this,e,arguments)}return $_e(e,t),N_e(e,[{key:"render",value:function(){return D.createElement(L_e,this.props)}}])}(D.Component);F6(o0,"displayName","XAxis");F6(o0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}function V_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W6(r.key),r)}}function U_e(t,e,n){return e&&F_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function B_e(t,e,n){return e=ny(e),z_e(t,B6()?Reflect.construct(e,n||[],ny(t).constructor):e.apply(t,n))}function z_e(t,e){if(e&&(wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W_e(t)}function W_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B6=function(){return!!t})()}function ny(t){return ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ny(t)}function q_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B_(t,e)}function B_(t,e){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B_(t,e)}function z6(t,e,n){return e=W6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W6(t){var e=H_e(t,"string");return wu(e)=="symbol"?e:e+""}function H_e(t,e){if(wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function z_(){return z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z_.apply(this,arguments)}var G_e=function(e){var n=e.yAxisId,r=PT(),i=kT(),o=E6(n);return o==null?null:D.createElement(Zu,z_({},o,{className:Fe("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Wi(s,!0)}}))},a0=function(t){function e(){return V_e(this,e),B_e(this,e,arguments)}return q_e(e,t),U_e(e,[{key:"render",value:function(){return D.createElement(G_e,this.props)}}])}(D.Component);z6(a0,"displayName","YAxis");z6(a0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function YN(t){return Q_e(t)||Y_e(t)||X_e(t)||K_e()}function K_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X_e(t,e){if(t){if(typeof t=="string")return W_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W_(t,e)}}function Y_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Q_e(t){if(Array.isArray(t))return W_(t)}function W_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var q_=function(e,n,r,i,o){var a=Gr(e,OT),s=Gr(e,n0),l=[].concat(YN(a),YN(s)),u=Gr(e,i0),c="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(y,b){if(b.props[c]===r&&wi(b.props,"extendDomain")&&ae(b.props[f])){var v=b.props[f];return[Math.min(y[0],v),Math.max(y[1],v)]}return y},h)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");h=u.reduce(function(y,b){if(b.props[c]===r&&wi(b.props,"extendDomain")&&ae(b.props[p])&&ae(b.props[m])){var v=b.props[p],w=b.props[m];return[Math.min(y[0],v,w),Math.max(y[1],v,w)]}return y},h)}return o&&o.length&&(h=o.reduce(function(y,b){return ae(b)?[Math.min(y[0],b),Math.max(y[1],b)]:y},h)),h},q6={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,h),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,h,p,m){var y=n?n+u:u;if(!this._events[y])return!1;var b=this._events[y],v=arguments.length,w,x;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),v){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,f),!0;case 4:return b.fn.call(b.context,c,f,h),!0;case 5:return b.fn.call(b.context,c,f,h,p),!0;case 6:return b.fn.call(b.context,c,f,h,p,m),!0}for(x=1,w=new Array(v-1);x<v;x++)w[x-1]=arguments[x];b.fn.apply(b.context,w)}else{var A=b.length,_;for(x=0;x<A;x++)switch(b[x].once&&this.removeListener(u,b[x].fn,void 0,!0),v){case 1:b[x].fn.call(b[x].context);break;case 2:b[x].fn.call(b[x].context,c);break;case 3:b[x].fn.call(b[x].context,c,f);break;case 4:b[x].fn.call(b[x].context,c,f,h);break;default:if(!w)for(_=1,w=new Array(v-1);_<v;_++)w[_-1]=arguments[_];b[x].fn.apply(b[x].context,w)}}return!0},s.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return a(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!h||m.once)&&(!f||m.context===f)&&a(this,p);else{for(var y=0,b=[],v=m.length;y<v;y++)(m[y].fn!==c||h&&!m[y].once||f&&m[y].context!==f)&&b.push(m[y]);b.length?this._events[p]=b.length===1?b[0]:b:a(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(q6);var J_e=q6.exports;const Z_e=Xe(J_e);var qb=new Z_e,Hb="recharts.syncMouseEvents";function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function e1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H6(r.key),r)}}function n1e(t,e,n){return e&&t1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gb(t,e,n){return e=H6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H6(t){var e=r1e(t,"string");return Lh(e)=="symbol"?e:e+""}function r1e(t,e){if(Lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var i1e=function(){function t(){e1e(this,t),Gb(this,"activeIndex",0),Gb(this,"coordinateList",[]),Gb(this,"layout","horizontal")}return n1e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function o1e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ae(r)&&ae(i))return!0}return!1}function a1e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function G6(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=nn(e,n,r,i),s=nn(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function s1e(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,h=nn(s,l,u,f),p=nn(s,l,c,f);r=h.x,i=h.y,o=p.x,a=p.y}else return G6(e);return[{x:r,y:i},{x:o,y:a}]}function Vh(t){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(t)}function QN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QN(Object(n),!0).forEach(function(r){l1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l1e(t,e,n){return e=u1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u1e(t){var e=c1e(t,"string");return Vh(e)=="symbol"?e:e+""}function c1e(t,e){if(Vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f1e(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var m,y=wf;if(h==="ScatterChart")m=a,y=p0e;else if(h==="BarChart")m=a1e(f,a,l,c),y=_T;else if(f==="radial"){var b=G6(a),v=b.cx,w=b.cy,x=b.radius,A=b.startAngle,_=b.endAngle;m={cx:v,cy:w,startAngle:A,endAngle:_,innerRadius:x,outerRadius:x},y=K5}else m={points:s1e(f,a,l)},y=wf;var P=xp(xp(xp(xp({stroke:"#ccc",pointerEvents:"none"},l),m),Ce(p,!1)),{},{payload:s,payloadIndex:u,className:Fe("recharts-tooltip-cursor",p.className)});return D.isValidElement(p)?D.cloneElement(p,P):D.createElement(y,P)}var h1e=["item"],d1e=["children","className","width","height","style","compact","title","desc"];function xu(t){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(t)}function yl(){return yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yl.apply(this,arguments)}function JN(t,e){return g1e(t)||m1e(t,e)||X6(t,e)||p1e()}function p1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function g1e(t){if(Array.isArray(t))return t}function ZN(t,e){if(t==null)return{};var n=y1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function y1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function v1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y6(r.key),r)}}function w1e(t,e,n){return e&&b1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function x1e(t,e,n){return e=ry(e),_1e(t,K6()?Reflect.construct(e,n||[],ry(t).constructor):e.apply(t,n))}function _1e(t,e){if(e&&(xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E1e(t)}function E1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K6=function(){return!!t})()}function ry(t){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ry(t)}function S1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H_(t,e)}function H_(t,e){return H_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},H_(t,e)}function _u(t){return P1e(t)||A1e(t)||X6(t)||T1e()}function T1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X6(t,e){if(t){if(typeof t=="string")return G_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G_(t,e)}}function A1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function P1e(t){if(Array.isArray(t))return G_(t)}function G_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(n),!0).forEach(function(r){we(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function we(t,e,n){return e=Y6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y6(t){var e=k1e(t,"string");return xu(e)=="symbol"?e:e+""}function k1e(t,e){if(xu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var I1e={xAxis:["bottom","top"],yAxis:["left","right"]},O1e={width:"100%",height:"100%"},Q6={x:0,y:0};function _p(t){return t}var C1e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},N1e=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return Q(Q(Q({},i),nn(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return Q(Q(Q({},i),nn(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return Q6},s0=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(_u(s),_u(u)):s},[]);return a.length>0?a:e&&e.length&&ae(i)&&ae(o)?e.slice(i,o+1):[]};function J6(t){return t==="number"?[0,"auto"]:void 0}var K_=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=s0(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var p=f===void 0?s:f;h=ig(p,a.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(_u(l),[q5(u,h)]):l},[])},tR=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=C1e(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Hme(a,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=K_(e,n,c,f),p=N1e(r,s,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},R1e=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,p=B5(c,o);return r.reduce(function(m,y){var b,v=y.type.defaultProps!==void 0?Q(Q({},y.type.defaultProps),y.props):y.props,w=v.type,x=v.dataKey,A=v.allowDataOverflow,_=v.allowDuplicatedCategory,P=v.scale,S=v.ticks,T=v.includeHidden,k=v[a];if(m[k])return m;var N=s0(e.data,{graphicalItems:i.filter(function(X){var K,ie=a in X.props?X.props[a]:(K=X.type.defaultProps)===null||K===void 0?void 0:K[a];return ie===k}),dataStartIndex:l,dataEndIndex:u}),C=N.length,R,O,j;o1e(v.domain,A,w)&&(R=d_(v.domain,null,A),p&&(w==="number"||P!=="auto")&&(j=bf(N,x,"category")));var $=J6(w);if(!R||R.length===0){var V,W=(V=v.domain)!==null&&V!==void 0?V:$;if(x){if(R=bf(N,x,w),w==="category"&&p){var U=Nee(R);_&&U?(O=R,R=Wg(0,C)):_||(R=DC(W,R,y).reduce(function(X,K){return X.indexOf(K)>=0?X:[].concat(_u(X),[K])},[]))}else if(w==="category")_?R=R.filter(function(X){return X!==""&&!$e(X)}):R=DC(W,R,y).reduce(function(X,K){return X.indexOf(K)>=0||K===""||$e(K)?X:[].concat(_u(X),[K])},[]);else if(w==="number"){var F=Qme(N,i.filter(function(X){var K,ie,ue=a in X.props?X.props[a]:(K=X.type.defaultProps)===null||K===void 0?void 0:K[a],ne="hide"in X.props?X.props.hide:(ie=X.type.defaultProps)===null||ie===void 0?void 0:ie.hide;return ue===k&&(T||!ne)}),x,o,c);F&&(R=F)}p&&(w==="number"||P!=="auto")&&(j=bf(N,x,"category"))}else p?R=Wg(0,C):s&&s[k]&&s[k].hasStack&&w==="number"?R=h==="expand"?[0,1]:W5(s[k].stackGroups,l,u):R=U5(N,i.filter(function(X){var K=a in X.props?X.props[a]:X.type.defaultProps[a],ie="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return K===k&&(T||!ie)}),w,c,!0);if(w==="number")R=q_(f,R,k,o,S),W&&(R=d_(W,R,A));else if(w==="category"&&W){var L=W,H=R.every(function(X){return L.indexOf(X)>=0});H&&(R=L)}}return Q(Q({},m),{},we({},k,Q(Q({},v),{},{axisType:o,domain:R,categoricalDomain:j,duplicateDomain:O,originalDomain:(b=v.domain)!==null&&b!==void 0?b:$,isCategorical:p,layout:c})))},{})},j1e=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=s0(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=h.length,m=B5(c,o),y=-1;return r.reduce(function(b,v){var w=v.type.defaultProps!==void 0?Q(Q({},v.type.defaultProps),v.props):v.props,x=w[a],A=J6("number");if(!b[x]){y++;var _;return m?_=Wg(0,p):s&&s[x]&&s[x].hasStack?(_=W5(s[x].stackGroups,l,u),_=q_(f,_,x,o)):(_=d_(A,U5(h,r.filter(function(P){var S,T,k=a in P.props?P.props[a]:(S=P.type.defaultProps)===null||S===void 0?void 0:S[a],N="hide"in P.props?P.props.hide:(T=P.type.defaultProps)===null||T===void 0?void 0:T.hide;return k===x&&!N}),"number",c),i.defaultProps.allowDataOverflow),_=q_(f,_,x,o)),Q(Q({},b),{},we({},x,Q(Q({axisType:o},i.defaultProps),{},{hide:!0,orientation:xr(I1e,"".concat(o,".").concat(y%2),null),domain:_,originalDomain:A,isCategorical:m,layout:c})))}return b},{})},M1e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=Gr(c,o),p={};return h&&h.length?p=R1e(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(p=j1e(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},$1e=function(e){var n=Do(e),r=Wi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:XS(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:jg(n,r)}},nR=function(e){var n=e.children,r=e.defaultShowTooltip,i=Kn(n,hu),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},D1e=function(e){return!e||!e.length?!1:e.some(function(n){var r=Gi(n&&n.type);return r&&r.indexOf("Bar")>=0})},rR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},L1e=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,h=r.margin||{},p=Kn(f,hu),m=Kn(f,Ml),y=Object.keys(l).reduce(function(_,P){var S=l[P],T=S.orientation;return!S.mirror&&!S.hide?Q(Q({},_),{},we({},T,_[T]+S.width)):_},{left:h.left||0,right:h.right||0}),b=Object.keys(a).reduce(function(_,P){var S=a[P],T=S.orientation;return!S.mirror&&!S.hide?Q(Q({},_),{},we({},T,xr(_,"".concat(T))+S.height)):_},{top:h.top||0,bottom:h.bottom||0}),v=Q(Q({},b),y),w=v.bottom;p&&(v.bottom+=p.props.height||hu.defaultProps.height),m&&n&&(v=Xme(v,i,r,n));var x=u-v.left-v.right,A=c-v.top-v.bottom;return Q(Q({brushBottom:w},v),{},{width:Math.max(x,0),height:Math.max(A,0)})},V1e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},F1e=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(v,w){var x=w.graphicalItems,A=w.stackGroups,_=w.offset,P=w.updateId,S=w.dataStartIndex,T=w.dataEndIndex,k=v.barSize,N=v.layout,C=v.barGap,R=v.barCategoryGap,O=v.maxBarSize,j=rR(N),$=j.numericAxisName,V=j.cateAxisName,W=D1e(x),U=[];return x.forEach(function(F,L){var H=s0(v.data,{graphicalItems:[F],dataStartIndex:S,dataEndIndex:T}),X=F.type.defaultProps!==void 0?Q(Q({},F.type.defaultProps),F.props):F.props,K=X.dataKey,ie=X.maxBarSize,ue=X["".concat($,"Id")],ne=X["".concat(V,"Id")],pe={},Ee=l.reduce(function(sr,Ci){var zs=w["".concat(Ci.axisType,"Map")],Td=X["".concat(Ci.axisType,"Id")];zs&&zs[Td]||Ci.axisType==="zAxis"||As();var go=zs[Td];return Q(Q({},sr),{},we(we({},Ci.axisType,go),"".concat(Ci.axisType,"Ticks"),Wi(go)))},pe),re=Ee[V],B=Ee["".concat(V,"Ticks")],te=A&&A[ue]&&A[ue].hasStack&&uge(F,A[ue].stackGroups),q=Gi(F.type).indexOf("Bar")>=0,ge=jg(re,B),Te=[],st=W&&Gme({barSize:k,stackGroups:A,totalSize:V1e(Ee,V)});if(q){var lt,zt,Or=$e(ie)?O:ie,ut=(lt=(zt=jg(re,B,!0))!==null&&zt!==void 0?zt:Or)!==null&&lt!==void 0?lt:0;Te=Kme({barGap:C,barCategoryGap:R,bandSize:ut!==ge?ut:ge,sizeList:st[ne],maxBarSize:Or}),ut!==ge&&(Te=Te.map(function(sr){return Q(Q({},sr),{},{position:Q(Q({},sr.position),{},{offset:sr.position.offset-ut/2})})}))}var At=F&&F.type&&F.type.getComposedData;At&&U.push({props:Q(Q({},At(Q(Q({},Ee),{},{displayedData:H,props:v,dataKey:K,item:F,bandSize:ge,barPosition:Te,offset:_,stackedData:te,layout:N,dataStartIndex:S,dataEndIndex:T}))),{},we(we(we({key:F.key||"item-".concat(L)},$,Ee[$]),V,Ee[V]),"animationId",P)),childIndex:qee(F,v.children),item:F})}),U},p=function(v,w){var x=v.props,A=v.dataStartIndex,_=v.dataEndIndex,P=v.updateId;if(!O2({props:x}))return null;var S=x.children,T=x.layout,k=x.stackOffset,N=x.data,C=x.reverseStackOrder,R=rR(T),O=R.numericAxisName,j=R.cateAxisName,$=Gr(S,r),V=age(N,$,"".concat(O,"Id"),"".concat(j,"Id"),k,C),W=l.reduce(function(X,K){var ie="".concat(K.axisType,"Map");return Q(Q({},X),{},we({},ie,M1e(x,Q(Q({},K),{},{graphicalItems:$,stackGroups:K.axisType===O&&V,dataStartIndex:A,dataEndIndex:_}))))},{}),U=L1e(Q(Q({},W),{},{props:x,graphicalItems:$}),w==null?void 0:w.legendBBox);Object.keys(W).forEach(function(X){W[X]=c(x,W[X],U,X.replace("Map",""),n)});var F=W["".concat(j,"Map")],L=$1e(F),H=h(x,Q(Q({},W),{},{dataStartIndex:A,dataEndIndex:_,updateId:P,graphicalItems:$,stackGroups:V,offset:U}));return Q(Q({formattedGraphicalItems:H,graphicalItems:$,offset:U,stackGroups:V},L),W)},m=function(b){function v(w){var x,A,_;return v1e(this,v),_=x1e(this,v,[w]),we(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),we(_,"accessibilityManager",new i1e),we(_,"handleLegendBBoxUpdate",function(P){if(P){var S=_.state,T=S.dataStartIndex,k=S.dataEndIndex,N=S.updateId;_.setState(Q({legendBBox:P},p({props:_.props,dataStartIndex:T,dataEndIndex:k,updateId:N},Q(Q({},_.state),{},{legendBBox:P}))))}}),we(_,"handleReceiveSyncEvent",function(P,S,T){if(_.props.syncId===P){if(T===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(S)}}),we(_,"handleBrushChange",function(P){var S=P.startIndex,T=P.endIndex;if(S!==_.state.dataStartIndex||T!==_.state.dataEndIndex){var k=_.state.updateId;_.setState(function(){return Q({dataStartIndex:S,dataEndIndex:T},p({props:_.props,dataStartIndex:S,dataEndIndex:T,updateId:k},_.state))}),_.triggerSyncEvent({dataStartIndex:S,dataEndIndex:T})}}),we(_,"handleMouseEnter",function(P){var S=_.getMouseInfo(P);if(S){var T=Q(Q({},S),{},{isTooltipActive:!0});_.setState(T),_.triggerSyncEvent(T);var k=_.props.onMouseEnter;Pe(k)&&k(T,P)}}),we(_,"triggeredAfterMouseMove",function(P){var S=_.getMouseInfo(P),T=S?Q(Q({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(T),_.triggerSyncEvent(T);var k=_.props.onMouseMove;Pe(k)&&k(T,P)}),we(_,"handleItemMouseEnter",function(P){_.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),we(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),we(_,"handleMouseMove",function(P){P.persist(),_.throttleTriggeredAfterMouseMove(P)}),we(_,"handleMouseLeave",function(P){_.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};_.setState(S),_.triggerSyncEvent(S);var T=_.props.onMouseLeave;Pe(T)&&T(S,P)}),we(_,"handleOuterEvent",function(P){var S=Wee(P),T=xr(_.props,"".concat(S));if(S&&Pe(T)){var k,N;/.*touch.*/i.test(S)?N=_.getMouseInfo(P.changedTouches[0]):N=_.getMouseInfo(P),T((k=N)!==null&&k!==void 0?k:{},P)}}),we(_,"handleClick",function(P){var S=_.getMouseInfo(P);if(S){var T=Q(Q({},S),{},{isTooltipActive:!0});_.setState(T),_.triggerSyncEvent(T);var k=_.props.onClick;Pe(k)&&k(T,P)}}),we(_,"handleMouseDown",function(P){var S=_.props.onMouseDown;if(Pe(S)){var T=_.getMouseInfo(P);S(T,P)}}),we(_,"handleMouseUp",function(P){var S=_.props.onMouseUp;if(Pe(S)){var T=_.getMouseInfo(P);S(T,P)}}),we(_,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),we(_,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&_.handleMouseDown(P.changedTouches[0])}),we(_,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&_.handleMouseUp(P.changedTouches[0])}),we(_,"handleDoubleClick",function(P){var S=_.props.onDoubleClick;if(Pe(S)){var T=_.getMouseInfo(P);S(T,P)}}),we(_,"handleContextMenu",function(P){var S=_.props.onContextMenu;if(Pe(S)){var T=_.getMouseInfo(P);S(T,P)}}),we(_,"triggerSyncEvent",function(P){_.props.syncId!==void 0&&qb.emit(Hb,_.props.syncId,P,_.eventEmitterSymbol)}),we(_,"applySyncEvent",function(P){var S=_.props,T=S.layout,k=S.syncMethod,N=_.state.updateId,C=P.dataStartIndex,R=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)_.setState(Q({dataStartIndex:C,dataEndIndex:R},p({props:_.props,dataStartIndex:C,dataEndIndex:R,updateId:N},_.state)));else if(P.activeTooltipIndex!==void 0){var O=P.chartX,j=P.chartY,$=P.activeTooltipIndex,V=_.state,W=V.offset,U=V.tooltipTicks;if(!W)return;if(typeof k=="function")$=k(U,P);else if(k==="value"){$=-1;for(var F=0;F<U.length;F++)if(U[F].value===P.activeLabel){$=F;break}}var L=Q(Q({},W),{},{x:W.left,y:W.top}),H=Math.min(O,L.x+L.width),X=Math.min(j,L.y+L.height),K=U[$]&&U[$].value,ie=K_(_.state,_.props.data,$),ue=U[$]?{x:T==="horizontal"?U[$].coordinate:H,y:T==="horizontal"?X:U[$].coordinate}:Q6;_.setState(Q(Q({},P),{},{activeLabel:K,activeCoordinate:ue,activePayload:ie,activeTooltipIndex:$}))}else _.setState(P)}),we(_,"renderCursor",function(P){var S,T=_.state,k=T.isTooltipActive,N=T.activeCoordinate,C=T.activePayload,R=T.offset,O=T.activeTooltipIndex,j=T.tooltipAxisBandSize,$=_.getTooltipEventType(),V=(S=P.props.active)!==null&&S!==void 0?S:k,W=_.props.layout,U=P.key||"_recharts-cursor";return z.createElement(f1e,{key:U,activeCoordinate:N,activePayload:C,activeTooltipIndex:O,chartName:n,element:P,isActive:V,layout:W,offset:R,tooltipAxisBandSize:j,tooltipEventType:$})}),we(_,"renderPolarAxis",function(P,S,T){var k=xr(P,"type.axisType"),N=xr(_.state,"".concat(k,"Map")),C=P.type.defaultProps,R=C!==void 0?Q(Q({},C),P.props):P.props,O=N&&N[R["".concat(k,"Id")]];return D.cloneElement(P,Q(Q({},O),{},{className:Fe(k,O.className),key:P.key||"".concat(S,"-").concat(T),ticks:Wi(O,!0)}))}),we(_,"renderPolarGrid",function(P){var S=P.props,T=S.radialLines,k=S.polarAngles,N=S.polarRadius,C=_.state,R=C.radiusAxisMap,O=C.angleAxisMap,j=Do(R),$=Do(O),V=$.cx,W=$.cy,U=$.innerRadius,F=$.outerRadius;return D.cloneElement(P,{polarAngles:Array.isArray(k)?k:Wi($,!0).map(function(L){return L.coordinate}),polarRadius:Array.isArray(N)?N:Wi(j,!0).map(function(L){return L.coordinate}),cx:V,cy:W,innerRadius:U,outerRadius:F,key:P.key||"polar-grid",radialLines:T})}),we(_,"renderLegend",function(){var P=_.state.formattedGraphicalItems,S=_.props,T=S.children,k=S.width,N=S.height,C=_.props.margin||{},R=k-(C.left||0)-(C.right||0),O=V5({children:T,formattedGraphicalItems:P,legendWidth:R,legendContent:u});if(!O)return null;var j=O.item,$=ZN(O,h1e);return D.cloneElement(j,Q(Q({},$),{},{chartWidth:k,chartHeight:N,margin:C,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),we(_,"renderTooltip",function(){var P,S=_.props,T=S.children,k=S.accessibilityLayer,N=Kn(T,ii);if(!N)return null;var C=_.state,R=C.isTooltipActive,O=C.activeCoordinate,j=C.activePayload,$=C.activeLabel,V=C.offset,W=(P=N.props.active)!==null&&P!==void 0?P:R;return D.cloneElement(N,{viewBox:Q(Q({},V),{},{x:V.left,y:V.top}),active:W,label:$,payload:W?j:[],coordinate:O,accessibilityLayer:k})}),we(_,"renderBrush",function(P){var S=_.props,T=S.margin,k=S.data,N=_.state,C=N.offset,R=N.dataStartIndex,O=N.dataEndIndex,j=N.updateId;return D.cloneElement(P,{key:P.key||"_recharts-brush",onChange:yp(_.handleBrushChange,P.props.onChange),data:k,x:ae(P.props.x)?P.props.x:C.left,y:ae(P.props.y)?P.props.y:C.top+C.height+C.brushBottom-(T.bottom||0),width:ae(P.props.width)?P.props.width:C.width,startIndex:R,endIndex:O,updateId:"brush-".concat(j)})}),we(_,"renderReferenceElement",function(P,S,T){if(!P)return null;var k=_,N=k.clipPathId,C=_.state,R=C.xAxisMap,O=C.yAxisMap,j=C.offset,$=P.type.defaultProps||{},V=P.props,W=V.xAxisId,U=W===void 0?$.xAxisId:W,F=V.yAxisId,L=F===void 0?$.yAxisId:F;return D.cloneElement(P,{key:P.key||"".concat(S,"-").concat(T),xAxis:R[U],yAxis:O[L],viewBox:{x:j.left,y:j.top,width:j.width,height:j.height},clipPathId:N})}),we(_,"renderActivePoints",function(P){var S=P.item,T=P.activePoint,k=P.basePoint,N=P.childIndex,C=P.isRange,R=[],O=S.props.key,j=S.item.type.defaultProps!==void 0?Q(Q({},S.item.type.defaultProps),S.item.props):S.item.props,$=j.activeDot,V=j.dataKey,W=Q(Q({index:N,dataKey:V,cx:T.x,cy:T.y,r:4,fill:xT(S.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},Ce($,!1)),og($));return R.push(v.renderActiveDot($,W,"".concat(O,"-activePoint-").concat(N))),k?R.push(v.renderActiveDot($,Q(Q({},W),{},{cx:k.x,cy:k.y}),"".concat(O,"-basePoint-").concat(N))):C&&R.push(null),R}),we(_,"renderGraphicChild",function(P,S,T){var k=_.filterFormatItem(P,S,T);if(!k)return null;var N=_.getTooltipEventType(),C=_.state,R=C.isTooltipActive,O=C.tooltipAxis,j=C.activeTooltipIndex,$=C.activeLabel,V=_.props.children,W=Kn(V,ii),U=k.props,F=U.points,L=U.isRange,H=U.baseLine,X=k.item.type.defaultProps!==void 0?Q(Q({},k.item.type.defaultProps),k.item.props):k.item.props,K=X.activeDot,ie=X.hide,ue=X.activeBar,ne=X.activeShape,pe=!!(!ie&&R&&W&&(K||ue||ne)),Ee={};N!=="axis"&&W&&W.props.trigger==="click"?Ee={onClick:yp(_.handleItemMouseEnter,P.props.onClick)}:N!=="axis"&&(Ee={onMouseLeave:yp(_.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:yp(_.handleItemMouseEnter,P.props.onMouseEnter)});var re=D.cloneElement(P,Q(Q({},k.props),Ee));function B(Ci){return typeof O.dataKey=="function"?O.dataKey(Ci.payload):null}if(pe)if(j>=0){var te,q;if(O.dataKey&&!O.allowDuplicatedCategory){var ge=typeof O.dataKey=="function"?B:"payload.".concat(O.dataKey.toString());te=ig(F,ge,$),q=L&&H&&ig(H,ge,$)}else te=F==null?void 0:F[j],q=L&&H&&H[j];if(ne||ue){var Te=P.props.activeIndex!==void 0?P.props.activeIndex:j;return[D.cloneElement(P,Q(Q(Q({},k.props),Ee),{},{activeIndex:Te})),null,null]}if(!$e(te))return[re].concat(_u(_.renderActivePoints({item:k,activePoint:te,basePoint:q,childIndex:j,isRange:L})))}else{var st,lt=(st=_.getItemByXY(_.state.activeCoordinate))!==null&&st!==void 0?st:{graphicalItem:re},zt=lt.graphicalItem,Or=zt.item,ut=Or===void 0?P:Or,At=zt.childIndex,sr=Q(Q(Q({},k.props),Ee),{},{activeIndex:At});return[D.cloneElement(ut,sr),null,null]}return L?[re,null,null]:[re,null]}),we(_,"renderCustomized",function(P,S,T){return D.cloneElement(P,Q(Q({key:"recharts-customized-".concat(T)},_.props),_.state))}),we(_,"renderMap",{CartesianGrid:{handler:_p,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:_p},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:_p},YAxis:{handler:_p},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((x=w.id)!==null&&x!==void 0?x:hd("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=V3(_.triggeredAfterMouseMove,(A=w.throttleDelay)!==null&&A!==void 0?A:1e3/60),_.state={},_}return S1e(v,b),w1e(v,[{key:"componentDidMount",value:function(){var x,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,A=x.children,_=x.data,P=x.height,S=x.layout,T=Kn(A,ii);if(T){var k=T.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,C=K_(this.state,_,k,N),R=this.state.tooltipTicks[k].coordinate,O=(this.state.offset.top+P)/2,j=S==="horizontal",$=j?{x:R,y:O}:{y:R,x:O},V=this.state.formattedGraphicalItems.find(function(U){var F=U.item;return F.type.name==="Scatter"});V&&($=Q(Q({},$),V.props.points[k].tooltipPosition),C=V.props.points[k].tooltipPayload);var W={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:N,activePayload:C,activeCoordinate:$};this.setState(W),this.renderCursor(T),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var _,P;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(x){kx([Kn(x.children,ii)],[Kn(this.props.children,ii)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Kn(this.props.children,ii);if(x&&typeof x.props.shared=="boolean"){var A=x.props.shared?"axis":"item";return s.indexOf(A)>=0?A:o}return o}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var A=this.container,_=A.getBoundingClientRect(),P=vfe(_),S={chartX:Math.round(x.pageX-P.left),chartY:Math.round(x.pageY-P.top)},T=_.width/A.offsetWidth||1,k=this.inRange(S.chartX,S.chartY,T);if(!k)return null;var N=this.state,C=N.xAxisMap,R=N.yAxisMap,O=this.getTooltipEventType(),j=tR(this.state,this.props.data,this.props.layout,k);if(O!=="axis"&&C&&R){var $=Do(C).scale,V=Do(R).scale,W=$&&$.invert?$.invert(S.chartX):null,U=V&&V.invert?V.invert(S.chartY):null;return Q(Q({},S),{},{xValue:W,yValue:U},j)}return j?Q(Q({},S),j):null}},{key:"inRange",value:function(x,A){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,S=x/_,T=A/_;if(P==="horizontal"||P==="vertical"){var k=this.state.offset,N=S>=k.left&&S<=k.left+k.width&&T>=k.top&&T<=k.top+k.height;return N?{x:S,y:T}:null}var C=this.state,R=C.angleAxisMap,O=C.radiusAxisMap;if(R&&O){var j=Do(R);return FC({x:S,y:T},j)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,A=this.getTooltipEventType(),_=Kn(x,ii),P={};_&&A==="axis"&&(_.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=og(this.props,this.handleOuterEvent);return Q(Q({},S),P)}},{key:"addListener",value:function(){qb.on(Hb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){qb.removeListener(Hb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,A,_){for(var P=this.state.formattedGraphicalItems,S=0,T=P.length;S<T;S++){var k=P[S];if(k.item===x||k.props.key===x.key||A===Gi(k.item.type)&&_===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,A=this.state.offset,_=A.left,P=A.top,S=A.height,T=A.width;return z.createElement("defs",null,z.createElement("clipPath",{id:x},z.createElement("rect",{x:_,y:P,height:S,width:T})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(A,_){var P=JN(_,2),S=P[0],T=P[1];return Q(Q({},A),{},we({},S,T.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(A,_){var P=JN(_,2),S=P[0],T=P[1];return Q(Q({},A),{},we({},S,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[x])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(x){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[x])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(x){var A=this.state,_=A.formattedGraphicalItems,P=A.activeItem;if(_&&_.length)for(var S=0,T=_.length;S<T;S++){var k=_[S],N=k.props,C=k.item,R=C.type.defaultProps!==void 0?Q(Q({},C.type.defaultProps),C.props):C.props,O=Gi(C.type);if(O==="Bar"){var j=(N.data||[]).find(function(U){return i0e(x,U)});if(j)return{graphicalItem:k,payload:j}}else if(O==="RadialBar"){var $=(N.data||[]).find(function(U){return FC(x,U)});if($)return{graphicalItem:k,payload:$}}else if(Jv(k,P)||Zv(k,P)||Rh(k,P)){var V=sbe({graphicalItem:k,activeTooltipItem:P,itemData:R.data}),W=R.activeIndex===void 0?V:R.activeIndex;return{graphicalItem:Q(Q({},k),{},{childIndex:W}),payload:Rh(k,P)?R.data[V]:k.props.data[V]}}}return null}},{key:"render",value:function(){var x=this;if(!O2(this))return null;var A=this.props,_=A.children,P=A.className,S=A.width,T=A.height,k=A.style,N=A.compact,C=A.title,R=A.desc,O=ZN(A,d1e),j=Ce(O,!1);if(N)return z.createElement(MN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(Ox,yl({},j,{width:S,height:T,title:C,desc:R}),this.renderClipPath(),N2(_,this.renderMap)));if(this.props.accessibilityLayer){var $,V;j.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,j.role=(V=this.props.role)!==null&&V!==void 0?V:"application",j.onKeyDown=function(U){x.accessibilityManager.keyboardEvent(U)},j.onFocus=function(){x.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return z.createElement(MN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",yl({className:Fe("recharts-wrapper",P),style:Q({position:"relative",cursor:"default",width:S,height:T},k)},W,{ref:function(F){x.container=F}}),z.createElement(Ox,yl({},j,{width:S,height:T,title:C,desc:R,style:O1e}),this.renderClipPath(),N2(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(D.Component);we(m,"displayName",n),we(m,"defaultProps",Q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),we(m,"getDerivedStateFromProps",function(b,v){var w=b.dataKey,x=b.data,A=b.children,_=b.width,P=b.height,S=b.layout,T=b.stackOffset,k=b.margin,N=v.dataStartIndex,C=v.dataEndIndex;if(v.updateId===void 0){var R=nR(b);return Q(Q(Q({},R),{},{updateId:0},p(Q(Q({props:b},R),{},{updateId:0}),v)),{},{prevDataKey:w,prevData:x,prevWidth:_,prevHeight:P,prevLayout:S,prevStackOffset:T,prevMargin:k,prevChildren:A})}if(w!==v.prevDataKey||x!==v.prevData||_!==v.prevWidth||P!==v.prevHeight||S!==v.prevLayout||T!==v.prevStackOffset||!jl(k,v.prevMargin)){var O=nR(b),j={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},$=Q(Q({},tR(v,x,S)),{},{updateId:v.updateId+1}),V=Q(Q(Q({},O),j),$);return Q(Q(Q({},V),p(Q({props:b},V),v)),{},{prevDataKey:w,prevData:x,prevWidth:_,prevHeight:P,prevLayout:S,prevStackOffset:T,prevMargin:k,prevChildren:A})}if(!kx(A,v.prevChildren)){var W,U,F,L,H=Kn(A,hu),X=H&&(W=(U=H.props)===null||U===void 0?void 0:U.startIndex)!==null&&W!==void 0?W:N,K=H&&(F=(L=H.props)===null||L===void 0?void 0:L.endIndex)!==null&&F!==void 0?F:C,ie=X!==N||K!==C,ue=!$e(x),ne=ue&&!ie?v.updateId:v.updateId+1;return Q(Q({updateId:ne},p(Q(Q({props:b},v),{},{updateId:ne,dataStartIndex:X,dataEndIndex:K}),v)),{},{prevChildren:A,dataStartIndex:X,dataEndIndex:K})}return null}),we(m,"renderActiveDot",function(b,v,w){var x;return D.isValidElement(b)?x=D.cloneElement(b,v):Pe(b)?x=b(v):x=z.createElement(ET,v),z.createElement(ht,{className:"recharts-active-dot",key:w},x)});var y=D.forwardRef(function(v,w){return z.createElement(m,yl({},v,{ref:w}))});return y.displayName=m.displayName,y},U1e=F1e({chartName:"AreaChart",GraphicalChild:Ia,axisComponents:[{axisType:"xAxis",AxisComp:o0},{axisType:"yAxis",AxisComp:a0}],formatAxisMap:Nwe});class gn{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],a=e+o,s=Math.abs(e)<Math.abs(o)?e-(a-o):o-(a-e);s&&(n[r++]=s),e=a}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,o,a=0;if(n>0){for(a=e[--n];n>0&&(r=a,i=e[--n],a=r+i,o=i-(a-r),!o););n>0&&(o<0&&e[n-1]<0||o>0&&e[n-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}function*B1e(t){for(const e of t)yield*e}function Z6(t){return Array.from(B1e(t))}function vl(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}var ve=1e-6,Fh=1e-12,Ie=Math.PI,xt=Ie/2,iy=Ie/4,Pn=Ie*2,Ge=180/Ie,be=Ie/180,De=Math.abs,ec=Math.atan,kn=Math.atan2,me=Math.cos,Ep=Math.ceil,eV=Math.exp,X_=Math.hypot,oy=Math.log,Kb=Math.pow,fe=Math.sin,vr=Math.sign||function(t){return t>0?1:t<0?-1:0},Xt=Math.sqrt,RT=Math.tan;function tV(t){return t>1?0:t<-1?Ie:Math.acos(t)}function In(t){return t>1?xt:t<-1?-xt:Math.asin(t)}function iR(t){return(t=fe(t/2))*t}function dt(){}function ay(t,e){t&&aR.hasOwnProperty(t.type)&&aR[t.type](t,e)}var oR={Feature:function(t,e){ay(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)ay(n[r].geometry,e)}},aR={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Y_(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Y_(n[r],e,0)},Polygon:function(t,e){sR(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)sR(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)ay(n[r],e)}};function Y_(t,e,n){var r=-1,i=t.length-n,o;for(e.lineStart();++r<i;)o=t[r],e.point(o[0],o[1],o[2]);e.lineEnd()}function sR(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Y_(t[n],e,1);e.polygonEnd()}function Vr(t,e){t&&oR.hasOwnProperty(t.type)?oR[t.type](t,e):ay(t,e)}var sy=new gn,ly=new gn,nV,rV,Q_,J_,Z_,Ti={point:dt,lineStart:dt,lineEnd:dt,polygonStart:function(){sy=new gn,Ti.lineStart=z1e,Ti.lineEnd=W1e},polygonEnd:function(){var t=+sy;ly.add(t<0?Pn+t:t),this.lineStart=this.lineEnd=this.point=dt},sphere:function(){ly.add(Pn)}};function z1e(){Ti.point=q1e}function W1e(){iV(nV,rV)}function q1e(t,e){Ti.point=iV,nV=t,rV=e,t*=be,e*=be,Q_=t,J_=me(e=e/2+iy),Z_=fe(e)}function iV(t,e){t*=be,e*=be,e=e/2+iy;var n=t-Q_,r=n>=0?1:-1,i=r*n,o=me(e),a=fe(e),s=Z_*a,l=J_*o+s*me(i),u=s*r*fe(i);sy.add(kn(u,l)),Q_=t,J_=o,Z_=a}function H1e(t){return ly=new gn,Vr(t,Ti),ly*2}function uy(t){return[kn(t[1],t[0]),In(t[2])]}function ks(t){var e=t[0],n=t[1],r=me(n);return[r*me(e),r*fe(e),fe(n)]}function Sp(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Eu(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Xb(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Tp(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function cy(t){var e=Xt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var ct,jn,vt,Yn,Ha,oV,aV,Ll,_f,Io,uo,Mi={point:e1,lineStart:lR,lineEnd:uR,polygonStart:function(){Mi.point=lV,Mi.lineStart=G1e,Mi.lineEnd=K1e,_f=new gn,Ti.polygonStart()},polygonEnd:function(){Ti.polygonEnd(),Mi.point=e1,Mi.lineStart=lR,Mi.lineEnd=uR,sy<0?(ct=-(vt=180),jn=-(Yn=90)):_f>ve?Yn=90:_f<-ve&&(jn=-90),uo[0]=ct,uo[1]=vt},sphere:function(){ct=-(vt=180),jn=-(Yn=90)}};function e1(t,e){Io.push(uo=[ct=t,vt=t]),e<jn&&(jn=e),e>Yn&&(Yn=e)}function sV(t,e){var n=ks([t*be,e*be]);if(Ll){var r=Eu(Ll,n),i=[r[1],-r[0],0],o=Eu(i,r);cy(o),o=uy(o);var a=t-Ha,s=a>0?1:-1,l=o[0]*Ge*s,u,c=De(a)>180;c^(s*Ha<l&&l<s*t)?(u=o[1]*Ge,u>Yn&&(Yn=u)):(l=(l+360)%360-180,c^(s*Ha<l&&l<s*t)?(u=-o[1]*Ge,u<jn&&(jn=u)):(e<jn&&(jn=e),e>Yn&&(Yn=e))),c?t<Ha?Xn(ct,t)>Xn(ct,vt)&&(vt=t):Xn(t,vt)>Xn(ct,vt)&&(ct=t):vt>=ct?(t<ct&&(ct=t),t>vt&&(vt=t)):t>Ha?Xn(ct,t)>Xn(ct,vt)&&(vt=t):Xn(t,vt)>Xn(ct,vt)&&(ct=t)}else Io.push(uo=[ct=t,vt=t]);e<jn&&(jn=e),e>Yn&&(Yn=e),Ll=n,Ha=t}function lR(){Mi.point=sV}function uR(){uo[0]=ct,uo[1]=vt,Mi.point=e1,Ll=null}function lV(t,e){if(Ll){var n=t-Ha;_f.add(De(n)>180?n+(n>0?360:-360):n)}else oV=t,aV=e;Ti.point(t,e),sV(t,e)}function G1e(){Ti.lineStart()}function K1e(){lV(oV,aV),Ti.lineEnd(),De(_f)>ve&&(ct=-(vt=180)),uo[0]=ct,uo[1]=vt,Ll=null}function Xn(t,e){return(e-=t)<0?e+360:e}function X1e(t,e){return t[0]-e[0]}function cR(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function Y1e(t){var e,n,r,i,o,a,s;if(Yn=vt=-(ct=jn=1/0),Io=[],Vr(t,Mi),n=Io.length){for(Io.sort(X1e),e=1,r=Io[0],o=[r];e<n;++e)i=Io[e],cR(r,i[0])||cR(r,i[1])?(Xn(r[0],i[1])>Xn(r[0],r[1])&&(r[1]=i[1]),Xn(i[0],r[1])>Xn(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,n=o.length-1,e=0,r=o[n];e<=n;r=i,++e)i=o[e],(s=Xn(r[1],i[0]))>a&&(a=s,ct=i[0],vt=r[1])}return Io=uo=null,ct===1/0||jn===1/0?[[NaN,NaN],[NaN,NaN]]:[[ct,jn],[vt,Yn]]}var Gc,fy,hy,dy,py,my,gy,yy,t1,n1,r1,uV,cV,xn,_n,En,zr={sphere:dt,point:jT,lineStart:fR,lineEnd:hR,polygonStart:function(){zr.lineStart=Z1e,zr.lineEnd=eEe},polygonEnd:function(){zr.lineStart=fR,zr.lineEnd=hR}};function jT(t,e){t*=be,e*=be;var n=me(e);bd(n*me(t),n*fe(t),fe(e))}function bd(t,e,n){++Gc,hy+=(t-hy)/Gc,dy+=(e-dy)/Gc,py+=(n-py)/Gc}function fR(){zr.point=Q1e}function Q1e(t,e){t*=be,e*=be;var n=me(e);xn=n*me(t),_n=n*fe(t),En=fe(e),zr.point=J1e,bd(xn,_n,En)}function J1e(t,e){t*=be,e*=be;var n=me(e),r=n*me(t),i=n*fe(t),o=fe(e),a=kn(Xt((a=_n*o-En*i)*a+(a=En*r-xn*o)*a+(a=xn*i-_n*r)*a),xn*r+_n*i+En*o);fy+=a,my+=a*(xn+(xn=r)),gy+=a*(_n+(_n=i)),yy+=a*(En+(En=o)),bd(xn,_n,En)}function hR(){zr.point=jT}function Z1e(){zr.point=tEe}function eEe(){fV(uV,cV),zr.point=jT}function tEe(t,e){uV=t,cV=e,t*=be,e*=be,zr.point=fV;var n=me(e);xn=n*me(t),_n=n*fe(t),En=fe(e),bd(xn,_n,En)}function fV(t,e){t*=be,e*=be;var n=me(e),r=n*me(t),i=n*fe(t),o=fe(e),a=_n*o-En*i,s=En*r-xn*o,l=xn*i-_n*r,u=X_(a,s,l),c=In(u),f=u&&-c/u;t1.add(f*a),n1.add(f*s),r1.add(f*l),fy+=c,my+=c*(xn+(xn=r)),gy+=c*(_n+(_n=i)),yy+=c*(En+(En=o)),bd(xn,_n,En)}function nEe(t){Gc=fy=hy=dy=py=my=gy=yy=0,t1=new gn,n1=new gn,r1=new gn,Vr(t,zr);var e=+t1,n=+n1,r=+r1,i=X_(e,n,r);return i<Fh&&(e=my,n=gy,r=yy,fy<ve&&(e=hy,n=dy,r=py),i=X_(e,n,r),i<Fh)?[NaN,NaN]:[kn(n,e)*Ge,In(r/i)*Ge]}function Qs(t){return function(){return t}}function i1(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function o1(t,e){return[De(t)>Ie?t+Math.round(-t/Pn)*Pn:t,e]}o1.invert=o1;function MT(t,e,n){return(t%=Pn)?e||n?i1(pR(t),mR(e,n)):pR(t):e||n?mR(e,n):o1}function dR(t){return function(e,n){return e+=t,[e>Ie?e-Pn:e<-Ie?e+Pn:e,n]}}function pR(t){var e=dR(t);return e.invert=dR(-t),e}function mR(t,e){var n=me(t),r=fe(t),i=me(e),o=fe(e);function a(s,l){var u=me(l),c=me(s)*u,f=fe(s)*u,h=fe(l),p=h*n+c*r;return[kn(f*i-p*o,c*n-h*r),In(p*i+f*o)]}return a.invert=function(s,l){var u=me(l),c=me(s)*u,f=fe(s)*u,h=fe(l),p=h*i-f*o;return[kn(f*i+h*o,c*n+p*r),In(p*n-c*r)]},a}function hV(t){t=MT(t[0]*be,t[1]*be,t.length>2?t[2]*be:0);function e(n){return n=t(n[0]*be,n[1]*be),n[0]*=Ge,n[1]*=Ge,n}return e.invert=function(n){return n=t.invert(n[0]*be,n[1]*be),n[0]*=Ge,n[1]*=Ge,n},e}function dV(t,e,n,r,i,o){if(n){var a=me(e),s=fe(e),l=r*n;i==null?(i=e+r*Pn,o=e-l/2):(i=gR(a,i),o=gR(a,o),(r>0?i<o:i>o)&&(i+=r*Pn));for(var u,c=i;r>0?c>o:c<o;c-=l)u=uy([a,-s*me(c),-s*fe(c)]),t.point(u[0],u[1])}}function gR(t,e){e=ks(e),e[0]-=t,cy(e);var n=tV(-e[1]);return((-e[2]<0?-n:n)+Pn-ve)%Pn}function rEe(){var t=Qs([0,0]),e=Qs(90),n=Qs(6),r,i,o={point:a};function a(l,u){r.push(l=i(l,u)),l[0]*=Ge,l[1]*=Ge}function s(){var l=t.apply(this,arguments),u=e.apply(this,arguments)*be,c=n.apply(this,arguments)*be;return r=[],i=MT(-l[0]*be,-l[1]*be,0).invert,dV(o,u,c,1),l={type:"Polygon",coordinates:[r]},r=i=null,l}return s.center=function(l){return arguments.length?(t=typeof l=="function"?l:Qs([+l[0],+l[1]]),s):t},s.radius=function(l){return arguments.length?(e=typeof l=="function"?l:Qs(+l),s):e},s.precision=function(l){return arguments.length?(n=typeof l=="function"?l:Qs(+l),s):n},s}function pV(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:dt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function nm(t,e){return De(t[0]-e[0])<ve&&De(t[1]-e[1])<ve}function Ap(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function mV(t,e,n,r,i){var o=[],a=[],s,l;if(t.forEach(function(m){if(!((y=m.length-1)<=0)){var y,b=m[0],v=m[y],w;if(nm(b,v)){if(!b[2]&&!v[2]){for(i.lineStart(),s=0;s<y;++s)i.point((b=m[s])[0],b[1]);i.lineEnd();return}v[0]+=2*ve}o.push(w=new Ap(b,m,null,!0)),a.push(w.o=new Ap(b,null,w,!1)),o.push(w=new Ap(v,m,null,!1)),a.push(w.o=new Ap(v,null,w,!0))}}),!!o.length){for(a.sort(e),yR(o),yR(a),s=0,l=a.length;s<l;++s)a[s].e=n=!n;for(var u=o[0],c,f;;){for(var h=u,p=!0;h.v;)if((h=h.n)===u)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(s=0,l=c.length;s<l;++s)i.point((f=c[s])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(c=h.p.z,s=c.length-1;s>=0;--s)i.point((f=c[s])[0],f[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,c=h.z,p=!p}while(!h.v);i.lineEnd()}}}function yR(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Yb(t){return De(t[0])<=Ie?t[0]:vr(t[0])*((De(t[0])+Ie)%Pn-Ie)}function gV(t,e){var n=Yb(e),r=e[1],i=fe(r),o=[fe(n),-me(n),0],a=0,s=0,l=new gn;i===1?r=xt+ve:i===-1&&(r=-xt-ve);for(var u=0,c=t.length;u<c;++u)if(h=(f=t[u]).length)for(var f,h,p=f[h-1],m=Yb(p),y=p[1]/2+iy,b=fe(y),v=me(y),w=0;w<h;++w,m=A,b=P,v=S,p=x){var x=f[w],A=Yb(x),_=x[1]/2+iy,P=fe(_),S=me(_),T=A-m,k=T>=0?1:-1,N=k*T,C=N>Ie,R=b*P;if(l.add(kn(R*k*fe(N),v*S+R*me(N))),a+=C?T+k*Pn:T,C^m>=n^A>=n){var O=Eu(ks(p),ks(x));cy(O);var j=Eu(o,O);cy(j);var $=(C^T>=0?-1:1)*In(j[2]);(r>$||r===$&&(O[0]||O[1]))&&(s+=C^T>=0?1:-1)}}return(a<-ve||a<ve&&l<-Fh)^s&1}function yV(t,e,n,r){return function(i){var o=e(i),a=pV(),s=e(a),l=!1,u,c,f,h={point:p,lineStart:y,lineEnd:b,polygonStart:function(){h.point=v,h.lineStart=w,h.lineEnd=x,c=[],u=[]},polygonEnd:function(){h.point=p,h.lineStart=y,h.lineEnd=b,c=Z6(c);var A=gV(u,r);c.length?(l||(i.polygonStart(),l=!0),mV(c,oEe,A,n,i)):A&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(A,_){t(A,_)&&i.point(A,_)}function m(A,_){o.point(A,_)}function y(){h.point=m,o.lineStart()}function b(){h.point=p,o.lineEnd()}function v(A,_){f.push([A,_]),s.point(A,_)}function w(){s.lineStart(),f=[]}function x(){v(f[0][0],f[0][1]),s.lineEnd();var A=s.clean(),_=a.result(),P,S=_.length,T,k,N;if(f.pop(),u.push(f),f=null,!!S){if(A&1){if(k=_[0],(T=k.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),P=0;P<T;++P)i.point((N=k[P])[0],N[1]);i.lineEnd()}return}S>1&&A&2&&_.push(_.pop().concat(_.shift())),c.push(_.filter(iEe))}}return h}}function iEe(t){return t.length>1}function oEe(t,e){return((t=t.x)[0]<0?t[1]-xt-ve:xt-t[1])-((e=e.x)[0]<0?e[1]-xt-ve:xt-e[1])}const a1=yV(function(){return!0},aEe,lEe,[-Ie,-xt]);function aEe(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var s=o>0?Ie:-Ie,l=De(o-e);De(l-Ie)<ve?(t.point(e,n=(n+a)/2>0?xt:-xt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(o,n),i=0):r!==s&&l>=Ie&&(De(e-r)<ve&&(e-=r*ve),De(o-s)<ve&&(o-=s*ve),n=sEe(e,n,o,a),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),i=0),t.point(e=o,n=a),r=s},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function sEe(t,e,n,r){var i,o,a=fe(t-n);return De(a)>ve?ec((fe(e)*(o=me(r))*fe(n)-fe(r)*(i=me(e))*fe(t))/(i*o*a)):(e+r)/2}function lEe(t,e,n,r){var i;if(t==null)i=n*xt,r.point(-Ie,i),r.point(0,i),r.point(Ie,i),r.point(Ie,0),r.point(Ie,-i),r.point(0,-i),r.point(-Ie,-i),r.point(-Ie,0),r.point(-Ie,i);else if(De(t[0]-e[0])>ve){var o=t[0]<e[0]?Ie:-Ie;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function vV(t){var e=me(t),n=6*be,r=e>0,i=De(e)>ve;function o(c,f,h,p){dV(p,t,n,h,c,f)}function a(c,f){return me(c)*me(f)>e}function s(c){var f,h,p,m,y;return{lineStart:function(){m=p=!1,y=1},point:function(b,v){var w=[b,v],x,A=a(b,v),_=r?A?0:u(b,v):A?u(b+(b<0?Ie:-Ie),v):0;if(!f&&(m=p=A)&&c.lineStart(),A!==p&&(x=l(f,w),(!x||nm(f,x)||nm(w,x))&&(w[2]=1)),A!==p)y=0,A?(c.lineStart(),x=l(w,f),c.point(x[0],x[1])):(x=l(f,w),c.point(x[0],x[1],2),c.lineEnd()),f=x;else if(i&&f&&r^A){var P;!(_&h)&&(P=l(w,f,!0))&&(y=0,r?(c.lineStart(),c.point(P[0][0],P[0][1]),c.point(P[1][0],P[1][1]),c.lineEnd()):(c.point(P[1][0],P[1][1]),c.lineEnd(),c.lineStart(),c.point(P[0][0],P[0][1],3)))}A&&(!f||!nm(f,w))&&c.point(w[0],w[1]),f=w,p=A,h=_},lineEnd:function(){p&&c.lineEnd(),f=null},clean:function(){return y|(m&&p)<<1}}}function l(c,f,h){var p=ks(c),m=ks(f),y=[1,0,0],b=Eu(p,m),v=Sp(b,b),w=b[0],x=v-w*w;if(!x)return!h&&c;var A=e*v/x,_=-e*w/x,P=Eu(y,b),S=Tp(y,A),T=Tp(b,_);Xb(S,T);var k=P,N=Sp(S,k),C=Sp(k,k),R=N*N-C*(Sp(S,S)-1);if(!(R<0)){var O=Xt(R),j=Tp(k,(-N-O)/C);if(Xb(j,S),j=uy(j),!h)return j;var $=c[0],V=f[0],W=c[1],U=f[1],F;V<$&&(F=$,$=V,V=F);var L=V-$,H=De(L-Ie)<ve,X=H||L<ve;if(!H&&U<W&&(F=W,W=U,U=F),X?H?W+U>0^j[1]<(De(j[0]-$)<ve?W:U):W<=j[1]&&j[1]<=U:L>Ie^($<=j[0]&&j[0]<=V)){var K=Tp(k,(-N+O)/C);return Xb(K,S),[j,uy(K)]}}}function u(c,f){var h=r?t:Ie-t,p=0;return c<-h?p|=1:c>h&&(p|=2),f<-h?p|=4:f>h&&(p|=8),p}return yV(a,s,o,r?[0,-t]:[-Ie,t-Ie])}function uEe(t,e,n,r,i,o){var a=t[0],s=t[1],l=e[0],u=e[1],c=0,f=1,h=l-a,p=u-s,m;if(m=n-a,!(!h&&m>0)){if(m/=h,h<0){if(m<c)return;m<f&&(f=m)}else if(h>0){if(m>f)return;m>c&&(c=m)}if(m=i-a,!(!h&&m<0)){if(m/=h,h<0){if(m>f)return;m>c&&(c=m)}else if(h>0){if(m<c)return;m<f&&(f=m)}if(m=r-s,!(!p&&m>0)){if(m/=p,p<0){if(m<c)return;m<f&&(f=m)}else if(p>0){if(m>f)return;m>c&&(c=m)}if(m=o-s,!(!p&&m<0)){if(m/=p,p<0){if(m>f)return;m>c&&(c=m)}else if(p>0){if(m<c)return;m<f&&(f=m)}return c>0&&(t[0]=a+c*h,t[1]=s+c*p),f<1&&(e[0]=a+f*h,e[1]=s+f*p),!0}}}}}var Kc=1e9,Pp=-Kc;function l0(t,e,n,r){function i(u,c){return t<=u&&u<=n&&e<=c&&c<=r}function o(u,c,f,h){var p=0,m=0;if(u==null||(p=a(u,f))!==(m=a(c,f))||l(u,c)<0^f>0)do h.point(p===0||p===3?t:n,p>1?r:e);while((p=(p+f+4)%4)!==m);else h.point(c[0],c[1])}function a(u,c){return De(u[0]-t)<ve?c>0?0:3:De(u[0]-n)<ve?c>0?2:1:De(u[1]-e)<ve?c>0?1:0:c>0?3:2}function s(u,c){return l(u.x,c.x)}function l(u,c){var f=a(u,1),h=a(c,1);return f!==h?f-h:f===0?c[1]-u[1]:f===1?u[0]-c[0]:f===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,f=pV(),h,p,m,y,b,v,w,x,A,_,P,S={point:T,lineStart:R,lineEnd:O,polygonStart:N,polygonEnd:C};function T($,V){i($,V)&&c.point($,V)}function k(){for(var $=0,V=0,W=p.length;V<W;++V)for(var U=p[V],F=1,L=U.length,H=U[0],X,K,ie=H[0],ue=H[1];F<L;++F)X=ie,K=ue,H=U[F],ie=H[0],ue=H[1],K<=r?ue>r&&(ie-X)*(r-K)>(ue-K)*(t-X)&&++$:ue<=r&&(ie-X)*(r-K)<(ue-K)*(t-X)&&--$;return $}function N(){c=f,h=[],p=[],P=!0}function C(){var $=k(),V=P&&$,W=(h=Z6(h)).length;(V||W)&&(u.polygonStart(),V&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),W&&mV(h,s,$,o,u),u.polygonEnd()),c=u,h=p=m=null}function R(){S.point=j,p&&p.push(m=[]),_=!0,A=!1,w=x=NaN}function O(){h&&(j(y,b),v&&A&&f.rejoin(),h.push(f.result())),S.point=T,A&&c.lineEnd()}function j($,V){var W=i($,V);if(p&&m.push([$,V]),_)y=$,b=V,v=W,_=!1,W&&(c.lineStart(),c.point($,V));else if(W&&A)c.point($,V);else{var U=[w=Math.max(Pp,Math.min(Kc,w)),x=Math.max(Pp,Math.min(Kc,x))],F=[$=Math.max(Pp,Math.min(Kc,$)),V=Math.max(Pp,Math.min(Kc,V))];uEe(U,F,t,e,n,r)?(A||(c.lineStart(),c.point(U[0],U[1])),c.point(F[0],F[1]),W||c.lineEnd(),P=!1):W&&(c.lineStart(),c.point($,V),P=!1)}w=$,x=V,A=W}return S}}function cEe(){var t=0,e=0,n=960,r=500,i,o,a;return a={stream:function(s){return i&&o===s?i:i=l0(t,e,n,r)(o=s)},extent:function(s){return arguments.length?(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1],i=o=null,a):[[t,e],[n,r]]}}}var s1,l1,rm,im,Su={sphere:dt,point:dt,lineStart:fEe,lineEnd:dt,polygonStart:dt,polygonEnd:dt};function fEe(){Su.point=dEe,Su.lineEnd=hEe}function hEe(){Su.point=Su.lineEnd=dt}function dEe(t,e){t*=be,e*=be,l1=t,rm=fe(e),im=me(e),Su.point=pEe}function pEe(t,e){t*=be,e*=be;var n=fe(e),r=me(e),i=De(t-l1),o=me(i),a=fe(i),s=r*a,l=im*n-rm*r*o,u=rm*n+im*r*o;s1.add(kn(Xt(s*s+l*l),u)),l1=t,rm=n,im=r}function bV(t){return s1=new gn,Vr(t,Su),+s1}var u1=[null,null],mEe={type:"LineString",coordinates:u1};function vy(t,e){return u1[0]=t,u1[1]=e,bV(mEe)}var vR={Feature:function(t,e){return by(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(by(n[r].geometry,e))return!0;return!1}},bR={Sphere:function(){return!0},Point:function(t,e){return wR(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(wR(n[r],e))return!0;return!1},LineString:function(t,e){return xR(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(xR(n[r],e))return!0;return!1},Polygon:function(t,e){return _R(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(_R(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(by(n[r],e))return!0;return!1}};function by(t,e){return t&&bR.hasOwnProperty(t.type)?bR[t.type](t,e):!1}function wR(t,e){return vy(t,e)===0}function xR(t,e){for(var n,r,i,o=0,a=t.length;o<a;o++){if(r=vy(t[o],e),r===0||o>0&&(i=vy(t[o],t[o-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Fh*i))return!0;n=r}return!1}function _R(t,e){return!!gV(t.map(gEe),wV(e))}function gEe(t){return t=t.map(wV),t.pop(),t}function wV(t){return[t[0]*be,t[1]*be]}function yEe(t,e){return(t&&vR.hasOwnProperty(t.type)?vR[t.type]:by)(t,e)}function ER(t,e,n){var r=vl(t,e-ve,n).concat(e);return function(i){return r.map(function(o){return[i,o]})}}function SR(t,e,n){var r=vl(t,e-ve,n).concat(e);return function(i){return r.map(function(o){return[o,i]})}}function $T(){var t,e,n,r,i,o,a,s,l=10,u=l,c=90,f=360,h,p,m,y,b=2.5;function v(){return{type:"MultiLineString",coordinates:w()}}function w(){return vl(Ep(r/c)*c,n,c).map(m).concat(vl(Ep(s/f)*f,a,f).map(y)).concat(vl(Ep(e/l)*l,t,l).filter(function(x){return De(x%c)>ve}).map(h)).concat(vl(Ep(o/u)*u,i,u).filter(function(x){return De(x%f)>ve}).map(p))}return v.lines=function(){return w().map(function(x){return{type:"LineString",coordinates:x}})},v.outline=function(){return{type:"Polygon",coordinates:[m(r).concat(y(a).slice(1),m(n).reverse().slice(1),y(s).reverse().slice(1))]}},v.extent=function(x){return arguments.length?v.extentMajor(x).extentMinor(x):v.extentMinor()},v.extentMajor=function(x){return arguments.length?(r=+x[0][0],n=+x[1][0],s=+x[0][1],a=+x[1][1],r>n&&(x=r,r=n,n=x),s>a&&(x=s,s=a,a=x),v.precision(b)):[[r,s],[n,a]]},v.extentMinor=function(x){return arguments.length?(e=+x[0][0],t=+x[1][0],o=+x[0][1],i=+x[1][1],e>t&&(x=e,e=t,t=x),o>i&&(x=o,o=i,i=x),v.precision(b)):[[e,o],[t,i]]},v.step=function(x){return arguments.length?v.stepMajor(x).stepMinor(x):v.stepMinor()},v.stepMajor=function(x){return arguments.length?(c=+x[0],f=+x[1],v):[c,f]},v.stepMinor=function(x){return arguments.length?(l=+x[0],u=+x[1],v):[l,u]},v.precision=function(x){return arguments.length?(b=+x,h=ER(o,i,90),p=SR(e,t,b),m=ER(s,a,90),y=SR(r,n,b),v):b},v.extentMajor([[-180,-90+ve],[180,90-ve]]).extentMinor([[-180,-80-ve],[180,80+ve]])}function vEe(){return $T()()}function bEe(t,e){var n=t[0]*be,r=t[1]*be,i=e[0]*be,o=e[1]*be,a=me(r),s=fe(r),l=me(o),u=fe(o),c=a*me(n),f=a*fe(n),h=l*me(i),p=l*fe(i),m=2*In(Xt(iR(o-r)+a*l*iR(i-n))),y=fe(m),b=m?function(v){var w=fe(v*=m)/y,x=fe(m-v)/y,A=x*c+w*h,_=x*f+w*p,P=x*s+w*u;return[kn(_,A)*Ge,kn(P,Xt(A*A+_*_))*Ge]}:function(){return[n*Ge,r*Ge]};return b.distance=m,b}const Uh=t=>t;var Qb=new gn,c1=new gn,xV,_V,f1,h1,$i={point:dt,lineStart:dt,lineEnd:dt,polygonStart:function(){$i.lineStart=wEe,$i.lineEnd=_Ee},polygonEnd:function(){$i.lineStart=$i.lineEnd=$i.point=dt,Qb.add(De(c1)),c1=new gn},result:function(){var t=Qb/2;return Qb=new gn,t}};function wEe(){$i.point=xEe}function xEe(t,e){$i.point=EV,xV=f1=t,_V=h1=e}function EV(t,e){c1.add(h1*t-f1*e),f1=t,h1=e}function _Ee(){EV(xV,_V)}var Tu=1/0,wy=Tu,Bh=-Tu,xy=Bh,_y={point:EEe,lineStart:dt,lineEnd:dt,polygonStart:dt,polygonEnd:dt,result:function(){var t=[[Tu,wy],[Bh,xy]];return Bh=xy=-(wy=Tu=1/0),t}};function EEe(t,e){t<Tu&&(Tu=t),t>Bh&&(Bh=t),e<wy&&(wy=e),e>xy&&(xy=e)}var d1=0,p1=0,Xc=0,Ey=0,Sy=0,bl=0,m1=0,g1=0,Yc=0,SV,TV,ai,si,mr={point:Is,lineStart:TR,lineEnd:AR,polygonStart:function(){mr.lineStart=AEe,mr.lineEnd=PEe},polygonEnd:function(){mr.point=Is,mr.lineStart=TR,mr.lineEnd=AR},result:function(){var t=Yc?[m1/Yc,g1/Yc]:bl?[Ey/bl,Sy/bl]:Xc?[d1/Xc,p1/Xc]:[NaN,NaN];return d1=p1=Xc=Ey=Sy=bl=m1=g1=Yc=0,t}};function Is(t,e){d1+=t,p1+=e,++Xc}function TR(){mr.point=SEe}function SEe(t,e){mr.point=TEe,Is(ai=t,si=e)}function TEe(t,e){var n=t-ai,r=e-si,i=Xt(n*n+r*r);Ey+=i*(ai+t)/2,Sy+=i*(si+e)/2,bl+=i,Is(ai=t,si=e)}function AR(){mr.point=Is}function AEe(){mr.point=kEe}function PEe(){AV(SV,TV)}function kEe(t,e){mr.point=AV,Is(SV=ai=t,TV=si=e)}function AV(t,e){var n=t-ai,r=e-si,i=Xt(n*n+r*r);Ey+=i*(ai+t)/2,Sy+=i*(si+e)/2,bl+=i,i=si*t-ai*e,m1+=i*(ai+t),g1+=i*(si+e),Yc+=i*3,Is(ai=t,si=e)}function PV(t){this._context=t}PV.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Pn);break}}},result:dt};var y1=new gn,Jb,kV,IV,Qc,Jc,zh={point:dt,lineStart:function(){zh.point=IEe},lineEnd:function(){Jb&&OV(kV,IV),zh.point=dt},polygonStart:function(){Jb=!0},polygonEnd:function(){Jb=null},result:function(){var t=+y1;return y1=new gn,t}};function IEe(t,e){zh.point=OV,kV=Qc=t,IV=Jc=e}function OV(t,e){Qc-=t,Jc-=e,y1.add(Xt(Qc*Qc+Jc*Jc)),Qc=t,Jc=e}function CV(){this._string=[]}CV.prototype={_radius:4.5,_circle:PR(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._string.push("M",t,",",e),this._point=1;break}case 1:{this._string.push("L",t,",",e);break}default:{this._circle==null&&(this._circle=PR(this._radius)),this._string.push("M",t,",",e,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function PR(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function NV(t,e){var n=4.5,r,i;function o(a){return a&&(typeof n=="function"&&i.pointRadius(+n.apply(this,arguments)),Vr(a,r(i))),i.result()}return o.area=function(a){return Vr(a,r($i)),$i.result()},o.measure=function(a){return Vr(a,r(zh)),zh.result()},o.bounds=function(a){return Vr(a,r(_y)),_y.result()},o.centroid=function(a){return Vr(a,r(mr)),mr.result()},o.projection=function(a){return arguments.length?(r=a==null?(t=null,Uh):(t=a).stream,o):t},o.context=function(a){return arguments.length?(i=a==null?(e=null,new CV):new PV(e=a),typeof n!="function"&&i.pointRadius(n),o):e},o.pointRadius=function(a){return arguments.length?(n=typeof a=="function"?a:(i.pointRadius(+a),+a),o):n},o.projection(t).context(e)}function OEe(t){return{stream:wd(t)}}function wd(t){return function(e){var n=new v1;for(var r in t)n[r]=t[r];return n.stream=e,n}}function v1(){}v1.prototype={constructor:v1,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function DT(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Vr(n,t.stream(_y)),e(_y.result()),r!=null&&t.clipExtent(r),t}function u0(t,e,n){return DT(t,function(r){var i=e[1][0]-e[0][0],o=e[1][1]-e[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),s=+e[0][0]+(i-a*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(o-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,l])},n)}function LT(t,e,n){return u0(t,[[0,0],e],n)}function VT(t,e,n){return DT(t,function(r){var i=+e,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,s=-o*r[0][1];t.scale(150*o).translate([a,s])},n)}function FT(t,e,n){return DT(t,function(r){var i=+e,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],s=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,s])},n)}var kR=16,CEe=me(30*be);function IR(t,e){return+e?REe(t,e):NEe(t)}function NEe(t){return wd({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function REe(t,e){function n(r,i,o,a,s,l,u,c,f,h,p,m,y,b){var v=u-r,w=c-i,x=v*v+w*w;if(x>4*e&&y--){var A=a+h,_=s+p,P=l+m,S=Xt(A*A+_*_+P*P),T=In(P/=S),k=De(De(P)-1)<ve||De(o-f)<ve?(o+f)/2:kn(_,A),N=t(k,T),C=N[0],R=N[1],O=C-r,j=R-i,$=w*O-v*j;($*$/x>e||De((v*O+w*j)/x-.5)>.3||a*h+s*p+l*m<CEe)&&(n(r,i,o,a,s,l,C,R,k,A/=S,_/=S,P,y,b),b.point(C,R),n(C,R,k,A,_,P,u,c,f,h,p,m,y,b))}}return function(r){var i,o,a,s,l,u,c,f,h,p,m,y,b={point:v,lineStart:w,lineEnd:A,polygonStart:function(){r.polygonStart(),b.lineStart=_},polygonEnd:function(){r.polygonEnd(),b.lineStart=w}};function v(T,k){T=t(T,k),r.point(T[0],T[1])}function w(){f=NaN,b.point=x,r.lineStart()}function x(T,k){var N=ks([T,k]),C=t(T,k);n(f,h,c,p,m,y,f=C[0],h=C[1],c=T,p=N[0],m=N[1],y=N[2],kR,r),r.point(f,h)}function A(){b.point=v,r.lineEnd()}function _(){w(),b.point=P,b.lineEnd=S}function P(T,k){x(i=T,k),o=f,a=h,s=p,l=m,u=y,b.point=x}function S(){n(f,h,c,p,m,y,o,a,i,s,l,u,kR,r),b.lineEnd=A,A()}return b}}var jEe=wd({point:function(t,e){this.stream.point(t*be,e*be)}});function MEe(t){return wd({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function $Ee(t,e,n,r,i){function o(a,s){return a*=r,s*=i,[e+t*a,n-t*s]}return o.invert=function(a,s){return[(a-e)/t*r,(n-s)/t*i]},o}function OR(t,e,n,r,i,o){if(!o)return $Ee(t,e,n,r,i);var a=me(o),s=fe(o),l=a*t,u=s*t,c=a/t,f=s/t,h=(s*n-a*e)/t,p=(s*e+a*n)/t;function m(y,b){return y*=r,b*=i,[l*y-u*b+e,n-u*y-l*b]}return m.invert=function(y,b){return[r*(c*y-f*b+h),i*(p-f*y-c*b)]},m}function ki(t){return UT(function(){return t})()}function UT(t){var e,n=150,r=480,i=250,o=0,a=0,s=0,l=0,u=0,c,f=0,h=1,p=1,m=null,y=a1,b=null,v,w,x,A=Uh,_=.5,P,S,T,k,N;function C($){return T($[0]*be,$[1]*be)}function R($){return $=T.invert($[0],$[1]),$&&[$[0]*Ge,$[1]*Ge]}C.stream=function($){return k&&N===$?k:k=jEe(MEe(c)(y(P(A(N=$)))))},C.preclip=function($){return arguments.length?(y=$,m=void 0,j()):y},C.postclip=function($){return arguments.length?(A=$,b=v=w=x=null,j()):A},C.clipAngle=function($){return arguments.length?(y=+$?vV(m=$*be):(m=null,a1),j()):m*Ge},C.clipExtent=function($){return arguments.length?(A=$==null?(b=v=w=x=null,Uh):l0(b=+$[0][0],v=+$[0][1],w=+$[1][0],x=+$[1][1]),j()):b==null?null:[[b,v],[w,x]]},C.scale=function($){return arguments.length?(n=+$,O()):n},C.translate=function($){return arguments.length?(r=+$[0],i=+$[1],O()):[r,i]},C.center=function($){return arguments.length?(o=$[0]%360*be,a=$[1]%360*be,O()):[o*Ge,a*Ge]},C.rotate=function($){return arguments.length?(s=$[0]%360*be,l=$[1]%360*be,u=$.length>2?$[2]%360*be:0,O()):[s*Ge,l*Ge,u*Ge]},C.angle=function($){return arguments.length?(f=$%360*be,O()):f*Ge},C.reflectX=function($){return arguments.length?(h=$?-1:1,O()):h<0},C.reflectY=function($){return arguments.length?(p=$?-1:1,O()):p<0},C.precision=function($){return arguments.length?(P=IR(S,_=$*$),j()):Xt(_)},C.fitExtent=function($,V){return u0(C,$,V)},C.fitSize=function($,V){return LT(C,$,V)},C.fitWidth=function($,V){return VT(C,$,V)},C.fitHeight=function($,V){return FT(C,$,V)};function O(){var $=OR(n,0,0,h,p,f).apply(null,e(o,a)),V=OR(n,r-$[0],i-$[1],h,p,f);return c=MT(s,l,u),S=i1(e,V),T=i1(c,S),P=IR(S,_),j()}function j(){return k=N=null,C}return function(){return e=t.apply(this,arguments),C.invert=e.invert&&R,O()}}function BT(t){var e=0,n=Ie/3,r=UT(t),i=r(e,n);return i.parallels=function(o){return arguments.length?r(e=o[0]*be,n=o[1]*be):[e*Ge,n*Ge]},i}function DEe(t){var e=me(t);function n(r,i){return[r*e,fe(i)/e]}return n.invert=function(r,i){return[r/e,In(i*e)]},n}function RV(t,e){var n=fe(t),r=(n+fe(e))/2;if(De(r)<ve)return DEe(t);var i=1+n*(2*r-n),o=Xt(i)/r;function a(s,l){var u=Xt(i-2*r*fe(l))/r;return[u*fe(s*=r),o-u*me(s)]}return a.invert=function(s,l){var u=o-l,c=kn(s,De(u))*vr(u);return u*r<0&&(c-=Ie*vr(s)*vr(u)),[c/r,In((i-(s*s+u*u)*r*r)/(2*r))]},a}function Ty(){return BT(RV).scale(155.424).center([0,33.6442])}function jV(){return Ty().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function LEe(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function VEe(){var t,e,n=jV(),r,i=Ty().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=Ty().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,l,u={point:function(h,p){l=[h,p]}};function c(h){var p=h[0],m=h[1];return l=null,r.point(p,m),l||(o.point(p,m),l)||(s.point(p,m),l)}c.invert=function(h){var p=n.scale(),m=n.translate(),y=(h[0]-m[0])/p,b=(h[1]-m[1])/p;return(b>=.12&&b<.234&&y>=-.425&&y<-.214?i:b>=.166&&b<.234&&y>=-.214&&y<-.115?a:n).invert(h)},c.stream=function(h){return t&&e===h?t:t=LEe([n.stream(e=h),i.stream(h),a.stream(h)])},c.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),a.precision(h),f()):n.precision()},c.scale=function(h){return arguments.length?(n.scale(h),i.scale(h*.35),a.scale(h),c.translate(n.translate())):n.scale()},c.translate=function(h){if(!arguments.length)return n.translate();var p=n.scale(),m=+h[0],y=+h[1];return r=n.translate(h).clipExtent([[m-.455*p,y-.238*p],[m+.455*p,y+.238*p]]).stream(u),o=i.translate([m-.307*p,y+.201*p]).clipExtent([[m-.425*p+ve,y+.12*p+ve],[m-.214*p-ve,y+.234*p-ve]]).stream(u),s=a.translate([m-.205*p,y+.212*p]).clipExtent([[m-.214*p+ve,y+.166*p+ve],[m-.115*p-ve,y+.234*p-ve]]).stream(u),f()},c.fitExtent=function(h,p){return u0(c,h,p)},c.fitSize=function(h,p){return LT(c,h,p)},c.fitWidth=function(h,p){return VT(c,h,p)},c.fitHeight=function(h,p){return FT(c,h,p)};function f(){return t=e=null,c}return c.scale(1070)}function MV(t){return function(e,n){var r=me(e),i=me(n),o=t(r*i);return o===1/0?[2,0]:[o*i*fe(e),o*fe(n)]}}function xd(t){return function(e,n){var r=Xt(e*e+n*n),i=t(r),o=fe(i),a=me(i);return[kn(e*o,r*a),In(r&&n*o/r)]}}var zT=MV(function(t){return Xt(2/(1+t))});zT.invert=xd(function(t){return 2*In(t/2)});function FEe(){return ki(zT).scale(124.75).clipAngle(180-.001)}var WT=MV(function(t){return(t=tV(t))&&t/fe(t)});WT.invert=xd(function(t){return t});function UEe(){return ki(WT).scale(79.4188).clipAngle(180-.001)}function _d(t,e){return[t,oy(RT((xt+e)/2))]}_d.invert=function(t,e){return[t,2*ec(eV(e))-xt]};function BEe(){return $V(_d).scale(961/Pn)}function $V(t){var e=ki(t),n=e.center,r=e.scale,i=e.translate,o=e.clipExtent,a=null,s,l,u;e.scale=function(f){return arguments.length?(r(f),c()):r()},e.translate=function(f){return arguments.length?(i(f),c()):i()},e.center=function(f){return arguments.length?(n(f),c()):n()},e.clipExtent=function(f){return arguments.length?(f==null?a=s=l=u=null:(a=+f[0][0],s=+f[0][1],l=+f[1][0],u=+f[1][1]),c()):a==null?null:[[a,s],[l,u]]};function c(){var f=Ie*r(),h=e(hV(e.rotate()).invert([0,0]));return o(a==null?[[h[0]-f,h[1]-f],[h[0]+f,h[1]+f]]:t===_d?[[Math.max(h[0]-f,a),s],[Math.min(h[0]+f,l),u]]:[[a,Math.max(h[1]-f,s)],[l,Math.min(h[1]+f,u)]])}return c()}function kp(t){return RT((xt+t)/2)}function DV(t,e){var n=me(t),r=t===e?fe(t):oy(n/me(e))/oy(kp(e)/kp(t)),i=n*Kb(kp(t),r)/r;if(!r)return _d;function o(a,s){i>0?s<-xt+ve&&(s=-xt+ve):s>xt-ve&&(s=xt-ve);var l=i/Kb(kp(s),r);return[l*fe(r*a),i-l*me(r*a)]}return o.invert=function(a,s){var l=i-s,u=vr(r)*Xt(a*a+l*l),c=kn(a,De(l))*vr(l);return l*r<0&&(c-=Ie*vr(a)*vr(l)),[c/r,2*ec(Kb(i/u,1/r))-xt]},o}function zEe(){return BT(DV).scale(109.5).parallels([30,30])}function Wh(t,e){return[t,e]}Wh.invert=Wh;function WEe(){return ki(Wh).scale(152.63)}function LV(t,e){var n=me(t),r=t===e?fe(t):(n-me(e))/(e-t),i=n/r+t;if(De(r)<ve)return Wh;function o(a,s){var l=i-s,u=r*a;return[l*fe(u),i-l*me(u)]}return o.invert=function(a,s){var l=i-s,u=kn(a,De(l))*vr(l);return l*r<0&&(u-=Ie*vr(a)*vr(l)),[u/r,i-vr(r)*Xt(a*a+l*l)]},o}function qEe(){return BT(LV).scale(131.154).center([0,13.9389])}var Ef=1.340264,Sf=-.081106,Tf=893e-6,Af=.003796,Ay=Xt(3)/2,HEe=12;function qT(t,e){var n=In(Ay*fe(e)),r=n*n,i=r*r*r;return[t*me(n)/(Ay*(Ef+3*Sf*r+i*(7*Tf+9*Af*r))),n*(Ef+Sf*r+i*(Tf+Af*r))]}qT.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,o=0,a,s,l;o<HEe&&(s=n*(Ef+Sf*r+i*(Tf+Af*r))-e,l=Ef+3*Sf*r+i*(7*Tf+9*Af*r),n-=a=s/l,r=n*n,i=r*r*r,!(De(a)<Fh));++o);return[Ay*t*(Ef+3*Sf*r+i*(7*Tf+9*Af*r))/me(n),In(fe(n)/Ay)]};function GEe(){return ki(qT).scale(177.158)}function HT(t,e){var n=me(e),r=me(t)*n;return[n*fe(t)/r,fe(e)/r]}HT.invert=xd(ec);function KEe(){return ki(HT).scale(144.049).clipAngle(60)}function XEe(){var t=1,e=0,n=0,r=1,i=1,o=0,a,s,l=null,u,c,f,h=1,p=1,m=wd({point:function(A,_){var P=x([A,_]);this.stream.point(P[0],P[1])}}),y=Uh,b,v;function w(){return h=t*r,p=t*i,b=v=null,x}function x(A){var _=A[0]*h,P=A[1]*p;if(o){var S=P*a-_*s;_=_*a+P*s,P=S}return[_+e,P+n]}return x.invert=function(A){var _=A[0]-e,P=A[1]-n;if(o){var S=P*a+_*s;_=_*a-P*s,P=S}return[_/h,P/p]},x.stream=function(A){return b&&v===A?b:b=m(y(v=A))},x.postclip=function(A){return arguments.length?(y=A,l=u=c=f=null,w()):y},x.clipExtent=function(A){return arguments.length?(y=A==null?(l=u=c=f=null,Uh):l0(l=+A[0][0],u=+A[0][1],c=+A[1][0],f=+A[1][1]),w()):l==null?null:[[l,u],[c,f]]},x.scale=function(A){return arguments.length?(t=+A,w()):t},x.translate=function(A){return arguments.length?(e=+A[0],n=+A[1],w()):[e,n]},x.angle=function(A){return arguments.length?(o=A%360*be,s=fe(o),a=me(o),w()):o*Ge},x.reflectX=function(A){return arguments.length?(r=A?-1:1,w()):r<0},x.reflectY=function(A){return arguments.length?(i=A?-1:1,w()):i<0},x.fitExtent=function(A,_){return u0(x,A,_)},x.fitSize=function(A,_){return LT(x,A,_)},x.fitWidth=function(A,_){return VT(x,A,_)},x.fitHeight=function(A,_){return FT(x,A,_)},x}function GT(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}GT.invert=function(t,e){var n=e,r=25,i;do{var o=n*n,a=o*o;n-=i=(n*(1.007226+o*(.015085+a*(-.044475+.028874*o-.005916*a)))-e)/(1.007226+o*(.015085*3+a*(-.044475*7+.028874*9*o-.005916*11*a)))}while(De(i)>ve&&--r>0);return[t/(.8707+(o=n*n)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),n]};function YEe(){return ki(GT).scale(175.295)}function KT(t,e){return[me(e)*fe(t),fe(e)]}KT.invert=xd(In);function QEe(){return ki(KT).scale(249.5).clipAngle(90+ve)}function XT(t,e){var n=me(e),r=1+me(t)*n;return[n*fe(t)/r,fe(e)/r]}XT.invert=xd(function(t){return 2*ec(t)});function JEe(){return ki(XT).scale(250).clipAngle(142)}function YT(t,e){return[oy(RT((xt+e)/2)),-t]}YT.invert=function(t,e){return[-e,2*ec(eV(t))-xt]};function ZEe(){var t=$V(YT),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}const eSe=Object.freeze(Object.defineProperty({__proto__:null,geoAlbers:jV,geoAlbersUsa:VEe,geoArea:H1e,geoAzimuthalEqualArea:FEe,geoAzimuthalEqualAreaRaw:zT,geoAzimuthalEquidistant:UEe,geoAzimuthalEquidistantRaw:WT,geoBounds:Y1e,geoCentroid:nEe,geoCircle:rEe,geoClipAntimeridian:a1,geoClipCircle:vV,geoClipExtent:cEe,geoClipRectangle:l0,geoConicConformal:zEe,geoConicConformalRaw:DV,geoConicEqualArea:Ty,geoConicEqualAreaRaw:RV,geoConicEquidistant:qEe,geoConicEquidistantRaw:LV,geoContains:yEe,geoDistance:vy,geoEqualEarth:GEe,geoEqualEarthRaw:qT,geoEquirectangular:WEe,geoEquirectangularRaw:Wh,geoGnomonic:KEe,geoGnomonicRaw:HT,geoGraticule:$T,geoGraticule10:vEe,geoIdentity:XEe,geoInterpolate:bEe,geoLength:bV,geoMercator:BEe,geoMercatorRaw:_d,geoNaturalEarth1:YEe,geoNaturalEarth1Raw:GT,geoOrthographic:QEe,geoOrthographicRaw:KT,geoPath:NV,geoProjection:ki,geoProjectionMutator:UT,geoRotation:hV,geoStereographic:JEe,geoStereographicRaw:XT,geoStream:Vr,geoTransform:OEe,geoTransverseMercator:ZEe,geoTransverseMercatorRaw:YT},Symbol.toStringTag,{value:"Module"}));function tSe(t){return t}function nSe(t){if(t==null)return tSe;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(s,l){l||(e=n=0);var u=2,c=s.length,f=new Array(c);for(f[0]=(e+=s[0])*r+o,f[1]=(n+=s[1])*i+a;u<c;)f[u]=s[u],++u;return f}}function rSe(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}function iSe(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return CR(t,n)})}:CR(t,e)}function CR(t,e){var n=e.id,r=e.bbox,i=e.properties==null?{}:e.properties,o=VV(t,e);return n==null&&r==null?{type:"Feature",properties:i,geometry:o}:r==null?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function VV(t,e){var n=nSe(t.transform),r=t.arcs;function i(c,f){f.length&&f.pop();for(var h=r[c<0?~c:c],p=0,m=h.length;p<m;++p)f.push(n(h[p],p));c<0&&rSe(f,m)}function o(c){return n(c)}function a(c){for(var f=[],h=0,p=c.length;h<p;++h)i(c[h],f);return f.length<2&&f.push(f[0]),f}function s(c){for(var f=a(c);f.length<4;)f.push(f[0]);return f}function l(c){return c.map(s)}function u(c){var f=c.type,h;switch(f){case"GeometryCollection":return{type:f,geometries:c.geometries.map(u)};case"Point":h=o(c.coordinates);break;case"MultiPoint":h=c.coordinates.map(o);break;case"LineString":h=a(c.arcs);break;case"MultiLineString":h=c.arcs.map(a);break;case"Polygon":h=l(c.arcs);break;case"MultiPolygon":h=c.arcs.map(l);break;default:return null}return{type:f,coordinates:h}}return u(e)}function oSe(t,e){var n={},r={},i={},o=[],a=-1;e.forEach(function(u,c){var f=t.arcs[u<0?~u:u],h;f.length<3&&!f[1][0]&&!f[1][1]&&(h=e[++a],e[a]=u,e[c]=h)}),e.forEach(function(u){var c=s(u),f=c[0],h=c[1],p,m;if(p=i[f])if(delete i[p.end],p.push(u),p.end=h,m=r[h]){delete r[m.start];var y=m===p?p:p.concat(m);r[y.start=p.start]=i[y.end=m.end]=y}else r[p.start]=i[p.end]=p;else if(p=r[h])if(delete r[p.start],p.unshift(u),p.start=f,m=i[f]){delete i[m.end];var b=m===p?p:m.concat(p);r[b.start=m.start]=i[b.end=p.end]=b}else r[p.start]=i[p.end]=p;else p=[u],r[p.start=f]=i[p.end=h]=p});function s(u){var c=t.arcs[u<0?~u:u],f=c[0],h;return t.transform?(h=[0,0],c.forEach(function(p){h[0]+=p[0],h[1]+=p[1]})):h=c[c.length-1],u<0?[h,f]:[f,h]}function l(u,c){for(var f in u){var h=u[f];delete c[h.start],delete h.start,delete h.end,h.forEach(function(p){n[p<0?~p:p]=1}),o.push(h)}}return l(i,r),l(r,i),e.forEach(function(u){n[u<0?~u:u]||o.push([u])}),o}function NR(t){return VV(t,aSe.apply(this,arguments))}function aSe(t,e,n){var r,i,o;if(arguments.length>1)r=sSe(t,e,n);else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:oSe(t,r)}}function sSe(t,e,n){var r=[],i=[],o;function a(f){var h=f<0?~f:f;(i[h]||(i[h]=[])).push({i:f,g:o})}function s(f){f.forEach(a)}function l(f){f.forEach(s)}function u(f){f.forEach(l)}function c(f){switch(o=f,f.type){case"GeometryCollection":f.geometries.forEach(c);break;case"LineString":s(f.arcs);break;case"MultiLineString":case"Polygon":l(f.arcs);break;case"MultiPolygon":u(f.arcs);break}}return c(e),i.forEach(n==null?function(f){r.push(f[0].i)}:function(f){n(f[0].g,f[f.length-1].g)&&r.push(f[0].i)}),r}var lSe={value:()=>{}};function QT(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new om(n)}function om(t){this._=t}function uSe(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}om.prototype=QT.prototype={constructor:om,on:function(t,e){var n=this._,r=uSe(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=cSe(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=RR(n[i],t.name,e);else if(e==null)for(i in n)n[i]=RR(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new om(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function cSe(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function RR(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=lSe,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var b1="http://www.w3.org/1999/xhtml";const jR={svg:"http://www.w3.org/2000/svg",xhtml:b1,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function c0(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),jR.hasOwnProperty(e)?{space:jR[e],local:t}:t}function fSe(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===b1&&e.documentElement.namespaceURI===b1?e.createElement(t):e.createElementNS(n,t)}}function hSe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function FV(t){var e=c0(t);return(e.local?hSe:fSe)(e)}function dSe(){}function JT(t){return t==null?dSe:function(){return this.querySelector(t)}}function pSe(t){typeof t!="function"&&(t=JT(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),l,u,c=0;c<a;++c)(l=o[c])&&(u=t.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new Bn(r,this._parents)}function UV(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function mSe(){return[]}function BV(t){return t==null?mSe:function(){return this.querySelectorAll(t)}}function gSe(t){return function(){var e=t.apply(this,arguments);return e==null?[]:UV(e)}}function ySe(t){typeof t=="function"?t=gSe(t):t=BV(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(r.push(t.call(l,l.__data__,u,a)),i.push(l));return new Bn(r,i)}function zV(t){return function(){return this.matches(t)}}function WV(t){return function(e){return e.matches(t)}}var vSe=Array.prototype.find;function bSe(t){return function(){return vSe.call(this.children,t)}}function wSe(){return this.firstElementChild}function xSe(t){return this.select(t==null?wSe:bSe(typeof t=="function"?t:WV(t)))}var _Se=Array.prototype.filter;function ESe(){return this.children}function SSe(t){return function(){return _Se.call(this.children,t)}}function TSe(t){return this.selectAll(t==null?ESe:SSe(typeof t=="function"?t:WV(t)))}function ASe(t){typeof t!="function"&&(t=zV(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&s.push(l);return new Bn(r,this._parents)}function qV(t){return new Array(t.length)}function PSe(){return new Bn(this._enter||this._groups.map(qV),this._parents)}function Py(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Py.prototype={constructor:Py,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function kSe(t){return function(){return t}}function ISe(t,e,n,r,i,o){for(var a=0,s,l=e.length,u=o.length;a<u;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new Py(t,o[a]);for(;a<l;++a)(s=e[a])&&(i[a]=s)}function OSe(t,e,n,r,i,o,a){var s,l,u=new Map,c=e.length,f=o.length,h=new Array(c),p;for(s=0;s<c;++s)(l=e[s])&&(h[s]=p=a.call(l,l.__data__,s,e)+"",u.has(p)?i[s]=l:u.set(p,l));for(s=0;s<f;++s)p=a.call(t,o[s],s,o)+"",(l=u.get(p))?(r[s]=l,l.__data__=o[s],u.delete(p)):n[s]=new Py(t,o[s]);for(s=0;s<c;++s)(l=e[s])&&u.get(h[s])===l&&(i[s]=l)}function CSe(t){return t.__data__}function NSe(t,e){if(!arguments.length)return Array.from(this,CSe);var n=e?OSe:ISe,r=this._parents,i=this._groups;typeof t!="function"&&(t=kSe(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],f=i[u],h=f.length,p=UV(t.call(c,c&&c.__data__,u,r)),m=p.length,y=s[u]=new Array(m),b=a[u]=new Array(m),v=l[u]=new Array(h);n(c,f,y,b,v,p,e);for(var w=0,x=0,A,_;w<m;++w)if(A=y[w]){for(w>=x&&(x=w+1);!(_=b[x])&&++x<m;);A._next=_||null}}return a=new Bn(a,r),a._enter=s,a._exit=l,a}function RSe(){return new Bn(this._exit||this._groups.map(qV),this._parents)}function jSe(t,e,n){var r=this.enter(),i=this,o=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),e!=null&&(i=e(i)),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function MSe(t){if(!(t instanceof Bn))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=e[s],u=n[s],c=l.length,f=a[s]=new Array(c),h,p=0;p<c;++p)(h=l[p]||u[p])&&(f[p]=h);for(;s<r;++s)a[s]=e[s];return new Bn(a,this._parents)}function $Se(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function DSe(t){t||(t=LSe);function e(f,h){return f&&h?t(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,l=i[o]=new Array(s),u,c=0;c<s;++c)(u=a[c])&&(l[c]=u);l.sort(e)}return new Bn(i,this._parents).order()}function LSe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function VSe(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function FSe(){return Array.from(this)}function USe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function BSe(){let t=0;for(const e of this)++t;return t}function zSe(){return!this.node()}function WSe(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function qSe(t){return function(){this.removeAttribute(t)}}function HSe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function GSe(t,e){return function(){this.setAttribute(t,e)}}function KSe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function XSe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function YSe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function QSe(t,e){var n=c0(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?HSe:qSe:typeof e=="function"?n.local?YSe:XSe:n.local?KSe:GSe)(n,e))}function HV(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function JSe(t){return function(){this.style.removeProperty(t)}}function ZSe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function eTe(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function tTe(t,e,n){return arguments.length>1?this.each((e==null?JSe:typeof e=="function"?eTe:ZSe)(t,e,n??"")):Au(this.node(),t)}function Au(t,e){return t.style.getPropertyValue(e)||HV(t).getComputedStyle(t,null).getPropertyValue(e)}function nTe(t){return function(){delete this[t]}}function rTe(t,e){return function(){this[t]=e}}function iTe(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function oTe(t,e){return arguments.length>1?this.each((e==null?nTe:typeof e=="function"?iTe:rTe)(t,e)):this.node()[t]}function GV(t){return t.trim().split(/^|\s+/)}function ZT(t){return t.classList||new KV(t)}function KV(t){this._node=t,this._names=GV(t.getAttribute("class")||"")}KV.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function XV(t,e){for(var n=ZT(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function YV(t,e){for(var n=ZT(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function aTe(t){return function(){XV(this,t)}}function sTe(t){return function(){YV(this,t)}}function lTe(t,e){return function(){(e.apply(this,arguments)?XV:YV)(this,t)}}function uTe(t,e){var n=GV(t+"");if(arguments.length<2){for(var r=ZT(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?lTe:e?aTe:sTe)(n,e))}function cTe(){this.textContent=""}function fTe(t){return function(){this.textContent=t}}function hTe(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function dTe(t){return arguments.length?this.each(t==null?cTe:(typeof t=="function"?hTe:fTe)(t)):this.node().textContent}function pTe(){this.innerHTML=""}function mTe(t){return function(){this.innerHTML=t}}function gTe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function yTe(t){return arguments.length?this.each(t==null?pTe:(typeof t=="function"?gTe:mTe)(t)):this.node().innerHTML}function vTe(){this.nextSibling&&this.parentNode.appendChild(this)}function bTe(){return this.each(vTe)}function wTe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xTe(){return this.each(wTe)}function _Te(t){var e=typeof t=="function"?t:FV(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function ETe(){return null}function STe(t,e){var n=typeof t=="function"?t:FV(t),r=e==null?ETe:typeof e=="function"?e:JT(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function TTe(){var t=this.parentNode;t&&t.removeChild(this)}function ATe(){return this.each(TTe)}function PTe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function kTe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ITe(t){return this.select(t?kTe:PTe)}function OTe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function CTe(t){return function(e){t.call(this,e,this.__data__)}}function NTe(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function RTe(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function jTe(t,e,n){return function(){var r=this.__on,i,o=CTe(e);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function MTe(t,e,n){var r=NTe(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=e?jTe:RTe,i=0;i<o;++i)this.each(s(r[i],e,n));return this}function QV(t,e,n){var r=HV(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function $Te(t,e){return function(){return QV(this,t,e)}}function DTe(t,e){return function(){return QV(this,t,e.apply(this,arguments))}}function LTe(t,e){return this.each((typeof e=="function"?DTe:$Te)(t,e))}function*VTe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var JV=[null];function Bn(t,e){this._groups=t,this._parents=e}function Ed(){return new Bn([[document.documentElement]],JV)}function FTe(){return this}Bn.prototype=Ed.prototype={constructor:Bn,select:pSe,selectAll:ySe,selectChild:xSe,selectChildren:TSe,filter:ASe,data:NSe,enter:PSe,exit:RSe,join:jSe,merge:MSe,selection:FTe,order:$Se,sort:DSe,call:VSe,nodes:FSe,node:USe,size:BSe,empty:zSe,each:WSe,attr:QSe,style:tTe,property:oTe,classed:uTe,text:dTe,html:yTe,raise:bTe,lower:xTe,append:_Te,insert:STe,remove:ATe,clone:ITe,datum:OTe,on:MTe,dispatch:LTe,[Symbol.iterator]:VTe};function Di(t){return typeof t=="string"?new Bn([[document.querySelector(t)]],[document.documentElement]):new Bn([[t]],JV)}function UTe(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Da(t,e){if(t=UTe(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function w1(t){t.preventDefault(),t.stopImmediatePropagation()}function BTe(t){var e=t.document.documentElement,n=Di(t).on("dragstart.drag",w1,!0);"onselectstart"in e?n.on("selectstart.drag",w1,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function zTe(t,e){var n=t.document.documentElement,r=Di(t).on("dragstart.drag",null);e&&(r.on("click.drag",w1,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var WTe=1e-12;function MR(t){return((t=Math.exp(t))+1/t)/2}function qTe(t){return((t=Math.exp(t))-1/t)/2}function HTe(t){return((t=Math.exp(2*t))-1)/(t+1)}const GTe=function t(e,n,r){function i(o,a){var s=o[0],l=o[1],u=o[2],c=a[0],f=a[1],h=a[2],p=c-s,m=f-l,y=p*p+m*m,b,v;if(y<WTe)v=Math.log(h/u)/e,b=function(S){return[s+S*p,l+S*m,u*Math.exp(e*S*v)]};else{var w=Math.sqrt(y),x=(h*h-u*u+r*y)/(2*u*n*w),A=(h*h-u*u-r*y)/(2*h*n*w),_=Math.log(Math.sqrt(x*x+1)-x),P=Math.log(Math.sqrt(A*A+1)-A);v=(P-_)/e,b=function(S){var T=S*v,k=MR(_),N=u/(n*w)*(k*HTe(e*T+_)-qTe(_));return[s+N*p,l+N*m,u*k/MR(e*T+_)]}}return b.duration=v*1e3*e/Math.SQRT2,b}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,l=s*s;return t(a,s,l)},i}(Math.SQRT2,2,4);var Pu=0,Zc=0,Mc=0,ZV=1e3,ky,ef,Iy=0,Os=0,f0=0,qh=typeof performance=="object"&&performance.now?performance:Date,eF=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function eA(){return Os||(eF(KTe),Os=qh.now()+f0)}function KTe(){Os=0}function Oy(){this._call=this._time=this._next=null}Oy.prototype=tF.prototype={constructor:Oy,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?eA():+n)+(e==null?0:+e),!this._next&&ef!==this&&(ef?ef._next=this:ky=this,ef=this),this._call=t,this._time=n,x1()},stop:function(){this._call&&(this._call=null,this._time=1/0,x1())}};function tF(t,e,n){var r=new Oy;return r.restart(t,e,n),r}function XTe(){eA(),++Pu;for(var t=ky,e;t;)(e=Os-t._time)>=0&&t._call.call(null,e),t=t._next;--Pu}function $R(){Os=(Iy=qh.now())+f0,Pu=Zc=0;try{XTe()}finally{Pu=0,QTe(),Os=0}}function YTe(){var t=qh.now(),e=t-Iy;e>ZV&&(f0-=e,Iy=t)}function QTe(){for(var t,e=ky,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ky=n);ef=t,x1(r)}function x1(t){if(!Pu){Zc&&(Zc=clearTimeout(Zc));var e=t-Os;e>24?(t<1/0&&(Zc=setTimeout($R,t-qh.now()-f0)),Mc&&(Mc=clearInterval(Mc))):(Mc||(Iy=qh.now(),Mc=setInterval(YTe,ZV)),Pu=1,eF($R))}}function DR(t,e,n){var r=new Oy;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var JTe=QT("start","end","cancel","interrupt"),ZTe=[],nF=0,LR=1,_1=2,am=3,VR=4,E1=5,sm=6;function h0(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;eAe(t,n,{name:e,index:r,group:i,on:JTe,tween:ZTe,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:nF})}function tA(t,e){var n=Jr(t,e);if(n.state>nF)throw new Error("too late; already scheduled");return n}function Ii(t,e){var n=Jr(t,e);if(n.state>am)throw new Error("too late; already running");return n}function Jr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function eAe(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=tF(o,0,n.time);function o(u){n.state=LR,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,f,h,p;if(n.state!==LR)return l();for(c in r)if(p=r[c],p.name===n.name){if(p.state===am)return DR(a);p.state===VR?(p.state=sm,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[c]):+c<e&&(p.state=sm,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[c])}if(DR(function(){n.state===am&&(n.state=VR,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=_1,n.on.call("start",t,t.__data__,n.index,n.group),n.state===_1){for(n.state=am,i=new Array(h=n.tween.length),c=0,f=-1;c<h;++c)(p=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=p);i.length=f+1}}function s(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=E1,1),f=-1,h=i.length;++f<h;)i[f].call(t,c);n.state===E1&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=sm,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function lm(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>_1&&r.state<E1,r.state=sm,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function tAe(t){return this.each(function(){lm(this,t)})}function nA(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function rF(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Sd(){}var Hh=.7,Cy=1/Hh,Vl="\\s*([+-]?\\d+)\\s*",Gh="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",xi="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nAe=/^#([0-9a-f]{3,8})$/,rAe=new RegExp("^rgb\\("+[Vl,Vl,Vl]+"\\)$"),iAe=new RegExp("^rgb\\("+[xi,xi,xi]+"\\)$"),oAe=new RegExp("^rgba\\("+[Vl,Vl,Vl,Gh]+"\\)$"),aAe=new RegExp("^rgba\\("+[xi,xi,xi,Gh]+"\\)$"),sAe=new RegExp("^hsl\\("+[Gh,xi,xi]+"\\)$"),lAe=new RegExp("^hsla\\("+[Gh,xi,xi,Gh]+"\\)$"),FR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nA(Sd,Kh,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:UR,formatHex:UR,formatHsl:uAe,formatRgb:BR,toString:BR});function UR(){return this.rgb().formatHex()}function uAe(){return iF(this).formatHsl()}function BR(){return this.rgb().formatRgb()}function Kh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=nAe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?zR(e):n===3?new er(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ip(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ip(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=rAe.exec(t))?new er(e[1],e[2],e[3],1):(e=iAe.exec(t))?new er(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=oAe.exec(t))?Ip(e[1],e[2],e[3],e[4]):(e=aAe.exec(t))?Ip(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=sAe.exec(t))?HR(e[1],e[2]/100,e[3]/100,1):(e=lAe.exec(t))?HR(e[1],e[2]/100,e[3]/100,e[4]):FR.hasOwnProperty(t)?zR(FR[t]):t==="transparent"?new er(NaN,NaN,NaN,0):null}function zR(t){return new er(t>>16&255,t>>8&255,t&255,1)}function Ip(t,e,n,r){return r<=0&&(t=e=n=NaN),new er(t,e,n,r)}function cAe(t){return t instanceof Sd||(t=Kh(t)),t?(t=t.rgb(),new er(t.r,t.g,t.b,t.opacity)):new er}function S1(t,e,n,r){return arguments.length===1?cAe(t):new er(t,e,n,r??1)}function er(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}nA(er,S1,rF(Sd,{brighter:function(t){return t=t==null?Cy:Math.pow(Cy,t),new er(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?Hh:Math.pow(Hh,t),new er(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:WR,formatHex:WR,formatRgb:qR,toString:qR}));function WR(){return"#"+Zb(this.r)+Zb(this.g)+Zb(this.b)}function qR(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function Zb(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function HR(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new li(t,e,n,r)}function iF(t){if(t instanceof li)return new li(t.h,t.s,t.l,t.opacity);if(t instanceof Sd||(t=Kh(t)),!t)return new li;if(t instanceof li)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new li(a,s,l,t.opacity)}function fAe(t,e,n,r){return arguments.length===1?iF(t):new li(t,e,n,r??1)}function li(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}nA(li,fAe,rF(Sd,{brighter:function(t){return t=t==null?Cy:Math.pow(Cy,t),new li(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Hh:Math.pow(Hh,t),new li(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new er(ew(t>=240?t-240:t+120,i,r),ew(t,i,r),ew(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function ew(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const oF=t=>()=>t;function hAe(t,e){return function(n){return t+n*e}}function dAe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function pAe(t){return(t=+t)==1?aF:function(e,n){return n-e?dAe(e,n,t):oF(isNaN(e)?n:e)}}function aF(t,e){var n=e-t;return n?hAe(t,n):oF(isNaN(t)?e:t)}const GR=function t(e){var n=pAe(e);function r(i,o){var a=n((i=S1(i)).r,(o=S1(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=aF(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Oo(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var T1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tw=new RegExp(T1.source,"g");function mAe(t){return function(){return t}}function gAe(t){return function(e){return t(e)+""}}function yAe(t,e){var n=T1.lastIndex=tw.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=T1.exec(t))&&(i=tw.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Oo(r,i)})),n=tw.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?gAe(l[0].x):mAe(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}var KR=180/Math.PI,A1={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function sF(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*KR,skewX:Math.atan(l)*KR,scaleX:a,scaleY:s}}var Op;function vAe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?A1:sF(e.a,e.b,e.c,e.d,e.e,e.f)}function bAe(t){return t==null||(Op||(Op=document.createElementNS("http://www.w3.org/2000/svg","g")),Op.setAttribute("transform",t),!(t=Op.transform.baseVal.consolidate()))?A1:(t=t.matrix,sF(t.a,t.b,t.c,t.d,t.e,t.f))}function lF(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,f,h,p,m){if(u!==f||c!==h){var y=p.push("translate(",null,e,null,n);m.push({i:y-4,x:Oo(u,f)},{i:y-2,x:Oo(c,h)})}else(f||h)&&p.push("translate("+f+e+h+n)}function a(u,c,f,h){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Oo(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function s(u,c,f,h){u!==c?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Oo(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,h,p,m){if(u!==f||c!==h){var y=p.push(i(p)+"scale(",null,",",null,")");m.push({i:y-4,x:Oo(u,f)},{i:y-2,x:Oo(c,h)})}else(f!==1||h!==1)&&p.push(i(p)+"scale("+f+","+h+")")}return function(u,c){var f=[],h=[];return u=t(u),c=t(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,h),a(u.rotate,c.rotate,f,h),s(u.skewX,c.skewX,f,h),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,h),u=c=null,function(p){for(var m=-1,y=h.length,b;++m<y;)f[(b=h[m]).i]=b.x(p);return f.join("")}}}var wAe=lF(vAe,"px, ","px)","deg)"),xAe=lF(bAe,", ",")",")");function _Ae(t,e){var n,r;return function(){var i=Ii(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function EAe(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Ii(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=s;break}l===u&&i.push(s)}o.tween=i}}function SAe(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Jr(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?_Ae:EAe)(n,t,e))}function rA(t,e,n){var r=t._id;return t.each(function(){var i=Ii(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Jr(i,r).value[e]}}function uF(t,e){var n;return(typeof e=="number"?Oo:e instanceof Kh?GR:(n=Kh(e))?(e=n,GR):yAe)(t,e)}function TAe(t){return function(){this.removeAttribute(t)}}function AAe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function PAe(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function kAe(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function IAe(t,e,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s)))}}function OAe(t,e,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s)))}}function CAe(t,e){var n=c0(t),r=n==="transform"?xAe:uF;return this.attrTween(t,typeof e=="function"?(n.local?OAe:IAe)(n,r,rA(this,"attr."+t,e)):e==null?(n.local?AAe:TAe)(n):(n.local?kAe:PAe)(n,r,e))}function NAe(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function RAe(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function jAe(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&RAe(t,o)),n}return i._value=e,i}function MAe(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&NAe(t,o)),n}return i._value=e,i}function $Ae(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=c0(t);return this.tween(n,(r.local?jAe:MAe)(r,e))}function DAe(t,e){return function(){tA(this,t).delay=+e.apply(this,arguments)}}function LAe(t,e){return e=+e,function(){tA(this,t).delay=e}}function VAe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?DAe:LAe)(e,t)):Jr(this.node(),e).delay}function FAe(t,e){return function(){Ii(this,t).duration=+e.apply(this,arguments)}}function UAe(t,e){return e=+e,function(){Ii(this,t).duration=e}}function BAe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?FAe:UAe)(e,t)):Jr(this.node(),e).duration}function zAe(t,e){if(typeof e!="function")throw new Error;return function(){Ii(this,t).ease=e}}function WAe(t){var e=this._id;return arguments.length?this.each(zAe(e,t)):Jr(this.node(),e).ease}function qAe(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ii(this,t).ease=n}}function HAe(t){if(typeof t!="function")throw new Error;return this.each(qAe(this._id,t))}function GAe(t){typeof t!="function"&&(t=zV(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&s.push(l);return new co(r,this._parents,this._name,this._id)}function KAe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=e[s],u=n[s],c=l.length,f=a[s]=new Array(c),h,p=0;p<c;++p)(h=l[p]||u[p])&&(f[p]=h);for(;s<r;++s)a[s]=e[s];return new co(a,this._parents,this._name,this._id)}function XAe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function YAe(t,e,n){var r,i,o=XAe(e)?tA:Ii;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function QAe(t,e){var n=this._id;return arguments.length<2?Jr(this.node(),n).on.on(t):this.each(YAe(n,t,e))}function JAe(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function ZAe(){return this.on("end.remove",JAe(this._id))}function ePe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=JT(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],l=s.length,u=o[a]=new Array(l),c,f,h=0;h<l;++h)(c=s[h])&&(f=t.call(c,c.__data__,h,s))&&("__data__"in c&&(f.__data__=c.__data__),u[h]=f,h0(u[h],e,n,h,u,Jr(c,n)));return new co(o,this._parents,e,n)}function tPe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=BV(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l=r[s],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var h=t.call(c,c.__data__,f,l),p,m=Jr(c,n),y=0,b=h.length;y<b;++y)(p=h[y])&&h0(p,e,n,y,h,m);o.push(h),a.push(c)}return new co(o,a,e,n)}var nPe=Ed.prototype.constructor;function rPe(){return new nPe(this._groups,this._parents)}function iPe(t,e){var n,r,i;return function(){var o=Au(this,t),a=(this.style.removeProperty(t),Au(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function cF(t){return function(){this.style.removeProperty(t)}}function oPe(t,e,n){var r,i=n+"",o;return function(){var a=Au(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function aPe(t,e,n){var r,i,o;return function(){var a=Au(this,t),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),Au(this,t))),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s))}}function sPe(t,e){var n,r,i,o="style."+e,a="end."+o,s;return function(){var l=Ii(this,t),u=l.on,c=l.value[o]==null?s||(s=cF(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(a,i=c),l.on=r}}function lPe(t,e,n){var r=(t+="")=="transform"?wAe:uF;return e==null?this.styleTween(t,iPe(t,r)).on("end.style."+t,cF(t)):typeof e=="function"?this.styleTween(t,aPe(t,r,rA(this,"style."+t,e))).each(sPe(this._id,t)):this.styleTween(t,oPe(t,r,e),n).on("end.style."+t,null)}function uPe(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function cPe(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&uPe(t,a,n)),r}return o._value=e,o}function fPe(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,cPe(t,e,n??""))}function hPe(t){return function(){this.textContent=t}}function dPe(t){return function(){var e=t(this);this.textContent=e??""}}function pPe(t){return this.tween("text",typeof t=="function"?dPe(rA(this,"text",t)):hPe(t==null?"":t+""))}function mPe(t){return function(e){this.textContent=t.call(this,e)}}function gPe(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&mPe(i)),e}return r._value=t,r}function yPe(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,gPe(t))}function vPe(){for(var t=this._name,e=this._id,n=fF(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)if(l=a[u]){var c=Jr(l,e);h0(l,t,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new co(r,this._parents,t,n)}function bPe(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i===0&&o()}};n.each(function(){var u=Ii(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),u.on=e}),i===0&&o()})}var wPe=0;function co(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function fF(){return++wPe}var La=Ed.prototype;co.prototype={constructor:co,select:ePe,selectAll:tPe,filter:GAe,merge:KAe,selection:rPe,transition:vPe,call:La.call,nodes:La.nodes,node:La.node,size:La.size,empty:La.empty,each:La.each,on:QAe,attr:CAe,attrTween:$Ae,style:lPe,styleTween:fPe,text:pPe,textTween:yPe,remove:ZAe,tween:SAe,delay:VAe,duration:BAe,ease:WAe,easeVarying:HAe,end:bPe,[Symbol.iterator]:La[Symbol.iterator]};function xPe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var _Pe={time:null,delay:0,duration:250,ease:xPe};function EPe(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function SPe(t){var e,n;t instanceof co?(e=t._id,t=t._name):(e=fF(),(n=_Pe).time=eA(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&h0(l,t,e,u,a,n||EPe(l,e));return new co(r,this._parents,t,e)}Ed.prototype.interrupt=tAe;Ed.prototype.transition=SPe;const Cp=t=>()=>t;function TPe(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function qi(t,e,n){this.k=t,this.x=e,this.y=n}qi.prototype={constructor:qi,scale:function(t){return t===1?this:new qi(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new qi(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var iA=new qi(1,0,0);qi.prototype;function nw(t){t.stopImmediatePropagation()}function $c(t){t.preventDefault(),t.stopImmediatePropagation()}function APe(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function PPe(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function XR(){return this.__zoom||iA}function kPe(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function IPe(){return navigator.maxTouchPoints||"ontouchstart"in this}function OPe(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function CPe(){var t=APe,e=PPe,n=OPe,r=kPe,i=IPe,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=GTe,u=QT("start","zoom","end"),c,f,h,p=500,m=150,y=0,b=10;function v(j){j.property("__zoom",XR).on("wheel.zoom",T).on("mousedown.zoom",k).on("dblclick.zoom",N).filter(i).on("touchstart.zoom",C).on("touchmove.zoom",R).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(j,$,V,W){var U=j.selection?j.selection():j;U.property("__zoom",XR),j!==U?_(j,$,V,W):U.interrupt().each(function(){P(this,arguments).event(W).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},v.scaleBy=function(j,$,V,W){v.scaleTo(j,function(){var U=this.__zoom.k,F=typeof $=="function"?$.apply(this,arguments):$;return U*F},V,W)},v.scaleTo=function(j,$,V,W){v.transform(j,function(){var U=e.apply(this,arguments),F=this.__zoom,L=V==null?A(U):typeof V=="function"?V.apply(this,arguments):V,H=F.invert(L),X=typeof $=="function"?$.apply(this,arguments):$;return n(x(w(F,X),L,H),U,a)},V,W)},v.translateBy=function(j,$,V,W){v.transform(j,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof V=="function"?V.apply(this,arguments):V),e.apply(this,arguments),a)},null,W)},v.translateTo=function(j,$,V,W,U){v.transform(j,function(){var F=e.apply(this,arguments),L=this.__zoom,H=W==null?A(F):typeof W=="function"?W.apply(this,arguments):W;return n(iA.translate(H[0],H[1]).scale(L.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof V=="function"?-V.apply(this,arguments):-V),F,a)},W,U)};function w(j,$){return $=Math.max(o[0],Math.min(o[1],$)),$===j.k?j:new qi($,j.x,j.y)}function x(j,$,V){var W=$[0]-V[0]*j.k,U=$[1]-V[1]*j.k;return W===j.x&&U===j.y?j:new qi(j.k,W,U)}function A(j){return[(+j[0][0]+ +j[1][0])/2,(+j[0][1]+ +j[1][1])/2]}function _(j,$,V,W){j.on("start.zoom",function(){P(this,arguments).event(W).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(W).end()}).tween("zoom",function(){var U=this,F=arguments,L=P(U,F).event(W),H=e.apply(U,F),X=V==null?A(H):typeof V=="function"?V.apply(U,F):V,K=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),ie=U.__zoom,ue=typeof $=="function"?$.apply(U,F):$,ne=l(ie.invert(X).concat(K/ie.k),ue.invert(X).concat(K/ue.k));return function(pe){if(pe===1)pe=ue;else{var Ee=ne(pe),re=K/Ee[2];pe=new qi(re,X[0]-Ee[0]*re,X[1]-Ee[1]*re)}L.zoom(null,pe)}})}function P(j,$,V){return!V&&j.__zooming||new S(j,$)}function S(j,$){this.that=j,this.args=$,this.active=0,this.sourceEvent=null,this.extent=e.apply(j,$),this.taps=0}S.prototype={event:function(j){return j&&(this.sourceEvent=j),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(j,$){return this.mouse&&j!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&j!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&j!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(j){var $=Di(this.that).datum();u.call(j,this.that,new TPe(j,{sourceEvent:this.sourceEvent,target:v,transform:this.that.__zoom,dispatch:u}),$)}};function T(j,...$){if(!t.apply(this,arguments))return;var V=P(this,$).event(j),W=this.__zoom,U=Math.max(o[0],Math.min(o[1],W.k*Math.pow(2,r.apply(this,arguments)))),F=Da(j);if(V.wheel)(V.mouse[0][0]!==F[0]||V.mouse[0][1]!==F[1])&&(V.mouse[1]=W.invert(V.mouse[0]=F)),clearTimeout(V.wheel);else{if(W.k===U)return;V.mouse=[F,W.invert(F)],lm(this),V.start()}$c(j),V.wheel=setTimeout(L,m),V.zoom("mouse",n(x(w(W,U),V.mouse[0],V.mouse[1]),V.extent,a));function L(){V.wheel=null,V.end()}}function k(j,...$){if(h||!t.apply(this,arguments))return;var V=P(this,$,!0).event(j),W=Di(j.view).on("mousemove.zoom",X,!0).on("mouseup.zoom",K,!0),U=Da(j,F),F=j.currentTarget,L=j.clientX,H=j.clientY;BTe(j.view),nw(j),V.mouse=[U,this.__zoom.invert(U)],lm(this),V.start();function X(ie){if($c(ie),!V.moved){var ue=ie.clientX-L,ne=ie.clientY-H;V.moved=ue*ue+ne*ne>y}V.event(ie).zoom("mouse",n(x(V.that.__zoom,V.mouse[0]=Da(ie,F),V.mouse[1]),V.extent,a))}function K(ie){W.on("mousemove.zoom mouseup.zoom",null),zTe(ie.view,V.moved),$c(ie),V.event(ie).end()}}function N(j,...$){if(t.apply(this,arguments)){var V=this.__zoom,W=Da(j.changedTouches?j.changedTouches[0]:j,this),U=V.invert(W),F=V.k*(j.shiftKey?.5:2),L=n(x(w(V,F),W,U),e.apply(this,$),a);$c(j),s>0?Di(this).transition().duration(s).call(_,L,W,j):Di(this).call(v.transform,L,W,j)}}function C(j,...$){if(t.apply(this,arguments)){var V=j.touches,W=V.length,U=P(this,$,j.changedTouches.length===W).event(j),F,L,H,X;for(nw(j),L=0;L<W;++L)H=V[L],X=Da(H,this),X=[X,this.__zoom.invert(X),H.identifier],U.touch0?!U.touch1&&U.touch0[2]!==X[2]&&(U.touch1=X,U.taps=0):(U.touch0=X,F=!0,U.taps=1+!!c);c&&(c=clearTimeout(c)),F&&(U.taps<2&&(f=X[0],c=setTimeout(function(){c=null},p)),lm(this),U.start())}}function R(j,...$){if(this.__zooming){var V=P(this,$).event(j),W=j.changedTouches,U=W.length,F,L,H,X;for($c(j),F=0;F<U;++F)L=W[F],H=Da(L,this),V.touch0&&V.touch0[2]===L.identifier?V.touch0[0]=H:V.touch1&&V.touch1[2]===L.identifier&&(V.touch1[0]=H);if(L=V.that.__zoom,V.touch1){var K=V.touch0[0],ie=V.touch0[1],ue=V.touch1[0],ne=V.touch1[1],pe=(pe=ue[0]-K[0])*pe+(pe=ue[1]-K[1])*pe,Ee=(Ee=ne[0]-ie[0])*Ee+(Ee=ne[1]-ie[1])*Ee;L=w(L,Math.sqrt(pe/Ee)),H=[(K[0]+ue[0])/2,(K[1]+ue[1])/2],X=[(ie[0]+ne[0])/2,(ie[1]+ne[1])/2]}else if(V.touch0)H=V.touch0[0],X=V.touch0[1];else return;V.zoom("touch",n(x(L,H,X),V.extent,a))}}function O(j,...$){if(this.__zooming){var V=P(this,$).event(j),W=j.changedTouches,U=W.length,F,L;for(nw(j),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),F=0;F<U;++F)L=W[F],V.touch0&&V.touch0[2]===L.identifier?delete V.touch0:V.touch1&&V.touch1[2]===L.identifier&&delete V.touch1;if(V.touch1&&!V.touch0&&(V.touch0=V.touch1,delete V.touch1),V.touch0)V.touch0[1]=this.__zoom.invert(V.touch0[0]);else if(V.end(),V.taps===2&&(L=Da(L,this),Math.hypot(f[0]-L[0],f[1]-L[1])<b)){var H=Di(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return v.wheelDelta=function(j){return arguments.length?(r=typeof j=="function"?j:Cp(+j),v):r},v.filter=function(j){return arguments.length?(t=typeof j=="function"?j:Cp(!!j),v):t},v.touchable=function(j){return arguments.length?(i=typeof j=="function"?j:Cp(!!j),v):i},v.extent=function(j){return arguments.length?(e=typeof j=="function"?j:Cp([[+j[0][0],+j[0][1]],[+j[1][0],+j[1][1]]]),v):e},v.scaleExtent=function(j){return arguments.length?(o[0]=+j[0],o[1]=+j[1],v):[o[0],o[1]]},v.translateExtent=function(j){return arguments.length?(a[0][0]=+j[0][0],a[1][0]=+j[1][0],a[0][1]=+j[0][1],a[1][1]=+j[1][1],v):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},v.constrain=function(j){return arguments.length?(n=j,v):n},v.duration=function(j){return arguments.length?(s=+j,v):s},v.interpolate=function(j){return arguments.length?(l=j,v):l},v.on=function(){var j=u.on.apply(u,arguments);return j===u?v:j},v.clickDistance=function(j){return arguments.length?(y=(j=+j)*j,v):Math.sqrt(y)},v.tapDistance=function(j){return arguments.length?(b=+j,v):b},v}function YR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(n),!0).forEach(function(r){NPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P1(t){"@babel/helpers - typeof";return P1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P1(t)}function NPe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zn(){return zn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zn.apply(this,arguments)}function RPe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ir(t,e){if(t==null)return{};var n=RPe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function en(t,e){return jPe(t)||MPe(t,e)||$Pe(t,e)||DPe()}function jPe(t){if(Array.isArray(t))return t}function MPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,a,s;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}return r}}function $Pe(t,e){if(t){if(typeof t=="string")return QR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QR(t,e)}}function QR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var LPe=["width","height","projection","projectionConfig"],VPe=NV,FPe=Ir(eSe,["geoPath"]),Oi=D.createContext(),UPe=function(e){var n=e.projectionConfig,r=n===void 0?{}:n,i=e.projection,o=i===void 0?"geoEqualEarth":i,a=e.width,s=a===void 0?800:a,l=e.height,u=l===void 0?600:l,c=typeof o=="function";if(c)return o;var f=FPe[o]().translate([s/2,u/2]),h=[f.center?"center":null,f.rotate?"rotate":null,f.scale?"scale":null,f.parallels?"parallels":null];return h.forEach(function(p){p&&(f=f[p](r[p]||f[p]()))}),f},hF=function(e){var n=e.width,r=e.height,i=e.projection,o=e.projectionConfig,a=Ir(e,LPe),s=o.center||[],l=en(s,2),u=l[0],c=l[1],f=o.rotate||[],h=en(f,3),p=h[0],m=h[1],y=h[2],b=o.parallels||[],v=en(b,2),w=v[0],x=v[1],A=o.scale||null,_=D.useMemo(function(){return UPe({projectionConfig:{center:u||u===0||c||c===0?[u,c]:null,rotate:p||p===0||m||m===0?[p,m,y]:null,parallels:w||w===0||x||x===0?[w,x]:null,scale:A},projection:i,width:n,height:r})},[n,r,i,u,c,p,m,y,w,x,A]),P=D.useCallback(_,[_]),S=D.useMemo(function(){return{width:n,height:r,projection:P,path:VPe().projection(P)}},[n,r,P]);return z.createElement(Oi.Provider,zn({value:S},a))};hF.propTypes={width:Z.number,height:Z.number,projection:Z.oneOfType([Z.string,Z.func]),projectionConfig:Z.object};var BPe=["width","height","projection","projectionConfig","className"],oA=D.forwardRef(function(t,e){var n=t.width,r=n===void 0?800:n,i=t.height,o=i===void 0?600:i,a=t.projection,s=a===void 0?"geoEqualEarth":a,l=t.projectionConfig,u=l===void 0?{}:l,c=t.className,f=c===void 0?"":c,h=Ir(t,BPe);return z.createElement(hF,{width:r,height:o,projection:s,projectionConfig:u},z.createElement("svg",zn({ref:e,viewBox:"0 0 ".concat(r," ").concat(o),className:"rsm-svg ".concat(f)},h)))});oA.displayName="ComposableMap";oA.propTypes={width:Z.number,height:Z.number,projection:Z.oneOfType([Z.string,Z.func]),projectionConfig:Z.object,className:Z.string};function JR(t,e,n){var r=(t*n.k-t)/2,i=(e*n.k-e)/2;return[t/2-(r+n.x)/n.k,e/2-(i+n.y)/n.k]}function zPe(t){return fetch(t).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).catch(function(e){console.log("There was a problem when fetching the data: ",e)})}function ZR(t,e){var n=t.type==="Topology";if(!n)return e?e(t.features||t):t.features||t;var r=iSe(t,t.objects[Object.keys(t.objects)[0]]).features;return e?e(r):r}function ej(t){var e=t.type==="Topology";if(!e)return null;var n=NR(t,t.objects[Object.keys(t.objects)[0]],function(i,o){return i===o}),r=NR(t,t.objects[Object.keys(t.objects)[0]],function(i,o){return i!==o});return{outline:n,borders:r}}function WPe(t,e,n){return t&&e?{outline:wl(wl({},t),{},{rsmKey:"outline",svgPath:n(t)}),borders:wl(wl({},e),{},{rsmKey:"borders",svgPath:n(e)})}:{}}function qPe(t,e){return t?t.map(function(n,r){return wl(wl({},n),{},{rsmKey:"geo-".concat(r),svgPath:e(n)})}):[]}function HPe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:30,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:30,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.5,r=Array.isArray(n)?n:[n,n],i=t/2*r[0],o=e/2*r[1];return"M".concat(0,",",0," Q",-t/2-i,",").concat(-e/2+o," ").concat(-t,",").concat(-e)}function GPe(t){return typeof t=="string"}function KPe(t){var e=t.geography,n=t.parseGeographies,r=D.useContext(Oi),i=r.path,o=D.useState({}),a=en(o,2),s=a[0],l=a[1];D.useEffect(function(){(typeof window>"u"?"undefined":P1(window))!=="undefined"&&e&&(GPe(e)?zPe(e).then(function(p){p&&l({geographies:ZR(p,n),mesh:ej(p)})}):l({geographies:ZR(e,n),mesh:ej(e)}))},[e,n]);var u=D.useMemo(function(){var p=s.mesh||{},m=WPe(p.outline,p.borders,i);return{geographies:qPe(s.geographies,i),outline:m.outline,borders:m.borders}},[s,i]),c=u.geographies,f=u.outline,h=u.borders;return{geographies:c,outline:f,borders:h}}var XPe=["geography","children","parseGeographies","className"],aA=D.forwardRef(function(t,e){var n=t.geography,r=t.children,i=t.parseGeographies,o=t.className,a=o===void 0?"":o,s=Ir(t,XPe),l=D.useContext(Oi),u=l.path,c=l.projection,f=KPe({geography:n,parseGeographies:i}),h=f.geographies,p=f.outline,m=f.borders;return z.createElement("g",zn({ref:e,className:"rsm-geographies ".concat(a)},s),h&&h.length>0&&r({geographies:h,outline:p,borders:m,path:u,projection:c}))});aA.displayName="Geographies";aA.propTypes={geography:Z.oneOfType([Z.string,Z.object,Z.array]),children:Z.func,parseGeographies:Z.func,className:Z.string};var YPe=["geography","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],sA=D.forwardRef(function(t,e){var n=t.geography,r=t.onMouseEnter,i=t.onMouseLeave,o=t.onMouseDown,a=t.onMouseUp,s=t.onFocus,l=t.onBlur,u=t.style,c=u===void 0?{}:u,f=t.className,h=f===void 0?"":f,p=Ir(t,YPe),m=D.useState(!1),y=en(m,2),b=y[0],v=y[1],w=D.useState(!1),x=en(w,2),A=x[0],_=x[1];function P(R){_(!0),r&&r(R)}function S(R){_(!1),b&&v(!1),i&&i(R)}function T(R){_(!0),s&&s(R)}function k(R){_(!1),b&&v(!1),l&&l(R)}function N(R){v(!0),o&&o(R)}function C(R){v(!1),a&&a(R)}return z.createElement("path",zn({ref:e,tabIndex:"0",className:"rsm-geography ".concat(h),d:n.svgPath,onMouseEnter:P,onMouseLeave:S,onFocus:T,onBlur:k,onMouseDown:N,onMouseUp:C,style:c[b||A?b?"pressed":"hover":"default"]},p))});sA.displayName="Geography";sA.propTypes={geography:Z.object,onMouseEnter:Z.func,onMouseLeave:Z.func,onMouseDown:Z.func,onMouseUp:Z.func,onFocus:Z.func,onBlur:Z.func,style:Z.object,className:Z.string};var QPe=D.memo(sA),JPe=["fill","stroke","step","className"],lA=D.forwardRef(function(t,e){var n=t.fill,r=n===void 0?"transparent":n,i=t.stroke,o=i===void 0?"currentcolor":i,a=t.step,s=a===void 0?[10,10]:a,l=t.className,u=l===void 0?"":l,c=Ir(t,JPe),f=D.useContext(Oi),h=f.path;return z.createElement("path",zn({ref:e,d:h($T().step(s)()),fill:r,stroke:o,className:"rsm-graticule ".concat(u)},c))});lA.displayName="Graticule";lA.propTypes={fill:Z.string,stroke:Z.string,step:Z.array,className:Z.string};D.memo(lA);var ZPe=["value"],eke=D.createContext(),tke={x:0,y:0,k:1,transformString:"translate(0 0) scale(1)"},dF=function(e){var n=e.value,r=n===void 0?tke:n,i=Ir(e,ZPe);return z.createElement(eke.Provider,zn({value:r},i))};dF.propTypes={x:Z.number,y:Z.number,k:Z.number,transformString:Z.string};function nke(t){var e=t.center,n=t.filterZoomEvent,r=t.onMoveStart,i=t.onMoveEnd,o=t.onMove,a=t.translateExtent,s=a===void 0?[[-1/0,-1/0],[1/0,1/0]]:a,l=t.scaleExtent,u=l===void 0?[1,8]:l,c=t.zoom,f=c===void 0?1:c,h=D.useContext(Oi),p=h.width,m=h.height,y=h.projection,b=en(e,2),v=b[0],w=b[1],x=D.useState({x:0,y:0,k:1}),A=en(x,2),_=A[0],P=A[1],S=D.useRef({x:0,y:0,k:1}),T=D.useRef(),k=D.useRef(),N=D.useRef(!1),C=en(s,2),R=C[0],O=C[1],j=en(R,2),$=j[0],V=j[1],W=en(O,2),U=W[0],F=W[1],L=en(u,2),H=L[0],X=L[1];return D.useEffect(function(){var K=Di(T.current);function ie(re){!r||N.current||r({coordinates:y.invert(JR(p,m,re.transform)),zoom:re.transform.k},re)}function ue(re){if(!N.current){var B=re.transform,te=re.sourceEvent;P({x:B.x,y:B.y,k:B.k,dragging:te}),o&&o({x:B.x,y:B.y,zoom:B.k,dragging:te},re)}}function ne(re){if(N.current){N.current=!1;return}var B=y.invert(JR(p,m,re.transform)),te=en(B,2),q=te[0],ge=te[1];S.current={x:q,y:ge,k:re.transform.k},i&&i({coordinates:[q,ge],zoom:re.transform.k},re)}function pe(re){return n?n(re):re?!re.ctrlKey&&!re.button:!1}var Ee=CPe().filter(pe).scaleExtent([H,X]).translateExtent([[$,V],[U,F]]).on("start",ie).on("zoom",ue).on("end",ne);k.current=Ee,K.call(Ee)},[p,m,$,V,U,F,H,X,y,r,o,i,n]),D.useEffect(function(){if(!(v===S.current.x&&w===S.current.y&&f===S.current.k)){var K=y([v,w]),ie=K[0]*f,ue=K[1]*f,ne=Di(T.current);N.current=!0,ne.call(k.current.transform,iA.translate(p/2-ie,m/2-ue).scale(f)),P({x:p/2-ie,y:m/2-ue,k:f}),S.current={x:v,y:w,k:f}}},[v,w,f,p,m,y]),{mapRef:T,position:_,transformString:"translate(".concat(_.x," ").concat(_.y,") scale(").concat(_.k,")")}}var rke=["center","zoom","minZoom","maxZoom","translateExtent","filterZoomEvent","onMoveStart","onMove","onMoveEnd","className"],uA=D.forwardRef(function(t,e){var n=t.center,r=n===void 0?[0,0]:n,i=t.zoom,o=i===void 0?1:i,a=t.minZoom,s=a===void 0?1:a,l=t.maxZoom,u=l===void 0?8:l,c=t.translateExtent,f=t.filterZoomEvent,h=t.onMoveStart,p=t.onMove,m=t.onMoveEnd,y=t.className,b=Ir(t,rke),v=D.useContext(Oi),w=v.width,x=v.height,A=nke({center:r,filterZoomEvent:f,onMoveStart:h,onMove:p,onMoveEnd:m,scaleExtent:[s,u],translateExtent:c,zoom:o}),_=A.mapRef,P=A.transformString,S=A.position;return z.createElement(dF,{value:{x:S.x,y:S.y,k:S.k,transformString:P}},z.createElement("g",{ref:_},z.createElement("rect",{width:w,height:x,fill:"transparent"}),z.createElement("g",zn({ref:e,transform:P,className:"rsm-zoomable-group ".concat(y)},b))))});uA.displayName="ZoomableGroup";uA.propTypes={center:Z.array,zoom:Z.number,minZoom:Z.number,maxZoom:Z.number,translateExtent:Z.arrayOf(Z.array),onMoveStart:Z.func,onMove:Z.func,onMoveEnd:Z.func,className:Z.string};var ike=["id","fill","stroke","strokeWidth","className"],cA=D.forwardRef(function(t,e){var n=t.id,r=n===void 0?"rsm-sphere":n,i=t.fill,o=i===void 0?"transparent":i,a=t.stroke,s=a===void 0?"currentcolor":a,l=t.strokeWidth,u=l===void 0?.5:l,c=t.className,f=c===void 0?"":c,h=Ir(t,ike),p=D.useContext(Oi),m=p.path,y=D.useMemo(function(){return m({type:"Sphere"})},[m]);return z.createElement(D.Fragment,null,z.createElement("defs",null,z.createElement("clipPath",{id:r},z.createElement("path",{d:y}))),z.createElement("path",zn({ref:e,d:y,fill:o,stroke:s,strokeWidth:u,style:{pointerEvents:"none"},className:"rsm-sphere ".concat(f)},h)))});cA.displayName="Sphere";cA.propTypes={id:Z.string,fill:Z.string,stroke:Z.string,strokeWidth:Z.number,className:Z.string};D.memo(cA);var oke=["coordinates","children","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],pF=D.forwardRef(function(t,e){var n=t.coordinates,r=t.children,i=t.onMouseEnter,o=t.onMouseLeave,a=t.onMouseDown,s=t.onMouseUp,l=t.onFocus,u=t.onBlur,c=t.style,f=c===void 0?{}:c,h=t.className,p=h===void 0?"":h,m=Ir(t,oke),y=D.useContext(Oi),b=y.projection,v=D.useState(!1),w=en(v,2),x=w[0],A=w[1],_=D.useState(!1),P=en(_,2),S=P[0],T=P[1],k=b(n),N=en(k,2),C=N[0],R=N[1];function O(F){T(!0),i&&i(F)}function j(F){T(!1),x&&A(!1),o&&o(F)}function $(F){T(!0),l&&l(F)}function V(F){T(!1),x&&A(!1),u&&u(F)}function W(F){A(!0),a&&a(F)}function U(F){A(!1),s&&s(F)}return z.createElement("g",zn({ref:e,transform:"translate(".concat(C,", ").concat(R,")"),className:"rsm-marker ".concat(p),onMouseEnter:O,onMouseLeave:j,onFocus:$,onBlur:V,onMouseDown:W,onMouseUp:U,style:f[x||S?x?"pressed":"hover":"default"]},m),r)});pF.displayName="Marker";pF.propTypes={coordinates:Z.array,children:Z.oneOfType([Z.node,Z.arrayOf(Z.node)]),onMouseEnter:Z.func,onMouseLeave:Z.func,onMouseDown:Z.func,onMouseUp:Z.func,onFocus:Z.func,onBlur:Z.func,style:Z.object,className:Z.string};var ake=["from","to","coordinates","stroke","strokeWidth","fill","className"],mF=D.forwardRef(function(t,e){var n=t.from,r=n===void 0?[0,0]:n,i=t.to,o=i===void 0?[0,0]:i,a=t.coordinates,s=t.stroke,l=s===void 0?"currentcolor":s,u=t.strokeWidth,c=u===void 0?3:u,f=t.fill,h=f===void 0?"transparent":f,p=t.className,m=p===void 0?"":p,y=Ir(t,ake),b=D.useContext(Oi),v=b.path,w={type:"LineString",coordinates:a||[r,o]};return z.createElement("path",zn({ref:e,d:v(w),className:"rsm-line ".concat(m),stroke:l,strokeWidth:c,fill:h},y))});mF.displayName="Line";mF.propTypes={from:Z.array,to:Z.array,coordinates:Z.array,stroke:Z.string,strokeWidth:Z.number,fill:Z.string,className:Z.string};var ske=["subject","children","connectorProps","dx","dy","curve","className"],gF=D.forwardRef(function(t,e){var n=t.subject,r=t.children,i=t.connectorProps,o=t.dx,a=o===void 0?30:o,s=t.dy,l=s===void 0?30:s,u=t.curve,c=u===void 0?0:u,f=t.className,h=f===void 0?"":f,p=Ir(t,ske),m=D.useContext(Oi),y=m.projection,b=y(n),v=en(b,2),w=v[0],x=v[1],A=HPe(a,l,c);return z.createElement("g",zn({ref:e,transform:"translate(".concat(w+a,", ").concat(x+l,")"),className:"rsm-annotation ".concat(h)},p),z.createElement("path",zn({d:A,fill:"transparent",stroke:"#000"},i)),r)});gF.displayName="Annotation";gF.propTypes={subject:Z.array,children:Z.oneOfType([Z.node,Z.arrayOf(Z.node)]),dx:Z.number,dy:Z.number,curve:Z.number,connectorProps:Z.object,className:Z.string};const lke="https://raw.githubusercontent.com/samateja/D3topoJson/master/iraq.json",uke=({data:t})=>{const[e,n]=D.useState(!0),[r,i]=D.useState(!1),o=D.useMemo(()=>{const s=Object.values(t);return s.length>0?Math.max(...s):0},[t]),a=mh().domain([0,o||1]).range(["#F1F5F9","#4338ca"]);return g.jsxs("div",{className:"w-full h-[400px] bg-slate-50 dark:bg-slate-900/50 rounded-2xl overflow-hidden relative flex items-center justify-center border border-slate-100 dark:border-slate-800",children:[e&&!r&&g.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-slate-400 bg-slate-50 dark:bg-slate-900 z-10",children:g.jsxs("div",{className:"flex flex-col items-center gap-2",children:[g.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"}),g.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Loading Map Data..."})]})}),r&&g.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-slate-400 bg-slate-50 dark:bg-slate-900 z-10 p-4 text-center",children:[g.jsx("p",{className:"font-bold",children:"Map data unavailable"}),g.jsx("p",{className:"text-xs mt-2",children:"Check internet connection or data source."})]}),g.jsx(oA,{projection:"geoMercator",projectionConfig:{scale:2800,center:[44.5,33.5]},className:"w-full h-full",height:400,width:600,children:g.jsx(uA,{zoom:1,maxZoom:3,children:g.jsx(aA,{geography:lke,onGeographyLoad:()=>{n(!1),i(!1)},onGeographyError:s=>{console.error("Map Load Error:",s),n(!1),i(!0)},children:({geographies:s})=>s.map(l=>{const u=l.properties.name||"",c=p=>p.toLowerCase().replace(/[^a-z0-9]/g,""),f=Object.keys(t).find(p=>{const m=c(u),y=c(p);return m.includes(y)||y.includes(m)}),h=f?t[f]:0;return g.jsx(QPe,{geography:l,fill:h>0?a(h):"#F1F5F9",stroke:"#cbd5e1",strokeWidth:.5,style:{default:{outline:"none",transition:"all 250ms"},hover:{fill:"#F59E0B",outline:"none",stroke:"#fff",strokeWidth:2,cursor:"pointer"},pressed:{outline:"none"}},title:`${u}: ${h} Orders`},l.rsmKey)})})})}),g.jsxs("div",{className:"absolute bottom-4 right-4 bg-white/90 dark:bg-slate-800/90 backdrop-blur p-3 rounded-xl shadow-lg border border-slate-100 dark:border-slate-700 text-xs text-slate-500 z-20 pointer-events-none",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:"w-3 h-3 bg-[#4338ca] rounded-sm"})," High Order Volume"]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"w-3 h-3 bg-[#E0E7FF] rounded-sm"})," Low Order Volume"]})]})]})},oa=["Al Anbar","Babil","Baghdad","Basra","Dhi Qar","Al-Qadisiyyah","Diyala","Duhok","Erbil","Karbala","Kirkuk","Maysan","Muthanna","Najaf","Nineveh","Saladin","Sulaymaniyah","Wasit"],Fl=["Facebook","Instagram","TikTok","Snapchat","Telegram","WhatsApp","Other"],cke=()=>{const{products:t,orders:e,customers:n,formatCurrency:r,brand:i}=Ea(),[o,a]=D.useState("All"),[s,l]=D.useState("All"),u=D.useMemo(()=>{let m=e;return s!=="All"&&(m=m.filter(y=>y.customer.governorate===s)),m},[e,o,s]);t.length,D.useMemo(()=>t.reduce((m,y)=>m+y.price*y.stock,0),[t]);const c=D.useMemo(()=>u.reduce((m,y)=>m+y.total,0),[u]),f=D.useMemo(()=>{const m={};return oa.forEach(y=>m[y]=0),e.forEach(y=>{const b=y.customer.governorate;b&&(m[b]=(m[b]||0)+1)}),m},[e]),h=D.useMemo(()=>{let m=0,y="N/A";return Object.entries(f).forEach(([b,v])=>{v>m&&(m=v,y=b)}),{name:y,count:m}},[f]),p=D.useMemo(()=>{const m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],y={};return m.forEach(b=>y[b]=0),u.forEach(b=>{if(!b.date)return;const v=b.date.includes("/")?b.date.split("/"):b.date.split("-");let w;b.date.includes("/")?w=parseInt(v[0])-1:w=parseInt(v[1])-1,!isNaN(w)&&m[w]&&(y[m[w]]+=b.total)}),m.slice(-7).map(b=>({name:b,sales:y[b]}))},[u]);return g.jsxs(cd,{title:"Dashboard",children:[g.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 mb-8 flex flex-wrap gap-4 items-center",children:[g.jsxs("div",{className:"flex items-center gap-2 text-slate-500 font-bold text-sm uppercase",children:[g.jsx(S$,{className:"w-4 h-4"})," Filters:"]}),g.jsxs("select",{value:o,onChange:m=>a(m.target.value),className:"p-2 border border-slate-200 dark:border-slate-600 rounded-lg bg-slate-50 dark:bg-slate-900 dark:text-white text-sm outline-none",children:[g.jsx("option",{value:"All",children:"All Time"}),g.jsx("option",{value:"Jan",children:"January"}),g.jsx("option",{value:"Feb",children:"February"})]}),g.jsxs("select",{value:s,onChange:m=>l(m.target.value),className:"p-2 border border-slate-200 dark:border-slate-600 rounded-lg bg-slate-50 dark:bg-slate-900 dark:text-white text-sm outline-none",children:[g.jsx("option",{value:"All",children:"All Iraq"}),oa.map(m=>g.jsx("option",{value:m,children:m},m))]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[g.jsx(Np,{title:"Total Revenue",value:r(c),change:"+12% vs last month",icon:PB,color:"text-emerald-500 bg-emerald-50 dark:bg-emerald-900/20"}),g.jsx(Np,{title:"Active Orders",value:u.length,change:"+5 new today",icon:LB,color:"text-blue-500 bg-blue-50 dark:bg-blue-900/20"}),g.jsx(Np,{title:"Top Region",value:h.name,change:`${h.count} Orders`,icon:Ak,color:"text-purple-500 bg-purple-50 dark:bg-purple-900/20"}),g.jsx(Np,{title:"Total Customers",value:n.length,change:"+3 this week",icon:PE,color:"text-orange-500 bg-orange-50 dark:bg-orange-900/20"})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[g.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700",children:[g.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[g.jsx(Ak,{className:"w-5 h-5 text-indigo-500"})," Orders by Governorate"]}),g.jsx(uke,{data:f})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700",children:[g.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6",children:"Revenue Trend"}),g.jsx("div",{className:"h-[300px] w-full",children:g.jsx(ffe,{width:"100%",height:"100%",children:g.jsxs(U1e,{data:p,children:[g.jsx("defs",{children:g.jsxs("linearGradient",{id:"colorSales",x1:"0",y1:"0",x2:"0",y2:"1",children:[g.jsx("stop",{offset:"5%",stopColor:i.color,stopOpacity:.3}),g.jsx("stop",{offset:"95%",stopColor:i.color,stopOpacity:0})]})}),g.jsx(j6,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),g.jsx(o0,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},dy:10}),g.jsx(a0,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),g.jsx(ii,{contentStyle:{backgroundColor:"#fff",borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"},itemStyle:{color:"#1e293b"},formatter:m=>r(m)}),g.jsx(Ia,{type:"monotone",dataKey:"sales",stroke:i.color,strokeWidth:3,fillOpacity:1,fill:"url(#colorSales)"})]})})})]})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col h-full",children:[g.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6",children:"Top Selling Products"}),g.jsx("div",{className:"space-y-6 flex-1 overflow-y-auto pr-2 custom-scrollbar",children:t.length>0?t.slice(0,4).map((m,y)=>g.jsxs("div",{className:"flex items-center gap-4 group cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700/50 p-2 rounded-xl transition-colors",children:[g.jsx("div",{className:"w-14 h-14 rounded-xl overflow-hidden bg-slate-100 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 shrink-0",children:g.jsx("img",{src:m.images&&m.images[0]?m.images[0]:"https://via.placeholder.com/150",alt:m.name,className:"w-full h-full object-cover"})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("h4",{className:"text-sm font-bold text-slate-800 dark:text-white truncate group-hover:opacity-80 transition-opacity",style:{color:i.color},children:m.name}),g.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[m.stock," sales"]})]}),g.jsx("div",{className:"text-right",children:g.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-white",children:r(m.price)})})]},y)):g.jsx("p",{className:"text-slate-400 text-center py-10",children:"No products data available"})})]})]})]})},Np=({title:t,value:e,change:n,icon:r,color:i})=>g.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 hover:shadow-md transition-all hover:-translate-y-1",children:[g.jsxs("div",{className:"flex items-start justify-between mb-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-bold text-slate-500 dark:text-slate-400 mb-1",children:t}),g.jsx("h3",{className:"text-xl font-black text-slate-800 dark:text-white tracking-tight",children:e})]}),g.jsx("div",{className:`p-3.5 rounded-2xl ${i}`,children:g.jsx(r,{className:"w-6 h-6"})})]}),g.jsx("div",{className:"flex items-center gap-2",children:g.jsxs("span",{className:"flex items-center text-xs font-bold text-emerald-500 bg-emerald-50 dark:bg-emerald-900/30 px-2.5 py-1 rounded-full border border-emerald-100 dark:border-emerald-800",children:[g.jsx(_B,{className:"w-3 h-3 mr-1"}),n]})})]}),fke=()=>{const{products:t,addProduct:e,updateProduct:n,deleteProduct:r,categories:i,addCategory:o,formatCurrency:a,loading:s,brand:l}=Ea(),[u,c]=D.useState(""),[f,h]=D.useState("All"),[p,m]=D.useState(!1),[y,b]=D.useState(null),[v,w]=D.useState({key:null,direction:"ascending"}),x=D.useRef(null),A={name:"",sku:"",category:"",unitPrice:"",price:"",stock:"",status:"In Stock",images:[]},[_,P]=D.useState(A),[S,T]=D.useState(""),[k,N]=D.useState(!1),R=D.useMemo(()=>{let K=[...t];return v.key&&K.sort((ie,ue)=>{let ne=ie[v.key],pe=ue[v.key];return typeof ne=="string"&&(ne=ne.toLowerCase()),typeof pe=="string"&&(pe=pe.toLowerCase()),ne<pe?v.direction==="ascending"?-1:1:ne>pe?v.direction==="ascending"?1:-1:0}),K},[t,v]).filter(K=>{const ie=K.name.toLowerCase().includes(u.toLowerCase())||K.sku.toLowerCase().includes(u.toLowerCase()),ue=f==="All"||K.category===f;return ie&&ue}),O=K=>{let ie="ascending";v.key===K&&v.direction==="ascending"&&(ie="descending"),w({key:K,direction:ie})},j=()=>{b(null),P(A),m(!0)},$=K=>{b(K),P({...K,images:K.images||[]}),m(!0)},V=K=>{window.confirm("Are you sure you want to delete this product?")&&r(K)},W=K=>{const{name:ie,value:ue}=K.target;ie==="category"&&ue==="new"?(N(!0),P(ne=>({...ne,category:""}))):P(ne=>({...ne,[ie]:ue}))},U=()=>{S.trim()&&(o(S),P(K=>({...K,category:S})),T(""),N(!1))},F=K=>{const ie=Array.from(K.target.files);ie.length!==0&&ie.forEach(ue=>{const ne=new FileReader;ne.onloadend=()=>{P(pe=>({...pe,images:[...pe.images,ne.result]}))},ne.readAsDataURL(ue)})},L=K=>{const ie=_.images.filter((ue,ne)=>ne!==K);P(ue=>({...ue,images:ie}))},H=K=>{K.preventDefault();const ie={..._,unitPrice:parseFloat(_.unitPrice),price:parseFloat(_.price),stock:parseInt(_.stock),images:_.images};y?n({...ie,_id:y._id}):e(ie),m(!1)},X=({column:K})=>v.key!==K?g.jsx(_k,{className:"w-4 h-4 text-slate-300 inline ml-1"}):g.jsx(_k,{className:`w-4 h-4 inline ml-1 ${v.direction==="ascending"?"text-[var(--brand-color)]":"text-[var(--brand-color)] rotate-180"}`});return g.jsxs(cd,{title:"Products",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[g.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[g.jsxs("div",{className:"relative w-full md:w-72",children:[g.jsx(Xy,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",placeholder:"Search products...",value:u,onChange:K=>c(K.target.value),className:"pl-10 pr-4 py-3 w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-sm focus:ring-2 focus:ring-[var(--brand-color)]/20 focus:border-[var(--brand-color)] transition-all outline-none"})]}),g.jsxs("div",{className:"relative w-full md:w-48",children:[g.jsx(S$,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsxs("select",{value:f,onChange:K=>h(K.target.value),className:"pl-10 pr-4 py-3 w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-sm focus:ring-2 focus:ring-[var(--brand-color)]/20 focus:border-[var(--brand-color)] transition-all outline-none appearance-none",children:[g.jsx("option",{value:"All",children:"All Categories"}),i.map(K=>g.jsx("option",{value:K,children:K},K))]})]})]}),g.jsx("div",{className:"flex gap-3 w-full md:w-auto",children:g.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-6 py-3 text-white rounded-xl font-medium transition-all shadow-lg w-full md:w-auto justify-center",style:{backgroundColor:l.color,boxShadow:`0 10px 15px -3px ${l.color}33`},children:[g.jsx(Hf,{className:"w-5 h-5"}),g.jsx("span",{children:"Add Product"})]})})]}),g.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:[g.jsxs("th",{onClick:()=>O("name"),className:"px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:["Product ",g.jsx(X,{column:"name"})]}),g.jsxs("th",{onClick:()=>O("category"),className:"px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:["Category ",g.jsx(X,{column:"category"})]}),g.jsxs("th",{onClick:()=>O("stock"),className:"px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:["Stock ",g.jsx(X,{column:"stock"})]}),g.jsxs("th",{onClick:()=>O("price"),className:"px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:["Sell Price ",g.jsx(X,{column:"price"})]}),g.jsxs("th",{onClick:()=>O("status"),className:"px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:["Status ",g.jsx(X,{column:"status"})]}),g.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:s?g.jsx("tr",{children:g.jsx("td",{colSpan:"7",className:"text-center py-8",children:"Loading..."})}):R.map(K=>g.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[g.jsx("td",{className:"px-6 py-4",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-slate-100 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 flex-shrink-0",children:g.jsx("img",{src:K.images&&K.images[0]?K.images[0]:"https://via.placeholder.com/150",alt:K.name,className:"w-full h-full object-cover"})}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:K.name}),g.jsx("p",{className:"text-xs text-slate-500",children:K.sku})]})]})}),g.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 dark:text-slate-400",children:g.jsx("span",{className:"px-3 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-full text-xs font-medium",children:K.category})}),g.jsx("td",{className:"px-6 py-4",children:g.jsx("div",{className:"flex flex-col",children:g.jsx("span",{className:"text-sm font-medium text-slate-800 dark:text-slate-200",children:K.stock})})}),g.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-800 dark:text-slate-200",children:a(K.price)}),g.jsx("td",{className:"px-6 py-4",children:g.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${K.status==="In Stock"?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400":K.status==="Low Stock"?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:K.status})}),g.jsx("td",{className:"px-6 py-4 text-right",children:g.jsxs("div",{className:"flex items-center justify-end gap-2",children:[g.jsx("button",{onClick:()=>$(K),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-lg transition-colors",children:g.jsx(Gf,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>V(K._id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",children:g.jsx(jm,{className:"w-4 h-4"})})]})})]},K._id))})]})})}),p&&g.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-lg max-h-[85vh] overflow-y-auto animate-in fade-in zoom-in duration-200 flex flex-col",children:[g.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-white dark:bg-slate-800 sticky top-0 z-10",children:[g.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:y?"Edit Product":"Add New Product"}),g.jsx("button",{onClick:()=>m(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:g.jsx(ms,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:H,className:"p-6 space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:"Product Name"}),g.jsx("input",{required:!0,name:"name",value:_.name,onChange:W,className:"w-full p-2 border border-slate-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none bg-white dark:bg-slate-900 dark:text-white"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:"SKU"}),g.jsx("input",{required:!0,name:"sku",value:_.sku,onChange:W,className:"w-full p-2 border border-slate-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none bg-white dark:bg-slate-900 dark:text-white"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:"Category"}),k?g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{autoFocus:!0,value:S,onChange:K=>T(K.target.value),className:"flex-1 p-2 border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-900 dark:text-white outline-none",placeholder:"Enter new category name"}),g.jsx("button",{type:"button",onClick:U,className:"px-3 py-2 bg-indigo-600 text-white rounded-lg text-sm",children:"Add"}),g.jsx("button",{type:"button",onClick:()=>N(!1),className:"px-3 py-2 bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-white rounded-lg text-sm",children:"Cancel"})]}):g.jsxs("select",{name:"category",value:_.category,onChange:W,className:"w-full p-2 border border-slate-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none bg-white dark:bg-slate-900 dark:text-white",children:[g.jsx("option",{value:"",children:"Select Category"}),i.map(K=>g.jsx("option",{value:K,children:K},K)),g.jsx("option",{value:"new",className:"font-bold text-[var(--brand-color)]",children:"+ Create New Category"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:"Unit Price ($)"}),g.jsx("input",{required:!0,type:"number",step:"100",name:"unitPrice",value:_.unitPrice,onChange:W,className:"w-full p-2 border border-slate-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none bg-white dark:bg-slate-900 dark:text-white",placeholder:"Cost"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:"Sell Price ($)"}),g.jsx("input",{required:!0,type:"number",step:"100",name:"price",value:_.price,onChange:W,className:"w-full p-2 border border-slate-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none bg-white dark:bg-slate-900 dark:text-white",placeholder:"Sell"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:"Stock"}),g.jsx("input",{required:!0,type:"number",name:"stock",value:_.stock,onChange:W,className:"w-full p-2 border border-slate-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none bg-white dark:bg-slate-900 dark:text-white"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:"Status"}),g.jsxs("select",{name:"status",value:_.status,onChange:W,className:"w-full p-2 border border-slate-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none bg-white dark:bg-slate-900 dark:text-white",children:[g.jsx("option",{children:"In Stock"}),g.jsx("option",{children:"Low Stock"}),g.jsx("option",{children:"Out of Stock"})]})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-2",children:"Product Images"}),g.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[_.images.map((K,ie)=>g.jsxs("div",{className:"relative group aspect-square rounded-lg overflow-hidden border border-slate-200 dark:border-slate-600",children:[g.jsx("img",{src:K,alt:"Product",className:"w-full h-full object-cover"}),g.jsx("button",{type:"button",onClick:()=>L(ie),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:g.jsx(ms,{className:"w-3 h-3"})})]},ie)),g.jsxs("button",{type:"button",onClick:()=>{var K;return(K=x.current)==null?void 0:K.click()},className:"aspect-square rounded-lg border-2 border-dashed border-slate-300 dark:border-slate-600 flex flex-col items-center justify-center text-slate-400 hover:border-indigo-500 hover:text-indigo-500 transition-colors",children:[g.jsx(A$,{className:"w-5 h-5 mb-1"}),g.jsx("span",{className:"text-[9px] font-bold uppercase",children:"Upload"})]})]}),g.jsx("input",{type:"file",ref:x,className:"hidden",onChange:F,multiple:!0,accept:"image/*"})]}),g.jsxs("div",{className:"pt-4 flex justify-end gap-3 border-t border-slate-100 dark:border-slate-700",children:[g.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),g.jsx("button",{type:"submit",className:"px-6 py-2 text-white font-medium rounded-lg transition-colors shadow-lg",style:{backgroundColor:l.color,boxShadow:`0 10px 15px -3px ${l.color}33`},children:y?"Update Product":"Save Product"})]})]})]})})]})},hke=()=>{const{orders:t,products:e,customers:n,addOrder:r,updateOrder:i,deleteOrder:o,addCustomer:a,formatCurrency:s,brand:l}=Ea(),[u,c]=D.useState(""),[f,h]=D.useState(!1),[p,m]=D.useState(!1),[y,b]=D.useState(null),[v,w]=D.useState(null),[x,A]=D.useState(!1),[_,P]=D.useState("All"),[S,T]=D.useState("All"),[k,N]=D.useState("date-new"),C=D.useMemo(()=>{const B={All:t.length};return oa.forEach(te=>B[te]=0),t.forEach(te=>{var ge;const q=(ge=te.customer)==null?void 0:ge.governorate;q&&B[q]!==void 0&&B[q]++}),B},[t]),R=D.useMemo(()=>{const B={All:t.length};return Fl.forEach(te=>B[te]=0),t.forEach(te=>{var ge;const q=(ge=te.customer)==null?void 0:ge.social;q&&B[q]!==void 0&&B[q]++}),B},[t]),[O,j]=D.useState({customerId:"",customerName:"",customerPhone:"",customerAddress:"",customerGovernorate:"",customerSocial:"",customerNotes:"",items:[],discount:0}),[$,V]=D.useState(""),[W,U]=D.useState(1),F=D.useMemo(()=>t.filter(te=>{const q=te.orderId.toLowerCase().includes(u.toLowerCase())||te.customer.name.toLowerCase().includes(u.toLowerCase()),ge=_==="All"||te.customer.governorate===_,Te=S==="All"||te.customer.social===S;return q&&ge&&Te}).sort((te,q)=>k==="date-new"?new Date(q.date)-new Date(te.date):k==="date-old"?new Date(te.date)-new Date(q.date):k==="total-high"?q.total-te.total:k==="total-low"?te.total-q.total:k==="name-asc"?te.customer.name.localeCompare(q.customer.name):0),[t,u,_,S,k]),L=()=>{if(!$)return;const B=e.find(q=>q._id===$);if(!B)return;const te=O.items.findIndex(q=>q.product._id===B._id);if(te>-1){const q=[...O.items];q[te].quantity+=parseInt(W),j(ge=>({...ge,items:q}))}else j(q=>({...q,items:[...q.items,{product:B,quantity:parseInt(W),price:B.price}]}));U(1),V("")},H=B=>{const te=O.items.filter((q,ge)=>ge!==B);j(q=>({...q,items:te}))},X=(B,te)=>{const q=[...O.items];q[B].price=parseFloat(te||0),j(ge=>({...ge,items:q}))},K=B=>B.reduce((te,q)=>te+q.price*q.quantity,0),ie=()=>{const B=K(O.items),te=B*(O.discount/100);let q=B-te;return q=Math.ceil(q/500)*500,q},ue=B=>{const te=B.target.value;if(j(q=>({...q,customerId:te})),te==="new")j(q=>({...q,customerName:"",customerPhone:"",customerAddress:"",customerGovernorate:"",customerSocial:""}));else if(te){const q=n.find(ge=>ge._id===te);q&&j(ge=>({...ge,customerName:q.name,customerPhone:q.phone,customerAddress:q.address,customerGovernorate:q.governorate,customerSocial:q.social}))}},ne=B=>{w(B._id);const te=n.find(q=>q.name===B.customer.name&&q.phone===B.customer.phone);j({customerId:te?te._id:"new",customerName:B.customer.name,customerPhone:B.customer.phone,customerAddress:B.customer.address||"",customerGovernorate:B.customer.governorate||"",customerSocial:B.customer.social||"",customerNotes:B.notes||"",items:B.items,discount:B.discount||0}),h(!0)},pe=B=>{b(B),m(!0)},Ee=async()=>{if(O.items.length===0)return alert("Please add items to the order");if(!O.customerName||!O.customerPhone)return alert("Please fill in customer name and phone");A(!0);try{console.log("Submit clicked. ID:",O.customerId,"Items:",O.items.length);let B={name:O.customerName,phone:O.customerPhone,address:O.customerAddress,governorate:O.customerGovernorate,social:O.customerSocial};O.customerId==="new"&&await a({...B,email:""});const te=ie(),q=t.find(Te=>Te._id===v),ge={customer:B,date:v&&q?q.date:new Date().toLocaleDateString(),total:te,subtotal:K(O.items),discount:O.discount,status:v&&q?q.status:"Processing",items:O.items,notes:O.customerNotes};if(v&&q)await i({...ge,_id:v,orderId:q.orderId}),alert("Order updated successfully!");else{const Te=await r(ge);alert("Order created successfully!"),setTimeout(()=>{try{re(Te)}catch(st){console.error("Print error:",st),alert("Order saved, but receipt printing failed. Please check your browser's popup blocker.")}},800)}h(!1),w(null),j({customerId:"",customerName:"",customerPhone:"",customerAddress:"",customerGovernorate:"",customerSocial:"",customerNotes:"",items:[],discount:0})}catch(B){console.error("Order submission error:",B),alert("Failed to submit order: "+(B.message||"Unknown error"))}finally{A(!1)}},re=B=>{const te=window.open("","","width=600,height=800");te.document.write(`
            <html>
                <head>
                    <title>Receipt</title>
                    <style>
                        body { font-family: 'Courier New', monospace; padding: 20px; font-size: 14px; }
                        .header { text-align: center; margin-bottom: 20px; }
                        .item { display: flex; justify-content: space-between; margin-bottom: 5px; }
                        .divider { border-top: 1px dashed black; margin: 10px 0; }
                        .totals { text-align: right; margin-top: 10px; }
                        .total-row { display: flex; justify-content: space-between; font-weight: bold; margin-top: 5px; }
                        .discount { color: red; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h2>SHAN ENTERPRISE</h2>
                        <p>Baghdad, Iraq</p>
                        <p>Order: ${B.orderId||"###"}</p>
                        <p>${B.date}</p>
                    </div>
                    <div class="divider"></div>
                    <div>
                        <p><strong>Customer:</strong> ${B.customer.name}</p>
                        <p><strong>Phone:</strong> ${B.customer.phone||"N/A"}</p>
                        <p><strong>Gov:</strong> ${B.customer.governorate||"N/A"}</p>
                    </div>
                    <div class="divider"></div>
                    <div>
                        ${B.items.map(q=>`
                            <div class="item">
                                <span>${q.product.name} <br> <small>x${q.quantity} @ ${s(q.price)}</small></span>
                                <span>${s(q.price*q.quantity)}</span>
                            </div>
                        `).join("")}
                    </div>
                    <div class="divider"></div>
                    <div class="totals">
                        <div class="total-row" style="font-weight: normal;">
                            <span>Subtotal:</span>
                            <span>${s(B.subtotal||B.total)}</span>
                        </div>
                        ${B.discount?`
                        <div class="total-row discount" style="font-weight: normal;">
                            <span>Discount (${B.discount}%):</span>
                            <span>-${s((B.subtotal||B.total)-B.total)}</span>
                        </div>
                        `:""}
                        <div class="total-row" style="font-size: 18px; margin-top: 10px;">
                            <span>TOTAL:</span>
                            <span>${s(B.total)}</span>
                        </div>
                    </div>
                    <div class="divider"></div>
                    <div style="text-align: center; margin-top: 20px;">
                        <p>Thank you for your business!</p>
                        <p>Items checked out cannot be returned.</p>
                    </div>
                </body>
            </html>
        `),te.document.close(),te.print()};return g.jsxs(cd,{title:"Orders",children:[g.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-center mb-8 gap-4 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[g.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full xl:w-auto",children:[g.jsxs("div",{className:"relative w-full md:w-64",children:[g.jsx(Xy,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",placeholder:"Search orders...",value:u,onChange:B=>c(B.target.value),className:"pl-10 pr-4 py-2.5 w-full bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20"})]}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{value:_,onChange:B=>P(B.target.value),className:"appearance-none w-full md:w-48 pl-4 pr-10 py-2.5 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-50 dark:bg-slate-900/50 dark:text-white outline-none text-sm font-medium focus:ring-2 focus:ring-[var(--brand-color)]/20",children:[g.jsxs("option",{value:"All",children:["All Governorates (",C.All,")"]}),oa.map(B=>g.jsxs("option",{value:B,children:[B," (",C[B]||0,")"]},B))]}),g.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"}),g.jsx("circle",{cx:"12",cy:"10",r:"3"})]})})]}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{value:S,onChange:B=>T(B.target.value),className:"appearance-none w-full md:w-48 pl-4 pr-10 py-2.5 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-50 dark:bg-slate-900/50 dark:text-white outline-none text-sm font-medium focus:ring-2 focus:ring-[var(--brand-color)]/20",children:[g.jsxs("option",{value:"All",children:["All Platforms (",R.All,")"]}),Fl.map(B=>g.jsxs("option",{value:B,children:[B," (",R[B]||0,")"]},B))]}),g.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("line",{x1:"2",x2:"22",y1:"12",y2:"12"}),g.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]})})]}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{value:k,onChange:B=>N(B.target.value),className:"appearance-none w-full md:w-48 pl-4 pr-10 py-2.5 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-50 dark:bg-slate-900/50 dark:text-white outline-none text-sm font-medium focus:ring-2 focus:ring-[var(--brand-color)]/20",children:[g.jsx("option",{value:"date-new",children:"Newest First"}),g.jsx("option",{value:"date-old",children:"Oldest First"}),g.jsx("option",{value:"total-high",children:"Highest Total"}),g.jsx("option",{value:"total-low",children:"Lowest Total"}),g.jsx("option",{value:"name-asc",children:"Customer Name (A-Z)"})]}),g.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 border-l border-slate-300 pl-2 pointer-events-none",children:g.jsx("svg",{className:"w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),g.jsxs("button",{onClick:()=>{h(!0),w(null),j({customerId:"",customerName:"",customerPhone:"",customerAddress:"",customerGovernorate:"",customerSocial:"",customerNotes:"",items:[],discount:0})},className:"w-full xl:w-auto flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-xl font-bold transition-all shadow-lg",style:{backgroundColor:l.color,boxShadow:`0 10px 15px -3px ${l.color}33`},children:[g.jsx(Hf,{className:"w-5 h-5"}),g.jsx("span",{children:"Create New Order"})]})]}),g.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-500 uppercase",children:[g.jsx("th",{className:"px-6 py-4",children:"Order ID"}),g.jsx("th",{className:"px-6 py-4",children:"Customer"}),g.jsx("th",{className:"px-6 py-4",children:"Date"}),g.jsx("th",{className:"px-6 py-4",children:"Total (IQD)"}),g.jsx("th",{className:"px-6 py-4",children:"Status"}),g.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:F.map(B=>g.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[g.jsx("td",{className:"px-6 py-4 text-sm font-semibold text-[var(--brand-color)]",children:B.orderId}),g.jsx("td",{className:"px-6 py-4",children:g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"text-sm font-medium text-slate-800 dark:text-white",children:B.customer.name}),g.jsxs("span",{className:"text-xs text-slate-500 flex gap-1 items-center",children:[B.customer.governorate&&g.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-1 rounded",children:B.customer.governorate}),B.customer.phone]})]})}),g.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 dark:text-slate-400",children:B.date}),g.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-800 dark:text-white",children:s(B.total)}),g.jsx("td",{className:"px-6 py-4",children:g.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:B.status})}),g.jsx("td",{className:"px-6 py-4 text-right",children:g.jsxs("div",{className:"flex items-center justify-end gap-2",children:[g.jsx("button",{onClick:()=>pe(B),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",title:"View Details",children:g.jsx(kB,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>ne(B),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",title:"Edit Order",children:g.jsx(Gf,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>re(B),className:"p-2 text-slate-400 hover:text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg",title:"Print Receipt",children:g.jsx(Zw,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to delete this order?")&&o(B._id)},className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",title:"Delete Order",children:g.jsx(jm,{className:"w-4 h-4"})})]})})]},B._id))})]})})}),f&&g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm p-4 md:p-6 lg:p-8",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-6xl max-h-full flex flex-col md:flex-row overflow-hidden animate-in fade-in zoom-in duration-200",children:[g.jsxs("div",{className:"flex-1 p-4 md:p-6 border-b md:border-b-0 md:border-r border-slate-100 dark:border-slate-700 flex flex-col min-h-0 overflow-y-auto lg:overflow-visible",children:[g.jsxs("div",{className:"sticky top-0 bg-white dark:bg-slate-800 pb-4 z-10 lg:static",children:[g.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white",children:"Add Items"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-1",children:"Select Product"}),g.jsxs("select",{value:$,onChange:B=>V(B.target.value),className:"w-full p-2.5 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20",children:[g.jsx("option",{value:"",children:"-- Choose Product --"}),e.map(B=>g.jsxs("option",{value:B._id,children:[B.name," - ",s(B.price)," (",B.stock,")"]},B._id))]})]}),g.jsxs("div",{className:"flex gap-4 items-end",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Search & Select Product"}),g.jsxs("select",{value:$,onChange:B=>V(B.target.value),className:"w-full p-3 border-2 border-slate-100 dark:border-slate-700 rounded-xl dark:bg-slate-900 dark:text-white outline-none focus:border-[var(--brand-color)] transition-colors font-bold",children:[g.jsx("option",{value:"",children:"-- Start Typing to Search --"}),e.map(B=>g.jsxs("option",{value:B._id,disabled:B.stock<=0,children:[B.name," (",B.stock," in stock) - ",s(B.price)]},B._id))]})]}),g.jsxs("div",{className:"w-24",children:[g.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Qty"}),g.jsx("input",{type:"number",min:"1",value:W,onChange:B=>U(B.target.value),className:"w-full p-3 border-2 border-slate-100 dark:border-slate-700 rounded-xl dark:bg-slate-900 dark:text-white outline-none focus:border-[var(--brand-color)] text-center font-bold"})]}),g.jsx("button",{type:"button",onClick:L,disabled:!$||!W,className:"h-[52px] px-6 text-white font-black rounded-xl transition-all active:scale-95 shadow-lg disabled:opacity-50",style:{backgroundColor:l.color,boxShadow:`0 10px 15px -3px ${l.color}33`},children:g.jsx(Hf,{className:"w-6 h-6"})})]})]})]}),g.jsx("div",{className:"flex-1 overflow-y-auto mt-6 space-y-3 custom-scrollbar min-h-[300px]",children:O.items.length===0?g.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 border-2 border-dashed border-slate-100 dark:border-slate-700/50 rounded-3xl py-12",children:[g.jsx(Uc,{className:"w-12 h-12 mb-2 opacity-20"}),g.jsx("p",{className:"font-bold",children:"Your cart is empty"}),g.jsx("p",{className:"text-xs",children:"Add products to start building the order"})]}):O.items.map((B,te)=>g.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-900/30 rounded-2xl border border-slate-100 dark:border-slate-700/50 group hover:border-indigo-500/50 transition-all",children:[g.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[g.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-white dark:bg-slate-800 border dark:border-slate-700 shrink-0",children:g.jsx("img",{src:B.product.images&&B.product.images[0]?B.product.images[0]:"https://via.placeholder.com/150",alt:"",className:"w-full h-full object-cover"})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("h4",{className:"text-sm font-black text-slate-800 dark:text-white truncate",children:B.product.name}),g.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:"PRICE"}),g.jsx("input",{type:"number",value:B.price,onChange:q=>X(te,q.target.value),className:"w-24 p-1.5 text-xs font-black border-2 border-slate-100 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800 dark:text-white transition-colors focus:border-[var(--brand-color)]"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:"QTY"}),g.jsxs("span",{className:"text-xs font-black dark:text-white px-2 py-1 bg-slate-100 dark:bg-slate-700 rounded-md",children:["x",B.quantity]})]})]})]})]}),g.jsxs("div",{className:"flex items-center gap-4 ml-4",children:[g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Subtotal"}),g.jsx("span",{className:"text-sm font-black dark:text-white",children:s(B.price*B.quantity)})]}),g.jsx("button",{onClick:()=>H(te),className:"p-2.5 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-all",children:g.jsx(jm,{className:"w-4 h-4"})})]})]},te))}),g.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800 sticky bottom-0",children:g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsxs("div",{className:"flex justify-between items-center text-sm",children:[g.jsx("span",{className:"font-bold text-slate-400 uppercase tracking-widest text-[10px]",children:"Order Subtotal"}),g.jsx("span",{className:"font-black dark:text-white text-lg",children:s(K(O.items))})]}),g.jsxs("div",{className:"flex justify-between items-center p-3.5 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-700",children:[g.jsxs("span",{className:"text-xs font-bold text-slate-500 flex items-center gap-2",children:[g.jsx(BB,{className:"w-4 h-4 text-indigo-500"})," APPLY DISCOUNT"]}),g.jsx("select",{value:O.discount,onChange:B=>j({...O,discount:parseInt(B.target.value)}),className:"p-1 px-3 border-2 border-slate-200 dark:border-slate-700 rounded-xl text-xs font-black dark:bg-slate-900 dark:text-white outline-none focus:border-[var(--brand-color)] transition-colors",children:[0,5,10,15,20,30,40,50].map(B=>g.jsxs("option",{value:B,children:[B,"% OFF DISCOUNT"]},B))})]}),g.jsxs("div",{className:"flex justify-between items-center pt-2",children:[g.jsx("span",{className:"font-black text-slate-800 dark:text-white uppercase tracking-tighter text-sm",children:"Grand Total (Rounded)"}),g.jsx("span",{className:"font-black text-3xl text-[var(--brand-color)]",children:s(ie())})]})]})})]}),g.jsxs("div",{className:"w-full md:w-[400px] lg:w-[450px] p-6 bg-slate-50 dark:bg-slate-900/50 flex flex-col min-h-0 border-t md:border-t-0 md:border-l border-slate-100 dark:border-slate-700",children:[g.jsxs("div",{className:"flex justify-between items-center mb-8",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-black text-slate-800 dark:text-white",children:"Customer Info"}),g.jsx("p",{className:"text-[10px] font-bold text-indigo-500 uppercase tracking-widest",children:"Connect order to profile"})]}),g.jsx("button",{onClick:()=>h(!1),className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-white rounded-full hover:bg-white dark:hover:bg-slate-800 transition-colors",children:g.jsx(ms,{className:"w-6 h-6"})})]}),g.jsxs("div",{className:"space-y-6 flex-1 overflow-y-auto pr-1 custom-scrollbar",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Database Selection"}),g.jsxs("select",{value:O.customerId,onChange:ue,className:"w-full p-4 border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-black shadow-sm",children:[g.jsx("option",{value:"",children:"-- Choose Existing --"}),g.jsx("option",{value:"new",className:"text-[var(--brand-color)] font-bold",children:"+ Create New Profile"}),n.map(B=>g.jsx("option",{value:B._id,children:B.name},B._id))]})]}),g.jsxs("div",{className:`space-y-6 transition-all duration-300 ${O.customerId?"opacity-100 pointer-events-auto":"opacity-30 pointer-events-none grayscale"}`,children:[g.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Full Name"}),g.jsx("input",{placeholder:"e.g. Ahmed Ali",value:O.customerName,onChange:B=>j({...O,customerName:B.target.value}),className:"w-full p-4 border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm",disabled:O.customerId!=="new"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Phone Number"}),g.jsx("input",{placeholder:"07XX XXX XXXX",value:O.customerPhone,onChange:B=>j({...O,customerPhone:B.target.value}),className:"w-full p-4 border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm",disabled:O.customerId!=="new"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Governorate"}),g.jsxs("select",{value:O.customerGovernorate,onChange:B=>j({...O,customerGovernorate:B.target.value}),className:"w-full p-4 border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm",disabled:O.customerId!=="new",children:[g.jsx("option",{value:"",children:"Select..."}),oa.map(B=>g.jsx("option",{value:B,children:B},B))]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Social Channel"}),g.jsxs("select",{value:O.customerSocial,onChange:B=>j({...O,customerSocial:B.target.value}),className:"w-full p-4 border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm",disabled:O.customerId!=="new",children:[g.jsx("option",{value:"",children:"Select..."}),Fl.map(B=>g.jsx("option",{value:B,children:B},B))]})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Shipping Address"}),g.jsx("textarea",{placeholder:"House/District/Nearest Landmark",value:O.customerAddress,onChange:B=>j({...O,customerAddress:B.target.value}),className:"w-full p-4 border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm resize-none",disabled:O.customerId!=="new",rows:"2"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Internal Notes"}),g.jsx("textarea",{placeholder:"Special instructions for delivery...",value:O.customerNotes,onChange:B=>j({...O,customerNotes:B.target.value}),className:"w-full p-4 border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm resize-none",rows:"2"})]})]}),g.jsx("button",{onClick:Ee,disabled:O.items.length===0||x,className:"mt-8 w-full py-5 text-white font-black rounded-2xl shadow-2xl text-xl transition-all hover:scale-[1.01] active:scale-95 disabled:opacity-50 disabled:grayscale flex items-center justify-center gap-3",style:{backgroundColor:l.color,boxShadow:`0 20px 25px -5px ${l.color}4d`},children:x?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processing..."]}):v?"Update Order":"Complete & Print Receipt"})]})]})]})}),p&&y&&g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[g.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center sticky top-0 bg-white dark:bg-slate-800 z-10",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Order Details"}),g.jsxs("p",{className:"text-sm text-slate-500",children:[y.orderId,"  ",y.date]})]}),g.jsx("button",{onClick:()=>m(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:g.jsx(ms,{className:"w-6 h-6"})})]}),g.jsxs("div",{className:"p-6 space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-start bg-slate-50 dark:bg-slate-700/30 p-4 rounded-xl",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-2",children:"Customer Info"}),g.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:y.customer.name}),g.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:y.customer.phone}),g.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:[y.customer.address,", ",y.customer.governorate]})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-2",children:"Order Status"}),g.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-bold ${y.status==="Completed"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:y.status})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-3",children:"Order Items"}),g.jsx("div",{className:"space-y-3",children:y.items.map((B,te)=>g.jsxs("div",{className:"flex justify-between items-center border-b border-slate-100 dark:border-slate-700 pb-3 last:border-0 last:pb-0",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-12 h-12 bg-slate-100 dark:bg-slate-700 rounded-lg overflow-hidden flex-shrink-0",children:B.product.images&&B.product.images[0]?g.jsx("img",{src:B.product.images[0],alt:"",className:"w-full h-full object-cover"}):g.jsx("div",{className:"flex items-center justify-center w-full h-full text-slate-400 text-xs",children:"No Img"})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:B.product.name}),g.jsxs("p",{className:"text-xs text-slate-500",children:[B.quantity," x ",s(B.price)]})]})]}),g.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:s(B.price*B.quantity)})]},te))})]}),g.jsx("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:g.jsxs("div",{className:"flex justify-end space-y-2 flex-col items-end",children:[g.jsxs("div",{className:"flex gap-8 text-sm",children:[g.jsx("span",{className:"text-slate-500",children:"Subtotal:"}),g.jsx("span",{className:"font-medium text-slate-800 dark:text-white",children:s(y.subtotal||y.total)})]}),y.discount>0&&g.jsxs("div",{className:"flex gap-8 text-sm text-red-500",children:[g.jsxs("span",{children:["Discount (",y.discount,"%):"]}),g.jsxs("span",{children:["-",s((y.subtotal||y.total)-y.total)]})]}),g.jsxs("div",{className:"flex gap-8 text-lg font-bold pt-2",children:[g.jsx("span",{className:"text-slate-800 dark:text-white",children:"Total:"}),g.jsx("span",{className:"text-indigo-600",children:s(y.total)})]})]})}),g.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-slate-100 dark:border-slate-700",children:[g.jsxs("button",{onClick:()=>re(y),className:"px-4 py-2 bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-800 dark:text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[g.jsx(Zw,{className:"w-4 h-4"})," Print Receipt"]}),g.jsxs("button",{onClick:()=>ne(y),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[g.jsx(Gf,{className:"w-4 h-4"})," Edit Order"]})]})]})]})}),"        "]})},dke=()=>{const{customers:t,orders:e,addCustomer:n,updateCustomer:r,formatCurrency:i,brand:o}=Ea(),[a,s]=D.useState(""),[l,u]=D.useState("All"),[c,f]=D.useState("All"),[h,p]=D.useState("name-asc"),[m,y]=D.useState(!1),[b,v]=D.useState(!1),[w,x]=D.useState(null),[A,_]=D.useState(null),[P,S]=D.useState(null),[T,k]=D.useState({name:"",email:"",phone:"",address:"",governorate:"",social:"",notes:""}),N=D.useMemo(()=>{const L={All:t.length};return oa.forEach(H=>L[H]=0),t.forEach(H=>{L[H.governorate]!==void 0&&L[H.governorate]++}),L},[t]),C=D.useMemo(()=>{const L={All:t.length};return Fl.forEach(H=>L[H]=0),t.forEach(H=>{L[H.social]!==void 0&&L[H.social]++}),L},[t]),R=L=>e.filter(H=>H.customer._id===L),O=D.useMemo(()=>t.filter(H=>{const X=H.name.toLowerCase().includes(a.toLowerCase())||H.phone.includes(a),K=l==="All"||H.governorate===l,ie=c==="All"||H.social===c;return X&&K&&ie}).sort((H,X)=>{if(h==="name-asc")return H.name.localeCompare(X.name);if(h==="name-desc")return X.name.localeCompare(H.name);const K=R(H._id).length,ie=R(X._id).length;return h==="orders-high"?ie-K:h==="orders-low"?K-ie:h==="date-new"?X._id.localeCompare(H._id):0}),[t,a,l,c,h,e]),j=()=>{_(null),k({name:"",email:"",phone:"",address:"",governorate:"",social:"",notes:""}),y(!0)},$=L=>{_(L),k(L),y(!0)},V=L=>{x(L),v(!0),S(null)},W=L=>{L.preventDefault(),A?r({...T,_id:A._id}):n(T),y(!1)},U=L=>{const H=window.open("","_blank");H.document.write(`
            <html>
                <head>
                    <title>Order ${L.orderId}</title>
                    <style>
                        body { font-family: sans-serif; padding: 20px; }
                        .header { text-align: center; margin-bottom: 20px; }
                        .order-info { margin-bottom: 20px; border-bottom: 1px solid #ccc; padding-bottom: 10px; }
                        table { width: 100%; border-collapse: collapse; }
                        th, td { text-align: left; padding: 8px; border-bottom: 1px solid #eee; }
                        .total { text-align: right; font-weight: bold; font-size: 1.2em; margin-top: 20px; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h1>Order Receipt</h1>
                        <h3>${L.orderId}</h3>
                    </div>
                    <div class="order-info">
                        <p><strong>Customer:</strong> ${L.customer.name}</p>
                        <p><strong>Date:</strong> ${L.date}</p>
                        <p><strong>Status:</strong> ${L.status}</p>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>Item</th>
                                <th>Qty</th>
                                <th>Price</th>
                                <th>Total</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${L.items.map(X=>`
                                <tr>
                                    <td>${X.product.name}</td>
                                    <td>${X.quantity}</td>
                                    <td>${new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(X.price)}</td>
                                    <td>${new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(X.price*X.quantity)}</td>
                                </tr>
                            `).join("")}
                        </tbody>
                    </table>
                    <div class="total">
                        Total: ${new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(L.total)}
                    </div>
                    <script>window.onload = function() { window.print(); window.close(); }<\/script>
                </body>
            </html>
        `),H.document.close()},F=L=>{switch(L==null?void 0:L.toLowerCase()){case"facebook":return g.jsx(IB,{className:"w-4 h-4"});case"instagram":return g.jsx(OB,{className:"w-4 h-4"});case"twitter":return g.jsx(zB,{className:"w-4 h-4"});case"tiktok":return g.jsx("div",{className:"w-4 h-4 font-bold text-xs flex items-center justify-center",children:"TT"});case"whatsapp":return g.jsx(MB,{className:"w-4 h-4"});default:return g.jsx(Sk,{className:"w-4 h-4"})}};return g.jsxs(cd,{title:"Customers",children:[g.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-center mb-8 gap-4 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[g.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full xl:w-auto",children:[g.jsxs("div",{className:"relative w-full md:w-64",children:[g.jsx(Xy,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",placeholder:"Search customers...",value:a,onChange:L=>s(L.target.value),className:"pl-10 pr-4 py-2.5 w-full bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20"})]}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{value:l,onChange:L=>u(L.target.value),className:"appearance-none w-full md:w-48 pl-4 pr-10 py-2.5 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-50 dark:bg-slate-900/50 dark:text-white outline-none text-sm font-medium focus:ring-2 focus:ring-[var(--brand-color)]/20",children:[g.jsxs("option",{value:"All",children:["All Governorates (",N.All,")"]}),oa.map(L=>g.jsxs("option",{value:L,children:[L," (",N[L]||0,")"]},L))]}),g.jsx(Tk,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{value:c,onChange:L=>f(L.target.value),className:"appearance-none w-full md:w-48 pl-4 pr-10 py-2.5 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-50 dark:bg-slate-900/50 dark:text-white outline-none text-sm font-medium focus:ring-2 focus:ring-[var(--brand-color)]/20",children:[g.jsxs("option",{value:"All",children:["All Platforms (",C.All,")"]}),Fl.map(L=>g.jsxs("option",{value:L,children:[L," (",C[L]||0,")"]},L))]}),g.jsx(Sk,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{value:h,onChange:L=>p(L.target.value),className:"appearance-none w-full md:w-48 pl-4 pr-10 py-2.5 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-50 dark:bg-slate-900/50 dark:text-white outline-none text-sm font-medium focus:ring-2 focus:ring-[var(--brand-color)]/20",children:[g.jsx("option",{value:"name-asc",children:"Name (A-Z)"}),g.jsx("option",{value:"name-desc",children:"Name (Z-A)"}),g.jsx("option",{value:"orders-high",children:"Orders (High-Low)"}),g.jsx("option",{value:"orders-low",children:"Orders (Low-High)"}),g.jsx("option",{value:"date-new",children:"Newest First"})]}),g.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 border-l border-slate-300 pl-2 pointer-events-none",children:g.jsx("svg",{className:"w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),g.jsxs("button",{onClick:j,className:"w-full xl:w-auto flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-xl font-bold transition-all shadow-lg",style:{backgroundColor:o.color,boxShadow:`0 10px 15px -3px ${o.color}33`},children:[g.jsx(Hf,{className:"w-5 h-5"}),g.jsx("span",{children:"Add Customer"})]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:O.map(L=>{const H=R(L._id);return g.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 hover:shadow-md hover:-translate-y-1 transition-all duration-300 group relative",children:[g.jsx("button",{onClick:()=>$(L),className:"absolute top-4 right-4 text-slate-400 hover:text-[var(--brand-color)] p-2",children:g.jsx(Gf,{className:"w-4 h-4"})}),g.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[g.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900/50 dark:to-purple-900/50 flex items-center justify-center text-[var(--brand-color)] dark:text-indigo-400 font-bold text-xl group-hover:scale-110 transition-transform",children:L.name.charAt(0)}),g.jsxs("div",{className:"min-w-0",children:[g.jsx("h3",{className:"font-bold text-slate-800 dark:text-white text-lg truncate pr-6",children:L.name}),g.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[g.jsx(Uc,{className:"w-3 h-3"})," ",H.length," Orders"]})]})]}),g.jsxs("div",{className:"space-y-3 mb-4",children:[L.email&&g.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[g.jsx(RB,{className:"w-4 h-4 text-slate-400 shrink-0"}),g.jsx("span",{className:"truncate",children:L.email})]}),g.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[g.jsx(VB,{className:"w-4 h-4 text-slate-400 shrink-0"}),g.jsx("span",{children:L.phone||"No phone"})]}),g.jsxs("div",{className:"flex items-start gap-3 text-sm text-slate-600 dark:text-slate-400",children:[g.jsx(Tk,{className:"w-4 h-4 text-slate-400 shrink-0 mt-0.5"}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:L.governorate||"Unknown Gov"}),g.jsx("span",{className:"line-clamp-1 text-xs",children:L.address})]})]}),L.social&&g.jsx("div",{className:"flex items-center gap-3 text-sm text-blue-500",children:g.jsxs("span",{className:"flex items-center gap-1 text-xs px-2 py-1 bg-blue-50 dark:bg-blue-900/20 rounded-full",children:[F(L.social)," ",L.social]})})]}),g.jsx("button",{onClick:()=>V(L),className:"w-full py-2 bg-slate-50 dark:bg-slate-700/50 text-slate-600 dark:text-slate-300 text-sm font-bold rounded-xl hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:"View Order History"})]},L._id)})}),m&&g.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-slate-900/60 backdrop-blur-sm p-4",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in duration-200",children:[g.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-white dark:bg-slate-800 sticky top-0 z-10",children:[g.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:A?"Edit Customer":"Add New Customer"}),g.jsx("button",{onClick:()=>y(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:g.jsx(ms,{className:"w-5 h-5"})})]}),g.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:g.jsxs("form",{onSubmit:W,className:"space-y-5",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase ml-1",children:"Full Name"}),g.jsx("input",{required:!0,placeholder:"e.g. Ahmed Ali",value:T.name,onChange:L=>k({...T,name:L.target.value}),className:"w-full p-3 border-2 border-slate-100 dark:border-slate-700 rounded-xl dark:bg-slate-900 dark:text-white outline-none focus:border-[var(--brand-color)] transition-colors"})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase ml-1",children:"Phone Number"}),g.jsx("input",{required:!0,placeholder:"07XX XXX XXXX",value:T.phone,onChange:L=>k({...T,phone:L.target.value}),className:"w-full p-3 border-2 border-slate-100 dark:border-slate-700 rounded-xl dark:bg-slate-900 dark:text-white outline-none focus:border-[var(--brand-color)] transition-colors"})]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase ml-1",children:"Email Address"}),g.jsx("input",{placeholder:"customer@example.com",type:"email",value:T.email,onChange:L=>k({...T,email:L.target.value}),className:"w-full p-3 border-2 border-slate-100 dark:border-slate-700 rounded-xl dark:bg-slate-900 dark:text-white outline-none focus:border-[var(--brand-color)] transition-colors"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase ml-1",children:"Governorate"}),g.jsxs("select",{value:T.governorate,onChange:L=>k({...T,governorate:L.target.value}),className:"w-full p-3 border-2 border-slate-100 dark:border-slate-700 rounded-xl dark:bg-slate-900 dark:text-white outline-none focus:border-[var(--brand-color)] transition-colors",children:[g.jsx("option",{value:"",children:"Select..."}),oa.map(L=>g.jsx("option",{value:L,children:L},L))]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase ml-1",children:"Social Platform"}),g.jsxs("select",{value:T.social,onChange:L=>k({...T,social:L.target.value}),className:"w-full p-3 border-2 border-slate-100 dark:border-slate-700 rounded-xl dark:bg-slate-900 dark:text-white outline-none focus:border-[var(--brand-color)] transition-colors",children:[g.jsx("option",{value:"",children:"Select..."}),Fl.map(L=>g.jsx("option",{value:L,children:L},L))]})]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase ml-1",children:"Shipping Address"}),g.jsx("textarea",{placeholder:"House details, district, etc.",value:T.address,onChange:L=>k({...T,address:L.target.value}),className:"w-full p-3 border-2 border-slate-100 dark:border-slate-700 rounded-xl dark:bg-slate-900 dark:text-white outline-none focus:border-[var(--brand-color)] transition-colors resize-none",rows:"2"})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase ml-1",children:"Internal Notes"}),g.jsx("textarea",{placeholder:"Any additional info...",value:T.notes,onChange:L=>k({...T,notes:L.target.value}),className:"w-full p-3 border-2 border-slate-100 dark:border-slate-700 rounded-xl dark:bg-slate-900 dark:text-white outline-none focus:border-[var(--brand-color)] transition-colors resize-none",rows:"2"})]})]}),g.jsx("button",{type:"submit",className:"w-full py-4 text-white font-black rounded-2xl shadow-xl transition-all hover:scale-[1.01] active:scale-95 mt-2",style:{backgroundColor:o.color,boxShadow:`0 10px 15px -3px ${o.color}33`},children:A?"Update Profile":"Save Customer Profile"})]})})]})}),b&&w&&g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-2xl w-full max-w-2xl max-h-[85vh] flex flex-col overflow-hidden",children:[g.jsxs("div",{className:"px-8 py-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-white dark:bg-slate-800 sticky top-0 z-10",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Order History"}),g.jsxs("p",{className:"text-xs text-slate-500",children:["Viewing purchase records for ",g.jsx("span",{className:"text-[var(--brand-color)] font-bold",children:w.name})]})]}),g.jsx("button",{onClick:()=>v(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-white p-2 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-full transition-colors",children:g.jsx(ms,{className:"w-6 h-6"})})]}),g.jsx("div",{className:"p-8 overflow-y-auto custom-scrollbar flex-1",children:g.jsx("div",{className:"space-y-4",children:R(w._id).length===0?g.jsxs("div",{className:"flex flex-col items-center justify-center py-12 opacity-40",children:[g.jsx(Uc,{className:"w-12 h-12 mb-3"}),g.jsx("p",{className:"text-center font-medium italic",children:"No orders found for this customer."})]}):R(w._id).map(L=>g.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl overflow-hidden border-2 border-slate-50 dark:border-slate-800 hover:border-indigo-100 dark:hover:border-indigo-900/40 transition-all shadow-sm",children:[g.jsxs("div",{className:"p-5 flex justify-between items-center cursor-pointer group",onClick:()=>S(P===L._id?null:L._id),children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-xl text-[var(--brand-color)] dark:text-indigo-400 group-hover:scale-110 transition-transform",children:g.jsx(Uc,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("p",{className:"font-black text-slate-800 dark:text-white uppercase text-sm tracking-tight",children:L.orderId}),g.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-lg font-bold uppercase transition-colors ${L.status==="Completed"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-400"}`,children:L.status})]}),g.jsx("p",{className:"text-xs text-slate-400 font-medium",children:L.date})]})]}),g.jsxs("div",{className:"text-right flex items-center gap-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-black text-slate-800 dark:text-white text-base",children:i(L.total)}),g.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:[L.items.length," Items"]})]}),g.jsx("div",{className:`text-slate-300 group-hover:text-indigo-500 transition-all ${P===L._id?"rotate-180":""}`,children:g.jsx(SB,{className:"w-5 h-5"})})]})]}),P===L._id&&g.jsx("div",{className:"bg-slate-50/50 dark:bg-slate-900/50 p-5 pt-0 border-t border-slate-100 dark:border-slate-800 animate-in slide-in-from-top-4 duration-300",children:g.jsxs("div",{className:"mt-5 space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g.jsx("div",{className:"h-4 w-1 bg-indigo-500 rounded-full"}),g.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Order Specification"})]}),L.items.map((H,X)=>g.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 p-3 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[g.jsx("div",{className:"w-14 h-14 rounded-lg bg-slate-50 dark:bg-slate-700 overflow-hidden flex-shrink-0 border border-slate-100 dark:border-slate-600",children:H.product.images&&H.product.images.length>0?g.jsx("img",{src:H.product.images[0],alt:H.product.name,className:"w-full h-full object-cover"}):g.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300",children:g.jsx(Uc,{className:"w-6 h-6"})})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-white truncate",children:H.product.name}),g.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[g.jsxs("span",{className:"text-xs font-bold text-[var(--brand-color)] dark:text-indigo-400",children:[H.quantity," units"]}),g.jsx("span",{className:"text-slate-300 text-xs",children:""}),g.jsxs("span",{className:"text-xs text-slate-500",children:[i(H.price)," each"]})]})]}),g.jsx("p",{className:"text-sm font-black text-slate-800 dark:text-white",children:i(H.price*H.quantity)})]},X)),g.jsxs("div",{className:"pt-4 flex justify-between items-center border-t border-slate-200 dark:border-slate-700",children:[g.jsxs("div",{className:"text-[10px] text-slate-400 font-bold uppercase italic",children:["Created: ",L.date]}),g.jsxs("button",{onClick:H=>{H.stopPropagation(),U(L)},className:"flex items-center gap-2 px-6 py-2.5 text-white text-xs font-black rounded-xl transition-all shadow-lg hover:scale-[1.02]",style:{backgroundColor:o.color,boxShadow:`0 10px 15px -3px ${o.color}33`},children:[g.jsx(Zw,{className:"w-4 h-4"})," Print Thermal Receipt"]})]})]})})]},L._id))})})]})})]})},pke=()=>{var U;const{theme:t,toggleTheme:e,users:n,addUser:r,updateUser:i,deleteUser:o,currentUser:a,updateUserProfile:s,brand:l,updateBrand:u}=Ea(),[c,f]=D.useState("general"),[h,p]=D.useState(!1),[m,y]=D.useState(!1),[b,v]=D.useState(null),[w,x]=D.useState((a==null?void 0:a.displayName)||""),[A,_]=D.useState(!1);D.useEffect(()=>{a&&x(a.displayName)},[a]);const P=async()=>{try{await s({displayName:w}),_(!1),alert("Profile updated successfully!")}catch(F){console.error("Profile update error:",F),alert("Failed to update profile.")}},S=F=>{const L=F.target.files[0];if(L){if(L.size>500*1024)return alert("Avatar too large. Max 500KB.");const H=new FileReader;H.onloadend=async()=>{await s({photoURL:H.result})},H.readAsDataURL(L)}},[T,k]=D.useState({name:l.name,color:l.color,logo:l.logo,hideHeader:l.hideHeader||!1});D.useEffect(()=>{k({name:l.name,color:l.color,logo:l.logo,hideHeader:l.hideHeader||!1})},[l]);const N=async()=>{try{await u(T),alert("Branding settings saved successfully!")}catch{alert("Failed to save branding settings.")}},C=F=>{const L=F.target.files[0];if(L){if(L.size>1024*1024)return alert("File too large. Max 1MB.");const H=new FileReader;H.onloadend=()=>{k(X=>({...X,logo:H.result}))},H.readAsDataURL(L)}},[R,O]=D.useState({username:"",email:"",role:"Staff",password:"",displayName:""}),j=()=>{v(null),O({username:"",email:"",role:"Staff",password:"",displayName:""}),p(!0)},$=F=>{v(F),O({...F,password:""}),p(!0)},V=async F=>{F.preventDefault();try{b?(await i({...R,_id:b._id}),alert("User updated successfully!")):(await r({...R}),alert("User created successfully!")),p(!1)}catch(L){console.error("User management error:",L),alert("Failed to save user.")}},W=async F=>{if(window.confirm("Are you sure you want to delete this user?"))try{await o(F),alert("User deleted.")}catch{alert("Failed to delete user.")}};return g.jsxs(cd,{title:"Settings",children:[g.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[g.jsx("aside",{className:"w-full lg:w-64 bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-6",children:g.jsxs("nav",{className:"space-y-2",children:[g.jsxs("button",{onClick:()=>f("general"),className:`flex items-center gap-3 w-full px-4 py-2 rounded-xl text-left font-medium transition-colors ${c==="general"?"shadow-sm":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,style:c==="general"?{backgroundColor:`${l.color}15`,color:l.color}:{},children:[g.jsx(T$,{className:"w-5 h-5"})," General"]}),g.jsxs("button",{onClick:()=>f("account"),className:`flex items-center gap-3 w-full px-4 py-2 rounded-xl text-left font-medium transition-colors ${c==="account"?"shadow-sm":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,style:c==="account"?{backgroundColor:`${l.color}15`,color:l.color}:{},children:[g.jsx(WB,{className:"w-5 h-5"})," Account"]}),g.jsxs("button",{onClick:()=>f("users"),className:`flex items-center gap-3 w-full px-4 py-2 rounded-xl text-left font-medium transition-colors ${c==="users"?"shadow-sm":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,style:c==="users"?{backgroundColor:`${l.color}15`,color:l.color}:{},children:[g.jsx(PE,{className:"w-5 h-5"})," Users"]}),g.jsxs("button",{onClick:()=>f("security"),className:`flex items-center gap-3 w-full px-4 py-2 rounded-xl text-left font-medium transition-colors ${c==="security"?"shadow-sm":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,style:c==="security"?{backgroundColor:`${l.color}15`,color:l.color}:{},children:[g.jsx(NB,{className:"w-5 h-5"})," Security"]})]})}),g.jsxs("div",{className:"flex-1",children:[c==="general"&&g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[g.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:"General Settings"}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-3",children:"Theme"}),g.jsxs("div",{className:"flex space-x-4",children:[g.jsxs("button",{onClick:()=>e("light"),className:`flex flex-col items-center p-4 rounded-xl border-2 ${t==="light"?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"} transition-all`,children:[g.jsx(UB,{className:`w-6 h-6 mb-2 ${t==="light"?"text-indigo-600":"text-slate-500"}`}),g.jsx("span",{className:`text-sm font-medium ${t==="light"?"text-indigo-700 dark:text-indigo-300":"text-slate-600 dark:text-slate-400"}`,children:"Light"})]}),g.jsxs("button",{onClick:()=>e("dark"),className:`flex flex-col items-center p-4 rounded-xl border-2 ${t==="dark"?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"} transition-all`,children:[g.jsx(DB,{className:`w-6 h-6 mb-2 ${t==="dark"?"text-indigo-600":"text-slate-500"}`}),g.jsx("span",{className:`text-sm font-medium ${t==="dark"?"text-indigo-700 dark:text-indigo-300":"text-slate-600 dark:text-slate-400"}`,children:"Dark"})]}),g.jsxs("button",{onClick:()=>e("system"),className:`flex flex-col items-center p-4 rounded-xl border-2 ${t==="system"?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"} transition-all`,children:[g.jsx($B,{className:`w-6 h-6 mb-2 ${t==="system"?"text-indigo-600":"text-slate-500"}`}),g.jsx("span",{className:`text-sm font-medium ${t==="system"?"text-indigo-700 dark:text-indigo-300":"text-slate-600 dark:text-slate-400"}`,children:"System"})]})]})]}),g.jsx("div",{className:"pt-4 border-t border-slate-100 dark:border-slate-700",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:"Application Header"}),g.jsx("p",{className:"text-xs text-slate-500",children:"Show or hide the top navigation header"})]}),g.jsx("button",{onClick:()=>k({...T,hideHeader:!T.hideHeader}),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none",style:{backgroundColor:T.hideHeader?"#e2e8f0":l.color},children:g.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${T.hideHeader?"translate-x-1":"translate-x-6"}`})})]})})]}),g.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-100 dark:border-slate-700",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200",children:"Branding"}),g.jsx("button",{onClick:N,className:"px-4 py-2 text-white text-sm font-bold rounded-xl shadow-lg transition-all active:scale-95",style:{backgroundColor:l.color,boxShadow:`0 10px 15px -3px ${l.color}33`},children:"Save Branding Settings"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Application Name"}),g.jsx("input",{type:"text",value:T.name,onChange:F=>k({...T,name:F.target.value}),className:"w-full p-3 border border-slate-200 dark:border-slate-600 rounded-xl bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500/20"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Primary Color"}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("input",{type:"color",value:T.color,onChange:F=>k({...T,color:F.target.value}),className:"w-12 h-12 rounded-xl cursor-pointer border-0 p-0 overflow-hidden"}),g.jsx("span",{className:"text-slate-500 dark:text-slate-400 font-mono",children:T.color})]})]}),g.jsxs("div",{className:"md:col-span-2",children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Logo"}),g.jsxs("div",{className:"flex items-center gap-6",children:[g.jsx("div",{className:"w-20 h-20 rounded-xl flex items-center justify-center border border-slate-200 dark:border-slate-600 overflow-hidden bg-slate-100 dark:bg-slate-800",style:{backgroundColor:T.color},children:T.logo?g.jsx("img",{src:T.logo,alt:"Logo",className:"w-full h-full object-cover"}):g.jsx("span",{className:"text-white font-bold text-2xl",children:T.name.charAt(0)})}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("label",{className:"cursor-pointer inline-flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded-lg transition-colors font-medium text-sm",children:[g.jsx(A$,{className:"w-4 h-4"}),g.jsx("span",{children:"Upload Logo"}),g.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:C})]}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:"Recommended size: 512x512px. Max 1MB."}),T.logo&&g.jsx("button",{onClick:()=>k({...T,logo:null}),className:"mt-2 text-xs text-red-500 hover:text-red-600 font-medium",children:"Remove Logo"})]})]})]})]})]})]}),c==="account"&&g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[g.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:"Account Settings"}),g.jsxs("div",{className:"max-w-xl space-y-6",children:[g.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[g.jsx("div",{className:"w-24 h-24 bg-indigo-100 dark:bg-indigo-900/30 rounded-full flex items-center justify-center text-3xl font-bold text-indigo-600 dark:text-indigo-400 overflow-hidden border-4 border-white dark:border-slate-800 shadow-lg",children:a!=null&&a.photoURL?g.jsx("img",{src:a.photoURL,alt:"Avatar",className:"w-full h-full object-cover"}):((U=a==null?void 0:a.displayName)==null?void 0:U.charAt(0))||"U"}),g.jsxs("div",{children:[g.jsxs("label",{className:"cursor-pointer px-4 py-2 text-white text-sm font-bold rounded-xl shadow-lg transition-all inline-block hover:scale-[1.02]",style:{backgroundColor:l.color,boxShadow:`0 10px 15px -3px ${l.color}33`},children:["Change Avatar",g.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:S})]}),g.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"JPG, GIF or PNG. Max size of 800K"})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:"Display Name"}),g.jsx("input",{type:"text",id:"displayName",value:w,onChange:F=>x(F.target.value),disabled:!A,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all disabled:bg-slate-100 dark:disabled:bg-slate-700 disabled:text-slate-500 dark:disabled:text-slate-400"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:"Username"}),g.jsx("input",{type:"text",value:(a==null?void 0:a.username)||"",readOnly:!0,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 cursor-not-allowed"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:"Email Address"}),g.jsx("input",{type:"email",value:(a==null?void 0:a.email)||"",readOnly:!0,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 cursor-not-allowed"})]}),g.jsx("div",{className:"flex justify-end pt-4",children:A?g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:()=>{x((a==null?void 0:a.displayName)||""),_(!1)},className:"px-6 py-3 text-slate-600 dark:text-slate-300 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 rounded-xl transition-colors",children:"Cancel"}),g.jsx("button",{onClick:P,className:"px-6 py-3 text-white font-bold rounded-xl transition-all shadow-lg",style:{backgroundColor:l.color,boxShadow:`0 10px 15px -3px ${l.color}33`},children:"Save Changes"})]}):g.jsx("button",{onClick:()=>_(!0),className:"px-6 py-3 text-white font-bold rounded-xl transition-all shadow-lg",style:{backgroundColor:l.color,boxShadow:`0 10px 15px -3px ${l.color}33`},children:"Edit Profile"})})]})]}),c==="users"&&g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"User Management"}),g.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-4 py-2 text-white font-medium rounded-xl transition-colors shadow-lg",style:{backgroundColor:l.color,boxShadow:`0 10px 15px -3px ${l.color}33`},children:[g.jsx(Hf,{className:"w-5 h-5"})," Add User"]})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Username"}),g.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Display Name"}),g.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Email"}),g.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Role"}),g.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:n.map(F=>g.jsxs("tr",{children:[g.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-white",children:F.username}),g.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:F.displayName}),g.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:F.email}),g.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:F.role}),g.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:g.jsxs("div",{className:"flex items-center justify-end gap-2",children:[g.jsx("button",{onClick:()=>$(F),className:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300 transition-colors",children:g.jsx(Gf,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>W(F._id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 transition-colors",children:g.jsx(jm,{className:"w-4 h-4"})})]})})]},F._id))})]})})]}),c==="security"&&g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[g.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:"Security Settings"}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-3",children:"Password"}),g.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Change your account password."}),g.jsx("button",{onClick:()=>y(!0),className:"px-6 py-3 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 hover:shadow-lg hover:shadow-indigo-600/30 transition-all",children:"Change Password"})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-3",children:"Two-Factor Authentication (2FA)"}),g.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Add an extra layer of security to your account."}),g.jsx("button",{className:"px-6 py-3 text-white font-bold rounded-xl transition-all shadow-lg",style:{backgroundColor:l.color,boxShadow:`0 10px 15px -3px ${l.color}33`},children:"Enable 2FA"})]})]})]})]})]}),h&&g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md p-6",children:[g.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:b?"Edit User":"Add New User"}),g.jsxs("form",{onSubmit:V,className:"space-y-4",children:[g.jsx("input",{required:!0,placeholder:"Display Name",value:R.displayName,onChange:F=>O({...R,displayName:F.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),g.jsx("input",{required:!0,placeholder:"Username",value:R.username,onChange:F=>O({...R,username:F.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),g.jsx("input",{required:!0,placeholder:"Email",type:"email",value:R.email,onChange:F=>O({...R,email:F.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),g.jsxs("select",{value:R.role,onChange:F=>O({...R,role:F.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none",children:[g.jsx("option",{value:"Manager",children:"Manager"}),g.jsx("option",{value:"Staff",children:"Staff"}),g.jsx("option",{value:"Admin",children:"Admin"})]}),g.jsx("input",{placeholder:b?"Password (leave blank to keep)":"Password",type:"password",value:R.password,onChange:F=>O({...R,password:F.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none",required:!b}),g.jsxs("div",{className:"flex gap-3 mt-6",children:[g.jsx("button",{type:"button",onClick:()=>p(!1),className:"flex-1 py-3 text-slate-600 font-bold hover:bg-slate-100 rounded-xl transition-colors",children:"Cancel"}),g.jsx("button",{type:"submit",className:"flex-1 py-3 text-white font-bold rounded-xl transition-colors shadow-lg",style:{backgroundColor:l.color,boxShadow:`0 10px 15px -3px ${l.color}33`},children:b?"Update User":"Create User"})]})]})]})}),m&&g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md p-6",children:[g.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Change Password"}),g.jsxs("form",{onSubmit:F=>{F.preventDefault(),alert("Password changed successfully (Mock)"),y(!1)},className:"space-y-4",children:[g.jsx("input",{required:!0,placeholder:"Current Password",type:"password",className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),g.jsx("input",{required:!0,placeholder:"New Password",type:"password",className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),g.jsx("input",{required:!0,placeholder:"Confirm New Password",type:"password",className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),g.jsxs("div",{className:"flex gap-3 mt-6",children:[g.jsx("button",{type:"button",onClick:()=>y(!1),className:"flex-1 py-3 text-slate-600 font-bold hover:bg-slate-100 rounded-xl transition-colors",children:"Cancel"}),g.jsx("button",{type:"submit",className:"flex-1 py-3 text-white font-bold rounded-xl transition-colors shadow-lg",style:{backgroundColor:l.color,boxShadow:`0 10px 15px -3px ${l.color}33`},children:"Change Password"})]})]})]})})]})};function mke(){return g.jsx(QY,{children:g.jsx(pB,{children:g.jsxs(sB,{children:[g.jsx(Ua,{path:"/",element:g.jsx(cke,{})}),g.jsx(Ua,{path:"/products",element:g.jsx(fke,{})}),g.jsx(Ua,{path:"/orders",element:g.jsx(hke,{})}),g.jsx(Ua,{path:"/customers",element:g.jsx(dke,{})}),g.jsx(Ua,{path:"/settings",element:g.jsx(pke,{})}),g.jsx(Ua,{path:"*",element:g.jsx(oB,{to:"/",replace:!0})})]})})})}rw.createRoot(document.getElementById("root")).render(g.jsx(z.StrictMode,{children:g.jsx(mke,{})}));
