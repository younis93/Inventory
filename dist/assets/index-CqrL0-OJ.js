function iB(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Yp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var L$={exports:{}},iv={},F$={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lp=Symbol.for("react.element"),aB=Symbol.for("react.portal"),sB=Symbol.for("react.fragment"),oB=Symbol.for("react.strict_mode"),lB=Symbol.for("react.profiler"),cB=Symbol.for("react.provider"),uB=Symbol.for("react.context"),dB=Symbol.for("react.forward_ref"),fB=Symbol.for("react.suspense"),hB=Symbol.for("react.memo"),pB=Symbol.for("react.lazy"),nN=Symbol.iterator;function mB(t){return t===null||typeof t!="object"?null:(t=nN&&t[nN]||t["@@iterator"],typeof t=="function"?t:null)}var V$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U$=Object.assign,B$={};function Cu(t,e,n){this.props=t,this.context=e,this.refs=B$,this.updater=n||V$}Cu.prototype.isReactComponent={};Cu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Cu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function z$(){}z$.prototype=Cu.prototype;function xk(t,e,n){this.props=t,this.context=e,this.refs=B$,this.updater=n||V$}var bk=xk.prototype=new z$;bk.constructor=xk;U$(bk,Cu.prototype);bk.isPureReactComponent=!0;var rN=Array.isArray,q$=Object.prototype.hasOwnProperty,wk={current:null},W$={key:!0,ref:!0,__self:!0,__source:!0};function H$(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)q$.call(e,r)&&!W$.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:lp,type:t,key:a,ref:s,props:i,_owner:wk.current}}function gB(t,e){return{$$typeof:lp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _k(t){return typeof t=="object"&&t!==null&&t.$$typeof===lp}function yB(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var iN=/\/+/g;function nb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yB(""+t.key):e.toString(36)}function Hm(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case lp:case aB:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+nb(s,0):r,rN(i)?(n="",t!=null&&(n=t.replace(iN,"$&/")+"/"),Hm(i,e,n,"",function(c){return c})):i!=null&&(_k(i)&&(i=gB(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(iN,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",rN(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+nb(a,o);s+=Hm(a,e,n,l,i)}else if(l=mB(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+nb(a,o++),s+=Hm(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Qp(t,e,n){if(t==null)return t;var r=[],i=0;return Hm(t,r,"","",function(a){return e.call(n,a,i++)}),r}function vB(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sr={current:null},Gm={transition:null},xB={ReactCurrentDispatcher:sr,ReactCurrentBatchConfig:Gm,ReactCurrentOwner:wk};function G$(){throw Error("act(...) is not supported in production builds of React.")}Qe.Children={map:Qp,forEach:function(t,e,n){Qp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qp(t,function(){e++}),e},toArray:function(t){return Qp(t,function(e){return e})||[]},only:function(t){if(!_k(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Qe.Component=Cu;Qe.Fragment=sB;Qe.Profiler=lB;Qe.PureComponent=xk;Qe.StrictMode=oB;Qe.Suspense=fB;Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xB;Qe.act=G$;Qe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=U$({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=wk.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)q$.call(e,l)&&!W$.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:lp,type:t.type,key:i,ref:a,props:r,_owner:s}};Qe.createContext=function(t){return t={$$typeof:uB,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cB,_context:t},t.Consumer=t};Qe.createElement=H$;Qe.createFactory=function(t){var e=H$.bind(null,t);return e.type=t,e};Qe.createRef=function(){return{current:null}};Qe.forwardRef=function(t){return{$$typeof:dB,render:t}};Qe.isValidElement=_k;Qe.lazy=function(t){return{$$typeof:pB,_payload:{_status:-1,_result:t},_init:vB}};Qe.memo=function(t,e){return{$$typeof:hB,type:t,compare:e===void 0?null:e}};Qe.startTransition=function(t){var e=Gm.transition;Gm.transition={};try{t()}finally{Gm.transition=e}};Qe.unstable_act=G$;Qe.useCallback=function(t,e){return sr.current.useCallback(t,e)};Qe.useContext=function(t){return sr.current.useContext(t)};Qe.useDebugValue=function(){};Qe.useDeferredValue=function(t){return sr.current.useDeferredValue(t)};Qe.useEffect=function(t,e){return sr.current.useEffect(t,e)};Qe.useId=function(){return sr.current.useId()};Qe.useImperativeHandle=function(t,e,n){return sr.current.useImperativeHandle(t,e,n)};Qe.useInsertionEffect=function(t,e){return sr.current.useInsertionEffect(t,e)};Qe.useLayoutEffect=function(t,e){return sr.current.useLayoutEffect(t,e)};Qe.useMemo=function(t,e){return sr.current.useMemo(t,e)};Qe.useReducer=function(t,e,n){return sr.current.useReducer(t,e,n)};Qe.useRef=function(t){return sr.current.useRef(t)};Qe.useState=function(t){return sr.current.useState(t)};Qe.useSyncExternalStore=function(t,e,n){return sr.current.useSyncExternalStore(t,e,n)};Qe.useTransition=function(){return sr.current.useTransition()};Qe.version="18.3.1";F$.exports=Qe;var R=F$.exports;const z=vt(R),bB=iB({__proto__:null,default:z},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wB=R,_B=Symbol.for("react.element"),SB=Symbol.for("react.fragment"),kB=Object.prototype.hasOwnProperty,EB=wB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TB={key:!0,ref:!0,__self:!0,__source:!0};function K$(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)kB.call(e,r)&&!TB.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:_B,type:t,key:a,ref:s,props:i,_owner:EB.current}}iv.Fragment=SB;iv.jsx=K$;iv.jsxs=K$;L$.exports=iv;var f=L$.exports,Lw={},Y$={exports:{}},Fr={},Q$={exports:{}},X$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,U){var G=F.length;F.push(U);e:for(;0<G;){var Q=G-1>>>1,B=F[Q];if(0<i(B,U))F[Q]=U,F[G]=B,G=Q;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var U=F[0],G=F.pop();if(G!==U){F[0]=G;e:for(var Q=0,B=F.length,ae=B>>>1;Q<ae;){var ge=2*(Q+1)-1,ye=F[ge],Z=ge+1,te=F[Z];if(0>i(ye,G))Z<B&&0>i(te,ye)?(F[Q]=te,F[Z]=G,Q=Z):(F[Q]=ye,F[ge]=G,Q=ge);else if(Z<B&&0>i(te,G))F[Q]=te,F[Z]=G,Q=Z;else break e}}return U}function i(F,U){var G=F.sortIndex-U.sortIndex;return G!==0?G:F.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=F)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function S(F){if(y=!1,w(F),!g)if(n(l)!==null)g=!0,L(k);else{var U=n(c);U!==null&&W(S,U.startTime-F)}}function k(F,U){g=!1,y&&(y=!1,x(E),E=-1),p=!0;var G=h;try{for(w(U),d=n(l);d!==null&&(!(d.expirationTime>U)||F&&!C());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,h=d.priorityLevel;var B=Q(d.expirationTime<=U);U=t.unstable_now(),typeof B=="function"?d.callback=B:d===n(l)&&r(l),w(U)}else r(l);d=n(l)}if(d!==null)var ae=!0;else{var ge=n(c);ge!==null&&W(S,ge.startTime-U),ae=!1}return ae}finally{d=null,h=G,p=!1}}var P=!1,_=null,E=-1,N=5,A=-1;function C(){return!(t.unstable_now()-A<N)}function j(){if(_!==null){var F=t.unstable_now();A=F;var U=!0;try{U=_(!0,F)}finally{U?O():(P=!1,_=null)}}else P=!1}var O;if(typeof b=="function")O=function(){b(j)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,$=M.port2;M.port1.onmessage=j,O=function(){$.postMessage(null)}}else O=function(){v(j,0)};function L(F){_=F,P||(P=!0,O())}function W(F,U){E=v(function(){F(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,L(k))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var G=h;h=U;try{return F()}finally{h=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,U){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var G=h;h=F;try{return U()}finally{h=G}},t.unstable_scheduleCallback=function(F,U,G){var Q=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?Q+G:Q):G=Q,F){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=G+B,F={id:u++,callback:U,priorityLevel:F,startTime:G,expirationTime:B,sortIndex:-1},G>Q?(F.sortIndex=G,e(c,F),n(l)===null&&F===n(c)&&(y?(x(E),E=-1):y=!0,W(S,G-Q))):(F.sortIndex=B,e(l,F),g||p||(g=!0,L(k))),F},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(F){var U=h;return function(){var G=h;h=U;try{return F.apply(this,arguments)}finally{h=G}}}})(X$);Q$.exports=X$;var PB=Q$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NB=R,$r=PB;function fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var J$=new Set,Lf={};function Nl(t,e){Uc(t,e),Uc(t+"Capture",e)}function Uc(t,e){for(Lf[t]=e,t=0;t<e.length;t++)J$.add(e[t])}var za=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fw=Object.prototype.hasOwnProperty,AB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aN={},sN={};function IB(t){return Fw.call(sN,t)?!0:Fw.call(aN,t)?!1:AB.test(t)?sN[t]=!0:(aN[t]=!0,!1)}function OB(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function CB(t,e,n,r){if(e===null||typeof e>"u"||OB(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function or(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var In={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){In[t]=new or(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];In[e]=new or(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){In[t]=new or(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){In[t]=new or(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){In[t]=new or(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){In[t]=new or(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){In[t]=new or(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){In[t]=new or(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){In[t]=new or(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sk=/[\-:]([a-z])/g;function kk(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sk,kk);In[e]=new or(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sk,kk);In[e]=new or(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sk,kk);In[e]=new or(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){In[t]=new or(t,1,!1,t.toLowerCase(),null,!1,!1)});In.xlinkHref=new or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){In[t]=new or(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ek(t,e,n,r){var i=In.hasOwnProperty(e)?In[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(CB(e,n,i,r)&&(n=null),r||i===null?IB(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var is=NB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xp=Symbol.for("react.element"),rc=Symbol.for("react.portal"),ic=Symbol.for("react.fragment"),Tk=Symbol.for("react.strict_mode"),Vw=Symbol.for("react.profiler"),Z$=Symbol.for("react.provider"),eD=Symbol.for("react.context"),Pk=Symbol.for("react.forward_ref"),Uw=Symbol.for("react.suspense"),Bw=Symbol.for("react.suspense_list"),Nk=Symbol.for("react.memo"),bs=Symbol.for("react.lazy"),tD=Symbol.for("react.offscreen"),oN=Symbol.iterator;function vd(t){return t===null||typeof t!="object"?null:(t=oN&&t[oN]||t["@@iterator"],typeof t=="function"?t:null)}var $t=Object.assign,rb;function Wd(t){if(rb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rb=e&&e[1]||""}return`
`+rb+t}var ib=!1;function ab(t,e){if(!t||ib)return"";ib=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{ib=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Wd(t):""}function jB(t){switch(t.tag){case 5:return Wd(t.type);case 16:return Wd("Lazy");case 13:return Wd("Suspense");case 19:return Wd("SuspenseList");case 0:case 2:case 15:return t=ab(t.type,!1),t;case 11:return t=ab(t.type.render,!1),t;case 1:return t=ab(t.type,!0),t;default:return""}}function zw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ic:return"Fragment";case rc:return"Portal";case Vw:return"Profiler";case Tk:return"StrictMode";case Uw:return"Suspense";case Bw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case eD:return(t.displayName||"Context")+".Consumer";case Z$:return(t._context.displayName||"Context")+".Provider";case Pk:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Nk:return e=t.displayName||null,e!==null?e:zw(t.type)||"Memo";case bs:e=t._payload,t=t._init;try{return zw(t(e))}catch{}}return null}function RB(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zw(e);case 8:return e===Tk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ro(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nD(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function MB(t){var e=nD(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jp(t){t._valueTracker||(t._valueTracker=MB(t))}function rD(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=nD(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function kg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qw(t,e){var n=e.checked;return $t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lN(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ro(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iD(t,e){e=e.checked,e!=null&&Ek(t,"checked",e,!1)}function Ww(t,e){iD(t,e);var n=ro(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Hw(t,e.type,n):e.hasOwnProperty("defaultValue")&&Hw(t,e.type,ro(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function cN(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Hw(t,e,n){(e!=="number"||kg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Hd=Array.isArray;function Sc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ro(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Gw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(fe(91));return $t({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uN(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(fe(92));if(Hd(n)){if(1<n.length)throw Error(fe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ro(n)}}function aD(t,e){var n=ro(e.value),r=ro(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function dN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sD(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sD(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zp,oD=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zp=Zp||document.createElement("div"),Zp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ff(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var uf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$B=["Webkit","ms","Moz","O"];Object.keys(uf).forEach(function(t){$B.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),uf[e]=uf[t]})});function lD(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||uf.hasOwnProperty(t)&&uf[t]?(""+e).trim():e+"px"}function cD(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=lD(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var DB=$t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yw(t,e){if(e){if(DB[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(fe(62))}}function Qw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xw=null;function Ak(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jw=null,kc=null,Ec=null;function fN(t){if(t=dp(t)){if(typeof Jw!="function")throw Error(fe(280));var e=t.stateNode;e&&(e=cv(e),Jw(t.stateNode,t.type,e))}}function uD(t){kc?Ec?Ec.push(t):Ec=[t]:kc=t}function dD(){if(kc){var t=kc,e=Ec;if(Ec=kc=null,fN(t),e)for(t=0;t<e.length;t++)fN(e[t])}}function fD(t,e){return t(e)}function hD(){}var sb=!1;function pD(t,e,n){if(sb)return t(e,n);sb=!0;try{return fD(t,e,n)}finally{sb=!1,(kc!==null||Ec!==null)&&(hD(),dD())}}function Vf(t,e){var n=t.stateNode;if(n===null)return null;var r=cv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(fe(231,e,typeof n));return n}var Zw=!1;if(za)try{var xd={};Object.defineProperty(xd,"passive",{get:function(){Zw=!0}}),window.addEventListener("test",xd,xd),window.removeEventListener("test",xd,xd)}catch{Zw=!1}function LB(t,e,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var df=!1,Eg=null,Tg=!1,e1=null,FB={onError:function(t){df=!0,Eg=t}};function VB(t,e,n,r,i,a,s,o,l){df=!1,Eg=null,LB.apply(FB,arguments)}function UB(t,e,n,r,i,a,s,o,l){if(VB.apply(this,arguments),df){if(df){var c=Eg;df=!1,Eg=null}else throw Error(fe(198));Tg||(Tg=!0,e1=c)}}function Al(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function mD(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hN(t){if(Al(t)!==t)throw Error(fe(188))}function BB(t){var e=t.alternate;if(!e){if(e=Al(t),e===null)throw Error(fe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return hN(i),t;if(a===r)return hN(i),e;a=a.sibling}throw Error(fe(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(fe(189))}}if(n.alternate!==r)throw Error(fe(190))}if(n.tag!==3)throw Error(fe(188));return n.stateNode.current===n?t:e}function gD(t){return t=BB(t),t!==null?yD(t):null}function yD(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yD(t);if(e!==null)return e;t=t.sibling}return null}var vD=$r.unstable_scheduleCallback,pN=$r.unstable_cancelCallback,zB=$r.unstable_shouldYield,qB=$r.unstable_requestPaint,Wt=$r.unstable_now,WB=$r.unstable_getCurrentPriorityLevel,Ik=$r.unstable_ImmediatePriority,xD=$r.unstable_UserBlockingPriority,Pg=$r.unstable_NormalPriority,HB=$r.unstable_LowPriority,bD=$r.unstable_IdlePriority,av=null,Ji=null;function GB(t){if(Ji&&typeof Ji.onCommitFiberRoot=="function")try{Ji.onCommitFiberRoot(av,t,void 0,(t.current.flags&128)===128)}catch{}}var Ii=Math.clz32?Math.clz32:QB,KB=Math.log,YB=Math.LN2;function QB(t){return t>>>=0,t===0?32:31-(KB(t)/YB|0)|0}var em=64,tm=4194304;function Gd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ng(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=Gd(o):(a&=s,a!==0&&(r=Gd(a)))}else s=n&~i,s!==0?r=Gd(s):a!==0&&(r=Gd(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ii(e),i=1<<n,r|=t[n],e&=~i;return r}function XB(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JB(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-Ii(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=XB(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function t1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wD(){var t=em;return em<<=1,!(em&4194240)&&(em=64),t}function ob(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function cp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ii(e),t[e]=n}function ZB(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ii(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function Ok(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ii(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ct=0;function _D(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var SD,Ck,kD,ED,TD,n1=!1,nm=[],Ls=null,Fs=null,Vs=null,Uf=new Map,Bf=new Map,Es=[],e7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mN(t,e){switch(t){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":Uf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bf.delete(e.pointerId)}}function bd(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=dp(e),e!==null&&Ck(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function t7(t,e,n,r,i){switch(e){case"focusin":return Ls=bd(Ls,t,e,n,r,i),!0;case"dragenter":return Fs=bd(Fs,t,e,n,r,i),!0;case"mouseover":return Vs=bd(Vs,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Uf.set(a,bd(Uf.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Bf.set(a,bd(Bf.get(a)||null,t,e,n,r,i)),!0}return!1}function PD(t){var e=qo(t.target);if(e!==null){var n=Al(e);if(n!==null){if(e=n.tag,e===13){if(e=mD(n),e!==null){t.blockedOn=e,TD(t.priority,function(){kD(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Km(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=r1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Xw=r,n.target.dispatchEvent(r),Xw=null}else return e=dp(n),e!==null&&Ck(e),t.blockedOn=n,!1;e.shift()}return!0}function gN(t,e,n){Km(t)&&n.delete(e)}function n7(){n1=!1,Ls!==null&&Km(Ls)&&(Ls=null),Fs!==null&&Km(Fs)&&(Fs=null),Vs!==null&&Km(Vs)&&(Vs=null),Uf.forEach(gN),Bf.forEach(gN)}function wd(t,e){t.blockedOn===e&&(t.blockedOn=null,n1||(n1=!0,$r.unstable_scheduleCallback($r.unstable_NormalPriority,n7)))}function zf(t){function e(i){return wd(i,t)}if(0<nm.length){wd(nm[0],t);for(var n=1;n<nm.length;n++){var r=nm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ls!==null&&wd(Ls,t),Fs!==null&&wd(Fs,t),Vs!==null&&wd(Vs,t),Uf.forEach(e),Bf.forEach(e),n=0;n<Es.length;n++)r=Es[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Es.length&&(n=Es[0],n.blockedOn===null);)PD(n),n.blockedOn===null&&Es.shift()}var Tc=is.ReactCurrentBatchConfig,Ag=!0;function r7(t,e,n,r){var i=ct,a=Tc.transition;Tc.transition=null;try{ct=1,jk(t,e,n,r)}finally{ct=i,Tc.transition=a}}function i7(t,e,n,r){var i=ct,a=Tc.transition;Tc.transition=null;try{ct=4,jk(t,e,n,r)}finally{ct=i,Tc.transition=a}}function jk(t,e,n,r){if(Ag){var i=r1(t,e,n,r);if(i===null)yb(t,e,r,Ig,n),mN(t,r);else if(t7(i,t,e,n,r))r.stopPropagation();else if(mN(t,r),e&4&&-1<e7.indexOf(t)){for(;i!==null;){var a=dp(i);if(a!==null&&SD(a),a=r1(t,e,n,r),a===null&&yb(t,e,r,Ig,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else yb(t,e,r,null,n)}}var Ig=null;function r1(t,e,n,r){if(Ig=null,t=Ak(r),t=qo(t),t!==null)if(e=Al(t),e===null)t=null;else if(n=e.tag,n===13){if(t=mD(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ig=t,null}function ND(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WB()){case Ik:return 1;case xD:return 4;case Pg:case HB:return 16;case bD:return 536870912;default:return 16}default:return 16}}var Cs=null,Rk=null,Ym=null;function AD(){if(Ym)return Ym;var t,e=Rk,n=e.length,r,i="value"in Cs?Cs.value:Cs.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return Ym=i.slice(t,1<r?1-r:void 0)}function Qm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rm(){return!0}function yN(){return!1}function Vr(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?rm:yN,this.isPropagationStopped=yN,this}return $t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rm)},persist:function(){},isPersistent:rm}),e}var ju={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mk=Vr(ju),up=$t({},ju,{view:0,detail:0}),a7=Vr(up),lb,cb,_d,sv=$t({},up,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$k,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_d&&(_d&&t.type==="mousemove"?(lb=t.screenX-_d.screenX,cb=t.screenY-_d.screenY):cb=lb=0,_d=t),lb)},movementY:function(t){return"movementY"in t?t.movementY:cb}}),vN=Vr(sv),s7=$t({},sv,{dataTransfer:0}),o7=Vr(s7),l7=$t({},up,{relatedTarget:0}),ub=Vr(l7),c7=$t({},ju,{animationName:0,elapsedTime:0,pseudoElement:0}),u7=Vr(c7),d7=$t({},ju,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),f7=Vr(d7),h7=$t({},ju,{data:0}),xN=Vr(h7),p7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y7(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=g7[t])?!!e[t]:!1}function $k(){return y7}var v7=$t({},up,{key:function(t){if(t.key){var e=p7[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?m7[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$k,charCode:function(t){return t.type==="keypress"?Qm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),x7=Vr(v7),b7=$t({},sv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bN=Vr(b7),w7=$t({},up,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$k}),_7=Vr(w7),S7=$t({},ju,{propertyName:0,elapsedTime:0,pseudoElement:0}),k7=Vr(S7),E7=$t({},sv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),T7=Vr(E7),P7=[9,13,27,32],Dk=za&&"CompositionEvent"in window,ff=null;za&&"documentMode"in document&&(ff=document.documentMode);var N7=za&&"TextEvent"in window&&!ff,ID=za&&(!Dk||ff&&8<ff&&11>=ff),wN=" ",_N=!1;function OD(t,e){switch(t){case"keyup":return P7.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CD(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ac=!1;function A7(t,e){switch(t){case"compositionend":return CD(e);case"keypress":return e.which!==32?null:(_N=!0,wN);case"textInput":return t=e.data,t===wN&&_N?null:t;default:return null}}function I7(t,e){if(ac)return t==="compositionend"||!Dk&&OD(t,e)?(t=AD(),Ym=Rk=Cs=null,ac=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ID&&e.locale!=="ko"?null:e.data;default:return null}}var O7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function SN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!O7[t.type]:e==="textarea"}function jD(t,e,n,r){uD(r),e=Og(e,"onChange"),0<e.length&&(n=new Mk("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hf=null,qf=null;function C7(t){qD(t,0)}function ov(t){var e=lc(t);if(rD(e))return t}function j7(t,e){if(t==="change")return e}var RD=!1;if(za){var db;if(za){var fb="oninput"in document;if(!fb){var kN=document.createElement("div");kN.setAttribute("oninput","return;"),fb=typeof kN.oninput=="function"}db=fb}else db=!1;RD=db&&(!document.documentMode||9<document.documentMode)}function EN(){hf&&(hf.detachEvent("onpropertychange",MD),qf=hf=null)}function MD(t){if(t.propertyName==="value"&&ov(qf)){var e=[];jD(e,qf,t,Ak(t)),pD(C7,e)}}function R7(t,e,n){t==="focusin"?(EN(),hf=e,qf=n,hf.attachEvent("onpropertychange",MD)):t==="focusout"&&EN()}function M7(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ov(qf)}function $7(t,e){if(t==="click")return ov(e)}function D7(t,e){if(t==="input"||t==="change")return ov(e)}function L7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ri=typeof Object.is=="function"?Object.is:L7;function Wf(t,e){if(Ri(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Fw.call(e,i)||!Ri(t[i],e[i]))return!1}return!0}function TN(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function PN(t,e){var n=TN(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=TN(n)}}function $D(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$D(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function DD(){for(var t=window,e=kg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=kg(t.document)}return e}function Lk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function F7(t){var e=DD(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$D(n.ownerDocument.documentElement,n)){if(r!==null&&Lk(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=PN(n,a);var s=PN(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var V7=za&&"documentMode"in document&&11>=document.documentMode,sc=null,i1=null,pf=null,a1=!1;function NN(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;a1||sc==null||sc!==kg(r)||(r=sc,"selectionStart"in r&&Lk(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pf&&Wf(pf,r)||(pf=r,r=Og(i1,"onSelect"),0<r.length&&(e=new Mk("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=sc)))}function im(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var oc={animationend:im("Animation","AnimationEnd"),animationiteration:im("Animation","AnimationIteration"),animationstart:im("Animation","AnimationStart"),transitionend:im("Transition","TransitionEnd")},hb={},LD={};za&&(LD=document.createElement("div").style,"AnimationEvent"in window||(delete oc.animationend.animation,delete oc.animationiteration.animation,delete oc.animationstart.animation),"TransitionEvent"in window||delete oc.transitionend.transition);function lv(t){if(hb[t])return hb[t];if(!oc[t])return t;var e=oc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in LD)return hb[t]=e[n];return t}var FD=lv("animationend"),VD=lv("animationiteration"),UD=lv("animationstart"),BD=lv("transitionend"),zD=new Map,AN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function po(t,e){zD.set(t,e),Nl(e,[t])}for(var pb=0;pb<AN.length;pb++){var mb=AN[pb],U7=mb.toLowerCase(),B7=mb[0].toUpperCase()+mb.slice(1);po(U7,"on"+B7)}po(FD,"onAnimationEnd");po(VD,"onAnimationIteration");po(UD,"onAnimationStart");po("dblclick","onDoubleClick");po("focusin","onFocus");po("focusout","onBlur");po(BD,"onTransitionEnd");Uc("onMouseEnter",["mouseout","mouseover"]);Uc("onMouseLeave",["mouseout","mouseover"]);Uc("onPointerEnter",["pointerout","pointerover"]);Uc("onPointerLeave",["pointerout","pointerover"]);Nl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z7=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kd));function IN(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,UB(r,e,void 0,t),t.currentTarget=null}function qD(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;IN(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;IN(i,o,c),a=l}}}if(Tg)throw t=e1,Tg=!1,e1=null,t}function kt(t,e){var n=e[u1];n===void 0&&(n=e[u1]=new Set);var r=t+"__bubble";n.has(r)||(WD(e,t,2,!1),n.add(r))}function gb(t,e,n){var r=0;e&&(r|=4),WD(n,t,r,e)}var am="_reactListening"+Math.random().toString(36).slice(2);function Hf(t){if(!t[am]){t[am]=!0,J$.forEach(function(n){n!=="selectionchange"&&(z7.has(n)||gb(n,!1,t),gb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[am]||(e[am]=!0,gb("selectionchange",!1,e))}}function WD(t,e,n,r){switch(ND(e)){case 1:var i=r7;break;case 4:i=i7;break;default:i=jk}n=i.bind(null,e,n,t),i=void 0,!Zw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function yb(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=qo(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}pD(function(){var c=a,u=Ak(n),d=[];e:{var h=zD.get(t);if(h!==void 0){var p=Mk,g=t;switch(t){case"keypress":if(Qm(n)===0)break e;case"keydown":case"keyup":p=x7;break;case"focusin":g="focus",p=ub;break;case"focusout":g="blur",p=ub;break;case"beforeblur":case"afterblur":p=ub;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=vN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=o7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=_7;break;case FD:case VD:case UD:p=u7;break;case BD:p=k7;break;case"scroll":p=a7;break;case"wheel":p=T7;break;case"copy":case"cut":case"paste":p=f7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=bN}var y=(e&4)!==0,v=!y&&t==="scroll",x=y?h!==null?h+"Capture":null:h;y=[];for(var b=c,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,x!==null&&(S=Vf(b,x),S!=null&&y.push(Gf(b,S,w)))),v)break;b=b.return}0<y.length&&(h=new p(h,g,null,n,u),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Xw&&(g=n.relatedTarget||n.fromElement)&&(qo(g)||g[qa]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?qo(g):null,g!==null&&(v=Al(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(y=vN,S="onMouseLeave",x="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(y=bN,S="onPointerLeave",x="onPointerEnter",b="pointer"),v=p==null?h:lc(p),w=g==null?h:lc(g),h=new y(S,b+"leave",p,n,u),h.target=v,h.relatedTarget=w,S=null,qo(u)===c&&(y=new y(x,b+"enter",g,n,u),y.target=w,y.relatedTarget=v,S=y),v=S,p&&g)t:{for(y=p,x=g,b=0,w=y;w;w=ql(w))b++;for(w=0,S=x;S;S=ql(S))w++;for(;0<b-w;)y=ql(y),b--;for(;0<w-b;)x=ql(x),w--;for(;b--;){if(y===x||x!==null&&y===x.alternate)break t;y=ql(y),x=ql(x)}y=null}else y=null;p!==null&&ON(d,h,p,y,!1),g!==null&&v!==null&&ON(d,v,g,y,!0)}}e:{if(h=c?lc(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var k=j7;else if(SN(h))if(RD)k=D7;else{k=M7;var P=R7}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=$7);if(k&&(k=k(t,c))){jD(d,k,n,u);break e}P&&P(t,h,c),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&Hw(h,"number",h.value)}switch(P=c?lc(c):window,t){case"focusin":(SN(P)||P.contentEditable==="true")&&(sc=P,i1=c,pf=null);break;case"focusout":pf=i1=sc=null;break;case"mousedown":a1=!0;break;case"contextmenu":case"mouseup":case"dragend":a1=!1,NN(d,n,u);break;case"selectionchange":if(V7)break;case"keydown":case"keyup":NN(d,n,u)}var _;if(Dk)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ac?OD(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(ID&&n.locale!=="ko"&&(ac||E!=="onCompositionStart"?E==="onCompositionEnd"&&ac&&(_=AD()):(Cs=u,Rk="value"in Cs?Cs.value:Cs.textContent,ac=!0)),P=Og(c,E),0<P.length&&(E=new xN(E,t,null,n,u),d.push({event:E,listeners:P}),_?E.data=_:(_=CD(n),_!==null&&(E.data=_)))),(_=N7?A7(t,n):I7(t,n))&&(c=Og(c,"onBeforeInput"),0<c.length&&(u=new xN("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=_))}qD(d,e)})}function Gf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Og(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Vf(t,n),a!=null&&r.unshift(Gf(t,a,i)),a=Vf(t,e),a!=null&&r.push(Gf(t,a,i))),t=t.return}return r}function ql(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ON(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=Vf(n,a),l!=null&&s.unshift(Gf(n,l,o))):i||(l=Vf(n,a),l!=null&&s.push(Gf(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var q7=/\r\n?/g,W7=/\u0000|\uFFFD/g;function CN(t){return(typeof t=="string"?t:""+t).replace(q7,`
`).replace(W7,"")}function sm(t,e,n){if(e=CN(e),CN(t)!==e&&n)throw Error(fe(425))}function Cg(){}var s1=null,o1=null;function l1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var c1=typeof setTimeout=="function"?setTimeout:void 0,H7=typeof clearTimeout=="function"?clearTimeout:void 0,jN=typeof Promise=="function"?Promise:void 0,G7=typeof queueMicrotask=="function"?queueMicrotask:typeof jN<"u"?function(t){return jN.resolve(null).then(t).catch(K7)}:c1;function K7(t){setTimeout(function(){throw t})}function vb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),zf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zf(e)}function Us(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function RN(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ru=Math.random().toString(36).slice(2),Wi="__reactFiber$"+Ru,Kf="__reactProps$"+Ru,qa="__reactContainer$"+Ru,u1="__reactEvents$"+Ru,Y7="__reactListeners$"+Ru,Q7="__reactHandles$"+Ru;function qo(t){var e=t[Wi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qa]||n[Wi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=RN(t);t!==null;){if(n=t[Wi])return n;t=RN(t)}return e}t=n,n=t.parentNode}return null}function dp(t){return t=t[Wi]||t[qa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function lc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(fe(33))}function cv(t){return t[Kf]||null}var d1=[],cc=-1;function mo(t){return{current:t}}function Nt(t){0>cc||(t.current=d1[cc],d1[cc]=null,cc--)}function wt(t,e){cc++,d1[cc]=t.current,t.current=e}var io={},zn=mo(io),mr=mo(!1),ll=io;function Bc(t,e){var n=t.type.contextTypes;if(!n)return io;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function gr(t){return t=t.childContextTypes,t!=null}function jg(){Nt(mr),Nt(zn)}function MN(t,e,n){if(zn.current!==io)throw Error(fe(168));wt(zn,e),wt(mr,n)}function HD(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(fe(108,RB(t)||"Unknown",i));return $t({},n,r)}function Rg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||io,ll=zn.current,wt(zn,t),wt(mr,mr.current),!0}function $N(t,e,n){var r=t.stateNode;if(!r)throw Error(fe(169));n?(t=HD(t,e,ll),r.__reactInternalMemoizedMergedChildContext=t,Nt(mr),Nt(zn),wt(zn,t)):Nt(mr),wt(mr,n)}var Sa=null,uv=!1,xb=!1;function GD(t){Sa===null?Sa=[t]:Sa.push(t)}function X7(t){uv=!0,GD(t)}function go(){if(!xb&&Sa!==null){xb=!0;var t=0,e=ct;try{var n=Sa;for(ct=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Sa=null,uv=!1}catch(i){throw Sa!==null&&(Sa=Sa.slice(t+1)),vD(Ik,go),i}finally{ct=e,xb=!1}}return null}var uc=[],dc=0,Mg=null,$g=0,Gr=[],Kr=0,cl=null,Aa=1,Ia="";function $o(t,e){uc[dc++]=$g,uc[dc++]=Mg,Mg=t,$g=e}function KD(t,e,n){Gr[Kr++]=Aa,Gr[Kr++]=Ia,Gr[Kr++]=cl,cl=t;var r=Aa;t=Ia;var i=32-Ii(r)-1;r&=~(1<<i),n+=1;var a=32-Ii(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Aa=1<<32-Ii(e)+i|n<<i|r,Ia=a+t}else Aa=1<<a|n<<i|r,Ia=t}function Fk(t){t.return!==null&&($o(t,1),KD(t,1,0))}function Vk(t){for(;t===Mg;)Mg=uc[--dc],uc[dc]=null,$g=uc[--dc],uc[dc]=null;for(;t===cl;)cl=Gr[--Kr],Gr[Kr]=null,Ia=Gr[--Kr],Gr[Kr]=null,Aa=Gr[--Kr],Gr[Kr]=null}var jr=null,Ir=null,At=!1,bi=null;function YD(t,e){var n=Jr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function DN(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jr=t,Ir=Us(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jr=t,Ir=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cl!==null?{id:Aa,overflow:Ia}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Jr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jr=t,Ir=null,!0):!1;default:return!1}}function f1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function h1(t){if(At){var e=Ir;if(e){var n=e;if(!DN(t,e)){if(f1(t))throw Error(fe(418));e=Us(n.nextSibling);var r=jr;e&&DN(t,e)?YD(r,n):(t.flags=t.flags&-4097|2,At=!1,jr=t)}}else{if(f1(t))throw Error(fe(418));t.flags=t.flags&-4097|2,At=!1,jr=t}}}function LN(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jr=t}function om(t){if(t!==jr)return!1;if(!At)return LN(t),At=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!l1(t.type,t.memoizedProps)),e&&(e=Ir)){if(f1(t))throw QD(),Error(fe(418));for(;e;)YD(t,e),e=Us(e.nextSibling)}if(LN(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ir=Us(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ir=null}}else Ir=jr?Us(t.stateNode.nextSibling):null;return!0}function QD(){for(var t=Ir;t;)t=Us(t.nextSibling)}function zc(){Ir=jr=null,At=!1}function Uk(t){bi===null?bi=[t]:bi.push(t)}var J7=is.ReactCurrentBatchConfig;function Sd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(fe(309));var r=n.stateNode}if(!r)throw Error(fe(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(fe(284));if(!n._owner)throw Error(fe(290,t))}return t}function lm(t,e){throw t=Object.prototype.toString.call(e),Error(fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function FN(t){var e=t._init;return e(t._payload)}function XD(t){function e(x,b){if(t){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function n(x,b){if(!t)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=Ws(x,b),x.index=0,x.sibling=null,x}function a(x,b,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,b,w,S){return b===null||b.tag!==6?(b=Tb(w,x.mode,S),b.return=x,b):(b=i(b,w),b.return=x,b)}function l(x,b,w,S){var k=w.type;return k===ic?u(x,b,w.props.children,S,w.key):b!==null&&(b.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===bs&&FN(k)===b.type)?(S=i(b,w.props),S.ref=Sd(x,b,w),S.return=x,S):(S=rg(w.type,w.key,w.props,null,x.mode,S),S.ref=Sd(x,b,w),S.return=x,S)}function c(x,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Pb(w,x.mode,S),b.return=x,b):(b=i(b,w.children||[]),b.return=x,b)}function u(x,b,w,S,k){return b===null||b.tag!==7?(b=tl(w,x.mode,S,k),b.return=x,b):(b=i(b,w),b.return=x,b)}function d(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Tb(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Xp:return w=rg(b.type,b.key,b.props,null,x.mode,w),w.ref=Sd(x,null,b),w.return=x,w;case rc:return b=Pb(b,x.mode,w),b.return=x,b;case bs:var S=b._init;return d(x,S(b._payload),w)}if(Hd(b)||vd(b))return b=tl(b,x.mode,w,null),b.return=x,b;lm(x,b)}return null}function h(x,b,w,S){var k=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:o(x,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xp:return w.key===k?l(x,b,w,S):null;case rc:return w.key===k?c(x,b,w,S):null;case bs:return k=w._init,h(x,b,k(w._payload),S)}if(Hd(w)||vd(w))return k!==null?null:u(x,b,w,S,null);lm(x,w)}return null}function p(x,b,w,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(w)||null,o(b,x,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Xp:return x=x.get(S.key===null?w:S.key)||null,l(b,x,S,k);case rc:return x=x.get(S.key===null?w:S.key)||null,c(b,x,S,k);case bs:var P=S._init;return p(x,b,w,P(S._payload),k)}if(Hd(S)||vd(S))return x=x.get(w)||null,u(b,x,S,k,null);lm(b,S)}return null}function g(x,b,w,S){for(var k=null,P=null,_=b,E=b=0,N=null;_!==null&&E<w.length;E++){_.index>E?(N=_,_=null):N=_.sibling;var A=h(x,_,w[E],S);if(A===null){_===null&&(_=N);break}t&&_&&A.alternate===null&&e(x,_),b=a(A,b,E),P===null?k=A:P.sibling=A,P=A,_=N}if(E===w.length)return n(x,_),At&&$o(x,E),k;if(_===null){for(;E<w.length;E++)_=d(x,w[E],S),_!==null&&(b=a(_,b,E),P===null?k=_:P.sibling=_,P=_);return At&&$o(x,E),k}for(_=r(x,_);E<w.length;E++)N=p(_,x,E,w[E],S),N!==null&&(t&&N.alternate!==null&&_.delete(N.key===null?E:N.key),b=a(N,b,E),P===null?k=N:P.sibling=N,P=N);return t&&_.forEach(function(C){return e(x,C)}),At&&$o(x,E),k}function y(x,b,w,S){var k=vd(w);if(typeof k!="function")throw Error(fe(150));if(w=k.call(w),w==null)throw Error(fe(151));for(var P=k=null,_=b,E=b=0,N=null,A=w.next();_!==null&&!A.done;E++,A=w.next()){_.index>E?(N=_,_=null):N=_.sibling;var C=h(x,_,A.value,S);if(C===null){_===null&&(_=N);break}t&&_&&C.alternate===null&&e(x,_),b=a(C,b,E),P===null?k=C:P.sibling=C,P=C,_=N}if(A.done)return n(x,_),At&&$o(x,E),k;if(_===null){for(;!A.done;E++,A=w.next())A=d(x,A.value,S),A!==null&&(b=a(A,b,E),P===null?k=A:P.sibling=A,P=A);return At&&$o(x,E),k}for(_=r(x,_);!A.done;E++,A=w.next())A=p(_,x,E,A.value,S),A!==null&&(t&&A.alternate!==null&&_.delete(A.key===null?E:A.key),b=a(A,b,E),P===null?k=A:P.sibling=A,P=A);return t&&_.forEach(function(j){return e(x,j)}),At&&$o(x,E),k}function v(x,b,w,S){if(typeof w=="object"&&w!==null&&w.type===ic&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Xp:e:{for(var k=w.key,P=b;P!==null;){if(P.key===k){if(k=w.type,k===ic){if(P.tag===7){n(x,P.sibling),b=i(P,w.props.children),b.return=x,x=b;break e}}else if(P.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===bs&&FN(k)===P.type){n(x,P.sibling),b=i(P,w.props),b.ref=Sd(x,P,w),b.return=x,x=b;break e}n(x,P);break}else e(x,P);P=P.sibling}w.type===ic?(b=tl(w.props.children,x.mode,S,w.key),b.return=x,x=b):(S=rg(w.type,w.key,w.props,null,x.mode,S),S.ref=Sd(x,b,w),S.return=x,x=S)}return s(x);case rc:e:{for(P=w.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(x,b.sibling),b=i(b,w.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else e(x,b);b=b.sibling}b=Pb(w,x.mode,S),b.return=x,x=b}return s(x);case bs:return P=w._init,v(x,b,P(w._payload),S)}if(Hd(w))return g(x,b,w,S);if(vd(w))return y(x,b,w,S);lm(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(x,b.sibling),b=i(b,w),b.return=x,x=b):(n(x,b),b=Tb(w,x.mode,S),b.return=x,x=b),s(x)):n(x,b)}return v}var qc=XD(!0),JD=XD(!1),Dg=mo(null),Lg=null,fc=null,Bk=null;function zk(){Bk=fc=Lg=null}function qk(t){var e=Dg.current;Nt(Dg),t._currentValue=e}function p1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Pc(t,e){Lg=t,Bk=fc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hr=!0),t.firstContext=null)}function si(t){var e=t._currentValue;if(Bk!==t)if(t={context:t,memoizedValue:e,next:null},fc===null){if(Lg===null)throw Error(fe(308));fc=t,Lg.dependencies={lanes:0,firstContext:t}}else fc=fc.next=t;return e}var Wo=null;function Wk(t){Wo===null?Wo=[t]:Wo.push(t)}function ZD(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Wk(e)):(n.next=i.next,i.next=n),e.interleaved=n,Wa(t,r)}function Wa(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ws=!1;function Hk(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function e4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function La(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,rt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Wa(t,n)}return i=r.interleaved,i===null?(e.next=e,Wk(r)):(e.next=i.next,i.next=e),r.interleaved=e,Wa(t,n)}function Xm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ok(t,n)}}function VN(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fg(t,e,n,r){var i=t.updateQueue;ws=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;s=0,u=c=l=null,o=a;do{var h=o.lane,p=o.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,y=o;switch(h=e,p=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=$t({},d,h);break e;case 2:ws=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);dl|=s,t.lanes=s,t.memoizedState=d}}function UN(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(fe(191,i));i.call(r)}}}var fp={},Zi=mo(fp),Yf=mo(fp),Qf=mo(fp);function Ho(t){if(t===fp)throw Error(fe(174));return t}function Gk(t,e){switch(wt(Qf,e),wt(Yf,t),wt(Zi,fp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Kw(e,t)}Nt(Zi),wt(Zi,e)}function Wc(){Nt(Zi),Nt(Yf),Nt(Qf)}function t4(t){Ho(Qf.current);var e=Ho(Zi.current),n=Kw(e,t.type);e!==n&&(wt(Yf,t),wt(Zi,n))}function Kk(t){Yf.current===t&&(Nt(Zi),Nt(Yf))}var Ct=mo(0);function Vg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bb=[];function Yk(){for(var t=0;t<bb.length;t++)bb[t]._workInProgressVersionPrimary=null;bb.length=0}var Jm=is.ReactCurrentDispatcher,wb=is.ReactCurrentBatchConfig,ul=0,Mt=null,sn=null,pn=null,Ug=!1,mf=!1,Xf=0,Z7=0;function jn(){throw Error(fe(321))}function Qk(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ri(t[n],e[n]))return!1;return!0}function Xk(t,e,n,r,i,a){if(ul=a,Mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jm.current=t===null||t.memoizedState===null?rz:iz,t=n(r,i),mf){a=0;do{if(mf=!1,Xf=0,25<=a)throw Error(fe(301));a+=1,pn=sn=null,e.updateQueue=null,Jm.current=az,t=n(r,i)}while(mf)}if(Jm.current=Bg,e=sn!==null&&sn.next!==null,ul=0,pn=sn=Mt=null,Ug=!1,e)throw Error(fe(300));return t}function Jk(){var t=Xf!==0;return Xf=0,t}function Bi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Mt.memoizedState=pn=t:pn=pn.next=t,pn}function oi(){if(sn===null){var t=Mt.alternate;t=t!==null?t.memoizedState:null}else t=sn.next;var e=pn===null?Mt.memoizedState:pn.next;if(e!==null)pn=e,sn=t;else{if(t===null)throw Error(fe(310));sn=t,t={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},pn===null?Mt.memoizedState=pn=t:pn=pn.next=t}return pn}function Jf(t,e){return typeof e=="function"?e(t):e}function _b(t){var e=oi(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var r=sn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var u=c.lane;if((ul&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,s=r):l=l.next=d,Mt.lanes|=u,dl|=u}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,Ri(r,e.memoizedState)||(hr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,Mt.lanes|=a,dl|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Sb(t){var e=oi(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);Ri(a,e.memoizedState)||(hr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function n4(){}function r4(t,e){var n=Mt,r=oi(),i=e(),a=!Ri(r.memoizedState,i);if(a&&(r.memoizedState=i,hr=!0),r=r.queue,Zk(s4.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||pn!==null&&pn.memoizedState.tag&1){if(n.flags|=2048,Zf(9,a4.bind(null,n,r,i,e),void 0,null),mn===null)throw Error(fe(349));ul&30||i4(n,e,i)}return i}function i4(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Mt.updateQueue,e===null?(e={lastEffect:null,stores:null},Mt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function a4(t,e,n,r){e.value=n,e.getSnapshot=r,o4(e)&&l4(t)}function s4(t,e,n){return n(function(){o4(e)&&l4(t)})}function o4(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ri(t,n)}catch{return!0}}function l4(t){var e=Wa(t,1);e!==null&&Oi(e,t,1,-1)}function BN(t){var e=Bi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jf,lastRenderedState:t},e.queue=t,t=t.dispatch=nz.bind(null,Mt,t),[e.memoizedState,t]}function Zf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Mt.updateQueue,e===null?(e={lastEffect:null,stores:null},Mt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function c4(){return oi().memoizedState}function Zm(t,e,n,r){var i=Bi();Mt.flags|=t,i.memoizedState=Zf(1|e,n,void 0,r===void 0?null:r)}function dv(t,e,n,r){var i=oi();r=r===void 0?null:r;var a=void 0;if(sn!==null){var s=sn.memoizedState;if(a=s.destroy,r!==null&&Qk(r,s.deps)){i.memoizedState=Zf(e,n,a,r);return}}Mt.flags|=t,i.memoizedState=Zf(1|e,n,a,r)}function zN(t,e){return Zm(8390656,8,t,e)}function Zk(t,e){return dv(2048,8,t,e)}function u4(t,e){return dv(4,2,t,e)}function d4(t,e){return dv(4,4,t,e)}function f4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function h4(t,e,n){return n=n!=null?n.concat([t]):null,dv(4,4,f4.bind(null,e,t),n)}function eE(){}function p4(t,e){var n=oi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qk(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function m4(t,e){var n=oi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qk(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function g4(t,e,n){return ul&21?(Ri(n,e)||(n=wD(),Mt.lanes|=n,dl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hr=!0),t.memoizedState=n)}function ez(t,e){var n=ct;ct=n!==0&&4>n?n:4,t(!0);var r=wb.transition;wb.transition={};try{t(!1),e()}finally{ct=n,wb.transition=r}}function y4(){return oi().memoizedState}function tz(t,e,n){var r=qs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},v4(t))x4(e,n);else if(n=ZD(t,e,n,r),n!==null){var i=tr();Oi(n,t,r,i),b4(n,e,r)}}function nz(t,e,n){var r=qs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(v4(t))x4(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Ri(o,s)){var l=e.interleaved;l===null?(i.next=i,Wk(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=ZD(t,e,i,r),n!==null&&(i=tr(),Oi(n,t,r,i),b4(n,e,r))}}function v4(t){var e=t.alternate;return t===Mt||e!==null&&e===Mt}function x4(t,e){mf=Ug=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function b4(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ok(t,n)}}var Bg={readContext:si,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useInsertionEffect:jn,useLayoutEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useMutableSource:jn,useSyncExternalStore:jn,useId:jn,unstable_isNewReconciler:!1},rz={readContext:si,useCallback:function(t,e){return Bi().memoizedState=[t,e===void 0?null:e],t},useContext:si,useEffect:zN,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zm(4194308,4,f4.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zm(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zm(4,2,t,e)},useMemo:function(t,e){var n=Bi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Bi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=tz.bind(null,Mt,t),[r.memoizedState,t]},useRef:function(t){var e=Bi();return t={current:t},e.memoizedState=t},useState:BN,useDebugValue:eE,useDeferredValue:function(t){return Bi().memoizedState=t},useTransition:function(){var t=BN(!1),e=t[0];return t=ez.bind(null,t[1]),Bi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Mt,i=Bi();if(At){if(n===void 0)throw Error(fe(407));n=n()}else{if(n=e(),mn===null)throw Error(fe(349));ul&30||i4(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,zN(s4.bind(null,r,a,t),[t]),r.flags|=2048,Zf(9,a4.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Bi(),e=mn.identifierPrefix;if(At){var n=Ia,r=Aa;n=(r&~(1<<32-Ii(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Z7++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},iz={readContext:si,useCallback:p4,useContext:si,useEffect:Zk,useImperativeHandle:h4,useInsertionEffect:u4,useLayoutEffect:d4,useMemo:m4,useReducer:_b,useRef:c4,useState:function(){return _b(Jf)},useDebugValue:eE,useDeferredValue:function(t){var e=oi();return g4(e,sn.memoizedState,t)},useTransition:function(){var t=_b(Jf)[0],e=oi().memoizedState;return[t,e]},useMutableSource:n4,useSyncExternalStore:r4,useId:y4,unstable_isNewReconciler:!1},az={readContext:si,useCallback:p4,useContext:si,useEffect:Zk,useImperativeHandle:h4,useInsertionEffect:u4,useLayoutEffect:d4,useMemo:m4,useReducer:Sb,useRef:c4,useState:function(){return Sb(Jf)},useDebugValue:eE,useDeferredValue:function(t){var e=oi();return sn===null?e.memoizedState=t:g4(e,sn.memoizedState,t)},useTransition:function(){var t=Sb(Jf)[0],e=oi().memoizedState;return[t,e]},useMutableSource:n4,useSyncExternalStore:r4,useId:y4,unstable_isNewReconciler:!1};function yi(t,e){if(t&&t.defaultProps){e=$t({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function m1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$t({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var fv={isMounted:function(t){return(t=t._reactInternals)?Al(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tr(),i=qs(t),a=La(r,i);a.payload=e,n!=null&&(a.callback=n),e=Bs(t,a,i),e!==null&&(Oi(e,t,i,r),Xm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tr(),i=qs(t),a=La(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Bs(t,a,i),e!==null&&(Oi(e,t,i,r),Xm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tr(),r=qs(t),i=La(n,r);i.tag=2,e!=null&&(i.callback=e),e=Bs(t,i,r),e!==null&&(Oi(e,t,r,n),Xm(e,t,r))}};function qN(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!Wf(n,r)||!Wf(i,a):!0}function w4(t,e,n){var r=!1,i=io,a=e.contextType;return typeof a=="object"&&a!==null?a=si(a):(i=gr(e)?ll:zn.current,r=e.contextTypes,a=(r=r!=null)?Bc(t,i):io),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function WN(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&fv.enqueueReplaceState(e,e.state,null)}function g1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Hk(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=si(a):(a=gr(e)?ll:zn.current,i.context=Bc(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(m1(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&fv.enqueueReplaceState(i,i.state,null),Fg(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Hc(t,e){try{var n="",r=e;do n+=jB(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function kb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function y1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var sz=typeof WeakMap=="function"?WeakMap:Map;function _4(t,e,n){n=La(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qg||(qg=!0,P1=r),y1(t,e)},n}function S4(t,e,n){n=La(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){y1(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){y1(t,e),typeof r!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function HN(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new sz;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=bz.bind(null,t,e,n),e.then(t,t))}function GN(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function KN(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=La(-1,1),e.tag=2,Bs(n,e,1))),n.lanes|=1),t)}var oz=is.ReactCurrentOwner,hr=!1;function Hn(t,e,n,r){e.child=t===null?JD(e,null,n,r):qc(e,t.child,n,r)}function YN(t,e,n,r,i){n=n.render;var a=e.ref;return Pc(e,i),r=Xk(t,e,n,r,a,i),n=Jk(),t!==null&&!hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ha(t,e,i)):(At&&n&&Fk(e),e.flags|=1,Hn(t,e,r,i),e.child)}function QN(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!lE(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,k4(t,e,a,r,i)):(t=rg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Wf,n(s,r)&&t.ref===e.ref)return Ha(t,e,i)}return e.flags|=1,t=Ws(a,r),t.ref=e.ref,t.return=e,e.child=t}function k4(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Wf(a,r)&&t.ref===e.ref)if(hr=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(hr=!0);else return e.lanes=t.lanes,Ha(t,e,i)}return v1(t,e,n,r,i)}function E4(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(pc,Er),Er|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,wt(pc,Er),Er|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,wt(pc,Er),Er|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,wt(pc,Er),Er|=r;return Hn(t,e,i,n),e.child}function T4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function v1(t,e,n,r,i){var a=gr(n)?ll:zn.current;return a=Bc(e,a),Pc(e,i),n=Xk(t,e,n,r,a,i),r=Jk(),t!==null&&!hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ha(t,e,i)):(At&&r&&Fk(e),e.flags|=1,Hn(t,e,n,i),e.child)}function XN(t,e,n,r,i){if(gr(n)){var a=!0;Rg(e)}else a=!1;if(Pc(e,i),e.stateNode===null)eg(t,e),w4(e,n,r),g1(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=si(c):(c=gr(n)?ll:zn.current,c=Bc(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&WN(e,s,r,c),ws=!1;var h=e.memoizedState;s.state=h,Fg(e,r,s,i),l=e.memoizedState,o!==r||h!==l||mr.current||ws?(typeof u=="function"&&(m1(e,n,u,r),l=e.memoizedState),(o=ws||qN(e,n,o,r,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,e4(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:yi(e.type,o),s.props=c,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=si(l):(l=gr(n)?ll:zn.current,l=Bc(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||h!==l)&&WN(e,s,r,l),ws=!1,h=e.memoizedState,s.state=h,Fg(e,r,s,i);var g=e.memoizedState;o!==d||h!==g||mr.current||ws?(typeof p=="function"&&(m1(e,n,p,r),g=e.memoizedState),(c=ws||qN(e,n,c,r,h,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return x1(t,e,n,r,a,i)}function x1(t,e,n,r,i,a){T4(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&$N(e,n,!1),Ha(t,e,a);r=e.stateNode,oz.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=qc(e,t.child,null,a),e.child=qc(e,null,o,a)):Hn(t,e,o,a),e.memoizedState=r.state,i&&$N(e,n,!0),e.child}function P4(t){var e=t.stateNode;e.pendingContext?MN(t,e.pendingContext,e.pendingContext!==e.context):e.context&&MN(t,e.context,!1),Gk(t,e.containerInfo)}function JN(t,e,n,r,i){return zc(),Uk(i),e.flags|=256,Hn(t,e,n,r),e.child}var b1={dehydrated:null,treeContext:null,retryLane:0};function w1(t){return{baseLanes:t,cachePool:null,transitions:null}}function N4(t,e,n){var r=e.pendingProps,i=Ct.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),wt(Ct,i&1),t===null)return h1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=mv(s,r,0,null),t=tl(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=w1(n),e.memoizedState=b1,t):tE(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return lz(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ws(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Ws(o,a):(a=tl(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?w1(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=b1,r}return a=t.child,t=a.sibling,r=Ws(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function tE(t,e){return e=mv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cm(t,e,n,r){return r!==null&&Uk(r),qc(e,t.child,null,n),t=tE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function lz(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=kb(Error(fe(422))),cm(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=mv({mode:"visible",children:r.children},i,0,null),a=tl(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&qc(e,t.child,null,s),e.child.memoizedState=w1(s),e.memoizedState=b1,a);if(!(e.mode&1))return cm(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(fe(419)),r=kb(a,r,void 0),cm(t,e,s,r)}if(o=(s&t.childLanes)!==0,hr||o){if(r=mn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Wa(t,i),Oi(r,t,i,-1))}return oE(),r=kb(Error(fe(421))),cm(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=wz.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Ir=Us(i.nextSibling),jr=e,At=!0,bi=null,t!==null&&(Gr[Kr++]=Aa,Gr[Kr++]=Ia,Gr[Kr++]=cl,Aa=t.id,Ia=t.overflow,cl=e),e=tE(e,r.children),e.flags|=4096,e)}function ZN(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),p1(t.return,e,n)}function Eb(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function A4(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Hn(t,e,r.children,n),r=Ct.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ZN(t,n,e);else if(t.tag===19)ZN(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(wt(Ct,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Vg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Eb(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Vg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Eb(e,!0,n,null,a);break;case"together":Eb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function eg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ha(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),dl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(fe(153));if(e.child!==null){for(t=e.child,n=Ws(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ws(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function cz(t,e,n){switch(e.tag){case 3:P4(e),zc();break;case 5:t4(e);break;case 1:gr(e.type)&&Rg(e);break;case 4:Gk(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;wt(Dg,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(wt(Ct,Ct.current&1),e.flags|=128,null):n&e.child.childLanes?N4(t,e,n):(wt(Ct,Ct.current&1),t=Ha(t,e,n),t!==null?t.sibling:null);wt(Ct,Ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return A4(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),wt(Ct,Ct.current),r)break;return null;case 22:case 23:return e.lanes=0,E4(t,e,n)}return Ha(t,e,n)}var I4,_1,O4,C4;I4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_1=function(){};O4=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ho(Zi.current);var a=null;switch(n){case"input":i=qw(t,i),r=qw(t,r),a=[];break;case"select":i=$t({},i,{value:void 0}),r=$t({},r,{value:void 0}),a=[];break;case"textarea":i=Gw(t,i),r=Gw(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cg)}Yw(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Lf.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Lf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&kt("scroll",t),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};C4=function(t,e,n,r){n!==r&&(e.flags|=4)};function kd(t,e){if(!At)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Rn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function uz(t,e,n){var r=e.pendingProps;switch(Vk(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(e),null;case 1:return gr(e.type)&&jg(),Rn(e),null;case 3:return r=e.stateNode,Wc(),Nt(mr),Nt(zn),Yk(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(om(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bi!==null&&(I1(bi),bi=null))),_1(t,e),Rn(e),null;case 5:Kk(e);var i=Ho(Qf.current);if(n=e.type,t!==null&&e.stateNode!=null)O4(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(fe(166));return Rn(e),null}if(t=Ho(Zi.current),om(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Wi]=e,r[Kf]=a,t=(e.mode&1)!==0,n){case"dialog":kt("cancel",r),kt("close",r);break;case"iframe":case"object":case"embed":kt("load",r);break;case"video":case"audio":for(i=0;i<Kd.length;i++)kt(Kd[i],r);break;case"source":kt("error",r);break;case"img":case"image":case"link":kt("error",r),kt("load",r);break;case"details":kt("toggle",r);break;case"input":lN(r,a),kt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},kt("invalid",r);break;case"textarea":uN(r,a),kt("invalid",r)}Yw(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&sm(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&sm(r.textContent,o,t),i=["children",""+o]):Lf.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&kt("scroll",r)}switch(n){case"input":Jp(r),cN(r,a,!0);break;case"textarea":Jp(r),dN(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Cg)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sD(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Wi]=e,t[Kf]=r,I4(t,e,!1,!1),e.stateNode=t;e:{switch(s=Qw(n,r),n){case"dialog":kt("cancel",t),kt("close",t),i=r;break;case"iframe":case"object":case"embed":kt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Kd.length;i++)kt(Kd[i],t);i=r;break;case"source":kt("error",t),i=r;break;case"img":case"image":case"link":kt("error",t),kt("load",t),i=r;break;case"details":kt("toggle",t),i=r;break;case"input":lN(t,r),i=qw(t,r),kt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=$t({},r,{value:void 0}),kt("invalid",t);break;case"textarea":uN(t,r),i=Gw(t,r),kt("invalid",t);break;default:i=r}Yw(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?cD(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&oD(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ff(t,l):typeof l=="number"&&Ff(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Lf.hasOwnProperty(a)?l!=null&&a==="onScroll"&&kt("scroll",t):l!=null&&Ek(t,a,l,s))}switch(n){case"input":Jp(t),cN(t,r,!1);break;case"textarea":Jp(t),dN(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ro(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Sc(t,!!r.multiple,a,!1):r.defaultValue!=null&&Sc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Cg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Rn(e),null;case 6:if(t&&e.stateNode!=null)C4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(fe(166));if(n=Ho(Qf.current),Ho(Zi.current),om(e)){if(r=e.stateNode,n=e.memoizedProps,r[Wi]=e,(a=r.nodeValue!==n)&&(t=jr,t!==null))switch(t.tag){case 3:sm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sm(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wi]=e,e.stateNode=r}return Rn(e),null;case 13:if(Nt(Ct),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(At&&Ir!==null&&e.mode&1&&!(e.flags&128))QD(),zc(),e.flags|=98560,a=!1;else if(a=om(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(fe(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(fe(317));a[Wi]=e}else zc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Rn(e),a=!1}else bi!==null&&(I1(bi),bi=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ct.current&1?on===0&&(on=3):oE())),e.updateQueue!==null&&(e.flags|=4),Rn(e),null);case 4:return Wc(),_1(t,e),t===null&&Hf(e.stateNode.containerInfo),Rn(e),null;case 10:return qk(e.type._context),Rn(e),null;case 17:return gr(e.type)&&jg(),Rn(e),null;case 19:if(Nt(Ct),a=e.memoizedState,a===null)return Rn(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)kd(a,!1);else{if(on!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Vg(t),s!==null){for(e.flags|=128,kd(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return wt(Ct,Ct.current&1|2),e.child}t=t.sibling}a.tail!==null&&Wt()>Gc&&(e.flags|=128,r=!0,kd(a,!1),e.lanes=4194304)}else{if(!r)if(t=Vg(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),kd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!At)return Rn(e),null}else 2*Wt()-a.renderingStartTime>Gc&&n!==1073741824&&(e.flags|=128,r=!0,kd(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Wt(),e.sibling=null,n=Ct.current,wt(Ct,r?n&1|2:n&1),e):(Rn(e),null);case 22:case 23:return sE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Er&1073741824&&(Rn(e),e.subtreeFlags&6&&(e.flags|=8192)):Rn(e),null;case 24:return null;case 25:return null}throw Error(fe(156,e.tag))}function dz(t,e){switch(Vk(e),e.tag){case 1:return gr(e.type)&&jg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wc(),Nt(mr),Nt(zn),Yk(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Kk(e),null;case 13:if(Nt(Ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));zc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Nt(Ct),null;case 4:return Wc(),null;case 10:return qk(e.type._context),null;case 22:case 23:return sE(),null;case 24:return null;default:return null}}var um=!1,Ln=!1,fz=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function hc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ut(t,e,r)}else n.current=null}function S1(t,e,n){try{n()}catch(r){Ut(t,e,r)}}var eA=!1;function hz(t,e){if(s1=Ag,t=DD(),Lk(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(o=s+i),d!==a||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===i&&(o=s),h===a&&++u===r&&(l=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(o1={focusedElem:t,selectionRange:n},Ag=!1,Ee=e;Ee!==null;)if(e=Ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ee=t;else for(;Ee!==null;){e=Ee;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,v=g.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:yi(e.type,y),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(S){Ut(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Ee=t;break}Ee=e.return}return g=eA,eA=!1,g}function gf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&S1(e,n,a)}i=i.next}while(i!==r)}}function hv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function k1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function j4(t){var e=t.alternate;e!==null&&(t.alternate=null,j4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wi],delete e[Kf],delete e[u1],delete e[Y7],delete e[Q7])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function R4(t){return t.tag===5||t.tag===3||t.tag===4}function tA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||R4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function E1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cg));else if(r!==4&&(t=t.child,t!==null))for(E1(t,e,n),t=t.sibling;t!==null;)E1(t,e,n),t=t.sibling}function T1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(T1(t,e,n),t=t.sibling;t!==null;)T1(t,e,n),t=t.sibling}var kn=null,vi=!1;function ps(t,e,n){for(n=n.child;n!==null;)M4(t,e,n),n=n.sibling}function M4(t,e,n){if(Ji&&typeof Ji.onCommitFiberUnmount=="function")try{Ji.onCommitFiberUnmount(av,n)}catch{}switch(n.tag){case 5:Ln||hc(n,e);case 6:var r=kn,i=vi;kn=null,ps(t,e,n),kn=r,vi=i,kn!==null&&(vi?(t=kn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):kn.removeChild(n.stateNode));break;case 18:kn!==null&&(vi?(t=kn,n=n.stateNode,t.nodeType===8?vb(t.parentNode,n):t.nodeType===1&&vb(t,n),zf(t)):vb(kn,n.stateNode));break;case 4:r=kn,i=vi,kn=n.stateNode.containerInfo,vi=!0,ps(t,e,n),kn=r,vi=i;break;case 0:case 11:case 14:case 15:if(!Ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&S1(n,e,s),i=i.next}while(i!==r)}ps(t,e,n);break;case 1:if(!Ln&&(hc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ut(n,e,o)}ps(t,e,n);break;case 21:ps(t,e,n);break;case 22:n.mode&1?(Ln=(r=Ln)||n.memoizedState!==null,ps(t,e,n),Ln=r):ps(t,e,n);break;default:ps(t,e,n)}}function nA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new fz),e.forEach(function(r){var i=_z.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function mi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:kn=o.stateNode,vi=!1;break e;case 3:kn=o.stateNode.containerInfo,vi=!0;break e;case 4:kn=o.stateNode.containerInfo,vi=!0;break e}o=o.return}if(kn===null)throw Error(fe(160));M4(a,s,i),kn=null,vi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ut(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$4(e,t),e=e.sibling}function $4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mi(e,t),Ui(t),r&4){try{gf(3,t,t.return),hv(3,t)}catch(y){Ut(t,t.return,y)}try{gf(5,t,t.return)}catch(y){Ut(t,t.return,y)}}break;case 1:mi(e,t),Ui(t),r&512&&n!==null&&hc(n,n.return);break;case 5:if(mi(e,t),Ui(t),r&512&&n!==null&&hc(n,n.return),t.flags&32){var i=t.stateNode;try{Ff(i,"")}catch(y){Ut(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&iD(i,a),Qw(o,s);var c=Qw(o,a);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?cD(i,d):u==="dangerouslySetInnerHTML"?oD(i,d):u==="children"?Ff(i,d):Ek(i,u,d,c)}switch(o){case"input":Ww(i,a);break;case"textarea":aD(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Sc(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Sc(i,!!a.multiple,a.defaultValue,!0):Sc(i,!!a.multiple,a.multiple?[]:"",!1))}i[Kf]=a}catch(y){Ut(t,t.return,y)}}break;case 6:if(mi(e,t),Ui(t),r&4){if(t.stateNode===null)throw Error(fe(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(y){Ut(t,t.return,y)}}break;case 3:if(mi(e,t),Ui(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zf(e.containerInfo)}catch(y){Ut(t,t.return,y)}break;case 4:mi(e,t),Ui(t);break;case 13:mi(e,t),Ui(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(iE=Wt())),r&4&&nA(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ln=(c=Ln)||u,mi(e,t),Ln=c):mi(e,t),Ui(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ee=t,u=t.child;u!==null;){for(d=Ee=u;Ee!==null;){switch(h=Ee,p=h.child,h.tag){case 0:case 11:case 14:case 15:gf(4,h,h.return);break;case 1:hc(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Ut(r,n,y)}}break;case 5:hc(h,h.return);break;case 22:if(h.memoizedState!==null){iA(d);continue}}p!==null?(p.return=h,Ee=p):iA(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=lD("display",s))}catch(y){Ut(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Ut(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mi(e,t),Ui(t),r&4&&nA(t);break;case 21:break;default:mi(e,t),Ui(t)}}function Ui(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(R4(n)){var r=n;break e}n=n.return}throw Error(fe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ff(i,""),r.flags&=-33);var a=tA(t);T1(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=tA(t);E1(t,o,s);break;default:throw Error(fe(161))}}catch(l){Ut(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function pz(t,e,n){Ee=t,D4(t)}function D4(t,e,n){for(var r=(t.mode&1)!==0;Ee!==null;){var i=Ee,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||um;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Ln;o=um;var c=Ln;if(um=s,(Ln=l)&&!c)for(Ee=i;Ee!==null;)s=Ee,l=s.child,s.tag===22&&s.memoizedState!==null?aA(i):l!==null?(l.return=s,Ee=l):aA(i);for(;a!==null;)Ee=a,D4(a),a=a.sibling;Ee=i,um=o,Ln=c}rA(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ee=a):rA(t)}}function rA(t){for(;Ee!==null;){var e=Ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ln||hv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ln)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:yi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&UN(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}UN(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&zf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}Ln||e.flags&512&&k1(e)}catch(h){Ut(e,e.return,h)}}if(e===t){Ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ee=n;break}Ee=e.return}}function iA(t){for(;Ee!==null;){var e=Ee;if(e===t){Ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ee=n;break}Ee=e.return}}function aA(t){for(;Ee!==null;){var e=Ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{hv(4,e)}catch(l){Ut(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ut(e,i,l)}}var a=e.return;try{k1(e)}catch(l){Ut(e,a,l)}break;case 5:var s=e.return;try{k1(e)}catch(l){Ut(e,s,l)}}}catch(l){Ut(e,e.return,l)}if(e===t){Ee=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ee=o;break}Ee=e.return}}var mz=Math.ceil,zg=is.ReactCurrentDispatcher,nE=is.ReactCurrentOwner,ni=is.ReactCurrentBatchConfig,rt=0,mn=null,Qt=null,An=0,Er=0,pc=mo(0),on=0,eh=null,dl=0,pv=0,rE=0,yf=null,ur=null,iE=0,Gc=1/0,_a=null,qg=!1,P1=null,zs=null,dm=!1,js=null,Wg=0,vf=0,N1=null,tg=-1,ng=0;function tr(){return rt&6?Wt():tg!==-1?tg:tg=Wt()}function qs(t){return t.mode&1?rt&2&&An!==0?An&-An:J7.transition!==null?(ng===0&&(ng=wD()),ng):(t=ct,t!==0||(t=window.event,t=t===void 0?16:ND(t.type)),t):1}function Oi(t,e,n,r){if(50<vf)throw vf=0,N1=null,Error(fe(185));cp(t,n,r),(!(rt&2)||t!==mn)&&(t===mn&&(!(rt&2)&&(pv|=n),on===4&&Ts(t,An)),yr(t,r),n===1&&rt===0&&!(e.mode&1)&&(Gc=Wt()+500,uv&&go()))}function yr(t,e){var n=t.callbackNode;JB(t,e);var r=Ng(t,t===mn?An:0);if(r===0)n!==null&&pN(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&pN(n),e===1)t.tag===0?X7(sA.bind(null,t)):GD(sA.bind(null,t)),G7(function(){!(rt&6)&&go()}),n=null;else{switch(_D(r)){case 1:n=Ik;break;case 4:n=xD;break;case 16:n=Pg;break;case 536870912:n=bD;break;default:n=Pg}n=W4(n,L4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function L4(t,e){if(tg=-1,ng=0,rt&6)throw Error(fe(327));var n=t.callbackNode;if(Nc()&&t.callbackNode!==n)return null;var r=Ng(t,t===mn?An:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Hg(t,r);else{e=r;var i=rt;rt|=2;var a=V4();(mn!==t||An!==e)&&(_a=null,Gc=Wt()+500,el(t,e));do try{vz();break}catch(o){F4(t,o)}while(!0);zk(),zg.current=a,rt=i,Qt!==null?e=0:(mn=null,An=0,e=on)}if(e!==0){if(e===2&&(i=t1(t),i!==0&&(r=i,e=A1(t,i))),e===1)throw n=eh,el(t,0),Ts(t,r),yr(t,Wt()),n;if(e===6)Ts(t,r);else{if(i=t.current.alternate,!(r&30)&&!gz(i)&&(e=Hg(t,r),e===2&&(a=t1(t),a!==0&&(r=a,e=A1(t,a))),e===1))throw n=eh,el(t,0),Ts(t,r),yr(t,Wt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(fe(345));case 2:Do(t,ur,_a);break;case 3:if(Ts(t,r),(r&130023424)===r&&(e=iE+500-Wt(),10<e)){if(Ng(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){tr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=c1(Do.bind(null,t,ur,_a),e);break}Do(t,ur,_a);break;case 4:if(Ts(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Ii(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=Wt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mz(r/1960))-r,10<r){t.timeoutHandle=c1(Do.bind(null,t,ur,_a),r);break}Do(t,ur,_a);break;case 5:Do(t,ur,_a);break;default:throw Error(fe(329))}}}return yr(t,Wt()),t.callbackNode===n?L4.bind(null,t):null}function A1(t,e){var n=yf;return t.current.memoizedState.isDehydrated&&(el(t,e).flags|=256),t=Hg(t,e),t!==2&&(e=ur,ur=n,e!==null&&I1(e)),t}function I1(t){ur===null?ur=t:ur.push.apply(ur,t)}function gz(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Ri(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ts(t,e){for(e&=~rE,e&=~pv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ii(e),r=1<<n;t[n]=-1,e&=~r}}function sA(t){if(rt&6)throw Error(fe(327));Nc();var e=Ng(t,0);if(!(e&1))return yr(t,Wt()),null;var n=Hg(t,e);if(t.tag!==0&&n===2){var r=t1(t);r!==0&&(e=r,n=A1(t,r))}if(n===1)throw n=eh,el(t,0),Ts(t,e),yr(t,Wt()),n;if(n===6)throw Error(fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Do(t,ur,_a),yr(t,Wt()),null}function aE(t,e){var n=rt;rt|=1;try{return t(e)}finally{rt=n,rt===0&&(Gc=Wt()+500,uv&&go())}}function fl(t){js!==null&&js.tag===0&&!(rt&6)&&Nc();var e=rt;rt|=1;var n=ni.transition,r=ct;try{if(ni.transition=null,ct=1,t)return t()}finally{ct=r,ni.transition=n,rt=e,!(rt&6)&&go()}}function sE(){Er=pc.current,Nt(pc)}function el(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,H7(n)),Qt!==null)for(n=Qt.return;n!==null;){var r=n;switch(Vk(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jg();break;case 3:Wc(),Nt(mr),Nt(zn),Yk();break;case 5:Kk(r);break;case 4:Wc();break;case 13:Nt(Ct);break;case 19:Nt(Ct);break;case 10:qk(r.type._context);break;case 22:case 23:sE()}n=n.return}if(mn=t,Qt=t=Ws(t.current,null),An=Er=e,on=0,eh=null,rE=pv=dl=0,ur=yf=null,Wo!==null){for(e=0;e<Wo.length;e++)if(n=Wo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}Wo=null}return t}function F4(t,e){do{var n=Qt;try{if(zk(),Jm.current=Bg,Ug){for(var r=Mt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ug=!1}if(ul=0,pn=sn=Mt=null,mf=!1,Xf=0,nE.current=null,n===null||n.return===null){on=1,eh=e,Qt=null;break}e:{var a=t,s=n.return,o=n,l=e;if(e=An,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=GN(s);if(p!==null){p.flags&=-257,KN(p,s,o,a,e),p.mode&1&&HN(a,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){HN(a,c,e),oE();break e}l=Error(fe(426))}}else if(At&&o.mode&1){var v=GN(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),KN(v,s,o,a,e),Uk(Hc(l,o));break e}}a=l=Hc(l,o),on!==4&&(on=2),yf===null?yf=[a]:yf.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var x=_4(a,l,e);VN(a,x);break e;case 1:o=l;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(zs===null||!zs.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var S=S4(a,o,e);VN(a,S);break e}}a=a.return}while(a!==null)}B4(n)}catch(k){e=k,Qt===n&&n!==null&&(Qt=n=n.return);continue}break}while(!0)}function V4(){var t=zg.current;return zg.current=Bg,t===null?Bg:t}function oE(){(on===0||on===3||on===2)&&(on=4),mn===null||!(dl&268435455)&&!(pv&268435455)||Ts(mn,An)}function Hg(t,e){var n=rt;rt|=2;var r=V4();(mn!==t||An!==e)&&(_a=null,el(t,e));do try{yz();break}catch(i){F4(t,i)}while(!0);if(zk(),rt=n,zg.current=r,Qt!==null)throw Error(fe(261));return mn=null,An=0,on}function yz(){for(;Qt!==null;)U4(Qt)}function vz(){for(;Qt!==null&&!zB();)U4(Qt)}function U4(t){var e=q4(t.alternate,t,Er);t.memoizedProps=t.pendingProps,e===null?B4(t):Qt=e,nE.current=null}function B4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=dz(n,e),n!==null){n.flags&=32767,Qt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{on=6,Qt=null;return}}else if(n=uz(n,e,Er),n!==null){Qt=n;return}if(e=e.sibling,e!==null){Qt=e;return}Qt=e=t}while(e!==null);on===0&&(on=5)}function Do(t,e,n){var r=ct,i=ni.transition;try{ni.transition=null,ct=1,xz(t,e,n,r)}finally{ni.transition=i,ct=r}return null}function xz(t,e,n,r){do Nc();while(js!==null);if(rt&6)throw Error(fe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(fe(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(ZB(t,a),t===mn&&(Qt=mn=null,An=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dm||(dm=!0,W4(Pg,function(){return Nc(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ni.transition,ni.transition=null;var s=ct;ct=1;var o=rt;rt|=4,nE.current=null,hz(t,n),$4(n,t),F7(o1),Ag=!!s1,o1=s1=null,t.current=n,pz(n),qB(),rt=o,ct=s,ni.transition=a}else t.current=n;if(dm&&(dm=!1,js=t,Wg=i),a=t.pendingLanes,a===0&&(zs=null),GB(n.stateNode),yr(t,Wt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qg)throw qg=!1,t=P1,P1=null,t;return Wg&1&&t.tag!==0&&Nc(),a=t.pendingLanes,a&1?t===N1?vf++:(vf=0,N1=t):vf=0,go(),null}function Nc(){if(js!==null){var t=_D(Wg),e=ni.transition,n=ct;try{if(ni.transition=null,ct=16>t?16:t,js===null)var r=!1;else{if(t=js,js=null,Wg=0,rt&6)throw Error(fe(331));var i=rt;for(rt|=4,Ee=t.current;Ee!==null;){var a=Ee,s=a.child;if(Ee.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Ee=c;Ee!==null;){var u=Ee;switch(u.tag){case 0:case 11:case 15:gf(8,u,a)}var d=u.child;if(d!==null)d.return=u,Ee=d;else for(;Ee!==null;){u=Ee;var h=u.sibling,p=u.return;if(j4(u),u===c){Ee=null;break}if(h!==null){h.return=p,Ee=h;break}Ee=p}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}Ee=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Ee=s;else e:for(;Ee!==null;){if(a=Ee,a.flags&2048)switch(a.tag){case 0:case 11:case 15:gf(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,Ee=x;break e}Ee=a.return}}var b=t.current;for(Ee=b;Ee!==null;){s=Ee;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Ee=w;else e:for(s=b;Ee!==null;){if(o=Ee,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:hv(9,o)}}catch(k){Ut(o,o.return,k)}if(o===s){Ee=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,Ee=S;break e}Ee=o.return}}if(rt=i,go(),Ji&&typeof Ji.onPostCommitFiberRoot=="function")try{Ji.onPostCommitFiberRoot(av,t)}catch{}r=!0}return r}finally{ct=n,ni.transition=e}}return!1}function oA(t,e,n){e=Hc(n,e),e=_4(t,e,1),t=Bs(t,e,1),e=tr(),t!==null&&(cp(t,1,e),yr(t,e))}function Ut(t,e,n){if(t.tag===3)oA(t,t,n);else for(;e!==null;){if(e.tag===3){oA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zs===null||!zs.has(r))){t=Hc(n,t),t=S4(e,t,1),e=Bs(e,t,1),t=tr(),e!==null&&(cp(e,1,t),yr(e,t));break}}e=e.return}}function bz(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tr(),t.pingedLanes|=t.suspendedLanes&n,mn===t&&(An&n)===n&&(on===4||on===3&&(An&130023424)===An&&500>Wt()-iE?el(t,0):rE|=n),yr(t,e)}function z4(t,e){e===0&&(t.mode&1?(e=tm,tm<<=1,!(tm&130023424)&&(tm=4194304)):e=1);var n=tr();t=Wa(t,e),t!==null&&(cp(t,e,n),yr(t,n))}function wz(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),z4(t,n)}function _z(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(fe(314))}r!==null&&r.delete(e),z4(t,n)}var q4;q4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mr.current)hr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return hr=!1,cz(t,e,n);hr=!!(t.flags&131072)}else hr=!1,At&&e.flags&1048576&&KD(e,$g,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;eg(t,e),t=e.pendingProps;var i=Bc(e,zn.current);Pc(e,n),i=Xk(null,e,r,t,i,n);var a=Jk();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gr(r)?(a=!0,Rg(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Hk(e),i.updater=fv,e.stateNode=i,i._reactInternals=e,g1(e,r,t,n),e=x1(null,e,r,!0,a,n)):(e.tag=0,At&&a&&Fk(e),Hn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(eg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=kz(r),t=yi(r,t),i){case 0:e=v1(null,e,r,t,n);break e;case 1:e=XN(null,e,r,t,n);break e;case 11:e=YN(null,e,r,t,n);break e;case 14:e=QN(null,e,r,yi(r.type,t),n);break e}throw Error(fe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),v1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),XN(t,e,r,i,n);case 3:e:{if(P4(e),t===null)throw Error(fe(387));r=e.pendingProps,a=e.memoizedState,i=a.element,e4(t,e),Fg(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Hc(Error(fe(423)),e),e=JN(t,e,r,n,i);break e}else if(r!==i){i=Hc(Error(fe(424)),e),e=JN(t,e,r,n,i);break e}else for(Ir=Us(e.stateNode.containerInfo.firstChild),jr=e,At=!0,bi=null,n=JD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zc(),r===i){e=Ha(t,e,n);break e}Hn(t,e,r,n)}e=e.child}return e;case 5:return t4(e),t===null&&h1(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,l1(r,i)?s=null:a!==null&&l1(r,a)&&(e.flags|=32),T4(t,e),Hn(t,e,s,n),e.child;case 6:return t===null&&h1(e),null;case 13:return N4(t,e,n);case 4:return Gk(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qc(e,null,r,n):Hn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),YN(t,e,r,i,n);case 7:return Hn(t,e,e.pendingProps,n),e.child;case 8:return Hn(t,e,e.pendingProps.children,n),e.child;case 12:return Hn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,wt(Dg,r._currentValue),r._currentValue=s,a!==null)if(Ri(a.value,s)){if(a.children===i.children&&!mr.current){e=Ha(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=La(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),p1(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(fe(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),p1(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Hn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Pc(e,n),i=si(i),r=r(i),e.flags|=1,Hn(t,e,r,n),e.child;case 14:return r=e.type,i=yi(r,e.pendingProps),i=yi(r.type,i),QN(t,e,r,i,n);case 15:return k4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),eg(t,e),e.tag=1,gr(r)?(t=!0,Rg(e)):t=!1,Pc(e,n),w4(e,r,i),g1(e,r,i,n),x1(null,e,r,!0,t,n);case 19:return A4(t,e,n);case 22:return E4(t,e,n)}throw Error(fe(156,e.tag))};function W4(t,e){return vD(t,e)}function Sz(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jr(t,e,n,r){return new Sz(t,e,n,r)}function lE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kz(t){if(typeof t=="function")return lE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pk)return 11;if(t===Nk)return 14}return 2}function Ws(t,e){var n=t.alternate;return n===null?(n=Jr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function rg(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")lE(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ic:return tl(n.children,i,a,e);case Tk:s=8,i|=8;break;case Vw:return t=Jr(12,n,e,i|2),t.elementType=Vw,t.lanes=a,t;case Uw:return t=Jr(13,n,e,i),t.elementType=Uw,t.lanes=a,t;case Bw:return t=Jr(19,n,e,i),t.elementType=Bw,t.lanes=a,t;case tD:return mv(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z$:s=10;break e;case eD:s=9;break e;case Pk:s=11;break e;case Nk:s=14;break e;case bs:s=16,r=null;break e}throw Error(fe(130,t==null?t:typeof t,""))}return e=Jr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function tl(t,e,n,r){return t=Jr(7,t,r,e),t.lanes=n,t}function mv(t,e,n,r){return t=Jr(22,t,r,e),t.elementType=tD,t.lanes=n,t.stateNode={isHidden:!1},t}function Tb(t,e,n){return t=Jr(6,t,null,e),t.lanes=n,t}function Pb(t,e,n){return e=Jr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ez(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ob(0),this.expirationTimes=ob(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ob(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cE(t,e,n,r,i,a,s,o,l){return t=new Ez(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Jr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hk(a),t}function Tz(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function H4(t){if(!t)return io;t=t._reactInternals;e:{if(Al(t)!==t||t.tag!==1)throw Error(fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(fe(171))}if(t.tag===1){var n=t.type;if(gr(n))return HD(t,n,e)}return e}function G4(t,e,n,r,i,a,s,o,l){return t=cE(n,r,!0,t,i,a,s,o,l),t.context=H4(null),n=t.current,r=tr(),i=qs(n),a=La(r,i),a.callback=e??null,Bs(n,a,i),t.current.lanes=i,cp(t,i,r),yr(t,r),t}function gv(t,e,n,r){var i=e.current,a=tr(),s=qs(i);return n=H4(n),e.context===null?e.context=n:e.pendingContext=n,e=La(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bs(i,e,s),t!==null&&(Oi(t,i,s,a),Xm(t,i,s)),s}function Gg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function uE(t,e){lA(t,e),(t=t.alternate)&&lA(t,e)}function Pz(){return null}var K4=typeof reportError=="function"?reportError:function(t){console.error(t)};function dE(t){this._internalRoot=t}yv.prototype.render=dE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(fe(409));gv(t,e,null,null)};yv.prototype.unmount=dE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fl(function(){gv(null,t,null,null)}),e[qa]=null}};function yv(t){this._internalRoot=t}yv.prototype.unstable_scheduleHydration=function(t){if(t){var e=ED();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Es.length&&e!==0&&e<Es[n].priority;n++);Es.splice(n,0,t),n===0&&PD(t)}};function fE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function cA(){}function Nz(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=Gg(s);a.call(c)}}var s=G4(e,r,t,0,null,!1,!1,"",cA);return t._reactRootContainer=s,t[qa]=s.current,Hf(t.nodeType===8?t.parentNode:t),fl(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=Gg(l);o.call(c)}}var l=cE(t,0,!1,null,null,!1,!1,"",cA);return t._reactRootContainer=l,t[qa]=l.current,Hf(t.nodeType===8?t.parentNode:t),fl(function(){gv(e,l,n,r)}),l}function xv(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Gg(s);o.call(l)}}gv(e,s,t,i)}else s=Nz(n,e,t,i,r);return Gg(s)}SD=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Gd(e.pendingLanes);n!==0&&(Ok(e,n|1),yr(e,Wt()),!(rt&6)&&(Gc=Wt()+500,go()))}break;case 13:fl(function(){var r=Wa(t,1);if(r!==null){var i=tr();Oi(r,t,1,i)}}),uE(t,1)}};Ck=function(t){if(t.tag===13){var e=Wa(t,134217728);if(e!==null){var n=tr();Oi(e,t,134217728,n)}uE(t,134217728)}};kD=function(t){if(t.tag===13){var e=qs(t),n=Wa(t,e);if(n!==null){var r=tr();Oi(n,t,e,r)}uE(t,e)}};ED=function(){return ct};TD=function(t,e){var n=ct;try{return ct=t,e()}finally{ct=n}};Jw=function(t,e,n){switch(e){case"input":if(Ww(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=cv(r);if(!i)throw Error(fe(90));rD(r),Ww(r,i)}}}break;case"textarea":aD(t,n);break;case"select":e=n.value,e!=null&&Sc(t,!!n.multiple,e,!1)}};fD=aE;hD=fl;var Az={usingClientEntryPoint:!1,Events:[dp,lc,cv,uD,dD,aE]},Ed={findFiberByHostInstance:qo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Iz={bundleType:Ed.bundleType,version:Ed.version,rendererPackageName:Ed.rendererPackageName,rendererConfig:Ed.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:is.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gD(t),t===null?null:t.stateNode},findFiberByHostInstance:Ed.findFiberByHostInstance||Pz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fm.isDisabled&&fm.supportsFiber)try{av=fm.inject(Iz),Ji=fm}catch{}}Fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Az;Fr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fE(e))throw Error(fe(200));return Tz(t,e,null,n)};Fr.createRoot=function(t,e){if(!fE(t))throw Error(fe(299));var n=!1,r="",i=K4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=cE(t,1,!1,null,null,n,!1,r,i),t[qa]=e.current,Hf(t.nodeType===8?t.parentNode:t),new dE(e)};Fr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(fe(188)):(t=Object.keys(t).join(","),Error(fe(268,t)));return t=gD(e),t=t===null?null:t.stateNode,t};Fr.flushSync=function(t){return fl(t)};Fr.hydrate=function(t,e,n){if(!vv(e))throw Error(fe(200));return xv(null,t,e,!0,n)};Fr.hydrateRoot=function(t,e,n){if(!fE(t))throw Error(fe(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=K4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=G4(e,null,t,1,n??null,i,!1,a,s),t[qa]=e.current,Hf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new yv(e)};Fr.render=function(t,e,n){if(!vv(e))throw Error(fe(200));return xv(null,t,e,!1,n)};Fr.unmountComponentAtNode=function(t){if(!vv(t))throw Error(fe(40));return t._reactRootContainer?(fl(function(){xv(null,null,t,!1,function(){t._reactRootContainer=null,t[qa]=null})}),!0):!1};Fr.unstable_batchedUpdates=aE;Fr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vv(n))throw Error(fe(200));if(t==null||t._reactInternals===void 0)throw Error(fe(38));return xv(t,e,n,!1,r)};Fr.version="18.3.1-next-f1338f8080-20240426";function Y4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Y4)}catch(t){console.error(t)}}Y4(),Y$.exports=Fr;var Oz=Y$.exports,uA=Oz;Lw.createRoot=uA.createRoot,Lw.hydrateRoot=uA.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function th(){return th=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},th.apply(this,arguments)}var Rs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Rs||(Rs={}));const dA="popstate";function Cz(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return O1("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Kg(i)}return Rz(e,n,null,t)}function Gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jz(){return Math.random().toString(36).substr(2,8)}function fA(t,e){return{usr:t.state,key:t.key,idx:e}}function O1(t,e,n,r){return n===void 0&&(n=null),th({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Mu(e):e,{state:n,key:e&&e.key||r||jz()})}function Kg(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Mu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Rz(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=Rs.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(th({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){o=Rs.Pop;let v=u(),x=v==null?null:v-c;c=v,l&&l({action:o,location:y.location,delta:x})}function h(v,x){o=Rs.Push;let b=O1(y.location,v,x);c=u()+1;let w=fA(b,c),S=y.createHref(b);try{s.pushState(w,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(S)}a&&l&&l({action:o,location:y.location,delta:1})}function p(v,x){o=Rs.Replace;let b=O1(y.location,v,x);c=u();let w=fA(b,c),S=y.createHref(b);s.replaceState(w,"",S),a&&l&&l({action:o,location:y.location,delta:0})}function g(v){let x=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof v=="string"?v:Kg(v);return b=b.replace(/ $/,"%20"),Gt(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let y={get action(){return o},get location(){return t(i,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(dA,d),l=v,()=>{i.removeEventListener(dA,d),l=null}},createHref(v){return e(i,v)},createURL:g,encodeLocation(v){let x=g(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(v){return s.go(v)}};return y}var hA;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(hA||(hA={}));function Mz(t,e,n){return n===void 0&&(n="/"),$z(t,e,n)}function $z(t,e,n,r){let i=typeof e=="string"?Mu(e):e,a=pE(i.pathname||"/",n);if(a==null)return null;let s=Q4(t);Dz(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=Yz(a);o=Hz(s[l],c)}return o}function Q4(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(Gt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Hs([r,l.relativePath]),u=n.concat(l);a.children&&a.children.length>0&&(Gt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Q4(a.children,e,u,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:qz(c,a.index),routesMeta:u})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of X4(a.path))i(a,s,l)}),e}function X4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=X4(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function Dz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Wz(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Lz=/^:[\w-]+$/,Fz=3,Vz=2,Uz=1,Bz=10,zz=-2,pA=t=>t==="*";function qz(t,e){let n=t.split("/"),r=n.length;return n.some(pA)&&(r+=zz),e&&(r+=Vz),n.filter(i=>!pA(i)).reduce((i,a)=>i+(Lz.test(a)?Fz:a===""?Uz:Bz),r)}function Wz(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Hz(t,e,n){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=a==="/"?e:e.slice(a.length)||"/",d=Gz({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:Hs([a,d.pathname]),pathnameBase:eq(Hs([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=Hs([a,d.pathnameBase]))}return s}function Gz(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Kz(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let y=o[d]||"";s=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const g=o[d];return p&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function Kz(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),hE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Yz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function pE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Qz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xz=t=>Qz.test(t);function Jz(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Mu(t):t,a;if(n)if(Xz(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),hE(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?a=mA(n.substring(1),"/"):a=mA(n,e)}else a=e;return{pathname:a,search:tq(r),hash:nq(i)}}function mA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Nb(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zz(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mE(t,e){let n=Zz(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function gE(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Mu(t):(i=th({},t),Gt(!i.pathname||!i.pathname.includes("?"),Nb("?","pathname","search",i)),Gt(!i.pathname||!i.pathname.includes("#"),Nb("#","pathname","hash",i)),Gt(!i.search||!i.search.includes("#"),Nb("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}o=d>=0?e[d]:"/"}let l=Jz(i,o),c=s&&s!=="/"&&s.endsWith("/"),u=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Hs=t=>t.join("/").replace(/\/\/+/g,"/"),eq=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tq=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nq=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function rq(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const J4=["post","put","patch","delete"];new Set(J4);const iq=["get",...J4];new Set(iq);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nh(){return nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nh.apply(this,arguments)}const yE=R.createContext(null),aq=R.createContext(null),yo=R.createContext(null),bv=R.createContext(null),vo=R.createContext({outlet:null,matches:[],isDataRoute:!1}),Z4=R.createContext(null);function sq(t,e){let{relative:n}=e===void 0?{}:e;$u()||Gt(!1);let{basename:r,navigator:i}=R.useContext(yo),{hash:a,pathname:s,search:o}=nL(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Hs([r,s])),i.createHref({pathname:l,search:o,hash:a})}function $u(){return R.useContext(bv)!=null}function Du(){return $u()||Gt(!1),R.useContext(bv).location}function eL(t){R.useContext(yo).static||R.useLayoutEffect(t)}function tL(){let{isDataRoute:t}=R.useContext(vo);return t?xq():oq()}function oq(){$u()||Gt(!1);let t=R.useContext(yE),{basename:e,future:n,navigator:r}=R.useContext(yo),{matches:i}=R.useContext(vo),{pathname:a}=Du(),s=JSON.stringify(mE(i,n.v7_relativeSplatPath)),o=R.useRef(!1);return eL(()=>{o.current=!0}),R.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=gE(c,JSON.parse(s),a,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Hs([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,s,a,t])}function nL(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=R.useContext(yo),{matches:i}=R.useContext(vo),{pathname:a}=Du(),s=JSON.stringify(mE(i,r.v7_relativeSplatPath));return R.useMemo(()=>gE(t,JSON.parse(s),a,n==="path"),[t,s,a,n])}function lq(t,e){return cq(t,e)}function cq(t,e,n,r){$u()||Gt(!1);let{navigator:i}=R.useContext(yo),{matches:a}=R.useContext(vo),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Du(),u;if(e){var d;let v=typeof e=="string"?Mu(e):e;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||Gt(!1),u=v}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=Mz(t,{pathname:p}),y=pq(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Hs([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Hs([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,n,r);return e&&y?R.createElement(bv.Provider,{value:{location:nh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Rs.Pop}},y):y}function uq(){let t=vq(),e=rq(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,null)}const dq=R.createElement(uq,null);class fq extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?R.createElement(vo.Provider,{value:this.props.routeContext},R.createElement(Z4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hq(t){let{routeContext:e,match:n,children:r}=t,i=R.useContext(yE);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(vo.Provider,{value:e},r)}function pq(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let u=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);u>=0||Gt(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=n,g=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,h)=>{let p,g=!1,y=null,v=null;n&&(p=o&&d.route.id?o[d.route.id]:void 0,y=d.route.errorElement||dq,l&&(c<0&&h===0?(bq("route-fallback"),g=!0,v=null):c===h&&(g=!0,v=d.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,h+1)),b=()=>{let w;return p?w=y:g?w=v:d.route.Component?w=R.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,R.createElement(hq,{match:d,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?R.createElement(fq,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var rL=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(rL||{}),iL=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(iL||{});function mq(t){let e=R.useContext(yE);return e||Gt(!1),e}function gq(t){let e=R.useContext(aq);return e||Gt(!1),e}function yq(t){let e=R.useContext(vo);return e||Gt(!1),e}function aL(t){let e=yq(),n=e.matches[e.matches.length-1];return n.route.id||Gt(!1),n.route.id}function vq(){var t;let e=R.useContext(Z4),n=gq(),r=aL();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function xq(){let{router:t}=mq(rL.UseNavigateStable),e=aL(iL.UseNavigateStable),n=R.useRef(!1);return eL(()=>{n.current=!0}),R.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,nh({fromRouteId:e},a)))},[t,e])}const gA={};function bq(t,e,n){gA[t]||(gA[t]=!0)}function wq(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function _q(t){let{to:e,replace:n,state:r,relative:i}=t;$u()||Gt(!1);let{future:a,static:s}=R.useContext(yo),{matches:o}=R.useContext(vo),{pathname:l}=Du(),c=tL(),u=gE(e,mE(o,a.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return R.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function vs(t){Gt(!1)}function Sq(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Rs.Pop,navigator:a,static:s=!1,future:o}=t;$u()&&Gt(!1);let l=e.replace(/^\/*/,"/"),c=R.useMemo(()=>({basename:l,navigator:a,static:s,future:nh({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof r=="string"&&(r=Mu(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:g="default"}=r,y=R.useMemo(()=>{let v=pE(u,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:p,key:g},navigationType:i}},[l,u,d,h,p,g,i]);return y==null?null:R.createElement(yo.Provider,{value:c},R.createElement(bv.Provider,{children:n,value:y}))}function kq(t){let{children:e,location:n}=t;return lq(C1(e),n)}new Promise(()=>{});function C1(t,e){e===void 0&&(e=[]);let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let a=[...e,i];if(r.type===R.Fragment){n.push.apply(n,C1(r.props.children,a));return}r.type!==vs&&Gt(!1),!r.props.index||!r.props.children||Gt(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=C1(r.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function j1(){return j1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j1.apply(this,arguments)}function Eq(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Tq(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Pq(t,e){return t.button===0&&(!e||e==="_self")&&!Tq(t)}const Nq=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Aq="6";try{window.__reactRouterVersion=Aq}catch{}const Iq="startTransition",yA=bB[Iq];function Oq(t){let{basename:e,children:n,future:r,window:i}=t,a=R.useRef();a.current==null&&(a.current=Cz({window:i,v5Compat:!0}));let s=a.current,[o,l]=R.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=R.useCallback(d=>{c&&yA?yA(()=>l(d)):l(d)},[l,c]);return R.useLayoutEffect(()=>s.listen(u),[s,u]),R.useEffect(()=>wq(r),[r]),R.createElement(Sq,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})}const Cq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rq=R.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=Eq(e,Nq),{basename:p}=R.useContext(yo),g,y=!1;if(typeof c=="string"&&jq.test(c)&&(g=c,Cq))try{let w=new URL(window.location.href),S=c.startsWith("//")?new URL(w.protocol+c):new URL(c),k=pE(S.pathname,p);S.origin===w.origin&&k!=null?c=k+S.search+S.hash:y=!0}catch{}let v=sq(c,{relative:i}),x=Mq(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:d});function b(w){r&&r(w),w.defaultPrevented||x(w)}return R.createElement("a",j1({},h,{href:g||v,onClick:y||a?r:b,ref:n,target:l}))});var vA;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(vA||(vA={}));var xA;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(xA||(xA={}));function Mq(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=tL(),c=Du(),u=nL(t,{relative:s});return R.useCallback(d=>{if(Pq(d,n)){d.preventDefault();let h=r!==void 0?r:Kg(c)===Kg(u);l(t,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,u,r,i,n,t,a,s,o])}/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sL=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>R.createElement("svg",{ref:l,...Dq,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:sL("lucide",i),...o},[...s.map(([c,u])=>R.createElement(c,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=(t,e)=>{const n=R.forwardRef(({className:r,...i},a)=>R.createElement(Lq,{ref:a,iconNode:e,className:sL(`lucide-${$q(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=Ne("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=Ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=Ne("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=Ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=Ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=Ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=Ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=Ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=Ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=Ne("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=Ne("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=Ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=Ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=Ne("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=Ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=Ne("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=Ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=Ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=Ne("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=Ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=Ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=Ne("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=Ne("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=Ne("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=Ne("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=Ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=Ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=Ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=Ne("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=Ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=Ne("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=Ne("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=Ne("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=Ne("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eW=Ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=Ne("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=Ne("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=Ne("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=Ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=Ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=Ne("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=Ne("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=Ne("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=Ne("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=Ne("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=Ne("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=Ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=Ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=Ne("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=Ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=Ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=Ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=Ne("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=Ne("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),aW=()=>{};var kA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},sW=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},xL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=a>>2,d=(a&3)<<4|o>>4;let h=(o&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),r.push(n[u],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sW(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||c==null||d==null)throw new oW;const h=a<<2|o>>4;if(r.push(h),c!==64){const p=o<<4&240|c>>2;if(r.push(p),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lW=function(t){const e=vL(t);return xL.encodeByteArray(e,!0)},Yg=function(t){return lW(t).replace(/\./g,"")},bL=function(t){try{return xL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uW=()=>cW().__FIREBASE_DEFAULTS__,dW=()=>{if(typeof process>"u"||typeof kA>"u")return;const t=kA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fW=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bL(t[1]);return e&&JSON.parse(e)},_v=()=>{try{return aW()||uW()||dW()||fW()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wL=t=>{var e,n;return(n=(e=_v())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},_L=t=>{const e=wL(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},SL=()=>{var t;return(t=_v())==null?void 0:t.config},kL=t=>{var e;return(e=_v())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Yg(JSON.stringify(n)),Yg(JSON.stringify(s)),""].join(".")}const bf={};function pW(){const t={prod:[],emulator:[]};for(const e of Object.keys(bf))bf[e]?t.emulator.push(e):t.prod.push(e);return t}function mW(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let EA=!1;function EE(t,e){if(typeof window>"u"||typeof document>"u"||!Ol(window.location.host)||bf[t]===e||bf[t]||EA)return;bf[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",a=pW().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{EA=!0,s()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=mW(r),p=n("text"),g=document.getElementById(p)||document.createElement("span"),y=n("learnmore"),v=document.getElementById(y)||document.createElement("a"),x=n("preprendIcon"),b=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;o(w),u(v,y);const S=c();l(b,x),w.append(b,g,v,S),document.body.appendChild(w)}a?(g.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gW(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qn())}function yW(){var e;const t=(e=_v())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vW(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xW(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bW(){const t=qn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wW(){return!yW()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PL(){try{return typeof indexedDB=="object"}catch{return!1}}function NL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}function _W(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SW="FirebaseError";class ui extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=SW,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cl.prototype.create)}}class Cl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?kW(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new ui(i,o,r)}}function kW(t,e){return t.replace(EW,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const EW=/\{\$([^}]+)}/g;function TW(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ao(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(TA(a)&&TA(s)){if(!ao(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function TA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function PW(t,e){const n=new NW(t,e);return n.subscribe.bind(n)}class NW{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");AW(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ib),i.error===void 0&&(i.error=Ib),i.complete===void 0&&(i.complete=Ib);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AW(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ib(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IW=1e3,OW=2,CW=4*60*60*1e3,jW=.5;function PA(t,e=IW,n=OW){const r=e*Math.pow(n,t),i=Math.round(jW*r*(Math.random()-.5)*2);return Math.min(CW,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t){return t&&t._delegate?t._delegate:t}class li{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RW{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new hW;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($W(e))try{this.getOrInitializeService({instanceIdentifier:Lo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lo){return this.instances.has(e)}getOptions(e=Lo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MW(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Lo){return this.component?this.component.multipleInstances?e:Lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MW(t){return t===Lo?void 0:t}function $W(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DW{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RW(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Xe||(Xe={}));const LW={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},FW=Xe.INFO,VW={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},UW=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=VW[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Sv=class{constructor(e){this.name=e,this._logLevel=FW,this._logHandler=UW,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LW[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}};const BW=(t,e)=>e.some(n=>t instanceof n);let NA,AA;function zW(){return NA||(NA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qW(){return AA||(AA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AL=new WeakMap,M1=new WeakMap,IL=new WeakMap,Ob=new WeakMap,TE=new WeakMap;function WW(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(Qs(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&AL.set(n,t)}).catch(()=>{}),TE.set(e,t),e}function HW(t){if(M1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});M1.set(t,e)}let $1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return M1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GW(t){$1=t($1)}function KW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Cb(this),e,...n);return IL.set(r,e.sort?e.sort():[e]),Qs(r)}:qW().includes(t)?function(...e){return t.apply(Cb(this),e),Qs(AL.get(this))}:function(...e){return Qs(t.apply(Cb(this),e))}}function YW(t){return typeof t=="function"?KW(t):(t instanceof IDBTransaction&&HW(t),BW(t,zW())?new Proxy(t,$1):t)}function Qs(t){if(t instanceof IDBRequest)return WW(t);if(Ob.has(t))return Ob.get(t);const e=YW(t);return e!==t&&(Ob.set(t,e),TE.set(e,t)),e}const Cb=t=>TE.get(t);function OL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=Qs(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Qs(s.result),l.oldVersion,l.newVersion,Qs(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const QW=["get","getKey","getAll","getAllKeys","count"],XW=["put","add","delete","clear"],jb=new Map;function IA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jb.get(e))return jb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=XW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||QW.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return jb.set(e,a),a}GW(t=>({...t,get:(e,n,r)=>IA(e,n)||t.get(e,n,r),has:(e,n)=>!!IA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZW(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ZW(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const D1="@firebase/app",OA="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=new Sv("@firebase/app"),eH="@firebase/app-compat",tH="@firebase/analytics-compat",nH="@firebase/analytics",rH="@firebase/app-check-compat",iH="@firebase/app-check",aH="@firebase/auth",sH="@firebase/auth-compat",oH="@firebase/database",lH="@firebase/data-connect",cH="@firebase/database-compat",uH="@firebase/functions",dH="@firebase/functions-compat",fH="@firebase/installations",hH="@firebase/installations-compat",pH="@firebase/messaging",mH="@firebase/messaging-compat",gH="@firebase/performance",yH="@firebase/performance-compat",vH="@firebase/remote-config",xH="@firebase/remote-config-compat",bH="@firebase/storage",wH="@firebase/storage-compat",_H="@firebase/firestore",SH="@firebase/ai",kH="@firebase/firestore-compat",EH="firebase",TH="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="[DEFAULT]",PH={[D1]:"fire-core",[eH]:"fire-core-compat",[nH]:"fire-analytics",[tH]:"fire-analytics-compat",[iH]:"fire-app-check",[rH]:"fire-app-check-compat",[aH]:"fire-auth",[sH]:"fire-auth-compat",[oH]:"fire-rtdb",[lH]:"fire-data-connect",[cH]:"fire-rtdb-compat",[uH]:"fire-fn",[dH]:"fire-fn-compat",[fH]:"fire-iid",[hH]:"fire-iid-compat",[pH]:"fire-fcm",[mH]:"fire-fcm-compat",[gH]:"fire-perf",[yH]:"fire-perf-compat",[vH]:"fire-rc",[xH]:"fire-rc-compat",[bH]:"fire-gcs",[wH]:"fire-gcs-compat",[_H]:"fire-fst",[kH]:"fire-fst-compat",[SH]:"fire-vertex","fire-js":"fire-js",[EH]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg=new Map,NH=new Map,F1=new Map;function CA(t,e){try{t.container.addComponent(e)}catch(n){Ga.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Mi(t){const e=t.name;if(F1.has(e))return Ga.debug(`There were multiple attempts to register component ${e}.`),!1;F1.set(e,t);for(const n of Qg.values())CA(n,t);for(const n of NH.values())CA(n,t);return!0}function xo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function wi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new Cl("app","Firebase",AH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=TH;function CL(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:L1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Xs.create("bad-app-name",{appName:String(i)});if(n||(n=SL()),!n)throw Xs.create("no-options");const a=Qg.get(i);if(a){if(ao(n,a.options)&&ao(r,a.config))return a;throw Xs.create("duplicate-app",{appName:i})}const s=new DW(i);for(const l of F1.values())s.addComponent(l);const o=new IH(n,r,s);return Qg.set(i,o),o}function kv(t=L1){const e=Qg.get(t);if(!e&&t===L1&&SL())return CL();if(!e)throw Xs.create("no-app",{appName:t});return e}function vr(t,e,n){let r=PH[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ga.warn(s.join(" "));return}Mi(new li(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OH="firebase-heartbeat-database",CH=1,rh="firebase-heartbeat-store";let Rb=null;function jL(){return Rb||(Rb=OL(OH,CH,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xs.create("idb-open",{originalErrorMessage:t.message})})),Rb}async function jH(t){try{const n=(await jL()).transaction(rh),r=await n.objectStore(rh).get(RL(t));return await n.done,r}catch(e){if(e instanceof ui)Ga.warn(e.message);else{const n=Xs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ga.warn(n.message)}}}async function jA(t,e){try{const r=(await jL()).transaction(rh,"readwrite");await r.objectStore(rh).put(e,RL(t)),await r.done}catch(n){if(n instanceof ui)Ga.warn(n.message);else{const r=Xs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ga.warn(r.message)}}}function RL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RH=1024,MH=30;class $H{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LH(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=RA();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>MH){const s=FH(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ga.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=RA(),{heartbeatsToSend:r,unsentEntries:i}=DH(this._heartbeatsCache.heartbeats),a=Yg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Ga.warn(n),""}}}function RA(){return new Date().toISOString().substring(0,10)}function DH(t,e=RH){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),MA(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),MA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class LH{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PL()?NL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jH(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return jA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return jA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function MA(t){return Yg(JSON.stringify({version:2,heartbeats:t})).length}function FH(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VH(t){Mi(new li("platform-logger",e=>new JW(e),"PRIVATE")),Mi(new li("heartbeat",e=>new $H(e),"PRIVATE")),vr(D1,OA,t),vr(D1,OA,"esm2020"),vr("fire-js","")}VH("");var UH="firebase",BH="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vr(UH,BH,"app");function ML(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zH=ML,$L=new Cl("auth","Firebase",ML());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=new Sv("@firebase/auth");function qH(t,...e){Xg.logLevel<=Xe.WARN&&Xg.warn(`Auth (${jl}): ${t}`,...e)}function ig(t,...e){Xg.logLevel<=Xe.ERROR&&Xg.error(`Auth (${jl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t,...e){throw PE(t,...e)}function ea(t,...e){return PE(t,...e)}function DL(t,e,n){const r={...zH(),[e]:n};return new Cl("auth","Firebase",r).create(e,{appName:t.name})}function rl(t){return DL(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function PE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $L.create(t,...e)}function De(t,e,...n){if(!t)throw PE(e,...n)}function Oa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ig(e),new Error(e)}function Ya(t,e){t||Oa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function WH(){return $A()==="http:"||$A()==="https:"}function $A(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WH()||TL()||"connection"in navigator)?navigator.onLine:!0}function GH(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ya(n>e,"Short delay should be less than long delay!"),this.isMobile=gW()||xW()}get(){return HH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(t,e){Ya(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QH=new pp(3e4,6e4);function AE(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Fu(t,e,n,r,i={}){return FL(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const o=hp({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...a};return vW()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Ol(t.emulatorConfig.host)&&(c.credentials="include"),LL.fetch()(await VL(t,t.config.apiHost,n,o),c)})}async function FL(t,e,n){t._canInitEmulator=!1;const r={...KH,...e};try{const i=new JH(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw hm(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw hm(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw hm(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw hm(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw DL(t,u,c);Ka(t,u)}}catch(i){if(i instanceof ui)throw i;Ka(t,"network-request-failed",{message:String(i)})}}async function XH(t,e,n,r,i={}){const a=await Fu(t,e,n,r,i);return"mfaPendingCredential"in a&&Ka(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function VL(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?NE(t.config,i):`${t.config.apiScheme}://${i}`;return YH.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}class JH{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ea(this.auth,"network-request-failed")),QH.get())})}}function hm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ea(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZH(t,e){return Fu(t,"POST","/v1/accounts:delete",e)}async function Jg(t,e){return Fu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eG(t,e=!1){const n=en(t),r=await n.getIdToken(e),i=IE(r);De(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:wf(Mb(i.auth_time)),issuedAtTime:wf(Mb(i.iat)),expirationTime:wf(Mb(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Mb(t){return Number(t)*1e3}function IE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ig("JWT malformed, contained fewer than 3 sections"),null;try{const i=bL(n);return i?JSON.parse(i):(ig("Failed to decode base64 JWT payload"),null)}catch(i){return ig("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function DA(t){const e=IE(t);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ui&&tG(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function tG({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wf(this.lastLoginAt),this.creationTime=wf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zg(t){var d;const e=t.auth,n=await t.getIdToken(),r=await ih(t,Jg(e,{idToken:n}));De(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(d=i.providerUserInfo)!=null&&d.length?UL(i.providerUserInfo):[],s=iG(t.providerData,a),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),c=o?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new U1(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function rG(t){const e=en(t);await Zg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iG(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function UL(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aG(t,e){const n=await FL(t,{},async()=>{const r=hp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await VL(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&Ol(t.emulatorConfig.host)&&(l.credentials="include"),LL.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sG(t,e){return Fu(t,"POST","/v2/accounts:revokeToken",AE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){De(e.length!==0,"internal-error");const n=DA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await aG(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new Ac;return r&&(De(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(De(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(De(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ac,this.toJSON())}_performRefresh(){return Oa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(t,e){De(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ki{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new nG(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new U1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ih(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return eG(this,e)}reload(){return rG(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ki({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Zg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wi(this.auth.app))return Promise.reject(rl(this.auth));const e=await this.getIdToken();return await ih(this,ZH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:h,isAnonymous:p,providerData:g,stsTokenManager:y}=n;De(d&&y,e,"internal-error");const v=Ac.fromJSON(this.name,y);De(typeof d=="string",e,"internal-error"),ms(r,e.name),ms(i,e.name),De(typeof h=="boolean",e,"internal-error"),De(typeof p=="boolean",e,"internal-error"),ms(a,e.name),ms(s,e.name),ms(o,e.name),ms(l,e.name),ms(c,e.name),ms(u,e.name);const x=new ki({uid:d,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:p,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:v,createdAt:c,lastLoginAt:u});return g&&Array.isArray(g)&&(x.providerData=g.map(b=>({...b}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ac;i.updateFromServerResponse(n);const a=new ki({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Zg(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];De(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?UL(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new Ac;o.updateFromIdToken(r);const l=new ki({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new U1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=new Map;function Ca(t){Ya(t instanceof Function,"Expected a class definition");let e=LA.get(t);return e?(Ya(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,LA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BL.type="NONE";const FA=BL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(t,e,n){return`firebase:${t}:${e}:${n}`}class Ic{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=ag(this.userKey,i.apiKey,a),this.fullPersistenceKey=ag("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Jg(this.auth,{idToken:e}).catch(()=>{});return n?ki._fromGetAccountInfoResponse(this.auth,n,e):null}return ki._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ic(Ca(FA),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||Ca(FA);const s=ag(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const u=await c._get(s);if(u){let d;if(typeof u=="string"){const h=await Jg(e,{idToken:u}).catch(()=>{});if(!h)break;d=await ki._fromGetAccountInfoResponse(e,h,u)}else d=ki._fromJSON(e,u);c!==a&&(o=d),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Ic(a,e,r):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(s)}catch{}})),new Ic(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KL(e))return"Blackberry";if(YL(e))return"Webos";if(qL(e))return"Safari";if((e.includes("chrome/")||WL(e))&&!e.includes("edge/"))return"Chrome";if(GL(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function zL(t=qn()){return/firefox\//i.test(t)}function qL(t=qn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WL(t=qn()){return/crios\//i.test(t)}function HL(t=qn()){return/iemobile/i.test(t)}function GL(t=qn()){return/android/i.test(t)}function KL(t=qn()){return/blackberry/i.test(t)}function YL(t=qn()){return/webos/i.test(t)}function OE(t=qn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oG(t=qn()){var e;return OE(t)&&!!((e=window.navigator)!=null&&e.standalone)}function lG(){return bW()&&document.documentMode===10}function QL(t=qn()){return OE(t)||GL(t)||YL(t)||KL(t)||/windows phone/i.test(t)||HL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(t,e=[]){let n;switch(t){case"Browser":n=VA(qn());break;case"Worker":n=`${VA(qn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uG(t,e={}){return Fu(t,"GET","/v2/passwordPolicy",AE(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dG=6;class fG{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??dG,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UA(this),this.idTokenSubscription=new UA(this),this.beforeStateQueue=new cG(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$L,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ca(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Ic.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Jg(this,{idToken:e}),r=await ki._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(wi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wi(this.app))return Promise.reject(rl(this));const n=e?en(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wi(this.app)?Promise.reject(rl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wi(this.app)?Promise.reject(rl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ca(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uG(this),n=new fG(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await sG(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ca(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=await Ic.create(this,[Ca(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(wi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&qH(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function CE(t){return en(t)}class UA{constructor(e){this.auth=e,this.observer=null,this.addObserver=PW(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pG(t){jE=t}function mG(t){return jE.loadJS(t)}function gG(){return jE.gapiScript}function yG(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vG(t,e){const n=xo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(ao(a,e??{}))return i;Ka(i,"already-initialized")}return n.initialize({options:e})}function xG(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ca);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function bG(t,e,n){const r=CE(t);De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=JL(e),{host:s,port:o}=wG(e),l=o===null?"":`:${o}`,c={url:`${a}//${s}${l}/`},u=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){De(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),De(ao(c,r.config.emulator)&&ao(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Ol(s)?(kE(`${a}//${s}${l}`),EE("Auth",!0)):_G()}function JL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wG(t){const e=JL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:BA(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:BA(s)}}}function BA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _G(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Oa("not implemented")}_getIdTokenResponse(e){return Oa("not implemented")}_linkToIdToken(e,n){return Oa("not implemented")}_getReauthenticationResolver(e){return Oa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oc(t,e){return XH(t,"POST","/v1/accounts:signInWithIdp",AE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SG="http://localhost";class hl extends ZL{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new hl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ka("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new hl(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Oc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Oc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Oc(e,n)}buildRequest(){const e={requestUri:SG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp extends e3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends mp{constructor(){super("facebook.com")}static credential(e){return hl._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends mp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return hl._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ns.credential(n,r)}catch{return null}}}Ns.GOOGLE_SIGN_IN_METHOD="google.com";Ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends mp{constructor(){super("github.com")}static credential(e){return hl._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.GITHUB_SIGN_IN_METHOD="github.com";As.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends mp{constructor(){super("twitter.com")}static credential(e,n){return hl._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Is.credential(n,r)}catch{return null}}}Is.TWITTER_SIGN_IN_METHOD="twitter.com";Is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await ki._fromIdTokenResponse(e,r,i),s=zA(r);return new Qc({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=zA(r);return new Qc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function zA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0 extends ui{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,e0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new e0(e,n,r,i)}}function t3(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?e0._fromErrorAndOperation(t,a,e,r):a})}async function kG(t,e,n=!1){const r=await ih(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EG(t,e,n=!1){const{auth:r}=t;if(wi(r.app))return Promise.reject(rl(r));const i="reauthenticate";try{const a=await ih(t,t3(r,i,e,t),n);De(a.idToken,r,"internal-error");const s=IE(a.idToken);De(s,r,"internal-error");const{sub:o}=s;return De(t.uid===o,r,"user-mismatch"),Qc._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ka(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TG(t,e,n=!1){if(wi(t.app))return Promise.reject(rl(t));const r="signIn",i=await t3(t,r,e),a=await Qc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}function PG(t,e,n,r){return en(t).onIdTokenChanged(e,n,r)}function NG(t,e,n){return en(t).beforeAuthStateChanged(e,n)}const t0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(t0,"1"),this.storage.removeItem(t0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AG=1e3,IG=10;class r3 extends n3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);lG()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,IG):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},AG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}r3.type="LOCAL";const OG=r3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3 extends n3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}i3.type="SESSION";const a3=i3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CG(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ev(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(s).map(async c=>c(n.origin,a)),l=await CG(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ev.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const c=RE("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(h.data.response);break;default:clearTimeout(u),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(){return window}function RG(t){ta().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(){return typeof ta().WorkerGlobalScope<"u"&&typeof ta().importScripts=="function"}async function MG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $G(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function DG(){return s3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="firebaseLocalStorageDb",LG=1,n0="firebaseLocalStorage",l3="fbase_key";class gp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Tv(t,e){return t.transaction([n0],e?"readwrite":"readonly").objectStore(n0)}function FG(){const t=indexedDB.deleteDatabase(o3);return new gp(t).toPromise()}function B1(){const t=indexedDB.open(o3,LG);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(n0,{keyPath:l3})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(n0)?e(r):(r.close(),await FG(),e(await B1()))})})}async function qA(t,e,n){const r=Tv(t,!0).put({[l3]:e,value:n});return new gp(r).toPromise()}async function VG(t,e){const n=Tv(t,!1).get(e),r=await new gp(n).toPromise();return r===void 0?null:r.value}function WA(t,e){const n=Tv(t,!0).delete(e);return new gp(n).toPromise()}const UG=800,BG=3;class c3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await B1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>BG)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return s3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ev._getInstance(DG()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await MG(),!this.activeServiceWorker)return;this.sender=new jG(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$G()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await B1();return await qA(e,t0,"1"),await WA(e,t0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>qA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>VG(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>WA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Tv(i,!1).getAll();return new gp(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}c3.type="LOCAL";const zG=c3;new pp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qG(t,e){return e?Ca(e):(De(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME extends ZL{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Oc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Oc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WG(t){return TG(t.auth,new ME(t),t.bypassAuthState)}function HG(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),EG(n,new ME(t),t.bypassAuthState)}async function GG(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),kG(n,new ME(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WG;case"linkViaPopup":case"linkViaRedirect":return GG;case"reauthViaPopup":case"reauthViaRedirect":return HG;default:Ka(this.auth,"internal-error")}}resolve(e){Ya(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ya(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KG=new pp(2e3,1e4);class mc extends u3{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,mc.currentPopupAction&&mc.currentPopupAction.cancel(),mc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Ya(this.filter.length===1,"Popup operations only handle one event");const e=RE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ea(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ea(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ea(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KG.get())};e()}}mc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YG="pendingRedirect",sg=new Map;class QG extends u3{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=sg.get(this.auth._key());if(!e){try{const r=await XG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}sg.set(this.auth._key(),e)}return this.bypassAuthState||sg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XG(t,e){const n=eK(e),r=ZG(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function JG(t,e){sg.set(t._key(),e)}function ZG(t){return Ca(t._redirectPersistence)}function eK(t){return ag(YG,t.config.apiKey,t.name)}async function tK(t,e,n=!1){if(wi(t.app))return Promise.reject(rl(t));const r=CE(t),i=qG(r,e),s=await new QG(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nK=10*60*1e3;class rK{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iK(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!d3(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ea(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nK&&this.cachedEventUids.clear(),this.cachedEventUids.has(HA(e))}saveEventToCache(e){this.cachedEventUids.add(HA(e)),this.lastProcessedEventTime=Date.now()}}function HA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function d3({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function iK(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aK(t,e={}){return Fu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oK=/^https?/;async function lK(t){if(t.config.emulator)return;const{authorizedDomains:e}=await aK(t);for(const n of e)try{if(cK(n))return}catch{}Ka(t,"unauthorized-domain")}function cK(t){const e=V1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!oK.test(n))return!1;if(sK.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uK=new pp(3e4,6e4);function GA(){const t=ta().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dK(t){return new Promise((e,n)=>{var i,a,s;function r(){GA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GA(),n(ea(t,"network-request-failed"))},timeout:uK.get()})}if((a=(i=ta().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=ta().gapi)!=null&&s.load)r();else{const o=yG("iframefcb");return ta()[o]=()=>{gapi.load?r():n(ea(t,"network-request-failed"))},mG(`${gG()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw og=null,e})}let og=null;function fK(t){return og=og||dK(t),og}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hK=new pp(5e3,15e3),pK="__/auth/iframe",mK="emulator/auth/iframe",gK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vK(t){const e=t.config;De(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?NE(e,mK):`https://${t.config.authDomain}/${pK}`,r={apiKey:e.apiKey,appName:t.name,v:jl},i=yK.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${hp(r).slice(1)}`}async function xK(t){const e=await fK(t),n=ta().gapi;return De(n,t,"internal-error"),e.open({where:document.body,url:vK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gK,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=ea(t,"network-request-failed"),o=ta().setTimeout(()=>{a(s)},hK.get());function l(){ta().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wK=500,_K=600,SK="_blank",kK="http://localhost";class KA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EK(t,e,n,r=wK,i=_K){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...bK,width:r.toString(),height:i.toString(),top:a,left:s},c=qn().toLowerCase();n&&(o=WL(c)?SK:n),zL(c)&&(e=e||kK,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(oG(c)&&o!=="_self")return TK(e||"",o),new KA(null);const d=window.open(e||"",o,u);De(d,t,"popup-blocked");try{d.focus()}catch{}return new KA(d)}function TK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PK="__/auth/handler",NK="emulator/auth/handler",AK=encodeURIComponent("fac");async function YA(t,e,n,r,i,a){De(t.config.authDomain,t,"auth-domain-config-required"),De(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:jl,eventId:i};if(e instanceof e3){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",TW(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))s[u]=d}if(e instanceof mp){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${AK}=${encodeURIComponent(l)}`:"";return`${IK(t)}?${hp(o).slice(1)}${c}`}function IK({config:t}){return t.emulator?NE(t,NK):`https://${t.authDomain}/${PK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="webStorageSupport";class OK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=a3,this._completeRedirectFn=tK,this._overrideRedirectResult=JG}async _openPopup(e,n,r,i){var s;Ya((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await YA(e,n,r,V1(),i);return EK(e,a,RE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await YA(e,n,r,V1(),i);return RG(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Ya(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await xK(e),r=new rK(e);return n.register("authEvent",i=>(De(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($b,{type:$b},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[$b];a!==void 0&&n(!!a),Ka(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lK(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QL()||qL()||OE()}}const CK=OK;var QA="@firebase/auth",XA="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jK{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RK(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MK(t){Mi(new li("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;De(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XL(t)},c=new hG(r,i,a,l);return xG(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Mi(new li("auth-internal",e=>{const n=CE(e.getProvider("auth").getImmediate());return(r=>new jK(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vr(QA,XA,RK(t)),vr(QA,XA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $K=5*60,DK=kL("authIdTokenMaxAge")||$K;let JA=null;const LK=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>DK)return;const i=n==null?void 0:n.token;JA!==i&&(JA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function FK(t=kv()){const e=xo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vG(t,{popupRedirectResolver:CK,persistence:[zG,OG,a3]}),r=kL("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=LK(a.toString());NG(n,s,()=>s(n.currentUser)),PG(n,o=>s(o))}}const i=wL("auth");return i&&bG(n,`http://${i}`),n}function VK(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}pG({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=ea("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",VK().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MK("Browser");var ZA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Js,f3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,E){function N(){}N.prototype=E.prototype,_.F=E.prototype,_.prototype=new N,_.prototype.constructor=_,_.D=function(A,C,j){for(var O=Array(arguments.length-2),M=2;M<arguments.length;M++)O[M-2]=arguments[M];return E.prototype[C].apply(A,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,E,N){N||(N=0);const A=Array(16);if(typeof E=="string")for(var C=0;C<16;++C)A[C]=E.charCodeAt(N++)|E.charCodeAt(N++)<<8|E.charCodeAt(N++)<<16|E.charCodeAt(N++)<<24;else for(C=0;C<16;++C)A[C]=E[N++]|E[N++]<<8|E[N++]<<16|E[N++]<<24;E=_.g[0],N=_.g[1],C=_.g[2];let j=_.g[3],O;O=E+(j^N&(C^j))+A[0]+3614090360&4294967295,E=N+(O<<7&4294967295|O>>>25),O=j+(C^E&(N^C))+A[1]+3905402710&4294967295,j=E+(O<<12&4294967295|O>>>20),O=C+(N^j&(E^N))+A[2]+606105819&4294967295,C=j+(O<<17&4294967295|O>>>15),O=N+(E^C&(j^E))+A[3]+3250441966&4294967295,N=C+(O<<22&4294967295|O>>>10),O=E+(j^N&(C^j))+A[4]+4118548399&4294967295,E=N+(O<<7&4294967295|O>>>25),O=j+(C^E&(N^C))+A[5]+1200080426&4294967295,j=E+(O<<12&4294967295|O>>>20),O=C+(N^j&(E^N))+A[6]+2821735955&4294967295,C=j+(O<<17&4294967295|O>>>15),O=N+(E^C&(j^E))+A[7]+4249261313&4294967295,N=C+(O<<22&4294967295|O>>>10),O=E+(j^N&(C^j))+A[8]+1770035416&4294967295,E=N+(O<<7&4294967295|O>>>25),O=j+(C^E&(N^C))+A[9]+2336552879&4294967295,j=E+(O<<12&4294967295|O>>>20),O=C+(N^j&(E^N))+A[10]+4294925233&4294967295,C=j+(O<<17&4294967295|O>>>15),O=N+(E^C&(j^E))+A[11]+2304563134&4294967295,N=C+(O<<22&4294967295|O>>>10),O=E+(j^N&(C^j))+A[12]+1804603682&4294967295,E=N+(O<<7&4294967295|O>>>25),O=j+(C^E&(N^C))+A[13]+4254626195&4294967295,j=E+(O<<12&4294967295|O>>>20),O=C+(N^j&(E^N))+A[14]+2792965006&4294967295,C=j+(O<<17&4294967295|O>>>15),O=N+(E^C&(j^E))+A[15]+1236535329&4294967295,N=C+(O<<22&4294967295|O>>>10),O=E+(C^j&(N^C))+A[1]+4129170786&4294967295,E=N+(O<<5&4294967295|O>>>27),O=j+(N^C&(E^N))+A[6]+3225465664&4294967295,j=E+(O<<9&4294967295|O>>>23),O=C+(E^N&(j^E))+A[11]+643717713&4294967295,C=j+(O<<14&4294967295|O>>>18),O=N+(j^E&(C^j))+A[0]+3921069994&4294967295,N=C+(O<<20&4294967295|O>>>12),O=E+(C^j&(N^C))+A[5]+3593408605&4294967295,E=N+(O<<5&4294967295|O>>>27),O=j+(N^C&(E^N))+A[10]+38016083&4294967295,j=E+(O<<9&4294967295|O>>>23),O=C+(E^N&(j^E))+A[15]+3634488961&4294967295,C=j+(O<<14&4294967295|O>>>18),O=N+(j^E&(C^j))+A[4]+3889429448&4294967295,N=C+(O<<20&4294967295|O>>>12),O=E+(C^j&(N^C))+A[9]+568446438&4294967295,E=N+(O<<5&4294967295|O>>>27),O=j+(N^C&(E^N))+A[14]+3275163606&4294967295,j=E+(O<<9&4294967295|O>>>23),O=C+(E^N&(j^E))+A[3]+4107603335&4294967295,C=j+(O<<14&4294967295|O>>>18),O=N+(j^E&(C^j))+A[8]+1163531501&4294967295,N=C+(O<<20&4294967295|O>>>12),O=E+(C^j&(N^C))+A[13]+2850285829&4294967295,E=N+(O<<5&4294967295|O>>>27),O=j+(N^C&(E^N))+A[2]+4243563512&4294967295,j=E+(O<<9&4294967295|O>>>23),O=C+(E^N&(j^E))+A[7]+1735328473&4294967295,C=j+(O<<14&4294967295|O>>>18),O=N+(j^E&(C^j))+A[12]+2368359562&4294967295,N=C+(O<<20&4294967295|O>>>12),O=E+(N^C^j)+A[5]+4294588738&4294967295,E=N+(O<<4&4294967295|O>>>28),O=j+(E^N^C)+A[8]+2272392833&4294967295,j=E+(O<<11&4294967295|O>>>21),O=C+(j^E^N)+A[11]+1839030562&4294967295,C=j+(O<<16&4294967295|O>>>16),O=N+(C^j^E)+A[14]+4259657740&4294967295,N=C+(O<<23&4294967295|O>>>9),O=E+(N^C^j)+A[1]+2763975236&4294967295,E=N+(O<<4&4294967295|O>>>28),O=j+(E^N^C)+A[4]+1272893353&4294967295,j=E+(O<<11&4294967295|O>>>21),O=C+(j^E^N)+A[7]+4139469664&4294967295,C=j+(O<<16&4294967295|O>>>16),O=N+(C^j^E)+A[10]+3200236656&4294967295,N=C+(O<<23&4294967295|O>>>9),O=E+(N^C^j)+A[13]+681279174&4294967295,E=N+(O<<4&4294967295|O>>>28),O=j+(E^N^C)+A[0]+3936430074&4294967295,j=E+(O<<11&4294967295|O>>>21),O=C+(j^E^N)+A[3]+3572445317&4294967295,C=j+(O<<16&4294967295|O>>>16),O=N+(C^j^E)+A[6]+76029189&4294967295,N=C+(O<<23&4294967295|O>>>9),O=E+(N^C^j)+A[9]+3654602809&4294967295,E=N+(O<<4&4294967295|O>>>28),O=j+(E^N^C)+A[12]+3873151461&4294967295,j=E+(O<<11&4294967295|O>>>21),O=C+(j^E^N)+A[15]+530742520&4294967295,C=j+(O<<16&4294967295|O>>>16),O=N+(C^j^E)+A[2]+3299628645&4294967295,N=C+(O<<23&4294967295|O>>>9),O=E+(C^(N|~j))+A[0]+4096336452&4294967295,E=N+(O<<6&4294967295|O>>>26),O=j+(N^(E|~C))+A[7]+1126891415&4294967295,j=E+(O<<10&4294967295|O>>>22),O=C+(E^(j|~N))+A[14]+2878612391&4294967295,C=j+(O<<15&4294967295|O>>>17),O=N+(j^(C|~E))+A[5]+4237533241&4294967295,N=C+(O<<21&4294967295|O>>>11),O=E+(C^(N|~j))+A[12]+1700485571&4294967295,E=N+(O<<6&4294967295|O>>>26),O=j+(N^(E|~C))+A[3]+2399980690&4294967295,j=E+(O<<10&4294967295|O>>>22),O=C+(E^(j|~N))+A[10]+4293915773&4294967295,C=j+(O<<15&4294967295|O>>>17),O=N+(j^(C|~E))+A[1]+2240044497&4294967295,N=C+(O<<21&4294967295|O>>>11),O=E+(C^(N|~j))+A[8]+1873313359&4294967295,E=N+(O<<6&4294967295|O>>>26),O=j+(N^(E|~C))+A[15]+4264355552&4294967295,j=E+(O<<10&4294967295|O>>>22),O=C+(E^(j|~N))+A[6]+2734768916&4294967295,C=j+(O<<15&4294967295|O>>>17),O=N+(j^(C|~E))+A[13]+1309151649&4294967295,N=C+(O<<21&4294967295|O>>>11),O=E+(C^(N|~j))+A[4]+4149444226&4294967295,E=N+(O<<6&4294967295|O>>>26),O=j+(N^(E|~C))+A[11]+3174756917&4294967295,j=E+(O<<10&4294967295|O>>>22),O=C+(E^(j|~N))+A[2]+718787259&4294967295,C=j+(O<<15&4294967295|O>>>17),O=N+(j^(C|~E))+A[9]+3951481745&4294967295,_.g[0]=_.g[0]+E&4294967295,_.g[1]=_.g[1]+(C+(O<<21&4294967295|O>>>11))&4294967295,_.g[2]=_.g[2]+C&4294967295,_.g[3]=_.g[3]+j&4294967295}r.prototype.v=function(_,E){E===void 0&&(E=_.length);const N=E-this.blockSize,A=this.C;let C=this.h,j=0;for(;j<E;){if(C==0)for(;j<=N;)i(this,_,j),j+=this.blockSize;if(typeof _=="string"){for(;j<E;)if(A[C++]=_.charCodeAt(j++),C==this.blockSize){i(this,A),C=0;break}}else for(;j<E;)if(A[C++]=_[j++],C==this.blockSize){i(this,A),C=0;break}}this.h=C,this.o+=E},r.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var E=1;E<_.length-8;++E)_[E]=0;E=this.o*8;for(var N=_.length-8;N<_.length;++N)_[N]=E&255,E/=256;for(this.v(_),_=Array(16),E=0,N=0;N<4;++N)for(let A=0;A<32;A+=8)_[E++]=this.g[N]>>>A&255;return _};function a(_,E){var N=o;return Object.prototype.hasOwnProperty.call(N,_)?N[_]:N[_]=E(_)}function s(_,E){this.h=E;const N=[];let A=!0;for(let C=_.length-1;C>=0;C--){const j=_[C]|0;A&&j==E||(N[C]=j,A=!1)}this.g=N}var o={};function l(_){return-128<=_&&_<128?a(_,function(E){return new s([E|0],E<0?-1:0)}):new s([_|0],_<0?-1:0)}function c(_){if(isNaN(_)||!isFinite(_))return d;if(_<0)return v(c(-_));const E=[];let N=1;for(let A=0;_>=N;A++)E[A]=_/N|0,N*=4294967296;return new s(E,0)}function u(_,E){if(_.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(_.charAt(0)=="-")return v(u(_.substring(1),E));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=c(Math.pow(E,8));let A=d;for(let j=0;j<_.length;j+=8){var C=Math.min(8,_.length-j);const O=parseInt(_.substring(j,j+C),E);C<8?(C=c(Math.pow(E,C)),A=A.j(C).add(c(O))):(A=A.j(N),A=A.add(c(O)))}return A}var d=l(0),h=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(y(this))return-v(this).m();let _=0,E=1;for(let N=0;N<this.g.length;N++){const A=this.i(N);_+=(A>=0?A:4294967296+A)*E,E*=4294967296}return _},t.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(g(this))return"0";if(y(this))return"-"+v(this).toString(_);const E=c(Math.pow(_,6));var N=this;let A="";for(;;){const C=S(N,E).g;N=x(N,C.j(E));let j=((N.g.length>0?N.g[0]:N.h)>>>0).toString(_);if(N=C,g(N))return j+A;for(;j.length<6;)j="0"+j;A=j+A}},t.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function g(_){if(_.h!=0)return!1;for(let E=0;E<_.g.length;E++)if(_.g[E]!=0)return!1;return!0}function y(_){return _.h==-1}t.l=function(_){return _=x(this,_),y(_)?-1:g(_)?0:1};function v(_){const E=_.g.length,N=[];for(let A=0;A<E;A++)N[A]=~_.g[A];return new s(N,~_.h).add(h)}t.abs=function(){return y(this)?v(this):this},t.add=function(_){const E=Math.max(this.g.length,_.g.length),N=[];let A=0;for(let C=0;C<=E;C++){let j=A+(this.i(C)&65535)+(_.i(C)&65535),O=(j>>>16)+(this.i(C)>>>16)+(_.i(C)>>>16);A=O>>>16,j&=65535,O&=65535,N[C]=O<<16|j}return new s(N,N[N.length-1]&-2147483648?-1:0)};function x(_,E){return _.add(v(E))}t.j=function(_){if(g(this)||g(_))return d;if(y(this))return y(_)?v(this).j(v(_)):v(v(this).j(_));if(y(_))return v(this.j(v(_)));if(this.l(p)<0&&_.l(p)<0)return c(this.m()*_.m());const E=this.g.length+_.g.length,N=[];for(var A=0;A<2*E;A++)N[A]=0;for(A=0;A<this.g.length;A++)for(let C=0;C<_.g.length;C++){const j=this.i(A)>>>16,O=this.i(A)&65535,M=_.i(C)>>>16,$=_.i(C)&65535;N[2*A+2*C]+=O*$,b(N,2*A+2*C),N[2*A+2*C+1]+=j*$,b(N,2*A+2*C+1),N[2*A+2*C+1]+=O*M,b(N,2*A+2*C+1),N[2*A+2*C+2]+=j*M,b(N,2*A+2*C+2)}for(_=0;_<E;_++)N[_]=N[2*_+1]<<16|N[2*_];for(_=E;_<2*E;_++)N[_]=0;return new s(N,0)};function b(_,E){for(;(_[E]&65535)!=_[E];)_[E+1]+=_[E]>>>16,_[E]&=65535,E++}function w(_,E){this.g=_,this.h=E}function S(_,E){if(g(E))throw Error("division by zero");if(g(_))return new w(d,d);if(y(_))return E=S(v(_),E),new w(v(E.g),v(E.h));if(y(E))return E=S(_,v(E)),new w(v(E.g),E.h);if(_.g.length>30){if(y(_)||y(E))throw Error("slowDivide_ only works with positive integers.");for(var N=h,A=E;A.l(_)<=0;)N=k(N),A=k(A);var C=P(N,1),j=P(A,1);for(A=P(A,2),N=P(N,2);!g(A);){var O=j.add(A);O.l(_)<=0&&(C=C.add(N),j=O),A=P(A,1),N=P(N,1)}return E=x(_,C.j(E)),new w(C,E)}for(C=d;_.l(E)>=0;){for(N=Math.max(1,Math.floor(_.m()/E.m())),A=Math.ceil(Math.log(N)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),j=c(N),O=j.j(E);y(O)||O.l(_)>0;)N-=A,j=c(N),O=j.j(E);g(j)&&(j=h),C=C.add(j),_=x(_,O)}return new w(C,_)}t.B=function(_){return S(this,_).h},t.and=function(_){const E=Math.max(this.g.length,_.g.length),N=[];for(let A=0;A<E;A++)N[A]=this.i(A)&_.i(A);return new s(N,this.h&_.h)},t.or=function(_){const E=Math.max(this.g.length,_.g.length),N=[];for(let A=0;A<E;A++)N[A]=this.i(A)|_.i(A);return new s(N,this.h|_.h)},t.xor=function(_){const E=Math.max(this.g.length,_.g.length),N=[];for(let A=0;A<E;A++)N[A]=this.i(A)^_.i(A);return new s(N,this.h^_.h)};function k(_){const E=_.g.length+1,N=[];for(let A=0;A<E;A++)N[A]=_.i(A)<<1|_.i(A-1)>>>31;return new s(N,_.h)}function P(_,E){const N=E>>5;E%=32;const A=_.g.length-N,C=[];for(let j=0;j<A;j++)C[j]=E>0?_.i(j+N)>>>E|_.i(j+N+1)<<32-E:_.i(j+N);return new s(C,_.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,f3=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,Js=s}).apply(typeof ZA<"u"?ZA:typeof self<"u"?self:typeof window<"u"?window:{});var pm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var h3,Yd,p3,lg,z1,m3,g3,y3;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof pm=="object"&&pm];for(var T=0;T<m.length;++T){var I=m[T];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(m,T){if(T)e:{var I=r;m=m.split(".");for(var D=0;D<m.length-1;D++){var K=m[D];if(!(K in I))break e;I=I[K]}m=m[m.length-1],D=I[m],T=T(D),T!=D&&T!=null&&e(I,m,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(m){return m||function(T){var I=[],D;for(D in T)Object.prototype.hasOwnProperty.call(T,D)&&I.push([D,T[D]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function l(m,T,I){return m.call.apply(m.bind,arguments)}function c(m,T,I){return c=l,c.apply(null,arguments)}function u(m,T){var I=Array.prototype.slice.call(arguments,1);return function(){var D=I.slice();return D.push.apply(D,arguments),m.apply(this,D)}}function d(m,T){function I(){}I.prototype=T.prototype,m.Z=T.prototype,m.prototype=new I,m.prototype.constructor=m,m.Ob=function(D,K,J){for(var ve=Array(arguments.length-2),We=2;We<arguments.length;We++)ve[We-2]=arguments[We];return T.prototype[K].apply(D,ve)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function p(m){const T=m.length;if(T>0){const I=Array(T);for(let D=0;D<T;D++)I[D]=m[D];return I}return[]}function g(m,T){for(let D=1;D<arguments.length;D++){const K=arguments[D];var I=typeof K;if(I=I!="object"?I:K?Array.isArray(K)?"array":I:"null",I=="array"||I=="object"&&typeof K.length=="number"){I=m.length||0;const J=K.length||0;m.length=I+J;for(let ve=0;ve<J;ve++)m[I+ve]=K[ve]}else m.push(K)}}class y{constructor(T,I){this.i=T,this.j=I,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function v(m){s.setTimeout(()=>{throw m},0)}function x(){var m=_;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class b{constructor(){this.h=this.g=null}add(T,I){const D=w.get();D.set(T,I),this.h?this.h.next=D:this.g=D,this.h=D}}var w=new y(()=>new S,m=>m.reset());class S{constructor(){this.next=this.g=this.h=null}set(T,I){this.h=T,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let k,P=!1,_=new b,E=()=>{const m=Promise.resolve(void 0);k=()=>{m.then(N)}};function N(){for(var m;m=x();){try{m.h.call(m.g)}catch(I){v(I)}var T=w;T.j(m),T.h<100&&(T.h++,m.next=T.g,T.g=m)}P=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const I=()=>{};s.addEventListener("test",I,T),s.removeEventListener("test",I,T)}catch{}return m}();function O(m){return/^[\s\xa0]*$/.test(m)}function M(m,T){C.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,T)}d(M,C),M.prototype.init=function(m,T){const I=this.type=m.type,D=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget,T||(I=="mouseover"?T=m.fromElement:I=="mouseout"&&(T=m.toElement)),this.relatedTarget=T,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&M.Z.h.call(this)},M.prototype.h=function(){M.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var $="closure_listenable_"+(Math.random()*1e6|0),L=0;function W(m,T,I,D,K){this.listener=m,this.proxy=null,this.src=T,this.type=I,this.capture=!!D,this.ha=K,this.key=++L,this.da=this.fa=!1}function F(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function U(m,T,I){for(const D in m)T.call(I,m[D],D,m)}function G(m,T){for(const I in m)T.call(void 0,m[I],I,m)}function Q(m){const T={};for(const I in m)T[I]=m[I];return T}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(m,T){let I,D;for(let K=1;K<arguments.length;K++){D=arguments[K];for(I in D)m[I]=D[I];for(let J=0;J<B.length;J++)I=B[J],Object.prototype.hasOwnProperty.call(D,I)&&(m[I]=D[I])}}function ge(m){this.src=m,this.g={},this.h=0}ge.prototype.add=function(m,T,I,D,K){const J=m.toString();m=this.g[J],m||(m=this.g[J]=[],this.h++);const ve=Z(m,T,D,K);return ve>-1?(T=m[ve],I||(T.fa=!1)):(T=new W(T,this.src,J,!!D,K),T.fa=I,m.push(T)),T};function ye(m,T){const I=T.type;if(I in m.g){var D=m.g[I],K=Array.prototype.indexOf.call(D,T,void 0),J;(J=K>=0)&&Array.prototype.splice.call(D,K,1),J&&(F(T),m.g[I].length==0&&(delete m.g[I],m.h--))}}function Z(m,T,I,D){for(let K=0;K<m.length;++K){const J=m[K];if(!J.da&&J.listener==T&&J.capture==!!I&&J.ha==D)return K}return-1}var te="closure_lm_"+(Math.random()*1e6|0),de={};function ne(m,T,I,D,K){if(Array.isArray(T)){for(let J=0;J<T.length;J++)ne(m,T[J],I,D,K);return null}return I=tn(I),m&&m[$]?m.J(T,I,o(D)?!!D.capture:!1,K):_e(m,T,I,!1,D,K)}function _e(m,T,I,D,K,J){if(!T)throw Error("Invalid event type");const ve=o(K)?!!K.capture:!!K;let We=He(m);if(We||(m[te]=We=new ge(m)),I=We.add(T,I,D,ve,J),I.proxy)return I;if(D=ie(),I.proxy=D,D.src=m,D.listener=I,m.addEventListener)j||(K=ve),K===void 0&&(K=!1),m.addEventListener(T.toString(),D,K);else if(m.attachEvent)m.attachEvent(xe(T.toString()),D);else if(m.addListener&&m.removeListener)m.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return I}function ie(){function m(I){return T.call(m.src,m.listener,I)}const T=Ce;return m}function X(m,T,I,D,K){if(Array.isArray(T))for(var J=0;J<T.length;J++)X(m,T[J],I,D,K);else D=o(D)?!!D.capture:!!D,I=tn(I),m&&m[$]?(m=m.i,J=String(T).toString(),J in m.g&&(T=m.g[J],I=Z(T,I,D,K),I>-1&&(F(T[I]),Array.prototype.splice.call(T,I,1),T.length==0&&(delete m.g[J],m.h--)))):m&&(m=He(m))&&(T=m.g[T.toString()],m=-1,T&&(m=Z(T,I,D,K)),(I=m>-1?T[m]:null)&&ee(I))}function ee(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[$])ye(T.i,m);else{var I=m.type,D=m.proxy;T.removeEventListener?T.removeEventListener(I,D,m.capture):T.detachEvent?T.detachEvent(xe(I),D):T.addListener&&T.removeListener&&T.removeListener(D),(I=He(T))?(ye(I,m),I.h==0&&(I.src=null,T[te]=null)):F(m)}}}function xe(m){return m in de?de[m]:de[m]="on"+m}function Ce(m,T){if(m.da)m=!0;else{T=new M(T,this);const I=m.listener,D=m.ha||m.src;m.fa&&ee(m),m=I.call(D,T)}return m}function He(m){return m=m[te],m instanceof ge?m:null}var $e="__closure_events_fn_"+(Math.random()*1e9>>>0);function tn(m){return typeof m=="function"?m:(m[$e]||(m[$e]=function(T){return m.handleEvent(T)}),m[$e])}function st(){A.call(this),this.i=new ge(this),this.M=this,this.G=null}d(st,A),st.prototype[$]=!0,st.prototype.removeEventListener=function(m,T,I,D){X(this,m,T,I,D)};function dt(m,T){var I,D=m.G;if(D)for(I=[];D;D=D.G)I.push(D);if(m=m.M,D=T.type||T,typeof T=="string")T=new C(T,m);else if(T instanceof C)T.target=T.target||m;else{var K=T;T=new C(D,m),ae(T,K)}K=!0;let J,ve;if(I)for(ve=I.length-1;ve>=0;ve--)J=T.g=I[ve],K=V(J,D,!0,T)&&K;if(J=T.g=m,K=V(J,D,!0,T)&&K,K=V(J,D,!1,T)&&K,I)for(ve=0;ve<I.length;ve++)J=T.g=I[ve],K=V(J,D,!1,T)&&K}st.prototype.N=function(){if(st.Z.N.call(this),this.i){var m=this.i;for(const T in m.g){const I=m.g[T];for(let D=0;D<I.length;D++)F(I[D]);delete m.g[T],m.h--}}this.G=null},st.prototype.J=function(m,T,I,D){return this.i.add(String(m),T,!1,I,D)},st.prototype.K=function(m,T,I,D){return this.i.add(String(m),T,!0,I,D)};function V(m,T,I,D){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();let K=!0;for(let J=0;J<T.length;++J){const ve=T[J];if(ve&&!ve.da&&ve.capture==I){const We=ve.listener,nn=ve.ha||ve.src;ve.fa&&ye(m.i,ve),K=We.call(nn,D)!==!1&&K}}return K&&!D.defaultPrevented}function Y(m,T){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=c(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:s.setTimeout(m,T||0)}function H(m){m.g=Y(()=>{m.g=null,m.i&&(m.i=!1,H(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class ue extends A{constructor(T,I){super(),this.m=T,this.l=I,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:H(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function he(m){A.call(this),this.h=m,this.g={}}d(he,A);var ke=[];function Be(m){U(m.g,function(T,I){this.g.hasOwnProperty(I)&&ee(T)},m),m.g={}}he.prototype.N=function(){he.Z.N.call(this),Be(this)},he.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bn=s.JSON.stringify,Wn=s.JSON.parse,Br=class{stringify(m){return s.JSON.stringify(m,void 0)}parse(m){return s.JSON.parse(m,void 0)}};function ze(){}function _r(){}var wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function _n(){C.call(this,"d")}d(_n,C);function pi(){C.call(this,"c")}d(pi,C);var Cn={},q=null;function ce(){return q=q||new st}Cn.Ia="serverreachability";function me(m){C.call(this,Cn.Ia,m)}d(me,C);function Re(m){const T=ce();dt(T,new me(T))}Cn.STAT_EVENT="statevent";function ht(m,T){C.call(this,Cn.STAT_EVENT,m),this.stat=T}d(ht,C);function Ge(m){const T=ce();dt(T,new ht(T,m))}Cn.Ja="timingevent";function lr(m,T){C.call(this,Cn.Ja,m),this.size=T}d(lr,C);function ba(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){m()},T)}function Lt(){this.g=!0}Lt.prototype.ua=function(){this.g=!1};function Vl(m,T,I,D,K,J){m.info(function(){if(m.g)if(J){var ve="",We=J.split("&");for(let pt=0;pt<We.length;pt++){var nn=We[pt].split("=");if(nn.length>1){const dn=nn[0];nn=nn[1];const Vi=dn.split("_");ve=Vi.length>=2&&Vi[1]=="type"?ve+(dn+"="+nn+"&"):ve+(dn+"=redacted&")}}}else ve=null;else ve=J;return"XMLHTTP REQ ("+D+") [attempt "+K+"]: "+T+`
`+I+`
`+ve})}function Ux(m,T,I,D,K,J,ve){m.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+K+"]: "+T+`
`+I+`
`+J+" "+ve})}function Ul(m,T,I,D){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+FU(m,I)+(D?" "+D:"")})}function LU(m,T){m.info(function(){return"TIMEOUT: "+T})}Lt.prototype.info=function(){};function FU(m,T){if(!m.g)return T;if(!T)return null;try{const J=JSON.parse(T);if(J){for(m=0;m<J.length;m++)if(Array.isArray(J[m])){var I=J[m];if(!(I.length<2)){var D=I[1];if(Array.isArray(D)&&!(D.length<1)){var K=D[0];if(K!="noop"&&K!="stop"&&K!="close")for(let ve=1;ve<D.length;ve++)D[ve]=""}}}}return bn(J)}catch{return T}}var Fp={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},y2={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},v2;function Bx(){}d(Bx,ze),Bx.prototype.g=function(){return new XMLHttpRequest},v2=new Bx;function od(m){return encodeURIComponent(String(m))}function VU(m){var T=1;m=m.split(":");const I=[];for(;T>0&&m.length;)I.push(m.shift()),T--;return m.length&&I.push(m.join(":")),I}function ls(m,T,I,D){this.j=m,this.i=T,this.l=I,this.S=D||1,this.V=new he(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new x2}function x2(){this.i=null,this.g="",this.h=!1}var b2={},zx={};function qx(m,T,I){m.M=1,m.A=Up(Fi(T)),m.u=I,m.R=!0,w2(m,null)}function w2(m,T){m.F=Date.now(),Vp(m),m.B=Fi(m.A);var I=m.B,D=m.S;Array.isArray(D)||(D=[String(D)]),R2(I.i,"t",D),m.C=0,I=m.j.L,m.h=new x2,m.g=J2(m.j,I?T:null,!m.u),m.P>0&&(m.O=new ue(c(m.Y,m,m.g),m.P)),T=m.V,I=m.g,D=m.ba;var K="readystatechange";Array.isArray(K)||(K&&(ke[0]=K.toString()),K=ke);for(let J=0;J<K.length;J++){const ve=ne(I,K[J],D||T.handleEvent,!1,T.h||T);if(!ve)break;T.g[ve.key]=ve}T=m.J?Q(m.J):{},m.u?(m.v||(m.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,T)):(m.v="GET",m.g.ea(m.B,m.v,null,T)),Re(),Vl(m.i,m.v,m.B,m.l,m.S,m.u)}ls.prototype.ba=function(m){m=m.target;const T=this.O;T&&ds(m)==3?T.j():this.Y(m)},ls.prototype.Y=function(m){try{if(m==this.g)e:{const We=ds(this.g),nn=this.g.ya(),pt=this.g.ca();if(!(We<3)&&(We!=3||this.g&&(this.h.h||this.g.la()||U2(this.g)))){this.K||We!=4||nn==7||(nn==8||pt<=0?Re(3):Re(2)),Wx(this);var T=this.g.ca();this.X=T;var I=UU(this);if(this.o=T==200,Ux(this.i,this.v,this.B,this.l,this.S,We,T),this.o){if(this.U&&!this.L){t:{if(this.g){var D,K=this.g;if((D=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(D)){var J=D;break t}}J=null}if(m=J)Ul(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Hx(this,m);else{this.o=!1,this.m=3,Ge(12),Ao(this),ld(this);break e}}if(this.R){m=!0;let dn;for(;!this.K&&this.C<I.length;)if(dn=BU(this,I),dn==zx){We==4&&(this.m=4,Ge(14),m=!1),Ul(this.i,this.l,null,"[Incomplete Response]");break}else if(dn==b2){this.m=4,Ge(15),Ul(this.i,this.l,I,"[Invalid Chunk]"),m=!1;break}else Ul(this.i,this.l,dn,null),Hx(this,dn);if(_2(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),We!=4||I.length!=0||this.h.h||(this.m=1,Ge(16),m=!1),this.o=this.o&&m,!m)Ul(this.i,this.l,I,"[Invalid Chunked Response]"),Ao(this),ld(this);else if(I.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),eb(ve),ve.P=!0,Ge(11))}}else Ul(this.i,this.l,I,null),Hx(this,I);We==4&&Ao(this),this.o&&!this.K&&(We==4?K2(this.j,this):(this.o=!1,Vp(this)))}else nB(this.g),T==400&&I.indexOf("Unknown SID")>0?(this.m=3,Ge(12)):(this.m=0,Ge(13)),Ao(this),ld(this)}}}catch{}finally{}};function UU(m){if(!_2(m))return m.g.la();const T=U2(m.g);if(T==="")return"";let I="";const D=T.length,K=ds(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Ao(m),ld(m),"";m.h.i=new s.TextDecoder}for(let J=0;J<D;J++)m.h.h=!0,I+=m.h.i.decode(T[J],{stream:!(K&&J==D-1)});return T.length=0,m.h.g+=I,m.C=0,m.h.g}function _2(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function BU(m,T){var I=m.C,D=T.indexOf(`
`,I);return D==-1?zx:(I=Number(T.substring(I,D)),isNaN(I)?b2:(D+=1,D+I>T.length?zx:(T=T.slice(D,D+I),m.C=D+I,T)))}ls.prototype.cancel=function(){this.K=!0,Ao(this)};function Vp(m){m.T=Date.now()+m.H,S2(m,m.H)}function S2(m,T){if(m.D!=null)throw Error("WatchDog timer not null");m.D=ba(c(m.aa,m),T)}function Wx(m){m.D&&(s.clearTimeout(m.D),m.D=null)}ls.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(LU(this.i,this.B),this.M!=2&&(Re(),Ge(17)),Ao(this),this.m=2,ld(this)):S2(this,this.T-m)};function ld(m){m.j.I==0||m.K||K2(m.j,m)}function Ao(m){Wx(m);var T=m.O;T&&typeof T.dispose=="function"&&T.dispose(),m.O=null,Be(m.V),m.g&&(T=m.g,m.g=null,T.abort(),T.dispose())}function Hx(m,T){try{var I=m.j;if(I.I!=0&&(I.g==m||Gx(I.h,m))){if(!m.L&&Gx(I.h,m)&&I.I==3){try{var D=I.Ba.g.parse(T)}catch{D=null}if(Array.isArray(D)&&D.length==3){var K=D;if(K[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<m.F)Hp(I),qp(I);else break e;Zx(I),Ge(18)}}else I.xa=K[1],0<I.xa-I.K&&K[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=ba(c(I.Va,I),6e3));T2(I.h)<=1&&I.ta&&(I.ta=void 0)}else Oo(I,11)}else if((m.L||I.g==m)&&Hp(I),!O(T))for(K=I.Ba.g.parse(T),T=0;T<K.length;T++){let pt=K[T];const dn=pt[0];if(!(dn<=I.K))if(I.K=dn,pt=pt[1],I.I==2)if(pt[0]=="c"){I.M=pt[1],I.ba=pt[2];const Vi=pt[3];Vi!=null&&(I.ka=Vi,I.j.info("VER="+I.ka));const Co=pt[4];Co!=null&&(I.za=Co,I.j.info("SVER="+I.za));const fs=pt[5];fs!=null&&typeof fs=="number"&&fs>0&&(D=1.5*fs,I.O=D,I.j.info("backChannelRequestTimeoutMs_="+D)),D=I;const hs=m.g;if(hs){const Kp=hs.g?hs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kp){var J=D.h;J.g||Kp.indexOf("spdy")==-1&&Kp.indexOf("quic")==-1&&Kp.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Kx(J,J.h),J.h=null))}if(D.G){const tb=hs.g?hs.g.getResponseHeader("X-HTTP-Session-Id"):null;tb&&(D.wa=tb,St(D.J,D.G,tb))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-m.F,I.j.info("Handshake RTT: "+I.T+"ms")),D=I;var ve=m;if(D.na=X2(D,D.L?D.ba:null,D.W),ve.L){P2(D.h,ve);var We=ve,nn=D.O;nn&&(We.H=nn),We.D&&(Wx(We),Vp(We)),D.g=ve}else H2(D);I.i.length>0&&Wp(I)}else pt[0]!="stop"&&pt[0]!="close"||Oo(I,7);else I.I==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?Oo(I,7):Jx(I):pt[0]!="noop"&&I.l&&I.l.qa(pt),I.A=0)}}Re(4)}catch{}}var zU=class{constructor(m,T){this.g=m,this.map=T}};function k2(m){this.l=m||10,s.PerformanceNavigationTiming?(m=s.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function E2(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function T2(m){return m.h?1:m.g?m.g.size:0}function Gx(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function Kx(m,T){m.g?m.g.add(T):m.h=T}function P2(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}k2.prototype.cancel=function(){if(this.i=N2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function N2(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const I of m.g.values())T=T.concat(I.G);return T}return p(m.i)}var A2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qU(m,T){if(m){m=m.split("&");for(let I=0;I<m.length;I++){const D=m[I].indexOf("=");let K,J=null;D>=0?(K=m[I].substring(0,D),J=m[I].substring(D+1)):K=m[I],T(K,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function cs(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;m instanceof cs?(this.l=m.l,cd(this,m.j),this.o=m.o,this.g=m.g,ud(this,m.u),this.h=m.h,Yx(this,M2(m.i)),this.m=m.m):m&&(T=String(m).match(A2))?(this.l=!1,cd(this,T[1]||"",!0),this.o=dd(T[2]||""),this.g=dd(T[3]||"",!0),ud(this,T[4]),this.h=dd(T[5]||"",!0),Yx(this,T[6]||"",!0),this.m=dd(T[7]||"")):(this.l=!1,this.i=new hd(null,this.l))}cs.prototype.toString=function(){const m=[];var T=this.j;T&&m.push(fd(T,I2,!0),":");var I=this.g;return(I||T=="file")&&(m.push("//"),(T=this.o)&&m.push(fd(T,I2,!0),"@"),m.push(od(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&m.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&m.push("/"),m.push(fd(I,I.charAt(0)=="/"?GU:HU,!0))),(I=this.i.toString())&&m.push("?",I),(I=this.m)&&m.push("#",fd(I,YU)),m.join("")},cs.prototype.resolve=function(m){const T=Fi(this);let I=!!m.j;I?cd(T,m.j):I=!!m.o,I?T.o=m.o:I=!!m.g,I?T.g=m.g:I=m.u!=null;var D=m.h;if(I)ud(T,m.u);else if(I=!!m.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var K=T.h.lastIndexOf("/");K!=-1&&(D=T.h.slice(0,K+1)+D)}if(K=D,K==".."||K==".")D="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){D=K.lastIndexOf("/",0)==0,K=K.split("/");const J=[];for(let ve=0;ve<K.length;){const We=K[ve++];We=="."?D&&ve==K.length&&J.push(""):We==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),D&&ve==K.length&&J.push("")):(J.push(We),D=!0)}D=J.join("/")}else D=K}return I?T.h=D:I=m.i.toString()!=="",I?Yx(T,M2(m.i)):I=!!m.m,I&&(T.m=m.m),T};function Fi(m){return new cs(m)}function cd(m,T,I){m.j=I?dd(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function ud(m,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);m.u=T}else m.u=null}function Yx(m,T,I){T instanceof hd?(m.i=T,QU(m.i,m.l)):(I||(T=fd(T,KU)),m.i=new hd(T,m.l))}function St(m,T,I){m.i.set(T,I)}function Up(m){return St(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function dd(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function fd(m,T,I){return typeof m=="string"?(m=encodeURI(m).replace(T,WU),I&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function WU(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var I2=/[#\/\?@]/g,HU=/[#\?:]/g,GU=/[#\?]/g,KU=/[#\?@]/g,YU=/#/g;function hd(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function Io(m){m.g||(m.g=new Map,m.h=0,m.i&&qU(m.i,function(T,I){m.add(decodeURIComponent(T.replace(/\+/g," ")),I)}))}t=hd.prototype,t.add=function(m,T){Io(this),this.i=null,m=Bl(this,m);let I=this.g.get(m);return I||this.g.set(m,I=[]),I.push(T),this.h+=1,this};function O2(m,T){Io(m),T=Bl(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function C2(m,T){return Io(m),T=Bl(m,T),m.g.has(T)}t.forEach=function(m,T){Io(this),this.g.forEach(function(I,D){I.forEach(function(K){m.call(T,K,D,this)},this)},this)};function j2(m,T){Io(m);let I=[];if(typeof T=="string")C2(m,T)&&(I=I.concat(m.g.get(Bl(m,T))));else for(m=Array.from(m.g.values()),T=0;T<m.length;T++)I=I.concat(m[T]);return I}t.set=function(m,T){return Io(this),this.i=null,m=Bl(this,m),C2(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},t.get=function(m,T){return m?(m=j2(this,m),m.length>0?String(m[0]):T):T};function R2(m,T,I){O2(m,T),I.length>0&&(m.i=null,m.g.set(Bl(m,T),p(I)),m.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(let D=0;D<T.length;D++){var I=T[D];const K=od(I);I=j2(this,I);for(let J=0;J<I.length;J++){let ve=K;I[J]!==""&&(ve+="="+od(I[J])),m.push(ve)}}return this.i=m.join("&")};function M2(m){const T=new hd;return T.i=m.i,m.g&&(T.g=new Map(m.g),T.h=m.h),T}function Bl(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function QU(m,T){T&&!m.j&&(Io(m),m.i=null,m.g.forEach(function(I,D){const K=D.toLowerCase();D!=K&&(O2(this,D),R2(this,K,I))},m)),m.j=T}function XU(m,T){const I=new Lt;if(s.Image){const D=new Image;D.onload=u(us,I,"TestLoadImage: loaded",!0,T,D),D.onerror=u(us,I,"TestLoadImage: error",!1,T,D),D.onabort=u(us,I,"TestLoadImage: abort",!1,T,D),D.ontimeout=u(us,I,"TestLoadImage: timeout",!1,T,D),s.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=m}else T(!1)}function JU(m,T){const I=new Lt,D=new AbortController,K=setTimeout(()=>{D.abort(),us(I,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:D.signal}).then(J=>{clearTimeout(K),J.ok?us(I,"TestPingServer: ok",!0,T):us(I,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(K),us(I,"TestPingServer: error",!1,T)})}function us(m,T,I,D,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),D(I)}catch{}}function ZU(){this.g=new Br}function Qx(m){this.i=m.Sb||null,this.h=m.ab||!1}d(Qx,ze),Qx.prototype.g=function(){return new Bp(this.i,this.h)};function Bp(m,T){st.call(this),this.H=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(Bp,st),t=Bp.prototype,t.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=T,this.readyState=1,md(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(T.body=m),(this.H||s).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pd(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,md(this)),this.g&&(this.readyState=3,md(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;$2(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function $2(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?pd(this):md(this),this.readyState==3&&$2(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,pd(this))},t.Na=function(m){this.g&&(this.response=m,pd(this))},t.ga=function(){this.g&&pd(this)};function pd(m){m.readyState=4,m.l=null,m.j=null,m.B=null,md(m)}t.setRequestHeader=function(m,T){this.A.append(m,T)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var I=T.next();!I.done;)I=I.value,m.push(I[0]+": "+I[1]),I=T.next();return m.join(`\r
`)};function md(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Bp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function D2(m){let T="";return U(m,function(I,D){T+=D,T+=":",T+=I,T+=`\r
`}),T}function Xx(m,T,I){e:{for(D in I){var D=!1;break e}D=!0}D||(I=D2(I),typeof m=="string"?I!=null&&od(I):St(m,T,I))}function Ft(m){st.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(Ft,st);var eB=/^https?$/i,tB=["POST","PUT"];t=Ft.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,T,I,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():v2.g(),this.g.onreadystatechange=h(c(this.Ca,this));try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(J){L2(this,J);return}if(m=I||"",I=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var K in D)I.set(K,D[K]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const J of D.keys())I.set(J,D.get(J));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(I.keys()).find(J=>J.toLowerCase()=="content-type"),K=s.FormData&&m instanceof s.FormData,!(Array.prototype.indexOf.call(tB,T,void 0)>=0)||D||K||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ve]of I)this.g.setRequestHeader(J,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(J){L2(this,J)}};function L2(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.o=5,F2(m),zp(m)}function F2(m){m.A||(m.A=!0,dt(m,"complete"),dt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,dt(this,"complete"),dt(this,"abort"),zp(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zp(this,!0)),Ft.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?V2(this):this.Xa())},t.Xa=function(){V2(this)};function V2(m){if(m.h&&typeof a<"u"){if(m.v&&ds(m)==4)setTimeout(m.Ca.bind(m),0);else if(dt(m,"readystatechange"),ds(m)==4){m.h=!1;try{const J=m.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var I;if(!(I=T)){var D;if(D=J===0){let ve=String(m.D).match(A2)[1]||null;!ve&&s.self&&s.self.location&&(ve=s.self.location.protocol.slice(0,-1)),D=!eB.test(ve?ve.toLowerCase():"")}I=D}if(I)dt(m,"complete"),dt(m,"success");else{m.o=6;try{var K=ds(m)>2?m.g.statusText:""}catch{K=""}m.l=K+" ["+m.ca()+"]",F2(m)}}finally{zp(m)}}}}function zp(m,T){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const I=m.g;m.g=null,T||dt(m,"ready");try{I.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ds(m){return m.g?m.g.readyState:0}t.ca=function(){try{return ds(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),Wn(T)}};function U2(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function nB(m){const T={};m=(m.g&&ds(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<m.length;D++){if(O(m[D]))continue;var I=VU(m[D]);const K=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const J=T[K]||[];T[K]=J,J.push(I)}G(T,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gd(m,T,I){return I&&I.internalChannelParams&&I.internalChannelParams[m]||T}function B2(m){this.za=0,this.i=[],this.j=new Lt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gd("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gd("baseRetryDelayMs",5e3,m),this.Za=gd("retryDelaySeedMs",1e4,m),this.Ta=gd("forwardChannelMaxRetries",2,m),this.va=gd("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new k2(m&&m.concurrentRequestLimit),this.Ba=new ZU,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=B2.prototype,t.ka=8,t.I=1,t.connect=function(m,T,I,D){Ge(0),this.W=m,this.H=T||{},I&&D!==void 0&&(this.H.OSID=I,this.H.OAID=D),this.F=this.X,this.J=X2(this,null,this.W),Wp(this)};function Jx(m){if(z2(m),m.I==3){var T=m.V++,I=Fi(m.J);if(St(I,"SID",m.M),St(I,"RID",T),St(I,"TYPE","terminate"),yd(m,I),T=new ls(m,m.j,T),T.M=2,T.A=Up(Fi(I)),I=!1,s.navigator&&s.navigator.sendBeacon)try{I=s.navigator.sendBeacon(T.A.toString(),"")}catch{}!I&&s.Image&&(new Image().src=T.A,I=!0),I||(T.g=J2(T.j,null),T.g.ea(T.A)),T.F=Date.now(),Vp(T)}Q2(m)}function qp(m){m.g&&(eb(m),m.g.cancel(),m.g=null)}function z2(m){qp(m),m.v&&(s.clearTimeout(m.v),m.v=null),Hp(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&s.clearTimeout(m.m),m.m=null)}function Wp(m){if(!E2(m.h)&&!m.m){m.m=!0;var T=m.Ea;k||E(),P||(k(),P=!0),_.add(T,m),m.D=0}}function rB(m,T){return T2(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=T.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=ba(c(m.Ea,m,T),Y2(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const K=new ls(this,this.j,m);let J=this.o;if(this.U&&(J?(J=Q(J),ae(J,this.U)):J=this.U),this.u!==null||this.R||(K.J=J,J=null),this.S)e:{for(var T=0,I=0;I<this.i.length;I++){t:{var D=this.i[I];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(T+=D,T>4096){T=I;break e}if(T===4096||I===this.i.length-1){T=I+1;break e}}T=1e3}else T=1e3;T=W2(this,K,T),I=Fi(this.J),St(I,"RID",m),St(I,"CVER",22),this.G&&St(I,"X-HTTP-Session-Id",this.G),yd(this,I),J&&(this.R?T="headers="+od(D2(J))+"&"+T:this.u&&Xx(I,this.u,J)),Kx(this.h,K),this.Ra&&St(I,"TYPE","init"),this.S?(St(I,"$req",T),St(I,"SID","null"),K.U=!0,qx(K,I,null)):qx(K,I,T),this.I=2}}else this.I==3&&(m?q2(this,m):this.i.length==0||E2(this.h)||q2(this))};function q2(m,T){var I;T?I=T.l:I=m.V++;const D=Fi(m.J);St(D,"SID",m.M),St(D,"RID",I),St(D,"AID",m.K),yd(m,D),m.u&&m.o&&Xx(D,m.u,m.o),I=new ls(m,m.j,I,m.D+1),m.u===null&&(I.J=m.o),T&&(m.i=T.G.concat(m.i)),T=W2(m,I,1e3),I.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Kx(m.h,I),qx(I,D,T)}function yd(m,T){m.H&&U(m.H,function(I,D){St(T,D,I)}),m.l&&U({},function(I,D){St(T,D,I)})}function W2(m,T,I){I=Math.min(m.i.length,I);const D=m.l?c(m.l.Ka,m.l,m):null;e:{var K=m.i;let We=-1;for(;;){const nn=["count="+I];We==-1?I>0?(We=K[0].g,nn.push("ofs="+We)):We=0:nn.push("ofs="+We);let pt=!0;for(let dn=0;dn<I;dn++){var J=K[dn].g;const Vi=K[dn].map;if(J-=We,J<0)We=Math.max(0,K[dn].g-100),pt=!1;else try{J="req"+J+"_"||"";try{var ve=Vi instanceof Map?Vi:Object.entries(Vi);for(const[Co,fs]of ve){let hs=fs;o(fs)&&(hs=bn(fs)),nn.push(J+Co+"="+encodeURIComponent(hs))}}catch(Co){throw nn.push(J+"type="+encodeURIComponent("_badmap")),Co}}catch{D&&D(Vi)}}if(pt){ve=nn.join("&");break e}}ve=void 0}return m=m.i.splice(0,I),T.G=m,ve}function H2(m){if(!m.g&&!m.v){m.Y=1;var T=m.Da;k||E(),P||(k(),P=!0),_.add(T,m),m.A=0}}function Zx(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=ba(c(m.Da,m),Y2(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,G2(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=ba(c(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ge(10),qp(this),G2(this))};function eb(m){m.B!=null&&(s.clearTimeout(m.B),m.B=null)}function G2(m){m.g=new ls(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var T=Fi(m.na);St(T,"RID","rpc"),St(T,"SID",m.M),St(T,"AID",m.K),St(T,"CI",m.F?"0":"1"),!m.F&&m.ia&&St(T,"TO",m.ia),St(T,"TYPE","xmlhttp"),yd(m,T),m.u&&m.o&&Xx(T,m.u,m.o),m.O&&(m.g.H=m.O);var I=m.g;m=m.ba,I.M=1,I.A=Up(Fi(T)),I.u=null,I.R=!0,w2(I,m)}t.Va=function(){this.C!=null&&(this.C=null,qp(this),Zx(this),Ge(19))};function Hp(m){m.C!=null&&(s.clearTimeout(m.C),m.C=null)}function K2(m,T){var I=null;if(m.g==T){Hp(m),eb(m),m.g=null;var D=2}else if(Gx(m.h,T))I=T.G,P2(m.h,T),D=1;else return;if(m.I!=0){if(T.o)if(D==1){I=T.u?T.u.length:0,T=Date.now()-T.F;var K=m.D;D=ce(),dt(D,new lr(D,I)),Wp(m)}else H2(m);else if(K=T.m,K==3||K==0&&T.X>0||!(D==1&&rB(m,T)||D==2&&Zx(m)))switch(I&&I.length>0&&(T=m.h,T.i=T.i.concat(I)),K){case 1:Oo(m,5);break;case 4:Oo(m,10);break;case 3:Oo(m,6);break;default:Oo(m,2)}}}function Y2(m,T){let I=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(I*=2),I*T}function Oo(m,T){if(m.j.info("Error code "+T),T==2){var I=c(m.bb,m),D=m.Ua;const K=!D;D=new cs(D||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||cd(D,"https"),Up(D),K?XU(D.toString(),I):JU(D.toString(),I)}else Ge(2);m.I=0,m.l&&m.l.pa(T),Q2(m),z2(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Ge(2)):(this.j.info("Failed to ping google.com"),Ge(1))};function Q2(m){if(m.I=0,m.ja=[],m.l){const T=N2(m.h);(T.length!=0||m.i.length!=0)&&(g(m.ja,T),g(m.ja,m.i),m.h.i.length=0,p(m.i),m.i.length=0),m.l.oa()}}function X2(m,T,I){var D=I instanceof cs?Fi(I):new cs(I);if(D.g!="")T&&(D.g=T+"."+D.g),ud(D,D.u);else{var K=s.location;D=K.protocol,T=T?T+"."+K.hostname:K.hostname,K=+K.port;const J=new cs(null);D&&cd(J,D),T&&(J.g=T),K&&ud(J,K),I&&(J.h=I),D=J}return I=m.G,T=m.wa,I&&T&&St(D,I,T),St(D,"VER",m.ka),yd(m,D),D}function J2(m,T,I){if(T&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Aa&&!m.ma?new Ft(new Qx({ab:I})):new Ft(m.ma),T.Fa(m.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Z2(){}t=Z2.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Gp(){}Gp.prototype.g=function(m,T){return new Sr(m,T)};function Sr(m,T){st.call(this),this.g=new B2(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(m?m["X-WebChannel-Client-Profile"]=T.sa:m={"X-WebChannel-Client-Profile":T.sa}),this.g.U=m,(m=T&&T.Qb)&&!O(m)&&(this.g.u=m),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!O(T)&&(this.g.G=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new zl(this)}d(Sr,st),Sr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Sr.prototype.close=function(){Jx(this.g)},Sr.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var I={};I.__data__=m,m=I}else this.v&&(I={},I.__data__=bn(m),m=I);T.i.push(new zU(T.Ya++,m)),T.I==3&&Wp(T)},Sr.prototype.N=function(){this.g.l=null,delete this.j,Jx(this.g),delete this.g,Sr.Z.N.call(this)};function eN(m){_n.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){e:{for(const I in T){m=I;break e}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}d(eN,_n);function tN(){pi.call(this),this.status=1}d(tN,pi);function zl(m){this.g=m}d(zl,Z2),zl.prototype.ra=function(){dt(this.g,"a")},zl.prototype.qa=function(m){dt(this.g,new eN(m))},zl.prototype.pa=function(m){dt(this.g,new tN)},zl.prototype.oa=function(){dt(this.g,"b")},Gp.prototype.createWebChannel=Gp.prototype.g,Sr.prototype.send=Sr.prototype.o,Sr.prototype.open=Sr.prototype.m,Sr.prototype.close=Sr.prototype.close,y3=function(){return new Gp},g3=function(){return ce()},m3=Cn,z1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fp.NO_ERROR=0,Fp.TIMEOUT=8,Fp.HTTP_ERROR=6,lg=Fp,y2.COMPLETE="complete",p3=y2,_r.EventType=wn,wn.OPEN="a",wn.CLOSE="b",wn.ERROR="c",wn.MESSAGE="d",st.prototype.listen=st.prototype.J,Yd=_r,Ft.prototype.listenOnce=Ft.prototype.K,Ft.prototype.getLastError=Ft.prototype.Ha,Ft.prototype.getLastErrorCode=Ft.prototype.ya,Ft.prototype.getStatus=Ft.prototype.ca,Ft.prototype.getResponseJson=Ft.prototype.La,Ft.prototype.getResponseText=Ft.prototype.la,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Fa,h3=Ft}).apply(typeof pm<"u"?pm:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vu="12.9.0";function UK(t){Vu=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=new Sv("@firebase/firestore");function Zl(){return pl.logLevel}function we(t,...e){if(pl.logLevel<=Xe.DEBUG){const n=e.map($E);pl.debug(`Firestore (${Vu}): ${t}`,...n)}}function Qa(t,...e){if(pl.logLevel<=Xe.ERROR){const n=e.map($E);pl.error(`Firestore (${Vu}): ${t}`,...n)}}function ml(t,...e){if(pl.logLevel<=Xe.WARN){const n=e.map($E);pl.warn(`Firestore (${Vu}): ${t}`,...n)}}function $E(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,v3(t,r,n)}function v3(t,e,n){let r=`FIRESTORE (${Vu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Qa(r),new Error(r)}function ot(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||v3(e,i,r)}function Ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dn.UNAUTHENTICATED))}shutdown(){}}class zK{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qK{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ot(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new Zs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Zs,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Zs)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ot(typeof r.accessToken=="string",31837,{l:r}),new x3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new Dn(e)}}class WK{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class HK{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new WK(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GK{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ot(this.o===void 0,3512);const r=a=>{a.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,we("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new eI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ot(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new eI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KK(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=KK(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Je(t,e){return t<e?-1:t>e?1:0}function q1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return Db(i)===Db(a)?Je(i,a):Db(i)?1:-1}return Je(t.length,e.length)}const YK=55296,QK=57343;function Db(t){const e=t.charCodeAt(0);return e>=YK&&e<=QK}function Xc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="__name__";class zi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Me(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=zi.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Je(e.length,n.length)}static compareSegments(e,n){const r=zi.isNumericId(e),i=zi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?zi.extractNumericId(e).compare(zi.extractNumericId(n)):q1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Js.fromString(e.substring(4,e.length-2))}}class bt extends zi{construct(e,n,r){return new bt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new bt(n)}static emptyPath(){return new bt([])}}const XK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pn extends zi{construct(e,n,r){return new Pn(e,n,r)}static isValidIdentifier(e){return XK.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tI}static keyField(){return new Pn([tI])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new be(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new be(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new be(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new be(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pn(n)}static emptyPath(){return new Pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(bt.fromString(e))}static fromName(e){return new Ae(bt.fromString(e).popFirst(5))}static empty(){return new Ae(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new bt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(t,e,n){if(!n)throw new be(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JK(t,e,n,r){if(e===!0&&r===!0)throw new be(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nI(t){if(!Ae.isDocumentKey(t))throw new be(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rI(t){if(Ae.isDocumentKey(t))throw new be(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function w3(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Pv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function ri(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pv(t);throw new be(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t,e){const n={typeString:t};return e&&(n.value=e),n}function yp(t,e){if(!w3(t))throw new be(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new be(se.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=-62135596800,aI=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*aI);return new Pt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<iI)throw new be(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aI}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yp(e,Pt._jsonSchema))return new Pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-iI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pt._jsonSchemaVersion="firestore/timestamp/1.0",Pt._jsonSchema={type:Jt("string",Pt._jsonSchemaVersion),seconds:Jt("number"),nanoseconds:Jt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new Pt(0,0))}static max(){return new Ve(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=-1;function ZK(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ve.fromTimestamp(r===1e9?new Pt(n+1,0):new Pt(n,r));return new so(i,Ae.empty(),e)}function eY(t){return new so(t.readTime,t.key,ah)}class so{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new so(Ve.min(),Ae.empty(),ah)}static max(){return new so(Ve.max(),Ae.empty(),ah)}}function tY(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nY="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rY{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uu(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==nY)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):le.reject(n)}static resolve(e){return new le((n,r)=>{n(e)})}static reject(e){return new le((n,r)=>{r(e)})}static waitFor(e){return new le((n,r)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},l=>r(l))}),s=!0,a===i&&n()})}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next(i=>i?le.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new le((r,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++o,o===a&&r(s)},u=>i(u))}})}static doWhile(e,n){return new le((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function iY(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nv.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=-1;function Av(t){return t==null}function r0(t){return t===0&&1/t==-1/0}function aY(t){return typeof t=="number"&&Number.isInteger(t)&&!r0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3="";function sY(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=sI(e)),e=oY(t.get(n),e);return sI(e)}function oY(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case _3:n+="";break;default:n+=a}}return n}function sI(t){return t+_3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function S3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n){this.comparator=e,this.root=n||En.EMPTY}insert(e,n){return new Dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mm(this.root,e,this.comparator,!1)}getReverseIterator(){return new mm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mm(this.root,e,this.comparator,!0)}}class mm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??En.RED,this.left=i??En.EMPTY,this.right=a??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new En(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return En.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new En(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lI(this.data.getIterator())}getIteratorFrom(e){return new lI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof cn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new cn(this.comparator);return n.data=e,n}}class lI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.fields=e,e.sort(Pn.comparator)}static empty(){return new Or([])}unionWith(e){let n=new cn(Pn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new k3("Invalid base64 string: "+a):a}}(e);return new On(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new On(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}On.EMPTY_BYTE_STRING=new On("");const lY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oo(t){if(ot(!!t,39018),typeof t=="string"){let e=0;const n=lY.exec(t);if(ot(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qt(t.seconds),nanos:qt(t.nanos)}}function qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function lo(t){return typeof t=="string"?On.fromBase64String(t):On.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3="server_timestamp",T3="__type__",P3="__previous_value__",N3="__local_write_time__";function FE(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[T3])==null?void 0:r.stringValue)===E3}function Iv(t){const e=t.mapValue.fields[P3];return FE(e)?Iv(e):e}function sh(t){const e=oo(t.mapValue.fields[N3].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cY{constructor(e,n,r,i,a,s,o,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u,this.apiKey=d}}const i0="(default)";class oh{constructor(e,n){this.projectId=e,this.database=n||i0}static empty(){return new oh("","")}get isDefaultDatabase(){return this.database===i0}isEqual(e){return e instanceof oh&&e.projectId===this.projectId&&e.database===this.database}}function uY(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new be(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oh(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3="__type__",dY="__max__",gm={mapValue:{}},I3="__vector__",a0="value";function co(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?FE(t)?4:hY(t)?9007199254740991:fY(t)?10:11:Me(28295,{value:t})}function la(t,e){if(t===e)return!0;const n=co(t);if(n!==co(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sh(t).isEqual(sh(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=oo(i.timestampValue),o=oo(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return lo(i.bytesValue).isEqual(lo(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return qt(i.geoPointValue.latitude)===qt(a.geoPointValue.latitude)&&qt(i.geoPointValue.longitude)===qt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return qt(i.integerValue)===qt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=qt(i.doubleValue),o=qt(a.doubleValue);return s===o?r0(s)===r0(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Xc(t.arrayValue.values||[],e.arrayValue.values||[],la);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(oI(s)!==oI(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!la(s[l],o[l])))return!1;return!0}(t,e);default:return Me(52216,{left:t})}}function lh(t,e){return(t.values||[]).find(n=>la(n,e))!==void 0}function Jc(t,e){if(t===e)return 0;const n=co(t),r=co(e);if(n!==r)return Je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=qt(a.integerValue||a.doubleValue),l=qt(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return cI(t.timestampValue,e.timestampValue);case 4:return cI(sh(t),sh(e));case 5:return q1(t.stringValue,e.stringValue);case 6:return function(a,s){const o=lo(a),l=lo(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=Je(o[c],l[c]);if(u!==0)return u}return Je(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=Je(qt(a.latitude),qt(s.latitude));return o!==0?o:Je(qt(a.longitude),qt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return uI(t.arrayValue,e.arrayValue);case 10:return function(a,s){var h,p,g,y;const o=a.fields||{},l=s.fields||{},c=(h=o[a0])==null?void 0:h.arrayValue,u=(p=l[a0])==null?void 0:p.arrayValue,d=Je(((g=c==null?void 0:c.values)==null?void 0:g.length)||0,((y=u==null?void 0:u.values)==null?void 0:y.length)||0);return d!==0?d:uI(c,u)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===gm.mapValue&&s===gm.mapValue)return 0;if(a===gm.mapValue)return 1;if(s===gm.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=q1(l[d],u[d]);if(h!==0)return h;const p=Jc(o[l[d]],c[u[d]]);if(p!==0)return p}return Je(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Me(23264,{he:n})}}function cI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const n=oo(t),r=oo(e),i=Je(n.seconds,r.seconds);return i!==0?i:Je(n.nanos,r.nanos)}function uI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Jc(n[i],r[i]);if(a)return a}return Je(n.length,r.length)}function Zc(t){return W1(t)}function W1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=oo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return lo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=W1(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${W1(n.fields[s])}`;return i+"}"}(t.mapValue):Me(61005,{value:t})}function cg(t){switch(co(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Iv(t);return e?16+cg(e):16;case 5:return 2*t.stringValue.length;case 6:return lo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+cg(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return bo(r.fields,(a,s)=>{i+=a.length+cg(s)}),i}(t.mapValue);default:throw Me(13486,{value:t})}}function dI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function H1(t){return!!t&&"integerValue"in t}function VE(t){return!!t&&"arrayValue"in t}function fI(t){return!!t&&"nullValue"in t}function hI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ug(t){return!!t&&"mapValue"in t}function fY(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[A3])==null?void 0:r.stringValue)===I3}function _f(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return bo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_f(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_f(t.arrayValue.values[n]);return e}return{...t}}function hY(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===dY}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.value=e}static empty(){return new fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ug(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_f(n)}setAll(e){let n=Pn.emptyPath(),r={},i=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=_f(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());ug(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return la(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ug(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){bo(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new fr(_f(this.value))}}function O3(t){const e=[];return bo(t.fields,(n,r)=>{const i=new Pn([n]);if(ug(r)){const a=O3(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new Or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n,r,i,a,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Fn(e,0,Ve.min(),Ve.min(),Ve.min(),fr.empty(),0)}static newFoundDocument(e,n,r,i){return new Fn(e,1,n,Ve.min(),r,i,0)}static newNoDocument(e,n){return new Fn(e,2,n,Ve.min(),Ve.min(),fr.empty(),0)}static newUnknownDocument(e,n){return new Fn(e,3,n,Ve.min(),Ve.min(),fr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,n){this.position=e,this.inclusive=n}}function pI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=Ae.comparator(Ae.fromName(s.referenceValue),n.key):r=Jc(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function mI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!la(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n="asc"){this.field=e,this.dir=n}}function pY(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{}class Xt extends C3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gY(e,n,r):n==="array-contains"?new xY(e,r):n==="in"?new bY(e,r):n==="not-in"?new wY(e,r):n==="array-contains-any"?new _Y(e,r):new Xt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yY(e,r):new vY(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Jc(n,this.value)):n!==null&&co(this.value)===co(n)&&this.matchesComparison(Jc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $i extends C3{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new $i(e,n)}matches(e){return j3(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function j3(t){return t.op==="and"}function R3(t){return mY(t)&&j3(t)}function mY(t){for(const e of t.filters)if(e instanceof $i)return!1;return!0}function G1(t){if(t instanceof Xt)return t.field.canonicalString()+t.op.toString()+Zc(t.value);if(R3(t))return t.filters.map(e=>G1(e)).join(",");{const e=t.filters.map(n=>G1(n)).join(",");return`${t.op}(${e})`}}function M3(t,e){return t instanceof Xt?function(r,i){return i instanceof Xt&&r.op===i.op&&r.field.isEqual(i.field)&&la(r.value,i.value)}(t,e):t instanceof $i?function(r,i){return i instanceof $i&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&M3(s,i.filters[o]),!0):!1}(t,e):void Me(19439)}function $3(t){return t instanceof Xt?function(n){return`${n.field.canonicalString()} ${n.op} ${Zc(n.value)}`}(t):t instanceof $i?function(n){return n.op.toString()+" {"+n.getFilters().map($3).join(" ,")+"}"}(t):"Filter"}class gY extends Xt{constructor(e,n,r){super(e,n,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class yY extends Xt{constructor(e,n){super(e,"in",n),this.keys=D3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vY extends Xt{constructor(e,n){super(e,"not-in",n),this.keys=D3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function D3(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Ae.fromName(r.referenceValue))}class xY extends Xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return VE(n)&&lh(n.arrayValue,this.value)}}class bY extends Xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lh(this.value.arrayValue,n)}}class wY extends Xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(lh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!lh(this.value.arrayValue,n)}}class _Y extends Xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!VE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>lh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SY{constructor(e,n=null,r=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function gI(t,e=null,n=[],r=[],i=null,a=null,s=null){return new SY(t,e,n,r,i,a,s)}function UE(t){const e=Ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>G1(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Av(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zc(r)).join(",")),e.Te=n}return e.Te}function BE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pY(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!M3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mI(t.startAt,e.startAt)&&mI(t.endAt,e.endAt)}function K1(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n=null,r=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function kY(t,e,n,r,i,a,s,o){return new zu(t,e,n,r,i,a,s,o)}function zE(t){return new zu(t)}function yI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function EY(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function L3(t){return t.collectionGroup!==null}function Sf(t){const e=Ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new cn(Pn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new ch(a,r))}),n.has(Pn.keyField().canonicalString())||e.Ie.push(new ch(Pn.keyField(),r))}return e.Ie}function na(t){const e=Ue(t);return e.Ee||(e.Ee=TY(e,Sf(t))),e.Ee}function TY(t,e){if(t.limitType==="F")return gI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new ch(i.field,a)});const n=t.endAt?new s0(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new s0(t.startAt.position,t.startAt.inclusive):null;return gI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Y1(t,e){const n=t.filters.concat([e]);return new zu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function PY(t,e){const n=t.explicitOrderBy.concat([e]);return new zu(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Q1(t,e,n){return new zu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ov(t,e){return BE(na(t),na(e))&&t.limitType===e.limitType}function F3(t){return`${UE(na(t))}|lt:${t.limitType}`}function ec(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>$3(i)).join(", ")}]`),Av(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Zc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Zc(i)).join(",")),`Target(${r})`}(na(t))}; limitType=${t.limitType})`}function Cv(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ae.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Sf(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,l){const c=pI(s,o,l);return s.inclusive?c<=0:c<0}(r.startAt,Sf(r),i)||r.endAt&&!function(s,o,l){const c=pI(s,o,l);return s.inclusive?c>=0:c>0}(r.endAt,Sf(r),i))}(t,e)}function NY(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function V3(t){return(e,n)=>{let r=!1;for(const i of Sf(t)){const a=AY(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function AY(t,e,n){const r=t.field.isKeyField()?Ae.comparator(e.key,n.key):function(a,s,o){const l=s.data.field(a),c=o.data.field(a);return l!==null&&c!==null?Jc(l,c):Me(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bo(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return S3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IY=new Dt(Ae.comparator);function Xa(){return IY}const U3=new Dt(Ae.comparator);function Qd(...t){let e=U3;for(const n of t)e=e.insert(n.key,n);return e}function B3(t){let e=U3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Go(){return kf()}function z3(){return kf()}function kf(){return new Rl(t=>t.toString(),(t,e)=>t.isEqual(e))}const OY=new Dt(Ae.comparator),CY=new cn(Ae.comparator);function Ze(...t){let e=CY;for(const n of t)e=e.add(n);return e}const jY=new cn(Je);function RY(){return jY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:r0(e)?"-0":e}}function q3(t){return{integerValue:""+t}}function MY(t,e){return aY(e)?q3(e):qE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(){this._=void 0}}function $Y(t,e,n){return t instanceof o0?function(i,a){const s={fields:{[T3]:{stringValue:E3},[N3]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&FE(a)&&(a=Iv(a)),a&&(s.fields[P3]=a),{mapValue:s}}(n,e):t instanceof uh?H3(t,e):t instanceof dh?G3(t,e):function(i,a){const s=W3(i,a),o=vI(s)+vI(i.Ae);return H1(s)&&H1(i.Ae)?q3(o):qE(i.serializer,o)}(t,e)}function DY(t,e,n){return t instanceof uh?H3(t,e):t instanceof dh?G3(t,e):n}function W3(t,e){return t instanceof l0?function(r){return H1(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class o0 extends jv{}class uh extends jv{constructor(e){super(),this.elements=e}}function H3(t,e){const n=K3(e);for(const r of t.elements)n.some(i=>la(i,r))||n.push(r);return{arrayValue:{values:n}}}class dh extends jv{constructor(e){super(),this.elements=e}}function G3(t,e){let n=K3(e);for(const r of t.elements)n=n.filter(i=>!la(i,r));return{arrayValue:{values:n}}}class l0 extends jv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function vI(t){return qt(t.integerValue||t.doubleValue)}function K3(t){return VE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function LY(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof uh&&i instanceof uh||r instanceof dh&&i instanceof dh?Xc(r.elements,i.elements,la):r instanceof l0&&i instanceof l0?la(r.Ae,i.Ae):r instanceof o0&&i instanceof o0}(t.transform,e.transform)}class FY{constructor(e,n){this.version=e,this.transformResults=n}}class ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rv{}function Y3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new WE(t.key,ii.none()):new vp(t.key,t.data,ii.none());{const n=t.data,r=fr.empty();let i=new cn(Pn.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new wo(t.key,r,new Or(i.toArray()),ii.none())}}function VY(t,e,n){t instanceof vp?function(i,a,s){const o=i.value.clone(),l=bI(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof wo?function(i,a,s){if(!dg(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=bI(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(Q3(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ef(t,e,n,r){return t instanceof vp?function(a,s,o,l){if(!dg(a.precondition,s))return o;const c=a.value.clone(),u=wI(a.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof wo?function(a,s,o,l){if(!dg(a.precondition,s))return o;const c=wI(a.fieldTransforms,l,s),u=s.data;return u.setAll(Q3(a)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(a,s,o){return dg(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function UY(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=W3(r.transform,i||null);a!=null&&(n===null&&(n=fr.empty()),n.set(r.field,a))}return n||null}function xI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Xc(r,i,(a,s)=>LY(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class vp extends Rv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wo extends Rv{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Q3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function bI(t,e,n){const r=new Map;ot(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);r.set(a.field,DY(s,o,n[i]))}return r}function wI(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,$Y(a,s,e))}return r}class WE extends Rv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BY extends Rv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zY{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&VY(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ef(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ef(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=z3();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const l=Y3(s,o);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Ve.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ze())}isEqual(e){return this.batchId===e.batchId&&Xc(this.mutations,e.mutations,(n,r)=>xI(n,r))&&Xc(this.baseMutations,e.baseMutations,(n,r)=>xI(n,r))}}class HE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ot(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return OY}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new HE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qY{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WY{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt,nt;function HY(t){switch(t){case se.OK:return Me(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function X3(t){if(t===void 0)return Qa("GRPC error has no .code"),se.UNKNOWN;switch(t){case Kt.OK:return se.OK;case Kt.CANCELLED:return se.CANCELLED;case Kt.UNKNOWN:return se.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return se.INTERNAL;case Kt.UNAVAILABLE:return se.UNAVAILABLE;case Kt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Kt.NOT_FOUND:return se.NOT_FOUND;case Kt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Kt.ABORTED:return se.ABORTED;case Kt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Kt.DATA_LOSS:return se.DATA_LOSS;default:return Me(39323,{code:t})}}(nt=Kt||(Kt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GY(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KY=new Js([4294967295,4294967295],0);function _I(t){const e=GY().encode(t),n=new f3;return n.update(e),new Uint8Array(n.digest())}function SI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Js([n,r],0),new Js([i,a],0)]}class GE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xd(`Invalid padding: ${n}`);if(r<0)throw new Xd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Js.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Js.fromNumber(r)));return i.compare(KY)===1&&(i=new Js([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=_I(e),[r,i]=SI(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new GE(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const n=_I(e),[r,i]=SI(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.be(s)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Mv(Ve.min(),i,new Dt(Je),Xa(),Ze())}}class xp{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xp(r,n,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class J3{constructor(e,n){this.targetId=e,this.Ce=n}}class Z3{constructor(e,n,r=On.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class kI{constructor(){this.ve=0,this.Fe=EI(),this.Me=On.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ze(),n=Ze(),r=Ze();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Me(38017,{changeType:a})}}),new xp(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=EI()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ot(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class YY{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xa(),this.He=ym(),this.Je=ym(),this.Ze=new Dt(Je)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(K1(a))if(r===0){const s=new Ae(a.path);this.et(n,s,Fn.newNoDocument(s,Ve.min()))}else ot(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const o=this.ut(e),l=o?this.ct(o,e,s):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=lo(r).toUint8Array()}catch(l){if(l instanceof k3)return ml("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new GE(s,i,a)}catch(l){return ml(l instanceof Xd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(n,a,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&K1(o.target)){const l=new Ae(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,Fn.newNoDocument(l,e))}a.Be&&(n.set(s,a.ke()),a.Ke())}});let r=Ze();this.Je.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.je.forEach((a,s)=>s.setReadTime(e));const i=new Mv(e,n,this.Ze,this.je,r);return this.je=Xa(),this.He=ym(),this.Je=ym(),this.Ze=new Dt(Je),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new kI,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new cn(Je),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new cn(Je),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new kI),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ym(){return new Dt(Ae.comparator)}function EI(){return new Dt(Ae.comparator)}const QY={asc:"ASCENDING",desc:"DESCENDING"},XY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JY={and:"AND",or:"OR"};class ZY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function X1(t,e){return t.useProto3Json||Av(e)?e:{value:e}}function c0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eQ(t,e){return c0(t,e.toTimestamp())}function ra(t){return ot(!!t,49232),Ve.fromTimestamp(function(n){const r=oo(n);return new Pt(r.seconds,r.nanos)}(t))}function KE(t,e){return J1(t,e).canonicalString()}function J1(t,e){const n=function(i){return new bt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function t5(t){const e=bt.fromString(t);return ot(s5(e),10190,{key:e.toString()}),e}function Z1(t,e){return KE(t.databaseId,e.path)}function Lb(t,e){const n=t5(e);if(n.get(1)!==t.databaseId.projectId)throw new be(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ae(r5(n))}function n5(t,e){return KE(t.databaseId,e)}function tQ(t){const e=t5(t);return e.length===4?bt.emptyPath():r5(e)}function e_(t){return new bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function r5(t){return ot(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function TI(t,e,n){return{name:Z1(t,e),fields:n.value.mapValue.fields}}function nQ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Me(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,u){return c.useProto3Json?(ot(u===void 0||typeof u=="string",58123),On.fromBase64String(u||"")):(ot(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),On.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(c){const u=c.code===void 0?se.UNKNOWN:X3(c.code);return new be(u,c.message||"")}(s);n=new Z3(r,i,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Lb(t,r.document.name),a=ra(r.document.updateTime),s=r.document.createTime?ra(r.document.createTime):Ve.min(),o=new fr({mapValue:{fields:r.document.fields}}),l=Fn.newFoundDocument(i,a,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new fg(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Lb(t,r.document),a=r.readTime?ra(r.readTime):Ve.min(),s=Fn.newNoDocument(i,a),o=r.removedTargetIds||[];n=new fg([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Lb(t,r.document),a=r.removedTargetIds||[];n=new fg([],a,i,null)}else{if(!("filter"in e))return Me(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new WY(i,a),o=r.targetId;n=new J3(o,s)}}return n}function rQ(t,e){let n;if(e instanceof vp)n={update:TI(t,e.key,e.value)};else if(e instanceof WE)n={delete:Z1(t,e.key)};else if(e instanceof wo)n={update:TI(t,e.key,e.data),updateMask:fQ(e.fieldMask)};else{if(!(e instanceof BY))return Me(16599,{dt:e.type});n={verify:Z1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof o0)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof uh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof dh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof l0)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw Me(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:eQ(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Me(27497)}(t,e.precondition)),n}function iQ(t,e){return t&&t.length>0?(ot(e!==void 0,14353),t.map(n=>function(i,a){let s=i.updateTime?ra(i.updateTime):ra(a);return s.isEqual(Ve.min())&&(s=ra(a)),new FY(s,i.transformResults||[])}(n,e))):[]}function aQ(t,e){return{documents:[n5(t,e.path)]}}function sQ(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=n5(t,i);const a=function(c){if(c.length!==0)return a5($i.create(c,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:tc(h.field),direction:cQ(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=X1(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function oQ(t){let e=tQ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ot(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let a=[];n.where&&(a=function(d){const h=i5(d);return h instanceof $i&&R3(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(g){return new ch(nc(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let o=null;n.limit&&(o=function(d){let h;return h=typeof d=="object"?d.value:d,Av(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new s0(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new s0(p,h)}(n.endAt)),kY(e,i,s,a,o,"F",l,c)}function lQ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function i5(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=nc(n.unaryFilter.field);return Xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=nc(n.unaryFilter.field);return Xt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=nc(n.unaryFilter.field);return Xt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=nc(n.unaryFilter.field);return Xt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}}(t):t.fieldFilter!==void 0?function(n){return Xt.create(nc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $i.create(n.compositeFilter.filters.map(r=>i5(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Me(1026)}}(n.compositeFilter.op))}(t):Me(30097,{filter:t})}function cQ(t){return QY[t]}function uQ(t){return XY[t]}function dQ(t){return JY[t]}function tc(t){return{fieldPath:t.canonicalString()}}function nc(t){return Pn.fromServerFormat(t.fieldPath)}function a5(t){return t instanceof Xt?function(n){if(n.op==="=="){if(hI(n.value))return{unaryFilter:{field:tc(n.field),op:"IS_NAN"}};if(fI(n.value))return{unaryFilter:{field:tc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hI(n.value))return{unaryFilter:{field:tc(n.field),op:"IS_NOT_NAN"}};if(fI(n.value))return{unaryFilter:{field:tc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tc(n.field),op:uQ(n.op),value:n.value}}}(t):t instanceof $i?function(n){const r=n.getFilters().map(i=>a5(i));return r.length===1?r[0]:{compositeFilter:{op:dQ(n.op),filters:r}}}(t):Me(54877,{filter:t})}function fQ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function s5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function o5(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n,r,i,a=Ve.min(),s=Ve.min(),o=On.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hQ{constructor(e){this.yt=e}}function pQ(t){const e=oQ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Q1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mQ{constructor(){this.Sn=new gQ}addToCollectionParentIndex(e,n){return this.Sn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(so.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(so.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class gQ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new cn(bt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new cn(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},l5=41943040;class cr{static withCacheSize(e){return new cr(e,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cr.DEFAULT_COLLECTION_PERCENTILE=10,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cr.DEFAULT=new cr(l5,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cr.DISABLED=new cr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new eu(0)}static ar(){return new eu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="LruGarbageCollector",yQ=1048576;function AI([t,e],[n,r]){const i=Je(t,n);return i===0?Je(e,r):i}class vQ{constructor(e){this.Pr=e,this.buffer=new cn(AI),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();AI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xQ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){we(NI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Bu(n)?we(NI,"Ignoring IndexedDB error during garbage collection: ",n):await Uu(n)}await this.Ar(3e5)})}}class bQ{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return le.resolve(Nv.ce);const r=new vQ(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(PI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),PI):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,a,s,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,o=Date.now(),this.removeTargets(e,r,n))).next(d=>(a=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Zl()<=Xe.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:d})))}}function wQ(t,e){return new bQ(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Q{constructor(){this.changes=new Rl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kQ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ef(r.mutation,i,Or.empty(),Pt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ze()){const i=Go();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=Qd();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Go();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ze()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,i){let a=Xa();const s=kf(),o=function(){return kf()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof wo)?a=a.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Ef(u.mutation,c,u.mutation.getFieldMask(),Pt.now())):s.set(c.key,Or.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>o.set(c,new SQ(u,s.get(c)??null))),o))}recalculateAndSaveOverlays(e,n){const r=kf();let i=new Dt((s,o)=>s-o),a=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Or.empty();u=o.applyToLocalView(c,u),r.set(l,u);const d=(i.get(o.batchId)||Ze()).add(l);i=i.insert(o.batchId,d)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,d=z3();u.forEach(h=>{if(!a.has(h)){const p=Y3(n.get(h),r.get(h));p!==null&&d.set(h,p),a=a.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return le.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return EY(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):L3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):le.resolve(Go());let o=ah,l=a;return s.next(c=>le.forEach(c,(u,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),a.get(u)?le.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,Ze())).next(u=>({batchId:o,changes:B3(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next(r=>{let i=Qd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=Qd();return this.indexManager.getCollectionParents(e,a).next(o=>le.forEach(o,l=>{const c=function(d,h){return new zu(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Fn.newInvalidDocument(u)))});let o=Qd();return s.forEach((l,c)=>{const u=a.get(l);u!==void 0&&Ef(u.mutation,c,Or.empty(),Pt.now()),Cv(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EQ{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return le.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ra(i.createTime)}}(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(i){return{name:i.name,query:pQ(i.bundledQuery),readTime:ra(i.readTime)}}(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TQ{constructor(){this.overlays=new Dt(Ae.comparator),this.Lr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Go();return le.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.bt(e,n,a)}),le.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Lr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const i=Go(),a=n.length+1,s=new Ae(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return le.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Dt((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=a.get(c.largestBatchId);u===null&&(u=Go(),a=a.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=Go(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=i)););return le.resolve(o)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new qY(n,r));let a=this.Lr.get(n);a===void 0&&(a=Ze(),this.Lr.set(n,a)),this.Lr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PQ{constructor(){this.sessionToken=On.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(){this.kr=new cn(fn.Kr),this.qr=new cn(fn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new fn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new fn(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new Ae(new bt([])),r=new fn(n,e),i=new fn(n,e+1),a=[];return this.qr.forEachInRange([r,i],s=>{this.Wr(s),a.push(s.key)}),a}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ae(new bt([])),r=new fn(n,e),i=new fn(n,e+1);let a=Ze();return this.qr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new fn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class fn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ae.comparator(e.key,n.key)||Je(e.Hr,n.Hr)}static Ur(e,n){return Je(e.Hr,n.Hr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new cn(fn.Kr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new zY(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.Jr=this.Jr.add(new fn(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return le.resolve(s)}lookupMutationBatch(e,n){return le.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return le.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?LE:this.Yn-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new fn(n,0),i=new fn(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,i],s=>{const o=this.Zr(s.Hr);a.push(o)}),le.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new cn(Je);return n.forEach(i=>{const a=new fn(i,0),s=new fn(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,s],o=>{r=r.add(o.Hr)})}),le.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Ae.isDocumentKey(a)||(a=a.child(""));const s=new fn(new Ae(a),0);let o=new cn(Je);return this.Jr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Hr)),!0)},s),le.resolve(this.Yr(o))}Yr(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ot(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return le.forEach(n.mutations,i=>{const a=new fn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new fn(n,0),i=this.Jr.firstAfterOrEqual(r);return le.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AQ{constructor(e){this.ti=e,this.docs=function(){return new Dt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():Fn.newInvalidDocument(n))}getEntries(e,n){let r=Xa();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Fn.newInvalidDocument(i))}),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Xa();const s=n.path,o=new Ae(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||tY(eY(u),r)<=0||(i.has(u.key)||Cv(n,u))&&(a=a.insert(u.key,u.mutableCopy()))}return le.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Me(9500)}ni(e,n){return le.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new IQ(this)}getSize(e){return le.resolve(this.size)}}class IQ extends _Q{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)}),le.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OQ{constructor(e){this.persistence=e,this.ri=new Rl(n=>UE(n),BE),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.ii=0,this.si=new YE,this.targetCount=0,this.oi=eu._r()}forEachTarget(e,n){return this.ri.forEach((r,i)=>n(i)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),le.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new eu(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.lr(n),le.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ri.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.ri.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),le.waitFor(a).next(()=>i)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),le.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),le.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e,n){this._i={},this.overlays={},this.ai=new Nv(0),this.ui=!1,this.ui=!0,this.ci=new PQ,this.referenceDelegate=e(this),this.li=new OQ(this),this.indexManager=new mQ,this.remoteDocumentCache=function(i){return new AQ(i)}(r=>this.referenceDelegate.hi(r)),this.serializer=new hQ(n),this.Pi=new EQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new NQ(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const i=new CQ(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(a=>this.referenceDelegate.Ii(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ei(e,n){return le.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class CQ extends rY{constructor(e){super(),this.currentSequenceNumber=e}}class QE{constructor(e){this.persistence=e,this.Ri=new YE,this.Ai=null}static Vi(e){return new QE(e)}get di(){if(this.Ai)return this.Ai;throw Me(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.di,r=>{const i=Ae.fromPath(r);return this.mi(e,i).next(a=>{a||n.removeEntry(i,Ve.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class u0{constructor(e,n){this.persistence=e,this.fi=new Rl(r=>sY(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=wQ(this,n)}static Vi(e,n){return new u0(e,n)}Ti(){}Ii(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return le.forEach(this.fi,(r,i)=>this.wr(e,r,i).next(a=>a?le.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ni(e,s=>this.wr(e,s,n).next(o=>{o||(r++,a.removeEntry(s,Ve.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=cg(e.data.value)),n}wr(e,n,r){return le.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return le.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=Ze(),i=Ze();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new XE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RQ{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return wW()?8:iY(qn())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.gs(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ps(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new jQ;return this.ys(e,n,s).next(o=>{if(a.result=o,this.As)return this.ws(e,n,s,o.size)})}).next(()=>a.result)}ws(e,n,r,i){return r.documentReadCount<this.Vs?(Zl()<=Xe.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",ec(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),le.resolve()):(Zl()<=Xe.DEBUG&&we("QueryEngine","Query:",ec(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Zl()<=Xe.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",ec(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,na(n))):le.resolve())}gs(e,n){if(yI(n))return le.resolve(null);let r=na(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Q1(n,null,"F"),r=na(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=Ze(...a);return this.fs.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,o);return this.Ss(n,c,s,l.readTime)?this.gs(e,Q1(n,null,"F")):this.Ds(e,c,n,l)}))})))}ps(e,n,r,i){return yI(n)||i.isEqual(Ve.min())?le.resolve(null):this.fs.getDocuments(e,r).next(a=>{const s=this.bs(n,a);return this.Ss(n,s,r,i)?le.resolve(null):(Zl()<=Xe.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ec(n)),this.Ds(e,s,n,ZK(i,ah)).next(o=>o))})}bs(e,n){let r=new cn(V3(e));return n.forEach((i,a)=>{Cv(e,a)&&(r=r.add(a))}),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ys(e,n,r){return Zl()<=Xe.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",ec(n)),this.fs.getDocumentsMatchingQuery(e,n,so.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="LocalStore",MQ=3e8;class $Q{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new Dt(Je),this.Fs=new Rl(a=>UE(a),BE),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kQ(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function DQ(t,e,n,r){return new $Q(t,e,n,r)}async function u5(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let l=Ze();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of a){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ns:c,removedBatchIds:s,addedBatchIds:o}))})})}function LQ(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const d=c.batch,h=d.keys();let p=le.resolve();return h.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(y=>{const v=c.docVersions.get(g);ot(v!==null,48541),y.version.compareTo(v)<0&&(d.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=Ze();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function d5(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function FQ(t,e){const n=Ue(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const o=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;o.push(n.li.removeMatchingKeys(a,u.removedDocuments,d).next(()=>n.li.addMatchingKeys(a,u.addedDocuments,d)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(On.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(d,p),function(y,v,x){return y.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=MQ?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,p,u)&&o.push(n.li.updateTargetData(a,p))});let l=Xa(),c=Ze();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,u))}),o.push(VQ(a,s,e.documentUpdates).next(u=>{l=u.Bs,c=u.Ls})),!r.isEqual(Ve.min())){const u=n.li.getLastRemoteSnapshotVersion(a).next(d=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(u)}return le.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(n.vs=i,a))}function VQ(t,e,n){let r=Ze(),i=Ze();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=Xa();return n.forEach((o,l)=>{const c=a.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Ve.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):we(JE,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Bs:s,Ls:i}})}function UQ(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=LE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function BQ(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.li.getTargetData(r,e).next(a=>a?(i=a,le.resolve(i)):n.li.allocateTargetId(r).next(s=>(i=new Ms(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function t_(t,e,n){const r=Ue(t),i=r.vs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Bu(s))throw s;we(JE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function II(t,e,n){const r=Ue(t);let i=Ve.min(),a=Ze();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const d=Ue(l),h=d.Fs.get(u);return h!==void 0?le.resolve(d.vs.get(h)):d.li.getTargetData(c,u)}(r,s,na(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:Ve.min(),n?a:Ze())).next(o=>(zQ(r,NY(e),o),{documents:o,ks:a})))}function zQ(t,e,n){let r=t.Ms.get(e)||Ve.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ms.set(e,r)}class OI{constructor(){this.activeTargetIds=RY()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qQ{constructor(){this.vo=new OI,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new OI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WQ{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="ConnectivityMonitor";class jI{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){we(CI,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){we(CI,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vm=null;function n_(){return vm===null?vm=function(){return 268435456+Math.round(2147483648*Math.random())}():vm++,"0x"+vm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="RestConnection",HQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class GQ{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===i0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,a){const s=n_(),o=this.Qo(e,n.toUriEncodedString());we(Fb,`Sending RPC '${e}' ${s}:`,o,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,i,a);const{host:c}=new URL(o),u=Ol(c);return this.zo(e,o,l,r,u).then(d=>(we(Fb,`Received RPC '${e}' ${s}: `,d),d),d=>{throw ml(Fb,`RPC '${e}' ${s} failed with error: `,d,"url: ",o,"request:",r),d})}jo(e,n,r,i,a,s){return this.Wo(e,n,r,i,a)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}Qo(e,n){const r=HQ[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KQ{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="WebChannelConnection",Td=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(i){setTimeout(()=>{throw i},0)}})};class Cc extends GQ{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Cc.c_){const e=g3();Td(e,m3.STAT_EVENT,n=>{n.stat===z1.PROXY?we(Mn,"STAT_EVENT: detected buffering proxy"):n.stat===z1.NOPROXY&&we(Mn,"STAT_EVENT: detected no buffering proxy")}),Cc.c_=!0}}zo(e,n,r,i,a){const s=n_();return new Promise((o,l)=>{const c=new h3;c.setWithCredentials(!0),c.listenOnce(p3.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case lg.NO_ERROR:const d=c.getResponseJson();we(Mn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case lg.TIMEOUT:we(Mn,`RPC '${e}' ${s} timed out`),l(new be(se.DEADLINE_EXCEEDED,"Request time out"));break;case lg.HTTP_ERROR:const h=c.getStatus();if(we(Mn,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const y=function(x){const b=x.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(b)>=0?b:se.UNKNOWN}(g.status);l(new be(y,g.message))}else l(new be(se.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new be(se.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{we(Mn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);we(Mn,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}T_(e,n,r){const i=n_(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,n,r),o.encodeInitMessageHeaders=!0;const c=a.join("");we(Mn,`Creating RPC '${e}' stream ${i}: ${c}`,o);const u=s.createWebChannel(c,o);this.I_(u);let d=!1,h=!1;const p=new KQ({Ho:g=>{h?we(Mn,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(d||(we(Mn,`Opening RPC '${e}' stream ${i} transport.`),u.open(),d=!0),we(Mn,`RPC '${e}' stream ${i} sending:`,g),u.send(g))},Jo:()=>u.close()});return Td(u,Yd.EventType.OPEN,()=>{h||(we(Mn,`RPC '${e}' stream ${i} transport opened.`),p.i_())}),Td(u,Yd.EventType.CLOSE,()=>{h||(h=!0,we(Mn,`RPC '${e}' stream ${i} transport closed`),p.o_(),this.E_(u))}),Td(u,Yd.EventType.ERROR,g=>{h||(h=!0,ml(Mn,`RPC '${e}' stream ${i} transport errored. Name:`,g.name,"Message:",g.message),p.o_(new be(se.UNAVAILABLE,"The operation could not be completed")))}),Td(u,Yd.EventType.MESSAGE,g=>{var y;if(!h){const v=g.data[0];ot(!!v,16349);const x=v,b=(x==null?void 0:x.error)||((y=x[0])==null?void 0:y.error);if(b){we(Mn,`RPC '${e}' stream ${i} received error:`,b);const w=b.status;let S=function(_){const E=Kt[_];if(E!==void 0)return X3(E)}(w),k=b.message;w==="NOT_FOUND"&&k.includes("database")&&k.includes("does not exist")&&k.includes(this.databaseId.database)&&ml(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),S===void 0&&(S=se.INTERNAL,k="Unknown error status: "+w+" with message "+b.message),h=!0,p.o_(new be(S,k)),u.close()}else we(Mn,`RPC '${e}' stream ${i} received:`,v),p.__(v)}}),Cc.u_(),setTimeout(()=>{p.s_()},0),p}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return y3()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YQ(t){return new Cc(t)}function Vb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(t){return new ZY(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cc.c_=!1;class f5{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="PersistentStream";class h5{constructor(e,n,r,i,a,s,o,l){this.Ci=e,this.b_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new f5(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Qa(n.toString()),Qa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new be(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return we(RI,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(we(RI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QQ extends h5{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=nQ(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ve.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Ve.min():s.readTime?ra(s.readTime):Ve.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=e_(this.serializer),n.addTarget=function(a,s){let o;const l=s.target;if(o=K1(l)?{documents:aQ(a,l)}:{query:sQ(a,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=e5(a,s.resumeToken);const c=X1(a,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(Ve.min())>0){o.readTime=c0(a,s.snapshotVersion.toTimestamp());const c=X1(a,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=lQ(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=e_(this.serializer),n.removeTarget=e,this.K_(n)}}class XQ extends h5{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=iQ(e.writeResults,e.commitTime),r=ra(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=e_(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>rQ(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JQ{}class ZQ extends JQ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new be(se.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Wo(e,J1(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new be(se.UNKNOWN,a.toString())})}jo(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.jo(e,J1(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new be(se.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function eX(t,e,n,r){return new ZQ(t,e,n,r)}class tX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qa(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl="RemoteStore";class nX{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo(s=>{r.enqueueAndForget(async()=>{Ml(this)&&(we(gl,"Restarting streams for network reachability change."),await async function(l){const c=Ue(l);c.Ea.add(4),await bp(c),c.Va.set("Unknown"),c.Ea.delete(4),await Dv(c)}(this))})}),this.Va=new tX(r,i)}}async function Dv(t){if(Ml(t))for(const e of t.Ra)await e(!0)}async function bp(t){for(const e of t.Ra)await e(!1)}function p5(t,e){const n=Ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),nT(n)?tT(n):qu(n).O_()&&eT(n,e))}function ZE(t,e){const n=Ue(t),r=qu(n);n.Ia.delete(e),r.O_()&&m5(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ml(n)&&n.Va.set("Unknown"))}function eT(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qu(t).Z_(e)}function m5(t,e){t.da.$e(e),qu(t).X_(e)}function tT(t){t.da=new YY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),qu(t).start(),t.Va.ua()}function nT(t){return Ml(t)&&!qu(t).x_()&&t.Ia.size>0}function Ml(t){return Ue(t).Ea.size===0}function g5(t){t.da=void 0}async function rX(t){t.Va.set("Online")}async function iX(t){t.Ia.forEach((e,n)=>{eT(t,e)})}async function aX(t,e){g5(t),nT(t)?(t.Va.ha(e),tT(t)):t.Va.set("Unknown")}async function sX(t,e,n){if(t.Va.set("Online"),e instanceof Z3&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.da.removeTarget(o))}(t,e)}catch(r){we(gl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await d0(t,r)}else if(e instanceof fg?t.da.Xe(e):e instanceof J3?t.da.st(e):t.da.tt(e),!n.isEqual(Ve.min()))try{const r=await d5(t.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.da.Tt(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=a.Ia.get(c);u&&a.Ia.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=a.Ia.get(l);if(!u)return;a.Ia.set(l,u.withResumeToken(On.EMPTY_BYTE_STRING,u.snapshotVersion)),m5(a,l);const d=new Ms(u.target,l,c,u.sequenceNumber);eT(a,d)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){we(gl,"Failed to raise snapshot:",r),await d0(t,r)}}async function d0(t,e,n){if(!Bu(e))throw e;t.Ea.add(1),await bp(t),t.Va.set("Offline"),n||(n=()=>d5(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{we(gl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Dv(t)})}function y5(t,e){return e().catch(n=>d0(t,n,e))}async function Lv(t){const e=Ue(t),n=uo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:LE;for(;oX(e);)try{const i=await UQ(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,lX(e,i)}catch(i){await d0(e,i)}v5(e)&&x5(e)}function oX(t){return Ml(t)&&t.Ta.length<10}function lX(t,e){t.Ta.push(e);const n=uo(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function v5(t){return Ml(t)&&!uo(t).x_()&&t.Ta.length>0}function x5(t){uo(t).start()}async function cX(t){uo(t).ra()}async function uX(t){const e=uo(t);for(const n of t.Ta)e.ea(n.mutations)}async function dX(t,e,n){const r=t.Ta.shift(),i=HE.from(r,e,n);await y5(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Lv(t)}async function fX(t,e){e&&uo(t).Y_&&await async function(r,i){if(function(s){return HY(s)&&s!==se.ABORTED}(i.code)){const a=r.Ta.shift();uo(r).B_(),await y5(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Lv(r)}}(t,e),v5(t)&&x5(t)}async function MI(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),we(gl,"RemoteStore received new credentials");const r=Ml(n);n.Ea.add(3),await bp(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Dv(n)}async function hX(t,e){const n=Ue(t);e?(n.Ea.delete(2),await Dv(n)):e||(n.Ea.add(2),await bp(n),n.Va.set("Unknown"))}function qu(t){return t.ma||(t.ma=function(n,r,i){const a=Ue(n);return a.sa(),new QQ(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:rX.bind(null,t),Yo:iX.bind(null,t),t_:aX.bind(null,t),J_:sX.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),nT(t)?tT(t):t.Va.set("Unknown")):(await t.ma.stop(),g5(t))})),t.ma}function uo(t){return t.fa||(t.fa=function(n,r,i){const a=Ue(n);return a.sa(),new XQ(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:cX.bind(null,t),t_:fX.bind(null,t),ta:uX.bind(null,t),na:dX.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await Lv(t)):(await t.fa.stop(),t.Ta.length>0&&(we(gl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,o=new rT(e,n,s,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iT(t,e){if(Qa("AsyncQueue",`${e}: ${t}`),Bu(t))return new be(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{static emptySet(e){return new jc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ae.comparator(n.key,r.key):(n,r)=>Ae.comparator(n.key,r.key),this.keyedMap=Qd(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof jc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new jc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this.ga=new Dt(Ae.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Me(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class tu{constructor(e,n,r,i,a,s,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new tu(e,n,jc.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ov(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pX{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class mX{constructor(){this.queries=DI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ue(n),a=i.queries;i.queries=DI(),a.forEach((s,o)=>{for(const l of o.ba)l.onError(r)})})(this,new be(se.ABORTED,"Firestore shutting down"))}}function DI(){return new Rl(t=>F3(t),Ov)}async function b5(t,e){const n=Ue(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Sa()&&e.Da()&&(r=2):(a=new pX,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=iT(s,`Initialization of query '${ec(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,a),a.ba.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&aT(n)}async function w5(t,e){const n=Ue(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.ba.indexOf(e);s>=0&&(a.ba.splice(s,1),a.ba.length===0?i=e.Da()?0:1:!a.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function gX(t,e){const n=Ue(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.ba)o.Fa(i)&&(r=!0);s.wa=i}}r&&aT(n)}function yX(t,e,n){const r=Ue(t),i=r.queries.get(e);if(i)for(const a of i.ba)a.onError(n);r.queries.delete(e)}function aT(t){t.Ca.forEach(e=>{e.next()})}var r_,LI;(LI=r_||(r_={})).Ma="default",LI.Cache="cache";class _5{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new tu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=tu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==r_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e){this.key=e}}class k5{constructor(e){this.key=e}}class vX{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ze(),this.mutatedKeys=Ze(),this.eu=V3(e),this.tu=new jc(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new $I,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),p=Cv(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?g!==y&&(r.track({type:3,doc:p}),v=!0):this.su(h,p)||(r.track({type:2,doc:p}),v=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(o=!0)):!h&&p?(r.track({type:0,doc:p}),v=!0):h&&!p&&(r.track({type:1,doc:h}),v=!0,(l||c)&&(o=!0)),v&&(p?(s=s.add(p),a=y?a.add(u):a.delete(u)):(s=s.delete(u),a=a.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),a=a.delete(u.key),r.track({type:1,doc:u})}return{tu:s,iu:r,Ss:o,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((u,d)=>function(p,g){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Vt:v})}};return y(p)-y(g)}(u.type,d.type)||this.eu(u.doc,d.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Ya.size===0&&this.current&&!i?1:0,c=l!==this.Xa;return this.Xa=l,s.length!==0||c?{snapshot:new tu(this.query,e.tu,a,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $I,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ze(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new k5(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new S5(r))}),n}cu(e){this.Za=e.ks,this.Ya=Ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return tu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const sT="SyncEngine";class xX{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bX{constructor(e){this.key=e,this.hu=!1}}class wX{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Rl(o=>F3(o),Ov),this.Iu=new Map,this.Eu=new Set,this.Ru=new Dt(Ae.comparator),this.Au=new Map,this.Vu=new YE,this.du={},this.mu=new Map,this.fu=eu.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _X(t,e,n=!0){const r=I5(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await E5(r,e,n,!0),i}async function SX(t,e){const n=I5(t);await E5(n,e,!0,!1)}async function E5(t,e,n,r){const i=await BQ(t.localStore,na(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await kX(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&p5(t.remoteStore,i),o}async function kX(t,e,n,r,i){t.pu=(d,h,p)=>async function(y,v,x,b){let w=v.view.ru(x);w.Ss&&(w=await II(y.localStore,v.query,!1).then(({documents:_})=>v.view.ru(_,w)));const S=b&&b.targetChanges.get(v.targetId),k=b&&b.targetMismatches.get(v.targetId)!=null,P=v.view.applyChanges(w,y.isPrimaryClient,S,k);return VI(y,v.targetId,P.au),P.snapshot}(t,d,h,p);const a=await II(t.localStore,e,!0),s=new vX(e,a.ks),o=s.ru(a.documents),l=xp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(o,t.isPrimaryClient,l);VI(t,n,c.au);const u=new xX(e,n,s);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function EX(t,e,n){const r=Ue(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(s=>!Ov(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await t_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ZE(r.remoteStore,i.targetId),i_(r,i.targetId)}).catch(Uu)):(i_(r,i.targetId),await t_(r.localStore,i.targetId,!0))}async function TX(t,e){const n=Ue(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ZE(n.remoteStore,r.targetId))}async function PX(t,e,n){const r=RX(t);try{const i=await function(s,o){const l=Ue(s),c=Pt.now(),u=o.reduce((p,g)=>p.add(g.key),Ze());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Xa(),y=Ze();return l.xs.getEntries(p,u).next(v=>{g=v,g.forEach((x,b)=>{b.isValidDocument()||(y=y.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(v=>{d=v;const x=[];for(const b of o){const w=UY(b,d.get(b.key).overlayedDocument);w!=null&&x.push(new wo(b.key,w,O3(w.value.mapValue),ii.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,x,o)}).next(v=>{h=v;const x=v.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(p,v.batchId,x)})}).then(()=>({batchId:h.batchId,changes:B3(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let c=s.du[s.currentUser.toKey()];c||(c=new Dt(Je)),c=c.insert(o,l),s.du[s.currentUser.toKey()]=c}(r,i.batchId,n),await wp(r,i.changes),await Lv(r.remoteStore)}catch(i){const a=iT(i,"Failed to persist write");n.reject(a)}}async function T5(t,e){const n=Ue(t);try{const r=await FQ(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Au.get(a);s&&(ot(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?ot(s.hu,14607):i.removedDocuments.size>0&&(ot(s.hu,42227),s.hu=!1))}),await wp(n,r,e)}catch(r){await Uu(r)}}function FI(t,e,n){const r=Ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=Ue(s);l.onlineState=o;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.ba)h.va(o)&&(c=!0)}),c&&aT(l)}(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function NX(t,e,n){const r=Ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let s=new Dt(Ae.comparator);s=s.insert(a,Fn.newNoDocument(a,Ve.min()));const o=Ze().add(a),l=new Mv(Ve.min(),new Map,new Dt(Je),s,o);await T5(r,l),r.Ru=r.Ru.remove(a),r.Au.delete(e),oT(r)}else await t_(r.localStore,e,!1).then(()=>i_(r,e,n)).catch(Uu)}async function AX(t,e){const n=Ue(t),r=e.batch.batchId;try{const i=await LQ(n.localStore,e);N5(n,r,null),P5(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wp(n,i)}catch(i){await Uu(i)}}async function IX(t,e,n){const r=Ue(t);try{const i=await function(s,o){const l=Ue(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(d=>(ot(d!==null,37113),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);N5(r,e,n),P5(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wp(r,i)}catch(i){await Uu(i)}}function P5(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function N5(t,e,n){const r=Ue(t);let i=r.du[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function i_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||A5(t,r)})}function A5(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(ZE(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),oT(t))}function VI(t,e,n){for(const r of n)r instanceof S5?(t.Vu.addReference(r.key,e),OX(t,r)):r instanceof k5?(we(sT,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||A5(t,r.key)):Me(19791,{wu:r})}function OX(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(we(sT,"New document in limbo: "+n),t.Eu.add(r),oT(t))}function oT(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ae(bt.fromString(e)),r=t.fu.next();t.Au.set(r,new bX(n)),t.Ru=t.Ru.insert(n,r),p5(t.remoteStore,new Ms(na(zE(n.path)),r,"TargetPurposeLimboResolution",Nv.ce))}}async function wp(t,e,n){const r=Ue(t),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{s.push(r.pu(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=XE.Es(l.targetId,c);a.push(d)}}))}),await Promise.all(s),r.Pu.J_(i),await async function(l,c){const u=Ue(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>le.forEach(c,h=>le.forEach(h.Ts,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>le.forEach(h.Is,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Bu(d))throw d;we(JE,"Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.vs.get(h),g=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(g);u.vs=u.vs.insert(h,y)}}}(r.localStore,a))}async function CX(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){we(sT,"User change. New user:",e.toKey());const r=await u5(n.localStore,e);n.currentUser=e,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new be(se.CANCELLED,s))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wp(n,r.Ns)}}function jX(t,e){const n=Ue(t),r=n.Au.get(e);if(r&&r.hu)return Ze().add(r.key);{let i=Ze();const a=n.Iu.get(e);if(!a)return i;for(const s of a){const o=n.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function I5(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=T5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NX.bind(null,e),e.Pu.J_=gX.bind(null,e.eventManager),e.Pu.yu=yX.bind(null,e.eventManager),e}function RX(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IX.bind(null,e),e}class f0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$v(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return DQ(this.persistence,new RQ,e.initialUser,this.serializer)}Cu(e){return new c5(QE.Vi,this.serializer)}Du(e){return new qQ}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}f0.provider={build:()=>new f0};class MX extends f0{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ot(this.persistence.referenceDelegate instanceof u0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new xQ(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?cr.withCacheSize(this.cacheSizeBytes):cr.DEFAULT;return new c5(r=>u0.Vi(r,n),this.serializer)}}class a_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>FI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CX.bind(null,this.syncEngine),await hX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mX}()}createDatastore(e){const n=$v(e.databaseInfo.databaseId),r=YQ(e.databaseInfo);return eX(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,o){return new nX(r,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>FI(this.syncEngine,n,0),function(){return jI.v()?new jI:new WQ}())}createSyncEngine(e,n){return function(i,a,s,o,l,c,u){const d=new wX(i,a,s,o,l,c);return u&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Ue(i);we(gl,"RemoteStore shutting down."),a.Ea.add(5),await bp(a),a.Aa.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}a_.provider={build:()=>new a_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo="FirestoreClient";class $X{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=Dn.UNAUTHENTICATED,this.clientId=DE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{we(fo,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(we(fo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=iT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ub(t,e){t.asyncQueue.verifyOperationInProgress(),we(fo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await u5(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function UI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await DX(t);we(fo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>MI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>MI(e.remoteStore,i)),t._onlineComponents=e}async function DX(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(fo,"Using user provided OfflineComponentProvider");try{await Ub(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===se.FAILED_PRECONDITION||i.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ml("Error using user provided cache. Falling back to memory cache: "+n),await Ub(t,new f0)}}else we(fo,"Using default OfflineComponentProvider"),await Ub(t,new MX(void 0));return t._offlineComponents}async function C5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(fo,"Using user provided OnlineComponentProvider"),await UI(t,t._uninitializedComponentsProvider._online)):(we(fo,"Using default OnlineComponentProvider"),await UI(t,new a_))),t._onlineComponents}function LX(t){return C5(t).then(e=>e.syncEngine)}async function s_(t){const e=await C5(t),n=e.eventManager;return n.onListen=_X.bind(null,e.syncEngine),n.onUnlisten=EX.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SX.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=TX.bind(null,e.syncEngine),n}function FX(t,e,n,r){const i=new O5(r),a=new _5(e,i,n);return t.asyncQueue.enqueueAndForget(async()=>b5(await s_(t),a)),()=>{i.Nu(),t.asyncQueue.enqueueAndForget(async()=>w5(await s_(t),a))}}function VX(t,e,n={}){const r=new Zs;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,c){const u=new O5({next:h=>{u.Nu(),s.enqueueAndForget(()=>w5(a,d)),h.fromCache&&l.source==="server"?c.reject(new be(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new _5(o,u,{includeMetadataChanges:!0,Ka:!0});return b5(a,d)}(await s_(t),t.asyncQueue,e,n,r)),r.promise}function UX(t,e){const n=new Zs;return t.asyncQueue.enqueueAndForget(async()=>PX(await LX(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BX="ComponentProvider",BI=new Map;function zX(t,e,n,r,i){return new cY(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,j5(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5="firestore.googleapis.com",zI=!0;class qI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=R5,this.ssl=zI}else this.host=e.host,this.ssl=e.ssl??zI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=l5;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yQ)throw new be(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=j5(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new be(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new be(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new be(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new BK;switch(r.type){case"firstParty":return new HK(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=BI.get(n);r&&(we(BX,"Removing Datastore"),BI.delete(n),r.terminate())}(this),Promise.resolve()}}function qX(t,e,n,r={}){var c;t=ri(t,Fv);const i=Ol(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(kE(`https://${o}`),EE("Firestore",!0)),a.host!==R5&&a.host!==o&&ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:r};if(!ao(l,s)&&(t._setSettings(l),r.mockUserToken)){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=Dn.MOCK_USER;else{u=EL(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new be(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Dn(h)}t._authCredentials=new zK(new x3(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _o(this.firestore,e,this._query)}}class Ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(yp(n,Ht._jsonSchema))return new Ht(e,r||null,new Ae(bt.fromString(n.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:Jt("string",Ht._jsonSchemaVersion),referencePath:Jt("string")};class eo extends _o{constructor(e,n,r){super(e,n,zE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new Ae(e))}withConverter(e){return new eo(this.firestore,e,this._path)}}function Pd(t,e,...n){if(t=en(t),b3("collection","path",e),t instanceof Fv){const r=bt.fromString(e,...n);return rI(r),new eo(t,null,r)}{if(!(t instanceof Ht||t instanceof eo))throw new be(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(bt.fromString(e,...n));return rI(r),new eo(t.firestore,null,r)}}function hg(t,e,...n){if(t=en(t),arguments.length===1&&(e=DE.newId()),b3("doc","path",e),t instanceof Fv){const r=bt.fromString(e,...n);return nI(r),new Ht(t,null,new Ae(r))}{if(!(t instanceof Ht||t instanceof eo))throw new be(se.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(bt.fromString(e,...n));return nI(r),new Ht(t.firestore,t instanceof eo?t.converter:null,new Ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="AsyncQueue";class HI{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new f5(this,"async_queue_retry"),this._c=()=>{const r=Vb();r&&we(WI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Vb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Vb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Zs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Bu(e))throw e;we(WI,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Qa("INTERNAL UNHANDLED ERROR: ",GI(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=rT.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&Me(47125,{Pc:GI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function GI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ho extends Fv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new HI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new HI(e),this._firestoreClient=void 0,await e}}}function WX(t,e){const n=typeof t=="object"?t:kv(),r=typeof t=="string"?t:i0,i=xo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=_L("firestore");a&&qX(i,...a)}return i}function lT(t){if(t._terminated)throw new be(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||HX(t),t._firestoreClient}function HX(t){var r,i,a,s;const e=t._freezeSettings(),n=zX(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new $X(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qr(On.fromBase64String(e))}catch(n){throw new be(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qr(On.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yp(e,Qr._jsonSchema))return Qr.fromBase64String(e.bytes)}}Qr._jsonSchemaVersion="firestore/bytes/1.0",Qr._jsonSchema={type:Jt("string",Qr._jsonSchemaVersion),bytes:Jt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ia._jsonSchemaVersion}}static fromJSON(e){if(yp(e,ia._jsonSchema))return new ia(e.latitude,e.longitude)}}ia._jsonSchemaVersion="firestore/geoPoint/1.0",ia._jsonSchema={type:Jt("string",ia._jsonSchemaVersion),latitude:Jt("number"),longitude:Jt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yp(e,Ci._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ci(e.vectorValues);throw new be(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ci._jsonSchemaVersion="firestore/vectorValue/1.0",Ci._jsonSchema={type:Jt("string",Ci._jsonSchemaVersion),vectorValues:Jt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GX=/^__.*__$/;class KX{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wo(e,this.data,this.fieldMask,n,this.fieldTransforms):new vp(e,this.data,n,this.fieldTransforms)}}class M5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{dataSource:t})}}class dT{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new dT({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return h0(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if($5(this.dataSource)&&GX.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class YX{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$v(e)}createContext(e,n,r,i=!1){return new dT({dataSource:e,methodName:n,targetDoc:r,path:Pn.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vv(t){const e=t._freezeSettings(),n=$v(t._databaseId);return new YX(t._databaseId,!!e.ignoreUndefinedProperties,n)}function D5(t,e,n,r,i,a={}){const s=t.createContext(a.merge||a.mergeFields?2:0,e,n,i);fT("Data must be an object, but it was:",s,r);const o=L5(r,s);let l,c;if(a.merge)l=new Or(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const u=[];for(const d of a.mergeFields){const h=nu(e,d,n);if(!s.contains(h))throw new be(se.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);U5(u,h)||u.push(h)}l=new Or(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new KX(new fr(o),l,c)}class Uv extends uT{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uv}}function QX(t,e,n,r){const i=t.createContext(1,e,n);fT("Data must be an object, but it was:",i,r);const a=[],s=fr.empty();bo(r,(l,c)=>{const u=V5(e,l,n);c=en(c);const d=i.childContextForFieldPath(u);if(c instanceof Uv)a.push(u);else{const h=_p(c,d);h!=null&&(a.push(u),s.set(u,h))}});const o=new Or(a);return new M5(s,o,i.fieldTransforms)}function XX(t,e,n,r,i,a){const s=t.createContext(1,e,n),o=[nu(e,r,n)],l=[i];if(a.length%2!=0)throw new be(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)o.push(nu(e,a[h])),l.push(a[h+1]);const c=[],u=fr.empty();for(let h=o.length-1;h>=0;--h)if(!U5(c,o[h])){const p=o[h];let g=l[h];g=en(g);const y=s.childContextForFieldPath(p);if(g instanceof Uv)c.push(p);else{const v=_p(g,y);v!=null&&(c.push(p),u.set(p,v))}}const d=new Or(c);return new M5(u,d,s.fieldTransforms)}function JX(t,e,n,r=!1){return _p(n,t.createContext(r?4:3,e))}function _p(t,e){if(F5(t=en(t)))return fT("Unsupported field value:",e,t),L5(t,e);if(t instanceof uT)return function(r,i){if(!$5(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let l=_p(o,i.childContextForArray(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=en(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return MY(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Pt.fromDate(r);return{timestampValue:c0(i.serializer,a)}}if(r instanceof Pt){const a=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:c0(i.serializer,a)}}if(r instanceof ia)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qr)return{bytesValue:e5(i.serializer,r._byteString)};if(r instanceof Ht){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:KE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ci)return function(s,o){const l=s instanceof Ci?s.toArray():s;return{mapValue:{fields:{[A3]:{stringValue:I3},[a0]:{arrayValue:{values:l.map(u=>{if(typeof u!="number")throw o.createError("VectorValues must only contain numeric values.");return qE(o.serializer,u)})}}}}}}(r,i);if(o5(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Pv(r)}`)}(t,e)}function L5(t,e){const n={};return S3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bo(t,(r,i)=>{const a=_p(i,e.childContextForField(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function F5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pt||t instanceof ia||t instanceof Qr||t instanceof Ht||t instanceof uT||t instanceof Ci||o5(t))}function fT(t,e,n){if(!F5(n)||!w3(n)){const r=Pv(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function nu(t,e,n){if((e=en(e))instanceof cT)return e._internalPath;if(typeof e=="string")return V5(t,e);throw h0("Field path arguments must be of type string or ",t,!1,void 0,n)}const ZX=new RegExp("[~\\*/\\[\\]]");function V5(t,e,n){if(e.search(ZX)>=0)throw h0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cT(...e.split("."))._internalPath}catch{throw h0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function h0(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new be(se.INVALID_ARGUMENT,o+t+l)}function U5(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eJ{convertValue(e,n="none"){switch(co(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(lo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return bo(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[a0].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>qt(s.doubleValue));return new Ci(n)}convertGeoPoint(e){return new ia(qt(e.latitude),qt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Iv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sh(e));default:return null}}convertTimestamp(e){const n=oo(e);return new Pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=bt.fromString(e);ot(s5(r),9688,{name:e});const i=new oh(r.get(1),r.get(3)),a=new Ae(r.popFirst(5));return i.isEqual(n)||Qa(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT extends eJ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}const KI="@firebase/firestore",YI="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(nu("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tJ extends B5{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pT{}class q5 extends pT{}function nJ(t,e,...n){let r=[];e instanceof pT&&r.push(e),r=r.concat(n),function(a){const s=a.filter(l=>l instanceof gT).length,o=a.filter(l=>l instanceof mT).length;if(s>1||s>0&&o>0)throw new be(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class mT extends q5{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new mT(e,n,r)}_apply(e){const n=this._parse(e);return W5(e._query,n),new _o(e.firestore,e.converter,Y1(e._query,n))}_parse(e){const n=Vv(e.firestore);return function(a,s,o,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new be(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){JI(d,u);const g=[];for(const y of d)g.push(XI(l,a,y));h={arrayValue:{values:g}}}else h=XI(l,a,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||JI(d,u),h=JX(o,s,d,u==="in"||u==="not-in");return Xt.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class gT extends pT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gT(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$i.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)W5(s,l),s=Y1(s,l)}(e._query,n),new _o(e.firestore,e.converter,Y1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yT extends q5{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new yT(e,n)}_apply(e){const n=function(i,a,s){if(i.startAt!==null)throw new be(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new be(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ch(a,s)}(e._query,this._field,this._direction);return new _o(e.firestore,e.converter,PY(e._query,n))}}function rJ(t,e="asc"){const n=e,r=nu("orderBy",t);return yT._create(r,n)}function XI(t,e,n){if(typeof(n=en(n))=="string"){if(n==="")throw new be(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!L3(e)&&n.indexOf("/")!==-1)throw new be(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(bt.fromString(n));if(!Ae.isDocumentKey(r))throw new be(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dI(t,new Ae(r))}if(n instanceof Ht)return dI(t,n._key);throw new be(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pv(n)}.`)}function JI(t,e){if(!Array.isArray(t)||t.length===0)throw new be(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function W5(t,e){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new be(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function H5(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Jd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class il extends B5{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(nu("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=il._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}il._jsonSchemaVersion="firestore/documentSnapshot/1.0",il._jsonSchema={type:Jt("string",il._jsonSchemaVersion),bundleSource:Jt("string","DocumentSnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class pg extends il{data(e={}){return super.data(e)}}class al{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Jd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new pg(this._firestore,this._userDataWriter,r.key,r,new Jd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new pg(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Jd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new pg(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Jd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:iJ(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=al._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=DE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function iJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */al._jsonSchemaVersion="firestore/querySnapshot/1.0",al._jsonSchema={type:Jt("string",al._jsonSchemaVersion),bundleSource:Jt("string","QuerySnapshot"),bundleName:Jt("string"),bundle:Jt("string")};function aJ(t){t=ri(t,_o);const e=ri(t.firestore,ho),n=lT(e),r=new hT(e);return z5(t._query),VX(n,t._query).then(i=>new al(e,r,t,i))}function sJ(t,e,n){t=ri(t,Ht);const r=ri(t.firestore,ho),i=H5(t.converter,e),a=Vv(r);return Bv(r,[D5(a,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ii.none())])}function oJ(t,e,n,...r){t=ri(t,Ht);const i=ri(t.firestore,ho),a=Vv(i);let s;return s=typeof(e=en(e))=="string"||e instanceof cT?XX(a,"updateDoc",t._key,e,n,r):QX(a,"updateDoc",t._key,e),Bv(i,[s.toMutation(t._key,ii.exists(!0))])}function ZI(t){return Bv(ri(t.firestore,ho),[new WE(t._key,ii.none())])}function lJ(t,e){const n=ri(t.firestore,ho),r=hg(t),i=H5(t.converter,e),a=Vv(t.firestore);return Bv(n,[D5(a,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ii.exists(!1))]).then(()=>r)}function eO(t,...e){var c,u,d;t=en(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||QI(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(QI(e[r])){const h=e[r];e[r]=(c=h.next)==null?void 0:c.bind(h),e[r+1]=(u=h.error)==null?void 0:u.bind(h),e[r+2]=(d=h.complete)==null?void 0:d.bind(h)}let a,s,o;if(t instanceof Ht)s=ri(t.firestore,ho),o=zE(t._key.path),a={next:h=>{e[r]&&e[r](cJ(s,t,h))},error:e[r+1],complete:e[r+2]};else{const h=ri(t,_o);s=ri(h.firestore,ho),o=h._query;const p=new hT(s);a={next:g=>{e[r]&&e[r](new al(s,p,h,g))},error:e[r+1],complete:e[r+2]},z5(t._query)}const l=lT(s);return FX(l,o,i,a)}function Bv(t,e){const n=lT(t);return UX(n,e)}function cJ(t,e,n){const r=n.docs.get(e._key),i=new hT(t);return new il(t,i,e._key,r,new Jd(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){UK(jl),Mi(new li("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new ho(new qK(r.getProvider("auth-internal")),new GK(s,r.getProvider("app-check-internal")),uY(s,i),s);return a={useFetchStreams:n,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),vr(KI,YI,e),vr(KI,YI,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5="firebasestorage.googleapis.com",uJ="storageBucket",dJ=2*60*1e3,fJ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends ui{constructor(e,n,r=0){super(Bb(e),`Firebase Storage: ${n} (${Bb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ma.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ca;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ca||(ca={}));function Bb(t){return"storage/"+t}function hJ(){const t="An unknown error occurred, please check the error payload for server response.";return new ma(ca.UNKNOWN,t)}function pJ(){return new ma(ca.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function mJ(){return new ma(ca.CANCELED,"User canceled the upload/download.")}function gJ(t){return new ma(ca.INVALID_URL,"Invalid URL '"+t+"'.")}function yJ(t){return new ma(ca.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function tO(t){return new ma(ca.INVALID_ARGUMENT,t)}function K5(){return new ma(ca.APP_DELETED,"The Firebase app was deleted.")}function vJ(t){return new ma(ca.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ei.makeFromUrl(e,n)}catch{return new Ei(e,"")}if(r.path==="")return r;throw yJ(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function c(S){S.path_=decodeURIComponent(S.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},y=n===G5?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",x=new RegExp(`^https?://${y}/${i}/${v}`,"i"),w=[{regex:o,indices:l,postModify:a},{regex:p,indices:g,postModify:c},{regex:x,indices:{bucket:1,path:2},postModify:c}];for(let S=0;S<w.length;S++){const k=w[S],P=k.regex.exec(e);if(P){const _=P[k.indices.bucket];let E=P[k.indices.path];E||(E=""),r=new Ei(_,E),k.postModify(r);break}}if(r==null)throw gJ(e);return r}}class xJ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bJ(t,e,n){let r=1,i=null,a=null,s=!1,o=0;function l(){return o===2}let c=!1;function u(...v){c||(c=!0,e.apply(null,v))}function d(v){i=setTimeout(()=>{i=null,t(p,l())},v)}function h(){a&&clearTimeout(a)}function p(v,...x){if(c){h();return}if(v){h(),u.call(null,v,...x);return}if(l()||s){h(),u.call(null,v,...x);return}r<64&&(r*=2);let w;o===1?(o=2,w=0):w=(r+Math.random())*1e3,d(w)}let g=!1;function y(v){g||(g=!0,h(),!c&&(i!==null?(v||(o=2),clearTimeout(i),d(0)):v||(o=1)))}return d(0),a=setTimeout(()=>{s=!0,y(!0)},n),y}function wJ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _J(t){return t!==void 0}function nO(t,e,n,r){if(r<e)throw tO(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw tO(`Invalid value for '${t}'. Expected ${n} or less.`)}function SJ(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var p0;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(p0||(p0={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kJ(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EJ{constructor(e,n,r,i,a,s,o,l,c,u,d,h=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,y)=>{this.resolve_=g,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new xm(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===p0.NO_ERROR,l=a.getStatus();if(!o||kJ(l,this.additionalRetryCodes_)&&this.retry){const u=a.getErrorCode()===p0.ABORT;r(!1,new xm(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new xm(c,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());_J(l)?a(l):a()}catch(l){s(l)}else if(o!==null){const l=hJ();l.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,l)):s(l)}else if(i.canceled){const l=this.appDelete_?K5():mJ();s(l)}else{const l=pJ();s(l)}};this.canceled_?n(!1,new xm(!1,null,!0)):this.backoffId_=bJ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wJ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class xm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function TJ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function PJ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function NJ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function AJ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function IJ(t,e,n,r,i,a,s=!0,o=!1){const l=SJ(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return NJ(u,e),TJ(u,n),PJ(u,a),AJ(u,r),new EJ(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OJ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function CJ(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n){this._service=e,n instanceof Ei?this._location=n:this._location=Ei.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new m0(e,n)}get root(){const e=new Ei(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return CJ(this._location.path)}get storage(){return this._service}get parent(){const e=OJ(this._location.path);if(e===null)return null;const n=new Ei(this._location.bucket,e);return new m0(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw vJ(e)}}function rO(t,e){const n=e==null?void 0:e[uJ];return n==null?null:Ei.makeFromBucketSpec(n,t)}function jJ(t,e,n,r={}){t.host=`${e}:${n}`;const i=Ol(e);i&&(kE(`https://${t.host}/b`),EE("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:EL(a,t.app.options.projectId))}class RJ{constructor(e,n,r,i,a,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=G5,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dJ,this._maxUploadRetryTime=fJ,this._requests=new Set,i!=null?this._bucket=Ei.makeFromBucketSpec(i,this._host):this._bucket=rO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ei.makeFromBucketSpec(this._url,e):this._bucket=rO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){nO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){nO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(wi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new m0(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new xJ(K5());{const s=IJ(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const iO="@firebase/storage",aO="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5="storage";function MJ(t=kv(),e){t=en(t);const r=xo(t,Y5).getImmediate({identifier:e}),i=_L("storage");return i&&$J(r,...i),r}function $J(t,e,n,r={}){jJ(t,e,n,r)}function DJ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new RJ(n,r,i,e,jl)}function LJ(){Mi(new li(Y5,DJ,"PUBLIC").setMultipleInstances(!0)),vr(iO,aO,""),vr(iO,aO,"esm2020")}LJ();const Q5="@firebase/installations",vT="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5=1e4,J5=`w:${vT}`,Z5="FIS_v2",FJ="https://firebaseinstallations.googleapis.com/v1",VJ=60*60*1e3,UJ="installations",BJ="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zJ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},yl=new Cl(UJ,BJ,zJ);function e6(t){return t instanceof ui&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6({projectId:t}){return`${FJ}/projects/${t}/installations`}function n6(t){return{token:t.token,requestStatus:2,expiresIn:WJ(t.expiresIn),creationTime:Date.now()}}async function r6(t,e){const r=(await e.json()).error;return yl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function i6({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function qJ(t,{refreshToken:e}){const n=i6(t);return n.append("Authorization",HJ(e)),n}async function a6(t){const e=await t();return e.status>=500&&e.status<600?t():e}function WJ(t){return Number(t.replace("s","000"))}function HJ(t){return`${Z5} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GJ({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=t6(t),i=i6(t),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={fid:n,authVersion:Z5,appId:t.appId,sdkVersion:J5},o={method:"POST",headers:i,body:JSON.stringify(s)},l=await a6(()=>fetch(r,o));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:n6(c.authToken)}}else throw await r6("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KJ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YJ=/^[cdef][\w-]{21}$/,o_="";function QJ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=XJ(t);return YJ.test(n)?n:o_}catch{return o_}}function XJ(t){return KJ(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6=new Map;function l6(t,e){const n=zv(t);c6(n,e),JJ(n,e)}function c6(t,e){const n=o6.get(t);if(n)for(const r of n)r(e)}function JJ(t,e){const n=ZJ();n&&n.postMessage({key:t,fid:e}),eZ()}let Ko=null;function ZJ(){return!Ko&&"BroadcastChannel"in self&&(Ko=new BroadcastChannel("[Firebase] FID Change"),Ko.onmessage=t=>{c6(t.data.key,t.data.fid)}),Ko}function eZ(){o6.size===0&&Ko&&(Ko.close(),Ko=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tZ="firebase-installations-database",nZ=1,vl="firebase-installations-store";let zb=null;function xT(){return zb||(zb=OL(tZ,nZ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(vl)}}})),zb}async function g0(t,e){const n=zv(t),i=(await xT()).transaction(vl,"readwrite"),a=i.objectStore(vl),s=await a.get(n);return await a.put(e,n),await i.done,(!s||s.fid!==e.fid)&&l6(t,e.fid),e}async function u6(t){const e=zv(t),r=(await xT()).transaction(vl,"readwrite");await r.objectStore(vl).delete(e),await r.done}async function qv(t,e){const n=zv(t),i=(await xT()).transaction(vl,"readwrite"),a=i.objectStore(vl),s=await a.get(n),o=e(s);return o===void 0?await a.delete(n):await a.put(o,n),await i.done,o&&(!s||s.fid!==o.fid)&&l6(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bT(t){let e;const n=await qv(t.appConfig,r=>{const i=rZ(r),a=iZ(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===o_?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function rZ(t){const e=t||{fid:QJ(),registrationStatus:0};return d6(e)}function iZ(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(yl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=aZ(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:sZ(t)}:{installationEntry:e}}async function aZ(t,e){try{const n=await GJ(t,e);return g0(t.appConfig,n)}catch(n){throw e6(n)&&n.customData.serverCode===409?await u6(t.appConfig):await g0(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function sZ(t){let e=await sO(t.appConfig);for(;e.registrationStatus===1;)await s6(100),e=await sO(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await bT(t);return r||n}return e}function sO(t){return qv(t,e=>{if(!e)throw yl.create("installation-not-found");return d6(e)})}function d6(t){return oZ(t)?{fid:t.fid,registrationStatus:0}:t}function oZ(t){return t.registrationStatus===1&&t.registrationTime+X5<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lZ({appConfig:t,heartbeatServiceProvider:e},n){const r=cZ(t,n),i=qJ(t,n),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={installation:{sdkVersion:J5,appId:t.appId}},o={method:"POST",headers:i,body:JSON.stringify(s)},l=await a6(()=>fetch(r,o));if(l.ok){const c=await l.json();return n6(c)}else throw await r6("Generate Auth Token",l)}function cZ(t,{fid:e}){return`${t6(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wT(t,e=!1){let n;const r=await qv(t.appConfig,a=>{if(!f6(a))throw yl.create("not-registered");const s=a.authToken;if(!e&&fZ(s))return a;if(s.requestStatus===1)return n=uZ(t,e),a;{if(!navigator.onLine)throw yl.create("app-offline");const o=pZ(a);return n=dZ(t,o),o}});return n?await n:r.authToken}async function uZ(t,e){let n=await oO(t.appConfig);for(;n.authToken.requestStatus===1;)await s6(100),n=await oO(t.appConfig);const r=n.authToken;return r.requestStatus===0?wT(t,e):r}function oO(t){return qv(t,e=>{if(!f6(e))throw yl.create("not-registered");const n=e.authToken;return mZ(n)?{...e,authToken:{requestStatus:0}}:e})}async function dZ(t,e){try{const n=await lZ(t,e),r={...e,authToken:n};return await g0(t.appConfig,r),n}catch(n){if(e6(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await u6(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await g0(t.appConfig,r)}throw n}}function f6(t){return t!==void 0&&t.registrationStatus===2}function fZ(t){return t.requestStatus===2&&!hZ(t)}function hZ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+VJ}function pZ(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function mZ(t){return t.requestStatus===1&&t.requestTime+X5<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gZ(t){const e=t,{installationEntry:n,registrationPromise:r}=await bT(e);return r?r.catch(console.error):wT(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yZ(t,e=!1){const n=t;return await vZ(n),(await wT(n,e)).token}async function vZ(t){const{registrationPromise:e}=await bT(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xZ(t){if(!t||!t.options)throw qb("App Configuration");if(!t.name)throw qb("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw qb(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function qb(t){return yl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6="installations",bZ="installations-internal",wZ=t=>{const e=t.getProvider("app").getImmediate(),n=xZ(e),r=xo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},_Z=t=>{const e=t.getProvider("app").getImmediate(),n=xo(e,h6).getImmediate();return{getId:()=>gZ(n),getToken:i=>yZ(n,i)}};function SZ(){Mi(new li(h6,wZ,"PUBLIC")),Mi(new li(bZ,_Z,"PRIVATE"))}SZ();vr(Q5,vT);vr(Q5,vT,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="analytics",kZ="firebase_id",EZ="origin",TZ=60*1e3,PZ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_T="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new Sv("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NZ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Mr=new Cl("analytics","Analytics",NZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AZ(t){if(!t.startsWith(_T)){const e=Mr.create("invalid-gtag-resource",{gtagURL:t});return nr.warn(e.message),""}return t}function p6(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function IZ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function OZ(t,e){const n=IZ("firebase-js-sdk-policy",{createScriptURL:AZ}),r=document.createElement("script"),i=`${_T}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function CZ(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function jZ(t,e,n,r,i,a){const s=r[i];try{if(s)await e[s];else{const l=(await p6(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(o){nr.error(o)}t("config",i,a)}async function RZ(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const o=await p6(n);for(const l of s){const c=o.find(d=>d.measurementId===l),u=c&&e[c.appId];if(u)a.push(u);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){nr.error(a)}}function MZ(t,e,n,r){async function i(a,...s){try{if(a==="event"){const[o,l]=s;await RZ(t,e,n,o,l)}else if(a==="config"){const[o,l]=s;await jZ(t,e,n,r,o,l)}else if(a==="consent"){const[o,l]=s;t("consent",o,l)}else if(a==="get"){const[o,l,c]=s;t("get",o,l,c)}else if(a==="set"){const[o]=s;t("set",o)}else t(a,...s)}catch(o){nr.error(o)}}return i}function $Z(t,e,n,r,i){let a=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=MZ(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function DZ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(_T)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LZ=30,FZ=1e3;class VZ{constructor(e={},n=FZ){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const m6=new VZ;function UZ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function BZ(t){var s;const{appId:e,apiKey:n}=t,r={method:"GET",headers:UZ(n)},i=PZ.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let o="";try{const l=await a.json();(s=l.error)!=null&&s.message&&(o=l.error.message)}catch{}throw Mr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function zZ(t,e=m6,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw Mr.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Mr.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new HZ;return setTimeout(async()=>{o.abort()},TZ),g6({appId:r,apiKey:i,measurementId:a},s,o,e)}async function g6(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=m6){var o;const{appId:a,measurementId:s}=t;try{await qZ(r,e)}catch(l){if(s)return nr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:s};throw l}try{const l=await BZ(t);return i.deleteThrottleMetadata(a),l}catch(l){const c=l;if(!WZ(c)){if(i.deleteThrottleMetadata(a),s)return nr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:s};throw l}const u=Number((o=c==null?void 0:c.customData)==null?void 0:o.httpStatus)===503?PA(n,i.intervalMillis,LZ):PA(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(a,d),nr.debug(`Calling attemptFetch again in ${u} millis`),g6(t,d,r,i)}}function qZ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(Mr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function WZ(t){if(!(t instanceof ui)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class HZ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function GZ(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,s={...r,send_to:a};t("event",n,s)}}async function KZ(t,e,n,r){if(r&&r.global){const i={};for(const a of Object.keys(n))i[`user_properties.${a}`]=n[a];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YZ(){if(PL())try{await NL()}catch(t){return nr.warn(Mr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return nr.warn(Mr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function QZ(t,e,n,r,i,a,s){const o=zZ(t);o.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&nr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>nr.error(h)),e.push(o);const l=YZ().then(h=>{if(h)return r.getId()}),[c,u]=await Promise.all([o,l]);DZ(a)||OZ(a,c.measurementId),i("js",new Date);const d=(s==null?void 0:s.config)??{};return d[EZ]="firebase",d.update=!0,u!=null&&(d[kZ]=u),i("config",c.measurementId,d),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XZ{constructor(e){this.app=e}_delete(){return delete Rc[this.app.options.appId],Promise.resolve()}}let Rc={},lO=[];const cO={};let Wb="dataLayer",JZ="gtag",uO,ST,dO=!1;function ZZ(){const t=[];if(TL()&&t.push("This is a browser extension environment."),_W()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Mr.create("invalid-analytics-context",{errorInfo:e});nr.warn(n.message)}}function eee(t,e,n){ZZ();const r=t.options.appId;if(!r)throw Mr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)nr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Mr.create("no-api-key");if(Rc[r]!=null)throw Mr.create("already-exists",{id:r});if(!dO){CZ(Wb);const{wrappedGtag:a,gtagCore:s}=$Z(Rc,lO,cO,Wb,JZ);ST=a,uO=s,dO=!0}return Rc[r]=QZ(t,lO,cO,e,uO,Wb,n),new XZ(t)}function tee(t=kv()){t=en(t);const e=xo(t,y0);return e.isInitialized()?e.getImmediate():nee(t)}function nee(t,e={}){const n=xo(t,y0);if(n.isInitialized()){const i=n.getImmediate();if(ao(e,n.getOptions()))return i;throw Mr.create("already-initialized")}return n.initialize({options:e})}function ree(t,e,n){t=en(t),KZ(ST,Rc[t.app.options.appId],e,n).catch(r=>nr.error(r))}function iee(t,e,n,r){t=en(t),GZ(ST,Rc[t.app.options.appId],e,n,r).catch(i=>nr.error(i))}const fO="@firebase/analytics",hO="0.10.19";function aee(){Mi(new li(y0,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return eee(r,i,n)},"PUBLIC")),Mi(new li("analytics-internal",t,"PRIVATE")),vr(fO,hO),vr(fO,hO,"esm2020");function t(e){try{const n=e.getProvider(y0).getImmediate();return{logEvent:(r,i,a)=>iee(n,r,i,a),setUserProperties:(r,i)=>ree(n,r,i)}}catch(n){throw Mr.create("interop-component-reg-failed",{reason:n})}}}aee();const see={apiKey:"AIzaSyALROg4hIMFvYd8hydNKxKWmP3Cn5JmdcQ",authDomain:"test-inventory-stoe.firebaseapp.com",projectId:"test-inventory-stoe",storageBucket:"test-inventory-stoe.firebasestorage.app",messagingSenderId:"1081430501971",appId:"1:1081430501971:web:bb4e4be92aa2519ae934a6",measurementId:"G-3Y7YENDSHN"},Wv=CL(see);FK(Wv);const gs=WX(Wv);MJ(Wv);typeof window<"u"&&tee(Wv);const mt={subscribeToCollection:(t,e,n="name",r="asc",i)=>{try{if(!t||typeof e!="function")return console.error("subscribeToCollection: invalid arguments",{collectionName:t,callback:e}),()=>{};const a=n?nJ(Pd(gs,t),rJ(n,r)):Pd(gs,t);return eO(a,s=>{const o=s.docs.map(l=>({_id:l.id,...l.data()}));e(o)},s=>{if(console.error(`Error subscribing to ${t}:`,s),i&&i(s),s.code==="failed-precondition"||s.message.includes("index")){console.log(`Retrying ${t} without orderBy...`);const o=Pd(gs,t);return eO(o,l=>{const c=l.docs.map(u=>({_id:u.id,...u.data()}));e(c)},l=>{i&&i(l)})}})}catch(a){return console.error(`Error setting up subscription for ${t}:`,a),()=>{}}},add:async(t,e)=>{if(!t)throw new Error("add: collectionName is required");try{const n=await lJ(Pd(gs,t),e);return{...e,_id:n.id}}catch(n){throw console.error(`Error adding to ${t}:`,n),n}},update:async(t,e,n)=>{if(!t||!e)throw new Error("update: collectionName and id are required");try{const r=hg(gs,t,e);await oJ(r,n)}catch(r){throw console.error(`Error updating ${t}:`,r),r}},set:async(t,e,n)=>{if(!t||!e)throw new Error("set: collectionName and id are required");try{const r=hg(gs,t,e);await sJ(r,n)}catch(r){throw console.error(`Error setting in ${t}:`,r),r}},delete:async(t,e)=>{if(!t||!e)throw new Error("delete: collectionName and id are required");try{const n=hg(gs,t,e);await ZI(n)}catch(n){throw console.error(`Error deleting from ${t}:`,n),n}},clearCollection:async t=>{if(!t)throw new Error("clearCollection: collectionName is required");try{const n=(await aJ(Pd(gs,t))).docs.map(r=>ZI(r.ref));await Promise.all(n)}catch(e){throw console.error(`Error clearing ${t}:`,e),e}}},Le=t=>typeof t=="string",Nd=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},pO=t=>t==null?"":""+t,oee=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},lee=/###/g,mO=t=>t&&t.indexOf("###")>-1?t.replace(lee,"."):t,gO=t=>!t||Le(t),Tf=(t,e,n)=>{const r=Le(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(gO(t))return{};const a=mO(r[i]);!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return gO(t)?{}:{obj:t,k:mO(r[i])}},yO=(t,e,n)=>{const{obj:r,k:i}=Tf(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let a=e[e.length-1],s=e.slice(0,e.length-1),o=Tf(t,s,Object);for(;o.obj===void 0&&s.length;)a=`${s[s.length-1]}.${a}`,s=s.slice(0,s.length-1),o=Tf(t,s,Object),o!=null&&o.obj&&typeof o.obj[`${o.k}.${a}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${a}`]=n},cee=(t,e,n,r)=>{const{obj:i,k:a}=Tf(t,e,Object);i[a]=i[a]||[],i[a].push(n)},v0=(t,e)=>{const{obj:n,k:r}=Tf(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},uee=(t,e,n)=>{const r=v0(t,n);return r!==void 0?r:v0(e,n)},y6=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?Le(t[r])||t[r]instanceof String||Le(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):y6(t[r],e[r],n):t[r]=e[r]);return t},Wl=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var dee={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const fee=t=>Le(t)?t.replace(/[&<>"'\/]/g,e=>dee[e]):t;class hee{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const pee=[" ",",","?","!",";"],mee=new hee(20),gee=(t,e,n)=>{e=e||"",n=n||"";const r=pee.filter(s=>e.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const i=mee.getRegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let a=!i.test(t);if(!a){const s=t.indexOf(n);s>0&&!i.test(t.substring(0,s))&&(a=!0)}return a},l_=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let s,o="";for(let l=a;l<r.length;++l)if(l!==a&&(o+=n),o+=r[l],s=i[o],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&l<r.length-1)continue;a+=l-a+1;break}i=s}return i},fh=t=>t==null?void 0:t.replace("_","-"),yee={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class x0{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||yee,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(Le(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new x0(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new x0(this.logger,e)}}var Yi=new x0;let Hv=class{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let s=0;s<a;s++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let s=0;s<a;s++)i.apply(i,[e,...n])})}};class vO extends Hv{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var c,u;const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,n],r&&(Array.isArray(r)?o.push(...r):Le(r)&&a?o.push(...r.split(a)):o.push(r)));const l=v0(this.data,o);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=o[0],n=o[1],r=o.slice(2).join(".")),l||!s||!Le(r)?l:l_((u=(c=this.data)==null?void 0:c[e])==null?void 0:u[n],r,a)}addResource(e,n,r,i,a={silent:!1}){const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let o=[e,n];r&&(o=o.concat(s?r.split(s):r)),e.indexOf(".")>-1&&(o=e.split("."),i=n,n=o[1]),this.addNamespaces(n),yO(this.data,o,i),a.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const a in r)(Le(r[a])||Array.isArray(r[a]))&&this.addResource(e,n,a,r[a],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,a,s={silent:!1,skipCopy:!1}){let o=[e,n];e.indexOf(".")>-1&&(o=e.split("."),i=r,r=n,n=o[1]),this.addNamespaces(n);let l=v0(this.data,o)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?y6(l,r,a):l={...l,...r},yO(this.data,o,l),s.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var v6={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(a=>{var s;e=((s=this.processors[a])==null?void 0:s.process(e,n,r,i))??e}),e}};const x6=Symbol("i18next/PATH_KEY");function vee(){const t=[],e=Object.create(null);let n;return e.get=(r,i)=>{var a;return(a=n==null?void 0:n.revoke)==null||a.call(n),i===x6?t:(t.push(i),n=Proxy.revocable(r,e),n.proxy)},Proxy.revocable(Object.create(null),e).proxy}function c_(t,e){const{[x6]:n}=t(vee());return n.join((e==null?void 0:e.keySeparator)??".")}const xO={},Hb=t=>!Le(t)&&typeof t!="boolean"&&typeof t!="number";class b0 extends Hv{constructor(e,n={}){super(),oee(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Yi.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);if((i==null?void 0:i.res)===void 0)return!1;const a=Hb(i.res);return!(r.returnObjects===!1&&a)}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const s=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!gee(e,r,i);if(s&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:Le(a)?[a]:a};const c=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(a=c.shift()),e=c.join(i)}return{key:e,namespaces:Le(a)?[a]:a}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=c_(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],i),c=l[l.length-1];let u=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const d=i.lng||this.language,h=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((d==null?void 0:d.toLowerCase())==="cimode")return h?a?{res:`${c}${u}${o}`,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:`${c}${u}${o}`:a?{res:o,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:o;const p=this.resolve(e,i);let g=p==null?void 0:p.res;const y=(p==null?void 0:p.usedKey)||o,v=(p==null?void 0:p.exactUsedKey)||o,x=["[object Number]","[object Function]","[object RegExp]"],b=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,S=i.count!==void 0&&!Le(i.count),k=b0.hasDefaultValue(i),P=S?this.pluralResolver.getSuffix(d,i.count,i):"",_=i.ordinal&&S?this.pluralResolver.getSuffix(d,i.count,{ordinal:!1}):"",E=S&&!i.ordinal&&i.count===0,N=E&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${P}`]||i[`defaultValue${_}`]||i.defaultValue;let A=g;w&&!g&&k&&(A=N);const C=Hb(A),j=Object.prototype.toString.apply(A);if(w&&A&&C&&x.indexOf(j)<0&&!(Le(b)&&Array.isArray(A))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const O=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,A,{...i,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return a?(p.res=O,p.usedParams=this.getUsedParamsDetails(i),p):O}if(s){const O=Array.isArray(A),M=O?[]:{},$=O?v:y;for(const L in A)if(Object.prototype.hasOwnProperty.call(A,L)){const W=`${$}${s}${L}`;k&&!g?M[L]=this.translate(W,{...i,defaultValue:Hb(N)?N[L]:void 0,joinArrays:!1,ns:l}):M[L]=this.translate(W,{...i,joinArrays:!1,ns:l}),M[L]===W&&(M[L]=A[L])}g=M}}else if(w&&Le(b)&&Array.isArray(g))g=g.join(b),g&&(g=this.extendTranslation(g,e,i,r));else{let O=!1,M=!1;!this.isValidLookup(g)&&k&&(O=!0,g=N),this.isValidLookup(g)||(M=!0,g=o);const L=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&M?void 0:g,W=k&&N!==g&&this.options.updateMissing;if(M||O||W){if(this.logger.log(W?"updateKey":"missingKey",d,c,o,W?N:g),s){const Q=this.resolve(o,{...i,keySeparator:!1});Q&&Q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let F=[];const U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&U&&U[0])for(let Q=0;Q<U.length;Q++)F.push(U[Q]);else this.options.saveMissingTo==="all"?F=this.languageUtils.toResolveHierarchy(i.lng||this.language):F.push(i.lng||this.language);const G=(Q,B,ae)=>{var ye;const ge=k&&ae!==g?ae:L;this.options.missingKeyHandler?this.options.missingKeyHandler(Q,c,B,ge,W,i):(ye=this.backendConnector)!=null&&ye.saveMissing&&this.backendConnector.saveMissing(Q,c,B,ge,W,i),this.emit("missingKey",Q,c,B,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?F.forEach(Q=>{const B=this.pluralResolver.getSuffixes(Q,i);E&&i[`defaultValue${this.options.pluralSeparator}zero`]&&B.indexOf(`${this.options.pluralSeparator}zero`)<0&&B.push(`${this.options.pluralSeparator}zero`),B.forEach(ae=>{G([Q],o+ae,i[`defaultValue${ae}`]||N)})}):G(F,o,N))}g=this.extendTranslation(g,e,i,p,r),M&&g===o&&this.options.appendNamespaceToMissingKey&&(g=`${c}${u}${o}`),(M||O)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${u}${o}`:o,O?g:void 0,i))}return a?(p.res=g,p.usedParams=this.getUsedParamsDetails(i),p):g}extendTranslation(e,n,r,i,a){var l,c;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=Le(e)&&(((c=r==null?void 0:r.interpolation)==null?void 0:c.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const p=e.match(this.interpolator.nestingRegexp);d=p&&p.length}let h=r.replace&&!Le(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||i.usedLng,r),u){const p=e.match(this.interpolator.nestingRegexp),g=p&&p.length;d<g&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...p)=>(a==null?void 0:a[0])===p[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):this.translate(...p,n),r)),r.interpolation&&this.interpolator.reset()}const s=r.postProcess||this.options.postProcess,o=Le(s)?[s]:s;return e!=null&&(o!=null&&o.length)&&r.applyPostProcessor!==!1&&(e=v6.handle(o,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,a,s,o;return Le(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),u=c.key;i=u;let d=c.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const h=n.count!==void 0&&!Le(n.count),p=h&&!n.ordinal&&n.count===0,g=n.context!==void 0&&(Le(n.context)||typeof n.context=="number")&&n.context!=="",y=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(v=>{var x,b;this.isValidLookup(r)||(o=v,!xO[`${y[0]}-${v}`]&&((x=this.utils)!=null&&x.hasLoadedNamespace)&&!((b=this.utils)!=null&&b.hasLoadedNamespace(o))&&(xO[`${y[0]}-${v}`]=!0,this.logger.warn(`key "${i}" for languages "${y.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(w=>{var P;if(this.isValidLookup(r))return;s=w;const S=[u];if((P=this.i18nFormat)!=null&&P.addLookupKeys)this.i18nFormat.addLookupKeys(S,u,w,v,n);else{let _;h&&(_=this.pluralResolver.getSuffix(w,n.count,n));const E=`${this.options.pluralSeparator}zero`,N=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(n.ordinal&&_.indexOf(N)===0&&S.push(u+_.replace(N,this.options.pluralSeparator)),S.push(u+_),p&&S.push(u+E)),g){const A=`${u}${this.options.contextSeparator||"_"}${n.context}`;S.push(A),h&&(n.ordinal&&_.indexOf(N)===0&&S.push(A+_.replace(N,this.options.pluralSeparator)),S.push(A+_),p&&S.push(A+E))}}let k;for(;k=S.pop();)this.isValidLookup(r)||(a=k,r=this.getResource(w,v,k,n))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:s,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Le(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of n)delete i[a]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class bO{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Yi.create("languageUtils")}getScriptPartFromCode(e){if(e=fh(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=fh(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Le(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(s=>{if(s===a)return s;if(!(s.indexOf("-")<0&&a.indexOf("-")<0)&&(s.indexOf("-")>0&&a.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===a||s.indexOf(a)===0&&a.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Le(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],a=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return Le(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):Le(e)&&a(this.formatLanguageCode(e)),r.forEach(s=>{i.indexOf(s)<0&&a(this.formatLanguageCode(s))}),i}}const wO={zero:0,one:1,two:2,few:3,many:4,other:5},_O={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class xee{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Yi.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=fh(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let s;try{s=new Intl.PluralRules(r,{type:i})}catch{if(typeof Intl>"u")return this.logger.error("No Intl support, please use an Intl polyfill!"),_O;if(!e.match(/-|_/))return _O;const l=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(l,n)}return this.pluralRulesCache[a]=s,s}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>wO[i]-wO[a]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const SO=(t,e,n,r=".",i=!0)=>{let a=uee(t,e,n);return!a&&i&&Le(n)&&(a=l_(t,n,r),a===void 0&&(a=l_(e,n,r))),a},Gb=t=>t.replace(/\$/g,"$$$$");class kO{constructor(e={}){var n;this.logger=Yi.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:s,suffix:o,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:d,nestingPrefix:h,nestingPrefixEscaped:p,nestingSuffix:g,nestingSuffixEscaped:y,nestingOptionsSeparator:v,maxReplaces:x,alwaysFormat:b}=e.interpolation;this.escape=n!==void 0?n:fee,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?Wl(a):s||"{{",this.suffix=o?Wl(o):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=h?Wl(h):p||Wl("$t("),this.nestingSuffix=g?Wl(g):y||Wl(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=x||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var p;let a,s,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=g=>{if(g.indexOf(this.formatSeparator)<0){const b=SO(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,r,{...i,...n,interpolationkey:g}):b}const y=g.split(this.formatSeparator),v=y.shift().trim(),x=y.join(this.formatSeparator).trim();return this.format(SO(n,l,v,this.options.keySeparator,this.options.ignoreJSONStructure),x,r,{...i,...n,interpolationkey:v})};this.resetRegExp();const u=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,d=((p=i==null?void 0:i.interpolation)==null?void 0:p.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>Gb(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?Gb(this.escape(g)):Gb(g)}].forEach(g=>{for(o=0;a=g.regex.exec(e);){const y=a[1].trim();if(s=c(y),s===void 0)if(typeof u=="function"){const x=u(e,a,i);s=Le(x)?x:""}else if(i&&Object.prototype.hasOwnProperty.call(i,y))s="";else if(d){s=a[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),s="";else!Le(s)&&!this.useRawValueToEscape&&(s=pO(s));const v=g.safeValue(s);if(e=e.replace(a[0],v),d?(g.regex.lastIndex+=s.length,g.regex.lastIndex-=a[0].length):g.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,a,s;const o=(l,c)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const d=l.split(new RegExp(`${u}[ ]*{`));let h=`{${d[1]}`;l=d[0],h=this.interpolate(h,s);const p=h.match(/'/g),g=h.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!g||g.length%2!==0)&&(h=h.replace(/'/g,'"'));try{s=JSON.parse(h),c&&(s={...c,...s})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,y),`${l}${u}${h}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];s={...r},s=s.replace&&!Le(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;const c=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(c!==-1&&(l=i[1].slice(c).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),i[1]=i[1].slice(0,c)),a=n(o.call(this,i[1].trim(),s),s),a&&i[0]===e&&!Le(a))return a;Le(a)||(a=pO(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),l.length&&(a=l.reduce((u,d)=>this.format(u,d,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const bee=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(s=>{if(s){const[o,...l]=s.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=o.trim();n[u]||(n[u]=c),c==="false"&&(n[u]=!1),c==="true"&&(n[u]=!0),isNaN(c)||(n[u]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}},EO=t=>{const e={};return(n,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const s=r+JSON.stringify(a);let o=e[s];return o||(o=t(fh(r),i),e[s]=o),o(n)}},wee=t=>(e,n,r)=>t(fh(n),r)(e);class _ee{constructor(e={}){this.logger=Yi.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?EO:wee;this.formats={number:r((i,a)=>{const s=new Intl.NumberFormat(i,{...a});return o=>s.format(o)}),currency:r((i,a)=>{const s=new Intl.NumberFormat(i,{...a,style:"currency"});return o=>s.format(o)}),datetime:r((i,a)=>{const s=new Intl.DateTimeFormat(i,{...a});return o=>s.format(o)}),relativetime:r((i,a)=>{const s=new Intl.RelativeTimeFormat(i,{...a});return o=>s.format(o,a.range||"day")}),list:r((i,a)=>{const s=new Intl.ListFormat(i,{...a});return o=>s.format(o)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=EO(n)}format(e,n,r,i={}){const a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(o=>o.indexOf(")")>-1)){const o=a.findIndex(l=>l.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,o)].join(this.formatSeparator)}return a.reduce((o,l)=>{var d;const{formatName:c,formatOptions:u}=bee(l);if(this.formats[c]){let h=o;try{const p=((d=i==null?void 0:i.formatParams)==null?void 0:d[i.interpolationkey])||{},g=p.locale||p.lng||i.locale||i.lng||r;h=this.formats[c](o,g,{...u,...i,...p})}catch(p){this.logger.warn(p)}return h}else this.logger.warn(`there was no format function for ${c}`);return o},e)}}const See=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class kee extends Hv{constructor(e,n,r,i={}){var a,s;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Yi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(s=(a=this.backend)==null?void 0:a.init)==null||s.call(a,r,i.backend,i)}queueLoad(e,n,r,i){const a={},s={},o={},l={};return e.forEach(c=>{let u=!0;n.forEach(d=>{const h=`${c}|${d}`;!r.reload&&this.store.hasResourceBundle(c,d)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?s[h]===void 0&&(s[h]=!0):(this.state[h]=1,u=!1,s[h]===void 0&&(s[h]=!0),a[h]===void 0&&(a[h]=!0),l[d]===void 0&&(l[d]=!0)))}),u||(o[c]=!0)}),(Object.keys(a).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(s),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),a=i[0],s=i[1];n&&this.emit("failedLoading",a,s,n),!n&&r&&this.store.addResourceBundle(a,s,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const o={};this.queue.forEach(l=>{cee(l.loaded,[a],s),See(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{o[c]||(o[c]={});const u=l.loaded[c];u.length&&u.forEach(d=>{o[c][d]===void 0&&(o[c][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r,i=0,a=this.retryTimeout,s){if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:a,callback:s});return}this.readingCalls++;const o=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(c&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,a*2,s)},a);return}s(c,u)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(e,n);c&&typeof c.then=="function"?c.then(u=>o(null,u)).catch(o):o(null,c)}catch(c){o(c)}return}return l(e,n,o)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Le(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Le(n)&&(n=[n]);const a=this.queueLoad(e,n,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(s=>{this.loadOne(s)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(s,o)=>{s&&this.logger.warn(`${n}loading namespace ${a} for language ${i} failed`,s),!s&&o&&this.logger.log(`${n}loaded namespace ${a} for language ${i}`,o),this.loaded(e,s,o)})}saveMissing(e,n,r,i,a,s={},o=()=>{}){var l,c,u,d,h;if((c=(l=this.services)==null?void 0:l.utils)!=null&&c.hasLoadedNamespace&&!((d=(u=this.services)==null?void 0:u.utils)!=null&&d.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((h=this.backend)!=null&&h.create){const p={...s,isUpdate:a},g=this.backend.create.bind(this.backend);if(g.length<6)try{let y;g.length===5?y=g(e,n,r,i,p):y=g(e,n,r,i),y&&typeof y.then=="function"?y.then(v=>o(null,v)).catch(o):o(null,y)}catch(y){o(y)}else g(e,n,r,i,o,p)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const Kb=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Le(t[1])&&(e.defaultValue=t[1]),Le(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),TO=t=>{var e,n;return Le(t.ns)&&(t.ns=[t.ns]),Le(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Le(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},bm=()=>{},Eee=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};let PO=!1;const Tee=t=>{var e,n,r,i,a,s,o,l,c;return!!(((r=(n=(e=t==null?void 0:t.modules)==null?void 0:e.backend)==null?void 0:n.name)==null?void 0:r.indexOf("Locize"))>0||((o=(s=(a=(i=t==null?void 0:t.modules)==null?void 0:i.backend)==null?void 0:a.constructor)==null?void 0:s.name)==null?void 0:o.indexOf("Locize"))>0||(c=(l=t==null?void 0:t.options)==null?void 0:l.backend)!=null&&c.backends&&t.options.backend.backends.some(u=>{var d,h,p;return((d=u==null?void 0:u.name)==null?void 0:d.indexOf("Locize"))>0||((p=(h=u==null?void 0:u.constructor)==null?void 0:h.name)==null?void 0:p.indexOf("Locize"))>0}))};class Pf extends Hv{constructor(e={},n){if(super(),this.options=TO(e),this.services={},this.logger=Yi,this.modules={external:[]},Eee(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(Le(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=Kb();this.options={...r,...this.options,...TO(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler),this.options.showSupportNotice!==!1&&!Tee(this)&&!PO&&(typeof console<"u"&&typeof console.info<"u"&&console.info(" i18next is maintained with support from Locize  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com "),PO=!0);const i=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?Yi.init(i(this.modules.logger),this.options):Yi.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=_ee;const u=new bO(this.options);this.store=new vO(this.options.resources,this.options);const d=this.services;d.logger=Yi,d.resourceStore=this.store,d.languageUtils=u,d.pluralResolver=new xee(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),c&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(d.formatter=i(c),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new kO(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new kee(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new b0(this.services,this.options),this.translator.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=bm),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...u)=>this.store[c](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...u)=>(this.store[c](...u),this)});const o=Nd(),l=()=>{const c=(u,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(d),n(u,d)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),o}loadResources(e,n=bm){var a,s;let r=n;const i=Le(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(d=>{d!=="cimode"&&o.indexOf(d)<0&&o.push(d)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>l(u)),(s=(a=this.options.preload)==null?void 0:a.forEach)==null||s.call(a,c=>l(c)),this.services.backendConnector.load(o,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,n,r){const i=Nd();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=bm),this.services.backendConnector.reload(e,n,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&v6.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=Nd();this.emit("languageChanging",e);const i=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},a=(o,l)=>{l?this.isLanguageChangingTo===e&&(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...c)=>this.t(...c)),n&&n(o,(...c)=>this.t(...c))},s=o=>{var u,d;!e&&!o&&this.services.languageDetector&&(o=[]);const l=Le(o)?o:o&&o[0],c=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(Le(o)?[o]:o);c&&(this.language||i(c),this.translator.language||this.translator.changeLanguage(c),(d=(u=this.services.languageDetector)==null?void 0:u.cacheUserLanguage)==null||d.call(u,c)),this.loadResources(c,h=>{a(h,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),r}getFixedT(e,n,r){const i=(a,s,...o)=>{let l;typeof s!="object"?l=this.options.overloadTranslationOptionHandler([a,s].concat(o)):l={...s},l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const c=this.options.keySeparator||".";let u;return l.keyPrefix&&Array.isArray(a)?u=a.map(d=>(typeof d=="function"&&(d=c_(d,{...this.options,...s})),`${l.keyPrefix}${c}${d}`)):(typeof a=="function"&&(a=c_(a,{...this.options,...s})),u=l.keyPrefix?`${l.keyPrefix}${c}${a}`:a),this.t(u,l)};return Le(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(o,l)=>{const c=this.services.backendConnector.state[`${o}|${l}`];return c===-1||c===0||c===2};if(n.precheck){const o=n.precheck(this,s);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,e)&&(!i||s(a,e)))}loadNamespaces(e,n){const r=Nd();return this.options.ns?(Le(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Nd();Le(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return a.length?(this.options.preload=i.concat(a),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(e){var i,a;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const s=new Intl.Locale(e);if(s&&s.getTextInfo){const o=s.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new bO(Kb());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){const r=new Pf(e,n);return r.createInstance=Pf.createInstance,r}cloneInstance(e={},n=bm){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new Pf(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(o=>{a[o]=this[o]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const o=Object.keys(this.store.data).reduce((l,c)=>(l[c]={...this.store.data[c]},l[c]=Object.keys(l[c]).reduce((u,d)=>(u[d]={...l[c][d]},u),l[c]),l),{});a.store=new vO(o,i),a.services.resourceStore=a.store}if(e.interpolation){const l={...Kb().interpolation,...this.options.interpolation,...e.interpolation},c={...i,interpolation:l};a.services.interpolator=new kO(c)}return a.translator=new b0(a.services,i),a.translator.on("*",(o,...l)=>{a.emit(o,...l)}),a.init(i,n),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const gn=Pf.createInstance();gn.createInstance;gn.dir;gn.init;gn.loadResources;gn.reloadResources;gn.use;gn.changeLanguage;gn.getFixedT;gn.t;gn.exists;gn.setDefaultNamespace;gn.hasLoadedNamespace;gn.loadNamespaces;gn.loadLanguages;const Pee=(t,e,n,r)=>{var a,s,o,l;const i=[n,{code:e,...r||{}}];if((s=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&s.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);xl(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(l=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&l.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},NO={},b6=(t,e,n,r)=>{xl(n)&&NO[n]||(xl(n)&&(NO[n]=new Date),Pee(t,e,n,r))},w6=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},u_=(t,e,n)=>{t.loadNamespaces(e,w6(t,n))},AO=(t,e,n,r)=>{if(xl(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return u_(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,w6(t,r))},Nee=(t,e,n={})=>!e.languages||!e.languages.length?(b6(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),xl=t=>typeof t=="string",Aee=t=>typeof t=="object"&&t!==null,Iee=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Oee={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Cee=t=>Oee[t],jee=t=>t.replace(Iee,Cee);let d_={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:jee,transDefaultProps:void 0};const Ree=(t={})=>{d_={...d_,...t}},Mee=()=>d_;let _6;const $ee=t=>{_6=t},Dee=()=>_6,Lee={type:"3rdParty",init(t){Ree(t.options.react),$ee(t)}},Fee=R.createContext();class Vee{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var S6={exports:{}},k6={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ru=R;function Uee(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bee=typeof Object.is=="function"?Object.is:Uee,zee=ru.useState,qee=ru.useEffect,Wee=ru.useLayoutEffect,Hee=ru.useDebugValue;function Gee(t,e){var n=e(),r=zee({inst:{value:n,getSnapshot:e}}),i=r[0].inst,a=r[1];return Wee(function(){i.value=n,i.getSnapshot=e,Yb(i)&&a({inst:i})},[t,n,e]),qee(function(){return Yb(i)&&a({inst:i}),t(function(){Yb(i)&&a({inst:i})})},[t]),Hee(n),n}function Yb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Bee(t,n)}catch{return!0}}function Kee(t,e){return e()}var Yee=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Kee:Gee;k6.useSyncExternalStore=ru.useSyncExternalStore!==void 0?ru.useSyncExternalStore:Yee;S6.exports=k6;var Qee=S6.exports;const Xee=(t,e)=>xl(e)?e:Aee(e)&&xl(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,Jee={t:Xee,ready:!1},Zee=()=>()=>{},Ur=(t,e={})=>{var N,A,C;const{i18n:n}=e,{i18n:r,defaultNS:i}=R.useContext(Fee)||{},a=n||r||Dee();a&&!a.reportNamespaces&&(a.reportNamespaces=new Vee),a||b6(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const s=R.useMemo(()=>{var j;return{...Mee(),...(j=a==null?void 0:a.options)==null?void 0:j.react,...e}},[a,e]),{useSuspense:o,keyPrefix:l}=s,c=i||((N=a==null?void 0:a.options)==null?void 0:N.defaultNS),u=xl(c)?[c]:c||["translation"],d=R.useMemo(()=>u,u);(C=(A=a==null?void 0:a.reportNamespaces)==null?void 0:A.addUsedNamespaces)==null||C.call(A,d);const h=R.useRef(0),p=R.useCallback(j=>{if(!a)return Zee;const{bindI18n:O,bindI18nStore:M}=s,$=()=>{h.current+=1,j()};return O&&a.on(O,$),M&&a.store.on(M,$),()=>{O&&O.split(" ").forEach(L=>a.off(L,$)),M&&M.split(" ").forEach(L=>a.store.off(L,$))}},[a,s]),g=R.useRef(),y=R.useCallback(()=>{if(!a)return Jee;const j=!!(a.isInitialized||a.initializedStoreOnce)&&d.every(F=>Nee(F,a,s)),O=e.lng||a.language,M=h.current,$=g.current;if($&&$.ready===j&&$.lng===O&&$.keyPrefix===l&&$.revision===M)return $;const W={t:a.getFixedT(O,s.nsMode==="fallback"?d:d[0],l),ready:j,lng:O,keyPrefix:l,revision:M};return g.current=W,W},[a,d,l,s,e.lng]),[v,x]=R.useState(0),{t:b,ready:w}=Qee.useSyncExternalStore(p,y,y);R.useEffect(()=>{if(a&&!w&&!o){const j=()=>x(O=>O+1);e.lng?AO(a,e.lng,d,j):u_(a,d,j)}},[a,e.lng,d,w,o,v]);const S=a||{},k=R.useRef(null),P=R.useRef(),_=j=>{const O=Object.getOwnPropertyDescriptors(j);O.__original&&delete O.__original;const M=Object.create(Object.getPrototypeOf(j),O);if(!Object.prototype.hasOwnProperty.call(M,"__original"))try{Object.defineProperty(M,"__original",{value:j,writable:!1,enumerable:!1,configurable:!1})}catch{}return M},E=R.useMemo(()=>{const j=S,O=j==null?void 0:j.language;let M=j;j&&(k.current&&k.current.__original===j?P.current!==O?(M=_(j),k.current=M,P.current=O):M=k.current:(M=_(j),k.current=M,P.current=O));const $=[b,M,w];return $.t=b,$.i18n=M,$.ready=w,$},[b,S,w,S.resolvedLanguage,S.language,S.languages]);if(a&&o&&!w)throw new Promise(j=>{const O=()=>j();e.lng?AO(a,e.lng,d,O):u_(a,d,O)});return E},E6=R.createContext(),IO="/brand-logo.svg",Qb="/brand-favicon.svg",OO="https://i.imgur.com/9YXqZ5K.png",vn=()=>R.useContext(E6),ete=({children:t})=>{const[e,n]=R.useState(()=>localStorage.getItem("theme")||"light"),[r,i]=R.useState(()=>localStorage.getItem("isSidebarCollapsed")==="true"),[a,s]=R.useState(!1),[o,l]=R.useState(()=>{try{const V=localStorage.getItem("appearance"),Y=V?JSON.parse(V):null;return{theme:(Y==null?void 0:Y.theme)||"default",accentType:(Y==null?void 0:Y.accentType)||"solid",accentColor:(Y==null?void 0:Y.accentColor)||"#1e3a5f",accentGradient:(Y==null?void 0:Y.accentGradient)||{start:"#8B5CF6",end:"#3B82F6"}}}catch(V){return console.error("Error loading appearance settings:",V),{theme:"default",accentType:"solid",accentColor:"#1e3a5f",accentGradient:{start:"#8B5CF6",end:"#3B82F6"}}}});R.useEffect(()=>{const V=document.documentElement;V.classList.remove("theme-liquid","theme-light","theme-dark"),o.theme!=="default"&&V.classList.add(`theme-${o.theme}`);let Y=o.accentColor;if(o.accentColor,o.accentType==="solid")V.style.setProperty("--accent-color",o.accentColor),V.style.setProperty("--accent-gradient",o.accentColor);else{const{start:H,end:ue}=o.accentGradient;Y=H,V.style.setProperty("--accent-color",H),V.style.setProperty("--accent-gradient",`linear-gradient(135deg, ${H} 0%, ${ue} 100%)`)}if(V.style.setProperty("--brand-color",Y),C(H=>({...H,color:Y})),o.theme==="liquid"&&V.style.setProperty("--glass-tint",`${Y}15`),o.theme==="dark")n("dark");else if(o.theme==="light")n("light");else if(o.theme==="default"){const H=localStorage.getItem("theme")||"light";n(H)}},[o]);const[c,u]=R.useState([]),[d,h]=R.useState([]),[p,g]=R.useState([]),[y,v]=R.useState([]),[x,b]=R.useState(["Electronics","Clothing","Home","Beauty","Sports"]),[w,S]=R.useState(!0),[k,P]=R.useState([]),_=(V,Y="info")=>{const H=Math.random().toString(36).substr(2,9);P(ue=>[...ue,{id:H,message:V,type:Y}]),setTimeout(()=>{P(ue=>ue.filter(he=>he.id!==H))},3e3)},[E,N]=R.useState(!1),[A,C]=R.useState({name:"Gem Toys",logo:IO,favicon:Qb,color:"#1e3a5f",hideHeader:!1});R.useEffect(()=>{try{A!=null&&A.name&&(document.title=A.name);const V=Y=>{if(!Y)return;let H=document.querySelector("link[rel~='icon']");H||(H=document.createElement("link"),H.rel="icon",document.getElementsByTagName("head")[0].appendChild(H)),H.href=Y};A!=null&&A.favicon?V(A.favicon):A!=null&&A.logo?V(A.logo):V(Qb)}catch{}},[A]);const j=async V=>{const{_id:Y,...H}=V,ue=Y||"branding";await mt.set("settings",ue,H),C(he=>({...he,...H}))};R.useEffect(()=>{S(!0);let V={products:!1,categories:!1,orders:!1,customers:!1,users:!1,settings:!1};const Y=()=>{Object.values(V).every(ze=>ze)&&S(!1)},H=(ze,_r)=>{console.error(`Error loading ${ze}:`,_r),_(`Error loading ${ze}. Refresh page.`,"error"),V[ze]=!0,Y()},ue=mt.subscribeToCollection("products",ze=>{u(ze),V.products=!0,Y()},"name","asc",ze=>H("products",ze)),he=mt.subscribeToCollection("categories",ze=>{if(ze.length>0){const _r=ze.map(wn=>wn.name).sort();b(_r),M(ze)}else b([]),M([]);V.categories=!0,Y()},"name","asc",ze=>H("categories",ze)),ke=mt.subscribeToCollection("orders",ze=>{h(ze),V.orders=!0,Y()},"date","desc",ze=>H("orders",ze)),Be=mt.subscribeToCollection("customers",ze=>{g(ze),V.customers=!0,Y()},"name","asc",ze=>H("customers",ze)),bn=mt.subscribeToCollection("users",ze=>{v(ze),V.users=!0,Y()},"username","asc",ze=>H("users",ze)),Wn=mt.subscribeToCollection("settings",ze=>{const _r=ze.find(wn=>wn._id==="branding");if(_r){const{_id:wn,..._n}=_r,pi=_n.logo===OO?IO:_n.logo,Cn=_n.favicon===OO?pi||Qb:_n.favicon;C(q=>({...q,..._n,logo:pi,favicon:Cn}))}V.settings=!0,Y()},"name","asc",ze=>H("settings",ze)),Br=setTimeout(()=>{w&&(console.warn("Loading safety timeout hit."),S(!1))},8e3);return()=>{clearTimeout(Br),ue(),he(),ke(),Be(),bn(),Wn()}},[]);const[O,M]=R.useState([]),$=async V=>{x.includes(V)||(await mt.add("categories",{name:V}),_(`Category "${V}" added!`,"success"))},L=async(V,Y)=>{const H=O.find(ue=>ue.name===V);if(H){await mt.update("categories",H._id,{name:Y}),_(`Category updated to "${Y}"`,"success");const ue=c.filter(he=>he.category===V);for(const he of ue)await mt.update("products",he._id,{category:Y})}},W=async V=>{const Y=O.find(H=>H.name===V);Y&&(await mt.delete("categories",Y._id),_(`Category "${V}" deleted!`,"success"))},[F,U]=R.useState(null);R.useEffect(()=>{if(y.length>0)if(F){const V=y.find(Y=>Y._id===F._id||Y.username===F.username);V&&U(V)}else{const V=y.find(Y=>Y.role==="Admin");U(V||y[0])}},[y]);const G=V=>{n(V)};R.useEffect(()=>{const V=document.documentElement;e==="dark"?V.classList.add("dark"):e==="light"?V.classList.remove("dark"):e==="system"&&(window.matchMedia("(prefers-color-scheme: dark)").matches?V.classList.add("dark"):V.classList.remove("dark")),localStorage.setItem("theme",e)},[e]);const{i18n:Q}=Ur(),[B,ae]=R.useState(localStorage.getItem("language")||Q.language||"en"),ge=V=>{ae(V),Q.changeLanguage(V),localStorage.setItem("language",V);const Y=V==="ar"?"rtl":"ltr";document.documentElement.setAttribute("dir",Y),document.documentElement.setAttribute("lang",V)};R.useEffect(()=>{const V=localStorage.getItem("language")||"en",Y=V==="ar"?"rtl":"ltr";document.documentElement.setAttribute("dir",Y),document.documentElement.setAttribute("lang",V),V!==Q.language&&Q.changeLanguage(V)},[Q]);const ye=()=>{i(V=>{const Y=!V;return localStorage.setItem("isSidebarCollapsed",Y),Y})},Z=()=>s(V=>!V),te=()=>s(!1),de=V=>new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(V),ne=async V=>{try{const Y=await mt.add("products",V);return _("Product added successfully","success"),Y}catch(Y){return _("Error adding product","error"),console.error(Y),null}},_e=async V=>{const{_id:Y,...H}=V;try{await mt.update("products",Y,H),_("Product updated successfully","success")}catch(ue){_("Error updating product","error"),console.error(ue)}},ie=async V=>{try{await mt.delete("products",V),_("Product deleted successfully","success")}catch(Y){_("Error deleting product","error"),console.error(Y)}},X=async V=>{const Y={...V,createdOn:new Date().toISOString()},H=await mt.add("customers",Y);return _("Customer added successfully","success"),H},ee=async V=>{const{_id:Y,...H}=V;await mt.update("customers",Y,H)},xe=async V=>{try{const Y=`#ORD-${Math.floor(1e3+Math.random()*9e3)}`,H={...V,orderId:Y,date:new Date().toISOString()},ue=await mt.add("orders",H);for(const he of V.items){const ke=c.find(Be=>Be._id===he.product._id);if(ke){const Be=Math.max(0,ke.stock-he.quantity);await mt.update("products",ke._id,{stock:Be,status:Be===0?"Out of Stock":Be<=10?"Low Stock":"In Stock"})}}return _("Order created successfully","success"),ue}catch(Y){return _("Error creating order","error"),console.error(Y),null}},Ce=async V=>{const Y=d.find(H=>H._id===V);if(Y)for(const H of Y.items){const ue=c.find(he=>he._id===H.product._id);if(ue){const he=ue.stock+H.quantity;await mt.update("products",ue._id,{stock:he,status:he===0?"Out of Stock":he<=10?"Low Stock":"In Stock"})}}await mt.delete("orders",V),_("Order deleted and stock restored","info")},He=async V=>{const{_id:Y,...H}=V,ue=d.find(he=>he._id===Y);if(ue){for(const he of ue.items){const ke=c.find(Be=>Be._id===he.product._id);ke&&await mt.update("products",ke._id,{stock:ke.stock+he.quantity})}for(const he of V.items){const ke=c.find(Be=>Be._id===he.product._id);if(ke){const Be=ue.items.find(Br=>Br.product._id===he.product._id),bn=Be?Be.quantity:0,Wn=Math.max(0,ke.stock+bn-he.quantity);await mt.update("products",ke._id,{stock:Wn,status:Wn===0?"Out of Stock":Wn<=10?"Low Stock":"In Stock"})}}}await mt.update("orders",Y,H),_("Order updated successfully","success")},$e=async V=>{await mt.add("users",{...V,displayName:V.username})},tn=async V=>{const{_id:Y,...H}=V;await mt.update("users",Y,H)},st=async V=>{F&&(await mt.update("users",F._id,V),U(Y=>({...Y,...V})))},dt=async V=>{await mt.delete("users",V)};return f.jsx(E6.Provider,{value:{products:c,addProduct:ne,updateProduct:_e,deleteProduct:ie,orders:d,addOrder:xe,updateOrder:He,deleteOrder:Ce,customers:p,addCustomer:X,updateCustomer:ee,users:y,addUser:$e,updateUser:tn,deleteUser:dt,categories:x,addCategory:$,updateCategory:L,deleteCategory:W,loading:w,theme:e,toggleTheme:G,brand:A,updateBrand:j,appearance:o,setAppearance:V=>{l(Y=>{const H={...Y,...V};return localStorage.setItem("appearance",JSON.stringify(H)),H})},currentUser:F,updateUserProfile:st,language:B,changeLanguage:ge,formatCurrency:de,isSidebarCollapsed:r,toggleSidebar:ye,isMobileMenuOpen:a,toggleMobileMenu:Z,closeMobileMenu:te,toasts:k,addToast:_,isModalOpen:E,setIsModalOpen:N},children:t})},tte=()=>{var x,b;const{t,i18n:e}=Ur(),n=Du(),{theme:r,currentUser:i,brand:a,isSidebarCollapsed:s,toggleSidebar:o,isMobileMenuOpen:l,closeMobileMenu:c,language:u}=vn(),d=u==="ar",h=[{icon:Gq,label:t("menu.dashboard"),path:"/"},{icon:bA,label:t("menu.inventory"),path:"/products"},{icon:Fa,label:t("menu.productPicture"),path:"/product-picture"},{icon:mL,label:t("menu.orders"),path:"/orders"},{icon:SE,label:t("menu.customers"),path:"/customers"},{icon:pL,label:t("menu.settings"),path:"/settings"}],v=`fixed lg:static top-0 bottom-0 ${d?"right-0 left-auto":"left-0 right-auto"} border-e z-40 ${s?"w-20":"w-56"} bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 flex flex-col h-screen transition-all duration-300 ease-in-out ${l?"translate-x-0 shadow-2xl":(d?"translate-x-full":"-translate-x-full")+" lg:translate-x-0"} glass-panel`;return f.jsxs("aside",{className:v,children:[f.jsxs("div",{className:`h-24 flex items-center ${s?"justify-center":"px-8"} relative`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shadow-lg text-white overflow-hidden shrink-0",style:{backgroundColor:a.color,boxShadow:`0 10px 15px -3px ${a.color}33`},children:a.logo?f.jsx("img",{src:a.logo,alt:"Logo",className:"w-full h-full object-cover"}):f.jsx(bA,{className:"w-6 h-6"})}),!s&&f.jsx("div",{className:"animate-in fade-in duration-300",children:f.jsxs("h1",{className:"font-bold text-slate-800 dark:text-white text-lg leading-tight tracking-tight",children:[a.name.split(" ")[0],f.jsx("br",{}),f.jsx("span",{style:{color:a.color},className:"font-extrabold",children:a.name.split(" ").slice(1).join(" ")||"APP"})]})})]}),f.jsx("button",{onClick:c,className:`lg:hidden absolute top-6 ${d?"left-4":"right-4"} p-2 text-slate-400 hover:text-red-500 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors`,children:f.jsx(Rr,{className:"w-5 h-5"})})]}),f.jsxs("nav",{className:"flex-1 overflow-y-auto py-4 px-3 space-y-2 custom-scrollbar",children:[!s&&f.jsx("div",{className:"mb-4 px-4",children:f.jsx("p",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:t("menu.mainMenu")})}),h.map(w=>{const S=n.pathname===w.path;return f.jsxs(Rq,{to:w.path,title:s?w.label:"",onClick:c,className:`flex items-center gap-3 rounded-xl transition-all duration-200 group relative overflow-hidden ${s?"justify-center p-3":"px-4 py-3.5"} ${S?"text-white shadow-lg bg-accent shadow-accent":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 dark:text-slate-400 dark:hover:text-white"}`,children:[f.jsx(w.icon,{className:`w-5 h-5 relative z-10 transition-transform duration-200 ${S?"scale-110":"group-hover:scale-110"}`}),!s&&f.jsx("span",{className:"font-medium relative z-10 animate-in fade-in slide-in-from-start-2 duration-300",children:w.label})]},w.path)})]}),f.jsx("div",{className:"p-4 mt-auto border-t border-slate-100 dark:border-slate-800/50",children:f.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 flex items-center shadow-sm glass-panel ${s?"p-2 justify-center":"p-4 gap-3"}`,children:[f.jsxs("div",{className:"relative shrink-0 w-10 h-10",children:[f.jsx("div",{className:"w-full h-full text-white rounded-full flex items-center justify-center font-bold text-lg overflow-hidden",style:{backgroundColor:a.color},children:i!=null&&i.photoURL?f.jsx("img",{src:i.photoURL,alt:"User",className:"w-full h-full object-cover"}):((x=i==null?void 0:i.displayName)==null?void 0:x.charAt(0))||"U"}),f.jsx("div",{className:"absolute bottom-0 end-0 w-3 h-3 bg-emerald-500 border-2 border-white dark:border-slate-800 rounded-full"})]}),!s&&f.jsxs("div",{className:"overflow-hidden animate-in fade-in duration-300",children:[f.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-white truncate",children:((b=i==null?void 0:i.displayName)==null?void 0:b.split(" ")[0])||t("user.defaultName")}),f.jsx("p",{className:"text-xs text-slate-500 truncate",children:(i==null?void 0:i.role)||t("user.defaultRole")})]})]})}),f.jsx("button",{onClick:o,className:`hidden lg:flex absolute bottom-24 ${d?"-left-3":"-right-3"} w-6 h-6 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-full items-center justify-center text-slate-400 shadow-sm z-50 transition-all hover:scale-110`,style:{color:a.color},children:s?f.jsx(xE,{className:"w-3.5 h-3.5"}):f.jsx(vE,{className:"w-3.5 h-3.5"})})]})},nte=({title:t})=>{var y,v,x;const{t:e}=Ur(),{currentUser:n,toggleMobileMenu:r,theme:i,toggleTheme:a,brand:s,isModalOpen:o,language:l,appearance:c,setAppearance:u}=vn(),d=s.hideHeader,h=["liquid","default_glass"].includes(c==null?void 0:c.theme),p=o?"hidden":d?"flex lg:hidden":"flex",g=()=>{a(i==="dark"?"light":"dark")};return f.jsxs("header",{className:`${p} h-14 sm:h-16 md:h-20 lg:h-24 ${h?"bg-white/60 dark:bg-slate-900/60 backdrop-blur-2xl border-b border-white/20 dark:border-slate-700/30":"bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800"} items-center justify-between px-3 sm:px-4 md:px-6 lg:px-8 sticky top-0 z-20 transition-all duration-300 shadow-sm`,children:[f.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 md:gap-4 flex-1 min-w-0 overflow-hidden",children:[f.jsx("button",{onClick:r,className:`lg:hidden p-1.5 sm:p-2 rounded-xl transition-all shrink-0 ${h?"text-slate-600 dark:text-slate-300 hover:bg-white/40 dark:hover:bg-slate-800/40 backdrop-blur-sm":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800"}`,"aria-label":"Toggle menu",children:f.jsx(Qq,{className:"w-5 h-5 sm:w-5.5 sm:h-5.5 md:w-6 md:h-6"})}),f.jsxs("div",{className:"flex flex-col min-w-0 flex-1 overflow-hidden",children:[f.jsx("h2",{className:"text-sm sm:text-base md:text-xl lg:text-2xl font-black text-slate-800 dark:text-white tracking-tight truncate",children:t}),f.jsxs("p",{className:"text-[10px] sm:text-xs text-slate-500 dark:text-slate-400 font-medium hidden md:block truncate",children:[e("header.welcome")," ",((y=n==null?void 0:n.displayName)==null?void 0:y.split(" ")[0])||e("header.admin")]})]})]}),f.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 md:gap-3 lg:gap-4 shrink-0",children:[f.jsx("button",{onClick:g,className:`p-1.5 sm:p-2 rounded-xl transition-all group ${h?"text-slate-600 dark:text-slate-300 hover:bg-white/40 dark:hover:bg-slate-800/40 backdrop-blur-sm":"text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-50 dark:hover:bg-slate-800"}`,"aria-label":`Switch to ${i==="dark"?"light":"dark"} mode`,children:i==="dark"?f.jsx(gL,{className:"w-4 h-4 sm:w-4.5 sm:h-4.5 md:w-5 md:h-5 group-hover:rotate-45 transition-transform duration-300"}):f.jsx(hL,{className:"w-4 h-4 sm:w-4.5 sm:h-4.5 md:w-5 md:h-5 group-hover:-rotate-12 transition-transform duration-300"})}),f.jsxs("button",{className:`hidden md:flex p-1.5 sm:p-2 rounded-xl transition-all relative ${h?"text-slate-600 dark:text-slate-300 hover:bg-white/40 dark:hover:bg-slate-800/40 backdrop-blur-sm":"text-slate-400 hover:text-accent hover:bg-slate-50 dark:hover:bg-slate-800"}`,"aria-label":"Notifications",children:[f.jsx(Vq,{className:"w-4 h-4 sm:w-4.5 sm:h-4.5 md:w-5 md:h-5"}),f.jsx("span",{className:"absolute top-1 sm:top-1.5 right-1 sm:right-1.5 w-1.5 h-1.5 sm:w-2 sm:h-2 bg-red-500 rounded-full border border-white dark:border-slate-900 animate-pulse"})]}),f.jsx("div",{className:"w-px h-5 sm:h-6 md:h-7 lg:h-8 bg-slate-200 dark:bg-slate-700/50 mx-0.5 sm:mx-1 hidden md:block"}),f.jsxs("div",{className:`relative w-8 h-8 sm:w-9 sm:h-9 md:w-10 md:h-10 lg:w-11 lg:h-11 rounded-xl md:rounded-2xl flex items-center justify-center text-white font-bold overflow-hidden shrink-0 transition-all duration-300 hover:scale-105 cursor-pointer ${h?"shadow-lg border-2 border-white/30 dark:border-slate-700/30":"shadow-md border-2 border-white/50 dark:border-slate-800/50"}`,style:{backgroundColor:s.color,boxShadow:h?`0 8px 24px -8px ${s.color}66, 0 0 0 1px ${s.color}22`:`0 8px 16px -4px ${s.color}44`},children:[s.logo?f.jsx("img",{src:s.logo,alt:"Brand",className:"w-full h-full object-cover"}):f.jsx("div",{className:"text-[10px] sm:text-xs md:text-sm uppercase font-black tracking-wider",children:((v=s.name)==null?void 0:v.charAt(0))||"A"}),f.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 sm:bottom-0 sm:right-0 w-2.5 h-2.5 sm:w-3 sm:h-3 bg-emerald-500 rounded-full border-2 border-white dark:border-slate-900 shadow-sm hidden sm:block"})]}),f.jsxs("div",{className:"hidden lg:flex flex-col min-w-0 max-w-[120px]",children:[f.jsx("span",{className:"text-xs font-black text-slate-800 dark:text-white uppercase tracking-tight leading-none truncate",children:((x=n==null?void 0:n.displayName)==null?void 0:x.split(" ")[0])||"Admin"}),f.jsx("span",{className:"text-[10px] font-bold text-slate-400 dark:text-slate-500 truncate",children:(n==null?void 0:n.role)||"Manager"})]})]})]})},rte=()=>{const{toasts:t}=vn();return f.jsx("div",{className:"fixed bottom-8 right-8 z-[1000] flex flex-col gap-3 pointer-events-none",children:t.map(e=>f.jsxs("div",{className:`
                        pointer-events-auto
                        flex items-center gap-4 px-6 py-4 rounded-2xl shadow-2xl backdrop-blur-md
                        animate-in slide-in-from-right-8 fade-in duration-300
                        ${e.type==="success"?"bg-emerald-500/90 text-white":e.type==="error"?"bg-red-500/90 text-white":"bg-slate-800/90 text-white"}
                    `,children:[f.jsxs("div",{className:"flex-shrink-0",children:[e.type==="success"&&f.jsx(uL,{className:"w-6 h-6"}),e.type==="error"&&f.jsx(Uq,{className:"w-6 h-6"}),e.type==="info"&&f.jsx(dL,{className:"w-6 h-6"})]}),f.jsx("div",{className:"flex-1",children:f.jsx("p",{className:"font-bold text-sm",children:e.message})})]},e.id))})},Wu=({children:t,title:e})=>{const{isSidebarCollapsed:n,isMobileMenuOpen:r,closeMobileMenu:i,brand:a}=vn();return f.jsxs("div",{className:"flex h-screen bg-transparent font-sans transition-colors duration-300",children:[r&&f.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-30 lg:hidden animate-in fade-in duration-300",onClick:i}),f.jsx(tte,{}),f.jsxs("div",{className:"flex-1 flex flex-col min-h-screen transition-all duration-300",children:[f.jsx(nte,{title:e||"Dashboard"}),f.jsx("main",{className:`flex-1 p-4 md:p-8 overflow-y-auto ${a.hideHeader?"lg:pt-8":""} overflow-x-hidden`,children:f.jsx("div",{className:"max-w-7xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:t})}),f.jsx(rte,{})]})]})};function T6(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=T6(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function it(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=T6(t))&&(r&&(r+=" "),r+=e);return r}var ite=Array.isArray,wr=ite,ate=typeof Yp=="object"&&Yp&&Yp.Object===Object&&Yp,P6=ate,ste=P6,ote=typeof self=="object"&&self&&self.Object===Object&&self,lte=ste||ote||Function("return this")(),ga=lte,cte=ga,ute=cte.Symbol,Sp=ute,CO=Sp,N6=Object.prototype,dte=N6.hasOwnProperty,fte=N6.toString,Ad=CO?CO.toStringTag:void 0;function hte(t){var e=dte.call(t,Ad),n=t[Ad];try{t[Ad]=void 0;var r=!0}catch{}var i=fte.call(t);return r&&(e?t[Ad]=n:delete t[Ad]),i}var pte=hte,mte=Object.prototype,gte=mte.toString;function yte(t){return gte.call(t)}var vte=yte,jO=Sp,xte=pte,bte=vte,wte="[object Null]",_te="[object Undefined]",RO=jO?jO.toStringTag:void 0;function Ste(t){return t==null?t===void 0?_te:wte:RO&&RO in Object(t)?xte(t):bte(t)}var as=Ste;function kte(t){return t!=null&&typeof t=="object"}var ss=kte,Ete=as,Tte=ss,Pte="[object Symbol]";function Nte(t){return typeof t=="symbol"||Tte(t)&&Ete(t)==Pte}var Hu=Nte,Ate=wr,Ite=Hu,Ote=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Cte=/^\w*$/;function jte(t,e){if(Ate(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Ite(t)?!0:Cte.test(t)||!Ote.test(t)||e!=null&&t in Object(e)}var kT=jte;function Rte(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var So=Rte;const Gu=vt(So);var Mte=as,$te=So,Dte="[object AsyncFunction]",Lte="[object Function]",Fte="[object GeneratorFunction]",Vte="[object Proxy]";function Ute(t){if(!$te(t))return!1;var e=Mte(t);return e==Lte||e==Fte||e==Dte||e==Vte}var ET=Ute;const qe=vt(ET);var Bte=ga,zte=Bte["__core-js_shared__"],qte=zte,Xb=qte,MO=function(){var t=/[^.]+$/.exec(Xb&&Xb.keys&&Xb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Wte(t){return!!MO&&MO in t}var Hte=Wte,Gte=Function.prototype,Kte=Gte.toString;function Yte(t){if(t!=null){try{return Kte.call(t)}catch{}try{return t+""}catch{}}return""}var A6=Yte,Qte=ET,Xte=Hte,Jte=So,Zte=A6,ene=/[\\^$.*+?()[\]{}|]/g,tne=/^\[object .+?Constructor\]$/,nne=Function.prototype,rne=Object.prototype,ine=nne.toString,ane=rne.hasOwnProperty,sne=RegExp("^"+ine.call(ane).replace(ene,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function one(t){if(!Jte(t)||Xte(t))return!1;var e=Qte(t)?sne:tne;return e.test(Zte(t))}var lne=one;function cne(t,e){return t==null?void 0:t[e]}var une=cne,dne=lne,fne=une;function hne(t,e){var n=fne(t,e);return dne(n)?n:void 0}var $l=hne,pne=$l,mne=pne(Object,"create"),Gv=mne,$O=Gv;function gne(){this.__data__=$O?$O(null):{},this.size=0}var yne=gne;function vne(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var xne=vne,bne=Gv,wne="__lodash_hash_undefined__",_ne=Object.prototype,Sne=_ne.hasOwnProperty;function kne(t){var e=this.__data__;if(bne){var n=e[t];return n===wne?void 0:n}return Sne.call(e,t)?e[t]:void 0}var Ene=kne,Tne=Gv,Pne=Object.prototype,Nne=Pne.hasOwnProperty;function Ane(t){var e=this.__data__;return Tne?e[t]!==void 0:Nne.call(e,t)}var Ine=Ane,One=Gv,Cne="__lodash_hash_undefined__";function jne(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=One&&e===void 0?Cne:e,this}var Rne=jne,Mne=yne,$ne=xne,Dne=Ene,Lne=Ine,Fne=Rne;function Ku(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ku.prototype.clear=Mne;Ku.prototype.delete=$ne;Ku.prototype.get=Dne;Ku.prototype.has=Lne;Ku.prototype.set=Fne;var Vne=Ku;function Une(){this.__data__=[],this.size=0}var Bne=Une;function zne(t,e){return t===e||t!==t&&e!==e}var TT=zne,qne=TT;function Wne(t,e){for(var n=t.length;n--;)if(qne(t[n][0],e))return n;return-1}var Kv=Wne,Hne=Kv,Gne=Array.prototype,Kne=Gne.splice;function Yne(t){var e=this.__data__,n=Hne(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Kne.call(e,n,1),--this.size,!0}var Qne=Yne,Xne=Kv;function Jne(t){var e=this.__data__,n=Xne(e,t);return n<0?void 0:e[n][1]}var Zne=Jne,ere=Kv;function tre(t){return ere(this.__data__,t)>-1}var nre=tre,rre=Kv;function ire(t,e){var n=this.__data__,r=rre(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var are=ire,sre=Bne,ore=Qne,lre=Zne,cre=nre,ure=are;function Yu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yu.prototype.clear=sre;Yu.prototype.delete=ore;Yu.prototype.get=lre;Yu.prototype.has=cre;Yu.prototype.set=ure;var Yv=Yu,dre=$l,fre=ga,hre=dre(fre,"Map"),PT=hre,DO=Vne,pre=Yv,mre=PT;function gre(){this.size=0,this.__data__={hash:new DO,map:new(mre||pre),string:new DO}}var yre=gre;function vre(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var xre=vre,bre=xre;function wre(t,e){var n=t.__data__;return bre(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Qv=wre,_re=Qv;function Sre(t){var e=_re(this,t).delete(t);return this.size-=e?1:0,e}var kre=Sre,Ere=Qv;function Tre(t){return Ere(this,t).get(t)}var Pre=Tre,Nre=Qv;function Are(t){return Nre(this,t).has(t)}var Ire=Are,Ore=Qv;function Cre(t,e){var n=Ore(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var jre=Cre,Rre=yre,Mre=kre,$re=Pre,Dre=Ire,Lre=jre;function Qu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qu.prototype.clear=Rre;Qu.prototype.delete=Mre;Qu.prototype.get=$re;Qu.prototype.has=Dre;Qu.prototype.set=Lre;var NT=Qu,I6=NT,Fre="Expected a function";function AT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Fre);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(AT.Cache||I6),n}AT.Cache=I6;var O6=AT;const Vre=vt(O6);var Ure=O6,Bre=500;function zre(t){var e=Ure(t,function(r){return n.size===Bre&&n.clear(),r}),n=e.cache;return e}var qre=zre,Wre=qre,Hre=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Gre=/\\(\\)?/g,Kre=Wre(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Hre,function(n,r,i,a){e.push(i?a.replace(Gre,"$1"):r||n)}),e}),Yre=Kre;function Qre(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var IT=Qre,LO=Sp,Xre=IT,Jre=wr,Zre=Hu,FO=LO?LO.prototype:void 0,VO=FO?FO.toString:void 0;function C6(t){if(typeof t=="string")return t;if(Jre(t))return Xre(t,C6)+"";if(Zre(t))return VO?VO.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var eie=C6,tie=eie;function nie(t){return t==null?"":tie(t)}var j6=nie,rie=wr,iie=kT,aie=Yre,sie=j6;function oie(t,e){return rie(t)?t:iie(t,e)?[t]:aie(sie(t))}var R6=oie,lie=Hu;function cie(t){if(typeof t=="string"||lie(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Xv=cie,uie=R6,die=Xv;function fie(t,e){e=uie(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[die(e[n++])];return n&&n==r?t:void 0}var OT=fie,hie=OT;function pie(t,e,n){var r=t==null?void 0:hie(t,e);return r===void 0?n:r}var M6=pie;const ai=vt(M6);function mie(t){return t==null}var gie=mie;const et=vt(gie);var yie=as,vie=wr,xie=ss,bie="[object String]";function wie(t){return typeof t=="string"||!vie(t)&&xie(t)&&yie(t)==bie}var _ie=wie;const bl=vt(_ie);var $6={exports:{}},ut={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CT=Symbol.for("react.element"),jT=Symbol.for("react.portal"),Jv=Symbol.for("react.fragment"),Zv=Symbol.for("react.strict_mode"),ex=Symbol.for("react.profiler"),tx=Symbol.for("react.provider"),nx=Symbol.for("react.context"),Sie=Symbol.for("react.server_context"),rx=Symbol.for("react.forward_ref"),ix=Symbol.for("react.suspense"),ax=Symbol.for("react.suspense_list"),sx=Symbol.for("react.memo"),ox=Symbol.for("react.lazy"),kie=Symbol.for("react.offscreen"),D6;D6=Symbol.for("react.module.reference");function di(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case CT:switch(t=t.type,t){case Jv:case ex:case Zv:case ix:case ax:return t;default:switch(t=t&&t.$$typeof,t){case Sie:case nx:case rx:case ox:case sx:case tx:return t;default:return e}}case jT:return e}}}ut.ContextConsumer=nx;ut.ContextProvider=tx;ut.Element=CT;ut.ForwardRef=rx;ut.Fragment=Jv;ut.Lazy=ox;ut.Memo=sx;ut.Portal=jT;ut.Profiler=ex;ut.StrictMode=Zv;ut.Suspense=ix;ut.SuspenseList=ax;ut.isAsyncMode=function(){return!1};ut.isConcurrentMode=function(){return!1};ut.isContextConsumer=function(t){return di(t)===nx};ut.isContextProvider=function(t){return di(t)===tx};ut.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===CT};ut.isForwardRef=function(t){return di(t)===rx};ut.isFragment=function(t){return di(t)===Jv};ut.isLazy=function(t){return di(t)===ox};ut.isMemo=function(t){return di(t)===sx};ut.isPortal=function(t){return di(t)===jT};ut.isProfiler=function(t){return di(t)===ex};ut.isStrictMode=function(t){return di(t)===Zv};ut.isSuspense=function(t){return di(t)===ix};ut.isSuspenseList=function(t){return di(t)===ax};ut.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Jv||t===ex||t===Zv||t===ix||t===ax||t===kie||typeof t=="object"&&t!==null&&(t.$$typeof===ox||t.$$typeof===sx||t.$$typeof===tx||t.$$typeof===nx||t.$$typeof===rx||t.$$typeof===D6||t.getModuleId!==void 0)};ut.typeOf=di;$6.exports=ut;var Eie=$6.exports,Tie=as,Pie=ss,Nie="[object Number]";function Aie(t){return typeof t=="number"||Pie(t)&&Tie(t)==Nie}var L6=Aie;const Iie=vt(L6);var Oie=L6;function Cie(t){return Oie(t)&&t!=+t}var jie=Cie;const Xu=vt(jie);var Ti=function(e){return e===0?0:e>0?1:-1},Yo=function(e){return bl(e)&&e.indexOf("%")===e.length-1},pe=function(e){return Iie(e)&&!Xu(e)},Rie=function(e){return et(e)},ln=function(e){return pe(e)||bl(e)},Mie=0,kp=function(e){var n=++Mie;return"".concat(e||"").concat(n)},wl=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pe(e)&&!bl(e))return r;var a;if(Yo(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return Xu(a)&&(a=r),i&&a>n&&(a=n),a},Os=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},$ie=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Yr=function(e,n){return pe(e)&&pe(n)?function(r){return e+r*(n-e)}:function(){return n}};function w0(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ai(r,e))===n})}var Die=function(e,n){return pe(e)&&pe(n)?e-n:bl(e)&&bl(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Mc(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function f_(t){"@babel/helpers - typeof";return f_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f_(t)}var Lie=["viewBox","children"],Fie=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],UO=["points","pathLength"],Jb={svg:Lie,polygon:UO,polyline:UO},RT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],_0=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(R.isValidElement(e)&&(r=e.props),!Gu(r))return null;var i={};return Object.keys(r).forEach(function(a){RT.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},Vie=function(e,n,r){return function(i){return e(n,r,i),null}},S0=function(e,n,r){if(!Gu(e)||f_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];RT.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=Vie(s,n,r))}),i},Uie=["children"],Bie=["children"];function BO(t,e){if(t==null)return{};var n=zie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function h_(t){"@babel/helpers - typeof";return h_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h_(t)}var zO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Va=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},qO=null,Zb=null,MT=function t(e){if(e===qO&&Array.isArray(Zb))return Zb;var n=[];return R.Children.forEach(e,function(r){et(r)||(Eie.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Zb=n,qO=e,n};function ji(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Va(i)}):r=[Va(e)],MT(t).forEach(function(i){var a=ai(i,"type.displayName")||ai(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Tr(t,e){var n=ji(t,e);return n&&n[0]}var WO=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!pe(r)||r<=0||!pe(i)||i<=0)},qie=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Wie=function(e){return e&&e.type&&bl(e.type)&&qie.indexOf(e.type)>=0},Hie=function(e){return e&&h_(e)==="object"&&"clipDot"in e},Gie=function(e,n,r,i){var a,s=(a=Jb==null?void 0:Jb[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!qe(e)&&(i&&s.includes(n)||Fie.includes(n))||r&&RT.includes(n)},Ye=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(R.isValidElement(e)&&(i=e.props),!Gu(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;Gie((o=i)===null||o===void 0?void 0:o[s],s,n,r)&&(a[s]=i[s])}),a},p_=function t(e,n){if(e===n)return!0;var r=R.Children.count(e);if(r!==R.Children.count(n))return!1;if(r===0)return!0;if(r===1)return HO(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!HO(a,s))return!1}return!0},HO=function(e,n){if(et(e)&&et(n))return!0;if(!et(e)&&!et(n)){var r=e.props||{},i=r.children,a=BO(r,Uie),s=n.props||{},o=s.children,l=BO(s,Bie);return i&&o?Mc(a,l)&&p_(i,o):!i&&!o?Mc(a,l):!1}return!1},GO=function(e,n){var r=[],i={};return MT(e).forEach(function(a,s){if(Wie(a))r.push(a);else if(a){var o=Va(a.type),l=n[o]||{},c=l.handler,u=l.once;if(c&&(!u||!i[o])){var d=c(a,o,s);r.push(d),i[o]=!0}}}),r},Kie=function(e){var n=e&&e.type;return n&&zO[n]?zO[n]:null},Yie=function(e,n){return MT(n).indexOf(e)},Qie=["children","width","height","viewBox","className","style","title","desc"];function m_(){return m_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m_.apply(this,arguments)}function Xie(t,e){if(t==null)return{};var n=Jie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function g_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,c=Xie(t,Qie),u=i||{width:n,height:r,x:0,y:0},d=it("recharts-surface",a);return z.createElement("svg",m_({},Ye(c,!0,"svg"),{className:d,width:n,height:r,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),z.createElement("title",null,o),z.createElement("desc",null,l),e)}var Zie=["children","className"];function y_(){return y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y_.apply(this,arguments)}function eae(t,e){if(t==null)return{};var n=tae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var jt=z.forwardRef(function(t,e){var n=t.children,r=t.className,i=eae(t,Zie),a=it("recharts-layer",r);return z.createElement("g",y_({className:a},Ye(i,!0),{ref:e}),n)}),Ua=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function nae(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var rae=nae,iae=rae;function aae(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:iae(t,e,n)}var sae=aae,oae="\\ud800-\\udfff",lae="\\u0300-\\u036f",cae="\\ufe20-\\ufe2f",uae="\\u20d0-\\u20ff",dae=lae+cae+uae,fae="\\ufe0e\\ufe0f",hae="\\u200d",pae=RegExp("["+hae+oae+dae+fae+"]");function mae(t){return pae.test(t)}var F6=mae;function gae(t){return t.split("")}var yae=gae,V6="\\ud800-\\udfff",vae="\\u0300-\\u036f",xae="\\ufe20-\\ufe2f",bae="\\u20d0-\\u20ff",wae=vae+xae+bae,_ae="\\ufe0e\\ufe0f",Sae="["+V6+"]",v_="["+wae+"]",x_="\\ud83c[\\udffb-\\udfff]",kae="(?:"+v_+"|"+x_+")",U6="[^"+V6+"]",B6="(?:\\ud83c[\\udde6-\\uddff]){2}",z6="[\\ud800-\\udbff][\\udc00-\\udfff]",Eae="\\u200d",q6=kae+"?",W6="["+_ae+"]?",Tae="(?:"+Eae+"(?:"+[U6,B6,z6].join("|")+")"+W6+q6+")*",Pae=W6+q6+Tae,Nae="(?:"+[U6+v_+"?",v_,B6,z6,Sae].join("|")+")",Aae=RegExp(x_+"(?="+x_+")|"+Nae+Pae,"g");function Iae(t){return t.match(Aae)||[]}var Oae=Iae,Cae=yae,jae=F6,Rae=Oae;function Mae(t){return jae(t)?Rae(t):Cae(t)}var $ae=Mae,Dae=sae,Lae=F6,Fae=$ae,Vae=j6;function Uae(t){return function(e){e=Vae(e);var n=Lae(e)?Fae(e):void 0,r=n?n[0]:e.charAt(0),i=n?Dae(n,1).join(""):e.slice(1);return r[t]()+i}}var Bae=Uae,zae=Bae,qae=zae("toUpperCase"),Wae=qae;const lx=vt(Wae);function xt(t){return function(){return t}}const H6=Math.cos,k0=Math.sin,Di=Math.sqrt,E0=Math.PI,cx=2*E0,b_=Math.PI,w_=2*b_,Fo=1e-6,Hae=w_-Fo;function G6(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Gae(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return G6;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Kae{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?G6:Gae(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,c=i-n,u=s-e,d=o-n,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Fo)if(!(Math.abs(d*l-c*u)>Fo)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,g=i-o,y=l*l+c*c,v=p*p+g*g,x=Math.sqrt(y),b=Math.sqrt(h),w=a*Math.tan((b_-Math.acos((y+h-v)/(2*x*b)))/2),S=w/b,k=w/x;Math.abs(S-1)>Fo&&this._append`L${e+S*u},${n+S*d}`,this._append`A${a},${a},0,0,${+(d*p>u*g)},${this._x1=e+k*l},${this._y1=n+k*c}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,u=n+l,d=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Fo||Math.abs(this._y1-u)>Fo)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%w_+w_),h>Hae?this._append`A${r},${r},0,1,${d},${e-o},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:h>Fo&&this._append`A${r},${r},0,${+(h>=b_)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function $T(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Kae(e)}function DT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function K6(t){this._context=t}K6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ux(t){return new K6(t)}function Y6(t){return t[0]}function Q6(t){return t[1]}function X6(t,e){var n=xt(!0),r=null,i=ux,a=null,s=$T(o);t=typeof t=="function"?t:t===void 0?Y6:xt(t),e=typeof e=="function"?e:e===void 0?Q6:xt(e);function o(l){var c,u=(l=DT(l)).length,d,h=!1,p;for(r==null&&(a=i(p=s())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(d,c,l),+e(d,c,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:xt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:xt(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:xt(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function wm(t,e,n){var r=null,i=xt(!0),a=null,s=ux,o=null,l=$T(c);t=typeof t=="function"?t:t===void 0?Y6:xt(+t),e=typeof e=="function"?e:xt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Q6:xt(+n);function c(d){var h,p,g,y=(d=DT(d)).length,v,x=!1,b,w=new Array(y),S=new Array(y);for(a==null&&(o=s(b=l())),h=0;h<=y;++h){if(!(h<y&&i(v=d[h],h,d))===x)if(x=!x)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(w[g],S[g]);o.lineEnd(),o.areaEnd()}x&&(w[h]=+t(v,h,d),S[h]=+e(v,h,d),o.point(r?+r(v,h,d):w[h],n?+n(v,h,d):S[h]))}if(b)return o=null,b+""||null}function u(){return X6().defined(i).curve(s).context(a)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:xt(+d),r=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:xt(+d),c):t},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:xt(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:xt(+d),n=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:xt(+d),c):e},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:xt(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:xt(!!d),c):i},c.curve=function(d){return arguments.length?(s=d,a!=null&&(o=s(a)),c):s},c.context=function(d){return arguments.length?(d==null?a=o=null:o=s(a=d),c):a},c}class J6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Yae(t){return new J6(t,!0)}function Qae(t){return new J6(t,!1)}const LT={draw(t,e){const n=Di(e/E0);t.moveTo(n,0),t.arc(0,0,n,0,cx)}},Xae={draw(t,e){const n=Di(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Z6=Di(1/3),Jae=Z6*2,Zae={draw(t,e){const n=Di(e/Jae),r=n*Z6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},ese={draw(t,e){const n=Di(e),r=-n/2;t.rect(r,r,n,n)}},tse=.8908130915292852,eF=k0(E0/10)/k0(7*E0/10),nse=k0(cx/10)*eF,rse=-H6(cx/10)*eF,ise={draw(t,e){const n=Di(e*tse),r=nse*n,i=rse*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=cx*a/5,o=H6(s),l=k0(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},ew=Di(3),ase={draw(t,e){const n=-Di(e/(ew*3));t.moveTo(0,n*2),t.lineTo(-ew*n,-n),t.lineTo(ew*n,-n),t.closePath()}},zr=-.5,qr=Di(3)/2,__=1/Di(12),sse=(__/2+1)*3,ose={draw(t,e){const n=Di(e/sse),r=n/2,i=n*__,a=r,s=n*__+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(zr*r-qr*i,qr*r+zr*i),t.lineTo(zr*a-qr*s,qr*a+zr*s),t.lineTo(zr*o-qr*l,qr*o+zr*l),t.lineTo(zr*r+qr*i,zr*i-qr*r),t.lineTo(zr*a+qr*s,zr*s-qr*a),t.lineTo(zr*o+qr*l,zr*l-qr*o),t.closePath()}};function lse(t,e){let n=null,r=$T(i);t=typeof t=="function"?t:xt(t||LT),e=typeof e=="function"?e:xt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:xt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:xt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function T0(){}function P0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function tF(t){this._context=t}tF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:P0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:P0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cse(t){return new tF(t)}function nF(t){this._context=t}nF.prototype={areaStart:T0,areaEnd:T0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:P0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function use(t){return new nF(t)}function rF(t){this._context=t}rF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:P0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dse(t){return new rF(t)}function iF(t){this._context=t}iF.prototype={areaStart:T0,areaEnd:T0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function fse(t){return new iF(t)}function KO(t){return t<0?-1:1}function YO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(KO(a)+KO(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function QO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function tw(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function N0(t){this._context=t}N0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tw(this,this._t0,QO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,tw(this,QO(this,n=YO(this,t,e)),n);break;default:tw(this,this._t0,n=YO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function aF(t){this._context=new sF(t)}(aF.prototype=Object.create(N0.prototype)).point=function(t,e){N0.prototype.point.call(this,e,t)};function sF(t){this._context=t}sF.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function hse(t){return new N0(t)}function pse(t){return new aF(t)}function oF(t){this._context=t}oF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=XO(t),i=XO(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function XO(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function mse(t){return new oF(t)}function dx(t,e){this._context=t,this._t=e}dx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function gse(t){return new dx(t,.5)}function yse(t){return new dx(t,0)}function vse(t){return new dx(t,1)}function iu(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function S_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function xse(t,e){return t[e]}function bse(t){const e=[];return e.key=t,e}function wse(){var t=xt([]),e=S_,n=iu,r=xse;function i(a){var s=Array.from(t.apply(this,arguments),bse),o,l=s.length,c=-1,u;for(const d of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(d,s[o].key,c,a)]).data=d;for(o=0,u=DT(e(s));o<l;++o)s[u[o]].index=o;return n(s,u),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:xt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:xt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?S_:typeof a=="function"?a:xt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??iu,i):n},i}function _se(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}iu(t,e)}}function Sse(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}iu(t,e)}}function kse(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var u=t[e[o]],d=u[r][1]||0,h=u[r-1][1]||0,p=(d-h)/2,g=0;g<o;++g){var y=t[e[g]],v=y[r][1]||0,x=y[r-1][1]||0;p+=v-x}l+=d,c+=p*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,iu(t,e)}}function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}var Ese=["type","size","sizeType"];function k_(){return k_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k_.apply(this,arguments)}function JO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JO(Object(n),!0).forEach(function(r){Tse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tse(t,e,n){return e=Pse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pse(t){var e=Nse(t,"string");return hh(e)=="symbol"?e:e+""}function Nse(t,e){if(hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ase(t,e){if(t==null)return{};var n=Ise(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ise(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var lF={symbolCircle:LT,symbolCross:Xae,symbolDiamond:Zae,symbolSquare:ese,symbolStar:ise,symbolTriangle:ase,symbolWye:ose},Ose=Math.PI/180,Cse=function(e){var n="symbol".concat(lx(e));return lF[n]||LT},jse=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Ose;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Rse=function(e,n){lF["symbol".concat(lx(e))]=n},FT=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=Ase(e,Ese),c=ZO(ZO({},l),{},{type:r,size:a,sizeType:o}),u=function(){var v=Cse(r),x=lse().type(v).size(jse(a,o,r));return x()},d=c.className,h=c.cx,p=c.cy,g=Ye(c,!0);return h===+h&&p===+p&&a===+a?z.createElement("path",k_({},g,{className:it("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};FT.registerSymbol=Rse;function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function E_(){return E_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E_.apply(this,arguments)}function eC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eC(Object(n),!0).forEach(function(r){ph(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $se(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uF(r.key),r)}}function Lse(t,e,n){return e&&Dse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fse(t,e,n){return e=A0(e),Vse(t,cF()?Reflect.construct(e,n||[],A0(t).constructor):e.apply(t,n))}function Vse(t,e){if(e&&(au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Use(t)}function Use(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cF=function(){return!!t})()}function A0(t){return A0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},A0(t)}function Bse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T_(t,e)}function T_(t,e){return T_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},T_(t,e)}function ph(t,e,n){return e=uF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uF(t){var e=zse(t,"string");return au(e)=="symbol"?e:e+""}function zse(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wr=32,VT=function(t){function e(){return $se(this,e),Fse(this,e,arguments)}return Bse(e,t),Lse(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Wr/2,s=Wr/6,o=Wr/3,l=r.inactive?i:r.color;if(r.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Wr,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Wr,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return z.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Wr/8,"h").concat(Wr,"v").concat(Wr*3/4,"h").concat(-Wr,"z"),className:"recharts-legend-icon"});if(z.isValidElement(r.legendIcon)){var c=Mse({},r);return delete c.legendIcon,z.cloneElement(r.legendIcon,c)}return z.createElement(FT,{fill:l,cx:a,cy:a,size:Wr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Wr,height:Wr},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,g){var y=p.formatter||l,v=it(ph(ph({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=qe(p.value)?null:p.value;Ua(!qe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?c:p.color;return z.createElement("li",E_({className:v,style:d,key:"legend-item-".concat(g)},S0(r.props,p,g)),z.createElement(g_,{width:s,height:s,viewBox:u,style:h},r.renderIcon(p)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},y?y(x,p,g):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(R.PureComponent);ph(VT,"displayName","Legend");ph(VT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var qse=Yv;function Wse(){this.__data__=new qse,this.size=0}var Hse=Wse;function Gse(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Kse=Gse;function Yse(t){return this.__data__.get(t)}var Qse=Yse;function Xse(t){return this.__data__.has(t)}var Jse=Xse,Zse=Yv,eoe=PT,toe=NT,noe=200;function roe(t,e){var n=this.__data__;if(n instanceof Zse){var r=n.__data__;if(!eoe||r.length<noe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new toe(r)}return n.set(t,e),this.size=n.size,this}var ioe=roe,aoe=Yv,soe=Hse,ooe=Kse,loe=Qse,coe=Jse,uoe=ioe;function Ju(t){var e=this.__data__=new aoe(t);this.size=e.size}Ju.prototype.clear=soe;Ju.prototype.delete=ooe;Ju.prototype.get=loe;Ju.prototype.has=coe;Ju.prototype.set=uoe;var dF=Ju,doe="__lodash_hash_undefined__";function foe(t){return this.__data__.set(t,doe),this}var hoe=foe;function poe(t){return this.__data__.has(t)}var moe=poe,goe=NT,yoe=hoe,voe=moe;function I0(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new goe;++e<n;)this.add(t[e])}I0.prototype.add=I0.prototype.push=yoe;I0.prototype.has=voe;var fF=I0;function xoe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var hF=xoe;function boe(t,e){return t.has(e)}var pF=boe,woe=fF,_oe=hF,Soe=pF,koe=1,Eoe=2;function Toe(t,e,n,r,i,a){var s=n&koe,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var d=-1,h=!0,p=n&Eoe?new woe:void 0;for(a.set(t,e),a.set(e,t);++d<o;){var g=t[d],y=e[d];if(r)var v=s?r(y,g,d,e,t,a):r(g,y,d,t,e,a);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!_oe(e,function(x,b){if(!Soe(p,b)&&(g===x||i(g,x,n,r,a)))return p.push(b)})){h=!1;break}}else if(!(g===y||i(g,y,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var mF=Toe,Poe=ga,Noe=Poe.Uint8Array,Aoe=Noe;function Ioe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Ooe=Ioe;function Coe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var UT=Coe,tC=Sp,nC=Aoe,joe=TT,Roe=mF,Moe=Ooe,$oe=UT,Doe=1,Loe=2,Foe="[object Boolean]",Voe="[object Date]",Uoe="[object Error]",Boe="[object Map]",zoe="[object Number]",qoe="[object RegExp]",Woe="[object Set]",Hoe="[object String]",Goe="[object Symbol]",Koe="[object ArrayBuffer]",Yoe="[object DataView]",rC=tC?tC.prototype:void 0,nw=rC?rC.valueOf:void 0;function Qoe(t,e,n,r,i,a,s){switch(n){case Yoe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Koe:return!(t.byteLength!=e.byteLength||!a(new nC(t),new nC(e)));case Foe:case Voe:case zoe:return joe(+t,+e);case Uoe:return t.name==e.name&&t.message==e.message;case qoe:case Hoe:return t==e+"";case Boe:var o=Moe;case Woe:var l=r&Doe;if(o||(o=$oe),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=Loe,s.set(t,e);var u=Roe(o(t),o(e),r,i,a,s);return s.delete(t),u;case Goe:if(nw)return nw.call(t)==nw.call(e)}return!1}var Xoe=Qoe;function Joe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var gF=Joe,Zoe=gF,ele=wr;function tle(t,e,n){var r=e(t);return ele(t)?r:Zoe(r,n(t))}var nle=tle;function rle(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var ile=rle;function ale(){return[]}var sle=ale,ole=ile,lle=sle,cle=Object.prototype,ule=cle.propertyIsEnumerable,iC=Object.getOwnPropertySymbols,dle=iC?function(t){return t==null?[]:(t=Object(t),ole(iC(t),function(e){return ule.call(t,e)}))}:lle,fle=dle;function hle(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var ple=hle,mle=as,gle=ss,yle="[object Arguments]";function vle(t){return gle(t)&&mle(t)==yle}var xle=vle,aC=xle,ble=ss,yF=Object.prototype,wle=yF.hasOwnProperty,_le=yF.propertyIsEnumerable,Sle=aC(function(){return arguments}())?aC:function(t){return ble(t)&&wle.call(t,"callee")&&!_le.call(t,"callee")},BT=Sle,O0={exports:{}};function kle(){return!1}var Ele=kle;O0.exports;(function(t,e){var n=ga,r=Ele,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(O0,O0.exports);var vF=O0.exports,Tle=9007199254740991,Ple=/^(?:0|[1-9]\d*)$/;function Nle(t,e){var n=typeof t;return e=e??Tle,!!e&&(n=="number"||n!="symbol"&&Ple.test(t))&&t>-1&&t%1==0&&t<e}var zT=Nle,Ale=9007199254740991;function Ile(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Ale}var qT=Ile,Ole=as,Cle=qT,jle=ss,Rle="[object Arguments]",Mle="[object Array]",$le="[object Boolean]",Dle="[object Date]",Lle="[object Error]",Fle="[object Function]",Vle="[object Map]",Ule="[object Number]",Ble="[object Object]",zle="[object RegExp]",qle="[object Set]",Wle="[object String]",Hle="[object WeakMap]",Gle="[object ArrayBuffer]",Kle="[object DataView]",Yle="[object Float32Array]",Qle="[object Float64Array]",Xle="[object Int8Array]",Jle="[object Int16Array]",Zle="[object Int32Array]",ece="[object Uint8Array]",tce="[object Uint8ClampedArray]",nce="[object Uint16Array]",rce="[object Uint32Array]",Et={};Et[Yle]=Et[Qle]=Et[Xle]=Et[Jle]=Et[Zle]=Et[ece]=Et[tce]=Et[nce]=Et[rce]=!0;Et[Rle]=Et[Mle]=Et[Gle]=Et[$le]=Et[Kle]=Et[Dle]=Et[Lle]=Et[Fle]=Et[Vle]=Et[Ule]=Et[Ble]=Et[zle]=Et[qle]=Et[Wle]=Et[Hle]=!1;function ice(t){return jle(t)&&Cle(t.length)&&!!Et[Ole(t)]}var ace=ice;function sce(t){return function(e){return t(e)}}var xF=sce,C0={exports:{}};C0.exports;(function(t,e){var n=P6,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(C0,C0.exports);var oce=C0.exports,lce=ace,cce=xF,sC=oce,oC=sC&&sC.isTypedArray,uce=oC?cce(oC):lce,bF=uce,dce=ple,fce=BT,hce=wr,pce=vF,mce=zT,gce=bF,yce=Object.prototype,vce=yce.hasOwnProperty;function xce(t,e){var n=hce(t),r=!n&&fce(t),i=!n&&!r&&pce(t),a=!n&&!r&&!i&&gce(t),s=n||r||i||a,o=s?dce(t.length,String):[],l=o.length;for(var c in t)(e||vce.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||mce(c,l)))&&o.push(c);return o}var bce=xce,wce=Object.prototype;function _ce(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||wce;return t===n}var Sce=_ce;function kce(t,e){return function(n){return t(e(n))}}var wF=kce,Ece=wF,Tce=Ece(Object.keys,Object),Pce=Tce,Nce=Sce,Ace=Pce,Ice=Object.prototype,Oce=Ice.hasOwnProperty;function Cce(t){if(!Nce(t))return Ace(t);var e=[];for(var n in Object(t))Oce.call(t,n)&&n!="constructor"&&e.push(n);return e}var jce=Cce,Rce=ET,Mce=qT;function $ce(t){return t!=null&&Mce(t.length)&&!Rce(t)}var Ep=$ce,Dce=bce,Lce=jce,Fce=Ep;function Vce(t){return Fce(t)?Dce(t):Lce(t)}var fx=Vce,Uce=nle,Bce=fle,zce=fx;function qce(t){return Uce(t,zce,Bce)}var Wce=qce,lC=Wce,Hce=1,Gce=Object.prototype,Kce=Gce.hasOwnProperty;function Yce(t,e,n,r,i,a){var s=n&Hce,o=lC(t),l=o.length,c=lC(e),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var h=o[d];if(!(s?h in e:Kce.call(e,h)))return!1}var p=a.get(t),g=a.get(e);if(p&&g)return p==e&&g==t;var y=!0;a.set(t,e),a.set(e,t);for(var v=s;++d<l;){h=o[d];var x=t[h],b=e[h];if(r)var w=s?r(b,x,h,e,t,a):r(x,b,h,t,e,a);if(!(w===void 0?x===b||i(x,b,n,r,a):w)){y=!1;break}v||(v=h=="constructor")}if(y&&!v){var S=t.constructor,k=e.constructor;S!=k&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof k=="function"&&k instanceof k)&&(y=!1)}return a.delete(t),a.delete(e),y}var Qce=Yce,Xce=$l,Jce=ga,Zce=Xce(Jce,"DataView"),eue=Zce,tue=$l,nue=ga,rue=tue(nue,"Promise"),iue=rue,aue=$l,sue=ga,oue=aue(sue,"Set"),_F=oue,lue=$l,cue=ga,uue=lue(cue,"WeakMap"),due=uue,P_=eue,N_=PT,A_=iue,I_=_F,O_=due,SF=as,Zu=A6,cC="[object Map]",fue="[object Object]",uC="[object Promise]",dC="[object Set]",fC="[object WeakMap]",hC="[object DataView]",hue=Zu(P_),pue=Zu(N_),mue=Zu(A_),gue=Zu(I_),yue=Zu(O_),Vo=SF;(P_&&Vo(new P_(new ArrayBuffer(1)))!=hC||N_&&Vo(new N_)!=cC||A_&&Vo(A_.resolve())!=uC||I_&&Vo(new I_)!=dC||O_&&Vo(new O_)!=fC)&&(Vo=function(t){var e=SF(t),n=e==fue?t.constructor:void 0,r=n?Zu(n):"";if(r)switch(r){case hue:return hC;case pue:return cC;case mue:return uC;case gue:return dC;case yue:return fC}return e});var vue=Vo,rw=dF,xue=mF,bue=Xoe,wue=Qce,pC=vue,mC=wr,gC=vF,_ue=bF,Sue=1,yC="[object Arguments]",vC="[object Array]",_m="[object Object]",kue=Object.prototype,xC=kue.hasOwnProperty;function Eue(t,e,n,r,i,a){var s=mC(t),o=mC(e),l=s?vC:pC(t),c=o?vC:pC(e);l=l==yC?_m:l,c=c==yC?_m:c;var u=l==_m,d=c==_m,h=l==c;if(h&&gC(t)){if(!gC(e))return!1;s=!0,u=!1}if(h&&!u)return a||(a=new rw),s||_ue(t)?xue(t,e,n,r,i,a):bue(t,e,l,n,r,i,a);if(!(n&Sue)){var p=u&&xC.call(t,"__wrapped__"),g=d&&xC.call(e,"__wrapped__");if(p||g){var y=p?t.value():t,v=g?e.value():e;return a||(a=new rw),i(y,v,n,r,a)}}return h?(a||(a=new rw),wue(t,e,n,r,i,a)):!1}var Tue=Eue,Pue=Tue,bC=ss;function kF(t,e,n,r,i){return t===e?!0:t==null||e==null||!bC(t)&&!bC(e)?t!==t&&e!==e:Pue(t,e,n,r,kF,i)}var WT=kF,Nue=dF,Aue=WT,Iue=1,Oue=2;function Cue(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null)return!a;for(t=Object(t);i--;){var o=n[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=n[i];var l=o[0],c=t[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in t))return!1}else{var d=new Nue;if(r)var h=r(c,u,l,t,e,d);if(!(h===void 0?Aue(u,c,Iue|Oue,r,d):h))return!1}}return!0}var jue=Cue,Rue=So;function Mue(t){return t===t&&!Rue(t)}var EF=Mue,$ue=EF,Due=fx;function Lue(t){for(var e=Due(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,$ue(i)]}return e}var Fue=Lue;function Vue(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var TF=Vue,Uue=jue,Bue=Fue,zue=TF;function que(t){var e=Bue(t);return e.length==1&&e[0][2]?zue(e[0][0],e[0][1]):function(n){return n===t||Uue(n,t,e)}}var Wue=que;function Hue(t,e){return t!=null&&e in Object(t)}var Gue=Hue,Kue=R6,Yue=BT,Que=wr,Xue=zT,Jue=qT,Zue=Xv;function ede(t,e,n){e=Kue(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=Zue(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&Jue(i)&&Xue(s,i)&&(Que(t)||Yue(t)))}var tde=ede,nde=Gue,rde=tde;function ide(t,e){return t!=null&&rde(t,e,nde)}var ade=ide,sde=WT,ode=M6,lde=ade,cde=kT,ude=EF,dde=TF,fde=Xv,hde=1,pde=2;function mde(t,e){return cde(t)&&ude(e)?dde(fde(t),e):function(n){var r=ode(n,t);return r===void 0&&r===e?lde(n,t):sde(e,r,hde|pde)}}var gde=mde;function yde(t){return t}var ed=yde;function vde(t){return function(e){return e==null?void 0:e[t]}}var xde=vde,bde=OT;function wde(t){return function(e){return bde(e,t)}}var _de=wde,Sde=xde,kde=_de,Ede=kT,Tde=Xv;function Pde(t){return Ede(t)?Sde(Tde(t)):kde(t)}var Nde=Pde,Ade=Wue,Ide=gde,Ode=ed,Cde=wr,jde=Nde;function Rde(t){return typeof t=="function"?t:t==null?Ode:typeof t=="object"?Cde(t)?Ide(t[0],t[1]):Ade(t):jde(t)}var ko=Rde;function Mde(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var PF=Mde;function $de(t){return t!==t}var Dde=$de;function Lde(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Fde=Lde,Vde=PF,Ude=Dde,Bde=Fde;function zde(t,e,n){return e===e?Bde(t,e,n):Vde(t,Ude,n)}var qde=zde,Wde=qde;function Hde(t,e){var n=t==null?0:t.length;return!!n&&Wde(t,e,0)>-1}var Gde=Hde;function Kde(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Yde=Kde;function Qde(){}var Xde=Qde,iw=_F,Jde=Xde,Zde=UT,efe=1/0,tfe=iw&&1/Zde(new iw([,-0]))[1]==efe?function(t){return new iw(t)}:Jde,nfe=tfe,rfe=fF,ife=Gde,afe=Yde,sfe=pF,ofe=nfe,lfe=UT,cfe=200;function ufe(t,e,n){var r=-1,i=ife,a=t.length,s=!0,o=[],l=o;if(n)s=!1,i=afe;else if(a>=cfe){var c=e?null:ofe(t);if(c)return lfe(c);s=!1,i=sfe,l=new rfe}else l=e?[]:o;e:for(;++r<a;){var u=t[r],d=e?e(u):u;if(u=n||u!==0?u:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),o.push(u)}else i(l,d,n)||(l!==o&&l.push(d),o.push(u))}return o}var dfe=ufe,ffe=ko,hfe=dfe;function pfe(t,e){return t&&t.length?hfe(t,ffe(e)):[]}var mfe=pfe;const wC=vt(mfe);function NF(t,e,n){return e===!0?wC(t,n):qe(e)?wC(t,e):t}function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}var gfe=["ref"];function _C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_C(Object(n),!0).forEach(function(r){hx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IF(r.key),r)}}function vfe(t,e,n){return e&&SC(t.prototype,e),n&&SC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xfe(t,e,n){return e=j0(e),bfe(t,AF()?Reflect.construct(e,n||[],j0(t).constructor):e.apply(t,n))}function bfe(t,e){if(e&&(su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wfe(t)}function wfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AF=function(){return!!t})()}function j0(t){return j0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},j0(t)}function _fe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C_(t,e)}function C_(t,e){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},C_(t,e)}function hx(t,e,n){return e=IF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IF(t){var e=Sfe(t,"string");return su(e)=="symbol"?e:e+""}function Sfe(t,e){if(su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function kfe(t,e){if(t==null)return{};var n=Efe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Efe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tfe(t){return t.value}function Pfe(t,e){if(z.isValidElement(t))return z.cloneElement(t,e);if(typeof t=="function")return z.createElement(t,e);e.ref;var n=kfe(e,gfe);return z.createElement(VT,n)}var kC=1,$c=function(t){function e(){var n;yfe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=xfe(this,e,[].concat(i)),hx(n,"lastBoundingBox",{width:-1,height:-1}),n}return _fe(e,t),vfe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>kC||Math.abs(i.height-this.lastBoundingBox.height)>kC)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?wa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return wa(wa({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,d=wa(wa({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return z.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){r.wrapperNode=p}},Pfe(a,wa(wa({},this.props),{},{payload:NF(u,c,Tfe)})))}}],[{key:"getWithHeight",value:function(r,i){var a=wa(wa({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&pe(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(R.PureComponent);hx($c,"displayName","Legend");hx($c,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var EC=Sp,Nfe=BT,Afe=wr,TC=EC?EC.isConcatSpreadable:void 0;function Ife(t){return Afe(t)||Nfe(t)||!!(TC&&t&&t[TC])}var Ofe=Ife,Cfe=gF,jfe=Ofe;function OF(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=jfe),i||(i=[]);++a<s;){var o=t[a];e>0&&n(o)?e>1?OF(o,e-1,n,r,i):Cfe(i,o):r||(i[i.length]=o)}return i}var CF=OF;function Rfe(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var l=s[t?o:++i];if(n(a[l],l,a)===!1)break}return e}}var Mfe=Rfe,$fe=Mfe,Dfe=$fe(),Lfe=Dfe,Ffe=Lfe,Vfe=fx;function Ufe(t,e){return t&&Ffe(t,e,Vfe)}var jF=Ufe,Bfe=Ep;function zfe(t,e){return function(n,r){if(n==null)return n;if(!Bfe(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var qfe=zfe,Wfe=jF,Hfe=qfe,Gfe=Hfe(Wfe),HT=Gfe,Kfe=HT,Yfe=Ep;function Qfe(t,e){var n=-1,r=Yfe(t)?Array(t.length):[];return Kfe(t,function(i,a,s){r[++n]=e(i,a,s)}),r}var RF=Qfe;function Xfe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Jfe=Xfe,PC=Hu;function Zfe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=PC(t),s=e!==void 0,o=e===null,l=e===e,c=PC(e);if(!o&&!c&&!a&&t>e||a&&s&&l&&!o&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!l)return-1}return 0}var ehe=Zfe,the=ehe;function nhe(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,o=n.length;++r<s;){var l=the(i[r],a[r]);if(l){if(r>=o)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var rhe=nhe,aw=IT,ihe=OT,ahe=ko,she=RF,ohe=Jfe,lhe=xF,che=rhe,uhe=ed,dhe=wr;function fhe(t,e,n){e.length?e=aw(e,function(a){return dhe(a)?function(s){return ihe(s,a.length===1?a[0]:a)}:a}):e=[uhe];var r=-1;e=aw(e,lhe(ahe));var i=she(t,function(a,s,o){var l=aw(e,function(c){return c(a)});return{criteria:l,index:++r,value:a}});return ohe(i,function(a,s){return che(a,s,n)})}var hhe=fhe;function phe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var mhe=phe,ghe=mhe,NC=Math.max;function yhe(t,e,n){return e=NC(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=NC(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(s),ghe(t,this,o)}}var vhe=yhe;function xhe(t){return function(){return t}}var bhe=xhe,whe=$l,_he=function(){try{var t=whe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),MF=_he,She=bhe,AC=MF,khe=ed,Ehe=AC?function(t,e){return AC(t,"toString",{configurable:!0,enumerable:!1,value:She(e),writable:!0})}:khe,The=Ehe,Phe=800,Nhe=16,Ahe=Date.now;function Ihe(t){var e=0,n=0;return function(){var r=Ahe(),i=Nhe-(r-n);if(n=r,i>0){if(++e>=Phe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Ohe=Ihe,Che=The,jhe=Ohe,Rhe=jhe(Che),Mhe=Rhe,$he=ed,Dhe=vhe,Lhe=Mhe;function Fhe(t,e){return Lhe(Dhe(t,e,$he),t+"")}var Vhe=Fhe,Uhe=TT,Bhe=Ep,zhe=zT,qhe=So;function Whe(t,e,n){if(!qhe(n))return!1;var r=typeof e;return(r=="number"?Bhe(n)&&zhe(e,n.length):r=="string"&&e in n)?Uhe(n[e],t):!1}var px=Whe,Hhe=CF,Ghe=hhe,Khe=Vhe,IC=px,Yhe=Khe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&IC(t,e[0],e[1])?e=[]:n>2&&IC(e[0],e[1],e[2])&&(e=[e[0]]),Ghe(t,Hhe(e,1),[])}),Qhe=Yhe;const GT=vt(Qhe);function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function j_(){return j_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j_.apply(this,arguments)}function Xhe(t,e){return tpe(t)||epe(t,e)||Zhe(t,e)||Jhe()}function Jhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zhe(t,e){if(t){if(typeof t=="string")return OC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OC(t,e)}}function OC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function epe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function tpe(t){if(Array.isArray(t))return t}function CC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CC(Object(n),!0).forEach(function(r){npe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function npe(t,e,n){return e=rpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rpe(t){var e=ipe(t,"string");return mh(e)=="symbol"?e:e+""}function ipe(t,e){if(mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ape(t){return Array.isArray(t)&&ln(t[0])&&ln(t[1])?t.join(" ~ "):t}var spe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,y=e.label,v=e.labelFormatter,x=e.accessibilityLayer,b=x===void 0?!1:x,w=function(){if(u&&u.length){var j={padding:0,margin:0},O=(h?GT(u,h):u).map(function(M,$){if(M.type==="none")return null;var L=sw({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},o),W=M.formatter||d||ape,F=M.value,U=M.name,G=F,Q=U;if(W&&G!=null&&Q!=null){var B=W(F,U,M,$,u);if(Array.isArray(B)){var ae=Xhe(B,2);G=ae[0],Q=ae[1]}else G=B}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:L},ln(Q)?z.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,ln(Q)?z.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,z.createElement("span",{className:"recharts-tooltip-item-value"},G),z.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:j},O)}return null},S=sw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),k=sw({margin:0},c),P=!et(y),_=P?y:"",E=it("recharts-default-tooltip",p),N=it("recharts-tooltip-label",g);P&&v&&u!==void 0&&u!==null&&(_=v(y,u));var A=b?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",j_({className:E,style:S},A),z.createElement("p",{className:N,style:k},z.isValidElement(_)?_:"".concat(_)),w())};function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function Sm(t,e,n){return e=ope(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ope(t){var e=lpe(t,"string");return gh(e)=="symbol"?e:e+""}function lpe(t,e){if(gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Id="recharts-tooltip-wrapper",cpe={visibility:"hidden"};function upe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return it(Id,Sm(Sm(Sm(Sm({},"".concat(Id,"-right"),pe(n)&&e&&pe(e.x)&&n>=e.x),"".concat(Id,"-left"),pe(n)&&e&&pe(e.x)&&n<e.x),"".concat(Id,"-bottom"),pe(r)&&e&&pe(e.y)&&r>=e.y),"".concat(Id,"-top"),pe(r)&&e&&pe(e.y)&&r<e.y))}function jC(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&pe(a[r]))return a[r];var u=n[r]-o-i,d=n[r]+i;if(e[r])return s[r]?u:d;if(s[r]){var h=u,p=l[r];return h<p?Math.max(d,l[r]):Math.max(u,l[r])}var g=d+o,y=l[r]+c;return g>y?Math.max(u,l[r]):Math.max(d,l[r])}function dpe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function fpe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,u,d;return s.height>0&&s.width>0&&n?(u=jC({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=jC({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=dpe({translateX:u,translateY:d,useTranslate3d:o})):c=cpe,{cssProperties:c,cssClasses:upe({translateX:u,translateY:d,coordinate:n})}}function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function RC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RC(Object(n),!0).forEach(function(r){M_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ppe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DF(r.key),r)}}function mpe(t,e,n){return e&&ppe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gpe(t,e,n){return e=R0(e),ype(t,$F()?Reflect.construct(e,n||[],R0(t).constructor):e.apply(t,n))}function ype(t,e){if(e&&(ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vpe(t)}function vpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $F(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($F=function(){return!!t})()}function R0(t){return R0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},R0(t)}function xpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R_(t,e)}function R_(t,e){return R_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R_(t,e)}function M_(t,e,n){return e=DF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DF(t){var e=bpe(t,"string");return ou(e)=="symbol"?e:e+""}function bpe(t,e){if(ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $C=1,wpe=function(t){function e(){var n;hpe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=gpe(this,e,[].concat(i)),M_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),M_(n,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return xpe(e,t),mpe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>$C||Math.abs(r.height-this.state.lastBoundingBox.height)>$C)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,p=i.offset,g=i.position,y=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,b=i.wrapperStyle,w=fpe({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:p,position:g,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),S=w.cssClasses,k=w.cssProperties,P=MC(MC({transition:h&&a?"transform ".concat(o,"ms ").concat(l):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return z.createElement("div",{tabIndex:-1,className:S,style:P,ref:function(E){r.wrapperNode=E}},c)}}])}(R.PureComponent),_pe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},td={isSsr:_pe()};function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function DC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DC(Object(n),!0).forEach(function(r){KT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Spe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FF(r.key),r)}}function Epe(t,e,n){return e&&kpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tpe(t,e,n){return e=M0(e),Ppe(t,LF()?Reflect.construct(e,n||[],M0(t).constructor):e.apply(t,n))}function Ppe(t,e){if(e&&(lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Npe(t)}function Npe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LF=function(){return!!t})()}function M0(t){return M0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},M0(t)}function Ape(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$_(t,e)}function $_(t,e){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$_(t,e)}function KT(t,e,n){return e=FF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FF(t){var e=Ipe(t,"string");return lu(e)=="symbol"?e:e+""}function Ipe(t,e){if(lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ope(t){return t.dataKey}function Cpe(t,e){return z.isValidElement(t)?z.cloneElement(t,e):typeof t=="function"?z.createElement(t,e):z.createElement(spe,e)}var qi=function(t){function e(){return Spe(this,e),Tpe(this,e,arguments)}return Ape(e,t),Epe(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,d=i.filterNull,h=i.isAnimationActive,p=i.offset,g=i.payload,y=i.payloadUniqBy,v=i.position,x=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,S=i.wrapperStyle,k=g??[];d&&k.length&&(k=NF(g.filter(function(_){return _.value!=null&&(_.hide!==!0||r.props.includeHidden)}),y,Ope));var P=k.length>0;return z.createElement(wpe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:a,coordinate:u,hasPayload:P,offset:p,position:v,reverseDirection:x,useTranslate3d:b,viewBox:w,wrapperStyle:S},Cpe(c,LC(LC({},this.props),{},{payload:k})))}}])}(R.PureComponent);KT(qi,"displayName","Tooltip");KT(qi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!td.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var jpe=ga,Rpe=function(){return jpe.Date.now()},Mpe=Rpe,$pe=/\s/;function Dpe(t){for(var e=t.length;e--&&$pe.test(t.charAt(e)););return e}var Lpe=Dpe,Fpe=Lpe,Vpe=/^\s+/;function Upe(t){return t&&t.slice(0,Fpe(t)+1).replace(Vpe,"")}var Bpe=Upe,zpe=Bpe,FC=So,qpe=Hu,VC=NaN,Wpe=/^[-+]0x[0-9a-f]+$/i,Hpe=/^0b[01]+$/i,Gpe=/^0o[0-7]+$/i,Kpe=parseInt;function Ype(t){if(typeof t=="number")return t;if(qpe(t))return VC;if(FC(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=FC(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=zpe(t);var n=Hpe.test(t);return n||Gpe.test(t)?Kpe(t.slice(2),n?2:8):Wpe.test(t)?VC:+t}var VF=Ype,Qpe=So,ow=Mpe,UC=VF,Xpe="Expected a function",Jpe=Math.max,Zpe=Math.min;function eme(t,e,n){var r,i,a,s,o,l,c=0,u=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(Xpe);e=UC(e)||0,Qpe(n)&&(u=!!n.leading,d="maxWait"in n,a=d?Jpe(UC(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function p(P){var _=r,E=i;return r=i=void 0,c=P,s=t.apply(E,_),s}function g(P){return c=P,o=setTimeout(x,e),u?p(P):s}function y(P){var _=P-l,E=P-c,N=e-_;return d?Zpe(N,a-E):N}function v(P){var _=P-l,E=P-c;return l===void 0||_>=e||_<0||d&&E>=a}function x(){var P=ow();if(v(P))return b(P);o=setTimeout(x,y(P))}function b(P){return o=void 0,h&&r?p(P):(r=i=void 0,s)}function w(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function S(){return o===void 0?s:b(ow())}function k(){var P=ow(),_=v(P);if(r=arguments,i=this,l=P,_){if(o===void 0)return g(l);if(d)return clearTimeout(o),o=setTimeout(x,e),p(l)}return o===void 0&&(o=setTimeout(x,e)),s}return k.cancel=w,k.flush=S,k}var tme=eme,nme=tme,rme=So,ime="Expected a function";function ame(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(ime);return rme(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),nme(t,e,{leading:r,maxWait:e,trailing:i})}var sme=ame;const UF=vt(sme);function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function BC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function km(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BC(Object(n),!0).forEach(function(r){ome(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ome(t,e,n){return e=lme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lme(t){var e=cme(t,"string");return yh(e)=="symbol"?e:e+""}function cme(t,e){if(yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ume(t,e){return pme(t)||hme(t,e)||fme(t,e)||dme()}function dme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fme(t,e){if(t){if(typeof t=="string")return zC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zC(t,e)}}function zC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function pme(t){if(Array.isArray(t))return t}var mme=R.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,u=c===void 0?0:c,d=t.minHeight,h=t.maxHeight,p=t.children,g=t.debounce,y=g===void 0?0:g,v=t.id,x=t.className,b=t.onResize,w=t.style,S=w===void 0?{}:w,k=R.useRef(null),P=R.useRef();P.current=b,R.useImperativeHandle(e,function(){return Object.defineProperty(k.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),k.current},configurable:!0})});var _=R.useState({containerWidth:i.width,containerHeight:i.height}),E=ume(_,2),N=E[0],A=E[1],C=R.useCallback(function(O,M){A(function($){var L=Math.round(O),W=Math.round(M);return $.containerWidth===L&&$.containerHeight===W?$:{containerWidth:L,containerHeight:W}})},[]);R.useEffect(function(){var O=function(U){var G,Q=U[0].contentRect,B=Q.width,ae=Q.height;C(B,ae),(G=P.current)===null||G===void 0||G.call(P,B,ae)};y>0&&(O=UF(O,y,{trailing:!0,leading:!1}));var M=new ResizeObserver(O),$=k.current.getBoundingClientRect(),L=$.width,W=$.height;return C(L,W),M.observe(k.current),function(){M.disconnect()}},[C,y]);var j=R.useMemo(function(){var O=N.containerWidth,M=N.containerHeight;if(O<0||M<0)return null;Ua(Yo(s)||Yo(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Ua(!n||n>0,"The aspect(%s) must be greater than zero.",n);var $=Yo(s)?O:s,L=Yo(l)?M:l;n&&n>0&&($?L=$/n:L&&($=L*n),h&&L>h&&(L=h)),Ua($>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,L,s,l,u,d,n);var W=!Array.isArray(p)&&Va(p.type).endsWith("Chart");return z.Children.map(p,function(F){return z.isValidElement(F)?R.cloneElement(F,km({width:$,height:L},W?{style:km({height:"100%",width:"100%",maxHeight:L,maxWidth:$},F.props.style)}:{})):F})},[n,p,l,h,d,u,N,s]);return z.createElement("div",{id:v?"".concat(v):void 0,className:it("recharts-responsive-container",x),style:km(km({},S),{},{width:s,height:l,minWidth:u,minHeight:d,maxHeight:h}),ref:k},j)}),BF=function(e){return null};BF.displayName="Cell";function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function qC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(n),!0).forEach(function(r){gme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gme(t,e,n){return e=yme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yme(t){var e=vme(t,"string");return vh(e)=="symbol"?e:e+""}function vme(t,e){if(vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hl={widthCache:{},cacheCount:0},xme=2e3,bme={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},WC="recharts_measurement_span";function wme(t){var e=D_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Nf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||td.isSsr)return{width:0,height:0};var r=wme(n),i=JSON.stringify({text:e,copyStyle:r});if(Hl.widthCache[i])return Hl.widthCache[i];try{var a=document.getElementById(WC);a||(a=document.createElement("span"),a.setAttribute("id",WC),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=D_(D_({},bme),r);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return Hl.widthCache[i]=l,++Hl.cacheCount>xme&&(Hl.cacheCount=0,Hl.widthCache={}),l}catch{return{width:0,height:0}}},_me=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function $0(t,e){return Tme(t)||Eme(t,e)||kme(t,e)||Sme()}function Sme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kme(t,e){if(t){if(typeof t=="string")return HC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HC(t,e)}}function HC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Eme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Tme(t){if(Array.isArray(t))return t}function Pme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ame(r.key),r)}}function Nme(t,e,n){return e&&GC(t.prototype,e),n&&GC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ame(t){var e=Ime(t,"string");return xh(e)=="symbol"?e:e+""}function Ime(t,e){if(xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var KC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ome=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Cme=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,zF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},jme=Object.keys(zF),gc="NaN";function Rme(t,e){return t*zF[e]}var Em=function(){function t(e,n){Pme(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Ome.test(n)&&(this.num=NaN,this.unit=""),jme.includes(n)&&(this.num=Rme(e,n),this.unit="px")}return Nme(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Cme.exec(n))!==null&&r!==void 0?r:[],a=$0(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function qF(t){if(t.includes(gc))return gc;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=KC.exec(e))!==null&&n!==void 0?n:[],i=$0(r,4),a=i[1],s=i[2],o=i[3],l=Em.parse(a??""),c=Em.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return gc;e=e.replace(KC,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=YC.exec(e))!==null&&d!==void 0?d:[],p=$0(h,4),g=p[1],y=p[2],v=p[3],x=Em.parse(g??""),b=Em.parse(v??""),w=y==="+"?x.add(b):x.subtract(b);if(w.isNaN())return gc;e=e.replace(YC,w.toString())}return e}var QC=/\(([^()]*)\)/;function Mme(t){for(var e=t;e.includes("(");){var n=QC.exec(e),r=$0(n,2),i=r[1];e=e.replace(QC,qF(i))}return e}function $me(t){var e=t.replace(/\s+/g,"");return e=Mme(e),e=qF(e),e}function Dme(t){try{return $me(t)}catch{return gc}}function lw(t){var e=Dme(t.slice(5,-1));return e===gc?"":e}var Lme=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Fme=["dx","dy","angle","className","breakAll"];function L_(){return L_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L_.apply(this,arguments)}function XC(t,e){if(t==null)return{};var n=Vme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function JC(t,e){return qme(t)||zme(t,e)||Bme(t,e)||Ume()}function Ume(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bme(t,e){if(t){if(typeof t=="string")return ZC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZC(t,e)}}function ZC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function qme(t){if(Array.isArray(t))return t}var WF=/[ \f\n\r\t\v\u2028\u2029]+/,HF=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];et(n)||(r?a=n.toString().split(""):a=n.toString().split(WF));var s=a.map(function(l){return{word:l,width:Nf(l,i).width}}),o=r?0:Nf("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},Wme=function(e,n,r,i,a){var s=e.maxLines,o=e.children,l=e.style,c=e.breakAll,u=pe(s),d=o,h=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(L,W){var F=W.word,U=W.width,G=L[L.length-1];if(G&&(i==null||a||G.width+U+r<Number(i)))G.words.push(F),G.width+=U+r;else{var Q={words:[F],width:U};L.push(Q)}return L},[])},p=h(n),g=function($){return $.reduce(function(L,W){return L.width>W.width?L:W})};if(!u)return p;for(var y="",v=function($){var L=d.slice(0,$),W=HF({breakAll:c,style:l,children:L+y}).wordsWithComputedWidth,F=h(W),U=F.length>s||g(F).width>Number(i);return[U,F]},x=0,b=d.length-1,w=0,S;x<=b&&w<=d.length-1;){var k=Math.floor((x+b)/2),P=k-1,_=v(P),E=JC(_,2),N=E[0],A=E[1],C=v(k),j=JC(C,1),O=j[0];if(!N&&!O&&(x=k+1),N&&O&&(b=k-1),!N&&O){S=A;break}w++}return S||p},ej=function(e){var n=et(e)?[]:e.toString().split(WF);return[{words:n}]},Hme=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((n||r)&&!td.isSsr){var l,c,u=HF({breakAll:s,children:i,style:a});if(u){var d=u.wordsWithComputedWidth,h=u.spaceWidth;l=d,c=h}else return ej(i);return Wme({breakAll:s,children:i,maxLines:o,style:a},l,c,n,r)}return ej(i)},tj="#808080",D0=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,d=u===void 0?!1:u,h=e.textAnchor,p=h===void 0?"start":h,g=e.verticalAnchor,y=g===void 0?"end":g,v=e.fill,x=v===void 0?tj:v,b=XC(e,Lme),w=R.useMemo(function(){return Hme({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),S=b.dx,k=b.dy,P=b.angle,_=b.className,E=b.breakAll,N=XC(b,Fme);if(!ln(r)||!ln(a))return null;var A=r+(pe(S)?S:0),C=a+(pe(k)?k:0),j;switch(y){case"start":j=lw("calc(".concat(c,")"));break;case"middle":j=lw("calc(".concat((w.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:j=lw("calc(".concat(w.length-1," * -").concat(o,")"));break}var O=[];if(d){var M=w[0].width,$=b.width;O.push("scale(".concat((pe($)?$/M:1)/M,")"))}return P&&O.push("rotate(".concat(P,", ").concat(A,", ").concat(C,")")),O.length&&(N.transform=O.join(" ")),z.createElement("text",L_({},Ye(N,!0),{x:A,y:C,className:it("recharts-text",_),textAnchor:p,fill:x.includes("url")?tj:x}),w.map(function(L,W){var F=L.words.join(E?"":" ");return z.createElement("tspan",{x:A,dy:W===0?j:o,key:"".concat(F,"-").concat(W)},F)}))};function to(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Gme(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function YT(t){let e,n,r;t.length!==2?(e=to,n=(o,l)=>to(t(o),l),r=(o,l)=>t(o)-l):(e=t===to||t===Gme?t:Kme,n=t,r=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(o[d],l)<0?c=d+1:u=d}while(c<u)}return c}function a(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(o[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function s(o,l,c=0,u=o.length){const d=i(o,l,c,u-1);return d>c&&r(o[d-1],l)>-r(o[d],l)?d-1:d}return{left:i,center:s,right:a}}function Kme(){return 0}function GF(t){return t===null?NaN:+t}function*Yme(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Qme=YT(to),Tp=Qme.right;YT(GF).center;let cw=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=e+a,o=Math.abs(e)<Math.abs(a)?e-(s-a):a-(s-e);o&&(n[r++]=o),e=s}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=e[--n];n>0&&(r=s,i=e[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}};class nj extends Map{constructor(e,n=Zme){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(rj(this,e))}has(e){return super.has(rj(this,e))}set(e,n){return super.set(Xme(this,e),n)}delete(e){return super.delete(Jme(this,e))}}function rj({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Xme({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Jme({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Zme(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ege(t=to){if(t===to)return KF;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function KF(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const tge=Math.sqrt(50),nge=Math.sqrt(10),rge=Math.sqrt(2);function L0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=tge?10:a>=nge?5:a>=rge?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?L0(t,e,n*2):[o,l,c]}function F_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?L0(e,t,n):L0(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function V_(t,e,n){return e=+e,t=+t,n=+n,L0(t,e,n)[2]}function U_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?V_(e,t,n):V_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function ij(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function aj(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function YF(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?KF:ege(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*d/l+h)),g=Math.min(r,Math.floor(e+(l-c)*d/l+h));YF(t,e,p,g,i)}const a=t[e];let s=n,o=r;for(Od(t,n,e),i(t[r],a)>0&&Od(t,n,r);s<o;){for(Od(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?Od(t,n,o):(++o,Od(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Od(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ige(t,e,n){if(t=Float64Array.from(Yme(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return aj(t);if(e>=1)return ij(t);var r,i=(r-1)*e,a=Math.floor(i),s=ij(YF(t,a).subarray(0,a+1)),o=aj(t.subarray(a+1));return s+(o-s)*(i-a)}}function age(t,e,n=GF){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function sge(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function fi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function os(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const B_=Symbol("implicit");function QT(){var t=new nj,e=[],n=[],r=B_;function i(a){let s=t.get(a);if(s===void 0){if(r!==B_)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new nj;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return QT(e,n).unknown(r)},fi.apply(i,arguments),i}function bh(){var t=QT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,c=0,u=.5;delete t.unknown;function d(){var h=e().length,p=i<r,g=p?i:r,y=p?r:i;a=(y-g)/Math.max(1,h-l+c*2),o&&(a=Math.floor(a)),g+=(y-g-a*(h-l))*u,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var v=sge(h).map(function(x){return g+a*x});return n(p?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,d()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(o=!!h,d()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},t.copy=function(){return bh(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},fi.apply(d(),arguments)}function QF(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return QF(e())},t}function Af(){return QF(bh.apply(null,arguments).paddingInner(1))}function XT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function XF(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Pp(){}var wh=.7,F0=1/wh,Dc="\\s*([+-]?\\d+)\\s*",_h="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",aa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oge=/^#([0-9a-f]{3,8})$/,lge=new RegExp(`^rgb\\(${Dc},${Dc},${Dc}\\)$`),cge=new RegExp(`^rgb\\(${aa},${aa},${aa}\\)$`),uge=new RegExp(`^rgba\\(${Dc},${Dc},${Dc},${_h}\\)$`),dge=new RegExp(`^rgba\\(${aa},${aa},${aa},${_h}\\)$`),fge=new RegExp(`^hsl\\(${_h},${aa},${aa}\\)$`),hge=new RegExp(`^hsla\\(${_h},${aa},${aa},${_h}\\)$`),sj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};XT(Pp,Sh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:oj,formatHex:oj,formatHex8:pge,formatHsl:mge,formatRgb:lj,toString:lj});function oj(){return this.rgb().formatHex()}function pge(){return this.rgb().formatHex8()}function mge(){return JF(this).formatHsl()}function lj(){return this.rgb().formatRgb()}function Sh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=oge.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?cj(e):n===3?new pr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Tm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Tm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=lge.exec(t))?new pr(e[1],e[2],e[3],1):(e=cge.exec(t))?new pr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=uge.exec(t))?Tm(e[1],e[2],e[3],e[4]):(e=dge.exec(t))?Tm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=fge.exec(t))?fj(e[1],e[2]/100,e[3]/100,1):(e=hge.exec(t))?fj(e[1],e[2]/100,e[3]/100,e[4]):sj.hasOwnProperty(t)?cj(sj[t]):t==="transparent"?new pr(NaN,NaN,NaN,0):null}function cj(t){return new pr(t>>16&255,t>>8&255,t&255,1)}function Tm(t,e,n,r){return r<=0&&(t=e=n=NaN),new pr(t,e,n,r)}function gge(t){return t instanceof Pp||(t=Sh(t)),t?(t=t.rgb(),new pr(t.r,t.g,t.b,t.opacity)):new pr}function z_(t,e,n,r){return arguments.length===1?gge(t):new pr(t,e,n,r??1)}function pr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}XT(pr,z_,XF(Pp,{brighter(t){return t=t==null?F0:Math.pow(F0,t),new pr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?wh:Math.pow(wh,t),new pr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new pr(sl(this.r),sl(this.g),sl(this.b),V0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uj,formatHex:uj,formatHex8:yge,formatRgb:dj,toString:dj}));function uj(){return`#${Qo(this.r)}${Qo(this.g)}${Qo(this.b)}`}function yge(){return`#${Qo(this.r)}${Qo(this.g)}${Qo(this.b)}${Qo((isNaN(this.opacity)?1:this.opacity)*255)}`}function dj(){const t=V0(this.opacity);return`${t===1?"rgb(":"rgba("}${sl(this.r)}, ${sl(this.g)}, ${sl(this.b)}${t===1?")":`, ${t})`}`}function V0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function sl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Qo(t){return t=sl(t),(t<16?"0":"")+t.toString(16)}function fj(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new _i(t,e,n,r)}function JF(t){if(t instanceof _i)return new _i(t.h,t.s,t.l,t.opacity);if(t instanceof Pp||(t=Sh(t)),!t)return new _i;if(t instanceof _i)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new _i(s,o,l,t.opacity)}function vge(t,e,n,r){return arguments.length===1?JF(t):new _i(t,e,n,r??1)}function _i(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}XT(_i,vge,XF(Pp,{brighter(t){return t=t==null?F0:Math.pow(F0,t),new _i(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?wh:Math.pow(wh,t),new _i(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new pr(uw(t>=240?t-240:t+120,i,r),uw(t,i,r),uw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new _i(hj(this.h),Pm(this.s),Pm(this.l),V0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=V0(this.opacity);return`${t===1?"hsl(":"hsla("}${hj(this.h)}, ${Pm(this.s)*100}%, ${Pm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function hj(t){return t=(t||0)%360,t<0?t+360:t}function Pm(t){return Math.max(0,Math.min(1,t||0))}function uw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const JT=t=>()=>t;function xge(t,e){return function(n){return t+n*e}}function bge(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function wge(t){return(t=+t)==1?ZF:function(e,n){return n-e?bge(e,n,t):JT(isNaN(e)?n:e)}}function ZF(t,e){var n=e-t;return n?xge(t,n):JT(isNaN(t)?e:t)}const pj=function t(e){var n=wge(e);function r(i,a){var s=n((i=z_(i)).r,(a=z_(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=ZF(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function _ge(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Sge(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function kge(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=nd(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function Ege(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function U0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Tge(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=nd(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var q_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dw=new RegExp(q_.source,"g");function Pge(t){return function(){return t}}function Nge(t){return function(e){return t(e)+""}}function Age(t,e){var n=q_.lastIndex=dw.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=q_.exec(t))&&(i=dw.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:U0(r,i)})),n=dw.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?Nge(l[0].x):Pge(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)o[(d=l[u]).i]=d.x(c);return o.join("")})}function nd(t,e){var n=typeof e,r;return e==null||n==="boolean"?JT(e):(n==="number"?U0:n==="string"?(r=Sh(e))?(e=r,pj):Age:e instanceof Sh?pj:e instanceof Date?Ege:Sge(e)?_ge:Array.isArray(e)?kge:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Tge:U0)(t,e)}function ZT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Ige(t,e){e===void 0&&(e=t,t=nd);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function Oge(t){return function(){return t}}function B0(t){return+t}var mj=[0,1];function er(t){return t}function W_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Oge(isNaN(e)?NaN:.5)}function Cge(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function jge(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=W_(i,r),a=n(s,a)):(r=W_(r,i),a=n(a,s)),function(o){return a(r(o))}}function Rge(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=W_(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=Tp(t,o,1,r)-1;return a[l](i[l](o))}}function Np(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function mx(){var t=mj,e=mj,n=nd,r,i,a,s=er,o,l,c;function u(){var h=Math.min(t.length,e.length);return s!==er&&(s=Cge(t[0],t[h-1])),o=h>2?Rge:jge,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?a:(l||(l=o(t.map(r),e,n)))(r(s(h)))}return d.invert=function(h){return s(i((c||(c=o(e,t.map(r),U0)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,B0),u()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=ZT,u()},d.clamp=function(h){return arguments.length?(s=h?!0:er,u()):s!==er},d.interpolate=function(h){return arguments.length?(n=h,u()):n},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,p){return r=h,i=p,u()}}function eP(){return mx()(er,er)}function Mge(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function z0(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function cu(t){return t=z0(Math.abs(t)),t?t[1]:NaN}function $ge(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Dge(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Lge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kh(t){if(!(e=Lge.exec(t)))throw new Error("invalid format: "+t);var e;return new tP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}kh.prototype=tP.prototype;function tP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}tP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Fge(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var q0;function Vge(t,e){var n=z0(t,e);if(!n)return q0=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(q0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+z0(t,Math.max(0,e+a-1))[0]}function gj(t,e){var n=z0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const yj={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Mge,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>gj(t*100,e),r:gj,s:Vge,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function vj(t){return t}var xj=Array.prototype.map,bj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Uge(t){var e=t.grouping===void 0||t.thousands===void 0?vj:$ge(xj.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?vj:Dge(xj.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d,h){d=kh(d);var p=d.fill,g=d.align,y=d.sign,v=d.symbol,x=d.zero,b=d.width,w=d.comma,S=d.precision,k=d.trim,P=d.type;P==="n"?(w=!0,P="g"):yj[P]||(S===void 0&&(S=12),k=!0,P="g"),(x||p==="0"&&g==="=")&&(x=!0,p="0",g="=");var _=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?n:v==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),E=(v==="$"?r:/[%p]/.test(P)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),N=yj[P],A=/[defgprs%]/.test(P);S=S===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function C(j){var O=_,M=E,$,L,W;if(P==="c")M=N(j)+M,j="";else{j=+j;var F=j<0||1/j<0;if(j=isNaN(j)?l:N(Math.abs(j),S),k&&(j=Fge(j)),F&&+j==0&&y!=="+"&&(F=!1),O=(F?y==="("?y:o:y==="-"||y==="("?"":y)+O,M=(P==="s"&&!isNaN(j)&&q0!==void 0?bj[8+q0/3]:"")+M+(F&&y==="("?")":""),A){for($=-1,L=j.length;++$<L;)if(W=j.charCodeAt($),48>W||W>57){M=(W===46?i+j.slice($+1):j.slice($))+M,j=j.slice(0,$);break}}}w&&!x&&(j=e(j,1/0));var U=O.length+j.length+M.length,G=U<b?new Array(b-U+1).join(p):"";switch(w&&x&&(j=e(G+j,G.length?b-M.length:1/0),G=""),g){case"<":j=O+j+M+G;break;case"=":j=O+G+j+M;break;case"^":j=G.slice(0,U=G.length>>1)+O+j+M+G.slice(U);break;default:j=G+O+j+M;break}return a(j)}return C.toString=function(){return d+""},C}function u(d,h){var p=Math.max(-8,Math.min(8,Math.floor(cu(h)/3)))*3,g=Math.pow(10,-p),y=c((d=kh(d),d.type="f",d),{suffix:bj[8+p/3]});return function(v){return y(g*v)}}return{format:c,formatPrefix:u}}var Nm,nP,eV;Bge({thousands:",",grouping:[3],currency:["$",""]});function Bge(t){return Nm=Uge(t),nP=Nm.format,eV=Nm.formatPrefix,Nm}function zge(t){return Math.max(0,-cu(Math.abs(t)))}function qge(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cu(e)/3)))*3-cu(Math.abs(t)))}function Wge(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,cu(e)-cu(t))+1}function tV(t,e,n,r){var i=U_(t,e,n),a;switch(r=kh(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=qge(i,s))&&(r.precision=a),eV(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Wge(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=zge(i))&&(r.precision=a-(r.type==="%")*2);break}}return nP(r)}function Eo(t){var e=t.domain;return t.ticks=function(n){var r=e();return F_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return tV(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);u-- >0;){if(c=V_(s,o,n),c===l)return r[i]=s,r[a]=o,e(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function Eh(){var t=eP();return t.copy=function(){return Np(t,Eh())},fi.apply(t,arguments),Eo(t)}function nV(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,B0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return nV(t).unknown(e)},t=arguments.length?Array.from(t,B0):[0,1],Eo(n)}function rV(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function wj(t){return Math.log(t)}function _j(t){return Math.exp(t)}function Hge(t){return-Math.log(-t)}function Gge(t){return-Math.exp(-t)}function Kge(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Yge(t){return t===10?Kge:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Qge(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Sj(t){return(e,n)=>-t(-e,n)}function rP(t){const e=t(wj,_j),n=e.domain;let r=10,i,a;function s(){return i=Qge(r),a=Yge(r),n()[0]<0?(i=Sj(i),a=Sj(a),t(Hge,Gge)):t(wj,_j),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=i(c),p=i(u),g,y;const v=o==null?10:+o;let x=[];if(!(r%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(g=1;g<r;++g)if(y=h<0?g/a(-h):g*a(h),!(y<c)){if(y>u)break;x.push(y)}}else for(;h<=p;++h)for(g=r-1;g>=1;--g)if(y=h>0?g/a(-h):g*a(h),!(y<c)){if(y>u)break;x.push(y)}x.length*2<v&&(x=F_(c,u,v))}else x=F_(h,p,Math.min(p-h,v)).map(a);return d?x.reverse():x},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=kh(l)).precision==null&&(l.trim=!0),l=nP(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?l(u):""}},e.nice=()=>n(rV(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function iV(){const t=rP(mx()).domain([1,10]);return t.copy=()=>Np(t,iV()).base(t.base()),fi.apply(t,arguments),t}function kj(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Ej(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function iP(t){var e=1,n=t(kj(e),Ej(e));return n.constant=function(r){return arguments.length?t(kj(e=+r),Ej(e)):e},Eo(n)}function aV(){var t=iP(mx());return t.copy=function(){return Np(t,aV()).constant(t.constant())},fi.apply(t,arguments)}function Tj(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Xge(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Jge(t){return t<0?-t*t:t*t}function aP(t){var e=t(er,er),n=1;function r(){return n===1?t(er,er):n===.5?t(Xge,Jge):t(Tj(n),Tj(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Eo(e)}function sP(){var t=aP(mx());return t.copy=function(){return Np(t,sP()).exponent(t.exponent())},fi.apply(t,arguments),t}function Zge(){return sP.apply(null,arguments).exponent(.5)}function Pj(t){return Math.sign(t)*t*t}function e0e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function sV(){var t=eP(),e=[0,1],n=!1,r;function i(a){var s=e0e(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(Pj(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,B0)).map(Pj)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return sV(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},fi.apply(i,arguments),Eo(i)}function oV(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=age(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[Tp(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(to),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return oV().domain(t).range(e).unknown(r)},fi.apply(a,arguments)}function lV(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Tp(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return lV().domain([t,e]).range(i).unknown(a)},fi.apply(Eo(s),arguments)}function cV(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Tp(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return cV().domain(t).range(e).unknown(n)},fi.apply(i,arguments)}const fw=new Date,hw=new Date;function un(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},i.filter=a=>un(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(fw.setTime(+a),hw.setTime(+s),t(fw),t(hw),Math.floor(n(fw,hw))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const W0=un(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);W0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?un(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):W0);W0.range;const ja=1e3,Zr=ja*60,Ra=Zr*60,Ja=Ra*24,oP=Ja*7,Nj=Ja*30,pw=Ja*365,Xo=un(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ja)},(t,e)=>(e-t)/ja,t=>t.getUTCSeconds());Xo.range;const lP=un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ja)},(t,e)=>{t.setTime(+t+e*Zr)},(t,e)=>(e-t)/Zr,t=>t.getMinutes());lP.range;const cP=un(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Zr)},(t,e)=>(e-t)/Zr,t=>t.getUTCMinutes());cP.range;const uP=un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ja-t.getMinutes()*Zr)},(t,e)=>{t.setTime(+t+e*Ra)},(t,e)=>(e-t)/Ra,t=>t.getHours());uP.range;const dP=un(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ra)},(t,e)=>(e-t)/Ra,t=>t.getUTCHours());dP.range;const Ap=un(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Zr)/Ja,t=>t.getDate()-1);Ap.range;const gx=un(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ja,t=>t.getUTCDate()-1);gx.range;const uV=un(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ja,t=>Math.floor(t/Ja));uV.range;function Dl(t){return un(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Zr)/oP)}const yx=Dl(0),H0=Dl(1),t0e=Dl(2),n0e=Dl(3),uu=Dl(4),r0e=Dl(5),i0e=Dl(6);yx.range;H0.range;t0e.range;n0e.range;uu.range;r0e.range;i0e.range;function Ll(t){return un(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/oP)}const vx=Ll(0),G0=Ll(1),a0e=Ll(2),s0e=Ll(3),du=Ll(4),o0e=Ll(5),l0e=Ll(6);vx.range;G0.range;a0e.range;s0e.range;du.range;o0e.range;l0e.range;const fP=un(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());fP.range;const hP=un(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());hP.range;const Za=un(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Za.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:un(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Za.range;const es=un(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());es.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:un(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});es.range;function dV(t,e,n,r,i,a){const s=[[Xo,1,ja],[Xo,5,5*ja],[Xo,15,15*ja],[Xo,30,30*ja],[a,1,Zr],[a,5,5*Zr],[a,15,15*Zr],[a,30,30*Zr],[i,1,Ra],[i,3,3*Ra],[i,6,6*Ra],[i,12,12*Ra],[r,1,Ja],[r,2,2*Ja],[n,1,oP],[e,1,Nj],[e,3,3*Nj],[t,1,pw]];function o(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),g=p?p.range(c,+u+1):[];return h?g.reverse():g}function l(c,u,d){const h=Math.abs(u-c)/d,p=YT(([,,v])=>v).right(s,h);if(p===s.length)return t.every(U_(c/pw,u/pw,d));if(p===0)return W0.every(Math.max(U_(c,u,d),1));const[g,y]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(y)}return[o,l]}const[c0e,u0e]=dV(es,hP,vx,uV,dP,cP),[d0e,f0e]=dV(Za,fP,yx,Ap,uP,lP);function mw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function gw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Cd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function h0e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=jd(i),u=Rd(i),d=jd(a),h=Rd(a),p=jd(s),g=Rd(s),y=jd(o),v=Rd(o),x=jd(l),b=Rd(l),w={a:W,A:F,b:U,B:G,c:null,d:Rj,e:Rj,f:$0e,g:H0e,G:K0e,H:j0e,I:R0e,j:M0e,L:fV,m:D0e,M:L0e,p:Q,q:B,Q:Dj,s:Lj,S:F0e,u:V0e,U:U0e,V:B0e,w:z0e,W:q0e,x:null,X:null,y:W0e,Y:G0e,Z:Y0e,"%":$j},S={a:ae,A:ge,b:ye,B:Z,c:null,d:Mj,e:Mj,f:Z0e,g:cye,G:dye,H:Q0e,I:X0e,j:J0e,L:pV,m:eye,M:tye,p:te,q:de,Q:Dj,s:Lj,S:nye,u:rye,U:iye,V:aye,w:sye,W:oye,x:null,X:null,y:lye,Y:uye,Z:fye,"%":$j},k={a:A,A:C,b:j,B:O,c:M,d:Cj,e:Cj,f:A0e,g:Oj,G:Ij,H:jj,I:jj,j:E0e,L:N0e,m:k0e,M:T0e,p:N,q:S0e,Q:O0e,s:C0e,S:P0e,u:v0e,U:x0e,V:b0e,w:y0e,W:w0e,x:$,X:L,y:Oj,Y:Ij,Z:_0e,"%":I0e};w.x=P(n,w),w.X=P(r,w),w.c=P(e,w),S.x=P(n,S),S.X=P(r,S),S.c=P(e,S);function P(ne,_e){return function(ie){var X=[],ee=-1,xe=0,Ce=ne.length,He,$e,tn;for(ie instanceof Date||(ie=new Date(+ie));++ee<Ce;)ne.charCodeAt(ee)===37&&(X.push(ne.slice(xe,ee)),($e=Aj[He=ne.charAt(++ee)])!=null?He=ne.charAt(++ee):$e=He==="e"?" ":"0",(tn=_e[He])&&(He=tn(ie,$e)),X.push(He),xe=ee+1);return X.push(ne.slice(xe,ee)),X.join("")}}function _(ne,_e){return function(ie){var X=Cd(1900,void 0,1),ee=E(X,ne,ie+="",0),xe,Ce;if(ee!=ie.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(_e&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(xe=gw(Cd(X.y,0,1)),Ce=xe.getUTCDay(),xe=Ce>4||Ce===0?G0.ceil(xe):G0(xe),xe=gx.offset(xe,(X.V-1)*7),X.y=xe.getUTCFullYear(),X.m=xe.getUTCMonth(),X.d=xe.getUTCDate()+(X.w+6)%7):(xe=mw(Cd(X.y,0,1)),Ce=xe.getDay(),xe=Ce>4||Ce===0?H0.ceil(xe):H0(xe),xe=Ap.offset(xe,(X.V-1)*7),X.y=xe.getFullYear(),X.m=xe.getMonth(),X.d=xe.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),Ce="Z"in X?gw(Cd(X.y,0,1)).getUTCDay():mw(Cd(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(Ce+5)%7:X.w+X.U*7-(Ce+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,gw(X)):mw(X)}}function E(ne,_e,ie,X){for(var ee=0,xe=_e.length,Ce=ie.length,He,$e;ee<xe;){if(X>=Ce)return-1;if(He=_e.charCodeAt(ee++),He===37){if(He=_e.charAt(ee++),$e=k[He in Aj?_e.charAt(ee++):He],!$e||(X=$e(ne,ie,X))<0)return-1}else if(He!=ie.charCodeAt(X++))return-1}return X}function N(ne,_e,ie){var X=c.exec(_e.slice(ie));return X?(ne.p=u.get(X[0].toLowerCase()),ie+X[0].length):-1}function A(ne,_e,ie){var X=p.exec(_e.slice(ie));return X?(ne.w=g.get(X[0].toLowerCase()),ie+X[0].length):-1}function C(ne,_e,ie){var X=d.exec(_e.slice(ie));return X?(ne.w=h.get(X[0].toLowerCase()),ie+X[0].length):-1}function j(ne,_e,ie){var X=x.exec(_e.slice(ie));return X?(ne.m=b.get(X[0].toLowerCase()),ie+X[0].length):-1}function O(ne,_e,ie){var X=y.exec(_e.slice(ie));return X?(ne.m=v.get(X[0].toLowerCase()),ie+X[0].length):-1}function M(ne,_e,ie){return E(ne,e,_e,ie)}function $(ne,_e,ie){return E(ne,n,_e,ie)}function L(ne,_e,ie){return E(ne,r,_e,ie)}function W(ne){return s[ne.getDay()]}function F(ne){return a[ne.getDay()]}function U(ne){return l[ne.getMonth()]}function G(ne){return o[ne.getMonth()]}function Q(ne){return i[+(ne.getHours()>=12)]}function B(ne){return 1+~~(ne.getMonth()/3)}function ae(ne){return s[ne.getUTCDay()]}function ge(ne){return a[ne.getUTCDay()]}function ye(ne){return l[ne.getUTCMonth()]}function Z(ne){return o[ne.getUTCMonth()]}function te(ne){return i[+(ne.getUTCHours()>=12)]}function de(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var _e=P(ne+="",w);return _e.toString=function(){return ne},_e},parse:function(ne){var _e=_(ne+="",!1);return _e.toString=function(){return ne},_e},utcFormat:function(ne){var _e=P(ne+="",S);return _e.toString=function(){return ne},_e},utcParse:function(ne){var _e=_(ne+="",!0);return _e.toString=function(){return ne},_e}}}var Aj={"-":"",_:" ",0:"0"},xn=/^\s*\d+/,p0e=/^%/,m0e=/[\\^$*+?|[\]().{}]/g;function at(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function g0e(t){return t.replace(m0e,"\\$&")}function jd(t){return new RegExp("^(?:"+t.map(g0e).join("|")+")","i")}function Rd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function y0e(t,e,n){var r=xn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function v0e(t,e,n){var r=xn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function x0e(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function b0e(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function w0e(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Ij(t,e,n){var r=xn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Oj(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function _0e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function S0e(t,e,n){var r=xn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function k0e(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Cj(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function E0e(t,e,n){var r=xn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function jj(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function T0e(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function P0e(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function N0e(t,e,n){var r=xn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function A0e(t,e,n){var r=xn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function I0e(t,e,n){var r=p0e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function O0e(t,e,n){var r=xn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function C0e(t,e,n){var r=xn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Rj(t,e){return at(t.getDate(),e,2)}function j0e(t,e){return at(t.getHours(),e,2)}function R0e(t,e){return at(t.getHours()%12||12,e,2)}function M0e(t,e){return at(1+Ap.count(Za(t),t),e,3)}function fV(t,e){return at(t.getMilliseconds(),e,3)}function $0e(t,e){return fV(t,e)+"000"}function D0e(t,e){return at(t.getMonth()+1,e,2)}function L0e(t,e){return at(t.getMinutes(),e,2)}function F0e(t,e){return at(t.getSeconds(),e,2)}function V0e(t){var e=t.getDay();return e===0?7:e}function U0e(t,e){return at(yx.count(Za(t)-1,t),e,2)}function hV(t){var e=t.getDay();return e>=4||e===0?uu(t):uu.ceil(t)}function B0e(t,e){return t=hV(t),at(uu.count(Za(t),t)+(Za(t).getDay()===4),e,2)}function z0e(t){return t.getDay()}function q0e(t,e){return at(H0.count(Za(t)-1,t),e,2)}function W0e(t,e){return at(t.getFullYear()%100,e,2)}function H0e(t,e){return t=hV(t),at(t.getFullYear()%100,e,2)}function G0e(t,e){return at(t.getFullYear()%1e4,e,4)}function K0e(t,e){var n=t.getDay();return t=n>=4||n===0?uu(t):uu.ceil(t),at(t.getFullYear()%1e4,e,4)}function Y0e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+at(e/60|0,"0",2)+at(e%60,"0",2)}function Mj(t,e){return at(t.getUTCDate(),e,2)}function Q0e(t,e){return at(t.getUTCHours(),e,2)}function X0e(t,e){return at(t.getUTCHours()%12||12,e,2)}function J0e(t,e){return at(1+gx.count(es(t),t),e,3)}function pV(t,e){return at(t.getUTCMilliseconds(),e,3)}function Z0e(t,e){return pV(t,e)+"000"}function eye(t,e){return at(t.getUTCMonth()+1,e,2)}function tye(t,e){return at(t.getUTCMinutes(),e,2)}function nye(t,e){return at(t.getUTCSeconds(),e,2)}function rye(t){var e=t.getUTCDay();return e===0?7:e}function iye(t,e){return at(vx.count(es(t)-1,t),e,2)}function mV(t){var e=t.getUTCDay();return e>=4||e===0?du(t):du.ceil(t)}function aye(t,e){return t=mV(t),at(du.count(es(t),t)+(es(t).getUTCDay()===4),e,2)}function sye(t){return t.getUTCDay()}function oye(t,e){return at(G0.count(es(t)-1,t),e,2)}function lye(t,e){return at(t.getUTCFullYear()%100,e,2)}function cye(t,e){return t=mV(t),at(t.getUTCFullYear()%100,e,2)}function uye(t,e){return at(t.getUTCFullYear()%1e4,e,4)}function dye(t,e){var n=t.getUTCDay();return t=n>=4||n===0?du(t):du.ceil(t),at(t.getUTCFullYear()%1e4,e,4)}function fye(){return"+0000"}function $j(){return"%"}function Dj(t){return+t}function Lj(t){return Math.floor(+t/1e3)}var Gl,gV,yV;hye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hye(t){return Gl=h0e(t),gV=Gl.format,Gl.parse,yV=Gl.utcFormat,Gl.utcParse,Gl}function pye(t){return new Date(t)}function mye(t){return t instanceof Date?+t:+new Date(+t)}function pP(t,e,n,r,i,a,s,o,l,c){var u=eP(),d=u.invert,h=u.domain,p=c(".%L"),g=c(":%S"),y=c("%I:%M"),v=c("%I %p"),x=c("%a %d"),b=c("%b %d"),w=c("%B"),S=c("%Y");function k(P){return(l(P)<P?p:o(P)<P?g:s(P)<P?y:a(P)<P?v:r(P)<P?i(P)<P?x:b:n(P)<P?w:S)(P)}return u.invert=function(P){return new Date(d(P))},u.domain=function(P){return arguments.length?h(Array.from(P,mye)):h().map(pye)},u.ticks=function(P){var _=h();return t(_[0],_[_.length-1],P??10)},u.tickFormat=function(P,_){return _==null?k:c(_)},u.nice=function(P){var _=h();return(!P||typeof P.range!="function")&&(P=e(_[0],_[_.length-1],P??10)),P?h(rV(_,P)):u},u.copy=function(){return Np(u,pP(t,e,n,r,i,a,s,o,l,c))},u}function gye(){return fi.apply(pP(d0e,f0e,Za,fP,yx,Ap,uP,lP,Xo,gV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yye(){return fi.apply(pP(c0e,u0e,es,hP,vx,gx,dP,cP,Xo,yV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xx(){var t=0,e=1,n,r,i,a,s=er,o=!1,l;function c(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(a(d)-n)*i,o?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(d){return arguments.length?(o=!!d,c):o},c.interpolator=function(d){return arguments.length?(s=d,c):s};function u(d){return function(h){var p,g;return arguments.length?([p,g]=h,s=d(p,g),c):[s(0),s(1)]}}return c.range=u(nd),c.rangeRound=u(ZT),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return a=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),c}}function To(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function vV(){var t=Eo(xx()(er));return t.copy=function(){return To(t,vV())},os.apply(t,arguments)}function xV(){var t=rP(xx()).domain([1,10]);return t.copy=function(){return To(t,xV()).base(t.base())},os.apply(t,arguments)}function bV(){var t=iP(xx());return t.copy=function(){return To(t,bV()).constant(t.constant())},os.apply(t,arguments)}function mP(){var t=aP(xx());return t.copy=function(){return To(t,mP()).exponent(t.exponent())},os.apply(t,arguments)}function vye(){return mP.apply(null,arguments).exponent(.5)}function wV(){var t=[],e=er;function n(r){if(r!=null&&!isNaN(r=+r))return e((Tp(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(to),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>ige(t,a/r))},n.copy=function(){return wV(e).domain(t)},os.apply(n,arguments)}function bx(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,c=er,u,d=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+u(y))-a)*(r*y<r*a?o:l),c(d?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,n]=y,i=u(t=+t),a=u(e=+e),s=u(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(y){return arguments.length?(d=!!y,p):d},p.interpolator=function(y){return arguments.length?(c=y,p):c};function g(y){return function(v){var x,b,w;return arguments.length?([x,b,w]=v,c=Ige(y,[x,b,w]),p):[c(0),c(.5),c(1)]}}return p.range=g(nd),p.rangeRound=g(ZT),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return u=y,i=y(t),a=y(e),s=y(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function _V(){var t=Eo(bx()(er));return t.copy=function(){return To(t,_V())},os.apply(t,arguments)}function SV(){var t=rP(bx()).domain([.1,1,10]);return t.copy=function(){return To(t,SV()).base(t.base())},os.apply(t,arguments)}function kV(){var t=iP(bx());return t.copy=function(){return To(t,kV()).constant(t.constant())},os.apply(t,arguments)}function gP(){var t=aP(bx());return t.copy=function(){return To(t,gP()).exponent(t.exponent())},os.apply(t,arguments)}function xye(){return gP.apply(null,arguments).exponent(.5)}const Fj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:bh,scaleDiverging:_V,scaleDivergingLog:SV,scaleDivergingPow:gP,scaleDivergingSqrt:xye,scaleDivergingSymlog:kV,scaleIdentity:nV,scaleImplicit:B_,scaleLinear:Eh,scaleLog:iV,scaleOrdinal:QT,scalePoint:Af,scalePow:sP,scaleQuantile:oV,scaleQuantize:lV,scaleRadial:sV,scaleSequential:vV,scaleSequentialLog:xV,scaleSequentialPow:mP,scaleSequentialQuantile:wV,scaleSequentialSqrt:vye,scaleSequentialSymlog:bV,scaleSqrt:Zge,scaleSymlog:aV,scaleThreshold:cV,scaleTime:gye,scaleUtc:yye,tickFormat:tV},Symbol.toStringTag,{value:"Module"}));var bye=Hu;function wye(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(s!=null&&(o===void 0?s===s&&!bye(s):n(s,o)))var o=s,l=a}return l}var EV=wye;function _ye(t,e){return t>e}var Sye=_ye,kye=EV,Eye=Sye,Tye=ed;function Pye(t){return t&&t.length?kye(t,Tye,Eye):void 0}var Nye=Pye;const $s=vt(Nye);function Aye(t,e){return t<e}var Iye=Aye,Oye=EV,Cye=Iye,jye=ed;function Rye(t){return t&&t.length?Oye(t,jye,Cye):void 0}var Mye=Rye;const wx=vt(Mye);var $ye=IT,Dye=ko,Lye=RF,Fye=wr;function Vye(t,e){var n=Fye(t)?$ye:Lye;return n(t,Dye(e))}var Uye=Vye,Bye=CF,zye=Uye;function qye(t,e){return Bye(zye(t,e),1)}var Wye=qye;const Hye=vt(Wye);var Gye=WT;function Kye(t,e){return Gye(t,e)}var Yye=Kye;const Th=vt(Yye);var rd=1e9,Qye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},vP,It=!0,ci="[DecimalError] ",ol=ci+"Invalid argument: ",yP=ci+"Exponent out of range: ",id=Math.floor,Uo=Math.pow,Xye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ar,hn=1e7,Tt=7,TV=9007199254740991,K0=id(TV/Tt),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Tt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Te.dividedBy=Te.div=function(t){return Ba(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,n=e.constructor;return yt(Ba(e,new n(t),0,1),n.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return Zt(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ar))throw Error(ci+"NaN");if(n.s<1)throw Error(ci+(n.s?"NaN":"-Infinity"));return n.eq(Ar)?new r(0):(It=!1,e=Ba(Ph(n,a),Ph(t,a),a),It=!0,yt(e,i))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?AV(e,t):PV(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ci+"NaN");return n.s?(It=!1,e=Ba(n,t,0,1).times(t),It=!0,n.minus(e)):yt(new r(n),i)};Te.naturalExponential=Te.exp=function(){return NV(this)};Te.naturalLogarithm=Te.ln=function(){return Ph(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?PV(e,t):AV(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ol+t);if(e=Zt(i)+1,r=i.d.length-1,n=r*Tt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Te.squareRoot=Te.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(ci+"NaN")}for(t=Zt(o),It=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Qi(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=id((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(Ba(o,a,s+2)).times(.5),Qi(a.d).slice(0,s)===(e=Qi(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(yt(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return It=!0,yt(r,n)};Te.times=Te.mul=function(t){var e,n,r,i,a,s,o,l,c,u=this,d=u.constructor,h=u.d,p=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,n=u.e+t.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+p[r]*h[i-r-1]+e,a[i--]=o%hn|0,e=o/hn|0;a[i]=(a[i]+e)%hn|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,It?yt(t,d.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ua(t,0,rd),e===void 0?e=r.rounding:ua(e,0,8),yt(n,t+Zt(n)+1,e))};Te.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=_l(r,!0):(ua(t,0,rd),e===void 0?e=i.rounding:ua(e,0,8),r=yt(new i(r),t+1,e),n=_l(r,!0,t+1)),n};Te.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?_l(i):(ua(t,0,rd),e===void 0?e=a.rounding:ua(e,0,8),r=yt(new a(i),t+Zt(i)+1,e),n=_l(r.abs(),!1,t+Zt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return yt(new e(t),Zt(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Ar);if(o=new l(o),!o.s){if(t.s<1)throw Error(ci+"Infinity");return o}if(o.eq(Ar))return o;if(r=l.precision,t.eq(Ar))return yt(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=u<0?-u:u)<=TV){for(i=new l(Ar),e=Math.ceil(r/Tt+4),It=!1;n%2&&(i=i.times(o),Uj(i.d,e)),n=id(n/2),n!==0;)o=o.times(o),Uj(o.d,e);return It=!0,t.s<0?new l(Ar).div(i):yt(i,r)}}else if(a<0)throw Error(ci+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,It=!1,i=t.times(Ph(o,r+c)),It=!0,i=NV(i),i.s=a,i};Te.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Zt(i),r=_l(i,n<=a.toExpNeg||n>=a.toExpPos)):(ua(t,1,rd),e===void 0?e=a.rounding:ua(e,0,8),i=yt(new a(i),t,e),n=Zt(i),r=_l(i,t<=n||n<=a.toExpNeg,t)),r};Te.toSignificantDigits=Te.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ua(t,1,rd),e===void 0?e=r.rounding:ua(e,0,8)),yt(new r(n),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Zt(t),n=t.constructor;return _l(t,e<=n.toExpNeg||e>=n.toExpPos)};function PV(t,e){var n,r,i,a,s,o,l,c,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),It?yt(e,d):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(d/Tt),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/hn|0,l[a]%=hn;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,It?yt(e,d):e}function ua(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ol+t)}function Qi(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Tt-r.length,n&&(a+=_s(n)),a+=r;s=t[e],r=s+"",n=Tt-r.length,n&&(a+=_s(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Ba=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%hn|0,s=a/hn|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*hn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,u,d,h,p,g,y,v,x,b,w,S,k,P,_,E,N=r.constructor,A=r.s==i.s?1:-1,C=r.d,j=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(ci+"Division by zero");for(l=r.e-i.e,_=j.length,k=C.length,p=new N(A),g=p.d=[],c=0;j[c]==(C[c]||0);)++c;if(j[c]>(C[c]||0)&&--l,a==null?b=a=N.precision:s?b=a+(Zt(r)-Zt(i))+1:b=a,b<0)return new N(0);if(b=b/Tt+2|0,c=0,_==1)for(u=0,j=j[0],b++;(c<k||u)&&b--;c++)w=u*hn+(C[c]||0),g[c]=w/j|0,u=w%j|0;else{for(u=hn/(j[0]+1)|0,u>1&&(j=t(j,u),C=t(C,u),_=j.length,k=C.length),S=_,y=C.slice(0,_),v=y.length;v<_;)y[v++]=0;E=j.slice(),E.unshift(0),P=j[0],j[1]>=hn/2&&++P;do u=0,o=e(j,y,_,v),o<0?(x=y[0],_!=v&&(x=x*hn+(y[1]||0)),u=x/P|0,u>1?(u>=hn&&(u=hn-1),d=t(j,u),h=d.length,v=y.length,o=e(d,y,h,v),o==1&&(u--,n(d,_<h?E:j,h))):(u==0&&(o=u=1),d=j.slice()),h=d.length,h<v&&d.unshift(0),n(y,d,v),o==-1&&(v=y.length,o=e(j,y,_,v),o<1&&(u++,n(y,_<v?E:j,v))),v=y.length):o===0&&(u++,y=[0]),g[c++]=u,o&&y[0]?y[v++]=C[S]||0:(y=[C[S]],v=1);while((S++<k||y[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=l,yt(p,s?a+Zt(p)+1:a)}}();function NV(t,e){var n,r,i,a,s,o,l=0,c=0,u=t.constructor,d=u.precision;if(Zt(t)>16)throw Error(yP+Zt(t));if(!t.s)return new u(Ar);for(It=!1,o=d,s=new u(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(Uo(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new u(Ar),u.precision=o;;){if(i=yt(i.times(t),o),n=n.times(++l),s=a.plus(Ba(i,n,o)),Qi(s.d).slice(0,o)===Qi(a.d).slice(0,o)){for(;c--;)a=yt(a.times(a),o);return u.precision=d,e==null?(It=!0,yt(a,d)):a}a=s}}function Zt(t){for(var e=t.e*Tt,n=t.d[0];n>=10;n/=10)e++;return e}function yw(t,e,n){if(e>t.LN10.sd())throw It=!0,n&&(t.precision=n),Error(ci+"LN10 precision limit exceeded");return yt(new t(t.LN10),e)}function _s(t){for(var e="";t--;)e+="0";return e}function Ph(t,e){var n,r,i,a,s,o,l,c,u,d=1,h=10,p=t,g=p.d,y=p.constructor,v=y.precision;if(p.s<1)throw Error(ci+(p.s?"NaN":"-Infinity"));if(p.eq(Ar))return new y(0);if(e==null?(It=!1,c=v):c=e,p.eq(10))return e==null&&(It=!0),yw(y,c);if(c+=h,y.precision=c,n=Qi(g),r=n.charAt(0),a=Zt(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Qi(p.d),r=n.charAt(0),d++;a=Zt(p),r>1?(p=new y("0."+n),a++):p=new y(r+"."+n.slice(1))}else return l=yw(y,c+2,v).times(a+""),p=Ph(new y(r+"."+n.slice(1)),c-h).plus(l),y.precision=v,e==null?(It=!0,yt(p,v)):p;for(o=s=p=Ba(p.minus(Ar),p.plus(Ar),c),u=yt(p.times(p),c),i=3;;){if(s=yt(s.times(u),c),l=o.plus(Ba(s,new y(i),c)),Qi(l.d).slice(0,c)===Qi(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(yw(y,c+2,v).times(a+""))),o=Ba(o,new y(d),c),y.precision=v,e==null?(It=!0,yt(o,v)):o;o=l,i+=2}}function Vj(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=id(n/Tt),t.d=[],r=(n+1)%Tt,n<0&&(r+=Tt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Tt;r<i;)t.d.push(+e.slice(r,r+=Tt));e=e.slice(r),r=Tt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),It&&(t.e>K0||t.e<-K0))throw Error(yP+n)}else t.s=0,t.e=0,t.d=[0];return t}function yt(t,e,n){var r,i,a,s,o,l,c,u,d=t.d;for(s=1,a=d[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Tt,i=e,c=d[u=0];else{if(u=Math.ceil((r+1)/Tt),a=d.length,u>=a)return t;for(c=a=d[u],s=1;a>=10;a/=10)s++;r%=Tt,i=r-Tt+s}if(n!==void 0&&(a=Uo(10,s-i-1),o=c/a%10|0,l=e<0||d[u+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/Uo(10,s-i):0:d[u-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(a=Zt(t),d.length=1,e=e-a-1,d[0]=Uo(10,(Tt-e%Tt)%Tt),t.e=id(-e/Tt)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=u,a=1,u--):(d.length=u+1,a=Uo(10,Tt-r),d[u]=i>0?(c/Uo(10,s-i)%Uo(10,i)|0)*a:0),l)for(;;)if(u==0){(d[0]+=a)==hn&&(d[0]=1,++t.e);break}else{if(d[u]+=a,d[u]!=hn)break;d[u--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(It&&(t.e>K0||t.e<-K0))throw Error(yP+Zt(t));return t}function AV(t,e){var n,r,i,a,s,o,l,c,u,d,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),It?yt(e,p):e;if(l=t.d,d=e.d,r=e.e,c=t.e,l=l.slice(),s=c-r,s){for(u=s<0,u?(n=l,s=-s,o=d.length):(n=d,r=c,o=l.length),i=Math.max(Math.ceil(p/Tt),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=d.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}s=0}for(u&&(n=l,l=d,d=n,e.s=-e.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=hn-1;--l[a],l[i]+=hn}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,It?yt(e,p):e):new h(0)}function _l(t,e,n){var r,i=Zt(t),a=Qi(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+_s(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+_s(-i-1)+a,n&&(r=n-s)>0&&(a+=_s(r))):i>=s?(a+=_s(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+_s(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=_s(r))),t.s<0?"-"+a:a}function Uj(t,e){if(t.length>e)return t.length=e,!0}function IV(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ol+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return Vj(s,a.toString())}else if(typeof a!="string")throw Error(ol+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Xye.test(a))Vj(s,a);else throw Error(ol+a)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=IV,i.config=i.set=Jye,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Jye(t){if(!t||typeof t!="object")throw Error(ci+"Object expected");var e,n,r,i=["precision",1,rd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(id(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ol+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ol+n+": "+r);return this}var vP=IV(Qye);Ar=new vP(1);const ft=vP;function Zye(t){return rve(t)||nve(t)||tve(t)||eve()}function eve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tve(t,e){if(t){if(typeof t=="string")return H_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H_(t,e)}}function nve(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function rve(t){if(Array.isArray(t))return H_(t)}function H_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ive=function(e){return e},OV={},CV=function(e){return e===OV},Bj=function(e){return function n(){return arguments.length===0||arguments.length===1&&CV(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},ave=function t(e,n){return e===1?n:Bj(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==OV}).length;return s>=e?n.apply(void 0,i):t(e-s,Bj(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=i.map(function(d){return CV(d)?l.shift():d});return n.apply(void 0,Zye(u).concat(l))}))})},_x=function(e){return ave(e.length,e)},G_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},sve=_x(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),ove=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return ive;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},K_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},jV=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(o,l){return o===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function lve(t){var e;return t===0?e=1:e=Math.floor(new ft(t).abs().log(10).toNumber())+1,e}function cve(t,e,n){for(var r=new ft(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var uve=_x(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),dve=_x(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),fve=_x(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Sx={rangeStep:cve,getDigitCount:lve,interpolateNumber:uve,uninterpolateNumber:dve,uninterpolateTruncation:fve};function Y_(t){return mve(t)||pve(t)||RV(t)||hve()}function hve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pve(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function mve(t){if(Array.isArray(t))return Q_(t)}function Nh(t,e){return vve(t)||yve(t,e)||RV(t,e)||gve()}function gve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RV(t,e){if(t){if(typeof t=="string")return Q_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q_(t,e)}}function Q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yve(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function vve(t){if(Array.isArray(t))return t}function MV(t){var e=Nh(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function $V(t,e,n){if(t.lte(0))return new ft(0);var r=Sx.getDigitCount(t.toNumber()),i=new ft(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new ft(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?l:new ft(Math.ceil(l))}function xve(t,e,n){var r=1,i=new ft(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new ft(10).pow(Sx.getDigitCount(t)-1),i=new ft(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new ft(Math.floor(t)))}else t===0?i=new ft(Math.floor((e-1)/2)):n||(i=new ft(Math.floor(t)));var s=Math.floor((e-1)/2),o=ove(sve(function(l){return i.add(new ft(l-s).mul(r)).toNumber()}),G_);return o(0,e)}function DV(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new ft(0),tickMin:new ft(0),tickMax:new ft(0)};var a=$V(new ft(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new ft(0):(s=new ft(t).add(e).div(2),s=s.sub(new ft(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new ft(e).sub(s).div(a).toNumber()),c=o+l+1;return c>n?DV(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,o=e>0?o:o+(n-c)),{step:a,tickMin:s.sub(new ft(o).mul(a)),tickMax:s.add(new ft(l).mul(a))})}function bve(t){var e=Nh(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=MV([n,r]),l=Nh(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(Y_(G_(0,i-1).map(function(){return 1/0}))):[].concat(Y_(G_(0,i-1).map(function(){return-1/0})),[u]);return n>r?K_(d):d}if(c===u)return xve(c,i,a);var h=DV(c,u,s,a),p=h.step,g=h.tickMin,y=h.tickMax,v=Sx.rangeStep(g,y.add(new ft(.1).mul(p)),p);return n>r?K_(v):v}function wve(t,e){var n=Nh(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=MV([r,i]),o=Nh(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),d=$V(new ft(c).sub(l).div(u-1),a,0),h=[].concat(Y_(Sx.rangeStep(new ft(l),new ft(c).sub(new ft(.99).mul(d)),d)),[c]);return r>i?K_(h):h}var _ve=jV(bve),Sve=jV(wve),kve="Invariant failed";function Sl(t,e){throw new Error(kve)}var Eve=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function Y0(){return Y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y0.apply(this,arguments)}function Tve(t,e){return Ive(t)||Ave(t,e)||Nve(t,e)||Pve()}function Pve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nve(t,e){if(t){if(typeof t=="string")return zj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zj(t,e)}}function zj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ave(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Ive(t){if(Array.isArray(t))return t}function Ove(t,e){if(t==null)return{};var n=Cve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VV(r.key),r)}}function Mve(t,e,n){return e&&Rve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ve(t,e,n){return e=Q0(e),Dve(t,LV()?Reflect.construct(e,n||[],Q0(t).constructor):e.apply(t,n))}function Dve(t,e){if(e&&(fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lve(t)}function Lve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LV=function(){return!!t})()}function Q0(t){return Q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q0(t)}function Fve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X_(t,e)}function X_(t,e){return X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},X_(t,e)}function FV(t,e,n){return e=VV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VV(t){var e=Vve(t,"string");return fu(e)=="symbol"?e:e+""}function Vve(t,e){if(fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kx=function(t){function e(){return jve(this,e),$ve(this,e,arguments)}return Fve(e,t),Mve(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,d=r.yAxis,h=Ove(r,Eve),p=Ye(h,!1);this.props.direction==="x"&&u.type!=="number"&&Sl();var g=l.map(function(y){var v=c(y,o),x=v.x,b=v.y,w=v.value,S=v.errorVal;if(!S)return null;var k=[],P,_;if(Array.isArray(S)){var E=Tve(S,2);P=E[0],_=E[1]}else P=_=S;if(a==="vertical"){var N=u.scale,A=b+i,C=A+s,j=A-s,O=N(w-P),M=N(w+_);k.push({x1:M,y1:C,x2:M,y2:j}),k.push({x1:O,y1:A,x2:M,y2:A}),k.push({x1:O,y1:C,x2:O,y2:j})}else if(a==="horizontal"){var $=d.scale,L=x+i,W=L-s,F=L+s,U=$(w-P),G=$(w+_);k.push({x1:W,y1:G,x2:F,y2:G}),k.push({x1:L,y1:U,x2:L,y2:G}),k.push({x1:W,y1:U,x2:F,y2:U})}return z.createElement(jt,Y0({className:"recharts-errorBar",key:"bar-".concat(k.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},p),k.map(function(Q){return z.createElement("line",Y0({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return z.createElement(jt,{className:"recharts-errorBars"},g)}}])}(z.Component);FV(kx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});FV(kx,"displayName","ErrorBar");function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function qj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qj(Object(n),!0).forEach(function(r){Uve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uve(t,e,n){return e=Bve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bve(t){var e=zve(t,"string");return Ah(e)=="symbol"?e:e+""}function zve(t,e){if(Ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UV=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Tr(n,$c);if(!s)return null;var o=$c.defaultProps,l=o!==void 0?jo(jo({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:a==="children"?c=(r||[]).reduce(function(u,d){var h=d.item,p=d.props,g=p.sectors||p.data||[];return u.concat(g.map(function(y){return{type:s.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):c=(r||[]).map(function(u){var d=u.item,h=d.type.defaultProps,p=h!==void 0?jo(jo({},h),d.props):{},g=p.dataKey,y=p.name,v=p.legendType,x=p.hide;return{inactive:x,dataKey:g,type:l.iconType||v||"square",color:xP(d),value:y||g,payload:p}}),jo(jo(jo({},l),$c.getWithHeight(s,i)),{},{payload:c,item:s})};function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function Wj(t){return Gve(t)||Hve(t)||Wve(t)||qve()}function qve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wve(t,e){if(t){if(typeof t=="string")return J_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J_(t,e)}}function Hve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gve(t){if(Array.isArray(t))return J_(t)}function J_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hj(Object(n),!0).forEach(function(r){Lc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lc(t,e,n){return e=Kve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kve(t){var e=Yve(t,"string");return Ih(e)=="symbol"?e:e+""}function Yve(t,e){if(Ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dr(t,e,n){return et(t)||et(e)?n:ln(e)?ai(t,e,n):qe(e)?e(t):n}function If(t,e,n,r){var i=Hye(t,function(o){return Dr(o,e)});if(n==="number"){var a=i.filter(function(o){return pe(o)||parseFloat(o)});return a.length?[wx(a),$s(a)]:[1/0,-1/0]}var s=r?i.filter(function(o){return!et(o)}):i;return s.map(function(o){return ln(o)||o instanceof Date?o:""})}var Qve=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<o;c++){var u=c>0?i[c-1].coordinate:i[o-1].coordinate,d=i[c].coordinate,h=c>=o-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(Ti(d-u)!==Ti(h-d)){var g=[];if(Ti(h-d)===Ti(l[1]-l[0])){p=h;var y=d+l[1]-l[0];g[0]=Math.min(y,(y+u)/2),g[1]=Math.max(y,(y+u)/2)}else{p=u;var v=h+l[1]-l[0];g[0]=Math.min(d,(v+d)/2),g[1]=Math.max(d,(v+d)/2)}var x=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>x[0]&&e<=x[1]||e>=g[0]&&e<=g[1]){s=i[c].index;break}}else{var b=Math.min(u,h),w=Math.max(u,h);if(e>(b+d)/2&&e<=(w+d)/2){s=i[c].index;break}}}else for(var S=0;S<o;S++)if(S===0&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<o-1&&e>(r[S].coordinate+r[S-1].coordinate)/2&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S===o-1&&e>(r[S].coordinate+r[S-1].coordinate)/2){s=r[S].index;break}return s},xP=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Bt(Bt({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},Xve=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,c=o.length;l<c;l++)for(var u=a[o[l]].stackGroups,d=Object.keys(u),h=0,p=d.length;h<p;h++){var g=u[d[h]],y=g.items,v=g.cateAxisId,x=y.filter(function(_){return Va(_.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,w=b!==void 0?Bt(Bt({},b),x[0].props):x[0].props,S=w.barSize,k=w[v];s[k]||(s[k]=[]);var P=et(S)?n:S;s[k].push({item:x[0],stackList:x.slice(1),barSize:et(P)?void 0:wl(P,r,0)})}}return s},Jve=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var c=wl(n,i,0,!0),u,d=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/l,g=s.reduce(function(S,k){return S+k.barSize||0},0);g+=(l-1)*c,g>=i&&(g-=(l-1)*c,c=0),g>=i&&p>0&&(h=!0,p*=.9,g=l*p);var y=(i-g)/2>>0,v={offset:y-c,size:0};u=s.reduce(function(S,k){var P={item:k.item,position:{offset:v.offset+v.size+c,size:h?p:k.barSize}},_=[].concat(Wj(S),[P]);return v=_[_.length-1].position,k.stackList&&k.stackList.length&&k.stackList.forEach(function(E){_.push({item:E,position:v})}),_},d)}else{var x=wl(r,i,0,!0);i-2*x-(l-1)*c<=0&&(c=0);var b=(i-2*x-(l-1)*c)/l;b>1&&(b>>=0);var w=o===+o?Math.min(b,o):b;u=s.reduce(function(S,k,P){var _=[].concat(Wj(S),[{item:k.item,position:{offset:x+(b+c)*P+(b-w)/2,size:w}}]);return k.stackList&&k.stackList.length&&k.stackList.forEach(function(E){_.push({item:E,position:_[_.length-1].position})}),_},d)}return u},Zve=function(e,n,r,i){var a=r.children,s=r.width,o=r.margin,l=s-(o.left||0)-(o.right||0),c=UV({children:a,legendWidth:l});if(c){var u=i||{},d=u.width,h=u.height,p=c.align,g=c.verticalAlign,y=c.layout;if((y==="vertical"||y==="horizontal"&&g==="middle")&&p!=="center"&&pe(e[p]))return Bt(Bt({},e),{},Lc({},p,e[p]+(d||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&g!=="middle"&&pe(e[g]))return Bt(Bt({},e),{},Lc({},g,e[g]+(h||0)))}return e},exe=function(e,n,r){return et(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},BV=function(e,n,r,i,a){var s=n.props.children,o=ji(s,kx).filter(function(c){return exe(i,a,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var d=Dr(u,r);if(et(d))return c;var h=Array.isArray(d)?[wx(d),$s(d)]:[d,d],p=l.reduce(function(g,y){var v=Dr(u,y,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},txe=function(e,n,r,i,a){var s=n.map(function(o){return BV(e,o,r,a,i)}).filter(function(o){return!et(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},zV=function(e,n,r,i,a){var s=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&BV(e,l,c,i)||If(e,c,r,a)});if(r==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},qV=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},WV=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate});return a||o.push(n),s||o.push(r),o},Ma=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Ti(o[0]-o[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(d){var h=a?a.indexOf(d):d;return{coordinate:i(h)+c,value:d,offset:c}});return u.filter(function(d){return!Xu(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+c,value:d,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,h){return{coordinate:i(d)+c,value:a?a[d]:d,index:h,offset:c}})},vw=new WeakMap,Am=function(e,n){if(typeof n!="function")return e;vw.has(e)||vw.set(e,new WeakMap);var r=vw.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},nxe=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:bh(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Eh(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Af(),realScaleType:"point"}:a==="category"?{scale:bh(),realScaleType:"band"}:{scale:Eh(),realScaleType:"linear"};if(bl(i)){var l="scale".concat(lx(i));return{scale:(Fj[l]||Af)(),realScaleType:Fj[l]?l:"point"}}return qe(i)?{scale:i}:{scale:Af(),realScaleType:"point"}},Gj=1e-4,rxe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-Gj,s=Math.max(i[0],i[1])+Gj,o=e(n[0]),l=e(n[r-1]);(o<a||o>s||l<a||l>s)&&e.domain([n[0],n[r-1]])}},ixe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},axe=function(e,n){if(!n||n.length!==2||!pe(n[0])||!pe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!pe(e[0])||e[0]<r)&&(a[0]=r),(!pe(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},sxe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,o=0;o<n;++o){var l=Xu(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1])}},oxe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var o=Xu(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},lxe={sign:sxe,expand:_se,none:iu,silhouette:Sse,wiggle:kse,positive:oxe},cxe=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),a=lxe[r],s=wse().keys(i).value(function(o,l){return+Dr(o,l,0)}).order(S_).offset(a);return s(e)},uxe=function(e,n,r,i,a,s){if(!e)return null;var o=s?n.reverse():n,l={},c=o.reduce(function(d,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Bt(Bt({},h.type.defaultProps),h.props):h.props,y=g.stackId,v=g.hide;if(v)return d;var x=g[r],b=d[x]||{hasStack:!1,stackGroups:{}};if(ln(y)){var w=b.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[y]=w}else b.stackGroups[kp("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Bt(Bt({},d),{},Lc({},x,b))},l),u={};return Object.keys(c).reduce(function(d,h){var p=c[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,v){var x=p.stackGroups[v];return Bt(Bt({},y),{},Lc({},v,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:cxe(e,x.items,a)}))},g)}return Bt(Bt({},d),{},Lc({},h,p))},u)},dxe=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=_ve(c,a,o);return e.domain([wx(u),$s(u)]),{niceTicks:u}}if(a&&i==="number"){var d=e.domain(),h=Sve(d,a,o);return{niceTicks:h}}return null};function Kj(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!et(i[e.dataKey])){var o=w0(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=Dr(i,et(s)?e.dataKey:s);return et(l)?null:e.scale(l)}var Yj=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=Dr(s,n.dataKey,n.domain[o]);return et(l)?null:n.scale(l)-a/2+i},fxe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},hxe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Bt(Bt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(ln(a)){var s=n[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},pxe=function(e){return e.reduce(function(n,r){return[wx(r.concat([n[0]]).filter(pe)),$s(r.concat([n[1]]).filter(pe))]},[1/0,-1/0])},HV=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(c,u){var d=pxe(u.slice(n,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Qj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Z_=function(e,n,r){if(qe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(pe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(Qj.test(e[0])){var a=+Qj.exec(e[0])[1];i[0]=n[0]-a}else qe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(pe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(Xj.test(e[1])){var s=+Xj.exec(e[1])[1];i[1]=n[1]+s}else qe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},X0=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=GT(n,function(d){return d.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},Jj=function(e,n,r){return!e||!e.length||Th(e,ai(r,"type.defaultProps.domain"))?n:e},GV=function(e,n){var r=e.type.defaultProps?Bt(Bt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return Bt(Bt({},Ye(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:xP(e),value:Dr(n,i),type:l,payload:n,chartType:c,hide:u})};function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function Zj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zj(Object(n),!0).forEach(function(r){mxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mxe(t,e,n){return e=gxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gxe(t){var e=yxe(t,"string");return Oh(e)=="symbol"?e:e+""}function yxe(t,e){if(Oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var J0=Math.PI/180,vxe=function(e){return e*180/Math.PI},Nn=function(e,n,r,i){return{x:e+Math.cos(-J0*i)*r,y:n+Math.sin(-J0*i)*r}},xxe=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},bxe=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,o=xxe({x:r,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(r-a)/o,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:o,angle:vxe(c),angleInRadian:c}},wxe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},_xe=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},tR=function(e,n){var r=e.x,i=e.y,a=bxe({x:r,y:i},n),s=a.radius,o=a.angle,l=n.innerRadius,c=n.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=wxe(n),d=u.startAngle,h=u.endAngle,p=o,g;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=d}return g?eR(eR({},n),{},{radius:s,angle:_xe(p,n)}):null};function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}var Sxe=["offset"];function kxe(t){return Nxe(t)||Pxe(t)||Txe(t)||Exe()}function Exe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Txe(t,e){if(t){if(typeof t=="string")return eS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eS(t,e)}}function Pxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nxe(t){if(Array.isArray(t))return eS(t)}function eS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Axe(t,e){if(t==null)return{};var n=Ixe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ixe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(n),!0).forEach(function(r){Oxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oxe(t,e,n){return e=Cxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cxe(t){var e=jxe(t,"string");return Ch(e)=="symbol"?e:e+""}function jxe(t,e){if(Ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jh(){return jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jh.apply(this,arguments)}var Rxe=function(e){var n=e.value,r=e.formatter,i=et(e.children)?n:e.children;return qe(r)?r(i):i},Mxe=function(e,n){var r=Ti(n-e),i=Math.min(Math.abs(n-e),360);return r*i},$xe=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,c=l.cx,u=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,y=l.clockWise,v=(d+h)/2,x=Mxe(p,g),b=x>=0?1:-1,w,S;i==="insideStart"?(w=p+b*s,S=y):i==="insideEnd"?(w=g-b*s,S=!y):i==="end"&&(w=g+b*s,S=y),S=x<=0?S:!S;var k=Nn(c,u,v,w),P=Nn(c,u,v,w+(S?1:-1)*359),_="M".concat(k.x,",").concat(k.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(P.x,",").concat(P.y),E=et(e.id)?kp("recharts-radial-line-"):e.id;return z.createElement("text",jh({},r,{dominantBaseline:"central",className:it("recharts-radial-bar-label",o)}),z.createElement("defs",null,z.createElement("path",{id:E,d:_})),z.createElement("textPath",{xlinkHref:"#".concat(E)},n))},Dxe=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,o=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,d=a.endAngle,h=(u+d)/2;if(i==="outside"){var p=Nn(s,o,c+r,h),g=p.x,y=p.y;return{x:g,y,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,x=Nn(s,o,v,h),b=x.x,w=x.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Lxe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,o=s.x,l=s.y,c=s.width,u=s.height,d=u>=0?1:-1,h=d*i,p=d>0?"end":"start",g=d>0?"start":"end",y=c>=0?1:-1,v=y*i,x=y>0?"end":"start",b=y>0?"start":"end";if(a==="top"){var w={x:o+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:p};return an(an({},w),r?{height:Math.max(l-r.y,0),width:c}:{})}if(a==="bottom"){var S={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:g};return an(an({},S),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(a==="left"){var k={x:o-v,y:l+u/2,textAnchor:x,verticalAnchor:"middle"};return an(an({},k),r?{width:Math.max(k.x-r.x,0),height:u}:{})}if(a==="right"){var P={x:o+c+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return an(an({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:u}:{})}var _=r?{width:c,height:u}:{};return a==="insideLeft"?an({x:o+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},_):a==="insideRight"?an({x:o+c-v,y:l+u/2,textAnchor:x,verticalAnchor:"middle"},_):a==="insideTop"?an({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},_):a==="insideBottom"?an({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},_):a==="insideTopLeft"?an({x:o+v,y:l+h,textAnchor:b,verticalAnchor:g},_):a==="insideTopRight"?an({x:o+c-v,y:l+h,textAnchor:x,verticalAnchor:g},_):a==="insideBottomLeft"?an({x:o+v,y:l+u-h,textAnchor:b,verticalAnchor:p},_):a==="insideBottomRight"?an({x:o+c-v,y:l+u-h,textAnchor:x,verticalAnchor:p},_):Gu(a)&&(pe(a.x)||Yo(a.x))&&(pe(a.y)||Yo(a.y))?an({x:o+wl(a.x,c),y:l+wl(a.y,u),textAnchor:"end",verticalAnchor:"end"},_):an({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},_)},Fxe=function(e){return"cx"in e&&pe(e.cx)};function Vn(t){var e=t.offset,n=e===void 0?5:e,r=Axe(t,Sxe),i=an({offset:n},r),a=i.viewBox,s=i.position,o=i.value,l=i.children,c=i.content,u=i.className,d=u===void 0?"":u,h=i.textBreakAll;if(!a||et(o)&&et(l)&&!R.isValidElement(c)&&!qe(c))return null;if(R.isValidElement(c))return R.cloneElement(c,i);var p;if(qe(c)){if(p=R.createElement(c,i),R.isValidElement(p))return p}else p=Rxe(i);var g=Fxe(a),y=Ye(i,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return $xe(i,p,y);var v=g?Dxe(i):Lxe(i);return z.createElement(D0,jh({className:it("recharts-label",d)},y,v,{breakAll:h}),p)}Vn.displayName="Label";var KV=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,d=e.x,h=e.y,p=e.top,g=e.left,y=e.width,v=e.height,x=e.clockWise,b=e.labelViewBox;if(b)return b;if(pe(y)&&pe(v)){if(pe(d)&&pe(h))return{x:d,y:h,width:y,height:v};if(pe(p)&&pe(g))return{x:p,y:g,width:y,height:v}}return pe(d)&&pe(h)?{x:d,y:h,width:0,height:0}:pe(n)&&pe(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:x}:e.viewBox?e.viewBox:{}},Vxe=function(e,n){return e?e===!0?z.createElement(Vn,{key:"label-implicit",viewBox:n}):ln(e)?z.createElement(Vn,{key:"label-implicit",viewBox:n,value:e}):R.isValidElement(e)?e.type===Vn?R.cloneElement(e,{key:"label-implicit",viewBox:n}):z.createElement(Vn,{key:"label-implicit",content:e,viewBox:n}):qe(e)?z.createElement(Vn,{key:"label-implicit",content:e,viewBox:n}):Gu(e)?z.createElement(Vn,jh({viewBox:n},e,{key:"label-implicit"})):null:null},Uxe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=KV(e),s=ji(i,Vn).map(function(l,c){return R.cloneElement(l,{viewBox:n||a,key:"label-".concat(c)})});if(!r)return s;var o=Vxe(e.label,n||a);return[o].concat(kxe(s))};Vn.parseViewBox=KV;Vn.renderCallByParent=Uxe;function Bxe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var zxe=Bxe;const qxe=vt(zxe);function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}var Wxe=["valueAccessor"],Hxe=["data","dataKey","clockWise","id","textBreakAll"];function Gxe(t){return Xxe(t)||Qxe(t)||Yxe(t)||Kxe()}function Kxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yxe(t,e){if(t){if(typeof t=="string")return tS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tS(t,e)}}function Qxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xxe(t){if(Array.isArray(t))return tS(t)}function tS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Z0(){return Z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z0.apply(this,arguments)}function rR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rR(Object(n),!0).forEach(function(r){Jxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jxe(t,e,n){return e=Zxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zxe(t){var e=ebe(t,"string");return Rh(e)=="symbol"?e:e+""}function ebe(t,e){if(Rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aR(t,e){if(t==null)return{};var n=tbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var nbe=function(e){return Array.isArray(e.value)?qxe(e.value):e.value};function no(t){var e=t.valueAccessor,n=e===void 0?nbe:e,r=aR(t,Wxe),i=r.data,a=r.dataKey,s=r.clockWise,o=r.id,l=r.textBreakAll,c=aR(r,Hxe);return!i||!i.length?null:z.createElement(jt,{className:"recharts-label-list"},i.map(function(u,d){var h=et(a)?n(u,d):Dr(u&&u.payload,a),p=et(o)?{}:{id:"".concat(o,"-").concat(d)};return z.createElement(Vn,Z0({},Ye(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Vn.parseViewBox(et(s)?u:iR(iR({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}no.displayName="LabelList";function rbe(t,e){return t?t===!0?z.createElement(no,{key:"labelList-implicit",data:e}):z.isValidElement(t)||qe(t)?z.createElement(no,{key:"labelList-implicit",data:e,content:t}):Gu(t)?z.createElement(no,Z0({data:e},t,{key:"labelList-implicit"})):null:null}function ibe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ji(r,no).map(function(s,o){return R.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var a=rbe(t.label,e);return[a].concat(Gxe(i))}no.renderCallByParent=ibe;function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function nS(){return nS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nS.apply(this,arguments)}function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){abe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function abe(t,e,n){return e=sbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sbe(t){var e=obe(t,"string");return Mh(e)=="symbol"?e:e+""}function obe(t,e){if(Mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lbe=function(e,n){var r=Ti(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Im=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(o?1:-1)+i,d=Math.asin(l/u)/J0,h=c?a:a+s*d,p=Nn(n,r,u,h),g=Nn(n,r,i,h),y=c?a-s*d:a,v=Nn(n,r,u*Math.cos(d*J0),y);return{center:p,circleTangency:g,lineTangency:v,theta:d}},YV=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=lbe(s,o),c=s+l,u=Nn(n,r,a,s),d=Nn(n,r,a,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var p=Nn(n,r,i,s),g=Nn(n,r,i,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},cbe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,d=Ti(u-c),h=Im({cx:n,cy:r,radius:a,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,y=h.theta,v=Im({cx:n,cy:r,radius:a,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),x=v.circleTangency,b=v.lineTangency,w=v.theta,S=l?Math.abs(c-u):Math.abs(c-u)-y-w;if(S<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):YV({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var k="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var P=Im({cx:n,cy:r,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),_=P.circleTangency,E=P.lineTangency,N=P.theta,A=Im({cx:n,cy:r,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),C=A.circleTangency,j=A.lineTangency,O=A.theta,M=l?Math.abs(c-u):Math.abs(c-u)-N-O;if(M<0&&s===0)return"".concat(k,"L").concat(n,",").concat(r,"Z");k+="L".concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(M>180),",").concat(+(d>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,"Z")}else k+="L".concat(n,",").concat(r,"Z");return k},ube={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},QV=function(e){var n=oR(oR({},ube),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,h=n.className;if(s<a||u===d)return null;var p=it("recharts-sector",h),g=s-a,y=wl(o,g,0,!0),v;return y>0&&Math.abs(u-d)<360?v=cbe({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(y,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):v=YV({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d}),z.createElement("path",nS({},Ye(n,!0),{className:p,d:v,role:"img"}))};function $h(t){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}function rS(){return rS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rS.apply(this,arguments)}function lR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(n),!0).forEach(function(r){dbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dbe(t,e,n){return e=fbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fbe(t){var e=hbe(t,"string");return $h(e)=="symbol"?e:e+""}function hbe(t,e){if($h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uR={curveBasisClosed:use,curveBasisOpen:dse,curveBasis:cse,curveBumpX:Yae,curveBumpY:Qae,curveLinearClosed:fse,curveLinear:ux,curveMonotoneX:hse,curveMonotoneY:pse,curveNatural:mse,curveStep:gse,curveStepAfter:vse,curveStepBefore:yse},Om=function(e){return e.x===+e.x&&e.y===+e.y},Md=function(e){return e.x},$d=function(e){return e.y},pbe=function(e,n){if(qe(e))return e;var r="curve".concat(lx(e));return(r==="curveMonotone"||r==="curveBump")&&n?uR["".concat(r).concat(n==="vertical"?"Y":"X")]:uR[r]||ux},mbe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=pbe(r,o),d=c?a.filter(function(y){return Om(y)}):a,h;if(Array.isArray(s)){var p=c?s.filter(function(y){return Om(y)}):s,g=d.map(function(y,v){return cR(cR({},y),{},{base:p[v]})});return o==="vertical"?h=wm().y($d).x1(Md).x0(function(y){return y.base.x}):h=wm().x(Md).y1($d).y0(function(y){return y.base.y}),h.defined(Om).curve(u),h(g)}return o==="vertical"&&pe(s)?h=wm().y($d).x1(Md).x0(s):pe(s)?h=wm().x(Md).y1($d).y0(s):h=X6().x(Md).y($d),h.defined(Om).curve(u),h(d)},Of=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?mbe(e):i;return R.createElement("path",rS({},Ye(e,!1),_0(e),{className:it("recharts-curve",n),d:s,ref:a}))},XV={exports:{}},gbe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ybe=gbe,vbe=ybe;function JV(){}function ZV(){}ZV.resetWarningCache=JV;var xbe=function(){function t(r,i,a,s,o,l){if(l!==vbe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:ZV,resetWarningCache:JV};return n.PropTypes=n,n};XV.exports=xbe();var bbe=XV.exports;const oe=vt(bbe),{getOwnPropertyNames:wbe,getOwnPropertySymbols:_be}=Object,{hasOwnProperty:Sbe}=Object.prototype;function xw(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Cm(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,s=a.get(n),o=a.get(r);if(s&&o)return s===r&&o===n;a.set(n,r),a.set(r,n);const l=t(n,r,i);return a.delete(n),a.delete(r),l}}function kbe(t){return t!=null?t[Symbol.toStringTag]:void 0}function dR(t){return wbe(t).concat(_be(t))}const Ebe=Object.hasOwn||((t,e)=>Sbe.call(t,e));function Fl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Tbe="__v",Pbe="__o",Nbe="_owner",{getOwnPropertyDescriptor:fR,keys:hR}=Object;function Abe(t,e){return t.byteLength===e.byteLength&&ey(new Uint8Array(t),new Uint8Array(e))}function Ibe(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Obe(t,e){return t.byteLength===e.byteLength&&ey(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Cbe(t,e){return Fl(t.getTime(),e.getTime())}function jbe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Rbe(t,e){return t===e}function pR(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let s,o,l=0;for(;(s=a.next())&&!s.done;){const c=e.entries();let u=!1,d=0;for(;(o=c.next())&&!o.done;){if(i[d]){d++;continue}const h=s.value,p=o.value;if(n.equals(h[0],p[0],l,d,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}const Mbe=Fl;function $be(t,e,n){const r=hR(t);let i=r.length;if(hR(e).length!==i)return!1;for(;i-- >0;)if(!e8(t,e,n,r[i]))return!1;return!0}function Dd(t,e,n){const r=dR(t);let i=r.length;if(dR(e).length!==i)return!1;let a,s,o;for(;i-- >0;)if(a=r[i],!e8(t,e,n,a)||(s=fR(t,a),o=fR(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function Dbe(t,e){return Fl(t.valueOf(),e.valueOf())}function Lbe(t,e){return t.source===e.source&&t.flags===e.flags}function mR(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let s,o;for(;(s=a.next())&&!s.done;){const l=e.values();let c=!1,u=0;for(;(o=l.next())&&!o.done;){if(!i[u]&&n.equals(s.value,o.value,s.value,o.value,t,e,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function ey(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Fbe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function e8(t,e,n,r){return(r===Nbe||r===Pbe||r===Tbe)&&(t.$$typeof||e.$$typeof)?!0:Ebe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Vbe="[object ArrayBuffer]",Ube="[object Arguments]",Bbe="[object Boolean]",zbe="[object DataView]",qbe="[object Date]",Wbe="[object Error]",Hbe="[object Map]",Gbe="[object Number]",Kbe="[object Object]",Ybe="[object RegExp]",Qbe="[object Set]",Xbe="[object String]",Jbe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Zbe="[object URL]",ewe=Object.prototype.toString;function twe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:o,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:g}){return function(v,x,b){if(v===x)return!0;if(v==null||x==null)return!1;const w=typeof v;if(w!==typeof x)return!1;if(w!=="object")return w==="number"?o(v,x,b):w==="function"?a(v,x,b):!1;const S=v.constructor;if(S!==x.constructor)return!1;if(S===Object)return l(v,x,b);if(Array.isArray(v))return e(v,x,b);if(S===Date)return r(v,x,b);if(S===RegExp)return u(v,x,b);if(S===Map)return s(v,x,b);if(S===Set)return d(v,x,b);const k=ewe.call(v);if(k===qbe)return r(v,x,b);if(k===Ybe)return u(v,x,b);if(k===Hbe)return s(v,x,b);if(k===Qbe)return d(v,x,b);if(k===Kbe)return typeof v.then!="function"&&typeof x.then!="function"&&l(v,x,b);if(k===Zbe)return p(v,x,b);if(k===Wbe)return i(v,x,b);if(k===Ube)return l(v,x,b);if(Jbe[k])return h(v,x,b);if(k===Vbe)return t(v,x,b);if(k===zbe)return n(v,x,b);if(k===Bbe||k===Gbe||k===Xbe)return c(v,x,b);if(g){let P=g[k];if(!P){const _=kbe(v);_&&(P=g[_])}if(P)return P(v,x,b)}return!1}}function nwe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:Abe,areArraysEqual:n?Dd:Ibe,areDataViewsEqual:Obe,areDatesEqual:Cbe,areErrorsEqual:jbe,areFunctionsEqual:Rbe,areMapsEqual:n?xw(pR,Dd):pR,areNumbersEqual:Mbe,areObjectsEqual:n?Dd:$be,arePrimitiveWrappersEqual:Dbe,areRegExpsEqual:Lbe,areSetsEqual:n?xw(mR,Dd):mR,areTypedArraysEqual:n?xw(ey,Dd):ey,areUrlsEqual:Fbe,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Cm(r.areArraysEqual),a=Cm(r.areMapsEqual),s=Cm(r.areObjectsEqual),o=Cm(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:o})}return r}function rwe(t){return function(e,n,r,i,a,s,o){return t(e,n,o)}}function iwe({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(o,l){const{cache:c=t?new WeakMap:void 0,meta:u}=n();return e(o,l,{cache:c,equals:r,meta:u,strict:i})};if(t)return function(o,l){return e(o,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(o,l){return e(o,l,a)}}const awe=Po();Po({strict:!0});Po({circular:!0});Po({circular:!0,strict:!0});Po({createInternalComparator:()=>Fl});Po({strict:!0,createInternalComparator:()=>Fl});Po({circular:!0,createInternalComparator:()=>Fl});Po({circular:!0,createInternalComparator:()=>Fl,strict:!0});function Po(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=nwe(t),s=twe(a),o=n?n(s):rwe(s);return iwe({circular:e,comparator:s,createState:r,equals:o,strict:i})}function swe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function gR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):swe(i)};requestAnimationFrame(r)}function iS(t){"@babel/helpers - typeof";return iS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iS(t)}function owe(t){return dwe(t)||uwe(t)||cwe(t)||lwe()}function lwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cwe(t,e){if(t){if(typeof t=="string")return yR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yR(t,e)}}function yR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dwe(t){if(Array.isArray(t))return t}function fwe(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,o=owe(s),l=o[0],c=o.slice(1);if(typeof l=="number"){gR(i.bind(null,c),l);return}i(l),gR(i.bind(null,c));return}iS(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function vR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(n),!0).forEach(function(r){t8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t8(t,e,n){return e=hwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hwe(t){var e=pwe(t,"string");return Dh(e)==="symbol"?e:String(e)}function pwe(t,e){if(Dh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mwe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},gwe=function(e){return e},ywe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Cf=function(e,n){return Object.keys(n).reduce(function(r,i){return xR(xR({},r),{},t8({},i,e(i,n[i])))},{})},bR=function(e,n,r){return e.map(function(i){return"".concat(ywe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function vwe(t,e){return wwe(t)||bwe(t,e)||n8(t,e)||xwe()}function xwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function wwe(t){if(Array.isArray(t))return t}function _we(t){return Ewe(t)||kwe(t)||n8(t)||Swe()}function Swe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n8(t,e){if(t){if(typeof t=="string")return aS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aS(t,e)}}function kwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ewe(t){if(Array.isArray(t))return aS(t)}function aS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ty=1e-4,r8=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},i8=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},wR=function(e,n){return function(r){var i=r8(e,n);return i8(i,r)}},Twe=function(e,n){return function(r){var i=r8(e,n),a=[].concat(_we(i.map(function(s,o){return s*o}).slice(1)),[0]);return i8(a,r)}},_R=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=vwe(c,4);i=u[0],a=u[1],s=u[2],o=u[3]}}}var d=wR(i,s),h=wR(a,o),p=Twe(i,s),g=function(x){return x>1?1:x<0?0:x},y=function(x){for(var b=x>1?1:x,w=b,S=0;S<8;++S){var k=d(w)-b,P=p(w);if(Math.abs(k-b)<ty||P<ty)return h(w);w=g(w-k/P)}return h(w)};return y.isStepper=!1,y},Pwe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(u,d,h){var p=-(u-d)*r,g=h*a,y=h+(p-g)*o/1e3,v=h*o/1e3+u;return Math.abs(v-d)<ty&&Math.abs(y)<ty?[d,0]:[v,y]};return l.isStepper=!0,l.dt=o,l},Nwe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _R(i);case"spring":return Pwe();default:if(i.split("(")[0]==="cubic-bezier")return _R(i)}return typeof i=="function"?i:null};function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function SR(t){return Owe(t)||Iwe(t)||a8(t)||Awe()}function Awe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Owe(t){if(Array.isArray(t))return oS(t)}function kR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(n),!0).forEach(function(r){sS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sS(t,e,n){return e=Cwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cwe(t){var e=jwe(t,"string");return Lh(e)==="symbol"?e:String(e)}function jwe(t,e){if(Lh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rwe(t,e){return Dwe(t)||$we(t,e)||a8(t,e)||Mwe()}function Mwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a8(t,e){if(t){if(typeof t=="string")return oS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oS(t,e)}}function oS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $we(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Dwe(t){if(Array.isArray(t))return t}var ny=function(e,n,r){return e+(n-e)*r},lS=function(e){var n=e.from,r=e.to;return n!==r},Lwe=function t(e,n,r){var i=Cf(function(a,s){if(lS(s)){var o=e(s.from,s.to,s.velocity),l=Rwe(o,2),c=l[0],u=l[1];return Sn(Sn({},s),{},{from:c,velocity:u})}return s},n);return r<1?Cf(function(a,s){return lS(s)?Sn(Sn({},s),{},{velocity:ny(s.velocity,i[a].velocity,r),from:ny(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const Fwe=function(t,e,n,r,i){var a=mwe(t,e),s=a.reduce(function(v,x){return Sn(Sn({},v),{},sS({},x,[t[x],e[x]]))},{}),o=a.reduce(function(v,x){return Sn(Sn({},v),{},sS({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,c,u,d=function(){return null},h=function(){return Cf(function(x,b){return b.from},o)},p=function(){return!Object.values(o).filter(lS).length},g=function(x){c||(c=x);var b=x-c,w=b/n.dt;o=Lwe(n,o,w),i(Sn(Sn(Sn({},t),e),h())),c=x,p()||(l=requestAnimationFrame(d))},y=function(x){u||(u=x);var b=(x-u)/r,w=Cf(function(k,P){return ny.apply(void 0,SR(P).concat([n(b)]))},s);if(i(Sn(Sn(Sn({},t),e),w)),b<1)l=requestAnimationFrame(d);else{var S=Cf(function(k,P){return ny.apply(void 0,SR(P).concat([n(1)]))},s);i(Sn(Sn(Sn({},t),e),S))}};return d=n.isStepper?g:y,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}var Vwe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Uwe(t,e){if(t==null)return{};var n=Bwe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bwe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function bw(t){return Hwe(t)||Wwe(t)||qwe(t)||zwe()}function zwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qwe(t,e){if(t){if(typeof t=="string")return cS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cS(t,e)}}function Wwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hwe(t){if(Array.isArray(t))return cS(t)}function cS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ER(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(n),!0).forEach(function(r){Zd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zd(t,e,n){return e=s8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s8(r.key),r)}}function Ywe(t,e,n){return e&&Kwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function s8(t){var e=Qwe(t,"string");return hu(e)==="symbol"?e:String(e)}function Qwe(t,e){if(hu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uS(t,e)}function uS(t,e){return uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uS(t,e)}function Jwe(t){var e=Zwe();return function(){var r=ry(t),i;if(e){var a=ry(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return dS(this,i)}}function dS(t,e){if(e&&(hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fS(t)}function fS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zwe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ry(t){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ry(t)}var ts=function(t){Xwe(n,t);var e=Jwe(n);function n(r,i){var a;Gwe(this,n),a=e.call(this,r,i);var s=a.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,d=s.steps,h=s.children,p=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(fS(a)),a.changeStyle=a.changeStyle.bind(fS(a)),!o||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:u}),dS(a);if(d&&d.length)a.state={style:d[0].style};else if(c){if(typeof h=="function")return a.state={style:c},dS(a);a.state={style:l?Zd({},l,c):c}}else a.state={style:{}};return a}return Ywe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,d=a.from,h=this.state.style;if(o){if(!s){var p={style:l?Zd({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(awe(i.to,u)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=g||c?d:i.to;if(this.state&&h){var v={style:l?Zd({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(v)}this.runAnimation(gi(gi({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,c=i.easing,u=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,p=Fwe(s,o,Nwe(c),l,this.changeStyle),g=function(){a.stopJSAnimation=p()};this.manager.start([h,u,g,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,c=s[0],u=c.style,d=c.duration,h=d===void 0?0:d,p=function(y,v,x){if(x===0)return y;var b=v.duration,w=v.easing,S=w===void 0?"ease":w,k=v.style,P=v.properties,_=v.onAnimationEnd,E=x>0?s[x-1]:v,N=P||Object.keys(k);if(typeof S=="function"||S==="spring")return[].concat(bw(y),[a.runJSAnimation.bind(a,{from:E.style,to:k,duration:b,easing:S}),b]);var A=bR(N,b,S),C=gi(gi(gi({},E.style),k),{},{transition:A});return[].concat(bw(y),[C,b,_]).filter(gwe)};return this.manager.start([l].concat(bw(s.reduce(p,[u,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=fwe());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=o?Zd({},o,l):l,v=bR(Object.keys(y),s,c);g.start([u,a,gi(gi({},y),{},{transition:v}),s,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Uwe(i,Vwe),c=R.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!o||c===0||s<=0)return a;var d=function(p){var g=p.props,y=g.style,v=y===void 0?{}:y,x=g.className,b=R.cloneElement(p,gi(gi({},l),{},{style:gi(gi({},v),u),className:x}));return b};return c===1?d(R.Children.only(a)):z.createElement("div",null,R.Children.map(a,function(h){return d(h)}))}}]),n}(R.PureComponent);ts.displayName="Animate";ts.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ts.propTypes={from:oe.oneOfType([oe.object,oe.string]),to:oe.oneOfType([oe.object,oe.string]),attributeName:oe.string,duration:oe.number,begin:oe.number,easing:oe.oneOfType([oe.string,oe.func]),steps:oe.arrayOf(oe.shape({duration:oe.number.isRequired,style:oe.object.isRequired,easing:oe.oneOfType([oe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),oe.func]),properties:oe.arrayOf("string"),onAnimationEnd:oe.func})),children:oe.oneOfType([oe.node,oe.func]),isActive:oe.bool,canBegin:oe.bool,onAnimationEnd:oe.func,shouldReAnimate:oe.bool,onAnimationStart:oe.func,onAnimationReStart:oe.func};function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function iy(){return iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iy.apply(this,arguments)}function e1e(t,e){return i1e(t)||r1e(t,e)||n1e(t,e)||t1e()}function t1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n1e(t,e){if(t){if(typeof t=="string")return TR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TR(t,e)}}function TR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function i1e(t){if(Array.isArray(t))return t}function PR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(n),!0).forEach(function(r){a1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a1e(t,e,n){return e=s1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s1e(t){var e=o1e(t,"string");return Fh(e)=="symbol"?e:e+""}function o1e(t,e){if(Fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AR=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=a[h]>s?s:a[h];u="M".concat(e,",").concat(n+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(n)),u+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+o*d[1])),u+="L ".concat(e+r,",").concat(n+i-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),u+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-o*d[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var g=Math.min(s,a);u="M ".concat(e,",").concat(n+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r,",").concat(n+o*g,`
            L `).concat(e+r,",").concat(n+i-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e,",").concat(n+i-o*g," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},l1e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(a,a+o),u=Math.max(a,a+o),d=Math.min(s,s+l),h=Math.max(s,s+l);return r>=c&&r<=u&&i>=d&&i<=h}return!1},c1e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bP=function(e){var n=NR(NR({},c1e),e),r=R.useRef(),i=R.useState(-1),a=e1e(i,2),s=a[0],o=a[1];R.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&o(S)}catch{}},[]);var l=n.x,c=n.y,u=n.width,d=n.height,h=n.radius,p=n.className,g=n.animationEasing,y=n.animationDuration,v=n.animationBegin,x=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var w=it("recharts-rectangle",p);return b?z.createElement(ts,{canBegin:s>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:y,animationEasing:g,isActive:b},function(S){var k=S.width,P=S.height,_=S.x,E=S.y;return z.createElement(ts,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,isActive:x,easing:g},z.createElement("path",iy({},Ye(n,!0),{className:w,d:AR(_,E,k,P,h),ref:r})))}):z.createElement("path",iy({},Ye(n,!0),{className:w,d:AR(l,c,u,d,h)}))};function hS(){return hS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hS.apply(this,arguments)}var wP=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=it("recharts-dot",a);return n===+n&&r===+r&&i===+i?R.createElement("circle",hS({},Ye(e,!1),_0(e),{className:s,cx:n,cy:r,r:i})):null};function Vh(t){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(t)}var u1e=["x","y","top","left","width","height","className"];function pS(){return pS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pS.apply(this,arguments)}function IR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d1e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(n),!0).forEach(function(r){f1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f1e(t,e,n){return e=h1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h1e(t){var e=p1e(t,"string");return Vh(e)=="symbol"?e:e+""}function p1e(t,e){if(Vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m1e(t,e){if(t==null)return{};var n=g1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function g1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var y1e=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},v1e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,c=l===void 0?0:l,u=e.width,d=u===void 0?0:u,h=e.height,p=h===void 0?0:h,g=e.className,y=m1e(e,u1e),v=d1e({x:r,y:a,top:o,left:c,width:d,height:p},y);return!pe(r)||!pe(a)||!pe(d)||!pe(p)||!pe(o)||!pe(c)?null:z.createElement("path",pS({},Ye(v,!0),{className:it("recharts-cross",g),d:y1e(r,a,d,p,o,c)}))},x1e=wF,b1e=x1e(Object.getPrototypeOf,Object),w1e=b1e,_1e=as,S1e=w1e,k1e=ss,E1e="[object Object]",T1e=Function.prototype,P1e=Object.prototype,o8=T1e.toString,N1e=P1e.hasOwnProperty,A1e=o8.call(Object);function I1e(t){if(!k1e(t)||_1e(t)!=E1e)return!1;var e=S1e(t);if(e===null)return!0;var n=N1e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&o8.call(n)==A1e}var O1e=I1e;const C1e=vt(O1e);var j1e=as,R1e=ss,M1e="[object Boolean]";function $1e(t){return t===!0||t===!1||R1e(t)&&j1e(t)==M1e}var D1e=$1e;const L1e=vt(D1e);function Uh(t){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}function ay(){return ay=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ay.apply(this,arguments)}function F1e(t,e){return z1e(t)||B1e(t,e)||U1e(t,e)||V1e()}function V1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U1e(t,e){if(t){if(typeof t=="string")return OR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OR(t,e)}}function OR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function B1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function z1e(t){if(Array.isArray(t))return t}function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){q1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q1e(t,e,n){return e=W1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W1e(t){var e=H1e(t,"string");return Uh(e)=="symbol"?e:e+""}function H1e(t,e){if(Uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RR=function(e,n,r,i,a){var s=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-s/2,",").concat(n+a),o+="L ".concat(e+r-s/2-i,",").concat(n+a),o+="L ".concat(e,",").concat(n," Z"),o},G1e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},K1e=function(e){var n=jR(jR({},G1e),e),r=R.useRef(),i=R.useState(-1),a=F1e(i,2),s=a[0],o=a[1];R.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&o(w)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,d=n.lowerWidth,h=n.height,p=n.className,g=n.animationEasing,y=n.animationDuration,v=n.animationBegin,x=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||h!==+h||u===0&&d===0||h===0)return null;var b=it("recharts-trapezoid",p);return x?z.createElement(ts,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:h,x:l,y:c},duration:y,animationEasing:g,isActive:x},function(w){var S=w.upperWidth,k=w.lowerWidth,P=w.height,_=w.x,E=w.y;return z.createElement(ts,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,easing:g},z.createElement("path",ay({},Ye(n,!0),{className:b,d:RR(_,E,S,k,P),ref:r})))}):z.createElement("g",null,z.createElement("path",ay({},Ye(n,!0),{className:b,d:RR(l,c,u,d,h)})))},Y1e=["option","shapeType","propTransformer","activeClassName","isActive"];function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function Q1e(t,e){if(t==null)return{};var n=X1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function X1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){J1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J1e(t,e,n){return e=Z1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z1e(t){var e=e_e(t,"string");return Bh(e)=="symbol"?e:e+""}function e_e(t,e){if(Bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t_e(t,e){return sy(sy({},e),t)}function n_e(t,e){return t==="symbols"}function $R(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return z.createElement(bP,n);case"trapezoid":return z.createElement(K1e,n);case"sector":return z.createElement(QV,n);case"symbols":if(n_e(e))return z.createElement(FT,n);break;default:return null}}function r_e(t){return R.isValidElement(t)?t.props:t}function i_e(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?t_e:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=Q1e(t,Y1e),c;if(R.isValidElement(e))c=R.cloneElement(e,sy(sy({},l),r_e(e)));else if(qe(e))c=e(l);else if(C1e(e)&&!L1e(e)){var u=i(e,l);c=z.createElement($R,{shapeType:n,elementProps:u})}else{var d=l;c=z.createElement($R,{shapeType:n,elementProps:d})}return o?z.createElement(jt,{className:s},c):c}function Ex(t,e){return e!=null&&"trapezoids"in t.props}function Tx(t,e){return e!=null&&"sectors"in t.props}function zh(t,e){return e!=null&&"points"in t.props}function a_e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function s_e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function o_e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function l_e(t,e){var n;return Ex(t,e)?n=a_e:Tx(t,e)?n=s_e:zh(t,e)&&(n=o_e),n}function c_e(t,e){var n;return Ex(t,e)?n="trapezoids":Tx(t,e)?n="sectors":zh(t,e)&&(n="points"),n}function u_e(t,e){if(Ex(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Tx(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return zh(t,e)?e.payload:{}}function d_e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=c_e(n,e),a=u_e(n,e),s=r.filter(function(l,c){var u=Th(a,l),d=n.props[i].filter(function(g){var y=l_e(n,e);return y(g,e)}),h=n.props[i].indexOf(d[d.length-1]),p=c===h;return u&&p}),o=r.indexOf(s[s.length-1]);return o}var f_e=Math.ceil,h_e=Math.max;function p_e(t,e,n,r){for(var i=-1,a=h_e(f_e((e-t)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=t,t+=n;return s}var m_e=p_e,g_e=VF,DR=1/0,y_e=17976931348623157e292;function v_e(t){if(!t)return t===0?t:0;if(t=g_e(t),t===DR||t===-DR){var e=t<0?-1:1;return e*y_e}return t===t?t:0}var l8=v_e,x_e=m_e,b_e=px,ww=l8;function w_e(t){return function(e,n,r){return r&&typeof r!="number"&&b_e(e,n,r)&&(n=r=void 0),e=ww(e),n===void 0?(n=e,e=0):n=ww(n),r=r===void 0?e<n?1:-1:ww(r),x_e(e,n,r,t)}}var __e=w_e,S_e=__e,k_e=S_e(),E_e=k_e;const oy=vt(E_e);function qh(t){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}function LR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LR(Object(n),!0).forEach(function(r){c8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c8(t,e,n){return e=T_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T_e(t){var e=P_e(t,"string");return qh(e)=="symbol"?e:e+""}function P_e(t,e){if(qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var N_e=["Webkit","Moz","O","ms"],A_e=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=N_e.reduce(function(a,s){return FR(FR({},a),{},c8({},s+r,n))},{});return i[e]=n,i};function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function ly(){return ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ly.apply(this,arguments)}function VR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _w(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(n),!0).forEach(function(r){kr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d8(r.key),r)}}function O_e(t,e,n){return e&&UR(t.prototype,e),n&&UR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function C_e(t,e,n){return e=cy(e),j_e(t,u8()?Reflect.construct(e,n||[],cy(t).constructor):e.apply(t,n))}function j_e(t,e){if(e&&(pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R_e(t)}function R_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u8=function(){return!!t})()}function cy(t){return cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cy(t)}function M_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mS(t,e)}function mS(t,e){return mS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mS(t,e)}function kr(t,e,n){return e=d8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d8(t){var e=$_e(t,"string");return pu(e)=="symbol"?e:e+""}function $_e(t,e){if(pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var D_e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=Af().domain(oy(0,l)).range([a,a+s-o]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},BR=function(e){return e.changedTouches&&!!e.changedTouches.length},mu=function(t){function e(n){var r;return I_e(this,e),r=C_e(this,e,[n]),kr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),kr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),kr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),r.detachDragEndListener()}),kr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),kr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),kr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),kr(r,"handleSlideDragStart",function(i){var a=BR(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return M_e(e,t),O_e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,d=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(s,d),g=e.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=Dr(a[r],o,r);return qe(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,y=r.pageX-a;y>0?y=Math.min(y,c+u-d-o,c+u-d-s):y<0&&(y=Math.max(y,c-s,c-o));var v=this.getIndex({startX:s+y,endX:o+y});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:s+y,endX:o+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=BR(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[s],u=this.props,d=u.x,h=u.width,p=u.travellerWidth,g=u.onChange,y=u.gap,v=u.data,x={startX:this.state.startX,endX:this.state.endX},b=r.pageX-a;b>0?b=Math.min(b,d+h-p-c):b<0&&(b=Math.max(b,d-c)),x[s]=c+b;var w=this.getIndex(x),S=w.startIndex,k=w.endIndex,P=function(){var E=v.length-1;return s==="startX"&&(o>l?S%y===0:k%y===0)||o<l&&k===E||s==="endX"&&(o>l?k%y===0:S%y===0)||o>l&&k===E};this.setState(kr(kr({},s,c+b),"brushMoveStartX",r.pageX),function(){g&&P()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[i],d=o.indexOf(u);if(d!==-1){var h=d+r;if(!(h===-1||h>=o.length)){var p=o[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(kr({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.fill,c=r.stroke;return z.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.data,c=r.children,u=r.padding,d=R.Children.only(c);return d?z.cloneElement(d,{x:i,y:a,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,y=l.startIndex,v=l.endIndex,x=Math.max(r,this.props.x),b=_w(_w({},Ye(this.props,!1)),{},{x,y:c,width:u,height:d}),w=p||"Min value: ".concat((a=g[y])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=g[v])===null||s===void 0?void 0:s.name);return z.createElement(jt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(k){["ArrowLeft","ArrowRight"].includes(k.key)&&(k.preventDefault(),k.stopPropagation(),o.handleTravellerMoveKeyboard(k.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(r,i)+c,d=Math.max(Math.abs(i-r)-c,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:d,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,d=u.startX,h=u.endX,p=5,g={pointerEvents:"none",fill:c};return z.createElement(jt,{className:"recharts-brush-texts"},z.createElement(D0,ly({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:s+o/2},g),this.getTextOfTick(i)),z.createElement(D0,ly({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:s+o/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,o=r.x,l=r.y,c=r.width,u=r.height,d=r.alwaysShowText,h=this.state,p=h.startX,g=h.endX,y=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!pe(o)||!pe(l)||!pe(c)||!pe(u)||c<=0||u<=0)return null;var w=it("recharts-brush",a),S=z.Children.count(s)===1,k=A_e("userSelect","none");return z.createElement(jt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:k},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(y||v||x||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,o=r.height,l=r.stroke,c=Math.floor(a+o/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),z.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return z.isValidElement(r)?a=z.cloneElement(r,i):qe(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,d=r.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return _w({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},a&&a.length?D_e({data:a,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);r[l]>i?o=l:s=l}return i>=r[o]?o:s}}])}(R.PureComponent);kr(mu,"displayName","Brush");kr(mu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var L_e=HT;function F_e(t,e){var n;return L_e(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var V_e=F_e,U_e=hF,B_e=ko,z_e=V_e,q_e=wr,W_e=px;function H_e(t,e,n){var r=q_e(t)?U_e:z_e;return n&&W_e(t,e,n)&&(e=void 0),r(t,B_e(e))}var G_e=H_e;const K_e=vt(G_e);var sa=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},zR=MF;function Y_e(t,e,n){e=="__proto__"&&zR?zR(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Q_e=Y_e,X_e=Q_e,J_e=jF,Z_e=ko;function eSe(t,e){var n={};return e=Z_e(e),J_e(t,function(r,i,a){X_e(n,i,e(r,i,a))}),n}var tSe=eSe;const nSe=vt(tSe);function rSe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var iSe=rSe,aSe=HT;function sSe(t,e){var n=!0;return aSe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var oSe=sSe,lSe=iSe,cSe=oSe,uSe=ko,dSe=wr,fSe=px;function hSe(t,e,n){var r=dSe(t)?lSe:cSe;return n&&fSe(t,e,n)&&(e=void 0),r(t,uSe(e))}var pSe=hSe;const f8=vt(pSe);var mSe=["x","y"];function Wh(t){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(t)}function gS(){return gS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gS.apply(this,arguments)}function qR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ld(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(n),!0).forEach(function(r){gSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gSe(t,e,n){return e=ySe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ySe(t){var e=vSe(t,"string");return Wh(e)=="symbol"?e:e+""}function vSe(t,e){if(Wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xSe(t,e){if(t==null)return{};var n=bSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wSe(t,e){var n=t.x,r=t.y,i=xSe(t,mSe),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),u=parseInt(c,10),d="".concat(e.width||i.width),h=parseInt(d,10);return Ld(Ld(Ld(Ld(Ld({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function WR(t){return z.createElement(i_e,gS({shapeType:"rectangle",propTransformer:wSe,activeClassName:"recharts-active-bar"},t))}var _Se=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=pe(r)||Rie(r);return a?e(r,i):(a||Sl(),n)}},SSe=["value","background"],h8;function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function kSe(t,e){if(t==null)return{};var n=ESe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ESe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uy(){return uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uy.apply(this,arguments)}function HR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(n),!0).forEach(function(r){Ds(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m8(r.key),r)}}function PSe(t,e,n){return e&&GR(t.prototype,e),n&&GR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function NSe(t,e,n){return e=dy(e),ASe(t,p8()?Reflect.construct(e,n||[],dy(t).constructor):e.apply(t,n))}function ASe(t,e){if(e&&(gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ISe(t)}function ISe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p8=function(){return!!t})()}function dy(t){return dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dy(t)}function OSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yS(t,e)}function yS(t,e){return yS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yS(t,e)}function Ds(t,e,n){return e=m8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m8(t){var e=CSe(t,"string");return gu(e)=="symbol"?e:e+""}function CSe(t,e){if(gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ip=function(t){function e(){var n;TSe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=NSe(this,e,[].concat(i)),Ds(n,"state",{isAnimationFinished:!1}),Ds(n,"id",kp("recharts-bar-")),Ds(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Ds(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return OSe(e,t),PSe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,c=a.activeBar,u=Ye(this.props,!1);return r&&r.map(function(d,h){var p=h===l,g=p?c:s,y=Yt(Yt(Yt({},u),d),{},{isActive:p,option:g,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return z.createElement(jt,uy({className:"recharts-bar-rectangle"},S0(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),z.createElement(WR,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state.prevData;return z.createElement(ts,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,y=a.map(function(v,x){var b=h&&h[x];if(b){var w=Yr(b.x,v.x),S=Yr(b.y,v.y),k=Yr(b.width,v.width),P=Yr(b.height,v.height);return Yt(Yt({},v),{},{x:w(g),y:S(g),width:k(g),height:P(g)})}if(s==="horizontal"){var _=Yr(0,v.height),E=_(g);return Yt(Yt({},v),{},{y:v.y+v.height-E,height:E})}var N=Yr(0,v.width),A=N(g);return Yt(Yt({},v),{},{width:A})});return z.createElement(jt,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Th(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=Ye(this.props.background,!1);return a.map(function(c,u){c.value;var d=c.background,h=kSe(c,SSe);if(!d)return null;var p=Yt(Yt(Yt(Yt(Yt({},h),{},{fill:"#eee"},d),l),S0(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return z.createElement(WR,uy({key:"background-bar-".concat(u),option:r.props.background,isActive:u===o},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,d=ji(u,kx);if(!d)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(v,x){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:Dr(v,x)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return z.createElement(jt,g,d.map(function(y){return z.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,o=r.xAxis,l=r.yAxis,c=r.left,u=r.top,d=r.width,h=r.height,p=r.isAnimationActive,g=r.background,y=r.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,x=it("recharts-bar",s),b=o&&o.allowDataOverflow,w=l&&l.allowDataOverflow,S=b||w,k=et(y)?this.id:y;return z.createElement(jt,{className:x},b||w?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(k)},z.createElement("rect",{x:b?c:c-d/2,y:w?u:u-h/2,width:b?d:d*2,height:w?h:h*2}))):null,z.createElement(jt,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(k,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,k),(!p||v)&&no.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(R.PureComponent);h8=Ip;Ds(Ip,"displayName","Bar");Ds(Ip,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!td.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ds(Ip,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,h=t.offset,p=ixe(r,n);if(!p)return null;var g=e.layout,y=n.type.defaultProps,v=y!==void 0?Yt(Yt({},y),n.props):n.props,x=v.dataKey,b=v.children,w=v.minPointSize,S=g==="horizontal"?s:a,k=c?S.scale.domain():null,P=fxe({numericAxis:S}),_=ji(b,BF),E=d.map(function(N,A){var C,j,O,M,$,L;c?C=axe(c[u+A],k):(C=Dr(N,x),Array.isArray(C)||(C=[P,C]));var W=_Se(w,h8.defaultProps.minPointSize)(C[1],A);if(g==="horizontal"){var F,U=[s.scale(C[0]),s.scale(C[1])],G=U[0],Q=U[1];j=Yj({axis:a,ticks:o,bandSize:i,offset:p.offset,entry:N,index:A}),O=(F=Q??G)!==null&&F!==void 0?F:void 0,M=p.size;var B=G-Q;if($=Number.isNaN(B)?0:B,L={x:j,y:s.y,width:M,height:s.height},Math.abs(W)>0&&Math.abs($)<Math.abs(W)){var ae=Ti($||W)*(Math.abs(W)-Math.abs($));O-=ae,$+=ae}}else{var ge=[a.scale(C[0]),a.scale(C[1])],ye=ge[0],Z=ge[1];if(j=ye,O=Yj({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:N,index:A}),M=Z-ye,$=p.size,L={x:a.x,y:O,width:a.width,height:$},Math.abs(W)>0&&Math.abs(M)<Math.abs(W)){var te=Ti(M||W)*(Math.abs(W)-Math.abs(M));M+=te}}return Yt(Yt(Yt({},N),{},{x:j,y:O,width:M,height:$,value:c?C:C[1],payload:N,background:L},_&&_[A]&&_[A].props),{},{tooltipPayload:[GV(n,N)],tooltipPosition:{x:j+M/2,y:O+$/2}})});return Yt({data:E,layout:g},h)});function Hh(t){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}function jSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g8(r.key),r)}}function RSe(t,e,n){return e&&KR(t.prototype,e),n&&KR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function YR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(n),!0).forEach(function(r){Px(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Px(t,e,n){return e=g8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g8(t){var e=MSe(t,"string");return Hh(e)=="symbol"?e:e+""}function MSe(t,e){if(Hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $Se=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.layout,c=e.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},h=!!Tr(c,Ip);return u.reduce(function(p,g){var y=n[g],v=y.orientation,x=y.domain,b=y.padding,w=b===void 0?{}:b,S=y.mirror,k=y.reversed,P="".concat(v).concat(S?"Mirror":""),_,E,N,A,C;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var j=x[1]-x[0],O=1/0,M=y.categoricalDomain.sort(Die);if(M.forEach(function(ge,ye){ye>0&&(O=Math.min((ge||0)-(M[ye-1]||0),O))}),Number.isFinite(O)){var $=O/j,L=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(_=$*L/2),y.padding==="no-gap"){var W=wl(e.barCategoryGap,$*L),F=$*L/2;_=F-W-(F-W)/L*W}}}i==="xAxis"?E=[r.left+(w.left||0)+(_||0),r.left+r.width-(w.right||0)-(_||0)]:i==="yAxis"?E=l==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(_||0),r.top+r.height-(w.bottom||0)-(_||0)]:E=y.range,k&&(E=[E[1],E[0]]);var U=nxe(y,a,h),G=U.scale,Q=U.realScaleType;G.domain(x).range(E),rxe(G);var B=dxe(G,xi(xi({},y),{},{realScaleType:Q}));i==="xAxis"?(C=v==="top"&&!S||v==="bottom"&&S,N=r.left,A=d[P]-C*y.height):i==="yAxis"&&(C=v==="left"&&!S||v==="right"&&S,N=d[P]-C*y.width,A=r.top);var ae=xi(xi(xi({},y),B),{},{realScaleType:Q,x:N,y:A,scale:G,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return ae.bandSize=X0(ae,B),!y.hide&&i==="xAxis"?d[P]+=(C?-1:1)*ae.height:y.hide||(d[P]+=(C?-1:1)*ae.width),xi(xi({},p),{},Px({},g,ae))},{})},y8=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},DSe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return y8({x:n,y:r},{x:i,y:a})},v8=function(){function t(e){jSe(this,t),this.scale=e}return RSe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Px(v8,"EPS",1e-4);var _P=function(e){var n=Object.keys(e).reduce(function(r,i){return xi(xi({},r),{},Px({},i,v8.create(e[i])))},{});return xi(xi({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return nSe(i,function(l,c){return n[c].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return f8(i,function(a,s){return n[s].isInRange(a)})}})};function LSe(t){return(t%180+180)%180}var FSe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=LSe(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},VSe=ko,USe=Ep,BSe=fx;function zSe(t){return function(e,n,r){var i=Object(e);if(!USe(e)){var a=VSe(n);e=BSe(e),n=function(o){return a(i[o],o,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:void 0}}var qSe=zSe,WSe=l8;function HSe(t){var e=WSe(t),n=e%1;return e===e?n?e-n:e:0}var GSe=HSe,KSe=PF,YSe=ko,QSe=GSe,XSe=Math.max;function JSe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:QSe(n);return i<0&&(i=XSe(r+i,0)),KSe(t,YSe(e),i)}var ZSe=JSe,eke=qSe,tke=ZSe,nke=eke(tke),rke=nke;const ike=vt(rke);var ake=Vre(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),SP=R.createContext(void 0),kP=R.createContext(void 0),x8=R.createContext(void 0),b8=R.createContext({}),w8=R.createContext(void 0),_8=R.createContext(0),S8=R.createContext(0),QR=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,o=e.children,l=e.width,c=e.height,u=ake(a);return z.createElement(SP.Provider,{value:r},z.createElement(kP.Provider,{value:i},z.createElement(b8.Provider,{value:a},z.createElement(x8.Provider,{value:u},z.createElement(w8.Provider,{value:s},z.createElement(_8.Provider,{value:c},z.createElement(S8.Provider,{value:l},o)))))))},ske=function(){return R.useContext(w8)},k8=function(e){var n=R.useContext(SP);n==null&&Sl();var r=n[e];return r==null&&Sl(),r},oke=function(){var e=R.useContext(SP);return Os(e)},lke=function(){var e=R.useContext(kP),n=ike(e,function(r){return f8(r.domain,Number.isFinite)});return n||Os(e)},E8=function(e){var n=R.useContext(kP);n==null&&Sl();var r=n[e];return r==null&&Sl(),r},cke=function(){var e=R.useContext(x8);return e},uke=function(){return R.useContext(b8)},EP=function(){return R.useContext(S8)},TP=function(){return R.useContext(_8)};function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function dke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P8(r.key),r)}}function hke(t,e,n){return e&&fke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pke(t,e,n){return e=fy(e),mke(t,T8()?Reflect.construct(e,n||[],fy(t).constructor):e.apply(t,n))}function mke(t,e){if(e&&(yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gke(t)}function gke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T8=function(){return!!t})()}function fy(t){return fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fy(t)}function yke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vS(t,e)}function vS(t,e){return vS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vS(t,e)}function XR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(n),!0).forEach(function(r){PP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PP(t,e,n){return e=P8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P8(t){var e=vke(t,"string");return yu(e)=="symbol"?e:e+""}function vke(t,e){if(yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function xke(t,e){return Ske(t)||_ke(t,e)||wke(t,e)||bke()}function bke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wke(t,e){if(t){if(typeof t=="string")return ZR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZR(t,e)}}function ZR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _ke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Ske(t){if(Array.isArray(t))return t}function xS(){return xS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xS.apply(this,arguments)}var kke=function(e,n){var r;return z.isValidElement(e)?r=z.cloneElement(e,n):qe(e)?r=e(n):r=z.createElement("line",xS({},n,{className:"recharts-reference-line-line"})),r},Eke=function(e,n,r,i,a,s,o,l,c){var u=a.x,d=a.y,h=a.width,p=a.height;if(r){var g=c.y,y=e.y.apply(g,{position:s});if(sa(c,"discard")&&!e.y.isInRange(y))return null;var v=[{x:u+h,y},{x:u,y}];return l==="left"?v.reverse():v}if(n){var x=c.x,b=e.x.apply(x,{position:s});if(sa(c,"discard")&&!e.x.isInRange(b))return null;var w=[{x:b,y:d+p},{x:b,y:d}];return o==="top"?w.reverse():w}if(i){var S=c.segment,k=S.map(function(P){return e.apply(P,{position:s})});return sa(c,"discard")&&K_e(k,function(P){return!e.isInRange(P)})?null:k}return null};function Tke(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,c=ske(),u=k8(i),d=E8(a),h=cke();if(!c||!h)return null;Ua(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=_P({x:u.scale,y:d.scale}),g=ln(e),y=ln(n),v=r&&r.length===2,x=Eke(p,g,y,v,h,t.position,u.orientation,d.orientation,t);if(!x)return null;var b=xke(x,2),w=b[0],S=w.x,k=w.y,P=b[1],_=P.x,E=P.y,N=sa(t,"hidden")?"url(#".concat(c,")"):void 0,A=JR(JR({clipPath:N},Ye(t,!0)),{},{x1:S,y1:k,x2:_,y2:E});return z.createElement(jt,{className:it("recharts-reference-line",o)},kke(s,A),Vn.renderCallByParent(t,DSe({x1:S,y1:k,x2:_,y2:E})))}var NP=function(t){function e(){return dke(this,e),pke(this,e,arguments)}return yke(e,t),hke(e,[{key:"render",value:function(){return z.createElement(Tke,this.props)}}])}(z.Component);PP(NP,"displayName","ReferenceLine");PP(NP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function bS(){return bS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bS.apply(this,arguments)}function vu(t){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}function eM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eM(Object(n),!0).forEach(function(r){Nx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A8(r.key),r)}}function Ake(t,e,n){return e&&Nke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ike(t,e,n){return e=hy(e),Oke(t,N8()?Reflect.construct(e,n||[],hy(t).constructor):e.apply(t,n))}function Oke(t,e){if(e&&(vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cke(t)}function Cke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N8=function(){return!!t})()}function hy(t){return hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hy(t)}function jke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wS(t,e)}function wS(t,e){return wS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wS(t,e)}function Nx(t,e,n){return e=A8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A8(t){var e=Rke(t,"string");return vu(e)=="symbol"?e:e+""}function Rke(t,e){if(vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mke=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=_P({x:i.scale,y:a.scale}),o=s.apply({x:n,y:r},{bandAware:!0});return sa(e,"discard")&&!s.isInRange(o)?null:o},Ax=function(t){function e(){return Pke(this,e),Ike(this,e,arguments)}return jke(e,t),Ake(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,o=r.alwaysShow,l=r.clipPathId,c=ln(i),u=ln(a);if(Ua(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=Mke(this.props);if(!d)return null;var h=d.x,p=d.y,g=this.props,y=g.shape,v=g.className,x=sa(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=tM(tM({clipPath:x},Ye(this.props,!0)),{},{cx:h,cy:p});return z.createElement(jt,{className:it("recharts-reference-dot",v)},e.renderDot(y,b),Vn.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(z.Component);Nx(Ax,"displayName","ReferenceDot");Nx(Ax,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Nx(Ax,"renderDot",function(t,e){var n;return z.isValidElement(t)?n=z.cloneElement(t,e):qe(t)?n=t(e):n=z.createElement(wP,bS({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function _S(){return _S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_S.apply(this,arguments)}function xu(t){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(t)}function nM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nM(Object(n),!0).forEach(function(r){Ix(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O8(r.key),r)}}function Lke(t,e,n){return e&&Dke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fke(t,e,n){return e=py(e),Vke(t,I8()?Reflect.construct(e,n||[],py(t).constructor):e.apply(t,n))}function Vke(t,e){if(e&&(xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uke(t)}function Uke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I8=function(){return!!t})()}function py(t){return py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},py(t)}function Bke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SS(t,e)}function SS(t,e){return SS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SS(t,e)}function Ix(t,e,n){return e=O8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O8(t){var e=zke(t,"string");return xu(e)=="symbol"?e:e+""}function zke(t,e){if(xu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qke=function(e,n,r,i,a){var s=a.x1,o=a.x2,l=a.y1,c=a.y2,u=a.xAxis,d=a.yAxis;if(!u||!d)return null;var h=_P({x:u.scale,y:d.scale}),p={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return sa(a,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:y8(p,g)},Ox=function(t){function e(){return $ke(this,e),Fke(this,e,arguments)}return Bke(e,t),Lke(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;Ua(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=ln(i),h=ln(a),p=ln(s),g=ln(o),y=this.props.shape;if(!d&&!h&&!p&&!g&&!y)return null;var v=qke(d,h,p,g,this.props);if(!v&&!y)return null;var x=sa(this.props,"hidden")?"url(#".concat(u,")"):void 0;return z.createElement(jt,{className:it("recharts-reference-area",l)},e.renderRect(y,rM(rM({clipPath:x},Ye(this.props,!0)),v)),Vn.renderCallByParent(this.props,v))}}])}(z.Component);Ix(Ox,"displayName","ReferenceArea");Ix(Ox,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ix(Ox,"renderRect",function(t,e){var n;return z.isValidElement(t)?n=z.cloneElement(t,e):qe(t)?n=t(e):n=z.createElement(bP,_S({},e,{className:"recharts-reference-area-rect"})),n});function C8(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Wke(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return FSe(r,n)}function Hke(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function my(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Gke(t,e){return C8(t,e+1)}function Kke(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,o=e.end,l=0,c=1,u=s,d=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:C8(r,c)};var y=l,v,x=function(){return v===void 0&&(v=n(g,y)),v},b=g.coordinate,w=l===0||my(t,b,x,u,o);w||(l=0,u=s,c+=1),w&&(u=b+t*(x()/2+i),l+=c)},h;c<=a.length;)if(h=d(),h)return h.v;return[]}function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}function iM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iM(Object(n),!0).forEach(function(r){Yke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yke(t,e,n){return e=Qke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qke(t){var e=Xke(t,"string");return Gh(e)=="symbol"?e:e+""}function Xke(t,e){if(Gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jke(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,o=e.start,l=e.end,c=function(h){var p=a[h],g,y=function(){return g===void 0&&(g=n(p,h)),g};if(h===s-1){var v=t*(p.coordinate+t*y()/2-l);a[h]=p=$n($n({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else a[h]=p=$n($n({},p),{},{tickCoord:p.coordinate});var x=my(t,p.tickCoord,y,o,l);x&&(l=p.tickCoord-t*(y()/2+i),a[h]=$n($n({},p),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}function Zke(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,l=e.start,c=e.end;if(a){var u=r[o-1],d=n(u,o-1),h=t*(u.coordinate+t*d/2-c);s[o-1]=u=$n($n({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var p=my(t,u.tickCoord,function(){return d},l,c);p&&(c=u.tickCoord-t*(d/2+i),s[o-1]=$n($n({},u),{},{isShow:!0}))}for(var g=a?o-1:o,y=function(b){var w=s[b],S,k=function(){return S===void 0&&(S=n(w,b)),S};if(b===0){var P=t*(w.coordinate-t*k()/2-l);s[b]=w=$n($n({},w),{},{tickCoord:P<0?w.coordinate-P*t:w.coordinate})}else s[b]=w=$n($n({},w),{},{tickCoord:w.coordinate});var _=my(t,w.tickCoord,k,l,c);_&&(l=w.tickCoord+t*(k()/2+i),s[b]=$n($n({},w),{},{isShow:!0}))},v=0;v<g;v++)y(v);return s}function AP(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(pe(l)||td.isSsr)return Gke(i,typeof l=="number"&&pe(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",g=u&&p==="width"?Nf(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(w,S){var k=qe(c)?c(w.value,S):w.value;return p==="width"?Wke(Nf(k,{fontSize:e,letterSpacing:n}),g,d):Nf(k,{fontSize:e,letterSpacing:n})[p]},v=i.length>=2?Ti(i[1].coordinate-i[0].coordinate):1,x=Hke(a,v,p);return l==="equidistantPreserveStart"?Kke(v,x,y,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=Zke(v,x,y,i,s,l==="preserveStartEnd"):h=Jke(v,x,y,i,s),h.filter(function(b){return b.isShow}))}var eEe=["viewBox"],tEe=["viewBox"],nEe=["ticks"];function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function yc(){return yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yc.apply(this,arguments)}function aM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aM(Object(n),!0).forEach(function(r){IP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sw(t,e){if(t==null)return{};var n=rEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function iEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R8(r.key),r)}}function aEe(t,e,n){return e&&sM(t.prototype,e),n&&sM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sEe(t,e,n){return e=gy(e),oEe(t,j8()?Reflect.construct(e,n||[],gy(t).constructor):e.apply(t,n))}function oEe(t,e){if(e&&(bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lEe(t)}function lEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j8=function(){return!!t})()}function gy(t){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gy(t)}function cEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kS(t,e)}function kS(t,e){return kS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kS(t,e)}function IP(t,e,n){return e=R8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R8(t){var e=uEe(t,"string");return bu(e)=="symbol"?e:e+""}function uEe(t,e){if(bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ad=function(t){function e(n){var r;return iEe(this,e),r=sEe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return cEe(e,t),aEe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=Sw(r,eEe),o=this.props,l=o.viewBox,c=Sw(o,tEe);return!Mc(a,l)||!Mc(s,c)||!Mc(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,c=i.orientation,u=i.tickSize,d=i.mirror,h=i.tickMargin,p,g,y,v,x,b,w=d?-1:1,S=r.tickSize||u,k=pe(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=g=r.coordinate,v=s+ +!d*l,y=v-w*S,b=y-w*h,x=k;break;case"left":y=v=r.coordinate,g=a+ +!d*o,p=g-w*S,x=p-w*h,b=k;break;case"right":y=v=r.coordinate,g=a+ +d*o,p=g+w*S,x=p+w*h,b=k;break;default:p=g=r.coordinate,v=s+ +d*l,y=v+w*S,b=y+w*h,x=k;break}return{line:{x1:p,y1:y,x2:g,y2:v},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,d=rn(rn(rn({},Ye(this.props,!1)),Ye(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=rn(rn({},d),{},{x1:i,y1:a+h*o,x2:i+s,y2:a+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=rn(rn({},d),{},{x1:i+p*s,y1:a,x2:i+p*s,y2:a+o})}return z.createElement("line",yc({},d,{className:it("recharts-cartesian-axis-line",ai(u,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,d=o.tickFormatter,h=o.unit,p=AP(rn(rn({},this.props),{},{ticks:r}),i,a),g=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),v=Ye(this.props,!1),x=Ye(u,!1),b=rn(rn({},v),{},{fill:"none"},Ye(l,!1)),w=p.map(function(S,k){var P=s.getTickLineCoord(S),_=P.line,E=P.tick,N=rn(rn(rn(rn({textAnchor:g,verticalAnchor:y},v),{},{stroke:"none",fill:c},x),E),{},{index:k,payload:S,visibleTicksCount:p.length,tickFormatter:d});return z.createElement(jt,yc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},S0(s.props,S,k)),l&&z.createElement("line",yc({},b,_,{className:it("recharts-cartesian-axis-tick-line",ai(l,"className"))})),u&&e.renderTickItem(u,N,"".concat(qe(d)?d(S.value,k):S.value).concat(h||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var d=this.props,h=d.ticks,p=Sw(d,nEe),g=h;return qe(l)&&(g=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!g||!g.length?null:z.createElement(jt,{className:it("recharts-cartesian-axis",c),ref:function(v){r.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Vn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,o=it(i.className,"recharts-cartesian-axis-tick-value");return z.isValidElement(r)?s=z.cloneElement(r,rn(rn({},i),{},{className:o})):qe(r)?s=r(rn(rn({},i),{},{className:o})):s=z.createElement(D0,yc({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(R.Component);IP(ad,"displayName","CartesianAxis");IP(ad,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var dEe=["x1","y1","x2","y2","key"],fEe=["offset"];function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function oM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oM(Object(n),!0).forEach(function(r){hEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hEe(t,e,n){return e=pEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pEe(t){var e=mEe(t,"string");return kl(e)=="symbol"?e:e+""}function mEe(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jo(){return Jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jo.apply(this,arguments)}function lM(t,e){if(t==null)return{};var n=gEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var yEe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return z.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function M8(t,e){var n;if(z.isValidElement(t))n=z.cloneElement(t,e);else if(qe(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=lM(e,dEe),c=Ye(l,!1);c.offset;var u=lM(c,fEe);n=z.createElement("line",Jo({},u,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function vEe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=Un(Un({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return M8(i,c)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function xEe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=Un(Un({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return M8(i,c)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function bEe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var g=!u[p+1],y=g?i+s-h:u[p+1]-h;if(y<=0)return null;var v=p%e.length;return z.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:y,width:a,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function wEe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var g=!u[p+1],y=g?a+o-h:u[p+1]-h;if(y<=0)return null;var v=p%r.length;return z.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:y,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var _Ee=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return WV(AP(Un(Un(Un({},ad.defaultProps),r),{},{ticks:Ma(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},SEe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return WV(AP(Un(Un(Un({},ad.defaultProps),r),{},{ticks:Ma(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},Kl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function $8(t){var e,n,r,i,a,s,o=EP(),l=TP(),c=uke(),u=Un(Un({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Kl.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Kl.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Kl.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Kl.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Kl.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Kl.verticalFill,x:pe(t.x)?t.x:c.left,y:pe(t.y)?t.y:c.top,width:pe(t.width)?t.width:c.width,height:pe(t.height)?t.height:c.height}),d=u.x,h=u.y,p=u.width,g=u.height,y=u.syncWithTicks,v=u.horizontalValues,x=u.verticalValues,b=oke(),w=lke();if(!pe(p)||p<=0||!pe(g)||g<=0||!pe(d)||d!==+d||!pe(h)||h!==+h)return null;var S=u.verticalCoordinatesGenerator||_Ee,k=u.horizontalCoordinatesGenerator||SEe,P=u.horizontalPoints,_=u.verticalPoints;if((!P||!P.length)&&qe(k)){var E=v&&v.length,N=k({yAxis:w?Un(Un({},w),{},{ticks:E?v:w.ticks}):void 0,width:o,height:l,offset:c},E?!0:y);Ua(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(kl(N),"]")),Array.isArray(N)&&(P=N)}if((!_||!_.length)&&qe(S)){var A=x&&x.length,C=S({xAxis:b?Un(Un({},b),{},{ticks:A?x:b.ticks}):void 0,width:o,height:l,offset:c},A?!0:y);Ua(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(kl(C),"]")),Array.isArray(C)&&(_=C)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(yEe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),z.createElement(vEe,Jo({},u,{offset:c,horizontalPoints:P,xAxis:b,yAxis:w})),z.createElement(xEe,Jo({},u,{offset:c,verticalPoints:_,xAxis:b,yAxis:w})),z.createElement(bEe,Jo({},u,{horizontalPoints:P})),z.createElement(wEe,Jo({},u,{verticalPoints:_})))}$8.displayName="CartesianGrid";var kEe=["layout","type","stroke","connectNulls","isRange","ref"],EEe=["key"],D8;function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}function L8(t,e){if(t==null)return{};var n=TEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zo(){return Zo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zo.apply(this,arguments)}function cM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cM(Object(n),!0).forEach(function(r){Xi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V8(r.key),r)}}function NEe(t,e,n){return e&&uM(t.prototype,e),n&&uM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function AEe(t,e,n){return e=yy(e),IEe(t,F8()?Reflect.construct(e,n||[],yy(t).constructor):e.apply(t,n))}function IEe(t,e){if(e&&(wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OEe(t)}function OEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F8=function(){return!!t})()}function yy(t){return yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yy(t)}function CEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ES(t,e)}function ES(t,e){return ES=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ES(t,e)}function Xi(t,e,n){return e=V8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V8(t){var e=jEe(t,"string");return wu(e)=="symbol"?e:e+""}function jEe(t,e){if(wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var No=function(t){function e(){var n;PEe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=AEe(this,e,[].concat(i)),Xi(n,"state",{isAnimationFinished:!0}),Xi(n,"id",kp("recharts-area-")),Xi(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),qe(s)&&s()}),Xi(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),qe(s)&&s()}),n}return CEe(e,t),NEe(e,[{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=Ye(this.props,!1),p=Ye(c,!0),g=u.map(function(v,x){var b=xs(xs(xs({key:"dot-".concat(x),r:3},h),p),{},{index:x,cx:v.x,cy:v.y,dataKey:d,value:v.value,payload:v.payload,points:u});return e.renderDotItem(c,b)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return z.createElement(jt,Zo({className:"recharts-area-dots"},y),g)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].x,c=s[s.length-1].x,u=r*Math.abs(l-c),d=$s(s.map(function(h){return h.y||0}));return pe(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max($s(a.map(function(h){return h.y||0})),d)),pe(d)?z.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(d+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].y,c=s[s.length-1].y,u=r*Math.abs(l-c),d=$s(s.map(function(h){return h.x||0}));return pe(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max($s(a.map(function(h){return h.x||0})),d)),pe(d)?z.createElement("rect",{x:0,y:l<c?l:l-u,width:d+(o?parseInt("".concat(o),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,s){var o=this.props,l=o.layout,c=o.type,u=o.stroke,d=o.connectNulls,h=o.isRange;o.ref;var p=L8(o,kEe);return z.createElement(jt,{clipPath:a?"url(#clipPath-".concat(s,")"):null},z.createElement(Of,Zo({},Ye(p,!0),{points:r,connectNulls:d,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&z.createElement(Of,Zo({},Ye(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:r})),u!=="none"&&h&&z.createElement(Of,Zo({},Ye(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,h=s.animationEasing,p=s.animationId,g=this.state,y=g.prevPoints,v=g.prevBaseLine;return z.createElement(ts,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var b=x.t;if(y){var w=y.length/o.length,S=o.map(function(E,N){var A=Math.floor(N*w);if(y[A]){var C=y[A],j=Yr(C.x,E.x),O=Yr(C.y,E.y);return xs(xs({},E),{},{x:j(b),y:O(b)})}return E}),k;if(pe(l)&&typeof l=="number"){var P=Yr(v,l);k=P(b)}else if(et(l)||Xu(l)){var _=Yr(v,0);k=_(b)}else k=l.map(function(E,N){var A=Math.floor(N*w);if(v[A]){var C=v[A],j=Yr(C.x,E.x),O=Yr(C.y,E.y);return xs(xs({},E),{},{x:j(b),y:O(b)})}return E});return a.renderAreaStatically(S,k,r,i)}return z.createElement(jt,null,z.createElement("defs",null,z.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(b))),z.createElement(jt,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(o,l,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,s=a.points,o=a.baseLine,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.prevBaseLine,h=c.totalLength;return l&&s&&s.length&&(!u&&h>0||!Th(u,s)||!Th(d,o))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.top,u=i.left,d=i.xAxis,h=i.yAxis,p=i.width,g=i.height,y=i.isAnimationActive,v=i.id;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,b=o.length===1,w=it("recharts-area",l),S=d&&d.allowDataOverflow,k=h&&h.allowDataOverflow,P=S||k,_=et(v)?this.id:v,E=(r=Ye(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},N=E.r,A=N===void 0?3:N,C=E.strokeWidth,j=C===void 0?2:C,O=Hie(s)?s:{},M=O.clipDot,$=M===void 0?!0:M,L=A*2+j;return z.createElement(jt,{className:w},S||k?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(_)},z.createElement("rect",{x:S?u:u-p/2,y:k?c:c-g/2,width:S?p:p*2,height:k?g:g*2})),!$&&z.createElement("clipPath",{id:"clipPath-dots-".concat(_)},z.createElement("rect",{x:u-L/2,y:c-L/2,width:p+L,height:g+L}))):null,b?null:this.renderArea(P,_),(s||b)&&this.renderDots(P,$,_),(!y||x)&&no.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(R.PureComponent);D8=No;Xi(No,"displayName","Area");Xi(No,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!td.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Xi(No,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,s=e.props.baseValue,o=s??a;if(pe(o)&&typeof o=="number")return o;var l=i==="horizontal"?r:n,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return o==="dataMin"?d:o==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]});Xi(No,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,o=t.bandSize,l=t.dataKey,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,h=t.offset,p=e.layout,g=c&&c.length,y=D8.getBaseValue(e,n,r,i),v=p==="horizontal",x=!1,b=d.map(function(S,k){var P;g?P=c[u+k]:(P=Dr(S,l),Array.isArray(P)?x=!0:P=[y,P]);var _=P[1]==null||g&&Dr(S,l)==null;return v?{x:Kj({axis:r,ticks:a,bandSize:o,entry:S,index:k}),y:_?null:i.scale(P[1]),value:P,payload:S}:{x:_?null:r.scale(P[1]),y:Kj({axis:i,ticks:s,bandSize:o,entry:S,index:k}),value:P,payload:S}}),w;return g||x?w=b.map(function(S){var k=Array.isArray(S.value)?S.value[0]:null;return v?{x:S.x,y:k!=null&&S.y!=null?i.scale(k):null}:{x:k!=null?r.scale(k):null,y:S.y}}):w=v?i.scale(y):r.scale(y),xs({points:b,baseLine:w,layout:p,isRange:x},h)});Xi(No,"renderDotItem",function(t,e){var n;if(z.isValidElement(t))n=z.cloneElement(t,e);else if(qe(t))n=t(e);else{var r=it("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=L8(e,EEe);n=z.createElement(wP,Zo({},a,{key:i,className:r}))}return n});function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}function REe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z8(r.key),r)}}function $Ee(t,e,n){return e&&MEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DEe(t,e,n){return e=vy(e),LEe(t,U8()?Reflect.construct(e,n||[],vy(t).constructor):e.apply(t,n))}function LEe(t,e){if(e&&(_u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FEe(t)}function FEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U8=function(){return!!t})()}function vy(t){return vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vy(t)}function VEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TS(t,e)}function TS(t,e){return TS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TS(t,e)}function B8(t,e,n){return e=z8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z8(t){var e=UEe(t,"string");return _u(e)=="symbol"?e:e+""}function UEe(t,e){if(_u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function PS(){return PS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PS.apply(this,arguments)}function BEe(t){var e=t.xAxisId,n=EP(),r=TP(),i=k8(e);return i==null?null:R.createElement(ad,PS({},i,{className:it("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Ma(s,!0)}}))}var Cx=function(t){function e(){return REe(this,e),DEe(this,e,arguments)}return VEe(e,t),$Ee(e,[{key:"render",value:function(){return R.createElement(BEe,this.props)}}])}(R.Component);B8(Cx,"displayName","XAxis");B8(Cx,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}function zEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H8(r.key),r)}}function WEe(t,e,n){return e&&qEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HEe(t,e,n){return e=xy(e),GEe(t,q8()?Reflect.construct(e,n||[],xy(t).constructor):e.apply(t,n))}function GEe(t,e){if(e&&(Su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KEe(t)}function KEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q8=function(){return!!t})()}function xy(t){return xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xy(t)}function YEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NS(t,e)}function NS(t,e){return NS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NS(t,e)}function W8(t,e,n){return e=H8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H8(t){var e=QEe(t,"string");return Su(e)=="symbol"?e:e+""}function QEe(t,e){if(Su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function AS(){return AS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AS.apply(this,arguments)}var XEe=function(e){var n=e.yAxisId,r=EP(),i=TP(),a=E8(n);return a==null?null:R.createElement(ad,AS({},a,{className:it("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return Ma(o,!0)}}))},jx=function(t){function e(){return zEe(this,e),HEe(this,e,arguments)}return YEe(e,t),WEe(e,[{key:"render",value:function(){return R.createElement(XEe,this.props)}}])}(R.Component);W8(jx,"displayName","YAxis");W8(jx,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function dM(t){return tTe(t)||eTe(t)||ZEe(t)||JEe()}function JEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZEe(t,e){if(t){if(typeof t=="string")return IS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IS(t,e)}}function eTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tTe(t){if(Array.isArray(t))return IS(t)}function IS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var OS=function(e,n,r,i,a){var s=ji(e,NP),o=ji(e,Ax),l=[].concat(dM(s),dM(o)),c=ji(e,Ox),u="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(y,v){if(v.props[u]===r&&sa(v.props,"extendDomain")&&pe(v.props[d])){var x=v.props[d];return[Math.min(y[0],x),Math.max(y[1],x)]}return y},h)),c.length){var p="".concat(d,"1"),g="".concat(d,"2");h=c.reduce(function(y,v){if(v.props[u]===r&&sa(v.props,"extendDomain")&&pe(v.props[p])&&pe(v.props[g])){var x=v.props[p],b=v.props[g];return[Math.min(y[0],x,b),Math.max(y[1],x,b)]}return y},h)}return a&&a.length&&(h=a.reduce(function(y,v){return pe(v)?[Math.min(y[0],v),Math.max(y[1],v)]:y},h)),h},G8={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,d||l,h),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,g=new Array(p);h<p;h++)g[h]=d[h].fn;return g},o.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,u,d,h,p,g){var y=n?n+c:c;if(!this._events[y])return!1;var v=this._events[y],x=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,h),!0;case 5:return v.fn.call(v.context,u,d,h,p),!0;case 6:return v.fn.call(v.context,u,d,h,p,g),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var S=v.length,k;for(w=0;w<S;w++)switch(v[w].once&&this.removeListener(c,v[w].fn,void 0,!0),x){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,u);break;case 3:v[w].fn.call(v[w].context,u,d);break;case 4:v[w].fn.call(v[w].context,u,d,h);break;default:if(!b)for(k=1,b=new Array(x-1);k<x;k++)b[k-1]=arguments[k];v[w].fn.apply(v[w].context,b)}}return!0},o.prototype.on=function(c,u,d){return a(this,c,u,d,!1)},o.prototype.once=function(c,u,d){return a(this,c,u,d,!0)},o.prototype.removeListener=function(c,u,d,h){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!h||g.once)&&(!d||g.context===d)&&s(this,p);else{for(var y=0,v=[],x=g.length;y<x;y++)(g[y].fn!==u||h&&!g[y].once||d&&g[y].context!==d)&&v.push(g[y]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(G8);var nTe=G8.exports;const rTe=vt(nTe);var kw=new rTe,Ew="recharts.syncMouseEvents";function Kh(t){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kh(t)}function iTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K8(r.key),r)}}function sTe(t,e,n){return e&&aTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tw(t,e,n){return e=K8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K8(t){var e=oTe(t,"string");return Kh(e)=="symbol"?e:e+""}function oTe(t,e){if(Kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lTe=function(){function t(){iTe(this,t),Tw(this,"activeIndex",0),Tw(this,"coordinateList",[]),Tw(this,"layout","horizontal")}return sTe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,o=s===void 0?null:s,l=n.layout,c=l===void 0?null:l,u=n.offset,d=u===void 0?null:u,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=a+l+c,h=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function cTe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&pe(r)&&pe(i))return!0}return!1}function uTe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function Y8(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=Nn(e,n,r,i),o=Nn(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function dTe(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,d=e.angle,h=Nn(o,l,c,d),p=Nn(o,l,u,d);r=h.x,i=h.y,a=p.x,s=p.y}else return Y8(e);return[{x:r,y:i},{x:a,y:s}]}function Yh(t){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(t)}function fM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(n),!0).forEach(function(r){fTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fTe(t,e,n){return e=hTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hTe(t){var e=pTe(t,"string");return Yh(e)=="symbol"?e:e+""}function pTe(t,e){if(Yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mTe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var g,y=Of;if(h==="ScatterChart")g=s,y=v1e;else if(h==="BarChart")g=uTe(d,s,l,u),y=bP;else if(d==="radial"){var v=Y8(s),x=v.cx,b=v.cy,w=v.radius,S=v.startAngle,k=v.endAngle;g={cx:x,cy:b,startAngle:S,endAngle:k,innerRadius:w,outerRadius:w},y=QV}else g={points:dTe(d,s,l)},y=Of;var P=jm(jm(jm(jm({stroke:"#ccc",pointerEvents:"none"},l),g),Ye(p,!1)),{},{payload:o,payloadIndex:c,className:it("recharts-tooltip-cursor",p.className)});return R.isValidElement(p)?R.cloneElement(p,P):R.createElement(y,P)}var gTe=["item"],yTe=["children","className","width","height","style","compact","title","desc"];function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function vc(){return vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vc.apply(this,arguments)}function hM(t,e){return bTe(t)||xTe(t,e)||X8(t,e)||vTe()}function vTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function bTe(t){if(Array.isArray(t))return t}function pM(t,e){if(t==null)return{};var n=wTe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _Te(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function STe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J8(r.key),r)}}function kTe(t,e,n){return e&&STe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ETe(t,e,n){return e=by(e),TTe(t,Q8()?Reflect.construct(e,n||[],by(t).constructor):e.apply(t,n))}function TTe(t,e){if(e&&(ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PTe(t)}function PTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q8=function(){return!!t})()}function by(t){return by=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},by(t)}function NTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CS(t,e)}function CS(t,e){return CS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CS(t,e)}function Eu(t){return OTe(t)||ITe(t)||X8(t)||ATe()}function ATe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X8(t,e){if(t){if(typeof t=="string")return jS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jS(t,e)}}function ITe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OTe(t){if(Array.isArray(t))return jS(t)}function jS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mM(Object(n),!0).forEach(function(r){je(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function je(t,e,n){return e=J8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J8(t){var e=CTe(t,"string");return ku(e)=="symbol"?e:e+""}function CTe(t,e){if(ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jTe={xAxis:["bottom","top"],yAxis:["left","right"]},RTe={width:"100%",height:"100%"},Z8={x:0,y:0};function Rm(t){return t}var MTe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},$Te=function(e,n,r,i){var a=n.find(function(u){return u&&u.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return re(re(re({},i),Nn(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,c=i.angle;return re(re(re({},i),Nn(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return Z8},Rx=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Eu(o),Eu(c)):o},[]);return s.length>0?s:e&&e.length&&pe(i)&&pe(a)?e.slice(i,a+1):[]};function e9(t){return t==="number"?[0,"auto"]:void 0}var RS=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,o=Rx(n,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=d===void 0?o:d;h=w0(p,s.dataKey,i)}else h=d&&d[r]||o[r];return h?[].concat(Eu(l),[GV(c,h)]):l},[])},gM=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=MTe(a,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=Qve(s,o,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,h=RS(e,n,u,d),p=$Te(r,o,u,a);return{activeTooltipIndex:u,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},DTe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,h=e.stackOffset,p=qV(u,a);return r.reduce(function(g,y){var v,x=y.type.defaultProps!==void 0?re(re({},y.type.defaultProps),y.props):y.props,b=x.type,w=x.dataKey,S=x.allowDataOverflow,k=x.allowDuplicatedCategory,P=x.scale,_=x.ticks,E=x.includeHidden,N=x[s];if(g[N])return g;var A=Rx(e.data,{graphicalItems:i.filter(function(B){var ae,ge=s in B.props?B.props[s]:(ae=B.type.defaultProps)===null||ae===void 0?void 0:ae[s];return ge===N}),dataStartIndex:l,dataEndIndex:c}),C=A.length,j,O,M;cTe(x.domain,S,b)&&(j=Z_(x.domain,null,S),p&&(b==="number"||P!=="auto")&&(M=If(A,w,"category")));var $=e9(b);if(!j||j.length===0){var L,W=(L=x.domain)!==null&&L!==void 0?L:$;if(w){if(j=If(A,w,b),b==="category"&&p){var F=$ie(j);k&&F?(O=j,j=oy(0,C)):k||(j=Jj(W,j,y).reduce(function(B,ae){return B.indexOf(ae)>=0?B:[].concat(Eu(B),[ae])},[]))}else if(b==="category")k?j=j.filter(function(B){return B!==""&&!et(B)}):j=Jj(W,j,y).reduce(function(B,ae){return B.indexOf(ae)>=0||ae===""||et(ae)?B:[].concat(Eu(B),[ae])},[]);else if(b==="number"){var U=txe(A,i.filter(function(B){var ae,ge,ye=s in B.props?B.props[s]:(ae=B.type.defaultProps)===null||ae===void 0?void 0:ae[s],Z="hide"in B.props?B.props.hide:(ge=B.type.defaultProps)===null||ge===void 0?void 0:ge.hide;return ye===N&&(E||!Z)}),w,a,u);U&&(j=U)}p&&(b==="number"||P!=="auto")&&(M=If(A,w,"category"))}else p?j=oy(0,C):o&&o[N]&&o[N].hasStack&&b==="number"?j=h==="expand"?[0,1]:HV(o[N].stackGroups,l,c):j=zV(A,i.filter(function(B){var ae=s in B.props?B.props[s]:B.type.defaultProps[s],ge="hide"in B.props?B.props.hide:B.type.defaultProps.hide;return ae===N&&(E||!ge)}),b,u,!0);if(b==="number")j=OS(d,j,N,a,_),W&&(j=Z_(W,j,S));else if(b==="category"&&W){var G=W,Q=j.every(function(B){return G.indexOf(B)>=0});Q&&(j=G)}}return re(re({},g),{},je({},N,re(re({},x),{},{axisType:a,domain:j,categoricalDomain:M,duplicateDomain:O,originalDomain:(v=x.domain)!==null&&v!==void 0?v:$,isCategorical:p,layout:u})))},{})},LTe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,h=Rx(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=h.length,g=qV(u,a),y=-1;return r.reduce(function(v,x){var b=x.type.defaultProps!==void 0?re(re({},x.type.defaultProps),x.props):x.props,w=b[s],S=e9("number");if(!v[w]){y++;var k;return g?k=oy(0,p):o&&o[w]&&o[w].hasStack?(k=HV(o[w].stackGroups,l,c),k=OS(d,k,w,a)):(k=Z_(S,zV(h,r.filter(function(P){var _,E,N=s in P.props?P.props[s]:(_=P.type.defaultProps)===null||_===void 0?void 0:_[s],A="hide"in P.props?P.props.hide:(E=P.type.defaultProps)===null||E===void 0?void 0:E.hide;return N===w&&!A}),"number",u),i.defaultProps.allowDataOverflow),k=OS(d,k,w,a)),re(re({},v),{},je({},w,re(re({axisType:a},i.defaultProps),{},{hide:!0,orientation:ai(jTe,"".concat(a,".").concat(y%2),null),domain:k,originalDomain:S,isCategorical:g,layout:u})))}return v},{})},FTe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,d="".concat(i,"Id"),h=ji(u,a),p={};return h&&h.length?p=DTe(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=LTe(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},VTe=function(e){var n=Os(e),r=Ma(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:GT(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:X0(n,r)}},yM=function(e){var n=e.children,r=e.defaultShowTooltip,i=Tr(n,mu),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},UTe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Va(n&&n.type);return r&&r.indexOf("Bar")>=0})},vM=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},BTe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,u=r.height,d=r.children,h=r.margin||{},p=Tr(d,mu),g=Tr(d,$c),y=Object.keys(l).reduce(function(k,P){var _=l[P],E=_.orientation;return!_.mirror&&!_.hide?re(re({},k),{},je({},E,k[E]+_.width)):k},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(k,P){var _=s[P],E=_.orientation;return!_.mirror&&!_.hide?re(re({},k),{},je({},E,ai(k,"".concat(E))+_.height)):k},{top:h.top||0,bottom:h.bottom||0}),x=re(re({},v),y),b=x.bottom;p&&(x.bottom+=p.props.height||mu.defaultProps.height),g&&n&&(x=Zve(x,i,r,n));var w=c-x.left-x.right,S=u-x.top-x.bottom;return re(re({brushBottom:b},x),{},{width:Math.max(w,0),height:Math.max(S,0)})},zTe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},qTe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(x,b){var w=b.graphicalItems,S=b.stackGroups,k=b.offset,P=b.updateId,_=b.dataStartIndex,E=b.dataEndIndex,N=x.barSize,A=x.layout,C=x.barGap,j=x.barCategoryGap,O=x.maxBarSize,M=vM(A),$=M.numericAxisName,L=M.cateAxisName,W=UTe(w),F=[];return w.forEach(function(U,G){var Q=Rx(x.data,{graphicalItems:[U],dataStartIndex:_,dataEndIndex:E}),B=U.type.defaultProps!==void 0?re(re({},U.type.defaultProps),U.props):U.props,ae=B.dataKey,ge=B.maxBarSize,ye=B["".concat($,"Id")],Z=B["".concat(L,"Id")],te={},de=l.reduce(function(V,Y){var H=b["".concat(Y.axisType,"Map")],ue=B["".concat(Y.axisType,"Id")];H&&H[ue]||Y.axisType==="zAxis"||Sl();var he=H[ue];return re(re({},V),{},je(je({},Y.axisType,he),"".concat(Y.axisType,"Ticks"),Ma(he)))},te),ne=de[L],_e=de["".concat(L,"Ticks")],ie=S&&S[ye]&&S[ye].hasStack&&hxe(U,S[ye].stackGroups),X=Va(U.type).indexOf("Bar")>=0,ee=X0(ne,_e),xe=[],Ce=W&&Xve({barSize:N,stackGroups:S,totalSize:zTe(de,L)});if(X){var He,$e,tn=et(ge)?O:ge,st=(He=($e=X0(ne,_e,!0))!==null&&$e!==void 0?$e:tn)!==null&&He!==void 0?He:0;xe=Jve({barGap:C,barCategoryGap:j,bandSize:st!==ee?st:ee,sizeList:Ce[Z],maxBarSize:tn}),st!==ee&&(xe=xe.map(function(V){return re(re({},V),{},{position:re(re({},V.position),{},{offset:V.position.offset-st/2})})}))}var dt=U&&U.type&&U.type.getComposedData;dt&&F.push({props:re(re({},dt(re(re({},de),{},{displayedData:Q,props:x,dataKey:ae,item:U,bandSize:ee,barPosition:xe,offset:k,stackedData:ie,layout:A,dataStartIndex:_,dataEndIndex:E}))),{},je(je(je({key:U.key||"item-".concat(G)},$,de[$]),L,de[L]),"animationId",P)),childIndex:Yie(U,x.children),item:U})}),F},p=function(x,b){var w=x.props,S=x.dataStartIndex,k=x.dataEndIndex,P=x.updateId;if(!WO({props:w}))return null;var _=w.children,E=w.layout,N=w.stackOffset,A=w.data,C=w.reverseStackOrder,j=vM(E),O=j.numericAxisName,M=j.cateAxisName,$=ji(_,r),L=uxe(A,$,"".concat(O,"Id"),"".concat(M,"Id"),N,C),W=l.reduce(function(B,ae){var ge="".concat(ae.axisType,"Map");return re(re({},B),{},je({},ge,FTe(w,re(re({},ae),{},{graphicalItems:$,stackGroups:ae.axisType===O&&L,dataStartIndex:S,dataEndIndex:k}))))},{}),F=BTe(re(re({},W),{},{props:w,graphicalItems:$}),b==null?void 0:b.legendBBox);Object.keys(W).forEach(function(B){W[B]=u(w,W[B],F,B.replace("Map",""),n)});var U=W["".concat(M,"Map")],G=VTe(U),Q=h(w,re(re({},W),{},{dataStartIndex:S,dataEndIndex:k,updateId:P,graphicalItems:$,stackGroups:L,offset:F}));return re(re({formattedGraphicalItems:Q,graphicalItems:$,offset:F,stackGroups:L},G),W)},g=function(v){function x(b){var w,S,k;return _Te(this,x),k=ETe(this,x,[b]),je(k,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),je(k,"accessibilityManager",new lTe),je(k,"handleLegendBBoxUpdate",function(P){if(P){var _=k.state,E=_.dataStartIndex,N=_.dataEndIndex,A=_.updateId;k.setState(re({legendBBox:P},p({props:k.props,dataStartIndex:E,dataEndIndex:N,updateId:A},re(re({},k.state),{},{legendBBox:P}))))}}),je(k,"handleReceiveSyncEvent",function(P,_,E){if(k.props.syncId===P){if(E===k.eventEmitterSymbol&&typeof k.props.syncMethod!="function")return;k.applySyncEvent(_)}}),je(k,"handleBrushChange",function(P){var _=P.startIndex,E=P.endIndex;if(_!==k.state.dataStartIndex||E!==k.state.dataEndIndex){var N=k.state.updateId;k.setState(function(){return re({dataStartIndex:_,dataEndIndex:E},p({props:k.props,dataStartIndex:_,dataEndIndex:E,updateId:N},k.state))}),k.triggerSyncEvent({dataStartIndex:_,dataEndIndex:E})}}),je(k,"handleMouseEnter",function(P){var _=k.getMouseInfo(P);if(_){var E=re(re({},_),{},{isTooltipActive:!0});k.setState(E),k.triggerSyncEvent(E);var N=k.props.onMouseEnter;qe(N)&&N(E,P)}}),je(k,"triggeredAfterMouseMove",function(P){var _=k.getMouseInfo(P),E=_?re(re({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};k.setState(E),k.triggerSyncEvent(E);var N=k.props.onMouseMove;qe(N)&&N(E,P)}),je(k,"handleItemMouseEnter",function(P){k.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),je(k,"handleItemMouseLeave",function(){k.setState(function(){return{isTooltipActive:!1}})}),je(k,"handleMouseMove",function(P){P.persist(),k.throttleTriggeredAfterMouseMove(P)}),je(k,"handleMouseLeave",function(P){k.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};k.setState(_),k.triggerSyncEvent(_);var E=k.props.onMouseLeave;qe(E)&&E(_,P)}),je(k,"handleOuterEvent",function(P){var _=Kie(P),E=ai(k.props,"".concat(_));if(_&&qe(E)){var N,A;/.*touch.*/i.test(_)?A=k.getMouseInfo(P.changedTouches[0]):A=k.getMouseInfo(P),E((N=A)!==null&&N!==void 0?N:{},P)}}),je(k,"handleClick",function(P){var _=k.getMouseInfo(P);if(_){var E=re(re({},_),{},{isTooltipActive:!0});k.setState(E),k.triggerSyncEvent(E);var N=k.props.onClick;qe(N)&&N(E,P)}}),je(k,"handleMouseDown",function(P){var _=k.props.onMouseDown;if(qe(_)){var E=k.getMouseInfo(P);_(E,P)}}),je(k,"handleMouseUp",function(P){var _=k.props.onMouseUp;if(qe(_)){var E=k.getMouseInfo(P);_(E,P)}}),je(k,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&k.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),je(k,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&k.handleMouseDown(P.changedTouches[0])}),je(k,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&k.handleMouseUp(P.changedTouches[0])}),je(k,"handleDoubleClick",function(P){var _=k.props.onDoubleClick;if(qe(_)){var E=k.getMouseInfo(P);_(E,P)}}),je(k,"handleContextMenu",function(P){var _=k.props.onContextMenu;if(qe(_)){var E=k.getMouseInfo(P);_(E,P)}}),je(k,"triggerSyncEvent",function(P){k.props.syncId!==void 0&&kw.emit(Ew,k.props.syncId,P,k.eventEmitterSymbol)}),je(k,"applySyncEvent",function(P){var _=k.props,E=_.layout,N=_.syncMethod,A=k.state.updateId,C=P.dataStartIndex,j=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)k.setState(re({dataStartIndex:C,dataEndIndex:j},p({props:k.props,dataStartIndex:C,dataEndIndex:j,updateId:A},k.state)));else if(P.activeTooltipIndex!==void 0){var O=P.chartX,M=P.chartY,$=P.activeTooltipIndex,L=k.state,W=L.offset,F=L.tooltipTicks;if(!W)return;if(typeof N=="function")$=N(F,P);else if(N==="value"){$=-1;for(var U=0;U<F.length;U++)if(F[U].value===P.activeLabel){$=U;break}}var G=re(re({},W),{},{x:W.left,y:W.top}),Q=Math.min(O,G.x+G.width),B=Math.min(M,G.y+G.height),ae=F[$]&&F[$].value,ge=RS(k.state,k.props.data,$),ye=F[$]?{x:E==="horizontal"?F[$].coordinate:Q,y:E==="horizontal"?B:F[$].coordinate}:Z8;k.setState(re(re({},P),{},{activeLabel:ae,activeCoordinate:ye,activePayload:ge,activeTooltipIndex:$}))}else k.setState(P)}),je(k,"renderCursor",function(P){var _,E=k.state,N=E.isTooltipActive,A=E.activeCoordinate,C=E.activePayload,j=E.offset,O=E.activeTooltipIndex,M=E.tooltipAxisBandSize,$=k.getTooltipEventType(),L=(_=P.props.active)!==null&&_!==void 0?_:N,W=k.props.layout,F=P.key||"_recharts-cursor";return z.createElement(mTe,{key:F,activeCoordinate:A,activePayload:C,activeTooltipIndex:O,chartName:n,element:P,isActive:L,layout:W,offset:j,tooltipAxisBandSize:M,tooltipEventType:$})}),je(k,"renderPolarAxis",function(P,_,E){var N=ai(P,"type.axisType"),A=ai(k.state,"".concat(N,"Map")),C=P.type.defaultProps,j=C!==void 0?re(re({},C),P.props):P.props,O=A&&A[j["".concat(N,"Id")]];return R.cloneElement(P,re(re({},O),{},{className:it(N,O.className),key:P.key||"".concat(_,"-").concat(E),ticks:Ma(O,!0)}))}),je(k,"renderPolarGrid",function(P){var _=P.props,E=_.radialLines,N=_.polarAngles,A=_.polarRadius,C=k.state,j=C.radiusAxisMap,O=C.angleAxisMap,M=Os(j),$=Os(O),L=$.cx,W=$.cy,F=$.innerRadius,U=$.outerRadius;return R.cloneElement(P,{polarAngles:Array.isArray(N)?N:Ma($,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(A)?A:Ma(M,!0).map(function(G){return G.coordinate}),cx:L,cy:W,innerRadius:F,outerRadius:U,key:P.key||"polar-grid",radialLines:E})}),je(k,"renderLegend",function(){var P=k.state.formattedGraphicalItems,_=k.props,E=_.children,N=_.width,A=_.height,C=k.props.margin||{},j=N-(C.left||0)-(C.right||0),O=UV({children:E,formattedGraphicalItems:P,legendWidth:j,legendContent:c});if(!O)return null;var M=O.item,$=pM(O,gTe);return R.cloneElement(M,re(re({},$),{},{chartWidth:N,chartHeight:A,margin:C,onBBoxUpdate:k.handleLegendBBoxUpdate}))}),je(k,"renderTooltip",function(){var P,_=k.props,E=_.children,N=_.accessibilityLayer,A=Tr(E,qi);if(!A)return null;var C=k.state,j=C.isTooltipActive,O=C.activeCoordinate,M=C.activePayload,$=C.activeLabel,L=C.offset,W=(P=A.props.active)!==null&&P!==void 0?P:j;return R.cloneElement(A,{viewBox:re(re({},L),{},{x:L.left,y:L.top}),active:W,label:$,payload:W?M:[],coordinate:O,accessibilityLayer:N})}),je(k,"renderBrush",function(P){var _=k.props,E=_.margin,N=_.data,A=k.state,C=A.offset,j=A.dataStartIndex,O=A.dataEndIndex,M=A.updateId;return R.cloneElement(P,{key:P.key||"_recharts-brush",onChange:Am(k.handleBrushChange,P.props.onChange),data:N,x:pe(P.props.x)?P.props.x:C.left,y:pe(P.props.y)?P.props.y:C.top+C.height+C.brushBottom-(E.bottom||0),width:pe(P.props.width)?P.props.width:C.width,startIndex:j,endIndex:O,updateId:"brush-".concat(M)})}),je(k,"renderReferenceElement",function(P,_,E){if(!P)return null;var N=k,A=N.clipPathId,C=k.state,j=C.xAxisMap,O=C.yAxisMap,M=C.offset,$=P.type.defaultProps||{},L=P.props,W=L.xAxisId,F=W===void 0?$.xAxisId:W,U=L.yAxisId,G=U===void 0?$.yAxisId:U;return R.cloneElement(P,{key:P.key||"".concat(_,"-").concat(E),xAxis:j[F],yAxis:O[G],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:A})}),je(k,"renderActivePoints",function(P){var _=P.item,E=P.activePoint,N=P.basePoint,A=P.childIndex,C=P.isRange,j=[],O=_.props.key,M=_.item.type.defaultProps!==void 0?re(re({},_.item.type.defaultProps),_.item.props):_.item.props,$=M.activeDot,L=M.dataKey,W=re(re({index:A,dataKey:L,cx:E.x,cy:E.y,r:4,fill:xP(_.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Ye($,!1)),_0($));return j.push(x.renderActiveDot($,W,"".concat(O,"-activePoint-").concat(A))),N?j.push(x.renderActiveDot($,re(re({},W),{},{cx:N.x,cy:N.y}),"".concat(O,"-basePoint-").concat(A))):C&&j.push(null),j}),je(k,"renderGraphicChild",function(P,_,E){var N=k.filterFormatItem(P,_,E);if(!N)return null;var A=k.getTooltipEventType(),C=k.state,j=C.isTooltipActive,O=C.tooltipAxis,M=C.activeTooltipIndex,$=C.activeLabel,L=k.props.children,W=Tr(L,qi),F=N.props,U=F.points,G=F.isRange,Q=F.baseLine,B=N.item.type.defaultProps!==void 0?re(re({},N.item.type.defaultProps),N.item.props):N.item.props,ae=B.activeDot,ge=B.hide,ye=B.activeBar,Z=B.activeShape,te=!!(!ge&&j&&W&&(ae||ye||Z)),de={};A!=="axis"&&W&&W.props.trigger==="click"?de={onClick:Am(k.handleItemMouseEnter,P.props.onClick)}:A!=="axis"&&(de={onMouseLeave:Am(k.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:Am(k.handleItemMouseEnter,P.props.onMouseEnter)});var ne=R.cloneElement(P,re(re({},N.props),de));function _e(Y){return typeof O.dataKey=="function"?O.dataKey(Y.payload):null}if(te)if(M>=0){var ie,X;if(O.dataKey&&!O.allowDuplicatedCategory){var ee=typeof O.dataKey=="function"?_e:"payload.".concat(O.dataKey.toString());ie=w0(U,ee,$),X=G&&Q&&w0(Q,ee,$)}else ie=U==null?void 0:U[M],X=G&&Q&&Q[M];if(Z||ye){var xe=P.props.activeIndex!==void 0?P.props.activeIndex:M;return[R.cloneElement(P,re(re(re({},N.props),de),{},{activeIndex:xe})),null,null]}if(!et(ie))return[ne].concat(Eu(k.renderActivePoints({item:N,activePoint:ie,basePoint:X,childIndex:M,isRange:G})))}else{var Ce,He=(Ce=k.getItemByXY(k.state.activeCoordinate))!==null&&Ce!==void 0?Ce:{graphicalItem:ne},$e=He.graphicalItem,tn=$e.item,st=tn===void 0?P:tn,dt=$e.childIndex,V=re(re(re({},N.props),de),{},{activeIndex:dt});return[R.cloneElement(st,V),null,null]}return G?[ne,null,null]:[ne,null]}),je(k,"renderCustomized",function(P,_,E){return R.cloneElement(P,re(re({key:"recharts-customized-".concat(E)},k.props),k.state))}),je(k,"renderMap",{CartesianGrid:{handler:Rm,once:!0},ReferenceArea:{handler:k.renderReferenceElement},ReferenceLine:{handler:Rm},ReferenceDot:{handler:k.renderReferenceElement},XAxis:{handler:Rm},YAxis:{handler:Rm},Brush:{handler:k.renderBrush,once:!0},Bar:{handler:k.renderGraphicChild},Line:{handler:k.renderGraphicChild},Area:{handler:k.renderGraphicChild},Radar:{handler:k.renderGraphicChild},RadialBar:{handler:k.renderGraphicChild},Scatter:{handler:k.renderGraphicChild},Pie:{handler:k.renderGraphicChild},Funnel:{handler:k.renderGraphicChild},Tooltip:{handler:k.renderCursor,once:!0},PolarGrid:{handler:k.renderPolarGrid,once:!0},PolarAngleAxis:{handler:k.renderPolarAxis},PolarRadiusAxis:{handler:k.renderPolarAxis},Customized:{handler:k.renderCustomized}}),k.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:kp("recharts"),"-clip"),k.throttleTriggeredAfterMouseMove=UF(k.triggeredAfterMouseMove,(S=b.throttleDelay)!==null&&S!==void 0?S:1e3/60),k.state={},k}return NTe(x,v),kTe(x,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,k=w.data,P=w.height,_=w.layout,E=Tr(S,qi);if(E){var N=E.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,C=RS(this.state,k,N,A),j=this.state.tooltipTicks[N].coordinate,O=(this.state.offset.top+P)/2,M=_==="horizontal",$=M?{x:j,y:O}:{y:j,x:O},L=this.state.formattedGraphicalItems.find(function(F){var U=F.item;return U.type.name==="Scatter"});L&&($=re(re({},$),L.props.points[N].tooltipPosition),C=L.props.points[N].tooltipPayload);var W={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:A,activePayload:C,activeCoordinate:$};this.setState(W),this.renderCursor(E),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var k,P;this.accessibilityManager.setDetails({offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(w){p_([Tr(w.children,qi)],[Tr(this.props.children,qi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Tr(this.props.children,qi);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return o.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,k=S.getBoundingClientRect(),P=_me(k),_={chartX:Math.round(w.pageX-P.left),chartY:Math.round(w.pageY-P.top)},E=k.width/S.offsetWidth||1,N=this.inRange(_.chartX,_.chartY,E);if(!N)return null;var A=this.state,C=A.xAxisMap,j=A.yAxisMap,O=this.getTooltipEventType(),M=gM(this.state,this.props.data,this.props.layout,N);if(O!=="axis"&&C&&j){var $=Os(C).scale,L=Os(j).scale,W=$&&$.invert?$.invert(_.chartX):null,F=L&&L.invert?L.invert(_.chartY):null;return re(re({},_),{},{xValue:W,yValue:F},M)}return M?re(re({},_),M):null}},{key:"inRange",value:function(w,S){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,_=w/k,E=S/k;if(P==="horizontal"||P==="vertical"){var N=this.state.offset,A=_>=N.left&&_<=N.left+N.width&&E>=N.top&&E<=N.top+N.height;return A?{x:_,y:E}:null}var C=this.state,j=C.angleAxisMap,O=C.radiusAxisMap;if(j&&O){var M=Os(j);return tR({x:_,y:E},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),k=Tr(w,qi),P={};k&&S==="axis"&&(k.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=_0(this.props,this.handleOuterEvent);return re(re({},_),P)}},{key:"addListener",value:function(){kw.on(Ew,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){kw.removeListener(Ew,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,k){for(var P=this.state.formattedGraphicalItems,_=0,E=P.length;_<E;_++){var N=P[_];if(N.item===w||N.props.key===w.key||S===Va(N.item.type)&&k===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,k=S.left,P=S.top,_=S.height,E=S.width;return z.createElement("defs",null,z.createElement("clipPath",{id:w},z.createElement("rect",{x:k,y:P,height:_,width:E})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,k){var P=hM(k,2),_=P[0],E=P[1];return re(re({},S),{},je({},_,E.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,k){var P=hM(k,2),_=P[0],E=P[1];return re(re({},S),{},je({},_,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,k=S.formattedGraphicalItems,P=S.activeItem;if(k&&k.length)for(var _=0,E=k.length;_<E;_++){var N=k[_],A=N.props,C=N.item,j=C.type.defaultProps!==void 0?re(re({},C.type.defaultProps),C.props):C.props,O=Va(C.type);if(O==="Bar"){var M=(A.data||[]).find(function(F){return l1e(w,F)});if(M)return{graphicalItem:N,payload:M}}else if(O==="RadialBar"){var $=(A.data||[]).find(function(F){return tR(w,F)});if($)return{graphicalItem:N,payload:$}}else if(Ex(N,P)||Tx(N,P)||zh(N,P)){var L=d_e({graphicalItem:N,activeTooltipItem:P,itemData:j.data}),W=j.activeIndex===void 0?L:j.activeIndex;return{graphicalItem:re(re({},N),{},{childIndex:W}),payload:zh(N,P)?j.data[L]:N.props.data[L]}}}return null}},{key:"render",value:function(){var w=this;if(!WO(this))return null;var S=this.props,k=S.children,P=S.className,_=S.width,E=S.height,N=S.style,A=S.compact,C=S.title,j=S.desc,O=pM(S,yTe),M=Ye(O,!1);if(A)return z.createElement(QR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(g_,vc({},M,{width:_,height:E,title:C,desc:j}),this.renderClipPath(),GO(k,this.renderMap)));if(this.props.accessibilityLayer){var $,L;M.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,M.role=(L=this.props.role)!==null&&L!==void 0?L:"application",M.onKeyDown=function(F){w.accessibilityManager.keyboardEvent(F)},M.onFocus=function(){w.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return z.createElement(QR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",vc({className:it("recharts-wrapper",P),style:re({position:"relative",cursor:"default",width:_,height:E},N)},W,{ref:function(U){w.container=U}}),z.createElement(g_,vc({},M,{width:_,height:E,title:C,desc:j,style:RTe}),this.renderClipPath(),GO(k,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(R.Component);je(g,"displayName",n),je(g,"defaultProps",re({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),je(g,"getDerivedStateFromProps",function(v,x){var b=v.dataKey,w=v.data,S=v.children,k=v.width,P=v.height,_=v.layout,E=v.stackOffset,N=v.margin,A=x.dataStartIndex,C=x.dataEndIndex;if(x.updateId===void 0){var j=yM(v);return re(re(re({},j),{},{updateId:0},p(re(re({props:v},j),{},{updateId:0}),x)),{},{prevDataKey:b,prevData:w,prevWidth:k,prevHeight:P,prevLayout:_,prevStackOffset:E,prevMargin:N,prevChildren:S})}if(b!==x.prevDataKey||w!==x.prevData||k!==x.prevWidth||P!==x.prevHeight||_!==x.prevLayout||E!==x.prevStackOffset||!Mc(N,x.prevMargin)){var O=yM(v),M={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},$=re(re({},gM(x,w,_)),{},{updateId:x.updateId+1}),L=re(re(re({},O),M),$);return re(re(re({},L),p(re({props:v},L),x)),{},{prevDataKey:b,prevData:w,prevWidth:k,prevHeight:P,prevLayout:_,prevStackOffset:E,prevMargin:N,prevChildren:S})}if(!p_(S,x.prevChildren)){var W,F,U,G,Q=Tr(S,mu),B=Q&&(W=(F=Q.props)===null||F===void 0?void 0:F.startIndex)!==null&&W!==void 0?W:A,ae=Q&&(U=(G=Q.props)===null||G===void 0?void 0:G.endIndex)!==null&&U!==void 0?U:C,ge=B!==A||ae!==C,ye=!et(w),Z=ye&&!ge?x.updateId:x.updateId+1;return re(re({updateId:Z},p(re(re({props:v},x),{},{updateId:Z,dataStartIndex:B,dataEndIndex:ae}),x)),{},{prevChildren:S,dataStartIndex:B,dataEndIndex:ae})}return null}),je(g,"renderActiveDot",function(v,x,b){var w;return R.isValidElement(v)?w=R.cloneElement(v,x):qe(v)?w=v(x):w=z.createElement(wP,x),z.createElement(jt,{className:"recharts-active-dot",key:b},w)});var y=R.forwardRef(function(x,b){return z.createElement(g,vc({},x,{ref:b}))});return y.displayName=g.displayName,y},WTe=qTe({chartName:"AreaChart",GraphicalChild:No,axisComponents:[{axisType:"xAxis",AxisComp:Cx},{axisType:"yAxis",AxisComp:jx}],formatAxisMap:$Se});const t9=6048e5,HTe=864e5,n9=6e4,r9=36e5,xM=Symbol.for("constructDateFrom");function Lr(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&xM in t?t[xM](e):t instanceof Date?new t.constructor(e):new Date(e)}function _t(t,e){return Lr(e||t,t)}function i9(t,e,n){const r=_t(t,n==null?void 0:n.in);return isNaN(e)?Lr(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function mg(t,e,n){const r=_t(t,n==null?void 0:n.in);if(isNaN(e))return Lr(t,NaN);if(!e)return r;const i=r.getDate(),a=Lr(t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const s=a.getDate();return i>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}let GTe={};function Mx(){return GTe}function Tu(t,e){var o,l,c,u;const n=Mx(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=_t(t,e==null?void 0:e.in),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function wy(t,e){return Tu(t,{...e,weekStartsOn:1})}function a9(t,e){const n=_t(t,e==null?void 0:e.in),r=n.getFullYear(),i=Lr(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=wy(i),s=Lr(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=wy(s);return n.getTime()>=a.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function bM(t){const e=_t(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Op(t,...e){const n=Lr.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function $a(t,e){const n=_t(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function s9(t,e,n){const[r,i]=Op(n==null?void 0:n.in,t,e),a=$a(r),s=$a(i),o=+a-bM(a),l=+s-bM(s);return Math.round((o-l)/HTe)}function KTe(t,e){const n=a9(t,e),r=Lr(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),wy(r)}function xc(t,e,n){const[r,i]=Op(n==null?void 0:n.in,t,e);return+$a(r)==+$a(i)}function YTe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function QTe(t){return!(!YTe(t)&&typeof t!="number"||isNaN(+_t(t)))}function XTe(t,e,n){const[r,i]=Op(n==null?void 0:n.in,t,e),a=wM(r,i),s=Math.abs(s9(r,i));r.setDate(r.getDate()-a*s);const o=+(wM(r,i)===-a),l=a*(s-o);return l===0?0:l}function wM(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function gg(t,e){const n=_t(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function JTe(t,e){const n=_t(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function ZTe(t,e){const[n,r]=Op(t,e.start,e.end);return{start:n,end:r}}function ePe(t,e){const{start:n,end:r}=ZTe(e==null?void 0:e.in,t);let i=+n>+r;const a=i?+n:+r,s=i?r:n;s.setHours(0,0,0,0);let o=1;const l=[];for(;+s<=a;)l.push(Lr(n,s)),s.setDate(s.getDate()+o),s.setHours(0,0,0,0);return i?l.reverse():l}function tPe(t,e){const n=_t(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function nPe(t,e){const n=_t(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function rPe(t,e){const n=e==null?void 0:e.weekStartsOn,r=_t(t,e==null?void 0:e.in),i=r.getDay(),a=(i<n?-7:0)+6-(i-n);return r.setDate(r.getDate()+a),r.setHours(23,59,59,999),r}const iPe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},aPe=(t,e,n)=>{let r;const i=iPe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Pw(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const sPe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},oPe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lPe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cPe={date:Pw({formats:sPe,defaultWidth:"full"}),time:Pw({formats:oPe,defaultWidth:"full"}),dateTime:Pw({formats:lPe,defaultWidth:"full"})},uPe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dPe=(t,e,n,r)=>uPe[t];function Fd(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const fPe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hPe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},pPe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},mPe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gPe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yPe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vPe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},xPe={ordinalNumber:vPe,era:Fd({values:fPe,defaultWidth:"wide"}),quarter:Fd({values:hPe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Fd({values:pPe,defaultWidth:"wide"}),day:Fd({values:mPe,defaultWidth:"wide"}),dayPeriod:Fd({values:gPe,defaultWidth:"wide",formattingValues:yPe,defaultFormattingWidth:"wide"})};function Vd(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?wPe(o,d=>d.test(s)):bPe(o,d=>d.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}function bPe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function wPe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function _Pe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const SPe=/^(\d+)(th|st|nd|rd)?/i,kPe=/\d+/i,EPe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},TPe={any:[/^b/i,/^(a|c)/i]},PPe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},NPe={any:[/1/i,/2/i,/3/i,/4/i]},APe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},IPe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},OPe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},CPe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},jPe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},RPe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},MPe={ordinalNumber:_Pe({matchPattern:SPe,parsePattern:kPe,valueCallback:t=>parseInt(t,10)}),era:Vd({matchPatterns:EPe,defaultMatchWidth:"wide",parsePatterns:TPe,defaultParseWidth:"any"}),quarter:Vd({matchPatterns:PPe,defaultMatchWidth:"wide",parsePatterns:NPe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Vd({matchPatterns:APe,defaultMatchWidth:"wide",parsePatterns:IPe,defaultParseWidth:"any"}),day:Vd({matchPatterns:OPe,defaultMatchWidth:"wide",parsePatterns:CPe,defaultParseWidth:"any"}),dayPeriod:Vd({matchPatterns:jPe,defaultMatchWidth:"any",parsePatterns:RPe,defaultParseWidth:"any"})},$Pe={code:"en-US",formatDistance:aPe,formatLong:cPe,formatRelative:dPe,localize:xPe,match:MPe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function DPe(t,e){const n=_t(t,e==null?void 0:e.in);return s9(n,nPe(n))+1}function LPe(t,e){const n=_t(t,e==null?void 0:e.in),r=+wy(n)-+KTe(n);return Math.round(r/t9)+1}function o9(t,e){var u,d,h,p;const n=_t(t,e==null?void 0:e.in),r=n.getFullYear(),i=Mx(),a=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=Lr((e==null?void 0:e.in)||t,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const o=Tu(s,e),l=Lr((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const c=Tu(l,e);return+n>=+o?r+1:+n>=+c?r:r-1}function FPe(t,e){var o,l,c,u;const n=Mx(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=o9(t,e),a=Lr((e==null?void 0:e.in)||t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Tu(a,e)}function VPe(t,e){const n=_t(t,e==null?void 0:e.in),r=+Tu(n,e)-+FPe(n,e);return Math.round(r/t9)+1}function lt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ys={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return lt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):lt(n+1,2)},d(t,e){return lt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return lt(t.getHours()%12||12,e.length)},H(t,e){return lt(t.getHours(),e.length)},m(t,e){return lt(t.getMinutes(),e.length)},s(t,e){return lt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return lt(i,e.length)}},Yl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_M={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ys.y(t,e)},Y:function(t,e,n,r){const i=o9(t,r),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return lt(s,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):lt(a,e.length)},R:function(t,e){const n=a9(t);return lt(n,e.length)},u:function(t,e){const n=t.getFullYear();return lt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return lt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return lt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ys.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return lt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=VPe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):lt(i,e.length)},I:function(t,e,n){const r=LPe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):lt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ys.d(t,e)},D:function(t,e,n){const r=DPe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):lt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return lt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return lt(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return lt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Yl.noon:r===0?i=Yl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Yl.evening:r>=12?i=Yl.afternoon:r>=4?i=Yl.morning:i=Yl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ys.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ys.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):lt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):lt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ys.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ys.s(t,e)},S:function(t,e){return ys.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return kM(r);case"XXXX":case"XX":return Bo(r);case"XXXXX":case"XXX":default:return Bo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return kM(r);case"xxxx":case"xx":return Bo(r);case"xxxxx":case"xxx":default:return Bo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+SM(r,":");case"OOOO":default:return"GMT"+Bo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+SM(r,":");case"zzzz":default:return"GMT"+Bo(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return lt(r,e.length)},T:function(t,e,n){return lt(+t,e.length)}};function SM(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+lt(a,2)}function kM(t,e){return t%60===0?(t>0?"-":"+")+lt(Math.abs(t)/60,2):Bo(t,e)}function Bo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=lt(Math.trunc(r/60),2),a=lt(r%60,2);return n+i+e+a}const EM=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},l9=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},UPe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return EM(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",EM(r,e)).replace("{{time}}",l9(i,e))},BPe={p:l9,P:UPe},zPe=/^D+$/,qPe=/^Y+$/,WPe=["D","DD","YY","YYYY"];function HPe(t){return zPe.test(t)}function GPe(t){return qPe.test(t)}function KPe(t,e,n){const r=YPe(t,e,n);if(console.warn(r),WPe.includes(t))throw new RangeError(r)}function YPe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const QPe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,XPe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,JPe=/^'([^]*?)'?$/,ZPe=/''/g,e2e=/[a-zA-Z]/;function Hr(t,e,n){var u,d,h,p;const r=Mx(),i=r.locale??$Pe,a=r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,o=_t(t,n==null?void 0:n.in);if(!QTe(o))throw new RangeError("Invalid time value");let l=e.match(XPe).map(g=>{const y=g[0];if(y==="p"||y==="P"){const v=BPe[y];return v(g,i.formatLong)}return g}).join("").match(QPe).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const y=g[0];if(y==="'")return{isToken:!1,value:t2e(g)};if(_M[y])return{isToken:!0,value:g};if(y.match(e2e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(g=>{if(!g.isToken)return g.value;const y=g.value;(GPe(y)||HPe(y))&&KPe(y,e,String(t));const v=_M[y[0]];return v(o,y,i.localize,c)}).join("")}function t2e(t){const e=t.match(JPe);return e?e[1].replace(ZPe,"'"):t}function c9(t,e){return+_t(t)>+_t(e)}function Ud(t,e){return+_t(t)<+_t(e)}function n2e(t,e,n){const[r,i]=Op(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function Qh(t,e,n){const r=+_t(t,n==null?void 0:n.in),[i,a]=[+_t(e.start,n==null?void 0:n.in),+_t(e.end,n==null?void 0:n.in)].sort((s,o)=>s-o);return r>=i&&r<=a}function OP(t,e,n){return i9(t,-e,n)}function Ta(t,e){const n=()=>Lr(e==null?void 0:e.in,NaN),i=s2e(t);let a;if(i.date){const c=o2e(i.date,2);a=l2e(c.restDateString,c.year)}if(!a||isNaN(+a))return n();const s=+a;let o=0,l;if(i.time&&(o=c2e(i.time),isNaN(o)))return n();if(i.timezone){if(l=u2e(i.timezone),isNaN(l))return n()}else{const c=new Date(s+o),u=_t(0,e==null?void 0:e.in);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return _t(s+o+l,e==null?void 0:e.in)}const Mm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},r2e=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,i2e=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,a2e=/^([+-])(\d{2})(?::?(\d{2}))?$/;function s2e(t){const e={},n=t.split(Mm.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Mm.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Mm.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=Mm.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function o2e(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:t.slice((r[1]||r[2]).length)}}function l2e(t,e){if(e===null)return new Date(NaN);const n=t.match(r2e);if(!n)return new Date(NaN);const r=!!n[4],i=Bd(n[1]),a=Bd(n[2])-1,s=Bd(n[3]),o=Bd(n[4]),l=Bd(n[5])-1;if(r)return m2e(e,o,l)?d2e(e,o,l):new Date(NaN);{const c=new Date(0);return!h2e(e,a,s)||!p2e(e,i)?new Date(NaN):(c.setUTCFullYear(e,a,Math.max(i,s)),c)}}function Bd(t){return t?parseInt(t):1}function c2e(t){const e=t.match(i2e);if(!e)return NaN;const n=Nw(e[1]),r=Nw(e[2]),i=Nw(e[3]);return g2e(n,r,i)?n*r9+r*n9+i*1e3:NaN}function Nw(t){return t&&parseFloat(t.replace(",","."))||0}function u2e(t){if(t==="Z")return 0;const e=t.match(a2e);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return y2e(r,i)?n*(r*r9+i*n9):NaN}function d2e(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,a=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}const f2e=[31,null,31,30,31,30,31,31,30,31,30,31];function u9(t){return t%400===0||t%4===0&&t%100!==0}function h2e(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(f2e[e]||(u9(t)?29:28))}function p2e(t,e){return e>=1&&e<=(u9(t)?366:365)}function m2e(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function g2e(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function y2e(t,e){return e>=0&&e<=59}function v2e(t,e,n){return mg(t,-1,n)}const CP=({onChange:t,initialRange:e,range:n,onRangeChange:r,brandColor:i})=>{const[a,s]=R.useState(!1),[o,l]=R.useState(n||e||{from:null,to:null}),[c,u]=R.useState(null),[d,h]=R.useState(new Date),p=R.useRef(null);R.useEffect(()=>{const _=E=>{p.current&&!p.current.contains(E.target)&&s(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const g=_=>{const E=t||r,N=$a(_);if(!o.from||o.from&&o.to)l({from:N,to:null});else{let A;Ud(_,o.from)?A={from:$a(_),to:gg(o.from)}:A={from:$a(o.from),to:gg(_)},l(A),E&&E(A)}},y=_=>{o.from&&!o.to?u(_):u(null)},v=()=>{s(!1);const _=t||r;if(_){const E={...o};o.from&&(E.from=$a(o.from)),o.to&&(E.to=gg(o.to)),_(E)}},x=()=>{s(!1),l(n||e||{from:null,to:null})};R.useEffect(()=>{n&&l(n)},[n]);const b=()=>o.from&&o.to?`${Hr(o.from,"d MMM yyyy")}  ${Hr(o.to,"d MMM yyyy")}`:o.from?`${Hr(o.from,"d MMM yyyy")}  Select end date`:"",w=_=>{const E=tPe(_),N=JTe(E),A=Tu(E,{weekStartsOn:1}),C=rPe(N,{weekStartsOn:1});let j=A;const O=[];let M=[];for(;j<=C;)M.push(j),M.length===7&&(O.push(M),M=[]),j=i9(j,1);return f.jsx("div",{className:"grid grid-cols-7 gap-y-2",children:O.map(($,L)=>$.map((W,F)=>{const U=o.from&&xc(W,o.from),G=o.to&&xc(W,o.to),Q=o.from&&o.to&&Qh(W,{start:o.from,end:o.to});let B=!1;if(o.from&&!o.to&&c){const ne=Ud(o.from,c)?o.from:c,_e=c9(o.from,c)?o.from:c;B=Qh(W,{start:ne,end:_e})&&!xc(W,o.from)}const ae=n2e(W,E);let ge="relative w-10 h-10 flex items-center justify-center",ye="w-10 h-10 flex items-center justify-center text-sm relative z-10 cursor-pointer rounded-full transition-colors font-medium",Z="",te="text-gray-700 dark:text-slate-300";ae?U?(Z="bg-accent text-white font-semibold shadow-accent z-20 brightness-110",te="text-white"):G?Z="bg-white dark:bg-slate-800 border-2 border-accent text-accent font-semibold z-20 hover:brightness-110":Q||B?te="text-accent font-semibold":ye+=" hover:bg-slate-100 dark:hover:bg-slate-700":te="text-gray-300 dark:text-slate-600 pointer-events-none";let de="";return ae&&(Q||B)&&(de="absolute h-10 z-0 top-0 bottom-0",U&&(o.to||c)?de+=Ud(o.to||c,o.from)?" left-0 right-1/2":" left-1/2 right-0 rounded-l-none":G?de+=" left-0 right-1/2 rounded-r-none":xc(W,c)&&o.from?de+=Ud(c,o.from)?" left-1/2 right-0":" left-0 right-1/2":de+=" left-0 right-0",U&&o.to&&Ud(o.to,o.from)&&(de="absolute h-10 z-0 top-0 bottom-0 left-0 right-1/2")),f.jsxs("div",{className:ge,role:"button","aria-label":`Select ${Hr(W,"d MMMM yyyy")}`,tabIndex:ae?0:-1,onMouseEnter:()=>y(W),onClick:()=>g(W),onKeyDown:ne=>{(ne.key==="Enter"||ne.key===" ")&&(ne.preventDefault(),g(W))},children:[de&&f.jsx("div",{className:de,style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)"}}),f.jsx("div",{className:`${ye} ${Z} ${te}`,children:Hr(W,"d")})]},W.toISOString())}))})},S=()=>h(mg(d,1)),k=()=>h(v2e(d)),P=["Mo","Tu","We","Th","Fr","Sa","Su"];return f.jsxs("div",{className:"relative w-full max-w-xl font-sans",ref:p,children:[f.jsxs("div",{className:"relative flex items-center w-full",onClick:()=>s(!a),role:"button","aria-haspopup":"dialog","aria-expanded":a,"aria-label":"Select date range",tabIndex:0,onKeyDown:_=>{(_.key==="Enter"||_.key===" ")&&s(!a)},children:[f.jsx("div",{className:`w-full h-[44px] flex items-center ps-4 pe-10 bg-white dark:bg-slate-800 border-2 rounded-2xl cursor-pointer transition-all shadow-sm font-bold
            ${a?"border-accent/30 ring-4 ring-accent/10 bg-accent/5":"border-slate-100 dark:border-slate-800 hover:border-slate-300 dark:hover:border-slate-600"}`,children:f.jsx("span",{className:`text-[11px] font-bold ${o.from?"text-gray-900 dark:text-white":"text-gray-500 dark:text-slate-400"}`,children:o.from?b():"Select date range"})}),f.jsx(oL,{className:`absolute end-3 w-4 h-4 pointer-events-none transition-colors ${a?"text-accent":"text-slate-400"}`})]}),a&&f.jsxs("div",{className:"absolute top-full start-0 mt-4 z-50 bg-white dark:bg-slate-800 rounded-xl shadow-2xl border border-gray-100 dark:border-slate-700 p-0 overflow-hidden w-[680px] animate-in fade-in zoom-in-95 duration-200",role:"dialog","aria-modal":"true","aria-label":"Calendar date range picker",children:[f.jsxs("div",{className:"flex flex-col md:flex-row divide-y md:divide-y-0 md:divide-x dark:md:divide-slate-700 md:divide-gray-100",children:[f.jsxs("div",{className:"p-6 flex-1 min-w-[320px]",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("button",{onClick:k,className:"p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full text-gray-500 dark:text-slate-400 transition-colors","aria-label":"Previous month",children:f.jsx(vE,{className:"w-5 h-5"})}),f.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white",children:Hr(d,"MMMM yyyy")}),f.jsx("div",{className:"w-7"})]}),f.jsx("div",{className:"grid grid-cols-7 mb-4",children:P.map(_=>f.jsx("span",{className:"text-center text-xs font-semibold text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:_},_))}),w(d)]}),f.jsxs("div",{className:"p-6 flex-1 min-w-[320px]",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("div",{className:"w-7"}),f.jsx("h3",{className:"text-base font-bold text-gray-900",children:Hr(mg(d,1),"MMMM yyyy")}),f.jsx("button",{onClick:S,className:"p-1 hover:bg-gray-100 rounded-full text-gray-500 transition-colors","aria-label":"Next month",children:f.jsx(xE,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"grid grid-cols-7 mb-4",children:P.map(_=>f.jsx("span",{className:"text-center text-xs font-semibold text-gray-400 uppercase tracking-wide",children:_},_))}),w(mg(d,1))]})]}),f.jsxs("div",{className:"border-t border-gray-100 p-4 flex items-center justify-between bg-white px-6 py-4",children:[f.jsx("span",{className:"text-sm font-semibold text-gray-700",children:o.from&&o.to?`${XTe(o.to,o.from)+1} days`:o.from?"Select end date":""}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:x,className:"px-6 py-2.5 text-sm font-bold text-gray-700 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 hover:text-gray-900 transition-all font-sans",children:"Cancel"}),f.jsx("button",{onClick:v,className:"px-8 py-2.5 text-sm font-bold text-white bg-accent rounded-lg shadow-accent transition-all transform active:scale-95 font-sans",children:"Done"})]})]})]})]})},x2e=({title:t,options:e,selectedValues:n,onChange:r,onClear:i,showProductCount:a=!1,productCount:s=0,showSearch:o=!0,collapsible:l=!1})=>{const{appearance:c}=vn(),[u,d]=R.useState(""),[h,p]=R.useState(!l),g=v=>{const x=n.includes(v)?n.filter(b=>b!==v):[...n,v];r(x)},y=o?a?e:e.filter(v=>v.label.toLowerCase().includes(u.toLowerCase())):e;return f.jsxs("div",{className:`rounded-2xl shadow-[0_2px_10px_-4px_rgba(0,0,0,0.1)] border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col w-full min-w-[240px] transition-all ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:[t&&t.length>0&&f.jsxs("div",{className:"px-4 py-3 pb-2 flex items-center justify-between",children:[f.jsx("div",{className:"flex items-center gap-3",children:f.jsx("h3",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:t})}),l&&f.jsx("button",{onClick:()=>p(!h),className:"p-1 rounded-full text-slate-400 hover:text-slate-600",children:h?f.jsx(cL,{className:"w-4 h-4"}):f.jsx(Il,{className:"w-4 h-4"})})]}),!a&&o&&h&&f.jsx("div",{className:"px-3 pb-2",children:f.jsxs("div",{className:"relative",children:[f.jsx(Lu,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),f.jsx("input",{type:"text",placeholder:"Search...",value:u,onChange:v=>d(v.target.value),className:`w-full ps-9 pe-4 py-2 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent transition-all font-bold text-xs dark:text-white ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900/50"}`})]})}),f.jsx("div",{className:`flex-1 px-2 pb-2 space-y-1 max-h-64 overflow-y-auto ${h?"":"hidden"}`,children:y.map(v=>{const x=n.includes(v.value);return f.jsxs("div",{onClick:()=>g(v.value),className:`flex items-center justify-between px-3 py-2.5 rounded-xl cursor-pointer transition-all group ${x?"bg-accent/10":["liquid","default_glass"].includes(c==null?void 0:c.theme)?"hover:bg-white/20 dark:hover:bg-slate-700/30":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-5 h-5 rounded-[5px] border flex items-center justify-center transition-all ${x?"bg-accent border-accent shadow-sm":"border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800"}`,children:x&&f.jsx(lL,{className:"w-3.5 h-3.5 text-white stroke-[3px]"})}),f.jsx("span",{className:`text-sm font-semibold ${x?"text-accent":"text-slate-600 dark:text-slate-300"}`,children:v.label})]}),f.jsx("span",{className:`text-xs font-bold ${x?"text-accent":"text-slate-400 group-hover:text-slate-500"}`,children:v.count})]},v.value)})}),n.length>0&&f.jsx("div",{className:"px-4 py-3 border-t border-slate-50 dark:border-slate-700/50",children:f.jsx("button",{onClick:i,className:"text-xs font-bold text-accent hover:underline transition-colors flex items-center gap-1",children:"Clear All"})})]})},Pi=({title:t,options:e,selectedValues:n,onChange:r,icon:i,showProductCount:a=!1,productCount:s=0,showSearch:o=!0,ariaLabel:l=null})=>{const{appearance:c}=vn(),[u,d]=R.useState(!1),h=R.useRef(null);R.useEffect(()=>{const v=x=>{h.current&&!h.current.contains(x.target)&&d(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const p=()=>{r([])},g=()=>{d(!1)},y=n.length>0;return f.jsxs("div",{className:"relative",ref:h,children:[f.jsxs("button",{onClick:()=>d(!u),"aria-label":l||t||"Filter",className:`flex items-center gap-1.5 px-3 h-[44px] rounded-2xl border-2 transition-all font-bold text-[11px] outline-none ${u||y?"bg-accent/10 border-accent/30 text-accent shadow-[0_0_15px_-3px_rgba(0,0,0,0.1)]":["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-800/40 backdrop-blur-md border-white/20 dark:border-slate-700/50 text-slate-500 hover:bg-white/60 dark:hover:bg-slate-700/60":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-800 text-slate-500 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[i?f.jsx(i,{className:"w-4 h-4"}):f.jsx(bE,{className:"w-4 h-4"}),f.jsx("span",{className:"truncate max-w-[120px]",children:y?`${n.length} Selected`:t}),f.jsx(Il,{className:`w-4 h-4 transition-transform ${u?"rotate-180":""}`})]}),u&&f.jsx("div",{className:"absolute top-full start-0 mt-2 z-50 w-72 animate-in fade-in zoom-in-95 duration-200",children:f.jsx(x2e,{title:"",options:e,selectedValues:n,onChange:r,onClear:p,onClose:g,showProductCount:a,productCount:s,showSearch:o})})]})};class Bn{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=e+a,o=Math.abs(e)<Math.abs(a)?e-(s-a):a-(s-e);o&&(n[r++]=o),e=s}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=e[--n];n>0&&(r=s,i=e[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}}function*b2e(t){for(const e of t)yield*e}function d9(t){return Array.from(b2e(t))}function bc(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}var Ie=1e-6,Xh=1e-12,Ke=Math.PI,zt=Ke/2,_y=Ke/4,rr=Ke*2,gt=180/Ke,Oe=Ke/180,tt=Math.abs,sd=Math.atan,ir=Math.atan2,Pe=Math.cos,$m=Math.ceil,f9=Math.exp,MS=Math.hypot,Sy=Math.log,Aw=Math.pow,Se=Math.sin,ei=Math.sign||function(t){return t>0?1:t<0?-1:0},yn=Math.sqrt,jP=Math.tan;function h9(t){return t>1?0:t<-1?Ke:Math.acos(t)}function ar(t){return t>1?zt:t<-1?-zt:Math.asin(t)}function TM(t){return(t=Se(t/2))*t}function Rt(){}function ky(t,e){t&&NM.hasOwnProperty(t.type)&&NM[t.type](t,e)}var PM={Feature:function(t,e){ky(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)ky(n[r].geometry,e)}},NM={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){$S(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)$S(n[r],e,0)},Polygon:function(t,e){AM(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)AM(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)ky(n[r],e)}};function $S(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function AM(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)$S(t[n],e,1);e.polygonEnd()}function Si(t,e){t&&PM.hasOwnProperty(t.type)?PM[t.type](t,e):ky(t,e)}var Ey=new Bn,Ty=new Bn,p9,m9,DS,LS,FS,da={point:Rt,lineStart:Rt,lineEnd:Rt,polygonStart:function(){Ey=new Bn,da.lineStart=w2e,da.lineEnd=_2e},polygonEnd:function(){var t=+Ey;Ty.add(t<0?rr+t:t),this.lineStart=this.lineEnd=this.point=Rt},sphere:function(){Ty.add(rr)}};function w2e(){da.point=S2e}function _2e(){g9(p9,m9)}function S2e(t,e){da.point=g9,p9=t,m9=e,t*=Oe,e*=Oe,DS=t,LS=Pe(e=e/2+_y),FS=Se(e)}function g9(t,e){t*=Oe,e*=Oe,e=e/2+_y;var n=t-DS,r=n>=0?1:-1,i=r*n,a=Pe(e),s=Se(e),o=FS*s,l=LS*a+o*Pe(i),c=o*r*Se(i);Ey.add(ir(c,l)),DS=t,LS=a,FS=s}function k2e(t){return Ty=new Bn,Si(t,da),Ty*2}function Py(t){return[ir(t[1],t[0]),ar(t[2])]}function El(t){var e=t[0],n=t[1],r=Pe(n);return[r*Pe(e),r*Se(e),Se(n)]}function Dm(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Pu(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Iw(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Lm(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ny(t){var e=yn(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Ot,dr,Vt,Nr,zo,y9,v9,Fc,jf,Ss,ns,ka={point:VS,lineStart:IM,lineEnd:OM,polygonStart:function(){ka.point=b9,ka.lineStart=E2e,ka.lineEnd=T2e,jf=new Bn,da.polygonStart()},polygonEnd:function(){da.polygonEnd(),ka.point=VS,ka.lineStart=IM,ka.lineEnd=OM,Ey<0?(Ot=-(Vt=180),dr=-(Nr=90)):jf>Ie?Nr=90:jf<-Ie&&(dr=-90),ns[0]=Ot,ns[1]=Vt},sphere:function(){Ot=-(Vt=180),dr=-(Nr=90)}};function VS(t,e){Ss.push(ns=[Ot=t,Vt=t]),e<dr&&(dr=e),e>Nr&&(Nr=e)}function x9(t,e){var n=El([t*Oe,e*Oe]);if(Fc){var r=Pu(Fc,n),i=[r[1],-r[0],0],a=Pu(i,r);Ny(a),a=Py(a);var s=t-zo,o=s>0?1:-1,l=a[0]*gt*o,c,u=tt(s)>180;u^(o*zo<l&&l<o*t)?(c=a[1]*gt,c>Nr&&(Nr=c)):(l=(l+360)%360-180,u^(o*zo<l&&l<o*t)?(c=-a[1]*gt,c<dr&&(dr=c)):(e<dr&&(dr=e),e>Nr&&(Nr=e))),u?t<zo?Pr(Ot,t)>Pr(Ot,Vt)&&(Vt=t):Pr(t,Vt)>Pr(Ot,Vt)&&(Ot=t):Vt>=Ot?(t<Ot&&(Ot=t),t>Vt&&(Vt=t)):t>zo?Pr(Ot,t)>Pr(Ot,Vt)&&(Vt=t):Pr(t,Vt)>Pr(Ot,Vt)&&(Ot=t)}else Ss.push(ns=[Ot=t,Vt=t]);e<dr&&(dr=e),e>Nr&&(Nr=e),Fc=n,zo=t}function IM(){ka.point=x9}function OM(){ns[0]=Ot,ns[1]=Vt,ka.point=VS,Fc=null}function b9(t,e){if(Fc){var n=t-zo;jf.add(tt(n)>180?n+(n>0?360:-360):n)}else y9=t,v9=e;da.point(t,e),x9(t,e)}function E2e(){da.lineStart()}function T2e(){b9(y9,v9),da.lineEnd(),tt(jf)>Ie&&(Ot=-(Vt=180)),ns[0]=Ot,ns[1]=Vt,Fc=null}function Pr(t,e){return(e-=t)<0?e+360:e}function P2e(t,e){return t[0]-e[0]}function CM(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function N2e(t){var e,n,r,i,a,s,o;if(Nr=Vt=-(Ot=dr=1/0),Ss=[],Si(t,ka),n=Ss.length){for(Ss.sort(P2e),e=1,r=Ss[0],a=[r];e<n;++e)i=Ss[e],CM(r,i[0])||CM(r,i[1])?(Pr(r[0],i[1])>Pr(r[0],r[1])&&(r[1]=i[1]),Pr(i[0],r[1])>Pr(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(s=-1/0,n=a.length-1,e=0,r=a[n];e<=n;r=i,++e)i=a[e],(o=Pr(r[1],i[0]))>s&&(s=o,Ot=i[0],Vt=r[1])}return Ss=ns=null,Ot===1/0||dr===1/0?[[NaN,NaN],[NaN,NaN]]:[[Ot,dr],[Vt,Nr]]}var ef,Ay,Iy,Oy,Cy,jy,Ry,My,US,BS,zS,w9,_9,Kn,Yn,Qn,Ni={sphere:Rt,point:RP,lineStart:jM,lineEnd:RM,polygonStart:function(){Ni.lineStart=O2e,Ni.lineEnd=C2e},polygonEnd:function(){Ni.lineStart=jM,Ni.lineEnd=RM}};function RP(t,e){t*=Oe,e*=Oe;var n=Pe(e);Cp(n*Pe(t),n*Se(t),Se(e))}function Cp(t,e,n){++ef,Iy+=(t-Iy)/ef,Oy+=(e-Oy)/ef,Cy+=(n-Cy)/ef}function jM(){Ni.point=A2e}function A2e(t,e){t*=Oe,e*=Oe;var n=Pe(e);Kn=n*Pe(t),Yn=n*Se(t),Qn=Se(e),Ni.point=I2e,Cp(Kn,Yn,Qn)}function I2e(t,e){t*=Oe,e*=Oe;var n=Pe(e),r=n*Pe(t),i=n*Se(t),a=Se(e),s=ir(yn((s=Yn*a-Qn*i)*s+(s=Qn*r-Kn*a)*s+(s=Kn*i-Yn*r)*s),Kn*r+Yn*i+Qn*a);Ay+=s,jy+=s*(Kn+(Kn=r)),Ry+=s*(Yn+(Yn=i)),My+=s*(Qn+(Qn=a)),Cp(Kn,Yn,Qn)}function RM(){Ni.point=RP}function O2e(){Ni.point=j2e}function C2e(){S9(w9,_9),Ni.point=RP}function j2e(t,e){w9=t,_9=e,t*=Oe,e*=Oe,Ni.point=S9;var n=Pe(e);Kn=n*Pe(t),Yn=n*Se(t),Qn=Se(e),Cp(Kn,Yn,Qn)}function S9(t,e){t*=Oe,e*=Oe;var n=Pe(e),r=n*Pe(t),i=n*Se(t),a=Se(e),s=Yn*a-Qn*i,o=Qn*r-Kn*a,l=Kn*i-Yn*r,c=MS(s,o,l),u=ar(c),d=c&&-u/c;US.add(d*s),BS.add(d*o),zS.add(d*l),Ay+=u,jy+=u*(Kn+(Kn=r)),Ry+=u*(Yn+(Yn=i)),My+=u*(Qn+(Qn=a)),Cp(Kn,Yn,Qn)}function R2e(t){ef=Ay=Iy=Oy=Cy=jy=Ry=My=0,US=new Bn,BS=new Bn,zS=new Bn,Si(t,Ni);var e=+US,n=+BS,r=+zS,i=MS(e,n,r);return i<Xh&&(e=jy,n=Ry,r=My,Ay<Ie&&(e=Iy,n=Oy,r=Cy),i=MS(e,n,r),i<Xh)?[NaN,NaN]:[ir(n,e)*gt,ar(r/i)*gt]}function Ql(t){return function(){return t}}function qS(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function WS(t,e){return[tt(t)>Ke?t+Math.round(-t/rr)*rr:t,e]}WS.invert=WS;function MP(t,e,n){return(t%=rr)?e||n?qS($M(t),DM(e,n)):$M(t):e||n?DM(e,n):WS}function MM(t){return function(e,n){return e+=t,[e>Ke?e-rr:e<-Ke?e+rr:e,n]}}function $M(t){var e=MM(t);return e.invert=MM(-t),e}function DM(t,e){var n=Pe(t),r=Se(t),i=Pe(e),a=Se(e);function s(o,l){var c=Pe(l),u=Pe(o)*c,d=Se(o)*c,h=Se(l),p=h*n+u*r;return[ir(d*i-p*a,u*n-h*r),ar(p*i+d*a)]}return s.invert=function(o,l){var c=Pe(l),u=Pe(o)*c,d=Se(o)*c,h=Se(l),p=h*i-d*a;return[ir(d*i+h*a,u*n+p*r),ar(p*n-u*r)]},s}function k9(t){t=MP(t[0]*Oe,t[1]*Oe,t.length>2?t[2]*Oe:0);function e(n){return n=t(n[0]*Oe,n[1]*Oe),n[0]*=gt,n[1]*=gt,n}return e.invert=function(n){return n=t.invert(n[0]*Oe,n[1]*Oe),n[0]*=gt,n[1]*=gt,n},e}function E9(t,e,n,r,i,a){if(n){var s=Pe(e),o=Se(e),l=r*n;i==null?(i=e+r*rr,a=e-l/2):(i=LM(s,i),a=LM(s,a),(r>0?i<a:i>a)&&(i+=r*rr));for(var c,u=i;r>0?u>a:u<a;u-=l)c=Py([s,-o*Pe(u),-o*Se(u)]),t.point(c[0],c[1])}}function LM(t,e){e=El(e),e[0]-=t,Ny(e);var n=h9(-e[1]);return((-e[2]<0?-n:n)+rr-Ie)%rr}function M2e(){var t=Ql([0,0]),e=Ql(90),n=Ql(6),r,i,a={point:s};function s(l,c){r.push(l=i(l,c)),l[0]*=gt,l[1]*=gt}function o(){var l=t.apply(this,arguments),c=e.apply(this,arguments)*Oe,u=n.apply(this,arguments)*Oe;return r=[],i=MP(-l[0]*Oe,-l[1]*Oe,0).invert,E9(a,c,u,1),l={type:"Polygon",coordinates:[r]},r=i=null,l}return o.center=function(l){return arguments.length?(t=typeof l=="function"?l:Ql([+l[0],+l[1]]),o):t},o.radius=function(l){return arguments.length?(e=typeof l=="function"?l:Ql(+l),o):e},o.precision=function(l){return arguments.length?(n=typeof l=="function"?l:Ql(+l),o):n},o}function T9(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:Rt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function yg(t,e){return tt(t[0]-e[0])<Ie&&tt(t[1]-e[1])<Ie}function Fm(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function P9(t,e,n,r,i){var a=[],s=[],o,l;if(t.forEach(function(g){if(!((y=g.length-1)<=0)){var y,v=g[0],x=g[y],b;if(yg(v,x)){if(!v[2]&&!x[2]){for(i.lineStart(),o=0;o<y;++o)i.point((v=g[o])[0],v[1]);i.lineEnd();return}x[0]+=2*Ie}a.push(b=new Fm(v,g,null,!0)),s.push(b.o=new Fm(v,null,b,!1)),a.push(b=new Fm(x,g,null,!1)),s.push(b.o=new Fm(x,null,b,!0))}}),!!a.length){for(s.sort(e),FM(a),FM(s),o=0,l=s.length;o<l;++o)s[o].e=n=!n;for(var c=a[0],u,d;;){for(var h=c,p=!0;h.v;)if((h=h.n)===c)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,l=u.length;o<l;++o)i.point((d=u[o])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(u=h.p.z,o=u.length-1;o>=0;--o)i.point((d=u[o])[0],d[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,p=!p}while(!h.v);i.lineEnd()}}}function FM(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Ow(t){return tt(t[0])<=Ke?t[0]:ei(t[0])*((tt(t[0])+Ke)%rr-Ke)}function N9(t,e){var n=Ow(e),r=e[1],i=Se(r),a=[Se(n),-Pe(n),0],s=0,o=0,l=new Bn;i===1?r=zt+Ie:i===-1&&(r=-zt-Ie);for(var c=0,u=t.length;c<u;++c)if(h=(d=t[c]).length)for(var d,h,p=d[h-1],g=Ow(p),y=p[1]/2+_y,v=Se(y),x=Pe(y),b=0;b<h;++b,g=S,v=P,x=_,p=w){var w=d[b],S=Ow(w),k=w[1]/2+_y,P=Se(k),_=Pe(k),E=S-g,N=E>=0?1:-1,A=N*E,C=A>Ke,j=v*P;if(l.add(ir(j*N*Se(A),x*_+j*Pe(A))),s+=C?E+N*rr:E,C^g>=n^S>=n){var O=Pu(El(p),El(w));Ny(O);var M=Pu(a,O);Ny(M);var $=(C^E>=0?-1:1)*ar(M[2]);(r>$||r===$&&(O[0]||O[1]))&&(o+=C^E>=0?1:-1)}}return(s<-Ie||s<Ie&&l<-Xh)^o&1}function A9(t,e,n,r){return function(i){var a=e(i),s=T9(),o=e(s),l=!1,c,u,d,h={point:p,lineStart:y,lineEnd:v,polygonStart:function(){h.point=x,h.lineStart=b,h.lineEnd=w,u=[],c=[]},polygonEnd:function(){h.point=p,h.lineStart=y,h.lineEnd=v,u=d9(u);var S=N9(c,r);u.length?(l||(i.polygonStart(),l=!0),P9(u,D2e,S,n,i)):S&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(S,k){t(S,k)&&i.point(S,k)}function g(S,k){a.point(S,k)}function y(){h.point=g,a.lineStart()}function v(){h.point=p,a.lineEnd()}function x(S,k){d.push([S,k]),o.point(S,k)}function b(){o.lineStart(),d=[]}function w(){x(d[0][0],d[0][1]),o.lineEnd();var S=o.clean(),k=s.result(),P,_=k.length,E,N,A;if(d.pop(),c.push(d),d=null,!!_){if(S&1){if(N=k[0],(E=N.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),P=0;P<E;++P)i.point((A=N[P])[0],A[1]);i.lineEnd()}return}_>1&&S&2&&k.push(k.pop().concat(k.shift())),u.push(k.filter($2e))}}return h}}function $2e(t){return t.length>1}function D2e(t,e){return((t=t.x)[0]<0?t[1]-zt-Ie:zt-t[1])-((e=e.x)[0]<0?e[1]-zt-Ie:zt-e[1])}const HS=A9(function(){return!0},L2e,V2e,[-Ke,-zt]);function L2e(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,s){var o=a>0?Ke:-Ke,l=tt(a-e);tt(l-Ke)<Ie?(t.point(e,n=(n+s)/2>0?zt:-zt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),t.point(a,n),i=0):r!==o&&l>=Ke&&(tt(e-r)<Ie&&(e-=r*Ie),tt(a-o)<Ie&&(a-=o*Ie),n=F2e(e,n,a,s),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),i=0),t.point(e=a,n=s),r=o},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function F2e(t,e,n,r){var i,a,s=Se(t-n);return tt(s)>Ie?sd((Se(e)*(a=Pe(r))*Se(n)-Se(r)*(i=Pe(e))*Se(t))/(i*a*s)):(e+r)/2}function V2e(t,e,n,r){var i;if(t==null)i=n*zt,r.point(-Ke,i),r.point(0,i),r.point(Ke,i),r.point(Ke,0),r.point(Ke,-i),r.point(0,-i),r.point(-Ke,-i),r.point(-Ke,0),r.point(-Ke,i);else if(tt(t[0]-e[0])>Ie){var a=t[0]<e[0]?Ke:-Ke;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function I9(t){var e=Pe(t),n=6*Oe,r=e>0,i=tt(e)>Ie;function a(u,d,h,p){E9(p,t,n,h,u,d)}function s(u,d){return Pe(u)*Pe(d)>e}function o(u){var d,h,p,g,y;return{lineStart:function(){g=p=!1,y=1},point:function(v,x){var b=[v,x],w,S=s(v,x),k=r?S?0:c(v,x):S?c(v+(v<0?Ke:-Ke),x):0;if(!d&&(g=p=S)&&u.lineStart(),S!==p&&(w=l(d,b),(!w||yg(d,w)||yg(b,w))&&(b[2]=1)),S!==p)y=0,S?(u.lineStart(),w=l(b,d),u.point(w[0],w[1])):(w=l(d,b),u.point(w[0],w[1],2),u.lineEnd()),d=w;else if(i&&d&&r^S){var P;!(k&h)&&(P=l(b,d,!0))&&(y=0,r?(u.lineStart(),u.point(P[0][0],P[0][1]),u.point(P[1][0],P[1][1]),u.lineEnd()):(u.point(P[1][0],P[1][1]),u.lineEnd(),u.lineStart(),u.point(P[0][0],P[0][1],3)))}S&&(!d||!yg(d,b))&&u.point(b[0],b[1]),d=b,p=S,h=k},lineEnd:function(){p&&u.lineEnd(),d=null},clean:function(){return y|(g&&p)<<1}}}function l(u,d,h){var p=El(u),g=El(d),y=[1,0,0],v=Pu(p,g),x=Dm(v,v),b=v[0],w=x-b*b;if(!w)return!h&&u;var S=e*x/w,k=-e*b/w,P=Pu(y,v),_=Lm(y,S),E=Lm(v,k);Iw(_,E);var N=P,A=Dm(_,N),C=Dm(N,N),j=A*A-C*(Dm(_,_)-1);if(!(j<0)){var O=yn(j),M=Lm(N,(-A-O)/C);if(Iw(M,_),M=Py(M),!h)return M;var $=u[0],L=d[0],W=u[1],F=d[1],U;L<$&&(U=$,$=L,L=U);var G=L-$,Q=tt(G-Ke)<Ie,B=Q||G<Ie;if(!Q&&F<W&&(U=W,W=F,F=U),B?Q?W+F>0^M[1]<(tt(M[0]-$)<Ie?W:F):W<=M[1]&&M[1]<=F:G>Ke^($<=M[0]&&M[0]<=L)){var ae=Lm(N,(-A+O)/C);return Iw(ae,_),[M,Py(ae)]}}}function c(u,d){var h=r?t:Ke-t,p=0;return u<-h?p|=1:u>h&&(p|=2),d<-h?p|=4:d>h&&(p|=8),p}return A9(s,o,a,r?[0,-t]:[-Ke,t-Ke])}function U2e(t,e,n,r,i,a){var s=t[0],o=t[1],l=e[0],c=e[1],u=0,d=1,h=l-s,p=c-o,g;if(g=n-s,!(!h&&g>0)){if(g/=h,h<0){if(g<u)return;g<d&&(d=g)}else if(h>0){if(g>d)return;g>u&&(u=g)}if(g=i-s,!(!h&&g<0)){if(g/=h,h<0){if(g>d)return;g>u&&(u=g)}else if(h>0){if(g<u)return;g<d&&(d=g)}if(g=r-o,!(!p&&g>0)){if(g/=p,p<0){if(g<u)return;g<d&&(d=g)}else if(p>0){if(g>d)return;g>u&&(u=g)}if(g=a-o,!(!p&&g<0)){if(g/=p,p<0){if(g>d)return;g>u&&(u=g)}else if(p>0){if(g<u)return;g<d&&(d=g)}return u>0&&(t[0]=s+u*h,t[1]=o+u*p),d<1&&(e[0]=s+d*h,e[1]=o+d*p),!0}}}}}var tf=1e9,Vm=-tf;function $x(t,e,n,r){function i(c,u){return t<=c&&c<=n&&e<=u&&u<=r}function a(c,u,d,h){var p=0,g=0;if(c==null||(p=s(c,d))!==(g=s(u,d))||l(c,u)<0^d>0)do h.point(p===0||p===3?t:n,p>1?r:e);while((p=(p+d+4)%4)!==g);else h.point(u[0],u[1])}function s(c,u){return tt(c[0]-t)<Ie?u>0?0:3:tt(c[0]-n)<Ie?u>0?2:1:tt(c[1]-e)<Ie?u>0?1:0:u>0?3:2}function o(c,u){return l(c.x,u.x)}function l(c,u){var d=s(c,1),h=s(u,1);return d!==h?d-h:d===0?u[1]-c[1]:d===1?c[0]-u[0]:d===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,d=T9(),h,p,g,y,v,x,b,w,S,k,P,_={point:E,lineStart:j,lineEnd:O,polygonStart:A,polygonEnd:C};function E($,L){i($,L)&&u.point($,L)}function N(){for(var $=0,L=0,W=p.length;L<W;++L)for(var F=p[L],U=1,G=F.length,Q=F[0],B,ae,ge=Q[0],ye=Q[1];U<G;++U)B=ge,ae=ye,Q=F[U],ge=Q[0],ye=Q[1],ae<=r?ye>r&&(ge-B)*(r-ae)>(ye-ae)*(t-B)&&++$:ye<=r&&(ge-B)*(r-ae)<(ye-ae)*(t-B)&&--$;return $}function A(){u=d,h=[],p=[],P=!0}function C(){var $=N(),L=P&&$,W=(h=d9(h)).length;(L||W)&&(c.polygonStart(),L&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),W&&P9(h,o,$,a,c),c.polygonEnd()),u=c,h=p=g=null}function j(){_.point=M,p&&p.push(g=[]),k=!0,S=!1,b=w=NaN}function O(){h&&(M(y,v),x&&S&&d.rejoin(),h.push(d.result())),_.point=E,S&&u.lineEnd()}function M($,L){var W=i($,L);if(p&&g.push([$,L]),k)y=$,v=L,x=W,k=!1,W&&(u.lineStart(),u.point($,L));else if(W&&S)u.point($,L);else{var F=[b=Math.max(Vm,Math.min(tf,b)),w=Math.max(Vm,Math.min(tf,w))],U=[$=Math.max(Vm,Math.min(tf,$)),L=Math.max(Vm,Math.min(tf,L))];U2e(F,U,t,e,n,r)?(S||(u.lineStart(),u.point(F[0],F[1])),u.point(U[0],U[1]),W||u.lineEnd(),P=!1):W&&(u.lineStart(),u.point($,L),P=!1)}b=$,w=L,S=W}return _}}function B2e(){var t=0,e=0,n=960,r=500,i,a,s;return s={stream:function(o){return i&&a===o?i:i=$x(t,e,n,r)(a=o)},extent:function(o){return arguments.length?(t=+o[0][0],e=+o[0][1],n=+o[1][0],r=+o[1][1],i=a=null,s):[[t,e],[n,r]]}}}var GS,KS,vg,xg,Nu={sphere:Rt,point:Rt,lineStart:z2e,lineEnd:Rt,polygonStart:Rt,polygonEnd:Rt};function z2e(){Nu.point=W2e,Nu.lineEnd=q2e}function q2e(){Nu.point=Nu.lineEnd=Rt}function W2e(t,e){t*=Oe,e*=Oe,KS=t,vg=Se(e),xg=Pe(e),Nu.point=H2e}function H2e(t,e){t*=Oe,e*=Oe;var n=Se(e),r=Pe(e),i=tt(t-KS),a=Pe(i),s=Se(i),o=r*s,l=xg*n-vg*r*a,c=vg*n+xg*r*a;GS.add(ir(yn(o*o+l*l),c)),KS=t,vg=n,xg=r}function O9(t){return GS=new Bn,Si(t,Nu),+GS}var YS=[null,null],G2e={type:"LineString",coordinates:YS};function $y(t,e){return YS[0]=t,YS[1]=e,O9(G2e)}var VM={Feature:function(t,e){return Dy(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(Dy(n[r].geometry,e))return!0;return!1}},UM={Sphere:function(){return!0},Point:function(t,e){return BM(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(BM(n[r],e))return!0;return!1},LineString:function(t,e){return zM(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(zM(n[r],e))return!0;return!1},Polygon:function(t,e){return qM(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(qM(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(Dy(n[r],e))return!0;return!1}};function Dy(t,e){return t&&UM.hasOwnProperty(t.type)?UM[t.type](t,e):!1}function BM(t,e){return $y(t,e)===0}function zM(t,e){for(var n,r,i,a=0,s=t.length;a<s;a++){if(r=$y(t[a],e),r===0||a>0&&(i=$y(t[a],t[a-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Xh*i))return!0;n=r}return!1}function qM(t,e){return!!N9(t.map(K2e),C9(e))}function K2e(t){return t=t.map(C9),t.pop(),t}function C9(t){return[t[0]*Oe,t[1]*Oe]}function Y2e(t,e){return(t&&VM.hasOwnProperty(t.type)?VM[t.type]:Dy)(t,e)}function WM(t,e,n){var r=bc(t,e-Ie,n).concat(e);return function(i){return r.map(function(a){return[i,a]})}}function HM(t,e,n){var r=bc(t,e-Ie,n).concat(e);return function(i){return r.map(function(a){return[a,i]})}}function $P(){var t,e,n,r,i,a,s,o,l=10,c=l,u=90,d=360,h,p,g,y,v=2.5;function x(){return{type:"MultiLineString",coordinates:b()}}function b(){return bc($m(r/u)*u,n,u).map(g).concat(bc($m(o/d)*d,s,d).map(y)).concat(bc($m(e/l)*l,t,l).filter(function(w){return tt(w%u)>Ie}).map(h)).concat(bc($m(a/c)*c,i,c).filter(function(w){return tt(w%d)>Ie}).map(p))}return x.lines=function(){return b().map(function(w){return{type:"LineString",coordinates:w}})},x.outline=function(){return{type:"Polygon",coordinates:[g(r).concat(y(s).slice(1),g(n).reverse().slice(1),y(o).reverse().slice(1))]}},x.extent=function(w){return arguments.length?x.extentMajor(w).extentMinor(w):x.extentMinor()},x.extentMajor=function(w){return arguments.length?(r=+w[0][0],n=+w[1][0],o=+w[0][1],s=+w[1][1],r>n&&(w=r,r=n,n=w),o>s&&(w=o,o=s,s=w),x.precision(v)):[[r,o],[n,s]]},x.extentMinor=function(w){return arguments.length?(e=+w[0][0],t=+w[1][0],a=+w[0][1],i=+w[1][1],e>t&&(w=e,e=t,t=w),a>i&&(w=a,a=i,i=w),x.precision(v)):[[e,a],[t,i]]},x.step=function(w){return arguments.length?x.stepMajor(w).stepMinor(w):x.stepMinor()},x.stepMajor=function(w){return arguments.length?(u=+w[0],d=+w[1],x):[u,d]},x.stepMinor=function(w){return arguments.length?(l=+w[0],c=+w[1],x):[l,c]},x.precision=function(w){return arguments.length?(v=+w,h=WM(a,i,90),p=HM(e,t,v),g=WM(o,s,90),y=HM(r,n,v),x):v},x.extentMajor([[-180,-90+Ie],[180,90-Ie]]).extentMinor([[-180,-80-Ie],[180,80+Ie]])}function Q2e(){return $P()()}function X2e(t,e){var n=t[0]*Oe,r=t[1]*Oe,i=e[0]*Oe,a=e[1]*Oe,s=Pe(r),o=Se(r),l=Pe(a),c=Se(a),u=s*Pe(n),d=s*Se(n),h=l*Pe(i),p=l*Se(i),g=2*ar(yn(TM(a-r)+s*l*TM(i-n))),y=Se(g),v=g?function(x){var b=Se(x*=g)/y,w=Se(g-x)/y,S=w*u+b*h,k=w*d+b*p,P=w*o+b*c;return[ir(k,S)*gt,ir(P,yn(S*S+k*k))*gt]}:function(){return[n*gt,r*gt]};return v.distance=g,v}const Jh=t=>t;var Cw=new Bn,QS=new Bn,j9,R9,XS,JS,Pa={point:Rt,lineStart:Rt,lineEnd:Rt,polygonStart:function(){Pa.lineStart=J2e,Pa.lineEnd=eNe},polygonEnd:function(){Pa.lineStart=Pa.lineEnd=Pa.point=Rt,Cw.add(tt(QS)),QS=new Bn},result:function(){var t=Cw/2;return Cw=new Bn,t}};function J2e(){Pa.point=Z2e}function Z2e(t,e){Pa.point=M9,j9=XS=t,R9=JS=e}function M9(t,e){QS.add(JS*t-XS*e),XS=t,JS=e}function eNe(){M9(j9,R9)}var Au=1/0,Ly=Au,Zh=-Au,Fy=Zh,Vy={point:tNe,lineStart:Rt,lineEnd:Rt,polygonStart:Rt,polygonEnd:Rt,result:function(){var t=[[Au,Ly],[Zh,Fy]];return Zh=Fy=-(Ly=Au=1/0),t}};function tNe(t,e){t<Au&&(Au=t),t>Zh&&(Zh=t),e<Ly&&(Ly=e),e>Fy&&(Fy=e)}var ZS=0,ek=0,nf=0,Uy=0,By=0,wc=0,tk=0,nk=0,rf=0,$9,D9,Hi,Gi,Xr={point:Tl,lineStart:GM,lineEnd:KM,polygonStart:function(){Xr.lineStart=iNe,Xr.lineEnd=aNe},polygonEnd:function(){Xr.point=Tl,Xr.lineStart=GM,Xr.lineEnd=KM},result:function(){var t=rf?[tk/rf,nk/rf]:wc?[Uy/wc,By/wc]:nf?[ZS/nf,ek/nf]:[NaN,NaN];return ZS=ek=nf=Uy=By=wc=tk=nk=rf=0,t}};function Tl(t,e){ZS+=t,ek+=e,++nf}function GM(){Xr.point=nNe}function nNe(t,e){Xr.point=rNe,Tl(Hi=t,Gi=e)}function rNe(t,e){var n=t-Hi,r=e-Gi,i=yn(n*n+r*r);Uy+=i*(Hi+t)/2,By+=i*(Gi+e)/2,wc+=i,Tl(Hi=t,Gi=e)}function KM(){Xr.point=Tl}function iNe(){Xr.point=sNe}function aNe(){L9($9,D9)}function sNe(t,e){Xr.point=L9,Tl($9=Hi=t,D9=Gi=e)}function L9(t,e){var n=t-Hi,r=e-Gi,i=yn(n*n+r*r);Uy+=i*(Hi+t)/2,By+=i*(Gi+e)/2,wc+=i,i=Gi*t-Hi*e,tk+=i*(Hi+t),nk+=i*(Gi+e),rf+=i*3,Tl(Hi=t,Gi=e)}function F9(t){this._context=t}F9.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,rr);break}}},result:Rt};var rk=new Bn,jw,V9,U9,af,sf,ep={point:Rt,lineStart:function(){ep.point=oNe},lineEnd:function(){jw&&B9(V9,U9),ep.point=Rt},polygonStart:function(){jw=!0},polygonEnd:function(){jw=null},result:function(){var t=+rk;return rk=new Bn,t}};function oNe(t,e){ep.point=B9,V9=af=t,U9=sf=e}function B9(t,e){af-=t,sf-=e,rk.add(yn(af*af+sf*sf)),af=t,sf=e}function z9(){this._string=[]}z9.prototype={_radius:4.5,_circle:YM(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._string.push("M",t,",",e),this._point=1;break}case 1:{this._string.push("L",t,",",e);break}default:{this._circle==null&&(this._circle=YM(this._radius)),this._string.push("M",t,",",e,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function YM(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function q9(t,e){var n=4.5,r,i;function a(s){return s&&(typeof n=="function"&&i.pointRadius(+n.apply(this,arguments)),Si(s,r(i))),i.result()}return a.area=function(s){return Si(s,r(Pa)),Pa.result()},a.measure=function(s){return Si(s,r(ep)),ep.result()},a.bounds=function(s){return Si(s,r(Vy)),Vy.result()},a.centroid=function(s){return Si(s,r(Xr)),Xr.result()},a.projection=function(s){return arguments.length?(r=s==null?(t=null,Jh):(t=s).stream,a):t},a.context=function(s){return arguments.length?(i=s==null?(e=null,new z9):new F9(e=s),typeof n!="function"&&i.pointRadius(n),a):e},a.pointRadius=function(s){return arguments.length?(n=typeof s=="function"?s:(i.pointRadius(+s),+s),a):n},a.projection(t).context(e)}function lNe(t){return{stream:jp(t)}}function jp(t){return function(e){var n=new ik;for(var r in t)n[r]=t[r];return n.stream=e,n}}function ik(){}ik.prototype={constructor:ik,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function DP(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Si(n,t.stream(Vy)),e(Vy.result()),r!=null&&t.clipExtent(r),t}function Dx(t,e,n){return DP(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),o=+e[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(a-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([o,l])},n)}function LP(t,e,n){return Dx(t,[[0,0],e],n)}function FP(t,e,n){return DP(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,o=-a*r[0][1];t.scale(150*a).translate([s,o])},n)}function VP(t,e,n){return DP(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],o=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,o])},n)}var QM=16,cNe=Pe(30*Oe);function XM(t,e){return+e?dNe(t,e):uNe(t)}function uNe(t){return jp({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function dNe(t,e){function n(r,i,a,s,o,l,c,u,d,h,p,g,y,v){var x=c-r,b=u-i,w=x*x+b*b;if(w>4*e&&y--){var S=s+h,k=o+p,P=l+g,_=yn(S*S+k*k+P*P),E=ar(P/=_),N=tt(tt(P)-1)<Ie||tt(a-d)<Ie?(a+d)/2:ir(k,S),A=t(N,E),C=A[0],j=A[1],O=C-r,M=j-i,$=b*O-x*M;($*$/w>e||tt((x*O+b*M)/w-.5)>.3||s*h+o*p+l*g<cNe)&&(n(r,i,a,s,o,l,C,j,N,S/=_,k/=_,P,y,v),v.point(C,j),n(C,j,N,S,k,P,c,u,d,h,p,g,y,v))}}return function(r){var i,a,s,o,l,c,u,d,h,p,g,y,v={point:x,lineStart:b,lineEnd:S,polygonStart:function(){r.polygonStart(),v.lineStart=k},polygonEnd:function(){r.polygonEnd(),v.lineStart=b}};function x(E,N){E=t(E,N),r.point(E[0],E[1])}function b(){d=NaN,v.point=w,r.lineStart()}function w(E,N){var A=El([E,N]),C=t(E,N);n(d,h,u,p,g,y,d=C[0],h=C[1],u=E,p=A[0],g=A[1],y=A[2],QM,r),r.point(d,h)}function S(){v.point=x,r.lineEnd()}function k(){b(),v.point=P,v.lineEnd=_}function P(E,N){w(i=E,N),a=d,s=h,o=p,l=g,c=y,v.point=w}function _(){n(d,h,u,p,g,y,a,s,i,o,l,c,QM,r),v.lineEnd=S,S()}return v}}var fNe=jp({point:function(t,e){this.stream.point(t*Oe,e*Oe)}});function hNe(t){return jp({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function pNe(t,e,n,r,i){function a(s,o){return s*=r,o*=i,[e+t*s,n-t*o]}return a.invert=function(s,o){return[(s-e)/t*r,(n-o)/t*i]},a}function JM(t,e,n,r,i,a){if(!a)return pNe(t,e,n,r,i);var s=Pe(a),o=Se(a),l=s*t,c=o*t,u=s/t,d=o/t,h=(o*n-s*e)/t,p=(o*e+s*n)/t;function g(y,v){return y*=r,v*=i,[l*y-c*v+e,n-c*y-l*v]}return g.invert=function(y,v){return[r*(u*y-d*v+h),i*(p-d*y-u*v)]},g}function ya(t){return UP(function(){return t})()}function UP(t){var e,n=150,r=480,i=250,a=0,s=0,o=0,l=0,c=0,u,d=0,h=1,p=1,g=null,y=HS,v=null,x,b,w,S=Jh,k=.5,P,_,E,N,A;function C($){return E($[0]*Oe,$[1]*Oe)}function j($){return $=E.invert($[0],$[1]),$&&[$[0]*gt,$[1]*gt]}C.stream=function($){return N&&A===$?N:N=fNe(hNe(u)(y(P(S(A=$)))))},C.preclip=function($){return arguments.length?(y=$,g=void 0,M()):y},C.postclip=function($){return arguments.length?(S=$,v=x=b=w=null,M()):S},C.clipAngle=function($){return arguments.length?(y=+$?I9(g=$*Oe):(g=null,HS),M()):g*gt},C.clipExtent=function($){return arguments.length?(S=$==null?(v=x=b=w=null,Jh):$x(v=+$[0][0],x=+$[0][1],b=+$[1][0],w=+$[1][1]),M()):v==null?null:[[v,x],[b,w]]},C.scale=function($){return arguments.length?(n=+$,O()):n},C.translate=function($){return arguments.length?(r=+$[0],i=+$[1],O()):[r,i]},C.center=function($){return arguments.length?(a=$[0]%360*Oe,s=$[1]%360*Oe,O()):[a*gt,s*gt]},C.rotate=function($){return arguments.length?(o=$[0]%360*Oe,l=$[1]%360*Oe,c=$.length>2?$[2]%360*Oe:0,O()):[o*gt,l*gt,c*gt]},C.angle=function($){return arguments.length?(d=$%360*Oe,O()):d*gt},C.reflectX=function($){return arguments.length?(h=$?-1:1,O()):h<0},C.reflectY=function($){return arguments.length?(p=$?-1:1,O()):p<0},C.precision=function($){return arguments.length?(P=XM(_,k=$*$),M()):yn(k)},C.fitExtent=function($,L){return Dx(C,$,L)},C.fitSize=function($,L){return LP(C,$,L)},C.fitWidth=function($,L){return FP(C,$,L)},C.fitHeight=function($,L){return VP(C,$,L)};function O(){var $=JM(n,0,0,h,p,d).apply(null,e(a,s)),L=JM(n,r-$[0],i-$[1],h,p,d);return u=MP(o,l,c),_=qS(e,L),E=qS(u,_),P=XM(_,k),M()}function M(){return N=A=null,C}return function(){return e=t.apply(this,arguments),C.invert=e.invert&&j,O()}}function BP(t){var e=0,n=Ke/3,r=UP(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*Oe,n=a[1]*Oe):[e*gt,n*gt]},i}function mNe(t){var e=Pe(t);function n(r,i){return[r*e,Se(i)/e]}return n.invert=function(r,i){return[r/e,ar(i*e)]},n}function W9(t,e){var n=Se(t),r=(n+Se(e))/2;if(tt(r)<Ie)return mNe(t);var i=1+n*(2*r-n),a=yn(i)/r;function s(o,l){var c=yn(i-2*r*Se(l))/r;return[c*Se(o*=r),a-c*Pe(o)]}return s.invert=function(o,l){var c=a-l,u=ir(o,tt(c))*ei(c);return c*r<0&&(u-=Ke*ei(o)*ei(c)),[u/r,ar((i-(o*o+c*c)*r*r)/(2*r))]},s}function zy(){return BP(W9).scale(155.424).center([0,33.6442])}function H9(){return zy().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function gNe(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function yNe(){var t,e,n=H9(),r,i=zy().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,s=zy().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,l,c={point:function(h,p){l=[h,p]}};function u(h){var p=h[0],g=h[1];return l=null,r.point(p,g),l||(a.point(p,g),l)||(o.point(p,g),l)}u.invert=function(h){var p=n.scale(),g=n.translate(),y=(h[0]-g[0])/p,v=(h[1]-g[1])/p;return(v>=.12&&v<.234&&y>=-.425&&y<-.214?i:v>=.166&&v<.234&&y>=-.214&&y<-.115?s:n).invert(h)},u.stream=function(h){return t&&e===h?t:t=gNe([n.stream(e=h),i.stream(h),s.stream(h)])},u.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),s.precision(h),d()):n.precision()},u.scale=function(h){return arguments.length?(n.scale(h),i.scale(h*.35),s.scale(h),u.translate(n.translate())):n.scale()},u.translate=function(h){if(!arguments.length)return n.translate();var p=n.scale(),g=+h[0],y=+h[1];return r=n.translate(h).clipExtent([[g-.455*p,y-.238*p],[g+.455*p,y+.238*p]]).stream(c),a=i.translate([g-.307*p,y+.201*p]).clipExtent([[g-.425*p+Ie,y+.12*p+Ie],[g-.214*p-Ie,y+.234*p-Ie]]).stream(c),o=s.translate([g-.205*p,y+.212*p]).clipExtent([[g-.214*p+Ie,y+.166*p+Ie],[g-.115*p-Ie,y+.234*p-Ie]]).stream(c),d()},u.fitExtent=function(h,p){return Dx(u,h,p)},u.fitSize=function(h,p){return LP(u,h,p)},u.fitWidth=function(h,p){return FP(u,h,p)},u.fitHeight=function(h,p){return VP(u,h,p)};function d(){return t=e=null,u}return u.scale(1070)}function G9(t){return function(e,n){var r=Pe(e),i=Pe(n),a=t(r*i);return a===1/0?[2,0]:[a*i*Se(e),a*Se(n)]}}function Rp(t){return function(e,n){var r=yn(e*e+n*n),i=t(r),a=Se(i),s=Pe(i);return[ir(e*a,r*s),ar(r&&n*a/r)]}}var zP=G9(function(t){return yn(2/(1+t))});zP.invert=Rp(function(t){return 2*ar(t/2)});function vNe(){return ya(zP).scale(124.75).clipAngle(180-.001)}var qP=G9(function(t){return(t=h9(t))&&t/Se(t)});qP.invert=Rp(function(t){return t});function xNe(){return ya(qP).scale(79.4188).clipAngle(180-.001)}function Mp(t,e){return[t,Sy(jP((zt+e)/2))]}Mp.invert=function(t,e){return[t,2*sd(f9(e))-zt]};function bNe(){return K9(Mp).scale(961/rr)}function K9(t){var e=ya(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,s=null,o,l,c;e.scale=function(d){return arguments.length?(r(d),u()):r()},e.translate=function(d){return arguments.length?(i(d),u()):i()},e.center=function(d){return arguments.length?(n(d),u()):n()},e.clipExtent=function(d){return arguments.length?(d==null?s=o=l=c=null:(s=+d[0][0],o=+d[0][1],l=+d[1][0],c=+d[1][1]),u()):s==null?null:[[s,o],[l,c]]};function u(){var d=Ke*r(),h=e(k9(e.rotate()).invert([0,0]));return a(s==null?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:t===Mp?[[Math.max(h[0]-d,s),o],[Math.min(h[0]+d,l),c]]:[[s,Math.max(h[1]-d,o)],[l,Math.min(h[1]+d,c)]])}return u()}function Um(t){return jP((zt+t)/2)}function Y9(t,e){var n=Pe(t),r=t===e?Se(t):Sy(n/Pe(e))/Sy(Um(e)/Um(t)),i=n*Aw(Um(t),r)/r;if(!r)return Mp;function a(s,o){i>0?o<-zt+Ie&&(o=-zt+Ie):o>zt-Ie&&(o=zt-Ie);var l=i/Aw(Um(o),r);return[l*Se(r*s),i-l*Pe(r*s)]}return a.invert=function(s,o){var l=i-o,c=ei(r)*yn(s*s+l*l),u=ir(s,tt(l))*ei(l);return l*r<0&&(u-=Ke*ei(s)*ei(l)),[u/r,2*sd(Aw(i/c,1/r))-zt]},a}function wNe(){return BP(Y9).scale(109.5).parallels([30,30])}function tp(t,e){return[t,e]}tp.invert=tp;function _Ne(){return ya(tp).scale(152.63)}function Q9(t,e){var n=Pe(t),r=t===e?Se(t):(n-Pe(e))/(e-t),i=n/r+t;if(tt(r)<Ie)return tp;function a(s,o){var l=i-o,c=r*s;return[l*Se(c),i-l*Pe(c)]}return a.invert=function(s,o){var l=i-o,c=ir(s,tt(l))*ei(l);return l*r<0&&(c-=Ke*ei(s)*ei(l)),[c/r,i-ei(r)*yn(s*s+l*l)]},a}function SNe(){return BP(Q9).scale(131.154).center([0,13.9389])}var Rf=1.340264,Mf=-.081106,$f=893e-6,Df=.003796,qy=yn(3)/2,kNe=12;function WP(t,e){var n=ar(qy*Se(e)),r=n*n,i=r*r*r;return[t*Pe(n)/(qy*(Rf+3*Mf*r+i*(7*$f+9*Df*r))),n*(Rf+Mf*r+i*($f+Df*r))]}WP.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,a=0,s,o,l;a<kNe&&(o=n*(Rf+Mf*r+i*($f+Df*r))-e,l=Rf+3*Mf*r+i*(7*$f+9*Df*r),n-=s=o/l,r=n*n,i=r*r*r,!(tt(s)<Xh));++a);return[qy*t*(Rf+3*Mf*r+i*(7*$f+9*Df*r))/Pe(n),ar(Se(n)/qy)]};function ENe(){return ya(WP).scale(177.158)}function HP(t,e){var n=Pe(e),r=Pe(t)*n;return[n*Se(t)/r,Se(e)/r]}HP.invert=Rp(sd);function TNe(){return ya(HP).scale(144.049).clipAngle(60)}function PNe(){var t=1,e=0,n=0,r=1,i=1,a=0,s,o,l=null,c,u,d,h=1,p=1,g=jp({point:function(S,k){var P=w([S,k]);this.stream.point(P[0],P[1])}}),y=Jh,v,x;function b(){return h=t*r,p=t*i,v=x=null,w}function w(S){var k=S[0]*h,P=S[1]*p;if(a){var _=P*s-k*o;k=k*s+P*o,P=_}return[k+e,P+n]}return w.invert=function(S){var k=S[0]-e,P=S[1]-n;if(a){var _=P*s+k*o;k=k*s-P*o,P=_}return[k/h,P/p]},w.stream=function(S){return v&&x===S?v:v=g(y(x=S))},w.postclip=function(S){return arguments.length?(y=S,l=c=u=d=null,b()):y},w.clipExtent=function(S){return arguments.length?(y=S==null?(l=c=u=d=null,Jh):$x(l=+S[0][0],c=+S[0][1],u=+S[1][0],d=+S[1][1]),b()):l==null?null:[[l,c],[u,d]]},w.scale=function(S){return arguments.length?(t=+S,b()):t},w.translate=function(S){return arguments.length?(e=+S[0],n=+S[1],b()):[e,n]},w.angle=function(S){return arguments.length?(a=S%360*Oe,o=Se(a),s=Pe(a),b()):a*gt},w.reflectX=function(S){return arguments.length?(r=S?-1:1,b()):r<0},w.reflectY=function(S){return arguments.length?(i=S?-1:1,b()):i<0},w.fitExtent=function(S,k){return Dx(w,S,k)},w.fitSize=function(S,k){return LP(w,S,k)},w.fitWidth=function(S,k){return FP(w,S,k)},w.fitHeight=function(S,k){return VP(w,S,k)},w}function GP(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}GP.invert=function(t,e){var n=e,r=25,i;do{var a=n*n,s=a*a;n-=i=(n*(1.007226+a*(.015085+s*(-.044475+.028874*a-.005916*s)))-e)/(1.007226+a*(.015085*3+s*(-.044475*7+.028874*9*a-.005916*11*s)))}while(tt(i)>Ie&&--r>0);return[t/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function NNe(){return ya(GP).scale(175.295)}function KP(t,e){return[Pe(e)*Se(t),Se(e)]}KP.invert=Rp(ar);function ANe(){return ya(KP).scale(249.5).clipAngle(90+Ie)}function YP(t,e){var n=Pe(e),r=1+Pe(t)*n;return[n*Se(t)/r,Se(e)/r]}YP.invert=Rp(function(t){return 2*sd(t)});function INe(){return ya(YP).scale(250).clipAngle(142)}function QP(t,e){return[Sy(jP((zt+e)/2)),-t]}QP.invert=function(t,e){return[-e,2*sd(f9(t))-zt]};function ONe(){var t=K9(QP),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}const CNe=Object.freeze(Object.defineProperty({__proto__:null,geoAlbers:H9,geoAlbersUsa:yNe,geoArea:k2e,geoAzimuthalEqualArea:vNe,geoAzimuthalEqualAreaRaw:zP,geoAzimuthalEquidistant:xNe,geoAzimuthalEquidistantRaw:qP,geoBounds:N2e,geoCentroid:R2e,geoCircle:M2e,geoClipAntimeridian:HS,geoClipCircle:I9,geoClipExtent:B2e,geoClipRectangle:$x,geoConicConformal:wNe,geoConicConformalRaw:Y9,geoConicEqualArea:zy,geoConicEqualAreaRaw:W9,geoConicEquidistant:SNe,geoConicEquidistantRaw:Q9,geoContains:Y2e,geoDistance:$y,geoEqualEarth:ENe,geoEqualEarthRaw:WP,geoEquirectangular:_Ne,geoEquirectangularRaw:tp,geoGnomonic:TNe,geoGnomonicRaw:HP,geoGraticule:$P,geoGraticule10:Q2e,geoIdentity:PNe,geoInterpolate:X2e,geoLength:O9,geoMercator:bNe,geoMercatorRaw:Mp,geoNaturalEarth1:NNe,geoNaturalEarth1Raw:GP,geoOrthographic:ANe,geoOrthographicRaw:KP,geoPath:q9,geoProjection:ya,geoProjectionMutator:UP,geoRotation:k9,geoStereographic:INe,geoStereographicRaw:YP,geoStream:Si,geoTransform:lNe,geoTransverseMercator:ONe,geoTransverseMercatorRaw:QP},Symbol.toStringTag,{value:"Module"}));function jNe(t){return t}function RNe(t){if(t==null)return jNe;var e,n,r=t.scale[0],i=t.scale[1],a=t.translate[0],s=t.translate[1];return function(o,l){l||(e=n=0);var c=2,u=o.length,d=new Array(u);for(d[0]=(e+=o[0])*r+a,d[1]=(n+=o[1])*i+s;c<u;)d[c]=o[c],++c;return d}}function MNe(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}function $Ne(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return ZM(t,n)})}:ZM(t,e)}function ZM(t,e){var n=e.id,r=e.bbox,i=e.properties==null?{}:e.properties,a=X9(t,e);return n==null&&r==null?{type:"Feature",properties:i,geometry:a}:r==null?{type:"Feature",id:n,properties:i,geometry:a}:{type:"Feature",id:n,bbox:r,properties:i,geometry:a}}function X9(t,e){var n=RNe(t.transform),r=t.arcs;function i(u,d){d.length&&d.pop();for(var h=r[u<0?~u:u],p=0,g=h.length;p<g;++p)d.push(n(h[p],p));u<0&&MNe(d,g)}function a(u){return n(u)}function s(u){for(var d=[],h=0,p=u.length;h<p;++h)i(u[h],d);return d.length<2&&d.push(d[0]),d}function o(u){for(var d=s(u);d.length<4;)d.push(d[0]);return d}function l(u){return u.map(o)}function c(u){var d=u.type,h;switch(d){case"GeometryCollection":return{type:d,geometries:u.geometries.map(c)};case"Point":h=a(u.coordinates);break;case"MultiPoint":h=u.coordinates.map(a);break;case"LineString":h=s(u.arcs);break;case"MultiLineString":h=u.arcs.map(s);break;case"Polygon":h=l(u.arcs);break;case"MultiPolygon":h=u.arcs.map(l);break;default:return null}return{type:d,coordinates:h}}return c(e)}function DNe(t,e){var n={},r={},i={},a=[],s=-1;e.forEach(function(c,u){var d=t.arcs[c<0?~c:c],h;d.length<3&&!d[1][0]&&!d[1][1]&&(h=e[++s],e[s]=c,e[u]=h)}),e.forEach(function(c){var u=o(c),d=u[0],h=u[1],p,g;if(p=i[d])if(delete i[p.end],p.push(c),p.end=h,g=r[h]){delete r[g.start];var y=g===p?p:p.concat(g);r[y.start=p.start]=i[y.end=g.end]=y}else r[p.start]=i[p.end]=p;else if(p=r[h])if(delete r[p.start],p.unshift(c),p.start=d,g=i[d]){delete i[g.end];var v=g===p?p:g.concat(p);r[v.start=g.start]=i[v.end=p.end]=v}else r[p.start]=i[p.end]=p;else p=[c],r[p.start=d]=i[p.end=h]=p});function o(c){var u=t.arcs[c<0?~c:c],d=u[0],h;return t.transform?(h=[0,0],u.forEach(function(p){h[0]+=p[0],h[1]+=p[1]})):h=u[u.length-1],c<0?[h,d]:[d,h]}function l(c,u){for(var d in c){var h=c[d];delete u[h.start],delete h.start,delete h.end,h.forEach(function(p){n[p<0?~p:p]=1}),a.push(h)}}return l(i,r),l(r,i),e.forEach(function(c){n[c<0?~c:c]||a.push([c])}),a}function e$(t){return X9(t,LNe.apply(this,arguments))}function LNe(t,e,n){var r,i,a;if(arguments.length>1)r=FNe(t,e,n);else for(i=0,r=new Array(a=t.arcs.length);i<a;++i)r[i]=i;return{type:"MultiLineString",arcs:DNe(t,r)}}function FNe(t,e,n){var r=[],i=[],a;function s(d){var h=d<0?~d:d;(i[h]||(i[h]=[])).push({i:d,g:a})}function o(d){d.forEach(s)}function l(d){d.forEach(o)}function c(d){d.forEach(l)}function u(d){switch(a=d,d.type){case"GeometryCollection":d.geometries.forEach(u);break;case"LineString":o(d.arcs);break;case"MultiLineString":case"Polygon":l(d.arcs);break;case"MultiPolygon":c(d.arcs);break}}return u(e),i.forEach(n==null?function(d){r.push(d[0].i)}:function(d){n(d[0].g,d[d.length-1].g)&&r.push(d[0].i)}),r}var VNe={value:()=>{}};function XP(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new bg(n)}function bg(t){this._=t}function UNe(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}bg.prototype=XP.prototype={constructor:bg,on:function(t,e){var n=this._,r=UNe(t+"",n),i,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((i=(t=r[a]).type)&&(i=BNe(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<s;)if(i=(t=r[a]).type)n[i]=t$(n[i],t.name,e);else if(e==null)for(i in n)n[i]=t$(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new bg(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function BNe(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function t$(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=VNe,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var ak="http://www.w3.org/1999/xhtml";const n$={svg:"http://www.w3.org/2000/svg",xhtml:ak,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Lx(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),n$.hasOwnProperty(e)?{space:n$[e],local:t}:t}function zNe(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ak&&e.documentElement.namespaceURI===ak?e.createElement(t):e.createElementNS(n,t)}}function qNe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function J9(t){var e=Lx(t);return(e.local?qNe:zNe)(e)}function WNe(){}function JP(t){return t==null?WNe:function(){return this.querySelector(t)}}function HNe(t){typeof t!="function"&&(t=JP(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=new Array(s),l,c,u=0;u<s;++u)(l=a[u])&&(c=t.call(l,l.__data__,u,a))&&("__data__"in l&&(c.__data__=l.__data__),o[u]=c);return new xr(r,this._parents)}function Z9(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function GNe(){return[]}function eU(t){return t==null?GNe:function(){return this.querySelectorAll(t)}}function KNe(t){return function(){var e=t.apply(this,arguments);return e==null?[]:Z9(e)}}function YNe(t){typeof t=="function"?t=KNe(t):t=eU(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var s=e[a],o=s.length,l,c=0;c<o;++c)(l=s[c])&&(r.push(t.call(l,l.__data__,c,s)),i.push(l));return new xr(r,i)}function tU(t){return function(){return this.matches(t)}}function nU(t){return function(e){return e.matches(t)}}var QNe=Array.prototype.find;function XNe(t){return function(){return QNe.call(this.children,t)}}function JNe(){return this.firstElementChild}function ZNe(t){return this.select(t==null?JNe:XNe(typeof t=="function"?t:nU(t)))}var eAe=Array.prototype.filter;function tAe(){return this.children}function nAe(t){return function(){return eAe.call(this.children,t)}}function rAe(t){return this.selectAll(t==null?tAe:nAe(typeof t=="function"?t:nU(t)))}function iAe(t){typeof t!="function"&&(t=tU(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=[],l,c=0;c<s;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&o.push(l);return new xr(r,this._parents)}function rU(t){return new Array(t.length)}function aAe(){return new xr(this._enter||this._groups.map(rU),this._parents)}function Wy(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Wy.prototype={constructor:Wy,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function sAe(t){return function(){return t}}function oAe(t,e,n,r,i,a){for(var s=0,o,l=e.length,c=a.length;s<c;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new Wy(t,a[s]);for(;s<l;++s)(o=e[s])&&(i[s]=o)}function lAe(t,e,n,r,i,a,s){var o,l,c=new Map,u=e.length,d=a.length,h=new Array(u),p;for(o=0;o<u;++o)(l=e[o])&&(h[o]=p=s.call(l,l.__data__,o,e)+"",c.has(p)?i[o]=l:c.set(p,l));for(o=0;o<d;++o)p=s.call(t,a[o],o,a)+"",(l=c.get(p))?(r[o]=l,l.__data__=a[o],c.delete(p)):n[o]=new Wy(t,a[o]);for(o=0;o<u;++o)(l=e[o])&&c.get(h[o])===l&&(i[o]=l)}function cAe(t){return t.__data__}function uAe(t,e){if(!arguments.length)return Array.from(this,cAe);var n=e?lAe:oAe,r=this._parents,i=this._groups;typeof t!="function"&&(t=sAe(t));for(var a=i.length,s=new Array(a),o=new Array(a),l=new Array(a),c=0;c<a;++c){var u=r[c],d=i[c],h=d.length,p=Z9(t.call(u,u&&u.__data__,c,r)),g=p.length,y=o[c]=new Array(g),v=s[c]=new Array(g),x=l[c]=new Array(h);n(u,d,y,v,x,p,e);for(var b=0,w=0,S,k;b<g;++b)if(S=y[b]){for(b>=w&&(w=b+1);!(k=v[w])&&++w<g;);S._next=k||null}}return s=new xr(s,r),s._enter=o,s._exit=l,s}function dAe(){return new xr(this._exit||this._groups.map(rU),this._parents)}function fAe(t,e,n){var r=this.enter(),i=this,a=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),e!=null&&(i=e(i)),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function hAe(t){if(!(t instanceof xr))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l=e[o],c=n[o],u=l.length,d=s[o]=new Array(u),h,p=0;p<u;++p)(h=l[p]||c[p])&&(d[p]=h);for(;o<r;++o)s[o]=e[o];return new xr(s,this._parents)}function pAe(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],s;--i>=0;)(s=r[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function mAe(t){t||(t=gAe);function e(d,h){return d&&h?t(d.__data__,h.__data__):!d-!h}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var s=n[a],o=s.length,l=i[a]=new Array(o),c,u=0;u<o;++u)(c=s[u])&&(l[u]=c);l.sort(e)}return new xr(i,this._parents).order()}function gAe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function yAe(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function vAe(){return Array.from(this)}function xAe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null}function bAe(){let t=0;for(const e of this)++t;return t}function wAe(){return!this.node()}function _Ae(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,s=i.length,o;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this}function SAe(t){return function(){this.removeAttribute(t)}}function kAe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function EAe(t,e){return function(){this.setAttribute(t,e)}}function TAe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function PAe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function NAe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function AAe(t,e){var n=Lx(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?kAe:SAe:typeof e=="function"?n.local?NAe:PAe:n.local?TAe:EAe)(n,e))}function iU(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function IAe(t){return function(){this.style.removeProperty(t)}}function OAe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function CAe(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function jAe(t,e,n){return arguments.length>1?this.each((e==null?IAe:typeof e=="function"?CAe:OAe)(t,e,n??"")):Iu(this.node(),t)}function Iu(t,e){return t.style.getPropertyValue(e)||iU(t).getComputedStyle(t,null).getPropertyValue(e)}function RAe(t){return function(){delete this[t]}}function MAe(t,e){return function(){this[t]=e}}function $Ae(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function DAe(t,e){return arguments.length>1?this.each((e==null?RAe:typeof e=="function"?$Ae:MAe)(t,e)):this.node()[t]}function aU(t){return t.trim().split(/^|\s+/)}function ZP(t){return t.classList||new sU(t)}function sU(t){this._node=t,this._names=aU(t.getAttribute("class")||"")}sU.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function oU(t,e){for(var n=ZP(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function lU(t,e){for(var n=ZP(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function LAe(t){return function(){oU(this,t)}}function FAe(t){return function(){lU(this,t)}}function VAe(t,e){return function(){(e.apply(this,arguments)?oU:lU)(this,t)}}function UAe(t,e){var n=aU(t+"");if(arguments.length<2){for(var r=ZP(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?VAe:e?LAe:FAe)(n,e))}function BAe(){this.textContent=""}function zAe(t){return function(){this.textContent=t}}function qAe(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function WAe(t){return arguments.length?this.each(t==null?BAe:(typeof t=="function"?qAe:zAe)(t)):this.node().textContent}function HAe(){this.innerHTML=""}function GAe(t){return function(){this.innerHTML=t}}function KAe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function YAe(t){return arguments.length?this.each(t==null?HAe:(typeof t=="function"?KAe:GAe)(t)):this.node().innerHTML}function QAe(){this.nextSibling&&this.parentNode.appendChild(this)}function XAe(){return this.each(QAe)}function JAe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ZAe(){return this.each(JAe)}function eIe(t){var e=typeof t=="function"?t:J9(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function tIe(){return null}function nIe(t,e){var n=typeof t=="function"?t:J9(t),r=e==null?tIe:typeof e=="function"?e:JP(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function rIe(){var t=this.parentNode;t&&t.removeChild(this)}function iIe(){return this.each(rIe)}function aIe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function sIe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function oIe(t){return this.select(t?sIe:aIe)}function lIe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function cIe(t){return function(e){t.call(this,e,this.__data__)}}function uIe(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function dIe(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function fIe(t,e,n){return function(){var r=this.__on,i,a=cIe(e);if(r){for(var s=0,o=r.length;s<o;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function hIe(t,e,n){var r=uIe(t+""),i,a=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,c=o.length,u;l<c;++l)for(i=0,u=o[l];i<a;++i)if((s=r[i]).type===u.type&&s.name===u.name)return u.value}return}for(o=e?fIe:dIe,i=0;i<a;++i)this.each(o(r[i],e,n));return this}function cU(t,e,n){var r=iU(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function pIe(t,e){return function(){return cU(this,t,e)}}function mIe(t,e){return function(){return cU(this,t,e.apply(this,arguments))}}function gIe(t,e){return this.each((typeof e=="function"?mIe:pIe)(t,e))}function*yIe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,s;i<a;++i)(s=r[i])&&(yield s)}var uU=[null];function xr(t,e){this._groups=t,this._parents=e}function $p(){return new xr([[document.documentElement]],uU)}function vIe(){return this}xr.prototype=$p.prototype={constructor:xr,select:HNe,selectAll:YNe,selectChild:ZNe,selectChildren:rAe,filter:iAe,data:uAe,enter:aAe,exit:dAe,join:fAe,merge:hAe,selection:vIe,order:pAe,sort:mAe,call:yAe,nodes:vAe,node:xAe,size:bAe,empty:wAe,each:_Ae,attr:AAe,style:jAe,property:DAe,classed:UAe,text:WAe,html:YAe,raise:XAe,lower:ZAe,append:eIe,insert:nIe,remove:iIe,clone:oIe,datum:lIe,on:hIe,dispatch:gIe,[Symbol.iterator]:yIe};function Na(t){return typeof t=="string"?new xr([[document.querySelector(t)]],[document.documentElement]):new xr([[t]],uU)}function xIe(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Ro(t,e){if(t=xIe(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function sk(t){t.preventDefault(),t.stopImmediatePropagation()}function bIe(t){var e=t.document.documentElement,n=Na(t).on("dragstart.drag",sk,!0);"onselectstart"in e?n.on("selectstart.drag",sk,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function wIe(t,e){var n=t.document.documentElement,r=Na(t).on("dragstart.drag",null);e&&(r.on("click.drag",sk,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var _Ie=1e-12;function r$(t){return((t=Math.exp(t))+1/t)/2}function SIe(t){return((t=Math.exp(t))-1/t)/2}function kIe(t){return((t=Math.exp(2*t))-1)/(t+1)}const EIe=function t(e,n,r){function i(a,s){var o=a[0],l=a[1],c=a[2],u=s[0],d=s[1],h=s[2],p=u-o,g=d-l,y=p*p+g*g,v,x;if(y<_Ie)x=Math.log(h/c)/e,v=function(_){return[o+_*p,l+_*g,c*Math.exp(e*_*x)]};else{var b=Math.sqrt(y),w=(h*h-c*c+r*y)/(2*c*n*b),S=(h*h-c*c-r*y)/(2*h*n*b),k=Math.log(Math.sqrt(w*w+1)-w),P=Math.log(Math.sqrt(S*S+1)-S);x=(P-k)/e,v=function(_){var E=_*x,N=r$(k),A=c/(n*b)*(N*kIe(e*E+k)-SIe(k));return[o+A*p,l+A*g,c*N/r$(e*E+k)]}}return v.duration=x*1e3*e/Math.SQRT2,v}return i.rho=function(a){var s=Math.max(.001,+a),o=s*s,l=o*o;return t(s,o,l)},i}(Math.SQRT2,2,4);var Ou=0,of=0,zd=0,dU=1e3,Hy,lf,Gy=0,Pl=0,Fx=0,np=typeof performance=="object"&&performance.now?performance:Date,fU=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function e2(){return Pl||(fU(TIe),Pl=np.now()+Fx)}function TIe(){Pl=0}function Ky(){this._call=this._time=this._next=null}Ky.prototype=hU.prototype={constructor:Ky,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?e2():+n)+(e==null?0:+e),!this._next&&lf!==this&&(lf?lf._next=this:Hy=this,lf=this),this._call=t,this._time=n,ok()},stop:function(){this._call&&(this._call=null,this._time=1/0,ok())}};function hU(t,e,n){var r=new Ky;return r.restart(t,e,n),r}function PIe(){e2(),++Ou;for(var t=Hy,e;t;)(e=Pl-t._time)>=0&&t._call.call(null,e),t=t._next;--Ou}function i$(){Pl=(Gy=np.now())+Fx,Ou=of=0;try{PIe()}finally{Ou=0,AIe(),Pl=0}}function NIe(){var t=np.now(),e=t-Gy;e>dU&&(Fx-=e,Gy=t)}function AIe(){for(var t,e=Hy,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Hy=n);lf=t,ok(r)}function ok(t){if(!Ou){of&&(of=clearTimeout(of));var e=t-Pl;e>24?(t<1/0&&(of=setTimeout(i$,t-np.now()-Fx)),zd&&(zd=clearInterval(zd))):(zd||(Gy=np.now(),zd=setInterval(NIe,dU)),Ou=1,fU(i$))}}function a$(t,e,n){var r=new Ky;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var IIe=XP("start","end","cancel","interrupt"),OIe=[],pU=0,s$=1,lk=2,wg=3,o$=4,ck=5,_g=6;function Vx(t,e,n,r,i,a){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;CIe(t,n,{name:e,index:r,group:i,on:IIe,tween:OIe,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:pU})}function t2(t,e){var n=Li(t,e);if(n.state>pU)throw new Error("too late; already scheduled");return n}function va(t,e){var n=Li(t,e);if(n.state>wg)throw new Error("too late; already running");return n}function Li(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function CIe(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=hU(a,0,n.time);function a(c){n.state=s$,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var u,d,h,p;if(n.state!==s$)return l();for(u in r)if(p=r[u],p.name===n.name){if(p.state===wg)return a$(s);p.state===o$?(p.state=_g,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[u]):+u<e&&(p.state=_g,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[u])}if(a$(function(){n.state===wg&&(n.state=o$,n.timer.restart(o,n.delay,n.time),o(c))}),n.state=lk,n.on.call("start",t,t.__data__,n.index,n.group),n.state===lk){for(n.state=wg,i=new Array(h=n.tween.length),u=0,d=-1;u<h;++u)(p=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=p);i.length=d+1}}function o(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=ck,1),d=-1,h=i.length;++d<h;)i[d].call(t,u);n.state===ck&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=_g,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function Sg(t,e){var n=t.__transition,r,i,a=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){a=!1;continue}i=r.state>lk&&r.state<ck,r.state=_g,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}a&&delete t.__transition}}function jIe(t){return this.each(function(){Sg(this,t)})}function n2(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function mU(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Dp(){}var rp=.7,Yy=1/rp,Vc="\\s*([+-]?\\d+)\\s*",ip="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",oa="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",RIe=/^#([0-9a-f]{3,8})$/,MIe=new RegExp("^rgb\\("+[Vc,Vc,Vc]+"\\)$"),$Ie=new RegExp("^rgb\\("+[oa,oa,oa]+"\\)$"),DIe=new RegExp("^rgba\\("+[Vc,Vc,Vc,ip]+"\\)$"),LIe=new RegExp("^rgba\\("+[oa,oa,oa,ip]+"\\)$"),FIe=new RegExp("^hsl\\("+[ip,oa,oa]+"\\)$"),VIe=new RegExp("^hsla\\("+[ip,oa,oa,ip]+"\\)$"),l$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};n2(Dp,ap,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:c$,formatHex:c$,formatHsl:UIe,formatRgb:u$,toString:u$});function c$(){return this.rgb().formatHex()}function UIe(){return gU(this).formatHsl()}function u$(){return this.rgb().formatRgb()}function ap(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=RIe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?d$(e):n===3?new Cr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Bm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Bm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=MIe.exec(t))?new Cr(e[1],e[2],e[3],1):(e=$Ie.exec(t))?new Cr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=DIe.exec(t))?Bm(e[1],e[2],e[3],e[4]):(e=LIe.exec(t))?Bm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=FIe.exec(t))?p$(e[1],e[2]/100,e[3]/100,1):(e=VIe.exec(t))?p$(e[1],e[2]/100,e[3]/100,e[4]):l$.hasOwnProperty(t)?d$(l$[t]):t==="transparent"?new Cr(NaN,NaN,NaN,0):null}function d$(t){return new Cr(t>>16&255,t>>8&255,t&255,1)}function Bm(t,e,n,r){return r<=0&&(t=e=n=NaN),new Cr(t,e,n,r)}function BIe(t){return t instanceof Dp||(t=ap(t)),t?(t=t.rgb(),new Cr(t.r,t.g,t.b,t.opacity)):new Cr}function uk(t,e,n,r){return arguments.length===1?BIe(t):new Cr(t,e,n,r??1)}function Cr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}n2(Cr,uk,mU(Dp,{brighter:function(t){return t=t==null?Yy:Math.pow(Yy,t),new Cr(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?rp:Math.pow(rp,t),new Cr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:f$,formatHex:f$,formatRgb:h$,toString:h$}));function f$(){return"#"+Rw(this.r)+Rw(this.g)+Rw(this.b)}function h$(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function Rw(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function p$(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ki(t,e,n,r)}function gU(t){if(t instanceof Ki)return new Ki(t.h,t.s,t.l,t.opacity);if(t instanceof Dp||(t=ap(t)),!t)return new Ki;if(t instanceof Ki)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Ki(s,o,l,t.opacity)}function zIe(t,e,n,r){return arguments.length===1?gU(t):new Ki(t,e,n,r??1)}function Ki(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}n2(Ki,zIe,mU(Dp,{brighter:function(t){return t=t==null?Yy:Math.pow(Yy,t),new Ki(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?rp:Math.pow(rp,t),new Ki(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Cr(Mw(t>=240?t-240:t+120,i,r),Mw(t,i,r),Mw(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function Mw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const yU=t=>()=>t;function qIe(t,e){return function(n){return t+n*e}}function WIe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function HIe(t){return(t=+t)==1?vU:function(e,n){return n-e?WIe(e,n,t):yU(isNaN(e)?n:e)}}function vU(t,e){var n=e-t;return n?qIe(t,n):yU(isNaN(t)?e:t)}const m$=function t(e){var n=HIe(e);function r(i,a){var s=n((i=uk(i)).r,(a=uk(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=vU(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function ks(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var dk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$w=new RegExp(dk.source,"g");function GIe(t){return function(){return t}}function KIe(t){return function(e){return t(e)+""}}function YIe(t,e){var n=dk.lastIndex=$w.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=dk.exec(t))&&(i=$w.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:ks(r,i)})),n=$w.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?KIe(l[0].x):GIe(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)o[(d=l[u]).i]=d.x(c);return o.join("")})}var g$=180/Math.PI,fk={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xU(t,e,n,r,i,a){var s,o,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*g$,skewX:Math.atan(l)*g$,scaleX:s,scaleY:o}}var zm;function QIe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?fk:xU(e.a,e.b,e.c,e.d,e.e,e.f)}function XIe(t){return t==null||(zm||(zm=document.createElementNS("http://www.w3.org/2000/svg","g")),zm.setAttribute("transform",t),!(t=zm.transform.baseVal.consolidate()))?fk:(t=t.matrix,xU(t.a,t.b,t.c,t.d,t.e,t.f))}function bU(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function a(c,u,d,h,p,g){if(c!==d||u!==h){var y=p.push("translate(",null,e,null,n);g.push({i:y-4,x:ks(c,d)},{i:y-2,x:ks(u,h)})}else(d||h)&&p.push("translate("+d+e+h+n)}function s(c,u,d,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:d.push(i(d)+"rotate(",null,r)-2,x:ks(c,u)})):u&&d.push(i(d)+"rotate("+u+r)}function o(c,u,d,h){c!==u?h.push({i:d.push(i(d)+"skewX(",null,r)-2,x:ks(c,u)}):u&&d.push(i(d)+"skewX("+u+r)}function l(c,u,d,h,p,g){if(c!==d||u!==h){var y=p.push(i(p)+"scale(",null,",",null,")");g.push({i:y-4,x:ks(c,d)},{i:y-2,x:ks(u,h)})}else(d!==1||h!==1)&&p.push(i(p)+"scale("+d+","+h+")")}return function(c,u){var d=[],h=[];return c=t(c),u=t(u),a(c.translateX,c.translateY,u.translateX,u.translateY,d,h),s(c.rotate,u.rotate,d,h),o(c.skewX,u.skewX,d,h),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,h),c=u=null,function(p){for(var g=-1,y=h.length,v;++g<y;)d[(v=h[g]).i]=v.x(p);return d.join("")}}}var JIe=bU(QIe,"px, ","px)","deg)"),ZIe=bU(XIe,", ",")",")");function eOe(t,e){var n,r;return function(){var i=va(this,t),a=i.tween;if(a!==n){r=n=a;for(var s=0,o=r.length;s<o;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function tOe(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=va(this,t),s=a.tween;if(s!==r){i=(r=s).slice();for(var o={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=o;break}l===c&&i.push(o)}a.tween=i}}function nOe(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Li(this.node(),n).tween,i=0,a=r.length,s;i<a;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?eOe:tOe)(n,t,e))}function r2(t,e,n){var r=t._id;return t.each(function(){var i=va(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Li(i,r).value[e]}}function wU(t,e){var n;return(typeof e=="number"?ks:e instanceof ap?m$:(n=ap(e))?(e=n,m$):YIe)(t,e)}function rOe(t){return function(){this.removeAttribute(t)}}function iOe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function aOe(t,e,n){var r,i=n+"",a;return function(){var s=this.getAttribute(t);return s===i?null:s===r?a:a=e(r=s,n)}}function sOe(t,e,n){var r,i=n+"",a;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?a:a=e(r=s,n)}}function oOe(t,e,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o)))}}function lOe(t,e,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o)))}}function cOe(t,e){var n=Lx(t),r=n==="transform"?ZIe:wU;return this.attrTween(t,typeof e=="function"?(n.local?lOe:oOe)(n,r,r2(this,"attr."+t,e)):e==null?(n.local?iOe:rOe)(n):(n.local?sOe:aOe)(n,r,e))}function uOe(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function dOe(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function fOe(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&dOe(t,a)),n}return i._value=e,i}function hOe(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&uOe(t,a)),n}return i._value=e,i}function pOe(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Lx(t);return this.tween(n,(r.local?fOe:hOe)(r,e))}function mOe(t,e){return function(){t2(this,t).delay=+e.apply(this,arguments)}}function gOe(t,e){return e=+e,function(){t2(this,t).delay=e}}function yOe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?mOe:gOe)(e,t)):Li(this.node(),e).delay}function vOe(t,e){return function(){va(this,t).duration=+e.apply(this,arguments)}}function xOe(t,e){return e=+e,function(){va(this,t).duration=e}}function bOe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?vOe:xOe)(e,t)):Li(this.node(),e).duration}function wOe(t,e){if(typeof e!="function")throw new Error;return function(){va(this,t).ease=e}}function _Oe(t){var e=this._id;return arguments.length?this.each(wOe(e,t)):Li(this.node(),e).ease}function SOe(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;va(this,t).ease=n}}function kOe(t){if(typeof t!="function")throw new Error;return this.each(SOe(this._id,t))}function EOe(t){typeof t!="function"&&(t=tU(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=[],l,c=0;c<s;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&o.push(l);return new rs(r,this._parents,this._name,this._id)}function TOe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l=e[o],c=n[o],u=l.length,d=s[o]=new Array(u),h,p=0;p<u;++p)(h=l[p]||c[p])&&(d[p]=h);for(;o<r;++o)s[o]=e[o];return new rs(s,this._parents,this._name,this._id)}function POe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function NOe(t,e,n){var r,i,a=POe(e)?t2:va;return function(){var s=a(this,t),o=s.on;o!==r&&(i=(r=o).copy()).on(e,n),s.on=i}}function AOe(t,e){var n=this._id;return arguments.length<2?Li(this.node(),n).on.on(t):this.each(NOe(n,t,e))}function IOe(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function OOe(){return this.on("end.remove",IOe(this._id))}function COe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=JP(t));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var o=r[s],l=o.length,c=a[s]=new Array(l),u,d,h=0;h<l;++h)(u=o[h])&&(d=t.call(u,u.__data__,h,o))&&("__data__"in u&&(d.__data__=u.__data__),c[h]=d,Vx(c[h],e,n,h,c,Li(u,n)));return new rs(a,this._parents,e,n)}function jOe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=eU(t));for(var r=this._groups,i=r.length,a=[],s=[],o=0;o<i;++o)for(var l=r[o],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var h=t.call(u,u.__data__,d,l),p,g=Li(u,n),y=0,v=h.length;y<v;++y)(p=h[y])&&Vx(p,e,n,y,h,g);a.push(h),s.push(u)}return new rs(a,s,e,n)}var ROe=$p.prototype.constructor;function MOe(){return new ROe(this._groups,this._parents)}function $Oe(t,e){var n,r,i;return function(){var a=Iu(this,t),s=(this.style.removeProperty(t),Iu(this,t));return a===s?null:a===n&&s===r?i:i=e(n=a,r=s)}}function _U(t){return function(){this.style.removeProperty(t)}}function DOe(t,e,n){var r,i=n+"",a;return function(){var s=Iu(this,t);return s===i?null:s===r?a:a=e(r=s,n)}}function LOe(t,e,n){var r,i,a;return function(){var s=Iu(this,t),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),Iu(this,t))),s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o))}}function FOe(t,e){var n,r,i,a="style."+e,s="end."+a,o;return function(){var l=va(this,t),c=l.on,u=l.value[a]==null?o||(o=_U(e)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(s,i=u),l.on=r}}function VOe(t,e,n){var r=(t+="")=="transform"?JIe:wU;return e==null?this.styleTween(t,$Oe(t,r)).on("end.style."+t,_U(t)):typeof e=="function"?this.styleTween(t,LOe(t,r,r2(this,"style."+t,e))).each(FOe(this._id,t)):this.styleTween(t,DOe(t,r,e),n).on("end.style."+t,null)}function UOe(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function BOe(t,e,n){var r,i;function a(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&UOe(t,s,n)),r}return a._value=e,a}function zOe(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,BOe(t,e,n??""))}function qOe(t){return function(){this.textContent=t}}function WOe(t){return function(){var e=t(this);this.textContent=e??""}}function HOe(t){return this.tween("text",typeof t=="function"?WOe(r2(this,"text",t)):qOe(t==null?"":t+""))}function GOe(t){return function(e){this.textContent=t.call(this,e)}}function KOe(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&GOe(i)),e}return r._value=t,r}function YOe(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,KOe(t))}function QOe(){for(var t=this._name,e=this._id,n=SU(),r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,c=0;c<o;++c)if(l=s[c]){var u=Li(l,e);Vx(l,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new rs(r,this._parents,t,n)}function XOe(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,s){var o={value:s},l={value:function(){--i===0&&a()}};n.each(function(){var c=va(this,r),u=c.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),c.on=e}),i===0&&a()})}var JOe=0;function rs(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function SU(){return++JOe}var Mo=$p.prototype;rs.prototype={constructor:rs,select:COe,selectAll:jOe,filter:EOe,merge:TOe,selection:MOe,transition:QOe,call:Mo.call,nodes:Mo.nodes,node:Mo.node,size:Mo.size,empty:Mo.empty,each:Mo.each,on:AOe,attr:cOe,attrTween:pOe,style:VOe,styleTween:zOe,text:HOe,textTween:YOe,remove:OOe,tween:nOe,delay:yOe,duration:bOe,ease:_Oe,easeVarying:kOe,end:XOe,[Symbol.iterator]:Mo[Symbol.iterator]};function ZOe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var eCe={time:null,delay:0,duration:250,ease:ZOe};function tCe(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function nCe(t){var e,n;t instanceof rs?(e=t._id,t=t._name):(e=SU(),(n=eCe).time=e2(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,c=0;c<o;++c)(l=s[c])&&Vx(l,t,e,c,s,n||tCe(l,e));return new rs(r,this._parents,t,e)}$p.prototype.interrupt=jIe;$p.prototype.transition=nCe;const qm=t=>()=>t;function rCe(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Da(t,e,n){this.k=t,this.x=e,this.y=n}Da.prototype={constructor:Da,scale:function(t){return t===1?this:new Da(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Da(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var i2=new Da(1,0,0);Da.prototype;function Dw(t){t.stopImmediatePropagation()}function qd(t){t.preventDefault(),t.stopImmediatePropagation()}function iCe(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function aCe(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function y$(){return this.__zoom||i2}function sCe(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function oCe(){return navigator.maxTouchPoints||"ontouchstart"in this}function lCe(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}function cCe(){var t=iCe,e=aCe,n=lCe,r=sCe,i=oCe,a=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],o=250,l=EIe,c=XP("start","zoom","end"),u,d,h,p=500,g=150,y=0,v=10;function x(M){M.property("__zoom",y$).on("wheel.zoom",E).on("mousedown.zoom",N).on("dblclick.zoom",A).filter(i).on("touchstart.zoom",C).on("touchmove.zoom",j).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(M,$,L,W){var F=M.selection?M.selection():M;F.property("__zoom",y$),M!==F?k(M,$,L,W):F.interrupt().each(function(){P(this,arguments).event(W).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},x.scaleBy=function(M,$,L,W){x.scaleTo(M,function(){var F=this.__zoom.k,U=typeof $=="function"?$.apply(this,arguments):$;return F*U},L,W)},x.scaleTo=function(M,$,L,W){x.transform(M,function(){var F=e.apply(this,arguments),U=this.__zoom,G=L==null?S(F):typeof L=="function"?L.apply(this,arguments):L,Q=U.invert(G),B=typeof $=="function"?$.apply(this,arguments):$;return n(w(b(U,B),G,Q),F,s)},L,W)},x.translateBy=function(M,$,L,W){x.transform(M,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof L=="function"?L.apply(this,arguments):L),e.apply(this,arguments),s)},null,W)},x.translateTo=function(M,$,L,W,F){x.transform(M,function(){var U=e.apply(this,arguments),G=this.__zoom,Q=W==null?S(U):typeof W=="function"?W.apply(this,arguments):W;return n(i2.translate(Q[0],Q[1]).scale(G.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof L=="function"?-L.apply(this,arguments):-L),U,s)},W,F)};function b(M,$){return $=Math.max(a[0],Math.min(a[1],$)),$===M.k?M:new Da($,M.x,M.y)}function w(M,$,L){var W=$[0]-L[0]*M.k,F=$[1]-L[1]*M.k;return W===M.x&&F===M.y?M:new Da(M.k,W,F)}function S(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function k(M,$,L,W){M.on("start.zoom",function(){P(this,arguments).event(W).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(W).end()}).tween("zoom",function(){var F=this,U=arguments,G=P(F,U).event(W),Q=e.apply(F,U),B=L==null?S(Q):typeof L=="function"?L.apply(F,U):L,ae=Math.max(Q[1][0]-Q[0][0],Q[1][1]-Q[0][1]),ge=F.__zoom,ye=typeof $=="function"?$.apply(F,U):$,Z=l(ge.invert(B).concat(ae/ge.k),ye.invert(B).concat(ae/ye.k));return function(te){if(te===1)te=ye;else{var de=Z(te),ne=ae/de[2];te=new Da(ne,B[0]-de[0]*ne,B[1]-de[1]*ne)}G.zoom(null,te)}})}function P(M,$,L){return!L&&M.__zooming||new _(M,$)}function _(M,$){this.that=M,this.args=$,this.active=0,this.sourceEvent=null,this.extent=e.apply(M,$),this.taps=0}_.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,$){return this.mouse&&M!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var $=Na(this.that).datum();c.call(M,this.that,new rCe(M,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:c}),$)}};function E(M,...$){if(!t.apply(this,arguments))return;var L=P(this,$).event(M),W=this.__zoom,F=Math.max(a[0],Math.min(a[1],W.k*Math.pow(2,r.apply(this,arguments)))),U=Ro(M);if(L.wheel)(L.mouse[0][0]!==U[0]||L.mouse[0][1]!==U[1])&&(L.mouse[1]=W.invert(L.mouse[0]=U)),clearTimeout(L.wheel);else{if(W.k===F)return;L.mouse=[U,W.invert(U)],Sg(this),L.start()}qd(M),L.wheel=setTimeout(G,g),L.zoom("mouse",n(w(b(W,F),L.mouse[0],L.mouse[1]),L.extent,s));function G(){L.wheel=null,L.end()}}function N(M,...$){if(h||!t.apply(this,arguments))return;var L=P(this,$,!0).event(M),W=Na(M.view).on("mousemove.zoom",B,!0).on("mouseup.zoom",ae,!0),F=Ro(M,U),U=M.currentTarget,G=M.clientX,Q=M.clientY;bIe(M.view),Dw(M),L.mouse=[F,this.__zoom.invert(F)],Sg(this),L.start();function B(ge){if(qd(ge),!L.moved){var ye=ge.clientX-G,Z=ge.clientY-Q;L.moved=ye*ye+Z*Z>y}L.event(ge).zoom("mouse",n(w(L.that.__zoom,L.mouse[0]=Ro(ge,U),L.mouse[1]),L.extent,s))}function ae(ge){W.on("mousemove.zoom mouseup.zoom",null),wIe(ge.view,L.moved),qd(ge),L.event(ge).end()}}function A(M,...$){if(t.apply(this,arguments)){var L=this.__zoom,W=Ro(M.changedTouches?M.changedTouches[0]:M,this),F=L.invert(W),U=L.k*(M.shiftKey?.5:2),G=n(w(b(L,U),W,F),e.apply(this,$),s);qd(M),o>0?Na(this).transition().duration(o).call(k,G,W,M):Na(this).call(x.transform,G,W,M)}}function C(M,...$){if(t.apply(this,arguments)){var L=M.touches,W=L.length,F=P(this,$,M.changedTouches.length===W).event(M),U,G,Q,B;for(Dw(M),G=0;G<W;++G)Q=L[G],B=Ro(Q,this),B=[B,this.__zoom.invert(B),Q.identifier],F.touch0?!F.touch1&&F.touch0[2]!==B[2]&&(F.touch1=B,F.taps=0):(F.touch0=B,U=!0,F.taps=1+!!u);u&&(u=clearTimeout(u)),U&&(F.taps<2&&(d=B[0],u=setTimeout(function(){u=null},p)),Sg(this),F.start())}}function j(M,...$){if(this.__zooming){var L=P(this,$).event(M),W=M.changedTouches,F=W.length,U,G,Q,B;for(qd(M),U=0;U<F;++U)G=W[U],Q=Ro(G,this),L.touch0&&L.touch0[2]===G.identifier?L.touch0[0]=Q:L.touch1&&L.touch1[2]===G.identifier&&(L.touch1[0]=Q);if(G=L.that.__zoom,L.touch1){var ae=L.touch0[0],ge=L.touch0[1],ye=L.touch1[0],Z=L.touch1[1],te=(te=ye[0]-ae[0])*te+(te=ye[1]-ae[1])*te,de=(de=Z[0]-ge[0])*de+(de=Z[1]-ge[1])*de;G=b(G,Math.sqrt(te/de)),Q=[(ae[0]+ye[0])/2,(ae[1]+ye[1])/2],B=[(ge[0]+Z[0])/2,(ge[1]+Z[1])/2]}else if(L.touch0)Q=L.touch0[0],B=L.touch0[1];else return;L.zoom("touch",n(w(G,Q,B),L.extent,s))}}function O(M,...$){if(this.__zooming){var L=P(this,$).event(M),W=M.changedTouches,F=W.length,U,G;for(Dw(M),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),U=0;U<F;++U)G=W[U],L.touch0&&L.touch0[2]===G.identifier?delete L.touch0:L.touch1&&L.touch1[2]===G.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(G=Ro(G,this),Math.hypot(d[0]-G[0],d[1]-G[1])<v)){var Q=Na(this).on("dblclick.zoom");Q&&Q.apply(this,arguments)}}}return x.wheelDelta=function(M){return arguments.length?(r=typeof M=="function"?M:qm(+M),x):r},x.filter=function(M){return arguments.length?(t=typeof M=="function"?M:qm(!!M),x):t},x.touchable=function(M){return arguments.length?(i=typeof M=="function"?M:qm(!!M),x):i},x.extent=function(M){return arguments.length?(e=typeof M=="function"?M:qm([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),x):e},x.scaleExtent=function(M){return arguments.length?(a[0]=+M[0],a[1]=+M[1],x):[a[0],a[1]]},x.translateExtent=function(M){return arguments.length?(s[0][0]=+M[0][0],s[1][0]=+M[1][0],s[0][1]=+M[0][1],s[1][1]=+M[1][1],x):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},x.constrain=function(M){return arguments.length?(n=M,x):n},x.duration=function(M){return arguments.length?(o=+M,x):o},x.interpolate=function(M){return arguments.length?(l=M,x):l},x.on=function(){var M=c.on.apply(c,arguments);return M===c?x:M},x.clickDistance=function(M){return arguments.length?(y=(M=+M)*M,x):Math.sqrt(y)},x.tapDistance=function(M){return arguments.length?(v=+M,x):v},x}function v$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _c(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v$(Object(n),!0).forEach(function(r){uCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hk(t){"@babel/helpers - typeof";return hk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hk(t)}function uCe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function br(){return br=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},br.apply(this,arguments)}function dCe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function hi(t,e){if(t==null)return{};var n=dCe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tn(t,e){return fCe(t)||hCe(t,e)||pCe(t,e)||mCe()}function fCe(t){if(Array.isArray(t))return t}function hCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,s,o;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(l){a=!0,o=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw o}}return r}}function pCe(t,e){if(t){if(typeof t=="string")return x$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x$(t,e)}}function x$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var gCe=["width","height","projection","projectionConfig"],yCe=q9,vCe=hi(CNe,["geoPath"]),xa=R.createContext(),xCe=function(e){var n=e.projectionConfig,r=n===void 0?{}:n,i=e.projection,a=i===void 0?"geoEqualEarth":i,s=e.width,o=s===void 0?800:s,l=e.height,c=l===void 0?600:l,u=typeof a=="function";if(u)return a;var d=vCe[a]().translate([o/2,c/2]),h=[d.center?"center":null,d.rotate?"rotate":null,d.scale?"scale":null,d.parallels?"parallels":null];return h.forEach(function(p){p&&(d=d[p](r[p]||d[p]()))}),d},kU=function(e){var n=e.width,r=e.height,i=e.projection,a=e.projectionConfig,s=hi(e,gCe),o=a.center||[],l=Tn(o,2),c=l[0],u=l[1],d=a.rotate||[],h=Tn(d,3),p=h[0],g=h[1],y=h[2],v=a.parallels||[],x=Tn(v,2),b=x[0],w=x[1],S=a.scale||null,k=R.useMemo(function(){return xCe({projectionConfig:{center:c||c===0||u||u===0?[c,u]:null,rotate:p||p===0||g||g===0?[p,g,y]:null,parallels:b||b===0||w||w===0?[b,w]:null,scale:S},projection:i,width:n,height:r})},[n,r,i,c,u,p,g,y,b,w,S]),P=R.useCallback(k,[k]),_=R.useMemo(function(){return{width:n,height:r,projection:P,path:yCe().projection(P)}},[n,r,P]);return z.createElement(xa.Provider,br({value:_},s))};kU.propTypes={width:oe.number,height:oe.number,projection:oe.oneOfType([oe.string,oe.func]),projectionConfig:oe.object};var bCe=["width","height","projection","projectionConfig","className"],a2=R.forwardRef(function(t,e){var n=t.width,r=n===void 0?800:n,i=t.height,a=i===void 0?600:i,s=t.projection,o=s===void 0?"geoEqualEarth":s,l=t.projectionConfig,c=l===void 0?{}:l,u=t.className,d=u===void 0?"":u,h=hi(t,bCe);return z.createElement(kU,{width:r,height:a,projection:o,projectionConfig:c},z.createElement("svg",br({ref:e,viewBox:"0 0 ".concat(r," ").concat(a),className:"rsm-svg ".concat(d)},h)))});a2.displayName="ComposableMap";a2.propTypes={width:oe.number,height:oe.number,projection:oe.oneOfType([oe.string,oe.func]),projectionConfig:oe.object,className:oe.string};function b$(t,e,n){var r=(t*n.k-t)/2,i=(e*n.k-e)/2;return[t/2-(r+n.x)/n.k,e/2-(i+n.y)/n.k]}function wCe(t){return fetch(t).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).catch(function(e){console.log("There was a problem when fetching the data: ",e)})}function w$(t,e){var n=t.type==="Topology";if(!n)return e?e(t.features||t):t.features||t;var r=$Ne(t,t.objects[Object.keys(t.objects)[0]]).features;return e?e(r):r}function _$(t){var e=t.type==="Topology";if(!e)return null;var n=e$(t,t.objects[Object.keys(t.objects)[0]],function(i,a){return i===a}),r=e$(t,t.objects[Object.keys(t.objects)[0]],function(i,a){return i!==a});return{outline:n,borders:r}}function _Ce(t,e,n){return t&&e?{outline:_c(_c({},t),{},{rsmKey:"outline",svgPath:n(t)}),borders:_c(_c({},e),{},{rsmKey:"borders",svgPath:n(e)})}:{}}function SCe(t,e){return t?t.map(function(n,r){return _c(_c({},n),{},{rsmKey:"geo-".concat(r),svgPath:e(n)})}):[]}function kCe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:30,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:30,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.5,r=Array.isArray(n)?n:[n,n],i=t/2*r[0],a=e/2*r[1];return"M".concat(0,",",0," Q",-t/2-i,",").concat(-e/2+a," ").concat(-t,",").concat(-e)}function ECe(t){return typeof t=="string"}function TCe(t){var e=t.geography,n=t.parseGeographies,r=R.useContext(xa),i=r.path,a=R.useState({}),s=Tn(a,2),o=s[0],l=s[1];R.useEffect(function(){(typeof window>"u"?"undefined":hk(window))!=="undefined"&&e&&(ECe(e)?wCe(e).then(function(p){p&&l({geographies:w$(p,n),mesh:_$(p)})}):l({geographies:w$(e,n),mesh:_$(e)}))},[e,n]);var c=R.useMemo(function(){var p=o.mesh||{},g=_Ce(p.outline,p.borders,i);return{geographies:SCe(o.geographies,i),outline:g.outline,borders:g.borders}},[o,i]),u=c.geographies,d=c.outline,h=c.borders;return{geographies:u,outline:d,borders:h}}var PCe=["geography","children","parseGeographies","className"],s2=R.forwardRef(function(t,e){var n=t.geography,r=t.children,i=t.parseGeographies,a=t.className,s=a===void 0?"":a,o=hi(t,PCe),l=R.useContext(xa),c=l.path,u=l.projection,d=TCe({geography:n,parseGeographies:i}),h=d.geographies,p=d.outline,g=d.borders;return z.createElement("g",br({ref:e,className:"rsm-geographies ".concat(s)},o),h&&h.length>0&&r({geographies:h,outline:p,borders:g,path:c,projection:u}))});s2.displayName="Geographies";s2.propTypes={geography:oe.oneOfType([oe.string,oe.object,oe.array]),children:oe.func,parseGeographies:oe.func,className:oe.string};var NCe=["geography","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],o2=R.forwardRef(function(t,e){var n=t.geography,r=t.onMouseEnter,i=t.onMouseLeave,a=t.onMouseDown,s=t.onMouseUp,o=t.onFocus,l=t.onBlur,c=t.style,u=c===void 0?{}:c,d=t.className,h=d===void 0?"":d,p=hi(t,NCe),g=R.useState(!1),y=Tn(g,2),v=y[0],x=y[1],b=R.useState(!1),w=Tn(b,2),S=w[0],k=w[1];function P(j){k(!0),r&&r(j)}function _(j){k(!1),v&&x(!1),i&&i(j)}function E(j){k(!0),o&&o(j)}function N(j){k(!1),v&&x(!1),l&&l(j)}function A(j){x(!0),a&&a(j)}function C(j){x(!1),s&&s(j)}return z.createElement("path",br({ref:e,tabIndex:"0",className:"rsm-geography ".concat(h),d:n.svgPath,onMouseEnter:P,onMouseLeave:_,onFocus:E,onBlur:N,onMouseDown:A,onMouseUp:C,style:u[v||S?v?"pressed":"hover":"default"]},p))});o2.displayName="Geography";o2.propTypes={geography:oe.object,onMouseEnter:oe.func,onMouseLeave:oe.func,onMouseDown:oe.func,onMouseUp:oe.func,onFocus:oe.func,onBlur:oe.func,style:oe.object,className:oe.string};var ACe=R.memo(o2),ICe=["fill","stroke","step","className"],l2=R.forwardRef(function(t,e){var n=t.fill,r=n===void 0?"transparent":n,i=t.stroke,a=i===void 0?"currentcolor":i,s=t.step,o=s===void 0?[10,10]:s,l=t.className,c=l===void 0?"":l,u=hi(t,ICe),d=R.useContext(xa),h=d.path;return z.createElement("path",br({ref:e,d:h($P().step(o)()),fill:r,stroke:a,className:"rsm-graticule ".concat(c)},u))});l2.displayName="Graticule";l2.propTypes={fill:oe.string,stroke:oe.string,step:oe.array,className:oe.string};R.memo(l2);var OCe=["value"],CCe=R.createContext(),jCe={x:0,y:0,k:1,transformString:"translate(0 0) scale(1)"},EU=function(e){var n=e.value,r=n===void 0?jCe:n,i=hi(e,OCe);return z.createElement(CCe.Provider,br({value:r},i))};EU.propTypes={x:oe.number,y:oe.number,k:oe.number,transformString:oe.string};function RCe(t){var e=t.center,n=t.filterZoomEvent,r=t.onMoveStart,i=t.onMoveEnd,a=t.onMove,s=t.translateExtent,o=s===void 0?[[-1/0,-1/0],[1/0,1/0]]:s,l=t.scaleExtent,c=l===void 0?[1,8]:l,u=t.zoom,d=u===void 0?1:u,h=R.useContext(xa),p=h.width,g=h.height,y=h.projection,v=Tn(e,2),x=v[0],b=v[1],w=R.useState({x:0,y:0,k:1}),S=Tn(w,2),k=S[0],P=S[1],_=R.useRef({x:0,y:0,k:1}),E=R.useRef(),N=R.useRef(),A=R.useRef(!1),C=Tn(o,2),j=C[0],O=C[1],M=Tn(j,2),$=M[0],L=M[1],W=Tn(O,2),F=W[0],U=W[1],G=Tn(c,2),Q=G[0],B=G[1];return R.useEffect(function(){var ae=Na(E.current);function ge(ne){!r||A.current||r({coordinates:y.invert(b$(p,g,ne.transform)),zoom:ne.transform.k},ne)}function ye(ne){if(!A.current){var _e=ne.transform,ie=ne.sourceEvent;P({x:_e.x,y:_e.y,k:_e.k,dragging:ie}),a&&a({x:_e.x,y:_e.y,zoom:_e.k,dragging:ie},ne)}}function Z(ne){if(A.current){A.current=!1;return}var _e=y.invert(b$(p,g,ne.transform)),ie=Tn(_e,2),X=ie[0],ee=ie[1];_.current={x:X,y:ee,k:ne.transform.k},i&&i({coordinates:[X,ee],zoom:ne.transform.k},ne)}function te(ne){return n?n(ne):ne?!ne.ctrlKey&&!ne.button:!1}var de=cCe().filter(te).scaleExtent([Q,B]).translateExtent([[$,L],[F,U]]).on("start",ge).on("zoom",ye).on("end",Z);N.current=de,ae.call(de)},[p,g,$,L,F,U,Q,B,y,r,a,i,n]),R.useEffect(function(){if(!(x===_.current.x&&b===_.current.y&&d===_.current.k)){var ae=y([x,b]),ge=ae[0]*d,ye=ae[1]*d,Z=Na(E.current);A.current=!0,Z.call(N.current.transform,i2.translate(p/2-ge,g/2-ye).scale(d)),P({x:p/2-ge,y:g/2-ye,k:d}),_.current={x,y:b,k:d}}},[x,b,d,p,g,y]),{mapRef:E,position:k,transformString:"translate(".concat(k.x," ").concat(k.y,") scale(").concat(k.k,")")}}var MCe=["center","zoom","minZoom","maxZoom","translateExtent","filterZoomEvent","onMoveStart","onMove","onMoveEnd","className"],c2=R.forwardRef(function(t,e){var n=t.center,r=n===void 0?[0,0]:n,i=t.zoom,a=i===void 0?1:i,s=t.minZoom,o=s===void 0?1:s,l=t.maxZoom,c=l===void 0?8:l,u=t.translateExtent,d=t.filterZoomEvent,h=t.onMoveStart,p=t.onMove,g=t.onMoveEnd,y=t.className,v=hi(t,MCe),x=R.useContext(xa),b=x.width,w=x.height,S=RCe({center:r,filterZoomEvent:d,onMoveStart:h,onMove:p,onMoveEnd:g,scaleExtent:[o,c],translateExtent:u,zoom:a}),k=S.mapRef,P=S.transformString,_=S.position;return z.createElement(EU,{value:{x:_.x,y:_.y,k:_.k,transformString:P}},z.createElement("g",{ref:k},z.createElement("rect",{width:b,height:w,fill:"transparent"}),z.createElement("g",br({ref:e,transform:P,className:"rsm-zoomable-group ".concat(y)},v))))});c2.displayName="ZoomableGroup";c2.propTypes={center:oe.array,zoom:oe.number,minZoom:oe.number,maxZoom:oe.number,translateExtent:oe.arrayOf(oe.array),onMoveStart:oe.func,onMove:oe.func,onMoveEnd:oe.func,className:oe.string};var $Ce=["id","fill","stroke","strokeWidth","className"],u2=R.forwardRef(function(t,e){var n=t.id,r=n===void 0?"rsm-sphere":n,i=t.fill,a=i===void 0?"transparent":i,s=t.stroke,o=s===void 0?"currentcolor":s,l=t.strokeWidth,c=l===void 0?.5:l,u=t.className,d=u===void 0?"":u,h=hi(t,$Ce),p=R.useContext(xa),g=p.path,y=R.useMemo(function(){return g({type:"Sphere"})},[g]);return z.createElement(R.Fragment,null,z.createElement("defs",null,z.createElement("clipPath",{id:r},z.createElement("path",{d:y}))),z.createElement("path",br({ref:e,d:y,fill:a,stroke:o,strokeWidth:c,style:{pointerEvents:"none"},className:"rsm-sphere ".concat(d)},h)))});u2.displayName="Sphere";u2.propTypes={id:oe.string,fill:oe.string,stroke:oe.string,strokeWidth:oe.number,className:oe.string};R.memo(u2);var DCe=["coordinates","children","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],d2=R.forwardRef(function(t,e){var n=t.coordinates,r=t.children,i=t.onMouseEnter,a=t.onMouseLeave,s=t.onMouseDown,o=t.onMouseUp,l=t.onFocus,c=t.onBlur,u=t.style,d=u===void 0?{}:u,h=t.className,p=h===void 0?"":h,g=hi(t,DCe),y=R.useContext(xa),v=y.projection,x=R.useState(!1),b=Tn(x,2),w=b[0],S=b[1],k=R.useState(!1),P=Tn(k,2),_=P[0],E=P[1],N=v(n),A=Tn(N,2),C=A[0],j=A[1];function O(U){E(!0),i&&i(U)}function M(U){E(!1),w&&S(!1),a&&a(U)}function $(U){E(!0),l&&l(U)}function L(U){E(!1),w&&S(!1),c&&c(U)}function W(U){S(!0),s&&s(U)}function F(U){S(!1),o&&o(U)}return z.createElement("g",br({ref:e,transform:"translate(".concat(C,", ").concat(j,")"),className:"rsm-marker ".concat(p),onMouseEnter:O,onMouseLeave:M,onFocus:$,onBlur:L,onMouseDown:W,onMouseUp:F,style:d[w||_?w?"pressed":"hover":"default"]},g),r)});d2.displayName="Marker";d2.propTypes={coordinates:oe.array,children:oe.oneOfType([oe.node,oe.arrayOf(oe.node)]),onMouseEnter:oe.func,onMouseLeave:oe.func,onMouseDown:oe.func,onMouseUp:oe.func,onFocus:oe.func,onBlur:oe.func,style:oe.object,className:oe.string};var LCe=["from","to","coordinates","stroke","strokeWidth","fill","className"],TU=R.forwardRef(function(t,e){var n=t.from,r=n===void 0?[0,0]:n,i=t.to,a=i===void 0?[0,0]:i,s=t.coordinates,o=t.stroke,l=o===void 0?"currentcolor":o,c=t.strokeWidth,u=c===void 0?3:c,d=t.fill,h=d===void 0?"transparent":d,p=t.className,g=p===void 0?"":p,y=hi(t,LCe),v=R.useContext(xa),x=v.path,b={type:"LineString",coordinates:s||[r,a]};return z.createElement("path",br({ref:e,d:x(b),className:"rsm-line ".concat(g),stroke:l,strokeWidth:u,fill:h},y))});TU.displayName="Line";TU.propTypes={from:oe.array,to:oe.array,coordinates:oe.array,stroke:oe.string,strokeWidth:oe.number,fill:oe.string,className:oe.string};var FCe=["subject","children","connectorProps","dx","dy","curve","className"],PU=R.forwardRef(function(t,e){var n=t.subject,r=t.children,i=t.connectorProps,a=t.dx,s=a===void 0?30:a,o=t.dy,l=o===void 0?30:o,c=t.curve,u=c===void 0?0:c,d=t.className,h=d===void 0?"":d,p=hi(t,FCe),g=R.useContext(xa),y=g.projection,v=y(n),x=Tn(v,2),b=x[0],w=x[1],S=kCe(s,l,u);return z.createElement("g",br({ref:e,transform:"translate(".concat(b+s,", ").concat(w+l,")"),className:"rsm-annotation ".concat(h)},p),z.createElement("path",br({d:S,fill:"transparent",stroke:"#000"},i)),r)});PU.displayName="Annotation";PU.propTypes={subject:oe.array,children:oe.oneOfType([oe.node,oe.arrayOf(oe.node)]),dx:oe.number,dy:oe.number,curve:oe.number,connectorProps:oe.object,className:oe.string};var VCe=1e-6,S$=1e-12,f2=Math.PI,k$=f2/2,E$=180/f2,fa=f2/180,NU=Math.atan2,ha=Math.cos,pk=Math.hypot,pa=Math.sin,UCe=Math.sqrt;function AU(t){return t>1?k$:t<-1?-k$:Math.asin(t)}function BCe(){}function Qy(t,e){t&&P$.hasOwnProperty(t.type)&&P$[t.type](t,e)}var T$={Feature:function(t,e){Qy(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Qy(n[r].geometry,e)}},P$={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){mk(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)mk(n[r],e,0)},Polygon:function(t,e){N$(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)N$(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Qy(n[r],e)}};function mk(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function N$(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)mk(t[n],e,1);e.polygonEnd()}function zCe(t,e){t&&T$.hasOwnProperty(t.type)?T$[t.type](t,e):Qy(t,e)}var cf,Xy,Jy,Zy,ev,tv,nv,rv,gk,yk,vk,IU,OU,Xn,Jn,Zn,Ai={sphere:BCe,point:h2,lineStart:A$,lineEnd:I$,polygonStart:function(){Ai.lineStart=HCe,Ai.lineEnd=GCe},polygonEnd:function(){Ai.lineStart=A$,Ai.lineEnd=I$}};function h2(t,e){t*=fa,e*=fa;var n=ha(e);Lp(n*ha(t),n*pa(t),pa(e))}function Lp(t,e,n){++cf,Jy+=(t-Jy)/cf,Zy+=(e-Zy)/cf,ev+=(n-ev)/cf}function A$(){Ai.point=qCe}function qCe(t,e){t*=fa,e*=fa;var n=ha(e);Xn=n*ha(t),Jn=n*pa(t),Zn=pa(e),Ai.point=WCe,Lp(Xn,Jn,Zn)}function WCe(t,e){t*=fa,e*=fa;var n=ha(e),r=n*ha(t),i=n*pa(t),a=pa(e),s=NU(UCe((s=Jn*a-Zn*i)*s+(s=Zn*r-Xn*a)*s+(s=Xn*i-Jn*r)*s),Xn*r+Jn*i+Zn*a);Xy+=s,tv+=s*(Xn+(Xn=r)),nv+=s*(Jn+(Jn=i)),rv+=s*(Zn+(Zn=a)),Lp(Xn,Jn,Zn)}function I$(){Ai.point=h2}function HCe(){Ai.point=KCe}function GCe(){CU(IU,OU),Ai.point=h2}function KCe(t,e){IU=t,OU=e,t*=fa,e*=fa,Ai.point=CU;var n=ha(e);Xn=n*ha(t),Jn=n*pa(t),Zn=pa(e),Lp(Xn,Jn,Zn)}function CU(t,e){t*=fa,e*=fa;var n=ha(e),r=n*ha(t),i=n*pa(t),a=pa(e),s=Jn*a-Zn*i,o=Zn*r-Xn*a,l=Xn*i-Jn*r,c=pk(s,o,l),u=AU(c),d=c&&-u/c;gk.add(d*s),yk.add(d*o),vk.add(d*l),Xy+=u,tv+=u*(Xn+(Xn=r)),nv+=u*(Jn+(Jn=i)),rv+=u*(Zn+(Zn=a)),Lp(Xn,Jn,Zn)}function YCe(t){cf=Xy=Jy=Zy=ev=tv=nv=rv=0,gk=new cw,yk=new cw,vk=new cw,zCe(t,Ai);var e=+gk,n=+yk,r=+vk,i=pk(e,n,r);return i<S$&&(e=tv,n=nv,r=rv,Xy<VCe&&(e=Jy,n=Zy,r=ev),i=pk(e,n,r),i<S$)?[NaN,NaN]:[NU(n,e)*E$,AU(r/i)*E$]}const Fe=({className:t=""})=>f.jsx("div",{className:`animate-pulse bg-slate-200 dark:bg-slate-700/50 rounded-lg ${t}`}),QCe="https://raw.githubusercontent.com/wmgeolab/geoBoundaries/rel/releaseData/gbOpen/IRQ/ADM1/geoBoundaries-IRQ-ADM1.geojson",XCe=({data:t,selectedGovernorates:e=[],onSelect:n})=>{const{theme:r,brand:i}=vn(),[a,s]=R.useState(!0),[o,l]=R.useState(!1),[c,u]=R.useState(null);R.useEffect(()=>{fetch(QCe).then(y=>{if(!y.ok)throw new Error("Failed to fetch map data");return y.json()}).then(y=>{u(y),s(!1)}).catch(y=>{console.error("Map Load Error:",y),l(!0),s(!1)})},[]);const{maxValue:d,minPositive:h}=R.useMemo(()=>{const y=Object.values(t||{}).filter(w=>typeof w=="number"),v=y.length>0?Math.max(...y):0,x=y.filter(w=>w>0),b=x.length>0?Math.min(...x):1;return{maxValue:v,minPositive:b}},[t]),p=Eh().domain([h||1,d||h||1]).range([`${i.color}40`,i.color]),g=r==="dark"?"#0f172a":"#f1f5f9";return f.jsxs("div",{className:"w-full h-full bg-slate-50 dark:bg-slate-900/50 rounded-2xl overflow-hidden relative flex items-center justify-center border border-slate-100 dark:border-slate-800",children:[a&&!o&&f.jsxs("div",{className:"absolute inset-0 z-10 bg-white dark:bg-slate-900 overflow-hidden",children:[f.jsx(Fe,{className:"w-full h-full rounded-none"}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("span",{className:"bg-white/50 dark:bg-slate-900/50 backdrop-blur px-3 py-1 rounded-full text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Loading Map..."})})]}),o&&f.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-slate-400 bg-slate-50 dark:bg-slate-900 z-10 p-4 text-center",children:[f.jsx("p",{className:"font-bold",children:"Map data unavailable"}),f.jsx("p",{className:"text-xs mt-2",children:"Check internet connection or data source."})]}),!a&&!o&&c&&f.jsx(a2,{projection:"geoMercator",projectionConfig:{scale:3500,center:[44,33]},className:"w-full h-full",children:f.jsx(c2,{zoom:1,maxZoom:3,children:f.jsx(s2,{geography:c,children:({geographies:y})=>f.jsxs(f.Fragment,{children:[y.map(v=>{const x=v.properties||{},b=x.name||x.shapeName||x.ADM1_EN||"Unknown",w=A=>typeof A=="string"?A.toLowerCase().replace(/[^a-z0-9]/g,""):"",S=w(b),k=Object.keys(t||{}).find(A=>{const C=w(A);return S&&C&&(S.includes(C)||C.includes(S))}),P=k||b,_=k&&t[k]||0,E=e.includes(P);let N=g;return E?N="#F59E0B":_>0&&(N=p(_)),f.jsx(ACe,{geography:v,fill:N,stroke:E?"#ffffff":r==="dark"?"#334155":"#cbd5e1",strokeWidth:E?2:.5,onClick:()=>{n&&n(P)},style:{default:{outline:"none",transition:"all 250ms"},hover:{fill:"#F59E0B",outline:"none",stroke:"#fff",strokeWidth:2,cursor:"pointer",opacity:.8},pressed:{outline:"none"}},title:`${P}: ${_} Orders`},v.rsmKey)}),y.map(v=>{const x=YCe(v);if(!x||isNaN(x[0])||isNaN(x[1]))return null;const b=v.properties||{},w=b.name||b.shapeName||b.ADM1_EN||"Unknown",S=N=>typeof N=="string"?N.toLowerCase().replace(/[^a-z0-9]/g,""):"",k=S(w),P=Object.keys(t||{}).find(N=>{const A=S(N);return k&&A&&(k.includes(A)||A.includes(k))}),_=P||w,E=P&&t[P]||0;return f.jsx(d2,{coordinates:x,children:f.jsxs("g",{className:"pointer-events-none",style:{transform:"translateY(-6px)"},children:[f.jsx("text",{y:"-6",textAnchor:"middle",style:{fontSize:8,fill:r==="dark"?"#fff":"#1e293b",fontWeight:"bold",pointerEvents:"none",textShadow:"0px 0px 2px rgba(255,255,255,0.8)"},children:_}),f.jsx("text",{y:"8",textAnchor:"middle",style:{fontSize:10,fill:r==="dark"?"#e6f0ff":"#0f172a",fontWeight:"800",pointerEvents:"none",textShadow:"0px 0px 2px rgba(255,255,255,0.8)"},children:E>0?E:""})]})},`${v.rsmKey}-label`)})]})})})}),f.jsxs("div",{className:"absolute bottom-4 end-4 bg-white/90 dark:bg-slate-800/90 backdrop-blur p-3 rounded-xl shadow-lg border border-slate-100 dark:border-slate-700 text-xs text-slate-500 dark:text-slate-400 z-20 pointer-events-none",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("span",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:i.color}})," High Order Volume"]}),f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("span",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:r==="dark"?"#1E293B":"#E0E7FF"}})," Low Order Volume"]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-3 h-3 bg-[#F59E0B] rounded-sm"})," Selected"]})]})]})},JCe=({regions:t,selectedRegion:e,onSelect:n})=>{const r=[...t].sort((a,s)=>s.count-a.count).slice(0,5),i=a=>{n(a)};return f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 h-full flex flex-col",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(Gs,{className:"w-5 h-5 text-accent"})," Top Regions"]}),f.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto custom-scrollbar pe-2",children:[r.map((a,s)=>{const o=e===a.name||Array.isArray(e)&&e.includes(a.name);return f.jsxs("div",{onClick:()=>i(a.name),className:`flex items-center justify-between p-3 rounded-xl cursor-pointer transition-all ltr:hover:translate-x-1 rtl:hover:-translate-x-1 ${o?"bg-accent text-white shadow-accent":"bg-slate-50 dark:bg-slate-700/30 border border-transparent hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-black transition-all ${s===0?"bg-amber-100 text-amber-600":s===1?"bg-slate-200 text-slate-600":s===2?"bg-orange-100 text-orange-600":""}`,style:s>2?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"}:{},children:s+1}),f.jsx("span",{className:`font-bold transition-colors ${o?"text-white":"text-slate-700 dark:text-slate-300"}`,children:a.name})]}),f.jsx("span",{className:`font-black transition-colors ${o?"text-white":"text-slate-800 dark:text-white"}`,children:a.count})]},a.name)}),r.length===0&&f.jsx("p",{className:"text-center text-slate-400 text-sm py-4",children:"No data available"})]})]})},ZCe=({products:t,orders:e,formatCurrency:n})=>{const r=z.useMemo(()=>{const o={};return t.forEach(l=>{const c=l._id||l.id||l.id_str||l.sku||l.name;o[c]={...l,_id:c,totalSales:0,orderCount:0,distinctOrders:[]}}),e.forEach(l=>{l.items&&l.items.forEach(c=>{var d,h;const u=((d=c.product)==null?void 0:d._id)||c.productId;u&&o[u]&&(o[u].totalSales+=c.price*c.quantity,o[u].orderCount+=c.quantity,o[u].distinctOrders.push({id:l._id||l.id,customer:((h=l.customer)==null?void 0:h.name)||l.customer||"",date:l.date||l.createdAt||l.updatedAt,quantity:c.quantity,total:c.price*c.quantity}))})}),Object.values(o).sort((l,c)=>c.orderCount-l.orderCount).slice(0,10)},[t,e]),[i,a]=R.useState(null),s=o=>{a(i===o?null:o)};return f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(Kc,{className:"w-5 h-5 text-accent"})," Top Selling Products"]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-start border-collapse",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider border-b border-slate-100 dark:border-slate-700",children:[f.jsx("th",{className:"py-3 ps-2",children:"Product Name"}),f.jsx("th",{className:"py-3 text-center",children:"Sales"}),f.jsx("th",{className:"py-3 text-end pe-2",children:"Total Revenue"}),f.jsx("th",{className:"py-3 w-10"})]})}),f.jsxs("tbody",{className:"text-sm",children:[r.filter(o=>o.orderCount>0).map(o=>{var l;return f.jsxs(z.Fragment,{children:[f.jsxs("tr",{onClick:()=>s(o._id),className:`group cursor-pointer transition-colors border-b border-slate-50 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700/50 ${i===o._id?"bg-slate-50 dark:bg-slate-800":""}`,children:[f.jsxs("td",{className:"py-4 ps-2 font-bold text-slate-700 dark:text-slate-200 flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-100 dark:bg-slate-700 overflow-hidden shrink-0",children:f.jsx("img",{src:((l=o.images)==null?void 0:l[0])||"https://via.placeholder.com/40",alt:o.name||"Product image",className:"w-full h-full object-cover"})}),o.name]}),f.jsx("td",{className:"py-4 text-center text-slate-600 dark:text-slate-300",children:f.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-black transition-all",style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"},children:[o.orderCount," Orders"]})}),f.jsx("td",{className:"py-4 text-end pe-2 font-bold text-slate-800 dark:text-white",children:n(o.totalSales)}),f.jsx("td",{className:"py-4 text-center text-slate-400 group-hover:text-accent",children:i===o._id?f.jsx(cL,{className:"w-4 h-4"}):f.jsx(Il,{className:"w-4 h-4"})})]}),i===o._id&&f.jsx("tr",{children:f.jsx("td",{colSpan:"4",className:"bg-slate-50/50 dark:bg-slate-900/30 p-4",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[f.jsx("div",{className:"px-4 py-3 bg-slate-50 dark:bg-slate-700/30 border-b border-slate-100 dark:border-slate-700 text-xs font-bold text-slate-500 uppercase flex justify-between",children:f.jsxs("span",{children:["Order Details (",o.distinctOrders.length,")"]})}),f.jsxs("div",{className:"max-h-60 overflow-y-auto custom-scrollbar",children:[o.distinctOrders.map((c,u)=>f.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-slate-50 dark:border-slate-700 last:border-0 hover:bg-slate-50 dark:hover:bg-slate-700/20 transition-colors",children:[f.jsx("div",{className:"flex items-center gap-4",children:f.jsxs("div",{className:"flex flex-col",children:[f.jsxs("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300 flex items-center gap-1",children:[f.jsx(xf,{className:"w-3 h-3 text-slate-400"})," ",c.customer]}),f.jsxs("span",{className:"text-[10px] text-slate-400 flex items-center gap-1 mt-0.5",children:[f.jsx(oL,{className:"w-3 h-3"})," ",c.date&&!isNaN(new Date(c.date).getTime())?Hr(new Date(c.date),"dd MMM yyyy"):"N/A"]})]})}),f.jsxs("div",{className:"text-end",children:[f.jsxs("span",{className:"block text-xs font-bold text-slate-800 dark:text-white",children:["Qty: ",c.quantity]}),f.jsx("span",{className:"block text-[10px] font-semibold text-emerald-600 dark:text-emerald-400",children:n(c.total)})]})]},u)),o.distinctOrders.length===0&&f.jsx("div",{className:"text-center py-4 text-slate-400 text-xs",children:"No order details available"})]})]})})})]},o._id)}),r.filter(o=>o.orderCount>0).length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:"4",className:"text-center py-8 text-slate-400",children:"No sales data matches current filters"})})]})]})})]})},sp=["Al Anbar","Babil","Baghdad","Basra","Dhi Qar","Al-Qadisiyyah","Diyala","Duhok","Erbil","Karbala","Kirkuk","Maysan","Muthanna","Najaf","Nineveh","Saladin","Sulaymaniyah","Wasit"],op=["Facebook","Instagram","TikTok","Snapchat","Telegram","WhatsApp","Other"],eje=()=>{var B,ae,ge,ye;const{t}=Ur(),{orders:e,products:n,customers:r,loading:i,formatCurrency:a,brand:s,categories:o,theme:l,appearance:c}=vn(),u=R.useMemo(()=>e.length===0?OP(new Date,30):e.reduce((Z,te)=>{try{const de=Ta(te.date);return de<Z?de:Z}catch{return Z}},new Date),[e]),d=R.useMemo(()=>({from:u,to:new Date}),[u]),[h,p]=R.useState(d),[g,y]=R.useState(!1);z.useEffect(()=>{!i&&e.length>0&&!g&&(p(d),y(!0))},[i,e.length,d,g]);const[v,x]=R.useState([]),[b,w]=R.useState([]),[S,k]=R.useState([]),[P,_]=R.useState([]),E=R.useMemo(()=>e.filter(Z=>{var ee,xe;let te;try{te=Z.date?Ta(Z.date):null}catch{return!1}if(!te||isNaN(te.getTime()))return!1;const de=!(h!=null&&h.from)||!(h!=null&&h.to)||Qh(te,{start:h.from,end:h.to}),ne=v.length===0||v.includes(Z.status),_e=b.length===0||((ee=Z.customer)==null?void 0:ee.governorate)&&b.includes(Z.customer.governorate),ie=S.length===0||((xe=Z.customer)==null?void 0:xe.social)&&S.includes(Z.customer.social),X=P.length===0||Z.items&&Z.items.some(Ce=>{var He;return((He=Ce.product)==null?void 0:He.category)&&P.includes(Ce.product.category)});return de&&ne&&_e&&ie&&X}),[e,h,v,b,S,P]),N=R.useMemo(()=>E.reduce((Z,te)=>Z+te.total,0),[E]),A=E.length,C=R.useMemo(()=>new Set(E.map(Z=>{var te,de;return((te=Z.customer)==null?void 0:te.phone)||((de=Z.customer)==null?void 0:de.id)||Z.customer}).filter(Boolean)).size,[E]),j=R.useMemo(()=>{const Z={};return E.forEach(te=>{var ne;const de=(ne=te.customer)==null?void 0:ne.governorate;de&&(Z[de]=(Z[de]||0)+1)}),Object.entries(Z).map(([te,de])=>({name:te,count:de}))},[E]),O=R.useMemo(()=>j.length===0?{name:"N/A",count:0}:j.reduce((Z,te)=>Z.count>te.count?Z:te),[j]),M=R.useMemo(()=>e.filter(Z=>{let te;try{te=Z.date?Ta(Z.date):null}catch{return!1}return!te||isNaN(te.getTime())?!1:!(h!=null&&h.from)||!(h!=null&&h.to)||Qh(te,{start:h.from,end:h.to})}),[e,h]),$=R.useMemo(()=>{const Z={};return M.forEach(te=>Z[te.status]=(Z[te.status]||0)+1),["Processing","Completed","Cancelled"].map(te=>({value:te,label:te,count:Z[te]||0}))},[M]),L=R.useMemo(()=>{const Z={};return M.forEach(te=>{var ne;const de=(ne=te.customer)==null?void 0:ne.governorate;de&&(Z[de]=(Z[de]||0)+1)}),sp.map(te=>({value:te,label:te,count:Z[te]||0})).sort((te,de)=>de.count-te.count)},[M]),W=R.useMemo(()=>{const Z={};return M.forEach(te=>{var ne;const de=(ne=te.customer)==null?void 0:ne.social;de&&(Z[de]=(Z[de]||0)+1)}),op.map(te=>({value:te,label:te,count:Z[te]||0})).sort((te,de)=>de.count-te.count)},[M]),F=R.useMemo(()=>{const Z={};return M.forEach(te=>{var ne;const de=new Set;(ne=te.items)==null||ne.forEach(_e=>{var X;const ie=(X=_e.product)==null?void 0:X.category;ie&&!de.has(ie)&&(Z[ie]=(Z[ie]||0)+1,de.add(ie))})}),o.map(te=>({value:te,label:te,count:Z[te]||0})).sort((te,de)=>de.count-te.count)},[M,o]),U=R.useMemo(()=>{if(!(h!=null&&h.from)||!(h!=null&&h.to)||c9(h.from,h.to))return[];let Z=[];try{Z=ePe({start:h.from,end:h.to})}catch(de){return console.error("Invalid date range for chart:",de),[]}const te={};return Z.forEach(de=>te[Hr(de,"yyyy-MM-dd")]=0),E.forEach(de=>{const ne=Hr(Ta(de.date),"yyyy-MM-dd");te[ne]!==void 0&&(te[ne]+=de.total)}),Object.entries(te).map(([de,ne])=>({date:Hr(Ta(de),"MMM d"),value:ne}))},[E,h]),G=R.useMemo(()=>j.reduce((Z,te)=>(Z[te.name]=te.count,Z),{}),[j]),Q=l==="dark"?{text:"#94A3B8",grid:"#334155",tooltipBg:"#1E293B"}:{text:"#64748B",grid:"#E2E8F0",tooltipBg:"#FFFFFF"};return f.jsxs(Wu,{title:t("dashboard.title"),children:[f.jsxs("div",{className:"flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[f.jsx("div",{className:"flex gap-3 items-center flex-wrap",children:f.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-xl font-bold text-sm border border-indigo-100 dark:border-indigo-900/50",children:[f.jsx(Ab,{className:"w-4 h-4"}),f.jsx("span",{children:t("dashboard.liveDashboard")})]})}),f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[(v.length>0||b.length>0||S.length>0||P.length>0||((B=h.from)==null?void 0:B.getTime())!==((ae=d.from)==null?void 0:ae.getTime())||((ge=h.to)==null?void 0:ge.getTime())!==((ye=d.to)==null?void 0:ye.getTime()))&&f.jsx("button",{onClick:()=>{x([]),w([]),k([]),_([]),p(d)},className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(Kc,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:E.length})," ",t("dashboard.filteredOrders")]})]})]})]}),f.jsxs("div",{className:"flex gap-3 w-full flex-wrap items-center",children:[f.jsx("div",{className:"h-[44px] flex-shrink-0",children:f.jsx(CP,{range:h,onRangeChange:p,brandColor:s.color})}),f.jsx(Pi,{title:t("dashboard.governorate"),options:L,selectedValues:b,onChange:w,icon:Gs,showSearch:!1}),f.jsx(Pi,{title:t("dashboard.socialMedia"),options:W,selectedValues:S,onChange:k,icon:nl,showSearch:!1}),f.jsx(Pi,{title:t("dashboard.categories"),options:F,selectedValues:P,onChange:_,icon:Kc,showSearch:!1}),f.jsx(Pi,{title:t("dashboard.status"),options:$,selectedValues:v,onChange:x,icon:Gn,showSearch:!1})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:i?Array.from({length:4}).map((Z,te)=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsx(Fe,{className:"h-4 w-24"}),f.jsx(Fe,{className:"h-5 w-5 rounded-full"})]}),f.jsx(Fe,{className:"h-8 w-32 mb-2"}),f.jsx(Fe,{className:"h-3 w-40"})]},te)):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"bg-accent rounded-3xl p-6 text-white shadow-accent",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 opacity-80",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.totalRevenue")}),f.jsx(Bq,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-3xl font-black mb-1",children:a(N)}),f.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium opacity-80",children:[f.jsx(Ab,{className:"w-3 h-3"}),f.jsx("span",{children:t("dashboard.revenueComparison")})]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 text-slate-400",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.totalOrders")}),f.jsx(mL,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-3xl font-black text-slate-800 dark:text-white mb-1",children:A}),f.jsx("p",{className:"text-xs text-slate-500 font-medium mt-1",children:t("dashboard.ordersPlaced")})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 text-slate-400",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.topRegion")}),f.jsx(Gs,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-2xl font-black text-slate-800 dark:text-white mb-1 truncate",children:O.name}),f.jsx("p",{className:"text-xs text-slate-500 font-medium mt-1",children:t("dashboard.ordersCount",{count:O.count})})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 text-slate-400",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.activeCustomers")}),f.jsx(SE,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-3xl font-black text-slate-800 dark:text-white mb-1",children:C}),f.jsx("p",{className:"text-xs text-slate-500 font-medium mt-1",children:t("dashboard.uniqueBuyers")})]})]})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[400px]",children:[f.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(Ab,{className:"w-5 h-5",style:{color:c.accentType==="solid"?c.accentColor:c.accentGradient.start}})," ",t("dashboard.revenueTrend")]}),f.jsx("div",{className:"flex-1 min-h-0",children:i?f.jsx(Fe,{className:"w-full h-full rounded-xl"}):f.jsx(mme,{width:"100%",height:"100%",children:f.jsxs(WTe,{data:U,children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"5%",stopColor:c.accentType==="solid"?c.accentColor:c.accentGradient.start,stopOpacity:.3}),f.jsx("stop",{offset:"95%",stopColor:c.accentType==="solid"?c.accentColor:c.accentGradient.start,stopOpacity:0})]})}),f.jsx($8,{strokeDasharray:"3 3",vertical:!1,stroke:Q.grid}),f.jsx(Cx,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:Q.text},dy:10}),f.jsx(jx,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:Q.text},tickFormatter:Z=>`${Z/1e3}k`}),f.jsx(qi,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 8px 16px rgba(0,0,0,0.1)",backgroundColor:Q.tooltipBg,color:l==="dark"?"#F8FAFC":"#1E293B"},itemStyle:{color:l==="dark"?"#F8FAFC":"#1E293B"},formatter:Z=>[a(Z),t("dashboard.revenue")]}),f.jsx(No,{type:"monotone",dataKey:"value",stroke:c.accentType==="solid"?c.accentColor:c.accentGradient.start,strokeWidth:3,fillOpacity:1,fill:"url(#colorValue)"})]})})})]}),f.jsxs("div",{className:"lg:col-span-1 border border-slate-100 dark:border-slate-700 rounded-3xl overflow-hidden shadow-sm h-full relative",children:[f.jsx(XCe,{data:G,selectedGovernorates:b,onSelect:Z=>{b.includes(Z)?w(b.filter(te=>te!==Z)):w([...b,Z])}}),f.jsx("div",{className:"absolute top-4 start-4 bg-white/90 backdrop-blur px-3 py-1 rounded-full text-xs font-bold text-slate-500 shadow-sm border border-slate-100",children:t("dashboard.interactiveMap")})]})]}),f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-[400px]",children:i?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsx(Fe,{className:"h-6 w-48 mb-6"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Fe,{className:"h-10 w-full"}),f.jsx(Fe,{className:"h-10 w-full"}),f.jsx(Fe,{className:"h-10 w-full"})]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsx(Fe,{className:"h-6 w-48 mb-6"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Fe,{className:"h-12 w-full"}),f.jsx(Fe,{className:"h-12 w-full"}),f.jsx(Fe,{className:"h-12 w-full"})]})]})]}):f.jsxs(f.Fragment,{children:[f.jsx(JCe,{regions:j,selectedRegion:b,onSelect:Z=>{b.includes(Z)?w(b.filter(te=>te!==Z)):w([...b,Z])}}),f.jsx("div",{className:"h-full",children:f.jsx(ZCe,{products:n,orders:M,formatCurrency:a})})]})})]})]})},tje=({categories:t,products:e,onClose:n,onAdd:r,onUpdate:i,onDelete:a})=>{const{addToast:s}=vn(),[o,l]=R.useState(""),[c,u]=R.useState(null),[d,h]=R.useState(""),[p,g]=R.useState({});R.useEffect(()=>{const b={};t.forEach(w=>{b[w]=e.filter(S=>S.category===w).length}),g(b)},[t,e]);const y=()=>{o.trim()&&(r(o.trim()),l(""))},v=()=>{c&&d.trim()&&d!==c&&(i(c,d.trim()),u(null),h(""))},x=b=>{if(p[b]>0){s(`Cannot delete category "${b}" because it is used by ${p[b]} products.`,"error");return}window.confirm(`Are you sure you want to delete category "${b}"?`)&&a(b)};return f.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden flex flex-col max-h-[80vh]",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-800/50",children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Manage Categories"}),f.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:f.jsx(Rr,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:o,onChange:b=>l(b.target.value),placeholder:"New Category Name",className:"flex-1 px-4 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent dark:text-white",onKeyDown:b=>b.key==="Enter"&&y()}),f.jsx("button",{onClick:y,disabled:!o.trim(),className:"px-4 py-2 bg-accent disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-xl shadow-lg shadow-accent/20 transition-all flex items-center justify-center",children:f.jsx(Ks,{className:"w-5 h-5"})})]})}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 custom-scrollbar bg-slate-50/50 dark:bg-slate-900/20",children:[t.map(b=>f.jsx("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm group hover:border-indigo-100 dark:hover:border-slate-600 transition-colors",children:c===b?f.jsxs("div",{className:"flex-1 flex gap-2 mr-2",children:[f.jsx("input",{autoFocus:!0,type:"text",value:d,onChange:w=>h(w.target.value),className:"flex-1 px-2 py-1 bg-slate-50 dark:bg-slate-900 border border-accent rounded-lg text-sm outline-none dark:text-white",onKeyDown:w=>{w.key==="Enter"&&v(),w.key==="Escape"&&u(null)}}),f.jsx("button",{onClick:v,className:"text-emerald-500 hover:bg-emerald-50 rounded p-1",children:f.jsx(wE,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>u(null),className:"text-red-400 hover:bg-red-50 rounded p-1",children:f.jsx(Rr,{className:"w-4 h-4"})})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200 text-sm",children:b}),f.jsxs("span",{className:"text-[10px] font-bold px-2 py-0.5 bg-slate-100 dark:bg-slate-700 text-slate-500 rounded-full",children:[p[b]||0," products"]})]}),f.jsxs("div",{className:"flex gap-1 opacity-100 sm:opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>{u(b),h(b)},className:"p-2 text-slate-400 hover:text-accent hover:bg-accent/10 rounded-lg transition-colors",title:"Rename",children:f.jsx(Zq,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>x(b),className:`p-2 rounded-lg transition-colors ${p[b]>0?"text-slate-300 cursor-not-allowed":"text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30"}`,title:p[b]>0?"Cannot delete used category":"Delete",children:p[b]>0?f.jsx(Fq,{className:"w-4 h-4"}):f.jsx(Yc,{className:"w-4 h-4"})})]})]})},b)),t.length===0&&f.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"No categories found. Add one above."})]})]})})},Ea=({title:t,options:e,selectedValue:n,onChange:r,icon:i,placeholder:a="Search...",showSearch:s=!0,customAction:o=null,disabled:l=!1,direction:c="down"})=>{const{appearance:u}=vn(),[d,h]=R.useState(!1),[p,g]=R.useState(""),y=R.useRef(null);R.useEffect(()=>{const S=k=>{y.current&&!y.current.contains(k.target)&&h(!1)};return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[]),R.useEffect(()=>{d&&g("")},[d]);const v=S=>{r(S),h(!1)},x=R.useMemo(()=>p?e.filter(S=>S.label.toLowerCase().includes(p.toLowerCase())):e,[e,p]),b=e.find(S=>S.value===n),w=b?b.label:t;return f.jsxs("div",{className:"relative w-full",ref:y,children:[f.jsxs("button",{type:"button",disabled:l,onClick:()=>h(!d),className:`flex items-center justify-between w-full px-3 h-[44px] rounded-xl border-2 transition-all font-bold text-[11px] outline-none shadow-sm ${l?"bg-slate-50 dark:bg-slate-900/50 border-slate-100 dark:border-slate-800 text-slate-400 cursor-not-allowed opacity-60":d?"bg-accent/10 border-accent/40 text-accent shadow-[0_0_15px_-3px_rgba(0,0,0,0.1)]":["liquid","default_glass"].includes(u==null?void 0:u.theme)?"bg-white/40 dark:bg-slate-800/40 backdrop-blur-md border-white/20 dark:border-slate-700/50 text-slate-700 dark:text-white hover:bg-white/60 dark:hover:bg-slate-700/60":"bg-slate-50 dark:bg-slate-900 border-slate-100 dark:border-slate-800 text-slate-700 dark:text-white hover:border-slate-200 dark:hover:border-slate-700"}`,children:[f.jsxs("div",{className:"flex items-center gap-1 truncate",children:[i&&f.jsx(i,{className:`w-3.5 h-3.5 ${d?"text-accent":"text-slate-400"}`}),f.jsx("span",{className:"truncate",children:w})]}),f.jsx(Il,{className:`w-3 h-3 transition-transform flex-shrink-0 ${d?"rotate-180 text-accent":"text-slate-400"}`})]}),d&&f.jsx("div",{className:`absolute start-0 z-[100] w-full animate-in fade-in zoom-in-95 duration-200 ${c==="up"?"bottom-full mb-2":"top-full mt-2"}`,children:f.jsxs("div",{className:`rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col transition-all ${["liquid","default_glass"].includes(u==null?void 0:u.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:[s&&f.jsx("div",{className:"p-3 border-b border-slate-100 dark:border-slate-700",children:f.jsxs("div",{className:"relative",children:[f.jsx(Lu,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),f.jsx("input",{autoFocus:!0,type:"text",placeholder:a,value:p,onChange:S=>g(S.target.value),className:`w-full ps-9 pe-4 py-2 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent transition-all font-bold text-xs dark:text-white ${["liquid","default_glass"].includes(u==null?void 0:u.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900/50"}`})]})}),f.jsxs("div",{className:"flex-1 max-h-48 overflow-y-auto p-2 space-y-1",children:[o&&f.jsxs("div",{onClick:()=>{o.onClick(),h(!1)},className:"flex items-center gap-3 px-3 py-2 rounded-xl cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700/50 text-accent font-bold text-sm border border-dashed border-accent/30 mb-1",children:[o.icon&&f.jsx(o.icon,{className:"w-4 h-4"}),f.jsx("span",{children:o.label})]}),x.length===0?f.jsx("div",{className:"px-4 py-8 text-center text-slate-400",children:f.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"No results found"})}):x.map(S=>{const k=n===S.value;return f.jsxs("div",{onClick:()=>v(S.value),className:`flex items-center justify-between px-3 py-2 rounded-xl cursor-pointer transition-all group ${k?"bg-accent/10 text-accent font-bold":"hover:bg-slate-50 dark:hover:bg-slate-700/50 text-slate-600 dark:text-slate-300"}`,children:[f.jsx("span",{className:`text-xs font-semibold ${k?"text-accent":"text-slate-600 dark:text-slate-300"}`,children:S.label}),k&&f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent shadow-[0_0_8px_var(--accent-color)]"})]},S.value)})]})]})})]})},ti=({src:t,alt:e,className:n="",imageClassName:r="",fallback:i=null})=>{const[a,s]=R.useState(!0),[o,l]=R.useState(!1);return f.jsxs("div",{className:`relative overflow-hidden bg-slate-100 dark:bg-slate-700 ${n}`,children:[a&&!o&&f.jsx("div",{className:"absolute inset-0 animate-pulse bg-slate-200 dark:bg-slate-600 z-10"}),o?f.jsx("div",{className:"flex items-center justify-center w-full h-full text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800",children:i||f.jsxs("div",{className:"flex flex-col items-center gap-1",children:[f.jsx(Wq,{className:"w-1/3 h-1/3 opacity-50"}),f.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider opacity-50",children:"No Image"})]})}):f.jsx("img",{src:t,alt:e,className:`w-full h-full object-cover transition-opacity duration-300 ${a?"opacity-0":"opacity-100"} ${r}`,loading:"lazy",onLoad:()=>s(!1),onError:()=>{l(!0),s(!1)}})]})},nje=({images:t=[],currentIndex:e=0,onChange:n,onDelete:r,onDownload:i})=>{const[a,s]=R.useState(null),[o,l]=R.useState(null);R.useRef(null);const c=50,u=y=>{l(null),s(y.targetTouches[0].clientX)},d=y=>{l(y.targetTouches[0].clientX)},h=()=>{if(!a||!o)return;const y=a-o,v=y>c,x=y<-c;v&&e<t.length-1?n(e+1):x&&e>0&&n(e-1)},p=()=>{e<t.length-1?n(e+1):n(0)},g=()=>{e>0?n(e-1):n(t.length-1)};return!t||t.length===0?f.jsx("div",{className:"w-full aspect-square bg-slate-50 dark:bg-slate-900 rounded-2xl flex items-center justify-center border-2 border-dashed border-slate-200 dark:border-slate-800",children:f.jsx("span",{className:"text-slate-400 font-medium",children:"No images available"})}):f.jsxs("div",{className:"flex flex-col gap-4 w-full h-full",children:[f.jsxs("div",{className:"relative flex-1 group overflow-hidden bg-slate-50 dark:bg-slate-900 rounded-2xl border border-slate-100 dark:border-slate-800 flex items-center justify-center",onTouchStart:u,onTouchMove:d,onTouchEnd:h,children:[f.jsx("div",{className:"flex transition-transform duration-500 ease-out h-full",style:{transform:`translateX(-${e*100}%)`},children:t.map((y,v)=>f.jsx("div",{className:"min-w-full h-full flex-none flex items-center justify-center p-4",children:f.jsx(ti,{src:typeof y=="string"?y:y.url,alt:`Product view ${v+1}`,className:"w-full h-full flex items-center justify-center bg-transparent dark:bg-transparent",imageClassName:"max-w-full max-h-full object-contain pointer-events-none select-none drop-shadow-md"})},v))}),t.length>1&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:y=>{y.stopPropagation(),g()},className:"absolute left-4 z-10 p-3 bg-white/90 dark:bg-slate-800/90 rounded-full shadow-lg text-slate-800 dark:text-white hover:scale-110 active:scale-95 transition-all opacity-0 group-hover:opacity-100 backdrop-blur-sm",children:f.jsx(vE,{className:"w-6 h-6"})}),f.jsx("button",{onClick:y=>{y.stopPropagation(),p()},className:"absolute right-4 z-10 p-3 bg-white/90 dark:bg-slate-800/90 rounded-full shadow-lg text-slate-800 dark:text-white hover:scale-110 active:scale-95 transition-all opacity-0 group-hover:opacity-100 backdrop-blur-sm",children:f.jsx(xE,{className:"w-6 h-6"})})]}),f.jsx("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:i&&f.jsx("button",{onClick:y=>{y.stopPropagation(),i()},className:"p-2.5 bg-white/90 dark:bg-slate-800/90 rounded-xl shadow-md text-slate-600 dark:text-slate-300 hover:text-accent transition-colors backdrop-blur-sm",title:"Download Image",children:f.jsx(wv,{className:"w-5 h-5"})})}),f.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/40 backdrop-blur-md rounded-full text-[10px] font-bold text-white tracking-widest uppercase",children:[e+1," / ",t.length]})]}),f.jsx("div",{className:"flex items-center gap-3 overflow-x-auto pb-4 pt-2 px-1 custom-scrollbar",children:t.map((y,v)=>f.jsxs("div",{className:"relative shrink-0 group",children:[f.jsx("button",{onClick:()=>n(v),className:`w-16 h-16 rounded-xl overflow-hidden border-2 transition-all ${e===v?"border-accent ring-2 ring-accent/20 dark:ring-accent/40 scale-105":"border-transparent hover:border-slate-300 dark:hover:border-slate-600"}`,children:f.jsx(ti,{src:typeof y=="string"?y:y.url,alt:`Thumbnail ${v+1} of ${t.length}`,className:"w-full h-full",imageClassName:"w-full h-full object-cover"})}),r&&f.jsx("button",{onClick:x=>{x.stopPropagation(),r(v)},className:"absolute -top-1 -right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-sm hover:bg-red-600 hover:scale-110 z-10",children:f.jsx(Rr,{className:"w-3 h-3"})})]},v))})]})},jU=({product:t,onClose:e,onSave:n,onUpload:r})=>{var P;const{t:i}=Ur(),{formatCurrency:a}=vn(),[s,o]=R.useState(0),[l,c]=R.useState(t.name||""),[u,d]=R.useState(t.description||""),[h,p]=R.useState(t.images||[]),[g,y]=R.useState(!1);R.useEffect(()=>{const _=E=>{E.key==="Escape"&&e()};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[e]),R.useEffect(()=>{c(t.name||""),d(t.description||""),p(t.images||[]),o(0)},[t]);const v=async()=>{y(!0),await n({...t,name:l,description:u,images:h}),y(!1)},x=async _=>{if(_.target.files&&_.target.files.length>0){const E=await r(Array.from(_.target.files));E&&p([...h,...E])}},b=async _=>{if(window.confirm(i("productPicture.modal.confirmDeleteImage"))){const E=h.filter((N,A)=>A!==_);p(E),s>=E.length&&E.length>0?o(E.length-1):E.length===0&&o(0),y(!0),await n({...t,images:E,name:l,description:u}),y(!1)}},w=h.length>0?h[s]:((P=t.images)==null?void 0:P[0])||t.image,S=typeof w=="string"?w:(w==null?void 0:w.url)||"https://via.placeholder.com/600",k=()=>{const _=document.createElement("a");_.href=S,_.download=`product-${t.sku}-${s}.jpg`,document.body.appendChild(_),_.click(),document.body.removeChild(_)};return f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:[f.jsx("div",{className:"absolute inset-0",onClick:e}),f.jsxs("div",{className:"relative w-full max-w-5xl bg-white dark:bg-slate-800 rounded-2xl shadow-2xl overflow-hidden flex flex-col md:flex-row max-h-[90vh]",children:[f.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-50 p-2 bg-white/50 dark:bg-black/50 hover:bg-white dark:hover:bg-black rounded-full text-slate-800 dark:text-white transition-all backdrop-blur",children:f.jsx(Rr,{className:"w-5 h-5"})}),f.jsxs("div",{className:"w-full md:w-2/3 bg-slate-100 dark:bg-slate-900 flex flex-col p-6 overflow-hidden",children:[f.jsx("div",{className:"flex-1 min-h-0",children:f.jsx(nje,{images:h,currentIndex:s,onChange:o,onDelete:b,onDownload:k})}),f.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-800 flex justify-between items-center",children:[f.jsxs("div",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:[h.length," ",i("productPicture.modal.images")]}),f.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-bold text-slate-700 dark:text-slate-200 hover:text-accent hover:border-accent cursor-pointer transition-all shadow-sm active:scale-95",children:[f.jsx(_E,{className:"w-4 h-4"}),f.jsx("span",{children:i("productPicture.modal.addPhoto")}),f.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:x})]})]})]}),f.jsxs("div",{className:"w-full md:w-1/3 p-6 flex flex-col h-full bg-white dark:bg-slate-800 border-l border-slate-100 dark:border-slate-700 overflow-y-auto",children:[f.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(Fa,{className:"w-5 h-5 text-accent"}),i("productPicture.modal.details")]}),f.jsxs("div",{className:"space-y-6 flex-1",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:i("productPicture.modal.productTitle")}),f.jsx("input",{type:"text",value:l,onChange:_=>c(_.target.value),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl font-bold text-slate-800 dark:text-white focus:ring-2 focus:ring-accent outline-none transition-all",placeholder:i("productPicture.modal.enterTitle")})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:i("productPicture.modal.description")}),f.jsx("textarea",{value:u,onChange:_=>d(_.target.value),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 focus:ring-2 focus:ring-accent outline-none transition-all resize-none h-32",placeholder:i("productPicture.modal.enterDescription")})]}),f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:i("productPicture.modal.sellingPrice")}),f.jsx("span",{className:"text-xl font-black text-slate-800 dark:text-white",children:a(t.sellingPriceIQD||t.price||0)})]}),f.jsx("div",{className:"p-2 bg-accent/10 rounded-lg",children:f.jsx(yL,{className:"w-5 h-5 text-accent"})})]})]}),f.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100 dark:border-slate-700",children:f.jsx("button",{onClick:v,disabled:g||!l.trim(),className:"w-full py-3.5 bg-accent text-white font-bold rounded-xl shadow-accent transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",children:g?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),i("common.saving")]}):f.jsxs(f.Fragment,{children:[f.jsx(wE,{className:"w-5 h-5"}),i("settings.saveChanges")]})})})]})]})]})},p2=({limit:t,onChange:e})=>{const{t:n}=Ur(),{appearance:r}=vn(),[i,a]=R.useState(!1),[s,o]=R.useState(![50,100,500,1e3].includes(t)),l=R.useRef(null),c=R.useRef(null),u=[50,100,500,1e3];R.useEffect(()=>{const p=g=>{l.current&&!l.current.contains(g.target)&&a(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const d=p=>{p==="custom"?o(!0):(o(!1),e(Number(p)),a(!1))},h=p=>{const g=Number(p.target.value);g>0&&e(g)};return f.jsxs("div",{className:"relative",ref:l,children:[f.jsxs("button",{onClick:()=>a(!i),className:`flex items-center gap-1.5 px-3 h-[44px] rounded-2xl border-2 transition-all font-bold text-[11px] outline-none ${i?"bg-accent/10 border-accent/30 text-accent shadow-[0_0_15px_-3px_rgba(0,0,0,0.1)]":["liquid","default_glass"].includes(r==null?void 0:r.theme)?"bg-white/40 dark:bg-slate-800/40 backdrop-blur-md border-white/20 dark:border-slate-700/50 text-slate-500 hover:bg-white/60 dark:hover:bg-slate-700/60":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-800 text-slate-500 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[f.jsx(fL,{className:"w-4 h-4"}),f.jsxs("span",{className:"truncate",children:[n("common.showRows")||"Rows",": ",t]}),f.jsx(Il,{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`})]}),i&&f.jsx("div",{className:"absolute top-full end-0 mt-2 z-50 w-48 animate-in fade-in zoom-in-95 duration-200",children:f.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden py-2 ${["liquid","default_glass"].includes(r==null?void 0:r.theme)?"glass-panel":""}`,children:[u.map(p=>f.jsx("button",{onClick:()=>d(p),className:`w-full text-start px-4 py-2 text-sm font-semibold hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors ${t===p&&!s?"text-accent bg-accent/5":"text-slate-600 dark:text-slate-300"}`,children:p},p)),f.jsxs("div",{className:"px-2 pt-2 mt-2 border-t border-slate-100 dark:border-slate-700",children:[f.jsx("button",{onClick:()=>d("custom"),className:`w-full text-start px-2 py-1.5 text-xs font-black uppercase tracking-widest ${s?"text-accent":"text-slate-400"}`,children:n("common.custom")||"Custom"}),s&&f.jsx("div",{className:"px-2 pb-2",children:f.jsx("input",{ref:c,type:"number",value:t,onChange:h,className:"w-full mt-1 px-3 py-2 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-bold outline-none focus:border-accent transition-all dark:text-white",placeholder:"Value...",autoFocus:!0})})]})]})})]})},m2=(t,e=null)=>{if(!t||t.length===0)return"";const n=e||Object.keys(t[0]),r=n.map(a=>`"${a}"`).join(","),i=t.map(a=>n.map(s=>{let o=a[s];return typeof o=="object"&&o!==null&&(o=JSON.stringify(o)),o==null&&(o=""),`"${String(o).replace(/"/g,'""')}"`}).join(","));return[r,...i].join(`
`)},g2=(t,e)=>{const n="\uFEFF",r=new Blob([n+t],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),a=URL.createObjectURL(r);i.setAttribute("href",a),i.setAttribute("download",e),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a)},rje=(t,e=null)=>{if(!t||t.length===0)return;const n=t.map(a=>{var s,o,l,c,u,d,h;return{"Order ID":a.orderId||a._id,Date:a.date,Status:a.status,"Customer Name":((s=a.customer)==null?void 0:s.name)||"","Customer Phone":((o=a.customer)==null?void 0:o.phone)||"","Customer Email":((l=a.customer)==null?void 0:l.email)||"","Customer Address":((c=a.customer)==null?void 0:c.address)||"",Governorate:((u=a.customer)==null?void 0:u.governorate)||"","Social Platform":((d=a.customer)==null?void 0:d.social)||"","Items Count":((h=a.items)==null?void 0:h.length)||0,Subtotal:a.subtotal||a.total,"Discount %":a.discount||0,Total:a.total,Notes:a.notes||""}}),r=m2(n),i=e||`orders_export_${new Date().toISOString().split("T")[0]}.csv`;g2(r,i)},ije=(t,e=null)=>{if(!t||t.length===0)return;const n=t.map(a=>({Name:a.name,Phone:a.phone,Email:a.email||"",Address:a.address||"",Governorate:a.governorate||"","Social Platform":a.social||"",Notes:a.notes||"","Created On":a.createdOn||""})),r=m2(n),i=e||`customers_export_${new Date().toISOString().split("T")[0]}.csv`;g2(r,i)},aje=(t,e=null)=>{if(!t||t.length===0)return;const n=t.map(a=>({Name:a.name,SKU:a.sku,Category:a.category,Stock:a.stock,Status:a.status,"Selling Price (IQD)":a.sellingPriceIQD||a.price,"Unit Price ($)":a.unitPriceUSD||a.unitPrice,"Profit per Unit (IQD)":a.profitPerUnitIQD||0,"Units Sold":a.unitsSold||0,"Total Profit (IQD)":a.totalProfitIQD||0})),r=m2(n),i=e||`products_export_${new Date().toISOString().split("T")[0]}.csv`;g2(r,i)},Wm=t=>{const e=Number(t);return e<=0?"Out of Stock":e<10?"Low Stock":"In Stock"},O$=t=>Math.round(t/500)*500,sje=["In Stock","Low Stock","Out of Stock"],C$=({status:t})=>{const{t:e}=Ur(),n=i=>{switch(i){case"In Stock":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400";case"Low Stock":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";case"Out of Stock":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-200"}},r=i=>{switch(i){case"In Stock":return e("products.stockStatus.instock");case"Low Stock":return e("products.stockStatus.lowstock");case"Out of Stock":return e("products.stockStatus.outofstock");default:return i}};return f.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold ${n(t)}`,children:r(t)})},oje=()=>{const{t,i18n:e}=Ur(),{products:n,addProduct:r,updateProduct:i,deleteProduct:a,categories:s,addCategory:o,updateCategory:l,deleteCategory:c,formatCurrency:u,loading:d,brand:h,addToast:p,appearance:g,setIsModalOpen:y}=vn(),[v,x]=R.useState(""),[b,w]=R.useState([]),[S,k]=R.useState([]),[P,_]=R.useState(!1),[E,N]=R.useState(!1),[A,C]=R.useState(!1);R.useEffect(()=>(y(P||E||A),()=>y(!1)),[P,E,A,y]);const[j,O]=R.useState(100),[M,$]=R.useState(null),[L,W]=R.useState(null),[F,U]=R.useState({key:null,direction:"ascending"}),G=R.useRef(null),Q={name:"",sku:"",category:"",unitPrice:"",price:"",stock:"",status:"In Stock",images:[],alibabaProductLink:"",alibabaMessageLink:"",alibabaOrderLink:"",alibabaOrderNumber:"",unitPriceUSD:"",exchangeRate:"1380",unitPriceIQD:0,additionalFeesIQD:"",shippingToIraqIQD:"",marginPercent:"",sellingPriceIQD:0,profitPerUnitIQD:0,unitsSold:0,totalProfitIQD:0,alibabaFeeUSD:"",isSellingPriceOverridden:!1,costPriceIQD_total:0,costPriceIQD_perUnit:0,recommendedSellingPriceIQD_perUnit:0,alibabaNote:"",description:"",profitPerUnitUSD:0,totalProfitUSD:0},[B,ae]=R.useState(Q),[ge,ye]=R.useState(""),[Z,te]=R.useState(!1),de=R.useMemo(()=>{const H={};return n.forEach(ue=>{ue.category&&(H[ue.category]=(H[ue.category]||0)+1)}),s.map(ue=>({value:ue,label:ue,count:H[ue]||0})).sort((ue,he)=>he.count-ue.count)},[s,n]),ne=R.useMemo(()=>{const H={};return n.forEach(ue=>{ue.status&&(H[ue.status]=(H[ue.status]||0)+1)}),sje.map(ue=>({value:ue,label:t(`products.stockStatus.${ue.replace(/\s/g,"").toLowerCase()}`),count:H[ue]||0}))},[n,t]),X=R.useMemo(()=>{let H=[...n];return F.key&&H.sort((ue,he)=>{let ke=ue[F.key],Be=he[F.key];return typeof ke=="string"&&(ke=ke.toLowerCase()),typeof Be=="string"&&(Be=Be.toLowerCase()),ke<Be?F.direction==="ascending"?-1:1:ke>Be?F.direction==="ascending"?1:-1:0}),H},[n,F]).filter(H=>{const ue=H.name.toLowerCase().includes(v.toLowerCase())||H.sku.toLowerCase().includes(v.toLowerCase()),he=b.length===0||b.includes(H.category),ke=S.length===0||S.includes(H.status);return ue&&he&&ke}).slice(0,j),ee=H=>{let ue="ascending";F.key===H&&F.direction==="ascending"&&(ue="descending"),U({key:H,direction:ue})};R.useEffect(()=>{const H=parseFloat(B.unitPriceUSD)||0,ue=parseFloat(B.alibabaFeeUSD)||0,he=parseInt(B.stock)||0,ke=parseFloat(B.exchangeRate)||1320,Be=parseFloat(B.shippingToIraqIQD)||0,bn=parseFloat(B.additionalFeesIQD)||0,Wn=parseFloat(B.marginPercent)||0,Br=parseInt(B.unitsSold)||0,wn=(H+ue)*he*ke+Be+bn,_n=he>0?wn/he:0,pi=_n*(1+Wn/100),Cn=O$(pi);ae(q=>{let ce=q.sellingPriceIQD;q.isSellingPriceOverridden||(ce=Cn);const me=(parseFloat(ce)||0)-_n,Re=me*Br,ht=ke>0?me/ke:0,Ge=ht*Br;return q.costPriceIQD_total===wn&&q.costPriceIQD_perUnit===_n&&q.recommendedSellingPriceIQD_perUnit===Cn&&q.sellingPriceIQD===ce&&q.profitPerUnitIQD===me&&q.totalProfitIQD===Re&&q.profitPerUnitUSD===ht&&q.totalProfitUSD===Ge?q:{...q,costPriceIQD_total:wn,costPriceIQD_perUnit:_n,recommendedSellingPriceIQD_perUnit:Cn,sellingPriceIQD:ce,profitPerUnitIQD:me,totalProfitIQD:Re,profitPerUnitUSD:ht,totalProfitUSD:Ge,unitPrice:H,price:ce}})},[B.unitPriceUSD,B.alibabaFeeUSD,B.stock,B.exchangeRate,B.shippingToIraqIQD,B.additionalFeesIQD,B.marginPercent,B.unitsSold,B.isSellingPriceOverridden]);const xe=()=>{$(null),ae(Q),_(!0)},Ce=H=>{$(H),ae({...Q,...H,images:H.images||[]}),_(!0)},He=H=>{window.confirm(t("products.confirmDelete"))&&a(H)},$e=H=>{const{name:ue,value:he}=H.target;if(ue==="category"&&he==="new")te(!0),ae(ke=>({...ke,category:""}));else if(ue==="sellingPriceIQD"){const ke=he===""?"":parseFloat(he);ae(Be=>({...Be,sellingPriceIQD:ke,isSellingPriceOverridden:!0}))}else ae(ke=>({...ke,[ue]:he}))},tn=()=>{ae(H=>{if(!H.isSellingPriceOverridden)return H;const ue=O$(parseFloat(H.sellingPriceIQD)||0),he=H.costPriceIQD_perUnit,ke=he>0?(ue/he-1)*100:0;return{...H,sellingPriceIQD:ue,marginPercent:ke.toFixed(2)}})},st=H=>{const ue=Array.from(H.target.files);ue.length!==0&&ue.forEach(he=>{const ke=new FileReader;ke.onloadend=()=>{ae(Be=>({...Be,images:[...Be.images,ke.result]}))},ke.readAsDataURL(he)})},dt=H=>{const ue=B.images.filter((he,ke)=>ke!==H);ae(he=>({...he,images:ue}))},V=H=>{if(H.preventDefault(),parseFloat(B.marginPercent)>=100){p(t("products.marginTooHigh"),"error");return}const ue={...B,unitPriceUSD:parseFloat(B.unitPriceUSD)||0,alibabaFeeUSD:parseFloat(B.alibabaFeeUSD)||0,exchangeRate:parseFloat(B.exchangeRate)||1380,additionalFeesIQD:parseFloat(B.additionalFeesIQD)||0,shippingToIraqIQD:parseFloat(B.shippingToIraqIQD)||0,marginPercent:parseFloat(B.marginPercent)||0,unitsSold:parseInt(B.unitsSold)||0,stock:parseInt(B.stock)||0,status:Wm(B.stock),unitPrice:parseFloat(B.unitPriceUSD)||0,price:B.sellingPriceIQD||0,images:B.images||[]};M?i({...ue,_id:M._id}):r(ue),_(!1)},Y=({column:H,label:ue,border:he=!1})=>{const ke=F.key===H;return f.jsx("th",{onClick:()=>ee(H),className:`px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors select-none ${he?"border-s dark:border-slate-700":""}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[ue,ke&&f.jsx("span",{className:"text-[var(--brand-color)] font-bold",children:F.direction==="ascending"?"":""})]})})};return f.jsxs(Wu,{title:t("products.title"),children:[f.jsxs("div",{className:"flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[f.jsxs("button",{onClick:xe,className:"flex items-center gap-2 px-6 py-2.5 text-white rounded-xl font-bold transition-all bg-accent shadow-accent hover:brightness-110 active:scale-95",children:[f.jsx(Ks,{className:"w-5 h-5"}),f.jsx("span",{children:t("products.addProduct")})]}),f.jsxs("button",{onClick:()=>{if(X.length===0)return p(t("common.noDataToExport"),"info");aje(X)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 text-white rounded-xl font-bold transition-all shadow-lg hover:bg-green-700 active:scale-95",children:[f.jsx(wv,{className:"w-5 h-5"}),f.jsx("span",{className:"hidden sm:inline",children:t("common.exportCSV")})]}),f.jsxs("button",{onClick:()=>N(!0),className:"flex items-center gap-2 px-6 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700 active:scale-95",children:[f.jsx(bE,{className:"w-4 h-4"}),f.jsx("span",{children:t("products.manageCategories")})]})]}),f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[(b.length>0||S.length>0||v)&&f.jsx("button",{onClick:()=>{x(""),w([]),k([])},className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsx(p2,{limit:j,onChange:O}),f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(Fa,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:X.length})," ",t("products.title")]})]})]})]}),f.jsxs("div",{className:"flex gap-3 w-full flex-wrap items-center",children:[f.jsxs("div",{className:"relative min-w-[200px] flex-1 md:flex-none h-[44px]",children:[f.jsx(Lu,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("products.searchPlaceholder"),value:v,onChange:H=>x(H.target.value),className:"ps-10 pe-4 py-0 h-full w-full bg-white dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-800 rounded-2xl outline-none focus:border-accent/40 focus:ring-4 focus:ring-accent/10 transition-all font-bold text-sm text-slate-700 dark:text-white"})]}),f.jsx(Pi,{title:t("products.categories"),options:de,selectedValues:b,onChange:w,icon:Kc,showProductCount:!0}),f.jsx(Pi,{title:t("products.status"),options:ne,selectedValues:S,onChange:k,icon:Gn,showSearch:!1})]})]}),E&&f.jsx(tje,{categories:s,products:n,onClose:()=>N(!1),onAdd:o,onUpdate:l,onDelete:c}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[f.jsx("div",{className:"hidden sm:block overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:[f.jsx(Y,{column:"name",label:t("products.table.product")}),f.jsx(Y,{column:"category",label:t("products.table.category")}),f.jsx(Y,{column:"stock",label:t("products.table.stock"),border:!0}),f.jsx(Y,{column:"sellingPriceIQD",label:t("products.table.price"),border:!0}),f.jsx(Y,{column:"status",label:t("products.table.status"),border:!0}),f.jsx("th",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:t("common.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:d?Array.from({length:5}).map((H,ue)=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(Fe,{className:"w-12 h-12 rounded-xl"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{className:"w-24 h-4"}),f.jsx(Fe,{className:"w-16 h-3"})]})]})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(Fe,{className:"w-20 h-6 rounded-lg"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(Fe,{className:"w-12 h-5"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(Fe,{className:"w-24 h-5"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(Fe,{className:"w-20 h-6 rounded-full"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(Fe,{className:"w-16 h-8 ms-auto rounded-lg"})})]},ue)):X.length===0?f.jsx("tr",{children:f.jsxs("td",{colSpan:"6",className:"text-center py-12 text-slate-400",children:[f.jsx(Fa,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:t("products.noProducts")})]})}):X.map(H=>f.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 rounded-xl overflow-hidden bg-slate-100 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 flex-shrink-0 cursor-zoom-in hover:brightness-90 transition-all shadow-sm",onClick:()=>{W(H),C(!0)},children:f.jsx(ti,{src:H.images&&H.images[0]?typeof H.images[0]=="string"?H.images[0]:H.images[0].url:H.imageUrl||"https://via.placeholder.com/150",alt:H.name,className:"w-full h-full object-cover"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-bold text-slate-800 dark:text-white",children:H.name}),f.jsx("p",{className:"text-xs font-mono text-slate-400 uppercase tracking-tighter",children:H.sku})]})]})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("span",{className:"px-2.5 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-lg text-xs font-bold",children:H.category})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-sm font-bold text-slate-800 dark:text-white",children:H.stock})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-sm font-black text-slate-800 dark:text-white",children:u(H.sellingPriceIQD||H.price||0)})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx(C$,{status:Wm(H.stock)})}),f.jsx("td",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-end gap-1",children:[f.jsx("button",{onClick:()=>Ce(H),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all",title:t("common.edit"),children:f.jsx(Ys,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>He(H._id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",title:t("common.delete"),children:f.jsx(Yc,{className:"w-4 h-4"})})]})})]},H._id))})]})}),f.jsx("div",{className:"block sm:hidden p-4 space-y-3",children:d?Array.from({length:3}).map((H,ue)=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-4 flex gap-4",children:[f.jsx(Fe,{className:"w-16 h-16 rounded-xl flex-shrink-0"}),f.jsxs("div",{className:"flex-1 space-y-3",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{className:"w-32 h-4"}),f.jsx(Fe,{className:"w-20 h-3"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{className:"w-16 h-4"}),f.jsx(Fe,{className:"w-12 h-3"})]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx(Fe,{className:"w-20 h-3"}),f.jsx(Fe,{className:"w-16 h-8 rounded-lg"})]})]})]},ue)):X.length===0?f.jsxs("div",{className:"text-center py-12 text-slate-400",children:[f.jsx(Fa,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:t("products.noProducts")})]}):X.map(H=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-4 flex items-start gap-4",children:[f.jsx("div",{className:"w-16 h-16 rounded-xl overflow-hidden bg-slate-100 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 flex-shrink-0",children:f.jsx(ti,{src:H.images&&H.images[0]?typeof H.images[0]=="string"?H.images[0]:H.images[0].url:H.imageUrl||"https://via.placeholder.com/150",alt:H.name,className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-bold text-slate-800 dark:text-white",children:H.name}),f.jsxs("p",{className:"text-xs text-slate-400",children:[H.sku,"  ",f.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-slate-100 dark:bg-slate-700",children:H.category})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-sm font-black text-slate-800 dark:text-white",children:u(H.sellingPriceIQD||H.price||0)}),f.jsx("div",{className:"text-[10px] text-slate-400",children:Wm(H.stock)})]})]}),f.jsxs("div",{className:"flex items-center justify-between mt-3",children:[f.jsxs("div",{className:"text-[11px] text-slate-600",children:[t("products.table.stock"),": ",f.jsx("span",{className:"font-bold",children:H.stock})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>Ce(H),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-all",title:t("common.edit"),children:f.jsx(Ys,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>He(H._id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",title:t("common.delete"),children:f.jsx(Yc,{className:"w-4 h-4"})})]})]})]})]},H._id))})]}),P&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-black/50 backdrop-blur-sm p-2 sm:p-4 overflow-y-auto",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-2xl w-full max-w-2xl my-4 sm:my-8 animate-in fade-in zoom-in duration-200 flex flex-col relative max-h-[90vh]",children:[f.jsxs("div",{className:"px-6 py-5 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-white dark:bg-slate-800 sticky top-0 z-20 rounded-t-3xl",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white uppercase tracking-tight",children:t(M?"products.editProduct":"products.addProduct")}),f.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:M?`${t("products.sku")}: ${B.sku}`:t("products.fillInfo")})]}),f.jsx("button",{onClick:()=>_(!1),className:"w-10 h-10 flex items-center justify-center text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-all",children:f.jsx(Rr,{className:"w-6 h-6"})})]}),f.jsxs("form",{id:"productForm",onSubmit:V,className:"overflow-y-auto p-6 space-y-8 custom-scrollbar relative",children:[f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.basicInfo")}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.productName")}),f.jsx("input",{required:!0,name:"name",value:B.name,onChange:$e,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none dark:text-white transition-all",placeholder:t("products.form.productNamePlaceholder")})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.sku")}),f.jsx("input",{required:!0,name:"sku",value:B.sku,onChange:$e,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none dark:text-white transition-all",placeholder:t("products.form.skuPlaceholder")})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.category")}),f.jsx(Ea,{title:t("products.form.selectCategory"),options:s.map(H=>({value:H,label:H})),selectedValue:B.category,onChange:H=>ae(ue=>({...ue,category:H})),icon:Kc,showSearch:!1,customAction:{label:t("products.form.createCategory"),icon:Ks,onClick:()=>N(!0)}})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.stock")}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{required:!0,type:"number",name:"stock",value:B.stock,onChange:$e,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none dark:text-white transition-all shadow-sm"}),f.jsx("div",{className:"absolute end-3 top-1/2 -translate-y-1/2",children:f.jsx(C$,{status:Wm(B.stock)})})]})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.alibabaSourcing")}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.productLink")}),f.jsx("input",{name:"alibabaProductLink",value:B.alibabaProductLink,onChange:$e,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium",placeholder:"https://..."})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.messageLink")}),f.jsx("input",{name:"alibabaMessageLink",value:B.alibabaMessageLink,onChange:$e,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium",placeholder:"https://..."})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.orderLink")}),f.jsx("input",{name:"alibabaOrderLink",value:B.alibabaOrderLink,onChange:$e,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium",placeholder:"https://..."})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.alibabaOrderNo")}),f.jsx("input",{name:"alibabaOrderNumber",value:B.alibabaOrderNumber,onChange:$e,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-bold shadow-sm",placeholder:"1234..."})]}),f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.alibabaNote")}),f.jsxs("div",{className:"relative",children:[f.jsx(Jq,{className:"absolute start-3 top-3 w-4 h-4 text-slate-400"}),f.jsx("textarea",{name:"alibabaNote",value:B.alibabaNote,onChange:$e,className:"w-full ps-10 pe-4 py-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium min-h-[80px] resize-none",placeholder:t("products.form.notePlaceholder")})]})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.costAndPricing")}),f.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.unitPrice")}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute start-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:"$"}),f.jsx("input",{required:!0,type:"number",step:"0.01",name:"unitPriceUSD",value:B.unitPriceUSD,onChange:$e,className:"w-full ps-7 p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.alibabaFee")}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute start-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:"$"}),f.jsx("input",{type:"number",step:"0.01",name:"alibabaFeeUSD",value:B.alibabaFeeUSD,onChange:$e,className:"w-full ps-7 p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.exchangeRate")}),f.jsx("input",{required:!0,type:"number",name:"exchangeRate",value:B.exchangeRate,onChange:$e,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.margin")}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{required:!0,type:"number",name:"marginPercent",value:B.marginPercent,onChange:$e,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"}),f.jsx("span",{className:"absolute end-3 top-1/2 -translate-y-1/2 text-slate-400",children:"%"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.shippingIQD")}),f.jsx("input",{type:"number",name:"shippingToIraqIQD",value:B.shippingToIraqIQD,onChange:$e,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.otherFeesIQD")}),f.jsx("input",{type:"number",name:"additionalFeesIQD",value:B.additionalFeesIQD,onChange:$e,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none"})]}),f.jsxs("div",{className:"col-span-2 grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:t("products.form.costTotal")}),f.jsxs("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:["IQD ",(B.costPriceIQD_total||0).toLocaleString()]})]}),f.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:t("products.form.costPerUnit")}),f.jsxs("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:["IQD ",(B.costPriceIQD_perUnit||0).toLocaleString()]})]})]}),f.jsxs("div",{className:"col-span-full grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-1",children:t("products.form.recommendedPrice")}),f.jsxs("span",{className:"text-xl font-bold text-slate-600 dark:text-slate-400",children:["IQD ",(B.recommendedSellingPriceIQD_perUnit||0).toLocaleString()]})]}),f.jsxs("div",{className:`p-4 rounded-2xl border-2 transition-all ${B.isSellingPriceOverridden?"bg-orange-50 border-orange-200 dark:bg-orange-900/10 dark:border-orange-800/50":"bg-[var(--brand-color)]/5 border-[var(--brand-color)]/20"}`,children:[f.jsxs("div",{className:"flex justify-between items-start mb-1",children:[f.jsx("span",{className:"text-[10px] font-bold text-[var(--brand-color)] uppercase tracking-wider",children:t("products.form.finalPrice")}),B.isSellingPriceOverridden&&f.jsxs("button",{type:"button",onClick:()=>ae(H=>({...H,isSellingPriceOverridden:!1})),className:"text-[10px] font-bold text-orange-600 hover:underline flex items-center gap-1",children:[f.jsx(Rr,{className:"w-3 h-3"})," ",t("common.reset")]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg font-black text-[var(--brand-color)]",children:"IQD"}),f.jsx("input",{type:"number",name:"sellingPriceIQD",value:B.sellingPriceIQD,onChange:$e,onBlur:tn,className:"w-full bg-transparent border-b-2 border-[var(--brand-color)] animate-pulse-slow outline-none text-2xl font-black text-[var(--brand-color)]"})]}),f.jsx("p",{className:"text-[10px] text-slate-400 mt-1 font-medium italic",children:B.isSellingPriceOverridden?t("products.form.manualOverride"):t("products.form.autoCalculated")})]})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.profitAnalysis")}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("div",{className:"w-2 h-4 bg-green-500 rounded-full"}),f.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-slate-400",children:t("products.form.iqdAnalysis")})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1",children:t("products.form.profitPerUnit")}),f.jsxs("span",{className:`text-lg font-black ${B.profitPerUnitIQD>=0?"text-green-600 dark:text-green-400":"text-red-500"}`,children:[B.profitPerUnitIQD>=0?"+":"-"," IQD ",Math.abs(B.profitPerUnitIQD||0).toLocaleString()]})]}),f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1",children:t("products.form.totalProfit")}),f.jsxs("span",{className:`text-lg font-black ${B.totalProfitIQD>=0?"text-green-500":"text-red-400"}`,children:["IQD ",(B.totalProfitIQD||0).toLocaleString()]})]})]})]}),f.jsxs("div",{className:"p-4 bg-slate-900 dark:bg-slate-950 rounded-2xl border border-slate-800",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("div",{className:"w-2 h-4 bg-blue-500 rounded-full"}),f.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:t("products.form.usdAnalysis")})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:t("products.form.profitPerUnit")}),f.jsxs("span",{className:`text-lg font-black ${B.profitPerUnitUSD>=0?"text-blue-500":"text-red-400"}`,children:[B.profitPerUnitUSD>=0?"+":"-"," $",Math.abs(B.profitPerUnitUSD||0).toFixed(2)]})]}),f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:t("products.form.totalProfit")}),f.jsxs("span",{className:`text-lg font-black ${B.totalProfitUSD>=0?"text-blue-400":"text-red-400"}`,children:["$",(B.totalProfitUSD||0).toFixed(2)]})]})]})]}),f.jsxs("div",{className:"col-span-full p-4 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-lg",children:f.jsx(Gn,{className:"w-4 h-4 text-slate-500"})}),f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:t("products.form.qtyCalculation")}),f.jsx("span",{className:"text-xs font-medium text-slate-500 italic",children:t("products.form.unitsExpected")})]})]}),f.jsx("input",{type:"number",name:"unitsSold",value:B.unitsSold,onChange:$e,className:"w-24 text-right p-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg outline-none text-base font-black text-accent focus:ring-2 focus:ring-accent/20"})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-100 dark:border-slate-700 pb-2",children:t("products.form.generalInfo")}),f.jsx("div",{className:"space-y-4",children:f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.description")}),f.jsxs("div",{className:"relative",children:[f.jsx(dL,{className:"absolute left-3 top-3 w-4 h-4 text-slate-400"}),f.jsx("textarea",{name:"description",value:B.description,onChange:$e,className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium min-h-[120px] resize-none",placeholder:t("products.form.descriptionPlaceholder")})]})]})})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-100 dark:border-slate-700 pb-2",children:t("products.form.gallery")}),f.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[B.images.map((H,ue)=>f.jsxs("div",{className:"relative group aspect-square rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 group",children:[f.jsx(ti,{src:H,alt:"Product",className:"w-full h-full",imageClassName:"w-full h-full object-cover"}),f.jsx("button",{type:"button",onClick:()=>dt(ue),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity transform hover:scale-110",children:f.jsx(Rr,{className:"w-3 h-3"})})]},ue)),f.jsxs("button",{type:"button",onClick:()=>{var H;return(H=G.current)==null?void 0:H.click()},className:"aspect-square rounded-xl border-2 border-dashed border-slate-300 dark:border-slate-700 flex flex-col items-center justify-center text-slate-400 hover:border-[var(--brand-color)] hover:text-[var(--brand-color)] transition-all hover:bg-slate-50 dark:hover:bg-slate-900 group",children:[f.jsx(_E,{className:"w-5 h-5 mb-1 group-hover:scale-110 transition-transform"}),f.jsx("span",{className:"text-[9px] font-black uppercase",children:t("products.form.addImage")})]})]}),f.jsx("input",{type:"file",ref:G,className:"hidden",onChange:st,multiple:!0,accept:"image/*"})]}),f.jsx("div",{className:"h-20"})]}),f.jsxs("div",{className:"p-6 border-t border-slate-100 dark:border-slate-700 flex flex-col sm:flex-row justify-end gap-3 sticky bottom-0 bg-white dark:bg-slate-800 rounded-b-2xl shadow-[0_-10px_20px_rgba(0,0,0,0.05)] z-20",children:[f.jsx("button",{type:"button",onClick:()=>_(!1),className:"order-2 sm:order-1 px-6 py-2.5 text-slate-500 dark:text-slate-400 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 rounded-xl transition-all",children:t("common.cancel")}),f.jsxs("button",{type:"submit",form:"productForm",className:"order-1 sm:order-2 px-8 py-2.5 text-white font-black rounded-xl transition-all bg-accent shadow-accent active:scale-95 flex items-center justify-center gap-2",children:[f.jsx(wE,{className:"w-5 h-5"}),t(M?"products.update":"products.create")]})]})]})}),A&&L&&f.jsx(jU,{product:L,onClose:()=>{C(!1),W(null)},onSave:i,onUpload:async H=>H.map(ue=>URL.createObjectURL(ue))})]})},RU=({title:t,options:e,selectedValue:n,onChange:r,icon:i})=>{var d;const{appearance:a}=vn(),[s,o]=R.useState(!1),l=R.useRef(null);R.useEffect(()=>{const h=p=>{l.current&&!l.current.contains(p.target)&&o(!1)};return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[]);const c=h=>{r(h),o(!1)},u=((d=e.find(h=>h.value===n))==null?void 0:d.label)||t;return f.jsxs("div",{className:"relative",ref:l,children:[f.jsxs("button",{onClick:()=>o(!s),className:`flex items-center gap-1.5 px-3 h-[44px] rounded-2xl border-2 transition-all font-bold text-[11px] outline-none ${s?"bg-accent/10 border-accent/30 text-accent shadow-[0_0_15px_-3px_rgba(0,0,0,0.1)]":["liquid","default_glass"].includes(a==null?void 0:a.theme)?"bg-white/40 dark:bg-slate-800/40 backdrop-blur-md border-white/20 dark:border-slate-700/50 text-slate-500 hover:bg-white/60 dark:hover:bg-slate-700/60":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-800 text-slate-500 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[i?f.jsx(i,{className:"w-4 h-4"}):f.jsx(bE,{className:"w-4 h-4"}),f.jsx("span",{className:"truncate max-w-[120px]",children:u}),f.jsx(Il,{className:`w-4 h-4 transition-transform ${s?"rotate-180":""}`})]}),s&&f.jsx("div",{className:"absolute top-full start-0 mt-2 z-50 w-72 animate-in fade-in zoom-in-95 duration-200",children:f.jsxs("div",{className:`rounded-2xl shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col w-full min-w-[240px] transition-all ${["liquid","default_glass"].includes(a==null?void 0:a.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:[f.jsx("div",{className:"px-4 py-3 pb-2 flex items-center justify-between",children:f.jsx("div",{className:"flex items-center gap-3",children:f.jsx("h3",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:t})})}),f.jsx("div",{className:"flex-1 px-2 pb-2 space-y-1 max-h-64 overflow-y-auto",children:e.map(h=>{const p=n===h.value;return f.jsx("div",{onClick:()=>c(h.value),className:`flex items-center justify-between px-3 py-2.5 rounded-xl cursor-pointer transition-all group ${p?"bg-accent/10":["liquid","default_glass"].includes(a==null?void 0:a.theme)?"hover:bg-white/20 dark:hover:bg-slate-700/30":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:f.jsx("span",{className:`text-sm font-semibold ${p?"text-accent":"text-slate-600 dark:text-slate-300"}`,children:h.label})},h.value)})})]})})]})},j$=({order:t,onUpdate:e})=>{const[n,r]=R.useState(!1),i=z.useRef(null);z.useEffect(()=>{const c=u=>{i.current&&!i.current.contains(u.target)&&r(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const{t:a}=Ur(),s=c=>{switch(c){case"Processing":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"Completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"Cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";case"Pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";default:return"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-300"}},o=c=>{c!==t.status&&e({...t,status:c}),r(!1)},l=c=>a(`common.status.${c.toLowerCase()}`,c);return f.jsxs("div",{className:"relative",ref:i,children:[f.jsxs("button",{onClick:()=>r(!n),className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold transition-all hover:brightness-95 active:scale-95 ${s(t.status)}`,children:[l(t.status),f.jsx("div",{className:`w-0 h-0 border-s-[3px] border-s-transparent border-t-[4px] border-t-current border-e-[3px] border-e-transparent opacity-50 ${document.dir==="rtl"?"me-1":"ms-1"}`})]}),n&&f.jsx("div",{className:`absolute top-full mt-1 w-32 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-slate-100 dark:border-slate-700 py-1 z-50 animate-in fade-in zoom-in-95 duration-100 ${document.dir==="rtl"?"end-0":"start-0"}`,children:["Processing","Completed","Cancelled","Pending"].map(c=>f.jsx("button",{onClick:()=>o(c),className:`w-full text-start px-3 py-2 text-xs font-bold hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${t.status===c?"text-accent bg-slate-50 dark:bg-slate-700/30":"text-slate-600 dark:text-slate-300"}`,children:l(c)},c))})]})},lje=()=>{var _r,wn,_n,pi,Cn;const{t}=Ur(),{orders:e,products:n,customers:r,addOrder:i,updateOrder:a,deleteOrder:s,addCustomer:o,formatCurrency:l,brand:c,loading:u,appearance:d,addToast:h,setIsModalOpen:p}=vn(),[g,y]=R.useState(""),[v,x]=R.useState(!1),[b,w]=R.useState(!1),[S,k]=R.useState(null),[P,_]=R.useState(null),[E,N]=R.useState(!1);R.useEffect(()=>(p(v||b),()=>p(!1)),[v,b,p]);const[A,C]=R.useState(100),j=R.useMemo(()=>e.length===0?OP(new Date,30):e.reduce((q,ce)=>{try{const me=Ta(ce.date);return me<q?me:q}catch{return q}},new Date),[e]),O=R.useMemo(()=>({from:j,to:new Date}),[j]),[M,$]=R.useState(O),[L,W]=R.useState(!1);z.useEffect(()=>{!u&&e.length>0&&!L&&($(O),W(!0))},[u,e.length,O,L]);const[F,U]=R.useState([]),[G,Q]=R.useState([]),[B,ae]=R.useState([]),[ge,ye]=R.useState("date-new"),[Z,te]=R.useState({column:"date",direction:"desc"}),de=R.useMemo(()=>{const q={};return e.forEach(ce=>{var Re;const me=(Re=ce.customer)==null?void 0:Re.governorate;me&&(q[me]=(q[me]||0)+1)}),sp.map(ce=>({value:ce,label:ce,count:q[ce]||0})).sort((ce,me)=>me.count-ce.count)},[e]),ne=R.useMemo(()=>{const q={};return e.forEach(ce=>{var Re;const me=(Re=ce.customer)==null?void 0:Re.social;me&&(q[me]=(q[me]||0)+1)}),op.map(ce=>({value:ce,label:ce,count:q[ce]||0})).sort((ce,me)=>me.count-ce.count)},[e]),_e=R.useMemo(()=>{const q={};return e.forEach(ce=>{const me=ce.status;me&&(q[me]=(q[me]||0)+1)}),["Processing","Completed","Cancelled","Pending"].map(ce=>({value:ce,label:t(`common.status.${ce.toLowerCase()}`,ce),count:q[ce]||0}))},[e,t]),[ie,X]=R.useState({customerId:"new",customerName:"",customerPhone:"",customerGender:"",customerAddress:"",customerGovernorate:"",customerSocial:"",customerNotes:"",items:[],discount:0}),[ee,xe]=R.useState(""),[Ce,He]=R.useState(1),$e=R.useMemo(()=>e.filter(me=>{const Re=g.toLowerCase(),ht=me.orderId.toLowerCase().includes(Re)||me.customer.name.toLowerCase().includes(Re),Ge=Ta(me.date),lr=!(M!=null&&M.from)||!(M!=null&&M.to)||Qh(Ge,{start:M.from,end:M.to}),ba=F.length===0||F.includes(me.customer.governorate),Lt=G.length===0||G.includes(me.customer.social),Vl=B.length===0||B.includes(me.status);return ht&&lr&&ba&&Lt&&Vl}).sort((me,Re)=>{let ht=0;return Z.column==="orderId"?ht=me.orderId.localeCompare(Re.orderId):Z.column==="customer"?ht=me.customer.name.localeCompare(Re.customer.name):Z.column==="date"?ht=new Date(me.date)-new Date(Re.date):Z.column==="total"?ht=me.total-Re.total:Z.column==="status"&&(ht=me.status.localeCompare(Re.status)),Z.direction==="asc"?ht:-ht}).slice(0,A),[e,g,F,G,B,ge,M,Z,A]),tn=q=>{ye(q),q==="date-new"?te({column:"date",direction:"desc"}):q==="date-old"?te({column:"date",direction:"asc"}):q==="total-high"?te({column:"total",direction:"desc"}):q==="total-low"?te({column:"total",direction:"asc"}):q==="name-asc"&&te({column:"customer",direction:"asc"})},st=()=>{if(!ee)return;const q=n.find(Lt=>Lt._id===ee);if(!q)return;const ce=parseInt(Ce),me=e.find(Lt=>Lt._id===P),Re=me==null?void 0:me.items.find(Lt=>Lt.product._id===q._id),ht=Re?Re.quantity:0,Ge=q.stock+ht;if(ce>Ge)return h(t("orders.stockError",{available:Ge}),"error");const lr=ie.items.findIndex(Lt=>Lt.product._id===q._id),ba=q.sellingPriceIQD||q.price||0;if(lr>-1){const Lt=[...ie.items],Vl=Lt[lr].quantity+ce;if(Vl>Ge)return h(t("orders.limitReached",{available:Ge}),"error");Lt[lr].quantity=Vl,X(Ux=>({...Ux,items:Lt}))}else X(Lt=>({...Lt,items:[...Lt.items,{product:q,quantity:ce,price:ba}]}));He(1),xe("")},dt=q=>{const ce=ie.items.filter((me,Re)=>Re!==q);X(me=>({...me,items:ce}))},V=(q,ce)=>{const me=[...ie.items];me[q].price=parseFloat(ce||0),X(Re=>({...Re,items:me}))},Y=(q,ce)=>{ie.items[q].product;const me=parseInt(ce||0),Re=[...ie.items];Re[q].quantity=me,X(ht=>({...ht,items:Re}))},H=q=>q.reduce((ce,me)=>ce+me.price*me.quantity,0),ue=()=>{const q=H(ie.items),ce=q*(ie.discount/100);let me=q-ce;return me=Math.ceil(me/500)*500,me},he=q=>{if(X(ce=>({...ce,customerId:q})),q==="new")X(ce=>({...ce,customerName:"",customerPhone:"",customerGender:"",customerAddress:"",customerGovernorate:"",customerSocial:""}));else if(q){const ce=r.find(me=>me._id===q);ce&&X(me=>({...me,customerName:ce.name,customerPhone:ce.phone,customerGender:ce.gender||"",customerAddress:ce.address,customerGovernorate:ce.governorate,customerSocial:ce.social}))}},ke=q=>{w(!1),_(q._id);const ce=r.find(me=>me.name===q.customer.name&&me.phone===q.customer.phone);X({customerId:ce?ce._id:"new",customerName:q.customer.name,customerPhone:q.customer.phone,customerGender:q.customer.gender||"",customerAddress:q.customer.address||"",customerGovernorate:q.customer.governorate||"",customerSocial:q.customer.social||"",customerNotes:q.notes||"",items:q.items,discount:q.discount||0}),x(!0)},Be=q=>{k(q),w(!0)},bn=async()=>{if(ie.items.length===0)return h(t("orders.addItemsError"),"error");if(!ie.customerName||!ie.customerPhone)return h(t("orders.customerError"),"error");const q=e.find(ce=>ce._id===P);for(const ce of ie.items){const me=n.find(lr=>lr._id===ce.product._id),Re=q==null?void 0:q.items.find(lr=>lr.product._id===ce.product._id),ht=Re?Re.quantity:0,Ge=((me==null?void 0:me.stock)||0)+ht;if(ce.quantity>Ge)return h(t("orders.stockErrorWithName",{name:ce.product.name,available:Ge}),"error")}N(!0);try{let ce={_id:ie.customerId!=="new"?ie.customerId:void 0,name:ie.customerName,phone:ie.customerPhone,gender:ie.customerGender,address:ie.customerAddress,governorate:ie.customerGovernorate,social:ie.customerSocial};if(ie.customerId==="new"){const Ge=await o({...ce,email:""});ce._id=Ge._id}const me=H(ie.items),Re=ue(),ht={customer:ce,date:P&&q?q.date:new Date().toISOString(),total:Re,subtotal:me,discount:ie.discount,status:P&&q?q.status:"Processing",items:ie.items,notes:ie.customerNotes};if(P&&q)await a({...ht,_id:P,orderId:q.orderId});else{const Ge=await i(ht);Ge&&setTimeout(()=>{try{Wn(Ge)}catch(lr){console.error("Print error:",lr)}},800)}x(!1),_(null),X({customerId:"new",customerName:"",customerPhone:"",customerGender:"",customerAddress:"",customerGovernorate:"",customerSocial:"",customerNotes:"",items:[],discount:0})}catch(ce){console.error("Order submission error:",ce),h(t("orders.errors.submitError",{message:ce.message||t("orders.errors.unknown")}),"error")}finally{N(!1)}},Wn=q=>{const ce=window.open("","","width=600,height=800"),me=document.dir==="rtl";ce.document.write(`
            <html dir="${me?"rtl":"ltr"}">
                <head>
                    <title>${t("orders.receipt.title")}</title>
                    <style>
                        body { font-family: 'Cairo', 'Courier New', monospace; padding: 20px; font-size: 14px; direction: ${me?"rtl":"ltr"}; }
                        .header { text-align: center; margin-bottom: 20px; }
                        .item { display: flex; justify-content: space-between; margin-bottom: 5px; }
                        .divider { border-top: 1px dashed black; margin: 10px 0; }
                        .totals { text-align: ${me?"left":"right"}; margin-top: 10px; }
                        .total-row { display: flex; justify-content: space-between; font-weight: bold; margin-top: 5px; }
                        .discount { color: red; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h2>${t("orders.receipt.companyName")}</h2>
                        <p>${t("orders.receipt.address")}</p>
                        <p>${t("orders.receipt.order")}: ${q.orderId||"###"}</p>
                        <p>${q.date}</p>
                    </div>
                    <div class="divider"></div>
                    <div>
                        <p><strong>${t("orders.receipt.customer")}:</strong> ${q.customer.name}</p>
                        <p><strong>${t("orders.receipt.phone")}:</strong> ${q.customer.phone||t("orders.receipt.na")}</p>
                        <p><strong>${t("orders.receipt.gov")}:</strong> ${q.customer.governorate||t("orders.receipt.na")}</p>
                    </div>
                    <div class="divider"></div>
                    <div>
                        ${q.items.map(Re=>`
                            <div class="item">
                                <span>${Re.product.name} <br> <small>x${Re.quantity} @ ${l(Re.price)}</small></span>
                                <span>${l(Re.price*Re.quantity)}</span>
                            </div>
                        `).join("")}
                    </div>
                    <div class="divider"></div>
                    <div class="totals">
                        <div class="total-row" style="font-weight: normal;">
                            <span>${t("orders.receipt.subtotal")}:</span>
                            <span>${l(q.subtotal||q.total)}</span>
                        </div>
                        ${q.discount?`
                        <div class="total-row discount" style="font-weight: normal;">
                            <span>${t("orders.receipt.discount")} (${q.discount}%):</span>
                            <span>-${l((q.subtotal||q.total)-q.total)}</span>
                        </div>
                        `:""}
                        <div class="total-row" style="font-size: 18px; margin-top: 10px;">
                            <span>${t("orders.receipt.total")}:</span>
                            <span>${l(q.total)}</span>
                        </div>
                    </div>
                    <div class="divider"></div>
                    <div style="text-align: center; margin-top: 20px;">
                        <p>${t("orders.receipt.thankYou")}</p>
                        <p>${t("orders.receipt.noReturn")}</p>
                    </div>
                </body>
            </html>
        `),ce.document.close(),ce.print()},Br=q=>{Z.column===q?te(ce=>({...ce,direction:ce.direction==="asc"?"desc":"asc"})):te({column:q,direction:"asc"})},ze=({column:q,label:ce,border:me=!1})=>{const Re=Z.column===q;return f.jsx("th",{onClick:()=>Br(q),className:`px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-600 transition-colors select-none ${me?"border-s dark:border-slate-700":""}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[ce,Re&&f.jsx("span",{className:"text-accent font-bold",children:Z.direction==="asc"?"":""})]})})};return f.jsxs(Wu,{title:t("orders.title"),children:[f.jsxs("div",{className:`flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-all ${["liquid","default_glass"].includes(d.theme)?"glass-panel":""}`,children:[f.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[f.jsxs("button",{onClick:()=>{x(!0),_(null),X({customerId:"new",customerName:"",customerPhone:"",customerAddress:"",customerGovernorate:"",customerSocial:"",customerNotes:"",items:[],discount:0})},className:"flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-xl font-bold transition-all bg-accent shadow-accent active:scale-95",children:[f.jsx(Ks,{className:"w-5 h-5"}),f.jsx("span",{children:t("orders.createOrder")})]}),f.jsxs("button",{onClick:()=>{if($e.length===0)return h(t("common.noDataToExport"),"info");rje($e)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 text-white rounded-xl font-bold transition-all shadow-lg hover:bg-green-700",children:[f.jsx(wv,{className:"w-5 h-5"}),f.jsx("span",{className:"hidden sm:inline",children:t("common.exportCSV")})]})]}),f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[(F.length>0||B.length>0||G.length>0||g||((_r=M.from)==null?void 0:_r.getTime())!==((wn=O.from)==null?void 0:wn.getTime())||((_n=M.to)==null?void 0:_n.getTime())!==((pi=O.to)==null?void 0:pi.getTime()))&&f.jsx("button",{onClick:()=>{y(""),ae([]),U([]),Q([]),$(O)},className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsx(p2,{limit:A,onChange:C}),f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(Gn,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:$e.length})," ",t("orders.title")]})]})]})]}),f.jsxs("div",{className:"flex gap-3 w-full flex-wrap items-center",children:[f.jsxs("div",{className:"relative min-w-[200px] flex-1 md:flex-none h-[44px]",children:[f.jsx(Lu,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("orders.searchPlaceholder"),value:g,onChange:q=>y(q.target.value),className:"ps-10 pe-4 py-0 h-full w-full bg-white dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-800 rounded-2xl outline-none focus:border-accent/40 focus:ring-4 focus:ring-accent/10 transition-all font-bold text-sm text-slate-700 dark:text-white"})]}),f.jsx("div",{className:"h-[44px] flex-shrink-0",children:f.jsx(CP,{range:M,onRangeChange:$,brandColor:c.color})}),f.jsx(Pi,{title:t("orders.status"),options:_e,selectedValues:B,onChange:ae,icon:Gn,showSearch:!1}),f.jsx(Pi,{title:t("orders.governorate"),options:de,selectedValues:F,onChange:U,icon:Gs,showSearch:!1}),f.jsx(Pi,{title:t("orders.socialMedia"),options:ne,selectedValues:G,onChange:Q,icon:nl,showSearch:!1}),f.jsx(RU,{title:t("common.sort"),options:[{value:"date-new",label:t("common.dateNew")},{value:"date-old",label:t("common.dateOld")},{value:"total-high",label:t("common.priceHigh")},{value:"total-low",label:t("common.priceLow")},{value:"name-asc",label:t("common.nameAZ")}],selectedValue:ge,onChange:tn})]})]}),f.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-all ${["liquid","default_glass"].includes(d.theme)?"glass-panel":""}`,children:[f.jsx("div",{className:"hidden sm:block overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-500 uppercase",children:[f.jsx(ze,{column:"orderId",label:t("orders.table.orderId")}),f.jsx(ze,{column:"customer",label:t("orders.table.customer")}),f.jsx(ze,{column:"date",label:t("orders.table.date"),border:!0}),f.jsx(ze,{column:"total",label:t("orders.table.total"),border:!0}),f.jsx(ze,{column:"status",label:t("orders.table.status"),border:!0}),f.jsx("th",{className:"ps-6 pe-6 py-4 text-end border-s dark:border-slate-700",children:t("common.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:u?Array.from({length:5}).map((q,ce)=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4",children:f.jsx(Fe,{className:"w-20 h-5"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{className:"w-32 h-5"}),f.jsx(Fe,{className:"w-24 h-3"})]})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(Fe,{className:"w-24 h-4"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(Fe,{className:"w-24 h-5"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(Fe,{className:"w-24 h-6 rounded-full"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(Fe,{className:"w-20 h-8 ms-auto rounded-lg"})})]},ce)):$e.map(q=>f.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4 text-sm font-semibold text-[var(--brand-color)]",children:q.orderId}),f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-sm font-medium text-slate-800 dark:text-white",children:q.customer.name}),f.jsxs("span",{className:"text-xs text-slate-500 flex gap-1 items-center",children:[q.customer.governorate&&f.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-1 rounded",children:q.customer.governorate}),q.customer.phone]})]})}),f.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 dark:text-slate-400 border-s dark:border-slate-700",children:q.date}),f.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-800 dark:text-white border-s dark:border-slate-700",children:l(q.total)}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx(j$,{order:q,onUpdate:a})}),f.jsx("td",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("button",{onClick:()=>Be(q),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",title:"View Details",children:f.jsx(wA,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>ke(q),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",title:"Edit Order",children:f.jsx(Ys,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>Wn(q),className:"p-2 text-slate-400 hover:text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg",title:"Print Receipt",children:f.jsx(R1,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>{window.confirm(t("orders.deleteConfirm"))&&s(q._id)},className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",title:"Delete Order",children:f.jsx(Yc,{className:"w-4 h-4"})})]})})]},q._id))})]})}),f.jsx("div",{className:"block sm:hidden p-4 space-y-3",children:u?f.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((q,ce)=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-4",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{className:"w-24 h-5"}),f.jsx(Fe,{className:"w-32 h-4"})]}),f.jsx(Fe,{className:"w-20 h-8 rounded-lg"})]}),f.jsxs("div",{className:"flex justify-between items-end",children:[f.jsx(Fe,{className:"w-24 h-3"}),f.jsx(Fe,{className:"w-24 h-6"})]})]},ce))}):$e.length===0?f.jsxs("div",{className:"text-center py-12 text-slate-400",children:[f.jsx(Gn,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:t("orders.noOrders")||t("orders.title")})]}):$e.map(q=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-4 flex items-start justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-black text-[var(--brand-color)]",children:q.orderId}),f.jsx("div",{className:"text-sm font-bold text-slate-800 dark:text-white",children:q.customer.name}),f.jsx("div",{className:"text-xs text-slate-400",children:q.date})]}),f.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[f.jsx("div",{className:"font-black text-lg",children:l(q.total)}),f.jsx("div",{children:f.jsx(j$,{order:q,onUpdate:a})}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>Be(q),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-all",children:f.jsx(wA,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>ke(q),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-all",children:f.jsx(Ys,{className:"w-4 h-4"})})]})]})]},q._id))})]}),v&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-slate-900/60 backdrop-blur-md p-2 md:p-4 overflow-y-auto",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[32px] shadow-2xl w-full max-w-5xl my-4 sm:my-8 min-h-0 flex flex-col md:flex-row overflow-hidden animate-in fade-in zoom-in duration-300 relative max-h-[90vh]",children:[f.jsxs("div",{className:"flex-1 p-4 md:p-6 border-b md:border-b-0 md:border-e border-slate-100 dark:border-slate-700 flex flex-col min-h-0 overflow-y-auto lg:overflow-visible relative z-20",children:[f.jsxs("div",{className:"sticky top-0 bg-white dark:bg-slate-800 pb-4 z-10 lg:static",children:[f.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white",children:"Add Items"}),f.jsx("div",{className:"space-y-4",children:f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:[f.jsxs("div",{className:"flex-1 w-full min-w-0",children:[f.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5 ms-1",children:t("orders.searchProduct")}),f.jsx(Ea,{title:t("orders.chooseProduct"),options:n.filter(q=>q.stock>0).map(q=>({value:q._id,label:`${q.name} (${q.stock}) - ${l(q.price)}`})),selectedValue:ee,onChange:xe,icon:Kc,placeholder:t("orders.searchPlaceholder")})]}),f.jsxs("div",{className:"w-24",children:[f.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5 ms-1",children:t("orders.qty")}),f.jsx("input",{type:"number",min:"1",value:Ce,onChange:q=>He(q.target.value),className:`w-full p-3 border-2 rounded-xl dark:bg-slate-900 dark:text-white outline-none text-center font-bold ${ee&&parseInt(Ce)>(((Cn=n.find(q=>q._id===ee))==null?void 0:Cn.stock)||0)?"border-red-500 text-red-500 ring-4 ring-red-500/10":"border-slate-100 dark:border-slate-700 focus:border-[var(--brand-color)]"}`})]}),f.jsx("button",{type:"button",onClick:st,disabled:!ee||!Ce,className:"h-[52px] px-6 text-white font-black rounded-xl transition-all bg-accent shadow-accent active:scale-95 disabled:opacity-50",children:f.jsx(Ks,{className:"w-6 h-6"})})]})})]}),f.jsx("div",{className:"flex-1 overflow-y-auto mt-6 space-y-3 custom-scrollbar min-h-[300px]",children:ie.items.length===0?f.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 border-2 border-dashed border-slate-100 dark:border-slate-700/50 rounded-3xl py-12",children:[f.jsx(Gn,{className:"w-12 h-12 mb-2 opacity-20"}),f.jsx("p",{className:"font-bold",children:t("orders.cartEmpty")}),f.jsx("p",{className:"text-xs",children:t("orders.cartEmptySub")})]}):ie.items.map((q,ce)=>f.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-900/30 rounded-2xl border border-slate-100 dark:border-slate-700/50 group hover:border-indigo-500/50 transition-all",children:[f.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[f.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-white dark:bg-slate-800 border dark:border-slate-700 shrink-0",children:f.jsx(ti,{src:q.product.images&&q.product.images[0]?typeof q.product.images[0]=="string"?q.product.images[0]:q.product.images[0].url:"",alt:q.product.name||"Product image",className:"w-full h-full",imageClassName:"w-full h-full object-cover"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h4",{className:"text-sm font-black text-slate-800 dark:text-white truncate",children:q.product.name}),f.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:t("orders.price")}),f.jsx("input",{type:"number",value:q.price,onChange:me=>V(ce,me.target.value),className:"w-24 p-1.5 text-xs font-black border-2 border-slate-100 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800 dark:text-white transition-colors focus:border-[var(--brand-color)]"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:t("orders.qty")}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"number",min:"1",value:q.quantity,onChange:me=>Y(ce,me.target.value),className:`w-16 p-1.5 text-xs font-black border-2 rounded-lg bg-white dark:bg-slate-800 dark:text-white transition-all text-center ${q.quantity>q.product.stock?"border-red-500 text-red-500 ring-4 ring-red-500/10":"border-slate-100 dark:border-slate-700 focus:border-indigo-500"}`}),q.quantity>q.product.stock&&f.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 bg-red-500 text-white text-[8px] px-1.5 py-0.5 rounded font-black whitespace-nowrap animate-bounce",children:t("orders.onlyLeft",{count:q.product.stock})})]})]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-4 ml-4",children:[f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:t("orders.subtotal")}),f.jsx("span",{className:"text-sm font-black dark:text-white",children:l(q.price*q.quantity)})]}),f.jsx("button",{onClick:()=>dt(ce),className:"p-2.5 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-all",children:f.jsx(Yc,{className:"w-4 h-4"})})]})]},ce))}),f.jsx("div",{className:"mt-8 pt-6 pb-8 border-t border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800 sticky bottom-0",children:f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsxs("div",{className:"flex justify-between items-center text-sm",children:[f.jsx("span",{className:"font-bold text-slate-400 uppercase tracking-widest text-[10px]",children:t("orders.orderSubtotal")}),f.jsx("span",{className:"font-black dark:text-white text-lg",children:l(H(ie.items))})]}),f.jsxs("div",{className:"flex justify-between items-center p-3.5 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-700",children:[f.jsxs("span",{className:"text-xs font-bold text-slate-500 flex items-center gap-2",children:[f.jsx(yL,{className:"w-4 h-4 text-accent"})," ",t("orders.applyDiscount")]}),f.jsx("div",{className:"w-48",children:f.jsx(Ea,{title:t("orders.noDiscount"),options:[0,5,10,15,20,30,40,50].map(q=>({value:q,label:q===0?t("orders.noDiscount"):t("orders.offDiscount",{percent:q})})),selectedValue:ie.discount,onChange:q=>X(ce=>({...ce,discount:q})),showSearch:!1,direction:"up"})})]}),f.jsxs("div",{className:"flex justify-between items-center pt-2",children:[f.jsx("span",{className:"font-black text-slate-800 dark:text-white uppercase tracking-tighter text-sm",children:t("orders.grandTotal")}),f.jsx("span",{className:"font-black text-3xl text-accent",children:l(ue())})]})]})})]}),f.jsxs("div",{className:"w-full md:w-1/3 p-4 bg-slate-50 dark:bg-slate-900/50 flex flex-col min-h-0 border-t md:border-t-0 md:border-l border-slate-100 dark:border-slate-700 relative z-10",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-lg font-black text-slate-800 dark:text-white uppercase tracking-tighter",children:t("orders.customerInfo")}),f.jsx("button",{onClick:()=>x(!1),className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-white rounded-lg hover:bg-white dark:hover:bg-slate-800 transition-colors",children:f.jsx(Rr,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"space-y-2 flex-1 overflow-y-auto pr-1 custom-scrollbar",children:[f.jsx("div",{className:"space-y-2",children:f.jsx(Ea,{title:t("orders.chooseCustomer"),options:r.map(q=>({value:q._id,label:q.name})),selectedValue:ie.customerId,onChange:he,icon:xf,placeholder:t("orders.searchCustomers"),customAction:{label:t("orders.createNewCustomer"),icon:Ks,onClick:()=>he("new")}})}),f.jsxs("div",{className:`space-y-2 transition-all duration-300 ${ie.customerId?"opacity-100 pointer-events-auto":"opacity-30 pointer-events-none grayscale"}`,children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.fullName")}),f.jsx("input",{placeholder:"e.g. Ahmed Ali",value:ie.customerName,onChange:q=>X({...ie,customerName:q.target.value}),className:"w-full p-2 border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm text-sm",disabled:ie.customerId!=="new"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.phone")}),f.jsx("input",{placeholder:"07XX XXX XXXX",value:ie.customerPhone,onChange:q=>X({...ie,customerPhone:q.target.value}),className:"w-full p-2 border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm text-sm",disabled:ie.customerId!=="new"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.gender")}),f.jsx(Ea,{title:t("common.select"),options:[{value:"Male",label:t("common.male")},{value:"Female",label:t("common.female")}],selectedValue:ie.customerGender,onChange:q=>X({...ie,customerGender:q}),showSearch:!1,disabled:ie.customerId!=="new"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.governorate")}),f.jsx(Ea,{title:t("common.select"),options:sp.map(q=>({value:q,label:q})),selectedValue:ie.customerGovernorate,onChange:q=>X({...ie,customerGovernorate:q}),icon:Gs,showSearch:!1,disabled:ie.customerId!=="new"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.social")}),f.jsx(Ea,{title:t("common.select"),options:op.map(q=>({value:q,label:q})),selectedValue:ie.customerSocial,onChange:q=>X({...ie,customerSocial:q}),icon:nl,showSearch:!1,disabled:ie.customerId!=="new"})]})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.shippingAddress")}),f.jsx("textarea",{placeholder:"House/District/Street...",value:ie.customerAddress,onChange:q=>X({...ie,customerAddress:q.target.value}),className:"w-full p-2 text-xs border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm resize-none",disabled:ie.customerId!=="new",rows:"1"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.internalNotes")}),f.jsx("textarea",{placeholder:"Special instructions...",value:ie.customerNotes,onChange:q=>X({...ie,customerNotes:q.target.value}),className:"w-full p-2 text-xs border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm resize-none",rows:"2"})]})]})]}),f.jsx("div",{className:"mt-auto pt-2 border-t border-slate-100 dark:border-slate-700",children:f.jsx("button",{onClick:bn,disabled:E||ie.items.length===0||ie.items.some(q=>{const ce=n.find(Ge=>Ge._id===q.product._id),me=e.find(Ge=>Ge._id===P),Re=me==null?void 0:me.items.find(Ge=>Ge.product._id===q.product._id),ht=Re?Re.quantity:0;return q.quantity>((ce==null?void 0:ce.stock)||0)+ht}),className:"w-full py-3 bg-accent text-white rounded-2xl font-black shadow-accent active:scale-[0.98] transition-all disabled:opacity-50 disabled:grayscale flex items-center justify-center gap-3",children:E?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),t("common.saving")]}):f.jsxs(f.Fragment,{children:[f.jsx(Gn,{className:"w-5 h-5"}),t(P?"orders.updateOrder":"orders.saveOrder")]})})})]})]})}),b&&S&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center sticky top-0 bg-white dark:bg-slate-800 z-10",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t("orders.orderDetails")}),f.jsxs("p",{className:"text-sm text-slate-500",children:[S.orderId,"  ",S.date]})]}),f.jsx("button",{onClick:()=>w(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:f.jsx(Rr,{className:"w-6 h-6"})})]}),f.jsxs("div",{className:"p-6 space-y-6",children:[f.jsxs("div",{className:"flex justify-between items-start bg-slate-50 dark:bg-slate-700/30 p-4 rounded-xl",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-2",children:t("orders.customerInfo")}),f.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:S.customer.name}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:S.customer.phone}),f.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:[S.customer.address,", ",S.customer.governorate]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-2",children:t("orders.orderStatus")}),f.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-bold ${S.status==="Completed"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:S.status})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-3",children:t("orders.orderItems")}),f.jsx("div",{className:"space-y-3",children:S.items.map((q,ce)=>f.jsxs("div",{className:"flex justify-between items-center border-b border-slate-100 dark:border-slate-700 pb-3 last:border-0 last:pb-0",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-12 h-12 bg-slate-100 dark:bg-slate-700 rounded-lg overflow-hidden flex-shrink-0",children:f.jsx(ti,{src:q.product.images&&q.product.images[0]?typeof q.product.images[0]=="string"?q.product.images[0]:q.product.images[0].url:"",alt:q.product.name||"Product image",className:"w-full h-full object-cover",fallback:f.jsx("div",{className:"flex items-center justify-center w-full h-full text-slate-400 text-xs",children:"No Img"})})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:q.product.name}),f.jsxs("p",{className:"text-xs text-slate-500",children:[q.quantity," x ",l(q.price)]})]})]}),f.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:l(q.price*q.quantity)})]},ce))})]}),f.jsx("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:f.jsxs("div",{className:"flex justify-end space-y-2 flex-col items-end",children:[f.jsxs("div",{className:"flex gap-8 text-sm",children:[f.jsxs("span",{className:"text-slate-500",children:[t("orders.subtotal"),":"]}),f.jsx("span",{className:"font-medium text-slate-800 dark:text-white",children:l(S.subtotal||S.total)})]}),S.discount>0&&f.jsxs("div",{className:"flex gap-8 text-sm text-red-500",children:[f.jsxs("span",{children:[t("orders.discount")," (",S.discount,"%):"]}),f.jsxs("span",{children:["-",l((S.subtotal||S.total)-S.total)]})]}),f.jsxs("div",{className:"flex gap-8 text-lg font-bold pt-2",children:[f.jsxs("span",{className:"text-slate-800 dark:text-white",children:[t("orders.table.total"),":"]}),f.jsx("span",{className:"text-accent",children:l(S.total)})]})]})}),f.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-slate-100 dark:border-slate-700",children:[f.jsxs("button",{onClick:()=>Wn(S),className:"px-4 py-2 bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-800 dark:text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[f.jsx(R1,{className:"w-4 h-4"})," ",t("orders.printReceipt")]}),f.jsxs("button",{onClick:()=>ke(S),className:"px-4 py-2 bg-accent text-white rounded-lg font-medium transition-all shadow-accent hover:brightness-110 active:scale-95 flex items-center gap-2",children:[f.jsx(Ys,{className:"w-4 h-4"})," ",t("orders.editOrder")]})]})]})]})})]})},cje=()=>{const{t}=Ur(),{customers:e,orders:n,addCustomer:r,updateCustomer:i,formatCurrency:a,brand:s,addToast:o,loading:l,appearance:c,setIsModalOpen:u}=vn(),[d,h]=R.useState(""),[p,g]=R.useState([]),[y,v]=R.useState([]),[x,b]=R.useState(!1),[w,S]=R.useState(!1);R.useEffect(()=>(u(x||w),()=>u(!1)),[x,w,u]);const[k,P]=R.useState("orders-high"),_=R.useMemo(()=>e.length===0?OP(new Date,90):e.reduce((V,Y)=>{try{const H=Y.createdOn?Ta(Y.createdOn):new Date;return H<V?H:V}catch{return V}},new Date),[e]),E=R.useMemo(()=>({from:_,to:new Date}),[_]),[N,A]=R.useState(E),[C,j]=R.useState(!1);R.useEffect(()=>{e.length>0&&!C&&(A({from:_,to:new Date}),j(!0))},[e.length,C,_]);const[O,M]=R.useState(null),[$,L]=R.useState(null),[W,F]=R.useState(null),[U,G]=R.useState({column:"orders",direction:"desc"}),[Q,B]=R.useState("table"),[ae,ge]=R.useState(100),ye=V=>{U.column===V?G(Y=>({...Y,direction:Y.direction==="asc"?"desc":"asc"})):G({column:V,direction:"asc"})},Z=({column:V,label:Y,border:H=!1})=>{const ue=U.column===V;return f.jsx("th",{onClick:()=>ye(V),className:`px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors select-none ${H?"border-s dark:border-slate-700":""}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[Y,ue&&f.jsx("span",{className:"text-[var(--brand-color)] font-bold",children:U.direction==="asc"?"":""})]})})},[te,de]=R.useState({name:"",email:"",phone:"",address:"",governorate:"",social:"",notes:""}),ne=R.useMemo(()=>{const V={};return e.forEach(Y=>{const H=Y.governorate;H&&(V[H]=(V[H]||0)+1)}),sp.map(Y=>({value:Y,label:Y,count:V[Y]||0})).sort((Y,H)=>H.count-Y.count)},[e]),_e=R.useMemo(()=>{const V={};return e.forEach(Y=>{const H=Y.social;H&&(V[H]=(V[H]||0)+1)}),op.map(Y=>({value:Y,label:Y,count:V[Y]||0})).sort((Y,H)=>H.count-Y.count)},[e]),ie=V=>n.filter(Y=>{var ue,he,ke;const H=e.find(Be=>Be._id===V);return H?((ue=Y.customer)==null?void 0:ue._id)===V||((he=Y.customer)==null?void 0:he.name)===H.name&&((ke=Y.customer)==null?void 0:ke.phone)===H.phone:!1}),X=V=>{const Y=V.createdOn||V.createdAt;if(!Y)return null;try{return typeof Y=="string"?Ta(Y):Y.toDate?Y.toDate():new Date(Y)}catch{return null}},ee=R.useMemo(()=>e.filter(H=>{const ue=H.name.toLowerCase().includes(d.toLowerCase())||H.phone.includes(d),he=X(H);let ke=!0;if(N!=null&&N.from&&(N!=null&&N.to)&&he){const Wn=$a(N.from),Br=gg(N.to);ke=he>=Wn&&he<=Br}const Be=p.length===0||p.includes(H.governorate),bn=y.length===0||y.includes(H.social);return ue&&ke&&Be&&bn}).sort((H,ue)=>{if(U.column==="name"){const he=H.name.toLowerCase(),ke=ue.name.toLowerCase();return U.direction==="asc"?he.localeCompare(ke):ke.localeCompare(he)}if(U.column==="orders"){const he=ie(H._id).length,ke=ie(ue._id).length;return U.direction==="asc"?he-ke:ke-he}if(U.column==="spent"){const he=ie(H._id).reduce((Be,bn)=>Be+bn.total,0),ke=ie(ue._id).reduce((Be,bn)=>Be+bn.total,0);return U.direction==="asc"?he-ke:ke-he}if(U.column==="governorate"){const he=(H.governorate||"").toLowerCase(),ke=(ue.governorate||"").toLowerCase();return U.direction==="asc"?he.localeCompare(ke):ke.localeCompare(he)}return 0}).slice(0,ae),[e,d,p,y,k,U,n,N,ae]),xe=V=>{P(V),V==="orders-high"?G({column:"orders",direction:"desc"}):V==="orders-low"?G({column:"orders",direction:"asc"}):V==="name-asc"?G({column:"name",direction:"asc"}):V==="date-new"&&G({column:"orders",direction:"desc"})};R.useEffect(()=>{(()=>{try{window.innerWidth<640&&Q==="table"&&B("card")}catch{}})();const Y=()=>{window.innerWidth<640&&B("card")};return window.addEventListener("resize",Y),()=>window.removeEventListener("resize",Y)},[]);const Ce=()=>{L(null),de({name:"",email:"",phone:"",address:"",governorate:"",social:"",notes:""}),b(!0)},He=V=>{L(V),de(V),b(!0)},$e=V=>{M(V),S(!0),F(null)},tn=V=>{V.preventDefault(),$?i({...te,_id:$._id}):r(te),b(!1)},st=V=>{const Y=window.open("","_blank");Y.document.write(`
            <html>
                <head>
                    <title>${t("customers.receipt.title")} ${V.orderId}</title>
                    <style>
                        body { font-family: sans-serif; padding: 20px; direction: ${document.dir}; }
                        .header { text-align: center; margin-bottom: 20px; }
                        .order-info { margin-bottom: 20px; border-bottom: 1px solid #ccc; padding-bottom: 10px; }
                        table { width: 100%; border-collapse: collapse; }
                        th, td { text-align: ${document.dir==="rtl"?"right":"left"}; padding: 8px; border-bottom: 1px solid #eee; }
                        .total { text-align: ${document.dir==="rtl"?"left":"right"}; font-weight: bold; font-size: 1.2em; margin-top: 20px; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h1>${t("customers.receipt.title")}</h1>
                        <h3>${V.orderId}</h3>
                    </div>
                    <div class="order-info">
                        <p><strong>${t("customers.receipt.customer")}:</strong> ${V.customer.name}</p>
                        <p><strong>${t("customers.receipt.date")}:</strong> ${V.date}</p>
                        <p><strong>${t("customers.receipt.status")}:</strong> ${V.status}</p>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>${t("customers.receipt.item")}</th>
                                <th>${t("customers.receipt.qty")}</th>
                                <th>${t("customers.receipt.price")}</th>
                                <th>${t("customers.receipt.total")}</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${V.items.map(H=>`
                                <tr>
                                    <td>${H.product.name}</td>
                                    <td>${H.quantity}</td>
                                    <td>${new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(H.price)}</td>
                                    <td>${new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(H.price*H.quantity)}</td>
                                </tr>
                            `).join("")}
                        </tbody>
                    </table>
                    <div class="total">
                        ${t("customers.receipt.total")}: ${new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(V.total)}
                    </div>
                    <script>window.onload = function() { window.print(); window.close(); }<\/script>
                </body>
            </html>
        `),Y.document.close()},dt=V=>{switch(V==null?void 0:V.toLowerCase()){case"facebook":return f.jsx(qq,{className:"w-4 h-4"});case"instagram":return f.jsx(Hq,{className:"w-4 h-4"});case"twitter":return f.jsx(nW,{className:"w-4 h-4"});case"tiktok":return f.jsx("div",{className:"w-4 h-4 font-bold text-xs flex items-center justify-center",children:"TT"});case"whatsapp":return f.jsx(Xq,{className:"w-4 h-4"});default:return f.jsx(nl,{className:"w-4 h-4"})}};return f.jsxs(Wu,{title:t("customers.title"),children:[f.jsxs("div",{className:`flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-all ${["liquid","default_glass"].includes(c.theme)?"glass-panel":""}`,children:[f.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[f.jsxs("button",{onClick:Ce,className:"flex items-center gap-2 px-6 py-2.5 text-white rounded-xl font-bold transition-all bg-accent shadow-accent active:scale-95",children:[f.jsx(Ks,{className:"w-5 h-5"}),f.jsx("span",{children:t("customers.addCustomer")})]}),f.jsxs("button",{onClick:()=>{if(ee.length===0)return o(t("customers.noMatch"),"info");ije(ee)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 text-white rounded-xl font-bold transition-all shadow-lg hover:bg-green-700",children:[f.jsx(wv,{className:"w-5 h-5"}),f.jsx("span",{className:"hidden sm:inline",children:t("common.exportCSV")})]}),f.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 p-1 rounded-xl border border-slate-200 dark:border-slate-600 ms-2",children:[f.jsx("button",{onClick:()=>B("table"),className:`p-1.5 rounded-lg transition-all ${Q==="table"?"bg-white dark:bg-slate-600 text-[var(--brand-color)] shadow-sm":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"}`,title:"Table View",children:f.jsx(fL,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>B("card"),className:`p-1.5 rounded-lg transition-all ${Q==="card"?"bg-white dark:bg-slate-600 text-[var(--brand-color)] shadow-sm":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"}`,title:t("customers.viewCard"),children:f.jsx(Kq,{className:"w-4 h-4"})})]})]}),f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[(p.length>0||y.length>0||d||!xc(N.from,E.from)||!xc(N.to,E.to))&&f.jsx("button",{onClick:()=>{h(""),g([]),v([]),A(E)},className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsx(p2,{limit:ae,onChange:ge}),f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(xf,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:ee.length})," ",t("customers.title")]})]})]})]}),f.jsxs("div",{className:"flex gap-3 w-full flex-wrap items-center",children:[f.jsxs("div",{className:"relative min-w-[200px] flex-1 md:flex-none h-[44px]",children:[f.jsx(Lu,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("customers.searchPlaceholder"),value:d,onChange:V=>h(V.target.value),className:"ps-10 pe-4 py-0 h-full w-full bg-slate-50 dark:bg-slate-900/50 border-2 border-slate-100 dark:border-slate-800 rounded-2xl outline-none focus:border-blue-200 dark:focus:border-blue-800 focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-bold text-sm dark:text-white"})]}),f.jsx("div",{className:"h-[44px] flex-shrink-0",children:f.jsx(CP,{range:N,onRangeChange:A,brandColor:s.color})}),f.jsx(Pi,{title:t("customers.form.governorate"),options:ne,selectedValues:p,onChange:g,icon:Gs,showSearch:!1}),f.jsx(Pi,{title:t("customers.social"),options:_e,selectedValues:y,onChange:v,icon:nl,showSearch:!1}),f.jsx(RU,{title:t("common.sort"),options:[{value:"orders-high",label:t("common.priceHigh")},{value:"orders-low",label:t("common.priceLow")},{value:"date-new",label:t("common.dateNew")},{value:"name-asc",label:t("common.nameAZ")}].map(V=>({...V,label:V.value==="orders-high"?t("customers.totalSpent")+" (High)":V.value==="orders-low"?t("customers.totalSpent")+" (Low)":V.label})),selectedValue:k,onChange:xe})]})]}),Q==="table"?f.jsx("div",{className:`rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-all ${["liquid","default_glass"].includes(c.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-start",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:[f.jsx(Z,{column:"name",label:t("customers.name")}),f.jsx(Z,{column:"governorate",label:t("customers.location"),border:!0}),f.jsx(Z,{column:"orders",label:t("customers.orders"),border:!0}),f.jsx(Z,{column:"spent",label:t("customers.totalSpent"),border:!0}),f.jsx("th",{className:"px-6 py-4 border-s dark:border-slate-700 select-none",children:t("customers.createdOn")}),f.jsx("th",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:t("customers.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:l?f.jsx("tr",{children:f.jsx("td",{colSpan:"6",className:"px-6 py-12",children:f.jsxs("div",{className:"space-y-3",children:[f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-1/3 animate-pulse"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-1/2 animate-pulse"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-2/3 animate-pulse"})]})})}):ee.length===0?f.jsx("tr",{children:f.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center text-slate-400",children:[f.jsx(xf,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:t("customers.noData")})]})}):ee.map(V=>{const Y=ie(V._id),H=Y.reduce((ue,he)=>ue+he.total,0);return f.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 dark:bg-slate-900 flex items-center justify-center text-[var(--brand-color)] font-bold text-lg border border-slate-100 dark:border-slate-800 shadow-sm",children:V.name.charAt(0)}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-bold text-slate-800 dark:text-white",children:V.name}),f.jsx("p",{className:"text-xs text-slate-400",children:V.phone})]})]})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:V.governorate}),f.jsx("span",{className:"text-[11px] text-slate-400 line-clamp-1",children:V.address})]})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 rounded-xl text-xs font-black inline-flex transition-all",style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"},children:[f.jsx(Gn,{className:"w-3.5 h-3.5"}),Y.length]})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-sm font-black text-slate-800 dark:text-white",children:a(H)})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-xs font-bold text-slate-500 whitespace-nowrap",children:X(V)?Hr(X(V),"MMM dd, yyyy"):t("orders.receipt.na")})}),f.jsx("td",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-end gap-1",children:[f.jsx("button",{onClick:()=>$e(V),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all",title:"Order History",children:f.jsx(Gn,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>He(V),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all",title:"Edit",children:f.jsx(Ys,{className:"w-4 h-4"})})]})})]},V._id)})})]})})}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-in fade-in duration-500",children:l?[1,2,3].map(V=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 p-6",children:[f.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-1/4 animate-pulse mb-4"}),f.jsx("div",{className:"h-3 bg-slate-200 dark:bg-slate-700 rounded w-1/2 animate-pulse mb-2"}),f.jsx("div",{className:"h-3 bg-slate-200 dark:bg-slate-700 rounded w-2/3 animate-pulse"})]},V)):ee.length===0?f.jsxs("div",{className:"col-span-full py-20 text-center bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700",children:[f.jsx(xf,{className:"w-16 h-16 mx-auto mb-4 text-slate-200"}),f.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-sm",children:t("customers.noMatch")})]}):ee.map(V=>{const Y=ie(V._id),H=Y.reduce((ue,he)=>ue+he.total,0);return f.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 hover:shadow-xl transition-all duration-300 group overflow-hidden flex flex-col h-full ${["liquid","default_glass"].includes(c.theme)?"glass-panel":""}`,children:f.jsxs("div",{className:"p-6 flex-1",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6",children:[f.jsx("div",{className:"w-14 h-14 rounded-2xl bg-slate-50 dark:bg-slate-900 flex items-center justify-center text-[var(--brand-color)] font-black text-xl border border-slate-100 dark:border-slate-800 group-hover:bg-indigo-50 dark:group-hover:bg-indigo-900 transition-colors",children:V.name.charAt(0)}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>$e(V),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800 transition-colors",title:"Order History",children:f.jsx(Gn,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>He(V),className:"p-2 text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800 transition-colors",title:"Edit Profile",children:f.jsx(Ys,{className:"w-4 h-4"})})]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-lg mb-2 truncate",children:V.name}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-lg text-[10px] font-black uppercase tracking-wider",children:[f.jsx(Gn,{className:"w-3 h-3"}),Y.length," ",Y.length===1?t("customers.receipt.order"):t("customers.orders")]}),f.jsx("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 rounded-lg text-[10px] font-black uppercase tracking-wider",children:a(H)})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 dark:bg-slate-900 flex items-center justify-center border border-slate-100 dark:border-slate-800 shrink-0",children:f.jsx(eW,{className:"w-4 h-4 text-slate-400"})}),f.jsx("span",{className:"font-bold",children:V.phone||"No phone"})]}),f.jsxs("div",{className:"flex items-start gap-3 text-sm text-slate-600 dark:text-slate-400",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 dark:bg-slate-900 flex items-center justify-center border border-slate-100 dark:border-slate-800 shrink-0 mt-0.5",children:f.jsx(Gs,{className:"w-4 h-4 text-slate-400"})}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300 text-xs",children:V.governorate}),f.jsx("span",{className:"text-[10px] text-slate-400 line-clamp-1",children:V.address})]})]}),V.social&&f.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 dark:bg-slate-900 flex items-center justify-center border border-slate-100 dark:border-slate-800 shrink-0",children:dt(V.social)}),f.jsx("span",{className:"text-[10px] font-black uppercase text-blue-500 tracking-wider",children:V.social})]})]})]})},V._id)})}),x&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-slate-900/80 backdrop-blur-md p-2 sm:p-4 overflow-y-auto",children:f.jsxs("div",{className:`rounded-[32px] shadow-2xl w-full max-w-md my-4 sm:my-8 flex flex-col overflow-hidden animate-in fade-in zoom-in duration-300 relative ${["liquid","default_glass"].includes(c.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:[f.jsxs("div",{className:`px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center sticky top-0 z-10 ${["liquid","default_glass"].includes(c.theme)?"bg-white/20 dark:bg-slate-900/20 backdrop-blur-md":"bg-white dark:bg-slate-800"}`,children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white",children:t($?"customers.form.edit":"customers.form.new")}),f.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:t("customers.form.sub")})]}),f.jsx("button",{onClick:()=>b(!1),className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:f.jsx(Rr,{className:"w-5 h-5 text-slate-400"})})]}),f.jsx("div",{className:"p-5 overflow-y-auto custom-scrollbar",children:f.jsx("form",{id:"customer-form",onSubmit:tn,className:"space-y-4",children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.fullName")}),f.jsx("input",{required:!0,placeholder:"Ahmed Ali",value:te.name,onChange:V=>de({...te,name:V.target.value}),className:`w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold placeholder:opacity-30 ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900"}`})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.phone")}),f.jsx("input",{required:!0,placeholder:"07XX XXX XXXX",value:te.phone,onChange:V=>de({...te,phone:V.target.value}),className:`w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold placeholder:opacity-30 ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900"}`})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.email")}),f.jsx("input",{placeholder:"customer@example.com",type:"email",value:te.email,onChange:V=>de({...te,email:V.target.value}),className:`w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold placeholder:opacity-30 ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900"}`})]})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.governorate")}),f.jsx(Ea,{title:t("common.select"),options:sp.map(V=>({value:V,label:V})),selectedValue:te.governorate,onChange:V=>de(Y=>({...Y,governorate:V})),icon:Gs,showSearch:!1})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.channel")}),f.jsx(Ea,{title:t("common.select"),options:op.map(V=>({value:V,label:V})),selectedValue:te.social,onChange:V=>de(Y=>({...Y,social:V})),icon:nl,showSearch:!1})]})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.shippingAddress")}),f.jsx("textarea",{rows:"2",placeholder:"Street name, landmark, house number...",value:te.address,onChange:V=>de({...te,address:V.target.value}),className:`w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold resize-none placeholder:opacity-30 ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900"}`})]})]})})}),f.jsx("div",{className:`p-6 pt-0 mt-auto border-t border-slate-100 dark:border-slate-700 ${["liquid","default_glass"].includes(c.theme)?"bg-white/20 dark:bg-slate-900/20 backdrop-blur-md":"bg-white dark:bg-slate-800"}`,children:f.jsxs("div",{className:"flex gap-4 pt-4",children:[f.jsx("button",{type:"button",onClick:()=>b(!1),className:"flex-1 py-3 border-2 border-slate-100 dark:border-slate-800 rounded-2xl font-black text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700 transition-all active:scale-95",children:t("common.cancel")}),f.jsx("button",{onClick:()=>document.getElementById("customer-form").requestSubmit(),className:"flex-2 py-3 text-white rounded-2xl font-black transition-all active:scale-95 bg-accent shadow-accent hover:brightness-110 flex-[2]",children:t($?"customers.form.save":"customers.form.register")})]})})]})}),w&&O&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/90 backdrop-blur-md p-4",children:f.jsxs("div",{className:`rounded-[32px] shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in slide-in-from-bottom-8 duration-500 ${["liquid","default_glass"].includes(c.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:[f.jsx("div",{className:`px-10 py-8 border-b border-slate-100 dark:border-slate-700 ${["liquid","default_glass"].includes(c.theme)?"bg-white/20 dark:bg-slate-900/20 backdrop-blur-md":"bg-white dark:bg-slate-800"}`,children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"},children:f.jsx(Gn,{className:"w-6 h-6"})}),f.jsx("h3",{className:"text-2xl font-black text-slate-900 dark:text-white",children:t("customers.history.title")})]}),f.jsxs("p",{className:"text-slate-500 font-bold uppercase text-[10px] tracking-[0.2em] ms-13",children:[t("customers.receipt.customer"),": ",f.jsx("span",{className:"text-[var(--brand-color)]",children:O.name})]})]}),f.jsx("button",{onClick:()=>S(!1),className:"w-12 h-12 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:f.jsx(Rr,{className:"w-8 h-8 text-slate-400"})})]})}),f.jsx("div",{className:"p-10 overflow-y-auto custom-scrollbar bg-slate-50 dark:bg-slate-900/50",children:ie(O._id).length===0?f.jsxs("div",{className:"text-center py-24",children:[f.jsx("div",{className:"w-24 h-24 bg-white dark:bg-slate-800 border-2 border-slate-100 dark:border-slate-700 rounded-3xl flex items-center justify-center mx-auto mb-6 text-slate-200",children:f.jsx(Gn,{className:"w-12 h-12"})}),f.jsx("h4",{className:"text-slate-400 font-black uppercase text-xs tracking-widest",children:t("customers.history.noRecords")})]}):f.jsx("div",{className:"space-y-4",children:ie(O._id).map(V=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[28px] border-2 border-slate-100 dark:border-slate-800 shadow-sm overflow-hidden transition-all hover:shadow-xl hover:border-accent group",children:[f.jsxs("div",{className:"p-6 flex items-center justify-between cursor-pointer",onClick:()=>F(W===V._id?null:V._id),children:[f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsx("div",{className:"w-14 h-14 bg-slate-50 dark:bg-slate-900 rounded-2xl flex items-center justify-center text-[var(--brand-color)] group-hover:bg-[var(--brand-color)] group-hover:text-white transition-all",children:f.jsx(Gn,{className:"w-7 h-7"})}),f.jsxs("div",{children:[f.jsx("div",{className:"font-black text-slate-900 dark:text-white text-lg",children:V.orderId}),f.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:V.date})]})]}),f.jsxs("div",{className:"flex items-center gap-8",children:[f.jsxs("div",{className:"text-end",children:[f.jsx("div",{className:"font-black text-slate-900 dark:text-white text-xl",children:a(V.total)}),f.jsx("div",{className:`text-[10px] font-black uppercase px-2.5 py-1 rounded-lg inline-block mt-1 ${V.status==="Completed"?"bg-emerald-50 text-emerald-600 border border-emerald-100":V.status==="Processing"?"bg-amber-50 text-amber-600 border border-amber-100":"bg-slate-50 text-slate-600 border border-slate-100"}`,children:V.status})]}),f.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-transform ${W===V._id?"rotate-180":"bg-slate-50 dark:bg-slate-900 text-slate-300"}`,style:W===V._id?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"}:{},children:f.jsx(Il,{className:"w-6 h-6"})})]})]}),W===V._id&&f.jsxs("div",{className:"px-8 pb-8 pt-0 border-t border-slate-50 dark:border-slate-800 animate-in slide-in-from-top-4 duration-300",children:[f.jsx("div",{className:"grid grid-cols-1 gap-3 mt-6",children:V.items.map((Y,H)=>f.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-900/80 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"w-12 h-12 bg-white dark:bg-slate-800 rounded-xl flex items-center justify-center font-black text-sm text-[var(--brand-color)] border border-slate-100 dark:border-slate-700 shadow-sm",children:[Y.quantity,""]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-black text-slate-800 dark:text-white block text-sm",children:Y.product.name}),f.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[a(Y.price)," ",t("common.perUnit")]})]})]}),f.jsx("span",{className:"font-black text-slate-900 dark:text-white",children:a(Y.price*Y.quantity)})]},H))}),f.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-100 dark:border-slate-700 flex flex-col sm:flex-row justify-between items-center gap-4",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:t("customers.history.paymentMethod")}),f.jsx("p",{className:"text-sm font-bold text-slate-700 dark:text-white",children:t("common.cashOnDelivery")})]}),f.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-700"}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:t("customers.history.itemsCount")}),f.jsxs("p",{className:"text-sm font-bold text-slate-700 dark:text-white",children:[V.items.length," ",t("customers.receipt.item")]})]})]}),f.jsxs("button",{onClick:Y=>{Y.stopPropagation(),st(V)},className:"flex items-center gap-2 px-8 py-4 bg-slate-900 dark:bg-slate-700 text-white rounded-2xl font-black text-sm transition-all shadow-xl active:scale-95 hover:brightness-125 hover:shadow-2xl",children:[f.jsx(R1,{className:"w-5 h-5"}),t("customers.history.printThermal")]})]})]})]},V._id))})})]})})]})},uje=()=>{const{t}=Ur(),{products:e,updateProduct:n,loading:r}=vn(),[i,a]=R.useState(null),[s,o]=R.useState(""),l=p=>{a(p)},c=()=>{a(null)},u=async p=>{await n(p),a(null)},d=async p=>{const g=p.map(y=>({url:URL.createObjectURL(y),file:y,name:y.name}));if(i){const y=[...i.images||[],...g],v={...i,images:y};a(v),await n(v)}return g},h=e.filter(p=>{var g;return p.name.toLowerCase().includes(s.toLowerCase())||((g=p.sku)==null?void 0:g.toLowerCase().includes(s.toLowerCase()))});return f.jsxs(Wu,{title:t("productPicture.title"),children:[f.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 mb-8",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(Fa,{className:"w-6 h-6 text-accent"}),t("productPicture.subtitle")]}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:t("productPicture.description")})]}),f.jsxs("div",{className:"relative w-full md:w-64",children:[f.jsx(Lu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("products.searchPlaceholder"),value:s,onChange:p=>o(p.target.value),className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-medium focus:ring-2 focus:ring-accent outline-none transition-all"})]})]}),r?f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:8}).map((p,g)=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-3 shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsx(Fe,{className:"aspect-[4/5] w-full rounded-2xl mb-4"}),f.jsxs("div",{className:"px-1 space-y-2",children:[f.jsx(Fe,{className:"h-5 w-3/4 rounded-lg"}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx(Fe,{className:"h-4 w-16"}),f.jsx(Fe,{className:"h-4 w-12"})]})]})]},g))}):f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:h.map(p=>{var v;const g=((v=p.images)==null?void 0:v[0])||p.image||"https://via.placeholder.com/400x400?text=No+Image",y=typeof g=="string"?g:g.url;return f.jsxs("div",{onClick:()=>l(p),className:"group bg-white dark:bg-slate-800 rounded-3xl p-3 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer border border-transparent hover:border-accent",children:[f.jsxs("div",{className:"aspect-[4/5] w-full rounded-2xl overflow-hidden bg-slate-100 dark:bg-slate-900 relative",children:[f.jsx(ti,{src:y,alt:p.name,className:"w-full h-full",imageClassName:"transition-transform duration-700 group-hover:scale-110"}),p.stock<=5&&f.jsx("div",{className:"absolute top-3 left-3 bg-red-500 text-white text-[10px] font-bold px-2 py-1 rounded-md shadow-md",children:t("products.stockStatus.lowStock")}),f.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"})]}),f.jsxs("div",{className:"mt-4 px-1",children:[f.jsx("h3",{className:"font-bold text-slate-800 dark:text-white truncate text-base mb-1 group-hover:text-accent transition-colors",children:p.name}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-xs font-mono font-bold text-slate-400 uppercase tracking-wider",children:p.sku||"NO-SKU"}),f.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 rounded-lg",children:p.category||"General"})]})]})]},p.id||p._id)})}),h.length===0&&!r&&f.jsxs("div",{className:"text-center py-20 text-slate-400",children:[f.jsx(Fa,{className:"w-12 h-12 mx-auto mb-4 opacity-20"}),f.jsx("p",{children:t("productPicture.noProducts")})]}),i&&f.jsx(jU,{product:i,onClose:c,onSave:u,onUpload:d})]})},dje=({image:t,onCrop:e,onClose:n,aspect:r=1})=>{const[i,a]=R.useState(1),[s,o]=R.useState(0),[l,c]=R.useState({x:0,y:0}),[u,d]=R.useState(!1),[h,p]=R.useState({x:0,y:0}),[g,y]=R.useState({width:0,height:0}),v=320,x=512,b=R.useRef(null);R.useRef(null),R.useEffect(()=>{a(1),o(0),c({x:0,y:0})},[t]);const w=N=>{const{naturalWidth:A,naturalHeight:C}=N.currentTarget;y({width:A,height:C}),a(1)},S=N=>{d(!0),p({x:N.clientX-l.x,y:N.clientY-l.y})},k=N=>{u&&(N.preventDefault(),c({x:N.clientX-h.x,y:N.clientY-h.y}))},P=()=>{d(!1)},_=()=>{const N=document.createElement("canvas"),A=N.getContext("2d"),C=b.current;N.width=x,N.height=x/r,A.clearRect(0,0,N.width,N.height),A.save();const j=x/v;A.translate(N.width/2,N.height/2),A.translate(l.x*j,l.y*j),A.rotate(s*Math.PI/180);const O=i*j;A.scale(O,O);const M=C.naturalWidth,$=C.naturalHeight;return A.imageSmoothingEnabled=!0,A.imageSmoothingQuality="high",A.drawImage(C,-M/2,-$/2,M,$),A.restore(),N.toDataURL("image/png",1)},E=()=>{const N=_();e(N)};return f.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/95 backdrop-blur-md p-4 animate-in fade-in duration-300",children:f.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl shadow-2xl w-full max-w-5xl h-[85vh] flex flex-col overflow-hidden border border-slate-200 dark:border-slate-800",children:[f.jsxs("div",{className:"px-8 py-5 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-white dark:bg-slate-900 z-20",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-xl font-black text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(Fa,{className:"w-6 h-6 text-accent"})," Editor Studio"]}),f.jsx("p",{className:"text-xs font-bold text-slate-400 mt-1 uppercase tracking-wider",children:"Customize your brand identity"})]}),f.jsx("button",{onClick:n,className:"p-1.5 text-slate-400 hover:text-slate-600 dark:hover:text-white rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:f.jsx(Rr,{className:"w-6 h-6"})})]}),f.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row overflow-hidden",children:[f.jsxs("div",{className:"flex-1 relative bg-slate-100 dark:bg-slate-950 overflow-hidden flex items-center justify-center cursor-move select-none",style:{backgroundImage:"linear-gradient(45deg, #e5e7eb 25%, transparent 25%), linear-gradient(-45deg, #e5e7eb 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #e5e7eb 75%), linear-gradient(-45deg, transparent 75% , #e5e7eb 75%)",backgroundSize:"20px 20px",backgroundPosition:"0 0, 0 10px, 10px -10px, -10px 0px"},onMouseDown:S,onMouseMove:k,onMouseUp:P,onMouseLeave:P,children:[f.jsx("div",{className:"absolute inset-0 bg-black/40 pointer-events-none z-0"}),f.jsxs("div",{className:"relative z-10 border-2 border-white/80 shadow-[0_0_0_9999px_rgba(0,0,0,0.7)] rounded-xl overflow-visible",style:{width:v,height:v/r,boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.7)"},children:[f.jsxs("div",{className:"absolute inset-0 grid grid-cols-3 grid-rows-3 pointer-events-none opacity-50",children:[f.jsx("div",{className:"border-r border-white/30 h-full col-start-2"}),f.jsx("div",{className:"border-r border-white/30 h-full col-start-3"}),f.jsx("div",{className:"border-b border-white/30 w-full row-start-2 col-span-3"}),f.jsx("div",{className:"border-b border-white/30 w-full row-start-3 col-span-3"})]}),f.jsx("div",{className:"absolute -top-1 -left-1 w-4 h-4 border-t-4 border-l-4 border-white rounded-tl-sm shadow-sm"}),f.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 border-t-4 border-r-4 border-white rounded-tr-sm shadow-sm"}),f.jsx("div",{className:"absolute -bottom-1 -left-1 w-4 h-4 border-b-4 border-l-4 border-white rounded-bl-sm shadow-sm"}),f.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 border-b-4 border-r-4 border-white rounded-br-sm shadow-sm"})]}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none overflow-hidden",children:f.jsx("img",{ref:b,src:t,alt:"To crop",onLoad:w,draggable:!1,className:"max-none transition-transform duration-75 origin-center will-change-transform",style:{transform:`translate(${l.x}px, ${l.y}px) rotate(${s}deg) scale(${i})`}})})]}),f.jsxs("div",{className:"w-full lg:w-80 bg-white dark:bg-slate-900 border-s border-slate-100 dark:border-slate-800 p-6 flex flex-col z-20 shadow-xl",children:[f.jsxs("div",{className:"space-y-8 flex-1 overflow-y-auto custom-scrollbar",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center text-sm font-bold text-slate-700 dark:text-slate-300",children:[f.jsx("span",{children:"Zoom & Scale"}),f.jsxs("span",{className:"font-mono text-accent",children:[Math.round(i*100),"%"]})]}),f.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-2xl border border-slate-100 dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>a(N=>Math.max(.1,N-.1)),className:"p-1 hover:text-accent transition-colors",children:f.jsx(iW,{className:"w-5 h-5 text-slate-400"})}),f.jsx("input",{type:"range",min:"0.1",max:"3",step:"0.01",value:i,onChange:N=>a(parseFloat(N.target.value)),className:"flex-1 h-2 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-accent"}),f.jsx("button",{onClick:()=>a(N=>Math.min(3,N+.1)),className:"p-1 hover:text-accent transition-colors",children:f.jsx(rW,{className:"w-5 h-5 text-slate-400"})})]})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Orientation"}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("button",{onClick:()=>o(N=>N-90),className:"flex items-center gap-2 px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl hover:border-accent hover:text-accent transition-all group",children:[f.jsx(SA,{className:"w-4 h-4 text-slate-500 group-hover:text-accent transition-colors"}),f.jsx("span",{className:"text-[11px] font-bold text-slate-600 dark:text-slate-400 group-hover:text-accent",children:"-90"})]}),f.jsxs("button",{onClick:()=>o(N=>N+90),className:"flex items-center gap-2 px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl hover:border-accent hover:text-accent transition-all group",children:[f.jsx(SA,{className:"w-4 h-4 text-slate-500 group-hover:text-accent transition-colors scale-x-[-1]"}),f.jsx("span",{className:"text-[11px] font-bold text-slate-600 dark:text-slate-400 group-hover:text-accent",children:"+90"})]})]}),f.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 p-3 rounded-xl border border-slate-100 dark:border-slate-700 text-center",children:f.jsxs("span",{className:"text-xs font-mono text-slate-500",children:["Current Rotation: ",s,""]})})]})]}),f.jsxs("div",{className:"pt-6 border-t border-slate-100 dark:border-slate-800 flex flex-col gap-3",children:[f.jsxs("button",{onClick:E,className:"w-full py-4 bg-accent text-white font-black rounded-2xl shadow-accent shadow-lg active:scale-[0.98] transition-all flex items-center justify-center gap-3 hover:brightness-110",children:[f.jsx(lL,{className:"w-5 h-5"}),"Apply Changes"]}),f.jsx("button",{onClick:n,className:"w-full py-3 text-slate-500 hover:text-slate-800 dark:hover:text-white font-bold transition-colors",children:"Cancel"})]})]})]})]})})},fje=()=>{var ie,X;const{t}=Ur(),{theme:e,toggleTheme:n,appearance:r,setAppearance:i,users:a,addUser:s,updateUser:o,deleteUser:l,currentUser:c,updateUserProfile:u,brand:d,updateBrand:h,addToast:p,seedData:g,language:y,changeLanguage:v}=vn(),[x,b]=R.useState("general"),[w,S]=R.useState(!1),[k,P]=R.useState(!1),[_,E]=R.useState(null),[N,A]=R.useState(null),[C,j]=R.useState(null),[O,M]=R.useState((c==null?void 0:c.displayName)||""),[$,L]=R.useState(!1);R.useEffect(()=>{c&&M(c.displayName)},[c]);const W=async()=>{try{await u({displayName:O}),L(!1),p("Profile updated successfully!","success")}catch(ee){console.error("Profile update error:",ee),p("Failed to update profile.","error")}},F=ee=>{const xe=ee.target.files[0];if(xe){if(xe.size>3*1024*1024)return p("Avatar too large. Max 3MB.","error");const Ce=new FileReader;Ce.onloadend=()=>{A(Ce.result),j("avatar")},Ce.readAsDataURL(xe)}},[U,G]=R.useState({name:d.name,color:d.color,logo:d.logo,favicon:d.favicon||null,hideHeader:d.hideHeader||!1});R.useEffect(()=>{G({name:d.name,color:d.color,logo:d.logo,favicon:d.favicon||null,hideHeader:d.hideHeader||!1})},[d]);const Q=async()=>{try{await h(U),p("Branding settings saved successfully!","success")}catch{p("Failed to save branding settings.","error")}},B=ee=>{const xe=ee.target.files[0];if(xe){if(xe.size>3*1024*1024)return p("File too large. Max 3MB.","error");const Ce=new FileReader;Ce.onloadend=()=>{A(Ce.result),j("logo")},Ce.readAsDataURL(xe)}},ae=ee=>{const xe=ee.target.files[0];if(xe){if(xe.size>512*1024)return p("Favicon too large. Max 512KB.","error");const Ce=new FileReader;Ce.onloadend=()=>{G(He=>({...He,favicon:Ce.result})),p("Favicon updated (preview). Save to persist.","success")},Ce.readAsDataURL(xe)}},ge=async ee=>{C==="avatar"?(await u({photoURL:ee}),p("Avatar updated successfully!","success")):C==="logo"&&(G(xe=>({...xe,logo:ee})),p("Logo updated successfully!","success")),A(null),j(null)},[ye,Z]=R.useState({username:"",email:"",role:"Staff",password:"",displayName:""}),te=()=>{E(null),Z({username:"",email:"",role:"Staff",password:"",displayName:""}),S(!0)},de=ee=>{E(ee),Z({...ee,password:""}),S(!0)},ne=async ee=>{ee.preventDefault();try{_?(await o({...ye,_id:_._id}),p("User updated successfully!","success")):(await s({...ye}),p("User created successfully!","success")),S(!1)}catch(xe){console.error("User management error:",xe),p("Failed to save user.","error")}},_e=async ee=>{if(window.confirm("Are you sure you want to delete this user?"))try{await l(ee),p("User deleted successfully.","success")}catch{p("Failed to delete user.","error")}};return f.jsxs(Wu,{title:"Settings",children:[f.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[f.jsx("aside",{className:"w-full lg:w-64 bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-6",children:f.jsxs("nav",{className:"space-y-2",children:[f.jsxs("button",{onClick:()=>b("general"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${x==="general"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(pL,{className:"w-5 h-5"}),t("settings.general")]}),f.jsxs("button",{onClick:()=>b("appearance"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${x==="appearance"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(_A,{className:"w-5 h-5"}),t("settings.appearance")]}),f.jsxs("button",{onClick:()=>b("branding"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${x==="branding"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(tW,{className:"w-5 h-5"}),t("settings.branding")]}),f.jsxs("button",{onClick:()=>b("users"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${x==="users"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(SE,{className:"w-5 h-5"}),t("settings.users")]})]})}),f.jsxs("div",{className:"flex-1",children:[x==="general"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:t("settings.general")}),f.jsx("div",{className:"space-y-6",children:f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("h3",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[f.jsx(nl,{className:"w-4 h-4 text-accent"}),t("settings.language")]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>v("en"),className:`flex-1 py-3 px-4 rounded-xl font-bold text-sm transition-all border-2 ${y==="en"?"border-accent bg-white dark:bg-slate-800 text-accent shadow-sm":"border-transparent bg-slate-100 dark:bg-slate-800 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:" English"}),f.jsx("button",{onClick:()=>v("ar"),className:`flex-1 py-3 px-4 rounded-xl font-bold text-sm transition-all border-2 ${y==="ar"?"border-accent bg-white dark:bg-slate-800 text-accent shadow-sm":"border-transparent bg-slate-100 dark:bg-slate-800 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:" "})]})]})})]}),x==="branding"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t("settings.branding")}),f.jsx("button",{onClick:Q,className:"px-4 py-2 text-white text-sm font-bold rounded-xl shadow-lg transition-all active:scale-95 bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.saveBranding")})]}),f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"max-w-md",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:t("settings.appName")}),f.jsx("input",{type:"text",value:U.name,onChange:ee=>G({...U,name:ee.target.value}),className:"w-full p-3 border border-slate-200 dark:border-slate-600 rounded-xl bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500/20"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-4",children:t("settings.logoAndFavicon")||"Logo & Favicon"}),f.jsxs("div",{className:"flex flex-wrap items-center gap-8",children:[f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsx("div",{className:"w-24 h-24 rounded-2xl flex items-center justify-center border border-slate-200 dark:border-slate-600 overflow-hidden bg-slate-100 dark:bg-slate-800 shadow-sm",style:{backgroundColor:r.accentType==="solid"?r.accentColor:(ie=r.accentGradient)==null?void 0:ie.start},children:U.logo?f.jsx(ti,{src:U.logo,alt:"Logo",className:"w-full h-full",imageClassName:"w-full h-full object-cover"}):f.jsx("span",{className:"text-white font-bold text-3xl",children:(U.name||"").charAt(0)})}),f.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:t("settings.logo")})]}),f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsx("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center border border-slate-200 dark:border-slate-600 overflow-hidden bg-slate-100 dark:bg-slate-800 shadow-sm",children:U.favicon?f.jsx(ti,{src:U.favicon,alt:"Favicon",className:"w-full h-full",imageClassName:"w-full h-full object-cover"}):f.jsx("div",{className:"w-8 h-8 rounded bg-slate-200 dark:bg-slate-700 animate-pulse"})}),f.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Favicon"})]}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsxs("div",{className:"flex gap-3",children:[f.jsxs("label",{className:"cursor-pointer inline-flex items-center gap-2 px-4 py-2.5 bg-accent text-white rounded-xl transition-all shadow-lg shadow-accent/20 hover:brightness-110 font-bold text-sm",children:[f.jsx(_E,{className:"w-4 h-4"}),f.jsx("span",{children:t("settings.uploadLogo")}),f.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:B})]}),f.jsxs("label",{className:"cursor-pointer inline-flex items-center gap-2 px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded-xl transition-colors font-bold text-sm border border-slate-200 dark:border-slate-600",children:[f.jsx(Fa,{className:"w-4 h-4"}),f.jsx("span",{children:t("settings.uploadFavicon")||"Upload Favicon"}),f.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:ae})]})]}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:t("settings.logoSize")}),f.jsxs("div",{className:"flex gap-4",children:[U.logo&&f.jsx("button",{onClick:()=>G({...U,logo:null}),className:"text-[11px] text-red-500 hover:text-red-600 font-bold uppercase tracking-wider",children:t("settings.removeLogo")||"Remove Logo"}),U.favicon&&f.jsx("button",{onClick:()=>G(ee=>({...ee,favicon:null})),className:"text-[11px] text-red-500 hover:text-red-600 font-bold uppercase tracking-wider",children:t("settings.removeFavicon")||"Remove Favicon"})]})]})]})]}),f.jsx("div",{className:"pt-8 border-t border-slate-100 dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-bold text-slate-800 dark:text-white",children:t("settings.appHeader")}),f.jsx("p",{className:"text-xs text-slate-500",children:t("settings.appHeaderDesc")})]}),f.jsx("button",{onClick:async()=>{const ee=!U.hideHeader;G(xe=>({...xe,hideHeader:ee})),await h({...d,hideHeader:ee})},className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none",style:{backgroundColor:U.hideHeader?"#e2e8f0":d.color},children:f.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${U.hideHeader?"translate-x-1":"translate-x-6"}`})})]})})]})]}),x==="appearance"&&f.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(_A,{className:"w-5 h-5 text-[var(--brand-color)]"}),t("settings.themeOptions")]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{id:"liquid",name:"Liquid Glass",icon:zq,desc:"Apple macOS style"},{id:"light",name:"Pro Light",icon:gL,desc:"Clean & minimal"},{id:"dark",name:"Pro Dark",icon:hL,desc:"Deep & elegant"}].map(ee=>f.jsxs("button",{onClick:()=>i({theme:ee.id}),className:`group relative flex flex-col p-4 rounded-2xl border-2 transition-all text-left ${r.theme===ee.id?"border-accent":"border-slate-100 dark:border-slate-700 hover:border-slate-200 dark:hover:border-slate-600"}`,style:r.theme===ee.id?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)"}:{},children:[f.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center mb-3 transition-colors ${r.theme===ee.id?"bg-accent text-white":"bg-slate-100 dark:bg-slate-700 text-slate-500"}`,children:f.jsx(ee.icon,{className:"w-6 h-6"})}),f.jsx("span",{className:"font-bold text-slate-800 dark:text-white",children:ee.name}),f.jsx("span",{className:"text-xs text-slate-500 mt-1",children:ee.desc}),r.theme===ee.id&&f.jsx("div",{className:"absolute top-3 right-3 w-6 h-6 bg-accent rounded-full flex items-center justify-center shadow-lg border-2 border-white dark:border-slate-800 animate-in zoom-in duration-200",children:f.jsx(uL,{className:"w-3.5 h-3.5 text-white"})})]},ee.id))})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8",children:[f.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 rounded-full bg-accent"}),t("settings.accentCustomization")]}),f.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-900 p-1 rounded-xl",children:[f.jsx("button",{onClick:()=>i({accentType:"solid"}),className:`px-4 py-1.5 rounded-lg text-sm font-bold transition-all ${r.accentType==="solid"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500"}`,children:t("settings.solid")}),f.jsx("button",{onClick:()=>i({accentType:"gradient"}),className:`px-4 py-1.5 rounded-lg text-sm font-bold transition-all ${r.accentType==="gradient"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500"}`,children:t("settings.gradient")})]})]}),f.jsx("div",{className:"space-y-8",children:r.accentType==="solid"?f.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[["#1e3a5f","#6366f1","#8b5cf6","#ec4899","#f43f5e","#f59e0b","#10b981","#06b6d4"].map(ee=>f.jsx("button",{onClick:()=>i({accentColor:ee}),className:`w-10 h-10 rounded-full border-4 transition-transform hover:scale-110 ${r.accentColor===ee?"border-white dark:border-slate-800 shadow-xl":"border-transparent"}`,style:{backgroundColor:ee}},ee)),f.jsx("div",{className:"h-8 w-[1px] bg-slate-200 dark:bg-slate-700 mx-2"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"relative group",children:[f.jsx("input",{type:"color",value:r.accentColor,onChange:ee=>i({accentColor:ee.target.value}),className:"w-10 h-10 rounded-full cursor-pointer border-0 p-0 overflow-hidden bg-transparent"}),f.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-[10px] px-2 py-0.5 rounded opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity whitespace-nowrap",children:t("settings.customColor")})]}),f.jsx("span",{className:"font-mono text-sm text-slate-500 uppercase",children:r.accentColor})]})]}):f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[{start:"#8B5CF6",end:"#3B82F6",name:"Royal"},{start:"#F472B6",end:"#FB923C",name:"Sunset"},{start:"#34D399",end:"#3B82F6",name:"Aurora"},{start:"#EC4899",end:"#8B5CF6",name:"Vibrant"}].map((ee,xe)=>f.jsxs("button",{onClick:()=>i({accentGradient:ee}),className:`flex items-center gap-3 p-3 rounded-xl border-2 transition-all ${r.accentGradient.start===ee.start&&r.accentGradient.end===ee.end?"border-accent":"border-slate-100 dark:border-slate-700 hover:border-slate-200"}`,style:r.accentGradient.start===ee.start&&r.accentGradient.end===ee.end?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)"}:{},children:[f.jsx("div",{className:"w-10 h-10 rounded-lg",style:{background:`linear-gradient(135deg, ${ee.start}, ${ee.end})`}}),f.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:ee.name})]},xe))}),f.jsxs("div",{className:"pt-6 border-t border-slate-100 dark:border-slate-700",children:[f.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-4",children:t("settings.customDualColors")}),f.jsxs("div",{className:"flex items-center gap-8",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("input",{type:"color",value:r.accentGradient.start,onChange:ee=>i({accentGradient:{...r.accentGradient,start:ee.target.value}}),className:"w-10 h-10 rounded-full cursor-pointer border-4 border-white dark:border-slate-800 shadow-lg p-0 overflow-hidden bg-transparent"}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold tracking-wider",children:t("settings.start")}),f.jsx("span",{className:"font-mono text-xs text-slate-600 dark:text-slate-400",children:r.accentGradient.start.toUpperCase()})]})]}),f.jsx("div",{className:"w-8 h-0.5 bg-slate-200 dark:bg-slate-700 rounded-full"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("input",{type:"color",value:r.accentGradient.end,onChange:ee=>i({accentGradient:{...r.accentGradient,end:ee.target.value}}),className:"w-10 h-10 rounded-full cursor-pointer border-4 border-white dark:border-slate-800 shadow-lg p-0 overflow-hidden bg-transparent"}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold tracking-wider",children:t("settings.end")}),f.jsx("span",{className:"font-mono text-xs text-slate-600 dark:text-slate-400",children:r.accentGradient.end.toUpperCase()})]})]})]})]})]})})]}),f.jsxs("div",{className:"bg-slate-100 dark:bg-slate-900 rounded-2xl p-8 flex flex-col items-center justify-center min-h-[300px] border border-slate-200 dark:border-slate-800",children:[f.jsx("p",{className:"text-sm font-bold text-slate-500 mb-8 tracking-widest uppercase",children:t("settings.livePreview")}),f.jsxs("div",{className:`w-full max-w-sm p-8 rounded-2xl transition-all glass-panel ${r.theme==="liquid"?"":"bg-white dark:bg-slate-800 shadow-xl"}`,children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h4",{className:"font-bold text-slate-800 dark:text-white",children:t("settings.contentLayoutExample")}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),f.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),f.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-4 rounded-xl border border-slate-100 dark:border-slate-700",children:[f.jsx("div",{className:"h-2 w-3/4 bg-slate-200 dark:bg-slate-700 rounded mb-2"}),f.jsx("div",{className:"h-2 w-1/2 bg-slate-200 dark:bg-slate-700 rounded"})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{className:"px-4 py-2 bg-[var(--brand-color)] text-white rounded-lg text-sm font-medium shadow-lg shadow-[var(--brand-color)]/20",children:t("settings.primaryButton")}),f.jsx("button",{className:"px-4 py-2 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-lg text-sm font-medium",children:t("common.cancel")})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:t("settings.toggleSwitch")}),f.jsx("div",{className:"w-10 h-5 bg-accent rounded-full relative",children:f.jsx("div",{className:"absolute right-1 top-1 w-3 h-3 bg-white rounded-full"})})]})]})]})]})]}),x==="account"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:t("settings.accountSettings")}),f.jsxs("div",{className:"max-w-xl space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[f.jsx("div",{className:"w-24 h-24 bg-accent/20 rounded-full flex items-center justify-center text-3xl font-bold text-accent overflow-hidden border-4 border-white dark:border-slate-800 shadow-lg",children:c!=null&&c.photoURL?f.jsx(ti,{src:c.photoURL,alt:"Avatar",className:"w-full h-full",imageClassName:"w-full h-full object-cover"}):((X=c==null?void 0:c.displayName)==null?void 0:X.charAt(0))||"U"}),f.jsxs("div",{children:[f.jsxs("label",{className:"cursor-pointer px-4 py-2 text-white text-sm font-bold rounded-xl shadow-lg transition-all inline-block hover:scale-[1.02] bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:[t("settings.changeAvatar"),f.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:F})]}),f.jsx("p",{className:"text-xs text-slate-500 mt-2",children:t("settings.avatarRecommendedSize")})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:t("settings.displayName")}),f.jsx("input",{type:"text",id:"displayName",value:O,onChange:ee=>M(ee.target.value),disabled:!$,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent transition-all disabled:bg-slate-100 dark:disabled:bg-slate-700 disabled:text-slate-500 dark:disabled:text-slate-400"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:t("settings.username")}),f.jsx("input",{type:"text",value:(c==null?void 0:c.username)||"",readOnly:!0,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 cursor-not-allowed"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:t("settings.emailAddress")}),f.jsx("input",{type:"email",value:(c==null?void 0:c.email)||"",readOnly:!0,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 cursor-not-allowed"})]}),f.jsx("div",{className:"flex justify-end pt-4",children:$?f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>{M((c==null?void 0:c.displayName)||""),L(!1)},className:"px-6 py-3 text-slate-600 dark:text-slate-300 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 rounded-xl transition-colors",children:t("common.cancel")}),f.jsx("button",{onClick:W,className:"px-6 py-3 text-white font-bold rounded-xl transition-all shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.saveChanges")})]}):f.jsx("button",{onClick:()=>L(!0),className:"px-6 py-3 text-white font-bold rounded-xl transition-all shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.editProfile")})}),f.jsxs("div",{className:"mt-12 pt-8 border-t border-slate-100 dark:border-slate-700",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(Yq,{className:"w-5 h-5 text-accent"}),t("settings.securitySettings")]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"p-6 rounded-2xl bg-slate-50 dark:bg-slate-900 border border-slate-100 dark:border-slate-800",children:[f.jsx("h4",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 mb-1",children:t("settings.password")}),f.jsx("p",{className:"text-xs text-slate-500 mb-4 leading-relaxed",children:t("settings.passwordDescription")}),f.jsx("button",{onClick:()=>P(!0),className:"w-full py-2.5 bg-accent text-white text-sm font-bold rounded-xl shadow-lg hover:brightness-110 transition-all",style:{boxShadow:"0 4px 10px -2px var(--accent-color)44"},children:t("settings.changePassword")})]}),f.jsxs("div",{className:"p-6 rounded-2xl bg-slate-50 dark:bg-slate-900 border border-slate-100 dark:border-slate-800",children:[f.jsx("h4",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 mb-1",children:"Two-Factor Authentication"}),f.jsx("p",{className:"text-xs text-slate-500 mb-4 leading-relaxed",children:"Add an extra layer of protection to your profile."}),f.jsx("button",{className:"w-full py-2.5 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 text-sm font-bold rounded-xl hover:bg-slate-300 dark:hover:bg-slate-600 transition-all",children:t("settings.enable2fa")})]})]})]})]})]}),x==="users"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t("settings.users")}),f.jsxs("button",{onClick:te,className:"flex items-center gap-2 px-4 py-2 text-white font-medium rounded-xl transition-colors shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:[f.jsx(Ks,{className:"w-5 h-5"})," ",t("settings.addUser")]})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("settings.table.user")}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("settings.table.email")}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("settings.table.role")}),f.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("common.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:a.map(ee=>{var xe,Ce;return f.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[f.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 overflow-hidden flex-shrink-0 border-2 border-white dark:border-slate-700 shadow-sm",children:ee.photoURL?f.jsx(ti,{src:ee.photoURL,alt:ee.displayName,className:"w-full h-full",imageClassName:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center bg-accent text-white font-bold",children:((xe=ee.displayName)==null?void 0:xe.charAt(0))||((Ce=ee.username)==null?void 0:Ce.charAt(0))||"U"})}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white",children:ee.displayName}),f.jsxs("div",{className:"text-xs text-slate-500",children:["@",ee.username]})]})]})}),f.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:ee.email}),f.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:f.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-bold ${ee.role==="Admin"?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300"}`,children:ee.role})}),f.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("button",{onClick:()=>de(ee),className:"p-2 text-accent hover:bg-accent/10 rounded-lg transition-all",children:f.jsx(Ys,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>_e(ee._id),className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",children:f.jsx(Yc,{className:"w-4 h-4"})})]})})]},ee._id)})})]})})]})]})]}),w&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:t(_?"settings.editUser":"settings.addNewUser")}),f.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[f.jsx("input",{required:!0,placeholder:t("settings.placeholders.displayName"),value:ye.displayName,onChange:ee=>Z({...ye,displayName:ee.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.username"),value:ye.username,onChange:ee=>Z({...ye,username:ee.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.email"),type:"email",value:ye.email,onChange:ee=>Z({...ye,email:ee.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsxs("select",{value:ye.role,onChange:ee=>Z({...ye,role:ee.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none",children:[f.jsx("option",{value:"Manager",children:"Manager"}),f.jsx("option",{value:"Staff",children:"Staff"}),f.jsx("option",{value:"Admin",children:"Admin"})]}),f.jsx("input",{placeholder:t(_?"settings.placeholders.passwordKeep":"settings.placeholders.password"),type:"password",value:ye.password,onChange:ee=>Z({...ye,password:ee.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none",required:!_}),f.jsxs("div",{className:"flex gap-3 mt-6",children:[f.jsx("button",{type:"button",onClick:()=>S(!1),className:"flex-1 py-3 text-slate-600 font-bold hover:bg-slate-100 rounded-xl transition-colors",children:t("common.cancel")}),f.jsx("button",{type:"submit",className:"flex-1 py-3 text-white font-bold rounded-xl transition-colors shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t(_?"settings.updateUser":"settings.createUser")})]})]})]})}),k&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:t("settings.changePassword")}),f.jsxs("form",{onSubmit:ee=>{ee.preventDefault(),p(t("settings.toasts.passwordChanged"),"success"),P(!1)},className:"space-y-4",children:[f.jsx("input",{required:!0,placeholder:t("settings.placeholders.currentPassword"),type:"password",className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.newPassword"),type:"password",className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.confirmPassword"),type:"password",className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsxs("div",{className:"flex gap-3 mt-6",children:[f.jsx("button",{type:"button",onClick:()=>P(!1),className:"flex-1 py-3 text-slate-600 font-bold hover:bg-slate-100 rounded-xl transition-colors",children:t("common.cancel")}),f.jsx("button",{type:"submit",className:"flex-1 py-3 text-white font-bold rounded-xl transition-colors shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.changePassword")})]})]})]})}),N&&f.jsx(dje,{image:N,onCrop:ge,onClose:()=>{A(null),j(null)},aspect:1})]})};function hje(){return f.jsx(ete,{children:f.jsx(Oq,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:f.jsxs(kq,{children:[f.jsx(vs,{path:"/",element:f.jsx(eje,{})}),f.jsx(vs,{path:"/products",element:f.jsx(oje,{})}),f.jsx(vs,{path:"/orders",element:f.jsx(lje,{})}),f.jsx(vs,{path:"/customers",element:f.jsx(cje,{})}),f.jsx(vs,{path:"/product-picture",element:f.jsx(uje,{})}),f.jsx(vs,{path:"/settings",element:f.jsx(fje,{})}),f.jsx(vs,{path:"*",element:f.jsx(_q,{to:"/",replace:!0})})]})})})}const{slice:pje,forEach:mje}=[];function gje(t){return mje.call(pje.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function yje(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const R$=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,vje=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let a=`${t}=${i}`;if(r.maxAge>0){const s=r.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(s)}`}if(r.domain){if(!R$.test(r.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${r.domain}`}if(r.path){if(!R$.test(r.path))throw new TypeError("option path is invalid");a+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(a+="; Partitioned"),a},M$={create(t,e,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=vje(t,e,i)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var xje={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return M$.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:a}=e;n&&typeof document<"u"&&M$.create(n,t,r,i,a)}},bje={name:"querystring",lookup(t){var r;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const s=i.substring(1).split("&");for(let o=0;o<s.length;o++){const l=s[o].indexOf("=");l>0&&s[o].substring(0,l)===e&&(n=s[o].substring(l+1))}}return n}},wje={name:"hash",lookup(t){var i;let{lookupHash:e,lookupFromHashIndex:n}=t,r;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const s=a.substring(1);if(e){const o=s.split("&");for(let l=0;l<o.length;l++){const c=o[l].indexOf("=");c>0&&o[l].substring(0,c)===e&&(r=o[l].substring(c+1))}}if(r)return r;if(!r&&n>-1){const o=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?(i=o[typeof n=="number"?n:0])==null?void 0:i.replace("/",""):void 0}}}return r}};let Xl=null;const $$=()=>{if(Xl!==null)return Xl;try{if(Xl=typeof window<"u"&&window.localStorage!==null,!Xl)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Xl=!1}return Xl};var _je={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&$$())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&$$()&&window.localStorage.setItem(n,t)}};let Jl=null;const D$=()=>{if(Jl!==null)return Jl;try{if(Jl=typeof window<"u"&&window.sessionStorage!==null,!Jl)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Jl=!1}return Jl};var Sje={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&D$())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&D$()&&window.sessionStorage.setItem(n,t)}},kje={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let a=0;a<n.length;a++)e.push(n[a]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},Eje={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},Tje={name:"path",lookup(t){var i;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},Pje={name:"subdomain",lookup(t){var i,a;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&((a=(i=window.location)==null?void 0:i.hostname)==null?void 0:a.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let MU=!1;try{document.cookie,MU=!0}catch{}const $U=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];MU||$U.splice(1,1);const Nje=()=>({order:$U,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class DU{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=gje(n,this.options||{},Nje()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(xje),this.addDetector(bje),this.addDetector(_je),this.addDetector(Sje),this.addDetector(kje),this.addDetector(Eje),this.addDetector(Tje),this.addDetector(Pje),this.addDetector(wje)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.filter(r=>r!=null&&!yje(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}DU.type="languageDetector";const Aje={mainMenu:"Main Menu",dashboard:"Dashboard",inventory:"Inventory",productPicture:"Product Picture",orders:"Orders",customers:"Customers",settings:"Settings",logout:"Logout"},Ije={welcome:"Welcome back,",admin:"Admin",switchMode:"Switch to {{mode}} mode",activityLogs:"Activity Logs",new:"New",viewAllActivity:"View All Activity"},Oje={defaultName:"User",defaultRole:"Staff"},Cje={loading:"Loading...",error:"Error",success:"Success",save:"Save",saving:"Saving...",cancel:"Cancel",delete:"Delete",edit:"Edit",view:"View",search:"Search...",actions:"Actions",noData:"No data found",noDataToExport:"No data to export",clearFilters:"Clear Filters",exportCSV:"Export CSV",print:"Print",confirmDelete:"Are you sure you want to delete this?",yes:"Yes",no:"No",status:{processing:"Processing",completed:"Completed",cancelled:"Cancelled",pending:"Pending",shipped:"Shipped",delivered:"Delivered",returned:"Returned"},sort:"Sort",dateNew:"Newest First",dateOld:"Oldest First",priceHigh:"Highest Price",priceLow:"Lowest Price",nameAZ:"Name (A-Z)",male:"Male",female:"Female",showRows:"Show Rows",custom:"Custom",select:"Select...",cashOnDelivery:"Cash on Delivery",perUnit:"per unit"},jje={title:"Dashboard",live:"Live Dashboard",totalRevenue:"Total Revenue",revenueTrend:"Revenue Trend",totalOrders:"Total Orders",ordersPlaced:"Orders placed",totalCustomers:"Total Customers",activeCustomers:"Active Customers",uniqueBuyers:"Unique buyers",topRegion:"Top Region",interactiveMap:"Interactive Map",totalProducts:"Total Products",lowStock:"Low Stock Items",recentActivity:"Recent Activity",filteredOrders:"Filtered Orders",liveDashboard:"Live Dashboard",revenueComparison:"+12.5% vs last period",ordersCount:"{{count}} orders",revenue:"Revenue",governorate:"Governorate",socialMedia:"Social Media",categories:"Categories",status:"Status"},Rje={title:"Inventory",addProduct:"Add Product",productName:"Product Name",category:"Category",price:"Price",stock:"Stock",status:"Status",supplier:"Supplier",description:"Description",image:"Image",sellingPrice:"Selling Price (IQD)",costPrice:"Cost Price (USD)",exchangeRate:"Exchange Rate",profit:"Profit",margin:"Margin",create:"Create Product",update:"Update Product",stockStatus:{inStock:"In Stock",lowStock:"Low Stock",outOfStock:"Out of Stock",instock:"In Stock",lowstock:"Low Stock",outofstock:"Out of Stock"},form:{generalInfo:"General Information",description:"Description",descriptionPlaceholder:"General product description, features, or internal notes...",gallery:"Product Gallery",addImage:"Add Image",category:"Category",status:"Status",productName:"Product Name",productNamePlaceholder:"e.g. Wireless Headset",sku:"SKU",skuPlaceholder:"e.g. WH-001",stock:"Stock",unitPrice:"Unit Price",alibabaSourcing:"Alibaba Sourcing",productLink:"Product Link",messageLink:"Message Link",orderLink:"Order Link",alibabaOrderNo:"Alibaba Order No",alibabaNote:"Alibaba Note",notePlaceholder:"Enter details...",costAndPricing:"Cost & Pricing",alibabaFee:"Alibaba Fee",exchangeRate:"Exchange Rate",margin:"Margin",shippingIQD:"Shipping (IQD)",otherFeesIQD:"Other Fees (IQD)",costTotal:"Total Cost",costPerUnit:"Cost Per Unit",recommendedPrice:"Recommended Price",finalPrice:"Final Price",manualOverride:"Manual Override Active",autoCalculated:"Auto Calculated",profitAnalysis:"Profit Analysis",iqdAnalysis:"IQD Analysis",usdAnalysis:"USD Analysis",profitPerUnit:"Profit / Unit",totalProfit:"Total Profit",qtyCalculation:"Quantity Calculation",unitsExpected:"Units Expected to Sell",selectCategory:"Select Category",createCategory:"Create New Category"},searchPlaceholder:"Search products...",confirmDelete:"Are you sure you want to delete this product?",marginTooHigh:"Margin percentage must be less than 100%",fillInfo:"Fill in the details below to add a new product.",editProduct:"Edit Product",manageCategories:"Manage Categories",categories:"Categories",table:{product:"Product",category:"Category",stock:"Stock",price:"Price",status:"Status"}},Mje={title:"Orders",createOrder:"Create Order",orderId:"Order ID",customer:"Customer",date:"Date",total:"Total",status:"Status",items:"Items",quantity:"Qty",discount:"Discount",subtotal:"Subtotal",grandTotal:"Grand Total",customerInfo:"Customer Info",shippingAddress:"Shipping Address",internalNotes:"Internal Notes",paymentMethod:"Payment Method",governorate:"Governorate",socialMedia:"Social Media",deleteConfirm:"Are you sure you want to delete this order?",searchPlaceholder:"Search orders...",stockError:"Only {{available}} units available",limitReached:"Limit reached: {{available}}",addItemsError:"Please add items to the order",customerError:"Please fill in customer name and phone",stockErrorWithName:"Not enough stock for {{name}}. Max available: {{available}}",chooseProduct:"Choose Product",searchProduct:"Search & Select Product",qty:"Qty",price:"PRICE",cartEmpty:"Your cart is empty",cartEmptySub:"Add products to start building the order",onlyLeft:"ONLY {{count}} LEFT",orderSubtotal:"Order Subtotal",applyDiscount:"APPLY DISCOUNT",noDiscount:"No Discount",offDiscount:"{{percent}}% OFF DISCOUNT",chooseCustomer:"Choose a Customer",searchCustomers:"Search customers...",createNewCustomer:"Create New Customer",fullName:"Full Name",phone:"Phone Number",gender:"Gender",social:"Social",saveOrder:"SAVE ORDER",updateOrder:"UPDATE ORDER",orderStatus:"Order Status",orderItems:"Order Items",printReceipt:"Print Receipt",editOrder:"Edit Order",receipt:{title:"Receipt",companyName:"SHAN ENTERPRISE",address:"Baghdad, Iraq",order:"Order",customer:"Customer",phone:"Phone",gov:"Gov",subtotal:"Subtotal",discount:"Discount",total:"TOTAL",thankYou:"Thank you for your business!",noReturn:"Items checked out cannot be returned.",na:"N/A"},errors:{submitError:"Failed to submit order: {{message}}",unknown:"Unknown error"},table:{orderId:"Order ID",customer:"Customer",date:"Date",total:"Total (IQD)",status:"Status"}},$je={title:"Product Picture Gallery",subtitle:"Product Gallery",description:"Manage your product visual assets.",noProducts:"No products found matching your search.",modal:{images:"Product Images",addPhoto:"Add Photo",details:"Product Details",productTitle:"Product Title",enterTitle:"Enter product title",description:"Description",enterDescription:"Enter product description...",sellingPrice:"Selling Price",confirmDeleteImage:"Are you sure you want to delete this image?"}},Dje={title:"Customers",addCustomer:"Add Customer",name:"Name",phone:"Phone",email:"Email",address:"Address",governorate:"Governorate",social:"Social Media",totalSpent:"Total Spent",lastOrder:"Last Order",joinDate:"Join Date",orders:"Orders",location:"Location",createdOn:"Created On",actions:"Actions",noData:"No customers found",noMatch:"No customers matching filters",searchPlaceholder:"Search by name or phone...",viewTable:"Table View",viewCard:"Card View",form:{new:"New Customer",edit:"Refine Profile",sub:"Customer Database",fullName:"Full Name",phone:"Phone Number",email:"Email (Optional)",governorate:"Governorate",channel:"Channel",shippingAddress:"Shipping Address",save:"Save Profile",register:"Register Customer"},history:{title:"Transaction Logs",customer:"Customer",noRecords:"No Active Records Found",paymentMethod:"Payment Method",itemsCount:"Items Count",printThermal:"Print Thermal Receipt"},receipt:{title:"Order Receipt",order:"Order",customer:"Customer",date:"Date",status:"Status",item:"Item",qty:"Qty",price:"Price",total:"Total"}},Lje={title:"Settings",general:"General",account:"Account",appearance:"Appearance",users:"User Management",language:"Language",saveChanges:"Save Changes",branding:"Branding",appHeader:"Application Header",appHeaderDesc:"Show or hide the top navigation header",saveBranding:"Save Branding Settings",appName:"Application Name",logo:"Logo",logoAndFavicon:"Logo & Favicon",uploadLogo:"Upload Logo",uploadFavicon:"Upload Favicon",logoSize:"Recommended size: 512x512px. Max 3MB.",removeLogo:"Remove Logo",removeFavicon:"Remove Favicon",themeOptions:"Theme Options",themes:{liquid:"Liquid Glass",liquidDesc:"Apple macOS style",light:"Pro Light",lightDesc:"Clean & minimal",dark:"Pro Dark",darkDesc:"Deep & elegant"},accentCustomization:"Accent Customization",solid:"Solid",gradient:"Gradient",customColor:"Custom Color",gradients:{royal:"Royal",sunset:"Sunset",aurora:"Aurora",vibrant:"Vibrant"},customDualColors:"Custom Dual Colors",start:"Start",end:"End",livePreview:"Live Preview",contentLayoutExample:"Content Layout Example",primaryButton:"Primary Button",toggleSwitch:"Toggle Switch",accountSettings:"Account Settings",changeAvatar:"Change Avatar",avatarFormat:"JPG, GIF or PNG. Max size of 3MB",emailAddress:"Email Address",avatarRecommendedSize:"JPG, GIF or PNG. Max size of 3MB",displayName:"Display Name",username:"Username",securitySettings:"Security Settings",password:"Password",passwordDescription:"Change your password to keep your account safe.",changePassword:"Change Password",addUser:"Add User",editUser:"Edit User",addNewUser:"Add New User",updateUser:"Update User",createUser:"Create User",confirmDeleteUser:"Are you sure you want to delete this user?",table:{user:"User",email:"Email",role:"Role"},placeholders:{displayName:"Display Name",username:"Username",email:"Email",password:"Password",passwordKeep:"Password (leave blank to keep)",currentPassword:"Current Password",newPassword:"New Password",confirmPassword:"Confirm New Password"},toasts:{profileUpdated:"Profile updated successfully!",avatarTooLarge:"Avatar too large. Max 3MB.",brandingSaved:"Branding settings saved successfully!",fileTooLarge:"File too large. Max 3MB.",userUpdated:"User updated successfully!",userCreated:"User created successfully!",passwordChanged:"Password changed successfully!"}},Fje={menu:Aje,header:Ije,user:Oje,common:Cje,dashboard:jje,products:Rje,orders:Mje,productPicture:$je,customers:Dje,settings:Lje},Vje={mainMenu:" ",dashboard:" ",inventory:"",productPicture:" ",orders:"",customers:"",settings:"",logout:" "},Uje={welcome:" ",admin:"",switchMode:"   {{mode}}",activityLogs:" ",new:"",viewAllActivity:"  "},Bje={defaultName:"",defaultRole:""},zje={loading:" ...",error:"",success:" ",save:"",saving:" ...",cancel:"",delete:"",edit:"",view:"",search:"...",actions:"",noData:"  ",noDataToExport:"   ",clearFilters:" ",exportCSV:" CSV",print:"",confirmDelete:"    ",yes:"",no:"",status:{processing:" ",completed:"",cancelled:"",pending:" ",shipped:" ",delivered:" ",returned:""},sort:"",dateNew:" ",dateOld:" ",priceHigh:" ",priceLow:" ",nameAZ:" (-)",male:"",female:"",showRows:" ",custom:"",select:"...",cashOnDelivery:"  ",perUnit:" "},qje={title:" ",live:"  ",totalRevenue:" ",revenueTrend:" ",totalOrders:" ",ordersPlaced:" ",totalCustomers:" ",activeCustomers:" ",uniqueBuyers:" ",topRegion:" ",interactiveMap:" ",totalProducts:" ",lowStock:"  ",recentActivity:" ",filteredOrders:" ",liveDashboard:"  ",revenueComparison:"+12.5%   ",ordersCount:"{{count}} ",revenue:"",governorate:"",socialMedia:" ",categories:"",status:""},Wje={title:"",addProduct:" ",productName:" ",category:"",price:"",stock:"",status:"",supplier:"",description:"",image:"",sellingPrice:"  (.)",costPrice:"  ()",exchangeRate:" ",profit:"",margin:"",create:" ",update:" ",stockStatus:{inStock:"",lowStock:" ",outOfStock:" ",instock:"",lowstock:" ",outofstock:" "},form:{generalInfo:" ",description:"",descriptionPlaceholder:"     ...",gallery:" ",addImage:" ",category:"",status:"",productName:" ",productNamePlaceholder:":  ",sku:"  (SKU)",skuPlaceholder:": WH-001",stock:"",unitPrice:" ",alibabaSourcing:"  ",productLink:" ",messageLink:" ",orderLink:" ",alibabaOrderNo:"   ",alibabaNote:"  ",notePlaceholder:" ...",costAndPricing:" ",alibabaFee:"  ",exchangeRate:" ",margin:" ",shippingIQD:" (.)",otherFeesIQD:"  (.)",costTotal:" ",costPerUnit:" ",recommendedPrice:" ",finalPrice:" ",manualOverride:"  ",autoCalculated:" ",profitAnalysis:" ",iqdAnalysis:"  ",usdAnalysis:"  ",profitPerUnit:" / ",totalProfit:" ",qtyCalculation:" ",unitsExpected:"  ",selectCategory:" ",createCategory:"  "},searchPlaceholder:"  ...",confirmDelete:"      ",marginTooHigh:"       100%",fillInfo:"     .",editProduct:" ",manageCategories:" ",categories:"",table:{product:"",category:"",stock:"",price:"",status:""}},Hje={title:"",createOrder:" ",orderId:" ",customer:"",date:"",total:"",status:"",items:"",quantity:"",discount:"",subtotal:" ",grandTotal:" ",customerInfo:" ",shippingAddress:" ",internalNotes:" ",paymentMethod:" ",governorate:"",socialMedia:" ",deleteConfirm:"      ",searchPlaceholder:"  ...",stockError:" {{available}}  ",limitReached:"  : {{available}}",addItemsError:"   ",customerError:"    ",stockErrorWithName:"     {{name}}. : {{available}}",chooseProduct:" ",searchProduct:"  ",qty:"",price:"",cartEmpty:" ",cartEmptySub:"     ",onlyLeft:" {{count}} ",orderSubtotal:" ",applyDiscount:" ",noDiscount:" ",offDiscount:" {{percent}}%",chooseCustomer:" ",searchCustomers:"  ...",createNewCustomer:"  ",fullName:" ",phone:" ",gender:"",social:" ",saveOrder:" ",updateOrder:" ",orderStatus:" ",orderItems:" ",printReceipt:" ",editOrder:" ",receipt:{title:" ",companyName:"SHAN ENTERPRISE",address:" ",order:"",customer:"",phone:"",gov:"",subtotal:" ",discount:"",total:"",thankYou:"  !",noReturn:"     .",na:" "},errors:{submitError:"   : {{message}}",unknown:"  "},table:{orderId:" ",customer:"",date:"",total:" (.)",status:""}},Gje={title:"  ",subtitle:" ",description:"   .",noProducts:"      .",modal:{images:" ",addPhoto:" ",details:" ",productTitle:" ",enterTitle:"  ",description:"",enterDescription:"  ...",sellingPrice:" ",confirmDeleteImage:"      "}},Kje={title:"",addCustomer:" ",name:"",phone:"",email:" ",address:"",governorate:"",social:" ",totalSpent:" ",lastOrder:" ",joinDate:" ",orders:"",location:"",createdOn:" ",actions:"",noData:"  ",noMatch:"   ",searchPlaceholder:"   ...",viewTable:" ",viewCard:" ",form:{new:" ",edit:" ",sub:"  ",fullName:" ",phone:" ",email:"  ()",governorate:"",channel:"",shippingAddress:" ",save:" ",register:" "},history:{title:" ",customer:"",noRecords:"   ",paymentMethod:" ",itemsCount:" ",printThermal:"  "},receipt:{title:" ",order:"",customer:"",date:"",status:"",item:"",qty:"",price:"",total:""}},Yje={title:"",general:"",account:"",appearance:"",users:" ",language:"",saveChanges:" ",branding:" ",appHeader:" ",appHeaderDesc:"     ",saveBranding:"   ",appName:" ",logo:"",logoAndFavicon:" ",uploadLogo:" ",uploadFavicon:" ",logoSize:"  : 512x512 .   3 .",removeLogo:" ",removeFavicon:" ",themeOptions:" ",themes:{liquid:" ",liquidDesc:"  ",light:" ",lightDesc:" ",dark:" ",darkDesc:" "},accentCustomization:"  ",solid:" ",gradient:" ",customColor:" ",gradients:{royal:"",sunset:"",aurora:"",vibrant:""},customDualColors:"  ",start:"",end:"",livePreview:" ",contentLayoutExample:"  ",primaryButton:" ",toggleSwitch:" ",accountSettings:" ",changeAvatar:"  ",avatarFormat:"JPG GIF  PNG.   3 ",emailAddress:" ",avatarRecommendedSize:"JPG GIF  PNG.   3 ",displayName:" ",username:" ",securitySettings:" ",password:" ",passwordDescription:"      .",changePassword:"  ",addUser:" ",editUser:" ",addNewUser:"  ",updateUser:" ",createUser:" ",confirmDeleteUser:"      ",table:{user:"",email:" ",role:""},placeholders:{displayName:" ",username:" ",email:" ",password:" ",passwordKeep:"  (   )",currentPassword:"  ",newPassword:"  ",confirmPassword:"   "},toasts:{profileUpdated:"    !",avatarTooLarge:"  .   3 .",brandingSaved:"     !",fileTooLarge:"  .   3 .",userUpdated:"   !",userCreated:"   !",passwordChanged:"    !"}},Qje={menu:Vje,header:Uje,user:Bje,common:zje,dashboard:qje,products:Wje,orders:Hje,productPicture:Gje,customers:Kje,settings:Yje};gn.use(DU).use(Lee).init({resources:{en:{translation:Fje},ar:{translation:Qje}},fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}}).then(()=>{const t=gn.language==="ar"?"rtl":"ltr";document.dir=t,document.documentElement.lang=gn.language});gn.on("languageChanged",t=>{const e=t==="ar"?"rtl":"ltr";document.dir=e,document.documentElement.lang=t});Lw.createRoot(document.getElementById("root")).render(f.jsx(z.StrictMode,{children:f.jsx(hje,{})}));
