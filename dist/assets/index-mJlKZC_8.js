function YU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Wp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ND={exports:{}},ev={},ID={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ip=Symbol.for("react.element"),QU=Symbol.for("react.portal"),XU=Symbol.for("react.fragment"),JU=Symbol.for("react.strict_mode"),ZU=Symbol.for("react.profiler"),eB=Symbol.for("react.provider"),tB=Symbol.for("react.context"),nB=Symbol.for("react.forward_ref"),rB=Symbol.for("react.suspense"),iB=Symbol.for("react.memo"),aB=Symbol.for("react.lazy"),XA=Symbol.iterator;function oB(t){return t===null||typeof t!="object"?null:(t=XA&&t[XA]||t["@@iterator"],typeof t=="function"?t:null)}var OD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},CD=Object.assign,jD={};function Tu(t,e,n){this.props=t,this.context=e,this.refs=jD,this.updater=n||OD}Tu.prototype.isReactComponent={};Tu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Tu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function RD(){}RD.prototype=Tu.prototype;function pE(t,e,n){this.props=t,this.context=e,this.refs=jD,this.updater=n||OD}var mE=pE.prototype=new RD;mE.constructor=pE;CD(mE,Tu.prototype);mE.isPureReactComponent=!0;var JA=Array.isArray,MD=Object.prototype.hasOwnProperty,gE={current:null},DD={key:!0,ref:!0,__self:!0,__source:!0};function $D(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)MD.call(e,r)&&!DD.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:ip,type:t,key:a,ref:o,props:i,_owner:gE.current}}function sB(t,e){return{$$typeof:ip,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yE(t){return typeof t=="object"&&t!==null&&t.$$typeof===ip}function lB(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ZA=/\/+/g;function Xx(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lB(""+t.key):e.toString(36)}function Bm(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ip:case QU:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Xx(o,0):r,JA(i)?(n="",t!=null&&(n=t.replace(ZA,"$&/")+"/"),Bm(i,e,n,"",function(c){return c})):i!=null&&(yE(i)&&(i=sB(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ZA,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",JA(t))for(var s=0;s<t.length;s++){a=t[s];var l=r+Xx(a,s);o+=Bm(a,e,n,l,i)}else if(l=oB(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=r+Xx(a,s++),o+=Bm(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Hp(t,e,n){if(t==null)return t;var r=[],i=0;return Bm(t,r,"","",function(a){return e.call(n,a,i++)}),r}function cB(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zn={current:null},zm={transition:null},uB={ReactCurrentDispatcher:Zn,ReactCurrentBatchConfig:zm,ReactCurrentOwner:gE};function LD(){throw Error("act(...) is not supported in production builds of React.")}He.Children={map:Hp,forEach:function(t,e,n){Hp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hp(t,function(){e++}),e},toArray:function(t){return Hp(t,function(e){return e})||[]},only:function(t){if(!yE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};He.Component=Tu;He.Fragment=XU;He.Profiler=ZU;He.PureComponent=pE;He.StrictMode=JU;He.Suspense=rB;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uB;He.act=LD;He.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=CD({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=gE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)MD.call(e,l)&&!DD.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:ip,type:t.type,key:i,ref:a,props:r,_owner:o}};He.createContext=function(t){return t={$$typeof:tB,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:eB,_context:t},t.Consumer=t};He.createElement=$D;He.createFactory=function(t){var e=$D.bind(null,t);return e.type=t,e};He.createRef=function(){return{current:null}};He.forwardRef=function(t){return{$$typeof:nB,render:t}};He.isValidElement=yE;He.lazy=function(t){return{$$typeof:aB,_payload:{_status:-1,_result:t},_init:cB}};He.memo=function(t,e){return{$$typeof:iB,type:t,compare:e===void 0?null:e}};He.startTransition=function(t){var e=zm.transition;zm.transition={};try{t()}finally{zm.transition=e}};He.unstable_act=LD;He.useCallback=function(t,e){return Zn.current.useCallback(t,e)};He.useContext=function(t){return Zn.current.useContext(t)};He.useDebugValue=function(){};He.useDeferredValue=function(t){return Zn.current.useDeferredValue(t)};He.useEffect=function(t,e){return Zn.current.useEffect(t,e)};He.useId=function(){return Zn.current.useId()};He.useImperativeHandle=function(t,e,n){return Zn.current.useImperativeHandle(t,e,n)};He.useInsertionEffect=function(t,e){return Zn.current.useInsertionEffect(t,e)};He.useLayoutEffect=function(t,e){return Zn.current.useLayoutEffect(t,e)};He.useMemo=function(t,e){return Zn.current.useMemo(t,e)};He.useReducer=function(t,e,n){return Zn.current.useReducer(t,e,n)};He.useRef=function(t){return Zn.current.useRef(t)};He.useState=function(t){return Zn.current.useState(t)};He.useSyncExternalStore=function(t,e,n){return Zn.current.useSyncExternalStore(t,e,n)};He.useTransition=function(){return Zn.current.useTransition()};He.version="18.3.1";ID.exports=He;var R=ID.exports;const z=gt(R),dB=YU({__proto__:null,default:z},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fB=R,hB=Symbol.for("react.element"),pB=Symbol.for("react.fragment"),mB=Object.prototype.hasOwnProperty,gB=fB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yB={key:!0,ref:!0,__self:!0,__source:!0};function FD(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)mB.call(e,r)&&!yB.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:hB,type:t,key:a,ref:o,props:i,_owner:gB.current}}ev.Fragment=pB;ev.jsx=FD;ev.jsxs=FD;ND.exports=ev;var f=ND.exports,jw={},VD={exports:{}},Or={},UD={exports:{}},BD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,U){var F=V.length;V.push(U);e:for(;0<F;){var G=F-1>>>1,K=V[G];if(0<i(K,U))V[G]=U,V[F]=K,F=G;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var U=V[0],F=V.pop();if(F!==U){V[0]=F;e:for(var G=0,K=V.length,ie=K>>>1;G<ie;){var se=2*(G+1)-1,ve=V[se],ce=se+1,de=V[ce];if(0>i(ve,F))ce<K&&0>i(de,ve)?(V[G]=de,V[ce]=F,G=ce):(V[G]=ve,V[se]=F,G=se);else if(ce<K&&0>i(de,F))V[G]=de,V[ce]=F,G=ce;else break e}}return U}function i(V,U){var F=V.sortIndex-U.sortIndex;return F!==0?F:V.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(V){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=V)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function E(V){if(y=!1,w(V),!g)if(n(l)!==null)g=!0,L(S);else{var U=n(c);U!==null&&B(E,U.startTime-V)}}function S(V,U){g=!1,y&&(y=!1,x(k),k=-1),p=!0;var F=h;try{for(w(U),d=n(l);d!==null&&(!(d.expirationTime>U)||V&&!O());){var G=d.callback;if(typeof G=="function"){d.callback=null,h=d.priorityLevel;var K=G(d.expirationTime<=U);U=t.unstable_now(),typeof K=="function"?d.callback=K:d===n(l)&&r(l),w(U)}else r(l);d=n(l)}if(d!==null)var ie=!0;else{var se=n(c);se!==null&&B(E,se.startTime-U),ie=!1}return ie}finally{d=null,h=F,p=!1}}var P=!1,_=null,k=-1,A=5,I=-1;function O(){return!(t.unstable_now()-I<A)}function C(){if(_!==null){var V=t.unstable_now();I=V;var U=!0;try{U=_(!0,V)}finally{U?j():(P=!1,_=null)}}else P=!1}var j;if(typeof b=="function")j=function(){b(C)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,D=M.port2;M.port1.onmessage=C,j=function(){D.postMessage(null)}}else j=function(){v(C,0)};function L(V){_=V,P||(P=!0,j())}function B(V,U){k=v(function(){V(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,L(S))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var F=h;h=U;try{return V()}finally{h=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,U){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var F=h;h=V;try{return U()}finally{h=F}},t.unstable_scheduleCallback=function(V,U,F){var G=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?G+F:G):F=G,V){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=F+K,V={id:u++,callback:U,priorityLevel:V,startTime:F,expirationTime:K,sortIndex:-1},F>G?(V.sortIndex=F,e(c,V),n(l)===null&&V===n(c)&&(y?(x(k),k=-1):y=!0,B(E,F-G))):(V.sortIndex=K,e(l,V),g||p||(g=!0,L(S))),V},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(V){var U=h;return function(){var F=h;h=U;try{return V.apply(this,arguments)}finally{h=F}}}})(BD);UD.exports=BD;var vB=UD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xB=R,Ar=vB;function he(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zD=new Set,jf={};function Sl(t,e){Mc(t,e),Mc(t+"Capture",e)}function Mc(t,e){for(jf[t]=e,t=0;t<e.length;t++)zD.add(e[t])}var Ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rw=Object.prototype.hasOwnProperty,bB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,e2={},t2={};function wB(t){return Rw.call(t2,t)?!0:Rw.call(e2,t)?!1:bB.test(t)?t2[t]=!0:(e2[t]=!0,!1)}function _B(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function SB(t,e,n,r){if(e===null||typeof e>"u"||_B(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function er(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tn[t]=new er(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tn[e]=new er(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tn[t]=new er(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tn[t]=new er(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tn[t]=new er(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tn[t]=new er(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tn[t]=new er(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tn[t]=new er(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tn[t]=new er(t,5,!1,t.toLowerCase(),null,!1,!1)});var vE=/[\-:]([a-z])/g;function xE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vE,xE);Tn[e]=new er(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vE,xE);Tn[e]=new er(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vE,xE);Tn[e]=new er(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tn[t]=new er(t,1,!1,t.toLowerCase(),null,!1,!1)});Tn.xlinkHref=new er("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tn[t]=new er(t,1,!1,t.toLowerCase(),null,!0,!0)});function bE(t,e,n,r){var i=Tn.hasOwnProperty(e)?Tn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(SB(e,n,i,r)&&(n=null),r||i===null?wB(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qa=xB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gp=Symbol.for("react.element"),Jl=Symbol.for("react.portal"),Zl=Symbol.for("react.fragment"),wE=Symbol.for("react.strict_mode"),Mw=Symbol.for("react.profiler"),qD=Symbol.for("react.provider"),WD=Symbol.for("react.context"),_E=Symbol.for("react.forward_ref"),Dw=Symbol.for("react.suspense"),$w=Symbol.for("react.suspense_list"),SE=Symbol.for("react.memo"),ho=Symbol.for("react.lazy"),HD=Symbol.for("react.offscreen"),n2=Symbol.iterator;function hd(t){return t===null||typeof t!="object"?null:(t=n2&&t[n2]||t["@@iterator"],typeof t=="function"?t:null)}var Dt=Object.assign,Jx;function Vd(t){if(Jx===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Jx=e&&e[1]||""}return`
`+Jx+t}var Zx=!1;function eb(t,e){if(!t||Zx)return"";Zx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{Zx=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vd(t):""}function EB(t){switch(t.tag){case 5:return Vd(t.type);case 16:return Vd("Lazy");case 13:return Vd("Suspense");case 19:return Vd("SuspenseList");case 0:case 2:case 15:return t=eb(t.type,!1),t;case 11:return t=eb(t.type.render,!1),t;case 1:return t=eb(t.type,!0),t;default:return""}}function Lw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zl:return"Fragment";case Jl:return"Portal";case Mw:return"Profiler";case wE:return"StrictMode";case Dw:return"Suspense";case $w:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case WD:return(t.displayName||"Context")+".Consumer";case qD:return(t._context.displayName||"Context")+".Provider";case _E:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case SE:return e=t.displayName||null,e!==null?e:Lw(t.type)||"Memo";case ho:e=t._payload,t=t._init;try{return Lw(t(e))}catch{}}return null}function kB(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lw(e);case 8:return e===wE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function GD(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TB(t){var e=GD(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Kp(t){t._valueTracker||(t._valueTracker=TB(t))}function KD(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=GD(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fw(t,e){var n=e.checked;return Dt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function r2(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function YD(t,e){e=e.checked,e!=null&&bE(t,"checked",e,!1)}function Vw(t,e){YD(t,e);var n=Yo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Uw(t,e.type,n):e.hasOwnProperty("defaultValue")&&Uw(t,e.type,Yo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function i2(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Uw(t,e,n){(e!=="number"||bg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ud=Array.isArray;function yc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Bw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(he(91));return Dt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function a2(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(he(92));if(Ud(n)){if(1<n.length)throw Error(he(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yo(n)}}function QD(t,e){var n=Yo(e.value),r=Yo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function o2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function XD(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?XD(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yp,JD=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Yp=Yp||document.createElement("div"),Yp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Rf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var af={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PB=["Webkit","ms","Moz","O"];Object.keys(af).forEach(function(t){PB.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),af[e]=af[t]})});function ZD(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||af.hasOwnProperty(t)&&af[t]?(""+e).trim():e+"px"}function e$(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ZD(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var AB=Dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qw(t,e){if(e){if(AB[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(he(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(he(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(he(61))}if(e.style!=null&&typeof e.style!="object")throw Error(he(62))}}function Ww(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hw=null;function EE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gw=null,vc=null,xc=null;function s2(t){if(t=sp(t)){if(typeof Gw!="function")throw Error(he(280));var e=t.stateNode;e&&(e=av(e),Gw(t.stateNode,t.type,e))}}function t$(t){vc?xc?xc.push(t):xc=[t]:vc=t}function n$(){if(vc){var t=vc,e=xc;if(xc=vc=null,s2(t),e)for(t=0;t<e.length;t++)s2(e[t])}}function r$(t,e){return t(e)}function i$(){}var tb=!1;function a$(t,e,n){if(tb)return t(e,n);tb=!0;try{return r$(t,e,n)}finally{tb=!1,(vc!==null||xc!==null)&&(i$(),n$())}}function Mf(t,e){var n=t.stateNode;if(n===null)return null;var r=av(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(he(231,e,typeof n));return n}var Kw=!1;if(Ma)try{var pd={};Object.defineProperty(pd,"passive",{get:function(){Kw=!0}}),window.addEventListener("test",pd,pd),window.removeEventListener("test",pd,pd)}catch{Kw=!1}function NB(t,e,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var of=!1,wg=null,_g=!1,Yw=null,IB={onError:function(t){of=!0,wg=t}};function OB(t,e,n,r,i,a,o,s,l){of=!1,wg=null,NB.apply(IB,arguments)}function CB(t,e,n,r,i,a,o,s,l){if(OB.apply(this,arguments),of){if(of){var c=wg;of=!1,wg=null}else throw Error(he(198));_g||(_g=!0,Yw=c)}}function El(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function o$(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function l2(t){if(El(t)!==t)throw Error(he(188))}function jB(t){var e=t.alternate;if(!e){if(e=El(t),e===null)throw Error(he(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return l2(i),t;if(a===r)return l2(i),e;a=a.sibling}throw Error(he(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?t:e}function s$(t){return t=jB(t),t!==null?l$(t):null}function l$(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=l$(t);if(e!==null)return e;t=t.sibling}return null}var c$=Ar.unstable_scheduleCallback,c2=Ar.unstable_cancelCallback,RB=Ar.unstable_shouldYield,MB=Ar.unstable_requestPaint,qt=Ar.unstable_now,DB=Ar.unstable_getCurrentPriorityLevel,kE=Ar.unstable_ImmediatePriority,u$=Ar.unstable_UserBlockingPriority,Sg=Ar.unstable_NormalPriority,$B=Ar.unstable_LowPriority,d$=Ar.unstable_IdlePriority,tv=null,Hi=null;function LB(t){if(Hi&&typeof Hi.onCommitFiberRoot=="function")try{Hi.onCommitFiberRoot(tv,t,void 0,(t.current.flags&128)===128)}catch{}}var _i=Math.clz32?Math.clz32:UB,FB=Math.log,VB=Math.LN2;function UB(t){return t>>>=0,t===0?32:31-(FB(t)/VB|0)|0}var Qp=64,Xp=4194304;function Bd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Eg(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=Bd(s):(a&=o,a!==0&&(r=Bd(a)))}else o=n&~i,o!==0?r=Bd(o):a!==0&&(r=Bd(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_i(e),i=1<<n,r|=t[n],e&=~i;return r}function BB(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zB(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-_i(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=BB(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function Qw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function f$(){var t=Qp;return Qp<<=1,!(Qp&4194240)&&(Qp=64),t}function nb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ap(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_i(e),t[e]=n}function qB(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_i(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function TE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_i(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var st=0;function h$(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var p$,PE,m$,g$,y$,Xw=!1,Jp=[],Oo=null,Co=null,jo=null,Df=new Map,$f=new Map,vo=[],WB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function u2(t,e){switch(t){case"focusin":case"focusout":Oo=null;break;case"dragenter":case"dragleave":Co=null;break;case"mouseover":case"mouseout":jo=null;break;case"pointerover":case"pointerout":Df.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$f.delete(e.pointerId)}}function md(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=sp(e),e!==null&&PE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function HB(t,e,n,r,i){switch(e){case"focusin":return Oo=md(Oo,t,e,n,r,i),!0;case"dragenter":return Co=md(Co,t,e,n,r,i),!0;case"mouseover":return jo=md(jo,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Df.set(a,md(Df.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,$f.set(a,md($f.get(a)||null,t,e,n,r,i)),!0}return!1}function v$(t){var e=Ls(t.target);if(e!==null){var n=El(e);if(n!==null){if(e=n.tag,e===13){if(e=o$(n),e!==null){t.blockedOn=e,y$(t.priority,function(){m$(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Jw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hw=r,n.target.dispatchEvent(r),Hw=null}else return e=sp(n),e!==null&&PE(e),t.blockedOn=n,!1;e.shift()}return!0}function d2(t,e,n){qm(t)&&n.delete(e)}function GB(){Xw=!1,Oo!==null&&qm(Oo)&&(Oo=null),Co!==null&&qm(Co)&&(Co=null),jo!==null&&qm(jo)&&(jo=null),Df.forEach(d2),$f.forEach(d2)}function gd(t,e){t.blockedOn===e&&(t.blockedOn=null,Xw||(Xw=!0,Ar.unstable_scheduleCallback(Ar.unstable_NormalPriority,GB)))}function Lf(t){function e(i){return gd(i,t)}if(0<Jp.length){gd(Jp[0],t);for(var n=1;n<Jp.length;n++){var r=Jp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Oo!==null&&gd(Oo,t),Co!==null&&gd(Co,t),jo!==null&&gd(jo,t),Df.forEach(e),$f.forEach(e),n=0;n<vo.length;n++)r=vo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<vo.length&&(n=vo[0],n.blockedOn===null);)v$(n),n.blockedOn===null&&vo.shift()}var bc=Qa.ReactCurrentBatchConfig,kg=!0;function KB(t,e,n,r){var i=st,a=bc.transition;bc.transition=null;try{st=1,AE(t,e,n,r)}finally{st=i,bc.transition=a}}function YB(t,e,n,r){var i=st,a=bc.transition;bc.transition=null;try{st=4,AE(t,e,n,r)}finally{st=i,bc.transition=a}}function AE(t,e,n,r){if(kg){var i=Jw(t,e,n,r);if(i===null)fb(t,e,r,Tg,n),u2(t,r);else if(HB(i,t,e,n,r))r.stopPropagation();else if(u2(t,r),e&4&&-1<WB.indexOf(t)){for(;i!==null;){var a=sp(i);if(a!==null&&p$(a),a=Jw(t,e,n,r),a===null&&fb(t,e,r,Tg,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else fb(t,e,r,null,n)}}var Tg=null;function Jw(t,e,n,r){if(Tg=null,t=EE(r),t=Ls(t),t!==null)if(e=El(t),e===null)t=null;else if(n=e.tag,n===13){if(t=o$(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tg=t,null}function x$(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DB()){case kE:return 1;case u$:return 4;case Sg:case $B:return 16;case d$:return 536870912;default:return 16}default:return 16}}var ko=null,NE=null,Wm=null;function b$(){if(Wm)return Wm;var t,e=NE,n=e.length,r,i="value"in ko?ko.value:ko.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return Wm=i.slice(t,1<r?1-r:void 0)}function Hm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zp(){return!0}function f2(){return!1}function Cr(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Zp:f2,this.isPropagationStopped=f2,this}return Dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zp)},persist:function(){},isPersistent:Zp}),e}var Pu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},IE=Cr(Pu),op=Dt({},Pu,{view:0,detail:0}),QB=Cr(op),rb,ib,yd,nv=Dt({},op,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:OE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yd&&(yd&&t.type==="mousemove"?(rb=t.screenX-yd.screenX,ib=t.screenY-yd.screenY):ib=rb=0,yd=t),rb)},movementY:function(t){return"movementY"in t?t.movementY:ib}}),h2=Cr(nv),XB=Dt({},nv,{dataTransfer:0}),JB=Cr(XB),ZB=Dt({},op,{relatedTarget:0}),ab=Cr(ZB),e7=Dt({},Pu,{animationName:0,elapsedTime:0,pseudoElement:0}),t7=Cr(e7),n7=Dt({},Pu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),r7=Cr(n7),i7=Dt({},Pu,{data:0}),p2=Cr(i7),a7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l7(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=s7[t])?!!e[t]:!1}function OE(){return l7}var c7=Dt({},op,{key:function(t){if(t.key){var e=a7[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?o7[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:OE,charCode:function(t){return t.type==="keypress"?Hm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),u7=Cr(c7),d7=Dt({},nv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),m2=Cr(d7),f7=Dt({},op,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:OE}),h7=Cr(f7),p7=Dt({},Pu,{propertyName:0,elapsedTime:0,pseudoElement:0}),m7=Cr(p7),g7=Dt({},nv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),y7=Cr(g7),v7=[9,13,27,32],CE=Ma&&"CompositionEvent"in window,sf=null;Ma&&"documentMode"in document&&(sf=document.documentMode);var x7=Ma&&"TextEvent"in window&&!sf,w$=Ma&&(!CE||sf&&8<sf&&11>=sf),g2=" ",y2=!1;function _$(t,e){switch(t){case"keyup":return v7.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S$(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ec=!1;function b7(t,e){switch(t){case"compositionend":return S$(e);case"keypress":return e.which!==32?null:(y2=!0,g2);case"textInput":return t=e.data,t===g2&&y2?null:t;default:return null}}function w7(t,e){if(ec)return t==="compositionend"||!CE&&_$(t,e)?(t=b$(),Wm=NE=ko=null,ec=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return w$&&e.locale!=="ko"?null:e.data;default:return null}}var _7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function v2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_7[t.type]:e==="textarea"}function E$(t,e,n,r){t$(r),e=Pg(e,"onChange"),0<e.length&&(n=new IE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var lf=null,Ff=null;function S7(t){M$(t,0)}function rv(t){var e=rc(t);if(KD(e))return t}function E7(t,e){if(t==="change")return e}var k$=!1;if(Ma){var ob;if(Ma){var sb="oninput"in document;if(!sb){var x2=document.createElement("div");x2.setAttribute("oninput","return;"),sb=typeof x2.oninput=="function"}ob=sb}else ob=!1;k$=ob&&(!document.documentMode||9<document.documentMode)}function b2(){lf&&(lf.detachEvent("onpropertychange",T$),Ff=lf=null)}function T$(t){if(t.propertyName==="value"&&rv(Ff)){var e=[];E$(e,Ff,t,EE(t)),a$(S7,e)}}function k7(t,e,n){t==="focusin"?(b2(),lf=e,Ff=n,lf.attachEvent("onpropertychange",T$)):t==="focusout"&&b2()}function T7(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rv(Ff)}function P7(t,e){if(t==="click")return rv(e)}function A7(t,e){if(t==="input"||t==="change")return rv(e)}function N7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ti=typeof Object.is=="function"?Object.is:N7;function Vf(t,e){if(Ti(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Rw.call(e,i)||!Ti(t[i],e[i]))return!1}return!0}function w2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _2(t,e){var n=w2(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=w2(n)}}function P$(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?P$(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function A$(){for(var t=window,e=bg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bg(t.document)}return e}function jE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function I7(t){var e=A$(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&P$(n.ownerDocument.documentElement,n)){if(r!==null&&jE(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=_2(n,a);var o=_2(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var O7=Ma&&"documentMode"in document&&11>=document.documentMode,tc=null,Zw=null,cf=null,e1=!1;function S2(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;e1||tc==null||tc!==bg(r)||(r=tc,"selectionStart"in r&&jE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cf&&Vf(cf,r)||(cf=r,r=Pg(Zw,"onSelect"),0<r.length&&(e=new IE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=tc)))}function em(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var nc={animationend:em("Animation","AnimationEnd"),animationiteration:em("Animation","AnimationIteration"),animationstart:em("Animation","AnimationStart"),transitionend:em("Transition","TransitionEnd")},lb={},N$={};Ma&&(N$=document.createElement("div").style,"AnimationEvent"in window||(delete nc.animationend.animation,delete nc.animationiteration.animation,delete nc.animationstart.animation),"TransitionEvent"in window||delete nc.transitionend.transition);function iv(t){if(lb[t])return lb[t];if(!nc[t])return t;var e=nc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in N$)return lb[t]=e[n];return t}var I$=iv("animationend"),O$=iv("animationiteration"),C$=iv("animationstart"),j$=iv("transitionend"),R$=new Map,E2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function as(t,e){R$.set(t,e),Sl(e,[t])}for(var cb=0;cb<E2.length;cb++){var ub=E2[cb],C7=ub.toLowerCase(),j7=ub[0].toUpperCase()+ub.slice(1);as(C7,"on"+j7)}as(I$,"onAnimationEnd");as(O$,"onAnimationIteration");as(C$,"onAnimationStart");as("dblclick","onDoubleClick");as("focusin","onFocus");as("focusout","onBlur");as(j$,"onTransitionEnd");Mc("onMouseEnter",["mouseout","mouseover"]);Mc("onMouseLeave",["mouseout","mouseover"]);Mc("onPointerEnter",["pointerout","pointerover"]);Mc("onPointerLeave",["pointerout","pointerover"]);Sl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R7=new Set("cancel close invalid load scroll toggle".split(" ").concat(zd));function k2(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,CB(r,e,void 0,t),t.currentTarget=null}function M$(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;k2(i,s,c),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;k2(i,s,c),a=l}}}if(_g)throw t=Yw,_g=!1,Yw=null,t}function St(t,e){var n=e[a1];n===void 0&&(n=e[a1]=new Set);var r=t+"__bubble";n.has(r)||(D$(e,t,2,!1),n.add(r))}function db(t,e,n){var r=0;e&&(r|=4),D$(n,t,r,e)}var tm="_reactListening"+Math.random().toString(36).slice(2);function Uf(t){if(!t[tm]){t[tm]=!0,zD.forEach(function(n){n!=="selectionchange"&&(R7.has(n)||db(n,!1,t),db(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[tm]||(e[tm]=!0,db("selectionchange",!1,e))}}function D$(t,e,n,r){switch(x$(e)){case 1:var i=KB;break;case 4:i=YB;break;default:i=AE}n=i.bind(null,e,n,t),i=void 0,!Kw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function fb(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Ls(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}a$(function(){var c=a,u=EE(n),d=[];e:{var h=R$.get(t);if(h!==void 0){var p=IE,g=t;switch(t){case"keypress":if(Hm(n)===0)break e;case"keydown":case"keyup":p=u7;break;case"focusin":g="focus",p=ab;break;case"focusout":g="blur",p=ab;break;case"beforeblur":case"afterblur":p=ab;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=h2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=JB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=h7;break;case I$:case O$:case C$:p=t7;break;case j$:p=m7;break;case"scroll":p=QB;break;case"wheel":p=y7;break;case"copy":case"cut":case"paste":p=r7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=m2}var y=(e&4)!==0,v=!y&&t==="scroll",x=y?h!==null?h+"Capture":null:h;y=[];for(var b=c,w;b!==null;){w=b;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,x!==null&&(E=Mf(b,x),E!=null&&y.push(Bf(b,E,w)))),v)break;b=b.return}0<y.length&&(h=new p(h,g,null,n,u),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Hw&&(g=n.relatedTarget||n.fromElement)&&(Ls(g)||g[Da]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?Ls(g):null,g!==null&&(v=El(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(y=h2,E="onMouseLeave",x="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(y=m2,E="onPointerLeave",x="onPointerEnter",b="pointer"),v=p==null?h:rc(p),w=g==null?h:rc(g),h=new y(E,b+"leave",p,n,u),h.target=v,h.relatedTarget=w,E=null,Ls(u)===c&&(y=new y(x,b+"enter",g,n,u),y.target=w,y.relatedTarget=v,E=y),v=E,p&&g)t:{for(y=p,x=g,b=0,w=y;w;w=Fl(w))b++;for(w=0,E=x;E;E=Fl(E))w++;for(;0<b-w;)y=Fl(y),b--;for(;0<w-b;)x=Fl(x),w--;for(;b--;){if(y===x||x!==null&&y===x.alternate)break t;y=Fl(y),x=Fl(x)}y=null}else y=null;p!==null&&T2(d,h,p,y,!1),g!==null&&v!==null&&T2(d,v,g,y,!0)}}e:{if(h=c?rc(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=E7;else if(v2(h))if(k$)S=A7;else{S=T7;var P=k7}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=P7);if(S&&(S=S(t,c))){E$(d,S,n,u);break e}P&&P(t,h,c),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&Uw(h,"number",h.value)}switch(P=c?rc(c):window,t){case"focusin":(v2(P)||P.contentEditable==="true")&&(tc=P,Zw=c,cf=null);break;case"focusout":cf=Zw=tc=null;break;case"mousedown":e1=!0;break;case"contextmenu":case"mouseup":case"dragend":e1=!1,S2(d,n,u);break;case"selectionchange":if(O7)break;case"keydown":case"keyup":S2(d,n,u)}var _;if(CE)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else ec?_$(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(w$&&n.locale!=="ko"&&(ec||k!=="onCompositionStart"?k==="onCompositionEnd"&&ec&&(_=b$()):(ko=u,NE="value"in ko?ko.value:ko.textContent,ec=!0)),P=Pg(c,k),0<P.length&&(k=new p2(k,t,null,n,u),d.push({event:k,listeners:P}),_?k.data=_:(_=S$(n),_!==null&&(k.data=_)))),(_=x7?b7(t,n):w7(t,n))&&(c=Pg(c,"onBeforeInput"),0<c.length&&(u=new p2("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=_))}M$(d,e)})}function Bf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Mf(t,n),a!=null&&r.unshift(Bf(t,a,i)),a=Mf(t,e),a!=null&&r.push(Bf(t,a,i))),t=t.return}return r}function Fl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function T2(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=Mf(n,a),l!=null&&o.unshift(Bf(n,l,s))):i||(l=Mf(n,a),l!=null&&o.push(Bf(n,l,s)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var M7=/\r\n?/g,D7=/\u0000|\uFFFD/g;function P2(t){return(typeof t=="string"?t:""+t).replace(M7,`
`).replace(D7,"")}function nm(t,e,n){if(e=P2(e),P2(t)!==e&&n)throw Error(he(425))}function Ag(){}var t1=null,n1=null;function r1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var i1=typeof setTimeout=="function"?setTimeout:void 0,$7=typeof clearTimeout=="function"?clearTimeout:void 0,A2=typeof Promise=="function"?Promise:void 0,L7=typeof queueMicrotask=="function"?queueMicrotask:typeof A2<"u"?function(t){return A2.resolve(null).then(t).catch(F7)}:i1;function F7(t){setTimeout(function(){throw t})}function hb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Lf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Lf(e)}function Ro(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function N2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Au=Math.random().toString(36).slice(2),Fi="__reactFiber$"+Au,zf="__reactProps$"+Au,Da="__reactContainer$"+Au,a1="__reactEvents$"+Au,V7="__reactListeners$"+Au,U7="__reactHandles$"+Au;function Ls(t){var e=t[Fi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Da]||n[Fi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=N2(t);t!==null;){if(n=t[Fi])return n;t=N2(t)}return e}t=n,n=t.parentNode}return null}function sp(t){return t=t[Fi]||t[Da],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function rc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(he(33))}function av(t){return t[zf]||null}var o1=[],ic=-1;function os(t){return{current:t}}function Pt(t){0>ic||(t.current=o1[ic],o1[ic]=null,ic--)}function bt(t,e){ic++,o1[ic]=t.current,t.current=e}var Qo={},Ln=os(Qo),lr=os(!1),nl=Qo;function Dc(t,e){var n=t.type.contextTypes;if(!n)return Qo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function cr(t){return t=t.childContextTypes,t!=null}function Ng(){Pt(lr),Pt(Ln)}function I2(t,e,n){if(Ln.current!==Qo)throw Error(he(168));bt(Ln,e),bt(lr,n)}function $$(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(he(108,kB(t)||"Unknown",i));return Dt({},n,r)}function Ig(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qo,nl=Ln.current,bt(Ln,t),bt(lr,lr.current),!0}function O2(t,e,n){var r=t.stateNode;if(!r)throw Error(he(169));n?(t=$$(t,e,nl),r.__reactInternalMemoizedMergedChildContext=t,Pt(lr),Pt(Ln),bt(Ln,t)):Pt(lr),bt(lr,n)}var ga=null,ov=!1,pb=!1;function L$(t){ga===null?ga=[t]:ga.push(t)}function B7(t){ov=!0,L$(t)}function ss(){if(!pb&&ga!==null){pb=!0;var t=0,e=st;try{var n=ga;for(st=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ga=null,ov=!1}catch(i){throw ga!==null&&(ga=ga.slice(t+1)),c$(kE,ss),i}finally{st=e,pb=!1}}return null}var ac=[],oc=0,Og=null,Cg=0,Fr=[],Vr=0,rl=null,_a=1,Sa="";function Is(t,e){ac[oc++]=Cg,ac[oc++]=Og,Og=t,Cg=e}function F$(t,e,n){Fr[Vr++]=_a,Fr[Vr++]=Sa,Fr[Vr++]=rl,rl=t;var r=_a;t=Sa;var i=32-_i(r)-1;r&=~(1<<i),n+=1;var a=32-_i(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,_a=1<<32-_i(e)+i|n<<i|r,Sa=a+t}else _a=1<<a|n<<i|r,Sa=t}function RE(t){t.return!==null&&(Is(t,1),F$(t,1,0))}function ME(t){for(;t===Og;)Og=ac[--oc],ac[oc]=null,Cg=ac[--oc],ac[oc]=null;for(;t===rl;)rl=Fr[--Vr],Fr[Vr]=null,Sa=Fr[--Vr],Fr[Vr]=null,_a=Fr[--Vr],Fr[Vr]=null}var kr=null,_r=null,Nt=!1,fi=null;function V$(t,e){var n=qr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function C2(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kr=t,_r=Ro(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kr=t,_r=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=rl!==null?{id:_a,overflow:Sa}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kr=t,_r=null,!0):!1;default:return!1}}function s1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function l1(t){if(Nt){var e=_r;if(e){var n=e;if(!C2(t,e)){if(s1(t))throw Error(he(418));e=Ro(n.nextSibling);var r=kr;e&&C2(t,e)?V$(r,n):(t.flags=t.flags&-4097|2,Nt=!1,kr=t)}}else{if(s1(t))throw Error(he(418));t.flags=t.flags&-4097|2,Nt=!1,kr=t}}}function j2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kr=t}function rm(t){if(t!==kr)return!1;if(!Nt)return j2(t),Nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!r1(t.type,t.memoizedProps)),e&&(e=_r)){if(s1(t))throw U$(),Error(he(418));for(;e;)V$(t,e),e=Ro(e.nextSibling)}if(j2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(he(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_r=Ro(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_r=null}}else _r=kr?Ro(t.stateNode.nextSibling):null;return!0}function U$(){for(var t=_r;t;)t=Ro(t.nextSibling)}function $c(){_r=kr=null,Nt=!1}function DE(t){fi===null?fi=[t]:fi.push(t)}var z7=Qa.ReactCurrentBatchConfig;function vd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var r=n.stateNode}if(!r)throw Error(he(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,t))}return t}function im(t,e){throw t=Object.prototype.toString.call(e),Error(he(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function R2(t){var e=t._init;return e(t._payload)}function B$(t){function e(x,b){if(t){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function n(x,b){if(!t)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=Lo(x,b),x.index=0,x.sibling=null,x}function a(x,b,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function s(x,b,w,E){return b===null||b.tag!==6?(b=wb(w,x.mode,E),b.return=x,b):(b=i(b,w),b.return=x,b)}function l(x,b,w,E){var S=w.type;return S===Zl?u(x,b,w.props.children,E,w.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ho&&R2(S)===b.type)?(E=i(b,w.props),E.ref=vd(x,b,w),E.return=x,E):(E=Zm(w.type,w.key,w.props,null,x.mode,E),E.ref=vd(x,b,w),E.return=x,E)}function c(x,b,w,E){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=_b(w,x.mode,E),b.return=x,b):(b=i(b,w.children||[]),b.return=x,b)}function u(x,b,w,E,S){return b===null||b.tag!==7?(b=Ys(w,x.mode,E,S),b.return=x,b):(b=i(b,w),b.return=x,b)}function d(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=wb(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Gp:return w=Zm(b.type,b.key,b.props,null,x.mode,w),w.ref=vd(x,null,b),w.return=x,w;case Jl:return b=_b(b,x.mode,w),b.return=x,b;case ho:var E=b._init;return d(x,E(b._payload),w)}if(Ud(b)||hd(b))return b=Ys(b,x.mode,w,null),b.return=x,b;im(x,b)}return null}function h(x,b,w,E){var S=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:s(x,b,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Gp:return w.key===S?l(x,b,w,E):null;case Jl:return w.key===S?c(x,b,w,E):null;case ho:return S=w._init,h(x,b,S(w._payload),E)}if(Ud(w)||hd(w))return S!==null?null:u(x,b,w,E,null);im(x,w)}return null}function p(x,b,w,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return x=x.get(w)||null,s(b,x,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Gp:return x=x.get(E.key===null?w:E.key)||null,l(b,x,E,S);case Jl:return x=x.get(E.key===null?w:E.key)||null,c(b,x,E,S);case ho:var P=E._init;return p(x,b,w,P(E._payload),S)}if(Ud(E)||hd(E))return x=x.get(w)||null,u(b,x,E,S,null);im(b,E)}return null}function g(x,b,w,E){for(var S=null,P=null,_=b,k=b=0,A=null;_!==null&&k<w.length;k++){_.index>k?(A=_,_=null):A=_.sibling;var I=h(x,_,w[k],E);if(I===null){_===null&&(_=A);break}t&&_&&I.alternate===null&&e(x,_),b=a(I,b,k),P===null?S=I:P.sibling=I,P=I,_=A}if(k===w.length)return n(x,_),Nt&&Is(x,k),S;if(_===null){for(;k<w.length;k++)_=d(x,w[k],E),_!==null&&(b=a(_,b,k),P===null?S=_:P.sibling=_,P=_);return Nt&&Is(x,k),S}for(_=r(x,_);k<w.length;k++)A=p(_,x,k,w[k],E),A!==null&&(t&&A.alternate!==null&&_.delete(A.key===null?k:A.key),b=a(A,b,k),P===null?S=A:P.sibling=A,P=A);return t&&_.forEach(function(O){return e(x,O)}),Nt&&Is(x,k),S}function y(x,b,w,E){var S=hd(w);if(typeof S!="function")throw Error(he(150));if(w=S.call(w),w==null)throw Error(he(151));for(var P=S=null,_=b,k=b=0,A=null,I=w.next();_!==null&&!I.done;k++,I=w.next()){_.index>k?(A=_,_=null):A=_.sibling;var O=h(x,_,I.value,E);if(O===null){_===null&&(_=A);break}t&&_&&O.alternate===null&&e(x,_),b=a(O,b,k),P===null?S=O:P.sibling=O,P=O,_=A}if(I.done)return n(x,_),Nt&&Is(x,k),S;if(_===null){for(;!I.done;k++,I=w.next())I=d(x,I.value,E),I!==null&&(b=a(I,b,k),P===null?S=I:P.sibling=I,P=I);return Nt&&Is(x,k),S}for(_=r(x,_);!I.done;k++,I=w.next())I=p(_,x,k,I.value,E),I!==null&&(t&&I.alternate!==null&&_.delete(I.key===null?k:I.key),b=a(I,b,k),P===null?S=I:P.sibling=I,P=I);return t&&_.forEach(function(C){return e(x,C)}),Nt&&Is(x,k),S}function v(x,b,w,E){if(typeof w=="object"&&w!==null&&w.type===Zl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Gp:e:{for(var S=w.key,P=b;P!==null;){if(P.key===S){if(S=w.type,S===Zl){if(P.tag===7){n(x,P.sibling),b=i(P,w.props.children),b.return=x,x=b;break e}}else if(P.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ho&&R2(S)===P.type){n(x,P.sibling),b=i(P,w.props),b.ref=vd(x,P,w),b.return=x,x=b;break e}n(x,P);break}else e(x,P);P=P.sibling}w.type===Zl?(b=Ys(w.props.children,x.mode,E,w.key),b.return=x,x=b):(E=Zm(w.type,w.key,w.props,null,x.mode,E),E.ref=vd(x,b,w),E.return=x,x=E)}return o(x);case Jl:e:{for(P=w.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(x,b.sibling),b=i(b,w.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else e(x,b);b=b.sibling}b=_b(w,x.mode,E),b.return=x,x=b}return o(x);case ho:return P=w._init,v(x,b,P(w._payload),E)}if(Ud(w))return g(x,b,w,E);if(hd(w))return y(x,b,w,E);im(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(x,b.sibling),b=i(b,w),b.return=x,x=b):(n(x,b),b=wb(w,x.mode,E),b.return=x,x=b),o(x)):n(x,b)}return v}var Lc=B$(!0),z$=B$(!1),jg=os(null),Rg=null,sc=null,$E=null;function LE(){$E=sc=Rg=null}function FE(t){var e=jg.current;Pt(jg),t._currentValue=e}function c1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wc(t,e){Rg=t,$E=sc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(or=!0),t.firstContext=null)}function Xr(t){var e=t._currentValue;if($E!==t)if(t={context:t,memoizedValue:e,next:null},sc===null){if(Rg===null)throw Error(he(308));sc=t,Rg.dependencies={lanes:0,firstContext:t}}else sc=sc.next=t;return e}var Fs=null;function VE(t){Fs===null?Fs=[t]:Fs.push(t)}function q$(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,VE(e)):(n.next=i.next,i.next=n),e.interleaved=n,$a(t,r)}function $a(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var po=!1;function UE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function W$(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Oa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,et&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,$a(t,n)}return i=r.interleaved,i===null?(e.next=e,VE(r)):(e.next=i.next,i.next=e),r.interleaved=e,$a(t,n)}function Gm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,TE(t,n)}}function M2(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Mg(t,e,n,r){var i=t.updateQueue;po=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;o=0,u=c=l=null,s=a;do{var h=s.lane,p=s.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,y=s;switch(h=e,p=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=Dt({},d,h);break e;case 2:po=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);al|=o,t.lanes=o,t.memoizedState=d}}function D2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(he(191,i));i.call(r)}}}var lp={},Gi=os(lp),qf=os(lp),Wf=os(lp);function Vs(t){if(t===lp)throw Error(he(174));return t}function BE(t,e){switch(bt(Wf,e),bt(qf,t),bt(Gi,lp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zw(e,t)}Pt(Gi),bt(Gi,e)}function Fc(){Pt(Gi),Pt(qf),Pt(Wf)}function H$(t){Vs(Wf.current);var e=Vs(Gi.current),n=zw(e,t.type);e!==n&&(bt(qf,t),bt(Gi,n))}function zE(t){qf.current===t&&(Pt(Gi),Pt(qf))}var Ct=os(0);function Dg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mb=[];function qE(){for(var t=0;t<mb.length;t++)mb[t]._workInProgressVersionPrimary=null;mb.length=0}var Km=Qa.ReactCurrentDispatcher,gb=Qa.ReactCurrentBatchConfig,il=0,Mt=null,on=null,pn=null,$g=!1,uf=!1,Hf=0,q7=0;function An(){throw Error(he(321))}function WE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ti(t[n],e[n]))return!1;return!0}function HE(t,e,n,r,i,a){if(il=a,Mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Km.current=t===null||t.memoizedState===null?K7:Y7,t=n(r,i),uf){a=0;do{if(uf=!1,Hf=0,25<=a)throw Error(he(301));a+=1,pn=on=null,e.updateQueue=null,Km.current=Q7,t=n(r,i)}while(uf)}if(Km.current=Lg,e=on!==null&&on.next!==null,il=0,pn=on=Mt=null,$g=!1,e)throw Error(he(300));return t}function GE(){var t=Hf!==0;return Hf=0,t}function Di(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Mt.memoizedState=pn=t:pn=pn.next=t,pn}function Jr(){if(on===null){var t=Mt.alternate;t=t!==null?t.memoizedState:null}else t=on.next;var e=pn===null?Mt.memoizedState:pn.next;if(e!==null)pn=e,on=t;else{if(t===null)throw Error(he(310));on=t,t={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},pn===null?Mt.memoizedState=pn=t:pn=pn.next=t}return pn}function Gf(t,e){return typeof e=="function"?e(t):e}function yb(t){var e=Jr(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=on,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,c=a;do{var u=c.lane;if((il&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=d,o=r):l=l.next=d,Mt.lanes|=u,al|=u}c=c.next}while(c!==null&&c!==a);l===null?o=r:l.next=s,Ti(r,e.memoizedState)||(or=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,Mt.lanes|=a,al|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vb(t){var e=Jr(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Ti(a,e.memoizedState)||(or=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function G$(){}function K$(t,e){var n=Mt,r=Jr(),i=e(),a=!Ti(r.memoizedState,i);if(a&&(r.memoizedState=i,or=!0),r=r.queue,KE(X$.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||pn!==null&&pn.memoizedState.tag&1){if(n.flags|=2048,Kf(9,Q$.bind(null,n,r,i,e),void 0,null),mn===null)throw Error(he(349));il&30||Y$(n,e,i)}return i}function Y$(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Mt.updateQueue,e===null?(e={lastEffect:null,stores:null},Mt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Q$(t,e,n,r){e.value=n,e.getSnapshot=r,J$(e)&&Z$(t)}function X$(t,e,n){return n(function(){J$(e)&&Z$(t)})}function J$(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ti(t,n)}catch{return!0}}function Z$(t){var e=$a(t,1);e!==null&&Si(e,t,1,-1)}function $2(t){var e=Di();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gf,lastRenderedState:t},e.queue=t,t=t.dispatch=G7.bind(null,Mt,t),[e.memoizedState,t]}function Kf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Mt.updateQueue,e===null?(e={lastEffect:null,stores:null},Mt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function e4(){return Jr().memoizedState}function Ym(t,e,n,r){var i=Di();Mt.flags|=t,i.memoizedState=Kf(1|e,n,void 0,r===void 0?null:r)}function sv(t,e,n,r){var i=Jr();r=r===void 0?null:r;var a=void 0;if(on!==null){var o=on.memoizedState;if(a=o.destroy,r!==null&&WE(r,o.deps)){i.memoizedState=Kf(e,n,a,r);return}}Mt.flags|=t,i.memoizedState=Kf(1|e,n,a,r)}function L2(t,e){return Ym(8390656,8,t,e)}function KE(t,e){return sv(2048,8,t,e)}function t4(t,e){return sv(4,2,t,e)}function n4(t,e){return sv(4,4,t,e)}function r4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function i4(t,e,n){return n=n!=null?n.concat([t]):null,sv(4,4,r4.bind(null,e,t),n)}function YE(){}function a4(t,e){var n=Jr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&WE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function o4(t,e){var n=Jr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&WE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function s4(t,e,n){return il&21?(Ti(n,e)||(n=f$(),Mt.lanes|=n,al|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,or=!0),t.memoizedState=n)}function W7(t,e){var n=st;st=n!==0&&4>n?n:4,t(!0);var r=gb.transition;gb.transition={};try{t(!1),e()}finally{st=n,gb.transition=r}}function l4(){return Jr().memoizedState}function H7(t,e,n){var r=$o(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},c4(t))u4(e,n);else if(n=q$(t,e,n,r),n!==null){var i=Kn();Si(n,t,r,i),d4(n,e,r)}}function G7(t,e,n){var r=$o(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(c4(t))u4(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Ti(s,o)){var l=e.interleaved;l===null?(i.next=i,VE(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=q$(t,e,i,r),n!==null&&(i=Kn(),Si(n,t,r,i),d4(n,e,r))}}function c4(t){var e=t.alternate;return t===Mt||e!==null&&e===Mt}function u4(t,e){uf=$g=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function d4(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,TE(t,n)}}var Lg={readContext:Xr,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},K7={readContext:Xr,useCallback:function(t,e){return Di().memoizedState=[t,e===void 0?null:e],t},useContext:Xr,useEffect:L2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ym(4194308,4,r4.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ym(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ym(4,2,t,e)},useMemo:function(t,e){var n=Di();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Di();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=H7.bind(null,Mt,t),[r.memoizedState,t]},useRef:function(t){var e=Di();return t={current:t},e.memoizedState=t},useState:$2,useDebugValue:YE,useDeferredValue:function(t){return Di().memoizedState=t},useTransition:function(){var t=$2(!1),e=t[0];return t=W7.bind(null,t[1]),Di().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Mt,i=Di();if(Nt){if(n===void 0)throw Error(he(407));n=n()}else{if(n=e(),mn===null)throw Error(he(349));il&30||Y$(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,L2(X$.bind(null,r,a,t),[t]),r.flags|=2048,Kf(9,Q$.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Di(),e=mn.identifierPrefix;if(Nt){var n=Sa,r=_a;n=(r&~(1<<32-_i(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Hf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=q7++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Y7={readContext:Xr,useCallback:a4,useContext:Xr,useEffect:KE,useImperativeHandle:i4,useInsertionEffect:t4,useLayoutEffect:n4,useMemo:o4,useReducer:yb,useRef:e4,useState:function(){return yb(Gf)},useDebugValue:YE,useDeferredValue:function(t){var e=Jr();return s4(e,on.memoizedState,t)},useTransition:function(){var t=yb(Gf)[0],e=Jr().memoizedState;return[t,e]},useMutableSource:G$,useSyncExternalStore:K$,useId:l4,unstable_isNewReconciler:!1},Q7={readContext:Xr,useCallback:a4,useContext:Xr,useEffect:KE,useImperativeHandle:i4,useInsertionEffect:t4,useLayoutEffect:n4,useMemo:o4,useReducer:vb,useRef:e4,useState:function(){return vb(Gf)},useDebugValue:YE,useDeferredValue:function(t){var e=Jr();return on===null?e.memoizedState=t:s4(e,on.memoizedState,t)},useTransition:function(){var t=vb(Gf)[0],e=Jr().memoizedState;return[t,e]},useMutableSource:G$,useSyncExternalStore:K$,useId:l4,unstable_isNewReconciler:!1};function ci(t,e){if(t&&t.defaultProps){e=Dt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function u1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Dt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var lv={isMounted:function(t){return(t=t._reactInternals)?El(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Kn(),i=$o(t),a=Oa(r,i);a.payload=e,n!=null&&(a.callback=n),e=Mo(t,a,i),e!==null&&(Si(e,t,i,r),Gm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Kn(),i=$o(t),a=Oa(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Mo(t,a,i),e!==null&&(Si(e,t,i,r),Gm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Kn(),r=$o(t),i=Oa(n,r);i.tag=2,e!=null&&(i.callback=e),e=Mo(t,i,r),e!==null&&(Si(e,t,r,n),Gm(e,t,r))}};function F2(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!Vf(n,r)||!Vf(i,a):!0}function f4(t,e,n){var r=!1,i=Qo,a=e.contextType;return typeof a=="object"&&a!==null?a=Xr(a):(i=cr(e)?nl:Ln.current,r=e.contextTypes,a=(r=r!=null)?Dc(t,i):Qo),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=lv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function V2(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&lv.enqueueReplaceState(e,e.state,null)}function d1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},UE(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Xr(a):(a=cr(e)?nl:Ln.current,i.context=Dc(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(u1(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&lv.enqueueReplaceState(i,i.state,null),Mg(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Vc(t,e){try{var n="",r=e;do n+=EB(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function xb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function f1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var X7=typeof WeakMap=="function"?WeakMap:Map;function h4(t,e,n){n=Oa(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vg||(Vg=!0,_1=r),f1(t,e)},n}function p4(t,e,n){n=Oa(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){f1(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){f1(t,e),typeof r!="function"&&(Do===null?Do=new Set([this]):Do.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function U2(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new X7;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=dz.bind(null,t,e,n),e.then(t,t))}function B2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function z2(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Oa(-1,1),e.tag=2,Mo(n,e,1))),n.lanes|=1),t)}var J7=Qa.ReactCurrentOwner,or=!1;function Vn(t,e,n,r){e.child=t===null?z$(e,null,n,r):Lc(e,t.child,n,r)}function q2(t,e,n,r,i){n=n.render;var a=e.ref;return wc(e,i),r=HE(t,e,n,r,a,i),n=GE(),t!==null&&!or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,La(t,e,i)):(Nt&&n&&RE(e),e.flags|=1,Vn(t,e,r,i),e.child)}function W2(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!rk(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,m4(t,e,a,r,i)):(t=Zm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Vf,n(o,r)&&t.ref===e.ref)return La(t,e,i)}return e.flags|=1,t=Lo(a,r),t.ref=e.ref,t.return=e,e.child=t}function m4(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Vf(a,r)&&t.ref===e.ref)if(or=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(or=!0);else return e.lanes=t.lanes,La(t,e,i)}return h1(t,e,n,r,i)}function g4(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(cc,yr),yr|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,bt(cc,yr),yr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,bt(cc,yr),yr|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,bt(cc,yr),yr|=r;return Vn(t,e,i,n),e.child}function y4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function h1(t,e,n,r,i){var a=cr(n)?nl:Ln.current;return a=Dc(e,a),wc(e,i),n=HE(t,e,n,r,a,i),r=GE(),t!==null&&!or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,La(t,e,i)):(Nt&&r&&RE(e),e.flags|=1,Vn(t,e,n,i),e.child)}function H2(t,e,n,r,i){if(cr(n)){var a=!0;Ig(e)}else a=!1;if(wc(e,i),e.stateNode===null)Qm(t,e),f4(e,n,r),d1(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Xr(c):(c=cr(n)?nl:Ln.current,c=Dc(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==c)&&V2(e,o,r,c),po=!1;var h=e.memoizedState;o.state=h,Mg(e,r,o,i),l=e.memoizedState,s!==r||h!==l||lr.current||po?(typeof u=="function"&&(u1(e,n,u,r),l=e.memoizedState),(s=po||F2(e,n,s,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,W$(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:ci(e.type,s),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xr(l):(l=cr(n)?nl:Ln.current,l=Dc(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||h!==l)&&V2(e,o,r,l),po=!1,h=e.memoizedState,o.state=h,Mg(e,r,o,i);var g=e.memoizedState;s!==d||h!==g||lr.current||po?(typeof p=="function"&&(u1(e,n,p,r),g=e.memoizedState),(c=po||F2(e,n,c,r,h,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return p1(t,e,n,r,a,i)}function p1(t,e,n,r,i,a){y4(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&O2(e,n,!1),La(t,e,a);r=e.stateNode,J7.current=e;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Lc(e,t.child,null,a),e.child=Lc(e,null,s,a)):Vn(t,e,s,a),e.memoizedState=r.state,i&&O2(e,n,!0),e.child}function v4(t){var e=t.stateNode;e.pendingContext?I2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&I2(t,e.context,!1),BE(t,e.containerInfo)}function G2(t,e,n,r,i){return $c(),DE(i),e.flags|=256,Vn(t,e,n,r),e.child}var m1={dehydrated:null,treeContext:null,retryLane:0};function g1(t){return{baseLanes:t,cachePool:null,transitions:null}}function x4(t,e,n){var r=e.pendingProps,i=Ct.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),bt(Ct,i&1),t===null)return l1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=dv(o,r,0,null),t=Ys(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=g1(n),e.memoizedState=m1,t):QE(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Z7(t,e,o,r,s,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Lo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Lo(s,a):(a=Ys(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?g1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=m1,r}return a=t.child,t=a.sibling,r=Lo(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function QE(t,e){return e=dv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function am(t,e,n,r){return r!==null&&DE(r),Lc(e,t.child,null,n),t=QE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Z7(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=xb(Error(he(422))),am(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=dv({mode:"visible",children:r.children},i,0,null),a=Ys(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Lc(e,t.child,null,o),e.child.memoizedState=g1(o),e.memoizedState=m1,a);if(!(e.mode&1))return am(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(he(419)),r=xb(a,r,void 0),am(t,e,o,r)}if(s=(o&t.childLanes)!==0,or||s){if(r=mn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,$a(t,i),Si(r,t,i,-1))}return nk(),r=xb(Error(he(421))),am(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=fz.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,_r=Ro(i.nextSibling),kr=e,Nt=!0,fi=null,t!==null&&(Fr[Vr++]=_a,Fr[Vr++]=Sa,Fr[Vr++]=rl,_a=t.id,Sa=t.overflow,rl=e),e=QE(e,r.children),e.flags|=4096,e)}function K2(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),c1(t.return,e,n)}function bb(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function b4(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Vn(t,e,r.children,n),r=Ct.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&K2(t,n,e);else if(t.tag===19)K2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(bt(Ct,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Dg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),bb(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Dg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}bb(e,!0,n,null,a);break;case"together":bb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function La(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),al|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(he(153));if(e.child!==null){for(t=e.child,n=Lo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Lo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ez(t,e,n){switch(e.tag){case 3:v4(e),$c();break;case 5:H$(e);break;case 1:cr(e.type)&&Ig(e);break;case 4:BE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;bt(jg,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(bt(Ct,Ct.current&1),e.flags|=128,null):n&e.child.childLanes?x4(t,e,n):(bt(Ct,Ct.current&1),t=La(t,e,n),t!==null?t.sibling:null);bt(Ct,Ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return b4(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),bt(Ct,Ct.current),r)break;return null;case 22:case 23:return e.lanes=0,g4(t,e,n)}return La(t,e,n)}var w4,y1,_4,S4;w4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};y1=function(){};_4=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Vs(Gi.current);var a=null;switch(n){case"input":i=Fw(t,i),r=Fw(t,r),a=[];break;case"select":i=Dt({},i,{value:void 0}),r=Dt({},r,{value:void 0}),a=[];break;case"textarea":i=Bw(t,i),r=Bw(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ag)}qw(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(jf.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(jf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&St("scroll",t),a||s===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};S4=function(t,e,n,r){n!==r&&(e.flags|=4)};function xd(t,e){if(!Nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function tz(t,e,n){var r=e.pendingProps;switch(ME(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(e),null;case 1:return cr(e.type)&&Ng(),Nn(e),null;case 3:return r=e.stateNode,Fc(),Pt(lr),Pt(Ln),qE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(rm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fi!==null&&(k1(fi),fi=null))),y1(t,e),Nn(e),null;case 5:zE(e);var i=Vs(Wf.current);if(n=e.type,t!==null&&e.stateNode!=null)_4(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(he(166));return Nn(e),null}if(t=Vs(Gi.current),rm(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Fi]=e,r[zf]=a,t=(e.mode&1)!==0,n){case"dialog":St("cancel",r),St("close",r);break;case"iframe":case"object":case"embed":St("load",r);break;case"video":case"audio":for(i=0;i<zd.length;i++)St(zd[i],r);break;case"source":St("error",r);break;case"img":case"image":case"link":St("error",r),St("load",r);break;case"details":St("toggle",r);break;case"input":r2(r,a),St("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},St("invalid",r);break;case"textarea":a2(r,a),St("invalid",r)}qw(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&nm(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&nm(r.textContent,s,t),i=["children",""+s]):jf.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&St("scroll",r)}switch(n){case"input":Kp(r),i2(r,a,!0);break;case"textarea":Kp(r),o2(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Ag)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=XD(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Fi]=e,t[zf]=r,w4(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ww(n,r),n){case"dialog":St("cancel",t),St("close",t),i=r;break;case"iframe":case"object":case"embed":St("load",t),i=r;break;case"video":case"audio":for(i=0;i<zd.length;i++)St(zd[i],t);i=r;break;case"source":St("error",t),i=r;break;case"img":case"image":case"link":St("error",t),St("load",t),i=r;break;case"details":St("toggle",t),i=r;break;case"input":r2(t,r),i=Fw(t,r),St("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Dt({},r,{value:void 0}),St("invalid",t);break;case"textarea":a2(t,r),i=Bw(t,r),St("invalid",t);break;default:i=r}qw(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?e$(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&JD(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Rf(t,l):typeof l=="number"&&Rf(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(jf.hasOwnProperty(a)?l!=null&&a==="onScroll"&&St("scroll",t):l!=null&&bE(t,a,l,o))}switch(n){case"input":Kp(t),i2(t,r,!1);break;case"textarea":Kp(t),o2(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yo(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?yc(t,!!r.multiple,a,!1):r.defaultValue!=null&&yc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ag)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nn(e),null;case 6:if(t&&e.stateNode!=null)S4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(he(166));if(n=Vs(Wf.current),Vs(Gi.current),rm(e)){if(r=e.stateNode,n=e.memoizedProps,r[Fi]=e,(a=r.nodeValue!==n)&&(t=kr,t!==null))switch(t.tag){case 3:nm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&nm(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fi]=e,e.stateNode=r}return Nn(e),null;case 13:if(Pt(Ct),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Nt&&_r!==null&&e.mode&1&&!(e.flags&128))U$(),$c(),e.flags|=98560,a=!1;else if(a=rm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(he(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(he(317));a[Fi]=e}else $c(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nn(e),a=!1}else fi!==null&&(k1(fi),fi=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ct.current&1?sn===0&&(sn=3):nk())),e.updateQueue!==null&&(e.flags|=4),Nn(e),null);case 4:return Fc(),y1(t,e),t===null&&Uf(e.stateNode.containerInfo),Nn(e),null;case 10:return FE(e.type._context),Nn(e),null;case 17:return cr(e.type)&&Ng(),Nn(e),null;case 19:if(Pt(Ct),a=e.memoizedState,a===null)return Nn(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)xd(a,!1);else{if(sn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Dg(t),o!==null){for(e.flags|=128,xd(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return bt(Ct,Ct.current&1|2),e.child}t=t.sibling}a.tail!==null&&qt()>Uc&&(e.flags|=128,r=!0,xd(a,!1),e.lanes=4194304)}else{if(!r)if(t=Dg(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Nt)return Nn(e),null}else 2*qt()-a.renderingStartTime>Uc&&n!==1073741824&&(e.flags|=128,r=!0,xd(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=qt(),e.sibling=null,n=Ct.current,bt(Ct,r?n&1|2:n&1),e):(Nn(e),null);case 22:case 23:return tk(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yr&1073741824&&(Nn(e),e.subtreeFlags&6&&(e.flags|=8192)):Nn(e),null;case 24:return null;case 25:return null}throw Error(he(156,e.tag))}function nz(t,e){switch(ME(e),e.tag){case 1:return cr(e.type)&&Ng(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fc(),Pt(lr),Pt(Ln),qE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return zE(e),null;case 13:if(Pt(Ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(he(340));$c()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pt(Ct),null;case 4:return Fc(),null;case 10:return FE(e.type._context),null;case 22:case 23:return tk(),null;case 24:return null;default:return null}}var om=!1,jn=!1,rz=typeof WeakSet=="function"?WeakSet:Set,Se=null;function lc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Vt(t,e,r)}else n.current=null}function v1(t,e,n){try{n()}catch(r){Vt(t,e,r)}}var Y2=!1;function iz(t,e){if(t1=kg,t=A$(),jE(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(s=o+i),d!==a||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===i&&(s=o),h===a&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(n1={focusedElem:t,selectionRange:n},kg=!1,Se=e;Se!==null;)if(e=Se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Se=t;else for(;Se!==null;){e=Se;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,v=g.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:ci(e.type,y),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(E){Vt(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Se=t;break}Se=e.return}return g=Y2,Y2=!1,g}function df(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&v1(e,n,a)}i=i.next}while(i!==r)}}function cv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function x1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function E4(t){var e=t.alternate;e!==null&&(t.alternate=null,E4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fi],delete e[zf],delete e[a1],delete e[V7],delete e[U7])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function k4(t){return t.tag===5||t.tag===3||t.tag===4}function Q2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||k4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function b1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ag));else if(r!==4&&(t=t.child,t!==null))for(b1(t,e,n),t=t.sibling;t!==null;)b1(t,e,n),t=t.sibling}function w1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(w1(t,e,n),t=t.sibling;t!==null;)w1(t,e,n),t=t.sibling}var bn=null,ui=!1;function oo(t,e,n){for(n=n.child;n!==null;)T4(t,e,n),n=n.sibling}function T4(t,e,n){if(Hi&&typeof Hi.onCommitFiberUnmount=="function")try{Hi.onCommitFiberUnmount(tv,n)}catch{}switch(n.tag){case 5:jn||lc(n,e);case 6:var r=bn,i=ui;bn=null,oo(t,e,n),bn=r,ui=i,bn!==null&&(ui?(t=bn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bn.removeChild(n.stateNode));break;case 18:bn!==null&&(ui?(t=bn,n=n.stateNode,t.nodeType===8?hb(t.parentNode,n):t.nodeType===1&&hb(t,n),Lf(t)):hb(bn,n.stateNode));break;case 4:r=bn,i=ui,bn=n.stateNode.containerInfo,ui=!0,oo(t,e,n),bn=r,ui=i;break;case 0:case 11:case 14:case 15:if(!jn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&v1(n,e,o),i=i.next}while(i!==r)}oo(t,e,n);break;case 1:if(!jn&&(lc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Vt(n,e,s)}oo(t,e,n);break;case 21:oo(t,e,n);break;case 22:n.mode&1?(jn=(r=jn)||n.memoizedState!==null,oo(t,e,n),jn=r):oo(t,e,n);break;default:oo(t,e,n)}}function X2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new rz),e.forEach(function(r){var i=hz.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function si(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:bn=s.stateNode,ui=!1;break e;case 3:bn=s.stateNode.containerInfo,ui=!0;break e;case 4:bn=s.stateNode.containerInfo,ui=!0;break e}s=s.return}if(bn===null)throw Error(he(160));T4(a,o,i),bn=null,ui=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Vt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)P4(e,t),e=e.sibling}function P4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(si(e,t),Mi(t),r&4){try{df(3,t,t.return),cv(3,t)}catch(y){Vt(t,t.return,y)}try{df(5,t,t.return)}catch(y){Vt(t,t.return,y)}}break;case 1:si(e,t),Mi(t),r&512&&n!==null&&lc(n,n.return);break;case 5:if(si(e,t),Mi(t),r&512&&n!==null&&lc(n,n.return),t.flags&32){var i=t.stateNode;try{Rf(i,"")}catch(y){Vt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&YD(i,a),Ww(s,o);var c=Ww(s,a);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?e$(i,d):u==="dangerouslySetInnerHTML"?JD(i,d):u==="children"?Rf(i,d):bE(i,u,d,c)}switch(s){case"input":Vw(i,a);break;case"textarea":QD(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?yc(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?yc(i,!!a.multiple,a.defaultValue,!0):yc(i,!!a.multiple,a.multiple?[]:"",!1))}i[zf]=a}catch(y){Vt(t,t.return,y)}}break;case 6:if(si(e,t),Mi(t),r&4){if(t.stateNode===null)throw Error(he(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(y){Vt(t,t.return,y)}}break;case 3:if(si(e,t),Mi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Lf(e.containerInfo)}catch(y){Vt(t,t.return,y)}break;case 4:si(e,t),Mi(t);break;case 13:si(e,t),Mi(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(ZE=qt())),r&4&&X2(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(jn=(c=jn)||u,si(e,t),jn=c):si(e,t),Mi(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Se=t,u=t.child;u!==null;){for(d=Se=u;Se!==null;){switch(h=Se,p=h.child,h.tag){case 0:case 11:case 14:case 15:df(4,h,h.return);break;case 1:lc(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Vt(r,n,y)}}break;case 5:lc(h,h.return);break;case 22:if(h.memoizedState!==null){Z2(d);continue}}p!==null?(p.return=h,Se=p):Z2(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=ZD("display",o))}catch(y){Vt(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Vt(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:si(e,t),Mi(t),r&4&&X2(t);break;case 21:break;default:si(e,t),Mi(t)}}function Mi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(k4(n)){var r=n;break e}n=n.return}throw Error(he(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Rf(i,""),r.flags&=-33);var a=Q2(t);w1(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=Q2(t);b1(t,s,o);break;default:throw Error(he(161))}}catch(l){Vt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function az(t,e,n){Se=t,A4(t)}function A4(t,e,n){for(var r=(t.mode&1)!==0;Se!==null;){var i=Se,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||om;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||jn;s=om;var c=jn;if(om=o,(jn=l)&&!c)for(Se=i;Se!==null;)o=Se,l=o.child,o.tag===22&&o.memoizedState!==null?eN(i):l!==null?(l.return=o,Se=l):eN(i);for(;a!==null;)Se=a,A4(a),a=a.sibling;Se=i,om=s,jn=c}J2(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Se=a):J2(t)}}function J2(t){for(;Se!==null;){var e=Se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jn||cv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!jn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ci(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&D2(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}D2(e,o,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Lf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}jn||e.flags&512&&x1(e)}catch(h){Vt(e,e.return,h)}}if(e===t){Se=null;break}if(n=e.sibling,n!==null){n.return=e.return,Se=n;break}Se=e.return}}function Z2(t){for(;Se!==null;){var e=Se;if(e===t){Se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Se=n;break}Se=e.return}}function eN(t){for(;Se!==null;){var e=Se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{cv(4,e)}catch(l){Vt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Vt(e,i,l)}}var a=e.return;try{x1(e)}catch(l){Vt(e,a,l)}break;case 5:var o=e.return;try{x1(e)}catch(l){Vt(e,o,l)}}}catch(l){Vt(e,e.return,l)}if(e===t){Se=null;break}var s=e.sibling;if(s!==null){s.return=e.return,Se=s;break}Se=e.return}}var oz=Math.ceil,Fg=Qa.ReactCurrentDispatcher,XE=Qa.ReactCurrentOwner,Gr=Qa.ReactCurrentBatchConfig,et=0,mn=null,Xt=null,kn=0,yr=0,cc=os(0),sn=0,Yf=null,al=0,uv=0,JE=0,ff=null,rr=null,ZE=0,Uc=1/0,ma=null,Vg=!1,_1=null,Do=null,sm=!1,To=null,Ug=0,hf=0,S1=null,Xm=-1,Jm=0;function Kn(){return et&6?qt():Xm!==-1?Xm:Xm=qt()}function $o(t){return t.mode&1?et&2&&kn!==0?kn&-kn:z7.transition!==null?(Jm===0&&(Jm=f$()),Jm):(t=st,t!==0||(t=window.event,t=t===void 0?16:x$(t.type)),t):1}function Si(t,e,n,r){if(50<hf)throw hf=0,S1=null,Error(he(185));ap(t,n,r),(!(et&2)||t!==mn)&&(t===mn&&(!(et&2)&&(uv|=n),sn===4&&xo(t,kn)),ur(t,r),n===1&&et===0&&!(e.mode&1)&&(Uc=qt()+500,ov&&ss()))}function ur(t,e){var n=t.callbackNode;zB(t,e);var r=Eg(t,t===mn?kn:0);if(r===0)n!==null&&c2(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&c2(n),e===1)t.tag===0?B7(tN.bind(null,t)):L$(tN.bind(null,t)),L7(function(){!(et&6)&&ss()}),n=null;else{switch(h$(r)){case 1:n=kE;break;case 4:n=u$;break;case 16:n=Sg;break;case 536870912:n=d$;break;default:n=Sg}n=D4(n,N4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function N4(t,e){if(Xm=-1,Jm=0,et&6)throw Error(he(327));var n=t.callbackNode;if(_c()&&t.callbackNode!==n)return null;var r=Eg(t,t===mn?kn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bg(t,r);else{e=r;var i=et;et|=2;var a=O4();(mn!==t||kn!==e)&&(ma=null,Uc=qt()+500,Ks(t,e));do try{cz();break}catch(s){I4(t,s)}while(!0);LE(),Fg.current=a,et=i,Xt!==null?e=0:(mn=null,kn=0,e=sn)}if(e!==0){if(e===2&&(i=Qw(t),i!==0&&(r=i,e=E1(t,i))),e===1)throw n=Yf,Ks(t,0),xo(t,r),ur(t,qt()),n;if(e===6)xo(t,r);else{if(i=t.current.alternate,!(r&30)&&!sz(i)&&(e=Bg(t,r),e===2&&(a=Qw(t),a!==0&&(r=a,e=E1(t,a))),e===1))throw n=Yf,Ks(t,0),xo(t,r),ur(t,qt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(he(345));case 2:Os(t,rr,ma);break;case 3:if(xo(t,r),(r&130023424)===r&&(e=ZE+500-qt(),10<e)){if(Eg(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Kn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=i1(Os.bind(null,t,rr,ma),e);break}Os(t,rr,ma);break;case 4:if(xo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-_i(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=qt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oz(r/1960))-r,10<r){t.timeoutHandle=i1(Os.bind(null,t,rr,ma),r);break}Os(t,rr,ma);break;case 5:Os(t,rr,ma);break;default:throw Error(he(329))}}}return ur(t,qt()),t.callbackNode===n?N4.bind(null,t):null}function E1(t,e){var n=ff;return t.current.memoizedState.isDehydrated&&(Ks(t,e).flags|=256),t=Bg(t,e),t!==2&&(e=rr,rr=n,e!==null&&k1(e)),t}function k1(t){rr===null?rr=t:rr.push.apply(rr,t)}function sz(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Ti(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xo(t,e){for(e&=~JE,e&=~uv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_i(e),r=1<<n;t[n]=-1,e&=~r}}function tN(t){if(et&6)throw Error(he(327));_c();var e=Eg(t,0);if(!(e&1))return ur(t,qt()),null;var n=Bg(t,e);if(t.tag!==0&&n===2){var r=Qw(t);r!==0&&(e=r,n=E1(t,r))}if(n===1)throw n=Yf,Ks(t,0),xo(t,e),ur(t,qt()),n;if(n===6)throw Error(he(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Os(t,rr,ma),ur(t,qt()),null}function ek(t,e){var n=et;et|=1;try{return t(e)}finally{et=n,et===0&&(Uc=qt()+500,ov&&ss())}}function ol(t){To!==null&&To.tag===0&&!(et&6)&&_c();var e=et;et|=1;var n=Gr.transition,r=st;try{if(Gr.transition=null,st=1,t)return t()}finally{st=r,Gr.transition=n,et=e,!(et&6)&&ss()}}function tk(){yr=cc.current,Pt(cc)}function Ks(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,$7(n)),Xt!==null)for(n=Xt.return;n!==null;){var r=n;switch(ME(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ng();break;case 3:Fc(),Pt(lr),Pt(Ln),qE();break;case 5:zE(r);break;case 4:Fc();break;case 13:Pt(Ct);break;case 19:Pt(Ct);break;case 10:FE(r.type._context);break;case 22:case 23:tk()}n=n.return}if(mn=t,Xt=t=Lo(t.current,null),kn=yr=e,sn=0,Yf=null,JE=uv=al=0,rr=ff=null,Fs!==null){for(e=0;e<Fs.length;e++)if(n=Fs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}Fs=null}return t}function I4(t,e){do{var n=Xt;try{if(LE(),Km.current=Lg,$g){for(var r=Mt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$g=!1}if(il=0,pn=on=Mt=null,uf=!1,Hf=0,XE.current=null,n===null||n.return===null){sn=1,Yf=e,Xt=null;break}e:{var a=t,o=n.return,s=n,l=e;if(e=kn,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=B2(o);if(p!==null){p.flags&=-257,z2(p,o,s,a,e),p.mode&1&&U2(a,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){U2(a,c,e),nk();break e}l=Error(he(426))}}else if(Nt&&s.mode&1){var v=B2(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),z2(v,o,s,a,e),DE(Vc(l,s));break e}}a=l=Vc(l,s),sn!==4&&(sn=2),ff===null?ff=[a]:ff.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var x=h4(a,l,e);M2(a,x);break e;case 1:s=l;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Do===null||!Do.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var E=p4(a,s,e);M2(a,E);break e}}a=a.return}while(a!==null)}j4(n)}catch(S){e=S,Xt===n&&n!==null&&(Xt=n=n.return);continue}break}while(!0)}function O4(){var t=Fg.current;return Fg.current=Lg,t===null?Lg:t}function nk(){(sn===0||sn===3||sn===2)&&(sn=4),mn===null||!(al&268435455)&&!(uv&268435455)||xo(mn,kn)}function Bg(t,e){var n=et;et|=2;var r=O4();(mn!==t||kn!==e)&&(ma=null,Ks(t,e));do try{lz();break}catch(i){I4(t,i)}while(!0);if(LE(),et=n,Fg.current=r,Xt!==null)throw Error(he(261));return mn=null,kn=0,sn}function lz(){for(;Xt!==null;)C4(Xt)}function cz(){for(;Xt!==null&&!RB();)C4(Xt)}function C4(t){var e=M4(t.alternate,t,yr);t.memoizedProps=t.pendingProps,e===null?j4(t):Xt=e,XE.current=null}function j4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=nz(n,e),n!==null){n.flags&=32767,Xt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{sn=6,Xt=null;return}}else if(n=tz(n,e,yr),n!==null){Xt=n;return}if(e=e.sibling,e!==null){Xt=e;return}Xt=e=t}while(e!==null);sn===0&&(sn=5)}function Os(t,e,n){var r=st,i=Gr.transition;try{Gr.transition=null,st=1,uz(t,e,n,r)}finally{Gr.transition=i,st=r}return null}function uz(t,e,n,r){do _c();while(To!==null);if(et&6)throw Error(he(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(he(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(qB(t,a),t===mn&&(Xt=mn=null,kn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sm||(sm=!0,D4(Sg,function(){return _c(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Gr.transition,Gr.transition=null;var o=st;st=1;var s=et;et|=4,XE.current=null,iz(t,n),P4(n,t),I7(n1),kg=!!t1,n1=t1=null,t.current=n,az(n),MB(),et=s,st=o,Gr.transition=a}else t.current=n;if(sm&&(sm=!1,To=t,Ug=i),a=t.pendingLanes,a===0&&(Do=null),LB(n.stateNode),ur(t,qt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vg)throw Vg=!1,t=_1,_1=null,t;return Ug&1&&t.tag!==0&&_c(),a=t.pendingLanes,a&1?t===S1?hf++:(hf=0,S1=t):hf=0,ss(),null}function _c(){if(To!==null){var t=h$(Ug),e=Gr.transition,n=st;try{if(Gr.transition=null,st=16>t?16:t,To===null)var r=!1;else{if(t=To,To=null,Ug=0,et&6)throw Error(he(331));var i=et;for(et|=4,Se=t.current;Se!==null;){var a=Se,o=a.child;if(Se.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(Se=c;Se!==null;){var u=Se;switch(u.tag){case 0:case 11:case 15:df(8,u,a)}var d=u.child;if(d!==null)d.return=u,Se=d;else for(;Se!==null;){u=Se;var h=u.sibling,p=u.return;if(E4(u),u===c){Se=null;break}if(h!==null){h.return=p,Se=h;break}Se=p}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}Se=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Se=o;else e:for(;Se!==null;){if(a=Se,a.flags&2048)switch(a.tag){case 0:case 11:case 15:df(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,Se=x;break e}Se=a.return}}var b=t.current;for(Se=b;Se!==null;){o=Se;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Se=w;else e:for(o=b;Se!==null;){if(s=Se,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:cv(9,s)}}catch(S){Vt(s,s.return,S)}if(s===o){Se=null;break e}var E=s.sibling;if(E!==null){E.return=s.return,Se=E;break e}Se=s.return}}if(et=i,ss(),Hi&&typeof Hi.onPostCommitFiberRoot=="function")try{Hi.onPostCommitFiberRoot(tv,t)}catch{}r=!0}return r}finally{st=n,Gr.transition=e}}return!1}function nN(t,e,n){e=Vc(n,e),e=h4(t,e,1),t=Mo(t,e,1),e=Kn(),t!==null&&(ap(t,1,e),ur(t,e))}function Vt(t,e,n){if(t.tag===3)nN(t,t,n);else for(;e!==null;){if(e.tag===3){nN(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Do===null||!Do.has(r))){t=Vc(n,t),t=p4(e,t,1),e=Mo(e,t,1),t=Kn(),e!==null&&(ap(e,1,t),ur(e,t));break}}e=e.return}}function dz(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Kn(),t.pingedLanes|=t.suspendedLanes&n,mn===t&&(kn&n)===n&&(sn===4||sn===3&&(kn&130023424)===kn&&500>qt()-ZE?Ks(t,0):JE|=n),ur(t,e)}function R4(t,e){e===0&&(t.mode&1?(e=Xp,Xp<<=1,!(Xp&130023424)&&(Xp=4194304)):e=1);var n=Kn();t=$a(t,e),t!==null&&(ap(t,e,n),ur(t,n))}function fz(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),R4(t,n)}function hz(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(he(314))}r!==null&&r.delete(e),R4(t,n)}var M4;M4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||lr.current)or=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return or=!1,ez(t,e,n);or=!!(t.flags&131072)}else or=!1,Nt&&e.flags&1048576&&F$(e,Cg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Qm(t,e),t=e.pendingProps;var i=Dc(e,Ln.current);wc(e,n),i=HE(null,e,r,t,i,n);var a=GE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cr(r)?(a=!0,Ig(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,UE(e),i.updater=lv,e.stateNode=i,i._reactInternals=e,d1(e,r,t,n),e=p1(null,e,r,!0,a,n)):(e.tag=0,Nt&&a&&RE(e),Vn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Qm(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=mz(r),t=ci(r,t),i){case 0:e=h1(null,e,r,t,n);break e;case 1:e=H2(null,e,r,t,n);break e;case 11:e=q2(null,e,r,t,n);break e;case 14:e=W2(null,e,r,ci(r.type,t),n);break e}throw Error(he(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ci(r,i),h1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ci(r,i),H2(t,e,r,i,n);case 3:e:{if(v4(e),t===null)throw Error(he(387));r=e.pendingProps,a=e.memoizedState,i=a.element,W$(t,e),Mg(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Vc(Error(he(423)),e),e=G2(t,e,r,n,i);break e}else if(r!==i){i=Vc(Error(he(424)),e),e=G2(t,e,r,n,i);break e}else for(_r=Ro(e.stateNode.containerInfo.firstChild),kr=e,Nt=!0,fi=null,n=z$(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($c(),r===i){e=La(t,e,n);break e}Vn(t,e,r,n)}e=e.child}return e;case 5:return H$(e),t===null&&l1(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,r1(r,i)?o=null:a!==null&&r1(r,a)&&(e.flags|=32),y4(t,e),Vn(t,e,o,n),e.child;case 6:return t===null&&l1(e),null;case 13:return x4(t,e,n);case 4:return BE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Lc(e,null,r,n):Vn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ci(r,i),q2(t,e,r,i,n);case 7:return Vn(t,e,e.pendingProps,n),e.child;case 8:return Vn(t,e,e.pendingProps.children,n),e.child;case 12:return Vn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,bt(jg,r._currentValue),r._currentValue=o,a!==null)if(Ti(a.value,o)){if(a.children===i.children&&!lr.current){e=La(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Oa(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),c1(a.return,n,e),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(he(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),c1(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Vn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,wc(e,n),i=Xr(i),r=r(i),e.flags|=1,Vn(t,e,r,n),e.child;case 14:return r=e.type,i=ci(r,e.pendingProps),i=ci(r.type,i),W2(t,e,r,i,n);case 15:return m4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ci(r,i),Qm(t,e),e.tag=1,cr(r)?(t=!0,Ig(e)):t=!1,wc(e,n),f4(e,r,i),d1(e,r,i,n),p1(null,e,r,!0,t,n);case 19:return b4(t,e,n);case 22:return g4(t,e,n)}throw Error(he(156,e.tag))};function D4(t,e){return c$(t,e)}function pz(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(t,e,n,r){return new pz(t,e,n,r)}function rk(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mz(t){if(typeof t=="function")return rk(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_E)return 11;if(t===SE)return 14}return 2}function Lo(t,e){var n=t.alternate;return n===null?(n=qr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Zm(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")rk(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Zl:return Ys(n.children,i,a,e);case wE:o=8,i|=8;break;case Mw:return t=qr(12,n,e,i|2),t.elementType=Mw,t.lanes=a,t;case Dw:return t=qr(13,n,e,i),t.elementType=Dw,t.lanes=a,t;case $w:return t=qr(19,n,e,i),t.elementType=$w,t.lanes=a,t;case HD:return dv(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qD:o=10;break e;case WD:o=9;break e;case _E:o=11;break e;case SE:o=14;break e;case ho:o=16,r=null;break e}throw Error(he(130,t==null?t:typeof t,""))}return e=qr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Ys(t,e,n,r){return t=qr(7,t,r,e),t.lanes=n,t}function dv(t,e,n,r){return t=qr(22,t,r,e),t.elementType=HD,t.lanes=n,t.stateNode={isHidden:!1},t}function wb(t,e,n){return t=qr(6,t,null,e),t.lanes=n,t}function _b(t,e,n){return e=qr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function gz(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nb(0),this.expirationTimes=nb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ik(t,e,n,r,i,a,o,s,l){return t=new gz(t,e,n,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=qr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},UE(a),t}function yz(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function $4(t){if(!t)return Qo;t=t._reactInternals;e:{if(El(t)!==t||t.tag!==1)throw Error(he(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(he(171))}if(t.tag===1){var n=t.type;if(cr(n))return $$(t,n,e)}return e}function L4(t,e,n,r,i,a,o,s,l){return t=ik(n,r,!0,t,i,a,o,s,l),t.context=$4(null),n=t.current,r=Kn(),i=$o(n),a=Oa(r,i),a.callback=e??null,Mo(n,a,i),t.current.lanes=i,ap(t,i,r),ur(t,r),t}function fv(t,e,n,r){var i=e.current,a=Kn(),o=$o(i);return n=$4(n),e.context===null?e.context=n:e.pendingContext=n,e=Oa(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Mo(i,e,o),t!==null&&(Si(t,i,o,a),Gm(t,i,o)),o}function zg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ak(t,e){rN(t,e),(t=t.alternate)&&rN(t,e)}function vz(){return null}var F4=typeof reportError=="function"?reportError:function(t){console.error(t)};function ok(t){this._internalRoot=t}hv.prototype.render=ok.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(he(409));fv(t,e,null,null)};hv.prototype.unmount=ok.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ol(function(){fv(null,t,null,null)}),e[Da]=null}};function hv(t){this._internalRoot=t}hv.prototype.unstable_scheduleHydration=function(t){if(t){var e=g$();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vo.length&&e!==0&&e<vo[n].priority;n++);vo.splice(n,0,t),n===0&&v$(t)}};function sk(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function iN(){}function xz(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=zg(o);a.call(c)}}var o=L4(e,r,t,0,null,!1,!1,"",iN);return t._reactRootContainer=o,t[Da]=o.current,Uf(t.nodeType===8?t.parentNode:t),ol(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=zg(l);s.call(c)}}var l=ik(t,0,!1,null,null,!1,!1,"",iN);return t._reactRootContainer=l,t[Da]=l.current,Uf(t.nodeType===8?t.parentNode:t),ol(function(){fv(e,l,n,r)}),l}function mv(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=zg(o);s.call(l)}}fv(e,o,t,i)}else o=xz(n,e,t,i,r);return zg(o)}p$=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Bd(e.pendingLanes);n!==0&&(TE(e,n|1),ur(e,qt()),!(et&6)&&(Uc=qt()+500,ss()))}break;case 13:ol(function(){var r=$a(t,1);if(r!==null){var i=Kn();Si(r,t,1,i)}}),ak(t,1)}};PE=function(t){if(t.tag===13){var e=$a(t,134217728);if(e!==null){var n=Kn();Si(e,t,134217728,n)}ak(t,134217728)}};m$=function(t){if(t.tag===13){var e=$o(t),n=$a(t,e);if(n!==null){var r=Kn();Si(n,t,e,r)}ak(t,e)}};g$=function(){return st};y$=function(t,e){var n=st;try{return st=t,e()}finally{st=n}};Gw=function(t,e,n){switch(e){case"input":if(Vw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=av(r);if(!i)throw Error(he(90));KD(r),Vw(r,i)}}}break;case"textarea":QD(t,n);break;case"select":e=n.value,e!=null&&yc(t,!!n.multiple,e,!1)}};r$=ek;i$=ol;var bz={usingClientEntryPoint:!1,Events:[sp,rc,av,t$,n$,ek]},bd={findFiberByHostInstance:Ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wz={bundleType:bd.bundleType,version:bd.version,rendererPackageName:bd.rendererPackageName,rendererConfig:bd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=s$(t),t===null?null:t.stateNode},findFiberByHostInstance:bd.findFiberByHostInstance||vz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lm.isDisabled&&lm.supportsFiber)try{tv=lm.inject(wz),Hi=lm}catch{}}Or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bz;Or.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sk(e))throw Error(he(200));return yz(t,e,null,n)};Or.createRoot=function(t,e){if(!sk(t))throw Error(he(299));var n=!1,r="",i=F4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ik(t,1,!1,null,null,n,!1,r,i),t[Da]=e.current,Uf(t.nodeType===8?t.parentNode:t),new ok(e)};Or.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(he(188)):(t=Object.keys(t).join(","),Error(he(268,t)));return t=s$(e),t=t===null?null:t.stateNode,t};Or.flushSync=function(t){return ol(t)};Or.hydrate=function(t,e,n){if(!pv(e))throw Error(he(200));return mv(null,t,e,!0,n)};Or.hydrateRoot=function(t,e,n){if(!sk(t))throw Error(he(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=F4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=L4(e,null,t,1,n??null,i,!1,a,o),t[Da]=e.current,Uf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new hv(e)};Or.render=function(t,e,n){if(!pv(e))throw Error(he(200));return mv(null,t,e,!1,n)};Or.unmountComponentAtNode=function(t){if(!pv(t))throw Error(he(40));return t._reactRootContainer?(ol(function(){mv(null,null,t,!1,function(){t._reactRootContainer=null,t[Da]=null})}),!0):!1};Or.unstable_batchedUpdates=ek;Or.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!pv(n))throw Error(he(200));if(t==null||t._reactInternals===void 0)throw Error(he(38));return mv(t,e,n,!1,r)};Or.version="18.3.1-next-f1338f8080-20240426";function V4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(V4)}catch(t){console.error(t)}}V4(),VD.exports=Or;var _z=VD.exports,aN=_z;jw.createRoot=aN.createRoot,jw.hydrateRoot=aN.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qf(){return Qf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qf.apply(this,arguments)}var Po;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Po||(Po={}));const oN="popstate";function Sz(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:o,hash:s}=r.location;return T1("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:qg(i)}return kz(e,n,null,t)}function Ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ez(){return Math.random().toString(36).substr(2,8)}function sN(t,e){return{usr:t.state,key:t.key,idx:e}}function T1(t,e,n,r){return n===void 0&&(n=null),Qf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Nu(e):e,{state:n,key:e&&e.key||r||Ez()})}function qg(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Nu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function kz(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=Po.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Qf({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){s=Po.Pop;let v=u(),x=v==null?null:v-c;c=v,l&&l({action:s,location:y.location,delta:x})}function h(v,x){s=Po.Push;let b=T1(y.location,v,x);c=u()+1;let w=sN(b,c),E=y.createHref(b);try{o.pushState(w,"",E)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(E)}a&&l&&l({action:s,location:y.location,delta:1})}function p(v,x){s=Po.Replace;let b=T1(y.location,v,x);c=u();let w=sN(b,c),E=y.createHref(b);o.replaceState(w,"",E),a&&l&&l({action:s,location:y.location,delta:0})}function g(v){let x=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof v=="string"?v:qg(v);return b=b.replace(/ $/,"%20"),Ht(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let y={get action(){return s},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(oN,d),l=v,()=>{i.removeEventListener(oN,d),l=null}},createHref(v){return e(i,v)},createURL:g,encodeLocation(v){let x=g(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(v){return o.go(v)}};return y}var lN;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(lN||(lN={}));function Tz(t,e,n){return n===void 0&&(n="/"),Pz(t,e,n)}function Pz(t,e,n,r){let i=typeof e=="string"?Nu(e):e,a=ck(i.pathname||"/",n);if(a==null)return null;let o=U4(t);Az(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let c=Vz(a);s=$z(o[l],c)}return s}function U4(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(Ht(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Fo([r,l.relativePath]),u=n.concat(l);a.children&&a.children.length>0&&(Ht(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),U4(a.children,e,u,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:Mz(c,a.index),routesMeta:u})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of B4(a.path))i(a,o,l)}),e}function B4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=B4(r.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function Az(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Dz(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Nz=/^:[\w-]+$/,Iz=3,Oz=2,Cz=1,jz=10,Rz=-2,cN=t=>t==="*";function Mz(t,e){let n=t.split("/"),r=n.length;return n.some(cN)&&(r+=Rz),e&&(r+=Oz),n.filter(i=>!cN(i)).reduce((i,a)=>i+(Nz.test(a)?Iz:a===""?Cz:jz),r)}function Dz(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function $z(t,e,n){let{routesMeta:r}=t,i={},a="/",o=[];for(let s=0;s<r.length;++s){let l=r[s],c=s===r.length-1,u=a==="/"?e:e.slice(a.length)||"/",d=Lz({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Fo([a,d.pathname]),pathnameBase:Wz(Fo([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=Fo([a,d.pathnameBase]))}return o}function Lz(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Fz(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let y=s[d]||"";o=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const g=s[d];return p&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:t}}function Fz(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),lk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Vz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ck(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Uz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bz=t=>Uz.test(t);function zz(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Nu(t):t,a;if(n)if(Bz(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),lk(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?a=uN(n.substring(1),"/"):a=uN(n,e)}else a=e;return{pathname:a,search:Hz(r),hash:Gz(i)}}function uN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Sb(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qz(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function uk(t,e){let n=qz(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function dk(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Nu(t):(i=Qf({},t),Ht(!i.pathname||!i.pathname.includes("?"),Sb("?","pathname","search",i)),Ht(!i.pathname||!i.pathname.includes("#"),Sb("#","pathname","hash",i)),Ht(!i.search||!i.search.includes("#"),Sb("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}s=d>=0?e[d]:"/"}let l=zz(i,s),c=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Fo=t=>t.join("/").replace(/\/\/+/g,"/"),Wz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Hz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Gz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Kz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const z4=["post","put","patch","delete"];new Set(z4);const Yz=["get",...z4];new Set(Yz);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xf(){return Xf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xf.apply(this,arguments)}const fk=R.createContext(null),Qz=R.createContext(null),ls=R.createContext(null),gv=R.createContext(null),cs=R.createContext({outlet:null,matches:[],isDataRoute:!1}),q4=R.createContext(null);function Xz(t,e){let{relative:n}=e===void 0?{}:e;Iu()||Ht(!1);let{basename:r,navigator:i}=R.useContext(ls),{hash:a,pathname:o,search:s}=G4(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Fo([r,o])),i.createHref({pathname:l,search:s,hash:a})}function Iu(){return R.useContext(gv)!=null}function Ou(){return Iu()||Ht(!1),R.useContext(gv).location}function W4(t){R.useContext(ls).static||R.useLayoutEffect(t)}function H4(){let{isDataRoute:t}=R.useContext(cs);return t?uq():Jz()}function Jz(){Iu()||Ht(!1);let t=R.useContext(fk),{basename:e,future:n,navigator:r}=R.useContext(ls),{matches:i}=R.useContext(cs),{pathname:a}=Ou(),o=JSON.stringify(uk(i,n.v7_relativeSplatPath)),s=R.useRef(!1);return W4(()=>{s.current=!0}),R.useCallback(function(c,u){if(u===void 0&&(u={}),!s.current)return;if(typeof c=="number"){r.go(c);return}let d=dk(c,JSON.parse(o),a,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Fo([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,a,t])}function G4(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=R.useContext(ls),{matches:i}=R.useContext(cs),{pathname:a}=Ou(),o=JSON.stringify(uk(i,r.v7_relativeSplatPath));return R.useMemo(()=>dk(t,JSON.parse(o),a,n==="path"),[t,o,a,n])}function Zz(t,e){return eq(t,e)}function eq(t,e,n,r){Iu()||Ht(!1);let{navigator:i}=R.useContext(ls),{matches:a}=R.useContext(cs),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ou(),u;if(e){var d;let v=typeof e=="string"?Nu(e):e;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||Ht(!1),u=v}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=Tz(t,{pathname:p}),y=aq(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:Fo([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Fo([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,n,r);return e&&y?R.createElement(gv.Provider,{value:{location:Xf({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Po.Pop}},y):y}function tq(){let t=cq(),e=Kz(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,null)}const nq=R.createElement(tq,null);class rq extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?R.createElement(cs.Provider,{value:this.props.routeContext},R.createElement(q4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iq(t){let{routeContext:e,match:n,children:r}=t,i=R.useContext(fk);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(cs.Provider,{value:e},r)}function aq(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let u=o.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);u>=0||Ht(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=n,g=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let p,g=!1,y=null,v=null;n&&(p=s&&d.route.id?s[d.route.id]:void 0,y=d.route.errorElement||nq,l&&(c<0&&h===0?(dq("route-fallback"),g=!0,v=null):c===h&&(g=!0,v=d.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,h+1)),b=()=>{let w;return p?w=y:g?w=v:d.route.Component?w=R.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,R.createElement(iq,{match:d,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?R.createElement(rq,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var K4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(K4||{}),Y4=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Y4||{});function oq(t){let e=R.useContext(fk);return e||Ht(!1),e}function sq(t){let e=R.useContext(Qz);return e||Ht(!1),e}function lq(t){let e=R.useContext(cs);return e||Ht(!1),e}function Q4(t){let e=lq(),n=e.matches[e.matches.length-1];return n.route.id||Ht(!1),n.route.id}function cq(){var t;let e=R.useContext(q4),n=sq(),r=Q4();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function uq(){let{router:t}=oq(K4.UseNavigateStable),e=Q4(Y4.UseNavigateStable),n=R.useRef(!1);return W4(()=>{n.current=!0}),R.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Xf({fromRouteId:e},a)))},[t,e])}const dN={};function dq(t,e,n){dN[t]||(dN[t]=!0)}function fq(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function hq(t){let{to:e,replace:n,state:r,relative:i}=t;Iu()||Ht(!1);let{future:a,static:o}=R.useContext(ls),{matches:s}=R.useContext(cs),{pathname:l}=Ou(),c=H4(),u=dk(e,uk(s,a.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return R.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function uo(t){Ht(!1)}function pq(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Po.Pop,navigator:a,static:o=!1,future:s}=t;Iu()&&Ht(!1);let l=e.replace(/^\/*/,"/"),c=R.useMemo(()=>({basename:l,navigator:a,static:o,future:Xf({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof r=="string"&&(r=Nu(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:g="default"}=r,y=R.useMemo(()=>{let v=ck(u,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:p,key:g},navigationType:i}},[l,u,d,h,p,g,i]);return y==null?null:R.createElement(ls.Provider,{value:c},R.createElement(gv.Provider,{children:n,value:y}))}function mq(t){let{children:e,location:n}=t;return Zz(P1(e),n)}new Promise(()=>{});function P1(t,e){e===void 0&&(e=[]);let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let a=[...e,i];if(r.type===R.Fragment){n.push.apply(n,P1(r.props.children,a));return}r.type!==uo&&Ht(!1),!r.props.index||!r.props.children||Ht(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=P1(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function A1(){return A1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A1.apply(this,arguments)}function gq(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function yq(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vq(t,e){return t.button===0&&(!e||e==="_self")&&!yq(t)}const xq=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bq="6";try{window.__reactRouterVersion=bq}catch{}const wq="startTransition",fN=dB[wq];function _q(t){let{basename:e,children:n,future:r,window:i}=t,a=R.useRef();a.current==null&&(a.current=Sz({window:i,v5Compat:!0}));let o=a.current,[s,l]=R.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=R.useCallback(d=>{c&&fN?fN(()=>l(d)):l(d)},[l,c]);return R.useLayoutEffect(()=>o.listen(u),[o,u]),R.useEffect(()=>fq(r),[r]),R.createElement(pq,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:o,future:r})}const Sq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Eq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kq=R.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=gq(e,xq),{basename:p}=R.useContext(ls),g,y=!1;if(typeof c=="string"&&Eq.test(c)&&(g=c,Sq))try{let w=new URL(window.location.href),E=c.startsWith("//")?new URL(w.protocol+c):new URL(c),S=ck(E.pathname,p);E.origin===w.origin&&S!=null?c=S+E.search+E.hash:y=!0}catch{}let v=Xz(c,{relative:i}),x=Tq(c,{replace:o,state:s,target:l,preventScrollReset:u,relative:i,viewTransition:d});function b(w){r&&r(w),w.defaultPrevented||x(w)}return R.createElement("a",A1({},h,{href:g||v,onClick:y||a?r:b,ref:n,target:l}))});var hN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(hN||(hN={}));var pN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(pN||(pN={}));function Tq(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:s}=e===void 0?{}:e,l=H4(),c=Ou(),u=G4(t,{relative:o});return R.useCallback(d=>{if(vq(d,n)){d.preventDefault();let h=r!==void 0?r:qg(c)===qg(u);l(t,{replace:h,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[c,l,u,r,i,n,t,a,o,s])}/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),X4=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Aq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...s},l)=>R.createElement("svg",{ref:l,...Aq,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:X4("lucide",i),...s},[...o.map(([c,u])=>R.createElement(c,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(t,e)=>{const n=R.forwardRef(({className:r,...i},a)=>R.createElement(Nq,{ref:a,iconNode:e,className:X4(`lucide-${Pq(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=Ae("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=Ae("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=Ae("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=Ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=Ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=Ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=Ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=Ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=Ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=Ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=Ae("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=Ae("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=Ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=Ae("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=Ae("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=Ae("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=Ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=Ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=Ae("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=Ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=Ae("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=Ae("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=Ae("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=Ae("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=Ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=Ae("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=Ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=Ae("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=Ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=Ae("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=Ae("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=Ae("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=Ae("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=Ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=Ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=Ae("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=Ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=Ae("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=Ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=Ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=Ae("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=Ae("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=Ae("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=Ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=Ae("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=Ae("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=Ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=Ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=Ae("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=Ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=Ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=Ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=Ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=Ae("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=Ae("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Xq=()=>{};var vN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Jq=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],s=t[n++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},cL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=a>>2,d=(a&3)<<4|s>>4;let h=(s&15)<<2|c>>6,p=c&63;l||(p=64,o||(h=64)),r.push(n[u],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Jq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||s==null||c==null||d==null)throw new Zq;const h=a<<2|s>>4;if(r.push(h),c!==64){const p=s<<4&240|c>>2;if(r.push(p),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Zq extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eW=function(t){const e=lL(t);return cL.encodeByteArray(e,!0)},Wg=function(t){return eW(t).replace(/\./g,"")},uL=function(t){try{return cL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nW=()=>tW().__FIREBASE_DEFAULTS__,rW=()=>{if(typeof process>"u"||typeof vN>"u")return;const t=vN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iW=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uL(t[1]);return e&&JSON.parse(e)},vv=()=>{try{return Xq()||nW()||rW()||iW()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dL=t=>{var e,n;return(n=(e=vv())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},fL=t=>{const e=dL(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},hL=()=>{var t;return(t=vv())==null?void 0:t.config},pL=t=>{var e;return(e=vv())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aW{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xk(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Wg(JSON.stringify(n)),Wg(JSON.stringify(o)),""].join(".")}const mf={};function oW(){const t={prod:[],emulator:[]};for(const e of Object.keys(mf))mf[e]?t.emulator.push(e):t.prod.push(e);return t}function sW(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let xN=!1;function bk(t,e){if(typeof window>"u"||typeof document>"u"||!Tl(window.location.host)||mf[t]===e||mf[t]||xN)return;mf[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",a=oW().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function s(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{xN=!0,o()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=sW(r),p=n("text"),g=document.getElementById(p)||document.createElement("span"),y=n("learnmore"),v=document.getElementById(y)||document.createElement("a"),x=n("preprendIcon"),b=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;s(w),u(v,y);const E=c();l(b,x),w.append(b,g,v,E),document.body.appendChild(w)}a?(g.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lW(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fn())}function cW(){var e;const t=(e=vv())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uW(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dW(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fW(){const t=Fn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hW(){return!cW()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yL(){try{return typeof indexedDB=="object"}catch{return!1}}function vL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}function pW(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mW="FirebaseError";class ti extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mW,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?gW(a,r):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new ti(i,s,r)}}function gW(t,e){return t.replace(yW,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const yW=/\{\$([^}]+)}/g;function vW(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(bN(a)&&bN(o)){if(!Xo(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function bN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xW(t,e){const n=new bW(t,e);return n.subscribe.bind(n)}class bW{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wW(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=kb),i.error===void 0&&(i.error=kb),i.complete===void 0&&(i.complete=kb);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wW(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kb(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _W=1e3,SW=2,EW=4*60*60*1e3,kW=.5;function wN(t,e=_W,n=SW){const r=e*Math.pow(n,t),i=Math.round(kW*r*(Math.random()-.5)*2);return Math.min(EW,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t){return t&&t._delegate?t._delegate:t}class Zr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TW{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new aW;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AW(e))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cs){return this.instances.has(e)}getOptions(e=Cs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);r===s&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PW(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Cs){return this.component?this.component.multipleInstances?e:Cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PW(t){return t===Cs?void 0:t}function AW(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NW{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TW(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const IW={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},OW=Ge.INFO,CW={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},jW=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=CW[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let xv=class{constructor(e){this.name=e,this._logLevel=OW,this._logHandler=jW,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IW[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}};const RW=(t,e)=>e.some(n=>t instanceof n);let _N,SN;function MW(){return _N||(_N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DW(){return SN||(SN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xL=new WeakMap,I1=new WeakMap,bL=new WeakMap,Tb=new WeakMap,wk=new WeakMap;function $W(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Bo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&xL.set(n,t)}).catch(()=>{}),wk.set(e,t),e}function LW(t){if(I1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});I1.set(t,e)}let O1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return I1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function FW(t){O1=t(O1)}function VW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Pb(this),e,...n);return bL.set(r,e.sort?e.sort():[e]),Bo(r)}:DW().includes(t)?function(...e){return t.apply(Pb(this),e),Bo(xL.get(this))}:function(...e){return Bo(t.apply(Pb(this),e))}}function UW(t){return typeof t=="function"?VW(t):(t instanceof IDBTransaction&&LW(t),RW(t,MW())?new Proxy(t,O1):t)}function Bo(t){if(t instanceof IDBRequest)return $W(t);if(Tb.has(t))return Tb.get(t);const e=UW(t);return e!==t&&(Tb.set(t,e),wk.set(e,t)),e}const Pb=t=>wk.get(t);function wL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=Bo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Bo(o.result),l.oldVersion,l.newVersion,Bo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),s}const BW=["get","getKey","getAll","getAllKeys","count"],zW=["put","add","delete","clear"],Ab=new Map;function EN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ab.get(e))return Ab.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=zW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||BW.includes(n)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(s.shift())),(await Promise.all([c[n](...s),i&&l.done]))[0]};return Ab.set(e,a),a}FW(t=>({...t,get:(e,n,r)=>EN(e,n)||t.get(e,n,r),has:(e,n)=>!!EN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WW(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function WW(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const C1="@firebase/app",kN="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=new xv("@firebase/app"),HW="@firebase/app-compat",GW="@firebase/analytics-compat",KW="@firebase/analytics",YW="@firebase/app-check-compat",QW="@firebase/app-check",XW="@firebase/auth",JW="@firebase/auth-compat",ZW="@firebase/database",eH="@firebase/data-connect",tH="@firebase/database-compat",nH="@firebase/functions",rH="@firebase/functions-compat",iH="@firebase/installations",aH="@firebase/installations-compat",oH="@firebase/messaging",sH="@firebase/messaging-compat",lH="@firebase/performance",cH="@firebase/performance-compat",uH="@firebase/remote-config",dH="@firebase/remote-config-compat",fH="@firebase/storage",hH="@firebase/storage-compat",pH="@firebase/firestore",mH="@firebase/ai",gH="@firebase/firestore-compat",yH="firebase",vH="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="[DEFAULT]",xH={[C1]:"fire-core",[HW]:"fire-core-compat",[KW]:"fire-analytics",[GW]:"fire-analytics-compat",[QW]:"fire-app-check",[YW]:"fire-app-check-compat",[XW]:"fire-auth",[JW]:"fire-auth-compat",[ZW]:"fire-rtdb",[eH]:"fire-data-connect",[tH]:"fire-rtdb-compat",[nH]:"fire-fn",[rH]:"fire-fn-compat",[iH]:"fire-iid",[aH]:"fire-iid-compat",[oH]:"fire-fcm",[sH]:"fire-fcm-compat",[lH]:"fire-perf",[cH]:"fire-perf-compat",[uH]:"fire-rc",[dH]:"fire-rc-compat",[fH]:"fire-gcs",[hH]:"fire-gcs-compat",[pH]:"fire-fst",[gH]:"fire-fst-compat",[mH]:"fire-vertex","fire-js":"fire-js",[yH]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg=new Map,bH=new Map,R1=new Map;function TN(t,e){try{t.container.addComponent(e)}catch(n){Fa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Pi(t){const e=t.name;if(R1.has(e))return Fa.debug(`There were multiple attempts to register component ${e}.`),!1;R1.set(e,t);for(const n of Hg.values())TN(n,t);for(const n of bH.values())TN(n,t);return!0}function us(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zo=new Pl("app","Firebase",wH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=vH;function _L(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:j1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw zo.create("bad-app-name",{appName:String(i)});if(n||(n=hL()),!n)throw zo.create("no-options");const a=Hg.get(i);if(a){if(Xo(n,a.options)&&Xo(r,a.config))return a;throw zo.create("duplicate-app",{appName:i})}const o=new NW(i);for(const l of R1.values())o.addComponent(l);const s=new _H(n,r,o);return Hg.set(i,s),s}function bv(t=j1){const e=Hg.get(t);if(!e&&t===j1&&hL())return _L();if(!e)throw zo.create("no-app",{appName:t});return e}function dr(t,e,n){let r=xH[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fa.warn(o.join(" "));return}Pi(new Zr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SH="firebase-heartbeat-database",EH=1,Zf="firebase-heartbeat-store";let Nb=null;function SL(){return Nb||(Nb=wL(SH,EH,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zf)}catch(n){console.warn(n)}}}}).catch(t=>{throw zo.create("idb-open",{originalErrorMessage:t.message})})),Nb}async function kH(t){try{const n=(await SL()).transaction(Zf),r=await n.objectStore(Zf).get(EL(t));return await n.done,r}catch(e){if(e instanceof ti)Fa.warn(e.message);else{const n=zo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fa.warn(n.message)}}}async function PN(t,e){try{const r=(await SL()).transaction(Zf,"readwrite");await r.objectStore(Zf).put(e,EL(t)),await r.done}catch(n){if(n instanceof ti)Fa.warn(n.message);else{const r=zo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fa.warn(r.message)}}}function EL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TH=1024,PH=30;class AH{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IH(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=AN();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>PH){const o=OH(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Fa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=AN(),{heartbeatsToSend:r,unsentEntries:i}=NH(this._heartbeatsCache.heartbeats),a=Wg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Fa.warn(n),""}}}function AN(){return new Date().toISOString().substring(0,10)}function NH(t,e=TH){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),NN(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),NN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class IH{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yL()?vL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kH(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return PN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return PN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function NN(t){return Wg(JSON.stringify({version:2,heartbeats:t})).length}function OH(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CH(t){Pi(new Zr("platform-logger",e=>new qW(e),"PRIVATE")),Pi(new Zr("heartbeat",e=>new AH(e),"PRIVATE")),dr(C1,kN,t),dr(C1,kN,"esm2020"),dr("fire-js","")}CH("");var jH="firebase",RH="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dr(jH,RH,"app");function kL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MH=kL,TL=new Pl("auth","Firebase",kL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg=new xv("@firebase/auth");function DH(t,...e){Gg.logLevel<=Ge.WARN&&Gg.warn(`Auth (${Al}): ${t}`,...e)}function eg(t,...e){Gg.logLevel<=Ge.ERROR&&Gg.error(`Auth (${Al}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(t,...e){throw _k(t,...e)}function Ki(t,...e){return _k(t,...e)}function PL(t,e,n){const r={...MH(),[e]:n};return new Pl("auth","Firebase",r).create(e,{appName:t.name})}function Xs(t){return PL(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _k(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return TL.create(t,...e)}function Me(t,e,...n){if(!t)throw _k(e,...n)}function Ea(t){const e="INTERNAL ASSERTION FAILED: "+t;throw eg(e),new Error(e)}function Ua(t,e){t||Ea(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function $H(){return IN()==="http:"||IN()==="https:"}function IN(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($H()||gL()||"connection"in navigator)?navigator.onLine:!0}function FH(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ua(n>e,"Short delay should be less than long delay!"),this.isMobile=lW()||dW()}get(){return LH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(t,e){Ua(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ea("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ea("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ea("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BH=new up(3e4,6e4);function Ek(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ju(t,e,n,r,i={}){return NL(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const s=cp({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...a};return uW()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Tl(t.emulatorConfig.host)&&(c.credentials="include"),AL.fetch()(await IL(t,t.config.apiHost,n,s),c)})}async function NL(t,e,n){t._canInitEmulator=!1;const r={...VH,...e};try{const i=new qH(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw cm(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,c]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw cm(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw cm(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw cm(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw PL(t,u,c);Va(t,u)}}catch(i){if(i instanceof ti)throw i;Va(t,"network-request-failed",{message:String(i)})}}async function zH(t,e,n,r,i={}){const a=await ju(t,e,n,r,i);return"mfaPendingCredential"in a&&Va(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function IL(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?Sk(t.config,i):`${t.config.apiScheme}://${i}`;return UH.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}class qH{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ki(this.auth,"network-request-failed")),BH.get())})}}function cm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ki(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WH(t,e){return ju(t,"POST","/v1/accounts:delete",e)}async function Kg(t,e){return ju(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HH(t,e=!1){const n=tn(t),r=await n.getIdToken(e),i=kk(r);Me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:gf(Ib(i.auth_time)),issuedAtTime:gf(Ib(i.iat)),expirationTime:gf(Ib(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ib(t){return Number(t)*1e3}function kk(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return eg("JWT malformed, contained fewer than 3 sections"),null;try{const i=uL(n);return i?JSON.parse(i):(eg("Failed to decode base64 JWT payload"),null)}catch(i){return eg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ON(t){const e=kk(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ti&&GH(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function GH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gf(this.lastLoginAt),this.creationTime=gf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yg(t){var d;const e=t.auth,n=await t.getIdToken(),r=await eh(t,Kg(e,{idToken:n}));Me(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(d=i.providerUserInfo)!=null&&d.length?OL(i.providerUserInfo):[],o=QH(t.providerData,a),s=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),c=s?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new D1(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function YH(t){const e=tn(t);await Yg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QH(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function OL(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XH(t,e){const n=await NL(t,{},async()=>{const r=cp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await IL(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:r};return t.emulatorConfig&&Tl(t.emulatorConfig.host)&&(l.credentials="include"),AL.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function JH(t,e){return ju(t,"POST","/v2/accounts:revokeToken",Ek(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ON(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=ON(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await XH(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new Sc;return r&&(Me(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Me(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Me(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sc,this.toJSON())}_performRefresh(){return Ea("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class gi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new KH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new D1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await eh(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return HH(this,e)}reload(){return YH(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hi(this.auth.app))return Promise.reject(Xs(this.auth));const e=await this.getIdToken();return await eh(this,WH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,s=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:h,isAnonymous:p,providerData:g,stsTokenManager:y}=n;Me(d&&y,e,"internal-error");const v=Sc.fromJSON(this.name,y);Me(typeof d=="string",e,"internal-error"),so(r,e.name),so(i,e.name),Me(typeof h=="boolean",e,"internal-error"),Me(typeof p=="boolean",e,"internal-error"),so(a,e.name),so(o,e.name),so(s,e.name),so(l,e.name),so(c,e.name),so(u,e.name);const x=new gi({uid:d,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:a,tenantId:s,stsTokenManager:v,createdAt:c,lastLoginAt:u});return g&&Array.isArray(g)&&(x.providerData=g.map(b=>({...b}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new Sc;i.updateFromServerResponse(n);const a=new gi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Yg(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Me(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?OL(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new Sc;s.updateFromIdToken(r);const l=new gi({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new D1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=new Map;function ka(t){Ua(t instanceof Function,"Expected a class definition");let e=CN.get(t);return e?(Ua(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,CN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}CL.type="NONE";const jN=CL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(t,e,n){return`firebase:${t}:${e}:${n}`}class Ec{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=tg(this.userKey,i.apiKey,a),this.fullPersistenceKey=tg("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Kg(this.auth,{idToken:e}).catch(()=>{});return n?gi._fromGetAccountInfoResponse(this.auth,n,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ec(ka(jN),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||ka(jN);const o=tg(r,e.config.apiKey,e.name);let s=null;for(const c of n)try{const u=await c._get(o);if(u){let d;if(typeof u=="string"){const h=await Kg(e,{idToken:u}).catch(()=>{});if(!h)break;d=await gi._fromGetAccountInfoResponse(e,h,u)}else d=gi._fromJSON(e,u);c!==a&&(s=d),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Ec(a,e,r):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(o)}catch{}})),new Ec(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LL(e))return"Blackberry";if(FL(e))return"Webos";if(RL(e))return"Safari";if((e.includes("chrome/")||ML(e))&&!e.includes("edge/"))return"Chrome";if($L(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jL(t=Fn()){return/firefox\//i.test(t)}function RL(t=Fn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ML(t=Fn()){return/crios\//i.test(t)}function DL(t=Fn()){return/iemobile/i.test(t)}function $L(t=Fn()){return/android/i.test(t)}function LL(t=Fn()){return/blackberry/i.test(t)}function FL(t=Fn()){return/webos/i.test(t)}function Tk(t=Fn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ZH(t=Fn()){var e;return Tk(t)&&!!((e=window.navigator)!=null&&e.standalone)}function eG(){return fW()&&document.documentMode===10}function VL(t=Fn()){return Tk(t)||$L(t)||FL(t)||LL(t)||/windows phone/i.test(t)||DL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(t,e=[]){let n;switch(t){case"Browser":n=RN(Fn());break;case"Worker":n=`${RN(Fn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Al}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tG{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nG(t,e={}){return ju(t,"GET","/v2/passwordPolicy",Ek(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG=6;class iG{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??rG,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aG{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new MN(this),this.idTokenSubscription=new MN(this),this.beforeStateQueue=new tG(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ka(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Ec.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Kg(this,{idToken:e}),r=await gi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(hi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,s=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hi(this.app))return Promise.reject(Xs(this));const n=e?tn(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hi(this.app)?Promise.reject(Xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hi(this.app)?Promise.reject(Xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ka(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nG(this),n=new iG(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await JH(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ka(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await Ec.create(this,[ka(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&DH(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Pk(t){return tn(t)}class MN{constructor(e){this.auth=e,this.observer=null,this.addObserver=xW(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ak={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oG(t){Ak=t}function sG(t){return Ak.loadJS(t)}function lG(){return Ak.gapiScript}function cG(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uG(t,e){const n=us(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Xo(a,e??{}))return i;Va(i,"already-initialized")}return n.initialize({options:e})}function dG(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ka);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function fG(t,e,n){const r=Pk(t);Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=BL(e),{host:o,port:s}=hG(e),l=s===null?"":`:${s}`,c={url:`${a}//${o}${l}/`},u=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me(Xo(c,r.config.emulator)&&Xo(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Tl(o)?(xk(`${a}//${o}${l}`),bk("Auth",!0)):pG()}function BL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hG(t){const e=BL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:DN(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:DN(o)}}}function DN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function pG(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ea("not implemented")}_getIdTokenResponse(e){return Ea("not implemented")}_linkToIdToken(e,n){return Ea("not implemented")}_getReauthenticationResolver(e){return Ea("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(t,e){return zH(t,"POST","/v1/accounts:signInWithIdp",Ek(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mG="http://localhost";class ll extends zL{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ll(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Va("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const o=new ll(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return kc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,kc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,kc(e,n)}buildRequest(){const e={requestUri:mG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp extends qL{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends dp{constructor(){super("facebook.com")}static credential(e){return ll._fromParams({providerId:bo.PROVIDER_ID,signInMethod:bo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bo.credentialFromTaggedObject(e)}static credentialFromError(e){return bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bo.credential(e.oauthAccessToken)}catch{return null}}}bo.FACEBOOK_SIGN_IN_METHOD="facebook.com";bo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends dp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ll._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return wo.credential(n,r)}catch{return null}}}wo.GOOGLE_SIGN_IN_METHOD="google.com";wo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends dp{constructor(){super("github.com")}static credential(e){return ll._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _o.credential(e.oauthAccessToken)}catch{return null}}}_o.GITHUB_SIGN_IN_METHOD="github.com";_o.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends dp{constructor(){super("twitter.com")}static credential(e,n){return ll._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return So.credentialFromTaggedObject(e)}static credentialFromError(e){return So.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return So.credential(n,r)}catch{return null}}}So.TWITTER_SIGN_IN_METHOD="twitter.com";So.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await gi._fromIdTokenResponse(e,r,i),o=$N(r);return new qc({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=$N(r);return new qc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function $N(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg extends ti{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Qg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Qg(e,n,r,i)}}function WL(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Qg._fromErrorAndOperation(t,a,e,r):a})}async function gG(t,e,n=!1){const r=await eh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return qc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yG(t,e,n=!1){const{auth:r}=t;if(hi(r.app))return Promise.reject(Xs(r));const i="reauthenticate";try{const a=await eh(t,WL(r,i,e,t),n);Me(a.idToken,r,"internal-error");const o=kk(a.idToken);Me(o,r,"internal-error");const{sub:s}=o;return Me(t.uid===s,r,"user-mismatch"),qc._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Va(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vG(t,e,n=!1){if(hi(t.app))return Promise.reject(Xs(t));const r="signIn",i=await WL(t,r,e),a=await qc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}function xG(t,e,n,r){return tn(t).onIdTokenChanged(e,n,r)}function bG(t,e,n){return tn(t).beforeAuthStateChanged(e,n)}const Xg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xg,"1"),this.storage.removeItem(Xg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wG=1e3,_G=10;class GL extends HL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);eG()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_G):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},wG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}GL.type="LOCAL";const SG=GL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL extends HL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}KL.type="SESSION";const YL=KL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EG(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new wv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(o).map(async c=>c(n.origin,a)),l=await EG(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const c=Nk("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(h.data.response);break;default:clearTimeout(u),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(){return window}function TG(t){Yi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function PG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AG(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function NG(){return QL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL="firebaseLocalStorageDb",IG=1,Jg="firebaseLocalStorage",JL="fbase_key";class fp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _v(t,e){return t.transaction([Jg],e?"readwrite":"readonly").objectStore(Jg)}function OG(){const t=indexedDB.deleteDatabase(XL);return new fp(t).toPromise()}function $1(){const t=indexedDB.open(XL,IG);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Jg,{keyPath:JL})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Jg)?e(r):(r.close(),await OG(),e(await $1()))})})}async function LN(t,e,n){const r=_v(t,!0).put({[JL]:e,value:n});return new fp(r).toPromise()}async function CG(t,e){const n=_v(t,!1).get(e),r=await new fp(n).toPromise();return r===void 0?null:r.value}function FN(t,e){const n=_v(t,!0).delete(e);return new fp(n).toPromise()}const jG=800,RG=3;class ZL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>RG)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wv._getInstance(NG()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await PG(),!this.activeServiceWorker)return;this.sender=new kG(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $1();return await LN(e,Xg,"1"),await FN(e,Xg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>LN(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>CG(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>FN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=_v(i,!1).getAll();return new fp(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZL.type="LOCAL";const MG=ZL;new up(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DG(t,e){return e?ka(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik extends zL{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return kc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return kc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $G(t){return vG(t.auth,new Ik(t),t.bypassAuthState)}function LG(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),yG(n,new Ik(t),t.bypassAuthState)}async function FG(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),gG(n,new Ik(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $G;case"linkViaPopup":case"linkViaRedirect":return FG;case"reauthViaPopup":case"reauthViaRedirect":return LG;default:Va(this.auth,"internal-error")}}resolve(e){Ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VG=new up(2e3,1e4);class uc extends e3{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,uc.currentPopupAction&&uc.currentPopupAction.cancel(),uc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){Ua(this.filter.length===1,"Popup operations only handle one event");const e=Nk();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,VG.get())};e()}}uc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UG="pendingRedirect",ng=new Map;class BG extends e3{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ng.get(this.auth._key());if(!e){try{const r=await zG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ng.set(this.auth._key(),e)}return this.bypassAuthState||ng.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zG(t,e){const n=HG(e),r=WG(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function qG(t,e){ng.set(t._key(),e)}function WG(t){return ka(t._redirectPersistence)}function HG(t){return tg(UG,t.config.apiKey,t.name)}async function GG(t,e,n=!1){if(hi(t.app))return Promise.reject(Xs(t));const r=Pk(t),i=DG(r,e),o=await new BG(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KG=10*60*1e3;class YG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!t3(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ki(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KG&&this.cachedEventUids.clear(),this.cachedEventUids.has(VN(e))}saveEventToCache(e){this.cachedEventUids.add(VN(e)),this.lastProcessedEventTime=Date.now()}}function VN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function t3({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function QG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return t3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XG(t,e={}){return ju(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZG=/^https?/;async function eK(t){if(t.config.emulator)return;const{authorizedDomains:e}=await XG(t);for(const n of e)try{if(tK(n))return}catch{}Va(t,"unauthorized-domain")}function tK(t){const e=M1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!ZG.test(n))return!1;if(JG.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nK=new up(3e4,6e4);function UN(){const t=Yi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function rK(t){return new Promise((e,n)=>{var i,a,o;function r(){UN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UN(),n(Ki(t,"network-request-failed"))},timeout:nK.get()})}if((a=(i=Yi().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=Yi().gapi)!=null&&o.load)r();else{const s=cG("iframefcb");return Yi()[s]=()=>{gapi.load?r():n(Ki(t,"network-request-failed"))},sG(`${lG()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw rg=null,e})}let rg=null;function iK(t){return rg=rg||rK(t),rg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aK=new up(5e3,15e3),oK="__/auth/iframe",sK="emulator/auth/iframe",lK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uK(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Sk(e,sK):`https://${t.config.authDomain}/${oK}`,r={apiKey:e.apiKey,appName:t.name,v:Al},i=cK.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${cp(r).slice(1)}`}async function dK(t){const e=await iK(t),n=Yi().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:uK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lK,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=Ki(t,"network-request-failed"),s=Yi().setTimeout(()=>{a(o)},aK.get());function l(){Yi().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hK=500,pK=600,mK="_blank",gK="http://localhost";class BN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yK(t,e,n,r=hK,i=pK){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l={...fK,width:r.toString(),height:i.toString(),top:a,left:o},c=Fn().toLowerCase();n&&(s=ML(c)?mK:n),jL(c)&&(e=e||gK,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(ZH(c)&&s!=="_self")return vK(e||"",s),new BN(null);const d=window.open(e||"",s,u);Me(d,t,"popup-blocked");try{d.focus()}catch{}return new BN(d)}function vK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xK="__/auth/handler",bK="emulator/auth/handler",wK=encodeURIComponent("fac");async function zN(t,e,n,r,i,a){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Al,eventId:i};if(e instanceof qL){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",vW(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof dp){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const u of Object.keys(s))s[u]===void 0&&delete s[u];const l=await t._getAppCheckToken(),c=l?`#${wK}=${encodeURIComponent(l)}`:"";return`${_K(t)}?${cp(s).slice(1)}${c}`}function _K({config:t}){return t.emulator?Sk(t,bK):`https://${t.authDomain}/${xK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="webStorageSupport";class SK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YL,this._completeRedirectFn=GG,this._overrideRedirectResult=qG}async _openPopup(e,n,r,i){var o;Ua((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await zN(e,n,r,M1(),i);return yK(e,a,Nk())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await zN(e,n,r,M1(),i);return TG(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Ua(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await dK(e),r=new YG(e);return n.register("authEvent",i=>(Me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ob,{type:Ob},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[Ob];a!==void 0&&n(!!a),Va(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eK(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VL()||RL()||Tk()}}const EK=SK;var qN="@firebase/auth",WN="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kK{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TK(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PK(t){Pi(new Zr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;Me(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UL(t)},c=new aG(r,i,a,l);return dG(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Pi(new Zr("auth-internal",e=>{const n=Pk(e.getProvider("auth").getImmediate());return(r=>new kK(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(qN,WN,TK(t)),dr(qN,WN,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AK=5*60,NK=pL("authIdTokenMaxAge")||AK;let HN=null;const IK=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>NK)return;const i=n==null?void 0:n.token;HN!==i&&(HN=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function OK(t=bv()){const e=us(t,"auth");if(e.isInitialized())return e.getImmediate();const n=uG(t,{popupRedirectResolver:EK,persistence:[MG,SG,YL]}),r=pL("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=IK(a.toString());bG(n,o,()=>o(n.currentUser)),xG(n,s=>o(s))}}const i=dL("auth");return i&&fG(n,`http://${i}`),n}function CK(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}oG({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Ki("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",CK().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PK("Browser");var GN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qo,n3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,k){function A(){}A.prototype=k.prototype,_.F=k.prototype,_.prototype=new A,_.prototype.constructor=_,_.D=function(I,O,C){for(var j=Array(arguments.length-2),M=2;M<arguments.length;M++)j[M-2]=arguments[M];return k.prototype[O].apply(I,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,k,A){A||(A=0);const I=Array(16);if(typeof k=="string")for(var O=0;O<16;++O)I[O]=k.charCodeAt(A++)|k.charCodeAt(A++)<<8|k.charCodeAt(A++)<<16|k.charCodeAt(A++)<<24;else for(O=0;O<16;++O)I[O]=k[A++]|k[A++]<<8|k[A++]<<16|k[A++]<<24;k=_.g[0],A=_.g[1],O=_.g[2];let C=_.g[3],j;j=k+(C^A&(O^C))+I[0]+3614090360&4294967295,k=A+(j<<7&4294967295|j>>>25),j=C+(O^k&(A^O))+I[1]+3905402710&4294967295,C=k+(j<<12&4294967295|j>>>20),j=O+(A^C&(k^A))+I[2]+606105819&4294967295,O=C+(j<<17&4294967295|j>>>15),j=A+(k^O&(C^k))+I[3]+3250441966&4294967295,A=O+(j<<22&4294967295|j>>>10),j=k+(C^A&(O^C))+I[4]+4118548399&4294967295,k=A+(j<<7&4294967295|j>>>25),j=C+(O^k&(A^O))+I[5]+1200080426&4294967295,C=k+(j<<12&4294967295|j>>>20),j=O+(A^C&(k^A))+I[6]+2821735955&4294967295,O=C+(j<<17&4294967295|j>>>15),j=A+(k^O&(C^k))+I[7]+4249261313&4294967295,A=O+(j<<22&4294967295|j>>>10),j=k+(C^A&(O^C))+I[8]+1770035416&4294967295,k=A+(j<<7&4294967295|j>>>25),j=C+(O^k&(A^O))+I[9]+2336552879&4294967295,C=k+(j<<12&4294967295|j>>>20),j=O+(A^C&(k^A))+I[10]+4294925233&4294967295,O=C+(j<<17&4294967295|j>>>15),j=A+(k^O&(C^k))+I[11]+2304563134&4294967295,A=O+(j<<22&4294967295|j>>>10),j=k+(C^A&(O^C))+I[12]+1804603682&4294967295,k=A+(j<<7&4294967295|j>>>25),j=C+(O^k&(A^O))+I[13]+4254626195&4294967295,C=k+(j<<12&4294967295|j>>>20),j=O+(A^C&(k^A))+I[14]+2792965006&4294967295,O=C+(j<<17&4294967295|j>>>15),j=A+(k^O&(C^k))+I[15]+1236535329&4294967295,A=O+(j<<22&4294967295|j>>>10),j=k+(O^C&(A^O))+I[1]+4129170786&4294967295,k=A+(j<<5&4294967295|j>>>27),j=C+(A^O&(k^A))+I[6]+3225465664&4294967295,C=k+(j<<9&4294967295|j>>>23),j=O+(k^A&(C^k))+I[11]+643717713&4294967295,O=C+(j<<14&4294967295|j>>>18),j=A+(C^k&(O^C))+I[0]+3921069994&4294967295,A=O+(j<<20&4294967295|j>>>12),j=k+(O^C&(A^O))+I[5]+3593408605&4294967295,k=A+(j<<5&4294967295|j>>>27),j=C+(A^O&(k^A))+I[10]+38016083&4294967295,C=k+(j<<9&4294967295|j>>>23),j=O+(k^A&(C^k))+I[15]+3634488961&4294967295,O=C+(j<<14&4294967295|j>>>18),j=A+(C^k&(O^C))+I[4]+3889429448&4294967295,A=O+(j<<20&4294967295|j>>>12),j=k+(O^C&(A^O))+I[9]+568446438&4294967295,k=A+(j<<5&4294967295|j>>>27),j=C+(A^O&(k^A))+I[14]+3275163606&4294967295,C=k+(j<<9&4294967295|j>>>23),j=O+(k^A&(C^k))+I[3]+4107603335&4294967295,O=C+(j<<14&4294967295|j>>>18),j=A+(C^k&(O^C))+I[8]+1163531501&4294967295,A=O+(j<<20&4294967295|j>>>12),j=k+(O^C&(A^O))+I[13]+2850285829&4294967295,k=A+(j<<5&4294967295|j>>>27),j=C+(A^O&(k^A))+I[2]+4243563512&4294967295,C=k+(j<<9&4294967295|j>>>23),j=O+(k^A&(C^k))+I[7]+1735328473&4294967295,O=C+(j<<14&4294967295|j>>>18),j=A+(C^k&(O^C))+I[12]+2368359562&4294967295,A=O+(j<<20&4294967295|j>>>12),j=k+(A^O^C)+I[5]+4294588738&4294967295,k=A+(j<<4&4294967295|j>>>28),j=C+(k^A^O)+I[8]+2272392833&4294967295,C=k+(j<<11&4294967295|j>>>21),j=O+(C^k^A)+I[11]+1839030562&4294967295,O=C+(j<<16&4294967295|j>>>16),j=A+(O^C^k)+I[14]+4259657740&4294967295,A=O+(j<<23&4294967295|j>>>9),j=k+(A^O^C)+I[1]+2763975236&4294967295,k=A+(j<<4&4294967295|j>>>28),j=C+(k^A^O)+I[4]+1272893353&4294967295,C=k+(j<<11&4294967295|j>>>21),j=O+(C^k^A)+I[7]+4139469664&4294967295,O=C+(j<<16&4294967295|j>>>16),j=A+(O^C^k)+I[10]+3200236656&4294967295,A=O+(j<<23&4294967295|j>>>9),j=k+(A^O^C)+I[13]+681279174&4294967295,k=A+(j<<4&4294967295|j>>>28),j=C+(k^A^O)+I[0]+3936430074&4294967295,C=k+(j<<11&4294967295|j>>>21),j=O+(C^k^A)+I[3]+3572445317&4294967295,O=C+(j<<16&4294967295|j>>>16),j=A+(O^C^k)+I[6]+76029189&4294967295,A=O+(j<<23&4294967295|j>>>9),j=k+(A^O^C)+I[9]+3654602809&4294967295,k=A+(j<<4&4294967295|j>>>28),j=C+(k^A^O)+I[12]+3873151461&4294967295,C=k+(j<<11&4294967295|j>>>21),j=O+(C^k^A)+I[15]+530742520&4294967295,O=C+(j<<16&4294967295|j>>>16),j=A+(O^C^k)+I[2]+3299628645&4294967295,A=O+(j<<23&4294967295|j>>>9),j=k+(O^(A|~C))+I[0]+4096336452&4294967295,k=A+(j<<6&4294967295|j>>>26),j=C+(A^(k|~O))+I[7]+1126891415&4294967295,C=k+(j<<10&4294967295|j>>>22),j=O+(k^(C|~A))+I[14]+2878612391&4294967295,O=C+(j<<15&4294967295|j>>>17),j=A+(C^(O|~k))+I[5]+4237533241&4294967295,A=O+(j<<21&4294967295|j>>>11),j=k+(O^(A|~C))+I[12]+1700485571&4294967295,k=A+(j<<6&4294967295|j>>>26),j=C+(A^(k|~O))+I[3]+2399980690&4294967295,C=k+(j<<10&4294967295|j>>>22),j=O+(k^(C|~A))+I[10]+4293915773&4294967295,O=C+(j<<15&4294967295|j>>>17),j=A+(C^(O|~k))+I[1]+2240044497&4294967295,A=O+(j<<21&4294967295|j>>>11),j=k+(O^(A|~C))+I[8]+1873313359&4294967295,k=A+(j<<6&4294967295|j>>>26),j=C+(A^(k|~O))+I[15]+4264355552&4294967295,C=k+(j<<10&4294967295|j>>>22),j=O+(k^(C|~A))+I[6]+2734768916&4294967295,O=C+(j<<15&4294967295|j>>>17),j=A+(C^(O|~k))+I[13]+1309151649&4294967295,A=O+(j<<21&4294967295|j>>>11),j=k+(O^(A|~C))+I[4]+4149444226&4294967295,k=A+(j<<6&4294967295|j>>>26),j=C+(A^(k|~O))+I[11]+3174756917&4294967295,C=k+(j<<10&4294967295|j>>>22),j=O+(k^(C|~A))+I[2]+718787259&4294967295,O=C+(j<<15&4294967295|j>>>17),j=A+(C^(O|~k))+I[9]+3951481745&4294967295,_.g[0]=_.g[0]+k&4294967295,_.g[1]=_.g[1]+(O+(j<<21&4294967295|j>>>11))&4294967295,_.g[2]=_.g[2]+O&4294967295,_.g[3]=_.g[3]+C&4294967295}r.prototype.v=function(_,k){k===void 0&&(k=_.length);const A=k-this.blockSize,I=this.C;let O=this.h,C=0;for(;C<k;){if(O==0)for(;C<=A;)i(this,_,C),C+=this.blockSize;if(typeof _=="string"){for(;C<k;)if(I[O++]=_.charCodeAt(C++),O==this.blockSize){i(this,I),O=0;break}}else for(;C<k;)if(I[O++]=_[C++],O==this.blockSize){i(this,I),O=0;break}}this.h=O,this.o+=k},r.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var k=1;k<_.length-8;++k)_[k]=0;k=this.o*8;for(var A=_.length-8;A<_.length;++A)_[A]=k&255,k/=256;for(this.v(_),_=Array(16),k=0,A=0;A<4;++A)for(let I=0;I<32;I+=8)_[k++]=this.g[A]>>>I&255;return _};function a(_,k){var A=s;return Object.prototype.hasOwnProperty.call(A,_)?A[_]:A[_]=k(_)}function o(_,k){this.h=k;const A=[];let I=!0;for(let O=_.length-1;O>=0;O--){const C=_[O]|0;I&&C==k||(A[O]=C,I=!1)}this.g=A}var s={};function l(_){return-128<=_&&_<128?a(_,function(k){return new o([k|0],k<0?-1:0)}):new o([_|0],_<0?-1:0)}function c(_){if(isNaN(_)||!isFinite(_))return d;if(_<0)return v(c(-_));const k=[];let A=1;for(let I=0;_>=A;I++)k[I]=_/A|0,A*=4294967296;return new o(k,0)}function u(_,k){if(_.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(_.charAt(0)=="-")return v(u(_.substring(1),k));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=c(Math.pow(k,8));let I=d;for(let C=0;C<_.length;C+=8){var O=Math.min(8,_.length-C);const j=parseInt(_.substring(C,C+O),k);O<8?(O=c(Math.pow(k,O)),I=I.j(O).add(c(j))):(I=I.j(A),I=I.add(c(j)))}return I}var d=l(0),h=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-v(this).m();let _=0,k=1;for(let A=0;A<this.g.length;A++){const I=this.i(A);_+=(I>=0?I:4294967296+I)*k,k*=4294967296}return _},t.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(g(this))return"0";if(y(this))return"-"+v(this).toString(_);const k=c(Math.pow(_,6));var A=this;let I="";for(;;){const O=E(A,k).g;A=x(A,O.j(k));let C=((A.g.length>0?A.g[0]:A.h)>>>0).toString(_);if(A=O,g(A))return C+I;for(;C.length<6;)C="0"+C;I=C+I}},t.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function g(_){if(_.h!=0)return!1;for(let k=0;k<_.g.length;k++)if(_.g[k]!=0)return!1;return!0}function y(_){return _.h==-1}t.l=function(_){return _=x(this,_),y(_)?-1:g(_)?0:1};function v(_){const k=_.g.length,A=[];for(let I=0;I<k;I++)A[I]=~_.g[I];return new o(A,~_.h).add(h)}t.abs=function(){return y(this)?v(this):this},t.add=function(_){const k=Math.max(this.g.length,_.g.length),A=[];let I=0;for(let O=0;O<=k;O++){let C=I+(this.i(O)&65535)+(_.i(O)&65535),j=(C>>>16)+(this.i(O)>>>16)+(_.i(O)>>>16);I=j>>>16,C&=65535,j&=65535,A[O]=j<<16|C}return new o(A,A[A.length-1]&-2147483648?-1:0)};function x(_,k){return _.add(v(k))}t.j=function(_){if(g(this)||g(_))return d;if(y(this))return y(_)?v(this).j(v(_)):v(v(this).j(_));if(y(_))return v(this.j(v(_)));if(this.l(p)<0&&_.l(p)<0)return c(this.m()*_.m());const k=this.g.length+_.g.length,A=[];for(var I=0;I<2*k;I++)A[I]=0;for(I=0;I<this.g.length;I++)for(let O=0;O<_.g.length;O++){const C=this.i(I)>>>16,j=this.i(I)&65535,M=_.i(O)>>>16,D=_.i(O)&65535;A[2*I+2*O]+=j*D,b(A,2*I+2*O),A[2*I+2*O+1]+=C*D,b(A,2*I+2*O+1),A[2*I+2*O+1]+=j*M,b(A,2*I+2*O+1),A[2*I+2*O+2]+=C*M,b(A,2*I+2*O+2)}for(_=0;_<k;_++)A[_]=A[2*_+1]<<16|A[2*_];for(_=k;_<2*k;_++)A[_]=0;return new o(A,0)};function b(_,k){for(;(_[k]&65535)!=_[k];)_[k+1]+=_[k]>>>16,_[k]&=65535,k++}function w(_,k){this.g=_,this.h=k}function E(_,k){if(g(k))throw Error("division by zero");if(g(_))return new w(d,d);if(y(_))return k=E(v(_),k),new w(v(k.g),v(k.h));if(y(k))return k=E(_,v(k)),new w(v(k.g),k.h);if(_.g.length>30){if(y(_)||y(k))throw Error("slowDivide_ only works with positive integers.");for(var A=h,I=k;I.l(_)<=0;)A=S(A),I=S(I);var O=P(A,1),C=P(I,1);for(I=P(I,2),A=P(A,2);!g(I);){var j=C.add(I);j.l(_)<=0&&(O=O.add(A),C=j),I=P(I,1),A=P(A,1)}return k=x(_,O.j(k)),new w(O,k)}for(O=d;_.l(k)>=0;){for(A=Math.max(1,Math.floor(_.m()/k.m())),I=Math.ceil(Math.log(A)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),C=c(A),j=C.j(k);y(j)||j.l(_)>0;)A-=I,C=c(A),j=C.j(k);g(C)&&(C=h),O=O.add(C),_=x(_,j)}return new w(O,_)}t.B=function(_){return E(this,_).h},t.and=function(_){const k=Math.max(this.g.length,_.g.length),A=[];for(let I=0;I<k;I++)A[I]=this.i(I)&_.i(I);return new o(A,this.h&_.h)},t.or=function(_){const k=Math.max(this.g.length,_.g.length),A=[];for(let I=0;I<k;I++)A[I]=this.i(I)|_.i(I);return new o(A,this.h|_.h)},t.xor=function(_){const k=Math.max(this.g.length,_.g.length),A=[];for(let I=0;I<k;I++)A[I]=this.i(I)^_.i(I);return new o(A,this.h^_.h)};function S(_){const k=_.g.length+1,A=[];for(let I=0;I<k;I++)A[I]=_.i(I)<<1|_.i(I-1)>>>31;return new o(A,_.h)}function P(_,k){const A=k>>5;k%=32;const I=_.g.length-A,O=[];for(let C=0;C<I;C++)O[C]=k>0?_.i(C+A)>>>k|_.i(C+A+1)<<32-k:_.i(C+A);return new o(O,_.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,n3=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,qo=o}).apply(typeof GN<"u"?GN:typeof self<"u"?self:typeof window<"u"?window:{});var um=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var r3,qd,i3,ig,L1,a3,o3,s3;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof um=="object"&&um];for(var T=0;T<m.length;++T){var N=m[T];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(m,T){if(T)e:{var N=r;m=m.split(".");for(var $=0;$<m.length-1;$++){var H=m[$];if(!(H in N))break e;N=N[H]}m=m[m.length-1],$=N[m],T=T($),T!=$&&T!=null&&e(N,m,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(m){return m||function(T){var N=[],$;for($ in T)Object.prototype.hasOwnProperty.call(T,$)&&N.push([$,T[$]]);return N}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function s(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function l(m,T,N){return m.call.apply(m.bind,arguments)}function c(m,T,N){return c=l,c.apply(null,arguments)}function u(m,T){var N=Array.prototype.slice.call(arguments,1);return function(){var $=N.slice();return $.push.apply($,arguments),m.apply(this,$)}}function d(m,T){function N(){}N.prototype=T.prototype,m.Z=T.prototype,m.prototype=new N,m.prototype.constructor=m,m.Ob=function($,H,Q){for(var xe=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)xe[Be-2]=arguments[Be];return T.prototype[H].apply($,xe)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function p(m){const T=m.length;if(T>0){const N=Array(T);for(let $=0;$<T;$++)N[$]=m[$];return N}return[]}function g(m,T){for(let $=1;$<arguments.length;$++){const H=arguments[$];var N=typeof H;if(N=N!="object"?N:H?Array.isArray(H)?"array":N:"null",N=="array"||N=="object"&&typeof H.length=="number"){N=m.length||0;const Q=H.length||0;m.length=N+Q;for(let xe=0;xe<Q;xe++)m[N+xe]=H[xe]}else m.push(H)}}class y{constructor(T,N){this.i=T,this.j=N,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function v(m){o.setTimeout(()=>{throw m},0)}function x(){var m=_;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class b{constructor(){this.h=this.g=null}add(T,N){const $=w.get();$.set(T,N),this.h?this.h.next=$:this.g=$,this.h=$}}var w=new y(()=>new E,m=>m.reset());class E{constructor(){this.next=this.g=this.h=null}set(T,N){this.h=T,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let S,P=!1,_=new b,k=()=>{const m=Promise.resolve(void 0);S=()=>{m.then(A)}};function A(){for(var m;m=x();){try{m.h.call(m.g)}catch(N){v(N)}var T=w;T.j(m),T.h<100&&(T.h++,m.next=T.g,T.g=m)}P=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const N=()=>{};o.addEventListener("test",N,T),o.removeEventListener("test",N,T)}catch{}return m}();function j(m){return/^[\s\xa0]*$/.test(m)}function M(m,T){O.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,T)}d(M,O),M.prototype.init=function(m,T){const N=this.type=m.type,$=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget,T||(N=="mouseover"?T=m.fromElement:N=="mouseout"&&(T=m.toElement)),this.relatedTarget=T,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&M.Z.h.call(this)},M.prototype.h=function(){M.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var D="closure_listenable_"+(Math.random()*1e6|0),L=0;function B(m,T,N,$,H){this.listener=m,this.proxy=null,this.src=T,this.type=N,this.capture=!!$,this.ha=H,this.key=++L,this.da=this.fa=!1}function V(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function U(m,T,N){for(const $ in m)T.call(N,m[$],$,m)}function F(m,T){for(const N in m)T.call(void 0,m[N],N,m)}function G(m){const T={};for(const N in m)T[N]=m[N];return T}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(m,T){let N,$;for(let H=1;H<arguments.length;H++){$=arguments[H];for(N in $)m[N]=$[N];for(let Q=0;Q<K.length;Q++)N=K[Q],Object.prototype.hasOwnProperty.call($,N)&&(m[N]=$[N])}}function se(m){this.src=m,this.g={},this.h=0}se.prototype.add=function(m,T,N,$,H){const Q=m.toString();m=this.g[Q],m||(m=this.g[Q]=[],this.h++);const xe=ce(m,T,$,H);return xe>-1?(T=m[xe],N||(T.fa=!1)):(T=new B(T,this.src,Q,!!$,H),T.fa=N,m.push(T)),T};function ve(m,T){const N=T.type;if(N in m.g){var $=m.g[N],H=Array.prototype.indexOf.call($,T,void 0),Q;(Q=H>=0)&&Array.prototype.splice.call($,H,1),Q&&(V(T),m.g[N].length==0&&(delete m.g[N],m.h--))}}function ce(m,T,N,$){for(let H=0;H<m.length;++H){const Q=m[H];if(!Q.da&&Q.listener==T&&Q.capture==!!N&&Q.ha==$)return H}return-1}var de="closure_lm_"+(Math.random()*1e6|0),Y={};function X(m,T,N,$,H){if(Array.isArray(T)){for(let Q=0;Q<T.length;Q++)X(m,T[Q],N,$,H);return null}return N=Gt(N),m&&m[D]?m.J(T,N,s($)?!!$.capture:!1,H):me(m,T,N,!1,$,H)}function me(m,T,N,$,H,Q){if(!T)throw Error("Invalid event type");const xe=s(H)?!!H.capture:!!H;let Be=it(m);if(Be||(m[de]=Be=new se(m)),N=Be.add(T,N,$,xe,Q),N.proxy)return N;if($=J(),N.proxy=$,$.src=m,$.listener=N,m.addEventListener)C||(H=xe),H===void 0&&(H=!1),m.addEventListener(T.toString(),$,H);else if(m.attachEvent)m.attachEvent(Re(T.toString()),$);else if(m.addListener&&m.removeListener)m.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return N}function J(){function m(N){return T.call(m.src,m.listener,N)}const T=Le;return m}function ee(m,T,N,$,H){if(Array.isArray(T))for(var Q=0;Q<T.length;Q++)ee(m,T[Q],N,$,H);else $=s($)?!!$.capture:!!$,N=Gt(N),m&&m[D]?(m=m.i,Q=String(T).toString(),Q in m.g&&(T=m.g[Q],N=ce(T,N,$,H),N>-1&&(V(T[N]),Array.prototype.splice.call(T,N,1),T.length==0&&(delete m.g[Q],m.h--)))):m&&(m=it(m))&&(T=m.g[T.toString()],m=-1,T&&(m=ce(T,N,$,H)),(N=m>-1?T[m]:null)&&Oe(N))}function Oe(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[D])ve(T.i,m);else{var N=m.type,$=m.proxy;T.removeEventListener?T.removeEventListener(N,$,m.capture):T.detachEvent?T.detachEvent(Re(N),$):T.addListener&&T.removeListener&&T.removeListener($),(N=it(T))?(ve(N,m),N.h==0&&(N.src=null,T[de]=null)):V(m)}}}function Re(m){return m in Y?Y[m]:Y[m]="on"+m}function Le(m,T){if(m.da)m=!0;else{T=new M(T,this);const N=m.listener,$=m.ha||m.src;m.fa&&Oe(m),m=N.call($,T)}return m}function it(m){return m=m[de],m instanceof se?m:null}var yt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Gt(m){return typeof m=="function"?m:(m[yt]||(m[yt]=function(T){return m.handleEvent(T)}),m[yt])}function ne(){I.call(this),this.i=new se(this),this.M=this,this.G=null}d(ne,I),ne.prototype[D]=!0,ne.prototype.removeEventListener=function(m,T,N,$){ee(this,m,T,N,$)};function ye(m,T){var N,$=m.G;if($)for(N=[];$;$=$.G)N.push($);if(m=m.M,$=T.type||T,typeof T=="string")T=new O(T,m);else if(T instanceof O)T.target=T.target||m;else{var H=T;T=new O($,m),ie(T,H)}H=!0;let Q,xe;if(N)for(xe=N.length-1;xe>=0;xe--)Q=T.g=N[xe],H=Z(Q,$,!0,T)&&H;if(Q=T.g=m,H=Z(Q,$,!0,T)&&H,H=Z(Q,$,!1,T)&&H,N)for(xe=0;xe<N.length;xe++)Q=T.g=N[xe],H=Z(Q,$,!1,T)&&H}ne.prototype.N=function(){if(ne.Z.N.call(this),this.i){var m=this.i;for(const T in m.g){const N=m.g[T];for(let $=0;$<N.length;$++)V(N[$]);delete m.g[T],m.h--}}this.G=null},ne.prototype.J=function(m,T,N,$){return this.i.add(String(m),T,!1,N,$)},ne.prototype.K=function(m,T,N,$){return this.i.add(String(m),T,!0,N,$)};function Z(m,T,N,$){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();let H=!0;for(let Q=0;Q<T.length;++Q){const xe=T[Q];if(xe&&!xe.da&&xe.capture==N){const Be=xe.listener,nn=xe.ha||xe.src;xe.fa&&ve(m.i,xe),H=Be.call(nn,$)!==!1&&H}}return H&&!$.defaultPrevented}function q(m,T){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=c(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:o.setTimeout(m,T||0)}function re(m){m.g=q(()=>{m.g=null,m.i&&(m.i=!1,re(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class fe extends I{constructor(T,N){super(),this.m=T,this.l=N,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:re(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Te(m){I.call(this),this.h=m,this.g={}}d(Te,I);var qe=[];function Ze(m){U(m.g,function(T,N){this.g.hasOwnProperty(N)&&Oe(T)},m),m.g={}}Te.prototype.N=function(){Te.Z.N.call(this),Ze(this)},Te.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var At=o.JSON.stringify,ai=o.JSON.parse,bs=class{stringify(m){return o.JSON.stringify(m,void 0)}parse(m){return o.JSON.parse(m,void 0)}};function oi(){}function Oi(){}var Ci={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function W(){O.call(this,"d")}d(W,O);function ue(){O.call(this,"c")}d(ue,O);var pe={},De=null;function ct(){return De=De||new ne}pe.Ia="serverreachability";function dt(m){O.call(this,pe.Ia,m)}d(dt,O);function Kt(m){const T=ct();ye(T,new dt(T))}pe.STAT_EVENT="statevent";function Ml(m,T){O.call(this,pe.STAT_EVENT,m),this.stat=T}d(Ml,O);function nt(m){const T=ct();ye(T,new Ml(T,m))}pe.Ja="timingevent";function ws(m,T){O.call(this,pe.Ja,m),this.size=T}d(ws,O);function _s(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){m()},T)}function td(){this.g=!0}td.prototype.ua=function(){this.g=!1};function PU(m,T,N,$,H,Q){m.info(function(){if(m.g)if(Q){var xe="",Be=Q.split("&");for(let ft=0;ft<Be.length;ft++){var nn=Be[ft].split("=");if(nn.length>1){const dn=nn[0];nn=nn[1];const Ri=dn.split("_");xe=Ri.length>=2&&Ri[1]=="type"?xe+(dn+"="+nn+"&"):xe+(dn+"=redacted&")}}}else xe=null;else xe=Q;return"XMLHTTP REQ ("+$+") [attempt "+H+"]: "+T+`
`+N+`
`+xe})}function AU(m,T,N,$,H,Q,xe){m.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+H+"]: "+T+`
`+N+`
`+Q+" "+xe})}function Dl(m,T,N,$){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+IU(m,N)+($?" "+$:"")})}function NU(m,T){m.info(function(){return"TIMEOUT: "+T})}td.prototype.info=function(){};function IU(m,T){if(!m.g)return T;if(!T)return null;try{const Q=JSON.parse(T);if(Q){for(m=0;m<Q.length;m++)if(Array.isArray(Q[m])){var N=Q[m];if(!(N.length<2)){var $=N[1];if(Array.isArray($)&&!($.length<1)){var H=$[0];if(H!="noop"&&H!="stop"&&H!="close")for(let xe=1;xe<$.length;xe++)$[xe]=""}}}}return At(Q)}catch{return T}}var Mp={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fA={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},hA;function $x(){}d($x,oi),$x.prototype.g=function(){return new XMLHttpRequest},hA=new $x;function nd(m){return encodeURIComponent(String(m))}function OU(m){var T=1;m=m.split(":");const N=[];for(;T>0&&m.length;)N.push(m.shift()),T--;return m.length&&N.push(m.join(":")),N}function eo(m,T,N,$){this.j=m,this.i=T,this.l=N,this.S=$||1,this.V=new Te(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pA}function pA(){this.i=null,this.g="",this.h=!1}var mA={},Lx={};function Fx(m,T,N){m.M=1,m.A=$p(ji(T)),m.u=N,m.R=!0,gA(m,null)}function gA(m,T){m.F=Date.now(),Dp(m),m.B=ji(m.A);var N=m.B,$=m.S;Array.isArray($)||($=[String($)]),NA(N.i,"t",$),m.C=0,N=m.j.L,m.h=new pA,m.g=GA(m.j,N?T:null,!m.u),m.P>0&&(m.O=new fe(c(m.Y,m,m.g),m.P)),T=m.V,N=m.g,$=m.ba;var H="readystatechange";Array.isArray(H)||(H&&(qe[0]=H.toString()),H=qe);for(let Q=0;Q<H.length;Q++){const xe=X(N,H[Q],$||T.handleEvent,!1,T.h||T);if(!xe)break;T.g[xe.key]=xe}T=m.J?G(m.J):{},m.u?(m.v||(m.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,T)):(m.v="GET",m.g.ea(m.B,m.v,null,T)),Kt(),PU(m.i,m.v,m.B,m.l,m.S,m.u)}eo.prototype.ba=function(m){m=m.target;const T=this.O;T&&ro(m)==3?T.j():this.Y(m)},eo.prototype.Y=function(m){try{if(m==this.g)e:{const Be=ro(this.g),nn=this.g.ya(),ft=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||DA(this.g)))){this.K||Be!=4||nn==7||(nn==8||ft<=0?Kt(3):Kt(2)),Vx(this);var T=this.g.ca();this.X=T;var N=CU(this);if(this.o=T==200,AU(this.i,this.v,this.B,this.l,this.S,Be,T),this.o){if(this.U&&!this.L){t:{if(this.g){var $,H=this.g;if(($=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j($)){var Q=$;break t}}Q=null}if(m=Q)Dl(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ux(this,m);else{this.o=!1,this.m=3,nt(12),Ss(this),rd(this);break e}}if(this.R){m=!0;let dn;for(;!this.K&&this.C<N.length;)if(dn=jU(this,N),dn==Lx){Be==4&&(this.m=4,nt(14),m=!1),Dl(this.i,this.l,null,"[Incomplete Response]");break}else if(dn==mA){this.m=4,nt(15),Dl(this.i,this.l,N,"[Invalid Chunk]"),m=!1;break}else Dl(this.i,this.l,dn,null),Ux(this,dn);if(yA(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||N.length!=0||this.h.h||(this.m=1,nt(16),m=!1),this.o=this.o&&m,!m)Dl(this.i,this.l,N,"[Invalid Chunked Response]"),Ss(this),rd(this);else if(N.length>0&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.aa&&!xe.P&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),Yx(xe),xe.P=!0,nt(11))}}else Dl(this.i,this.l,N,null),Ux(this,N);Be==4&&Ss(this),this.o&&!this.K&&(Be==4?zA(this.j,this):(this.o=!1,Dp(this)))}else GU(this.g),T==400&&N.indexOf("Unknown SID")>0?(this.m=3,nt(12)):(this.m=0,nt(13)),Ss(this),rd(this)}}}catch{}finally{}};function CU(m){if(!yA(m))return m.g.la();const T=DA(m.g);if(T==="")return"";let N="";const $=T.length,H=ro(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Ss(m),rd(m),"";m.h.i=new o.TextDecoder}for(let Q=0;Q<$;Q++)m.h.h=!0,N+=m.h.i.decode(T[Q],{stream:!(H&&Q==$-1)});return T.length=0,m.h.g+=N,m.C=0,m.h.g}function yA(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function jU(m,T){var N=m.C,$=T.indexOf(`
`,N);return $==-1?Lx:(N=Number(T.substring(N,$)),isNaN(N)?mA:($+=1,$+N>T.length?Lx:(T=T.slice($,$+N),m.C=$+N,T)))}eo.prototype.cancel=function(){this.K=!0,Ss(this)};function Dp(m){m.T=Date.now()+m.H,vA(m,m.H)}function vA(m,T){if(m.D!=null)throw Error("WatchDog timer not null");m.D=_s(c(m.aa,m),T)}function Vx(m){m.D&&(o.clearTimeout(m.D),m.D=null)}eo.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(NU(this.i,this.B),this.M!=2&&(Kt(),nt(17)),Ss(this),this.m=2,rd(this)):vA(this,this.T-m)};function rd(m){m.j.I==0||m.K||zA(m.j,m)}function Ss(m){Vx(m);var T=m.O;T&&typeof T.dispose=="function"&&T.dispose(),m.O=null,Ze(m.V),m.g&&(T=m.g,m.g=null,T.abort(),T.dispose())}function Ux(m,T){try{var N=m.j;if(N.I!=0&&(N.g==m||Bx(N.h,m))){if(!m.L&&Bx(N.h,m)&&N.I==3){try{var $=N.Ba.g.parse(T)}catch{$=null}if(Array.isArray($)&&$.length==3){var H=$;if(H[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<m.F)Bp(N),Vp(N);else break e;Kx(N),nt(18)}}else N.xa=H[1],0<N.xa-N.K&&H[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=_s(c(N.Va,N),6e3));wA(N.h)<=1&&N.ta&&(N.ta=void 0)}else ks(N,11)}else if((m.L||N.g==m)&&Bp(N),!j(T))for(H=N.Ba.g.parse(T),T=0;T<H.length;T++){let ft=H[T];const dn=ft[0];if(!(dn<=N.K))if(N.K=dn,ft=ft[1],N.I==2)if(ft[0]=="c"){N.M=ft[1],N.ba=ft[2];const Ri=ft[3];Ri!=null&&(N.ka=Ri,N.j.info("VER="+N.ka));const Ts=ft[4];Ts!=null&&(N.za=Ts,N.j.info("SVER="+N.za));const io=ft[5];io!=null&&typeof io=="number"&&io>0&&($=1.5*io,N.O=$,N.j.info("backChannelRequestTimeoutMs_="+$)),$=N;const ao=m.g;if(ao){const qp=ao.g?ao.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qp){var Q=$.h;Q.g||qp.indexOf("spdy")==-1&&qp.indexOf("quic")==-1&&qp.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(zx(Q,Q.h),Q.h=null))}if($.G){const Qx=ao.g?ao.g.getResponseHeader("X-HTTP-Session-Id"):null;Qx&&($.wa=Qx,_t($.J,$.G,Qx))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-m.F,N.j.info("Handshake RTT: "+N.T+"ms")),$=N;var xe=m;if($.na=HA($,$.L?$.ba:null,$.W),xe.L){_A($.h,xe);var Be=xe,nn=$.O;nn&&(Be.H=nn),Be.D&&(Vx(Be),Dp(Be)),$.g=xe}else UA($);N.i.length>0&&Up(N)}else ft[0]!="stop"&&ft[0]!="close"||ks(N,7);else N.I==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?ks(N,7):Gx(N):ft[0]!="noop"&&N.l&&N.l.qa(ft),N.A=0)}}Kt(4)}catch{}}var RU=class{constructor(m,T){this.g=m,this.map=T}};function xA(m){this.l=m||10,o.PerformanceNavigationTiming?(m=o.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bA(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function wA(m){return m.h?1:m.g?m.g.size:0}function Bx(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function zx(m,T){m.g?m.g.add(T):m.h=T}function _A(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}xA.prototype.cancel=function(){if(this.i=SA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function SA(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const N of m.g.values())T=T.concat(N.G);return T}return p(m.i)}var EA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function MU(m,T){if(m){m=m.split("&");for(let N=0;N<m.length;N++){const $=m[N].indexOf("=");let H,Q=null;$>=0?(H=m[N].substring(0,$),Q=m[N].substring($+1)):H=m[N],T(H,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function to(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;m instanceof to?(this.l=m.l,id(this,m.j),this.o=m.o,this.g=m.g,ad(this,m.u),this.h=m.h,qx(this,IA(m.i)),this.m=m.m):m&&(T=String(m).match(EA))?(this.l=!1,id(this,T[1]||"",!0),this.o=od(T[2]||""),this.g=od(T[3]||"",!0),ad(this,T[4]),this.h=od(T[5]||"",!0),qx(this,T[6]||"",!0),this.m=od(T[7]||"")):(this.l=!1,this.i=new ld(null,this.l))}to.prototype.toString=function(){const m=[];var T=this.j;T&&m.push(sd(T,kA,!0),":");var N=this.g;return(N||T=="file")&&(m.push("//"),(T=this.o)&&m.push(sd(T,kA,!0),"@"),m.push(nd(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&m.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&m.push("/"),m.push(sd(N,N.charAt(0)=="/"?LU:$U,!0))),(N=this.i.toString())&&m.push("?",N),(N=this.m)&&m.push("#",sd(N,VU)),m.join("")},to.prototype.resolve=function(m){const T=ji(this);let N=!!m.j;N?id(T,m.j):N=!!m.o,N?T.o=m.o:N=!!m.g,N?T.g=m.g:N=m.u!=null;var $=m.h;if(N)ad(T,m.u);else if(N=!!m.h){if($.charAt(0)!="/")if(this.g&&!this.h)$="/"+$;else{var H=T.h.lastIndexOf("/");H!=-1&&($=T.h.slice(0,H+1)+$)}if(H=$,H==".."||H==".")$="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){$=H.lastIndexOf("/",0)==0,H=H.split("/");const Q=[];for(let xe=0;xe<H.length;){const Be=H[xe++];Be=="."?$&&xe==H.length&&Q.push(""):Be==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),$&&xe==H.length&&Q.push("")):(Q.push(Be),$=!0)}$=Q.join("/")}else $=H}return N?T.h=$:N=m.i.toString()!=="",N?qx(T,IA(m.i)):N=!!m.m,N&&(T.m=m.m),T};function ji(m){return new to(m)}function id(m,T,N){m.j=N?od(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function ad(m,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);m.u=T}else m.u=null}function qx(m,T,N){T instanceof ld?(m.i=T,UU(m.i,m.l)):(N||(T=sd(T,FU)),m.i=new ld(T,m.l))}function _t(m,T,N){m.i.set(T,N)}function $p(m){return _t(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function od(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function sd(m,T,N){return typeof m=="string"?(m=encodeURI(m).replace(T,DU),N&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function DU(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var kA=/[#\/\?@]/g,$U=/[#\?:]/g,LU=/[#\?]/g,FU=/[#\?@]/g,VU=/#/g;function ld(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function Es(m){m.g||(m.g=new Map,m.h=0,m.i&&MU(m.i,function(T,N){m.add(decodeURIComponent(T.replace(/\+/g," ")),N)}))}t=ld.prototype,t.add=function(m,T){Es(this),this.i=null,m=$l(this,m);let N=this.g.get(m);return N||this.g.set(m,N=[]),N.push(T),this.h+=1,this};function TA(m,T){Es(m),T=$l(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function PA(m,T){return Es(m),T=$l(m,T),m.g.has(T)}t.forEach=function(m,T){Es(this),this.g.forEach(function(N,$){N.forEach(function(H){m.call(T,H,$,this)},this)},this)};function AA(m,T){Es(m);let N=[];if(typeof T=="string")PA(m,T)&&(N=N.concat(m.g.get($l(m,T))));else for(m=Array.from(m.g.values()),T=0;T<m.length;T++)N=N.concat(m[T]);return N}t.set=function(m,T){return Es(this),this.i=null,m=$l(this,m),PA(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},t.get=function(m,T){return m?(m=AA(this,m),m.length>0?String(m[0]):T):T};function NA(m,T,N){TA(m,T),N.length>0&&(m.i=null,m.g.set($l(m,T),p(N)),m.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(let $=0;$<T.length;$++){var N=T[$];const H=nd(N);N=AA(this,N);for(let Q=0;Q<N.length;Q++){let xe=H;N[Q]!==""&&(xe+="="+nd(N[Q])),m.push(xe)}}return this.i=m.join("&")};function IA(m){const T=new ld;return T.i=m.i,m.g&&(T.g=new Map(m.g),T.h=m.h),T}function $l(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function UU(m,T){T&&!m.j&&(Es(m),m.i=null,m.g.forEach(function(N,$){const H=$.toLowerCase();$!=H&&(TA(this,$),NA(this,H,N))},m)),m.j=T}function BU(m,T){const N=new td;if(o.Image){const $=new Image;$.onload=u(no,N,"TestLoadImage: loaded",!0,T,$),$.onerror=u(no,N,"TestLoadImage: error",!1,T,$),$.onabort=u(no,N,"TestLoadImage: abort",!1,T,$),$.ontimeout=u(no,N,"TestLoadImage: timeout",!1,T,$),o.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=m}else T(!1)}function zU(m,T){const N=new td,$=new AbortController,H=setTimeout(()=>{$.abort(),no(N,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:$.signal}).then(Q=>{clearTimeout(H),Q.ok?no(N,"TestPingServer: ok",!0,T):no(N,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(H),no(N,"TestPingServer: error",!1,T)})}function no(m,T,N,$,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),$(N)}catch{}}function qU(){this.g=new bs}function Wx(m){this.i=m.Sb||null,this.h=m.ab||!1}d(Wx,oi),Wx.prototype.g=function(){return new Lp(this.i,this.h)};function Lp(m,T){ne.call(this),this.H=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(Lp,ne),t=Lp.prototype,t.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=T,this.readyState=1,ud(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(T.body=m),(this.H||o).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cd(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,ud(this)),this.g&&(this.readyState=3,ud(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;OA(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function OA(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?cd(this):ud(this),this.readyState==3&&OA(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,cd(this))},t.Na=function(m){this.g&&(this.response=m,cd(this))},t.ga=function(){this.g&&cd(this)};function cd(m){m.readyState=4,m.l=null,m.j=null,m.B=null,ud(m)}t.setRequestHeader=function(m,T){this.A.append(m,T)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var N=T.next();!N.done;)N=N.value,m.push(N[0]+": "+N[1]),N=T.next();return m.join(`\r
`)};function ud(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Lp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function CA(m){let T="";return U(m,function(N,$){T+=$,T+=":",T+=N,T+=`\r
`}),T}function Hx(m,T,N){e:{for($ in N){var $=!1;break e}$=!0}$||(N=CA(N),typeof m=="string"?N!=null&&nd(N):_t(m,T,N))}function Lt(m){ne.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(Lt,ne);var WU=/^https?$/i,HU=["POST","PUT"];t=Lt.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,T,N,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():hA.g(),this.g.onreadystatechange=h(c(this.Ca,this));try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(Q){jA(this,Q);return}if(m=N||"",N=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var H in $)N.set(H,$[H]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const Q of $.keys())N.set(Q,$.get(Q));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(N.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=o.FormData&&m instanceof o.FormData,!(Array.prototype.indexOf.call(HU,T,void 0)>=0)||$||H||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,xe]of N)this.g.setRequestHeader(Q,xe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(Q){jA(this,Q)}};function jA(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.o=5,RA(m),Fp(m)}function RA(m){m.A||(m.A=!0,ye(m,"complete"),ye(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,ye(this,"complete"),ye(this,"abort"),Fp(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fp(this,!0)),Lt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?MA(this):this.Xa())},t.Xa=function(){MA(this)};function MA(m){if(m.h&&typeof a<"u"){if(m.v&&ro(m)==4)setTimeout(m.Ca.bind(m),0);else if(ye(m,"readystatechange"),ro(m)==4){m.h=!1;try{const Q=m.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var N;if(!(N=T)){var $;if($=Q===0){let xe=String(m.D).match(EA)[1]||null;!xe&&o.self&&o.self.location&&(xe=o.self.location.protocol.slice(0,-1)),$=!WU.test(xe?xe.toLowerCase():"")}N=$}if(N)ye(m,"complete"),ye(m,"success");else{m.o=6;try{var H=ro(m)>2?m.g.statusText:""}catch{H=""}m.l=H+" ["+m.ca()+"]",RA(m)}}finally{Fp(m)}}}}function Fp(m,T){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const N=m.g;m.g=null,T||ye(m,"ready");try{N.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ro(m){return m.g?m.g.readyState:0}t.ca=function(){try{return ro(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),ai(T)}};function DA(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function GU(m){const T={};m=(m.g&&ro(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<m.length;$++){if(j(m[$]))continue;var N=OU(m[$]);const H=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const Q=T[H]||[];T[H]=Q,Q.push(N)}F(T,function($){return $.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function dd(m,T,N){return N&&N.internalChannelParams&&N.internalChannelParams[m]||T}function $A(m){this.za=0,this.i=[],this.j=new td,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=dd("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=dd("baseRetryDelayMs",5e3,m),this.Za=dd("retryDelaySeedMs",1e4,m),this.Ta=dd("forwardChannelMaxRetries",2,m),this.va=dd("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new xA(m&&m.concurrentRequestLimit),this.Ba=new qU,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=$A.prototype,t.ka=8,t.I=1,t.connect=function(m,T,N,$){nt(0),this.W=m,this.H=T||{},N&&$!==void 0&&(this.H.OSID=N,this.H.OAID=$),this.F=this.X,this.J=HA(this,null,this.W),Up(this)};function Gx(m){if(LA(m),m.I==3){var T=m.V++,N=ji(m.J);if(_t(N,"SID",m.M),_t(N,"RID",T),_t(N,"TYPE","terminate"),fd(m,N),T=new eo(m,m.j,T),T.M=2,T.A=$p(ji(N)),N=!1,o.navigator&&o.navigator.sendBeacon)try{N=o.navigator.sendBeacon(T.A.toString(),"")}catch{}!N&&o.Image&&(new Image().src=T.A,N=!0),N||(T.g=GA(T.j,null),T.g.ea(T.A)),T.F=Date.now(),Dp(T)}WA(m)}function Vp(m){m.g&&(Yx(m),m.g.cancel(),m.g=null)}function LA(m){Vp(m),m.v&&(o.clearTimeout(m.v),m.v=null),Bp(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&o.clearTimeout(m.m),m.m=null)}function Up(m){if(!bA(m.h)&&!m.m){m.m=!0;var T=m.Ea;S||k(),P||(S(),P=!0),_.add(T,m),m.D=0}}function KU(m,T){return wA(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=T.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=_s(c(m.Ea,m,T),qA(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const H=new eo(this,this.j,m);let Q=this.o;if(this.U&&(Q?(Q=G(Q),ie(Q,this.U)):Q=this.U),this.u!==null||this.R||(H.J=Q,Q=null),this.S)e:{for(var T=0,N=0;N<this.i.length;N++){t:{var $=this.i[N];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(T+=$,T>4096){T=N;break e}if(T===4096||N===this.i.length-1){T=N+1;break e}}T=1e3}else T=1e3;T=VA(this,H,T),N=ji(this.J),_t(N,"RID",m),_t(N,"CVER",22),this.G&&_t(N,"X-HTTP-Session-Id",this.G),fd(this,N),Q&&(this.R?T="headers="+nd(CA(Q))+"&"+T:this.u&&Hx(N,this.u,Q)),zx(this.h,H),this.Ra&&_t(N,"TYPE","init"),this.S?(_t(N,"$req",T),_t(N,"SID","null"),H.U=!0,Fx(H,N,null)):Fx(H,N,T),this.I=2}}else this.I==3&&(m?FA(this,m):this.i.length==0||bA(this.h)||FA(this))};function FA(m,T){var N;T?N=T.l:N=m.V++;const $=ji(m.J);_t($,"SID",m.M),_t($,"RID",N),_t($,"AID",m.K),fd(m,$),m.u&&m.o&&Hx($,m.u,m.o),N=new eo(m,m.j,N,m.D+1),m.u===null&&(N.J=m.o),T&&(m.i=T.G.concat(m.i)),T=VA(m,N,1e3),N.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),zx(m.h,N),Fx(N,$,T)}function fd(m,T){m.H&&U(m.H,function(N,$){_t(T,$,N)}),m.l&&U({},function(N,$){_t(T,$,N)})}function VA(m,T,N){N=Math.min(m.i.length,N);const $=m.l?c(m.l.Ka,m.l,m):null;e:{var H=m.i;let Be=-1;for(;;){const nn=["count="+N];Be==-1?N>0?(Be=H[0].g,nn.push("ofs="+Be)):Be=0:nn.push("ofs="+Be);let ft=!0;for(let dn=0;dn<N;dn++){var Q=H[dn].g;const Ri=H[dn].map;if(Q-=Be,Q<0)Be=Math.max(0,H[dn].g-100),ft=!1;else try{Q="req"+Q+"_"||"";try{var xe=Ri instanceof Map?Ri:Object.entries(Ri);for(const[Ts,io]of xe){let ao=io;s(io)&&(ao=At(io)),nn.push(Q+Ts+"="+encodeURIComponent(ao))}}catch(Ts){throw nn.push(Q+"type="+encodeURIComponent("_badmap")),Ts}}catch{$&&$(Ri)}}if(ft){xe=nn.join("&");break e}}xe=void 0}return m=m.i.splice(0,N),T.G=m,xe}function UA(m){if(!m.g&&!m.v){m.Y=1;var T=m.Da;S||k(),P||(S(),P=!0),_.add(T,m),m.A=0}}function Kx(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=_s(c(m.Da,m),qA(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,BA(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=_s(c(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,nt(10),Vp(this),BA(this))};function Yx(m){m.B!=null&&(o.clearTimeout(m.B),m.B=null)}function BA(m){m.g=new eo(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var T=ji(m.na);_t(T,"RID","rpc"),_t(T,"SID",m.M),_t(T,"AID",m.K),_t(T,"CI",m.F?"0":"1"),!m.F&&m.ia&&_t(T,"TO",m.ia),_t(T,"TYPE","xmlhttp"),fd(m,T),m.u&&m.o&&Hx(T,m.u,m.o),m.O&&(m.g.H=m.O);var N=m.g;m=m.ba,N.M=1,N.A=$p(ji(T)),N.u=null,N.R=!0,gA(N,m)}t.Va=function(){this.C!=null&&(this.C=null,Vp(this),Kx(this),nt(19))};function Bp(m){m.C!=null&&(o.clearTimeout(m.C),m.C=null)}function zA(m,T){var N=null;if(m.g==T){Bp(m),Yx(m),m.g=null;var $=2}else if(Bx(m.h,T))N=T.G,_A(m.h,T),$=1;else return;if(m.I!=0){if(T.o)if($==1){N=T.u?T.u.length:0,T=Date.now()-T.F;var H=m.D;$=ct(),ye($,new ws($,N)),Up(m)}else UA(m);else if(H=T.m,H==3||H==0&&T.X>0||!($==1&&KU(m,T)||$==2&&Kx(m)))switch(N&&N.length>0&&(T=m.h,T.i=T.i.concat(N)),H){case 1:ks(m,5);break;case 4:ks(m,10);break;case 3:ks(m,6);break;default:ks(m,2)}}}function qA(m,T){let N=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(N*=2),N*T}function ks(m,T){if(m.j.info("Error code "+T),T==2){var N=c(m.bb,m),$=m.Ua;const H=!$;$=new to($||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||id($,"https"),$p($),H?BU($.toString(),N):zU($.toString(),N)}else nt(2);m.I=0,m.l&&m.l.pa(T),WA(m),LA(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function WA(m){if(m.I=0,m.ja=[],m.l){const T=SA(m.h);(T.length!=0||m.i.length!=0)&&(g(m.ja,T),g(m.ja,m.i),m.h.i.length=0,p(m.i),m.i.length=0),m.l.oa()}}function HA(m,T,N){var $=N instanceof to?ji(N):new to(N);if($.g!="")T&&($.g=T+"."+$.g),ad($,$.u);else{var H=o.location;$=H.protocol,T=T?T+"."+H.hostname:H.hostname,H=+H.port;const Q=new to(null);$&&id(Q,$),T&&(Q.g=T),H&&ad(Q,H),N&&(Q.h=N),$=Q}return N=m.G,T=m.wa,N&&T&&_t($,N,T),_t($,"VER",m.ka),fd(m,$),$}function GA(m,T,N){if(T&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Aa&&!m.ma?new Lt(new Wx({ab:N})):new Lt(m.ma),T.Fa(m.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function KA(){}t=KA.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function zp(){}zp.prototype.g=function(m,T){return new mr(m,T)};function mr(m,T){ne.call(this),this.g=new $A(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(m?m["X-WebChannel-Client-Profile"]=T.sa:m={"X-WebChannel-Client-Profile":T.sa}),this.g.U=m,(m=T&&T.Qb)&&!j(m)&&(this.g.u=m),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!j(T)&&(this.g.G=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new Ll(this)}d(mr,ne),mr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mr.prototype.close=function(){Gx(this.g)},mr.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var N={};N.__data__=m,m=N}else this.v&&(N={},N.__data__=At(m),m=N);T.i.push(new RU(T.Ya++,m)),T.I==3&&Up(T)},mr.prototype.N=function(){this.g.l=null,delete this.j,Gx(this.g),delete this.g,mr.Z.N.call(this)};function YA(m){W.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){e:{for(const N in T){m=N;break e}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}d(YA,W);function QA(){ue.call(this),this.status=1}d(QA,ue);function Ll(m){this.g=m}d(Ll,KA),Ll.prototype.ra=function(){ye(this.g,"a")},Ll.prototype.qa=function(m){ye(this.g,new YA(m))},Ll.prototype.pa=function(m){ye(this.g,new QA)},Ll.prototype.oa=function(){ye(this.g,"b")},zp.prototype.createWebChannel=zp.prototype.g,mr.prototype.send=mr.prototype.o,mr.prototype.open=mr.prototype.m,mr.prototype.close=mr.prototype.close,s3=function(){return new zp},o3=function(){return ct()},a3=pe,L1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Mp.NO_ERROR=0,Mp.TIMEOUT=8,Mp.HTTP_ERROR=6,ig=Mp,fA.COMPLETE="complete",i3=fA,Oi.EventType=Ci,Ci.OPEN="a",Ci.CLOSE="b",Ci.ERROR="c",Ci.MESSAGE="d",ne.prototype.listen=ne.prototype.J,qd=Oi,Lt.prototype.listenOnce=Lt.prototype.K,Lt.prototype.getLastError=Lt.prototype.Ha,Lt.prototype.getLastErrorCode=Lt.prototype.ya,Lt.prototype.getStatus=Lt.prototype.ca,Lt.prototype.getResponseJson=Lt.prototype.La,Lt.prototype.getResponseText=Lt.prototype.la,Lt.prototype.send=Lt.prototype.ea,Lt.prototype.setWithCredentials=Lt.prototype.Fa,r3=Lt}).apply(typeof um<"u"?um:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cn.UNAUTHENTICATED=new Cn(null),Cn.GOOGLE_CREDENTIALS=new Cn("google-credentials-uid"),Cn.FIRST_PARTY=new Cn("first-party-uid"),Cn.MOCK_USER=new Cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ru="12.9.0";function jK(t){Ru=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=new xv("@firebase/firestore");function Kl(){return cl.logLevel}function we(t,...e){if(cl.logLevel<=Ge.DEBUG){const n=e.map(Ok);cl.debug(`Firestore (${Ru}): ${t}`,...n)}}function Ba(t,...e){if(cl.logLevel<=Ge.ERROR){const n=e.map(Ok);cl.error(`Firestore (${Ru}): ${t}`,...n)}}function ul(t,...e){if(cl.logLevel<=Ge.WARN){const n=e.map(Ok);cl.warn(`Firestore (${Ru}): ${t}`,...n)}}function Ok(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,l3(t,r,n)}function l3(t,e,n){let r=`FIRESTORE (${Ru}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ba(r),new Error(r)}function at(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||l3(e,i,r)}function Ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Cn.UNAUTHENTICATED))}shutdown(){}}class MK{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class DK{constructor(e){this.t=e,this.currentUser=Cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new Wo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Wo,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Wo)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at(typeof r.accessToken=="string",31837,{l:r}),new c3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new Cn(e)}}class $K{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Cn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class LK{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new $K(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FK{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){at(this.o===void 0,3512);const r=a=>{a.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,we("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new KN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(at(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new KN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VK(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=VK(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Ke(t,e){return t<e?-1:t>e?1:0}function F1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return Cb(i)===Cb(a)?Ke(i,a):Cb(i)?1:-1}return Ke(t.length,e.length)}const UK=55296,BK=57343;function Cb(t){const e=t.charCodeAt(0);return e>=UK&&e<=BK}function Wc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="__name__";class $i{constructor(e,n,r){n===void 0?n=0:n>e.length&&je(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&je(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $i.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $i?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=$i.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Ke(e.length,n.length)}static compareSegments(e,n){const r=$i.isNumericId(e),i=$i.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?$i.extractNumericId(e).compare($i.extractNumericId(n)):F1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qo.fromString(e.substring(4,e.length-2))}}class xt extends $i{construct(e,n,r){return new xt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new xt(n)}static emptyPath(){return new xt([])}}const zK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends $i{construct(e,n,r){return new Sn(e,n,r)}static isValidIdentifier(e){return zK.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===YN}static keyField(){return new Sn([YN])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new be(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new be(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new be(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new be(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(n)}static emptyPath(){return new Sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(xt.fromString(e))}static fromName(e){return new Pe(xt.fromString(e).popFirst(5))}static empty(){return new Pe(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new xt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(t,e,n){if(!n)throw new be(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qK(t,e,n,r){if(e===!0&&r===!0)throw new be(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function QN(t){if(!Pe.isDocumentKey(t))throw new be(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function XN(t){if(Pe.isDocumentKey(t))throw new be(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function d3(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Sv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":je(12329,{type:typeof t})}function Kr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sv(t);throw new be(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t,e){const n={typeString:t};return e&&(n.value=e),n}function hp(t,e){if(!d3(t))throw new be(ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new be(ae.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=-62135596800,ZN=1e6;class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ZN);return new Tt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<JN)throw new be(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ZN}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hp(e,Tt._jsonSchema))return new Tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-JN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Tt._jsonSchemaVersion="firestore/timestamp/1.0",Tt._jsonSchema={type:Zt("string",Tt._jsonSchemaVersion),seconds:Zt("number"),nanoseconds:Zt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new Tt(0,0))}static max(){return new Fe(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=-1;function WK(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Fe.fromTimestamp(r===1e9?new Tt(n+1,0):new Tt(n,r));return new Jo(i,Pe.empty(),e)}function HK(t){return new Jo(t.readTime,t.key,th)}class Jo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Jo(Fe.min(),Pe.empty(),th)}static max(){return new Jo(Fe.max(),Pe.empty(),th)}}function GK(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mu(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==KK)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):le.reject(n)}static resolve(e){return new le((n,r)=>{n(e)})}static reject(e){return new le((n,r)=>{r(e)})}static waitFor(e){return new le((n,r)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&n()},l=>r(l))}),o=!0,a===i&&n()})}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next(i=>i?le.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new le((r,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++s,s===a&&r(o)},u=>i(u))}})}static doWhile(e,n){return new le((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function QK(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Du(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ev.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=-1;function kv(t){return t==null}function Zg(t){return t===0&&1/t==-1/0}function XK(t){return typeof t=="number"&&Number.isInteger(t)&&!Zg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="";function JK(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=eI(e)),e=ZK(t.get(n),e);return eI(e)}function ZK(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case f3:n+="";break;default:n+=a}}return n}function eI(t){return t+f3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ds(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function h3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n){this.comparator=e,this.root=n||wn.EMPTY}insert(e,n){return new $t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new $t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dm(this.root,e,this.comparator,!1)}getReverseIterator(){return new dm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dm(this.root,e,this.comparator,!0)}}class dm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??wn.RED,this.left=i??wn.EMPTY,this.right=a??wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new wn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return wn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw je(27949);return e+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new wn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.comparator=e,this.data=new $t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nI(this.data.getIterator())}getIteratorFrom(e){return new nI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof cn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new cn(this.comparator);return n.data=e,n}}class nI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new Sr([])}unionWith(e){let n=new cn(Sn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new p3("Invalid base64 string: "+a):a}}(e);return new Pn(n)}static fromUint8Array(e){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new Pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pn.EMPTY_BYTE_STRING=new Pn("");const eY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zo(t){if(at(!!t,39018),typeof t=="string"){let e=0;const n=eY.exec(t);if(at(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zt(t.seconds),nanos:zt(t.nanos)}}function zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function es(t){return typeof t=="string"?Pn.fromBase64String(t):Pn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3="server_timestamp",g3="__type__",y3="__previous_value__",v3="__local_write_time__";function Rk(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[g3])==null?void 0:r.stringValue)===m3}function Tv(t){const e=t.mapValue.fields[y3];return Rk(e)?Tv(e):e}function nh(t){const e=Zo(t.mapValue.fields[v3].timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tY{constructor(e,n,r,i,a,o,s,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u,this.apiKey=d}}const e0="(default)";class rh{constructor(e,n){this.projectId=e,this.database=n||e0}static empty(){return new rh("","")}get isDefaultDatabase(){return this.database===e0}isEqual(e){return e instanceof rh&&e.projectId===this.projectId&&e.database===this.database}}function nY(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new be(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rh(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3="__type__",rY="__max__",fm={mapValue:{}},b3="__vector__",t0="value";function ts(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Rk(t)?4:aY(t)?9007199254740991:iY(t)?10:11:je(28295,{value:t})}function na(t,e){if(t===e)return!0;const n=ts(t);if(n!==ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nh(t).isEqual(nh(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Zo(i.timestampValue),s=Zo(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return es(i.bytesValue).isEqual(es(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return zt(i.geoPointValue.latitude)===zt(a.geoPointValue.latitude)&&zt(i.geoPointValue.longitude)===zt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return zt(i.integerValue)===zt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=zt(i.doubleValue),s=zt(a.doubleValue);return o===s?Zg(o)===Zg(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Wc(t.arrayValue.values||[],e.arrayValue.values||[],na);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(tI(o)!==tI(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!na(o[l],s[l])))return!1;return!0}(t,e);default:return je(52216,{left:t})}}function ih(t,e){return(t.values||[]).find(n=>na(n,e))!==void 0}function Hc(t,e){if(t===e)return 0;const n=ts(t),r=ts(e);if(n!==r)return Ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=zt(a.integerValue||a.doubleValue),l=zt(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return rI(t.timestampValue,e.timestampValue);case 4:return rI(nh(t),nh(e));case 5:return F1(t.stringValue,e.stringValue);case 6:return function(a,o){const s=es(a),l=es(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let c=0;c<s.length&&c<l.length;c++){const u=Ke(s[c],l[c]);if(u!==0)return u}return Ke(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=Ke(zt(a.latitude),zt(o.latitude));return s!==0?s:Ke(zt(a.longitude),zt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return iI(t.arrayValue,e.arrayValue);case 10:return function(a,o){var h,p,g,y;const s=a.fields||{},l=o.fields||{},c=(h=s[t0])==null?void 0:h.arrayValue,u=(p=l[t0])==null?void 0:p.arrayValue,d=Ke(((g=c==null?void 0:c.values)==null?void 0:g.length)||0,((y=u==null?void 0:u.values)==null?void 0:y.length)||0);return d!==0?d:iI(c,u)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===fm.mapValue&&o===fm.mapValue)return 0;if(a===fm.mapValue)return 1;if(o===fm.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=F1(l[d],u[d]);if(h!==0)return h;const p=Hc(s[l[d]],c[u[d]]);if(p!==0)return p}return Ke(l.length,u.length)}(t.mapValue,e.mapValue);default:throw je(23264,{he:n})}}function rI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=Zo(t),r=Zo(e),i=Ke(n.seconds,r.seconds);return i!==0?i:Ke(n.nanos,r.nanos)}function iI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Hc(n[i],r[i]);if(a)return a}return Ke(n.length,r.length)}function Gc(t){return V1(t)}function V1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Zo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return es(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=V1(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${V1(n.fields[o])}`;return i+"}"}(t.mapValue):je(61005,{value:t})}function ag(t){switch(ts(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tv(t);return e?16+ag(e):16;case 5:return 2*t.stringValue.length;case 6:return es(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+ag(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ds(r.fields,(a,o)=>{i+=a.length+ag(o)}),i}(t.mapValue);default:throw je(13486,{value:t})}}function aI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function U1(t){return!!t&&"integerValue"in t}function Mk(t){return!!t&&"arrayValue"in t}function oI(t){return!!t&&"nullValue"in t}function sI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function og(t){return!!t&&"mapValue"in t}function iY(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[x3])==null?void 0:r.stringValue)===b3}function yf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ds(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=yf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yf(t.arrayValue.values[n]);return e}return{...t}}function aY(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===rY}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.value=e}static empty(){return new ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!og(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yf(n)}setAll(e){let n=Sn.emptyPath(),r={},i=[];e.forEach((o,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}o?r[s.lastSegment()]=yf(o):i.push(s.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());og(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return na(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];og(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ds(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new ar(yf(this.value))}}function w3(t){const e=[];return ds(t.fields,(n,r)=>{const i=new Sn([n]);if(og(r)){const a=w3(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new Sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n,r,i,a,o,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Rn(e,0,Fe.min(),Fe.min(),Fe.min(),ar.empty(),0)}static newFoundDocument(e,n,r,i){return new Rn(e,1,n,Fe.min(),r,i,0)}static newNoDocument(e,n){return new Rn(e,2,n,Fe.min(),Fe.min(),ar.empty(),0)}static newUnknownDocument(e,n){return new Rn(e,3,n,Fe.min(),Fe.min(),ar.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n){this.position=e,this.inclusive=n}}function lI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=Pe.comparator(Pe.fromName(o.referenceValue),n.key):r=Hc(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function cI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!na(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n="asc"){this.field=e,this.dir=n}}function oY(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{}class Jt extends _3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new lY(e,n,r):n==="array-contains"?new dY(e,r):n==="in"?new fY(e,r):n==="not-in"?new hY(e,r):n==="array-contains-any"?new pY(e,r):new Jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cY(e,r):new uY(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Hc(n,this.value)):n!==null&&ts(this.value)===ts(n)&&this.matchesComparison(Hc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ai extends _3{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ai(e,n)}matches(e){return S3(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function S3(t){return t.op==="and"}function E3(t){return sY(t)&&S3(t)}function sY(t){for(const e of t.filters)if(e instanceof Ai)return!1;return!0}function B1(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+Gc(t.value);if(E3(t))return t.filters.map(e=>B1(e)).join(",");{const e=t.filters.map(n=>B1(n)).join(",");return`${t.op}(${e})`}}function k3(t,e){return t instanceof Jt?function(r,i){return i instanceof Jt&&r.op===i.op&&r.field.isEqual(i.field)&&na(r.value,i.value)}(t,e):t instanceof Ai?function(r,i){return i instanceof Ai&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,o,s)=>a&&k3(o,i.filters[s]),!0):!1}(t,e):void je(19439)}function T3(t){return t instanceof Jt?function(n){return`${n.field.canonicalString()} ${n.op} ${Gc(n.value)}`}(t):t instanceof Ai?function(n){return n.op.toString()+" {"+n.getFilters().map(T3).join(" ,")+"}"}(t):"Filter"}class lY extends Jt{constructor(e,n,r){super(e,n,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class cY extends Jt{constructor(e,n){super(e,"in",n),this.keys=P3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class uY extends Jt{constructor(e,n){super(e,"not-in",n),this.keys=P3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function P3(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Pe.fromName(r.referenceValue))}class dY extends Jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mk(n)&&ih(n.arrayValue,this.value)}}class fY extends Jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ih(this.value.arrayValue,n)}}class hY extends Jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ih(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ih(this.value.arrayValue,n)}}class pY extends Jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mk(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ih(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mY{constructor(e,n=null,r=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.Te=null}}function uI(t,e=null,n=[],r=[],i=null,a=null,o=null){return new mY(t,e,n,r,i,a,o)}function Dk(t){const e=Ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>B1(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),kv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Gc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Gc(r)).join(",")),e.Te=n}return e.Te}function $k(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oY(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!k3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cI(t.startAt,e.startAt)&&cI(t.endAt,e.endAt)}function z1(t){return Pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n=null,r=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function gY(t,e,n,r,i,a,o,s){return new $u(t,e,n,r,i,a,o,s)}function Lk(t){return new $u(t)}function dI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yY(t){return Pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function A3(t){return t.collectionGroup!==null}function vf(t){const e=Ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new cn(Sn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(s=s.add(c.field))})}),s})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new ah(a,r))}),n.has(Sn.keyField().canonicalString())||e.Ie.push(new ah(Sn.keyField(),r))}return e.Ie}function Qi(t){const e=Ve(t);return e.Ee||(e.Ee=vY(e,vf(t))),e.Ee}function vY(t,e){if(t.limitType==="F")return uI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new ah(i.field,a)});const n=t.endAt?new n0(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new n0(t.startAt.position,t.startAt.inclusive):null;return uI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function q1(t,e){const n=t.filters.concat([e]);return new $u(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xY(t,e){const n=t.explicitOrderBy.concat([e]);return new $u(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function W1(t,e,n){return new $u(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pv(t,e){return $k(Qi(t),Qi(e))&&t.limitType===e.limitType}function N3(t){return`${Dk(Qi(t))}|lt:${t.limitType}`}function Yl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>T3(i)).join(", ")}]`),kv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Gc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Gc(i)).join(",")),`Target(${r})`}(Qi(t))}; limitType=${t.limitType})`}function Av(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Pe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of vf(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,s,l){const c=lI(o,s,l);return o.inclusive?c<=0:c<0}(r.startAt,vf(r),i)||r.endAt&&!function(o,s,l){const c=lI(o,s,l);return o.inclusive?c>=0:c>0}(r.endAt,vf(r),i))}(t,e)}function bY(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function I3(t){return(e,n)=>{let r=!1;for(const i of vf(t)){const a=wY(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function wY(t,e,n){const r=t.field.isKeyField()?Pe.comparator(e.key,n.key):function(a,o,s){const l=o.data.field(a),c=s.data.field(a);return l!==null&&c!==null?Hc(l,c):je(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return je(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ds(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return h3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Y=new $t(Pe.comparator);function za(){return _Y}const O3=new $t(Pe.comparator);function Wd(...t){let e=O3;for(const n of t)e=e.insert(n.key,n);return e}function C3(t){let e=O3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Us(){return xf()}function j3(){return xf()}function xf(){return new Nl(t=>t.toString(),(t,e)=>t.isEqual(e))}const SY=new $t(Pe.comparator),EY=new cn(Pe.comparator);function Ye(...t){let e=EY;for(const n of t)e=e.add(n);return e}const kY=new cn(Ke);function TY(){return kY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zg(e)?"-0":e}}function R3(t){return{integerValue:""+t}}function PY(t,e){return XK(e)?R3(e):Fk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(){this._=void 0}}function AY(t,e,n){return t instanceof r0?function(i,a){const o={fields:{[g3]:{stringValue:m3},[v3]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Rk(a)&&(a=Tv(a)),a&&(o.fields[y3]=a),{mapValue:o}}(n,e):t instanceof oh?D3(t,e):t instanceof sh?$3(t,e):function(i,a){const o=M3(i,a),s=fI(o)+fI(i.Ae);return U1(o)&&U1(i.Ae)?R3(s):Fk(i.serializer,s)}(t,e)}function NY(t,e,n){return t instanceof oh?D3(t,e):t instanceof sh?$3(t,e):n}function M3(t,e){return t instanceof i0?function(r){return U1(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class r0 extends Nv{}class oh extends Nv{constructor(e){super(),this.elements=e}}function D3(t,e){const n=L3(e);for(const r of t.elements)n.some(i=>na(i,r))||n.push(r);return{arrayValue:{values:n}}}class sh extends Nv{constructor(e){super(),this.elements=e}}function $3(t,e){let n=L3(e);for(const r of t.elements)n=n.filter(i=>!na(i,r));return{arrayValue:{values:n}}}class i0 extends Nv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function fI(t){return zt(t.integerValue||t.doubleValue)}function L3(t){return Mk(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function IY(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof oh&&i instanceof oh||r instanceof sh&&i instanceof sh?Wc(r.elements,i.elements,na):r instanceof i0&&i instanceof i0?na(r.Ae,i.Ae):r instanceof r0&&i instanceof r0}(t.transform,e.transform)}class OY{constructor(e,n){this.version=e,this.transformResults=n}}class Yr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yr}static exists(e){return new Yr(void 0,e)}static updateTime(e){return new Yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Iv{}function F3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vk(t.key,Yr.none()):new pp(t.key,t.data,Yr.none());{const n=t.data,r=ar.empty();let i=new cn(Sn.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new fs(t.key,r,new Sr(i.toArray()),Yr.none())}}function CY(t,e,n){t instanceof pp?function(i,a,o){const s=i.value.clone(),l=pI(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof fs?function(i,a,o){if(!sg(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=pI(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(V3(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function bf(t,e,n,r){return t instanceof pp?function(a,o,s,l){if(!sg(a.precondition,o))return s;const c=a.value.clone(),u=mI(a.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof fs?function(a,o,s,l){if(!sg(a.precondition,o))return s;const c=mI(a.fieldTransforms,l,o),u=o.data;return u.setAll(V3(a)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(a,o,s){return sg(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function jY(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=M3(r.transform,i||null);a!=null&&(n===null&&(n=ar.empty()),n.set(r.field,a))}return n||null}function hI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wc(r,i,(a,o)=>IY(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pp extends Iv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fs extends Iv{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function V3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function pI(t,e,n){const r=new Map;at(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);r.set(a.field,NY(o,s,n[i]))}return r}function mI(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,AY(a,o,e))}return r}class Vk extends Iv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RY extends Iv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MY{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&CY(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=j3();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=n.has(i.key)?null:s;const l=F3(o,s);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ye())}isEqual(e){return this.batchId===e.batchId&&Wc(this.mutations,e.mutations,(n,r)=>hI(n,r))&&Wc(this.baseMutations,e.baseMutations,(n,r)=>hI(n,r))}}class Uk{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){at(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return SY}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new Uk(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DY{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Y{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,Je;function LY(t){switch(t){case ae.OK:return je(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return je(15467,{code:t})}}function U3(t){if(t===void 0)return Ba("GRPC error has no .code"),ae.UNKNOWN;switch(t){case Yt.OK:return ae.OK;case Yt.CANCELLED:return ae.CANCELLED;case Yt.UNKNOWN:return ae.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return ae.INTERNAL;case Yt.UNAVAILABLE:return ae.UNAVAILABLE;case Yt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Yt.NOT_FOUND:return ae.NOT_FOUND;case Yt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Yt.ABORTED:return ae.ABORTED;case Yt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Yt.DATA_LOSS:return ae.DATA_LOSS;default:return je(39323,{code:t})}}(Je=Yt||(Yt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FY(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VY=new qo([4294967295,4294967295],0);function gI(t){const e=FY().encode(t),n=new n3;return n.update(e),new Uint8Array(n.digest())}function yI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new qo([n,r],0),new qo([i,a],0)]}class Bk{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hd(`Invalid padding: ${n}`);if(r<0)throw new Hd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Hd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=qo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(qo.fromNumber(r)));return i.compare(VY)===1&&(i=new qo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=gI(e),[r,i]=yI(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new Bk(a,i,n);return r.forEach(s=>o.insert(s)),o}insert(e){if(this.ge===0)return;const n=gI(e),[r,i]=yI(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Hd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,mp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ov(Fe.min(),i,new $t(Ke),za(),Ye())}}class mp{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new mp(r,n,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class B3{constructor(e,n){this.targetId=e,this.Ce=n}}class z3{constructor(e,n,r=Pn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class vI{constructor(){this.ve=0,this.Fe=xI(),this.Me=Pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),r=Ye();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:je(38017,{changeType:a})}}),new mp(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=xI()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class UY{constructor(e){this.Ge=e,this.ze=new Map,this.je=za(),this.He=hm(),this.Je=hm(),this.Ze=new $t(Ke)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:je(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(z1(a))if(r===0){const o=new Pe(a.path);this.et(n,o,Rn.newNoDocument(o,Fe.min()))}else at(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const s=this.ut(e),l=s?this.ct(s,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,s;try{o=es(r).toUint8Array()}catch(l){if(l instanceof p3)return ul("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new Bk(o,i,a)}catch(l){return ul(l instanceof Hd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.ge===0?null:s}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const o=this.Ge.ht(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.et(n,a,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((a,o)=>{const s=this.ot(o);if(s){if(a.current&&z1(s.target)){const l=new Pe(s.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Rn.newNoDocument(l,e))}a.Be&&(n.set(o,a.ke()),a.Ke())}});let r=Ye();this.Je.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(a))}),this.je.forEach((a,o)=>o.setReadTime(e));const i=new Ov(e,n,this.Ze,this.je,r);return this.je=za(),this.He=hm(),this.Je=hm(),this.Ze=new $t(Ke),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new vI,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new cn(Ke),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new cn(Ke),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new vI),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function hm(){return new $t(Pe.comparator)}function xI(){return new $t(Pe.comparator)}const BY={asc:"ASCENDING",desc:"DESCENDING"},zY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qY={and:"AND",or:"OR"};class WY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function H1(t,e){return t.useProto3Json||kv(e)?e:{value:e}}function a0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function q3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function HY(t,e){return a0(t,e.toTimestamp())}function Xi(t){return at(!!t,49232),Fe.fromTimestamp(function(n){const r=Zo(n);return new Tt(r.seconds,r.nanos)}(t))}function zk(t,e){return G1(t,e).canonicalString()}function G1(t,e){const n=function(i){return new xt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function W3(t){const e=xt.fromString(t);return at(Q3(e),10190,{key:e.toString()}),e}function K1(t,e){return zk(t.databaseId,e.path)}function jb(t,e){const n=W3(e);if(n.get(1)!==t.databaseId.projectId)throw new be(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pe(G3(n))}function H3(t,e){return zk(t.databaseId,e)}function GY(t){const e=W3(t);return e.length===4?xt.emptyPath():G3(e)}function Y1(t){return new xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function G3(t){return at(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function bI(t,e,n){return{name:K1(t,e),fields:n.value.mapValue.fields}}function KY(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:je(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,u){return c.useProto3Json?(at(u===void 0||typeof u=="string",58123),Pn.fromBase64String(u||"")):(at(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Pn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(c){const u=c.code===void 0?ae.UNKNOWN:U3(c.code);return new be(u,c.message||"")}(o);n=new z3(r,i,a,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=jb(t,r.document.name),a=Xi(r.document.updateTime),o=r.document.createTime?Xi(r.document.createTime):Fe.min(),s=new ar({mapValue:{fields:r.document.fields}}),l=Rn.newFoundDocument(i,a,o,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new lg(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=jb(t,r.document),a=r.readTime?Xi(r.readTime):Fe.min(),o=Rn.newNoDocument(i,a),s=r.removedTargetIds||[];n=new lg([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=jb(t,r.document),a=r.removedTargetIds||[];n=new lg([],a,i,null)}else{if(!("filter"in e))return je(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new $Y(i,a),s=r.targetId;n=new B3(s,o)}}return n}function YY(t,e){let n;if(e instanceof pp)n={update:bI(t,e.key,e.value)};else if(e instanceof Vk)n={delete:K1(t,e.key)};else if(e instanceof fs)n={update:bI(t,e.key,e.data),updateMask:iQ(e.fieldMask)};else{if(!(e instanceof RY))return je(16599,{dt:e.type});n={verify:K1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const s=o.transform;if(s instanceof r0)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof oh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof sh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof i0)return{fieldPath:o.field.canonicalString(),increment:s.Ae};throw je(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:HY(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:je(27497)}(t,e.precondition)),n}function QY(t,e){return t&&t.length>0?(at(e!==void 0,14353),t.map(n=>function(i,a){let o=i.updateTime?Xi(i.updateTime):Xi(a);return o.isEqual(Fe.min())&&(o=Xi(a)),new OY(o,i.transformResults||[])}(n,e))):[]}function XY(t,e){return{documents:[H3(t,e.path)]}}function JY(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=H3(t,i);const a=function(c){if(c.length!==0)return Y3(Ai.create(c,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Ql(h.field),direction:tQ(h.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=H1(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function ZY(t){let e=GY(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){at(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let a=[];n.where&&(a=function(d){const h=K3(d);return h instanceof Ai&&E3(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new ah(Xl(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let s=null;n.limit&&(s=function(d){let h;return h=typeof d=="object"?d.value:d,kv(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new n0(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new n0(p,h)}(n.endAt)),gY(e,i,o,a,s,"F",l,c)}function eQ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function K3(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xl(n.unaryFilter.field);return Jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Xl(n.unaryFilter.field);return Jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Xl(n.unaryFilter.field);return Jt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Xl(n.unaryFilter.field);return Jt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}}(t):t.fieldFilter!==void 0?function(n){return Jt.create(Xl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ai.create(n.compositeFilter.filters.map(r=>K3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return je(1026)}}(n.compositeFilter.op))}(t):je(30097,{filter:t})}function tQ(t){return BY[t]}function nQ(t){return zY[t]}function rQ(t){return qY[t]}function Ql(t){return{fieldPath:t.canonicalString()}}function Xl(t){return Sn.fromServerFormat(t.fieldPath)}function Y3(t){return t instanceof Jt?function(n){if(n.op==="=="){if(sI(n.value))return{unaryFilter:{field:Ql(n.field),op:"IS_NAN"}};if(oI(n.value))return{unaryFilter:{field:Ql(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sI(n.value))return{unaryFilter:{field:Ql(n.field),op:"IS_NOT_NAN"}};if(oI(n.value))return{unaryFilter:{field:Ql(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ql(n.field),op:nQ(n.op),value:n.value}}}(t):t instanceof Ai?function(n){const r=n.getFilters().map(i=>Y3(i));return r.length===1?r[0]:{compositeFilter:{op:rQ(n.op),filters:r}}}(t):je(54877,{filter:t})}function iQ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Q3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function X3(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n,r,i,a=Fe.min(),o=Fe.min(),s=Pn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Ao(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aQ{constructor(e){this.yt=e}}function oQ(t){const e=ZY({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?W1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sQ{constructor(){this.Sn=new lQ}addToCollectionParentIndex(e,n){return this.Sn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Jo.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Jo.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class lQ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new cn(xt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new cn(xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},J3=41943040;class tr{static withCacheSize(e){return new tr(e,tr.DEFAULT_COLLECTION_PERCENTILE,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tr.DEFAULT_COLLECTION_PERCENTILE=10,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tr.DEFAULT=new tr(J3,tr.DEFAULT_COLLECTION_PERCENTILE,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tr.DISABLED=new tr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Kc(0)}static ar(){return new Kc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="LruGarbageCollector",cQ=1048576;function SI([t,e],[n,r]){const i=Ke(t,n);return i===0?Ke(e,r):i}class uQ{constructor(e){this.Pr=e,this.buffer=new cn(SI),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();SI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dQ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){we(_I,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Du(n)?we(_I,"Ignoring IndexedDB error during garbage collection: ",n):await Mu(n)}await this.Ar(3e5)})}}class fQ{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return le.resolve(Ev.ce);const r=new uQ(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(wI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wI):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,a,o,s,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,s=Date.now(),this.removeTargets(e,r,n))).next(d=>(a=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Kl()<=Ge.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(l-s)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:d})))}}function hQ(t,e){return new fQ(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pQ{constructor(){this.changes=new Nl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gQ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&bf(r.mutation,i,Sr.empty(),Tt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ye()){const i=Us();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let o=Wd();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Us();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ye()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{n.set(o,s)})})}computeViews(e,n,r,i){let a=za();const o=xf(),s=function(){return xf()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof fs)?a=a.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),bf(u.mutation,c,u.mutation.getFieldMask(),Tt.now())):o.set(c.key,Sr.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>s.set(c,new mQ(u,o.get(c)??null))),s))}recalculateAndSaveOverlays(e,n){const r=xf();let i=new $t((o,s)=>o-s),a=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const s of o)s.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Sr.empty();u=s.applyToLocalView(c,u),r.set(l,u);const d=(i.get(s.batchId)||Ye()).add(l);i=i.insert(s.batchId,d)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),c=l.key,u=l.value,d=j3();u.forEach(h=>{if(!a.has(h)){const p=F3(n.get(h),r.get(h));p!==null&&d.set(h,p),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return le.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return yY(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):A3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):le.resolve(Us());let s=th,l=a;return o.next(c=>le.forEach(c,(u,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),a.get(u)?le.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,Ye())).next(u=>({batchId:s,changes:C3(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next(r=>{let i=Wd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=Wd();return this.indexManager.getCollectionParents(e,a).next(s=>le.forEach(s,l=>{const c=function(d,h){return new $u(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(o=>{a.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Rn.newInvalidDocument(u)))});let s=Wd();return o.forEach((l,c)=>{const u=a.get(l);u!==void 0&&bf(u.mutation,c,Sr.empty(),Tt.now()),Av(n,c)&&(s=s.insert(l,c))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yQ{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return le.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Xi(i.createTime)}}(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(i){return{name:i.name,query:oQ(i.bundledQuery),readTime:Xi(i.readTime)}}(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vQ{constructor(){this.overlays=new $t(Pe.comparator),this.Lr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Us();return le.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.bt(e,n,a)}),le.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Lr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const i=Us(),a=n.length+1,o=new Pe(n.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return le.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new $t((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=a.get(c.largestBatchId);u===null&&(u=Us(),a=a.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const s=Us(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>s.set(c,u)),!(s.size()>=i)););return le.resolve(s)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new DY(n,r));let a=this.Lr.get(n);a===void 0&&(a=Ye(),this.Lr.set(n,a)),this.Lr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xQ{constructor(){this.sessionToken=Pn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(){this.kr=new cn(fn.Kr),this.qr=new cn(fn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new fn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new fn(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new Pe(new xt([])),r=new fn(n,e),i=new fn(n,e+1),a=[];return this.qr.forEachInRange([r,i],o=>{this.Wr(o),a.push(o.key)}),a}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Pe(new xt([])),r=new fn(n,e),i=new fn(n,e+1);let a=Ye();return this.qr.forEachInRange([r,i],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new fn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class fn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Pe.comparator(e.key,n.key)||Ke(e.Hr,n.Hr)}static Ur(e,n){return Ke(e.Hr,n.Hr)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new cn(fn.Kr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new MY(a,n,r,i);this.mutationQueue.push(o);for(const s of i)this.Jr=this.Jr.add(new fn(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return le.resolve(o)}lookupMutationBatch(e,n){return le.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return le.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?jk:this.Yn-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new fn(n,0),i=new fn(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,i],o=>{const s=this.Zr(o.Hr);a.push(s)}),le.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new cn(Ke);return n.forEach(i=>{const a=new fn(i,0),o=new fn(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,o],s=>{r=r.add(s.Hr)})}),le.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Pe.isDocumentKey(a)||(a=a.child(""));const o=new fn(new Pe(a),0);let s=new cn(Ke);return this.Jr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(s=s.add(l.Hr)),!0)},o),le.resolve(this.Yr(s))}Yr(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){at(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return le.forEach(n.mutations,i=>{const a=new fn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new fn(n,0),i=this.Jr.firstAfterOrEqual(r);return le.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wQ{constructor(e){this.ti=e,this.docs=function(){return new $t(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():Rn.newInvalidDocument(n))}getEntries(e,n){let r=za();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Rn.newInvalidDocument(i))}),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=za();const o=n.path,s=new Pe(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||GK(HK(u),r)<=0||(i.has(u.key)||Av(n,u))&&(a=a.insert(u.key,u.mutableCopy()))}return le.resolve(a)}getAllFromCollectionGroup(e,n,r,i){je(9500)}ni(e,n){return le.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new _Q(this)}getSize(e){return le.resolve(this.size)}}class _Q extends pQ{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)}),le.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SQ{constructor(e){this.persistence=e,this.ri=new Nl(n=>Dk(n),$k),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.ii=0,this.si=new qk,this.targetCount=0,this.oi=Kc._r()}forEachTarget(e,n){return this.ri.forEach((r,i)=>n(i)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),le.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Kc(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.lr(n),le.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ri.forEach((o,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.ri.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),le.waitFor(a).next(()=>i)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),le.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),le.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,n){this._i={},this.overlays={},this.ai=new Ev(0),this.ui=!1,this.ui=!0,this.ci=new xQ,this.referenceDelegate=e(this),this.li=new SQ(this),this.indexManager=new sQ,this.remoteDocumentCache=function(i){return new wQ(i)}(r=>this.referenceDelegate.hi(r)),this.serializer=new aQ(n),this.Pi=new yQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new bQ(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const i=new EQ(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(a=>this.referenceDelegate.Ii(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ei(e,n){return le.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class EQ extends YK{constructor(e){super(),this.currentSequenceNumber=e}}class Wk{constructor(e){this.persistence=e,this.Ri=new qk,this.Ai=null}static Vi(e){return new Wk(e)}get di(){if(this.Ai)return this.Ai;throw je(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.di,r=>{const i=Pe.fromPath(r);return this.mi(e,i).next(a=>{a||n.removeEntry(i,Fe.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class o0{constructor(e,n){this.persistence=e,this.fi=new Nl(r=>JK(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=hQ(this,n)}static Vi(e,n){return new o0(e,n)}Ti(){}Ii(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return le.forEach(this.fi,(r,i)=>this.wr(e,r,i).next(a=>a?le.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ni(e,o=>this.wr(e,o,n).next(s=>{s||(r++,a.removeEntry(o,Fe.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ag(e.data.value)),n}wr(e,n,r){return le.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return le.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=Ye(),i=Ye();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Hk(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TQ{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return hW()?8:QK(Fn())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.gs(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ps(e,n,i,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new kQ;return this.ys(e,n,o).next(s=>{if(a.result=s,this.As)return this.ws(e,n,o,s.size)})}).next(()=>a.result)}ws(e,n,r,i){return r.documentReadCount<this.Vs?(Kl()<=Ge.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Yl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),le.resolve()):(Kl()<=Ge.DEBUG&&we("QueryEngine","Query:",Yl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Kl()<=Ge.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Yl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(n))):le.resolve())}gs(e,n){if(dI(n))return le.resolve(null);let r=Qi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=W1(n,null,"F"),r=Qi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=Ye(...a);return this.fs.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,s);return this.Ss(n,c,o,l.readTime)?this.gs(e,W1(n,null,"F")):this.Ds(e,c,n,l)}))})))}ps(e,n,r,i){return dI(n)||i.isEqual(Fe.min())?le.resolve(null):this.fs.getDocuments(e,r).next(a=>{const o=this.bs(n,a);return this.Ss(n,o,r,i)?le.resolve(null):(Kl()<=Ge.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yl(n)),this.Ds(e,o,n,WK(i,th)).next(s=>s))})}bs(e,n){let r=new cn(I3(e));return n.forEach((i,a)=>{Av(e,a)&&(r=r.add(a))}),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ys(e,n,r){return Kl()<=Ge.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Yl(n)),this.fs.getDocumentsMatchingQuery(e,n,Jo.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="LocalStore",PQ=3e8;class AQ{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new $t(Ke),this.Fs=new Nl(a=>Dk(a),$k),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gQ(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function NQ(t,e,n,r){return new AQ(t,e,n,r)}async function e5(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],s=[];let l=Ye();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ns:c,removedBatchIds:o,addedBatchIds:s}))})})}function IQ(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return function(s,l,c,u){const d=c.batch,h=d.keys();let p=le.resolve();return h.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(y=>{const v=c.docVersions.get(g);at(v!==null,48541),y.version.compareTo(v)<0&&(d.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,d))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=Ye();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(l=l.add(s.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function t5(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function OQ(t,e){const n=Ve(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const s=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;s.push(n.li.removeMatchingKeys(a,u.removedDocuments,d).next(()=>n.li.addMatchingKeys(a,u.addedDocuments,d)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Pn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(d,p),function(y,v,x){return y.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=PQ?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,p,u)&&s.push(n.li.updateTargetData(a,p))});let l=za(),c=Ye();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(a,u))}),s.push(CQ(a,o,e.documentUpdates).next(u=>{l=u.Bs,c=u.Ls})),!r.isEqual(Fe.min())){const u=n.li.getLastRemoteSnapshotVersion(a).next(d=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,r));s.push(u)}return le.waitFor(s).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(n.vs=i,a))}function CQ(t,e,n){let r=Ye(),i=Ye();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=za();return n.forEach((s,l)=>{const c=a.get(s);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(Fe.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):we(Gk,"Ignoring outdated watch update for ",s,". Current version:",c.version," Watch version:",l.version)}),{Bs:o,Ls:i}})}function jQ(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=jk),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function RQ(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.li.getTargetData(r,e).next(a=>a?(i=a,le.resolve(i)):n.li.allocateTargetId(r).next(o=>(i=new Ao(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function Q1(t,e,n){const r=Ve(t),i=r.vs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Du(o))throw o;we(Gk,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function EI(t,e,n){const r=Ve(t);let i=Fe.min(),a=Ye();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=Ve(l),h=d.Fs.get(u);return h!==void 0?le.resolve(d.vs.get(h)):d.li.getTargetData(c,u)}(r,o,Qi(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:Fe.min(),n?a:Ye())).next(s=>(MQ(r,bY(e),s),{documents:s,ks:a})))}function MQ(t,e,n){let r=t.Ms.get(e)||Fe.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ms.set(e,r)}class kI{constructor(){this.activeTargetIds=TY()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DQ{constructor(){this.vo=new kI,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new kI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Q{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="ConnectivityMonitor";class PI{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){we(TI,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){we(TI,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pm=null;function X1(){return pm===null?pm=function(){return 268435456+Math.round(2147483648*Math.random())}():pm++,"0x"+pm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="RestConnection",LQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class FQ{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===e0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,a){const o=X1(),s=this.Qo(e,n.toUriEncodedString());we(Rb,`Sending RPC '${e}' ${o}:`,s,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,i,a);const{host:c}=new URL(s),u=Tl(c);return this.zo(e,s,l,r,u).then(d=>(we(Rb,`Received RPC '${e}' ${o}: `,d),d),d=>{throw ul(Rb,`RPC '${e}' ${o} failed with error: `,d,"url: ",s,"request:",r),d})}jo(e,n,r,i,a,o){return this.Wo(e,n,r,i,a)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ru}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}Qo(e,n){const r=LQ[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VQ{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection",wd=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(i){setTimeout(()=>{throw i},0)}})};class Tc extends FQ{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Tc.c_){const e=o3();wd(e,a3.STAT_EVENT,n=>{n.stat===L1.PROXY?we(In,"STAT_EVENT: detected buffering proxy"):n.stat===L1.NOPROXY&&we(In,"STAT_EVENT: detected no buffering proxy")}),Tc.c_=!0}}zo(e,n,r,i,a){const o=X1();return new Promise((s,l)=>{const c=new r3;c.setWithCredentials(!0),c.listenOnce(i3.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ig.NO_ERROR:const d=c.getResponseJson();we(In,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case ig.TIMEOUT:we(In,`RPC '${e}' ${o} timed out`),l(new be(ae.DEADLINE_EXCEEDED,"Request time out"));break;case ig.HTTP_ERROR:const h=c.getStatus();if(we(In,`RPC '${e}' ${o} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const y=function(x){const b=x.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(b)>=0?b:ae.UNKNOWN}(g.status);l(new be(y,g.message))}else l(new be(ae.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new be(ae.UNAVAILABLE,"Connection failed."));break;default:je(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{we(In,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);we(In,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",u,r,15)})}T_(e,n,r){const i=X1(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Go(s.initMessageHeaders,n,r),s.encodeInitMessageHeaders=!0;const c=a.join("");we(In,`Creating RPC '${e}' stream ${i}: ${c}`,s);const u=o.createWebChannel(c,s);this.I_(u);let d=!1,h=!1;const p=new VQ({Ho:g=>{h?we(In,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(d||(we(In,`Opening RPC '${e}' stream ${i} transport.`),u.open(),d=!0),we(In,`RPC '${e}' stream ${i} sending:`,g),u.send(g))},Jo:()=>u.close()});return wd(u,qd.EventType.OPEN,()=>{h||(we(In,`RPC '${e}' stream ${i} transport opened.`),p.i_())}),wd(u,qd.EventType.CLOSE,()=>{h||(h=!0,we(In,`RPC '${e}' stream ${i} transport closed`),p.o_(),this.E_(u))}),wd(u,qd.EventType.ERROR,g=>{h||(h=!0,ul(In,`RPC '${e}' stream ${i} transport errored. Name:`,g.name,"Message:",g.message),p.o_(new be(ae.UNAVAILABLE,"The operation could not be completed")))}),wd(u,qd.EventType.MESSAGE,g=>{var y;if(!h){const v=g.data[0];at(!!v,16349);const x=v,b=(x==null?void 0:x.error)||((y=x[0])==null?void 0:y.error);if(b){we(In,`RPC '${e}' stream ${i} received error:`,b);const w=b.status;let E=function(_){const k=Yt[_];if(k!==void 0)return U3(k)}(w),S=b.message;w==="NOT_FOUND"&&S.includes("database")&&S.includes("does not exist")&&S.includes(this.databaseId.database)&&ul(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),E===void 0&&(E=ae.INTERNAL,S="Unknown error status: "+w+" with message "+b.message),h=!0,p.o_(new be(E,S)),u.close()}else we(In,`RPC '${e}' stream ${i} received:`,v),p.__(v)}}),Tc.u_(),setTimeout(()=>{p.s_()},0),p}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return s3()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UQ(t){return new Tc(t)}function Mb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(t){return new WY(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tc.c_=!1;class n5{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="PersistentStream";class r5{constructor(e,n,r,i,a,o,s,l){this.Ci=e,this.b_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new n5(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(Ba(n.toString()),Ba("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new be(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return we(AI,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(we(AI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BQ extends r5{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=KY(this.serializer,e),r=function(a){if(!("targetChange"in a))return Fe.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Fe.min():o.readTime?Xi(o.readTime):Fe.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Y1(this.serializer),n.addTarget=function(a,o){let s;const l=o.target;if(s=z1(l)?{documents:XY(a,l)}:{query:JY(a,l).ft},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=q3(a,o.resumeToken);const c=H1(a,o.expectedCount);c!==null&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(Fe.min())>0){s.readTime=a0(a,o.snapshotVersion.toTimestamp());const c=H1(a,o.expectedCount);c!==null&&(s.expectedCount=c)}return s}(this.serializer,e);const r=eQ(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Y1(this.serializer),n.removeTarget=e,this.K_(n)}}class zQ extends r5{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=QY(e.writeResults,e.commitTime),r=Xi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Y1(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>YY(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qQ{}class WQ extends qQ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new be(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Wo(e,G1(n,r),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new be(ae.UNKNOWN,a.toString())})}jo(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.jo(e,G1(n,r),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new be(ae.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function HQ(t,e,n,r){return new WQ(t,e,n,r)}class GQ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ba(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl="RemoteStore";class KQ{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo(o=>{r.enqueueAndForget(async()=>{Il(this)&&(we(dl,"Restarting streams for network reachability change."),await async function(l){const c=Ve(l);c.Ea.add(4),await gp(c),c.Va.set("Unknown"),c.Ea.delete(4),await jv(c)}(this))})}),this.Va=new GQ(r,i)}}async function jv(t){if(Il(t))for(const e of t.Ra)await e(!0)}async function gp(t){for(const e of t.Ra)await e(!1)}function i5(t,e){const n=Ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Xk(n)?Qk(n):Lu(n).O_()&&Yk(n,e))}function Kk(t,e){const n=Ve(t),r=Lu(n);n.Ia.delete(e),r.O_()&&a5(n,e),n.Ia.size===0&&(r.O_()?r.L_():Il(n)&&n.Va.set("Unknown"))}function Yk(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lu(t).Z_(e)}function a5(t,e){t.da.$e(e),Lu(t).X_(e)}function Qk(t){t.da=new UY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Lu(t).start(),t.Va.ua()}function Xk(t){return Il(t)&&!Lu(t).x_()&&t.Ia.size>0}function Il(t){return Ve(t).Ea.size===0}function o5(t){t.da=void 0}async function YQ(t){t.Va.set("Online")}async function QQ(t){t.Ia.forEach((e,n)=>{Yk(t,e)})}async function XQ(t,e){o5(t),Xk(t)?(t.Va.ha(e),Qk(t)):t.Va.set("Unknown")}async function JQ(t,e,n){if(t.Va.set("Online"),e instanceof z3&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.Ia.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.Ia.delete(s),i.da.removeTarget(s))}(t,e)}catch(r){we(dl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await s0(t,r)}else if(e instanceof lg?t.da.Xe(e):e instanceof B3?t.da.st(e):t.da.tt(e),!n.isEqual(Fe.min()))try{const r=await t5(t.localStore);n.compareTo(r)>=0&&await function(a,o){const s=a.da.Tt(o);return s.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=a.Ia.get(c);u&&a.Ia.set(c,u.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,c)=>{const u=a.Ia.get(l);if(!u)return;a.Ia.set(l,u.withResumeToken(Pn.EMPTY_BYTE_STRING,u.snapshotVersion)),a5(a,l);const d=new Ao(u.target,l,c,u.sequenceNumber);Yk(a,d)}),a.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){we(dl,"Failed to raise snapshot:",r),await s0(t,r)}}async function s0(t,e,n){if(!Du(e))throw e;t.Ea.add(1),await gp(t),t.Va.set("Offline"),n||(n=()=>t5(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{we(dl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await jv(t)})}function s5(t,e){return e().catch(n=>s0(t,n,e))}async function Rv(t){const e=Ve(t),n=ns(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jk;for(;ZQ(e);)try{const i=await jQ(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,eX(e,i)}catch(i){await s0(e,i)}l5(e)&&c5(e)}function ZQ(t){return Il(t)&&t.Ta.length<10}function eX(t,e){t.Ta.push(e);const n=ns(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function l5(t){return Il(t)&&!ns(t).x_()&&t.Ta.length>0}function c5(t){ns(t).start()}async function tX(t){ns(t).ra()}async function nX(t){const e=ns(t);for(const n of t.Ta)e.ea(n.mutations)}async function rX(t,e,n){const r=t.Ta.shift(),i=Uk.from(r,e,n);await s5(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Rv(t)}async function iX(t,e){e&&ns(t).Y_&&await async function(r,i){if(function(o){return LY(o)&&o!==ae.ABORTED}(i.code)){const a=r.Ta.shift();ns(r).B_(),await s5(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Rv(r)}}(t,e),l5(t)&&c5(t)}async function NI(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),we(dl,"RemoteStore received new credentials");const r=Il(n);n.Ea.add(3),await gp(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await jv(n)}async function aX(t,e){const n=Ve(t);e?(n.Ea.delete(2),await jv(n)):e||(n.Ea.add(2),await gp(n),n.Va.set("Unknown"))}function Lu(t){return t.ma||(t.ma=function(n,r,i){const a=Ve(n);return a.sa(),new BQ(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:YQ.bind(null,t),Yo:QQ.bind(null,t),t_:XQ.bind(null,t),J_:JQ.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),Xk(t)?Qk(t):t.Va.set("Unknown")):(await t.ma.stop(),o5(t))})),t.ma}function ns(t){return t.fa||(t.fa=function(n,r,i){const a=Ve(n);return a.sa(),new zQ(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:tX.bind(null,t),t_:iX.bind(null,t),ta:nX.bind(null,t),na:rX.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await Rv(t)):(await t.fa.stop(),t.Ta.length>0&&(we(dl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Wo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,s=new Jk(e,n,o,i,a);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zk(t,e){if(Ba("AsyncQueue",`${e}: ${t}`),Du(t))return new be(ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{static emptySet(e){return new Pc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Pe.comparator(n.key,r.key):(n,r)=>Pe.comparator(n.key,r.key),this.keyedMap=Wd(),this.sortedSet=new $t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Pc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.ga=new $t(Pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):je(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Yc{constructor(e,n,r,i,a,o,s,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach(s=>{o.push({type:0,doc:s})}),new Yc(e,n,Pc.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oX{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class sX{constructor(){this.queries=OI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ve(n),a=i.queries;i.queries=OI(),a.forEach((o,s)=>{for(const l of s.ba)l.onError(r)})})(this,new be(ae.ABORTED,"Firestore shutting down"))}}function OI(){return new Nl(t=>N3(t),Pv)}async function u5(t,e){const n=Ve(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Sa()&&e.Da()&&(r=2):(a=new oX,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const s=Zk(o,`Initialization of query '${Yl(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,a),a.ba.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&eT(n)}async function d5(t,e){const n=Ve(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.ba.indexOf(e);o>=0&&(a.ba.splice(o,1),a.ba.length===0?i=e.Da()?0:1:!a.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lX(t,e){const n=Ve(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const s of o.ba)s.Fa(i)&&(r=!0);o.wa=i}}r&&eT(n)}function cX(t,e,n){const r=Ve(t),i=r.queries.get(e);if(i)for(const a of i.ba)a.onError(n);r.queries.delete(e)}function eT(t){t.Ca.forEach(e=>{e.next()})}var J1,CI;(CI=J1||(J1={})).Ma="default",CI.Cache="cache";class f5{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Yc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Yc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==J1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e){this.key=e}}class p5{constructor(e){this.key=e}}class uX{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ye(),this.mutatedKeys=Ye(),this.eu=I3(e),this.tu=new Pc(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new II,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),p=Av(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?g!==y&&(r.track({type:3,doc:p}),v=!0):this.su(h,p)||(r.track({type:2,doc:p}),v=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(s=!0)):!h&&p?(r.track({type:0,doc:p}),v=!0):h&&!p&&(r.track({type:1,doc:h}),v=!0,(l||c)&&(s=!0)),v&&(p?(o=o.add(p),a=y?a.add(u):a.delete(u)):(o=o.delete(u),a=a.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),a=a.delete(u.key),r.track({type:1,doc:u})}return{tu:o,iu:r,Ss:s,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((u,d)=>function(p,g){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{Vt:v})}};return y(p)-y(g)}(u.type,d.type)||this.eu(u.doc,d.doc)),this.ou(r),i=i??!1;const s=n&&!i?this._u():[],l=this.Ya.size===0&&this.current&&!i?1:0,c=l!==this.Xa;return this.Xa=l,o.length!==0||c?{snapshot:new Yc(this.query,e.tu,a,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new II,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ye(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new p5(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new h5(r))}),n}cu(e){this.Za=e.ks,this.Ya=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Yc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const tT="SyncEngine";class dX{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fX{constructor(e){this.key=e,this.hu=!1}}class hX{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Nl(s=>N3(s),Pv),this.Iu=new Map,this.Eu=new Set,this.Ru=new $t(Pe.comparator),this.Au=new Map,this.Vu=new qk,this.du={},this.mu=new Map,this.fu=Kc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pX(t,e,n=!0){const r=b5(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await m5(r,e,n,!0),i}async function mX(t,e){const n=b5(t);await m5(n,e,!0,!1)}async function m5(t,e,n,r){const i=await RQ(t.localStore,Qi(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await gX(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&i5(t.remoteStore,i),s}async function gX(t,e,n,r,i){t.pu=(d,h,p)=>async function(y,v,x,b){let w=v.view.ru(x);w.Ss&&(w=await EI(y.localStore,v.query,!1).then(({documents:_})=>v.view.ru(_,w)));const E=b&&b.targetChanges.get(v.targetId),S=b&&b.targetMismatches.get(v.targetId)!=null,P=v.view.applyChanges(w,y.isPrimaryClient,E,S);return RI(y,v.targetId,P.au),P.snapshot}(t,d,h,p);const a=await EI(t.localStore,e,!0),o=new uX(e,a.ks),s=o.ru(a.documents),l=mp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(s,t.isPrimaryClient,l);RI(t,n,c.au);const u=new dX(e,n,o);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function yX(t,e,n){const r=Ve(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(o=>!Pv(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Q1(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Kk(r.remoteStore,i.targetId),Z1(r,i.targetId)}).catch(Mu)):(Z1(r,i.targetId),await Q1(r.localStore,i.targetId,!0))}async function vX(t,e){const n=Ve(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Kk(n.remoteStore,r.targetId))}async function xX(t,e,n){const r=TX(t);try{const i=await function(o,s){const l=Ve(o),c=Tt.now(),u=s.reduce((p,g)=>p.add(g.key),Ye());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=za(),y=Ye();return l.xs.getEntries(p,u).next(v=>{g=v,g.forEach((x,b)=>{b.isValidDocument()||(y=y.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(v=>{d=v;const x=[];for(const b of s){const w=jY(b,d.get(b.key).overlayedDocument);w!=null&&x.push(new fs(b.key,w,w3(w.value.mapValue),Yr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,x,s)}).next(v=>{h=v;const x=v.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(p,v.batchId,x)})}).then(()=>({batchId:h.batchId,changes:C3(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let c=o.du[o.currentUser.toKey()];c||(c=new $t(Ke)),c=c.insert(s,l),o.du[o.currentUser.toKey()]=c}(r,i.batchId,n),await yp(r,i.changes),await Rv(r.remoteStore)}catch(i){const a=Zk(i,"Failed to persist write");n.reject(a)}}async function g5(t,e){const n=Ve(t);try{const r=await OQ(n.localStore,e);e.targetChanges.forEach((i,a)=>{const o=n.Au.get(a);o&&(at(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?at(o.hu,14607):i.removedDocuments.size>0&&(at(o.hu,42227),o.hu=!1))}),await yp(n,r,e)}catch(r){await Mu(r)}}function jI(t,e,n){const r=Ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,o)=>{const s=o.view.va(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=Ve(o);l.onlineState=s;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.ba)h.va(s)&&(c=!0)}),c&&eT(l)}(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bX(t,e,n){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new $t(Pe.comparator);o=o.insert(a,Rn.newNoDocument(a,Fe.min()));const s=Ye().add(a),l=new Ov(Fe.min(),new Map,new $t(Ke),o,s);await g5(r,l),r.Ru=r.Ru.remove(a),r.Au.delete(e),nT(r)}else await Q1(r.localStore,e,!1).then(()=>Z1(r,e,n)).catch(Mu)}async function wX(t,e){const n=Ve(t),r=e.batch.batchId;try{const i=await IQ(n.localStore,e);v5(n,r,null),y5(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yp(n,i)}catch(i){await Mu(i)}}async function _X(t,e,n){const r=Ve(t);try{const i=await function(o,s){const l=Ve(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,s).next(d=>(at(d!==null,37113),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);v5(r,e,n),y5(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yp(r,i)}catch(i){await Mu(i)}}function y5(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function v5(t,e,n){const r=Ve(t);let i=r.du[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function Z1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||x5(t,r)})}function x5(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Kk(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),nT(t))}function RI(t,e,n){for(const r of n)r instanceof h5?(t.Vu.addReference(r.key,e),SX(t,r)):r instanceof p5?(we(tT,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||x5(t,r.key)):je(19791,{wu:r})}function SX(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(we(tT,"New document in limbo: "+n),t.Eu.add(r),nT(t))}function nT(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Pe(xt.fromString(e)),r=t.fu.next();t.Au.set(r,new fX(n)),t.Ru=t.Ru.insert(n,r),i5(t.remoteStore,new Ao(Qi(Lk(n.path)),r,"TargetPurposeLimboResolution",Ev.ce))}}async function yp(t,e,n){const r=Ve(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((s,l)=>{o.push(r.pu(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=Hk.Es(l.targetId,c);a.push(d)}}))}),await Promise.all(o),r.Pu.J_(i),await async function(l,c){const u=Ve(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>le.forEach(c,h=>le.forEach(h.Ts,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>le.forEach(h.Is,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Du(d))throw d;we(Gk,"Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.vs.get(h),g=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(g);u.vs=u.vs.insert(h,y)}}}(r.localStore,a))}async function EX(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){we(tT,"User change. New user:",e.toKey());const r=await e5(n.localStore,e);n.currentUser=e,function(a,o){a.mu.forEach(s=>{s.forEach(l=>{l.reject(new be(ae.CANCELLED,o))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yp(n,r.Ns)}}function kX(t,e){const n=Ve(t),r=n.Au.get(e);if(r&&r.hu)return Ye().add(r.key);{let i=Ye();const a=n.Iu.get(e);if(!a)return i;for(const o of a){const s=n.Tu.get(o);i=i.unionWith(s.view.nu)}return i}}function b5(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=g5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bX.bind(null,e),e.Pu.J_=lX.bind(null,e.eventManager),e.Pu.yu=cX.bind(null,e.eventManager),e}function TX(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_X.bind(null,e),e}class l0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return NQ(this.persistence,new TQ,e.initialUser,this.serializer)}Cu(e){return new Z3(Wk.Vi,this.serializer)}Du(e){return new DQ}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}l0.provider={build:()=>new l0};class PX extends l0{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){at(this.persistence.referenceDelegate instanceof o0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new dQ(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?tr.withCacheSize(this.cacheSizeBytes):tr.DEFAULT;return new Z3(r=>o0.Vi(r,n),this.serializer)}}class e_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EX.bind(null,this.syncEngine),await aX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sX}()}createDatastore(e){const n=Cv(e.databaseInfo.databaseId),r=UQ(e.databaseInfo);return HQ(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,o,s){return new KQ(r,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,n=>jI(this.syncEngine,n,0),function(){return PI.v()?new PI:new $Q}())}createSyncEngine(e,n){return function(i,a,o,s,l,c,u){const d=new hX(i,a,o,s,l,c);return u&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Ve(i);we(dl,"RemoteStore shutting down."),a.Ea.add(5),await gp(a),a.Aa.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}e_.provider={build:()=>new e_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ba("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="FirestoreClient";class AX{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=Cn.UNAUTHENTICATED,this.clientId=Ck.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{we(rs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(we(rs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Zk(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Db(t,e){t.asyncQueue.verifyOperationInProgress(),we(rs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await e5(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function MI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await NX(t);we(rs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>NI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>NI(e.remoteStore,i)),t._onlineComponents=e}async function NX(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(rs,"Using user provided OfflineComponentProvider");try{await Db(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ae.FAILED_PRECONDITION||i.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ul("Error using user provided cache. Falling back to memory cache: "+n),await Db(t,new l0)}}else we(rs,"Using default OfflineComponentProvider"),await Db(t,new PX(void 0));return t._offlineComponents}async function _5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(rs,"Using user provided OnlineComponentProvider"),await MI(t,t._uninitializedComponentsProvider._online)):(we(rs,"Using default OnlineComponentProvider"),await MI(t,new e_))),t._onlineComponents}function IX(t){return _5(t).then(e=>e.syncEngine)}async function t_(t){const e=await _5(t),n=e.eventManager;return n.onListen=pX.bind(null,e.syncEngine),n.onUnlisten=yX.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=mX.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vX.bind(null,e.syncEngine),n}function OX(t,e,n,r){const i=new w5(r),a=new f5(e,i,n);return t.asyncQueue.enqueueAndForget(async()=>u5(await t_(t),a)),()=>{i.Nu(),t.asyncQueue.enqueueAndForget(async()=>d5(await t_(t),a))}}function CX(t,e,n={}){const r=new Wo;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,c){const u=new w5({next:h=>{u.Nu(),o.enqueueAndForget(()=>d5(a,d)),h.fromCache&&l.source==="server"?c.reject(new be(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new f5(s,u,{includeMetadataChanges:!0,Ka:!0});return u5(a,d)}(await t_(t),t.asyncQueue,e,n,r)),r.promise}function jX(t,e){const n=new Wo;return t.asyncQueue.enqueueAndForget(async()=>xX(await IX(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RX="ComponentProvider",DI=new Map;function MX(t,e,n,r,i){return new tY(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,S5(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5="firestore.googleapis.com",$I=!0;class LI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=E5,this.ssl=$I}else this.host=e.host,this.ssl=e.ssl??$I;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=J3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cQ)throw new be(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S5(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new be(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new be(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new be(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new RK;switch(r.type){case"firstParty":return new LK(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=DI.get(n);r&&(we(RX,"Removing Datastore"),DI.delete(n),r.terminate())}(this),Promise.resolve()}}function DX(t,e,n,r={}){var c;t=Kr(t,Mv);const i=Tl(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},s=`${e}:${n}`;i&&(xk(`https://${s}`),bk("Firestore",!0)),a.host!==E5&&a.host!==s&&ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:s,ssl:i,emulatorOptions:r};if(!Xo(l,o)&&(t._setSettings(l),r.mockUserToken)){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=Cn.MOCK_USER;else{u=mL(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new be(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Cn(h)}t._authCredentials=new MK(new c3(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hs(this.firestore,e,this._query)}}class Wt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(hp(n,Wt._jsonSchema))return new Wt(e,r||null,new Pe(xt.fromString(n.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:Zt("string",Wt._jsonSchemaVersion),referencePath:Zt("string")};class Ho extends hs{constructor(e,n,r){super(e,n,Lk(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new Pe(e))}withConverter(e){return new Ho(this.firestore,e,this._path)}}function _d(t,e,...n){if(t=tn(t),u3("collection","path",e),t instanceof Mv){const r=xt.fromString(e,...n);return XN(r),new Ho(t,null,r)}{if(!(t instanceof Wt||t instanceof Ho))throw new be(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xt.fromString(e,...n));return XN(r),new Ho(t.firestore,null,r)}}function cg(t,e,...n){if(t=tn(t),arguments.length===1&&(e=Ck.newId()),u3("doc","path",e),t instanceof Mv){const r=xt.fromString(e,...n);return QN(r),new Wt(t,null,new Pe(r))}{if(!(t instanceof Wt||t instanceof Ho))throw new be(ae.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xt.fromString(e,...n));return QN(r),new Wt(t.firestore,t instanceof Ho?t.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="AsyncQueue";class VI{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new n5(this,"async_queue_retry"),this._c=()=>{const r=Mb();r&&we(FI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Mb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Wo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Du(e))throw e;we(FI,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ba("INTERNAL UNHANDLED ERROR: ",UI(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Jk.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&je(47125,{Pc:UI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function UI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class is extends Mv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new VI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VI(e),this._firestoreClient=void 0,await e}}}function $X(t,e){const n=typeof t=="object"?t:bv(),r=typeof t=="string"?t:e0,i=us(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=fL("firestore");a&&DX(i,...a)}return i}function rT(t){if(t._terminated)throw new be(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||LX(t),t._firestoreClient}function LX(t){var r,i,a,o;const e=t._freezeSettings(),n=MX(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new AX(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Br(Pn.fromBase64String(e))}catch(n){throw new be(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Br(Pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Br._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hp(e,Br._jsonSchema))return Br.fromBase64String(e.bytes)}}Br._jsonSchemaVersion="firestore/bytes/1.0",Br._jsonSchema={type:Zt("string",Br._jsonSchemaVersion),bytes:Zt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ji._jsonSchemaVersion}}static fromJSON(e){if(hp(e,Ji._jsonSchema))return new Ji(e.latitude,e.longitude)}}Ji._jsonSchemaVersion="firestore/geoPoint/1.0",Ji._jsonSchema={type:Zt("string",Ji._jsonSchemaVersion),latitude:Zt("number"),longitude:Zt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hp(e,Ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ei(e.vectorValues);throw new be(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ei._jsonSchemaVersion="firestore/vectorValue/1.0",Ei._jsonSchema={type:Zt("string",Ei._jsonSchemaVersion),vectorValues:Zt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FX=/^__.*__$/;class VX{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fs(e,this.data,this.fieldMask,n,this.fieldTransforms):new pp(e,this.data,n,this.fieldTransforms)}}class k5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function T5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je(40011,{dataSource:t})}}class oT{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new oT({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return c0(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(T5(this.dataSource)&&FX.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class UX{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Cv(e)}createContext(e,n,r,i=!1){return new oT({dataSource:e,methodName:n,targetDoc:r,path:Sn.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dv(t){const e=t._freezeSettings(),n=Cv(t._databaseId);return new UX(t._databaseId,!!e.ignoreUndefinedProperties,n)}function P5(t,e,n,r,i,a={}){const o=t.createContext(a.merge||a.mergeFields?2:0,e,n,i);sT("Data must be an object, but it was:",o,r);const s=A5(r,o);let l,c;if(a.merge)l=new Sr(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){const u=[];for(const d of a.mergeFields){const h=Qc(e,d,n);if(!o.contains(h))throw new be(ae.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);O5(u,h)||u.push(h)}l=new Sr(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new VX(new ar(s),l,c)}class $v extends aT{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $v}}function BX(t,e,n,r){const i=t.createContext(1,e,n);sT("Data must be an object, but it was:",i,r);const a=[],o=ar.empty();ds(r,(l,c)=>{const u=I5(e,l,n);c=tn(c);const d=i.childContextForFieldPath(u);if(c instanceof $v)a.push(u);else{const h=vp(c,d);h!=null&&(a.push(u),o.set(u,h))}});const s=new Sr(a);return new k5(o,s,i.fieldTransforms)}function zX(t,e,n,r,i,a){const o=t.createContext(1,e,n),s=[Qc(e,r,n)],l=[i];if(a.length%2!=0)throw new be(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)s.push(Qc(e,a[h])),l.push(a[h+1]);const c=[],u=ar.empty();for(let h=s.length-1;h>=0;--h)if(!O5(c,s[h])){const p=s[h];let g=l[h];g=tn(g);const y=o.childContextForFieldPath(p);if(g instanceof $v)c.push(p);else{const v=vp(g,y);v!=null&&(c.push(p),u.set(p,v))}}const d=new Sr(c);return new k5(u,d,o.fieldTransforms)}function qX(t,e,n,r=!1){return vp(n,t.createContext(r?4:3,e))}function vp(t,e){if(N5(t=tn(t)))return sT("Unsupported field value:",e,t),A5(t,e);if(t instanceof aT)return function(r,i){if(!T5(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,i){const a=[];let o=0;for(const s of r){let l=vp(s,i.childContextForArray(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=tn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return PY(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Tt.fromDate(r);return{timestampValue:a0(i.serializer,a)}}if(r instanceof Tt){const a=new Tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:a0(i.serializer,a)}}if(r instanceof Ji)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Br)return{bytesValue:q3(i.serializer,r._byteString)};if(r instanceof Wt){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:zk(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ei)return function(o,s){const l=o instanceof Ei?o.toArray():o;return{mapValue:{fields:{[x3]:{stringValue:b3},[t0]:{arrayValue:{values:l.map(u=>{if(typeof u!="number")throw s.createError("VectorValues must only contain numeric values.");return Fk(s.serializer,u)})}}}}}}(r,i);if(X3(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Sv(r)}`)}(t,e)}function A5(t,e){const n={};return h3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ds(t,(r,i)=>{const a=vp(i,e.childContextForField(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function N5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tt||t instanceof Ji||t instanceof Br||t instanceof Wt||t instanceof aT||t instanceof Ei||X3(t))}function sT(t,e,n){if(!N5(n)||!d3(n)){const r=Sv(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Qc(t,e,n){if((e=tn(e))instanceof iT)return e._internalPath;if(typeof e=="string")return I5(t,e);throw c0("Field path arguments must be of type string or ",t,!1,void 0,n)}const WX=new RegExp("[~\\*/\\[\\]]");function I5(t,e,n){if(e.search(WX)>=0)throw c0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new iT(...e.split("."))._internalPath}catch{throw c0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function c0(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new be(ae.INVALID_ARGUMENT,s+t+l)}function O5(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HX{convertValue(e,n="none"){switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw je(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ds(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[t0].arrayValue)==null?void 0:i.values)==null?void 0:a.map(o=>zt(o.doubleValue));return new Ei(n)}convertGeoPoint(e){return new Ji(zt(e.latitude),zt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Tv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nh(e));default:return null}}convertTimestamp(e){const n=Zo(e);return new Tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=xt.fromString(e);at(Q3(r),9688,{name:e});const i=new rh(r.get(1),r.get(3)),a=new Pe(r.popFirst(5));return i.isEqual(n)||Ba(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT extends HX{constructor(e){super(),this.firestore=e}convertBytes(e){return new Br(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}const BI="@firebase/firestore",zI="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Qc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GX extends C5{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cT{}class R5 extends cT{}function KX(t,e,...n){let r=[];e instanceof cT&&r.push(e),r=r.concat(n),function(a){const o=a.filter(l=>l instanceof dT).length,s=a.filter(l=>l instanceof uT).length;if(o>1||o>0&&s>0)throw new be(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class uT extends R5{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new uT(e,n,r)}_apply(e){const n=this._parse(e);return M5(e._query,n),new hs(e.firestore,e.converter,q1(e._query,n))}_parse(e){const n=Dv(e.firestore);return function(a,o,s,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new be(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){HI(d,u);const g=[];for(const y of d)g.push(WI(l,a,y));h={arrayValue:{values:g}}}else h=WI(l,a,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||HI(d,u),h=qX(s,o,d,u==="in"||u==="not-in");return Jt.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class dT extends cT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new dT(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ai.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)M5(o,l),o=q1(o,l)}(e._query,n),new hs(e.firestore,e.converter,q1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class fT extends R5{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new fT(e,n)}_apply(e){const n=function(i,a,o){if(i.startAt!==null)throw new be(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new be(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ah(a,o)}(e._query,this._field,this._direction);return new hs(e.firestore,e.converter,xY(e._query,n))}}function YX(t,e="asc"){const n=e,r=Qc("orderBy",t);return fT._create(r,n)}function WI(t,e,n){if(typeof(n=tn(n))=="string"){if(n==="")throw new be(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!A3(e)&&n.indexOf("/")!==-1)throw new be(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(xt.fromString(n));if(!Pe.isDocumentKey(r))throw new be(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return aI(t,new Pe(r))}if(n instanceof Wt)return aI(t,n._key);throw new be(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sv(n)}.`)}function HI(t,e){if(!Array.isArray(t)||t.length===0)throw new be(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function M5(t,e){const n=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new be(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function D5(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Gd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Js extends C5{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ug(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Qc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Js._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Js._jsonSchemaVersion="firestore/documentSnapshot/1.0",Js._jsonSchema={type:Zt("string",Js._jsonSchemaVersion),bundleSource:Zt("string","DocumentSnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class ug extends Js{data(e={}){return super.data(e)}}class Zs{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Gd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ug(this._firestore,this._userDataWriter,r.key,r,new Gd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new ug(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Gd(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new ug(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Gd(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return s.type!==0&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),u=o.indexOf(s.doc.key)),{type:QX(s.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Zs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ck.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QX(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zs._jsonSchemaVersion="firestore/querySnapshot/1.0",Zs._jsonSchema={type:Zt("string",Zs._jsonSchemaVersion),bundleSource:Zt("string","QuerySnapshot"),bundleName:Zt("string"),bundle:Zt("string")};function XX(t){t=Kr(t,hs);const e=Kr(t.firestore,is),n=rT(e),r=new lT(e);return j5(t._query),CX(n,t._query).then(i=>new Zs(e,r,t,i))}function JX(t,e,n){t=Kr(t,Wt);const r=Kr(t.firestore,is),i=D5(t.converter,e),a=Dv(r);return Lv(r,[P5(a,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Yr.none())])}function ZX(t,e,n,...r){t=Kr(t,Wt);const i=Kr(t.firestore,is),a=Dv(i);let o;return o=typeof(e=tn(e))=="string"||e instanceof iT?zX(a,"updateDoc",t._key,e,n,r):BX(a,"updateDoc",t._key,e),Lv(i,[o.toMutation(t._key,Yr.exists(!0))])}function GI(t){return Lv(Kr(t.firestore,is),[new Vk(t._key,Yr.none())])}function eJ(t,e){const n=Kr(t.firestore,is),r=cg(t),i=D5(t.converter,e),a=Dv(t.firestore);return Lv(n,[P5(a,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Yr.exists(!1))]).then(()=>r)}function KI(t,...e){var c,u,d;t=tn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||qI(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(qI(e[r])){const h=e[r];e[r]=(c=h.next)==null?void 0:c.bind(h),e[r+1]=(u=h.error)==null?void 0:u.bind(h),e[r+2]=(d=h.complete)==null?void 0:d.bind(h)}let a,o,s;if(t instanceof Wt)o=Kr(t.firestore,is),s=Lk(t._key.path),a={next:h=>{e[r]&&e[r](tJ(o,t,h))},error:e[r+1],complete:e[r+2]};else{const h=Kr(t,hs);o=Kr(h.firestore,is),s=h._query;const p=new lT(o);a={next:g=>{e[r]&&e[r](new Zs(o,p,h,g))},error:e[r+1],complete:e[r+2]},j5(t._query)}const l=rT(o);return OX(l,s,i,a)}function Lv(t,e){const n=rT(t);return jX(n,e)}function tJ(t,e,n){const r=n.docs.get(e._key),i=new lT(t);return new Js(t,i,e._key,r,new Gd(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){jK(Al),Pi(new Zr("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),s=new is(new DK(r.getProvider("auth-internal")),new FK(o,r.getProvider("app-check-internal")),nY(o,i),o);return a={useFetchStreams:n,...a},s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),dr(BI,zI,e),dr(BI,zI,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5="firebasestorage.googleapis.com",nJ="storageBucket",rJ=2*60*1e3,iJ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends ti{constructor(e,n,r=0){super($b(e),`Firebase Storage: ${n} (${$b(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ca.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $b(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ra;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ra||(ra={}));function $b(t){return"storage/"+t}function aJ(){const t="An unknown error occurred, please check the error payload for server response.";return new ca(ra.UNKNOWN,t)}function oJ(){return new ca(ra.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sJ(){return new ca(ra.CANCELED,"User canceled the upload/download.")}function lJ(t){return new ca(ra.INVALID_URL,"Invalid URL '"+t+"'.")}function cJ(t){return new ca(ra.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function YI(t){return new ca(ra.INVALID_ARGUMENT,t)}function L5(){return new ca(ra.APP_DELETED,"The Firebase app was deleted.")}function uJ(t){return new ca(ra.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=yi.makeFromUrl(e,n)}catch{return new yi(e,"")}if(r.path==="")return r;throw cJ(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",s=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(E){E.path_=decodeURIComponent(E.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},y=n===$5?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",x=new RegExp(`^https?://${y}/${i}/${v}`,"i"),w=[{regex:s,indices:l,postModify:a},{regex:p,indices:g,postModify:c},{regex:x,indices:{bucket:1,path:2},postModify:c}];for(let E=0;E<w.length;E++){const S=w[E],P=S.regex.exec(e);if(P){const _=P[S.indices.bucket];let k=P[S.indices.path];k||(k=""),r=new yi(_,k),S.postModify(r);break}}if(r==null)throw lJ(e);return r}}class dJ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fJ(t,e,n){let r=1,i=null,a=null,o=!1,s=0;function l(){return s===2}let c=!1;function u(...v){c||(c=!0,e.apply(null,v))}function d(v){i=setTimeout(()=>{i=null,t(p,l())},v)}function h(){a&&clearTimeout(a)}function p(v,...x){if(c){h();return}if(v){h(),u.call(null,v,...x);return}if(l()||o){h(),u.call(null,v,...x);return}r<64&&(r*=2);let w;s===1?(s=2,w=0):w=(r+Math.random())*1e3,d(w)}let g=!1;function y(v){g||(g=!0,h(),!c&&(i!==null?(v||(s=2),clearTimeout(i),d(0)):v||(s=1)))}return d(0),a=setTimeout(()=>{o=!0,y(!0)},n),y}function hJ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pJ(t){return t!==void 0}function QI(t,e,n,r){if(r<e)throw YI(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw YI(`Invalid value for '${t}'. Expected ${n} or less.`)}function mJ(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var u0;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(u0||(u0={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gJ(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yJ{constructor(e,n,r,i,a,o,s,l,c,u,d,h=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,y)=>{this.resolve_=g,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new mm(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=s=>{const l=s.loaded,c=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const s=a.getErrorCode()===u0.NO_ERROR,l=a.getStatus();if(!s||gJ(l,this.additionalRetryCodes_)&&this.retry){const u=a.getErrorCode()===u0.ABORT;r(!1,new mm(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new mm(c,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());pJ(l)?a(l):a()}catch(l){o(l)}else if(s!==null){const l=aJ();l.serverResponse=s.getErrorText(),this.errorCallback_?o(this.errorCallback_(s,l)):o(l)}else if(i.canceled){const l=this.appDelete_?L5():sJ();o(l)}else{const l=oJ();o(l)}};this.canceled_?n(!1,new mm(!1,null,!0)):this.backoffId_=fJ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&hJ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class mm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function vJ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function xJ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function bJ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function wJ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function _J(t,e,n,r,i,a,o=!0,s=!1){const l=mJ(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return bJ(u,e),vJ(u,n),xJ(u,a),wJ(u,r),new yJ(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SJ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function EJ(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n){this._service=e,n instanceof yi?this._location=n:this._location=yi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new d0(e,n)}get root(){const e=new yi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return EJ(this._location.path)}get storage(){return this._service}get parent(){const e=SJ(this._location.path);if(e===null)return null;const n=new yi(this._location.bucket,e);return new d0(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw uJ(e)}}function XI(t,e){const n=e==null?void 0:e[nJ];return n==null?null:yi.makeFromBucketSpec(n,t)}function kJ(t,e,n,r={}){t.host=`${e}:${n}`;const i=Tl(e);i&&(xk(`https://${t.host}/b`),bk("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:mL(a,t.app.options.projectId))}class TJ{constructor(e,n,r,i,a,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=$5,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=rJ,this._maxUploadRetryTime=iJ,this._requests=new Set,i!=null?this._bucket=yi.makeFromBucketSpec(i,this._host):this._bucket=XI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yi.makeFromBucketSpec(this._url,e):this._bucket=XI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){QI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){QI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new d0(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new dJ(L5());{const o=_J(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const JI="@firebase/storage",ZI="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5="storage";function PJ(t=bv(),e){t=tn(t);const r=us(t,F5).getImmediate({identifier:e}),i=fL("storage");return i&&AJ(r,...i),r}function AJ(t,e,n,r={}){kJ(t,e,n,r)}function NJ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new TJ(n,r,i,e,Al)}function IJ(){Pi(new Zr(F5,NJ,"PUBLIC").setMultipleInstances(!0)),dr(JI,ZI,""),dr(JI,ZI,"esm2020")}IJ();const V5="@firebase/installations",hT="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5=1e4,B5=`w:${hT}`,z5="FIS_v2",OJ="https://firebaseinstallations.googleapis.com/v1",CJ=60*60*1e3,jJ="installations",RJ="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MJ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},fl=new Pl(jJ,RJ,MJ);function q5(t){return t instanceof ti&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5({projectId:t}){return`${OJ}/projects/${t}/installations`}function H5(t){return{token:t.token,requestStatus:2,expiresIn:$J(t.expiresIn),creationTime:Date.now()}}async function G5(t,e){const r=(await e.json()).error;return fl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function K5({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function DJ(t,{refreshToken:e}){const n=K5(t);return n.append("Authorization",LJ(e)),n}async function Y5(t){const e=await t();return e.status>=500&&e.status<600?t():e}function $J(t){return Number(t.replace("s","000"))}function LJ(t){return`${z5} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FJ({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=W5(t),i=K5(t),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:z5,appId:t.appId,sdkVersion:B5},s={method:"POST",headers:i,body:JSON.stringify(o)},l=await Y5(()=>fetch(r,s));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:H5(c.authToken)}}else throw await G5("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VJ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UJ=/^[cdef][\w-]{21}$/,n_="";function BJ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=zJ(t);return UJ.test(n)?n:n_}catch{return n_}}function zJ(t){return VJ(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5=new Map;function J5(t,e){const n=Fv(t);Z5(n,e),qJ(n,e)}function Z5(t,e){const n=X5.get(t);if(n)for(const r of n)r(e)}function qJ(t,e){const n=WJ();n&&n.postMessage({key:t,fid:e}),HJ()}let Bs=null;function WJ(){return!Bs&&"BroadcastChannel"in self&&(Bs=new BroadcastChannel("[Firebase] FID Change"),Bs.onmessage=t=>{Z5(t.data.key,t.data.fid)}),Bs}function HJ(){X5.size===0&&Bs&&(Bs.close(),Bs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GJ="firebase-installations-database",KJ=1,hl="firebase-installations-store";let Lb=null;function pT(){return Lb||(Lb=wL(GJ,KJ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(hl)}}})),Lb}async function f0(t,e){const n=Fv(t),i=(await pT()).transaction(hl,"readwrite"),a=i.objectStore(hl),o=await a.get(n);return await a.put(e,n),await i.done,(!o||o.fid!==e.fid)&&J5(t,e.fid),e}async function e6(t){const e=Fv(t),r=(await pT()).transaction(hl,"readwrite");await r.objectStore(hl).delete(e),await r.done}async function Vv(t,e){const n=Fv(t),i=(await pT()).transaction(hl,"readwrite"),a=i.objectStore(hl),o=await a.get(n),s=e(o);return s===void 0?await a.delete(n):await a.put(s,n),await i.done,s&&(!o||o.fid!==s.fid)&&J5(t,s.fid),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mT(t){let e;const n=await Vv(t.appConfig,r=>{const i=YJ(r),a=QJ(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===n_?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function YJ(t){const e=t||{fid:BJ(),registrationStatus:0};return t6(e)}function QJ(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(fl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=XJ(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:JJ(t)}:{installationEntry:e}}async function XJ(t,e){try{const n=await FJ(t,e);return f0(t.appConfig,n)}catch(n){throw q5(n)&&n.customData.serverCode===409?await e6(t.appConfig):await f0(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function JJ(t){let e=await eO(t.appConfig);for(;e.registrationStatus===1;)await Q5(100),e=await eO(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await mT(t);return r||n}return e}function eO(t){return Vv(t,e=>{if(!e)throw fl.create("installation-not-found");return t6(e)})}function t6(t){return ZJ(t)?{fid:t.fid,registrationStatus:0}:t}function ZJ(t){return t.registrationStatus===1&&t.registrationTime+U5<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eZ({appConfig:t,heartbeatServiceProvider:e},n){const r=tZ(t,n),i=DJ(t,n),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:B5,appId:t.appId}},s={method:"POST",headers:i,body:JSON.stringify(o)},l=await Y5(()=>fetch(r,s));if(l.ok){const c=await l.json();return H5(c)}else throw await G5("Generate Auth Token",l)}function tZ(t,{fid:e}){return`${W5(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gT(t,e=!1){let n;const r=await Vv(t.appConfig,a=>{if(!n6(a))throw fl.create("not-registered");const o=a.authToken;if(!e&&iZ(o))return a;if(o.requestStatus===1)return n=nZ(t,e),a;{if(!navigator.onLine)throw fl.create("app-offline");const s=oZ(a);return n=rZ(t,s),s}});return n?await n:r.authToken}async function nZ(t,e){let n=await tO(t.appConfig);for(;n.authToken.requestStatus===1;)await Q5(100),n=await tO(t.appConfig);const r=n.authToken;return r.requestStatus===0?gT(t,e):r}function tO(t){return Vv(t,e=>{if(!n6(e))throw fl.create("not-registered");const n=e.authToken;return sZ(n)?{...e,authToken:{requestStatus:0}}:e})}async function rZ(t,e){try{const n=await eZ(t,e),r={...e,authToken:n};return await f0(t.appConfig,r),n}catch(n){if(q5(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await e6(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await f0(t.appConfig,r)}throw n}}function n6(t){return t!==void 0&&t.registrationStatus===2}function iZ(t){return t.requestStatus===2&&!aZ(t)}function aZ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+CJ}function oZ(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function sZ(t){return t.requestStatus===1&&t.requestTime+U5<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lZ(t){const e=t,{installationEntry:n,registrationPromise:r}=await mT(e);return r?r.catch(console.error):gT(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cZ(t,e=!1){const n=t;return await uZ(n),(await gT(n,e)).token}async function uZ(t){const{registrationPromise:e}=await mT(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dZ(t){if(!t||!t.options)throw Fb("App Configuration");if(!t.name)throw Fb("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Fb(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Fb(t){return fl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6="installations",fZ="installations-internal",hZ=t=>{const e=t.getProvider("app").getImmediate(),n=dZ(e),r=us(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},pZ=t=>{const e=t.getProvider("app").getImmediate(),n=us(e,r6).getImmediate();return{getId:()=>lZ(n),getToken:i=>cZ(n,i)}};function mZ(){Pi(new Zr(r6,hZ,"PUBLIC")),Pi(new Zr(fZ,pZ,"PRIVATE"))}mZ();dr(V5,hT);dr(V5,hT,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="analytics",gZ="firebase_id",yZ="origin",vZ=60*1e3,xZ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yT="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn=new xv("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bZ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Pr=new Pl("analytics","Analytics",bZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wZ(t){if(!t.startsWith(yT)){const e=Pr.create("invalid-gtag-resource",{gtagURL:t});return Yn.warn(e.message),""}return t}function i6(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function _Z(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function SZ(t,e){const n=_Z("firebase-js-sdk-policy",{createScriptURL:wZ}),r=document.createElement("script"),i=`${yT}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function EZ(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function kZ(t,e,n,r,i,a){const o=r[i];try{if(o)await e[o];else{const l=(await i6(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(s){Yn.error(s)}t("config",i,a)}async function TZ(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const s=await i6(n);for(const l of o){const c=s.find(d=>d.measurementId===l),u=c&&e[c.appId];if(u)a.push(u);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){Yn.error(a)}}function PZ(t,e,n,r){async function i(a,...o){try{if(a==="event"){const[s,l]=o;await TZ(t,e,n,s,l)}else if(a==="config"){const[s,l]=o;await kZ(t,e,n,r,s,l)}else if(a==="consent"){const[s,l]=o;t("consent",s,l)}else if(a==="get"){const[s,l,c]=o;t("get",s,l,c)}else if(a==="set"){const[s]=o;t("set",s)}else t(a,...o)}catch(s){Yn.error(s)}}return i}function AZ(t,e,n,r,i){let a=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=PZ(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function NZ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(yT)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IZ=30,OZ=1e3;class CZ{constructor(e={},n=OZ){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const a6=new CZ;function jZ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function RZ(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:jZ(n)},i=xZ.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let s="";try{const l=await a.json();(o=l.error)!=null&&o.message&&(s=l.error.message)}catch{}throw Pr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s})}return a.json()}async function MZ(t,e=a6,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw Pr.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Pr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new LZ;return setTimeout(async()=>{s.abort()},vZ),o6({appId:r,apiKey:i,measurementId:a},o,s,e)}async function o6(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=a6){var s;const{appId:a,measurementId:o}=t;try{await DZ(r,e)}catch(l){if(o)return Yn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:o};throw l}try{const l=await RZ(t);return i.deleteThrottleMetadata(a),l}catch(l){const c=l;if(!$Z(c)){if(i.deleteThrottleMetadata(a),o)return Yn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:o};throw l}const u=Number((s=c==null?void 0:c.customData)==null?void 0:s.httpStatus)===503?wN(n,i.intervalMillis,IZ):wN(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(a,d),Yn.debug(`Calling attemptFetch again in ${u} millis`),o6(t,d,r,i)}}function DZ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(Pr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function $Z(t){if(!(t instanceof ti)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class LZ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function FZ(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,o={...r,send_to:a};t("event",n,o)}}async function VZ(t,e,n,r){if(r&&r.global){const i={};for(const a of Object.keys(n))i[`user_properties.${a}`]=n[a];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UZ(){if(yL())try{await vL()}catch(t){return Yn.warn(Pr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Yn.warn(Pr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function BZ(t,e,n,r,i,a,o){const s=MZ(t);s.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Yn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Yn.error(h)),e.push(s);const l=UZ().then(h=>{if(h)return r.getId()}),[c,u]=await Promise.all([s,l]);NZ(a)||SZ(a,c.measurementId),i("js",new Date);const d=(o==null?void 0:o.config)??{};return d[yZ]="firebase",d.update=!0,u!=null&&(d[gZ]=u),i("config",c.measurementId,d),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zZ{constructor(e){this.app=e}_delete(){return delete Ac[this.app.options.appId],Promise.resolve()}}let Ac={},nO=[];const rO={};let Vb="dataLayer",qZ="gtag",iO,vT,aO=!1;function WZ(){const t=[];if(gL()&&t.push("This is a browser extension environment."),pW()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Pr.create("invalid-analytics-context",{errorInfo:e});Yn.warn(n.message)}}function HZ(t,e,n){WZ();const r=t.options.appId;if(!r)throw Pr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Yn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Pr.create("no-api-key");if(Ac[r]!=null)throw Pr.create("already-exists",{id:r});if(!aO){EZ(Vb);const{wrappedGtag:a,gtagCore:o}=AZ(Ac,nO,rO,Vb,qZ);vT=a,iO=o,aO=!0}return Ac[r]=BZ(t,nO,rO,e,iO,Vb,n),new zZ(t)}function GZ(t=bv()){t=tn(t);const e=us(t,h0);return e.isInitialized()?e.getImmediate():KZ(t)}function KZ(t,e={}){const n=us(t,h0);if(n.isInitialized()){const i=n.getImmediate();if(Xo(e,n.getOptions()))return i;throw Pr.create("already-initialized")}return n.initialize({options:e})}function YZ(t,e,n){t=tn(t),VZ(vT,Ac[t.app.options.appId],e,n).catch(r=>Yn.error(r))}function QZ(t,e,n,r){t=tn(t),FZ(vT,Ac[t.app.options.appId],e,n,r).catch(i=>Yn.error(i))}const oO="@firebase/analytics",sO="0.10.19";function XZ(){Pi(new Zr(h0,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return HZ(r,i,n)},"PUBLIC")),Pi(new Zr("analytics-internal",t,"PRIVATE")),dr(oO,sO),dr(oO,sO,"esm2020");function t(e){try{const n=e.getProvider(h0).getImmediate();return{logEvent:(r,i,a)=>QZ(n,r,i,a),setUserProperties:(r,i)=>YZ(n,r,i)}}catch(n){throw Pr.create("interop-component-reg-failed",{reason:n})}}}XZ();const JZ={apiKey:"AIzaSyALROg4hIMFvYd8hydNKxKWmP3Cn5JmdcQ",authDomain:"test-inventory-stoe.firebaseapp.com",projectId:"test-inventory-stoe",storageBucket:"test-inventory-stoe.firebasestorage.app",messagingSenderId:"1081430501971",appId:"1:1081430501971:web:bb4e4be92aa2519ae934a6",measurementId:"G-3Y7YENDSHN"},Uv=_L(JZ);OK(Uv);const lo=$X(Uv);PJ(Uv);typeof window<"u"&&GZ(Uv);const ht={subscribeToCollection:(t,e,n="name",r="asc")=>{try{if(!t||typeof e!="function")return console.error("subscribeToCollection: invalid arguments",{collectionName:t,callback:e}),()=>{};const i=n?KX(_d(lo,t),YX(n,r)):_d(lo,t);return KI(i,a=>{const o=a.docs.map(s=>({_id:s.id,...s.data()}));e(o)},a=>{if(console.error(`Error subscribing to ${t}:`,a),a.code==="failed-precondition"||a.message.includes("index")){console.log(`Retrying ${t} without orderBy...`);const o=_d(lo,t);return KI(o,s=>{const l=s.docs.map(c=>({_id:c.id,...c.data()}));e(l)})}})}catch(i){return console.error(`Error setting up subscription for ${t}:`,i),()=>{}}},add:async(t,e)=>{if(!t)throw new Error("add: collectionName is required");try{const n=await eJ(_d(lo,t),e);return{...e,_id:n.id}}catch(n){throw console.error(`Error adding to ${t}:`,n),n}},update:async(t,e,n)=>{if(!t||!e)throw new Error("update: collectionName and id are required");try{const r=cg(lo,t,e);await ZX(r,n)}catch(r){throw console.error(`Error updating ${t}:`,r),r}},set:async(t,e,n)=>{if(!t||!e)throw new Error("set: collectionName and id are required");try{const r=cg(lo,t,e);await JX(r,n)}catch(r){throw console.error(`Error setting in ${t}:`,r),r}},delete:async(t,e)=>{if(!t||!e)throw new Error("delete: collectionName and id are required");try{const n=cg(lo,t,e);await GI(n)}catch(n){throw console.error(`Error deleting from ${t}:`,n),n}},clearCollection:async t=>{if(!t)throw new Error("clearCollection: collectionName is required");try{const n=(await XX(_d(lo,t))).docs.map(r=>GI(r.ref));await Promise.all(n)}catch(e){throw console.error(`Error clearing ${t}:`,e),e}}},$e=t=>typeof t=="string",Sd=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},lO=t=>t==null?"":""+t,ZZ=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},eee=/###/g,cO=t=>t&&t.indexOf("###")>-1?t.replace(eee,"."):t,uO=t=>!t||$e(t),wf=(t,e,n)=>{const r=$e(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(uO(t))return{};const a=cO(r[i]);!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return uO(t)?{}:{obj:t,k:cO(r[i])}},dO=(t,e,n)=>{const{obj:r,k:i}=wf(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let a=e[e.length-1],o=e.slice(0,e.length-1),s=wf(t,o,Object);for(;s.obj===void 0&&o.length;)a=`${o[o.length-1]}.${a}`,o=o.slice(0,o.length-1),s=wf(t,o,Object),s!=null&&s.obj&&typeof s.obj[`${s.k}.${a}`]<"u"&&(s.obj=void 0);s.obj[`${s.k}.${a}`]=n},tee=(t,e,n,r)=>{const{obj:i,k:a}=wf(t,e,Object);i[a]=i[a]||[],i[a].push(n)},p0=(t,e)=>{const{obj:n,k:r}=wf(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},nee=(t,e,n)=>{const r=p0(t,n);return r!==void 0?r:p0(e,n)},s6=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?$e(t[r])||t[r]instanceof String||$e(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):s6(t[r],e[r],n):t[r]=e[r]);return t},Vl=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var ree={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const iee=t=>$e(t)?t.replace(/[&<>"'\/]/g,e=>ree[e]):t;class aee{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const oee=[" ",",","?","!",";"],see=new aee(20),lee=(t,e,n)=>{e=e||"",n=n||"";const r=oee.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const i=see.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let a=!i.test(t);if(!a){const o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(a=!0)}return a},r_=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let o,s="";for(let l=a;l<r.length;++l)if(l!==a&&(s+=n),s+=r[l],o=i[s],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;a+=l-a+1;break}i=o}return i},lh=t=>t==null?void 0:t.replace("_","-"),cee={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class m0{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||cee,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:($e(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new m0(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new m0(this.logger,e)}}var zi=new m0;let Bv=class{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let o=0;o<a;o++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let o=0;o<a;o++)i.apply(i,[e,...n])})}};class fO extends Bv{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var c,u;const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;e.indexOf(".")>-1?s=e.split("."):(s=[e,n],r&&(Array.isArray(r)?s.push(...r):$e(r)&&a?s.push(...r.split(a)):s.push(r)));const l=p0(this.data,s);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=s[0],n=s[1],r=s.slice(2).join(".")),l||!o||!$e(r)?l:r_((u=(c=this.data)==null?void 0:c[e])==null?void 0:u[n],r,a)}addResource(e,n,r,i,a={silent:!1}){const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let s=[e,n];r&&(s=s.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(s=e.split("."),i=n,n=s[1]),this.addNamespaces(n),dO(this.data,s,i),a.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const a in r)($e(r[a])||Array.isArray(r[a]))&&this.addResource(e,n,a,r[a],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,a,o={silent:!1,skipCopy:!1}){let s=[e,n];e.indexOf(".")>-1&&(s=e.split("."),i=r,r=n,n=s[1]),this.addNamespaces(n);let l=p0(this.data,s)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?s6(l,r,a):l={...l,...r},dO(this.data,s,l),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var l6={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(a=>{var o;e=((o=this.processors[a])==null?void 0:o.process(e,n,r,i))??e}),e}};const c6=Symbol("i18next/PATH_KEY");function uee(){const t=[],e=Object.create(null);let n;return e.get=(r,i)=>{var a;return(a=n==null?void 0:n.revoke)==null||a.call(n),i===c6?t:(t.push(i),n=Proxy.revocable(r,e),n.proxy)},Proxy.revocable(Object.create(null),e).proxy}function i_(t,e){const{[c6]:n}=t(uee());return n.join((e==null?void 0:e.keySeparator)??".")}const hO={},Ub=t=>!$e(t)&&typeof t!="boolean"&&typeof t!="number";class g0 extends Bv{constructor(e,n={}){super(),ZZ(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=zi.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);if((i==null?void 0:i.res)===void 0)return!1;const a=Ub(i.res);return!(r.returnObjects===!1&&a)}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,s=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!lee(e,r,i);if(o&&!s){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:$e(a)?[a]:a};const c=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(a=c.shift()),e=c.join(i)}return{key:e,namespaces:$e(a)?[a]:a}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=i_(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:s,namespaces:l}=this.extractFromKey(e[e.length-1],i),c=l[l.length-1];let u=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const d=i.lng||this.language,h=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((d==null?void 0:d.toLowerCase())==="cimode")return h?a?{res:`${c}${u}${s}`,usedKey:s,exactUsedKey:s,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:`${c}${u}${s}`:a?{res:s,usedKey:s,exactUsedKey:s,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:s;const p=this.resolve(e,i);let g=p==null?void 0:p.res;const y=(p==null?void 0:p.usedKey)||s,v=(p==null?void 0:p.exactUsedKey)||s,x=["[object Number]","[object Function]","[object RegExp]"],b=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,E=i.count!==void 0&&!$e(i.count),S=g0.hasDefaultValue(i),P=E?this.pluralResolver.getSuffix(d,i.count,i):"",_=i.ordinal&&E?this.pluralResolver.getSuffix(d,i.count,{ordinal:!1}):"",k=E&&!i.ordinal&&i.count===0,A=k&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${P}`]||i[`defaultValue${_}`]||i.defaultValue;let I=g;w&&!g&&S&&(I=A);const O=Ub(I),C=Object.prototype.toString.apply(I);if(w&&I&&O&&x.indexOf(C)<0&&!($e(b)&&Array.isArray(I))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const j=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,I,{...i,ns:l}):`key '${s} (${this.language})' returned an object instead of string.`;return a?(p.res=j,p.usedParams=this.getUsedParamsDetails(i),p):j}if(o){const j=Array.isArray(I),M=j?[]:{},D=j?v:y;for(const L in I)if(Object.prototype.hasOwnProperty.call(I,L)){const B=`${D}${o}${L}`;S&&!g?M[L]=this.translate(B,{...i,defaultValue:Ub(A)?A[L]:void 0,joinArrays:!1,ns:l}):M[L]=this.translate(B,{...i,joinArrays:!1,ns:l}),M[L]===B&&(M[L]=I[L])}g=M}}else if(w&&$e(b)&&Array.isArray(g))g=g.join(b),g&&(g=this.extendTranslation(g,e,i,r));else{let j=!1,M=!1;!this.isValidLookup(g)&&S&&(j=!0,g=A),this.isValidLookup(g)||(M=!0,g=s);const L=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&M?void 0:g,B=S&&A!==g&&this.options.updateMissing;if(M||j||B){if(this.logger.log(B?"updateKey":"missingKey",d,c,s,B?A:g),o){const G=this.resolve(s,{...i,keySeparator:!1});G&&G.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let V=[];const U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&U&&U[0])for(let G=0;G<U.length;G++)V.push(U[G]);else this.options.saveMissingTo==="all"?V=this.languageUtils.toResolveHierarchy(i.lng||this.language):V.push(i.lng||this.language);const F=(G,K,ie)=>{var ve;const se=S&&ie!==g?ie:L;this.options.missingKeyHandler?this.options.missingKeyHandler(G,c,K,se,B,i):(ve=this.backendConnector)!=null&&ve.saveMissing&&this.backendConnector.saveMissing(G,c,K,se,B,i),this.emit("missingKey",G,c,K,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&E?V.forEach(G=>{const K=this.pluralResolver.getSuffixes(G,i);k&&i[`defaultValue${this.options.pluralSeparator}zero`]&&K.indexOf(`${this.options.pluralSeparator}zero`)<0&&K.push(`${this.options.pluralSeparator}zero`),K.forEach(ie=>{F([G],s+ie,i[`defaultValue${ie}`]||A)})}):F(V,s,A))}g=this.extendTranslation(g,e,i,p,r),M&&g===s&&this.options.appendNamespaceToMissingKey&&(g=`${c}${u}${s}`),(M||j)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${u}${s}`:s,j?g:void 0,i))}return a?(p.res=g,p.usedParams=this.getUsedParamsDetails(i),p):g}extendTranslation(e,n,r,i,a){var l,c;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=$e(e)&&(((c=r==null?void 0:r.interpolation)==null?void 0:c.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const p=e.match(this.interpolator.nestingRegexp);d=p&&p.length}let h=r.replace&&!$e(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||i.usedLng,r),u){const p=e.match(this.interpolator.nestingRegexp),g=p&&p.length;d<g&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...p)=>(a==null?void 0:a[0])===p[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):this.translate(...p,n),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,s=$e(o)?[o]:o;return e!=null&&(s!=null&&s.length)&&r.applyPostProcessor!==!1&&(e=l6.handle(s,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,a,o,s;return $e(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),u=c.key;i=u;let d=c.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const h=n.count!==void 0&&!$e(n.count),p=h&&!n.ordinal&&n.count===0,g=n.context!==void 0&&($e(n.context)||typeof n.context=="number")&&n.context!=="",y=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(v=>{var x,b;this.isValidLookup(r)||(s=v,!hO[`${y[0]}-${v}`]&&((x=this.utils)!=null&&x.hasLoadedNamespace)&&!((b=this.utils)!=null&&b.hasLoadedNamespace(s))&&(hO[`${y[0]}-${v}`]=!0,this.logger.warn(`key "${i}" for languages "${y.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(w=>{var P;if(this.isValidLookup(r))return;o=w;const E=[u];if((P=this.i18nFormat)!=null&&P.addLookupKeys)this.i18nFormat.addLookupKeys(E,u,w,v,n);else{let _;h&&(_=this.pluralResolver.getSuffix(w,n.count,n));const k=`${this.options.pluralSeparator}zero`,A=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(n.ordinal&&_.indexOf(A)===0&&E.push(u+_.replace(A,this.options.pluralSeparator)),E.push(u+_),p&&E.push(u+k)),g){const I=`${u}${this.options.contextSeparator||"_"}${n.context}`;E.push(I),h&&(n.ordinal&&_.indexOf(A)===0&&E.push(I+_.replace(A,this.options.pluralSeparator)),E.push(I+_),p&&E.push(I+k))}}let S;for(;S=E.pop();)this.isValidLookup(r)||(a=S,r=this.getResource(w,v,S,n))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:o,usedNS:s}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!$e(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of n)delete i[a]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class pO{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=zi.create("languageUtils")}getScriptPartFromCode(e){if(e=lh(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=lh(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if($e(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(o=>{if(o===a)return o;if(!(o.indexOf("-")<0&&a.indexOf("-")<0)&&(o.indexOf("-")>0&&a.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===a||o.indexOf(a)===0&&a.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),$e(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],a=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return $e(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):$e(e)&&a(this.formatLanguageCode(e)),r.forEach(o=>{i.indexOf(o)<0&&a(this.formatLanguageCode(o))}),i}}const mO={zero:0,one:1,two:2,few:3,many:4,other:5},gO={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class dee{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=zi.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=lh(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let o;try{o=new Intl.PluralRules(r,{type:i})}catch{if(typeof Intl>"u")return this.logger.error("No Intl support, please use an Intl polyfill!"),gO;if(!e.match(/-|_/))return gO;const l=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(l,n)}return this.pluralRulesCache[a]=o,o}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>mO[i]-mO[a]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const yO=(t,e,n,r=".",i=!0)=>{let a=nee(t,e,n);return!a&&i&&$e(n)&&(a=r_(t,n,r),a===void 0&&(a=r_(e,n,r))),a},Bb=t=>t.replace(/\$/g,"$$$$");class vO{constructor(e={}){var n;this.logger=zi.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:o,suffix:s,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:d,nestingPrefix:h,nestingPrefixEscaped:p,nestingSuffix:g,nestingSuffixEscaped:y,nestingOptionsSeparator:v,maxReplaces:x,alwaysFormat:b}=e.interpolation;this.escape=n!==void 0?n:iee,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?Vl(a):o||"{{",this.suffix=s?Vl(s):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=h?Vl(h):p||Vl("$t("),this.nestingSuffix=g?Vl(g):y||Vl(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=x||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var p;let a,o,s;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=g=>{if(g.indexOf(this.formatSeparator)<0){const b=yO(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,r,{...i,...n,interpolationkey:g}):b}const y=g.split(this.formatSeparator),v=y.shift().trim(),x=y.join(this.formatSeparator).trim();return this.format(yO(n,l,v,this.options.keySeparator,this.options.ignoreJSONStructure),x,r,{...i,...n,interpolationkey:v})};this.resetRegExp();const u=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,d=((p=i==null?void 0:i.interpolation)==null?void 0:p.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>Bb(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?Bb(this.escape(g)):Bb(g)}].forEach(g=>{for(s=0;a=g.regex.exec(e);){const y=a[1].trim();if(o=c(y),o===void 0)if(typeof u=="function"){const x=u(e,a,i);o=$e(x)?x:""}else if(i&&Object.prototype.hasOwnProperty.call(i,y))o="";else if(d){o=a[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),o="";else!$e(o)&&!this.useRawValueToEscape&&(o=lO(o));const v=g.safeValue(o);if(e=e.replace(a[0],v),d?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=a[0].length):g.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,a,o;const s=(l,c)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const d=l.split(new RegExp(`${u}[ ]*{`));let h=`{${d[1]}`;l=d[0],h=this.interpolate(h,o);const p=h.match(/'/g),g=h.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!g||g.length%2!==0)&&(h=h.replace(/'/g,'"'));try{o=JSON.parse(h),c&&(o={...c,...o})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,y),`${l}${u}${h}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];o={...r},o=o.replace&&!$e(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const c=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(c!==-1&&(l=i[1].slice(c).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),i[1]=i[1].slice(0,c)),a=n(s.call(this,i[1].trim(),o),o),a&&i[0]===e&&!$e(a))return a;$e(a)||(a=lO(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),l.length&&(a=l.reduce((u,d)=>this.format(u,d,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const fee=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(o){const[s,...l]=o.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=s.trim();n[u]||(n[u]=c),c==="false"&&(n[u]=!1),c==="true"&&(n[u]=!0),isNaN(c)||(n[u]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}},xO=t=>{const e={};return(n,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const o=r+JSON.stringify(a);let s=e[o];return s||(s=t(lh(r),i),e[o]=s),s(n)}},hee=t=>(e,n,r)=>t(lh(n),r)(e);class pee{constructor(e={}){this.logger=zi.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?xO:hee;this.formats={number:r((i,a)=>{const o=new Intl.NumberFormat(i,{...a});return s=>o.format(s)}),currency:r((i,a)=>{const o=new Intl.NumberFormat(i,{...a,style:"currency"});return s=>o.format(s)}),datetime:r((i,a)=>{const o=new Intl.DateTimeFormat(i,{...a});return s=>o.format(s)}),relativetime:r((i,a)=>{const o=new Intl.RelativeTimeFormat(i,{...a});return s=>o.format(s,a.range||"day")}),list:r((i,a)=>{const o=new Intl.ListFormat(i,{...a});return s=>o.format(s)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=xO(n)}format(e,n,r,i={}){const a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(s=>s.indexOf(")")>-1)){const s=a.findIndex(l=>l.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,s)].join(this.formatSeparator)}return a.reduce((s,l)=>{var d;const{formatName:c,formatOptions:u}=fee(l);if(this.formats[c]){let h=s;try{const p=((d=i==null?void 0:i.formatParams)==null?void 0:d[i.interpolationkey])||{},g=p.locale||p.lng||i.locale||i.lng||r;h=this.formats[c](s,g,{...u,...i,...p})}catch(p){this.logger.warn(p)}return h}else this.logger.warn(`there was no format function for ${c}`);return s},e)}}const mee=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class gee extends Bv{constructor(e,n,r,i={}){var a,o;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=zi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(o=(a=this.backend)==null?void 0:a.init)==null||o.call(a,r,i.backend,i)}queueLoad(e,n,r,i){const a={},o={},s={},l={};return e.forEach(c=>{let u=!0;n.forEach(d=>{const h=`${c}|${d}`;!r.reload&&this.store.hasResourceBundle(c,d)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?o[h]===void 0&&(o[h]=!0):(this.state[h]=1,u=!1,o[h]===void 0&&(o[h]=!0),a[h]===void 0&&(a[h]=!0),l[d]===void 0&&(l[d]=!0)))}),u||(s[c]=!0)}),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),a=i[0],o=i[1];n&&this.emit("failedLoading",a,o,n),!n&&r&&this.store.addResourceBundle(a,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const s={};this.queue.forEach(l=>{tee(l.loaded,[a],o),mee(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{s[c]||(s[c]={});const u=l.loaded[c];u.length&&u.forEach(d=>{s[c][d]===void 0&&(s[c][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r,i=0,a=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:a,callback:o});return}this.readingCalls++;const s=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(c&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,a*2,o)},a);return}o(c,u)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(e,n);c&&typeof c.then=="function"?c.then(u=>s(null,u)).catch(s):s(null,c)}catch(c){s(c)}return}return l(e,n,s)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();$e(e)&&(e=this.languageUtils.toResolveHierarchy(e)),$e(n)&&(n=[n]);const a=this.queueLoad(e,n,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(o,s)=>{o&&this.logger.warn(`${n}loading namespace ${a} for language ${i} failed`,o),!o&&s&&this.logger.log(`${n}loaded namespace ${a} for language ${i}`,s),this.loaded(e,o,s)})}saveMissing(e,n,r,i,a,o={},s=()=>{}){var l,c,u,d,h;if((c=(l=this.services)==null?void 0:l.utils)!=null&&c.hasLoadedNamespace&&!((d=(u=this.services)==null?void 0:u.utils)!=null&&d.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((h=this.backend)!=null&&h.create){const p={...o,isUpdate:a},g=this.backend.create.bind(this.backend);if(g.length<6)try{let y;g.length===5?y=g(e,n,r,i,p):y=g(e,n,r,i),y&&typeof y.then=="function"?y.then(v=>s(null,v)).catch(s):s(null,y)}catch(y){s(y)}else g(e,n,r,i,s,p)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const zb=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),$e(t[1])&&(e.defaultValue=t[1]),$e(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),bO=t=>{var e,n;return $e(t.ns)&&(t.ns=[t.ns]),$e(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),$e(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},gm=()=>{},yee=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};let wO=!1;const vee=t=>{var e,n,r,i,a,o,s,l,c;return!!(((r=(n=(e=t==null?void 0:t.modules)==null?void 0:e.backend)==null?void 0:n.name)==null?void 0:r.indexOf("Locize"))>0||((s=(o=(a=(i=t==null?void 0:t.modules)==null?void 0:i.backend)==null?void 0:a.constructor)==null?void 0:o.name)==null?void 0:s.indexOf("Locize"))>0||(c=(l=t==null?void 0:t.options)==null?void 0:l.backend)!=null&&c.backends&&t.options.backend.backends.some(u=>{var d,h,p;return((d=u==null?void 0:u.name)==null?void 0:d.indexOf("Locize"))>0||((p=(h=u==null?void 0:u.constructor)==null?void 0:h.name)==null?void 0:p.indexOf("Locize"))>0}))};class _f extends Bv{constructor(e={},n){if(super(),this.options=bO(e),this.services={},this.logger=zi,this.modules={external:[]},yee(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&($e(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=zb();this.options={...r,...this.options,...bO(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler),this.options.showSupportNotice!==!1&&!vee(this)&&!wO&&(typeof console<"u"&&typeof console.info<"u"&&console.info(" i18next is maintained with support from Locize  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com "),wO=!0);const i=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?zi.init(i(this.modules.logger),this.options):zi.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=pee;const u=new pO(this.options);this.store=new fO(this.options.resources,this.options);const d=this.services;d.logger=zi,d.resourceStore=this.store,d.languageUtils=u,d.pluralResolver=new dee(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),c&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(d.formatter=i(c),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new vO(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new gee(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new g0(this.services,this.options),this.translator.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=gm),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...u)=>this.store[c](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...u)=>(this.store[c](...u),this)});const s=Sd(),l=()=>{const c=(u,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),s.resolve(d),n(u,d)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),s}loadResources(e,n=gm){var a,o;let r=n;const i=$e(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const s=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(d=>{d!=="cimode"&&s.indexOf(d)<0&&s.push(d)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>l(u)),(o=(a=this.options.preload)==null?void 0:a.forEach)==null||o.call(a,c=>l(c)),this.services.backendConnector.load(s,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,n,r){const i=Sd();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=gm),this.services.backendConnector.reload(e,n,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&l6.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=Sd();this.emit("languageChanging",e);const i=s=>{this.language=s,this.languages=this.services.languageUtils.toResolveHierarchy(s),this.resolvedLanguage=void 0,this.setResolvedLanguage(s)},a=(s,l)=>{l?this.isLanguageChangingTo===e&&(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...c)=>this.t(...c)),n&&n(s,(...c)=>this.t(...c))},o=s=>{var u,d;!e&&!s&&this.services.languageDetector&&(s=[]);const l=$e(s)?s:s&&s[0],c=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes($e(s)?[s]:s);c&&(this.language||i(c),this.translator.language||this.translator.changeLanguage(c),(d=(u=this.services.languageDetector)==null?void 0:u.cacheUserLanguage)==null||d.call(u,c)),this.loadResources(c,h=>{a(h,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),r}getFixedT(e,n,r){const i=(a,o,...s)=>{let l;typeof o!="object"?l=this.options.overloadTranslationOptionHandler([a,o].concat(s)):l={...o},l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const c=this.options.keySeparator||".";let u;return l.keyPrefix&&Array.isArray(a)?u=a.map(d=>(typeof d=="function"&&(d=i_(d,{...this.options,...o})),`${l.keyPrefix}${c}${d}`)):(typeof a=="function"&&(a=i_(a,{...this.options,...o})),u=l.keyPrefix?`${l.keyPrefix}${c}${a}`:a),this.t(u,l)};return $e(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(s,l)=>{const c=this.services.backendConnector.state[`${s}|${l}`];return c===-1||c===0||c===2};if(n.precheck){const s=n.precheck(this,o);if(s!==void 0)return s}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!i||o(a,e)))}loadNamespaces(e,n){const r=Sd();return this.options.ns?($e(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Sd();$e(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return a.length?(this.options.preload=i.concat(a),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){var i,a;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const o=new Intl.Locale(e);if(o&&o.getTextInfo){const s=o.getTextInfo();if(s&&s.direction)return s.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new pO(zb());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){const r=new _f(e,n);return r.createInstance=_f.createInstance,r}cloneInstance(e={},n=gm){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new _f(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(s=>{a[s]=this[s]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const s=Object.keys(this.store.data).reduce((l,c)=>(l[c]={...this.store.data[c]},l[c]=Object.keys(l[c]).reduce((u,d)=>(u[d]={...l[c][d]},u),l[c]),l),{});a.store=new fO(s,i),a.services.resourceStore=a.store}if(e.interpolation){const l={...zb().interpolation,...this.options.interpolation,...e.interpolation},c={...i,interpolation:l};a.services.interpolator=new vO(c)}return a.translator=new g0(a.services,i),a.translator.on("*",(s,...l)=>{a.emit(s,...l)}),a.init(i,n),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const gn=_f.createInstance();gn.createInstance;gn.dir;gn.init;gn.loadResources;gn.reloadResources;gn.use;gn.changeLanguage;gn.getFixedT;gn.t;gn.exists;gn.setDefaultNamespace;gn.hasLoadedNamespace;gn.loadNamespaces;gn.loadLanguages;const xee=(t,e,n,r)=>{var a,o,s,l;const i=[n,{code:e,...r||{}}];if((o=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&o.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);pl(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(l=(s=t==null?void 0:t.services)==null?void 0:s.logger)!=null&&l.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},_O={},u6=(t,e,n,r)=>{pl(n)&&_O[n]||(pl(n)&&(_O[n]=new Date),xee(t,e,n,r))},d6=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},a_=(t,e,n)=>{t.loadNamespaces(e,d6(t,n))},SO=(t,e,n,r)=>{if(pl(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return a_(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,d6(t,r))},bee=(t,e,n={})=>!e.languages||!e.languages.length?(u6(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),pl=t=>typeof t=="string",wee=t=>typeof t=="object"&&t!==null,_ee=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,See={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Eee=t=>See[t],kee=t=>t.replace(_ee,Eee);let o_={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:kee,transDefaultProps:void 0};const Tee=(t={})=>{o_={...o_,...t}},Pee=()=>o_;let f6;const Aee=t=>{f6=t},Nee=()=>f6,Iee={type:"3rdParty",init(t){Tee(t.options.react),Aee(t)}},Oee=R.createContext();class Cee{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var h6={exports:{}},p6={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xc=R;function jee(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ree=typeof Object.is=="function"?Object.is:jee,Mee=Xc.useState,Dee=Xc.useEffect,$ee=Xc.useLayoutEffect,Lee=Xc.useDebugValue;function Fee(t,e){var n=e(),r=Mee({inst:{value:n,getSnapshot:e}}),i=r[0].inst,a=r[1];return $ee(function(){i.value=n,i.getSnapshot=e,qb(i)&&a({inst:i})},[t,n,e]),Dee(function(){return qb(i)&&a({inst:i}),t(function(){qb(i)&&a({inst:i})})},[t]),Lee(n),n}function qb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ree(t,n)}catch{return!0}}function Vee(t,e){return e()}var Uee=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Vee:Fee;p6.useSyncExternalStore=Xc.useSyncExternalStore!==void 0?Xc.useSyncExternalStore:Uee;h6.exports=p6;var Bee=h6.exports;const zee=(t,e)=>pl(e)?e:wee(e)&&pl(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,qee={t:zee,ready:!1},Wee=()=>()=>{},jr=(t,e={})=>{var A,I,O;const{i18n:n}=e,{i18n:r,defaultNS:i}=R.useContext(Oee)||{},a=n||r||Nee();a&&!a.reportNamespaces&&(a.reportNamespaces=new Cee),a||u6(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const o=R.useMemo(()=>{var C;return{...Pee(),...(C=a==null?void 0:a.options)==null?void 0:C.react,...e}},[a,e]),{useSuspense:s,keyPrefix:l}=o,c=i||((A=a==null?void 0:a.options)==null?void 0:A.defaultNS),u=pl(c)?[c]:c||["translation"],d=R.useMemo(()=>u,u);(O=(I=a==null?void 0:a.reportNamespaces)==null?void 0:I.addUsedNamespaces)==null||O.call(I,d);const h=R.useRef(0),p=R.useCallback(C=>{if(!a)return Wee;const{bindI18n:j,bindI18nStore:M}=o,D=()=>{h.current+=1,C()};return j&&a.on(j,D),M&&a.store.on(M,D),()=>{j&&j.split(" ").forEach(L=>a.off(L,D)),M&&M.split(" ").forEach(L=>a.store.off(L,D))}},[a,o]),g=R.useRef(),y=R.useCallback(()=>{if(!a)return qee;const C=!!(a.isInitialized||a.initializedStoreOnce)&&d.every(V=>bee(V,a,o)),j=e.lng||a.language,M=h.current,D=g.current;if(D&&D.ready===C&&D.lng===j&&D.keyPrefix===l&&D.revision===M)return D;const B={t:a.getFixedT(j,o.nsMode==="fallback"?d:d[0],l),ready:C,lng:j,keyPrefix:l,revision:M};return g.current=B,B},[a,d,l,o,e.lng]),[v,x]=R.useState(0),{t:b,ready:w}=Bee.useSyncExternalStore(p,y,y);R.useEffect(()=>{if(a&&!w&&!s){const C=()=>x(j=>j+1);e.lng?SO(a,e.lng,d,C):a_(a,d,C)}},[a,e.lng,d,w,s,v]);const E=a||{},S=R.useRef(null),P=R.useRef(),_=C=>{const j=Object.getOwnPropertyDescriptors(C);j.__original&&delete j.__original;const M=Object.create(Object.getPrototypeOf(C),j);if(!Object.prototype.hasOwnProperty.call(M,"__original"))try{Object.defineProperty(M,"__original",{value:C,writable:!1,enumerable:!1,configurable:!1})}catch{}return M},k=R.useMemo(()=>{const C=E,j=C==null?void 0:C.language;let M=C;C&&(S.current&&S.current.__original===C?P.current!==j?(M=_(C),S.current=M,P.current=j):M=S.current:(M=_(C),S.current=M,P.current=j));const D=[b,M,w];return D.t=b,D.i18n=M,D.ready=w,D},[b,E,w,E.resolvedLanguage,E.language,E.languages]);if(a&&s&&!w)throw new Promise(C=>{const j=()=>C();e.lng?SO(a,e.lng,d,j):a_(a,d,j)});return k},m6=R.createContext(),Rr=()=>R.useContext(m6),Hee=({children:t})=>{const[e,n]=R.useState(()=>localStorage.getItem("theme")||"light"),[r,i]=R.useState(()=>localStorage.getItem("isSidebarCollapsed")==="true"),[a,o]=R.useState(!1),[s,l]=R.useState(()=>{const ne=localStorage.getItem("appearance");return ne?JSON.parse(ne):{theme:"default",accentType:"solid",accentColor:"#1e3a5f",accentGradient:{start:"#8B5CF6",end:"#3B82F6"}}});R.useEffect(()=>{const ne=document.documentElement;ne.classList.remove("theme-liquid","theme-light","theme-dark"),s.theme!=="default"&&ne.classList.add(`theme-${s.theme}`);let ye=s.accentColor;if(s.accentColor,s.accentType==="solid")ne.style.setProperty("--accent-color",s.accentColor),ne.style.setProperty("--accent-gradient",s.accentColor);else{const{start:Z,end:q}=s.accentGradient;ye=Z,ne.style.setProperty("--accent-color",Z),ne.style.setProperty("--accent-gradient",`linear-gradient(135deg, ${Z} 0%, ${q} 100%)`)}if(ne.style.setProperty("--brand-color",ye),A(Z=>({...Z,color:ye})),s.theme==="liquid"&&ne.style.setProperty("--glass-tint",`${ye}15`),s.theme==="dark")n("dark");else if(s.theme==="light")n("light");else if(s.theme==="default"){const Z=localStorage.getItem("theme")||"light";n(Z)}},[s]);const[c,u]=R.useState([]),[d,h]=R.useState([]),[p,g]=R.useState([]),[y,v]=R.useState([]),[x,b]=R.useState(["Electronics","Clothing","Home","Beauty","Sports"]),[w,E]=R.useState(!0),[S,P]=R.useState([]),_=(ne,ye="info")=>{const Z=Math.random().toString(36).substr(2,9);P(q=>[...q,{id:Z,message:ne,type:ye}]),setTimeout(()=>{P(q=>q.filter(re=>re.id!==Z))},3e3)},[k,A]=R.useState({name:"Gem Toys",logo:"https://i.imgur.com/9YXqZ5K.png",color:"#1e3a5f",hideHeader:!1}),I=async ne=>{const ye={...k,...ne};A(ye),await ht.set("settings","branding",ye)};R.useEffect(()=>{E(!0);const ne=ht.subscribeToCollection("products",u,"name"),ye=ht.subscribeToCollection("categories",Te=>{if(Te.length>0){const qe=Te.map(Ze=>Ze.name).sort();b(qe),C(Te)}else b([]),C([])}),Z=ht.subscribeToCollection("orders",h,"date","desc"),q=ht.subscribeToCollection("customers",g,"name"),re=ht.subscribeToCollection("users",v,"username"),fe=ht.subscribeToCollection("settings",Te=>{const qe=Te.find(Ze=>Ze._id==="branding");if(qe){const{_id:Ze,...At}=qe;A(At)}});return E(!1),()=>{ne(),ye(),Z(),q(),re(),fe()}},[]);const[O,C]=R.useState([]),j=async ne=>{x.includes(ne)||(await ht.add("categories",{name:ne}),_(`Category "${ne}" added!`,"success"))},M=async(ne,ye)=>{const Z=O.find(q=>q.name===ne);if(Z){await ht.update("categories",Z._id,{name:ye}),_(`Category updated to "${ye}"`,"success");const q=c.filter(re=>re.category===ne);for(const re of q)await ht.update("products",re._id,{category:ye})}},D=async ne=>{const ye=O.find(Z=>Z.name===ne);ye&&(await ht.delete("categories",ye._id),_(`Category "${ne}" deleted!`,"success"))},[L,B]=R.useState(null);R.useEffect(()=>{if(y.length>0)if(L){const ne=y.find(ye=>ye._id===L._id||ye.username===L.username);ne&&B(ne)}else{const ne=y.find(ye=>ye.role==="Admin");B(ne||y[0])}},[y]);const V=ne=>{n(ne)};R.useEffect(()=>{const ne=document.documentElement;e==="dark"?ne.classList.add("dark"):e==="light"?ne.classList.remove("dark"):e==="system"&&(window.matchMedia("(prefers-color-scheme: dark)").matches?ne.classList.add("dark"):ne.classList.remove("dark")),localStorage.setItem("theme",e)},[e]);const{i18n:U}=jr(),[F,G]=R.useState(localStorage.getItem("language")||U.language||"en"),K=ne=>{G(ne),U.changeLanguage(ne),localStorage.setItem("language",ne);const ye=ne==="ar"?"rtl":"ltr";document.documentElement.setAttribute("dir",ye),document.documentElement.setAttribute("lang",ne)};R.useEffect(()=>{const ne=localStorage.getItem("language")||"en",ye=ne==="ar"?"rtl":"ltr";document.documentElement.setAttribute("dir",ye),document.documentElement.setAttribute("lang",ne),ne!==U.language&&U.changeLanguage(ne)},[U]);const ie=()=>{i(ne=>{const ye=!ne;return localStorage.setItem("isSidebarCollapsed",ye),ye})},se=()=>o(ne=>!ne),ve=()=>o(!1),ce=ne=>new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(ne),de=async ne=>{const ye=await ht.add("products",ne);return _("Product added successfully","success"),ye},Y=async ne=>{const{_id:ye,...Z}=ne;await ht.update("products",ye,Z)},X=async ne=>{await ht.delete("products",ne)},me=async ne=>{const ye={...ne,createdOn:new Date().toISOString()},Z=await ht.add("customers",ye);return _("Customer added successfully","success"),Z},J=async ne=>{const{_id:ye,...Z}=ne;await ht.update("customers",ye,Z)},ee=async ne=>{const ye=`#ORD-${Math.floor(1e3+Math.random()*9e3)}`,Z={...ne,orderId:ye,date:new Date().toISOString()},q=await ht.add("orders",Z);for(const re of ne.items){const fe=c.find(Te=>Te._id===re.product._id);if(fe){const Te=Math.max(0,fe.stock-re.quantity);await ht.update("products",fe._id,{stock:Te,status:Te===0?"Out of Stock":Te<=10?"Low Stock":"In Stock"})}}return _("Order created successfully","success"),q},Oe=async ne=>{const ye=d.find(Z=>Z._id===ne);if(ye)for(const Z of ye.items){const q=c.find(re=>re._id===Z.product._id);if(q){const re=q.stock+Z.quantity;await ht.update("products",q._id,{stock:re,status:re===0?"Out of Stock":re<=10?"Low Stock":"In Stock"})}}await ht.delete("orders",ne),_("Order deleted and stock restored","info")},Re=async ne=>{const{_id:ye,...Z}=ne,q=d.find(re=>re._id===ye);if(q){for(const re of q.items){const fe=c.find(Te=>Te._id===re.product._id);fe&&await ht.update("products",fe._id,{stock:fe.stock+re.quantity})}for(const re of ne.items){const fe=c.find(Te=>Te._id===re.product._id);if(fe){const Te=q.items.find(At=>At.product._id===re.product._id),qe=Te?Te.quantity:0,Ze=Math.max(0,fe.stock+qe-re.quantity);await ht.update("products",fe._id,{stock:Ze,status:Ze===0?"Out of Stock":Ze<=10?"Low Stock":"In Stock"})}}}await ht.update("orders",ye,Z),_("Order updated successfully","success")},Le=async ne=>{await ht.add("users",{...ne,displayName:ne.username})},it=async ne=>{const{_id:ye,...Z}=ne;await ht.update("users",ye,Z)},yt=async ne=>{L&&(await ht.update("users",L._id,ne),B(ye=>({...ye,...ne})))},Gt=async ne=>{await ht.delete("users",ne)};return f.jsx(m6.Provider,{value:{products:c,addProduct:de,updateProduct:Y,deleteProduct:X,orders:d,addOrder:ee,updateOrder:Re,deleteOrder:Oe,customers:p,addCustomer:me,updateCustomer:J,users:y,addUser:Le,updateUser:it,deleteUser:Gt,categories:x,addCategory:j,updateCategory:M,deleteCategory:D,loading:w,theme:e,toggleTheme:V,brand:k,updateBrand:I,appearance:s,setAppearance:ne=>{l(ye=>{const Z={...ye,...ne};return localStorage.setItem("appearance",JSON.stringify(Z)),Z})},currentUser:L,updateUserProfile:yt,language:F,changeLanguage:K,formatCurrency:ce,isSidebarCollapsed:r,toggleSidebar:ie,isMobileMenuOpen:a,toggleMobileMenu:se,closeMobileMenu:ve,toasts:S,addToast:_},children:t})},Gee=()=>{var g,y;const{t,i18n:e}=jr(),n=Ou(),{theme:r,currentUser:i,brand:a,isSidebarCollapsed:o,toggleSidebar:s,isMobileMenuOpen:l,closeMobileMenu:c,language:u}=Rr(),d=u==="ar",h=[{icon:Lq,label:t("menu.dashboard"),path:"/"},{icon:mN,label:t("menu.inventory"),path:"/products"},{icon:sl,label:t("menu.productPicture"),path:"/product-picture"},{icon:aL,label:t("menu.orders"),path:"/orders"},{icon:vk,label:t("menu.customers"),path:"/customers"},{icon:iL,label:t("menu.settings"),path:"/settings"}],p=`
        fixed lg:static inset-y-0 ${d?"end-0":"start-0"} border-e z-40
        ${o?"w-20":"w-56"}
        bg-white dark:bg-slate-900 
        border-slate-200 dark:border-slate-800 
        flex flex-col h-screen 
        transition-all duration-300 ease-in-out
        ${l?"translate-x-0 shadow-2xl":`${d?"translate-x-full":"-translate-x-full"} lg:translate-x-0`}
        glass-panel
    `;return f.jsxs("aside",{className:p,children:[f.jsxs("div",{className:`h-24 flex items-center ${o?"justify-center":"px-8"} relative`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center shadow-lg text-white overflow-hidden shrink-0",style:{backgroundColor:a.color,boxShadow:`0 10px 15px -3px ${a.color}33`},children:a.logo?f.jsx("img",{src:a.logo,alt:"Logo",className:"w-full h-full object-cover"}):f.jsx(mN,{className:"w-6 h-6"})}),!o&&f.jsx("div",{className:"animate-in fade-in duration-300",children:f.jsxs("h1",{className:"font-bold text-slate-800 dark:text-white text-lg leading-tight tracking-tight",children:[a.name.split(" ")[0],f.jsx("br",{}),f.jsx("span",{style:{color:a.color},className:"font-extrabold",children:a.name.split(" ").slice(1).join(" ")||"APP"})]})})]}),f.jsx("button",{onClick:c,className:"lg:hidden absolute top-6 end-4 p-2 text-slate-400 hover:text-red-500 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:f.jsx(Tr,{className:"w-5 h-5"})})]}),f.jsxs("nav",{className:"flex-1 overflow-y-auto py-4 px-3 space-y-2 custom-scrollbar",children:[!o&&f.jsx("div",{className:"mb-4 px-4",children:f.jsx("p",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:t("menu.mainMenu")})}),h.map(v=>{const x=n.pathname===v.path;return f.jsxs(kq,{to:v.path,title:o?v.label:"",onClick:c,className:`flex items-center gap-3 rounded-xl transition-all duration-200 group relative overflow-hidden ${o?"justify-center p-3":"px-4 py-3.5"} ${x?"text-white shadow-lg bg-accent shadow-accent":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 dark:text-slate-400 dark:hover:text-white"}`,children:[f.jsx(v.icon,{className:`w-5 h-5 relative z-10 transition-transform duration-200 ${x?"scale-110":"group-hover:scale-110"}`}),!o&&f.jsx("span",{className:"font-medium relative z-10 animate-in fade-in slide-in-from-start-2 duration-300",children:v.label})]},v.path)})]}),f.jsx("div",{className:"p-4 mt-auto border-t border-slate-100 dark:border-slate-800/50",children:f.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 flex items-center shadow-sm glass-panel ${o?"p-2 justify-center":"p-4 gap-3"}`,children:[f.jsxs("div",{className:"relative shrink-0 w-10 h-10",children:[f.jsx("div",{className:"w-full h-full text-white rounded-full flex items-center justify-center font-bold text-lg overflow-hidden",style:{backgroundColor:a.color},children:i!=null&&i.photoURL?f.jsx("img",{src:i.photoURL,alt:"User",className:"w-full h-full object-cover"}):((g=i==null?void 0:i.displayName)==null?void 0:g.charAt(0))||"U"}),f.jsx("div",{className:"absolute bottom-0 end-0 w-3 h-3 bg-emerald-500 border-2 border-white dark:border-slate-800 rounded-full"})]}),!o&&f.jsxs("div",{className:"overflow-hidden animate-in fade-in duration-300",children:[f.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-white truncate",children:((y=i==null?void 0:i.displayName)==null?void 0:y.split(" ")[0])||t("user.defaultName")}),f.jsx("p",{className:"text-xs text-slate-500 truncate",children:(i==null?void 0:i.role)||t("user.defaultRole")})]})]})}),f.jsx("button",{onClick:s,className:"hidden lg:flex absolute bottom-24 -end-3 w-6 h-6 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-full items-center justify-center text-slate-400 shadow-sm z-50 transition-all hover:scale-110",style:{color:a.color},children:o?f.jsx(pk,{className:"w-3.5 h-3.5 rtl:rotate-180"}):f.jsx(hk,{className:"w-3.5 h-3.5 rtl:rotate-180"})})]})},Kee=({title:t})=>{var l,c,u;const{t:e}=jr(),{currentUser:n,toggleMobileMenu:r,theme:i,toggleTheme:a,brand:o}=Rr(),s=o.hideHeader;return f.jsxs("header",{className:`${s?"lg:hidden":"flex"} h-24 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-slate-200 dark:border-slate-800 flex items-center justify-between px-4 md:px-8 sticky top-0 z-20 transition-all duration-300`,children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("button",{onClick:r,className:"p-2 lg:hidden text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl transition-colors",children:f.jsx(Uq,{className:"w-6 h-6"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl md:text-2xl font-black text-slate-800 dark:text-white tracking-tight truncate max-w-[150px] md:max-w-none",children:t}),f.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium hidden md:block",children:[e("header.welcome")," ",((l=n==null?void 0:n.displayName)==null?void 0:l.split(" ")[0])||e("header.admin")]})]})]}),f.jsxs("div",{className:"flex items-center gap-2 md:gap-6",children:[f.jsx("button",{onClick:()=>a(i==="dark"?"light":"dark"),className:"p-2.5 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-50 dark:hover:bg-slate-800 rounded-xl transition-all group",title:`Switch to ${i==="dark"?"light":"dark"} mode`,children:i==="dark"?f.jsx(oL,{className:"w-5 h-5 group-hover:rotate-45 transition-transform"}):f.jsx("svg",{className:"w-5 h-5 group-hover:-rotate-12 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),f.jsxs("div",{className:"relative group",children:[f.jsxs("button",{className:"p-2.5 text-slate-400 hover:text-accent hover:bg-slate-50 dark:hover:bg-slate-800 rounded-xl transition-all relative group",children:[f.jsx(Oq,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),f.jsx("span",{className:"absolute top-2.5 right-2.5 w-2 h-2 bg-red-500 rounded-full border-2 border-white dark:border-slate-900 animate-pulse"})]}),f.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 bg-white dark:bg-slate-800 rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-[100] overflow-hidden translate-y-2 group-hover:translate-y-0",children:[f.jsxs("div",{className:"px-5 py-4 border-b border-slate-50 dark:border-slate-700 flex justify-between items-center bg-slate-50/50 dark:bg-slate-900/50",children:[f.jsx("h3",{className:"font-bold text-sm text-slate-800 dark:text-white uppercase tracking-wider",children:"Activity Logs"}),f.jsx("span",{className:"text-[10px] font-black bg-accent text-white px-2 py-0.5 rounded-full",children:"New"})]}),f.jsx("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:[{title:"New Customer",desc:"Sami Ahmed joined the database",time:"2m ago",icon:"",color:"bg-blue-50 text-blue-600"},{title:"Order Completed",desc:"Order #ORD-8829 was delivered",time:"15m ago",icon:"",color:"bg-emerald-50 text-emerald-600"},{title:"Low Stock Alert",desc:"iPhone 15 Pro is below 5 units",time:"1h ago",icon:"",color:"bg-amber-50 text-amber-600"}].map((d,h)=>f.jsx("div",{className:"px-5 py-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors cursor-pointer border-b last:border-0 border-slate-50 dark:border-slate-700/50",children:f.jsxs("div",{className:"flex gap-4",children:[f.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center text-lg ${d.color}`,children:d.icon}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex justify-between items-start mb-0.5",children:[f.jsx("p",{className:"font-bold text-xs text-slate-800 dark:text-white uppercase tracking-tighter",children:d.title}),f.jsx("span",{className:"text-[10px] text-slate-400 font-bold",children:d.time})]}),f.jsx("p",{className:"text-[11px] text-slate-500 dark:text-slate-400 line-clamp-1",children:d.desc})]})]})},h))}),f.jsx("div",{className:"px-5 py-3 border-t border-slate-50 dark:border-slate-700 text-center",children:f.jsx("button",{className:"text-[10px] font-black text-accent uppercase tracking-widest hover:brightness-110 transition-all",children:e("header.viewAllActivity")})})]})]}),f.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-700 mx-1 hidden min-[400px]:block"}),f.jsxs("button",{className:"flex items-center gap-2 p-1 md:p-1.5 md:pr-3 rounded-full hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors border border-transparent hover:border-slate-200 dark:hover:border-slate-700",children:[f.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-indigo-500 to-purple-500 flex items-center justify-center text-white font-bold text-sm shadow-md overflow-hidden shrink-0",children:n!=null&&n.photoURL?f.jsx("img",{src:n.photoURL,alt:"User",className:"w-full h-full object-cover"}):((c=n==null?void 0:n.displayName)==null?void 0:c.charAt(0))||"A"}),f.jsx("span",{className:"hidden sm:block text-sm font-bold text-slate-700 dark:text-slate-300 truncate max-w-[80px]",children:((u=n==null?void 0:n.displayName)==null?void 0:u.split(" ")[0])||"Admin"})]})]})]})},Yee=()=>{const{toasts:t}=Rr();return f.jsx("div",{className:"fixed bottom-8 right-8 z-[1000] flex flex-col gap-3 pointer-events-none",children:t.map(e=>f.jsxs("div",{className:`
                        pointer-events-auto
                        flex items-center gap-4 px-6 py-4 rounded-2xl shadow-2xl backdrop-blur-md
                        animate-in slide-in-from-right-8 fade-in duration-300
                        ${e.type==="success"?"bg-emerald-500/90 text-white":e.type==="error"?"bg-red-500/90 text-white":"bg-slate-800/90 text-white"}
                    `,children:[f.jsxs("div",{className:"flex-shrink-0",children:[e.type==="success"&&f.jsx(tL,{className:"w-6 h-6"}),e.type==="error"&&f.jsx(Cq,{className:"w-6 h-6"}),e.type==="info"&&f.jsx(nL,{className:"w-6 h-6"})]}),f.jsx("div",{className:"flex-1",children:f.jsx("p",{className:"font-bold text-sm",children:e.message})})]},e.id))})},Fu=({children:t,title:e})=>{const{isSidebarCollapsed:n,isMobileMenuOpen:r,closeMobileMenu:i,brand:a}=Rr();return f.jsxs("div",{className:"flex h-screen bg-transparent font-sans transition-colors duration-300",children:[r&&f.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-30 lg:hidden animate-in fade-in duration-300",onClick:i}),f.jsx(Gee,{}),f.jsxs("div",{className:"flex-1 flex flex-col min-h-screen transition-all duration-300",children:[f.jsx(Kee,{title:e||"Dashboard"}),f.jsx("main",{className:`flex-1 p-4 md:p-8 overflow-y-auto ${a.hideHeader?"lg:pt-8":""} overflow-x-hidden`,children:f.jsx("div",{className:"max-w-7xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:t})}),f.jsx(Yee,{})]})]})};function g6(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=g6(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function tt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=g6(t))&&(r&&(r+=" "),r+=e);return r}var Qee=Array.isArray,pr=Qee,Xee=typeof Wp=="object"&&Wp&&Wp.Object===Object&&Wp,y6=Xee,Jee=y6,Zee=typeof self=="object"&&self&&self.Object===Object&&self,ete=Jee||Zee||Function("return this")(),ua=ete,tte=ua,nte=tte.Symbol,xp=nte,EO=xp,v6=Object.prototype,rte=v6.hasOwnProperty,ite=v6.toString,Ed=EO?EO.toStringTag:void 0;function ate(t){var e=rte.call(t,Ed),n=t[Ed];try{t[Ed]=void 0;var r=!0}catch{}var i=ite.call(t);return r&&(e?t[Ed]=n:delete t[Ed]),i}var ote=ate,ste=Object.prototype,lte=ste.toString;function cte(t){return lte.call(t)}var ute=cte,kO=xp,dte=ote,fte=ute,hte="[object Null]",pte="[object Undefined]",TO=kO?kO.toStringTag:void 0;function mte(t){return t==null?t===void 0?pte:hte:TO&&TO in Object(t)?dte(t):fte(t)}var Xa=mte;function gte(t){return t!=null&&typeof t=="object"}var Ja=gte,yte=Xa,vte=Ja,xte="[object Symbol]";function bte(t){return typeof t=="symbol"||vte(t)&&yte(t)==xte}var Vu=bte,wte=pr,_te=Vu,Ste=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ete=/^\w*$/;function kte(t,e){if(wte(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||_te(t)?!0:Ete.test(t)||!Ste.test(t)||e!=null&&t in Object(e)}var xT=kte;function Tte(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ps=Tte;const Uu=gt(ps);var Pte=Xa,Ate=ps,Nte="[object AsyncFunction]",Ite="[object Function]",Ote="[object GeneratorFunction]",Cte="[object Proxy]";function jte(t){if(!Ate(t))return!1;var e=Pte(t);return e==Ite||e==Ote||e==Nte||e==Cte}var bT=jte;const Ue=gt(bT);var Rte=ua,Mte=Rte["__core-js_shared__"],Dte=Mte,Wb=Dte,PO=function(){var t=/[^.]+$/.exec(Wb&&Wb.keys&&Wb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function $te(t){return!!PO&&PO in t}var Lte=$te,Fte=Function.prototype,Vte=Fte.toString;function Ute(t){if(t!=null){try{return Vte.call(t)}catch{}try{return t+""}catch{}}return""}var x6=Ute,Bte=bT,zte=Lte,qte=ps,Wte=x6,Hte=/[\\^$.*+?()[\]{}|]/g,Gte=/^\[object .+?Constructor\]$/,Kte=Function.prototype,Yte=Object.prototype,Qte=Kte.toString,Xte=Yte.hasOwnProperty,Jte=RegExp("^"+Qte.call(Xte).replace(Hte,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Zte(t){if(!qte(t)||zte(t))return!1;var e=Bte(t)?Jte:Gte;return e.test(Wte(t))}var ene=Zte;function tne(t,e){return t==null?void 0:t[e]}var nne=tne,rne=ene,ine=nne;function ane(t,e){var n=ine(t,e);return rne(n)?n:void 0}var Ol=ane,one=Ol,sne=one(Object,"create"),zv=sne,AO=zv;function lne(){this.__data__=AO?AO(null):{},this.size=0}var cne=lne;function une(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var dne=une,fne=zv,hne="__lodash_hash_undefined__",pne=Object.prototype,mne=pne.hasOwnProperty;function gne(t){var e=this.__data__;if(fne){var n=e[t];return n===hne?void 0:n}return mne.call(e,t)?e[t]:void 0}var yne=gne,vne=zv,xne=Object.prototype,bne=xne.hasOwnProperty;function wne(t){var e=this.__data__;return vne?e[t]!==void 0:bne.call(e,t)}var _ne=wne,Sne=zv,Ene="__lodash_hash_undefined__";function kne(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Sne&&e===void 0?Ene:e,this}var Tne=kne,Pne=cne,Ane=dne,Nne=yne,Ine=_ne,One=Tne;function Bu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Bu.prototype.clear=Pne;Bu.prototype.delete=Ane;Bu.prototype.get=Nne;Bu.prototype.has=Ine;Bu.prototype.set=One;var Cne=Bu;function jne(){this.__data__=[],this.size=0}var Rne=jne;function Mne(t,e){return t===e||t!==t&&e!==e}var wT=Mne,Dne=wT;function $ne(t,e){for(var n=t.length;n--;)if(Dne(t[n][0],e))return n;return-1}var qv=$ne,Lne=qv,Fne=Array.prototype,Vne=Fne.splice;function Une(t){var e=this.__data__,n=Lne(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Vne.call(e,n,1),--this.size,!0}var Bne=Une,zne=qv;function qne(t){var e=this.__data__,n=zne(e,t);return n<0?void 0:e[n][1]}var Wne=qne,Hne=qv;function Gne(t){return Hne(this.__data__,t)>-1}var Kne=Gne,Yne=qv;function Qne(t,e){var n=this.__data__,r=Yne(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Xne=Qne,Jne=Rne,Zne=Bne,ere=Wne,tre=Kne,nre=Xne;function zu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}zu.prototype.clear=Jne;zu.prototype.delete=Zne;zu.prototype.get=ere;zu.prototype.has=tre;zu.prototype.set=nre;var Wv=zu,rre=Ol,ire=ua,are=rre(ire,"Map"),_T=are,NO=Cne,ore=Wv,sre=_T;function lre(){this.size=0,this.__data__={hash:new NO,map:new(sre||ore),string:new NO}}var cre=lre;function ure(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var dre=ure,fre=dre;function hre(t,e){var n=t.__data__;return fre(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Hv=hre,pre=Hv;function mre(t){var e=pre(this,t).delete(t);return this.size-=e?1:0,e}var gre=mre,yre=Hv;function vre(t){return yre(this,t).get(t)}var xre=vre,bre=Hv;function wre(t){return bre(this,t).has(t)}var _re=wre,Sre=Hv;function Ere(t,e){var n=Sre(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var kre=Ere,Tre=cre,Pre=gre,Are=xre,Nre=_re,Ire=kre;function qu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}qu.prototype.clear=Tre;qu.prototype.delete=Pre;qu.prototype.get=Are;qu.prototype.has=Nre;qu.prototype.set=Ire;var ST=qu,b6=ST,Ore="Expected a function";function ET(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Ore);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(ET.Cache||b6),n}ET.Cache=b6;var w6=ET;const Cre=gt(w6);var jre=w6,Rre=500;function Mre(t){var e=jre(t,function(r){return n.size===Rre&&n.clear(),r}),n=e.cache;return e}var Dre=Mre,$re=Dre,Lre=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fre=/\\(\\)?/g,Vre=$re(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Lre,function(n,r,i,a){e.push(i?a.replace(Fre,"$1"):r||n)}),e}),Ure=Vre;function Bre(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var kT=Bre,IO=xp,zre=kT,qre=pr,Wre=Vu,OO=IO?IO.prototype:void 0,CO=OO?OO.toString:void 0;function _6(t){if(typeof t=="string")return t;if(qre(t))return zre(t,_6)+"";if(Wre(t))return CO?CO.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Hre=_6,Gre=Hre;function Kre(t){return t==null?"":Gre(t)}var S6=Kre,Yre=pr,Qre=xT,Xre=Ure,Jre=S6;function Zre(t,e){return Yre(t)?t:Qre(t,e)?[t]:Xre(Jre(t))}var E6=Zre,eie=Vu;function tie(t){if(typeof t=="string"||eie(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Gv=tie,nie=E6,rie=Gv;function iie(t,e){e=nie(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[rie(e[n++])];return n&&n==r?t:void 0}var TT=iie,aie=TT;function oie(t,e,n){var r=t==null?void 0:aie(t,e);return r===void 0?n:r}var k6=oie;const Qr=gt(k6);function sie(t){return t==null}var lie=sie;const Qe=gt(lie);var cie=Xa,uie=pr,die=Ja,fie="[object String]";function hie(t){return typeof t=="string"||!uie(t)&&die(t)&&cie(t)==fie}var pie=hie;const ml=gt(pie);var T6={exports:{}},lt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT=Symbol.for("react.element"),AT=Symbol.for("react.portal"),Kv=Symbol.for("react.fragment"),Yv=Symbol.for("react.strict_mode"),Qv=Symbol.for("react.profiler"),Xv=Symbol.for("react.provider"),Jv=Symbol.for("react.context"),mie=Symbol.for("react.server_context"),Zv=Symbol.for("react.forward_ref"),ex=Symbol.for("react.suspense"),tx=Symbol.for("react.suspense_list"),nx=Symbol.for("react.memo"),rx=Symbol.for("react.lazy"),gie=Symbol.for("react.offscreen"),P6;P6=Symbol.for("react.module.reference");function ni(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case PT:switch(t=t.type,t){case Kv:case Qv:case Yv:case ex:case tx:return t;default:switch(t=t&&t.$$typeof,t){case mie:case Jv:case Zv:case rx:case nx:case Xv:return t;default:return e}}case AT:return e}}}lt.ContextConsumer=Jv;lt.ContextProvider=Xv;lt.Element=PT;lt.ForwardRef=Zv;lt.Fragment=Kv;lt.Lazy=rx;lt.Memo=nx;lt.Portal=AT;lt.Profiler=Qv;lt.StrictMode=Yv;lt.Suspense=ex;lt.SuspenseList=tx;lt.isAsyncMode=function(){return!1};lt.isConcurrentMode=function(){return!1};lt.isContextConsumer=function(t){return ni(t)===Jv};lt.isContextProvider=function(t){return ni(t)===Xv};lt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===PT};lt.isForwardRef=function(t){return ni(t)===Zv};lt.isFragment=function(t){return ni(t)===Kv};lt.isLazy=function(t){return ni(t)===rx};lt.isMemo=function(t){return ni(t)===nx};lt.isPortal=function(t){return ni(t)===AT};lt.isProfiler=function(t){return ni(t)===Qv};lt.isStrictMode=function(t){return ni(t)===Yv};lt.isSuspense=function(t){return ni(t)===ex};lt.isSuspenseList=function(t){return ni(t)===tx};lt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Kv||t===Qv||t===Yv||t===ex||t===tx||t===gie||typeof t=="object"&&t!==null&&(t.$$typeof===rx||t.$$typeof===nx||t.$$typeof===Xv||t.$$typeof===Jv||t.$$typeof===Zv||t.$$typeof===P6||t.getModuleId!==void 0)};lt.typeOf=ni;T6.exports=lt;var yie=T6.exports,vie=Xa,xie=Ja,bie="[object Number]";function wie(t){return typeof t=="number"||xie(t)&&vie(t)==bie}var A6=wie;const _ie=gt(A6);var Sie=A6;function Eie(t){return Sie(t)&&t!=+t}var kie=Eie;const Wu=gt(kie);var vi=function(e){return e===0?0:e>0?1:-1},zs=function(e){return ml(e)&&e.indexOf("%")===e.length-1},ge=function(e){return _ie(e)&&!Wu(e)},Tie=function(e){return Qe(e)},ln=function(e){return ge(e)||ml(e)},Pie=0,bp=function(e){var n=++Pie;return"".concat(e||"").concat(n)},gl=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ge(e)&&!ml(e))return r;var a;if(zs(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Wu(a)&&(a=r),i&&a>n&&(a=n),a},Eo=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Aie=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Ur=function(e,n){return ge(e)&&ge(n)?function(r){return e+r*(n-e)}:function(){return n}};function y0(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Qr(r,e))===n})}var Nie=function(e,n){return ge(e)&&ge(n)?e-n:ml(e)&&ml(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Nc(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function s_(t){"@babel/helpers - typeof";return s_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s_(t)}var Iie=["viewBox","children"],Oie=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],jO=["points","pathLength"],Hb={svg:Iie,polygon:jO,polyline:jO},NT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],v0=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(R.isValidElement(e)&&(r=e.props),!Uu(r))return null;var i={};return Object.keys(r).forEach(function(a){NT.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},Cie=function(e,n,r){return function(i){return e(n,r,i),null}},x0=function(e,n,r){if(!Uu(e)||s_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];NT.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=Cie(o,n,r))}),i},jie=["children"],Rie=["children"];function RO(t,e){if(t==null)return{};var n=Mie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function l_(t){"@babel/helpers - typeof";return l_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l_(t)}var MO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ca=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},DO=null,Gb=null,IT=function t(e){if(e===DO&&Array.isArray(Gb))return Gb;var n=[];return R.Children.forEach(e,function(r){Qe(r)||(yie.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Gb=n,DO=e,n};function ki(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ca(i)}):r=[Ca(e)],IT(t).forEach(function(i){var a=Qr(i,"type.displayName")||Qr(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function vr(t,e){var n=ki(t,e);return n&&n[0]}var $O=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ge(r)||r<=0||!ge(i)||i<=0)},Die=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],$ie=function(e){return e&&e.type&&ml(e.type)&&Die.indexOf(e.type)>=0},Lie=function(e){return e&&l_(e)==="object"&&"clipDot"in e},Fie=function(e,n,r,i){var a,o=(a=Hb==null?void 0:Hb[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Ue(e)&&(i&&o.includes(n)||Oie.includes(n))||r&&NT.includes(n)},We=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(R.isValidElement(e)&&(i=e.props),!Uu(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;Fie((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},c_=function t(e,n){if(e===n)return!0;var r=R.Children.count(e);if(r!==R.Children.count(n))return!1;if(r===0)return!0;if(r===1)return LO(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!LO(a,o))return!1}return!0},LO=function(e,n){if(Qe(e)&&Qe(n))return!0;if(!Qe(e)&&!Qe(n)){var r=e.props||{},i=r.children,a=RO(r,jie),o=n.props||{},s=o.children,l=RO(o,Rie);return i&&s?Nc(a,l)&&c_(i,s):!i&&!s?Nc(a,l):!1}return!1},FO=function(e,n){var r=[],i={};return IT(e).forEach(function(a,o){if($ie(a))r.push(a);else if(a){var s=Ca(a.type),l=n[s]||{},c=l.handler,u=l.once;if(c&&(!u||!i[s])){var d=c(a,s,o);r.push(d),i[s]=!0}}}),r},Vie=function(e){var n=e&&e.type;return n&&MO[n]?MO[n]:null},Uie=function(e,n){return IT(n).indexOf(e)},Bie=["children","width","height","viewBox","className","style","title","desc"];function u_(){return u_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u_.apply(this,arguments)}function zie(t,e){if(t==null)return{};var n=qie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function d_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,c=zie(t,Bie),u=i||{width:n,height:r,x:0,y:0},d=tt("recharts-surface",a);return z.createElement("svg",u_({},We(c,!0,"svg"),{className:d,width:n,height:r,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),z.createElement("title",null,s),z.createElement("desc",null,l),e)}var Wie=["children","className"];function f_(){return f_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f_.apply(this,arguments)}function Hie(t,e){if(t==null)return{};var n=Gie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var jt=z.forwardRef(function(t,e){var n=t.children,r=t.className,i=Hie(t,Wie),a=tt("recharts-layer",r);return z.createElement("g",f_({className:a},We(i,!0),{ref:e}),n)}),ja=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function Kie(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var Yie=Kie,Qie=Yie;function Xie(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Qie(t,e,n)}var Jie=Xie,Zie="\\ud800-\\udfff",eae="\\u0300-\\u036f",tae="\\ufe20-\\ufe2f",nae="\\u20d0-\\u20ff",rae=eae+tae+nae,iae="\\ufe0e\\ufe0f",aae="\\u200d",oae=RegExp("["+aae+Zie+rae+iae+"]");function sae(t){return oae.test(t)}var N6=sae;function lae(t){return t.split("")}var cae=lae,I6="\\ud800-\\udfff",uae="\\u0300-\\u036f",dae="\\ufe20-\\ufe2f",fae="\\u20d0-\\u20ff",hae=uae+dae+fae,pae="\\ufe0e\\ufe0f",mae="["+I6+"]",h_="["+hae+"]",p_="\\ud83c[\\udffb-\\udfff]",gae="(?:"+h_+"|"+p_+")",O6="[^"+I6+"]",C6="(?:\\ud83c[\\udde6-\\uddff]){2}",j6="[\\ud800-\\udbff][\\udc00-\\udfff]",yae="\\u200d",R6=gae+"?",M6="["+pae+"]?",vae="(?:"+yae+"(?:"+[O6,C6,j6].join("|")+")"+M6+R6+")*",xae=M6+R6+vae,bae="(?:"+[O6+h_+"?",h_,C6,j6,mae].join("|")+")",wae=RegExp(p_+"(?="+p_+")|"+bae+xae,"g");function _ae(t){return t.match(wae)||[]}var Sae=_ae,Eae=cae,kae=N6,Tae=Sae;function Pae(t){return kae(t)?Tae(t):Eae(t)}var Aae=Pae,Nae=Jie,Iae=N6,Oae=Aae,Cae=S6;function jae(t){return function(e){e=Cae(e);var n=Iae(e)?Oae(e):void 0,r=n?n[0]:e.charAt(0),i=n?Nae(n,1).join(""):e.slice(1);return r[t]()+i}}var Rae=jae,Mae=Rae,Dae=Mae("toUpperCase"),$ae=Dae;const ix=gt($ae);function vt(t){return function(){return t}}const D6=Math.cos,b0=Math.sin,Ni=Math.sqrt,w0=Math.PI,ax=2*w0,m_=Math.PI,g_=2*m_,js=1e-6,Lae=g_-js;function $6(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Fae(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return $6;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Vae{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?$6:Fae(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,c=i-n,u=o-e,d=s-n,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>js)if(!(Math.abs(d*l-c*u)>js)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-o,g=i-s,y=l*l+c*c,v=p*p+g*g,x=Math.sqrt(y),b=Math.sqrt(h),w=a*Math.tan((m_-Math.acos((y+h-v)/(2*x*b)))/2),E=w/b,S=w/x;Math.abs(E-1)>js&&this._append`L${e+E*u},${n+E*d}`,this._append`A${a},${a},0,0,${+(d*p>u*g)},${this._x1=e+S*l},${this._y1=n+S*c}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=e+s,u=n+l,d=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>js||Math.abs(this._y1-u)>js)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%g_+g_),h>Lae?this._append`A${r},${r},0,1,${d},${e-s},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:h>js&&this._append`A${r},${r},0,${+(h>=m_)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function OT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Vae(e)}function CT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function L6(t){this._context=t}L6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ox(t){return new L6(t)}function F6(t){return t[0]}function V6(t){return t[1]}function U6(t,e){var n=vt(!0),r=null,i=ox,a=null,o=OT(s);t=typeof t=="function"?t:t===void 0?F6:vt(t),e=typeof e=="function"?e:e===void 0?V6:vt(e);function s(l){var c,u=(l=CT(l)).length,d,h=!1,p;for(r==null&&(a=i(p=o())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(d,c,l),+e(d,c,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:vt(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:vt(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:vt(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function ym(t,e,n){var r=null,i=vt(!0),a=null,o=ox,s=null,l=OT(c);t=typeof t=="function"?t:t===void 0?F6:vt(+t),e=typeof e=="function"?e:vt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?V6:vt(+n);function c(d){var h,p,g,y=(d=CT(d)).length,v,x=!1,b,w=new Array(y),E=new Array(y);for(a==null&&(s=o(b=l())),h=0;h<=y;++h){if(!(h<y&&i(v=d[h],h,d))===x)if(x=!x)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=p;--g)s.point(w[g],E[g]);s.lineEnd(),s.areaEnd()}x&&(w[h]=+t(v,h,d),E[h]=+e(v,h,d),s.point(r?+r(v,h,d):w[h],n?+n(v,h,d):E[h]))}if(b)return s=null,b+""||null}function u(){return U6().defined(i).curve(o).context(a)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:vt(+d),r=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:vt(+d),c):t},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:vt(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:vt(+d),n=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:vt(+d),c):e},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:vt(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:vt(!!d),c):i},c.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),c):o},c.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),c):a},c}class B6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Uae(t){return new B6(t,!0)}function Bae(t){return new B6(t,!1)}const jT={draw(t,e){const n=Ni(e/w0);t.moveTo(n,0),t.arc(0,0,n,0,ax)}},zae={draw(t,e){const n=Ni(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},z6=Ni(1/3),qae=z6*2,Wae={draw(t,e){const n=Ni(e/qae),r=n*z6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Hae={draw(t,e){const n=Ni(e),r=-n/2;t.rect(r,r,n,n)}},Gae=.8908130915292852,q6=b0(w0/10)/b0(7*w0/10),Kae=b0(ax/10)*q6,Yae=-D6(ax/10)*q6,Qae={draw(t,e){const n=Ni(e*Gae),r=Kae*n,i=Yae*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=ax*a/5,s=D6(o),l=b0(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Kb=Ni(3),Xae={draw(t,e){const n=-Ni(e/(Kb*3));t.moveTo(0,n*2),t.lineTo(-Kb*n,-n),t.lineTo(Kb*n,-n),t.closePath()}},Mr=-.5,Dr=Ni(3)/2,y_=1/Ni(12),Jae=(y_/2+1)*3,Zae={draw(t,e){const n=Ni(e/Jae),r=n/2,i=n*y_,a=r,o=n*y_+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Mr*r-Dr*i,Dr*r+Mr*i),t.lineTo(Mr*a-Dr*o,Dr*a+Mr*o),t.lineTo(Mr*s-Dr*l,Dr*s+Mr*l),t.lineTo(Mr*r+Dr*i,Mr*i-Dr*r),t.lineTo(Mr*a+Dr*o,Mr*o-Dr*a),t.lineTo(Mr*s+Dr*l,Mr*l-Dr*s),t.closePath()}};function eoe(t,e){let n=null,r=OT(i);t=typeof t=="function"?t:vt(t||jT),e=typeof e=="function"?e:vt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:vt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:vt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function _0(){}function S0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function W6(t){this._context=t}W6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:S0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:S0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function toe(t){return new W6(t)}function H6(t){this._context=t}H6.prototype={areaStart:_0,areaEnd:_0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:S0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function noe(t){return new H6(t)}function G6(t){this._context=t}G6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:S0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function roe(t){return new G6(t)}function K6(t){this._context=t}K6.prototype={areaStart:_0,areaEnd:_0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function ioe(t){return new K6(t)}function VO(t){return t<0?-1:1}function UO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(VO(a)+VO(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function BO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Yb(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function E0(t){this._context=t}E0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Yb(this,this._t0,BO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Yb(this,BO(this,n=UO(this,t,e)),n);break;default:Yb(this,this._t0,n=UO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Y6(t){this._context=new Q6(t)}(Y6.prototype=Object.create(E0.prototype)).point=function(t,e){E0.prototype.point.call(this,e,t)};function Q6(t){this._context=t}Q6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function aoe(t){return new E0(t)}function ooe(t){return new Y6(t)}function X6(t){this._context=t}X6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=zO(t),i=zO(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function zO(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function soe(t){return new X6(t)}function sx(t,e){this._context=t,this._t=e}sx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function loe(t){return new sx(t,.5)}function coe(t){return new sx(t,0)}function uoe(t){return new sx(t,1)}function Jc(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function v_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function doe(t,e){return t[e]}function foe(t){const e=[];return e.key=t,e}function hoe(){var t=vt([]),e=v_,n=Jc,r=doe;function i(a){var o=Array.from(t.apply(this,arguments),foe),s,l=o.length,c=-1,u;for(const d of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(d,o[s].key,c,a)]).data=d;for(s=0,u=CT(e(o));s<l;++s)o[u[s]].index=s;return n(o,u),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:vt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:vt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?v_:typeof a=="function"?a:vt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Jc,i):n},i}function poe(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Jc(t,e)}}function moe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Jc(t,e)}}function goe(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,c=0;s<o;++s){for(var u=t[e[s]],d=u[r][1]||0,h=u[r-1][1]||0,p=(d-h)/2,g=0;g<s;++g){var y=t[e[g]],v=y[r][1]||0,x=y[r-1][1]||0;p+=v-x}l+=d,c+=p*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Jc(t,e)}}function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}var yoe=["type","size","sizeType"];function x_(){return x_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x_.apply(this,arguments)}function qO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(n),!0).forEach(function(r){voe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function voe(t,e,n){return e=xoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xoe(t){var e=boe(t,"string");return ch(e)=="symbol"?e:e+""}function boe(t,e){if(ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function woe(t,e){if(t==null)return{};var n=_oe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _oe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var J6={symbolCircle:jT,symbolCross:zae,symbolDiamond:Wae,symbolSquare:Hae,symbolStar:Qae,symbolTriangle:Xae,symbolWye:Zae},Soe=Math.PI/180,Eoe=function(e){var n="symbol".concat(ix(e));return J6[n]||jT},koe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Soe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Toe=function(e,n){J6["symbol".concat(ix(e))]=n},RT=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=woe(e,yoe),c=WO(WO({},l),{},{type:r,size:a,sizeType:s}),u=function(){var v=Eoe(r),x=eoe().type(v).size(koe(a,s,r));return x()},d=c.className,h=c.cx,p=c.cy,g=We(c,!0);return h===+h&&p===+p&&a===+a?z.createElement("path",x_({},g,{className:tt("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};RT.registerSymbol=Toe;function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function b_(){return b_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b_.apply(this,arguments)}function HO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Poe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(n),!0).forEach(function(r){uh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Noe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eF(r.key),r)}}function Ioe(t,e,n){return e&&Noe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ooe(t,e,n){return e=k0(e),Coe(t,Z6()?Reflect.construct(e,n||[],k0(t).constructor):e.apply(t,n))}function Coe(t,e){if(e&&(Zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return joe(t)}function joe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z6=function(){return!!t})()}function k0(t){return k0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},k0(t)}function Roe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w_(t,e)}function w_(t,e){return w_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},w_(t,e)}function uh(t,e,n){return e=eF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eF(t){var e=Moe(t,"string");return Zc(e)=="symbol"?e:e+""}function Moe(t,e){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $r=32,MT=function(t){function e(){return Aoe(this,e),Ooe(this,e,arguments)}return Roe(e,t),Ioe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=$r/2,o=$r/6,s=$r/3,l=r.inactive?i:r.color;if(r.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:$r,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat($r,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return z.createElement("path",{stroke:"none",fill:l,d:"M0,".concat($r/8,"h").concat($r,"v").concat($r*3/4,"h").concat(-$r,"z"),className:"recharts-legend-icon"});if(z.isValidElement(r.legendIcon)){var c=Poe({},r);return delete c.legendIcon,z.cloneElement(r.legendIcon,c)}return z.createElement(RT,{fill:l,cx:a,cy:a,size:$r,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:$r,height:$r},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,g){var y=p.formatter||l,v=tt(uh(uh({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=Ue(p.value)?null:p.value;ja(!Ue(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?c:p.color;return z.createElement("li",b_({className:v,style:d,key:"legend-item-".concat(g)},x0(r.props,p,g)),z.createElement(d_,{width:o,height:o,viewBox:u,style:h},r.renderIcon(p)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},y?y(x,p,g):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(R.PureComponent);uh(MT,"displayName","Legend");uh(MT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Doe=Wv;function $oe(){this.__data__=new Doe,this.size=0}var Loe=$oe;function Foe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Voe=Foe;function Uoe(t){return this.__data__.get(t)}var Boe=Uoe;function zoe(t){return this.__data__.has(t)}var qoe=zoe,Woe=Wv,Hoe=_T,Goe=ST,Koe=200;function Yoe(t,e){var n=this.__data__;if(n instanceof Woe){var r=n.__data__;if(!Hoe||r.length<Koe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Goe(r)}return n.set(t,e),this.size=n.size,this}var Qoe=Yoe,Xoe=Wv,Joe=Loe,Zoe=Voe,ese=Boe,tse=qoe,nse=Qoe;function Hu(t){var e=this.__data__=new Xoe(t);this.size=e.size}Hu.prototype.clear=Joe;Hu.prototype.delete=Zoe;Hu.prototype.get=ese;Hu.prototype.has=tse;Hu.prototype.set=nse;var tF=Hu,rse="__lodash_hash_undefined__";function ise(t){return this.__data__.set(t,rse),this}var ase=ise;function ose(t){return this.__data__.has(t)}var sse=ose,lse=ST,cse=ase,use=sse;function T0(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new lse;++e<n;)this.add(t[e])}T0.prototype.add=T0.prototype.push=cse;T0.prototype.has=use;var nF=T0;function dse(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var rF=dse;function fse(t,e){return t.has(e)}var iF=fse,hse=nF,pse=rF,mse=iF,gse=1,yse=2;function vse(t,e,n,r,i,a){var o=n&gse,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var d=-1,h=!0,p=n&yse?new hse:void 0;for(a.set(t,e),a.set(e,t);++d<s;){var g=t[d],y=e[d];if(r)var v=o?r(y,g,d,e,t,a):r(g,y,d,t,e,a);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!pse(e,function(x,b){if(!mse(p,b)&&(g===x||i(g,x,n,r,a)))return p.push(b)})){h=!1;break}}else if(!(g===y||i(g,y,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var aF=vse,xse=ua,bse=xse.Uint8Array,wse=bse;function _se(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Sse=_se;function Ese(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var DT=Ese,GO=xp,KO=wse,kse=wT,Tse=aF,Pse=Sse,Ase=DT,Nse=1,Ise=2,Ose="[object Boolean]",Cse="[object Date]",jse="[object Error]",Rse="[object Map]",Mse="[object Number]",Dse="[object RegExp]",$se="[object Set]",Lse="[object String]",Fse="[object Symbol]",Vse="[object ArrayBuffer]",Use="[object DataView]",YO=GO?GO.prototype:void 0,Qb=YO?YO.valueOf:void 0;function Bse(t,e,n,r,i,a,o){switch(n){case Use:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Vse:return!(t.byteLength!=e.byteLength||!a(new KO(t),new KO(e)));case Ose:case Cse:case Mse:return kse(+t,+e);case jse:return t.name==e.name&&t.message==e.message;case Dse:case Lse:return t==e+"";case Rse:var s=Pse;case $se:var l=r&Nse;if(s||(s=Ase),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=Ise,o.set(t,e);var u=Tse(s(t),s(e),r,i,a,o);return o.delete(t),u;case Fse:if(Qb)return Qb.call(t)==Qb.call(e)}return!1}var zse=Bse;function qse(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var oF=qse,Wse=oF,Hse=pr;function Gse(t,e,n){var r=e(t);return Hse(t)?r:Wse(r,n(t))}var Kse=Gse;function Yse(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var Qse=Yse;function Xse(){return[]}var Jse=Xse,Zse=Qse,ele=Jse,tle=Object.prototype,nle=tle.propertyIsEnumerable,QO=Object.getOwnPropertySymbols,rle=QO?function(t){return t==null?[]:(t=Object(t),Zse(QO(t),function(e){return nle.call(t,e)}))}:ele,ile=rle;function ale(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var ole=ale,sle=Xa,lle=Ja,cle="[object Arguments]";function ule(t){return lle(t)&&sle(t)==cle}var dle=ule,XO=dle,fle=Ja,sF=Object.prototype,hle=sF.hasOwnProperty,ple=sF.propertyIsEnumerable,mle=XO(function(){return arguments}())?XO:function(t){return fle(t)&&hle.call(t,"callee")&&!ple.call(t,"callee")},$T=mle,P0={exports:{}};function gle(){return!1}var yle=gle;P0.exports;(function(t,e){var n=ua,r=yle,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;t.exports=c})(P0,P0.exports);var lF=P0.exports,vle=9007199254740991,xle=/^(?:0|[1-9]\d*)$/;function ble(t,e){var n=typeof t;return e=e??vle,!!e&&(n=="number"||n!="symbol"&&xle.test(t))&&t>-1&&t%1==0&&t<e}var LT=ble,wle=9007199254740991;function _le(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=wle}var FT=_le,Sle=Xa,Ele=FT,kle=Ja,Tle="[object Arguments]",Ple="[object Array]",Ale="[object Boolean]",Nle="[object Date]",Ile="[object Error]",Ole="[object Function]",Cle="[object Map]",jle="[object Number]",Rle="[object Object]",Mle="[object RegExp]",Dle="[object Set]",$le="[object String]",Lle="[object WeakMap]",Fle="[object ArrayBuffer]",Vle="[object DataView]",Ule="[object Float32Array]",Ble="[object Float64Array]",zle="[object Int8Array]",qle="[object Int16Array]",Wle="[object Int32Array]",Hle="[object Uint8Array]",Gle="[object Uint8ClampedArray]",Kle="[object Uint16Array]",Yle="[object Uint32Array]",Et={};Et[Ule]=Et[Ble]=Et[zle]=Et[qle]=Et[Wle]=Et[Hle]=Et[Gle]=Et[Kle]=Et[Yle]=!0;Et[Tle]=Et[Ple]=Et[Fle]=Et[Ale]=Et[Vle]=Et[Nle]=Et[Ile]=Et[Ole]=Et[Cle]=Et[jle]=Et[Rle]=Et[Mle]=Et[Dle]=Et[$le]=Et[Lle]=!1;function Qle(t){return kle(t)&&Ele(t.length)&&!!Et[Sle(t)]}var Xle=Qle;function Jle(t){return function(e){return t(e)}}var cF=Jle,A0={exports:{}};A0.exports;(function(t,e){var n=y6,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(A0,A0.exports);var Zle=A0.exports,ece=Xle,tce=cF,JO=Zle,ZO=JO&&JO.isTypedArray,nce=ZO?tce(ZO):ece,uF=nce,rce=ole,ice=$T,ace=pr,oce=lF,sce=LT,lce=uF,cce=Object.prototype,uce=cce.hasOwnProperty;function dce(t,e){var n=ace(t),r=!n&&ice(t),i=!n&&!r&&oce(t),a=!n&&!r&&!i&&lce(t),o=n||r||i||a,s=o?rce(t.length,String):[],l=s.length;for(var c in t)(e||uce.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||sce(c,l)))&&s.push(c);return s}var fce=dce,hce=Object.prototype;function pce(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||hce;return t===n}var mce=pce;function gce(t,e){return function(n){return t(e(n))}}var dF=gce,yce=dF,vce=yce(Object.keys,Object),xce=vce,bce=mce,wce=xce,_ce=Object.prototype,Sce=_ce.hasOwnProperty;function Ece(t){if(!bce(t))return wce(t);var e=[];for(var n in Object(t))Sce.call(t,n)&&n!="constructor"&&e.push(n);return e}var kce=Ece,Tce=bT,Pce=FT;function Ace(t){return t!=null&&Pce(t.length)&&!Tce(t)}var wp=Ace,Nce=fce,Ice=kce,Oce=wp;function Cce(t){return Oce(t)?Nce(t):Ice(t)}var lx=Cce,jce=Kse,Rce=ile,Mce=lx;function Dce(t){return jce(t,Mce,Rce)}var $ce=Dce,eC=$ce,Lce=1,Fce=Object.prototype,Vce=Fce.hasOwnProperty;function Uce(t,e,n,r,i,a){var o=n&Lce,s=eC(t),l=s.length,c=eC(e),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var h=s[d];if(!(o?h in e:Vce.call(e,h)))return!1}var p=a.get(t),g=a.get(e);if(p&&g)return p==e&&g==t;var y=!0;a.set(t,e),a.set(e,t);for(var v=o;++d<l;){h=s[d];var x=t[h],b=e[h];if(r)var w=o?r(b,x,h,e,t,a):r(x,b,h,t,e,a);if(!(w===void 0?x===b||i(x,b,n,r,a):w)){y=!1;break}v||(v=h=="constructor")}if(y&&!v){var E=t.constructor,S=e.constructor;E!=S&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof S=="function"&&S instanceof S)&&(y=!1)}return a.delete(t),a.delete(e),y}var Bce=Uce,zce=Ol,qce=ua,Wce=zce(qce,"DataView"),Hce=Wce,Gce=Ol,Kce=ua,Yce=Gce(Kce,"Promise"),Qce=Yce,Xce=Ol,Jce=ua,Zce=Xce(Jce,"Set"),fF=Zce,eue=Ol,tue=ua,nue=eue(tue,"WeakMap"),rue=nue,__=Hce,S_=_T,E_=Qce,k_=fF,T_=rue,hF=Xa,Gu=x6,tC="[object Map]",iue="[object Object]",nC="[object Promise]",rC="[object Set]",iC="[object WeakMap]",aC="[object DataView]",aue=Gu(__),oue=Gu(S_),sue=Gu(E_),lue=Gu(k_),cue=Gu(T_),Rs=hF;(__&&Rs(new __(new ArrayBuffer(1)))!=aC||S_&&Rs(new S_)!=tC||E_&&Rs(E_.resolve())!=nC||k_&&Rs(new k_)!=rC||T_&&Rs(new T_)!=iC)&&(Rs=function(t){var e=hF(t),n=e==iue?t.constructor:void 0,r=n?Gu(n):"";if(r)switch(r){case aue:return aC;case oue:return tC;case sue:return nC;case lue:return rC;case cue:return iC}return e});var uue=Rs,Xb=tF,due=aF,fue=zse,hue=Bce,oC=uue,sC=pr,lC=lF,pue=uF,mue=1,cC="[object Arguments]",uC="[object Array]",vm="[object Object]",gue=Object.prototype,dC=gue.hasOwnProperty;function yue(t,e,n,r,i,a){var o=sC(t),s=sC(e),l=o?uC:oC(t),c=s?uC:oC(e);l=l==cC?vm:l,c=c==cC?vm:c;var u=l==vm,d=c==vm,h=l==c;if(h&&lC(t)){if(!lC(e))return!1;o=!0,u=!1}if(h&&!u)return a||(a=new Xb),o||pue(t)?due(t,e,n,r,i,a):fue(t,e,l,n,r,i,a);if(!(n&mue)){var p=u&&dC.call(t,"__wrapped__"),g=d&&dC.call(e,"__wrapped__");if(p||g){var y=p?t.value():t,v=g?e.value():e;return a||(a=new Xb),i(y,v,n,r,a)}}return h?(a||(a=new Xb),hue(t,e,n,r,i,a)):!1}var vue=yue,xue=vue,fC=Ja;function pF(t,e,n,r,i){return t===e?!0:t==null||e==null||!fC(t)&&!fC(e)?t!==t&&e!==e:xue(t,e,n,r,pF,i)}var VT=pF,bue=tF,wue=VT,_ue=1,Sue=2;function Eue(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],c=t[l],u=s[1];if(o&&s[2]){if(c===void 0&&!(l in t))return!1}else{var d=new bue;if(r)var h=r(c,u,l,t,e,d);if(!(h===void 0?wue(u,c,_ue|Sue,r,d):h))return!1}}return!0}var kue=Eue,Tue=ps;function Pue(t){return t===t&&!Tue(t)}var mF=Pue,Aue=mF,Nue=lx;function Iue(t){for(var e=Nue(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Aue(i)]}return e}var Oue=Iue;function Cue(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var gF=Cue,jue=kue,Rue=Oue,Mue=gF;function Due(t){var e=Rue(t);return e.length==1&&e[0][2]?Mue(e[0][0],e[0][1]):function(n){return n===t||jue(n,t,e)}}var $ue=Due;function Lue(t,e){return t!=null&&e in Object(t)}var Fue=Lue,Vue=E6,Uue=$T,Bue=pr,zue=LT,que=FT,Wue=Gv;function Hue(t,e,n){e=Vue(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=Wue(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&que(i)&&zue(o,i)&&(Bue(t)||Uue(t)))}var Gue=Hue,Kue=Fue,Yue=Gue;function Que(t,e){return t!=null&&Yue(t,e,Kue)}var Xue=Que,Jue=VT,Zue=k6,ede=Xue,tde=xT,nde=mF,rde=gF,ide=Gv,ade=1,ode=2;function sde(t,e){return tde(t)&&nde(e)?rde(ide(t),e):function(n){var r=Zue(n,t);return r===void 0&&r===e?ede(n,t):Jue(e,r,ade|ode)}}var lde=sde;function cde(t){return t}var Ku=cde;function ude(t){return function(e){return e==null?void 0:e[t]}}var dde=ude,fde=TT;function hde(t){return function(e){return fde(e,t)}}var pde=hde,mde=dde,gde=pde,yde=xT,vde=Gv;function xde(t){return yde(t)?mde(vde(t)):gde(t)}var bde=xde,wde=$ue,_de=lde,Sde=Ku,Ede=pr,kde=bde;function Tde(t){return typeof t=="function"?t:t==null?Sde:typeof t=="object"?Ede(t)?_de(t[0],t[1]):wde(t):kde(t)}var ms=Tde;function Pde(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var yF=Pde;function Ade(t){return t!==t}var Nde=Ade;function Ide(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Ode=Ide,Cde=yF,jde=Nde,Rde=Ode;function Mde(t,e,n){return e===e?Rde(t,e,n):Cde(t,jde,n)}var Dde=Mde,$de=Dde;function Lde(t,e){var n=t==null?0:t.length;return!!n&&$de(t,e,0)>-1}var Fde=Lde;function Vde(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Ude=Vde;function Bde(){}var zde=Bde,Jb=fF,qde=zde,Wde=DT,Hde=1/0,Gde=Jb&&1/Wde(new Jb([,-0]))[1]==Hde?function(t){return new Jb(t)}:qde,Kde=Gde,Yde=nF,Qde=Fde,Xde=Ude,Jde=iF,Zde=Kde,efe=DT,tfe=200;function nfe(t,e,n){var r=-1,i=Qde,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=Xde;else if(a>=tfe){var c=e?null:Zde(t);if(c)return efe(c);o=!1,i=Jde,l=new Yde}else l=e?[]:s;e:for(;++r<a;){var u=t[r],d=e?e(u):u;if(u=n||u!==0?u:0,o&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),s.push(u)}else i(l,d,n)||(l!==s&&l.push(d),s.push(u))}return s}var rfe=nfe,ife=ms,afe=rfe;function ofe(t,e){return t&&t.length?afe(t,ife(e)):[]}var sfe=ofe;const hC=gt(sfe);function vF(t,e,n){return e===!0?hC(t,n):Ue(e)?hC(t,e):t}function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}var lfe=["ref"];function pC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pC(Object(n),!0).forEach(function(r){cx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bF(r.key),r)}}function ufe(t,e,n){return e&&mC(t.prototype,e),n&&mC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dfe(t,e,n){return e=N0(e),ffe(t,xF()?Reflect.construct(e,n||[],N0(t).constructor):e.apply(t,n))}function ffe(t,e){if(e&&(eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hfe(t)}function hfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xF=function(){return!!t})()}function N0(t){return N0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},N0(t)}function pfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P_(t,e)}function P_(t,e){return P_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P_(t,e)}function cx(t,e,n){return e=bF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bF(t){var e=mfe(t,"string");return eu(e)=="symbol"?e:e+""}function mfe(t,e){if(eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function gfe(t,e){if(t==null)return{};var n=yfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vfe(t){return t.value}function xfe(t,e){if(z.isValidElement(t))return z.cloneElement(t,e);if(typeof t=="function")return z.createElement(t,e);e.ref;var n=gfe(e,lfe);return z.createElement(MT,n)}var gC=1,Ic=function(t){function e(){var n;cfe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=dfe(this,e,[].concat(i)),cx(n,"lastBoundingBox",{width:-1,height:-1}),n}return pfe(e,t),ufe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>gC||Math.abs(i.height-this.lastBoundingBox.height)>gC)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?pa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return pa(pa({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,d=pa(pa({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return z.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){r.wrapperNode=p}},xfe(a,pa(pa({},this.props),{},{payload:vF(u,c,vfe)})))}}],[{key:"getWithHeight",value:function(r,i){var a=pa(pa({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&ge(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(R.PureComponent);cx(Ic,"displayName","Legend");cx(Ic,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var yC=xp,bfe=$T,wfe=pr,vC=yC?yC.isConcatSpreadable:void 0;function _fe(t){return wfe(t)||bfe(t)||!!(vC&&t&&t[vC])}var Sfe=_fe,Efe=oF,kfe=Sfe;function wF(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=kfe),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?wF(s,e-1,n,r,i):Efe(i,s):r||(i[i.length]=s)}return i}var _F=wF;function Tfe(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(n(a[l],l,a)===!1)break}return e}}var Pfe=Tfe,Afe=Pfe,Nfe=Afe(),Ife=Nfe,Ofe=Ife,Cfe=lx;function jfe(t,e){return t&&Ofe(t,e,Cfe)}var SF=jfe,Rfe=wp;function Mfe(t,e){return function(n,r){if(n==null)return n;if(!Rfe(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var Dfe=Mfe,$fe=SF,Lfe=Dfe,Ffe=Lfe($fe),UT=Ffe,Vfe=UT,Ufe=wp;function Bfe(t,e){var n=-1,r=Ufe(t)?Array(t.length):[];return Vfe(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var EF=Bfe;function zfe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var qfe=zfe,xC=Vu;function Wfe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=xC(t),o=e!==void 0,s=e===null,l=e===e,c=xC(e);if(!s&&!c&&!a&&t>e||a&&o&&l&&!s&&!c||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var Hfe=Wfe,Gfe=Hfe;function Kfe(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=Gfe(i[r],a[r]);if(l){if(r>=s)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var Yfe=Kfe,Zb=kT,Qfe=TT,Xfe=ms,Jfe=EF,Zfe=qfe,ehe=cF,the=Yfe,nhe=Ku,rhe=pr;function ihe(t,e,n){e.length?e=Zb(e,function(a){return rhe(a)?function(o){return Qfe(o,a.length===1?a[0]:a)}:a}):e=[nhe];var r=-1;e=Zb(e,ehe(Xfe));var i=Jfe(t,function(a,o,s){var l=Zb(e,function(c){return c(a)});return{criteria:l,index:++r,value:a}});return Zfe(i,function(a,o){return the(a,o,n)})}var ahe=ihe;function ohe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var she=ohe,lhe=she,bC=Math.max;function che(t,e,n){return e=bC(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=bC(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),lhe(t,this,s)}}var uhe=che;function dhe(t){return function(){return t}}var fhe=dhe,hhe=Ol,phe=function(){try{var t=hhe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),kF=phe,mhe=fhe,wC=kF,ghe=Ku,yhe=wC?function(t,e){return wC(t,"toString",{configurable:!0,enumerable:!1,value:mhe(e),writable:!0})}:ghe,vhe=yhe,xhe=800,bhe=16,whe=Date.now;function _he(t){var e=0,n=0;return function(){var r=whe(),i=bhe-(r-n);if(n=r,i>0){if(++e>=xhe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var She=_he,Ehe=vhe,khe=She,The=khe(Ehe),Phe=The,Ahe=Ku,Nhe=uhe,Ihe=Phe;function Ohe(t,e){return Ihe(Nhe(t,e,Ahe),t+"")}var Che=Ohe,jhe=wT,Rhe=wp,Mhe=LT,Dhe=ps;function $he(t,e,n){if(!Dhe(n))return!1;var r=typeof e;return(r=="number"?Rhe(n)&&Mhe(e,n.length):r=="string"&&e in n)?jhe(n[e],t):!1}var ux=$he,Lhe=_F,Fhe=ahe,Vhe=Che,_C=ux,Uhe=Vhe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&_C(t,e[0],e[1])?e=[]:n>2&&_C(e[0],e[1],e[2])&&(e=[e[0]]),Fhe(t,Lhe(e,1),[])}),Bhe=Uhe;const BT=gt(Bhe);function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}function A_(){return A_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A_.apply(this,arguments)}function zhe(t,e){return Ghe(t)||Hhe(t,e)||Whe(t,e)||qhe()}function qhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Whe(t,e){if(t){if(typeof t=="string")return SC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SC(t,e)}}function SC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Ghe(t){if(Array.isArray(t))return t}function EC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ew(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EC(Object(n),!0).forEach(function(r){Khe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Khe(t,e,n){return e=Yhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yhe(t){var e=Qhe(t,"string");return dh(e)=="symbol"?e:e+""}function Qhe(t,e){if(dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xhe(t){return Array.isArray(t)&&ln(t[0])&&ln(t[1])?t.join(" ~ "):t}var Jhe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,y=e.label,v=e.labelFormatter,x=e.accessibilityLayer,b=x===void 0?!1:x,w=function(){if(u&&u.length){var C={padding:0,margin:0},j=(h?BT(u,h):u).map(function(M,D){if(M.type==="none")return null;var L=ew({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},s),B=M.formatter||d||Xhe,V=M.value,U=M.name,F=V,G=U;if(B&&F!=null&&G!=null){var K=B(V,U,M,D,u);if(Array.isArray(K)){var ie=zhe(K,2);F=ie[0],G=ie[1]}else F=K}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:L},ln(G)?z.createElement("span",{className:"recharts-tooltip-item-name"},G):null,ln(G)?z.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,z.createElement("span",{className:"recharts-tooltip-item-value"},F),z.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:C},j)}return null},E=ew({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=ew({margin:0},c),P=!Qe(y),_=P?y:"",k=tt("recharts-default-tooltip",p),A=tt("recharts-tooltip-label",g);P&&v&&u!==void 0&&u!==null&&(_=v(y,u));var I=b?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",A_({className:k,style:E},I),z.createElement("p",{className:A,style:S},z.isValidElement(_)?_:"".concat(_)),w())};function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function xm(t,e,n){return e=Zhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zhe(t){var e=epe(t,"string");return fh(e)=="symbol"?e:e+""}function epe(t,e){if(fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kd="recharts-tooltip-wrapper",tpe={visibility:"hidden"};function npe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return tt(kd,xm(xm(xm(xm({},"".concat(kd,"-right"),ge(n)&&e&&ge(e.x)&&n>=e.x),"".concat(kd,"-left"),ge(n)&&e&&ge(e.x)&&n<e.x),"".concat(kd,"-bottom"),ge(r)&&e&&ge(e.y)&&r>=e.y),"".concat(kd,"-top"),ge(r)&&e&&ge(e.y)&&r<e.y))}function kC(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&ge(a[r]))return a[r];var u=n[r]-s-i,d=n[r]+i;if(e[r])return o[r]?u:d;if(o[r]){var h=u,p=l[r];return h<p?Math.max(d,l[r]):Math.max(u,l[r])}var g=d+s,y=l[r]+c;return g>y?Math.max(u,l[r]):Math.max(d,l[r])}function rpe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function ipe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,u,d;return o.height>0&&o.width>0&&n?(u=kC({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=kC({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=rpe({translateX:u,translateY:d,useTranslate3d:s})):c=tpe,{cssProperties:c,cssClasses:npe({translateX:u,translateY:d,coordinate:n})}}function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function TC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TC(Object(n),!0).forEach(function(r){I_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ape(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ope(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PF(r.key),r)}}function spe(t,e,n){return e&&ope(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lpe(t,e,n){return e=I0(e),cpe(t,TF()?Reflect.construct(e,n||[],I0(t).constructor):e.apply(t,n))}function cpe(t,e){if(e&&(tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return upe(t)}function upe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TF=function(){return!!t})()}function I0(t){return I0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},I0(t)}function dpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N_(t,e)}function N_(t,e){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N_(t,e)}function I_(t,e,n){return e=PF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PF(t){var e=fpe(t,"string");return tu(e)=="symbol"?e:e+""}function fpe(t,e){if(tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var AC=1,hpe=function(t){function e(){var n;ape(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=lpe(this,e,[].concat(i)),I_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),I_(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return dpe(e,t),spe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>AC||Math.abs(r.height-this.state.lastBoundingBox.height)>AC)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,p=i.offset,g=i.position,y=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,b=i.wrapperStyle,w=ipe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:p,position:g,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),E=w.cssClasses,S=w.cssProperties,P=PC(PC({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return z.createElement("div",{tabIndex:-1,className:E,style:P,ref:function(k){r.wrapperNode=k}},c)}}])}(R.PureComponent),ppe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Yu={isSsr:ppe()};function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function NC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NC(Object(n),!0).forEach(function(r){zT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NF(r.key),r)}}function ype(t,e,n){return e&&gpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vpe(t,e,n){return e=O0(e),xpe(t,AF()?Reflect.construct(e,n||[],O0(t).constructor):e.apply(t,n))}function xpe(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bpe(t)}function bpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AF=function(){return!!t})()}function O0(t){return O0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},O0(t)}function wpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O_(t,e)}function O_(t,e){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},O_(t,e)}function zT(t,e,n){return e=NF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NF(t){var e=_pe(t,"string");return nu(e)=="symbol"?e:e+""}function _pe(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Spe(t){return t.dataKey}function Epe(t,e){return z.isValidElement(t)?z.cloneElement(t,e):typeof t=="function"?z.createElement(t,e):z.createElement(Jhe,e)}var Li=function(t){function e(){return mpe(this,e),vpe(this,e,arguments)}return wpe(e,t),ype(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,d=i.filterNull,h=i.isAnimationActive,p=i.offset,g=i.payload,y=i.payloadUniqBy,v=i.position,x=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,E=i.wrapperStyle,S=g??[];d&&S.length&&(S=vF(g.filter(function(_){return _.value!=null&&(_.hide!==!0||r.props.includeHidden)}),y,Spe));var P=S.length>0;return z.createElement(hpe,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:u,hasPayload:P,offset:p,position:v,reverseDirection:x,useTranslate3d:b,viewBox:w,wrapperStyle:E},Epe(c,IC(IC({},this.props),{},{payload:S})))}}])}(R.PureComponent);zT(Li,"displayName","Tooltip");zT(Li,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Yu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var kpe=ua,Tpe=function(){return kpe.Date.now()},Ppe=Tpe,Ape=/\s/;function Npe(t){for(var e=t.length;e--&&Ape.test(t.charAt(e)););return e}var Ipe=Npe,Ope=Ipe,Cpe=/^\s+/;function jpe(t){return t&&t.slice(0,Ope(t)+1).replace(Cpe,"")}var Rpe=jpe,Mpe=Rpe,OC=ps,Dpe=Vu,CC=NaN,$pe=/^[-+]0x[0-9a-f]+$/i,Lpe=/^0b[01]+$/i,Fpe=/^0o[0-7]+$/i,Vpe=parseInt;function Upe(t){if(typeof t=="number")return t;if(Dpe(t))return CC;if(OC(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=OC(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Mpe(t);var n=Lpe.test(t);return n||Fpe.test(t)?Vpe(t.slice(2),n?2:8):$pe.test(t)?CC:+t}var IF=Upe,Bpe=ps,tw=Ppe,jC=IF,zpe="Expected a function",qpe=Math.max,Wpe=Math.min;function Hpe(t,e,n){var r,i,a,o,s,l,c=0,u=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(zpe);e=jC(e)||0,Bpe(n)&&(u=!!n.leading,d="maxWait"in n,a=d?qpe(jC(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function p(P){var _=r,k=i;return r=i=void 0,c=P,o=t.apply(k,_),o}function g(P){return c=P,s=setTimeout(x,e),u?p(P):o}function y(P){var _=P-l,k=P-c,A=e-_;return d?Wpe(A,a-k):A}function v(P){var _=P-l,k=P-c;return l===void 0||_>=e||_<0||d&&k>=a}function x(){var P=tw();if(v(P))return b(P);s=setTimeout(x,y(P))}function b(P){return s=void 0,h&&r?p(P):(r=i=void 0,o)}function w(){s!==void 0&&clearTimeout(s),c=0,r=l=i=s=void 0}function E(){return s===void 0?o:b(tw())}function S(){var P=tw(),_=v(P);if(r=arguments,i=this,l=P,_){if(s===void 0)return g(l);if(d)return clearTimeout(s),s=setTimeout(x,e),p(l)}return s===void 0&&(s=setTimeout(x,e)),o}return S.cancel=w,S.flush=E,S}var Gpe=Hpe,Kpe=Gpe,Ype=ps,Qpe="Expected a function";function Xpe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Qpe);return Ype(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Kpe(t,e,{leading:r,maxWait:e,trailing:i})}var Jpe=Xpe;const OF=gt(Jpe);function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function RC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RC(Object(n),!0).forEach(function(r){Zpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zpe(t,e,n){return e=eme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eme(t){var e=tme(t,"string");return hh(e)=="symbol"?e:e+""}function tme(t,e){if(hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nme(t,e){return ome(t)||ame(t,e)||ime(t,e)||rme()}function rme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ime(t,e){if(t){if(typeof t=="string")return MC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MC(t,e)}}function MC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ame(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function ome(t){if(Array.isArray(t))return t}var sme=R.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,u=c===void 0?0:c,d=t.minHeight,h=t.maxHeight,p=t.children,g=t.debounce,y=g===void 0?0:g,v=t.id,x=t.className,b=t.onResize,w=t.style,E=w===void 0?{}:w,S=R.useRef(null),P=R.useRef();P.current=b,R.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var _=R.useState({containerWidth:i.width,containerHeight:i.height}),k=nme(_,2),A=k[0],I=k[1],O=R.useCallback(function(j,M){I(function(D){var L=Math.round(j),B=Math.round(M);return D.containerWidth===L&&D.containerHeight===B?D:{containerWidth:L,containerHeight:B}})},[]);R.useEffect(function(){var j=function(U){var F,G=U[0].contentRect,K=G.width,ie=G.height;O(K,ie),(F=P.current)===null||F===void 0||F.call(P,K,ie)};y>0&&(j=OF(j,y,{trailing:!0,leading:!1}));var M=new ResizeObserver(j),D=S.current.getBoundingClientRect(),L=D.width,B=D.height;return O(L,B),M.observe(S.current),function(){M.disconnect()}},[O,y]);var C=R.useMemo(function(){var j=A.containerWidth,M=A.containerHeight;if(j<0||M<0)return null;ja(zs(o)||zs(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),ja(!n||n>0,"The aspect(%s) must be greater than zero.",n);var D=zs(o)?j:o,L=zs(l)?M:l;n&&n>0&&(D?L=D/n:L&&(D=L*n),h&&L>h&&(L=h)),ja(D>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,L,o,l,u,d,n);var B=!Array.isArray(p)&&Ca(p.type).endsWith("Chart");return z.Children.map(p,function(V){return z.isValidElement(V)?R.cloneElement(V,bm({width:D,height:L},B?{style:bm({height:"100%",width:"100%",maxHeight:L,maxWidth:D},V.props.style)}:{})):V})},[n,p,l,h,d,u,A,o]);return z.createElement("div",{id:v?"".concat(v):void 0,className:tt("recharts-responsive-container",x),style:bm(bm({},E),{},{width:o,height:l,minWidth:u,minHeight:d,maxHeight:h}),ref:S},C)}),CF=function(e){return null};CF.displayName="Cell";function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function DC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DC(Object(n),!0).forEach(function(r){lme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lme(t,e,n){return e=cme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cme(t){var e=ume(t,"string");return ph(e)=="symbol"?e:e+""}function ume(t,e){if(ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ul={widthCache:{},cacheCount:0},dme=2e3,fme={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$C="recharts_measurement_span";function hme(t){var e=C_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Sf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Yu.isSsr)return{width:0,height:0};var r=hme(n),i=JSON.stringify({text:e,copyStyle:r});if(Ul.widthCache[i])return Ul.widthCache[i];try{var a=document.getElementById($C);a||(a=document.createElement("span"),a.setAttribute("id",$C),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=C_(C_({},fme),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Ul.widthCache[i]=l,++Ul.cacheCount>dme&&(Ul.cacheCount=0,Ul.widthCache={}),l}catch{return{width:0,height:0}}},pme=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function C0(t,e){return vme(t)||yme(t,e)||gme(t,e)||mme()}function mme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gme(t,e){if(t){if(typeof t=="string")return LC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LC(t,e)}}function LC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function vme(t){if(Array.isArray(t))return t}function xme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wme(r.key),r)}}function bme(t,e,n){return e&&FC(t.prototype,e),n&&FC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wme(t){var e=_me(t,"string");return mh(e)=="symbol"?e:e+""}function _me(t,e){if(mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Sme=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Eme=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,jF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},kme=Object.keys(jF),dc="NaN";function Tme(t,e){return t*jF[e]}var wm=function(){function t(e,n){xme(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Sme.test(n)&&(this.num=NaN,this.unit=""),kme.includes(n)&&(this.num=Tme(e,n),this.unit="px")}return bme(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Eme.exec(n))!==null&&r!==void 0?r:[],a=C0(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function RF(t){if(t.includes(dc))return dc;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=VC.exec(e))!==null&&n!==void 0?n:[],i=C0(r,4),a=i[1],o=i[2],s=i[3],l=wm.parse(a??""),c=wm.parse(s??""),u=o==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return dc;e=e.replace(VC,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=UC.exec(e))!==null&&d!==void 0?d:[],p=C0(h,4),g=p[1],y=p[2],v=p[3],x=wm.parse(g??""),b=wm.parse(v??""),w=y==="+"?x.add(b):x.subtract(b);if(w.isNaN())return dc;e=e.replace(UC,w.toString())}return e}var BC=/\(([^()]*)\)/;function Pme(t){for(var e=t;e.includes("(");){var n=BC.exec(e),r=C0(n,2),i=r[1];e=e.replace(BC,RF(i))}return e}function Ame(t){var e=t.replace(/\s+/g,"");return e=Pme(e),e=RF(e),e}function Nme(t){try{return Ame(t)}catch{return dc}}function nw(t){var e=Nme(t.slice(5,-1));return e===dc?"":e}var Ime=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ome=["dx","dy","angle","className","breakAll"];function j_(){return j_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j_.apply(this,arguments)}function zC(t,e){if(t==null)return{};var n=Cme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qC(t,e){return Dme(t)||Mme(t,e)||Rme(t,e)||jme()}function jme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rme(t,e){if(t){if(typeof t=="string")return WC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WC(t,e)}}function WC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Dme(t){if(Array.isArray(t))return t}var MF=/[ \f\n\r\t\v\u2028\u2029]+/,DF=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Qe(n)||(r?a=n.toString().split(""):a=n.toString().split(MF));var o=a.map(function(l){return{word:l,width:Sf(l,i).width}}),s=r?0:Sf("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},$me=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,c=e.breakAll,u=ge(o),d=s,h=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(L,B){var V=B.word,U=B.width,F=L[L.length-1];if(F&&(i==null||a||F.width+U+r<Number(i)))F.words.push(V),F.width+=U+r;else{var G={words:[V],width:U};L.push(G)}return L},[])},p=h(n),g=function(D){return D.reduce(function(L,B){return L.width>B.width?L:B})};if(!u)return p;for(var y="",v=function(D){var L=d.slice(0,D),B=DF({breakAll:c,style:l,children:L+y}).wordsWithComputedWidth,V=h(B),U=V.length>o||g(V).width>Number(i);return[U,V]},x=0,b=d.length-1,w=0,E;x<=b&&w<=d.length-1;){var S=Math.floor((x+b)/2),P=S-1,_=v(P),k=qC(_,2),A=k[0],I=k[1],O=v(S),C=qC(O,1),j=C[0];if(!A&&!j&&(x=S+1),A&&j&&(b=S-1),!A&&j){E=I;break}w++}return E||p},HC=function(e){var n=Qe(e)?[]:e.toString().split(MF);return[{words:n}]},Lme=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!Yu.isSsr){var l,c,u=DF({breakAll:o,children:i,style:a});if(u){var d=u.wordsWithComputedWidth,h=u.spaceWidth;l=d,c=h}else return HC(i);return $me({breakAll:o,children:i,maxLines:s,style:a},l,c,n,r)}return HC(i)},GC="#808080",j0=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,d=u===void 0?!1:u,h=e.textAnchor,p=h===void 0?"start":h,g=e.verticalAnchor,y=g===void 0?"end":g,v=e.fill,x=v===void 0?GC:v,b=zC(e,Ime),w=R.useMemo(function(){return Lme({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),E=b.dx,S=b.dy,P=b.angle,_=b.className,k=b.breakAll,A=zC(b,Ome);if(!ln(r)||!ln(a))return null;var I=r+(ge(E)?E:0),O=a+(ge(S)?S:0),C;switch(y){case"start":C=nw("calc(".concat(c,")"));break;case"middle":C=nw("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:C=nw("calc(".concat(w.length-1," * -").concat(s,")"));break}var j=[];if(d){var M=w[0].width,D=b.width;j.push("scale(".concat((ge(D)?D/M:1)/M,")"))}return P&&j.push("rotate(".concat(P,", ").concat(I,", ").concat(O,")")),j.length&&(A.transform=j.join(" ")),z.createElement("text",j_({},We(A,!0),{x:I,y:O,className:tt("recharts-text",_),textAnchor:p,fill:x.includes("url")?GC:x}),w.map(function(L,B){var V=L.words.join(k?"":" ");return z.createElement("tspan",{x:I,dy:B===0?C:s,key:"".concat(V,"-").concat(B)},V)}))};function Go(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Fme(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qT(t){let e,n,r;t.length!==2?(e=Go,n=(s,l)=>Go(t(s),l),r=(s,l)=>t(s)-l):(e=t===Go||t===Fme?t:Vme,n=t,r=t);function i(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(s[d],l)<0?c=d+1:u=d}while(c<u)}return c}function a(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(s[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function o(s,l,c=0,u=s.length){const d=i(s,l,c,u-1);return d>c&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function Vme(){return 0}function $F(t){return t===null?NaN:+t}function*Ume(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Bme=qT(Go),_p=Bme.right;qT($F).center;let rw=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],o=e+a,s=Math.abs(e)<Math.abs(a)?e-(o-a):a-(o-e);s&&(n[r++]=s),e=o}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,o=0;if(n>0){for(o=e[--n];n>0&&(r=o,i=e[--n],o=r+i,a=i-(o-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}};class KC extends Map{constructor(e,n=Wme){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(YC(this,e))}has(e){return super.has(YC(this,e))}set(e,n){return super.set(zme(this,e),n)}delete(e){return super.delete(qme(this,e))}}function YC({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function zme({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function qme({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Wme(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Hme(t=Go){if(t===Go)return LF;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function LF(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Gme=Math.sqrt(50),Kme=Math.sqrt(10),Yme=Math.sqrt(2);function R0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Gme?10:a>=Kme?5:a>=Yme?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?R0(t,e,n*2):[s,l,c]}function R_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?R0(e,t,n):R0(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function M_(t,e,n){return e=+e,t=+t,n=+n,R0(t,e,n)[2]}function D_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?M_(e,t,n):M_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function QC(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function XC(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function FF(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?LF:Hme(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*d/l+h)),g=Math.min(r,Math.floor(e+(l-c)*d/l+h));FF(t,e,p,g,i)}const a=t[e];let o=n,s=r;for(Td(t,n,e),i(t[r],a)>0&&Td(t,n,r);o<s;){for(Td(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?Td(t,n,s):(++s,Td(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Td(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Qme(t,e,n){if(t=Float64Array.from(Ume(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return XC(t);if(e>=1)return QC(t);var r,i=(r-1)*e,a=Math.floor(i),o=QC(FF(t,a).subarray(0,a+1)),s=XC(t.subarray(a+1));return o+(s-o)*(i-a)}}function Xme(t,e,n=$F){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function Jme(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function ri(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Za(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const $_=Symbol("implicit");function WT(){var t=new KC,e=[],n=[],r=$_;function i(a){let o=t.get(a);if(o===void 0){if(r!==$_)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new KC;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return WT(e,n).unknown(r)},ri.apply(i,arguments),i}function gh(){var t=WT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,c=0,u=.5;delete t.unknown;function d(){var h=e().length,p=i<r,g=p?i:r,y=p?r:i;a=(y-g)/Math.max(1,h-l+c*2),s&&(a=Math.floor(a)),g+=(y-g-a*(h-l))*u,o=a*(1-l),s&&(g=Math.round(g),o=Math.round(o));var v=Jme(h).map(function(x){return g+a*x});return n(p?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,d()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,d()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},t.copy=function(){return gh(e(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},ri.apply(d(),arguments)}function VF(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return VF(e())},t}function Ef(){return VF(gh.apply(null,arguments).paddingInner(1))}function HT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function UF(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Sp(){}var yh=.7,M0=1/yh,Oc="\\s*([+-]?\\d+)\\s*",vh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zme=/^#([0-9a-f]{3,8})$/,ege=new RegExp(`^rgb\\(${Oc},${Oc},${Oc}\\)$`),tge=new RegExp(`^rgb\\(${Zi},${Zi},${Zi}\\)$`),nge=new RegExp(`^rgba\\(${Oc},${Oc},${Oc},${vh}\\)$`),rge=new RegExp(`^rgba\\(${Zi},${Zi},${Zi},${vh}\\)$`),ige=new RegExp(`^hsl\\(${vh},${Zi},${Zi}\\)$`),age=new RegExp(`^hsla\\(${vh},${Zi},${Zi},${vh}\\)$`),JC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};HT(Sp,xh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ZC,formatHex:ZC,formatHex8:oge,formatHsl:sge,formatRgb:ej,toString:ej});function ZC(){return this.rgb().formatHex()}function oge(){return this.rgb().formatHex8()}function sge(){return BF(this).formatHsl()}function ej(){return this.rgb().formatRgb()}function xh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Zme.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?tj(e):n===3?new sr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?_m(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?_m(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ege.exec(t))?new sr(e[1],e[2],e[3],1):(e=tge.exec(t))?new sr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=nge.exec(t))?_m(e[1],e[2],e[3],e[4]):(e=rge.exec(t))?_m(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ige.exec(t))?ij(e[1],e[2]/100,e[3]/100,1):(e=age.exec(t))?ij(e[1],e[2]/100,e[3]/100,e[4]):JC.hasOwnProperty(t)?tj(JC[t]):t==="transparent"?new sr(NaN,NaN,NaN,0):null}function tj(t){return new sr(t>>16&255,t>>8&255,t&255,1)}function _m(t,e,n,r){return r<=0&&(t=e=n=NaN),new sr(t,e,n,r)}function lge(t){return t instanceof Sp||(t=xh(t)),t?(t=t.rgb(),new sr(t.r,t.g,t.b,t.opacity)):new sr}function L_(t,e,n,r){return arguments.length===1?lge(t):new sr(t,e,n,r??1)}function sr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}HT(sr,L_,UF(Sp,{brighter(t){return t=t==null?M0:Math.pow(M0,t),new sr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?yh:Math.pow(yh,t),new sr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new sr(el(this.r),el(this.g),el(this.b),D0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nj,formatHex:nj,formatHex8:cge,formatRgb:rj,toString:rj}));function nj(){return`#${qs(this.r)}${qs(this.g)}${qs(this.b)}`}function cge(){return`#${qs(this.r)}${qs(this.g)}${qs(this.b)}${qs((isNaN(this.opacity)?1:this.opacity)*255)}`}function rj(){const t=D0(this.opacity);return`${t===1?"rgb(":"rgba("}${el(this.r)}, ${el(this.g)}, ${el(this.b)}${t===1?")":`, ${t})`}`}function D0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function el(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function qs(t){return t=el(t),(t<16?"0":"")+t.toString(16)}function ij(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new pi(t,e,n,r)}function BF(t){if(t instanceof pi)return new pi(t.h,t.s,t.l,t.opacity);if(t instanceof Sp||(t=xh(t)),!t)return new pi;if(t instanceof pi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new pi(o,s,l,t.opacity)}function uge(t,e,n,r){return arguments.length===1?BF(t):new pi(t,e,n,r??1)}function pi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}HT(pi,uge,UF(Sp,{brighter(t){return t=t==null?M0:Math.pow(M0,t),new pi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?yh:Math.pow(yh,t),new pi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new sr(iw(t>=240?t-240:t+120,i,r),iw(t,i,r),iw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new pi(aj(this.h),Sm(this.s),Sm(this.l),D0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=D0(this.opacity);return`${t===1?"hsl(":"hsla("}${aj(this.h)}, ${Sm(this.s)*100}%, ${Sm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function aj(t){return t=(t||0)%360,t<0?t+360:t}function Sm(t){return Math.max(0,Math.min(1,t||0))}function iw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const GT=t=>()=>t;function dge(t,e){return function(n){return t+n*e}}function fge(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function hge(t){return(t=+t)==1?zF:function(e,n){return n-e?fge(e,n,t):GT(isNaN(e)?n:e)}}function zF(t,e){var n=e-t;return n?dge(t,n):GT(isNaN(t)?e:t)}const oj=function t(e){var n=hge(e);function r(i,a){var o=n((i=L_(i)).r,(a=L_(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),c=zF(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function pge(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function mge(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function gge(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Qu(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function yge(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function $0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function vge(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Qu(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var F_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,aw=new RegExp(F_.source,"g");function xge(t){return function(){return t}}function bge(t){return function(e){return t(e)+""}}function wge(t,e){var n=F_.lastIndex=aw.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=F_.exec(t))&&(i=aw.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:$0(r,i)})),n=aw.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?bge(l[0].x):xge(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}function Qu(t,e){var n=typeof e,r;return e==null||n==="boolean"?GT(e):(n==="number"?$0:n==="string"?(r=xh(e))?(e=r,oj):wge:e instanceof xh?oj:e instanceof Date?yge:mge(e)?pge:Array.isArray(e)?gge:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?vge:$0)(t,e)}function KT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function _ge(t,e){e===void 0&&(e=t,t=Qu);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function Sge(t){return function(){return t}}function L0(t){return+t}var sj=[0,1];function Gn(t){return t}function V_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Sge(isNaN(e)?NaN:.5)}function Ege(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function kge(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=V_(i,r),a=n(o,a)):(r=V_(r,i),a=n(a,o)),function(s){return a(r(s))}}function Tge(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=V_(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=_p(t,s,1,r)-1;return a[l](i[l](s))}}function Ep(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function dx(){var t=sj,e=sj,n=Qu,r,i,a,o=Gn,s,l,c;function u(){var h=Math.min(t.length,e.length);return o!==Gn&&(o=Ege(t[0],t[h-1])),s=h>2?Tge:kge,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(r),e,n)))(r(o(h)))}return d.invert=function(h){return o(i((c||(c=s(e,t.map(r),$0)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,L0),u()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=KT,u()},d.clamp=function(h){return arguments.length?(o=h?!0:Gn,u()):o!==Gn},d.interpolate=function(h){return arguments.length?(n=h,u()):n},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,p){return r=h,i=p,u()}}function YT(){return dx()(Gn,Gn)}function Pge(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function F0(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ru(t){return t=F0(Math.abs(t)),t?t[1]:NaN}function Age(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Nge(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Ige=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bh(t){if(!(e=Ige.exec(t)))throw new Error("invalid format: "+t);var e;return new QT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}bh.prototype=QT.prototype;function QT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}QT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Oge(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var V0;function Cge(t,e){var n=F0(t,e);if(!n)return V0=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(V0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+F0(t,Math.max(0,e+a-1))[0]}function lj(t,e){var n=F0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const cj={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Pge,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>lj(t*100,e),r:lj,s:Cge,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function uj(t){return t}var dj=Array.prototype.map,fj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function jge(t){var e=t.grouping===void 0||t.thousands===void 0?uj:Age(dj.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?uj:Nge(dj.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d,h){d=bh(d);var p=d.fill,g=d.align,y=d.sign,v=d.symbol,x=d.zero,b=d.width,w=d.comma,E=d.precision,S=d.trim,P=d.type;P==="n"?(w=!0,P="g"):cj[P]||(E===void 0&&(E=12),S=!0,P="g"),(x||p==="0"&&g==="=")&&(x=!0,p="0",g="=");var _=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?n:v==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),k=(v==="$"?r:/[%p]/.test(P)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),A=cj[P],I=/[defgprs%]/.test(P);E=E===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function O(C){var j=_,M=k,D,L,B;if(P==="c")M=A(C)+M,C="";else{C=+C;var V=C<0||1/C<0;if(C=isNaN(C)?l:A(Math.abs(C),E),S&&(C=Oge(C)),V&&+C==0&&y!=="+"&&(V=!1),j=(V?y==="("?y:s:y==="-"||y==="("?"":y)+j,M=(P==="s"&&!isNaN(C)&&V0!==void 0?fj[8+V0/3]:"")+M+(V&&y==="("?")":""),I){for(D=-1,L=C.length;++D<L;)if(B=C.charCodeAt(D),48>B||B>57){M=(B===46?i+C.slice(D+1):C.slice(D))+M,C=C.slice(0,D);break}}}w&&!x&&(C=e(C,1/0));var U=j.length+C.length+M.length,F=U<b?new Array(b-U+1).join(p):"";switch(w&&x&&(C=e(F+C,F.length?b-M.length:1/0),F=""),g){case"<":C=j+C+M+F;break;case"=":C=j+F+C+M;break;case"^":C=F.slice(0,U=F.length>>1)+j+C+M+F.slice(U);break;default:C=F+j+C+M;break}return a(C)}return O.toString=function(){return d+""},O}function u(d,h){var p=Math.max(-8,Math.min(8,Math.floor(ru(h)/3)))*3,g=Math.pow(10,-p),y=c((d=bh(d),d.type="f",d),{suffix:fj[8+p/3]});return function(v){return y(g*v)}}return{format:c,formatPrefix:u}}var Em,XT,qF;Rge({thousands:",",grouping:[3],currency:["$",""]});function Rge(t){return Em=jge(t),XT=Em.format,qF=Em.formatPrefix,Em}function Mge(t){return Math.max(0,-ru(Math.abs(t)))}function Dge(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ru(e)/3)))*3-ru(Math.abs(t)))}function $ge(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ru(e)-ru(t))+1}function WF(t,e,n,r){var i=D_(t,e,n),a;switch(r=bh(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Dge(i,o))&&(r.precision=a),qF(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=$ge(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Mge(i))&&(r.precision=a-(r.type==="%")*2);break}}return XT(r)}function gs(t){var e=t.domain;return t.ticks=function(n){var r=e();return R_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return WF(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);u-- >0;){if(c=M_(o,s,n),c===l)return r[i]=o,r[a]=s,e(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function wh(){var t=YT();return t.copy=function(){return Ep(t,wh())},ri.apply(t,arguments),gs(t)}function HF(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,L0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return HF(t).unknown(e)},t=arguments.length?Array.from(t,L0):[0,1],gs(n)}function GF(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function hj(t){return Math.log(t)}function pj(t){return Math.exp(t)}function Lge(t){return-Math.log(-t)}function Fge(t){return-Math.exp(-t)}function Vge(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Uge(t){return t===10?Vge:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Bge(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function mj(t){return(e,n)=>-t(-e,n)}function JT(t){const e=t(hj,pj),n=e.domain;let r=10,i,a;function o(){return i=Bge(r),a=Uge(r),n()[0]<0?(i=mj(i),a=mj(a),t(Lge,Fge)):t(hj,pj),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=i(c),p=i(u),g,y;const v=s==null?10:+s;let x=[];if(!(r%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(g=1;g<r;++g)if(y=h<0?g/a(-h):g*a(h),!(y<c)){if(y>u)break;x.push(y)}}else for(;h<=p;++h)for(g=r-1;g>=1;--g)if(y=h>0?g/a(-h):g*a(h),!(y<c)){if(y>u)break;x.push(y)}x.length*2<v&&(x=R_(c,u,v))}else x=R_(h,p,Math.min(p-h,v)).map(a);return d?x.reverse():x},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=bh(l)).precision==null&&(l.trim=!0),l=XT(l)),s===1/0)return l;const c=Math.max(1,r*s/e.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?l(u):""}},e.nice=()=>n(GF(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function KF(){const t=JT(dx()).domain([1,10]);return t.copy=()=>Ep(t,KF()).base(t.base()),ri.apply(t,arguments),t}function gj(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function yj(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ZT(t){var e=1,n=t(gj(e),yj(e));return n.constant=function(r){return arguments.length?t(gj(e=+r),yj(e)):e},gs(n)}function YF(){var t=ZT(dx());return t.copy=function(){return Ep(t,YF()).constant(t.constant())},ri.apply(t,arguments)}function vj(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function zge(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function qge(t){return t<0?-t*t:t*t}function eP(t){var e=t(Gn,Gn),n=1;function r(){return n===1?t(Gn,Gn):n===.5?t(zge,qge):t(vj(n),vj(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},gs(e)}function tP(){var t=eP(dx());return t.copy=function(){return Ep(t,tP()).exponent(t.exponent())},ri.apply(t,arguments),t}function Wge(){return tP.apply(null,arguments).exponent(.5)}function xj(t){return Math.sign(t)*t*t}function Hge(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function QF(){var t=YT(),e=[0,1],n=!1,r;function i(a){var o=Hge(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(xj(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,L0)).map(xj)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return QF(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ri.apply(i,arguments),gs(i)}function XF(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=Xme(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[_p(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Go),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return XF().domain(t).range(e).unknown(r)},ri.apply(a,arguments)}function JF(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[_p(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return JF().domain([t,e]).range(i).unknown(a)},ri.apply(gs(o),arguments)}function ZF(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[_p(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return ZF().domain(t).range(e).unknown(n)},ri.apply(i,arguments)}const ow=new Date,sw=new Date;function un(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),e(a,s),t(a);while(c<a&&a<o);return l},i.filter=a=>un(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(ow.setTime(+a),sw.setTime(+o),t(ow),t(sw),Math.floor(n(ow,sw))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const U0=un(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);U0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?un(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):U0);U0.range;const Ta=1e3,Wr=Ta*60,Pa=Wr*60,qa=Pa*24,nP=qa*7,bj=qa*30,lw=qa*365,Ws=un(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ta)},(t,e)=>(e-t)/Ta,t=>t.getUTCSeconds());Ws.range;const rP=un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ta)},(t,e)=>{t.setTime(+t+e*Wr)},(t,e)=>(e-t)/Wr,t=>t.getMinutes());rP.range;const iP=un(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Wr)},(t,e)=>(e-t)/Wr,t=>t.getUTCMinutes());iP.range;const aP=un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ta-t.getMinutes()*Wr)},(t,e)=>{t.setTime(+t+e*Pa)},(t,e)=>(e-t)/Pa,t=>t.getHours());aP.range;const oP=un(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Pa)},(t,e)=>(e-t)/Pa,t=>t.getUTCHours());oP.range;const kp=un(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Wr)/qa,t=>t.getDate()-1);kp.range;const fx=un(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qa,t=>t.getUTCDate()-1);fx.range;const eV=un(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qa,t=>Math.floor(t/qa));eV.range;function Cl(t){return un(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Wr)/nP)}const hx=Cl(0),B0=Cl(1),Gge=Cl(2),Kge=Cl(3),iu=Cl(4),Yge=Cl(5),Qge=Cl(6);hx.range;B0.range;Gge.range;Kge.range;iu.range;Yge.range;Qge.range;function jl(t){return un(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/nP)}const px=jl(0),z0=jl(1),Xge=jl(2),Jge=jl(3),au=jl(4),Zge=jl(5),e0e=jl(6);px.range;z0.range;Xge.range;Jge.range;au.range;Zge.range;e0e.range;const sP=un(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());sP.range;const lP=un(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());lP.range;const Wa=un(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Wa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:un(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Wa.range;const Ha=un(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ha.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:un(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ha.range;function tV(t,e,n,r,i,a){const o=[[Ws,1,Ta],[Ws,5,5*Ta],[Ws,15,15*Ta],[Ws,30,30*Ta],[a,1,Wr],[a,5,5*Wr],[a,15,15*Wr],[a,30,30*Wr],[i,1,Pa],[i,3,3*Pa],[i,6,6*Pa],[i,12,12*Pa],[r,1,qa],[r,2,2*qa],[n,1,nP],[e,1,bj],[e,3,3*bj],[t,1,lw]];function s(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),g=p?p.range(c,+u+1):[];return h?g.reverse():g}function l(c,u,d){const h=Math.abs(u-c)/d,p=qT(([,,v])=>v).right(o,h);if(p===o.length)return t.every(D_(c/lw,u/lw,d));if(p===0)return U0.every(Math.max(D_(c,u,d),1));const[g,y]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return g.every(y)}return[s,l]}const[t0e,n0e]=tV(Ha,lP,px,eV,oP,iP),[r0e,i0e]=tV(Wa,sP,hx,kp,aP,rP);function cw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function uw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Pd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function a0e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,c=Ad(i),u=Nd(i),d=Ad(a),h=Nd(a),p=Ad(o),g=Nd(o),y=Ad(s),v=Nd(s),x=Ad(l),b=Nd(l),w={a:B,A:V,b:U,B:F,c:null,d:Tj,e:Tj,f:A0e,g:L0e,G:V0e,H:k0e,I:T0e,j:P0e,L:nV,m:N0e,M:I0e,p:G,q:K,Q:Nj,s:Ij,S:O0e,u:C0e,U:j0e,V:R0e,w:M0e,W:D0e,x:null,X:null,y:$0e,Y:F0e,Z:U0e,"%":Aj},E={a:ie,A:se,b:ve,B:ce,c:null,d:Pj,e:Pj,f:W0e,g:tye,G:rye,H:B0e,I:z0e,j:q0e,L:iV,m:H0e,M:G0e,p:de,q:Y,Q:Nj,s:Ij,S:K0e,u:Y0e,U:Q0e,V:X0e,w:J0e,W:Z0e,x:null,X:null,y:eye,Y:nye,Z:iye,"%":Aj},S={a:I,A:O,b:C,B:j,c:M,d:Ej,e:Ej,f:w0e,g:Sj,G:_j,H:kj,I:kj,j:y0e,L:b0e,m:g0e,M:v0e,p:A,q:m0e,Q:S0e,s:E0e,S:x0e,u:u0e,U:d0e,V:f0e,w:c0e,W:h0e,x:D,X:L,y:Sj,Y:_j,Z:p0e,"%":_0e};w.x=P(n,w),w.X=P(r,w),w.c=P(e,w),E.x=P(n,E),E.X=P(r,E),E.c=P(e,E);function P(X,me){return function(J){var ee=[],Oe=-1,Re=0,Le=X.length,it,yt,Gt;for(J instanceof Date||(J=new Date(+J));++Oe<Le;)X.charCodeAt(Oe)===37&&(ee.push(X.slice(Re,Oe)),(yt=wj[it=X.charAt(++Oe)])!=null?it=X.charAt(++Oe):yt=it==="e"?" ":"0",(Gt=me[it])&&(it=Gt(J,yt)),ee.push(it),Re=Oe+1);return ee.push(X.slice(Re,Oe)),ee.join("")}}function _(X,me){return function(J){var ee=Pd(1900,void 0,1),Oe=k(ee,X,J+="",0),Re,Le;if(Oe!=J.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(me&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(Re=uw(Pd(ee.y,0,1)),Le=Re.getUTCDay(),Re=Le>4||Le===0?z0.ceil(Re):z0(Re),Re=fx.offset(Re,(ee.V-1)*7),ee.y=Re.getUTCFullYear(),ee.m=Re.getUTCMonth(),ee.d=Re.getUTCDate()+(ee.w+6)%7):(Re=cw(Pd(ee.y,0,1)),Le=Re.getDay(),Re=Le>4||Le===0?B0.ceil(Re):B0(Re),Re=kp.offset(Re,(ee.V-1)*7),ee.y=Re.getFullYear(),ee.m=Re.getMonth(),ee.d=Re.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),Le="Z"in ee?uw(Pd(ee.y,0,1)).getUTCDay():cw(Pd(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(Le+5)%7:ee.w+ee.U*7-(Le+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,uw(ee)):cw(ee)}}function k(X,me,J,ee){for(var Oe=0,Re=me.length,Le=J.length,it,yt;Oe<Re;){if(ee>=Le)return-1;if(it=me.charCodeAt(Oe++),it===37){if(it=me.charAt(Oe++),yt=S[it in wj?me.charAt(Oe++):it],!yt||(ee=yt(X,J,ee))<0)return-1}else if(it!=J.charCodeAt(ee++))return-1}return ee}function A(X,me,J){var ee=c.exec(me.slice(J));return ee?(X.p=u.get(ee[0].toLowerCase()),J+ee[0].length):-1}function I(X,me,J){var ee=p.exec(me.slice(J));return ee?(X.w=g.get(ee[0].toLowerCase()),J+ee[0].length):-1}function O(X,me,J){var ee=d.exec(me.slice(J));return ee?(X.w=h.get(ee[0].toLowerCase()),J+ee[0].length):-1}function C(X,me,J){var ee=x.exec(me.slice(J));return ee?(X.m=b.get(ee[0].toLowerCase()),J+ee[0].length):-1}function j(X,me,J){var ee=y.exec(me.slice(J));return ee?(X.m=v.get(ee[0].toLowerCase()),J+ee[0].length):-1}function M(X,me,J){return k(X,e,me,J)}function D(X,me,J){return k(X,n,me,J)}function L(X,me,J){return k(X,r,me,J)}function B(X){return o[X.getDay()]}function V(X){return a[X.getDay()]}function U(X){return l[X.getMonth()]}function F(X){return s[X.getMonth()]}function G(X){return i[+(X.getHours()>=12)]}function K(X){return 1+~~(X.getMonth()/3)}function ie(X){return o[X.getUTCDay()]}function se(X){return a[X.getUTCDay()]}function ve(X){return l[X.getUTCMonth()]}function ce(X){return s[X.getUTCMonth()]}function de(X){return i[+(X.getUTCHours()>=12)]}function Y(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var me=P(X+="",w);return me.toString=function(){return X},me},parse:function(X){var me=_(X+="",!1);return me.toString=function(){return X},me},utcFormat:function(X){var me=P(X+="",E);return me.toString=function(){return X},me},utcParse:function(X){var me=_(X+="",!0);return me.toString=function(){return X},me}}}var wj={"-":"",_:" ",0:"0"},vn=/^\s*\d+/,o0e=/^%/,s0e=/[\\^$*+?|[\]().{}]/g;function rt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function l0e(t){return t.replace(s0e,"\\$&")}function Ad(t){return new RegExp("^(?:"+t.map(l0e).join("|")+")","i")}function Nd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function c0e(t,e,n){var r=vn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function u0e(t,e,n){var r=vn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function d0e(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function f0e(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function h0e(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function _j(t,e,n){var r=vn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Sj(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function p0e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function m0e(t,e,n){var r=vn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function g0e(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Ej(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function y0e(t,e,n){var r=vn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function kj(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function v0e(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function x0e(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function b0e(t,e,n){var r=vn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function w0e(t,e,n){var r=vn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function _0e(t,e,n){var r=o0e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function S0e(t,e,n){var r=vn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function E0e(t,e,n){var r=vn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Tj(t,e){return rt(t.getDate(),e,2)}function k0e(t,e){return rt(t.getHours(),e,2)}function T0e(t,e){return rt(t.getHours()%12||12,e,2)}function P0e(t,e){return rt(1+kp.count(Wa(t),t),e,3)}function nV(t,e){return rt(t.getMilliseconds(),e,3)}function A0e(t,e){return nV(t,e)+"000"}function N0e(t,e){return rt(t.getMonth()+1,e,2)}function I0e(t,e){return rt(t.getMinutes(),e,2)}function O0e(t,e){return rt(t.getSeconds(),e,2)}function C0e(t){var e=t.getDay();return e===0?7:e}function j0e(t,e){return rt(hx.count(Wa(t)-1,t),e,2)}function rV(t){var e=t.getDay();return e>=4||e===0?iu(t):iu.ceil(t)}function R0e(t,e){return t=rV(t),rt(iu.count(Wa(t),t)+(Wa(t).getDay()===4),e,2)}function M0e(t){return t.getDay()}function D0e(t,e){return rt(B0.count(Wa(t)-1,t),e,2)}function $0e(t,e){return rt(t.getFullYear()%100,e,2)}function L0e(t,e){return t=rV(t),rt(t.getFullYear()%100,e,2)}function F0e(t,e){return rt(t.getFullYear()%1e4,e,4)}function V0e(t,e){var n=t.getDay();return t=n>=4||n===0?iu(t):iu.ceil(t),rt(t.getFullYear()%1e4,e,4)}function U0e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+rt(e/60|0,"0",2)+rt(e%60,"0",2)}function Pj(t,e){return rt(t.getUTCDate(),e,2)}function B0e(t,e){return rt(t.getUTCHours(),e,2)}function z0e(t,e){return rt(t.getUTCHours()%12||12,e,2)}function q0e(t,e){return rt(1+fx.count(Ha(t),t),e,3)}function iV(t,e){return rt(t.getUTCMilliseconds(),e,3)}function W0e(t,e){return iV(t,e)+"000"}function H0e(t,e){return rt(t.getUTCMonth()+1,e,2)}function G0e(t,e){return rt(t.getUTCMinutes(),e,2)}function K0e(t,e){return rt(t.getUTCSeconds(),e,2)}function Y0e(t){var e=t.getUTCDay();return e===0?7:e}function Q0e(t,e){return rt(px.count(Ha(t)-1,t),e,2)}function aV(t){var e=t.getUTCDay();return e>=4||e===0?au(t):au.ceil(t)}function X0e(t,e){return t=aV(t),rt(au.count(Ha(t),t)+(Ha(t).getUTCDay()===4),e,2)}function J0e(t){return t.getUTCDay()}function Z0e(t,e){return rt(z0.count(Ha(t)-1,t),e,2)}function eye(t,e){return rt(t.getUTCFullYear()%100,e,2)}function tye(t,e){return t=aV(t),rt(t.getUTCFullYear()%100,e,2)}function nye(t,e){return rt(t.getUTCFullYear()%1e4,e,4)}function rye(t,e){var n=t.getUTCDay();return t=n>=4||n===0?au(t):au.ceil(t),rt(t.getUTCFullYear()%1e4,e,4)}function iye(){return"+0000"}function Aj(){return"%"}function Nj(t){return+t}function Ij(t){return Math.floor(+t/1e3)}var Bl,oV,sV;aye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function aye(t){return Bl=a0e(t),oV=Bl.format,Bl.parse,sV=Bl.utcFormat,Bl.utcParse,Bl}function oye(t){return new Date(t)}function sye(t){return t instanceof Date?+t:+new Date(+t)}function cP(t,e,n,r,i,a,o,s,l,c){var u=YT(),d=u.invert,h=u.domain,p=c(".%L"),g=c(":%S"),y=c("%I:%M"),v=c("%I %p"),x=c("%a %d"),b=c("%b %d"),w=c("%B"),E=c("%Y");function S(P){return(l(P)<P?p:s(P)<P?g:o(P)<P?y:a(P)<P?v:r(P)<P?i(P)<P?x:b:n(P)<P?w:E)(P)}return u.invert=function(P){return new Date(d(P))},u.domain=function(P){return arguments.length?h(Array.from(P,sye)):h().map(oye)},u.ticks=function(P){var _=h();return t(_[0],_[_.length-1],P??10)},u.tickFormat=function(P,_){return _==null?S:c(_)},u.nice=function(P){var _=h();return(!P||typeof P.range!="function")&&(P=e(_[0],_[_.length-1],P??10)),P?h(GF(_,P)):u},u.copy=function(){return Ep(u,cP(t,e,n,r,i,a,o,s,l,c))},u}function lye(){return ri.apply(cP(r0e,i0e,Wa,sP,hx,kp,aP,rP,Ws,oV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cye(){return ri.apply(cP(t0e,n0e,Ha,lP,px,fx,oP,iP,Ws,sV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function mx(){var t=0,e=1,n,r,i,a,o=Gn,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(o=d,c):o};function u(d){return function(h){var p,g;return arguments.length?([p,g]=h,o=d(p,g),c):[o(0),o(1)]}}return c.range=u(Qu),c.rangeRound=u(KT),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return a=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),c}}function ys(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function lV(){var t=gs(mx()(Gn));return t.copy=function(){return ys(t,lV())},Za.apply(t,arguments)}function cV(){var t=JT(mx()).domain([1,10]);return t.copy=function(){return ys(t,cV()).base(t.base())},Za.apply(t,arguments)}function uV(){var t=ZT(mx());return t.copy=function(){return ys(t,uV()).constant(t.constant())},Za.apply(t,arguments)}function uP(){var t=eP(mx());return t.copy=function(){return ys(t,uP()).exponent(t.exponent())},Za.apply(t,arguments)}function uye(){return uP.apply(null,arguments).exponent(.5)}function dV(){var t=[],e=Gn;function n(r){if(r!=null&&!isNaN(r=+r))return e((_p(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Go),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Qme(t,a/r))},n.copy=function(){return dV(e).domain(t)},Za.apply(n,arguments)}function gx(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,c=Gn,u,d=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+u(y))-a)*(r*y<r*a?s:l),c(d?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,n]=y,i=u(t=+t),a=u(e=+e),o=u(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(y){return arguments.length?(d=!!y,p):d},p.interpolator=function(y){return arguments.length?(c=y,p):c};function g(y){return function(v){var x,b,w;return arguments.length?([x,b,w]=v,c=_ge(y,[x,b,w]),p):[c(0),c(.5),c(1)]}}return p.range=g(Qu),p.rangeRound=g(KT),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return u=y,i=y(t),a=y(e),o=y(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p}}function fV(){var t=gs(gx()(Gn));return t.copy=function(){return ys(t,fV())},Za.apply(t,arguments)}function hV(){var t=JT(gx()).domain([.1,1,10]);return t.copy=function(){return ys(t,hV()).base(t.base())},Za.apply(t,arguments)}function pV(){var t=ZT(gx());return t.copy=function(){return ys(t,pV()).constant(t.constant())},Za.apply(t,arguments)}function dP(){var t=eP(gx());return t.copy=function(){return ys(t,dP()).exponent(t.exponent())},Za.apply(t,arguments)}function dye(){return dP.apply(null,arguments).exponent(.5)}const Oj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:gh,scaleDiverging:fV,scaleDivergingLog:hV,scaleDivergingPow:dP,scaleDivergingSqrt:dye,scaleDivergingSymlog:pV,scaleIdentity:HF,scaleImplicit:$_,scaleLinear:wh,scaleLog:KF,scaleOrdinal:WT,scalePoint:Ef,scalePow:tP,scaleQuantile:XF,scaleQuantize:JF,scaleRadial:QF,scaleSequential:lV,scaleSequentialLog:cV,scaleSequentialPow:uP,scaleSequentialQuantile:dV,scaleSequentialSqrt:uye,scaleSequentialSymlog:uV,scaleSqrt:Wge,scaleSymlog:YF,scaleThreshold:ZF,scaleTime:lye,scaleUtc:cye,tickFormat:WF},Symbol.toStringTag,{value:"Module"}));var fye=Vu;function hye(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!fye(o):n(o,s)))var s=o,l=a}return l}var mV=hye;function pye(t,e){return t>e}var mye=pye,gye=mV,yye=mye,vye=Ku;function xye(t){return t&&t.length?gye(t,vye,yye):void 0}var bye=xye;const No=gt(bye);function wye(t,e){return t<e}var _ye=wye,Sye=mV,Eye=_ye,kye=Ku;function Tye(t){return t&&t.length?Sye(t,kye,Eye):void 0}var Pye=Tye;const yx=gt(Pye);var Aye=kT,Nye=ms,Iye=EF,Oye=pr;function Cye(t,e){var n=Oye(t)?Aye:Iye;return n(t,Nye(e))}var jye=Cye,Rye=_F,Mye=jye;function Dye(t,e){return Rye(Mye(t,e),1)}var $ye=Dye;const Lye=gt($ye);var Fye=VT;function Vye(t,e){return Fye(t,e)}var Uye=Vye;const _h=gt(Uye);var Xu=1e9,Bye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},hP,It=!0,ei="[DecimalError] ",tl=ei+"Invalid argument: ",fP=ei+"Exponent out of range: ",Ju=Math.floor,Ms=Math.pow,zye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wr,hn=1e7,kt=7,gV=9007199254740991,q0=Ju(gV/kt),Ee={};Ee.absoluteValue=Ee.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ee.comparedTo=Ee.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*kt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ee.dividedBy=Ee.div=function(t){return Ra(this,new this.constructor(t))};Ee.dividedToIntegerBy=Ee.idiv=function(t){var e=this,n=e.constructor;return mt(Ra(e,new n(t),0,1),n.precision)};Ee.equals=Ee.eq=function(t){return!this.cmp(t)};Ee.exponent=function(){return en(this)};Ee.greaterThan=Ee.gt=function(t){return this.cmp(t)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(t){return this.cmp(t)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(t){return this.cmp(t)<0};Ee.lessThanOrEqualTo=Ee.lte=function(t){return this.cmp(t)<1};Ee.logarithm=Ee.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(wr))throw Error(ei+"NaN");if(n.s<1)throw Error(ei+(n.s?"NaN":"-Infinity"));return n.eq(wr)?new r(0):(It=!1,e=Ra(Sh(n,a),Sh(t,a),a),It=!0,mt(e,i))};Ee.minus=Ee.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?xV(e,t):yV(e,(t.s=-t.s,t))};Ee.modulo=Ee.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ei+"NaN");return n.s?(It=!1,e=Ra(n,t,0,1).times(t),It=!0,n.minus(e)):mt(new r(n),i)};Ee.naturalExponential=Ee.exp=function(){return vV(this)};Ee.naturalLogarithm=Ee.ln=function(){return Sh(this)};Ee.negated=Ee.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ee.plus=Ee.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?yV(e,t):xV(e,(t.s=-t.s,t))};Ee.precision=Ee.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(tl+t);if(e=en(i)+1,r=i.d.length-1,n=r*kt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ee.squareRoot=Ee.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(ei+"NaN")}for(t=en(s),It=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=qi(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ju((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(Ra(s,a,o+2)).times(.5),qi(a.d).slice(0,o)===(e=qi(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(mt(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return It=!0,mt(r,n)};Ee.times=Ee.mul=function(t){var e,n,r,i,a,o,s,l,c,u=this,d=u.constructor,h=u.d,p=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,n=u.e+t.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,o=l,l=c,c=o),a=[],o=l+c,r=o;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+p[r]*h[i-r-1]+e,a[i--]=s%hn|0,e=s/hn|0;a[i]=(a[i]+e)%hn|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,It?mt(t,d.precision):t};Ee.toDecimalPlaces=Ee.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ia(t,0,Xu),e===void 0?e=r.rounding:ia(e,0,8),mt(n,t+en(n)+1,e))};Ee.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=yl(r,!0):(ia(t,0,Xu),e===void 0?e=i.rounding:ia(e,0,8),r=mt(new i(r),t+1,e),n=yl(r,!0,t+1)),n};Ee.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?yl(i):(ia(t,0,Xu),e===void 0?e=a.rounding:ia(e,0,8),r=mt(new a(i),t+en(i)+1,e),n=yl(r.abs(),!1,t+en(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ee.toInteger=Ee.toint=function(){var t=this,e=t.constructor;return mt(new e(t),en(t)+1,e.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(wr);if(s=new l(s),!s.s){if(t.s<1)throw Error(ei+"Infinity");return s}if(s.eq(wr))return s;if(r=l.precision,t.eq(wr))return mt(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=u<0?-u:u)<=gV){for(i=new l(wr),e=Math.ceil(r/kt+4),It=!1;n%2&&(i=i.times(s),jj(i.d,e)),n=Ju(n/2),n!==0;)s=s.times(s),jj(s.d,e);return It=!0,t.s<0?new l(wr).div(i):mt(i,r)}}else if(a<0)throw Error(ei+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,It=!1,i=t.times(Sh(s,r+c)),It=!0,i=vV(i),i.s=a,i};Ee.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=en(i),r=yl(i,n<=a.toExpNeg||n>=a.toExpPos)):(ia(t,1,Xu),e===void 0?e=a.rounding:ia(e,0,8),i=mt(new a(i),t,e),n=en(i),r=yl(i,t<=n||n<=a.toExpNeg,t)),r};Ee.toSignificantDigits=Ee.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ia(t,1,Xu),e===void 0?e=r.rounding:ia(e,0,8)),mt(new r(n),t,e)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=en(t),n=t.constructor;return yl(t,e<=n.toExpNeg||e>=n.toExpPos)};function yV(t,e){var n,r,i,a,o,s,l,c,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),It?mt(e,d):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=c.length):(r=c,i=o,s=l.length),o=Math.ceil(d/kt),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/hn|0,l[a]%=hn;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,It?mt(e,d):e}function ia(t,e,n){if(t!==~~t||t<e||t>n)throw Error(tl+t)}function qi(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=kt-r.length,n&&(a+=mo(n)),a+=r;o=t[e],r=o+"",n=kt-r.length,n&&(a+=mo(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Ra=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%hn|0,o=a/hn|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*hn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,c,u,d,h,p,g,y,v,x,b,w,E,S,P,_,k,A=r.constructor,I=r.s==i.s?1:-1,O=r.d,C=i.d;if(!r.s)return new A(r);if(!i.s)throw Error(ei+"Division by zero");for(l=r.e-i.e,_=C.length,S=O.length,p=new A(I),g=p.d=[],c=0;C[c]==(O[c]||0);)++c;if(C[c]>(O[c]||0)&&--l,a==null?b=a=A.precision:o?b=a+(en(r)-en(i))+1:b=a,b<0)return new A(0);if(b=b/kt+2|0,c=0,_==1)for(u=0,C=C[0],b++;(c<S||u)&&b--;c++)w=u*hn+(O[c]||0),g[c]=w/C|0,u=w%C|0;else{for(u=hn/(C[0]+1)|0,u>1&&(C=t(C,u),O=t(O,u),_=C.length,S=O.length),E=_,y=O.slice(0,_),v=y.length;v<_;)y[v++]=0;k=C.slice(),k.unshift(0),P=C[0],C[1]>=hn/2&&++P;do u=0,s=e(C,y,_,v),s<0?(x=y[0],_!=v&&(x=x*hn+(y[1]||0)),u=x/P|0,u>1?(u>=hn&&(u=hn-1),d=t(C,u),h=d.length,v=y.length,s=e(d,y,h,v),s==1&&(u--,n(d,_<h?k:C,h))):(u==0&&(s=u=1),d=C.slice()),h=d.length,h<v&&d.unshift(0),n(y,d,v),s==-1&&(v=y.length,s=e(C,y,_,v),s<1&&(u++,n(y,_<v?k:C,v))),v=y.length):s===0&&(u++,y=[0]),g[c++]=u,s&&y[0]?y[v++]=O[E]||0:(y=[O[E]],v=1);while((E++<S||y[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=l,mt(p,o?a+en(p)+1:a)}}();function vV(t,e){var n,r,i,a,o,s,l=0,c=0,u=t.constructor,d=u.precision;if(en(t)>16)throw Error(fP+en(t));if(!t.s)return new u(wr);for(It=!1,s=d,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(r=Math.log(Ms(2,c))/Math.LN10*2+5|0,s+=r,n=i=a=new u(wr),u.precision=s;;){if(i=mt(i.times(t),s),n=n.times(++l),o=a.plus(Ra(i,n,s)),qi(o.d).slice(0,s)===qi(a.d).slice(0,s)){for(;c--;)a=mt(a.times(a),s);return u.precision=d,e==null?(It=!0,mt(a,d)):a}a=o}}function en(t){for(var e=t.e*kt,n=t.d[0];n>=10;n/=10)e++;return e}function dw(t,e,n){if(e>t.LN10.sd())throw It=!0,n&&(t.precision=n),Error(ei+"LN10 precision limit exceeded");return mt(new t(t.LN10),e)}function mo(t){for(var e="";t--;)e+="0";return e}function Sh(t,e){var n,r,i,a,o,s,l,c,u,d=1,h=10,p=t,g=p.d,y=p.constructor,v=y.precision;if(p.s<1)throw Error(ei+(p.s?"NaN":"-Infinity"));if(p.eq(wr))return new y(0);if(e==null?(It=!1,c=v):c=e,p.eq(10))return e==null&&(It=!0),dw(y,c);if(c+=h,y.precision=c,n=qi(g),r=n.charAt(0),a=en(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=qi(p.d),r=n.charAt(0),d++;a=en(p),r>1?(p=new y("0."+n),a++):p=new y(r+"."+n.slice(1))}else return l=dw(y,c+2,v).times(a+""),p=Sh(new y(r+"."+n.slice(1)),c-h).plus(l),y.precision=v,e==null?(It=!0,mt(p,v)):p;for(s=o=p=Ra(p.minus(wr),p.plus(wr),c),u=mt(p.times(p),c),i=3;;){if(o=mt(o.times(u),c),l=s.plus(Ra(o,new y(i),c)),qi(l.d).slice(0,c)===qi(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(dw(y,c+2,v).times(a+""))),s=Ra(s,new y(d),c),y.precision=v,e==null?(It=!0,mt(s,v)):s;s=l,i+=2}}function Cj(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ju(n/kt),t.d=[],r=(n+1)%kt,n<0&&(r+=kt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=kt;r<i;)t.d.push(+e.slice(r,r+=kt));e=e.slice(r),r=kt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),It&&(t.e>q0||t.e<-q0))throw Error(fP+n)}else t.s=0,t.e=0,t.d=[0];return t}function mt(t,e,n){var r,i,a,o,s,l,c,u,d=t.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=kt,i=e,c=d[u=0];else{if(u=Math.ceil((r+1)/kt),a=d.length,u>=a)return t;for(c=a=d[u],o=1;a>=10;a/=10)o++;r%=kt,i=r-kt+o}if(n!==void 0&&(a=Ms(10,o-i-1),s=c/a%10|0,l=e<0||d[u+1]!==void 0||c%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/Ms(10,o-i):0:d[u-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(a=en(t),d.length=1,e=e-a-1,d[0]=Ms(10,(kt-e%kt)%kt),t.e=Ju(-e/kt)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=u,a=1,u--):(d.length=u+1,a=Ms(10,kt-r),d[u]=i>0?(c/Ms(10,o-i)%Ms(10,i)|0)*a:0),l)for(;;)if(u==0){(d[0]+=a)==hn&&(d[0]=1,++t.e);break}else{if(d[u]+=a,d[u]!=hn)break;d[u--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(It&&(t.e>q0||t.e<-q0))throw Error(fP+en(t));return t}function xV(t,e){var n,r,i,a,o,s,l,c,u,d,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),It?mt(e,p):e;if(l=t.d,d=e.d,r=e.e,c=t.e,l=l.slice(),o=c-r,o){for(u=o<0,u?(n=l,o=-o,s=d.length):(n=d,r=c,s=l.length),i=Math.max(Math.ceil(p/kt),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}o=0}for(u&&(n=l,l=d,d=n,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=hn-1;--l[a],l[i]+=hn}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,It?mt(e,p):e):new h(0)}function yl(t,e,n){var r,i=en(t),a=qi(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+mo(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+mo(-i-1)+a,n&&(r=n-o)>0&&(a+=mo(r))):i>=o?(a+=mo(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+mo(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=mo(r))),t.s<0?"-"+a:a}function jj(t,e){if(t.length>e)return t.length=e,!0}function bV(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(tl+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return Cj(o,a.toString())}else if(typeof a!="string")throw Error(tl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,zye.test(a))Cj(o,a);else throw Error(tl+a)}if(i.prototype=Ee,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=bV,i.config=i.set=qye,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function qye(t){if(!t||typeof t!="object")throw Error(ei+"Object expected");var e,n,r,i=["precision",1,Xu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ju(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(tl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(tl+n+": "+r);return this}var hP=bV(Bye);wr=new hP(1);const ut=hP;function Wye(t){return Yye(t)||Kye(t)||Gye(t)||Hye()}function Hye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gye(t,e){if(t){if(typeof t=="string")return U_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U_(t,e)}}function Kye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Yye(t){if(Array.isArray(t))return U_(t)}function U_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Qye=function(e){return e},wV={},_V=function(e){return e===wV},Rj=function(e){return function n(){return arguments.length===0||arguments.length===1&&_V(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Xye=function t(e,n){return e===1?n:Rj(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==wV}).length;return o>=e?n.apply(void 0,i):t(e-o,Rj(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(function(d){return _V(d)?l.shift():d});return n.apply(void 0,Wye(u).concat(l))}))})},vx=function(e){return Xye(e.length,e)},B_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Jye=vx(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Zye=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Qye;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},z_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},SV=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function eve(t){var e;return t===0?e=1:e=Math.floor(new ut(t).abs().log(10).toNumber())+1,e}function tve(t,e,n){for(var r=new ut(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var nve=vx(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),rve=vx(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),ive=vx(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const xx={rangeStep:tve,getDigitCount:eve,interpolateNumber:nve,uninterpolateNumber:rve,uninterpolateTruncation:ive};function q_(t){return sve(t)||ove(t)||EV(t)||ave()}function ave(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ove(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function sve(t){if(Array.isArray(t))return W_(t)}function Eh(t,e){return uve(t)||cve(t,e)||EV(t,e)||lve()}function lve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EV(t,e){if(t){if(typeof t=="string")return W_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W_(t,e)}}function W_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cve(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function uve(t){if(Array.isArray(t))return t}function kV(t){var e=Eh(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function TV(t,e,n){if(t.lte(0))return new ut(0);var r=xx.getDigitCount(t.toNumber()),i=new ut(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new ut(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new ut(Math.ceil(l))}function dve(t,e,n){var r=1,i=new ut(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new ut(10).pow(xx.getDigitCount(t)-1),i=new ut(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new ut(Math.floor(t)))}else t===0?i=new ut(Math.floor((e-1)/2)):n||(i=new ut(Math.floor(t)));var o=Math.floor((e-1)/2),s=Zye(Jye(function(l){return i.add(new ut(l-o).mul(r)).toNumber()}),B_);return s(0,e)}function PV(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new ut(0),tickMin:new ut(0),tickMax:new ut(0)};var a=TV(new ut(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new ut(0):(o=new ut(t).add(e).div(2),o=o.sub(new ut(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new ut(e).sub(o).div(a).toNumber()),c=s+l+1;return c>n?PV(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,s=e>0?s:s+(n-c)),{step:a,tickMin:o.sub(new ut(s).mul(a)),tickMax:o.add(new ut(l).mul(a))})}function fve(t){var e=Eh(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=kV([n,r]),l=Eh(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(q_(B_(0,i-1).map(function(){return 1/0}))):[].concat(q_(B_(0,i-1).map(function(){return-1/0})),[u]);return n>r?z_(d):d}if(c===u)return dve(c,i,a);var h=PV(c,u,o,a),p=h.step,g=h.tickMin,y=h.tickMax,v=xx.rangeStep(g,y.add(new ut(.1).mul(p)),p);return n>r?z_(v):v}function hve(t,e){var n=Eh(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=kV([r,i]),s=Eh(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),d=TV(new ut(c).sub(l).div(u-1),a,0),h=[].concat(q_(xx.rangeStep(new ut(l),new ut(c).sub(new ut(.99).mul(d)),d)),[c]);return r>i?z_(h):h}var pve=SV(fve),mve=SV(hve),gve="Invariant failed";function vl(t,e){throw new Error(gve)}var yve=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function W0(){return W0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W0.apply(this,arguments)}function vve(t,e){return _ve(t)||wve(t,e)||bve(t,e)||xve()}function xve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bve(t,e){if(t){if(typeof t=="string")return Mj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mj(t,e)}}function Mj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function _ve(t){if(Array.isArray(t))return t}function Sve(t,e){if(t==null)return{};var n=Eve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Eve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IV(r.key),r)}}function Pve(t,e,n){return e&&Tve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ave(t,e,n){return e=H0(e),Nve(t,AV()?Reflect.construct(e,n||[],H0(t).constructor):e.apply(t,n))}function Nve(t,e){if(e&&(ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ive(t)}function Ive(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AV=function(){return!!t})()}function H0(t){return H0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},H0(t)}function Ove(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H_(t,e)}function H_(t,e){return H_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},H_(t,e)}function NV(t,e,n){return e=IV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IV(t){var e=Cve(t,"string");return ou(e)=="symbol"?e:e+""}function Cve(t,e){if(ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bx=function(t){function e(){return kve(this,e),Ave(this,e,arguments)}return Ove(e,t),Pve(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,d=r.yAxis,h=Sve(r,yve),p=We(h,!1);this.props.direction==="x"&&u.type!=="number"&&vl();var g=l.map(function(y){var v=c(y,s),x=v.x,b=v.y,w=v.value,E=v.errorVal;if(!E)return null;var S=[],P,_;if(Array.isArray(E)){var k=vve(E,2);P=k[0],_=k[1]}else P=_=E;if(a==="vertical"){var A=u.scale,I=b+i,O=I+o,C=I-o,j=A(w-P),M=A(w+_);S.push({x1:M,y1:O,x2:M,y2:C}),S.push({x1:j,y1:I,x2:M,y2:I}),S.push({x1:j,y1:O,x2:j,y2:C})}else if(a==="horizontal"){var D=d.scale,L=x+i,B=L-o,V=L+o,U=D(w-P),F=D(w+_);S.push({x1:B,y1:F,x2:V,y2:F}),S.push({x1:L,y1:U,x2:L,y2:F}),S.push({x1:B,y1:U,x2:V,y2:U})}return z.createElement(jt,W0({className:"recharts-errorBar",key:"bar-".concat(S.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},p),S.map(function(G){return z.createElement("line",W0({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return z.createElement(jt,{className:"recharts-errorBars"},g)}}])}(z.Component);NV(bx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});NV(bx,"displayName","ErrorBar");function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function Dj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ps(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dj(Object(n),!0).forEach(function(r){jve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jve(t,e,n){return e=Rve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rve(t){var e=Mve(t,"string");return kh(e)=="symbol"?e:e+""}function Mve(t,e){if(kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OV=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=vr(n,Ic);if(!o)return null;var s=Ic.defaultProps,l=s!==void 0?Ps(Ps({},s),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:a==="children"?c=(r||[]).reduce(function(u,d){var h=d.item,p=d.props,g=p.sectors||p.data||[];return u.concat(g.map(function(y){return{type:o.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):c=(r||[]).map(function(u){var d=u.item,h=d.type.defaultProps,p=h!==void 0?Ps(Ps({},h),d.props):{},g=p.dataKey,y=p.name,v=p.legendType,x=p.hide;return{inactive:x,dataKey:g,type:l.iconType||v||"square",color:pP(d),value:y||g,payload:p}}),Ps(Ps(Ps({},l),Ic.getWithHeight(o,i)),{},{payload:c,item:o})};function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function $j(t){return Fve(t)||Lve(t)||$ve(t)||Dve()}function Dve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ve(t,e){if(t){if(typeof t=="string")return G_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G_(t,e)}}function Lve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fve(t){if(Array.isArray(t))return G_(t)}function G_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lj(Object(n),!0).forEach(function(r){Cc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cc(t,e,n){return e=Vve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vve(t){var e=Uve(t,"string");return Th(e)=="symbol"?e:e+""}function Uve(t,e){if(Th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nr(t,e,n){return Qe(t)||Qe(e)?n:ln(e)?Qr(t,e,n):Ue(e)?e(t):n}function kf(t,e,n,r){var i=Lye(t,function(s){return Nr(s,e)});if(n==="number"){var a=i.filter(function(s){return ge(s)||parseFloat(s)});return a.length?[yx(a),No(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!Qe(s)}):i;return o.map(function(s){return ln(s)||s instanceof Date?s:""})}var Bve=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<s;c++){var u=c>0?i[c-1].coordinate:i[s-1].coordinate,d=i[c].coordinate,h=c>=s-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(vi(d-u)!==vi(h-d)){var g=[];if(vi(h-d)===vi(l[1]-l[0])){p=h;var y=d+l[1]-l[0];g[0]=Math.min(y,(y+u)/2),g[1]=Math.max(y,(y+u)/2)}else{p=u;var v=h+l[1]-l[0];g[0]=Math.min(d,(v+d)/2),g[1]=Math.max(d,(v+d)/2)}var x=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>x[0]&&e<=x[1]||e>=g[0]&&e<=g[1]){o=i[c].index;break}}else{var b=Math.min(u,h),w=Math.max(u,h);if(e>(b+d)/2&&e<=(w+d)/2){o=i[c].index;break}}}else for(var E=0;E<s;E++)if(E===0&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E>0&&E<s-1&&e>(r[E].coordinate+r[E-1].coordinate)/2&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E===s-1&&e>(r[E].coordinate+r[E-1].coordinate)/2){o=r[E].index;break}return o},pP=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Ut(Ut({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},zve=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,c=s.length;l<c;l++)for(var u=a[s[l]].stackGroups,d=Object.keys(u),h=0,p=d.length;h<p;h++){var g=u[d[h]],y=g.items,v=g.cateAxisId,x=y.filter(function(_){return Ca(_.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,w=b!==void 0?Ut(Ut({},b),x[0].props):x[0].props,E=w.barSize,S=w[v];o[S]||(o[S]=[]);var P=Qe(E)?n:E;o[S].push({item:x[0],stackList:x.slice(1),barSize:Qe(P)?void 0:gl(P,r,0)})}}return o},qve=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var c=gl(n,i,0,!0),u,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/l,g=o.reduce(function(E,S){return E+S.barSize||0},0);g+=(l-1)*c,g>=i&&(g-=(l-1)*c,c=0),g>=i&&p>0&&(h=!0,p*=.9,g=l*p);var y=(i-g)/2>>0,v={offset:y-c,size:0};u=o.reduce(function(E,S){var P={item:S.item,position:{offset:v.offset+v.size+c,size:h?p:S.barSize}},_=[].concat($j(E),[P]);return v=_[_.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(k){_.push({item:k,position:v})}),_},d)}else{var x=gl(r,i,0,!0);i-2*x-(l-1)*c<=0&&(c=0);var b=(i-2*x-(l-1)*c)/l;b>1&&(b>>=0);var w=s===+s?Math.min(b,s):b;u=o.reduce(function(E,S,P){var _=[].concat($j(E),[{item:S.item,position:{offset:x+(b+c)*P+(b-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(k){_.push({item:k,position:_[_.length-1].position})}),_},d)}return u},Wve=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),c=OV({children:a,legendWidth:l});if(c){var u=i||{},d=u.width,h=u.height,p=c.align,g=c.verticalAlign,y=c.layout;if((y==="vertical"||y==="horizontal"&&g==="middle")&&p!=="center"&&ge(e[p]))return Ut(Ut({},e),{},Cc({},p,e[p]+(d||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&g!=="middle"&&ge(e[g]))return Ut(Ut({},e),{},Cc({},g,e[g]+(h||0)))}return e},Hve=function(e,n,r){return Qe(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},CV=function(e,n,r,i,a){var o=n.props.children,s=ki(o,bx).filter(function(c){return Hve(i,a,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var d=Nr(u,r);if(Qe(d))return c;var h=Array.isArray(d)?[yx(d),No(d)]:[d,d],p=l.reduce(function(g,y){var v=Nr(u,y,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},Gve=function(e,n,r,i,a){var o=n.map(function(s){return CV(e,s,r,a,i)}).filter(function(s){return!Qe(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},jV=function(e,n,r,i,a){var o=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&CV(e,l,c,i)||kf(e,c,r,a)});if(r==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},RV=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},MV=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},Aa=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?vi(s[0]-s[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(d){var h=a?a.indexOf(d):d;return{coordinate:i(h)+c,value:d,offset:c}});return u.filter(function(d){return!Wu(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+c,value:d,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,h){return{coordinate:i(d)+c,value:a?a[d]:d,index:h,offset:c}})},fw=new WeakMap,km=function(e,n){if(typeof n!="function")return e;fw.has(e)||fw.set(e,new WeakMap);var r=fw.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Kve=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:gh(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:wh(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Ef(),realScaleType:"point"}:a==="category"?{scale:gh(),realScaleType:"band"}:{scale:wh(),realScaleType:"linear"};if(ml(i)){var l="scale".concat(ix(i));return{scale:(Oj[l]||Ef)(),realScaleType:Oj[l]?l:"point"}}return Ue(i)?{scale:i}:{scale:Ef(),realScaleType:"point"}},Fj=1e-4,Yve=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-Fj,o=Math.max(i[0],i[1])+Fj,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},Qve=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Xve=function(e,n){if(!n||n.length!==2||!ge(n[0])||!ge(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!ge(e[0])||e[0]<r)&&(a[0]=r),(!ge(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},Jve=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=Wu(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},Zve=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=Wu(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},exe={sign:Jve,expand:poe,none:Jc,silhouette:moe,wiggle:goe,positive:Zve},txe=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=exe[r],o=hoe().keys(i).value(function(s,l){return+Nr(s,l,0)}).order(v_).offset(a);return o(e)},nxe=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},c=s.reduce(function(d,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Ut(Ut({},h.type.defaultProps),h.props):h.props,y=g.stackId,v=g.hide;if(v)return d;var x=g[r],b=d[x]||{hasStack:!1,stackGroups:{}};if(ln(y)){var w=b.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[y]=w}else b.stackGroups[bp("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Ut(Ut({},d),{},Cc({},x,b))},l),u={};return Object.keys(c).reduce(function(d,h){var p=c[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,v){var x=p.stackGroups[v];return Ut(Ut({},y),{},Cc({},v,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:txe(e,x.items,a)}))},g)}return Ut(Ut({},d),{},Cc({},h,p))},u)},rxe=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=pve(c,a,s);return e.domain([yx(u),No(u)]),{niceTicks:u}}if(a&&i==="number"){var d=e.domain(),h=mve(d,a,s);return{niceTicks:h}}return null};function Vj(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Qe(i[e.dataKey])){var s=y0(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=Nr(i,Qe(o)?e.dataKey:o);return Qe(l)?null:e.scale(l)}var Uj=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Nr(o,n.dataKey,n.domain[s]);return Qe(l)?null:n.scale(l)-a/2+i},ixe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},axe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ut(Ut({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(ln(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},oxe=function(e){return e.reduce(function(n,r){return[yx(r.concat([n[0]]).filter(ge)),No(r.concat([n[1]]).filter(ge))]},[1/0,-1/0])},DV=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(c,u){var d=oxe(u.slice(n,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Bj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,K_=function(e,n,r){if(Ue(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ge(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(Bj.test(e[0])){var a=+Bj.exec(e[0])[1];i[0]=n[0]-a}else Ue(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ge(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(zj.test(e[1])){var o=+zj.exec(e[1])[1];i[1]=n[1]+o}else Ue(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},G0=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=BT(n,function(d){return d.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var c=a[s],u=a[s-1];o=Math.min((c.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},qj=function(e,n,r){return!e||!e.length||_h(e,Qr(r,"type.defaultProps.domain"))?n:e},$V=function(e,n){var r=e.type.defaultProps?Ut(Ut({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return Ut(Ut({},We(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:pP(e),value:Nr(n,i),type:l,payload:n,chartType:c,hide:u})};function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function Wj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wj(Object(n),!0).forEach(function(r){sxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sxe(t,e,n){return e=lxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lxe(t){var e=cxe(t,"string");return Ph(e)=="symbol"?e:e+""}function cxe(t,e){if(Ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K0=Math.PI/180,uxe=function(e){return e*180/Math.PI},En=function(e,n,r,i){return{x:e+Math.cos(-K0*i)*r,y:n+Math.sin(-K0*i)*r}},dxe=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},fxe=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=dxe({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:s,angle:uxe(c),angleInRadian:c}},hxe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},pxe=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},Gj=function(e,n){var r=e.x,i=e.y,a=fxe({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,c=n.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var u=hxe(n),d=u.startAngle,h=u.endAngle,p=s,g;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=d}return g?Hj(Hj({},n),{},{radius:o,angle:pxe(p,n)}):null};function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}var mxe=["offset"];function gxe(t){return bxe(t)||xxe(t)||vxe(t)||yxe()}function yxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vxe(t,e){if(t){if(typeof t=="string")return Y_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y_(t,e)}}function xxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bxe(t){if(Array.isArray(t))return Y_(t)}function Y_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wxe(t,e){if(t==null)return{};var n=_xe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _xe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kj(Object(n),!0).forEach(function(r){Sxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sxe(t,e,n){return e=Exe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Exe(t){var e=kxe(t,"string");return Ah(e)=="symbol"?e:e+""}function kxe(t,e){if(Ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nh(){return Nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nh.apply(this,arguments)}var Txe=function(e){var n=e.value,r=e.formatter,i=Qe(e.children)?n:e.children;return Ue(r)?r(i):i},Pxe=function(e,n){var r=vi(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Axe=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,c=l.cx,u=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,y=l.clockWise,v=(d+h)/2,x=Pxe(p,g),b=x>=0?1:-1,w,E;i==="insideStart"?(w=p+b*o,E=y):i==="insideEnd"?(w=g-b*o,E=!y):i==="end"&&(w=g+b*o,E=y),E=x<=0?E:!E;var S=En(c,u,v,w),P=En(c,u,v,w+(E?1:-1)*359),_="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(E?0:1,`,
    `).concat(P.x,",").concat(P.y),k=Qe(e.id)?bp("recharts-radial-line-"):e.id;return z.createElement("text",Nh({},r,{dominantBaseline:"central",className:tt("recharts-radial-bar-label",s)}),z.createElement("defs",null,z.createElement("path",{id:k,d:_})),z.createElement("textPath",{xlinkHref:"#".concat(k)},n))},Nxe=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,d=a.endAngle,h=(u+d)/2;if(i==="outside"){var p=En(o,s,c+r,h),g=p.x,y=p.y;return{x:g,y,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,x=En(o,s,v,h),b=x.x,w=x.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Ixe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,c=o.width,u=o.height,d=u>=0?1:-1,h=d*i,p=d>0?"end":"start",g=d>0?"start":"end",y=c>=0?1:-1,v=y*i,x=y>0?"end":"start",b=y>0?"start":"end";if(a==="top"){var w={x:s+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:p};return an(an({},w),r?{height:Math.max(l-r.y,0),width:c}:{})}if(a==="bottom"){var E={x:s+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:g};return an(an({},E),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(a==="left"){var S={x:s-v,y:l+u/2,textAnchor:x,verticalAnchor:"middle"};return an(an({},S),r?{width:Math.max(S.x-r.x,0),height:u}:{})}if(a==="right"){var P={x:s+c+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return an(an({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:u}:{})}var _=r?{width:c,height:u}:{};return a==="insideLeft"?an({x:s+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},_):a==="insideRight"?an({x:s+c-v,y:l+u/2,textAnchor:x,verticalAnchor:"middle"},_):a==="insideTop"?an({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},_):a==="insideBottom"?an({x:s+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},_):a==="insideTopLeft"?an({x:s+v,y:l+h,textAnchor:b,verticalAnchor:g},_):a==="insideTopRight"?an({x:s+c-v,y:l+h,textAnchor:x,verticalAnchor:g},_):a==="insideBottomLeft"?an({x:s+v,y:l+u-h,textAnchor:b,verticalAnchor:p},_):a==="insideBottomRight"?an({x:s+c-v,y:l+u-h,textAnchor:x,verticalAnchor:p},_):Uu(a)&&(ge(a.x)||zs(a.x))&&(ge(a.y)||zs(a.y))?an({x:s+gl(a.x,c),y:l+gl(a.y,u),textAnchor:"end",verticalAnchor:"end"},_):an({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},_)},Oxe=function(e){return"cx"in e&&ge(e.cx)};function Mn(t){var e=t.offset,n=e===void 0?5:e,r=wxe(t,mxe),i=an({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,c=i.content,u=i.className,d=u===void 0?"":u,h=i.textBreakAll;if(!a||Qe(s)&&Qe(l)&&!R.isValidElement(c)&&!Ue(c))return null;if(R.isValidElement(c))return R.cloneElement(c,i);var p;if(Ue(c)){if(p=R.createElement(c,i),R.isValidElement(p))return p}else p=Txe(i);var g=Oxe(a),y=We(i,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Axe(i,p,y);var v=g?Nxe(i):Ixe(i);return z.createElement(j0,Nh({className:tt("recharts-label",d)},y,v,{breakAll:h}),p)}Mn.displayName="Label";var LV=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,d=e.x,h=e.y,p=e.top,g=e.left,y=e.width,v=e.height,x=e.clockWise,b=e.labelViewBox;if(b)return b;if(ge(y)&&ge(v)){if(ge(d)&&ge(h))return{x:d,y:h,width:y,height:v};if(ge(p)&&ge(g))return{x:p,y:g,width:y,height:v}}return ge(d)&&ge(h)?{x:d,y:h,width:0,height:0}:ge(n)&&ge(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:x}:e.viewBox?e.viewBox:{}},Cxe=function(e,n){return e?e===!0?z.createElement(Mn,{key:"label-implicit",viewBox:n}):ln(e)?z.createElement(Mn,{key:"label-implicit",viewBox:n,value:e}):R.isValidElement(e)?e.type===Mn?R.cloneElement(e,{key:"label-implicit",viewBox:n}):z.createElement(Mn,{key:"label-implicit",content:e,viewBox:n}):Ue(e)?z.createElement(Mn,{key:"label-implicit",content:e,viewBox:n}):Uu(e)?z.createElement(Mn,Nh({viewBox:n},e,{key:"label-implicit"})):null:null},jxe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=LV(e),o=ki(i,Mn).map(function(l,c){return R.cloneElement(l,{viewBox:n||a,key:"label-".concat(c)})});if(!r)return o;var s=Cxe(e.label,n||a);return[s].concat(gxe(o))};Mn.parseViewBox=LV;Mn.renderCallByParent=jxe;function Rxe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Mxe=Rxe;const Dxe=gt(Mxe);function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}var $xe=["valueAccessor"],Lxe=["data","dataKey","clockWise","id","textBreakAll"];function Fxe(t){return zxe(t)||Bxe(t)||Uxe(t)||Vxe()}function Vxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uxe(t,e){if(t){if(typeof t=="string")return Q_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q_(t,e)}}function Bxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zxe(t){if(Array.isArray(t))return Q_(t)}function Q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Y0(){return Y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y0.apply(this,arguments)}function Yj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yj(Object(n),!0).forEach(function(r){qxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qxe(t,e,n){return e=Wxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wxe(t){var e=Hxe(t,"string");return Ih(e)=="symbol"?e:e+""}function Hxe(t,e){if(Ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xj(t,e){if(t==null)return{};var n=Gxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Kxe=function(e){return Array.isArray(e.value)?Dxe(e.value):e.value};function Ko(t){var e=t.valueAccessor,n=e===void 0?Kxe:e,r=Xj(t,$xe),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,c=Xj(r,Lxe);return!i||!i.length?null:z.createElement(jt,{className:"recharts-label-list"},i.map(function(u,d){var h=Qe(a)?n(u,d):Nr(u&&u.payload,a),p=Qe(s)?{}:{id:"".concat(s,"-").concat(d)};return z.createElement(Mn,Y0({},We(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Mn.parseViewBox(Qe(o)?u:Qj(Qj({},u),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}Ko.displayName="LabelList";function Yxe(t,e){return t?t===!0?z.createElement(Ko,{key:"labelList-implicit",data:e}):z.isValidElement(t)||Ue(t)?z.createElement(Ko,{key:"labelList-implicit",data:e,content:t}):Uu(t)?z.createElement(Ko,Y0({data:e},t,{key:"labelList-implicit"})):null:null}function Qxe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ki(r,Ko).map(function(o,s){return R.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=Yxe(t.label,e);return[a].concat(Fxe(i))}Ko.renderCallByParent=Qxe;function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function X_(){return X_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X_.apply(this,arguments)}function Jj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jj(Object(n),!0).forEach(function(r){Xxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xxe(t,e,n){return e=Jxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jxe(t){var e=Zxe(t,"string");return Oh(e)=="symbol"?e:e+""}function Zxe(t,e){if(Oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ebe=function(e,n){var r=vi(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Tm=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(s?1:-1)+i,d=Math.asin(l/u)/K0,h=c?a:a+o*d,p=En(n,r,u,h),g=En(n,r,i,h),y=c?a-o*d:a,v=En(n,r,u*Math.cos(d*K0),y);return{center:p,circleTangency:g,lineTangency:v,theta:d}},FV=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=ebe(o,s),c=o+l,u=En(n,r,a,o),d=En(n,r,a,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var p=En(n,r,i,o),g=En(n,r,i,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},tbe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,d=vi(u-c),h=Tm({cx:n,cy:r,radius:a,angle:c,sign:d,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,y=h.theta,v=Tm({cx:n,cy:r,radius:a,angle:u,sign:-d,cornerRadius:o,cornerIsExternal:l}),x=v.circleTangency,b=v.lineTangency,w=v.theta,E=l?Math.abs(c-u):Math.abs(c-u)-y-w;if(E<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):FV({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(E>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var P=Tm({cx:n,cy:r,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),_=P.circleTangency,k=P.lineTangency,A=P.theta,I=Tm({cx:n,cy:r,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),O=I.circleTangency,C=I.lineTangency,j=I.theta,M=l?Math.abs(c-u):Math.abs(c-u)-A-j;if(M<0&&o===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(M>180),",").concat(+(d>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},nbe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},VV=function(e){var n=Zj(Zj({},nbe),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,h=n.className;if(o<a||u===d)return null;var p=tt("recharts-sector",h),g=o-a,y=gl(s,g,0,!0),v;return y>0&&Math.abs(u-d)<360?v=tbe({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(y,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):v=FV({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:d}),z.createElement("path",X_({},We(n,!0),{className:p,d:v,role:"img"}))};function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function J_(){return J_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J_.apply(this,arguments)}function eR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(n),!0).forEach(function(r){rbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rbe(t,e,n){return e=ibe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ibe(t){var e=abe(t,"string");return Ch(e)=="symbol"?e:e+""}function abe(t,e){if(Ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nR={curveBasisClosed:noe,curveBasisOpen:roe,curveBasis:toe,curveBumpX:Uae,curveBumpY:Bae,curveLinearClosed:ioe,curveLinear:ox,curveMonotoneX:aoe,curveMonotoneY:ooe,curveNatural:soe,curveStep:loe,curveStepAfter:uoe,curveStepBefore:coe},Pm=function(e){return e.x===+e.x&&e.y===+e.y},Id=function(e){return e.x},Od=function(e){return e.y},obe=function(e,n){if(Ue(e))return e;var r="curve".concat(ix(e));return(r==="curveMonotone"||r==="curveBump")&&n?nR["".concat(r).concat(n==="vertical"?"Y":"X")]:nR[r]||ox},sbe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=obe(r,s),d=c?a.filter(function(y){return Pm(y)}):a,h;if(Array.isArray(o)){var p=c?o.filter(function(y){return Pm(y)}):o,g=d.map(function(y,v){return tR(tR({},y),{},{base:p[v]})});return s==="vertical"?h=ym().y(Od).x1(Id).x0(function(y){return y.base.x}):h=ym().x(Id).y1(Od).y0(function(y){return y.base.y}),h.defined(Pm).curve(u),h(g)}return s==="vertical"&&ge(o)?h=ym().y(Od).x1(Id).x0(o):ge(o)?h=ym().x(Id).y1(Od).y0(o):h=U6().x(Id).y(Od),h.defined(Pm).curve(u),h(d)},Tf=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?sbe(e):i;return R.createElement("path",J_({},We(e,!1),v0(e),{className:tt("recharts-curve",n),d:o,ref:a}))},UV={exports:{}},lbe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",cbe=lbe,ube=cbe;function BV(){}function zV(){}zV.resetWarningCache=BV;var dbe=function(){function t(r,i,a,o,s,l){if(l!==ube){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:zV,resetWarningCache:BV};return n.PropTypes=n,n};UV.exports=dbe();var fbe=UV.exports;const oe=gt(fbe),{getOwnPropertyNames:hbe,getOwnPropertySymbols:pbe}=Object,{hasOwnProperty:mbe}=Object.prototype;function hw(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Am(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);const l=t(n,r,i);return a.delete(n),a.delete(r),l}}function gbe(t){return t!=null?t[Symbol.toStringTag]:void 0}function rR(t){return hbe(t).concat(pbe(t))}const ybe=Object.hasOwn||((t,e)=>mbe.call(t,e));function Rl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const vbe="__v",xbe="__o",bbe="_owner",{getOwnPropertyDescriptor:iR,keys:aR}=Object;function wbe(t,e){return t.byteLength===e.byteLength&&Q0(new Uint8Array(t),new Uint8Array(e))}function _be(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Sbe(t,e){return t.byteLength===e.byteLength&&Q0(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Ebe(t,e){return Rl(t.getTime(),e.getTime())}function kbe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Tbe(t,e){return t===e}function oR(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let o,s,l=0;for(;(o=a.next())&&!o.done;){const c=e.entries();let u=!1,d=0;for(;(s=c.next())&&!s.done;){if(i[d]){d++;continue}const h=o.value,p=s.value;if(n.equals(h[0],p[0],l,d,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}const Pbe=Rl;function Abe(t,e,n){const r=aR(t);let i=r.length;if(aR(e).length!==i)return!1;for(;i-- >0;)if(!qV(t,e,n,r[i]))return!1;return!0}function Cd(t,e,n){const r=rR(t);let i=r.length;if(rR(e).length!==i)return!1;let a,o,s;for(;i-- >0;)if(a=r[i],!qV(t,e,n,a)||(o=iR(t,a),s=iR(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Nbe(t,e){return Rl(t.valueOf(),e.valueOf())}function Ibe(t,e){return t.source===e.source&&t.flags===e.flags}function sR(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let o,s;for(;(o=a.next())&&!o.done;){const l=e.values();let c=!1,u=0;for(;(s=l.next())&&!s.done;){if(!i[u]&&n.equals(o.value,s.value,o.value,s.value,t,e,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function Q0(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Obe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function qV(t,e,n,r){return(r===bbe||r===xbe||r===vbe)&&(t.$$typeof||e.$$typeof)?!0:ybe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Cbe="[object ArrayBuffer]",jbe="[object Arguments]",Rbe="[object Boolean]",Mbe="[object DataView]",Dbe="[object Date]",$be="[object Error]",Lbe="[object Map]",Fbe="[object Number]",Vbe="[object Object]",Ube="[object RegExp]",Bbe="[object Set]",zbe="[object String]",qbe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Wbe="[object URL]",Hbe=Object.prototype.toString;function Gbe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:g}){return function(v,x,b){if(v===x)return!0;if(v==null||x==null)return!1;const w=typeof v;if(w!==typeof x)return!1;if(w!=="object")return w==="number"?s(v,x,b):w==="function"?a(v,x,b):!1;const E=v.constructor;if(E!==x.constructor)return!1;if(E===Object)return l(v,x,b);if(Array.isArray(v))return e(v,x,b);if(E===Date)return r(v,x,b);if(E===RegExp)return u(v,x,b);if(E===Map)return o(v,x,b);if(E===Set)return d(v,x,b);const S=Hbe.call(v);if(S===Dbe)return r(v,x,b);if(S===Ube)return u(v,x,b);if(S===Lbe)return o(v,x,b);if(S===Bbe)return d(v,x,b);if(S===Vbe)return typeof v.then!="function"&&typeof x.then!="function"&&l(v,x,b);if(S===Wbe)return p(v,x,b);if(S===$be)return i(v,x,b);if(S===jbe)return l(v,x,b);if(qbe[S])return h(v,x,b);if(S===Cbe)return t(v,x,b);if(S===Mbe)return n(v,x,b);if(S===Rbe||S===Fbe||S===zbe)return c(v,x,b);if(g){let P=g[S];if(!P){const _=gbe(v);_&&(P=g[_])}if(P)return P(v,x,b)}return!1}}function Kbe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:wbe,areArraysEqual:n?Cd:_be,areDataViewsEqual:Sbe,areDatesEqual:Ebe,areErrorsEqual:kbe,areFunctionsEqual:Tbe,areMapsEqual:n?hw(oR,Cd):oR,areNumbersEqual:Pbe,areObjectsEqual:n?Cd:Abe,arePrimitiveWrappersEqual:Nbe,areRegExpsEqual:Ibe,areSetsEqual:n?hw(sR,Cd):sR,areTypedArraysEqual:n?hw(Q0,Cd):Q0,areUrlsEqual:Obe,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Am(r.areArraysEqual),a=Am(r.areMapsEqual),o=Am(r.areObjectsEqual),s=Am(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:s})}return r}function Ybe(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function Qbe({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:c=t?new WeakMap:void 0,meta:u}=n();return e(s,l,{cache:c,equals:r,meta:u,strict:i})};if(t)return function(s,l){return e(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return e(s,l,a)}}const Xbe=vs();vs({strict:!0});vs({circular:!0});vs({circular:!0,strict:!0});vs({createInternalComparator:()=>Rl});vs({strict:!0,createInternalComparator:()=>Rl});vs({circular:!0,createInternalComparator:()=>Rl});vs({circular:!0,createInternalComparator:()=>Rl,strict:!0});function vs(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=Kbe(t),o=Gbe(a),s=n?n(o):Ybe(o);return Qbe({circular:e,comparator:o,createState:r,equals:s,strict:i})}function Jbe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function lR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):Jbe(i)};requestAnimationFrame(r)}function Z_(t){"@babel/helpers - typeof";return Z_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z_(t)}function Zbe(t){return rwe(t)||nwe(t)||twe(t)||ewe()}function ewe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function twe(t,e){if(t){if(typeof t=="string")return cR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cR(t,e)}}function cR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rwe(t){if(Array.isArray(t))return t}function iwe(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=Zbe(o),l=s[0],c=s.slice(1);if(typeof l=="number"){lR(i.bind(null,c),l);return}i(l),lR(i.bind(null,c));return}Z_(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function uR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uR(Object(n),!0).forEach(function(r){WV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WV(t,e,n){return e=awe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function awe(t){var e=owe(t,"string");return jh(e)==="symbol"?e:String(e)}function owe(t,e){if(jh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var swe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},lwe=function(e){return e},cwe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Pf=function(e,n){return Object.keys(n).reduce(function(r,i){return dR(dR({},r),{},WV({},i,e(i,n[i])))},{})},fR=function(e,n,r){return e.map(function(i){return"".concat(cwe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function uwe(t,e){return hwe(t)||fwe(t,e)||HV(t,e)||dwe()}function dwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function hwe(t){if(Array.isArray(t))return t}function pwe(t){return ywe(t)||gwe(t)||HV(t)||mwe()}function mwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HV(t,e){if(t){if(typeof t=="string")return eS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eS(t,e)}}function gwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ywe(t){if(Array.isArray(t))return eS(t)}function eS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var X0=1e-4,GV=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},KV=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},hR=function(e,n){return function(r){var i=GV(e,n);return KV(i,r)}},vwe=function(e,n){return function(r){var i=GV(e,n),a=[].concat(pwe(i.map(function(o,s){return o*s}).slice(1)),[0]);return KV(a,r)}},pR=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=uwe(c,4);i=u[0],a=u[1],o=u[2],s=u[3]}}}var d=hR(i,o),h=hR(a,s),p=vwe(i,o),g=function(x){return x>1?1:x<0?0:x},y=function(x){for(var b=x>1?1:x,w=b,E=0;E<8;++E){var S=d(w)-b,P=p(w);if(Math.abs(S-b)<X0||P<X0)return h(w);w=g(w-S/P)}return h(w)};return y.isStepper=!1,y},xwe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(u,d,h){var p=-(u-d)*r,g=h*a,y=h+(p-g)*s/1e3,v=h*s/1e3+u;return Math.abs(v-d)<X0&&Math.abs(y)<X0?[d,0]:[v,y]};return l.isStepper=!0,l.dt=s,l},bwe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return pR(i);case"spring":return xwe();default:if(i.split("(")[0]==="cubic-bezier")return pR(i)}return typeof i=="function"?i:null};function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function mR(t){return Swe(t)||_we(t)||YV(t)||wwe()}function wwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _we(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Swe(t){if(Array.isArray(t))return nS(t)}function gR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(n),!0).forEach(function(r){tS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tS(t,e,n){return e=Ewe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ewe(t){var e=kwe(t,"string");return Rh(e)==="symbol"?e:String(e)}function kwe(t,e){if(Rh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Twe(t,e){return Nwe(t)||Awe(t,e)||YV(t,e)||Pwe()}function Pwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YV(t,e){if(t){if(typeof t=="string")return nS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nS(t,e)}}function nS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Awe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Nwe(t){if(Array.isArray(t))return t}var J0=function(e,n,r){return e+(n-e)*r},rS=function(e){var n=e.from,r=e.to;return n!==r},Iwe=function t(e,n,r){var i=Pf(function(a,o){if(rS(o)){var s=e(o.from,o.to,o.velocity),l=Twe(s,2),c=l[0],u=l[1];return xn(xn({},o),{},{from:c,velocity:u})}return o},n);return r<1?Pf(function(a,o){return rS(o)?xn(xn({},o),{},{velocity:J0(o.velocity,i[a].velocity,r),from:J0(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const Owe=function(t,e,n,r,i){var a=swe(t,e),o=a.reduce(function(v,x){return xn(xn({},v),{},tS({},x,[t[x],e[x]]))},{}),s=a.reduce(function(v,x){return xn(xn({},v),{},tS({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,c,u,d=function(){return null},h=function(){return Pf(function(x,b){return b.from},s)},p=function(){return!Object.values(s).filter(rS).length},g=function(x){c||(c=x);var b=x-c,w=b/n.dt;s=Iwe(n,s,w),i(xn(xn(xn({},t),e),h())),c=x,p()||(l=requestAnimationFrame(d))},y=function(x){u||(u=x);var b=(x-u)/r,w=Pf(function(S,P){return J0.apply(void 0,mR(P).concat([n(b)]))},o);if(i(xn(xn(xn({},t),e),w)),b<1)l=requestAnimationFrame(d);else{var E=Pf(function(S,P){return J0.apply(void 0,mR(P).concat([n(1)]))},o);i(xn(xn(xn({},t),e),E))}};return d=n.isStepper?g:y,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}var Cwe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function jwe(t,e){if(t==null)return{};var n=Rwe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rwe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function pw(t){return Lwe(t)||$we(t)||Dwe(t)||Mwe()}function Mwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dwe(t,e){if(t){if(typeof t=="string")return iS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iS(t,e)}}function $we(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lwe(t){if(Array.isArray(t))return iS(t)}function iS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(n),!0).forEach(function(r){Kd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kd(t,e,n){return e=QV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QV(r.key),r)}}function Uwe(t,e,n){return e&&Vwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QV(t){var e=Bwe(t,"string");return su(e)==="symbol"?e:String(e)}function Bwe(t,e){if(su(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(su(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aS(t,e)}function aS(t,e){return aS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aS(t,e)}function qwe(t){var e=Wwe();return function(){var r=Z0(t),i;if(e){var a=Z0(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return oS(this,i)}}function oS(t,e){if(e&&(su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sS(t)}function sS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wwe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Z0(t){return Z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Z0(t)}var Ga=function(t){zwe(n,t);var e=qwe(n);function n(r,i){var a;Fwe(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,c=o.from,u=o.to,d=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(sS(a)),a.changeStyle=a.changeStyle.bind(sS(a)),!s||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:u}),oS(a);if(d&&d.length)a.state={style:d[0].style};else if(c){if(typeof h=="function")return a.state={style:c},oS(a);a.state={style:l?Kd({},l,c):c}}else a.state={style:{}};return a}return Uwe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,d=a.from,h=this.state.style;if(s){if(!o){var p={style:l?Kd({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(Xbe(i.to,u)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=g||c?d:i.to;if(this.state&&h){var v={style:l?Kd({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(v)}this.runAnimation(li(li({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,c=i.easing,u=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,p=Owe(o,s,bwe(c),l,this.changeStyle),g=function(){a.stopJSAnimation=p()};this.manager.start([h,u,g,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,c=o[0],u=c.style,d=c.duration,h=d===void 0?0:d,p=function(y,v,x){if(x===0)return y;var b=v.duration,w=v.easing,E=w===void 0?"ease":w,S=v.style,P=v.properties,_=v.onAnimationEnd,k=x>0?o[x-1]:v,A=P||Object.keys(S);if(typeof E=="function"||E==="spring")return[].concat(pw(y),[a.runJSAnimation.bind(a,{from:k.style,to:S,duration:b,easing:E}),b]);var I=fR(A,b,E),O=li(li(li({},k.style),S),{},{transition:I});return[].concat(pw(y),[O,b,_]).filter(lwe)};return this.manager.start([l].concat(pw(o.reduce(p,[u,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=iwe());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=s?Kd({},s,l):l,v=fR(Object.keys(y),o,c);g.start([u,a,li(li({},y),{},{transition:v}),o,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=jwe(i,Cwe),c=R.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!s||c===0||o<=0)return a;var d=function(p){var g=p.props,y=g.style,v=y===void 0?{}:y,x=g.className,b=R.cloneElement(p,li(li({},l),{},{style:li(li({},v),u),className:x}));return b};return c===1?d(R.Children.only(a)):z.createElement("div",null,R.Children.map(a,function(h){return d(h)}))}}]),n}(R.PureComponent);Ga.displayName="Animate";Ga.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ga.propTypes={from:oe.oneOfType([oe.object,oe.string]),to:oe.oneOfType([oe.object,oe.string]),attributeName:oe.string,duration:oe.number,begin:oe.number,easing:oe.oneOfType([oe.string,oe.func]),steps:oe.arrayOf(oe.shape({duration:oe.number.isRequired,style:oe.object.isRequired,easing:oe.oneOfType([oe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),oe.func]),properties:oe.arrayOf("string"),onAnimationEnd:oe.func})),children:oe.oneOfType([oe.node,oe.func]),isActive:oe.bool,canBegin:oe.bool,onAnimationEnd:oe.func,shouldReAnimate:oe.bool,onAnimationStart:oe.func,onAnimationReStart:oe.func};function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function ey(){return ey=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ey.apply(this,arguments)}function Hwe(t,e){return Qwe(t)||Ywe(t,e)||Kwe(t,e)||Gwe()}function Gwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kwe(t,e){if(t){if(typeof t=="string")return vR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vR(t,e)}}function vR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ywe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Qwe(t){if(Array.isArray(t))return t}function xR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(n),!0).forEach(function(r){Xwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xwe(t,e,n){return e=Jwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jwe(t){var e=Zwe(t,"string");return Mh(e)=="symbol"?e:e+""}function Zwe(t,e){if(Mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wR=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(o>0&&a instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=a[h]>o?o:a[h];u="M".concat(e,",").concat(n+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(n)),u+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+s*d[1])),u+="L ".concat(e+r,",").concat(n+i-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),u+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-s*d[3])),u+="Z"}else if(o>0&&a===+a&&a>0){var g=Math.min(o,a);u="M ".concat(e,",").concat(n+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r,",").concat(n+s*g,`
            L `).concat(e+r,",").concat(n+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e,",").concat(n+i-s*g," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},e1e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(a,a+s),u=Math.max(a,a+s),d=Math.min(o,o+l),h=Math.max(o,o+l);return r>=c&&r<=u&&i>=d&&i<=h}return!1},t1e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mP=function(e){var n=bR(bR({},t1e),e),r=R.useRef(),i=R.useState(-1),a=Hwe(i,2),o=a[0],s=a[1];R.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&s(E)}catch{}},[]);var l=n.x,c=n.y,u=n.width,d=n.height,h=n.radius,p=n.className,g=n.animationEasing,y=n.animationDuration,v=n.animationBegin,x=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var w=tt("recharts-rectangle",p);return b?z.createElement(Ga,{canBegin:o>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:y,animationEasing:g,isActive:b},function(E){var S=E.width,P=E.height,_=E.x,k=E.y;return z.createElement(Ga,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,isActive:x,easing:g},z.createElement("path",ey({},We(n,!0),{className:w,d:wR(_,k,S,P,h),ref:r})))}):z.createElement("path",ey({},We(n,!0),{className:w,d:wR(l,c,u,d,h)}))};function lS(){return lS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lS.apply(this,arguments)}var gP=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=tt("recharts-dot",a);return n===+n&&r===+r&&i===+i?R.createElement("circle",lS({},We(e,!1),v0(e),{className:o,cx:n,cy:r,r:i})):null};function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}var n1e=["x","y","top","left","width","height","className"];function cS(){return cS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cS.apply(this,arguments)}function _R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r1e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(n),!0).forEach(function(r){i1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i1e(t,e,n){return e=a1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a1e(t){var e=o1e(t,"string");return Dh(e)=="symbol"?e:e+""}function o1e(t,e){if(Dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s1e(t,e){if(t==null)return{};var n=l1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function l1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var c1e=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},u1e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,c=l===void 0?0:l,u=e.width,d=u===void 0?0:u,h=e.height,p=h===void 0?0:h,g=e.className,y=s1e(e,n1e),v=r1e({x:r,y:a,top:s,left:c,width:d,height:p},y);return!ge(r)||!ge(a)||!ge(d)||!ge(p)||!ge(s)||!ge(c)?null:z.createElement("path",cS({},We(v,!0),{className:tt("recharts-cross",g),d:c1e(r,a,d,p,s,c)}))},d1e=dF,f1e=d1e(Object.getPrototypeOf,Object),h1e=f1e,p1e=Xa,m1e=h1e,g1e=Ja,y1e="[object Object]",v1e=Function.prototype,x1e=Object.prototype,XV=v1e.toString,b1e=x1e.hasOwnProperty,w1e=XV.call(Object);function _1e(t){if(!g1e(t)||p1e(t)!=y1e)return!1;var e=m1e(t);if(e===null)return!0;var n=b1e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&XV.call(n)==w1e}var S1e=_1e;const E1e=gt(S1e);var k1e=Xa,T1e=Ja,P1e="[object Boolean]";function A1e(t){return t===!0||t===!1||T1e(t)&&k1e(t)==P1e}var N1e=A1e;const I1e=gt(N1e);function $h(t){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}function ty(){return ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ty.apply(this,arguments)}function O1e(t,e){return M1e(t)||R1e(t,e)||j1e(t,e)||C1e()}function C1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j1e(t,e){if(t){if(typeof t=="string")return SR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SR(t,e)}}function SR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function R1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function M1e(t){if(Array.isArray(t))return t}function ER(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(n),!0).forEach(function(r){D1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D1e(t,e,n){return e=$1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $1e(t){var e=L1e(t,"string");return $h(e)=="symbol"?e:e+""}function L1e(t,e){if($h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TR=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},F1e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},V1e=function(e){var n=kR(kR({},F1e),e),r=R.useRef(),i=R.useState(-1),a=O1e(i,2),o=a[0],s=a[1];R.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&s(w)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,d=n.lowerWidth,h=n.height,p=n.className,g=n.animationEasing,y=n.animationDuration,v=n.animationBegin,x=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||h!==+h||u===0&&d===0||h===0)return null;var b=tt("recharts-trapezoid",p);return x?z.createElement(Ga,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:h,x:l,y:c},duration:y,animationEasing:g,isActive:x},function(w){var E=w.upperWidth,S=w.lowerWidth,P=w.height,_=w.x,k=w.y;return z.createElement(Ga,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,easing:g},z.createElement("path",ty({},We(n,!0),{className:b,d:TR(_,k,E,S,P),ref:r})))}):z.createElement("g",null,z.createElement("path",ty({},We(n,!0),{className:b,d:TR(l,c,u,d,h)})))},U1e=["option","shapeType","propTransformer","activeClassName","isActive"];function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function B1e(t,e){if(t==null)return{};var n=z1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function z1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function PR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ny(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(n),!0).forEach(function(r){q1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q1e(t,e,n){return e=W1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W1e(t){var e=H1e(t,"string");return Lh(e)=="symbol"?e:e+""}function H1e(t,e){if(Lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function G1e(t,e){return ny(ny({},e),t)}function K1e(t,e){return t==="symbols"}function AR(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return z.createElement(mP,n);case"trapezoid":return z.createElement(V1e,n);case"sector":return z.createElement(VV,n);case"symbols":if(K1e(e))return z.createElement(RT,n);break;default:return null}}function Y1e(t){return R.isValidElement(t)?t.props:t}function Q1e(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?G1e:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=B1e(t,U1e),c;if(R.isValidElement(e))c=R.cloneElement(e,ny(ny({},l),Y1e(e)));else if(Ue(e))c=e(l);else if(E1e(e)&&!I1e(e)){var u=i(e,l);c=z.createElement(AR,{shapeType:n,elementProps:u})}else{var d=l;c=z.createElement(AR,{shapeType:n,elementProps:d})}return s?z.createElement(jt,{className:o},c):c}function wx(t,e){return e!=null&&"trapezoids"in t.props}function _x(t,e){return e!=null&&"sectors"in t.props}function Fh(t,e){return e!=null&&"points"in t.props}function X1e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function J1e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Z1e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function e_e(t,e){var n;return wx(t,e)?n=X1e:_x(t,e)?n=J1e:Fh(t,e)&&(n=Z1e),n}function t_e(t,e){var n;return wx(t,e)?n="trapezoids":_x(t,e)?n="sectors":Fh(t,e)&&(n="points"),n}function n_e(t,e){if(wx(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(_x(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Fh(t,e)?e.payload:{}}function r_e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=t_e(n,e),a=n_e(n,e),o=r.filter(function(l,c){var u=_h(a,l),d=n.props[i].filter(function(g){var y=e_e(n,e);return y(g,e)}),h=n.props[i].indexOf(d[d.length-1]),p=c===h;return u&&p}),s=r.indexOf(o[o.length-1]);return s}var i_e=Math.ceil,a_e=Math.max;function o_e(t,e,n,r){for(var i=-1,a=a_e(i_e((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var s_e=o_e,l_e=IF,NR=1/0,c_e=17976931348623157e292;function u_e(t){if(!t)return t===0?t:0;if(t=l_e(t),t===NR||t===-NR){var e=t<0?-1:1;return e*c_e}return t===t?t:0}var JV=u_e,d_e=s_e,f_e=ux,mw=JV;function h_e(t){return function(e,n,r){return r&&typeof r!="number"&&f_e(e,n,r)&&(n=r=void 0),e=mw(e),n===void 0?(n=e,e=0):n=mw(n),r=r===void 0?e<n?1:-1:mw(r),d_e(e,n,r,t)}}var p_e=h_e,m_e=p_e,g_e=m_e(),y_e=g_e;const ry=gt(y_e);function Vh(t){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(t)}function IR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(n),!0).forEach(function(r){ZV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZV(t,e,n){return e=v_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v_e(t){var e=x_e(t,"string");return Vh(e)=="symbol"?e:e+""}function x_e(t,e){if(Vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b_e=["Webkit","Moz","O","ms"],w_e=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=b_e.reduce(function(a,o){return OR(OR({},a),{},ZV({},o+r,n))},{});return i[e]=n,i};function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function iy(){return iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iy.apply(this,arguments)}function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){gr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function __e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t8(r.key),r)}}function S_e(t,e,n){return e&&jR(t.prototype,e),n&&jR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function E_e(t,e,n){return e=ay(e),k_e(t,e8()?Reflect.construct(e,n||[],ay(t).constructor):e.apply(t,n))}function k_e(t,e){if(e&&(lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T_e(t)}function T_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e8=function(){return!!t})()}function ay(t){return ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ay(t)}function P_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uS(t,e)}function uS(t,e){return uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uS(t,e)}function gr(t,e,n){return e=t8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t8(t){var e=A_e(t,"string");return lu(e)=="symbol"?e:e+""}function A_e(t,e){if(lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var N_e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=Ef().domain(ry(0,l)).range([a,a+o-s]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},RR=function(e){return e.changedTouches&&!!e.changedTouches.length},cu=function(t){function e(n){var r;return __e(this,e),r=E_e(this,e,[n]),gr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),gr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),gr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),gr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),gr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),gr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),gr(r,"handleSlideDragStart",function(i){var a=RR(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return P_e(e,t),S_e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,d=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(o,d),g=e.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Nr(a[r],s,r);return Ue(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,y=r.pageX-a;y>0?y=Math.min(y,c+u-d-s,c+u-d-o):y<0&&(y=Math.max(y,c-o,c-s));var v=this.getIndex({startX:o+y,endX:s+y});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:o+y,endX:s+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=RR(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[o],u=this.props,d=u.x,h=u.width,p=u.travellerWidth,g=u.onChange,y=u.gap,v=u.data,x={startX:this.state.startX,endX:this.state.endX},b=r.pageX-a;b>0?b=Math.min(b,d+h-p-c):b<0&&(b=Math.max(b,d-c)),x[o]=c+b;var w=this.getIndex(x),E=w.startIndex,S=w.endIndex,P=function(){var k=v.length-1;return o==="startX"&&(s>l?E%y===0:S%y===0)||s<l&&S===k||o==="endX"&&(s>l?S%y===0:E%y===0)||s>l&&S===k};this.setState(gr(gr({},o,c+b),"brushMoveStartX",r.pageX),function(){g&&P()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,u=this.state[i],d=s.indexOf(u);if(d!==-1){var h=d+r;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(gr({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,c=r.stroke;return z.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,c=r.children,u=r.padding,d=R.Children.only(c);return d?z.cloneElement(d,{x:i,y:a,width:o,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,y=l.startIndex,v=l.endIndex,x=Math.max(r,this.props.x),b=gw(gw({},We(this.props,!1)),{},{x,y:c,width:u,height:d}),w=p||"Min value: ".concat((a=g[y])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return z.createElement(jt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(r,i)+c,d=Math.max(Math.abs(i-r)-c,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:o,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,d=u.startX,h=u.endX,p=5,g={pointerEvents:"none",fill:c};return z.createElement(jt,{className:"recharts-brush-texts"},z.createElement(j0,iy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:o+s/2},g),this.getTextOfTick(i)),z.createElement(j0,iy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:o+s/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,c=r.width,u=r.height,d=r.alwaysShowText,h=this.state,p=h.startX,g=h.endX,y=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!ge(s)||!ge(l)||!ge(c)||!ge(u)||c<=0||u<=0)return null;var w=tt("recharts-brush",a),E=z.Children.count(o)===1,S=w_e("userSelect","none");return z.createElement(jt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(y||v||x||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,c=Math.floor(a+s/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),z.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return z.isValidElement(r)?a=z.cloneElement(r,i):Ue(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,d=r.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return gw({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},a&&a.length?N_e({data:a,width:o,x:s,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}(R.PureComponent);gr(cu,"displayName","Brush");gr(cu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var I_e=UT;function O_e(t,e){var n;return I_e(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var C_e=O_e,j_e=rF,R_e=ms,M_e=C_e,D_e=pr,$_e=ux;function L_e(t,e,n){var r=D_e(t)?j_e:M_e;return n&&$_e(t,e,n)&&(e=void 0),r(t,R_e(e))}var F_e=L_e;const V_e=gt(F_e);var ea=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},MR=kF;function U_e(t,e,n){e=="__proto__"&&MR?MR(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var B_e=U_e,z_e=B_e,q_e=SF,W_e=ms;function H_e(t,e){var n={};return e=W_e(e),q_e(t,function(r,i,a){z_e(n,i,e(r,i,a))}),n}var G_e=H_e;const K_e=gt(G_e);function Y_e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Q_e=Y_e,X_e=UT;function J_e(t,e){var n=!0;return X_e(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var Z_e=J_e,eSe=Q_e,tSe=Z_e,nSe=ms,rSe=pr,iSe=ux;function aSe(t,e,n){var r=rSe(t)?eSe:tSe;return n&&iSe(t,e,n)&&(e=void 0),r(t,nSe(e))}var oSe=aSe;const n8=gt(oSe);var sSe=["x","y"];function Uh(t){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}function dS(){return dS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dS.apply(this,arguments)}function DR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(n),!0).forEach(function(r){lSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lSe(t,e,n){return e=cSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cSe(t){var e=uSe(t,"string");return Uh(e)=="symbol"?e:e+""}function uSe(t,e){if(Uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dSe(t,e){if(t==null)return{};var n=fSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hSe(t,e){var n=t.x,r=t.y,i=dSe(t,sSe),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),c="".concat(e.height||i.height),u=parseInt(c,10),d="".concat(e.width||i.width),h=parseInt(d,10);return jd(jd(jd(jd(jd({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function $R(t){return z.createElement(Q1e,dS({shapeType:"rectangle",propTransformer:hSe,activeClassName:"recharts-active-bar"},t))}var pSe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=ge(r)||Tie(r);return a?e(r,i):(a||vl(),n)}},mSe=["value","background"],r8;function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function gSe(t,e){if(t==null)return{};var n=ySe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ySe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oy(){return oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oy.apply(this,arguments)}function LR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LR(Object(n),!0).forEach(function(r){Io(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a8(r.key),r)}}function xSe(t,e,n){return e&&FR(t.prototype,e),n&&FR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bSe(t,e,n){return e=sy(e),wSe(t,i8()?Reflect.construct(e,n||[],sy(t).constructor):e.apply(t,n))}function wSe(t,e){if(e&&(uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Se(t)}function _Se(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i8=function(){return!!t})()}function sy(t){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sy(t)}function SSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fS(t,e)}function fS(t,e){return fS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fS(t,e)}function Io(t,e,n){return e=a8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a8(t){var e=ESe(t,"string");return uu(e)=="symbol"?e:e+""}function ESe(t,e){if(uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tp=function(t){function e(){var n;vSe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=bSe(this,e,[].concat(i)),Io(n,"state",{isAnimationFinished:!1}),Io(n,"id",bp("recharts-bar-")),Io(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Io(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return SSe(e,t),xSe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,c=a.activeBar,u=We(this.props,!1);return r&&r.map(function(d,h){var p=h===l,g=p?c:o,y=Qt(Qt(Qt({},u),d),{},{isActive:p,option:g,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return z.createElement(jt,oy({className:"recharts-bar-rectangle"},x0(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),z.createElement($R,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state.prevData;return z.createElement(Ga,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,y=a.map(function(v,x){var b=h&&h[x];if(b){var w=Ur(b.x,v.x),E=Ur(b.y,v.y),S=Ur(b.width,v.width),P=Ur(b.height,v.height);return Qt(Qt({},v),{},{x:w(g),y:E(g),width:S(g),height:P(g)})}if(o==="horizontal"){var _=Ur(0,v.height),k=_(g);return Qt(Qt({},v),{},{y:v.y+v.height-k,height:k})}var A=Ur(0,v.width),I=A(g);return Qt(Qt({},v),{},{width:I})});return z.createElement(jt,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!_h(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=We(this.props.background,!1);return a.map(function(c,u){c.value;var d=c.background,h=gSe(c,mSe);if(!d)return null;var p=Qt(Qt(Qt(Qt(Qt({},h),{},{fill:"#eee"},d),l),x0(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return z.createElement($R,oy({key:"background-bar-".concat(u),option:r.props.background,isActive:u===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,d=ki(u,bx);if(!d)return null;var h=c==="vertical"?o[0].height/2:o[0].width/2,p=function(v,x){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:Nr(v,x)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return z.createElement(jt,g,d.map(function(y){return z.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,c=r.left,u=r.top,d=r.width,h=r.height,p=r.isAnimationActive,g=r.background,y=r.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,x=tt("recharts-bar",o),b=s&&s.allowDataOverflow,w=l&&l.allowDataOverflow,E=b||w,S=Qe(y)?this.id:y;return z.createElement(jt,{className:x},b||w?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(S)},z.createElement("rect",{x:b?c:c-d/2,y:w?u:u-h/2,width:b?d:d*2,height:w?h:h*2}))):null,z.createElement(jt,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,S),(!p||v)&&Ko.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(R.PureComponent);r8=Tp;Io(Tp,"displayName","Bar");Io(Tp,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Yu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Io(Tp,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,h=t.offset,p=Qve(r,n);if(!p)return null;var g=e.layout,y=n.type.defaultProps,v=y!==void 0?Qt(Qt({},y),n.props):n.props,x=v.dataKey,b=v.children,w=v.minPointSize,E=g==="horizontal"?o:a,S=c?E.scale.domain():null,P=ixe({numericAxis:E}),_=ki(b,CF),k=d.map(function(A,I){var O,C,j,M,D,L;c?O=Xve(c[u+I],S):(O=Nr(A,x),Array.isArray(O)||(O=[P,O]));var B=pSe(w,r8.defaultProps.minPointSize)(O[1],I);if(g==="horizontal"){var V,U=[o.scale(O[0]),o.scale(O[1])],F=U[0],G=U[1];C=Uj({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:A,index:I}),j=(V=G??F)!==null&&V!==void 0?V:void 0,M=p.size;var K=F-G;if(D=Number.isNaN(K)?0:K,L={x:C,y:o.y,width:M,height:o.height},Math.abs(B)>0&&Math.abs(D)<Math.abs(B)){var ie=vi(D||B)*(Math.abs(B)-Math.abs(D));j-=ie,D+=ie}}else{var se=[a.scale(O[0]),a.scale(O[1])],ve=se[0],ce=se[1];if(C=ve,j=Uj({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:A,index:I}),M=ce-ve,D=p.size,L={x:a.x,y:j,width:a.width,height:D},Math.abs(B)>0&&Math.abs(M)<Math.abs(B)){var de=vi(M||B)*(Math.abs(B)-Math.abs(M));M+=de}}return Qt(Qt(Qt({},A),{},{x:C,y:j,width:M,height:D,value:c?O:O[1],payload:A,background:L},_&&_[I]&&_[I].props),{},{tooltipPayload:[$V(n,A)],tooltipPosition:{x:C+M/2,y:j+D/2}})});return Qt({data:k,layout:g},h)});function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function kSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o8(r.key),r)}}function TSe(t,e,n){return e&&VR(t.prototype,e),n&&VR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){Sx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sx(t,e,n){return e=o8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o8(t){var e=PSe(t,"string");return Bh(e)=="symbol"?e:e+""}function PSe(t,e){if(Bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ASe=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,c=e.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!vr(c,Tp);return u.reduce(function(p,g){var y=n[g],v=y.orientation,x=y.domain,b=y.padding,w=b===void 0?{}:b,E=y.mirror,S=y.reversed,P="".concat(v).concat(E?"Mirror":""),_,k,A,I,O;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var C=x[1]-x[0],j=1/0,M=y.categoricalDomain.sort(Nie);if(M.forEach(function(se,ve){ve>0&&(j=Math.min((se||0)-(M[ve-1]||0),j))}),Number.isFinite(j)){var D=j/C,L=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(_=D*L/2),y.padding==="no-gap"){var B=gl(e.barCategoryGap,D*L),V=D*L/2;_=V-B-(V-B)/L*B}}}i==="xAxis"?k=[r.left+(w.left||0)+(_||0),r.left+r.width-(w.right||0)-(_||0)]:i==="yAxis"?k=l==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(_||0),r.top+r.height-(w.bottom||0)-(_||0)]:k=y.range,S&&(k=[k[1],k[0]]);var U=Kve(y,a,h),F=U.scale,G=U.realScaleType;F.domain(x).range(k),Yve(F);var K=rxe(F,di(di({},y),{},{realScaleType:G}));i==="xAxis"?(O=v==="top"&&!E||v==="bottom"&&E,A=r.left,I=d[P]-O*y.height):i==="yAxis"&&(O=v==="left"&&!E||v==="right"&&E,A=d[P]-O*y.width,I=r.top);var ie=di(di(di({},y),K),{},{realScaleType:G,x:A,y:I,scale:F,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return ie.bandSize=G0(ie,K),!y.hide&&i==="xAxis"?d[P]+=(O?-1:1)*ie.height:y.hide||(d[P]+=(O?-1:1)*ie.width),di(di({},p),{},Sx({},g,ie))},{})},s8=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},NSe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return s8({x:n,y:r},{x:i,y:a})},l8=function(){function t(e){kSe(this,t),this.scale=e}return TSe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Sx(l8,"EPS",1e-4);var yP=function(e){var n=Object.keys(e).reduce(function(r,i){return di(di({},r),{},Sx({},i,l8.create(e[i])))},{});return di(di({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return K_e(i,function(l,c){return n[c].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return n8(i,function(a,o){return n[o].isInRange(a)})}})};function ISe(t){return(t%180+180)%180}var OSe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=ISe(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},CSe=ms,jSe=wp,RSe=lx;function MSe(t){return function(e,n,r){var i=Object(e);if(!jSe(e)){var a=CSe(n);e=RSe(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var DSe=MSe,$Se=JV;function LSe(t){var e=$Se(t),n=e%1;return e===e?n?e-n:e:0}var FSe=LSe,VSe=yF,USe=ms,BSe=FSe,zSe=Math.max;function qSe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:BSe(n);return i<0&&(i=zSe(r+i,0)),VSe(t,USe(e),i)}var WSe=qSe,HSe=DSe,GSe=WSe,KSe=HSe(GSe),YSe=KSe;const QSe=gt(YSe);var XSe=Cre(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),vP=R.createContext(void 0),xP=R.createContext(void 0),c8=R.createContext(void 0),u8=R.createContext({}),d8=R.createContext(void 0),f8=R.createContext(0),h8=R.createContext(0),BR=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,c=e.height,u=XSe(a);return z.createElement(vP.Provider,{value:r},z.createElement(xP.Provider,{value:i},z.createElement(u8.Provider,{value:a},z.createElement(c8.Provider,{value:u},z.createElement(d8.Provider,{value:o},z.createElement(f8.Provider,{value:c},z.createElement(h8.Provider,{value:l},s)))))))},JSe=function(){return R.useContext(d8)},p8=function(e){var n=R.useContext(vP);n==null&&vl();var r=n[e];return r==null&&vl(),r},ZSe=function(){var e=R.useContext(vP);return Eo(e)},eEe=function(){var e=R.useContext(xP),n=QSe(e,function(r){return n8(r.domain,Number.isFinite)});return n||Eo(e)},m8=function(e){var n=R.useContext(xP);n==null&&vl();var r=n[e];return r==null&&vl(),r},tEe=function(){var e=R.useContext(c8);return e},nEe=function(){return R.useContext(u8)},bP=function(){return R.useContext(h8)},wP=function(){return R.useContext(f8)};function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function rEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y8(r.key),r)}}function aEe(t,e,n){return e&&iEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oEe(t,e,n){return e=ly(e),sEe(t,g8()?Reflect.construct(e,n||[],ly(t).constructor):e.apply(t,n))}function sEe(t,e){if(e&&(du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lEe(t)}function lEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g8=function(){return!!t})()}function ly(t){return ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ly(t)}function cEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hS(t,e)}function hS(t,e){return hS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hS(t,e)}function zR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(n),!0).forEach(function(r){_P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _P(t,e,n){return e=y8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y8(t){var e=uEe(t,"string");return du(e)=="symbol"?e:e+""}function uEe(t,e){if(du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function dEe(t,e){return mEe(t)||pEe(t,e)||hEe(t,e)||fEe()}function fEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hEe(t,e){if(t){if(typeof t=="string")return WR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WR(t,e)}}function WR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function mEe(t){if(Array.isArray(t))return t}function pS(){return pS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pS.apply(this,arguments)}var gEe=function(e,n){var r;return z.isValidElement(e)?r=z.cloneElement(e,n):Ue(e)?r=e(n):r=z.createElement("line",pS({},n,{className:"recharts-reference-line-line"})),r},yEe=function(e,n,r,i,a,o,s,l,c){var u=a.x,d=a.y,h=a.width,p=a.height;if(r){var g=c.y,y=e.y.apply(g,{position:o});if(ea(c,"discard")&&!e.y.isInRange(y))return null;var v=[{x:u+h,y},{x:u,y}];return l==="left"?v.reverse():v}if(n){var x=c.x,b=e.x.apply(x,{position:o});if(ea(c,"discard")&&!e.x.isInRange(b))return null;var w=[{x:b,y:d+p},{x:b,y:d}];return s==="top"?w.reverse():w}if(i){var E=c.segment,S=E.map(function(P){return e.apply(P,{position:o})});return ea(c,"discard")&&V_e(S,function(P){return!e.isInRange(P)})?null:S}return null};function vEe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,c=JSe(),u=p8(i),d=m8(a),h=tEe();if(!c||!h)return null;ja(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=yP({x:u.scale,y:d.scale}),g=ln(e),y=ln(n),v=r&&r.length===2,x=yEe(p,g,y,v,h,t.position,u.orientation,d.orientation,t);if(!x)return null;var b=dEe(x,2),w=b[0],E=w.x,S=w.y,P=b[1],_=P.x,k=P.y,A=ea(t,"hidden")?"url(#".concat(c,")"):void 0,I=qR(qR({clipPath:A},We(t,!0)),{},{x1:E,y1:S,x2:_,y2:k});return z.createElement(jt,{className:tt("recharts-reference-line",s)},gEe(o,I),Mn.renderCallByParent(t,NSe({x1:E,y1:S,x2:_,y2:k})))}var SP=function(t){function e(){return rEe(this,e),oEe(this,e,arguments)}return cEe(e,t),aEe(e,[{key:"render",value:function(){return z.createElement(vEe,this.props)}}])}(z.Component);_P(SP,"displayName","ReferenceLine");_P(SP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function mS(){return mS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mS.apply(this,arguments)}function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function HR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(n),!0).forEach(function(r){Ex(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x8(r.key),r)}}function wEe(t,e,n){return e&&bEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Ee(t,e,n){return e=cy(e),SEe(t,v8()?Reflect.construct(e,n||[],cy(t).constructor):e.apply(t,n))}function SEe(t,e){if(e&&(fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EEe(t)}function EEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v8=function(){return!!t})()}function cy(t){return cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cy(t)}function kEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gS(t,e)}function gS(t,e){return gS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gS(t,e)}function Ex(t,e,n){return e=x8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x8(t){var e=TEe(t,"string");return fu(e)=="symbol"?e:e+""}function TEe(t,e){if(fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var PEe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=yP({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return ea(e,"discard")&&!o.isInRange(s)?null:s},kx=function(t){function e(){return xEe(this,e),_Ee(this,e,arguments)}return kEe(e,t),wEe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,c=ln(i),u=ln(a);if(ja(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=PEe(this.props);if(!d)return null;var h=d.x,p=d.y,g=this.props,y=g.shape,v=g.className,x=ea(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=GR(GR({clipPath:x},We(this.props,!0)),{},{cx:h,cy:p});return z.createElement(jt,{className:tt("recharts-reference-dot",v)},e.renderDot(y,b),Mn.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(z.Component);Ex(kx,"displayName","ReferenceDot");Ex(kx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ex(kx,"renderDot",function(t,e){var n;return z.isValidElement(t)?n=z.cloneElement(t,e):Ue(t)?n=t(e):n=z.createElement(gP,mS({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function yS(){return yS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yS.apply(this,arguments)}function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function KR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KR(Object(n),!0).forEach(function(r){Tx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w8(r.key),r)}}function IEe(t,e,n){return e&&NEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OEe(t,e,n){return e=uy(e),CEe(t,b8()?Reflect.construct(e,n||[],uy(t).constructor):e.apply(t,n))}function CEe(t,e){if(e&&(hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jEe(t)}function jEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b8=function(){return!!t})()}function uy(t){return uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uy(t)}function REe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vS(t,e)}function vS(t,e){return vS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vS(t,e)}function Tx(t,e,n){return e=w8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w8(t){var e=MEe(t,"string");return hu(e)=="symbol"?e:e+""}function MEe(t,e){if(hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var DEe=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,c=a.y2,u=a.xAxis,d=a.yAxis;if(!u||!d)return null;var h=yP({x:u.scale,y:d.scale}),p={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return ea(a,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:s8(p,g)},Px=function(t){function e(){return AEe(this,e),OEe(this,e,arguments)}return REe(e,t),IEe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;ja(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=ln(i),h=ln(a),p=ln(o),g=ln(s),y=this.props.shape;if(!d&&!h&&!p&&!g&&!y)return null;var v=DEe(d,h,p,g,this.props);if(!v&&!y)return null;var x=ea(this.props,"hidden")?"url(#".concat(u,")"):void 0;return z.createElement(jt,{className:tt("recharts-reference-area",l)},e.renderRect(y,YR(YR({clipPath:x},We(this.props,!0)),v)),Mn.renderCallByParent(this.props,v))}}])}(z.Component);Tx(Px,"displayName","ReferenceArea");Tx(Px,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Tx(Px,"renderRect",function(t,e){var n;return z.isValidElement(t)?n=z.cloneElement(t,e):Ue(t)?n=t(e):n=z.createElement(mP,yS({},e,{className:"recharts-reference-area-rect"})),n});function _8(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function $Ee(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return OSe(r,n)}function LEe(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function dy(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function FEe(t,e){return _8(t,e+1)}function VEe(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,c=1,u=o,d=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:_8(r,c)};var y=l,v,x=function(){return v===void 0&&(v=n(g,y)),v},b=g.coordinate,w=l===0||dy(t,b,x,u,s);w||(l=0,u=o,c+=1),w&&(u=b+t*(x()/2+i),l+=c)},h;c<=a.length;)if(h=d(),h)return h.v;return[]}function zh(t){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(t)}function QR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(n),!0).forEach(function(r){UEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UEe(t,e,n){return e=BEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BEe(t){var e=zEe(t,"string");return zh(e)=="symbol"?e:e+""}function zEe(t,e){if(zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qEe(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,c=function(h){var p=a[h],g,y=function(){return g===void 0&&(g=n(p,h)),g};if(h===o-1){var v=t*(p.coordinate+t*y()/2-l);a[h]=p=On(On({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else a[h]=p=On(On({},p),{},{tickCoord:p.coordinate});var x=dy(t,p.tickCoord,y,s,l);x&&(l=p.tickCoord-t*(y()/2+i),a[h]=On(On({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}function WEe(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,c=e.end;if(a){var u=r[s-1],d=n(u,s-1),h=t*(u.coordinate+t*d/2-c);o[s-1]=u=On(On({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var p=dy(t,u.tickCoord,function(){return d},l,c);p&&(c=u.tickCoord-t*(d/2+i),o[s-1]=On(On({},u),{},{isShow:!0}))}for(var g=a?s-1:s,y=function(b){var w=o[b],E,S=function(){return E===void 0&&(E=n(w,b)),E};if(b===0){var P=t*(w.coordinate-t*S()/2-l);o[b]=w=On(On({},w),{},{tickCoord:P<0?w.coordinate-P*t:w.coordinate})}else o[b]=w=On(On({},w),{},{tickCoord:w.coordinate});var _=dy(t,w.tickCoord,S,l,c);_&&(l=w.tickCoord+t*(S()/2+i),o[b]=On(On({},w),{},{isShow:!0}))},v=0;v<g;v++)y(v);return o}function EP(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(ge(l)||Yu.isSsr)return FEe(i,typeof l=="number"&&ge(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",g=u&&p==="width"?Sf(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(w,E){var S=Ue(c)?c(w.value,E):w.value;return p==="width"?$Ee(Sf(S,{fontSize:e,letterSpacing:n}),g,d):Sf(S,{fontSize:e,letterSpacing:n})[p]},v=i.length>=2?vi(i[1].coordinate-i[0].coordinate):1,x=LEe(a,v,p);return l==="equidistantPreserveStart"?VEe(v,x,y,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=WEe(v,x,y,i,o,l==="preserveStartEnd"):h=qEe(v,x,y,i,o),h.filter(function(b){return b.isShow}))}var HEe=["viewBox"],GEe=["viewBox"],KEe=["ticks"];function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function fc(){return fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fc.apply(this,arguments)}function XR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(n),!0).forEach(function(r){kP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yw(t,e){if(t==null)return{};var n=YEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function QEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E8(r.key),r)}}function XEe(t,e,n){return e&&JR(t.prototype,e),n&&JR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function JEe(t,e,n){return e=fy(e),ZEe(t,S8()?Reflect.construct(e,n||[],fy(t).constructor):e.apply(t,n))}function ZEe(t,e){if(e&&(pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eke(t)}function eke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S8=function(){return!!t})()}function fy(t){return fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fy(t)}function tke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xS(t,e)}function xS(t,e){return xS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xS(t,e)}function kP(t,e,n){return e=E8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E8(t){var e=nke(t,"string");return pu(e)=="symbol"?e:e+""}function nke(t,e){if(pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zu=function(t){function e(n){var r;return QEe(this,e),r=JEe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return tke(e,t),XEe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=yw(r,HEe),s=this.props,l=s.viewBox,c=yw(s,GEe);return!Nc(a,l)||!Nc(o,c)||!Nc(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,c=i.orientation,u=i.tickSize,d=i.mirror,h=i.tickMargin,p,g,y,v,x,b,w=d?-1:1,E=r.tickSize||u,S=ge(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=g=r.coordinate,v=o+ +!d*l,y=v-w*E,b=y-w*h,x=S;break;case"left":y=v=r.coordinate,g=a+ +!d*s,p=g-w*E,x=p-w*h,b=S;break;case"right":y=v=r.coordinate,g=a+ +d*s,p=g+w*E,x=p+w*h,b=S;break;default:p=g=r.coordinate,v=o+ +d*l,y=v+w*E,b=y+w*h,x=S;break}return{line:{x1:p,y1:y,x2:g,y2:v},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,d=rn(rn(rn({},We(this.props,!1)),We(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=rn(rn({},d),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=rn(rn({},d),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return z.createElement("line",fc({},d,{className:tt("recharts-cartesian-axis-line",Qr(u,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,d=s.tickFormatter,h=s.unit,p=EP(rn(rn({},this.props),{},{ticks:r}),i,a),g=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),v=We(this.props,!1),x=We(u,!1),b=rn(rn({},v),{},{fill:"none"},We(l,!1)),w=p.map(function(E,S){var P=o.getTickLineCoord(E),_=P.line,k=P.tick,A=rn(rn(rn(rn({textAnchor:g,verticalAnchor:y},v),{},{stroke:"none",fill:c},x),k),{},{index:S,payload:E,visibleTicksCount:p.length,tickFormatter:d});return z.createElement(jt,fc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},x0(o.props,E,S)),l&&z.createElement("line",fc({},b,_,{className:tt("recharts-cartesian-axis-tick-line",Qr(l,"className"))})),u&&e.renderTickItem(u,A,"".concat(Ue(d)?d(E.value,S):E.value).concat(h||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var d=this.props,h=d.ticks,p=yw(d,KEe),g=h;return Ue(l)&&(g=h&&h.length>0?l(this.props):l(p)),o<=0||s<=0||!g||!g.length?null:z.createElement(jt,{className:tt("recharts-cartesian-axis",c),ref:function(v){r.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Mn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=tt(i.className,"recharts-cartesian-axis-tick-value");return z.isValidElement(r)?o=z.cloneElement(r,rn(rn({},i),{},{className:s})):Ue(r)?o=r(rn(rn({},i),{},{className:s})):o=z.createElement(j0,fc({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(R.Component);kP(Zu,"displayName","CartesianAxis");kP(Zu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var rke=["x1","y1","x2","y2","key"],ike=["offset"];function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function ZR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZR(Object(n),!0).forEach(function(r){ake(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ake(t,e,n){return e=oke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oke(t){var e=ske(t,"string");return xl(e)=="symbol"?e:e+""}function ske(t,e){if(xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hs(){return Hs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hs.apply(this,arguments)}function eM(t,e){if(t==null)return{};var n=lke(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var cke=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return z.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function k8(t,e){var n;if(z.isValidElement(t))n=z.cloneElement(t,e);else if(Ue(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=eM(e,rke),c=We(l,!1);c.offset;var u=eM(c,ike);n=z.createElement("line",Hs({},u,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function uke(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=Dn(Dn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return k8(i,c)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function dke(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=Dn(Dn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return k8(i,c)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function fke(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var g=!u[p+1],y=g?i+o-h:u[p+1]-h;if(y<=0)return null;var v=p%e.length;return z.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:y,width:a,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function hke(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var g=!u[p+1],y=g?a+s-h:u[p+1]-h;if(y<=0)return null;var v=p%r.length;return z.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:y,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var pke=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return MV(EP(Dn(Dn(Dn({},Zu.defaultProps),r),{},{ticks:Aa(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},mke=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return MV(EP(Dn(Dn(Dn({},Zu.defaultProps),r),{},{ticks:Aa(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},zl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function T8(t){var e,n,r,i,a,o,s=bP(),l=wP(),c=nEe(),u=Dn(Dn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:zl.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:zl.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:zl.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:zl.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:zl.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:zl.verticalFill,x:ge(t.x)?t.x:c.left,y:ge(t.y)?t.y:c.top,width:ge(t.width)?t.width:c.width,height:ge(t.height)?t.height:c.height}),d=u.x,h=u.y,p=u.width,g=u.height,y=u.syncWithTicks,v=u.horizontalValues,x=u.verticalValues,b=ZSe(),w=eEe();if(!ge(p)||p<=0||!ge(g)||g<=0||!ge(d)||d!==+d||!ge(h)||h!==+h)return null;var E=u.verticalCoordinatesGenerator||pke,S=u.horizontalCoordinatesGenerator||mke,P=u.horizontalPoints,_=u.verticalPoints;if((!P||!P.length)&&Ue(S)){var k=v&&v.length,A=S({yAxis:w?Dn(Dn({},w),{},{ticks:k?v:w.ticks}):void 0,width:s,height:l,offset:c},k?!0:y);ja(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(xl(A),"]")),Array.isArray(A)&&(P=A)}if((!_||!_.length)&&Ue(E)){var I=x&&x.length,O=E({xAxis:b?Dn(Dn({},b),{},{ticks:I?x:b.ticks}):void 0,width:s,height:l,offset:c},I?!0:y);ja(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(xl(O),"]")),Array.isArray(O)&&(_=O)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(cke,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),z.createElement(uke,Hs({},u,{offset:c,horizontalPoints:P,xAxis:b,yAxis:w})),z.createElement(dke,Hs({},u,{offset:c,verticalPoints:_,xAxis:b,yAxis:w})),z.createElement(fke,Hs({},u,{horizontalPoints:P})),z.createElement(hke,Hs({},u,{verticalPoints:_})))}T8.displayName="CartesianGrid";var gke=["layout","type","stroke","connectNulls","isRange","ref"],yke=["key"],P8;function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function A8(t,e){if(t==null)return{};var n=vke(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gs(){return Gs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gs.apply(this,arguments)}function tM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(n),!0).forEach(function(r){Wi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I8(r.key),r)}}function bke(t,e,n){return e&&nM(t.prototype,e),n&&nM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wke(t,e,n){return e=hy(e),_ke(t,N8()?Reflect.construct(e,n||[],hy(t).constructor):e.apply(t,n))}function _ke(t,e){if(e&&(mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ske(t)}function Ske(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N8=function(){return!!t})()}function hy(t){return hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hy(t)}function Eke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bS(t,e)}function bS(t,e){return bS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bS(t,e)}function Wi(t,e,n){return e=I8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I8(t){var e=kke(t,"string");return mu(e)=="symbol"?e:e+""}function kke(t,e){if(mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xs=function(t){function e(){var n;xke(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=wke(this,e,[].concat(i)),Wi(n,"state",{isAnimationFinished:!0}),Wi(n,"id",bp("recharts-area-")),Wi(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ue(o)&&o()}),Wi(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ue(o)&&o()}),n}return Eke(e,t),bke(e,[{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=We(this.props,!1),p=We(c,!0),g=u.map(function(v,x){var b=fo(fo(fo({key:"dot-".concat(x),r:3},h),p),{},{index:x,cx:v.x,cy:v.y,dataKey:d,value:v.value,payload:v.payload,points:u});return e.renderDotItem(c,b)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return z.createElement(jt,Gs({className:"recharts-area-dots"},y),g)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].x,c=o[o.length-1].x,u=r*Math.abs(l-c),d=No(o.map(function(h){return h.y||0}));return ge(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(No(a.map(function(h){return h.y||0})),d)),ge(d)?z.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].y,c=o[o.length-1].y,u=r*Math.abs(l-c),d=No(o.map(function(h){return h.x||0}));return ge(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(No(a.map(function(h){return h.x||0})),d)),ge(d)?z.createElement("rect",{x:0,y:l<c?l:l-u,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,o){var s=this.props,l=s.layout,c=s.type,u=s.stroke,d=s.connectNulls,h=s.isRange;s.ref;var p=A8(s,gke);return z.createElement(jt,{clipPath:a?"url(#clipPath-".concat(o,")"):null},z.createElement(Tf,Gs({},We(p,!0),{points:r,connectNulls:d,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&z.createElement(Tf,Gs({},We(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:r})),u!=="none"&&h&&z.createElement(Tf,Gs({},We(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.baseLine,c=o.isAnimationActive,u=o.animationBegin,d=o.animationDuration,h=o.animationEasing,p=o.animationId,g=this.state,y=g.prevPoints,v=g.prevBaseLine;return z.createElement(Ga,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var b=x.t;if(y){var w=y.length/s.length,E=s.map(function(k,A){var I=Math.floor(A*w);if(y[I]){var O=y[I],C=Ur(O.x,k.x),j=Ur(O.y,k.y);return fo(fo({},k),{},{x:C(b),y:j(b)})}return k}),S;if(ge(l)&&typeof l=="number"){var P=Ur(v,l);S=P(b)}else if(Qe(l)||Wu(l)){var _=Ur(v,0);S=_(b)}else S=l.map(function(k,A){var I=Math.floor(A*w);if(v[I]){var O=v[I],C=Ur(O.x,k.x),j=Ur(O.y,k.y);return fo(fo({},k),{},{x:C(b),y:j(b)})}return k});return a.renderAreaStatically(E,S,r,i)}return z.createElement(jt,null,z.createElement("defs",null,z.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(b))),z.createElement(jt,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,o=a.points,s=a.baseLine,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.prevBaseLine,h=c.totalLength;return l&&o&&o.length&&(!u&&h>0||!_h(u,o)||!_h(d,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,c=i.top,u=i.left,d=i.xAxis,h=i.yAxis,p=i.width,g=i.height,y=i.isAnimationActive,v=i.id;if(a||!s||!s.length)return null;var x=this.state.isAnimationFinished,b=s.length===1,w=tt("recharts-area",l),E=d&&d.allowDataOverflow,S=h&&h.allowDataOverflow,P=E||S,_=Qe(v)?this.id:v,k=(r=We(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},A=k.r,I=A===void 0?3:A,O=k.strokeWidth,C=O===void 0?2:O,j=Lie(o)?o:{},M=j.clipDot,D=M===void 0?!0:M,L=I*2+C;return z.createElement(jt,{className:w},E||S?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(_)},z.createElement("rect",{x:E?u:u-p/2,y:S?c:c-g/2,width:E?p:p*2,height:S?g:g*2})),!D&&z.createElement("clipPath",{id:"clipPath-dots-".concat(_)},z.createElement("rect",{x:u-L/2,y:c-L/2,width:p+L,height:g+L}))):null,b?null:this.renderArea(P,_),(o||b)&&this.renderDots(P,D,_),(!y||x)&&Ko.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(R.PureComponent);P8=xs;Wi(xs,"displayName","Area");Wi(xs,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Yu.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Wi(xs,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,o=e.props.baseValue,s=o??a;if(ge(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:n,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return s==="dataMin"?d:s==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});Wi(xs,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,s=t.bandSize,l=t.dataKey,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,h=t.offset,p=e.layout,g=c&&c.length,y=P8.getBaseValue(e,n,r,i),v=p==="horizontal",x=!1,b=d.map(function(E,S){var P;g?P=c[u+S]:(P=Nr(E,l),Array.isArray(P)?x=!0:P=[y,P]);var _=P[1]==null||g&&Nr(E,l)==null;return v?{x:Vj({axis:r,ticks:a,bandSize:s,entry:E,index:S}),y:_?null:i.scale(P[1]),value:P,payload:E}:{x:_?null:r.scale(P[1]),y:Vj({axis:i,ticks:o,bandSize:s,entry:E,index:S}),value:P,payload:E}}),w;return g||x?w=b.map(function(E){var S=Array.isArray(E.value)?E.value[0]:null;return v?{x:E.x,y:S!=null&&E.y!=null?i.scale(S):null}:{x:S!=null?r.scale(S):null,y:E.y}}):w=v?i.scale(y):r.scale(y),fo({points:b,baseLine:w,layout:p,isRange:x},h)});Wi(xs,"renderDotItem",function(t,e){var n;if(z.isValidElement(t))n=z.cloneElement(t,e);else if(Ue(t))n=t(e);else{var r=tt("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=A8(e,yke);n=z.createElement(gP,Gs({},a,{key:i,className:r}))}return n});function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function Tke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j8(r.key),r)}}function Ake(t,e,n){return e&&Pke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nke(t,e,n){return e=py(e),Ike(t,O8()?Reflect.construct(e,n||[],py(t).constructor):e.apply(t,n))}function Ike(t,e){if(e&&(gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oke(t)}function Oke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O8=function(){return!!t})()}function py(t){return py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},py(t)}function Cke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wS(t,e)}function wS(t,e){return wS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wS(t,e)}function C8(t,e,n){return e=j8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j8(t){var e=jke(t,"string");return gu(e)=="symbol"?e:e+""}function jke(t,e){if(gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _S(){return _S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_S.apply(this,arguments)}function Rke(t){var e=t.xAxisId,n=bP(),r=wP(),i=p8(e);return i==null?null:R.createElement(Zu,_S({},i,{className:tt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Aa(o,!0)}}))}var Ax=function(t){function e(){return Tke(this,e),Nke(this,e,arguments)}return Cke(e,t),Ake(e,[{key:"render",value:function(){return R.createElement(Rke,this.props)}}])}(R.Component);C8(Ax,"displayName","XAxis");C8(Ax,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function Mke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D8(r.key),r)}}function $ke(t,e,n){return e&&Dke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lke(t,e,n){return e=my(e),Fke(t,R8()?Reflect.construct(e,n||[],my(t).constructor):e.apply(t,n))}function Fke(t,e){if(e&&(yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vke(t)}function Vke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R8=function(){return!!t})()}function my(t){return my=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},my(t)}function Uke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SS(t,e)}function SS(t,e){return SS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SS(t,e)}function M8(t,e,n){return e=D8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D8(t){var e=Bke(t,"string");return yu(e)=="symbol"?e:e+""}function Bke(t,e){if(yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ES(){return ES=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ES.apply(this,arguments)}var zke=function(e){var n=e.yAxisId,r=bP(),i=wP(),a=m8(n);return a==null?null:R.createElement(Zu,ES({},a,{className:tt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Aa(s,!0)}}))},Nx=function(t){function e(){return Mke(this,e),Lke(this,e,arguments)}return Uke(e,t),$ke(e,[{key:"render",value:function(){return R.createElement(zke,this.props)}}])}(R.Component);M8(Nx,"displayName","YAxis");M8(Nx,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function rM(t){return Gke(t)||Hke(t)||Wke(t)||qke()}function qke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wke(t,e){if(t){if(typeof t=="string")return kS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kS(t,e)}}function Hke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gke(t){if(Array.isArray(t))return kS(t)}function kS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var TS=function(e,n,r,i,a){var o=ki(e,SP),s=ki(e,kx),l=[].concat(rM(o),rM(s)),c=ki(e,Px),u="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(y,v){if(v.props[u]===r&&ea(v.props,"extendDomain")&&ge(v.props[d])){var x=v.props[d];return[Math.min(y[0],x),Math.max(y[1],x)]}return y},h)),c.length){var p="".concat(d,"1"),g="".concat(d,"2");h=c.reduce(function(y,v){if(v.props[u]===r&&ea(v.props,"extendDomain")&&ge(v.props[p])&&ge(v.props[g])){var x=v.props[p],b=v.props[g];return[Math.min(y[0],x,b),Math.max(y[1],x,b)]}return y},h)}return a&&a.length&&(h=a.reduce(function(y,v){return ge(v)?[Math.min(y[0],v),Math.max(y[1],v)]:y},h)),h},$8={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,d||l,h),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,g=new Array(p);h<p;h++)g[h]=d[h].fn;return g},s.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,u,d,h,p,g){var y=n?n+c:c;if(!this._events[y])return!1;var v=this._events[y],x=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,h),!0;case 5:return v.fn.call(v.context,u,d,h,p),!0;case 6:return v.fn.call(v.context,u,d,h,p,g),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var E=v.length,S;for(w=0;w<E;w++)switch(v[w].once&&this.removeListener(c,v[w].fn,void 0,!0),x){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,u);break;case 3:v[w].fn.call(v[w].context,u,d);break;case 4:v[w].fn.call(v[w].context,u,d,h);break;default:if(!b)for(S=1,b=new Array(x-1);S<x;S++)b[S-1]=arguments[S];v[w].fn.apply(v[w].context,b)}}return!0},s.prototype.on=function(c,u,d){return a(this,c,u,d,!1)},s.prototype.once=function(c,u,d){return a(this,c,u,d,!0)},s.prototype.removeListener=function(c,u,d,h){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!h||g.once)&&(!d||g.context===d)&&o(this,p);else{for(var y=0,v=[],x=g.length;y<x;y++)(g[y].fn!==u||h&&!g[y].once||d&&g[y].context!==d)&&v.push(g[y]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})($8);var Kke=$8.exports;const Yke=gt(Kke);var vw=new Yke,xw="recharts.syncMouseEvents";function qh(t){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}function Qke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L8(r.key),r)}}function Jke(t,e,n){return e&&Xke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bw(t,e,n){return e=L8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L8(t){var e=Zke(t,"string");return qh(e)=="symbol"?e:e+""}function Zke(t,e){if(qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eTe=function(){function t(){Qke(this,t),bw(this,"activeIndex",0),bw(this,"coordinateList",[]),bw(this,"layout","horizontal")}return Jke(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,c=l===void 0?null:l,u=n.offset,d=u===void 0?null:u,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=a+l+c,h=o+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function tTe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ge(r)&&ge(i))return!0}return!1}function nTe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function F8(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=En(e,n,r,i),s=En(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function rTe(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,d=e.angle,h=En(s,l,c,d),p=En(s,l,u,d);r=h.x,i=h.y,a=p.x,o=p.y}else return F8(e);return[{x:r,y:i},{x:a,y:o}]}function Wh(t){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(t)}function iM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iM(Object(n),!0).forEach(function(r){iTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iTe(t,e,n){return e=aTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aTe(t){var e=oTe(t,"string");return Wh(e)=="symbol"?e:e+""}function oTe(t,e){if(Wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sTe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var g,y=Tf;if(h==="ScatterChart")g=o,y=u1e;else if(h==="BarChart")g=nTe(d,o,l,u),y=mP;else if(d==="radial"){var v=F8(o),x=v.cx,b=v.cy,w=v.radius,E=v.startAngle,S=v.endAngle;g={cx:x,cy:b,startAngle:E,endAngle:S,innerRadius:w,outerRadius:w},y=VV}else g={points:rTe(d,o,l)},y=Tf;var P=Nm(Nm(Nm(Nm({stroke:"#ccc",pointerEvents:"none"},l),g),We(p,!1)),{},{payload:s,payloadIndex:c,className:tt("recharts-tooltip-cursor",p.className)});return R.isValidElement(p)?R.cloneElement(p,P):R.createElement(y,P)}var lTe=["item"],cTe=["children","className","width","height","style","compact","title","desc"];function vu(t){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}function hc(){return hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hc.apply(this,arguments)}function aM(t,e){return fTe(t)||dTe(t,e)||U8(t,e)||uTe()}function uTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function fTe(t){if(Array.isArray(t))return t}function oM(t,e){if(t==null)return{};var n=hTe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B8(r.key),r)}}function gTe(t,e,n){return e&&mTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yTe(t,e,n){return e=gy(e),vTe(t,V8()?Reflect.construct(e,n||[],gy(t).constructor):e.apply(t,n))}function vTe(t,e){if(e&&(vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xTe(t)}function xTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V8=function(){return!!t})()}function gy(t){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gy(t)}function bTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PS(t,e)}function PS(t,e){return PS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PS(t,e)}function xu(t){return STe(t)||_Te(t)||U8(t)||wTe()}function wTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U8(t,e){if(t){if(typeof t=="string")return AS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AS(t,e)}}function _Te(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function STe(t){if(Array.isArray(t))return AS(t)}function AS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function te(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sM(Object(n),!0).forEach(function(r){Ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ce(t,e,n){return e=B8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B8(t){var e=ETe(t,"string");return vu(e)=="symbol"?e:e+""}function ETe(t,e){if(vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kTe={xAxis:["bottom","top"],yAxis:["left","right"]},TTe={width:"100%",height:"100%"},z8={x:0,y:0};function Im(t){return t}var PTe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},ATe=function(e,n,r,i){var a=n.find(function(u){return u&&u.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return te(te(te({},i),En(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,c=i.angle;return te(te(te({},i),En(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return z8},Ix=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(xu(s),xu(c)):s},[]);return o.length>0?o:e&&e.length&&ge(i)&&ge(a)?e.slice(i,a+1):[]};function q8(t){return t==="number"?[0,"auto"]:void 0}var NS=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=Ix(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=d===void 0?s:d;h=y0(p,o.dataKey,i)}else h=d&&d[r]||s[r];return h?[].concat(xu(l),[$V(c,h)]):l},[])},lM=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=PTe(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=Bve(o,s,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,h=NS(e,n,u,d),p=ATe(r,s,u,a);return{activeTooltipIndex:u,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},NTe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,h=e.stackOffset,p=RV(u,a);return r.reduce(function(g,y){var v,x=y.type.defaultProps!==void 0?te(te({},y.type.defaultProps),y.props):y.props,b=x.type,w=x.dataKey,E=x.allowDataOverflow,S=x.allowDuplicatedCategory,P=x.scale,_=x.ticks,k=x.includeHidden,A=x[o];if(g[A])return g;var I=Ix(e.data,{graphicalItems:i.filter(function(K){var ie,se=o in K.props?K.props[o]:(ie=K.type.defaultProps)===null||ie===void 0?void 0:ie[o];return se===A}),dataStartIndex:l,dataEndIndex:c}),O=I.length,C,j,M;tTe(x.domain,E,b)&&(C=K_(x.domain,null,E),p&&(b==="number"||P!=="auto")&&(M=kf(I,w,"category")));var D=q8(b);if(!C||C.length===0){var L,B=(L=x.domain)!==null&&L!==void 0?L:D;if(w){if(C=kf(I,w,b),b==="category"&&p){var V=Aie(C);S&&V?(j=C,C=ry(0,O)):S||(C=qj(B,C,y).reduce(function(K,ie){return K.indexOf(ie)>=0?K:[].concat(xu(K),[ie])},[]))}else if(b==="category")S?C=C.filter(function(K){return K!==""&&!Qe(K)}):C=qj(B,C,y).reduce(function(K,ie){return K.indexOf(ie)>=0||ie===""||Qe(ie)?K:[].concat(xu(K),[ie])},[]);else if(b==="number"){var U=Gve(I,i.filter(function(K){var ie,se,ve=o in K.props?K.props[o]:(ie=K.type.defaultProps)===null||ie===void 0?void 0:ie[o],ce="hide"in K.props?K.props.hide:(se=K.type.defaultProps)===null||se===void 0?void 0:se.hide;return ve===A&&(k||!ce)}),w,a,u);U&&(C=U)}p&&(b==="number"||P!=="auto")&&(M=kf(I,w,"category"))}else p?C=ry(0,O):s&&s[A]&&s[A].hasStack&&b==="number"?C=h==="expand"?[0,1]:DV(s[A].stackGroups,l,c):C=jV(I,i.filter(function(K){var ie=o in K.props?K.props[o]:K.type.defaultProps[o],se="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return ie===A&&(k||!se)}),b,u,!0);if(b==="number")C=TS(d,C,A,a,_),B&&(C=K_(B,C,E));else if(b==="category"&&B){var F=B,G=C.every(function(K){return F.indexOf(K)>=0});G&&(C=F)}}return te(te({},g),{},Ce({},A,te(te({},x),{},{axisType:a,domain:C,categoricalDomain:M,duplicateDomain:j,originalDomain:(v=x.domain)!==null&&v!==void 0?v:D,isCategorical:p,layout:u})))},{})},ITe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,h=Ix(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=h.length,g=RV(u,a),y=-1;return r.reduce(function(v,x){var b=x.type.defaultProps!==void 0?te(te({},x.type.defaultProps),x.props):x.props,w=b[o],E=q8("number");if(!v[w]){y++;var S;return g?S=ry(0,p):s&&s[w]&&s[w].hasStack?(S=DV(s[w].stackGroups,l,c),S=TS(d,S,w,a)):(S=K_(E,jV(h,r.filter(function(P){var _,k,A=o in P.props?P.props[o]:(_=P.type.defaultProps)===null||_===void 0?void 0:_[o],I="hide"in P.props?P.props.hide:(k=P.type.defaultProps)===null||k===void 0?void 0:k.hide;return A===w&&!I}),"number",u),i.defaultProps.allowDataOverflow),S=TS(d,S,w,a)),te(te({},v),{},Ce({},w,te(te({axisType:a},i.defaultProps),{},{hide:!0,orientation:Qr(kTe,"".concat(a,".").concat(y%2),null),domain:S,originalDomain:E,isCategorical:g,layout:u})))}return v},{})},OTe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,d="".concat(i,"Id"),h=ki(u,a),p={};return h&&h.length?p=NTe(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(p=ITe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},CTe=function(e){var n=Eo(e),r=Aa(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:BT(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:G0(n,r)}},cM=function(e){var n=e.children,r=e.defaultShowTooltip,i=vr(n,cu),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},jTe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ca(n&&n.type);return r&&r.indexOf("Bar")>=0})},uM=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},RTe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,c=r.width,u=r.height,d=r.children,h=r.margin||{},p=vr(d,cu),g=vr(d,Ic),y=Object.keys(l).reduce(function(S,P){var _=l[P],k=_.orientation;return!_.mirror&&!_.hide?te(te({},S),{},Ce({},k,S[k]+_.width)):S},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(S,P){var _=o[P],k=_.orientation;return!_.mirror&&!_.hide?te(te({},S),{},Ce({},k,Qr(S,"".concat(k))+_.height)):S},{top:h.top||0,bottom:h.bottom||0}),x=te(te({},v),y),b=x.bottom;p&&(x.bottom+=p.props.height||cu.defaultProps.height),g&&n&&(x=Wve(x,i,r,n));var w=c-x.left-x.right,E=u-x.top-x.bottom;return te(te({brushBottom:b},x),{},{width:Math.max(w,0),height:Math.max(E,0)})},MTe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},DTe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(x,b){var w=b.graphicalItems,E=b.stackGroups,S=b.offset,P=b.updateId,_=b.dataStartIndex,k=b.dataEndIndex,A=x.barSize,I=x.layout,O=x.barGap,C=x.barCategoryGap,j=x.maxBarSize,M=uM(I),D=M.numericAxisName,L=M.cateAxisName,B=jTe(w),V=[];return w.forEach(function(U,F){var G=Ix(x.data,{graphicalItems:[U],dataStartIndex:_,dataEndIndex:k}),K=U.type.defaultProps!==void 0?te(te({},U.type.defaultProps),U.props):U.props,ie=K.dataKey,se=K.maxBarSize,ve=K["".concat(D,"Id")],ce=K["".concat(L,"Id")],de={},Y=l.reduce(function(Z,q){var re=b["".concat(q.axisType,"Map")],fe=K["".concat(q.axisType,"Id")];re&&re[fe]||q.axisType==="zAxis"||vl();var Te=re[fe];return te(te({},Z),{},Ce(Ce({},q.axisType,Te),"".concat(q.axisType,"Ticks"),Aa(Te)))},de),X=Y[L],me=Y["".concat(L,"Ticks")],J=E&&E[ve]&&E[ve].hasStack&&axe(U,E[ve].stackGroups),ee=Ca(U.type).indexOf("Bar")>=0,Oe=G0(X,me),Re=[],Le=B&&zve({barSize:A,stackGroups:E,totalSize:MTe(Y,L)});if(ee){var it,yt,Gt=Qe(se)?j:se,ne=(it=(yt=G0(X,me,!0))!==null&&yt!==void 0?yt:Gt)!==null&&it!==void 0?it:0;Re=qve({barGap:O,barCategoryGap:C,bandSize:ne!==Oe?ne:Oe,sizeList:Le[ce],maxBarSize:Gt}),ne!==Oe&&(Re=Re.map(function(Z){return te(te({},Z),{},{position:te(te({},Z.position),{},{offset:Z.position.offset-ne/2})})}))}var ye=U&&U.type&&U.type.getComposedData;ye&&V.push({props:te(te({},ye(te(te({},Y),{},{displayedData:G,props:x,dataKey:ie,item:U,bandSize:Oe,barPosition:Re,offset:S,stackedData:J,layout:I,dataStartIndex:_,dataEndIndex:k}))),{},Ce(Ce(Ce({key:U.key||"item-".concat(F)},D,Y[D]),L,Y[L]),"animationId",P)),childIndex:Uie(U,x.children),item:U})}),V},p=function(x,b){var w=x.props,E=x.dataStartIndex,S=x.dataEndIndex,P=x.updateId;if(!$O({props:w}))return null;var _=w.children,k=w.layout,A=w.stackOffset,I=w.data,O=w.reverseStackOrder,C=uM(k),j=C.numericAxisName,M=C.cateAxisName,D=ki(_,r),L=nxe(I,D,"".concat(j,"Id"),"".concat(M,"Id"),A,O),B=l.reduce(function(K,ie){var se="".concat(ie.axisType,"Map");return te(te({},K),{},Ce({},se,OTe(w,te(te({},ie),{},{graphicalItems:D,stackGroups:ie.axisType===j&&L,dataStartIndex:E,dataEndIndex:S}))))},{}),V=RTe(te(te({},B),{},{props:w,graphicalItems:D}),b==null?void 0:b.legendBBox);Object.keys(B).forEach(function(K){B[K]=u(w,B[K],V,K.replace("Map",""),n)});var U=B["".concat(M,"Map")],F=CTe(U),G=h(w,te(te({},B),{},{dataStartIndex:E,dataEndIndex:S,updateId:P,graphicalItems:D,stackGroups:L,offset:V}));return te(te({formattedGraphicalItems:G,graphicalItems:D,offset:V,stackGroups:L},F),B)},g=function(v){function x(b){var w,E,S;return pTe(this,x),S=yTe(this,x,[b]),Ce(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ce(S,"accessibilityManager",new eTe),Ce(S,"handleLegendBBoxUpdate",function(P){if(P){var _=S.state,k=_.dataStartIndex,A=_.dataEndIndex,I=_.updateId;S.setState(te({legendBBox:P},p({props:S.props,dataStartIndex:k,dataEndIndex:A,updateId:I},te(te({},S.state),{},{legendBBox:P}))))}}),Ce(S,"handleReceiveSyncEvent",function(P,_,k){if(S.props.syncId===P){if(k===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(_)}}),Ce(S,"handleBrushChange",function(P){var _=P.startIndex,k=P.endIndex;if(_!==S.state.dataStartIndex||k!==S.state.dataEndIndex){var A=S.state.updateId;S.setState(function(){return te({dataStartIndex:_,dataEndIndex:k},p({props:S.props,dataStartIndex:_,dataEndIndex:k,updateId:A},S.state))}),S.triggerSyncEvent({dataStartIndex:_,dataEndIndex:k})}}),Ce(S,"handleMouseEnter",function(P){var _=S.getMouseInfo(P);if(_){var k=te(te({},_),{},{isTooltipActive:!0});S.setState(k),S.triggerSyncEvent(k);var A=S.props.onMouseEnter;Ue(A)&&A(k,P)}}),Ce(S,"triggeredAfterMouseMove",function(P){var _=S.getMouseInfo(P),k=_?te(te({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(k),S.triggerSyncEvent(k);var A=S.props.onMouseMove;Ue(A)&&A(k,P)}),Ce(S,"handleItemMouseEnter",function(P){S.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),Ce(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Ce(S,"handleMouseMove",function(P){P.persist(),S.throttleTriggeredAfterMouseMove(P)}),Ce(S,"handleMouseLeave",function(P){S.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};S.setState(_),S.triggerSyncEvent(_);var k=S.props.onMouseLeave;Ue(k)&&k(_,P)}),Ce(S,"handleOuterEvent",function(P){var _=Vie(P),k=Qr(S.props,"".concat(_));if(_&&Ue(k)){var A,I;/.*touch.*/i.test(_)?I=S.getMouseInfo(P.changedTouches[0]):I=S.getMouseInfo(P),k((A=I)!==null&&A!==void 0?A:{},P)}}),Ce(S,"handleClick",function(P){var _=S.getMouseInfo(P);if(_){var k=te(te({},_),{},{isTooltipActive:!0});S.setState(k),S.triggerSyncEvent(k);var A=S.props.onClick;Ue(A)&&A(k,P)}}),Ce(S,"handleMouseDown",function(P){var _=S.props.onMouseDown;if(Ue(_)){var k=S.getMouseInfo(P);_(k,P)}}),Ce(S,"handleMouseUp",function(P){var _=S.props.onMouseUp;if(Ue(_)){var k=S.getMouseInfo(P);_(k,P)}}),Ce(S,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),Ce(S,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&S.handleMouseDown(P.changedTouches[0])}),Ce(S,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&S.handleMouseUp(P.changedTouches[0])}),Ce(S,"handleDoubleClick",function(P){var _=S.props.onDoubleClick;if(Ue(_)){var k=S.getMouseInfo(P);_(k,P)}}),Ce(S,"handleContextMenu",function(P){var _=S.props.onContextMenu;if(Ue(_)){var k=S.getMouseInfo(P);_(k,P)}}),Ce(S,"triggerSyncEvent",function(P){S.props.syncId!==void 0&&vw.emit(xw,S.props.syncId,P,S.eventEmitterSymbol)}),Ce(S,"applySyncEvent",function(P){var _=S.props,k=_.layout,A=_.syncMethod,I=S.state.updateId,O=P.dataStartIndex,C=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)S.setState(te({dataStartIndex:O,dataEndIndex:C},p({props:S.props,dataStartIndex:O,dataEndIndex:C,updateId:I},S.state)));else if(P.activeTooltipIndex!==void 0){var j=P.chartX,M=P.chartY,D=P.activeTooltipIndex,L=S.state,B=L.offset,V=L.tooltipTicks;if(!B)return;if(typeof A=="function")D=A(V,P);else if(A==="value"){D=-1;for(var U=0;U<V.length;U++)if(V[U].value===P.activeLabel){D=U;break}}var F=te(te({},B),{},{x:B.left,y:B.top}),G=Math.min(j,F.x+F.width),K=Math.min(M,F.y+F.height),ie=V[D]&&V[D].value,se=NS(S.state,S.props.data,D),ve=V[D]?{x:k==="horizontal"?V[D].coordinate:G,y:k==="horizontal"?K:V[D].coordinate}:z8;S.setState(te(te({},P),{},{activeLabel:ie,activeCoordinate:ve,activePayload:se,activeTooltipIndex:D}))}else S.setState(P)}),Ce(S,"renderCursor",function(P){var _,k=S.state,A=k.isTooltipActive,I=k.activeCoordinate,O=k.activePayload,C=k.offset,j=k.activeTooltipIndex,M=k.tooltipAxisBandSize,D=S.getTooltipEventType(),L=(_=P.props.active)!==null&&_!==void 0?_:A,B=S.props.layout,V=P.key||"_recharts-cursor";return z.createElement(sTe,{key:V,activeCoordinate:I,activePayload:O,activeTooltipIndex:j,chartName:n,element:P,isActive:L,layout:B,offset:C,tooltipAxisBandSize:M,tooltipEventType:D})}),Ce(S,"renderPolarAxis",function(P,_,k){var A=Qr(P,"type.axisType"),I=Qr(S.state,"".concat(A,"Map")),O=P.type.defaultProps,C=O!==void 0?te(te({},O),P.props):P.props,j=I&&I[C["".concat(A,"Id")]];return R.cloneElement(P,te(te({},j),{},{className:tt(A,j.className),key:P.key||"".concat(_,"-").concat(k),ticks:Aa(j,!0)}))}),Ce(S,"renderPolarGrid",function(P){var _=P.props,k=_.radialLines,A=_.polarAngles,I=_.polarRadius,O=S.state,C=O.radiusAxisMap,j=O.angleAxisMap,M=Eo(C),D=Eo(j),L=D.cx,B=D.cy,V=D.innerRadius,U=D.outerRadius;return R.cloneElement(P,{polarAngles:Array.isArray(A)?A:Aa(D,!0).map(function(F){return F.coordinate}),polarRadius:Array.isArray(I)?I:Aa(M,!0).map(function(F){return F.coordinate}),cx:L,cy:B,innerRadius:V,outerRadius:U,key:P.key||"polar-grid",radialLines:k})}),Ce(S,"renderLegend",function(){var P=S.state.formattedGraphicalItems,_=S.props,k=_.children,A=_.width,I=_.height,O=S.props.margin||{},C=A-(O.left||0)-(O.right||0),j=OV({children:k,formattedGraphicalItems:P,legendWidth:C,legendContent:c});if(!j)return null;var M=j.item,D=oM(j,lTe);return R.cloneElement(M,te(te({},D),{},{chartWidth:A,chartHeight:I,margin:O,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Ce(S,"renderTooltip",function(){var P,_=S.props,k=_.children,A=_.accessibilityLayer,I=vr(k,Li);if(!I)return null;var O=S.state,C=O.isTooltipActive,j=O.activeCoordinate,M=O.activePayload,D=O.activeLabel,L=O.offset,B=(P=I.props.active)!==null&&P!==void 0?P:C;return R.cloneElement(I,{viewBox:te(te({},L),{},{x:L.left,y:L.top}),active:B,label:D,payload:B?M:[],coordinate:j,accessibilityLayer:A})}),Ce(S,"renderBrush",function(P){var _=S.props,k=_.margin,A=_.data,I=S.state,O=I.offset,C=I.dataStartIndex,j=I.dataEndIndex,M=I.updateId;return R.cloneElement(P,{key:P.key||"_recharts-brush",onChange:km(S.handleBrushChange,P.props.onChange),data:A,x:ge(P.props.x)?P.props.x:O.left,y:ge(P.props.y)?P.props.y:O.top+O.height+O.brushBottom-(k.bottom||0),width:ge(P.props.width)?P.props.width:O.width,startIndex:C,endIndex:j,updateId:"brush-".concat(M)})}),Ce(S,"renderReferenceElement",function(P,_,k){if(!P)return null;var A=S,I=A.clipPathId,O=S.state,C=O.xAxisMap,j=O.yAxisMap,M=O.offset,D=P.type.defaultProps||{},L=P.props,B=L.xAxisId,V=B===void 0?D.xAxisId:B,U=L.yAxisId,F=U===void 0?D.yAxisId:U;return R.cloneElement(P,{key:P.key||"".concat(_,"-").concat(k),xAxis:C[V],yAxis:j[F],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:I})}),Ce(S,"renderActivePoints",function(P){var _=P.item,k=P.activePoint,A=P.basePoint,I=P.childIndex,O=P.isRange,C=[],j=_.props.key,M=_.item.type.defaultProps!==void 0?te(te({},_.item.type.defaultProps),_.item.props):_.item.props,D=M.activeDot,L=M.dataKey,B=te(te({index:I,dataKey:L,cx:k.x,cy:k.y,r:4,fill:pP(_.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},We(D,!1)),v0(D));return C.push(x.renderActiveDot(D,B,"".concat(j,"-activePoint-").concat(I))),A?C.push(x.renderActiveDot(D,te(te({},B),{},{cx:A.x,cy:A.y}),"".concat(j,"-basePoint-").concat(I))):O&&C.push(null),C}),Ce(S,"renderGraphicChild",function(P,_,k){var A=S.filterFormatItem(P,_,k);if(!A)return null;var I=S.getTooltipEventType(),O=S.state,C=O.isTooltipActive,j=O.tooltipAxis,M=O.activeTooltipIndex,D=O.activeLabel,L=S.props.children,B=vr(L,Li),V=A.props,U=V.points,F=V.isRange,G=V.baseLine,K=A.item.type.defaultProps!==void 0?te(te({},A.item.type.defaultProps),A.item.props):A.item.props,ie=K.activeDot,se=K.hide,ve=K.activeBar,ce=K.activeShape,de=!!(!se&&C&&B&&(ie||ve||ce)),Y={};I!=="axis"&&B&&B.props.trigger==="click"?Y={onClick:km(S.handleItemMouseEnter,P.props.onClick)}:I!=="axis"&&(Y={onMouseLeave:km(S.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:km(S.handleItemMouseEnter,P.props.onMouseEnter)});var X=R.cloneElement(P,te(te({},A.props),Y));function me(q){return typeof j.dataKey=="function"?j.dataKey(q.payload):null}if(de)if(M>=0){var J,ee;if(j.dataKey&&!j.allowDuplicatedCategory){var Oe=typeof j.dataKey=="function"?me:"payload.".concat(j.dataKey.toString());J=y0(U,Oe,D),ee=F&&G&&y0(G,Oe,D)}else J=U==null?void 0:U[M],ee=F&&G&&G[M];if(ce||ve){var Re=P.props.activeIndex!==void 0?P.props.activeIndex:M;return[R.cloneElement(P,te(te(te({},A.props),Y),{},{activeIndex:Re})),null,null]}if(!Qe(J))return[X].concat(xu(S.renderActivePoints({item:A,activePoint:J,basePoint:ee,childIndex:M,isRange:F})))}else{var Le,it=(Le=S.getItemByXY(S.state.activeCoordinate))!==null&&Le!==void 0?Le:{graphicalItem:X},yt=it.graphicalItem,Gt=yt.item,ne=Gt===void 0?P:Gt,ye=yt.childIndex,Z=te(te(te({},A.props),Y),{},{activeIndex:ye});return[R.cloneElement(ne,Z),null,null]}return F?[X,null,null]:[X,null]}),Ce(S,"renderCustomized",function(P,_,k){return R.cloneElement(P,te(te({key:"recharts-customized-".concat(k)},S.props),S.state))}),Ce(S,"renderMap",{CartesianGrid:{handler:Im,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Im},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Im},YAxis:{handler:Im},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:bp("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=OF(S.triggeredAfterMouseMove,(E=b.throttleDelay)!==null&&E!==void 0?E:1e3/60),S.state={},S}return bTe(x,v),gTe(x,[{key:"componentDidMount",value:function(){var w,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,E=w.children,S=w.data,P=w.height,_=w.layout,k=vr(E,Li);if(k){var A=k.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,O=NS(this.state,S,A,I),C=this.state.tooltipTicks[A].coordinate,j=(this.state.offset.top+P)/2,M=_==="horizontal",D=M?{x:C,y:j}:{y:C,x:j},L=this.state.formattedGraphicalItems.find(function(V){var U=V.item;return U.type.name==="Scatter"});L&&(D=te(te({},D),L.props.points[A].tooltipPosition),O=L.props.points[A].tooltipPayload);var B={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:I,activePayload:O,activeCoordinate:D};this.setState(B),this.renderCursor(k),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,P;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(w){c_([vr(w.children,Li)],[vr(this.props.children,Li)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=vr(this.props.children,Li);if(w&&typeof w.props.shared=="boolean"){var E=w.props.shared?"axis":"item";return s.indexOf(E)>=0?E:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var E=this.container,S=E.getBoundingClientRect(),P=pme(S),_={chartX:Math.round(w.pageX-P.left),chartY:Math.round(w.pageY-P.top)},k=S.width/E.offsetWidth||1,A=this.inRange(_.chartX,_.chartY,k);if(!A)return null;var I=this.state,O=I.xAxisMap,C=I.yAxisMap,j=this.getTooltipEventType(),M=lM(this.state,this.props.data,this.props.layout,A);if(j!=="axis"&&O&&C){var D=Eo(O).scale,L=Eo(C).scale,B=D&&D.invert?D.invert(_.chartX):null,V=L&&L.invert?L.invert(_.chartY):null;return te(te({},_),{},{xValue:B,yValue:V},M)}return M?te(te({},_),M):null}},{key:"inRange",value:function(w,E){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,_=w/S,k=E/S;if(P==="horizontal"||P==="vertical"){var A=this.state.offset,I=_>=A.left&&_<=A.left+A.width&&k>=A.top&&k<=A.top+A.height;return I?{x:_,y:k}:null}var O=this.state,C=O.angleAxisMap,j=O.radiusAxisMap;if(C&&j){var M=Eo(C);return Gj({x:_,y:k},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,E=this.getTooltipEventType(),S=vr(w,Li),P={};S&&E==="axis"&&(S.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=v0(this.props,this.handleOuterEvent);return te(te({},_),P)}},{key:"addListener",value:function(){vw.on(xw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){vw.removeListener(xw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,E,S){for(var P=this.state.formattedGraphicalItems,_=0,k=P.length;_<k;_++){var A=P[_];if(A.item===w||A.props.key===w.key||E===Ca(A.item.type)&&S===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,E=this.state.offset,S=E.left,P=E.top,_=E.height,k=E.width;return z.createElement("defs",null,z.createElement("clipPath",{id:w},z.createElement("rect",{x:S,y:P,height:_,width:k})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(E,S){var P=aM(S,2),_=P[0],k=P[1];return te(te({},E),{},Ce({},_,k.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(E,S){var P=aM(S,2),_=P[0],k=P[1];return te(te({},E),{},Ce({},_,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[w])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(w){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[w])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(w){var E=this.state,S=E.formattedGraphicalItems,P=E.activeItem;if(S&&S.length)for(var _=0,k=S.length;_<k;_++){var A=S[_],I=A.props,O=A.item,C=O.type.defaultProps!==void 0?te(te({},O.type.defaultProps),O.props):O.props,j=Ca(O.type);if(j==="Bar"){var M=(I.data||[]).find(function(V){return e1e(w,V)});if(M)return{graphicalItem:A,payload:M}}else if(j==="RadialBar"){var D=(I.data||[]).find(function(V){return Gj(w,V)});if(D)return{graphicalItem:A,payload:D}}else if(wx(A,P)||_x(A,P)||Fh(A,P)){var L=r_e({graphicalItem:A,activeTooltipItem:P,itemData:C.data}),B=C.activeIndex===void 0?L:C.activeIndex;return{graphicalItem:te(te({},A),{},{childIndex:B}),payload:Fh(A,P)?C.data[L]:A.props.data[L]}}}return null}},{key:"render",value:function(){var w=this;if(!$O(this))return null;var E=this.props,S=E.children,P=E.className,_=E.width,k=E.height,A=E.style,I=E.compact,O=E.title,C=E.desc,j=oM(E,cTe),M=We(j,!1);if(I)return z.createElement(BR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(d_,hc({},M,{width:_,height:k,title:O,desc:C}),this.renderClipPath(),FO(S,this.renderMap)));if(this.props.accessibilityLayer){var D,L;M.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,M.role=(L=this.props.role)!==null&&L!==void 0?L:"application",M.onKeyDown=function(V){w.accessibilityManager.keyboardEvent(V)},M.onFocus=function(){w.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return z.createElement(BR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",hc({className:tt("recharts-wrapper",P),style:te({position:"relative",cursor:"default",width:_,height:k},A)},B,{ref:function(U){w.container=U}}),z.createElement(d_,hc({},M,{width:_,height:k,title:O,desc:C,style:TTe}),this.renderClipPath(),FO(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(R.Component);Ce(g,"displayName",n),Ce(g,"defaultProps",te({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Ce(g,"getDerivedStateFromProps",function(v,x){var b=v.dataKey,w=v.data,E=v.children,S=v.width,P=v.height,_=v.layout,k=v.stackOffset,A=v.margin,I=x.dataStartIndex,O=x.dataEndIndex;if(x.updateId===void 0){var C=cM(v);return te(te(te({},C),{},{updateId:0},p(te(te({props:v},C),{},{updateId:0}),x)),{},{prevDataKey:b,prevData:w,prevWidth:S,prevHeight:P,prevLayout:_,prevStackOffset:k,prevMargin:A,prevChildren:E})}if(b!==x.prevDataKey||w!==x.prevData||S!==x.prevWidth||P!==x.prevHeight||_!==x.prevLayout||k!==x.prevStackOffset||!Nc(A,x.prevMargin)){var j=cM(v),M={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},D=te(te({},lM(x,w,_)),{},{updateId:x.updateId+1}),L=te(te(te({},j),M),D);return te(te(te({},L),p(te({props:v},L),x)),{},{prevDataKey:b,prevData:w,prevWidth:S,prevHeight:P,prevLayout:_,prevStackOffset:k,prevMargin:A,prevChildren:E})}if(!c_(E,x.prevChildren)){var B,V,U,F,G=vr(E,cu),K=G&&(B=(V=G.props)===null||V===void 0?void 0:V.startIndex)!==null&&B!==void 0?B:I,ie=G&&(U=(F=G.props)===null||F===void 0?void 0:F.endIndex)!==null&&U!==void 0?U:O,se=K!==I||ie!==O,ve=!Qe(w),ce=ve&&!se?x.updateId:x.updateId+1;return te(te({updateId:ce},p(te(te({props:v},x),{},{updateId:ce,dataStartIndex:K,dataEndIndex:ie}),x)),{},{prevChildren:E,dataStartIndex:K,dataEndIndex:ie})}return null}),Ce(g,"renderActiveDot",function(v,x,b){var w;return R.isValidElement(v)?w=R.cloneElement(v,x):Ue(v)?w=v(x):w=z.createElement(gP,x),z.createElement(jt,{className:"recharts-active-dot",key:b},w)});var y=R.forwardRef(function(x,b){return z.createElement(g,hc({},x,{ref:b}))});return y.displayName=g.displayName,y},$Te=DTe({chartName:"AreaChart",GraphicalChild:xs,axisComponents:[{axisType:"xAxis",AxisComp:Ax},{axisType:"yAxis",AxisComp:Nx}],formatAxisMap:ASe});const W8=6048e5,LTe=864e5,H8=6e4,G8=36e5,dM=Symbol.for("constructDateFrom");function Ir(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&dM in t?t[dM](e):t instanceof Date?new t.constructor(e):new Date(e)}function wt(t,e){return Ir(e||t,t)}function K8(t,e,n){const r=wt(t,n==null?void 0:n.in);return isNaN(e)?Ir(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function dg(t,e,n){const r=wt(t,n==null?void 0:n.in);if(isNaN(e))return Ir(t,NaN);if(!e)return r;const i=r.getDate(),a=Ir(t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const o=a.getDate();return i>=o?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}let FTe={};function Ox(){return FTe}function bu(t,e){var s,l,c,u;const n=Ox(),r=(e==null?void 0:e.weekStartsOn)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=wt(t,e==null?void 0:e.in),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function yy(t,e){return bu(t,{...e,weekStartsOn:1})}function Y8(t,e){const n=wt(t,e==null?void 0:e.in),r=n.getFullYear(),i=Ir(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=yy(i),o=Ir(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const s=yy(o);return n.getTime()>=a.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function fM(t){const e=wt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Pp(t,...e){const n=Ir.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function Na(t,e){const n=wt(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function Q8(t,e,n){const[r,i]=Pp(n==null?void 0:n.in,t,e),a=Na(r),o=Na(i),s=+a-fM(a),l=+o-fM(o);return Math.round((s-l)/LTe)}function VTe(t,e){const n=Y8(t,e),r=Ir(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),yy(r)}function Om(t,e,n){const[r,i]=Pp(n==null?void 0:n.in,t,e);return+Na(r)==+Na(i)}function UTe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function BTe(t){return!(!UTe(t)&&typeof t!="number"||isNaN(+wt(t)))}function zTe(t,e,n){const[r,i]=Pp(n==null?void 0:n.in,t,e),a=hM(r,i),o=Math.abs(Q8(r,i));r.setDate(r.getDate()-a*o);const s=+(hM(r,i)===-a),l=a*(o-s);return l===0?0:l}function hM(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function fg(t,e){const n=wt(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function qTe(t,e){const n=wt(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function WTe(t,e){const[n,r]=Pp(t,e.start,e.end);return{start:n,end:r}}function HTe(t,e){const{start:n,end:r}=WTe(e==null?void 0:e.in,t);let i=+n>+r;const a=i?+n:+r,o=i?r:n;o.setHours(0,0,0,0);let s=1;const l=[];for(;+o<=a;)l.push(Ir(n,o)),o.setDate(o.getDate()+s),o.setHours(0,0,0,0);return i?l.reverse():l}function GTe(t,e){const n=wt(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function KTe(t,e){const n=wt(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function YTe(t,e){const n=e==null?void 0:e.weekStartsOn,r=wt(t,e==null?void 0:e.in),i=r.getDay(),a=(i<n?-7:0)+6-(i-n);return r.setDate(r.getDate()+a),r.setHours(23,59,59,999),r}const QTe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},XTe=(t,e,n)=>{let r;const i=QTe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ww(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const JTe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ZTe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ePe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tPe={date:ww({formats:JTe,defaultWidth:"full"}),time:ww({formats:ZTe,defaultWidth:"full"}),dateTime:ww({formats:ePe,defaultWidth:"full"})},nPe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rPe=(t,e,n,r)=>nPe[t];function Rd(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,s=n!=null&&n.width?String(n.width):o;i=t.formattingValues[s]||t.formattingValues[o]}else{const o=t.defaultWidth,s=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[s]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const iPe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},aPe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},oPe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sPe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lPe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cPe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},uPe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},dPe={ordinalNumber:uPe,era:Rd({values:iPe,defaultWidth:"wide"}),quarter:Rd({values:aPe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Rd({values:oPe,defaultWidth:"wide"}),day:Rd({values:sPe,defaultWidth:"wide"}),dayPeriod:Rd({values:lPe,defaultWidth:"wide",formattingValues:cPe,defaultFormattingWidth:"wide"})};function Md(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],s=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?hPe(s,d=>d.test(o)):fPe(s,d=>d.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function fPe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function hPe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function pPe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const s=e.slice(i.length);return{value:o,rest:s}}}const mPe=/^(\d+)(th|st|nd|rd)?/i,gPe=/\d+/i,yPe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vPe={any:[/^b/i,/^(a|c)/i]},xPe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bPe={any:[/1/i,/2/i,/3/i,/4/i]},wPe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_Pe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},SPe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},EPe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kPe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},TPe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},PPe={ordinalNumber:pPe({matchPattern:mPe,parsePattern:gPe,valueCallback:t=>parseInt(t,10)}),era:Md({matchPatterns:yPe,defaultMatchWidth:"wide",parsePatterns:vPe,defaultParseWidth:"any"}),quarter:Md({matchPatterns:xPe,defaultMatchWidth:"wide",parsePatterns:bPe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Md({matchPatterns:wPe,defaultMatchWidth:"wide",parsePatterns:_Pe,defaultParseWidth:"any"}),day:Md({matchPatterns:SPe,defaultMatchWidth:"wide",parsePatterns:EPe,defaultParseWidth:"any"}),dayPeriod:Md({matchPatterns:kPe,defaultMatchWidth:"any",parsePatterns:TPe,defaultParseWidth:"any"})},APe={code:"en-US",formatDistance:XTe,formatLong:tPe,formatRelative:rPe,localize:dPe,match:PPe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function NPe(t,e){const n=wt(t,e==null?void 0:e.in);return Q8(n,KTe(n))+1}function IPe(t,e){const n=wt(t,e==null?void 0:e.in),r=+yy(n)-+VTe(n);return Math.round(r/W8)+1}function X8(t,e){var u,d,h,p;const n=wt(t,e==null?void 0:e.in),r=n.getFullYear(),i=Ox(),a=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=Ir((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const s=bu(o,e),l=Ir((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const c=bu(l,e);return+n>=+s?r+1:+n>=+c?r:r-1}function OPe(t,e){var s,l,c,u;const n=Ox(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=X8(t,e),a=Ir((e==null?void 0:e.in)||t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),bu(a,e)}function CPe(t,e){const n=wt(t,e==null?void 0:e.in),r=+bu(n,e)-+OPe(n,e);return Math.round(r/W8)+1}function ot(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const co={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ot(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ot(n+1,2)},d(t,e){return ot(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ot(t.getHours()%12||12,e.length)},H(t,e){return ot(t.getHours(),e.length)},m(t,e){return ot(t.getMinutes(),e.length)},s(t,e){return ot(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return ot(i,e.length)}},ql={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pM={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return co.y(t,e)},Y:function(t,e,n,r){const i=X8(t,r),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return ot(o,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):ot(a,e.length)},R:function(t,e){const n=Y8(t);return ot(n,e.length)},u:function(t,e){const n=t.getFullYear();return ot(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ot(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ot(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return co.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ot(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=CPe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):ot(i,e.length)},I:function(t,e,n){const r=IPe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ot(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):co.d(t,e)},D:function(t,e,n){const r=NPe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ot(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return ot(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return ot(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return ot(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=ql.noon:r===0?i=ql.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=ql.evening:r>=12?i=ql.afternoon:r>=4?i=ql.morning:i=ql.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return co.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):co.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ot(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ot(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):co.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):co.s(t,e)},S:function(t,e){return co.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return gM(r);case"XXXX":case"XX":return Ds(r);case"XXXXX":case"XXX":default:return Ds(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return gM(r);case"xxxx":case"xx":return Ds(r);case"xxxxx":case"xxx":default:return Ds(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+mM(r,":");case"OOOO":default:return"GMT"+Ds(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+mM(r,":");case"zzzz":default:return"GMT"+Ds(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return ot(r,e.length)},T:function(t,e,n){return ot(+t,e.length)}};function mM(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+ot(a,2)}function gM(t,e){return t%60===0?(t>0?"-":"+")+ot(Math.abs(t)/60,2):Ds(t,e)}function Ds(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=ot(Math.trunc(r/60),2),a=ot(r%60,2);return n+i+e+a}const yM=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},J8=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},jPe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return yM(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",yM(r,e)).replace("{{time}}",J8(i,e))},RPe={p:J8,P:jPe},MPe=/^D+$/,DPe=/^Y+$/,$Pe=["D","DD","YY","YYYY"];function LPe(t){return MPe.test(t)}function FPe(t){return DPe.test(t)}function VPe(t,e,n){const r=UPe(t,e,n);if(console.warn(r),$Pe.includes(t))throw new RangeError(r)}function UPe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const BPe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zPe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qPe=/^'([^]*?)'?$/,WPe=/''/g,HPe=/[a-zA-Z]/;function Lr(t,e,n){var u,d,h,p;const r=Ox(),i=r.locale??APe,a=r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,o=r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,s=wt(t,n==null?void 0:n.in);if(!BTe(s))throw new RangeError("Invalid time value");let l=e.match(zPe).map(g=>{const y=g[0];if(y==="p"||y==="P"){const v=RPe[y];return v(g,i.formatLong)}return g}).join("").match(BPe).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const y=g[0];if(y==="'")return{isToken:!1,value:GPe(g)};if(pM[y])return{isToken:!0,value:g};if(y.match(HPe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const c={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return l.map(g=>{if(!g.isToken)return g.value;const y=g.value;(FPe(y)||LPe(y))&&VPe(y,e,String(t));const v=pM[y[0]];return v(s,y,i.localize,c)}).join("")}function GPe(t){const e=t.match(qPe);return e?e[1].replace(WPe,"'"):t}function KPe(t,e){return+wt(t)>+wt(e)}function Dd(t,e){return+wt(t)<+wt(e)}function YPe(t,e,n){const[r,i]=Pp(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function Hh(t,e,n){const r=+wt(t,n==null?void 0:n.in),[i,a]=[+wt(e.start,n==null?void 0:n.in),+wt(e.end,n==null?void 0:n.in)].sort((o,s)=>o-s);return r>=i&&r<=a}function TP(t,e,n){return K8(t,-e,n)}function xa(t,e){const n=()=>Ir(e==null?void 0:e.in,NaN),i=ZPe(t);let a;if(i.date){const c=eAe(i.date,2);a=tAe(c.restDateString,c.year)}if(!a||isNaN(+a))return n();const o=+a;let s=0,l;if(i.time&&(s=nAe(i.time),isNaN(s)))return n();if(i.timezone){if(l=rAe(i.timezone),isNaN(l))return n()}else{const c=new Date(o+s),u=wt(0,e==null?void 0:e.in);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return wt(o+s+l,e==null?void 0:e.in)}const Cm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},QPe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,XPe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,JPe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ZPe(t){const e={},n=t.split(Cm.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Cm.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Cm.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=Cm.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function eAe(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:t.slice((r[1]||r[2]).length)}}function tAe(t,e){if(e===null)return new Date(NaN);const n=t.match(QPe);if(!n)return new Date(NaN);const r=!!n[4],i=$d(n[1]),a=$d(n[2])-1,o=$d(n[3]),s=$d(n[4]),l=$d(n[5])-1;if(r)return lAe(e,s,l)?iAe(e,s,l):new Date(NaN);{const c=new Date(0);return!oAe(e,a,o)||!sAe(e,i)?new Date(NaN):(c.setUTCFullYear(e,a,Math.max(i,o)),c)}}function $d(t){return t?parseInt(t):1}function nAe(t){const e=t.match(XPe);if(!e)return NaN;const n=_w(e[1]),r=_w(e[2]),i=_w(e[3]);return cAe(n,r,i)?n*G8+r*H8+i*1e3:NaN}function _w(t){return t&&parseFloat(t.replace(",","."))||0}function rAe(t){if(t==="Z")return 0;const e=t.match(JPe);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return uAe(r,i)?n*(r*G8+i*H8):NaN}function iAe(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,a=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}const aAe=[31,null,31,30,31,30,31,31,30,31,30,31];function Z8(t){return t%400===0||t%4===0&&t%100!==0}function oAe(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(aAe[e]||(Z8(t)?29:28))}function sAe(t,e){return e>=1&&e<=(Z8(t)?366:365)}function lAe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function cAe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function uAe(t,e){return e>=0&&e<=59}function dAe(t,e,n){return dg(t,-1,n)}const PP=({onChange:t,initialRange:e,range:n,onRangeChange:r,brandColor:i})=>{const[a,o]=R.useState(!1),[s,l]=R.useState(n||e||{from:null,to:null}),[c,u]=R.useState(null),[d,h]=R.useState(new Date),p=R.useRef(null);R.useEffect(()=>{const _=k=>{p.current&&!p.current.contains(k.target)&&o(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const g=_=>{const k=t||r,A=Na(_);if(!s.from||s.from&&s.to)l({from:A,to:null});else{let I;Dd(_,s.from)?I={from:Na(_),to:fg(s.from)}:I={from:Na(s.from),to:fg(_)},l(I),k&&k(I)}},y=_=>{s.from&&!s.to?u(_):u(null)},v=()=>{o(!1);const _=t||r;if(_){const k={...s};s.from&&(k.from=Na(s.from)),s.to&&(k.to=fg(s.to)),_(k)}},x=()=>{o(!1),l(n||e||{from:null,to:null})};R.useEffect(()=>{n&&l(n)},[n]);const b=()=>s.from&&s.to?`${Lr(s.from,"d MMM yyyy")}  ${Lr(s.to,"d MMM yyyy")}`:s.from?`${Lr(s.from,"d MMM yyyy")}  Select end date`:"",w=_=>{const k=GTe(_),A=qTe(k),I=bu(k,{weekStartsOn:1}),O=YTe(A,{weekStartsOn:1});let C=I;const j=[];let M=[];for(;C<=O;)M.push(C),M.length===7&&(j.push(M),M=[]),C=K8(C,1);return f.jsx("div",{className:"grid grid-cols-7 gap-y-2",children:j.map((D,L)=>D.map((B,V)=>{const U=s.from&&Om(B,s.from),F=s.to&&Om(B,s.to),G=s.from&&s.to&&Hh(B,{start:s.from,end:s.to});let K=!1;if(s.from&&!s.to&&c){const X=Dd(s.from,c)?s.from:c,me=KPe(s.from,c)?s.from:c;K=Hh(B,{start:X,end:me})&&!Om(B,s.from)}const ie=YPe(B,k);let se="relative w-10 h-10 flex items-center justify-center",ve="w-10 h-10 flex items-center justify-center text-sm relative z-10 cursor-pointer rounded-full transition-colors font-medium",ce="",de="text-gray-700 dark:text-slate-300";ie?U?(ce="bg-accent text-white font-semibold shadow-accent z-20 brightness-110",de="text-white"):F?ce="bg-white dark:bg-slate-800 border-2 border-accent text-accent font-semibold z-20 hover:brightness-110":G||K?de="text-accent font-semibold":ve+=" hover:bg-slate-100 dark:hover:bg-slate-700":de="text-gray-300 dark:text-slate-600 pointer-events-none";let Y="";return ie&&(G||K)&&(Y="absolute h-10 z-0 top-0 bottom-0",U&&(s.to||c)?Y+=Dd(s.to||c,s.from)?" left-0 right-1/2":" left-1/2 right-0 rounded-l-none":F?Y+=" left-0 right-1/2 rounded-r-none":Om(B,c)&&s.from?Y+=Dd(c,s.from)?" left-1/2 right-0":" left-0 right-1/2":Y+=" left-0 right-0",U&&s.to&&Dd(s.to,s.from)&&(Y="absolute h-10 z-0 top-0 bottom-0 left-0 right-1/2")),f.jsxs("div",{className:se,role:"button","aria-label":`Select ${Lr(B,"d MMMM yyyy")}`,tabIndex:ie?0:-1,onMouseEnter:()=>y(B),onClick:()=>g(B),onKeyDown:X=>{(X.key==="Enter"||X.key===" ")&&(X.preventDefault(),g(B))},children:[Y&&f.jsx("div",{className:Y,style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)"}}),f.jsx("div",{className:`${ve} ${ce} ${de}`,children:Lr(B,"d")})]},B.toISOString())}))})},E=()=>h(dg(d,1)),S=()=>h(dAe(d)),P=["Mo","Tu","We","Th","Fr","Sa","Su"];return f.jsxs("div",{className:"relative w-full max-w-xl font-sans",ref:p,children:[f.jsxs("div",{className:"relative flex items-center w-full",onClick:()=>o(!a),role:"button","aria-haspopup":"dialog","aria-expanded":a,"aria-label":"Select date range",tabIndex:0,onKeyDown:_=>{(_.key==="Enter"||_.key===" ")&&o(!a)},children:[f.jsx("div",{className:`w-full h-[44px] flex items-center ps-4 pe-10 bg-white dark:bg-slate-800 border-2 rounded-2xl cursor-pointer transition-all shadow-sm font-bold
            ${a?"border-accent/30 ring-4 ring-accent/10 bg-accent/5":"border-slate-100 dark:border-slate-800 hover:border-slate-300 dark:hover:border-slate-600"}`,children:f.jsx("span",{className:`text-[11px] font-bold ${s.from?"text-gray-900 dark:text-white":"text-gray-500 dark:text-slate-400"}`,children:s.from?b():"Select date range"})}),f.jsx(J4,{className:`absolute end-3 w-4 h-4 pointer-events-none transition-colors ${a?"text-accent":"text-slate-400"}`})]}),a&&f.jsxs("div",{className:"absolute top-full start-0 mt-4 z-50 bg-white dark:bg-slate-800 rounded-xl shadow-2xl border border-gray-100 dark:border-slate-700 p-0 overflow-hidden w-[680px] animate-in fade-in zoom-in-95 duration-200",role:"dialog","aria-modal":"true","aria-label":"Calendar date range picker",children:[f.jsxs("div",{className:"flex flex-col md:flex-row divide-y md:divide-y-0 md:divide-x dark:md:divide-slate-700 md:divide-gray-100",children:[f.jsxs("div",{className:"p-6 flex-1 min-w-[320px]",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("button",{onClick:S,className:"p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full text-gray-500 dark:text-slate-400 transition-colors","aria-label":"Previous month",children:f.jsx(hk,{className:"w-5 h-5"})}),f.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white",children:Lr(d,"MMMM yyyy")}),f.jsx("div",{className:"w-7"})]}),f.jsx("div",{className:"grid grid-cols-7 mb-4",children:P.map(_=>f.jsx("span",{className:"text-center text-xs font-semibold text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:_},_))}),w(d)]}),f.jsxs("div",{className:"p-6 flex-1 min-w-[320px]",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("div",{className:"w-7"}),f.jsx("h3",{className:"text-base font-bold text-gray-900",children:Lr(dg(d,1),"MMMM yyyy")}),f.jsx("button",{onClick:E,className:"p-1 hover:bg-gray-100 rounded-full text-gray-500 transition-colors","aria-label":"Next month",children:f.jsx(pk,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"grid grid-cols-7 mb-4",children:P.map(_=>f.jsx("span",{className:"text-center text-xs font-semibold text-gray-400 uppercase tracking-wide",children:_},_))}),w(dg(d,1))]})]}),f.jsxs("div",{className:"border-t border-gray-100 p-4 flex items-center justify-between bg-white px-6 py-4",children:[f.jsx("span",{className:"text-sm font-semibold text-gray-700",children:s.from&&s.to?`${zTe(s.to,s.from)+1} days`:s.from?"Select end date":""}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:x,className:"px-6 py-2.5 text-sm font-bold text-gray-700 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 hover:text-gray-900 transition-all font-sans",children:"Cancel"}),f.jsx("button",{onClick:v,className:"px-8 py-2.5 text-sm font-bold text-white bg-accent rounded-lg shadow-accent transition-all transform active:scale-95 font-sans",children:"Done"})]})]})]})]})},fAe=({title:t,options:e,selectedValues:n,onChange:r,onClear:i,showProductCount:a=!1,productCount:o=0,showSearch:s=!0,collapsible:l=!1})=>{const[c,u]=R.useState(""),[d,h]=R.useState(!l),p=y=>{const v=n.includes(y)?n.filter(x=>x!==y):[...n,y];r(v)},g=s?a?e:e.filter(y=>y.label.toLowerCase().includes(c.toLowerCase())):e;return f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-[0_2px_10px_-4px_rgba(0,0,0,0.1)] border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col w-full min-w-[240px]",children:[t&&t.length>0&&f.jsxs("div",{className:"px-4 py-3 pb-2 flex items-center justify-between",children:[f.jsx("div",{className:"flex items-center gap-3",children:f.jsx("h3",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:t})}),l&&f.jsx("button",{onClick:()=>h(!d),className:"p-1 rounded-full text-slate-400 hover:text-slate-600",children:d?f.jsx(eL,{className:"w-4 h-4"}):f.jsx(kl,{className:"w-4 h-4"})})]}),!a&&s&&d&&f.jsx("div",{className:"px-3 pb-2",children:f.jsxs("div",{className:"relative",children:[f.jsx(Cu,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),f.jsx("input",{type:"text",placeholder:"Search...",value:c,onChange:y=>u(y.target.value),className:"w-full ps-9 pe-3 py-2 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-lg text-sm outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent transition-all dark:text-white"})]})}),f.jsx("div",{className:`flex-1 px-2 pb-2 space-y-1 max-h-64 overflow-y-auto ${d?"":"hidden"}`,children:g.map(y=>{const v=n.includes(y.value);return f.jsxs("div",{onClick:()=>p(y.value),className:`flex items-center justify-between px-3 py-2.5 rounded-xl cursor-pointer transition-all group ${v?"bg-accent/10":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-5 h-5 rounded-[5px] border flex items-center justify-center transition-all ${v?"bg-accent border-accent shadow-sm":"border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800"}`,children:v&&f.jsx(Z4,{className:"w-3.5 h-3.5 text-white stroke-[3px]"})}),f.jsx("span",{className:`text-sm font-semibold ${v?"text-accent":"text-slate-600 dark:text-slate-300"}`,children:y.label})]}),f.jsx("span",{className:`text-xs font-bold ${v?"text-accent":"text-slate-400 group-hover:text-slate-500"}`,children:y.count})]},y.value)})}),n.length>0&&f.jsx("div",{className:"px-4 py-3 border-t border-slate-50 dark:border-slate-700/50",children:f.jsx("button",{onClick:i,className:"text-xs font-bold text-accent hover:underline transition-colors flex items-center gap-1",children:"Clear All"})})]})},xi=({title:t,options:e,selectedValues:n,onChange:r,icon:i,showProductCount:a=!1,productCount:o=0,showSearch:s=!0,ariaLabel:l=null})=>{const[c,u]=R.useState(!1),d=R.useRef(null);R.useEffect(()=>{const y=v=>{d.current&&!d.current.contains(v.target)&&u(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const h=()=>{r([])},p=()=>{u(!1)},g=n.length>0;return f.jsxs("div",{className:"relative",ref:d,children:[f.jsxs("button",{onClick:()=>u(!c),"aria-label":l||t||"Filter",className:`flex items-center gap-1.5 px-3 h-[44px] rounded-2xl border-2 transition-all font-bold text-[11px] outline-none ${c||g?"bg-accent/10 border-accent/30 text-accent":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-800 text-slate-500 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[i?f.jsx(i,{className:"w-4 h-4"}):f.jsx(mk,{className:"w-4 h-4"}),f.jsx("span",{className:"truncate max-w-[120px]",children:g?`${n.length} Selected`:t}),f.jsx(kl,{className:`w-4 h-4 transition-transform ${c?"rotate-180":""}`})]}),c&&f.jsx("div",{className:"absolute top-full start-0 mt-2 z-50 w-72 animate-in fade-in zoom-in-95 duration-200",children:f.jsx(fAe,{title:"",options:e,selectedValues:n,onChange:r,onClear:h,onClose:p,showProductCount:a,productCount:o,showSearch:s})})]})};class $n{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],o=e+a,s=Math.abs(e)<Math.abs(a)?e-(o-a):a-(o-e);s&&(n[r++]=s),e=o}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,o=0;if(n>0){for(o=e[--n];n>0&&(r=o,i=e[--n],o=r+i,a=i-(o-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}function*hAe(t){for(const e of t)yield*e}function e9(t){return Array.from(hAe(t))}function pc(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}var Ne=1e-6,Gh=1e-12,ze=Math.PI,Bt=ze/2,vy=ze/4,Qn=ze*2,pt=180/ze,Ie=ze/180,Xe=Math.abs,ed=Math.atan,Xn=Math.atan2,ke=Math.cos,jm=Math.ceil,t9=Math.exp,IS=Math.hypot,xy=Math.log,Sw=Math.pow,_e=Math.sin,Hr=Math.sign||function(t){return t>0?1:t<0?-1:0},yn=Math.sqrt,AP=Math.tan;function n9(t){return t>1?0:t<-1?ze:Math.acos(t)}function Jn(t){return t>1?Bt:t<-1?-Bt:Math.asin(t)}function vM(t){return(t=_e(t/2))*t}function Rt(){}function by(t,e){t&&bM.hasOwnProperty(t.type)&&bM[t.type](t,e)}var xM={Feature:function(t,e){by(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)by(n[r].geometry,e)}},bM={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){OS(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)OS(n[r],e,0)},Polygon:function(t,e){wM(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)wM(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)by(n[r],e)}};function OS(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function wM(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)OS(t[n],e,1);e.polygonEnd()}function mi(t,e){t&&xM.hasOwnProperty(t.type)?xM[t.type](t,e):by(t,e)}var wy=new $n,_y=new $n,r9,i9,CS,jS,RS,aa={point:Rt,lineStart:Rt,lineEnd:Rt,polygonStart:function(){wy=new $n,aa.lineStart=pAe,aa.lineEnd=mAe},polygonEnd:function(){var t=+wy;_y.add(t<0?Qn+t:t),this.lineStart=this.lineEnd=this.point=Rt},sphere:function(){_y.add(Qn)}};function pAe(){aa.point=gAe}function mAe(){a9(r9,i9)}function gAe(t,e){aa.point=a9,r9=t,i9=e,t*=Ie,e*=Ie,CS=t,jS=ke(e=e/2+vy),RS=_e(e)}function a9(t,e){t*=Ie,e*=Ie,e=e/2+vy;var n=t-CS,r=n>=0?1:-1,i=r*n,a=ke(e),o=_e(e),s=RS*o,l=jS*a+s*ke(i),c=s*r*_e(i);wy.add(Xn(c,l)),CS=t,jS=a,RS=o}function yAe(t){return _y=new $n,mi(t,aa),_y*2}function Sy(t){return[Xn(t[1],t[0]),Jn(t[2])]}function bl(t){var e=t[0],n=t[1],r=ke(n);return[r*ke(e),r*_e(e),_e(n)]}function Rm(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function wu(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ew(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Mm(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ey(t){var e=yn(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Ot,ir,Ft,br,$s,o9,s9,jc,Af,go,Ka,ya={point:MS,lineStart:_M,lineEnd:SM,polygonStart:function(){ya.point=c9,ya.lineStart=vAe,ya.lineEnd=xAe,Af=new $n,aa.polygonStart()},polygonEnd:function(){aa.polygonEnd(),ya.point=MS,ya.lineStart=_M,ya.lineEnd=SM,wy<0?(Ot=-(Ft=180),ir=-(br=90)):Af>Ne?br=90:Af<-Ne&&(ir=-90),Ka[0]=Ot,Ka[1]=Ft},sphere:function(){Ot=-(Ft=180),ir=-(br=90)}};function MS(t,e){go.push(Ka=[Ot=t,Ft=t]),e<ir&&(ir=e),e>br&&(br=e)}function l9(t,e){var n=bl([t*Ie,e*Ie]);if(jc){var r=wu(jc,n),i=[r[1],-r[0],0],a=wu(i,r);Ey(a),a=Sy(a);var o=t-$s,s=o>0?1:-1,l=a[0]*pt*s,c,u=Xe(o)>180;u^(s*$s<l&&l<s*t)?(c=a[1]*pt,c>br&&(br=c)):(l=(l+360)%360-180,u^(s*$s<l&&l<s*t)?(c=-a[1]*pt,c<ir&&(ir=c)):(e<ir&&(ir=e),e>br&&(br=e))),u?t<$s?xr(Ot,t)>xr(Ot,Ft)&&(Ft=t):xr(t,Ft)>xr(Ot,Ft)&&(Ot=t):Ft>=Ot?(t<Ot&&(Ot=t),t>Ft&&(Ft=t)):t>$s?xr(Ot,t)>xr(Ot,Ft)&&(Ft=t):xr(t,Ft)>xr(Ot,Ft)&&(Ot=t)}else go.push(Ka=[Ot=t,Ft=t]);e<ir&&(ir=e),e>br&&(br=e),jc=n,$s=t}function _M(){ya.point=l9}function SM(){Ka[0]=Ot,Ka[1]=Ft,ya.point=MS,jc=null}function c9(t,e){if(jc){var n=t-$s;Af.add(Xe(n)>180?n+(n>0?360:-360):n)}else o9=t,s9=e;aa.point(t,e),l9(t,e)}function vAe(){aa.lineStart()}function xAe(){c9(o9,s9),aa.lineEnd(),Xe(Af)>Ne&&(Ot=-(Ft=180)),Ka[0]=Ot,Ka[1]=Ft,jc=null}function xr(t,e){return(e-=t)<0?e+360:e}function bAe(t,e){return t[0]-e[0]}function EM(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function wAe(t){var e,n,r,i,a,o,s;if(br=Ft=-(Ot=ir=1/0),go=[],mi(t,ya),n=go.length){for(go.sort(bAe),e=1,r=go[0],a=[r];e<n;++e)i=go[e],EM(r,i[0])||EM(r,i[1])?(xr(r[0],i[1])>xr(r[0],r[1])&&(r[1]=i[1]),xr(i[0],r[1])>xr(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,n=a.length-1,e=0,r=a[n];e<=n;r=i,++e)i=a[e],(s=xr(r[1],i[0]))>o&&(o=s,Ot=i[0],Ft=r[1])}return go=Ka=null,Ot===1/0||ir===1/0?[[NaN,NaN],[NaN,NaN]]:[[Ot,ir],[Ft,br]]}var Yd,ky,Ty,Py,Ay,Ny,Iy,Oy,DS,$S,LS,u9,d9,Un,Bn,zn,bi={sphere:Rt,point:NP,lineStart:kM,lineEnd:TM,polygonStart:function(){bi.lineStart=EAe,bi.lineEnd=kAe},polygonEnd:function(){bi.lineStart=kM,bi.lineEnd=TM}};function NP(t,e){t*=Ie,e*=Ie;var n=ke(e);Ap(n*ke(t),n*_e(t),_e(e))}function Ap(t,e,n){++Yd,Ty+=(t-Ty)/Yd,Py+=(e-Py)/Yd,Ay+=(n-Ay)/Yd}function kM(){bi.point=_Ae}function _Ae(t,e){t*=Ie,e*=Ie;var n=ke(e);Un=n*ke(t),Bn=n*_e(t),zn=_e(e),bi.point=SAe,Ap(Un,Bn,zn)}function SAe(t,e){t*=Ie,e*=Ie;var n=ke(e),r=n*ke(t),i=n*_e(t),a=_e(e),o=Xn(yn((o=Bn*a-zn*i)*o+(o=zn*r-Un*a)*o+(o=Un*i-Bn*r)*o),Un*r+Bn*i+zn*a);ky+=o,Ny+=o*(Un+(Un=r)),Iy+=o*(Bn+(Bn=i)),Oy+=o*(zn+(zn=a)),Ap(Un,Bn,zn)}function TM(){bi.point=NP}function EAe(){bi.point=TAe}function kAe(){f9(u9,d9),bi.point=NP}function TAe(t,e){u9=t,d9=e,t*=Ie,e*=Ie,bi.point=f9;var n=ke(e);Un=n*ke(t),Bn=n*_e(t),zn=_e(e),Ap(Un,Bn,zn)}function f9(t,e){t*=Ie,e*=Ie;var n=ke(e),r=n*ke(t),i=n*_e(t),a=_e(e),o=Bn*a-zn*i,s=zn*r-Un*a,l=Un*i-Bn*r,c=IS(o,s,l),u=Jn(c),d=c&&-u/c;DS.add(d*o),$S.add(d*s),LS.add(d*l),ky+=u,Ny+=u*(Un+(Un=r)),Iy+=u*(Bn+(Bn=i)),Oy+=u*(zn+(zn=a)),Ap(Un,Bn,zn)}function PAe(t){Yd=ky=Ty=Py=Ay=Ny=Iy=Oy=0,DS=new $n,$S=new $n,LS=new $n,mi(t,bi);var e=+DS,n=+$S,r=+LS,i=IS(e,n,r);return i<Gh&&(e=Ny,n=Iy,r=Oy,ky<Ne&&(e=Ty,n=Py,r=Ay),i=IS(e,n,r),i<Gh)?[NaN,NaN]:[Xn(n,e)*pt,Jn(r/i)*pt]}function Wl(t){return function(){return t}}function FS(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function VS(t,e){return[Xe(t)>ze?t+Math.round(-t/Qn)*Qn:t,e]}VS.invert=VS;function IP(t,e,n){return(t%=Qn)?e||n?FS(AM(t),NM(e,n)):AM(t):e||n?NM(e,n):VS}function PM(t){return function(e,n){return e+=t,[e>ze?e-Qn:e<-ze?e+Qn:e,n]}}function AM(t){var e=PM(t);return e.invert=PM(-t),e}function NM(t,e){var n=ke(t),r=_e(t),i=ke(e),a=_e(e);function o(s,l){var c=ke(l),u=ke(s)*c,d=_e(s)*c,h=_e(l),p=h*n+u*r;return[Xn(d*i-p*a,u*n-h*r),Jn(p*i+d*a)]}return o.invert=function(s,l){var c=ke(l),u=ke(s)*c,d=_e(s)*c,h=_e(l),p=h*i-d*a;return[Xn(d*i+h*a,u*n+p*r),Jn(p*n-u*r)]},o}function h9(t){t=IP(t[0]*Ie,t[1]*Ie,t.length>2?t[2]*Ie:0);function e(n){return n=t(n[0]*Ie,n[1]*Ie),n[0]*=pt,n[1]*=pt,n}return e.invert=function(n){return n=t.invert(n[0]*Ie,n[1]*Ie),n[0]*=pt,n[1]*=pt,n},e}function p9(t,e,n,r,i,a){if(n){var o=ke(e),s=_e(e),l=r*n;i==null?(i=e+r*Qn,a=e-l/2):(i=IM(o,i),a=IM(o,a),(r>0?i<a:i>a)&&(i+=r*Qn));for(var c,u=i;r>0?u>a:u<a;u-=l)c=Sy([o,-s*ke(u),-s*_e(u)]),t.point(c[0],c[1])}}function IM(t,e){e=bl(e),e[0]-=t,Ey(e);var n=n9(-e[1]);return((-e[2]<0?-n:n)+Qn-Ne)%Qn}function AAe(){var t=Wl([0,0]),e=Wl(90),n=Wl(6),r,i,a={point:o};function o(l,c){r.push(l=i(l,c)),l[0]*=pt,l[1]*=pt}function s(){var l=t.apply(this,arguments),c=e.apply(this,arguments)*Ie,u=n.apply(this,arguments)*Ie;return r=[],i=IP(-l[0]*Ie,-l[1]*Ie,0).invert,p9(a,c,u,1),l={type:"Polygon",coordinates:[r]},r=i=null,l}return s.center=function(l){return arguments.length?(t=typeof l=="function"?l:Wl([+l[0],+l[1]]),s):t},s.radius=function(l){return arguments.length?(e=typeof l=="function"?l:Wl(+l),s):e},s.precision=function(l){return arguments.length?(n=typeof l=="function"?l:Wl(+l),s):n},s}function m9(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:Rt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function hg(t,e){return Xe(t[0]-e[0])<Ne&&Xe(t[1]-e[1])<Ne}function Dm(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function g9(t,e,n,r,i){var a=[],o=[],s,l;if(t.forEach(function(g){if(!((y=g.length-1)<=0)){var y,v=g[0],x=g[y],b;if(hg(v,x)){if(!v[2]&&!x[2]){for(i.lineStart(),s=0;s<y;++s)i.point((v=g[s])[0],v[1]);i.lineEnd();return}x[0]+=2*Ne}a.push(b=new Dm(v,g,null,!0)),o.push(b.o=new Dm(v,null,b,!1)),a.push(b=new Dm(x,g,null,!1)),o.push(b.o=new Dm(x,null,b,!0))}}),!!a.length){for(o.sort(e),OM(a),OM(o),s=0,l=o.length;s<l;++s)o[s].e=n=!n;for(var c=a[0],u,d;;){for(var h=c,p=!0;h.v;)if((h=h.n)===c)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(s=0,l=u.length;s<l;++s)i.point((d=u[s])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(u=h.p.z,s=u.length-1;s>=0;--s)i.point((d=u[s])[0],d[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,p=!p}while(!h.v);i.lineEnd()}}}function OM(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function kw(t){return Xe(t[0])<=ze?t[0]:Hr(t[0])*((Xe(t[0])+ze)%Qn-ze)}function y9(t,e){var n=kw(e),r=e[1],i=_e(r),a=[_e(n),-ke(n),0],o=0,s=0,l=new $n;i===1?r=Bt+Ne:i===-1&&(r=-Bt-Ne);for(var c=0,u=t.length;c<u;++c)if(h=(d=t[c]).length)for(var d,h,p=d[h-1],g=kw(p),y=p[1]/2+vy,v=_e(y),x=ke(y),b=0;b<h;++b,g=E,v=P,x=_,p=w){var w=d[b],E=kw(w),S=w[1]/2+vy,P=_e(S),_=ke(S),k=E-g,A=k>=0?1:-1,I=A*k,O=I>ze,C=v*P;if(l.add(Xn(C*A*_e(I),x*_+C*ke(I))),o+=O?k+A*Qn:k,O^g>=n^E>=n){var j=wu(bl(p),bl(w));Ey(j);var M=wu(a,j);Ey(M);var D=(O^k>=0?-1:1)*Jn(M[2]);(r>D||r===D&&(j[0]||j[1]))&&(s+=O^k>=0?1:-1)}}return(o<-Ne||o<Ne&&l<-Gh)^s&1}function v9(t,e,n,r){return function(i){var a=e(i),o=m9(),s=e(o),l=!1,c,u,d,h={point:p,lineStart:y,lineEnd:v,polygonStart:function(){h.point=x,h.lineStart=b,h.lineEnd=w,u=[],c=[]},polygonEnd:function(){h.point=p,h.lineStart=y,h.lineEnd=v,u=e9(u);var E=y9(c,r);u.length?(l||(i.polygonStart(),l=!0),g9(u,IAe,E,n,i)):E&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(E,S){t(E,S)&&i.point(E,S)}function g(E,S){a.point(E,S)}function y(){h.point=g,a.lineStart()}function v(){h.point=p,a.lineEnd()}function x(E,S){d.push([E,S]),s.point(E,S)}function b(){s.lineStart(),d=[]}function w(){x(d[0][0],d[0][1]),s.lineEnd();var E=s.clean(),S=o.result(),P,_=S.length,k,A,I;if(d.pop(),c.push(d),d=null,!!_){if(E&1){if(A=S[0],(k=A.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),P=0;P<k;++P)i.point((I=A[P])[0],I[1]);i.lineEnd()}return}_>1&&E&2&&S.push(S.pop().concat(S.shift())),u.push(S.filter(NAe))}}return h}}function NAe(t){return t.length>1}function IAe(t,e){return((t=t.x)[0]<0?t[1]-Bt-Ne:Bt-t[1])-((e=e.x)[0]<0?e[1]-Bt-Ne:Bt-e[1])}const US=v9(function(){return!0},OAe,jAe,[-ze,-Bt]);function OAe(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,o){var s=a>0?ze:-ze,l=Xe(a-e);Xe(l-ze)<Ne?(t.point(e,n=(n+o)/2>0?Bt:-Bt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(a,n),i=0):r!==s&&l>=ze&&(Xe(e-r)<Ne&&(e-=r*Ne),Xe(a-s)<Ne&&(a-=s*Ne),n=CAe(e,n,a,o),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),i=0),t.point(e=a,n=o),r=s},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function CAe(t,e,n,r){var i,a,o=_e(t-n);return Xe(o)>Ne?ed((_e(e)*(a=ke(r))*_e(n)-_e(r)*(i=ke(e))*_e(t))/(i*a*o)):(e+r)/2}function jAe(t,e,n,r){var i;if(t==null)i=n*Bt,r.point(-ze,i),r.point(0,i),r.point(ze,i),r.point(ze,0),r.point(ze,-i),r.point(0,-i),r.point(-ze,-i),r.point(-ze,0),r.point(-ze,i);else if(Xe(t[0]-e[0])>Ne){var a=t[0]<e[0]?ze:-ze;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function x9(t){var e=ke(t),n=6*Ie,r=e>0,i=Xe(e)>Ne;function a(u,d,h,p){p9(p,t,n,h,u,d)}function o(u,d){return ke(u)*ke(d)>e}function s(u){var d,h,p,g,y;return{lineStart:function(){g=p=!1,y=1},point:function(v,x){var b=[v,x],w,E=o(v,x),S=r?E?0:c(v,x):E?c(v+(v<0?ze:-ze),x):0;if(!d&&(g=p=E)&&u.lineStart(),E!==p&&(w=l(d,b),(!w||hg(d,w)||hg(b,w))&&(b[2]=1)),E!==p)y=0,E?(u.lineStart(),w=l(b,d),u.point(w[0],w[1])):(w=l(d,b),u.point(w[0],w[1],2),u.lineEnd()),d=w;else if(i&&d&&r^E){var P;!(S&h)&&(P=l(b,d,!0))&&(y=0,r?(u.lineStart(),u.point(P[0][0],P[0][1]),u.point(P[1][0],P[1][1]),u.lineEnd()):(u.point(P[1][0],P[1][1]),u.lineEnd(),u.lineStart(),u.point(P[0][0],P[0][1],3)))}E&&(!d||!hg(d,b))&&u.point(b[0],b[1]),d=b,p=E,h=S},lineEnd:function(){p&&u.lineEnd(),d=null},clean:function(){return y|(g&&p)<<1}}}function l(u,d,h){var p=bl(u),g=bl(d),y=[1,0,0],v=wu(p,g),x=Rm(v,v),b=v[0],w=x-b*b;if(!w)return!h&&u;var E=e*x/w,S=-e*b/w,P=wu(y,v),_=Mm(y,E),k=Mm(v,S);Ew(_,k);var A=P,I=Rm(_,A),O=Rm(A,A),C=I*I-O*(Rm(_,_)-1);if(!(C<0)){var j=yn(C),M=Mm(A,(-I-j)/O);if(Ew(M,_),M=Sy(M),!h)return M;var D=u[0],L=d[0],B=u[1],V=d[1],U;L<D&&(U=D,D=L,L=U);var F=L-D,G=Xe(F-ze)<Ne,K=G||F<Ne;if(!G&&V<B&&(U=B,B=V,V=U),K?G?B+V>0^M[1]<(Xe(M[0]-D)<Ne?B:V):B<=M[1]&&M[1]<=V:F>ze^(D<=M[0]&&M[0]<=L)){var ie=Mm(A,(-I+j)/O);return Ew(ie,_),[M,Sy(ie)]}}}function c(u,d){var h=r?t:ze-t,p=0;return u<-h?p|=1:u>h&&(p|=2),d<-h?p|=4:d>h&&(p|=8),p}return v9(o,s,a,r?[0,-t]:[-ze,t-ze])}function RAe(t,e,n,r,i,a){var o=t[0],s=t[1],l=e[0],c=e[1],u=0,d=1,h=l-o,p=c-s,g;if(g=n-o,!(!h&&g>0)){if(g/=h,h<0){if(g<u)return;g<d&&(d=g)}else if(h>0){if(g>d)return;g>u&&(u=g)}if(g=i-o,!(!h&&g<0)){if(g/=h,h<0){if(g>d)return;g>u&&(u=g)}else if(h>0){if(g<u)return;g<d&&(d=g)}if(g=r-s,!(!p&&g>0)){if(g/=p,p<0){if(g<u)return;g<d&&(d=g)}else if(p>0){if(g>d)return;g>u&&(u=g)}if(g=a-s,!(!p&&g<0)){if(g/=p,p<0){if(g>d)return;g>u&&(u=g)}else if(p>0){if(g<u)return;g<d&&(d=g)}return u>0&&(t[0]=o+u*h,t[1]=s+u*p),d<1&&(e[0]=o+d*h,e[1]=s+d*p),!0}}}}}var Qd=1e9,$m=-Qd;function Cx(t,e,n,r){function i(c,u){return t<=c&&c<=n&&e<=u&&u<=r}function a(c,u,d,h){var p=0,g=0;if(c==null||(p=o(c,d))!==(g=o(u,d))||l(c,u)<0^d>0)do h.point(p===0||p===3?t:n,p>1?r:e);while((p=(p+d+4)%4)!==g);else h.point(u[0],u[1])}function o(c,u){return Xe(c[0]-t)<Ne?u>0?0:3:Xe(c[0]-n)<Ne?u>0?2:1:Xe(c[1]-e)<Ne?u>0?1:0:u>0?3:2}function s(c,u){return l(c.x,u.x)}function l(c,u){var d=o(c,1),h=o(u,1);return d!==h?d-h:d===0?u[1]-c[1]:d===1?c[0]-u[0]:d===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,d=m9(),h,p,g,y,v,x,b,w,E,S,P,_={point:k,lineStart:C,lineEnd:j,polygonStart:I,polygonEnd:O};function k(D,L){i(D,L)&&u.point(D,L)}function A(){for(var D=0,L=0,B=p.length;L<B;++L)for(var V=p[L],U=1,F=V.length,G=V[0],K,ie,se=G[0],ve=G[1];U<F;++U)K=se,ie=ve,G=V[U],se=G[0],ve=G[1],ie<=r?ve>r&&(se-K)*(r-ie)>(ve-ie)*(t-K)&&++D:ve<=r&&(se-K)*(r-ie)<(ve-ie)*(t-K)&&--D;return D}function I(){u=d,h=[],p=[],P=!0}function O(){var D=A(),L=P&&D,B=(h=e9(h)).length;(L||B)&&(c.polygonStart(),L&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),B&&g9(h,s,D,a,c),c.polygonEnd()),u=c,h=p=g=null}function C(){_.point=M,p&&p.push(g=[]),S=!0,E=!1,b=w=NaN}function j(){h&&(M(y,v),x&&E&&d.rejoin(),h.push(d.result())),_.point=k,E&&u.lineEnd()}function M(D,L){var B=i(D,L);if(p&&g.push([D,L]),S)y=D,v=L,x=B,S=!1,B&&(u.lineStart(),u.point(D,L));else if(B&&E)u.point(D,L);else{var V=[b=Math.max($m,Math.min(Qd,b)),w=Math.max($m,Math.min(Qd,w))],U=[D=Math.max($m,Math.min(Qd,D)),L=Math.max($m,Math.min(Qd,L))];RAe(V,U,t,e,n,r)?(E||(u.lineStart(),u.point(V[0],V[1])),u.point(U[0],U[1]),B||u.lineEnd(),P=!1):B&&(u.lineStart(),u.point(D,L),P=!1)}b=D,w=L,E=B}return _}}function MAe(){var t=0,e=0,n=960,r=500,i,a,o;return o={stream:function(s){return i&&a===s?i:i=Cx(t,e,n,r)(a=s)},extent:function(s){return arguments.length?(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1],i=a=null,o):[[t,e],[n,r]]}}}var BS,zS,pg,mg,_u={sphere:Rt,point:Rt,lineStart:DAe,lineEnd:Rt,polygonStart:Rt,polygonEnd:Rt};function DAe(){_u.point=LAe,_u.lineEnd=$Ae}function $Ae(){_u.point=_u.lineEnd=Rt}function LAe(t,e){t*=Ie,e*=Ie,zS=t,pg=_e(e),mg=ke(e),_u.point=FAe}function FAe(t,e){t*=Ie,e*=Ie;var n=_e(e),r=ke(e),i=Xe(t-zS),a=ke(i),o=_e(i),s=r*o,l=mg*n-pg*r*a,c=pg*n+mg*r*a;BS.add(Xn(yn(s*s+l*l),c)),zS=t,pg=n,mg=r}function b9(t){return BS=new $n,mi(t,_u),+BS}var qS=[null,null],VAe={type:"LineString",coordinates:qS};function Cy(t,e){return qS[0]=t,qS[1]=e,b9(VAe)}var CM={Feature:function(t,e){return jy(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(jy(n[r].geometry,e))return!0;return!1}},jM={Sphere:function(){return!0},Point:function(t,e){return RM(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(RM(n[r],e))return!0;return!1},LineString:function(t,e){return MM(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(MM(n[r],e))return!0;return!1},Polygon:function(t,e){return DM(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(DM(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(jy(n[r],e))return!0;return!1}};function jy(t,e){return t&&jM.hasOwnProperty(t.type)?jM[t.type](t,e):!1}function RM(t,e){return Cy(t,e)===0}function MM(t,e){for(var n,r,i,a=0,o=t.length;a<o;a++){if(r=Cy(t[a],e),r===0||a>0&&(i=Cy(t[a],t[a-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Gh*i))return!0;n=r}return!1}function DM(t,e){return!!y9(t.map(UAe),w9(e))}function UAe(t){return t=t.map(w9),t.pop(),t}function w9(t){return[t[0]*Ie,t[1]*Ie]}function BAe(t,e){return(t&&CM.hasOwnProperty(t.type)?CM[t.type]:jy)(t,e)}function $M(t,e,n){var r=pc(t,e-Ne,n).concat(e);return function(i){return r.map(function(a){return[i,a]})}}function LM(t,e,n){var r=pc(t,e-Ne,n).concat(e);return function(i){return r.map(function(a){return[a,i]})}}function OP(){var t,e,n,r,i,a,o,s,l=10,c=l,u=90,d=360,h,p,g,y,v=2.5;function x(){return{type:"MultiLineString",coordinates:b()}}function b(){return pc(jm(r/u)*u,n,u).map(g).concat(pc(jm(s/d)*d,o,d).map(y)).concat(pc(jm(e/l)*l,t,l).filter(function(w){return Xe(w%u)>Ne}).map(h)).concat(pc(jm(a/c)*c,i,c).filter(function(w){return Xe(w%d)>Ne}).map(p))}return x.lines=function(){return b().map(function(w){return{type:"LineString",coordinates:w}})},x.outline=function(){return{type:"Polygon",coordinates:[g(r).concat(y(o).slice(1),g(n).reverse().slice(1),y(s).reverse().slice(1))]}},x.extent=function(w){return arguments.length?x.extentMajor(w).extentMinor(w):x.extentMinor()},x.extentMajor=function(w){return arguments.length?(r=+w[0][0],n=+w[1][0],s=+w[0][1],o=+w[1][1],r>n&&(w=r,r=n,n=w),s>o&&(w=s,s=o,o=w),x.precision(v)):[[r,s],[n,o]]},x.extentMinor=function(w){return arguments.length?(e=+w[0][0],t=+w[1][0],a=+w[0][1],i=+w[1][1],e>t&&(w=e,e=t,t=w),a>i&&(w=a,a=i,i=w),x.precision(v)):[[e,a],[t,i]]},x.step=function(w){return arguments.length?x.stepMajor(w).stepMinor(w):x.stepMinor()},x.stepMajor=function(w){return arguments.length?(u=+w[0],d=+w[1],x):[u,d]},x.stepMinor=function(w){return arguments.length?(l=+w[0],c=+w[1],x):[l,c]},x.precision=function(w){return arguments.length?(v=+w,h=$M(a,i,90),p=LM(e,t,v),g=$M(s,o,90),y=LM(r,n,v),x):v},x.extentMajor([[-180,-90+Ne],[180,90-Ne]]).extentMinor([[-180,-80-Ne],[180,80+Ne]])}function zAe(){return OP()()}function qAe(t,e){var n=t[0]*Ie,r=t[1]*Ie,i=e[0]*Ie,a=e[1]*Ie,o=ke(r),s=_e(r),l=ke(a),c=_e(a),u=o*ke(n),d=o*_e(n),h=l*ke(i),p=l*_e(i),g=2*Jn(yn(vM(a-r)+o*l*vM(i-n))),y=_e(g),v=g?function(x){var b=_e(x*=g)/y,w=_e(g-x)/y,E=w*u+b*h,S=w*d+b*p,P=w*s+b*c;return[Xn(S,E)*pt,Xn(P,yn(E*E+S*S))*pt]}:function(){return[n*pt,r*pt]};return v.distance=g,v}const Kh=t=>t;var Tw=new $n,WS=new $n,_9,S9,HS,GS,ba={point:Rt,lineStart:Rt,lineEnd:Rt,polygonStart:function(){ba.lineStart=WAe,ba.lineEnd=GAe},polygonEnd:function(){ba.lineStart=ba.lineEnd=ba.point=Rt,Tw.add(Xe(WS)),WS=new $n},result:function(){var t=Tw/2;return Tw=new $n,t}};function WAe(){ba.point=HAe}function HAe(t,e){ba.point=E9,_9=HS=t,S9=GS=e}function E9(t,e){WS.add(GS*t-HS*e),HS=t,GS=e}function GAe(){E9(_9,S9)}var Su=1/0,Ry=Su,Yh=-Su,My=Yh,Dy={point:KAe,lineStart:Rt,lineEnd:Rt,polygonStart:Rt,polygonEnd:Rt,result:function(){var t=[[Su,Ry],[Yh,My]];return Yh=My=-(Ry=Su=1/0),t}};function KAe(t,e){t<Su&&(Su=t),t>Yh&&(Yh=t),e<Ry&&(Ry=e),e>My&&(My=e)}var KS=0,YS=0,Xd=0,$y=0,Ly=0,mc=0,QS=0,XS=0,Jd=0,k9,T9,Vi,Ui,zr={point:wl,lineStart:FM,lineEnd:VM,polygonStart:function(){zr.lineStart=XAe,zr.lineEnd=JAe},polygonEnd:function(){zr.point=wl,zr.lineStart=FM,zr.lineEnd=VM},result:function(){var t=Jd?[QS/Jd,XS/Jd]:mc?[$y/mc,Ly/mc]:Xd?[KS/Xd,YS/Xd]:[NaN,NaN];return KS=YS=Xd=$y=Ly=mc=QS=XS=Jd=0,t}};function wl(t,e){KS+=t,YS+=e,++Xd}function FM(){zr.point=YAe}function YAe(t,e){zr.point=QAe,wl(Vi=t,Ui=e)}function QAe(t,e){var n=t-Vi,r=e-Ui,i=yn(n*n+r*r);$y+=i*(Vi+t)/2,Ly+=i*(Ui+e)/2,mc+=i,wl(Vi=t,Ui=e)}function VM(){zr.point=wl}function XAe(){zr.point=ZAe}function JAe(){P9(k9,T9)}function ZAe(t,e){zr.point=P9,wl(k9=Vi=t,T9=Ui=e)}function P9(t,e){var n=t-Vi,r=e-Ui,i=yn(n*n+r*r);$y+=i*(Vi+t)/2,Ly+=i*(Ui+e)/2,mc+=i,i=Ui*t-Vi*e,QS+=i*(Vi+t),XS+=i*(Ui+e),Jd+=i*3,wl(Vi=t,Ui=e)}function A9(t){this._context=t}A9.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Qn);break}}},result:Rt};var JS=new $n,Pw,N9,I9,Zd,ef,Qh={point:Rt,lineStart:function(){Qh.point=e2e},lineEnd:function(){Pw&&O9(N9,I9),Qh.point=Rt},polygonStart:function(){Pw=!0},polygonEnd:function(){Pw=null},result:function(){var t=+JS;return JS=new $n,t}};function e2e(t,e){Qh.point=O9,N9=Zd=t,I9=ef=e}function O9(t,e){Zd-=t,ef-=e,JS.add(yn(Zd*Zd+ef*ef)),Zd=t,ef=e}function C9(){this._string=[]}C9.prototype={_radius:4.5,_circle:UM(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._string.push("M",t,",",e),this._point=1;break}case 1:{this._string.push("L",t,",",e);break}default:{this._circle==null&&(this._circle=UM(this._radius)),this._string.push("M",t,",",e,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function UM(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function j9(t,e){var n=4.5,r,i;function a(o){return o&&(typeof n=="function"&&i.pointRadius(+n.apply(this,arguments)),mi(o,r(i))),i.result()}return a.area=function(o){return mi(o,r(ba)),ba.result()},a.measure=function(o){return mi(o,r(Qh)),Qh.result()},a.bounds=function(o){return mi(o,r(Dy)),Dy.result()},a.centroid=function(o){return mi(o,r(zr)),zr.result()},a.projection=function(o){return arguments.length?(r=o==null?(t=null,Kh):(t=o).stream,a):t},a.context=function(o){return arguments.length?(i=o==null?(e=null,new C9):new A9(e=o),typeof n!="function"&&i.pointRadius(n),a):e},a.pointRadius=function(o){return arguments.length?(n=typeof o=="function"?o:(i.pointRadius(+o),+o),a):n},a.projection(t).context(e)}function t2e(t){return{stream:Np(t)}}function Np(t){return function(e){var n=new ZS;for(var r in t)n[r]=t[r];return n.stream=e,n}}function ZS(){}ZS.prototype={constructor:ZS,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function CP(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),mi(n,t.stream(Dy)),e(Dy.result()),r!=null&&t.clipExtent(r),t}function jx(t,e,n){return CP(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),s=+e[0][0]+(i-o*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(a-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([s,l])},n)}function jP(t,e,n){return jx(t,[[0,0],e],n)}function RP(t,e,n){return CP(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,s=-a*r[0][1];t.scale(150*a).translate([o,s])},n)}function MP(t,e,n){return CP(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],s=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([o,s])},n)}var BM=16,n2e=ke(30*Ie);function zM(t,e){return+e?i2e(t,e):r2e(t)}function r2e(t){return Np({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function i2e(t,e){function n(r,i,a,o,s,l,c,u,d,h,p,g,y,v){var x=c-r,b=u-i,w=x*x+b*b;if(w>4*e&&y--){var E=o+h,S=s+p,P=l+g,_=yn(E*E+S*S+P*P),k=Jn(P/=_),A=Xe(Xe(P)-1)<Ne||Xe(a-d)<Ne?(a+d)/2:Xn(S,E),I=t(A,k),O=I[0],C=I[1],j=O-r,M=C-i,D=b*j-x*M;(D*D/w>e||Xe((x*j+b*M)/w-.5)>.3||o*h+s*p+l*g<n2e)&&(n(r,i,a,o,s,l,O,C,A,E/=_,S/=_,P,y,v),v.point(O,C),n(O,C,A,E,S,P,c,u,d,h,p,g,y,v))}}return function(r){var i,a,o,s,l,c,u,d,h,p,g,y,v={point:x,lineStart:b,lineEnd:E,polygonStart:function(){r.polygonStart(),v.lineStart=S},polygonEnd:function(){r.polygonEnd(),v.lineStart=b}};function x(k,A){k=t(k,A),r.point(k[0],k[1])}function b(){d=NaN,v.point=w,r.lineStart()}function w(k,A){var I=bl([k,A]),O=t(k,A);n(d,h,u,p,g,y,d=O[0],h=O[1],u=k,p=I[0],g=I[1],y=I[2],BM,r),r.point(d,h)}function E(){v.point=x,r.lineEnd()}function S(){b(),v.point=P,v.lineEnd=_}function P(k,A){w(i=k,A),a=d,o=h,s=p,l=g,c=y,v.point=w}function _(){n(d,h,u,p,g,y,a,o,i,s,l,c,BM,r),v.lineEnd=E,E()}return v}}var a2e=Np({point:function(t,e){this.stream.point(t*Ie,e*Ie)}});function o2e(t){return Np({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function s2e(t,e,n,r,i){function a(o,s){return o*=r,s*=i,[e+t*o,n-t*s]}return a.invert=function(o,s){return[(o-e)/t*r,(n-s)/t*i]},a}function qM(t,e,n,r,i,a){if(!a)return s2e(t,e,n,r,i);var o=ke(a),s=_e(a),l=o*t,c=s*t,u=o/t,d=s/t,h=(s*n-o*e)/t,p=(s*e+o*n)/t;function g(y,v){return y*=r,v*=i,[l*y-c*v+e,n-c*y-l*v]}return g.invert=function(y,v){return[r*(u*y-d*v+h),i*(p-d*y-u*v)]},g}function da(t){return DP(function(){return t})()}function DP(t){var e,n=150,r=480,i=250,a=0,o=0,s=0,l=0,c=0,u,d=0,h=1,p=1,g=null,y=US,v=null,x,b,w,E=Kh,S=.5,P,_,k,A,I;function O(D){return k(D[0]*Ie,D[1]*Ie)}function C(D){return D=k.invert(D[0],D[1]),D&&[D[0]*pt,D[1]*pt]}O.stream=function(D){return A&&I===D?A:A=a2e(o2e(u)(y(P(E(I=D)))))},O.preclip=function(D){return arguments.length?(y=D,g=void 0,M()):y},O.postclip=function(D){return arguments.length?(E=D,v=x=b=w=null,M()):E},O.clipAngle=function(D){return arguments.length?(y=+D?x9(g=D*Ie):(g=null,US),M()):g*pt},O.clipExtent=function(D){return arguments.length?(E=D==null?(v=x=b=w=null,Kh):Cx(v=+D[0][0],x=+D[0][1],b=+D[1][0],w=+D[1][1]),M()):v==null?null:[[v,x],[b,w]]},O.scale=function(D){return arguments.length?(n=+D,j()):n},O.translate=function(D){return arguments.length?(r=+D[0],i=+D[1],j()):[r,i]},O.center=function(D){return arguments.length?(a=D[0]%360*Ie,o=D[1]%360*Ie,j()):[a*pt,o*pt]},O.rotate=function(D){return arguments.length?(s=D[0]%360*Ie,l=D[1]%360*Ie,c=D.length>2?D[2]%360*Ie:0,j()):[s*pt,l*pt,c*pt]},O.angle=function(D){return arguments.length?(d=D%360*Ie,j()):d*pt},O.reflectX=function(D){return arguments.length?(h=D?-1:1,j()):h<0},O.reflectY=function(D){return arguments.length?(p=D?-1:1,j()):p<0},O.precision=function(D){return arguments.length?(P=zM(_,S=D*D),M()):yn(S)},O.fitExtent=function(D,L){return jx(O,D,L)},O.fitSize=function(D,L){return jP(O,D,L)},O.fitWidth=function(D,L){return RP(O,D,L)},O.fitHeight=function(D,L){return MP(O,D,L)};function j(){var D=qM(n,0,0,h,p,d).apply(null,e(a,o)),L=qM(n,r-D[0],i-D[1],h,p,d);return u=IP(s,l,c),_=FS(e,L),k=FS(u,_),P=zM(_,S),M()}function M(){return A=I=null,O}return function(){return e=t.apply(this,arguments),O.invert=e.invert&&C,j()}}function $P(t){var e=0,n=ze/3,r=DP(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*Ie,n=a[1]*Ie):[e*pt,n*pt]},i}function l2e(t){var e=ke(t);function n(r,i){return[r*e,_e(i)/e]}return n.invert=function(r,i){return[r/e,Jn(i*e)]},n}function R9(t,e){var n=_e(t),r=(n+_e(e))/2;if(Xe(r)<Ne)return l2e(t);var i=1+n*(2*r-n),a=yn(i)/r;function o(s,l){var c=yn(i-2*r*_e(l))/r;return[c*_e(s*=r),a-c*ke(s)]}return o.invert=function(s,l){var c=a-l,u=Xn(s,Xe(c))*Hr(c);return c*r<0&&(u-=ze*Hr(s)*Hr(c)),[u/r,Jn((i-(s*s+c*c)*r*r)/(2*r))]},o}function Fy(){return $P(R9).scale(155.424).center([0,33.6442])}function M9(){return Fy().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function c2e(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function u2e(){var t,e,n=M9(),r,i=Fy().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=Fy().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,l,c={point:function(h,p){l=[h,p]}};function u(h){var p=h[0],g=h[1];return l=null,r.point(p,g),l||(a.point(p,g),l)||(s.point(p,g),l)}u.invert=function(h){var p=n.scale(),g=n.translate(),y=(h[0]-g[0])/p,v=(h[1]-g[1])/p;return(v>=.12&&v<.234&&y>=-.425&&y<-.214?i:v>=.166&&v<.234&&y>=-.214&&y<-.115?o:n).invert(h)},u.stream=function(h){return t&&e===h?t:t=c2e([n.stream(e=h),i.stream(h),o.stream(h)])},u.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),o.precision(h),d()):n.precision()},u.scale=function(h){return arguments.length?(n.scale(h),i.scale(h*.35),o.scale(h),u.translate(n.translate())):n.scale()},u.translate=function(h){if(!arguments.length)return n.translate();var p=n.scale(),g=+h[0],y=+h[1];return r=n.translate(h).clipExtent([[g-.455*p,y-.238*p],[g+.455*p,y+.238*p]]).stream(c),a=i.translate([g-.307*p,y+.201*p]).clipExtent([[g-.425*p+Ne,y+.12*p+Ne],[g-.214*p-Ne,y+.234*p-Ne]]).stream(c),s=o.translate([g-.205*p,y+.212*p]).clipExtent([[g-.214*p+Ne,y+.166*p+Ne],[g-.115*p-Ne,y+.234*p-Ne]]).stream(c),d()},u.fitExtent=function(h,p){return jx(u,h,p)},u.fitSize=function(h,p){return jP(u,h,p)},u.fitWidth=function(h,p){return RP(u,h,p)},u.fitHeight=function(h,p){return MP(u,h,p)};function d(){return t=e=null,u}return u.scale(1070)}function D9(t){return function(e,n){var r=ke(e),i=ke(n),a=t(r*i);return a===1/0?[2,0]:[a*i*_e(e),a*_e(n)]}}function Ip(t){return function(e,n){var r=yn(e*e+n*n),i=t(r),a=_e(i),o=ke(i);return[Xn(e*a,r*o),Jn(r&&n*a/r)]}}var LP=D9(function(t){return yn(2/(1+t))});LP.invert=Ip(function(t){return 2*Jn(t/2)});function d2e(){return da(LP).scale(124.75).clipAngle(180-.001)}var FP=D9(function(t){return(t=n9(t))&&t/_e(t)});FP.invert=Ip(function(t){return t});function f2e(){return da(FP).scale(79.4188).clipAngle(180-.001)}function Op(t,e){return[t,xy(AP((Bt+e)/2))]}Op.invert=function(t,e){return[t,2*ed(t9(e))-Bt]};function h2e(){return $9(Op).scale(961/Qn)}function $9(t){var e=da(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,o=null,s,l,c;e.scale=function(d){return arguments.length?(r(d),u()):r()},e.translate=function(d){return arguments.length?(i(d),u()):i()},e.center=function(d){return arguments.length?(n(d),u()):n()},e.clipExtent=function(d){return arguments.length?(d==null?o=s=l=c=null:(o=+d[0][0],s=+d[0][1],l=+d[1][0],c=+d[1][1]),u()):o==null?null:[[o,s],[l,c]]};function u(){var d=ze*r(),h=e(h9(e.rotate()).invert([0,0]));return a(o==null?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:t===Op?[[Math.max(h[0]-d,o),s],[Math.min(h[0]+d,l),c]]:[[o,Math.max(h[1]-d,s)],[l,Math.min(h[1]+d,c)]])}return u()}function Lm(t){return AP((Bt+t)/2)}function L9(t,e){var n=ke(t),r=t===e?_e(t):xy(n/ke(e))/xy(Lm(e)/Lm(t)),i=n*Sw(Lm(t),r)/r;if(!r)return Op;function a(o,s){i>0?s<-Bt+Ne&&(s=-Bt+Ne):s>Bt-Ne&&(s=Bt-Ne);var l=i/Sw(Lm(s),r);return[l*_e(r*o),i-l*ke(r*o)]}return a.invert=function(o,s){var l=i-s,c=Hr(r)*yn(o*o+l*l),u=Xn(o,Xe(l))*Hr(l);return l*r<0&&(u-=ze*Hr(o)*Hr(l)),[u/r,2*ed(Sw(i/c,1/r))-Bt]},a}function p2e(){return $P(L9).scale(109.5).parallels([30,30])}function Xh(t,e){return[t,e]}Xh.invert=Xh;function m2e(){return da(Xh).scale(152.63)}function F9(t,e){var n=ke(t),r=t===e?_e(t):(n-ke(e))/(e-t),i=n/r+t;if(Xe(r)<Ne)return Xh;function a(o,s){var l=i-s,c=r*o;return[l*_e(c),i-l*ke(c)]}return a.invert=function(o,s){var l=i-s,c=Xn(o,Xe(l))*Hr(l);return l*r<0&&(c-=ze*Hr(o)*Hr(l)),[c/r,i-Hr(r)*yn(o*o+l*l)]},a}function g2e(){return $P(F9).scale(131.154).center([0,13.9389])}var Nf=1.340264,If=-.081106,Of=893e-6,Cf=.003796,Vy=yn(3)/2,y2e=12;function VP(t,e){var n=Jn(Vy*_e(e)),r=n*n,i=r*r*r;return[t*ke(n)/(Vy*(Nf+3*If*r+i*(7*Of+9*Cf*r))),n*(Nf+If*r+i*(Of+Cf*r))]}VP.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,a=0,o,s,l;a<y2e&&(s=n*(Nf+If*r+i*(Of+Cf*r))-e,l=Nf+3*If*r+i*(7*Of+9*Cf*r),n-=o=s/l,r=n*n,i=r*r*r,!(Xe(o)<Gh));++a);return[Vy*t*(Nf+3*If*r+i*(7*Of+9*Cf*r))/ke(n),Jn(_e(n)/Vy)]};function v2e(){return da(VP).scale(177.158)}function UP(t,e){var n=ke(e),r=ke(t)*n;return[n*_e(t)/r,_e(e)/r]}UP.invert=Ip(ed);function x2e(){return da(UP).scale(144.049).clipAngle(60)}function b2e(){var t=1,e=0,n=0,r=1,i=1,a=0,o,s,l=null,c,u,d,h=1,p=1,g=Np({point:function(E,S){var P=w([E,S]);this.stream.point(P[0],P[1])}}),y=Kh,v,x;function b(){return h=t*r,p=t*i,v=x=null,w}function w(E){var S=E[0]*h,P=E[1]*p;if(a){var _=P*o-S*s;S=S*o+P*s,P=_}return[S+e,P+n]}return w.invert=function(E){var S=E[0]-e,P=E[1]-n;if(a){var _=P*o+S*s;S=S*o-P*s,P=_}return[S/h,P/p]},w.stream=function(E){return v&&x===E?v:v=g(y(x=E))},w.postclip=function(E){return arguments.length?(y=E,l=c=u=d=null,b()):y},w.clipExtent=function(E){return arguments.length?(y=E==null?(l=c=u=d=null,Kh):Cx(l=+E[0][0],c=+E[0][1],u=+E[1][0],d=+E[1][1]),b()):l==null?null:[[l,c],[u,d]]},w.scale=function(E){return arguments.length?(t=+E,b()):t},w.translate=function(E){return arguments.length?(e=+E[0],n=+E[1],b()):[e,n]},w.angle=function(E){return arguments.length?(a=E%360*Ie,s=_e(a),o=ke(a),b()):a*pt},w.reflectX=function(E){return arguments.length?(r=E?-1:1,b()):r<0},w.reflectY=function(E){return arguments.length?(i=E?-1:1,b()):i<0},w.fitExtent=function(E,S){return jx(w,E,S)},w.fitSize=function(E,S){return jP(w,E,S)},w.fitWidth=function(E,S){return RP(w,E,S)},w.fitHeight=function(E,S){return MP(w,E,S)},w}function BP(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}BP.invert=function(t,e){var n=e,r=25,i;do{var a=n*n,o=a*a;n-=i=(n*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))-e)/(1.007226+a*(.015085*3+o*(-.044475*7+.028874*9*a-.005916*11*o)))}while(Xe(i)>Ne&&--r>0);return[t/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function w2e(){return da(BP).scale(175.295)}function zP(t,e){return[ke(e)*_e(t),_e(e)]}zP.invert=Ip(Jn);function _2e(){return da(zP).scale(249.5).clipAngle(90+Ne)}function qP(t,e){var n=ke(e),r=1+ke(t)*n;return[n*_e(t)/r,_e(e)/r]}qP.invert=Ip(function(t){return 2*ed(t)});function S2e(){return da(qP).scale(250).clipAngle(142)}function WP(t,e){return[xy(AP((Bt+e)/2)),-t]}WP.invert=function(t,e){return[-e,2*ed(t9(t))-Bt]};function E2e(){var t=$9(WP),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}const k2e=Object.freeze(Object.defineProperty({__proto__:null,geoAlbers:M9,geoAlbersUsa:u2e,geoArea:yAe,geoAzimuthalEqualArea:d2e,geoAzimuthalEqualAreaRaw:LP,geoAzimuthalEquidistant:f2e,geoAzimuthalEquidistantRaw:FP,geoBounds:wAe,geoCentroid:PAe,geoCircle:AAe,geoClipAntimeridian:US,geoClipCircle:x9,geoClipExtent:MAe,geoClipRectangle:Cx,geoConicConformal:p2e,geoConicConformalRaw:L9,geoConicEqualArea:Fy,geoConicEqualAreaRaw:R9,geoConicEquidistant:g2e,geoConicEquidistantRaw:F9,geoContains:BAe,geoDistance:Cy,geoEqualEarth:v2e,geoEqualEarthRaw:VP,geoEquirectangular:m2e,geoEquirectangularRaw:Xh,geoGnomonic:x2e,geoGnomonicRaw:UP,geoGraticule:OP,geoGraticule10:zAe,geoIdentity:b2e,geoInterpolate:qAe,geoLength:b9,geoMercator:h2e,geoMercatorRaw:Op,geoNaturalEarth1:w2e,geoNaturalEarth1Raw:BP,geoOrthographic:_2e,geoOrthographicRaw:zP,geoPath:j9,geoProjection:da,geoProjectionMutator:DP,geoRotation:h9,geoStereographic:S2e,geoStereographicRaw:qP,geoStream:mi,geoTransform:t2e,geoTransverseMercator:E2e,geoTransverseMercatorRaw:WP},Symbol.toStringTag,{value:"Module"}));function T2e(t){return t}function P2e(t){if(t==null)return T2e;var e,n,r=t.scale[0],i=t.scale[1],a=t.translate[0],o=t.translate[1];return function(s,l){l||(e=n=0);var c=2,u=s.length,d=new Array(u);for(d[0]=(e+=s[0])*r+a,d[1]=(n+=s[1])*i+o;c<u;)d[c]=s[c],++c;return d}}function A2e(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}function N2e(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return WM(t,n)})}:WM(t,e)}function WM(t,e){var n=e.id,r=e.bbox,i=e.properties==null?{}:e.properties,a=V9(t,e);return n==null&&r==null?{type:"Feature",properties:i,geometry:a}:r==null?{type:"Feature",id:n,properties:i,geometry:a}:{type:"Feature",id:n,bbox:r,properties:i,geometry:a}}function V9(t,e){var n=P2e(t.transform),r=t.arcs;function i(u,d){d.length&&d.pop();for(var h=r[u<0?~u:u],p=0,g=h.length;p<g;++p)d.push(n(h[p],p));u<0&&A2e(d,g)}function a(u){return n(u)}function o(u){for(var d=[],h=0,p=u.length;h<p;++h)i(u[h],d);return d.length<2&&d.push(d[0]),d}function s(u){for(var d=o(u);d.length<4;)d.push(d[0]);return d}function l(u){return u.map(s)}function c(u){var d=u.type,h;switch(d){case"GeometryCollection":return{type:d,geometries:u.geometries.map(c)};case"Point":h=a(u.coordinates);break;case"MultiPoint":h=u.coordinates.map(a);break;case"LineString":h=o(u.arcs);break;case"MultiLineString":h=u.arcs.map(o);break;case"Polygon":h=l(u.arcs);break;case"MultiPolygon":h=u.arcs.map(l);break;default:return null}return{type:d,coordinates:h}}return c(e)}function I2e(t,e){var n={},r={},i={},a=[],o=-1;e.forEach(function(c,u){var d=t.arcs[c<0?~c:c],h;d.length<3&&!d[1][0]&&!d[1][1]&&(h=e[++o],e[o]=c,e[u]=h)}),e.forEach(function(c){var u=s(c),d=u[0],h=u[1],p,g;if(p=i[d])if(delete i[p.end],p.push(c),p.end=h,g=r[h]){delete r[g.start];var y=g===p?p:p.concat(g);r[y.start=p.start]=i[y.end=g.end]=y}else r[p.start]=i[p.end]=p;else if(p=r[h])if(delete r[p.start],p.unshift(c),p.start=d,g=i[d]){delete i[g.end];var v=g===p?p:g.concat(p);r[v.start=g.start]=i[v.end=p.end]=v}else r[p.start]=i[p.end]=p;else p=[c],r[p.start=d]=i[p.end=h]=p});function s(c){var u=t.arcs[c<0?~c:c],d=u[0],h;return t.transform?(h=[0,0],u.forEach(function(p){h[0]+=p[0],h[1]+=p[1]})):h=u[u.length-1],c<0?[h,d]:[d,h]}function l(c,u){for(var d in c){var h=c[d];delete u[h.start],delete h.start,delete h.end,h.forEach(function(p){n[p<0?~p:p]=1}),a.push(h)}}return l(i,r),l(r,i),e.forEach(function(c){n[c<0?~c:c]||a.push([c])}),a}function HM(t){return V9(t,O2e.apply(this,arguments))}function O2e(t,e,n){var r,i,a;if(arguments.length>1)r=C2e(t,e,n);else for(i=0,r=new Array(a=t.arcs.length);i<a;++i)r[i]=i;return{type:"MultiLineString",arcs:I2e(t,r)}}function C2e(t,e,n){var r=[],i=[],a;function o(d){var h=d<0?~d:d;(i[h]||(i[h]=[])).push({i:d,g:a})}function s(d){d.forEach(o)}function l(d){d.forEach(s)}function c(d){d.forEach(l)}function u(d){switch(a=d,d.type){case"GeometryCollection":d.geometries.forEach(u);break;case"LineString":s(d.arcs);break;case"MultiLineString":case"Polygon":l(d.arcs);break;case"MultiPolygon":c(d.arcs);break}}return u(e),i.forEach(n==null?function(d){r.push(d[0].i)}:function(d){n(d[0].g,d[d.length-1].g)&&r.push(d[0].i)}),r}var j2e={value:()=>{}};function HP(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new gg(n)}function gg(t){this._=t}function R2e(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}gg.prototype=HP.prototype={constructor:gg,on:function(t,e){var n=this._,r=R2e(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=M2e(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=GM(n[i],t.name,e);else if(e==null)for(i in n)n[i]=GM(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new gg(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function M2e(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function GM(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=j2e,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var eE="http://www.w3.org/1999/xhtml";const KM={svg:"http://www.w3.org/2000/svg",xhtml:eE,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Rx(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),KM.hasOwnProperty(e)?{space:KM[e],local:t}:t}function D2e(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===eE&&e.documentElement.namespaceURI===eE?e.createElement(t):e.createElementNS(n,t)}}function $2e(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function U9(t){var e=Rx(t);return(e.local?$2e:D2e)(e)}function L2e(){}function GP(t){return t==null?L2e:function(){return this.querySelector(t)}}function F2e(t){typeof t!="function"&&(t=GP(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=new Array(o),l,c,u=0;u<o;++u)(l=a[u])&&(c=t.call(l,l.__data__,u,a))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new fr(r,this._parents)}function B9(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function V2e(){return[]}function z9(t){return t==null?V2e:function(){return this.querySelectorAll(t)}}function U2e(t){return function(){var e=t.apply(this,arguments);return e==null?[]:B9(e)}}function B2e(t){typeof t=="function"?t=U2e(t):t=z9(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],s=o.length,l,c=0;c<s;++c)(l=o[c])&&(r.push(t.call(l,l.__data__,c,o)),i.push(l));return new fr(r,i)}function q9(t){return function(){return this.matches(t)}}function W9(t){return function(e){return e.matches(t)}}var z2e=Array.prototype.find;function q2e(t){return function(){return z2e.call(this.children,t)}}function W2e(){return this.firstElementChild}function H2e(t){return this.select(t==null?W2e:q2e(typeof t=="function"?t:W9(t)))}var G2e=Array.prototype.filter;function K2e(){return this.children}function Y2e(t){return function(){return G2e.call(this.children,t)}}function Q2e(t){return this.selectAll(t==null?K2e:Y2e(typeof t=="function"?t:W9(t)))}function X2e(t){typeof t!="function"&&(t=q9(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],l,c=0;c<o;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&s.push(l);return new fr(r,this._parents)}function H9(t){return new Array(t.length)}function J2e(){return new fr(this._enter||this._groups.map(H9),this._parents)}function Uy(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Uy.prototype={constructor:Uy,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Z2e(t){return function(){return t}}function eNe(t,e,n,r,i,a){for(var o=0,s,l=e.length,c=a.length;o<c;++o)(s=e[o])?(s.__data__=a[o],r[o]=s):n[o]=new Uy(t,a[o]);for(;o<l;++o)(s=e[o])&&(i[o]=s)}function tNe(t,e,n,r,i,a,o){var s,l,c=new Map,u=e.length,d=a.length,h=new Array(u),p;for(s=0;s<u;++s)(l=e[s])&&(h[s]=p=o.call(l,l.__data__,s,e)+"",c.has(p)?i[s]=l:c.set(p,l));for(s=0;s<d;++s)p=o.call(t,a[s],s,a)+"",(l=c.get(p))?(r[s]=l,l.__data__=a[s],c.delete(p)):n[s]=new Uy(t,a[s]);for(s=0;s<u;++s)(l=e[s])&&c.get(h[s])===l&&(i[s]=l)}function nNe(t){return t.__data__}function rNe(t,e){if(!arguments.length)return Array.from(this,nNe);var n=e?tNe:eNe,r=this._parents,i=this._groups;typeof t!="function"&&(t=Z2e(t));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var u=r[c],d=i[c],h=d.length,p=B9(t.call(u,u&&u.__data__,c,r)),g=p.length,y=s[c]=new Array(g),v=o[c]=new Array(g),x=l[c]=new Array(h);n(u,d,y,v,x,p,e);for(var b=0,w=0,E,S;b<g;++b)if(E=y[b]){for(b>=w&&(w=b+1);!(S=v[w])&&++w<g;);E._next=S||null}}return o=new fr(o,r),o._enter=s,o._exit=l,o}function iNe(){return new fr(this._exit||this._groups.map(H9),this._parents)}function aNe(t,e,n){var r=this.enter(),i=this,a=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),e!=null&&(i=e(i)),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function oNe(t){if(!(t instanceof fr))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l=e[s],c=n[s],u=l.length,d=o[s]=new Array(u),h,p=0;p<u;++p)(h=l[p]||c[p])&&(d[p]=h);for(;s<r;++s)o[s]=e[s];return new fr(o,this._parents)}function sNe(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function lNe(t){t||(t=cNe);function e(d,h){return d&&h?t(d.__data__,h.__data__):!d-!h}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,l=i[a]=new Array(s),c,u=0;u<s;++u)(c=o[u])&&(l[u]=c);l.sort(e)}return new fr(i,this._parents).order()}function cNe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function uNe(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function dNe(){return Array.from(this)}function fNe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function hNe(){let t=0;for(const e of this)++t;return t}function pNe(){return!this.node()}function mNe(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&t.call(s,s.__data__,a,i);return this}function gNe(t){return function(){this.removeAttribute(t)}}function yNe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vNe(t,e){return function(){this.setAttribute(t,e)}}function xNe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function bNe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function wNe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function _Ne(t,e){var n=Rx(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?yNe:gNe:typeof e=="function"?n.local?wNe:bNe:n.local?xNe:vNe)(n,e))}function G9(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function SNe(t){return function(){this.style.removeProperty(t)}}function ENe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function kNe(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function TNe(t,e,n){return arguments.length>1?this.each((e==null?SNe:typeof e=="function"?kNe:ENe)(t,e,n??"")):Eu(this.node(),t)}function Eu(t,e){return t.style.getPropertyValue(e)||G9(t).getComputedStyle(t,null).getPropertyValue(e)}function PNe(t){return function(){delete this[t]}}function ANe(t,e){return function(){this[t]=e}}function NNe(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function INe(t,e){return arguments.length>1?this.each((e==null?PNe:typeof e=="function"?NNe:ANe)(t,e)):this.node()[t]}function K9(t){return t.trim().split(/^|\s+/)}function KP(t){return t.classList||new Y9(t)}function Y9(t){this._node=t,this._names=K9(t.getAttribute("class")||"")}Y9.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Q9(t,e){for(var n=KP(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function X9(t,e){for(var n=KP(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function ONe(t){return function(){Q9(this,t)}}function CNe(t){return function(){X9(this,t)}}function jNe(t,e){return function(){(e.apply(this,arguments)?Q9:X9)(this,t)}}function RNe(t,e){var n=K9(t+"");if(arguments.length<2){for(var r=KP(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?jNe:e?ONe:CNe)(n,e))}function MNe(){this.textContent=""}function DNe(t){return function(){this.textContent=t}}function $Ne(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function LNe(t){return arguments.length?this.each(t==null?MNe:(typeof t=="function"?$Ne:DNe)(t)):this.node().textContent}function FNe(){this.innerHTML=""}function VNe(t){return function(){this.innerHTML=t}}function UNe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function BNe(t){return arguments.length?this.each(t==null?FNe:(typeof t=="function"?UNe:VNe)(t)):this.node().innerHTML}function zNe(){this.nextSibling&&this.parentNode.appendChild(this)}function qNe(){return this.each(zNe)}function WNe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function HNe(){return this.each(WNe)}function GNe(t){var e=typeof t=="function"?t:U9(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function KNe(){return null}function YNe(t,e){var n=typeof t=="function"?t:U9(t),r=e==null?KNe:typeof e=="function"?e:GP(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function QNe(){var t=this.parentNode;t&&t.removeChild(this)}function XNe(){return this.each(QNe)}function JNe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ZNe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function eIe(t){return this.select(t?ZNe:JNe)}function tIe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function nIe(t){return function(e){t.call(this,e,this.__data__)}}function rIe(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function iIe(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function aIe(t,e,n){return function(){var r=this.__on,i,a=nIe(e);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function oIe(t,e,n){var r=rIe(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,u;l<c;++l)for(i=0,u=s[l];i<a;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(s=e?aIe:iIe,i=0;i<a;++i)this.each(s(r[i],e,n));return this}function J9(t,e,n){var r=G9(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function sIe(t,e){return function(){return J9(this,t,e)}}function lIe(t,e){return function(){return J9(this,t,e.apply(this,arguments))}}function cIe(t,e){return this.each((typeof e=="function"?lIe:sIe)(t,e))}function*uIe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var Z9=[null];function fr(t,e){this._groups=t,this._parents=e}function Cp(){return new fr([[document.documentElement]],Z9)}function dIe(){return this}fr.prototype=Cp.prototype={constructor:fr,select:F2e,selectAll:B2e,selectChild:H2e,selectChildren:Q2e,filter:X2e,data:rNe,enter:J2e,exit:iNe,join:aNe,merge:oNe,selection:dIe,order:sNe,sort:lNe,call:uNe,nodes:dNe,node:fNe,size:hNe,empty:pNe,each:mNe,attr:_Ne,style:TNe,property:INe,classed:RNe,text:LNe,html:BNe,raise:qNe,lower:HNe,append:GNe,insert:YNe,remove:XNe,clone:eIe,datum:tIe,on:oIe,dispatch:cIe,[Symbol.iterator]:uIe};function wa(t){return typeof t=="string"?new fr([[document.querySelector(t)]],[document.documentElement]):new fr([[t]],Z9)}function fIe(t){let e;for(;e=t.sourceEvent;)t=e;return t}function As(t,e){if(t=fIe(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function tE(t){t.preventDefault(),t.stopImmediatePropagation()}function hIe(t){var e=t.document.documentElement,n=wa(t).on("dragstart.drag",tE,!0);"onselectstart"in e?n.on("selectstart.drag",tE,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function pIe(t,e){var n=t.document.documentElement,r=wa(t).on("dragstart.drag",null);e&&(r.on("click.drag",tE,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var mIe=1e-12;function YM(t){return((t=Math.exp(t))+1/t)/2}function gIe(t){return((t=Math.exp(t))-1/t)/2}function yIe(t){return((t=Math.exp(2*t))-1)/(t+1)}const vIe=function t(e,n,r){function i(a,o){var s=a[0],l=a[1],c=a[2],u=o[0],d=o[1],h=o[2],p=u-s,g=d-l,y=p*p+g*g,v,x;if(y<mIe)x=Math.log(h/c)/e,v=function(_){return[s+_*p,l+_*g,c*Math.exp(e*_*x)]};else{var b=Math.sqrt(y),w=(h*h-c*c+r*y)/(2*c*n*b),E=(h*h-c*c-r*y)/(2*h*n*b),S=Math.log(Math.sqrt(w*w+1)-w),P=Math.log(Math.sqrt(E*E+1)-E);x=(P-S)/e,v=function(_){var k=_*x,A=YM(S),I=c/(n*b)*(A*yIe(e*k+S)-gIe(S));return[s+I*p,l+I*g,c*A/YM(e*k+S)]}}return v.duration=x*1e3*e/Math.SQRT2,v}return i.rho=function(a){var o=Math.max(.001,+a),s=o*o,l=s*s;return t(o,s,l)},i}(Math.SQRT2,2,4);var ku=0,tf=0,Ld=0,eU=1e3,By,nf,zy=0,_l=0,Mx=0,Jh=typeof performance=="object"&&performance.now?performance:Date,tU=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function YP(){return _l||(tU(xIe),_l=Jh.now()+Mx)}function xIe(){_l=0}function qy(){this._call=this._time=this._next=null}qy.prototype=nU.prototype={constructor:qy,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?YP():+n)+(e==null?0:+e),!this._next&&nf!==this&&(nf?nf._next=this:By=this,nf=this),this._call=t,this._time=n,nE()},stop:function(){this._call&&(this._call=null,this._time=1/0,nE())}};function nU(t,e,n){var r=new qy;return r.restart(t,e,n),r}function bIe(){YP(),++ku;for(var t=By,e;t;)(e=_l-t._time)>=0&&t._call.call(null,e),t=t._next;--ku}function QM(){_l=(zy=Jh.now())+Mx,ku=tf=0;try{bIe()}finally{ku=0,_Ie(),_l=0}}function wIe(){var t=Jh.now(),e=t-zy;e>eU&&(Mx-=e,zy=t)}function _Ie(){for(var t,e=By,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:By=n);nf=t,nE(r)}function nE(t){if(!ku){tf&&(tf=clearTimeout(tf));var e=t-_l;e>24?(t<1/0&&(tf=setTimeout(QM,t-Jh.now()-Mx)),Ld&&(Ld=clearInterval(Ld))):(Ld||(zy=Jh.now(),Ld=setInterval(wIe,eU)),ku=1,tU(QM))}}function XM(t,e,n){var r=new qy;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var SIe=HP("start","end","cancel","interrupt"),EIe=[],rU=0,JM=1,rE=2,yg=3,ZM=4,iE=5,vg=6;function Dx(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;kIe(t,n,{name:e,index:r,group:i,on:SIe,tween:EIe,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:rU})}function QP(t,e){var n=Ii(t,e);if(n.state>rU)throw new Error("too late; already scheduled");return n}function fa(t,e){var n=Ii(t,e);if(n.state>yg)throw new Error("too late; already running");return n}function Ii(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function kIe(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=nU(a,0,n.time);function a(c){n.state=JM,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,d,h,p;if(n.state!==JM)return l();for(u in r)if(p=r[u],p.name===n.name){if(p.state===yg)return XM(o);p.state===ZM?(p.state=vg,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[u]):+u<e&&(p.state=vg,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[u])}if(XM(function(){n.state===yg&&(n.state=ZM,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=rE,n.on.call("start",t,t.__data__,n.index,n.group),n.state===rE){for(n.state=yg,i=new Array(h=n.tween.length),u=0,d=-1;u<h;++u)(p=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=p);i.length=d+1}}function s(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=iE,1),d=-1,h=i.length;++d<h;)i[d].call(t,u);n.state===iE&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=vg,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function xg(t,e){var n=t.__transition,r,i,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=!1;continue}i=r.state>rE&&r.state<iE,r.state=vg,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}a&&delete t.__transition}}function TIe(t){return this.each(function(){xg(this,t)})}function XP(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function iU(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function jp(){}var Zh=.7,Wy=1/Zh,Rc="\\s*([+-]?\\d+)\\s*",ep="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ta="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",PIe=/^#([0-9a-f]{3,8})$/,AIe=new RegExp("^rgb\\("+[Rc,Rc,Rc]+"\\)$"),NIe=new RegExp("^rgb\\("+[ta,ta,ta]+"\\)$"),IIe=new RegExp("^rgba\\("+[Rc,Rc,Rc,ep]+"\\)$"),OIe=new RegExp("^rgba\\("+[ta,ta,ta,ep]+"\\)$"),CIe=new RegExp("^hsl\\("+[ep,ta,ta]+"\\)$"),jIe=new RegExp("^hsla\\("+[ep,ta,ta,ep]+"\\)$"),eD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};XP(jp,tp,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:tD,formatHex:tD,formatHsl:RIe,formatRgb:nD,toString:nD});function tD(){return this.rgb().formatHex()}function RIe(){return aU(this).formatHsl()}function nD(){return this.rgb().formatRgb()}function tp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=PIe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?rD(e):n===3?new Er(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Fm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Fm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=AIe.exec(t))?new Er(e[1],e[2],e[3],1):(e=NIe.exec(t))?new Er(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=IIe.exec(t))?Fm(e[1],e[2],e[3],e[4]):(e=OIe.exec(t))?Fm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=CIe.exec(t))?oD(e[1],e[2]/100,e[3]/100,1):(e=jIe.exec(t))?oD(e[1],e[2]/100,e[3]/100,e[4]):eD.hasOwnProperty(t)?rD(eD[t]):t==="transparent"?new Er(NaN,NaN,NaN,0):null}function rD(t){return new Er(t>>16&255,t>>8&255,t&255,1)}function Fm(t,e,n,r){return r<=0&&(t=e=n=NaN),new Er(t,e,n,r)}function MIe(t){return t instanceof jp||(t=tp(t)),t?(t=t.rgb(),new Er(t.r,t.g,t.b,t.opacity)):new Er}function aE(t,e,n,r){return arguments.length===1?MIe(t):new Er(t,e,n,r??1)}function Er(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}XP(Er,aE,iU(jp,{brighter:function(t){return t=t==null?Wy:Math.pow(Wy,t),new Er(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?Zh:Math.pow(Zh,t),new Er(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iD,formatHex:iD,formatRgb:aD,toString:aD}));function iD(){return"#"+Aw(this.r)+Aw(this.g)+Aw(this.b)}function aD(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function Aw(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function oD(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Bi(t,e,n,r)}function aU(t){if(t instanceof Bi)return new Bi(t.h,t.s,t.l,t.opacity);if(t instanceof jp||(t=tp(t)),!t)return new Bi;if(t instanceof Bi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Bi(o,s,l,t.opacity)}function DIe(t,e,n,r){return arguments.length===1?aU(t):new Bi(t,e,n,r??1)}function Bi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}XP(Bi,DIe,iU(jp,{brighter:function(t){return t=t==null?Wy:Math.pow(Wy,t),new Bi(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Zh:Math.pow(Zh,t),new Bi(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Er(Nw(t>=240?t-240:t+120,i,r),Nw(t,i,r),Nw(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function Nw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const oU=t=>()=>t;function $Ie(t,e){return function(n){return t+n*e}}function LIe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function FIe(t){return(t=+t)==1?sU:function(e,n){return n-e?LIe(e,n,t):oU(isNaN(e)?n:e)}}function sU(t,e){var n=e-t;return n?$Ie(t,n):oU(isNaN(t)?e:t)}const sD=function t(e){var n=FIe(e);function r(i,a){var o=n((i=aE(i)).r,(a=aE(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),c=sU(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function yo(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var oE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Iw=new RegExp(oE.source,"g");function VIe(t){return function(){return t}}function UIe(t){return function(e){return t(e)+""}}function BIe(t,e){var n=oE.lastIndex=Iw.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=oE.exec(t))&&(i=Iw.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:yo(r,i)})),n=Iw.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?UIe(l[0].x):VIe(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}var lD=180/Math.PI,sE={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function lU(t,e,n,r,i,a){var o,s,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*lD,skewX:Math.atan(l)*lD,scaleX:o,scaleY:s}}var Vm;function zIe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?sE:lU(e.a,e.b,e.c,e.d,e.e,e.f)}function qIe(t){return t==null||(Vm||(Vm=document.createElementNS("http://www.w3.org/2000/svg","g")),Vm.setAttribute("transform",t),!(t=Vm.transform.baseVal.consolidate()))?sE:(t=t.matrix,lU(t.a,t.b,t.c,t.d,t.e,t.f))}function cU(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function a(c,u,d,h,p,g){if(c!==d||u!==h){var y=p.push("translate(",null,e,null,n);g.push({i:y-4,x:yo(c,d)},{i:y-2,x:yo(u,h)})}else(d||h)&&p.push("translate("+d+e+h+n)}function o(c,u,d,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:d.push(i(d)+"rotate(",null,r)-2,x:yo(c,u)})):u&&d.push(i(d)+"rotate("+u+r)}function s(c,u,d,h){c!==u?h.push({i:d.push(i(d)+"skewX(",null,r)-2,x:yo(c,u)}):u&&d.push(i(d)+"skewX("+u+r)}function l(c,u,d,h,p,g){if(c!==d||u!==h){var y=p.push(i(p)+"scale(",null,",",null,")");g.push({i:y-4,x:yo(c,d)},{i:y-2,x:yo(u,h)})}else(d!==1||h!==1)&&p.push(i(p)+"scale("+d+","+h+")")}return function(c,u){var d=[],h=[];return c=t(c),u=t(u),a(c.translateX,c.translateY,u.translateX,u.translateY,d,h),o(c.rotate,u.rotate,d,h),s(c.skewX,u.skewX,d,h),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,h),c=u=null,function(p){for(var g=-1,y=h.length,v;++g<y;)d[(v=h[g]).i]=v.x(p);return d.join("")}}}var WIe=cU(zIe,"px, ","px)","deg)"),HIe=cU(qIe,", ",")",")");function GIe(t,e){var n,r;return function(){var i=fa(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function KIe(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=fa(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=s;break}l===c&&i.push(s)}a.tween=i}}function YIe(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Ii(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?GIe:KIe)(n,t,e))}function JP(t,e,n){var r=t._id;return t.each(function(){var i=fa(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Ii(i,r).value[e]}}function uU(t,e){var n;return(typeof e=="number"?yo:e instanceof tp?sD:(n=tp(e))?(e=n,sD):BIe)(t,e)}function QIe(t){return function(){this.removeAttribute(t)}}function XIe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function JIe(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function ZIe(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function eOe(t,e,n){var r,i,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s)))}}function tOe(t,e,n){var r,i,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s)))}}function nOe(t,e){var n=Rx(t),r=n==="transform"?HIe:uU;return this.attrTween(t,typeof e=="function"?(n.local?tOe:eOe)(n,r,JP(this,"attr."+t,e)):e==null?(n.local?XIe:QIe)(n):(n.local?ZIe:JIe)(n,r,e))}function rOe(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function iOe(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function aOe(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&iOe(t,a)),n}return i._value=e,i}function oOe(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&rOe(t,a)),n}return i._value=e,i}function sOe(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Rx(t);return this.tween(n,(r.local?aOe:oOe)(r,e))}function lOe(t,e){return function(){QP(this,t).delay=+e.apply(this,arguments)}}function cOe(t,e){return e=+e,function(){QP(this,t).delay=e}}function uOe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?lOe:cOe)(e,t)):Ii(this.node(),e).delay}function dOe(t,e){return function(){fa(this,t).duration=+e.apply(this,arguments)}}function fOe(t,e){return e=+e,function(){fa(this,t).duration=e}}function hOe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?dOe:fOe)(e,t)):Ii(this.node(),e).duration}function pOe(t,e){if(typeof e!="function")throw new Error;return function(){fa(this,t).ease=e}}function mOe(t){var e=this._id;return arguments.length?this.each(pOe(e,t)):Ii(this.node(),e).ease}function gOe(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;fa(this,t).ease=n}}function yOe(t){if(typeof t!="function")throw new Error;return this.each(gOe(this._id,t))}function vOe(t){typeof t!="function"&&(t=q9(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],l,c=0;c<o;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&s.push(l);return new Ya(r,this._parents,this._name,this._id)}function xOe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l=e[s],c=n[s],u=l.length,d=o[s]=new Array(u),h,p=0;p<u;++p)(h=l[p]||c[p])&&(d[p]=h);for(;s<r;++s)o[s]=e[s];return new Ya(o,this._parents,this._name,this._id)}function bOe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function wOe(t,e,n){var r,i,a=bOe(e)?QP:fa;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}function _Oe(t,e){var n=this._id;return arguments.length<2?Ii(this.node(),n).on.on(t):this.each(wOe(n,t,e))}function SOe(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function EOe(){return this.on("end.remove",SOe(this._id))}function kOe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=GP(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],l=s.length,c=a[o]=new Array(l),u,d,h=0;h<l;++h)(u=s[h])&&(d=t.call(u,u.__data__,h,s))&&("__data__"in u&&(d.__data__=u.__data__),c[h]=d,Dx(c[h],e,n,h,c,Ii(u,n)));return new Ya(a,this._parents,e,n)}function TOe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=z9(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l=r[s],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var h=t.call(u,u.__data__,d,l),p,g=Ii(u,n),y=0,v=h.length;y<v;++y)(p=h[y])&&Dx(p,e,n,y,h,g);a.push(h),o.push(u)}return new Ya(a,o,e,n)}var POe=Cp.prototype.constructor;function AOe(){return new POe(this._groups,this._parents)}function NOe(t,e){var n,r,i;return function(){var a=Eu(this,t),o=(this.style.removeProperty(t),Eu(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function dU(t){return function(){this.style.removeProperty(t)}}function IOe(t,e,n){var r,i=n+"",a;return function(){var o=Eu(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}function OOe(t,e,n){var r,i,a;return function(){var o=Eu(this,t),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),Eu(this,t))),o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s))}}function COe(t,e){var n,r,i,a="style."+e,o="end."+a,s;return function(){var l=fa(this,t),c=l.on,u=l.value[a]==null?s||(s=dU(e)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(o,i=u),l.on=r}}function jOe(t,e,n){var r=(t+="")=="transform"?WIe:uU;return e==null?this.styleTween(t,NOe(t,r)).on("end.style."+t,dU(t)):typeof e=="function"?this.styleTween(t,OOe(t,r,JP(this,"style."+t,e))).each(COe(this._id,t)):this.styleTween(t,IOe(t,r,e),n).on("end.style."+t,null)}function ROe(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function MOe(t,e,n){var r,i;function a(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&ROe(t,o,n)),r}return a._value=e,a}function DOe(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,MOe(t,e,n??""))}function $Oe(t){return function(){this.textContent=t}}function LOe(t){return function(){var e=t(this);this.textContent=e??""}}function FOe(t){return this.tween("text",typeof t=="function"?LOe(JP(this,"text",t)):$Oe(t==null?"":t+""))}function VOe(t){return function(e){this.textContent=t.call(this,e)}}function UOe(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&VOe(i)),e}return r._value=t,r}function BOe(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,UOe(t))}function zOe(){for(var t=this._name,e=this._id,n=fU(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,c=0;c<s;++c)if(l=o[c]){var u=Ii(l,e);Dx(l,t,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Ya(r,this._parents,t,n)}function qOe(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},l={value:function(){--i===0&&a()}};n.each(function(){var c=fa(this,r),u=c.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),c.on=e}),i===0&&a()})}var WOe=0;function Ya(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function fU(){return++WOe}var Ns=Cp.prototype;Ya.prototype={constructor:Ya,select:kOe,selectAll:TOe,filter:vOe,merge:xOe,selection:AOe,transition:zOe,call:Ns.call,nodes:Ns.nodes,node:Ns.node,size:Ns.size,empty:Ns.empty,each:Ns.each,on:_Oe,attr:nOe,attrTween:sOe,style:jOe,styleTween:DOe,text:FOe,textTween:BOe,remove:EOe,tween:YIe,delay:uOe,duration:hOe,ease:mOe,easeVarying:yOe,end:qOe,[Symbol.iterator]:Ns[Symbol.iterator]};function HOe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var GOe={time:null,delay:0,duration:250,ease:HOe};function KOe(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function YOe(t){var e,n;t instanceof Ya?(e=t._id,t=t._name):(e=fU(),(n=GOe).time=YP(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,c=0;c<s;++c)(l=o[c])&&Dx(l,t,e,c,o,n||KOe(l,e));return new Ya(r,this._parents,t,e)}Cp.prototype.interrupt=TIe;Cp.prototype.transition=YOe;const Um=t=>()=>t;function QOe(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ia(t,e,n){this.k=t,this.x=e,this.y=n}Ia.prototype={constructor:Ia,scale:function(t){return t===1?this:new Ia(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ia(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ZP=new Ia(1,0,0);Ia.prototype;function Ow(t){t.stopImmediatePropagation()}function Fd(t){t.preventDefault(),t.stopImmediatePropagation()}function XOe(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function JOe(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function cD(){return this.__zoom||ZP}function ZOe(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function eCe(){return navigator.maxTouchPoints||"ontouchstart"in this}function tCe(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function nCe(){var t=XOe,e=JOe,n=tCe,r=ZOe,i=eCe,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,l=vIe,c=HP("start","zoom","end"),u,d,h,p=500,g=150,y=0,v=10;function x(M){M.property("__zoom",cD).on("wheel.zoom",k).on("mousedown.zoom",A).on("dblclick.zoom",I).filter(i).on("touchstart.zoom",O).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",j).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(M,D,L,B){var V=M.selection?M.selection():M;V.property("__zoom",cD),M!==V?S(M,D,L,B):V.interrupt().each(function(){P(this,arguments).event(B).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},x.scaleBy=function(M,D,L,B){x.scaleTo(M,function(){var V=this.__zoom.k,U=typeof D=="function"?D.apply(this,arguments):D;return V*U},L,B)},x.scaleTo=function(M,D,L,B){x.transform(M,function(){var V=e.apply(this,arguments),U=this.__zoom,F=L==null?E(V):typeof L=="function"?L.apply(this,arguments):L,G=U.invert(F),K=typeof D=="function"?D.apply(this,arguments):D;return n(w(b(U,K),F,G),V,o)},L,B)},x.translateBy=function(M,D,L,B){x.transform(M,function(){return n(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof L=="function"?L.apply(this,arguments):L),e.apply(this,arguments),o)},null,B)},x.translateTo=function(M,D,L,B,V){x.transform(M,function(){var U=e.apply(this,arguments),F=this.__zoom,G=B==null?E(U):typeof B=="function"?B.apply(this,arguments):B;return n(ZP.translate(G[0],G[1]).scale(F.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof L=="function"?-L.apply(this,arguments):-L),U,o)},B,V)};function b(M,D){return D=Math.max(a[0],Math.min(a[1],D)),D===M.k?M:new Ia(D,M.x,M.y)}function w(M,D,L){var B=D[0]-L[0]*M.k,V=D[1]-L[1]*M.k;return B===M.x&&V===M.y?M:new Ia(M.k,B,V)}function E(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function S(M,D,L,B){M.on("start.zoom",function(){P(this,arguments).event(B).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(B).end()}).tween("zoom",function(){var V=this,U=arguments,F=P(V,U).event(B),G=e.apply(V,U),K=L==null?E(G):typeof L=="function"?L.apply(V,U):L,ie=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),se=V.__zoom,ve=typeof D=="function"?D.apply(V,U):D,ce=l(se.invert(K).concat(ie/se.k),ve.invert(K).concat(ie/ve.k));return function(de){if(de===1)de=ve;else{var Y=ce(de),X=ie/Y[2];de=new Ia(X,K[0]-Y[0]*X,K[1]-Y[1]*X)}F.zoom(null,de)}})}function P(M,D,L){return!L&&M.__zooming||new _(M,D)}function _(M,D){this.that=M,this.args=D,this.active=0,this.sourceEvent=null,this.extent=e.apply(M,D),this.taps=0}_.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,D){return this.mouse&&M!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var D=wa(this.that).datum();c.call(M,this.that,new QOe(M,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:c}),D)}};function k(M,...D){if(!t.apply(this,arguments))return;var L=P(this,D).event(M),B=this.__zoom,V=Math.max(a[0],Math.min(a[1],B.k*Math.pow(2,r.apply(this,arguments)))),U=As(M);if(L.wheel)(L.mouse[0][0]!==U[0]||L.mouse[0][1]!==U[1])&&(L.mouse[1]=B.invert(L.mouse[0]=U)),clearTimeout(L.wheel);else{if(B.k===V)return;L.mouse=[U,B.invert(U)],xg(this),L.start()}Fd(M),L.wheel=setTimeout(F,g),L.zoom("mouse",n(w(b(B,V),L.mouse[0],L.mouse[1]),L.extent,o));function F(){L.wheel=null,L.end()}}function A(M,...D){if(h||!t.apply(this,arguments))return;var L=P(this,D,!0).event(M),B=wa(M.view).on("mousemove.zoom",K,!0).on("mouseup.zoom",ie,!0),V=As(M,U),U=M.currentTarget,F=M.clientX,G=M.clientY;hIe(M.view),Ow(M),L.mouse=[V,this.__zoom.invert(V)],xg(this),L.start();function K(se){if(Fd(se),!L.moved){var ve=se.clientX-F,ce=se.clientY-G;L.moved=ve*ve+ce*ce>y}L.event(se).zoom("mouse",n(w(L.that.__zoom,L.mouse[0]=As(se,U),L.mouse[1]),L.extent,o))}function ie(se){B.on("mousemove.zoom mouseup.zoom",null),pIe(se.view,L.moved),Fd(se),L.event(se).end()}}function I(M,...D){if(t.apply(this,arguments)){var L=this.__zoom,B=As(M.changedTouches?M.changedTouches[0]:M,this),V=L.invert(B),U=L.k*(M.shiftKey?.5:2),F=n(w(b(L,U),B,V),e.apply(this,D),o);Fd(M),s>0?wa(this).transition().duration(s).call(S,F,B,M):wa(this).call(x.transform,F,B,M)}}function O(M,...D){if(t.apply(this,arguments)){var L=M.touches,B=L.length,V=P(this,D,M.changedTouches.length===B).event(M),U,F,G,K;for(Ow(M),F=0;F<B;++F)G=L[F],K=As(G,this),K=[K,this.__zoom.invert(K),G.identifier],V.touch0?!V.touch1&&V.touch0[2]!==K[2]&&(V.touch1=K,V.taps=0):(V.touch0=K,U=!0,V.taps=1+!!u);u&&(u=clearTimeout(u)),U&&(V.taps<2&&(d=K[0],u=setTimeout(function(){u=null},p)),xg(this),V.start())}}function C(M,...D){if(this.__zooming){var L=P(this,D).event(M),B=M.changedTouches,V=B.length,U,F,G,K;for(Fd(M),U=0;U<V;++U)F=B[U],G=As(F,this),L.touch0&&L.touch0[2]===F.identifier?L.touch0[0]=G:L.touch1&&L.touch1[2]===F.identifier&&(L.touch1[0]=G);if(F=L.that.__zoom,L.touch1){var ie=L.touch0[0],se=L.touch0[1],ve=L.touch1[0],ce=L.touch1[1],de=(de=ve[0]-ie[0])*de+(de=ve[1]-ie[1])*de,Y=(Y=ce[0]-se[0])*Y+(Y=ce[1]-se[1])*Y;F=b(F,Math.sqrt(de/Y)),G=[(ie[0]+ve[0])/2,(ie[1]+ve[1])/2],K=[(se[0]+ce[0])/2,(se[1]+ce[1])/2]}else if(L.touch0)G=L.touch0[0],K=L.touch0[1];else return;L.zoom("touch",n(w(F,G,K),L.extent,o))}}function j(M,...D){if(this.__zooming){var L=P(this,D).event(M),B=M.changedTouches,V=B.length,U,F;for(Ow(M),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),U=0;U<V;++U)F=B[U],L.touch0&&L.touch0[2]===F.identifier?delete L.touch0:L.touch1&&L.touch1[2]===F.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(F=As(F,this),Math.hypot(d[0]-F[0],d[1]-F[1])<v)){var G=wa(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return x.wheelDelta=function(M){return arguments.length?(r=typeof M=="function"?M:Um(+M),x):r},x.filter=function(M){return arguments.length?(t=typeof M=="function"?M:Um(!!M),x):t},x.touchable=function(M){return arguments.length?(i=typeof M=="function"?M:Um(!!M),x):i},x.extent=function(M){return arguments.length?(e=typeof M=="function"?M:Um([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),x):e},x.scaleExtent=function(M){return arguments.length?(a[0]=+M[0],a[1]=+M[1],x):[a[0],a[1]]},x.translateExtent=function(M){return arguments.length?(o[0][0]=+M[0][0],o[1][0]=+M[1][0],o[0][1]=+M[0][1],o[1][1]=+M[1][1],x):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},x.constrain=function(M){return arguments.length?(n=M,x):n},x.duration=function(M){return arguments.length?(s=+M,x):s},x.interpolate=function(M){return arguments.length?(l=M,x):l},x.on=function(){var M=c.on.apply(c,arguments);return M===c?x:M},x.clickDistance=function(M){return arguments.length?(y=(M=+M)*M,x):Math.sqrt(y)},x.tapDistance=function(M){return arguments.length?(v=+M,x):v},x}function uD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uD(Object(n),!0).forEach(function(r){rCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lE(t){"@babel/helpers - typeof";return lE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lE(t)}function rCe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hr(){return hr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hr.apply(this,arguments)}function iCe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ii(t,e){if(t==null)return{};var n=iCe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _n(t,e){return aCe(t)||oCe(t,e)||sCe(t,e)||lCe()}function aCe(t){if(Array.isArray(t))return t}function oCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,o,s;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){a=!0,s=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw s}}return r}}function sCe(t,e){if(t){if(typeof t=="string")return dD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dD(t,e)}}function dD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var cCe=["width","height","projection","projectionConfig"],uCe=j9,dCe=ii(k2e,["geoPath"]),ha=R.createContext(),fCe=function(e){var n=e.projectionConfig,r=n===void 0?{}:n,i=e.projection,a=i===void 0?"geoEqualEarth":i,o=e.width,s=o===void 0?800:o,l=e.height,c=l===void 0?600:l,u=typeof a=="function";if(u)return a;var d=dCe[a]().translate([s/2,c/2]),h=[d.center?"center":null,d.rotate?"rotate":null,d.scale?"scale":null,d.parallels?"parallels":null];return h.forEach(function(p){p&&(d=d[p](r[p]||d[p]()))}),d},hU=function(e){var n=e.width,r=e.height,i=e.projection,a=e.projectionConfig,o=ii(e,cCe),s=a.center||[],l=_n(s,2),c=l[0],u=l[1],d=a.rotate||[],h=_n(d,3),p=h[0],g=h[1],y=h[2],v=a.parallels||[],x=_n(v,2),b=x[0],w=x[1],E=a.scale||null,S=R.useMemo(function(){return fCe({projectionConfig:{center:c||c===0||u||u===0?[c,u]:null,rotate:p||p===0||g||g===0?[p,g,y]:null,parallels:b||b===0||w||w===0?[b,w]:null,scale:E},projection:i,width:n,height:r})},[n,r,i,c,u,p,g,y,b,w,E]),P=R.useCallback(S,[S]),_=R.useMemo(function(){return{width:n,height:r,projection:P,path:uCe().projection(P)}},[n,r,P]);return z.createElement(ha.Provider,hr({value:_},o))};hU.propTypes={width:oe.number,height:oe.number,projection:oe.oneOfType([oe.string,oe.func]),projectionConfig:oe.object};var hCe=["width","height","projection","projectionConfig","className"],eA=R.forwardRef(function(t,e){var n=t.width,r=n===void 0?800:n,i=t.height,a=i===void 0?600:i,o=t.projection,s=o===void 0?"geoEqualEarth":o,l=t.projectionConfig,c=l===void 0?{}:l,u=t.className,d=u===void 0?"":u,h=ii(t,hCe);return z.createElement(hU,{width:r,height:a,projection:s,projectionConfig:c},z.createElement("svg",hr({ref:e,viewBox:"0 0 ".concat(r," ").concat(a),className:"rsm-svg ".concat(d)},h)))});eA.displayName="ComposableMap";eA.propTypes={width:oe.number,height:oe.number,projection:oe.oneOfType([oe.string,oe.func]),projectionConfig:oe.object,className:oe.string};function fD(t,e,n){var r=(t*n.k-t)/2,i=(e*n.k-e)/2;return[t/2-(r+n.x)/n.k,e/2-(i+n.y)/n.k]}function pCe(t){return fetch(t).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).catch(function(e){console.log("There was a problem when fetching the data: ",e)})}function hD(t,e){var n=t.type==="Topology";if(!n)return e?e(t.features||t):t.features||t;var r=N2e(t,t.objects[Object.keys(t.objects)[0]]).features;return e?e(r):r}function pD(t){var e=t.type==="Topology";if(!e)return null;var n=HM(t,t.objects[Object.keys(t.objects)[0]],function(i,a){return i===a}),r=HM(t,t.objects[Object.keys(t.objects)[0]],function(i,a){return i!==a});return{outline:n,borders:r}}function mCe(t,e,n){return t&&e?{outline:gc(gc({},t),{},{rsmKey:"outline",svgPath:n(t)}),borders:gc(gc({},e),{},{rsmKey:"borders",svgPath:n(e)})}:{}}function gCe(t,e){return t?t.map(function(n,r){return gc(gc({},n),{},{rsmKey:"geo-".concat(r),svgPath:e(n)})}):[]}function yCe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:30,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:30,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.5,r=Array.isArray(n)?n:[n,n],i=t/2*r[0],a=e/2*r[1];return"M".concat(0,",",0," Q",-t/2-i,",").concat(-e/2+a," ").concat(-t,",").concat(-e)}function vCe(t){return typeof t=="string"}function xCe(t){var e=t.geography,n=t.parseGeographies,r=R.useContext(ha),i=r.path,a=R.useState({}),o=_n(a,2),s=o[0],l=o[1];R.useEffect(function(){(typeof window>"u"?"undefined":lE(window))!=="undefined"&&e&&(vCe(e)?pCe(e).then(function(p){p&&l({geographies:hD(p,n),mesh:pD(p)})}):l({geographies:hD(e,n),mesh:pD(e)}))},[e,n]);var c=R.useMemo(function(){var p=s.mesh||{},g=mCe(p.outline,p.borders,i);return{geographies:gCe(s.geographies,i),outline:g.outline,borders:g.borders}},[s,i]),u=c.geographies,d=c.outline,h=c.borders;return{geographies:u,outline:d,borders:h}}var bCe=["geography","children","parseGeographies","className"],tA=R.forwardRef(function(t,e){var n=t.geography,r=t.children,i=t.parseGeographies,a=t.className,o=a===void 0?"":a,s=ii(t,bCe),l=R.useContext(ha),c=l.path,u=l.projection,d=xCe({geography:n,parseGeographies:i}),h=d.geographies,p=d.outline,g=d.borders;return z.createElement("g",hr({ref:e,className:"rsm-geographies ".concat(o)},s),h&&h.length>0&&r({geographies:h,outline:p,borders:g,path:c,projection:u}))});tA.displayName="Geographies";tA.propTypes={geography:oe.oneOfType([oe.string,oe.object,oe.array]),children:oe.func,parseGeographies:oe.func,className:oe.string};var wCe=["geography","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],nA=R.forwardRef(function(t,e){var n=t.geography,r=t.onMouseEnter,i=t.onMouseLeave,a=t.onMouseDown,o=t.onMouseUp,s=t.onFocus,l=t.onBlur,c=t.style,u=c===void 0?{}:c,d=t.className,h=d===void 0?"":d,p=ii(t,wCe),g=R.useState(!1),y=_n(g,2),v=y[0],x=y[1],b=R.useState(!1),w=_n(b,2),E=w[0],S=w[1];function P(C){S(!0),r&&r(C)}function _(C){S(!1),v&&x(!1),i&&i(C)}function k(C){S(!0),s&&s(C)}function A(C){S(!1),v&&x(!1),l&&l(C)}function I(C){x(!0),a&&a(C)}function O(C){x(!1),o&&o(C)}return z.createElement("path",hr({ref:e,tabIndex:"0",className:"rsm-geography ".concat(h),d:n.svgPath,onMouseEnter:P,onMouseLeave:_,onFocus:k,onBlur:A,onMouseDown:I,onMouseUp:O,style:u[v||E?v?"pressed":"hover":"default"]},p))});nA.displayName="Geography";nA.propTypes={geography:oe.object,onMouseEnter:oe.func,onMouseLeave:oe.func,onMouseDown:oe.func,onMouseUp:oe.func,onFocus:oe.func,onBlur:oe.func,style:oe.object,className:oe.string};var _Ce=R.memo(nA),SCe=["fill","stroke","step","className"],rA=R.forwardRef(function(t,e){var n=t.fill,r=n===void 0?"transparent":n,i=t.stroke,a=i===void 0?"currentcolor":i,o=t.step,s=o===void 0?[10,10]:o,l=t.className,c=l===void 0?"":l,u=ii(t,SCe),d=R.useContext(ha),h=d.path;return z.createElement("path",hr({ref:e,d:h(OP().step(s)()),fill:r,stroke:a,className:"rsm-graticule ".concat(c)},u))});rA.displayName="Graticule";rA.propTypes={fill:oe.string,stroke:oe.string,step:oe.array,className:oe.string};R.memo(rA);var ECe=["value"],kCe=R.createContext(),TCe={x:0,y:0,k:1,transformString:"translate(0 0) scale(1)"},pU=function(e){var n=e.value,r=n===void 0?TCe:n,i=ii(e,ECe);return z.createElement(kCe.Provider,hr({value:r},i))};pU.propTypes={x:oe.number,y:oe.number,k:oe.number,transformString:oe.string};function PCe(t){var e=t.center,n=t.filterZoomEvent,r=t.onMoveStart,i=t.onMoveEnd,a=t.onMove,o=t.translateExtent,s=o===void 0?[[-1/0,-1/0],[1/0,1/0]]:o,l=t.scaleExtent,c=l===void 0?[1,8]:l,u=t.zoom,d=u===void 0?1:u,h=R.useContext(ha),p=h.width,g=h.height,y=h.projection,v=_n(e,2),x=v[0],b=v[1],w=R.useState({x:0,y:0,k:1}),E=_n(w,2),S=E[0],P=E[1],_=R.useRef({x:0,y:0,k:1}),k=R.useRef(),A=R.useRef(),I=R.useRef(!1),O=_n(s,2),C=O[0],j=O[1],M=_n(C,2),D=M[0],L=M[1],B=_n(j,2),V=B[0],U=B[1],F=_n(c,2),G=F[0],K=F[1];return R.useEffect(function(){var ie=wa(k.current);function se(X){!r||I.current||r({coordinates:y.invert(fD(p,g,X.transform)),zoom:X.transform.k},X)}function ve(X){if(!I.current){var me=X.transform,J=X.sourceEvent;P({x:me.x,y:me.y,k:me.k,dragging:J}),a&&a({x:me.x,y:me.y,zoom:me.k,dragging:J},X)}}function ce(X){if(I.current){I.current=!1;return}var me=y.invert(fD(p,g,X.transform)),J=_n(me,2),ee=J[0],Oe=J[1];_.current={x:ee,y:Oe,k:X.transform.k},i&&i({coordinates:[ee,Oe],zoom:X.transform.k},X)}function de(X){return n?n(X):X?!X.ctrlKey&&!X.button:!1}var Y=nCe().filter(de).scaleExtent([G,K]).translateExtent([[D,L],[V,U]]).on("start",se).on("zoom",ve).on("end",ce);A.current=Y,ie.call(Y)},[p,g,D,L,V,U,G,K,y,r,a,i,n]),R.useEffect(function(){if(!(x===_.current.x&&b===_.current.y&&d===_.current.k)){var ie=y([x,b]),se=ie[0]*d,ve=ie[1]*d,ce=wa(k.current);I.current=!0,ce.call(A.current.transform,ZP.translate(p/2-se,g/2-ve).scale(d)),P({x:p/2-se,y:g/2-ve,k:d}),_.current={x,y:b,k:d}}},[x,b,d,p,g,y]),{mapRef:k,position:S,transformString:"translate(".concat(S.x," ").concat(S.y,") scale(").concat(S.k,")")}}var ACe=["center","zoom","minZoom","maxZoom","translateExtent","filterZoomEvent","onMoveStart","onMove","onMoveEnd","className"],iA=R.forwardRef(function(t,e){var n=t.center,r=n===void 0?[0,0]:n,i=t.zoom,a=i===void 0?1:i,o=t.minZoom,s=o===void 0?1:o,l=t.maxZoom,c=l===void 0?8:l,u=t.translateExtent,d=t.filterZoomEvent,h=t.onMoveStart,p=t.onMove,g=t.onMoveEnd,y=t.className,v=ii(t,ACe),x=R.useContext(ha),b=x.width,w=x.height,E=PCe({center:r,filterZoomEvent:d,onMoveStart:h,onMove:p,onMoveEnd:g,scaleExtent:[s,c],translateExtent:u,zoom:a}),S=E.mapRef,P=E.transformString,_=E.position;return z.createElement(pU,{value:{x:_.x,y:_.y,k:_.k,transformString:P}},z.createElement("g",{ref:S},z.createElement("rect",{width:b,height:w,fill:"transparent"}),z.createElement("g",hr({ref:e,transform:P,className:"rsm-zoomable-group ".concat(y)},v))))});iA.displayName="ZoomableGroup";iA.propTypes={center:oe.array,zoom:oe.number,minZoom:oe.number,maxZoom:oe.number,translateExtent:oe.arrayOf(oe.array),onMoveStart:oe.func,onMove:oe.func,onMoveEnd:oe.func,className:oe.string};var NCe=["id","fill","stroke","strokeWidth","className"],aA=R.forwardRef(function(t,e){var n=t.id,r=n===void 0?"rsm-sphere":n,i=t.fill,a=i===void 0?"transparent":i,o=t.stroke,s=o===void 0?"currentcolor":o,l=t.strokeWidth,c=l===void 0?.5:l,u=t.className,d=u===void 0?"":u,h=ii(t,NCe),p=R.useContext(ha),g=p.path,y=R.useMemo(function(){return g({type:"Sphere"})},[g]);return z.createElement(R.Fragment,null,z.createElement("defs",null,z.createElement("clipPath",{id:r},z.createElement("path",{d:y}))),z.createElement("path",hr({ref:e,d:y,fill:a,stroke:s,strokeWidth:c,style:{pointerEvents:"none"},className:"rsm-sphere ".concat(d)},h)))});aA.displayName="Sphere";aA.propTypes={id:oe.string,fill:oe.string,stroke:oe.string,strokeWidth:oe.number,className:oe.string};R.memo(aA);var ICe=["coordinates","children","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],oA=R.forwardRef(function(t,e){var n=t.coordinates,r=t.children,i=t.onMouseEnter,a=t.onMouseLeave,o=t.onMouseDown,s=t.onMouseUp,l=t.onFocus,c=t.onBlur,u=t.style,d=u===void 0?{}:u,h=t.className,p=h===void 0?"":h,g=ii(t,ICe),y=R.useContext(ha),v=y.projection,x=R.useState(!1),b=_n(x,2),w=b[0],E=b[1],S=R.useState(!1),P=_n(S,2),_=P[0],k=P[1],A=v(n),I=_n(A,2),O=I[0],C=I[1];function j(U){k(!0),i&&i(U)}function M(U){k(!1),w&&E(!1),a&&a(U)}function D(U){k(!0),l&&l(U)}function L(U){k(!1),w&&E(!1),c&&c(U)}function B(U){E(!0),o&&o(U)}function V(U){E(!1),s&&s(U)}return z.createElement("g",hr({ref:e,transform:"translate(".concat(O,", ").concat(C,")"),className:"rsm-marker ".concat(p),onMouseEnter:j,onMouseLeave:M,onFocus:D,onBlur:L,onMouseDown:B,onMouseUp:V,style:d[w||_?w?"pressed":"hover":"default"]},g),r)});oA.displayName="Marker";oA.propTypes={coordinates:oe.array,children:oe.oneOfType([oe.node,oe.arrayOf(oe.node)]),onMouseEnter:oe.func,onMouseLeave:oe.func,onMouseDown:oe.func,onMouseUp:oe.func,onFocus:oe.func,onBlur:oe.func,style:oe.object,className:oe.string};var OCe=["from","to","coordinates","stroke","strokeWidth","fill","className"],mU=R.forwardRef(function(t,e){var n=t.from,r=n===void 0?[0,0]:n,i=t.to,a=i===void 0?[0,0]:i,o=t.coordinates,s=t.stroke,l=s===void 0?"currentcolor":s,c=t.strokeWidth,u=c===void 0?3:c,d=t.fill,h=d===void 0?"transparent":d,p=t.className,g=p===void 0?"":p,y=ii(t,OCe),v=R.useContext(ha),x=v.path,b={type:"LineString",coordinates:o||[r,a]};return z.createElement("path",hr({ref:e,d:x(b),className:"rsm-line ".concat(g),stroke:l,strokeWidth:u,fill:h},y))});mU.displayName="Line";mU.propTypes={from:oe.array,to:oe.array,coordinates:oe.array,stroke:oe.string,strokeWidth:oe.number,fill:oe.string,className:oe.string};var CCe=["subject","children","connectorProps","dx","dy","curve","className"],gU=R.forwardRef(function(t,e){var n=t.subject,r=t.children,i=t.connectorProps,a=t.dx,o=a===void 0?30:a,s=t.dy,l=s===void 0?30:s,c=t.curve,u=c===void 0?0:c,d=t.className,h=d===void 0?"":d,p=ii(t,CCe),g=R.useContext(ha),y=g.projection,v=y(n),x=_n(v,2),b=x[0],w=x[1],E=yCe(o,l,u);return z.createElement("g",hr({ref:e,transform:"translate(".concat(b+o,", ").concat(w+l,")"),className:"rsm-annotation ".concat(h)},p),z.createElement("path",hr({d:E,fill:"transparent",stroke:"#000"},i)),r)});gU.displayName="Annotation";gU.propTypes={subject:oe.array,children:oe.oneOfType([oe.node,oe.arrayOf(oe.node)]),dx:oe.number,dy:oe.number,curve:oe.number,connectorProps:oe.object,className:oe.string};var jCe=1e-6,mD=1e-12,sA=Math.PI,gD=sA/2,yD=180/sA,oa=sA/180,yU=Math.atan2,sa=Math.cos,cE=Math.hypot,la=Math.sin,RCe=Math.sqrt;function vU(t){return t>1?gD:t<-1?-gD:Math.asin(t)}function MCe(){}function Hy(t,e){t&&xD.hasOwnProperty(t.type)&&xD[t.type](t,e)}var vD={Feature:function(t,e){Hy(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Hy(n[r].geometry,e)}},xD={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){uE(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)uE(n[r],e,0)},Polygon:function(t,e){bD(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)bD(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Hy(n[r],e)}};function uE(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function bD(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)uE(t[n],e,1);e.polygonEnd()}function DCe(t,e){t&&vD.hasOwnProperty(t.type)?vD[t.type](t,e):Hy(t,e)}var rf,Gy,Ky,Yy,Qy,Xy,Jy,Zy,dE,fE,hE,xU,bU,qn,Wn,Hn,wi={sphere:MCe,point:lA,lineStart:wD,lineEnd:_D,polygonStart:function(){wi.lineStart=FCe,wi.lineEnd=VCe},polygonEnd:function(){wi.lineStart=wD,wi.lineEnd=_D}};function lA(t,e){t*=oa,e*=oa;var n=sa(e);Rp(n*sa(t),n*la(t),la(e))}function Rp(t,e,n){++rf,Ky+=(t-Ky)/rf,Yy+=(e-Yy)/rf,Qy+=(n-Qy)/rf}function wD(){wi.point=$Ce}function $Ce(t,e){t*=oa,e*=oa;var n=sa(e);qn=n*sa(t),Wn=n*la(t),Hn=la(e),wi.point=LCe,Rp(qn,Wn,Hn)}function LCe(t,e){t*=oa,e*=oa;var n=sa(e),r=n*sa(t),i=n*la(t),a=la(e),o=yU(RCe((o=Wn*a-Hn*i)*o+(o=Hn*r-qn*a)*o+(o=qn*i-Wn*r)*o),qn*r+Wn*i+Hn*a);Gy+=o,Xy+=o*(qn+(qn=r)),Jy+=o*(Wn+(Wn=i)),Zy+=o*(Hn+(Hn=a)),Rp(qn,Wn,Hn)}function _D(){wi.point=lA}function FCe(){wi.point=UCe}function VCe(){wU(xU,bU),wi.point=lA}function UCe(t,e){xU=t,bU=e,t*=oa,e*=oa,wi.point=wU;var n=sa(e);qn=n*sa(t),Wn=n*la(t),Hn=la(e),Rp(qn,Wn,Hn)}function wU(t,e){t*=oa,e*=oa;var n=sa(e),r=n*sa(t),i=n*la(t),a=la(e),o=Wn*a-Hn*i,s=Hn*r-qn*a,l=qn*i-Wn*r,c=cE(o,s,l),u=vU(c),d=c&&-u/c;dE.add(d*o),fE.add(d*s),hE.add(d*l),Gy+=u,Xy+=u*(qn+(qn=r)),Jy+=u*(Wn+(Wn=i)),Zy+=u*(Hn+(Hn=a)),Rp(qn,Wn,Hn)}function BCe(t){rf=Gy=Ky=Yy=Qy=Xy=Jy=Zy=0,dE=new rw,fE=new rw,hE=new rw,DCe(t,wi);var e=+dE,n=+fE,r=+hE,i=cE(e,n,r);return i<mD&&(e=Xy,n=Jy,r=Zy,Gy<jCe&&(e=Ky,n=Yy,r=Qy),i=cE(e,n,r),i<mD)?[NaN,NaN]:[yU(n,e)*yD,vU(r/i)*yD]}const zCe="https://raw.githubusercontent.com/deldar-h/iraq-governorates-geojson/master/Iraq_Governorates.json",qCe=({data:t,selectedGovernorates:e=[],onSelect:n})=>{const{theme:r,brand:i}=Rr(),[a,o]=R.useState(!0),[s,l]=R.useState(!1);z.useEffect(()=>{const p=setTimeout(()=>{a&&o(!1)},5e3);return()=>clearTimeout(p)},[a]);const{maxValue:c,minPositive:u}=R.useMemo(()=>{const p=Object.values(t||{}).filter(x=>typeof x=="number"),g=p.length>0?Math.max(...p):0,y=p.filter(x=>x>0),v=y.length>0?Math.min(...y):1;return{maxValue:g,minPositive:v}},[t]),d=wh().domain([u||1,c||u||1]).range([`${i.color}40`,i.color]),h=r==="dark"?"#0f172a":"#f1f5f9";return f.jsxs("div",{className:"w-full h-full bg-slate-50 dark:bg-slate-900/50 rounded-2xl overflow-hidden relative flex items-center justify-center border border-slate-100 dark:border-slate-800",children:[a&&!s&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-slate-400 bg-slate-50 dark:bg-slate-900 z-10",children:f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"}),f.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Loading Map Data..."})]})}),s&&f.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-slate-400 bg-slate-50 dark:bg-slate-900 z-10 p-4 text-center",children:[f.jsx("p",{className:"font-bold",children:"Map data unavailable"}),f.jsx("p",{className:"text-xs mt-2",children:"Check internet connection or data source."})]}),f.jsx(eA,{projection:"geoMercator",projectionConfig:{scale:3500,center:[44,33]},className:"w-full h-full",children:f.jsx(iA,{zoom:1,maxZoom:3,children:f.jsx(tA,{geography:zCe,onGeographyLoad:()=>{o(!1),l(!1)},onGeographyError:p=>{console.error("Map Load Error:",p),o(!1),l(!0)},children:({geographies:p})=>f.jsxs(f.Fragment,{children:[p.map(g=>{const y=g.properties.name||"",v=P=>P.toLowerCase().replace(/[^a-z0-9]/g,""),x=Object.keys(t||{}).find(P=>{const _=v(y),k=v(P);return _.includes(k)||k.includes(_)}),b=x||y,w=typeof t=="object"&&x&&t[x]||0,E=e.includes(b),S=E?"#F59E0B":w>0?d(w):h;return f.jsx(_Ce,{geography:g,fill:S,stroke:E?"#ffffff":r==="dark"?"#334155":"#cbd5e1",strokeWidth:E?2:.5,onClick:()=>{n&&n(b)},style:{default:{outline:"none",transition:"all 250ms"},hover:{fill:"#F59E0B",outline:"none",stroke:"#fff",strokeWidth:2,cursor:"pointer",opacity:.8},pressed:{outline:"none"}},title:`${b}: ${w} Orders`},g.rsmKey)}),p.map(g=>{const y=BCe(g),v=g.properties.name||"",x=_=>_.toLowerCase().replace(/[^a-z0-9]/g,""),b=Object.keys(t||{}).find(_=>{const k=x(v),A=x(_);return k.includes(A)||A.includes(k)}),w=b||v,E=typeof t=="object"&&b&&t[b]||0,[S,P]=y||[];return!Number.isFinite(S)||!Number.isFinite(P)?null:f.jsx(oA,{coordinates:y,children:f.jsxs("g",{className:"pointer-events-none",style:{transform:"translateY(-6px)"},children:[f.jsx("text",{y:"-6",textAnchor:"middle",style:{fontSize:8,fill:r==="dark"?"#fff":"#ffffff",fontWeight:"bold",pointerEvents:"none"},children:w}),f.jsx("text",{y:"8",textAnchor:"middle",style:{fontSize:10,fill:r==="dark"?"#e6f0ff":"#ffffff",fontWeight:"800",pointerEvents:"none"},children:E})]})},`${g.rsmKey}-label`)})]})})})}),f.jsxs("div",{className:"absolute bottom-4 end-4 bg-white/90 dark:bg-slate-800/90 backdrop-blur p-3 rounded-xl shadow-lg border border-slate-100 dark:border-slate-700 text-xs text-slate-500 dark:text-slate-400 z-20 pointer-events-none",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("span",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:i.color}})," High Order Volume"]}),f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("span",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:r==="dark"?"#1E293B":"#E0E7FF"}})," Low Order Volume"]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-3 h-3 bg-[#F59E0B] rounded-sm"})," Selected"]})]})]})},WCe=({regions:t,selectedRegion:e,onSelect:n})=>{const r=[...t].sort((a,o)=>o.count-a.count).slice(0,5),i=a=>{n(a)};return f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 h-full flex flex-col",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(Vo,{className:"w-5 h-5 text-accent"})," Top Regions"]}),f.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto custom-scrollbar pe-2",children:[r.map((a,o)=>{const s=e===a.name||Array.isArray(e)&&e.includes(a.name);return f.jsxs("div",{onClick:()=>i(a.name),className:`flex items-center justify-between p-3 rounded-xl cursor-pointer transition-all ltr:hover:translate-x-1 rtl:hover:-translate-x-1 ${s?"bg-accent text-white shadow-accent":"bg-slate-50 dark:bg-slate-700/30 border border-transparent hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-black transition-all ${o===0?"bg-amber-100 text-amber-600":o===1?"bg-slate-200 text-slate-600":o===2?"bg-orange-100 text-orange-600":""}`,style:o>2?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"}:{},children:o+1}),f.jsx("span",{className:`font-bold transition-colors ${s?"text-white":"text-slate-700 dark:text-slate-300"}`,children:a.name})]}),f.jsx("span",{className:`font-black transition-colors ${s?"text-white":"text-slate-800 dark:text-white"}`,children:a.count})]},a.name)}),r.length===0&&f.jsx("p",{className:"text-center text-slate-400 text-sm py-4",children:"No data available"})]})]})},HCe=({products:t,orders:e,formatCurrency:n})=>{const r=z.useMemo(()=>{const s={};return t.forEach(l=>{const c=l._id||l.id||l.id_str||l.sku||l.name;s[c]={...l,_id:c,totalSales:0,orderCount:0,distinctOrders:[]}}),e.forEach(l=>{l.items&&l.items.forEach(c=>{var d,h;const u=((d=c.product)==null?void 0:d._id)||c.productId;u&&s[u]&&(s[u].totalSales+=c.price*c.quantity,s[u].orderCount+=c.quantity,s[u].distinctOrders.push({id:l._id||l.id,customer:((h=l.customer)==null?void 0:h.name)||l.customer||"",date:l.date||l.createdAt||l.updatedAt,quantity:c.quantity,total:c.price*c.quantity}))})}),Object.values(s).sort((l,c)=>c.orderCount-l.orderCount).slice(0,10)},[t,e]),[i,a]=R.useState(null),o=s=>{a(i===s?null:s)};return f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(Bc,{className:"w-5 h-5 text-accent"})," Top Selling Products"]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-start border-collapse",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider border-b border-slate-100 dark:border-slate-700",children:[f.jsx("th",{className:"py-3 ps-2",children:"Product Name"}),f.jsx("th",{className:"py-3 text-center",children:"Sales"}),f.jsx("th",{className:"py-3 text-end pe-2",children:"Total Revenue"}),f.jsx("th",{className:"py-3 w-10"})]})}),f.jsxs("tbody",{className:"text-sm",children:[r.filter(s=>s.orderCount>0).map(s=>{var l;return f.jsxs(z.Fragment,{children:[f.jsxs("tr",{onClick:()=>o(s._id),className:`group cursor-pointer transition-colors border-b border-slate-50 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700/50 ${i===s._id?"bg-slate-50 dark:bg-slate-800":""}`,children:[f.jsxs("td",{className:"py-4 ps-2 font-bold text-slate-700 dark:text-slate-200 flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-100 dark:bg-slate-700 overflow-hidden shrink-0",children:f.jsx("img",{src:((l=s.images)==null?void 0:l[0])||"https://via.placeholder.com/40",alt:s.name||"Product image",className:"w-full h-full object-cover"})}),s.name]}),f.jsx("td",{className:"py-4 text-center text-slate-600 dark:text-slate-300",children:f.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-black transition-all",style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"},children:[s.orderCount," Orders"]})}),f.jsx("td",{className:"py-4 text-end pe-2 font-bold text-slate-800 dark:text-white",children:n(s.totalSales)}),f.jsx("td",{className:"py-4 text-center text-slate-400 group-hover:text-accent",children:i===s._id?f.jsx(eL,{className:"w-4 h-4"}):f.jsx(kl,{className:"w-4 h-4"})})]}),i===s._id&&f.jsx("tr",{children:f.jsx("td",{colSpan:"4",className:"bg-slate-50/50 dark:bg-slate-900/30 p-4",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[f.jsx("div",{className:"px-4 py-3 bg-slate-50 dark:bg-slate-700/30 border-b border-slate-100 dark:border-slate-700 text-xs font-bold text-slate-500 uppercase flex justify-between",children:f.jsxs("span",{children:["Order Details (",s.distinctOrders.length,")"]})}),f.jsxs("div",{className:"max-h-60 overflow-y-auto custom-scrollbar",children:[s.distinctOrders.map((c,u)=>f.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-slate-50 dark:border-slate-700 last:border-0 hover:bg-slate-50 dark:hover:bg-slate-700/20 transition-colors",children:[f.jsx("div",{className:"flex items-center gap-4",children:f.jsxs("div",{className:"flex flex-col",children:[f.jsxs("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300 flex items-center gap-1",children:[f.jsx(pf,{className:"w-3 h-3 text-slate-400"})," ",c.customer]}),f.jsxs("span",{className:"text-[10px] text-slate-400 flex items-center gap-1 mt-0.5",children:[f.jsx(J4,{className:"w-3 h-3"})," ",Lr(new Date(c.date),"dd MMM yyyy")]})]})}),f.jsxs("div",{className:"text-end",children:[f.jsxs("span",{className:"block text-xs font-bold text-slate-800 dark:text-white",children:["Qty: ",c.quantity]}),f.jsx("span",{className:"block text-[10px] font-semibold text-emerald-600 dark:text-emerald-400",children:n(c.total)})]})]},u)),s.distinctOrders.length===0&&f.jsx("div",{className:"text-center py-4 text-slate-400 text-xs",children:"No order details available"})]})]})})})]},s._id)}),r.filter(s=>s.orderCount>0).length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:"4",className:"text-center py-8 text-slate-400",children:"No sales data matches current filters"})})]})]})})]})},np=["Al Anbar","Babil","Baghdad","Basra","Dhi Qar","Al-Qadisiyyah","Diyala","Duhok","Erbil","Karbala","Kirkuk","Maysan","Muthanna","Najaf","Nineveh","Saladin","Sulaymaniyah","Wasit"],rp=["Facebook","Instagram","TikTok","Snapchat","Telegram","WhatsApp","Other"],GCe=()=>{var K,ie,se,ve;const{t}=jr(),{orders:e,products:n,customers:r,loading:i,formatCurrency:a,brand:o,categories:s,theme:l,appearance:c}=Rr(),u=R.useMemo(()=>e.length===0?TP(new Date,30):e.reduce((ce,de)=>{try{const Y=xa(de.date);return Y<ce?Y:ce}catch{return ce}},new Date),[e]),d=R.useMemo(()=>({from:u,to:new Date}),[u]),[h,p]=R.useState(d),[g,y]=R.useState(!1);z.useEffect(()=>{!i&&e.length>0&&!g&&(p(d),y(!0))},[i,e.length,d,g]);const[v,x]=R.useState([]),[b,w]=R.useState([]),[E,S]=R.useState([]),[P,_]=R.useState([]),k=R.useMemo(()=>e.filter(ce=>{const de=xa(ce.date),Y=!(h!=null&&h.from)||!(h!=null&&h.to)||Hh(de,{start:h.from,end:h.to}),X=v.length===0||v.includes(ce.status),me=b.length===0||b.includes(ce.customer.governorate),J=E.length===0||E.includes(ce.customer.social),ee=P.length===0||ce.items.some(Oe=>P.includes(Oe.product.category));return Y&&X&&me&&J&&ee}),[e,h,v,b,E,P]),A=R.useMemo(()=>k.reduce((ce,de)=>ce+de.total,0),[k]),I=k.length,O=R.useMemo(()=>new Set(k.map(ce=>ce.customer.phone)).size,[k]),C=R.useMemo(()=>{const ce={};return k.forEach(de=>{const Y=de.customer.governorate;Y&&(ce[Y]=(ce[Y]||0)+1)}),Object.entries(ce).map(([de,Y])=>({name:de,count:Y}))},[k]),j=R.useMemo(()=>C.length===0?{name:"N/A",count:0}:C.reduce((ce,de)=>ce.count>de.count?ce:de),[C]),M=R.useMemo(()=>e.filter(ce=>{const de=xa(ce.date);return!(h!=null&&h.from)||!(h!=null&&h.to)||Hh(de,{start:h.from,end:h.to})}),[e,h]),D=R.useMemo(()=>{const ce={};return M.forEach(de=>ce[de.status]=(ce[de.status]||0)+1),["Processing","Completed","Cancelled"].map(de=>({value:de,label:de,count:ce[de]||0}))},[M]),L=R.useMemo(()=>{const ce={};return M.forEach(de=>{const Y=de.customer.governorate;Y&&(ce[Y]=(ce[Y]||0)+1)}),np.map(de=>({value:de,label:de,count:ce[de]||0})).sort((de,Y)=>Y.count-de.count)},[M]),B=R.useMemo(()=>{const ce={};return M.forEach(de=>{const Y=de.customer.social;Y&&(ce[Y]=(ce[Y]||0)+1)}),rp.map(de=>({value:de,label:de,count:ce[de]||0})).sort((de,Y)=>Y.count-de.count)},[M]),V=R.useMemo(()=>{const ce={};return M.forEach(de=>{const Y=new Set;de.items.forEach(X=>{const me=X.product.category;me&&!Y.has(me)&&(ce[me]=(ce[me]||0)+1,Y.add(me))})}),s.map(de=>({value:de,label:de,count:ce[de]||0})).sort((de,Y)=>Y.count-de.count)},[M,s]),U=R.useMemo(()=>{if(!h.from||!h.to)return[];const ce=HTe({start:h.from,end:h.to}),de={};return ce.forEach(Y=>de[Lr(Y,"yyyy-MM-dd")]=0),k.forEach(Y=>{const X=Lr(xa(Y.date),"yyyy-MM-dd");de[X]!==void 0&&(de[X]+=Y.total)}),Object.entries(de).map(([Y,X])=>({date:Lr(xa(Y),"MMM d"),value:X}))},[k,h]),F=R.useMemo(()=>C.reduce((ce,de)=>(ce[de.name]=de.count,ce),{}),[C]),G=l==="dark"?{text:"#94A3B8",grid:"#334155",tooltipBg:"#1E293B"}:{text:"#64748B",grid:"#E2E8F0",tooltipBg:"#FFFFFF"};return f.jsxs(Fu,{title:t("dashboard.title"),children:[f.jsxs("div",{className:"flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[f.jsx("div",{className:"flex gap-3 items-center flex-wrap",children:f.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-xl font-bold text-sm border border-indigo-100 dark:border-indigo-900/50",children:[f.jsx(Eb,{className:"w-4 h-4"}),f.jsx("span",{children:t("dashboard.liveDashboard")})]})}),f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[(v.length>0||b.length>0||E.length>0||P.length>0||((K=h.from)==null?void 0:K.getTime())!==((ie=d.from)==null?void 0:ie.getTime())||((se=h.to)==null?void 0:se.getTime())!==((ve=d.to)==null?void 0:ve.getTime()))&&f.jsx("button",{onClick:()=>{x([]),w([]),S([]),_([]),p(d)},className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("dashboard.clearFilters")}),f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(Bc,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:k.length})," ",t("dashboard.filteredOrders")]})]})]})]}),f.jsxs("div",{className:"flex gap-3 w-full flex-wrap items-center",children:[f.jsx("div",{className:"h-[44px] flex-shrink-0",children:f.jsx(PP,{range:h,onRangeChange:p,brandColor:o.color})}),f.jsx(xi,{title:t("dashboard.governorate"),options:L,selectedValues:b,onChange:w,icon:Vo,showSearch:!1}),f.jsx(xi,{title:t("dashboard.socialMedia"),options:B,selectedValues:E,onChange:S,icon:Qs,showSearch:!1}),f.jsx(xi,{title:t("dashboard.categories"),options:V,selectedValues:P,onChange:_,icon:Bc,showSearch:!1}),f.jsx(xi,{title:t("dashboard.status"),options:D,selectedValues:v,onChange:x,icon:nr,showSearch:!1})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[f.jsxs("div",{className:"bg-accent rounded-3xl p-6 text-white shadow-accent",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 opacity-80",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.totalRevenue")}),f.jsx(jq,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-3xl font-black mb-1",children:a(A)}),f.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium opacity-80",children:[f.jsx(Eb,{className:"w-3 h-3"}),f.jsx("span",{children:t("dashboard.revenueComparison")})]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 text-slate-400",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.totalOrders")}),f.jsx(aL,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-3xl font-black text-slate-800 dark:text-white mb-1",children:I}),f.jsx("p",{className:"text-xs text-slate-500 font-medium mt-1",children:t("dashboard.ordersPlaced")})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 text-slate-400",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.topRegion")}),f.jsx(Vo,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-2xl font-black text-slate-800 dark:text-white mb-1 truncate",children:j.name}),f.jsx("p",{className:"text-xs text-slate-500 font-medium mt-1",children:t("dashboard.ordersCount",{count:j.count})})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 text-slate-400",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.activeCustomers")}),f.jsx(vk,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-3xl font-black text-slate-800 dark:text-white mb-1",children:O}),f.jsx("p",{className:"text-xs text-slate-500 font-medium mt-1",children:t("dashboard.uniqueBuyers")})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[400px]",children:[f.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(Eb,{className:"w-5 h-5",style:{color:c.accentType==="solid"?c.accentColor:c.accentGradient.start}})," ",t("dashboard.revenueTrend")]}),f.jsx("div",{className:"flex-1 min-h-0",children:f.jsx(sme,{width:"100%",height:"100%",children:f.jsxs($Te,{data:U,children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"5%",stopColor:c.accentType==="solid"?c.accentColor:c.accentGradient.start,stopOpacity:.3}),f.jsx("stop",{offset:"95%",stopColor:c.accentType==="solid"?c.accentColor:c.accentGradient.start,stopOpacity:0})]})}),f.jsx(T8,{strokeDasharray:"3 3",vertical:!1,stroke:G.grid}),f.jsx(Ax,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:G.text},dy:10}),f.jsx(Nx,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:G.text},tickFormatter:ce=>`${ce/1e3}k`}),f.jsx(Li,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 8px 16px rgba(0,0,0,0.1)",backgroundColor:G.tooltipBg,color:l==="dark"?"#F8FAFC":"#1E293B"},itemStyle:{color:l==="dark"?"#F8FAFC":"#1E293B"},formatter:ce=>[a(ce),t("dashboard.revenue")]}),f.jsx(xs,{type:"monotone",dataKey:"value",stroke:c.accentType==="solid"?c.accentColor:c.accentGradient.start,strokeWidth:3,fillOpacity:1,fill:"url(#colorValue)"})]})})})]}),f.jsxs("div",{className:"lg:col-span-1 border border-slate-100 dark:border-slate-700 rounded-3xl overflow-hidden shadow-sm h-full relative",children:[f.jsx(qCe,{data:F,selectedGovernorates:b,onSelect:ce=>{b.includes(ce)?w(b.filter(de=>de!==ce)):w([...b,ce])}}),f.jsx("div",{className:"absolute top-4 start-4 bg-white/90 backdrop-blur px-3 py-1 rounded-full text-xs font-bold text-slate-500 shadow-sm border border-slate-100",children:t("dashboard.interactiveMap")})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-[400px]",children:[f.jsx(WCe,{regions:C,selectedRegion:b,onSelect:ce=>{b.includes(ce)?w(b.filter(de=>de!==ce)):w([...b,ce])}}),f.jsx("div",{className:"h-full",children:f.jsx(HCe,{products:n,orders:M,formatCurrency:a})})]})]})]})},KCe=({categories:t,products:e,onClose:n,onAdd:r,onUpdate:i,onDelete:a})=>{const{addToast:o}=Rr(),[s,l]=R.useState(""),[c,u]=R.useState(null),[d,h]=R.useState(""),[p,g]=R.useState({});R.useEffect(()=>{const b={};t.forEach(w=>{b[w]=e.filter(E=>E.category===w).length}),g(b)},[t,e]);const y=()=>{s.trim()&&(r(s.trim()),l(""))},v=()=>{c&&d.trim()&&d!==c&&(i(c,d.trim()),u(null),h(""))},x=b=>{if(p[b]>0){o(`Cannot delete category "${b}" because it is used by ${p[b]} products.`,"error");return}window.confirm(`Are you sure you want to delete category "${b}"?`)&&a(b)};return f.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden flex flex-col max-h-[80vh]",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-800/50",children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Manage Categories"}),f.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:f.jsx(Tr,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:s,onChange:b=>l(b.target.value),placeholder:"New Category Name",className:"flex-1 px-4 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent dark:text-white",onKeyDown:b=>b.key==="Enter"&&y()}),f.jsx("button",{onClick:y,disabled:!s.trim(),className:"px-4 py-2 bg-accent disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-xl shadow-lg shadow-accent/20 transition-all flex items-center justify-center",children:f.jsx(Uo,{className:"w-5 h-5"})})]})}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 custom-scrollbar bg-slate-50/50 dark:bg-slate-900/20",children:[t.map(b=>f.jsx("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm group hover:border-indigo-100 dark:hover:border-slate-600 transition-colors",children:c===b?f.jsxs("div",{className:"flex-1 flex gap-2 mr-2",children:[f.jsx("input",{autoFocus:!0,type:"text",value:d,onChange:w=>h(w.target.value),className:"flex-1 px-2 py-1 bg-slate-50 dark:bg-slate-900 border border-accent rounded-lg text-sm outline-none dark:text-white",onKeyDown:w=>{w.key==="Enter"&&v(),w.key==="Escape"&&u(null)}}),f.jsx("button",{onClick:v,className:"text-emerald-500 hover:bg-emerald-50 rounded p-1",children:f.jsx(gk,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>u(null),className:"text-red-400 hover:bg-red-50 rounded p-1",children:f.jsx(Tr,{className:"w-4 h-4"})})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200 text-sm",children:b}),f.jsxs("span",{className:"text-[10px] font-bold px-2 py-0.5 bg-slate-100 dark:bg-slate-700 text-slate-500 rounded-full",children:[p[b]||0," products"]})]}),f.jsxs("div",{className:"flex gap-1 opacity-100 sm:opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>{u(b),h(b)},className:"p-2 text-slate-400 hover:text-accent hover:bg-accent/10 rounded-lg transition-colors",title:"Rename",children:f.jsx(Wq,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>x(b),className:`p-2 rounded-lg transition-colors ${p[b]>0?"text-slate-300 cursor-not-allowed":"text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30"}`,title:p[b]>0?"Cannot delete used category":"Delete",children:p[b]>0?f.jsx(Iq,{className:"w-4 h-4"}):f.jsx(Jf,{className:"w-4 h-4"})})]})]})},b)),t.length===0&&f.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"No categories found. Add one above."})]})]})})},va=({title:t,options:e,selectedValue:n,onChange:r,icon:i,placeholder:a="Search...",showSearch:o=!0,customAction:s=null,disabled:l=!1,direction:c="down"})=>{const[u,d]=R.useState(!1),[h,p]=R.useState(""),g=R.useRef(null);R.useEffect(()=>{const w=E=>{g.current&&!g.current.contains(E.target)&&d(!1)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[]),R.useEffect(()=>{u&&p("")},[u]);const y=w=>{r(w),d(!1)},v=R.useMemo(()=>h?e.filter(w=>w.label.toLowerCase().includes(h.toLowerCase())):e,[e,h]),x=e.find(w=>w.value===n),b=x?x.label:t;return f.jsxs("div",{className:"relative w-full",ref:g,children:[f.jsxs("button",{type:"button",disabled:l,onClick:()=>d(!u),className:`flex items-center justify-between w-full px-3 h-[44px] rounded-xl border-2 transition-all font-bold text-[11px] outline-none shadow-sm ${l?"bg-slate-50 dark:bg-slate-900/50 border-slate-100 dark:border-slate-800 text-slate-400 cursor-not-allowed opacity-60":u?"bg-accent/10 border-accent/40 text-accent":"bg-white dark:bg-slate-900 border-white dark:border-slate-800 text-slate-700 dark:text-white hover:border-slate-200 dark:hover:border-slate-700"}`,children:[f.jsxs("div",{className:"flex items-center gap-1 truncate",children:[i&&f.jsx(i,{className:`w-3.5 h-3.5 ${u?"text-accent":"text-slate-400"}`}),f.jsx("span",{className:"truncate",children:b})]}),f.jsx(kl,{className:`w-3 h-3 transition-transform flex-shrink-0 ${u?"rotate-180 text-accent":"text-slate-400"}`})]}),u&&f.jsx("div",{className:`absolute start-0 z-[100] w-full animate-in fade-in zoom-in-95 duration-200 ${c==="up"?"bottom-full mb-2":"top-full mt-2"}`,children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col",children:[o&&f.jsx("div",{className:"p-3 border-b border-slate-100 dark:border-slate-700",children:f.jsxs("div",{className:"relative",children:[f.jsx(Cu,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),f.jsx("input",{autoFocus:!0,type:"text",placeholder:a,value:h,onChange:w=>p(w.target.value),className:"w-full ps-9 pe-4 py-2 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent transition-all font-bold text-xs dark:text-white"})]})}),f.jsxs("div",{className:"flex-1 max-h-48 overflow-y-auto p-2 space-y-1",children:[s&&f.jsxs("div",{onClick:()=>{s.onClick(),d(!1)},className:"flex items-center gap-3 px-3 py-2 rounded-xl cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700/50 text-accent font-bold text-sm border border-dashed border-accent/30 mb-1",children:[s.icon&&f.jsx(s.icon,{className:"w-4 h-4"}),f.jsx("span",{children:s.label})]}),v.length===0?f.jsx("div",{className:"px-4 py-8 text-center text-slate-400",children:f.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"No results found"})}):v.map(w=>{const E=n===w.value;return f.jsxs("div",{onClick:()=>y(w.value),className:`flex items-center justify-between px-3 py-2 rounded-xl cursor-pointer transition-all group ${E?"bg-accent/10 text-accent font-bold":"hover:bg-slate-50 dark:hover:bg-slate-700/50 text-slate-600 dark:text-slate-300"}`,children:[f.jsx("span",{className:`text-xs font-semibold ${E?"text-accent":"text-slate-600 dark:text-slate-300"}`,children:w.label}),E&&f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent shadow-[0_0_8px_var(--accent-color)]"})]},w.value)})]})]})})]})},YCe=({images:t=[],currentIndex:e=0,onChange:n,onDelete:r,onDownload:i})=>{const[a,o]=R.useState(null),[s,l]=R.useState(null);R.useRef(null);const c=50,u=y=>{l(null),o(y.targetTouches[0].clientX)},d=y=>{l(y.targetTouches[0].clientX)},h=()=>{if(!a||!s)return;const y=a-s,v=y>c,x=y<-c;v&&e<t.length-1?n(e+1):x&&e>0&&n(e-1)},p=()=>{e<t.length-1?n(e+1):n(0)},g=()=>{e>0?n(e-1):n(t.length-1)};return!t||t.length===0?f.jsx("div",{className:"w-full aspect-square bg-slate-50 dark:bg-slate-900 rounded-2xl flex items-center justify-center border-2 border-dashed border-slate-200 dark:border-slate-800",children:f.jsx("span",{className:"text-slate-400 font-medium",children:"No images available"})}):f.jsxs("div",{className:"flex flex-col gap-4 w-full h-full",children:[f.jsxs("div",{className:"relative flex-1 group overflow-hidden bg-slate-50 dark:bg-slate-900 rounded-2xl border border-slate-100 dark:border-slate-800 flex items-center justify-center",onTouchStart:u,onTouchMove:d,onTouchEnd:h,children:[f.jsx("div",{className:"flex transition-transform duration-500 ease-out h-full",style:{transform:`translateX(-${e*100}%)`},children:t.map((y,v)=>f.jsx("div",{className:"min-w-full h-full flex-none flex items-center justify-center p-4",children:f.jsx("img",{src:typeof y=="string"?y:y.url,alt:`Product view ${v+1}`,className:"max-w-full max-h-full object-contain pointer-events-none select-none drop-shadow-md"})},v))}),t.length>1&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:y=>{y.stopPropagation(),g()},className:"absolute left-4 z-10 p-3 bg-white/90 dark:bg-slate-800/90 rounded-full shadow-lg text-slate-800 dark:text-white hover:scale-110 active:scale-95 transition-all opacity-0 group-hover:opacity-100 backdrop-blur-sm",children:f.jsx(hk,{className:"w-6 h-6"})}),f.jsx("button",{onClick:y=>{y.stopPropagation(),p()},className:"absolute right-4 z-10 p-3 bg-white/90 dark:bg-slate-800/90 rounded-full shadow-lg text-slate-800 dark:text-white hover:scale-110 active:scale-95 transition-all opacity-0 group-hover:opacity-100 backdrop-blur-sm",children:f.jsx(pk,{className:"w-6 h-6"})})]}),f.jsx("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:i&&f.jsx("button",{onClick:y=>{y.stopPropagation(),i()},className:"p-2.5 bg-white/90 dark:bg-slate-800/90 rounded-xl shadow-md text-slate-600 dark:text-slate-300 hover:text-accent transition-colors backdrop-blur-sm",title:"Download Image",children:f.jsx(yv,{className:"w-5 h-5"})})}),f.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/40 backdrop-blur-md rounded-full text-[10px] font-bold text-white tracking-widest uppercase",children:[e+1," / ",t.length]})]}),f.jsx("div",{className:"flex items-center gap-3 overflow-x-auto pb-4 pt-2 px-1 custom-scrollbar",children:t.map((y,v)=>f.jsxs("div",{className:"relative shrink-0 group",children:[f.jsx("button",{onClick:()=>n(v),className:`w-16 h-16 rounded-xl overflow-hidden border-2 transition-all ${e===v?"border-accent ring-2 ring-accent/20 dark:ring-accent/40 scale-105":"border-transparent hover:border-slate-300 dark:hover:border-slate-600"}`,children:f.jsx("img",{src:typeof y=="string"?y:y.url,alt:`Thumbnail ${v+1} of ${t.length}`,className:"w-full h-full object-cover"})}),r&&f.jsx("button",{onClick:x=>{x.stopPropagation(),r(v)},className:"absolute -top-1 -right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-sm hover:bg-red-600 hover:scale-110 z-10",children:f.jsx(Tr,{className:"w-3 h-3"})})]},v))})]})},_U=({product:t,onClose:e,onSave:n,onUpload:r})=>{var P;const{t:i}=jr(),{formatCurrency:a}=Rr(),[o,s]=R.useState(0),[l,c]=R.useState(t.name||""),[u,d]=R.useState(t.description||""),[h,p]=R.useState(t.images||[]),[g,y]=R.useState(!1);R.useEffect(()=>{const _=k=>{k.key==="Escape"&&e()};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[e]),R.useEffect(()=>{c(t.name||""),d(t.description||""),p(t.images||[]),s(0)},[t]);const v=async()=>{y(!0),await n({...t,name:l,description:u,images:h}),y(!1)},x=async _=>{if(_.target.files&&_.target.files.length>0){const k=await r(Array.from(_.target.files));k&&p([...h,...k])}},b=async _=>{if(window.confirm(i("productPicture.modal.confirmDeleteImage"))){const k=h.filter((A,I)=>I!==_);p(k),o>=k.length&&k.length>0?s(k.length-1):k.length===0&&s(0),y(!0),await n({...t,images:k,name:l,description:u}),y(!1)}},w=h.length>0?h[o]:((P=t.images)==null?void 0:P[0])||t.image,E=typeof w=="string"?w:(w==null?void 0:w.url)||"https://via.placeholder.com/600",S=()=>{const _=document.createElement("a");_.href=E,_.download=`product-${t.sku}-${o}.jpg`,document.body.appendChild(_),_.click(),document.body.removeChild(_)};return f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:[f.jsx("div",{className:"absolute inset-0",onClick:e}),f.jsxs("div",{className:"relative w-full max-w-5xl bg-white dark:bg-slate-800 rounded-2xl shadow-2xl overflow-hidden flex flex-col md:flex-row max-h-[90vh]",children:[f.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-50 p-2 bg-white/50 dark:bg-black/50 hover:bg-white dark:hover:bg-black rounded-full text-slate-800 dark:text-white transition-all backdrop-blur",children:f.jsx(Tr,{className:"w-5 h-5"})}),f.jsxs("div",{className:"w-full md:w-2/3 bg-slate-100 dark:bg-slate-900 flex flex-col p-6 overflow-hidden",children:[f.jsx("div",{className:"flex-1 min-h-0",children:f.jsx(YCe,{images:h,currentIndex:o,onChange:s,onDelete:b,onDownload:S})}),f.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-800 flex justify-between items-center",children:[f.jsxs("div",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:[h.length," ",i("productPicture.modal.images")]}),f.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-bold text-slate-700 dark:text-slate-200 hover:text-accent hover:border-accent cursor-pointer transition-all shadow-sm active:scale-95",children:[f.jsx(yk,{className:"w-4 h-4"}),f.jsx("span",{children:i("productPicture.modal.addPhoto")}),f.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:x})]})]})]}),f.jsxs("div",{className:"w-full md:w-1/3 p-6 flex flex-col h-full bg-white dark:bg-slate-800 border-l border-slate-100 dark:border-slate-700 overflow-y-auto",children:[f.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(sl,{className:"w-5 h-5 text-accent"}),i("productPicture.modal.details")]}),f.jsxs("div",{className:"space-y-6 flex-1",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:i("productPicture.modal.productTitle")}),f.jsx("input",{type:"text",value:l,onChange:_=>c(_.target.value),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl font-bold text-slate-800 dark:text-white focus:ring-2 focus:ring-accent outline-none transition-all",placeholder:i("productPicture.modal.enterTitle")})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:i("productPicture.modal.description")}),f.jsx("textarea",{value:u,onChange:_=>d(_.target.value),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 focus:ring-2 focus:ring-accent outline-none transition-all resize-none h-32",placeholder:i("productPicture.modal.enterDescription")})]}),f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:i("productPicture.modal.sellingPrice")}),f.jsx("span",{className:"text-xl font-black text-slate-800 dark:text-white",children:a(t.sellingPriceIQD||t.price||0)})]}),f.jsx("div",{className:"p-2 bg-accent/10 rounded-lg",children:f.jsx(sL,{className:"w-5 h-5 text-accent"})})]})]}),f.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100 dark:border-slate-700",children:f.jsx("button",{onClick:v,disabled:g||!l.trim(),className:"w-full py-3.5 bg-accent text-white font-bold rounded-xl shadow-accent transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",children:g?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),i("common.saving")]}):f.jsxs(f.Fragment,{children:[f.jsx(gk,{className:"w-5 h-5"}),i("settings.saveChanges")]})})})]})]})]})},cA=({limit:t,onChange:e})=>{const{t:n}=jr(),[r,i]=R.useState(!1),[a,o]=R.useState(![50,100,500,1e3].includes(t)),s=R.useRef(null),l=R.useRef(null),c=[50,100,500,1e3];R.useEffect(()=>{const h=p=>{s.current&&!s.current.contains(p.target)&&i(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);const u=h=>{h==="custom"?o(!0):(o(!1),e(Number(h)),i(!1))},d=h=>{const p=Number(h.target.value);p>0&&e(p)};return f.jsxs("div",{className:"relative",ref:s,children:[f.jsxs("button",{onClick:()=>i(!r),className:`flex items-center gap-1.5 px-3 h-[44px] rounded-2xl border-2 transition-all font-bold text-[11px] outline-none ${r?"bg-accent/10 border-accent/30 text-accent":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-800 text-slate-500 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[f.jsx(rL,{className:"w-4 h-4"}),f.jsxs("span",{className:"truncate",children:[n("common.showRows")||"Rows",": ",t]}),f.jsx(kl,{className:`w-4 h-4 transition-transform ${r?"rotate-180":""}`})]}),r&&f.jsx("div",{className:"absolute top-full end-0 mt-2 z-50 w-48 animate-in fade-in zoom-in-95 duration-200",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden py-2",children:[c.map(h=>f.jsx("button",{onClick:()=>u(h),className:`w-full text-start px-4 py-2 text-sm font-semibold hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors ${t===h&&!a?"text-accent bg-accent/5":"text-slate-600 dark:text-slate-300"}`,children:h},h)),f.jsxs("div",{className:"px-2 pt-2 mt-2 border-t border-slate-100 dark:border-slate-700",children:[f.jsx("button",{onClick:()=>u("custom"),className:`w-full text-start px-2 py-1.5 text-xs font-black uppercase tracking-widest ${a?"text-accent":"text-slate-400"}`,children:n("common.custom")||"Custom"}),a&&f.jsx("div",{className:"px-2 pb-2",children:f.jsx("input",{ref:l,type:"number",value:t,onChange:d,className:"w-full mt-1 px-3 py-2 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-bold outline-none focus:border-accent transition-all dark:text-white",placeholder:"Value...",autoFocus:!0})})]})]})})]})},uA=(t,e=null)=>{if(!t||t.length===0)return"";const n=e||Object.keys(t[0]),r=n.map(a=>`"${a}"`).join(","),i=t.map(a=>n.map(o=>{let s=a[o];return typeof s=="object"&&s!==null&&(s=JSON.stringify(s)),s==null&&(s=""),`"${String(s).replace(/"/g,'""')}"`}).join(","));return[r,...i].join(`
`)},dA=(t,e)=>{const n="\uFEFF",r=new Blob([n+t],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),a=URL.createObjectURL(r);i.setAttribute("href",a),i.setAttribute("download",e),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a)},QCe=(t,e=null)=>{if(!t||t.length===0)return;const n=t.map(a=>{var o,s,l,c,u,d,h;return{"Order ID":a.orderId||a._id,Date:a.date,Status:a.status,"Customer Name":((o=a.customer)==null?void 0:o.name)||"","Customer Phone":((s=a.customer)==null?void 0:s.phone)||"","Customer Email":((l=a.customer)==null?void 0:l.email)||"","Customer Address":((c=a.customer)==null?void 0:c.address)||"",Governorate:((u=a.customer)==null?void 0:u.governorate)||"","Social Platform":((d=a.customer)==null?void 0:d.social)||"","Items Count":((h=a.items)==null?void 0:h.length)||0,Subtotal:a.subtotal||a.total,"Discount %":a.discount||0,Total:a.total,Notes:a.notes||""}}),r=uA(n),i=e||`orders_export_${new Date().toISOString().split("T")[0]}.csv`;dA(r,i)},XCe=(t,e=null)=>{if(!t||t.length===0)return;const n=t.map(a=>({Name:a.name,Phone:a.phone,Email:a.email||"",Address:a.address||"",Governorate:a.governorate||"","Social Platform":a.social||"",Notes:a.notes||"","Created On":a.createdOn||""})),r=uA(n),i=e||`customers_export_${new Date().toISOString().split("T")[0]}.csv`;dA(r,i)},JCe=(t,e=null)=>{if(!t||t.length===0)return;const n=t.map(a=>({Name:a.name,SKU:a.sku,Category:a.category,Stock:a.stock,Status:a.status,"Selling Price (IQD)":a.sellingPriceIQD||a.price,"Unit Price ($)":a.unitPriceUSD||a.unitPrice,"Profit per Unit (IQD)":a.profitPerUnitIQD||0,"Units Sold":a.unitsSold||0,"Total Profit (IQD)":a.totalProfitIQD||0})),r=uA(n),i=e||`products_export_${new Date().toISOString().split("T")[0]}.csv`;dA(r,i)},Cw=t=>{const e=Number(t);return e<=0?"Out of Stock":e<10?"Low Stock":"In Stock"},SD=t=>Math.round(t/500)*500,ZCe=["In Stock","Low Stock","Out of Stock"],ED=({status:t})=>{const{t:e}=jr(),n=i=>{switch(i){case"In Stock":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400";case"Low Stock":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";case"Out of Stock":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-200"}},r=i=>{switch(i){case"In Stock":return e("products.stockStatus.instock");case"Low Stock":return e("products.stockStatus.lowstock");case"Out of Stock":return e("products.stockStatus.outofstock");default:return i}};return f.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold ${n(t)}`,children:r(t)})},eje=()=>{const{t,i18n:e}=jr(),{products:n,addProduct:r,updateProduct:i,deleteProduct:a,categories:o,addCategory:s,updateCategory:l,deleteCategory:c,formatCurrency:u,loading:d,brand:h,addToast:p}=Rr(),[g,y]=R.useState(""),[v,x]=R.useState([]),[b,w]=R.useState([]),[E,S]=R.useState(!1),[P,_]=R.useState(!1),[k,A]=R.useState(100),[I,O]=R.useState(null),[C,j]=R.useState(!1),[M,D]=R.useState(null),[L,B]=R.useState({key:null,direction:"ascending"}),V=R.useRef(null),U={name:"",sku:"",category:"",unitPrice:"",price:"",stock:"",status:"In Stock",images:[],alibabaProductLink:"",alibabaMessageLink:"",alibabaOrderLink:"",alibabaOrderNumber:"",unitPriceUSD:"",exchangeRate:"1380",unitPriceIQD:0,additionalFeesIQD:"",shippingToIraqIQD:"",marginPercent:"",sellingPriceIQD:0,profitPerUnitIQD:0,unitsSold:0,totalProfitIQD:0,alibabaFeeUSD:"",isSellingPriceOverridden:!1,costPriceIQD_total:0,costPriceIQD_perUnit:0,recommendedSellingPriceIQD_perUnit:0,alibabaNote:"",description:"",profitPerUnitUSD:0,totalProfitUSD:0},[F,G]=R.useState(U),[K,ie]=R.useState(""),[se,ve]=R.useState(!1),ce=R.useMemo(()=>{const Z={};return n.forEach(q=>{q.category&&(Z[q.category]=(Z[q.category]||0)+1)}),o.map(q=>({value:q,label:q,count:Z[q]||0})).sort((q,re)=>re.count-q.count)},[o,n]),de=R.useMemo(()=>{const Z={};return n.forEach(q=>{q.status&&(Z[q.status]=(Z[q.status]||0)+1)}),ZCe.map(q=>({value:q,label:t(`products.stockStatus.${q.replace(/\s/g,"").toLowerCase()}`),count:Z[q]||0}))},[n,t]),me=R.useMemo(()=>{let Z=[...n];return L.key&&Z.sort((q,re)=>{let fe=q[L.key],Te=re[L.key];return typeof fe=="string"&&(fe=fe.toLowerCase()),typeof Te=="string"&&(Te=Te.toLowerCase()),fe<Te?L.direction==="ascending"?-1:1:fe>Te?L.direction==="ascending"?1:-1:0}),Z},[n,L]).filter(Z=>{const q=Z.name.toLowerCase().includes(g.toLowerCase())||Z.sku.toLowerCase().includes(g.toLowerCase()),re=v.length===0||v.includes(Z.category),fe=b.length===0||b.includes(Z.status);return q&&re&&fe}).slice(0,k),J=Z=>{let q="ascending";L.key===Z&&L.direction==="ascending"&&(q="descending"),B({key:Z,direction:q})};R.useEffect(()=>{const Z=parseFloat(F.unitPriceUSD)||0,q=parseFloat(F.alibabaFeeUSD)||0,re=parseInt(F.stock)||0,fe=parseFloat(F.exchangeRate)||1320,Te=parseFloat(F.shippingToIraqIQD)||0,qe=parseFloat(F.additionalFeesIQD)||0,Ze=parseFloat(F.marginPercent)||0,At=parseInt(F.unitsSold)||0,oi=(Z+q)*re*fe+Te+qe,Oi=re>0?oi/re:0,Ci=Oi*(1+Ze/100),W=SD(Ci);G(ue=>{let pe=ue.sellingPriceIQD;ue.isSellingPriceOverridden||(pe=W);const De=(parseFloat(pe)||0)-Oi,ct=De*At,dt=fe>0?De/fe:0,Kt=dt*At;return ue.costPriceIQD_total===oi&&ue.costPriceIQD_perUnit===Oi&&ue.recommendedSellingPriceIQD_perUnit===W&&ue.sellingPriceIQD===pe&&ue.profitPerUnitIQD===De&&ue.totalProfitIQD===ct&&ue.profitPerUnitUSD===dt&&ue.totalProfitUSD===Kt?ue:{...ue,costPriceIQD_total:oi,costPriceIQD_perUnit:Oi,recommendedSellingPriceIQD_perUnit:W,sellingPriceIQD:pe,profitPerUnitIQD:De,totalProfitIQD:ct,profitPerUnitUSD:dt,totalProfitUSD:Kt,unitPrice:Z,price:pe}})},[F.unitPriceUSD,F.alibabaFeeUSD,F.stock,F.exchangeRate,F.shippingToIraqIQD,F.additionalFeesIQD,F.marginPercent,F.unitsSold,F.isSellingPriceOverridden]);const ee=()=>{O(null),G(U),S(!0)},Oe=Z=>{O(Z),G({...U,...Z,images:Z.images||[]}),S(!0)},Re=Z=>{window.confirm(t("products.confirmDelete"))&&a(Z)},Le=Z=>{const{name:q,value:re}=Z.target;if(q==="category"&&re==="new")ve(!0),G(fe=>({...fe,category:""}));else if(q==="sellingPriceIQD"){const fe=re===""?"":parseFloat(re);G(Te=>({...Te,sellingPriceIQD:fe,isSellingPriceOverridden:!0}))}else G(fe=>({...fe,[q]:re}))},it=()=>{G(Z=>{if(!Z.isSellingPriceOverridden)return Z;const q=SD(parseFloat(Z.sellingPriceIQD)||0),re=Z.costPriceIQD_perUnit,fe=re>0?(q/re-1)*100:0;return{...Z,sellingPriceIQD:q,marginPercent:fe.toFixed(2)}})},yt=Z=>{const q=Array.from(Z.target.files);q.length!==0&&q.forEach(re=>{const fe=new FileReader;fe.onloadend=()=>{G(Te=>({...Te,images:[...Te.images,fe.result]}))},fe.readAsDataURL(re)})},Gt=Z=>{const q=F.images.filter((re,fe)=>fe!==Z);G(re=>({...re,images:q}))},ne=Z=>{if(Z.preventDefault(),parseFloat(F.marginPercent)>=100){p(t("products.marginTooHigh"),"error");return}const q={...F,unitPriceUSD:parseFloat(F.unitPriceUSD)||0,alibabaFeeUSD:parseFloat(F.alibabaFeeUSD)||0,exchangeRate:parseFloat(F.exchangeRate)||1380,additionalFeesIQD:parseFloat(F.additionalFeesIQD)||0,shippingToIraqIQD:parseFloat(F.shippingToIraqIQD)||0,marginPercent:parseFloat(F.marginPercent)||0,unitsSold:parseInt(F.unitsSold)||0,stock:parseInt(F.stock)||0,status:Cw(F.stock),unitPrice:parseFloat(F.unitPriceUSD)||0,price:F.sellingPriceIQD||0,images:F.images||[]};I?i({...q,_id:I._id}):r(q),S(!1)},ye=({column:Z,label:q,border:re=!1})=>{const fe=L.key===Z;return f.jsx("th",{onClick:()=>J(Z),className:`px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors select-none ${re?"border-s dark:border-slate-700":""}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[q,fe&&f.jsx("span",{className:"text-[var(--brand-color)] font-bold",children:L.direction==="ascending"?"":""})]})})};return f.jsxs(Fu,{title:t("products.title"),children:[f.jsxs("div",{className:"flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[f.jsxs("button",{onClick:ee,className:"flex items-center gap-2 px-6 py-2.5 text-white rounded-xl font-bold transition-all bg-accent shadow-accent hover:brightness-110 active:scale-95",children:[f.jsx(Uo,{className:"w-5 h-5"}),f.jsx("span",{children:t("products.addProduct")})]}),f.jsxs("button",{onClick:()=>{if(me.length===0)return p(t("common.noDataToExport"),"info");JCe(me)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 text-white rounded-xl font-bold transition-all shadow-lg hover:bg-green-700 active:scale-95",children:[f.jsx(yv,{className:"w-5 h-5"}),f.jsx("span",{className:"hidden sm:inline",children:t("common.exportCSV")})]}),f.jsxs("button",{onClick:()=>_(!0),className:"flex items-center gap-2 px-6 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700 active:scale-95",children:[f.jsx(mk,{className:"w-4 h-4"}),f.jsx("span",{children:t("products.manageCategories")})]})]}),f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[(v.length>0||b.length>0||g)&&f.jsx("button",{onClick:()=>{y(""),x([]),w([])},className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsx(cA,{limit:k,onChange:A}),f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(sl,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:me.length})," ",t("products.title")]})]})]})]}),f.jsxs("div",{className:"flex gap-3 w-full flex-wrap items-center",children:[f.jsxs("div",{className:"relative min-w-[200px] flex-1 md:flex-none h-[44px]",children:[f.jsx(Cu,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("products.searchPlaceholder"),value:g,onChange:Z=>y(Z.target.value),className:"ps-10 pe-4 py-0 h-full w-full bg-white dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-800 rounded-2xl outline-none focus:border-accent/40 focus:ring-4 focus:ring-accent/10 transition-all font-bold text-sm text-slate-700 dark:text-white"})]}),f.jsx(xi,{title:t("products.categories"),options:ce,selectedValues:v,onChange:x,icon:Bc,showProductCount:!0}),f.jsx(xi,{title:t("products.status"),options:de,selectedValues:b,onChange:w,icon:nr,showSearch:!1})]})]}),P&&f.jsx(KCe,{categories:o,products:n,onClose:()=>_(!1),onAdd:s,onUpdate:l,onDelete:c}),f.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:[f.jsx(ye,{column:"name",label:t("products.table.product")}),f.jsx(ye,{column:"category",label:t("products.table.category")}),f.jsx(ye,{column:"stock",label:t("products.table.stock"),border:!0}),f.jsx(ye,{column:"sellingPriceIQD",label:t("products.table.price"),border:!0}),f.jsx(ye,{column:"status",label:t("products.table.status"),border:!0}),f.jsx("th",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:t("common.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:d?f.jsx("tr",{children:f.jsx("td",{colSpan:"6",className:"text-center py-12",children:f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"}),f.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:t("products.loading")})]})})}):me.length===0?f.jsx("tr",{children:f.jsxs("td",{colSpan:"6",className:"text-center py-12 text-slate-400",children:[f.jsx(sl,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:t("products.noProducts")})]})}):me.map(Z=>f.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 rounded-xl overflow-hidden bg-slate-100 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 flex-shrink-0 cursor-zoom-in hover:brightness-90 transition-all shadow-sm",onClick:()=>{D(Z),j(!0)},children:f.jsx("img",{src:Z.images&&Z.images[0]?typeof Z.images[0]=="string"?Z.images[0]:Z.images[0].url:Z.imageUrl||"https://via.placeholder.com/150",alt:Z.name,className:"w-full h-full object-cover"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-bold text-slate-800 dark:text-white",children:Z.name}),f.jsx("p",{className:"text-xs font-mono text-slate-400 uppercase tracking-tighter",children:Z.sku})]})]})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("span",{className:"px-2.5 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-lg text-xs font-bold",children:Z.category})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-sm font-bold text-slate-800 dark:text-white",children:Z.stock})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-sm font-black text-slate-800 dark:text-white",children:u(Z.sellingPriceIQD||Z.price||0)})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx(ED,{status:Cw(Z.stock)})}),f.jsx("td",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-end gap-1",children:[f.jsx("button",{onClick:()=>Oe(Z),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all",title:t("common.edit"),children:f.jsx(zc,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>Re(Z._id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",title:t("common.delete"),children:f.jsx(Jf,{className:"w-4 h-4"})})]})})]},Z._id))})]})})}),E&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-black/50 backdrop-blur-sm p-2 sm:p-4 overflow-y-auto",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-2xl w-full max-w-2xl my-4 sm:my-8 animate-in fade-in zoom-in duration-200 flex flex-col relative",children:[f.jsxs("div",{className:"px-6 py-5 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-white dark:bg-slate-800 sticky top-0 z-20 rounded-t-3xl",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white uppercase tracking-tight",children:t(I?"products.editProduct":"products.addProduct")}),f.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:I?`${t("products.sku")}: ${F.sku}`:t("products.fillInfo")})]}),f.jsx("button",{onClick:()=>S(!1),className:"w-10 h-10 flex items-center justify-center text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-all",children:f.jsx(Tr,{className:"w-6 h-6"})})]}),f.jsxs("form",{id:"productForm",onSubmit:ne,className:"overflow-y-auto p-6 space-y-8 custom-scrollbar relative",children:[f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.basicInfo")}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.productName")}),f.jsx("input",{required:!0,name:"name",value:F.name,onChange:Le,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none dark:text-white transition-all",placeholder:t("products.form.productNamePlaceholder")})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.sku")}),f.jsx("input",{required:!0,name:"sku",value:F.sku,onChange:Le,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none dark:text-white transition-all",placeholder:t("products.form.skuPlaceholder")})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.category")}),f.jsx(va,{title:t("products.form.selectCategory"),options:o.map(Z=>({value:Z,label:Z})),selectedValue:F.category,onChange:Z=>G(q=>({...q,category:Z})),icon:Bc,showSearch:!1,customAction:{label:t("products.form.createCategory"),icon:Uo,onClick:()=>_(!0)}})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.stock")}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{required:!0,type:"number",name:"stock",value:F.stock,onChange:Le,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none dark:text-white transition-all shadow-sm"}),f.jsx("div",{className:"absolute end-3 top-1/2 -translate-y-1/2",children:f.jsx(ED,{status:Cw(F.stock)})})]})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.alibabaSourcing")}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.productLink")}),f.jsx("input",{name:"alibabaProductLink",value:F.alibabaProductLink,onChange:Le,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium",placeholder:"https://..."})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.messageLink")}),f.jsx("input",{name:"alibabaMessageLink",value:F.alibabaMessageLink,onChange:Le,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium",placeholder:"https://..."})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.orderLink")}),f.jsx("input",{name:"alibabaOrderLink",value:F.alibabaOrderLink,onChange:Le,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium",placeholder:"https://..."})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.alibabaOrderNo")}),f.jsx("input",{name:"alibabaOrderNumber",value:F.alibabaOrderNumber,onChange:Le,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-bold shadow-sm",placeholder:"1234..."})]}),f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.alibabaNote")}),f.jsxs("div",{className:"relative",children:[f.jsx(zq,{className:"absolute start-3 top-3 w-4 h-4 text-slate-400"}),f.jsx("textarea",{name:"alibabaNote",value:F.alibabaNote,onChange:Le,className:"w-full ps-10 pe-4 py-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium min-h-[80px] resize-none",placeholder:t("products.form.notePlaceholder")})]})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.costAndPricing")}),f.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.unitPrice")}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute start-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:"$"}),f.jsx("input",{required:!0,type:"number",step:"0.01",name:"unitPriceUSD",value:F.unitPriceUSD,onChange:Le,className:"w-full ps-7 p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.alibabaFee")}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute start-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:"$"}),f.jsx("input",{type:"number",step:"0.01",name:"alibabaFeeUSD",value:F.alibabaFeeUSD,onChange:Le,className:"w-full ps-7 p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.exchangeRate")}),f.jsx("input",{required:!0,type:"number",name:"exchangeRate",value:F.exchangeRate,onChange:Le,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.margin")}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{required:!0,type:"number",name:"marginPercent",value:F.marginPercent,onChange:Le,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"}),f.jsx("span",{className:"absolute end-3 top-1/2 -translate-y-1/2 text-slate-400",children:"%"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.shippingIQD")}),f.jsx("input",{type:"number",name:"shippingToIraqIQD",value:F.shippingToIraqIQD,onChange:Le,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.otherFeesIQD")}),f.jsx("input",{type:"number",name:"additionalFeesIQD",value:F.additionalFeesIQD,onChange:Le,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none"})]}),f.jsxs("div",{className:"col-span-2 grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:t("products.form.costTotal")}),f.jsxs("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:["IQD ",(F.costPriceIQD_total||0).toLocaleString()]})]}),f.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:t("products.form.costPerUnit")}),f.jsxs("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:["IQD ",(F.costPriceIQD_perUnit||0).toLocaleString()]})]})]}),f.jsxs("div",{className:"col-span-full grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-1",children:t("products.form.recommendedPrice")}),f.jsxs("span",{className:"text-xl font-bold text-slate-600 dark:text-slate-400",children:["IQD ",(F.recommendedSellingPriceIQD_perUnit||0).toLocaleString()]})]}),f.jsxs("div",{className:`p-4 rounded-2xl border-2 transition-all ${F.isSellingPriceOverridden?"bg-orange-50 border-orange-200 dark:bg-orange-900/10 dark:border-orange-800/50":"bg-[var(--brand-color)]/5 border-[var(--brand-color)]/20"}`,children:[f.jsxs("div",{className:"flex justify-between items-start mb-1",children:[f.jsx("span",{className:"text-[10px] font-bold text-[var(--brand-color)] uppercase tracking-wider",children:t("products.form.finalPrice")}),F.isSellingPriceOverridden&&f.jsxs("button",{type:"button",onClick:()=>G(Z=>({...Z,isSellingPriceOverridden:!1})),className:"text-[10px] font-bold text-orange-600 hover:underline flex items-center gap-1",children:[f.jsx(Tr,{className:"w-3 h-3"})," ",t("common.reset")]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg font-black text-[var(--brand-color)]",children:"IQD"}),f.jsx("input",{type:"number",name:"sellingPriceIQD",value:F.sellingPriceIQD,onChange:Le,onBlur:it,className:"w-full bg-transparent border-b-2 border-[var(--brand-color)] animate-pulse-slow outline-none text-2xl font-black text-[var(--brand-color)]"})]}),f.jsx("p",{className:"text-[10px] text-slate-400 mt-1 font-medium italic",children:F.isSellingPriceOverridden?t("products.form.manualOverride"):t("products.form.autoCalculated")})]})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.profitAnalysis")}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("div",{className:"w-2 h-4 bg-green-500 rounded-full"}),f.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-slate-400",children:t("products.form.iqdAnalysis")})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1",children:t("products.form.profitPerUnit")}),f.jsxs("span",{className:`text-lg font-black ${F.profitPerUnitIQD>=0?"text-green-600 dark:text-green-400":"text-red-500"}`,children:[F.profitPerUnitIQD>=0?"+":"-"," IQD ",Math.abs(F.profitPerUnitIQD||0).toLocaleString()]})]}),f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1",children:t("products.form.totalProfit")}),f.jsxs("span",{className:`text-lg font-black ${F.totalProfitIQD>=0?"text-green-500":"text-red-400"}`,children:["IQD ",(F.totalProfitIQD||0).toLocaleString()]})]})]})]}),f.jsxs("div",{className:"p-4 bg-slate-900 dark:bg-slate-950 rounded-2xl border border-slate-800",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("div",{className:"w-2 h-4 bg-blue-500 rounded-full"}),f.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:t("products.form.usdAnalysis")})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:t("products.form.profitPerUnit")}),f.jsxs("span",{className:`text-lg font-black ${F.profitPerUnitUSD>=0?"text-blue-500":"text-red-400"}`,children:[F.profitPerUnitUSD>=0?"+":"-"," $",Math.abs(F.profitPerUnitUSD||0).toFixed(2)]})]}),f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:t("products.form.totalProfit")}),f.jsxs("span",{className:`text-lg font-black ${F.totalProfitUSD>=0?"text-blue-400":"text-red-400"}`,children:["$",(F.totalProfitUSD||0).toFixed(2)]})]})]})]}),f.jsxs("div",{className:"col-span-full p-4 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-lg",children:f.jsx(nr,{className:"w-4 h-4 text-slate-500"})}),f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:t("products.form.qtyCalculation")}),f.jsx("span",{className:"text-xs font-medium text-slate-500 italic",children:t("products.form.unitsExpected")})]})]}),f.jsx("input",{type:"number",name:"unitsSold",value:F.unitsSold,onChange:Le,className:"w-24 text-right p-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg outline-none text-base font-black text-accent focus:ring-2 focus:ring-accent/20"})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-100 dark:border-slate-700 pb-2",children:t("products.form.generalInfo")}),f.jsx("div",{className:"space-y-4",children:f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.description")}),f.jsxs("div",{className:"relative",children:[f.jsx(nL,{className:"absolute left-3 top-3 w-4 h-4 text-slate-400"}),f.jsx("textarea",{name:"description",value:F.description,onChange:Le,className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium min-h-[120px] resize-none",placeholder:t("products.form.descriptionPlaceholder")})]})]})})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-100 dark:border-slate-700 pb-2",children:t("products.form.gallery")}),f.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[F.images.map((Z,q)=>f.jsxs("div",{className:"relative group aspect-square rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 group",children:[f.jsx("img",{src:Z,alt:"Product",className:"w-full h-full object-cover"}),f.jsx("button",{type:"button",onClick:()=>Gt(q),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity transform hover:scale-110",children:f.jsx(Tr,{className:"w-3 h-3"})})]},q)),f.jsxs("button",{type:"button",onClick:()=>{var Z;return(Z=V.current)==null?void 0:Z.click()},className:"aspect-square rounded-xl border-2 border-dashed border-slate-300 dark:border-slate-700 flex flex-col items-center justify-center text-slate-400 hover:border-[var(--brand-color)] hover:text-[var(--brand-color)] transition-all hover:bg-slate-50 dark:hover:bg-slate-900 group",children:[f.jsx(yk,{className:"w-5 h-5 mb-1 group-hover:scale-110 transition-transform"}),f.jsx("span",{className:"text-[9px] font-black uppercase",children:t("products.form.addImage")})]})]}),f.jsx("input",{type:"file",ref:V,className:"hidden",onChange:yt,multiple:!0,accept:"image/*"})]}),f.jsx("div",{className:"h-20"})]}),f.jsxs("div",{className:"p-6 border-t border-slate-100 dark:border-slate-700 flex flex-col sm:flex-row justify-end gap-3 sticky bottom-0 bg-white dark:bg-slate-800 rounded-b-2xl shadow-[0_-10px_20px_rgba(0,0,0,0.05)] z-20",children:[f.jsx("button",{type:"button",onClick:()=>S(!1),className:"order-2 sm:order-1 px-6 py-2.5 text-slate-500 dark:text-slate-400 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 rounded-xl transition-all",children:t("common.cancel")}),f.jsxs("button",{type:"submit",form:"productForm",className:"order-1 sm:order-2 px-8 py-2.5 text-white font-black rounded-xl transition-all bg-accent shadow-accent active:scale-95 flex items-center justify-center gap-2",children:[f.jsx(gk,{className:"w-5 h-5"}),t(I?"products.update":"products.create")]})]})]})}),C&&M&&f.jsx(_U,{product:M,onClose:()=>{j(!1),D(null)},onSave:i,onUpload:async Z=>Z.map(q=>URL.createObjectURL(q))})]})},SU=({title:t,options:e,selectedValue:n,onChange:r,icon:i})=>{var u;const[a,o]=R.useState(!1),s=R.useRef(null);R.useEffect(()=>{const d=h=>{s.current&&!s.current.contains(h.target)&&o(!1)};return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[]);const l=d=>{r(d),o(!1)},c=((u=e.find(d=>d.value===n))==null?void 0:u.label)||t;return f.jsxs("div",{className:"relative",ref:s,children:[f.jsxs("button",{onClick:()=>o(!a),className:`flex items-center gap-1.5 px-3 h-[44px] rounded-2xl border-2 transition-all font-bold text-[11px] outline-none ${a?"bg-accent/10 border-accent/30 text-accent":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-800 text-slate-500 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[i?f.jsx(i,{className:"w-4 h-4"}):f.jsx(mk,{className:"w-4 h-4"}),f.jsx("span",{className:"truncate max-w-[120px]",children:c}),f.jsx(kl,{className:`w-4 h-4 transition-transform ${a?"rotate-180":""}`})]}),a&&f.jsx("div",{className:"absolute top-full start-0 mt-2 z-50 w-72 animate-in fade-in zoom-in-95 duration-200",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-[0_2px_10px_-4px_rgba(0,0,0,0.1)] border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col w-full min-w-[240px]",children:[f.jsx("div",{className:"px-4 py-3 pb-2 flex items-center justify-between",children:f.jsx("div",{className:"flex items-center gap-3",children:f.jsx("h3",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:t})})}),f.jsx("div",{className:"flex-1 px-2 pb-2 space-y-1 max-h-64 overflow-y-auto",children:e.map(d=>{const h=n===d.value;return f.jsx("div",{onClick:()=>l(d.value),className:`flex items-center justify-between px-3 py-2.5 rounded-xl cursor-pointer transition-all group ${h?"bg-accent/10":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:f.jsx("span",{className:`text-sm font-semibold ${h?"text-accent":"text-slate-600 dark:text-slate-300"}`,children:d.label})},d.value)})})]})})]})},tje=({order:t,onUpdate:e})=>{const[n,r]=R.useState(!1),i=z.useRef(null);z.useEffect(()=>{const c=u=>{i.current&&!i.current.contains(u.target)&&r(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const{t:a}=jr(),o=c=>{switch(c){case"Processing":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"Completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"Cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";case"Pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";default:return"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-300"}},s=c=>{c!==t.status&&e({...t,status:c}),r(!1)},l=c=>a(`common.status.${c.toLowerCase()}`,c);return f.jsxs("div",{className:"relative",ref:i,children:[f.jsxs("button",{onClick:()=>r(!n),className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold transition-all hover:brightness-95 active:scale-95 ${o(t.status)}`,children:[l(t.status),f.jsx("div",{className:`w-0 h-0 border-s-[3px] border-s-transparent border-t-[4px] border-t-current border-e-[3px] border-e-transparent opacity-50 ${document.dir==="rtl"?"me-1":"ms-1"}`})]}),n&&f.jsx("div",{className:`absolute top-full mt-1 w-32 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-slate-100 dark:border-slate-700 py-1 z-50 animate-in fade-in zoom-in-95 duration-100 ${document.dir==="rtl"?"end-0":"start-0"}`,children:["Processing","Completed","Cancelled","Pending"].map(c=>f.jsx("button",{onClick:()=>s(c),className:`w-full text-start px-3 py-2 text-xs font-bold hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${t.status===c?"text-accent bg-slate-50 dark:bg-slate-700/30":"text-slate-600 dark:text-slate-300"}`,children:l(c)},c))})]})},nje=()=>{var ai,bs,oi,Oi,Ci;const{t}=jr(),{orders:e,products:n,customers:r,addOrder:i,updateOrder:a,deleteOrder:o,addCustomer:s,formatCurrency:l,brand:c,loading:u}=Rr(),[d,h]=R.useState(""),[p,g]=R.useState(!1),[y,v]=R.useState(!1),[x,b]=R.useState(null),[w,E]=R.useState(null),[S,P]=R.useState(!1),[_,k]=R.useState(100),A=R.useMemo(()=>e.length===0?TP(new Date,30):e.reduce((W,ue)=>{try{const pe=xa(ue.date);return pe<W?pe:W}catch{return W}},new Date),[e]),I=R.useMemo(()=>({from:A,to:new Date}),[A]),[O,C]=R.useState(I),[j,M]=R.useState(!1);z.useEffect(()=>{!u&&e.length>0&&!j&&(C(I),M(!0))},[u,e.length,I,j]);const[D,L]=R.useState([]),[B,V]=R.useState([]),[U,F]=R.useState([]),[G,K]=R.useState("date-new"),[ie,se]=R.useState({column:"date",direction:"desc"}),ve=R.useMemo(()=>{const W={};return e.forEach(ue=>{var De;const pe=(De=ue.customer)==null?void 0:De.governorate;pe&&(W[pe]=(W[pe]||0)+1)}),np.map(ue=>({value:ue,label:ue,count:W[ue]||0})).sort((ue,pe)=>pe.count-ue.count)},[e]),ce=R.useMemo(()=>{const W={};return e.forEach(ue=>{var De;const pe=(De=ue.customer)==null?void 0:De.social;pe&&(W[pe]=(W[pe]||0)+1)}),rp.map(ue=>({value:ue,label:ue,count:W[ue]||0})).sort((ue,pe)=>pe.count-ue.count)},[e]),de=R.useMemo(()=>{const W={};return e.forEach(ue=>{const pe=ue.status;pe&&(W[pe]=(W[pe]||0)+1)}),["Processing","Completed","Cancelled","Pending"].map(ue=>({value:ue,label:t(`common.status.${ue.toLowerCase()}`,ue),count:W[ue]||0}))},[e,t]),[Y,X]=R.useState({customerId:"new",customerName:"",customerPhone:"",customerGender:"",customerAddress:"",customerGovernorate:"",customerSocial:"",customerNotes:"",items:[],discount:0}),[me,J]=R.useState(""),[ee,Oe]=R.useState(1),Re=R.useMemo(()=>e.filter(pe=>{const De=d.toLowerCase(),ct=pe.orderId.toLowerCase().includes(De)||pe.customer.name.toLowerCase().includes(De),dt=xa(pe.date),Kt=!(O!=null&&O.from)||!(O!=null&&O.to)||Hh(dt,{start:O.from,end:O.to}),Ml=D.length===0||D.includes(pe.customer.governorate),nt=B.length===0||B.includes(pe.customer.social),ws=U.length===0||U.includes(pe.status);return ct&&Kt&&Ml&&nt&&ws}).sort((pe,De)=>{let ct=0;return ie.column==="orderId"?ct=pe.orderId.localeCompare(De.orderId):ie.column==="customer"?ct=pe.customer.name.localeCompare(De.customer.name):ie.column==="date"?ct=new Date(pe.date)-new Date(De.date):ie.column==="total"?ct=pe.total-De.total:ie.column==="status"&&(ct=pe.status.localeCompare(De.status)),ie.direction==="asc"?ct:-ct}).slice(0,_),[e,d,D,B,U,G,O,ie,_]),Le=W=>{K(W),W==="date-new"?se({column:"date",direction:"desc"}):W==="date-old"?se({column:"date",direction:"asc"}):W==="total-high"?se({column:"total",direction:"desc"}):W==="total-low"?se({column:"total",direction:"asc"}):W==="name-asc"&&se({column:"customer",direction:"asc"})},it=()=>{if(!me)return;const W=n.find(nt=>nt._id===me);if(!W)return;const ue=parseInt(ee),pe=e.find(nt=>nt._id===w),De=pe==null?void 0:pe.items.find(nt=>nt.product._id===W._id),ct=De?De.quantity:0,dt=W.stock+ct;if(ue>dt)return addToast(t("orders.stockError",{available:dt}),"error");const Kt=Y.items.findIndex(nt=>nt.product._id===W._id),Ml=W.sellingPriceIQD||W.price||0;if(Kt>-1){const nt=[...Y.items],ws=nt[Kt].quantity+ue;if(ws>dt)return addToast(t("orders.limitReached",{available:dt}),"error");nt[Kt].quantity=ws,X(_s=>({..._s,items:nt}))}else X(nt=>({...nt,items:[...nt.items,{product:W,quantity:ue,price:Ml}]}));Oe(1),J("")},yt=W=>{const ue=Y.items.filter((pe,De)=>De!==W);X(pe=>({...pe,items:ue}))},Gt=(W,ue)=>{const pe=[...Y.items];pe[W].price=parseFloat(ue||0),X(De=>({...De,items:pe}))},ne=(W,ue)=>{Y.items[W].product;const pe=parseInt(ue||0),De=[...Y.items];De[W].quantity=pe,X(ct=>({...ct,items:De}))},ye=W=>W.reduce((ue,pe)=>ue+pe.price*pe.quantity,0),Z=()=>{const W=ye(Y.items),ue=W*(Y.discount/100);let pe=W-ue;return pe=Math.ceil(pe/500)*500,pe},q=W=>{if(X(ue=>({...ue,customerId:W})),W==="new")X(ue=>({...ue,customerName:"",customerPhone:"",customerGender:"",customerAddress:"",customerGovernorate:"",customerSocial:""}));else if(W){const ue=r.find(pe=>pe._id===W);ue&&X(pe=>({...pe,customerName:ue.name,customerPhone:ue.phone,customerGender:ue.gender||"",customerAddress:ue.address,customerGovernorate:ue.governorate,customerSocial:ue.social}))}},re=W=>{v(!1),E(W._id);const ue=r.find(pe=>pe.name===W.customer.name&&pe.phone===W.customer.phone);X({customerId:ue?ue._id:"new",customerName:W.customer.name,customerPhone:W.customer.phone,customerGender:W.customer.gender||"",customerAddress:W.customer.address||"",customerGovernorate:W.customer.governorate||"",customerSocial:W.customer.social||"",customerNotes:W.notes||"",items:W.items,discount:W.discount||0}),g(!0)},fe=W=>{b(W),v(!0)},Te=async()=>{if(Y.items.length===0)return addToast(t("orders.addItemsError"),"error");if(!Y.customerName||!Y.customerPhone)return addToast(t("orders.customerError"),"error");const W=e.find(ue=>ue._id===w);for(const ue of Y.items){const pe=n.find(Kt=>Kt._id===ue.product._id),De=W==null?void 0:W.items.find(Kt=>Kt.product._id===ue.product._id),ct=De?De.quantity:0,dt=((pe==null?void 0:pe.stock)||0)+ct;if(ue.quantity>dt)return addToast(t("orders.stockErrorWithName",{name:ue.product.name,available:dt}),"error")}P(!0);try{let ue={_id:Y.customerId!=="new"?Y.customerId:void 0,name:Y.customerName,phone:Y.customerPhone,gender:Y.customerGender,address:Y.customerAddress,governorate:Y.customerGovernorate,social:Y.customerSocial};if(Y.customerId==="new"){const dt=await s({...ue,email:""});ue._id=dt._id}const pe=ye(Y.items),De=Z(),ct={customer:ue,date:w&&W?W.date:new Date().toISOString(),total:De,subtotal:pe,discount:Y.discount,status:w&&W?W.status:"Processing",items:Y.items,notes:Y.customerNotes};if(w&&W)await a({...ct,_id:w,orderId:W.orderId});else{const dt=await i(ct);dt&&setTimeout(()=>{try{qe(dt)}catch(Kt){console.error("Print error:",Kt)}},800)}g(!1),E(null),X({customerId:"new",customerName:"",customerPhone:"",customerGender:"",customerAddress:"",customerGovernorate:"",customerSocial:"",customerNotes:"",items:[],discount:0})}catch(ue){console.error("Order submission error:",ue),addToast(t("orders.errors.submitError",{message:ue.message||t("orders.errors.unknown")}),"error")}finally{P(!1)}},qe=W=>{const ue=window.open("","","width=600,height=800"),pe=document.dir==="rtl";ue.document.write(`
            <html dir="${pe?"rtl":"ltr"}">
                <head>
                    <title>${t("orders.receipt.title")}</title>
                    <style>
                        body { font-family: 'Cairo', 'Courier New', monospace; padding: 20px; font-size: 14px; direction: ${pe?"rtl":"ltr"}; }
                        .header { text-align: center; margin-bottom: 20px; }
                        .item { display: flex; justify-content: space-between; margin-bottom: 5px; }
                        .divider { border-top: 1px dashed black; margin: 10px 0; }
                        .totals { text-align: ${pe?"left":"right"}; margin-top: 10px; }
                        .total-row { display: flex; justify-content: space-between; font-weight: bold; margin-top: 5px; }
                        .discount { color: red; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h2>${t("orders.receipt.companyName")}</h2>
                        <p>${t("orders.receipt.address")}</p>
                        <p>${t("orders.receipt.order")}: ${W.orderId||"###"}</p>
                        <p>${W.date}</p>
                    </div>
                    <div class="divider"></div>
                    <div>
                        <p><strong>${t("orders.receipt.customer")}:</strong> ${W.customer.name}</p>
                        <p><strong>${t("orders.receipt.phone")}:</strong> ${W.customer.phone||t("orders.receipt.na")}</p>
                        <p><strong>${t("orders.receipt.gov")}:</strong> ${W.customer.governorate||t("orders.receipt.na")}</p>
                    </div>
                    <div class="divider"></div>
                    <div>
                        ${W.items.map(De=>`
                            <div class="item">
                                <span>${De.product.name} <br> <small>x${De.quantity} @ ${l(De.price)}</small></span>
                                <span>${l(De.price*De.quantity)}</span>
                            </div>
                        `).join("")}
                    </div>
                    <div class="divider"></div>
                    <div class="totals">
                        <div class="total-row" style="font-weight: normal;">
                            <span>${t("orders.receipt.subtotal")}:</span>
                            <span>${l(W.subtotal||W.total)}</span>
                        </div>
                        ${W.discount?`
                        <div class="total-row discount" style="font-weight: normal;">
                            <span>${t("orders.receipt.discount")} (${W.discount}%):</span>
                            <span>-${l((W.subtotal||W.total)-W.total)}</span>
                        </div>
                        `:""}
                        <div class="total-row" style="font-size: 18px; margin-top: 10px;">
                            <span>${t("orders.receipt.total")}:</span>
                            <span>${l(W.total)}</span>
                        </div>
                    </div>
                    <div class="divider"></div>
                    <div style="text-align: center; margin-top: 20px;">
                        <p>${t("orders.receipt.thankYou")}</p>
                        <p>${t("orders.receipt.noReturn")}</p>
                    </div>
                </body>
            </html>
        `),ue.document.close(),ue.print()},Ze=W=>{ie.column===W?se(ue=>({...ue,direction:ue.direction==="asc"?"desc":"asc"})):se({column:W,direction:"asc"})},At=({column:W,label:ue})=>{const pe=ie.column===W;return f.jsx("th",{onClick:()=>Ze(W),className:"px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-600 transition-colors select-none",children:f.jsxs("div",{className:"flex items-center gap-2",children:[ue,pe&&f.jsx("span",{className:"text-accent font-bold",children:ie.direction==="asc"?"":""})]})})};return f.jsxs(Fu,{title:t("orders.title"),children:[f.jsxs("div",{className:"flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[f.jsxs("button",{onClick:()=>{g(!0),E(null),X({customerId:"new",customerName:"",customerPhone:"",customerAddress:"",customerGovernorate:"",customerSocial:"",customerNotes:"",items:[],discount:0})},className:"flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-xl font-bold transition-all bg-accent shadow-accent active:scale-95",children:[f.jsx(Uo,{className:"w-5 h-5"}),f.jsx("span",{children:t("orders.createOrder")})]}),f.jsxs("button",{onClick:()=>{if(Re.length===0)return addToast(t("common.noDataToExport"),"info");QCe(Re)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 text-white rounded-xl font-bold transition-all shadow-lg hover:bg-green-700",children:[f.jsx(yv,{className:"w-5 h-5"}),f.jsx("span",{className:"hidden sm:inline",children:t("common.exportCSV")})]})]}),f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[(D.length>0||U.length>0||B.length>0||d||((ai=O.from)==null?void 0:ai.getTime())!==((bs=I.from)==null?void 0:bs.getTime())||((oi=O.to)==null?void 0:oi.getTime())!==((Oi=I.to)==null?void 0:Oi.getTime()))&&f.jsx("button",{onClick:()=>{h(""),F([]),L([]),V([]),C(I)},className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsx(cA,{limit:_,onChange:k}),f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(nr,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:Re.length})," ",t("orders.title")]})]})]})]}),f.jsxs("div",{className:"flex gap-3 w-full flex-wrap items-center",children:[f.jsxs("div",{className:"relative min-w-[200px] flex-1 md:flex-none h-[44px]",children:[f.jsx(Cu,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("orders.searchPlaceholder"),value:d,onChange:W=>h(W.target.value),className:"ps-10 pe-4 py-0 h-full w-full bg-white dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-800 rounded-2xl outline-none focus:border-accent/40 focus:ring-4 focus:ring-accent/10 transition-all font-bold text-sm text-slate-700 dark:text-white"})]}),f.jsx("div",{className:"h-[44px] flex-shrink-0",children:f.jsx(PP,{range:O,onRangeChange:C,brandColor:c.color})}),f.jsx(xi,{title:t("orders.status"),options:de,selectedValues:U,onChange:F,icon:nr,showSearch:!1}),f.jsx(xi,{title:t("orders.governorate"),options:ve,selectedValues:D,onChange:L,icon:Vo,showSearch:!1}),f.jsx(xi,{title:t("orders.socialMedia"),options:ce,selectedValues:B,onChange:V,icon:Qs,showSearch:!1}),f.jsx(SU,{title:t("common.sort"),options:[{value:"date-new",label:t("common.dateNew")},{value:"date-old",label:t("common.dateOld")},{value:"total-high",label:t("common.priceHigh")},{value:"total-low",label:t("common.priceLow")},{value:"name-asc",label:t("common.nameAZ")}],selectedValue:G,onChange:Le})]})]}),f.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-500 uppercase",children:[f.jsx(At,{column:"orderId",label:t("orders.table.orderId")}),f.jsx(At,{column:"customer",label:t("orders.table.customer")}),f.jsx(At,{column:"date",label:t("orders.table.date")}),f.jsx(At,{column:"total",label:t("orders.table.total")}),f.jsx(At,{column:"status",label:t("orders.table.status")}),f.jsx("th",{className:"ps-6 pe-6 py-4 text-end",children:t("common.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:Re.map(W=>f.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4 text-sm font-semibold text-[var(--brand-color)]",children:W.orderId}),f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-sm font-medium text-slate-800 dark:text-white",children:W.customer.name}),f.jsxs("span",{className:"text-xs text-slate-500 flex gap-1 items-center",children:[W.customer.governorate&&f.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-1 rounded",children:W.customer.governorate}),W.customer.phone]})]})}),f.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 dark:text-slate-400",children:W.date}),f.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-800 dark:text-white",children:l(W.total)}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(tje,{order:W,onUpdate:a})}),f.jsx("td",{className:"px-6 py-4 text-end",children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("button",{onClick:()=>fe(W),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",title:"View Details",children:f.jsx(Mq,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>re(W),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",title:"Edit Order",children:f.jsx(zc,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>qe(W),className:"p-2 text-slate-400 hover:text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg",title:"Print Receipt",children:f.jsx(N1,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>{window.confirm(t("orders.deleteConfirm"))&&o(W._id)},className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",title:"Delete Order",children:f.jsx(Jf,{className:"w-4 h-4"})})]})})]},W._id))})]})})}),p&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-slate-900/60 backdrop-blur-md p-2 md:p-4 overflow-y-auto",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[32px] shadow-2xl w-full max-w-5xl my-4 sm:my-8 min-h-0 flex flex-col md:flex-row overflow-hidden animate-in fade-in zoom-in duration-300 relative",children:[f.jsxs("div",{className:"flex-1 p-4 md:p-6 border-b md:border-b-0 md:border-e border-slate-100 dark:border-slate-700 flex flex-col min-h-0 overflow-y-auto lg:overflow-visible relative z-20",children:[f.jsxs("div",{className:"sticky top-0 bg-white dark:bg-slate-800 pb-4 z-10 lg:static",children:[f.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white",children:"Add Items"}),f.jsx("div",{className:"space-y-4",children:f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:[f.jsxs("div",{className:"flex-1 w-full min-w-0",children:[f.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5 ms-1",children:t("orders.searchProduct")}),f.jsx(va,{title:t("orders.chooseProduct"),options:n.filter(W=>W.stock>0).map(W=>({value:W._id,label:`${W.name} (${W.stock}) - ${l(W.price)}`})),selectedValue:me,onChange:J,icon:Bc,placeholder:t("orders.searchPlaceholder")})]}),f.jsxs("div",{className:"w-24",children:[f.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5 ms-1",children:t("orders.qty")}),f.jsx("input",{type:"number",min:"1",value:ee,onChange:W=>Oe(W.target.value),className:`w-full p-3 border-2 rounded-xl dark:bg-slate-900 dark:text-white outline-none text-center font-bold ${me&&parseInt(ee)>(((Ci=n.find(W=>W._id===me))==null?void 0:Ci.stock)||0)?"border-red-500 text-red-500 ring-4 ring-red-500/10":"border-slate-100 dark:border-slate-700 focus:border-[var(--brand-color)]"}`})]}),f.jsx("button",{type:"button",onClick:it,disabled:!me||!ee,className:"h-[52px] px-6 text-white font-black rounded-xl transition-all bg-accent shadow-accent active:scale-95 disabled:opacity-50",children:f.jsx(Uo,{className:"w-6 h-6"})})]})})]}),f.jsx("div",{className:"flex-1 overflow-y-auto mt-6 space-y-3 custom-scrollbar min-h-[300px]",children:Y.items.length===0?f.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 border-2 border-dashed border-slate-100 dark:border-slate-700/50 rounded-3xl py-12",children:[f.jsx(nr,{className:"w-12 h-12 mb-2 opacity-20"}),f.jsx("p",{className:"font-bold",children:t("orders.cartEmpty")}),f.jsx("p",{className:"text-xs",children:t("orders.cartEmptySub")})]}):Y.items.map((W,ue)=>f.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-900/30 rounded-2xl border border-slate-100 dark:border-slate-700/50 group hover:border-indigo-500/50 transition-all",children:[f.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[f.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-white dark:bg-slate-800 border dark:border-slate-700 shrink-0",children:f.jsx("img",{src:W.product.images&&W.product.images[0]?W.product.images[0]:"https://via.placeholder.com/150",alt:W.product.name||"Product image",className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h4",{className:"text-sm font-black text-slate-800 dark:text-white truncate",children:W.product.name}),f.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:t("orders.price")}),f.jsx("input",{type:"number",value:W.price,onChange:pe=>Gt(ue,pe.target.value),className:"w-24 p-1.5 text-xs font-black border-2 border-slate-100 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800 dark:text-white transition-colors focus:border-[var(--brand-color)]"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:t("orders.qty")}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"number",min:"1",value:W.quantity,onChange:pe=>ne(ue,pe.target.value),className:`w-16 p-1.5 text-xs font-black border-2 rounded-lg bg-white dark:bg-slate-800 dark:text-white transition-all text-center ${W.quantity>W.product.stock?"border-red-500 text-red-500 ring-4 ring-red-500/10":"border-slate-100 dark:border-slate-700 focus:border-indigo-500"}`}),W.quantity>W.product.stock&&f.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 bg-red-500 text-white text-[8px] px-1.5 py-0.5 rounded font-black whitespace-nowrap animate-bounce",children:t("orders.onlyLeft",{count:W.product.stock})})]})]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-4 ml-4",children:[f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:t("orders.subtotal")}),f.jsx("span",{className:"text-sm font-black dark:text-white",children:l(W.price*W.quantity)})]}),f.jsx("button",{onClick:()=>yt(ue),className:"p-2.5 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-all",children:f.jsx(Jf,{className:"w-4 h-4"})})]})]},ue))}),f.jsx("div",{className:"mt-8 pt-6 pb-8 border-t border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800 sticky bottom-0",children:f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsxs("div",{className:"flex justify-between items-center text-sm",children:[f.jsx("span",{className:"font-bold text-slate-400 uppercase tracking-widest text-[10px]",children:t("orders.orderSubtotal")}),f.jsx("span",{className:"font-black dark:text-white text-lg",children:l(ye(Y.items))})]}),f.jsxs("div",{className:"flex justify-between items-center p-3.5 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-700",children:[f.jsxs("span",{className:"text-xs font-bold text-slate-500 flex items-center gap-2",children:[f.jsx(sL,{className:"w-4 h-4 text-accent"})," ",t("orders.applyDiscount")]}),f.jsx("div",{className:"w-48",children:f.jsx(va,{title:t("orders.noDiscount"),options:[0,5,10,15,20,30,40,50].map(W=>({value:W,label:W===0?t("orders.noDiscount"):t("orders.offDiscount",{percent:W})})),selectedValue:Y.discount,onChange:W=>X(ue=>({...ue,discount:W})),showSearch:!1,direction:"up"})})]}),f.jsxs("div",{className:"flex justify-between items-center pt-2",children:[f.jsx("span",{className:"font-black text-slate-800 dark:text-white uppercase tracking-tighter text-sm",children:t("orders.grandTotal")}),f.jsx("span",{className:"font-black text-3xl text-accent",children:l(Z())})]})]})})]}),f.jsxs("div",{className:"w-full md:w-1/3 p-4 bg-slate-50 dark:bg-slate-900/50 flex flex-col min-h-0 border-t md:border-t-0 md:border-l border-slate-100 dark:border-slate-700 relative z-10",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-lg font-black text-slate-800 dark:text-white uppercase tracking-tighter",children:t("orders.customerInfo")}),f.jsx("button",{onClick:()=>g(!1),className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-white rounded-lg hover:bg-white dark:hover:bg-slate-800 transition-colors",children:f.jsx(Tr,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"space-y-2 flex-1 overflow-y-auto pr-1 custom-scrollbar",children:[f.jsx("div",{className:"space-y-2",children:f.jsx(va,{title:t("orders.chooseCustomer"),options:r.map(W=>({value:W._id,label:W.name})),selectedValue:Y.customerId,onChange:q,icon:pf,placeholder:t("orders.searchCustomers"),customAction:{label:t("orders.createNewCustomer"),icon:Uo,onClick:()=>q("new")}})}),f.jsxs("div",{className:`space-y-2 transition-all duration-300 ${Y.customerId?"opacity-100 pointer-events-auto":"opacity-30 pointer-events-none grayscale"}`,children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.fullName")}),f.jsx("input",{placeholder:"e.g. Ahmed Ali",value:Y.customerName,onChange:W=>X({...Y,customerName:W.target.value}),className:"w-full p-2 border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm text-sm",disabled:Y.customerId!=="new"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.phone")}),f.jsx("input",{placeholder:"07XX XXX XXXX",value:Y.customerPhone,onChange:W=>X({...Y,customerPhone:W.target.value}),className:"w-full p-2 border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm text-sm",disabled:Y.customerId!=="new"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.gender")}),f.jsx(va,{title:t("common.select"),options:[{value:"Male",label:t("common.male")},{value:"Female",label:t("common.female")}],selectedValue:Y.customerGender,onChange:W=>X({...Y,customerGender:W}),showSearch:!1,disabled:Y.customerId!=="new"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.governorate")}),f.jsx(va,{title:t("common.select"),options:np.map(W=>({value:W,label:W})),selectedValue:Y.customerGovernorate,onChange:W=>X({...Y,customerGovernorate:W}),icon:Vo,showSearch:!1,disabled:Y.customerId!=="new"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.social")}),f.jsx(va,{title:t("common.select"),options:rp.map(W=>({value:W,label:W})),selectedValue:Y.customerSocial,onChange:W=>X({...Y,customerSocial:W}),icon:Qs,showSearch:!1,disabled:Y.customerId!=="new"})]})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.shippingAddress")}),f.jsx("textarea",{placeholder:"House/District/Street...",value:Y.customerAddress,onChange:W=>X({...Y,customerAddress:W.target.value}),className:"w-full p-2 text-xs border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm resize-none",disabled:Y.customerId!=="new",rows:"1"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.internalNotes")}),f.jsx("textarea",{placeholder:"Special instructions...",value:Y.customerNotes,onChange:W=>X({...Y,customerNotes:W.target.value}),className:"w-full p-2 text-xs border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm resize-none",rows:"2"})]})]})]}),f.jsx("div",{className:"mt-auto pt-2 border-t border-slate-100 dark:border-slate-700",children:f.jsx("button",{onClick:Te,disabled:S||Y.items.length===0||Y.items.some(W=>{const ue=n.find(dt=>dt._id===W.product._id),pe=e.find(dt=>dt._id===w),De=pe==null?void 0:pe.items.find(dt=>dt.product._id===W.product._id),ct=De?De.quantity:0;return W.quantity>((ue==null?void 0:ue.stock)||0)+ct}),className:"w-full py-3 bg-accent text-white rounded-2xl font-black shadow-accent active:scale-[0.98] transition-all disabled:opacity-50 disabled:grayscale flex items-center justify-center gap-3",children:S?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),t("common.saving")]}):f.jsxs(f.Fragment,{children:[f.jsx(nr,{className:"w-5 h-5"}),t(w?"orders.updateOrder":"orders.saveOrder")]})})})]})]})}),y&&x&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center sticky top-0 bg-white dark:bg-slate-800 z-10",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t("orders.orderDetails")}),f.jsxs("p",{className:"text-sm text-slate-500",children:[x.orderId,"  ",x.date]})]}),f.jsx("button",{onClick:()=>v(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:f.jsx(Tr,{className:"w-6 h-6"})})]}),f.jsxs("div",{className:"p-6 space-y-6",children:[f.jsxs("div",{className:"flex justify-between items-start bg-slate-50 dark:bg-slate-700/30 p-4 rounded-xl",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-2",children:t("orders.customerInfo")}),f.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:x.customer.name}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:x.customer.phone}),f.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:[x.customer.address,", ",x.customer.governorate]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-2",children:t("orders.orderStatus")}),f.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-bold ${x.status==="Completed"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:x.status})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-3",children:t("orders.orderItems")}),f.jsx("div",{className:"space-y-3",children:x.items.map((W,ue)=>f.jsxs("div",{className:"flex justify-between items-center border-b border-slate-100 dark:border-slate-700 pb-3 last:border-0 last:pb-0",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-12 h-12 bg-slate-100 dark:bg-slate-700 rounded-lg overflow-hidden flex-shrink-0",children:W.product.images&&W.product.images[0]?f.jsx("img",{src:W.product.images[0],alt:W.product.name||"Product image",className:"w-full h-full object-cover"}):f.jsx("div",{className:"flex items-center justify-center w-full h-full text-slate-400 text-xs",children:"No Img"})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:W.product.name}),f.jsxs("p",{className:"text-xs text-slate-500",children:[W.quantity," x ",l(W.price)]})]})]}),f.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:l(W.price*W.quantity)})]},ue))})]}),f.jsx("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:f.jsxs("div",{className:"flex justify-end space-y-2 flex-col items-end",children:[f.jsxs("div",{className:"flex gap-8 text-sm",children:[f.jsxs("span",{className:"text-slate-500",children:[t("orders.subtotal"),":"]}),f.jsx("span",{className:"font-medium text-slate-800 dark:text-white",children:l(x.subtotal||x.total)})]}),x.discount>0&&f.jsxs("div",{className:"flex gap-8 text-sm text-red-500",children:[f.jsxs("span",{children:[t("orders.discount")," (",x.discount,"%):"]}),f.jsxs("span",{children:["-",l((x.subtotal||x.total)-x.total)]})]}),f.jsxs("div",{className:"flex gap-8 text-lg font-bold pt-2",children:[f.jsxs("span",{className:"text-slate-800 dark:text-white",children:[t("orders.table.total"),":"]}),f.jsx("span",{className:"text-accent",children:l(x.total)})]})]})}),f.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-slate-100 dark:border-slate-700",children:[f.jsxs("button",{onClick:()=>qe(x),className:"px-4 py-2 bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-800 dark:text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[f.jsx(N1,{className:"w-4 h-4"})," ",t("orders.printReceipt")]}),f.jsxs("button",{onClick:()=>re(x),className:"px-4 py-2 bg-accent text-white rounded-lg font-medium transition-all shadow-accent hover:brightness-110 active:scale-95 flex items-center gap-2",children:[f.jsx(zc,{className:"w-4 h-4"})," ",t("orders.editOrder")]})]})]})]})}),"        "]})},rje=()=>{var Gt,ne,ye,Z;const{t}=jr(),{customers:e,orders:n,addCustomer:r,updateCustomer:i,formatCurrency:a,brand:o,addToast:s}=Rr(),[l,c]=R.useState(""),[u,d]=R.useState([]),[h,p]=R.useState([]),[g,y]=R.useState("orders-high"),v=R.useMemo(()=>e.length===0?TP(new Date,90):e.reduce((q,re)=>{try{const fe=re.createdOn?xa(re.createdOn):new Date;return fe<q?fe:q}catch{return q}},new Date),[e]),x=R.useMemo(()=>({from:v,to:new Date}),[v]),[b,w]=R.useState(x),[E,S]=R.useState(!1);R.useEffect(()=>{e.length>0&&!E&&(w({from:v,to:new Date}),S(!0))},[e.length,E,v]);const[P,_]=R.useState(!1),[k,A]=R.useState(!1),[I,O]=R.useState(null),[C,j]=R.useState(null),[M,D]=R.useState(null),[L,B]=R.useState({column:"orders",direction:"desc"}),[V,U]=R.useState("table"),[F,G]=R.useState(100),K=q=>{L.column===q?B(re=>({...re,direction:re.direction==="asc"?"desc":"asc"})):B({column:q,direction:"asc"})},ie=({column:q,label:re,border:fe=!1})=>{const Te=L.column===q;return f.jsx("th",{onClick:()=>K(q),className:`px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors select-none ${fe?"border-s dark:border-slate-700":""}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[re,Te&&f.jsx("span",{className:"text-[var(--brand-color)] font-bold",children:L.direction==="asc"?"":""})]})})},[se,ve]=R.useState({name:"",email:"",phone:"",address:"",governorate:"",social:"",notes:""}),ce=R.useMemo(()=>{const q={};return e.forEach(re=>{const fe=re.governorate;fe&&(q[fe]=(q[fe]||0)+1)}),np.map(re=>({value:re,label:re,count:q[re]||0})).sort((re,fe)=>fe.count-re.count)},[e]),de=R.useMemo(()=>{const q={};return e.forEach(re=>{const fe=re.social;fe&&(q[fe]=(q[fe]||0)+1)}),rp.map(re=>({value:re,label:re,count:q[re]||0})).sort((re,fe)=>fe.count-re.count)},[e]),Y=q=>n.filter(re=>{var Te,qe,Ze;const fe=e.find(At=>At._id===q);return fe?((Te=re.customer)==null?void 0:Te._id)===q||((qe=re.customer)==null?void 0:qe.name)===fe.name&&((Ze=re.customer)==null?void 0:Ze.phone)===fe.phone:!1}),X=q=>{const re=q.createdOn||q.createdAt;if(!re)return null;try{return typeof re=="string"?xa(re):re.toDate?re.toDate():new Date(re)}catch{return null}},me=R.useMemo(()=>e.filter(fe=>{const Te=fe.name.toLowerCase().includes(l.toLowerCase())||fe.phone.includes(l),qe=X(fe);let Ze=!0;if(b!=null&&b.from&&(b!=null&&b.to)&&qe){const bs=Na(b.from),oi=fg(b.to);Ze=qe>=bs&&qe<=oi}const At=u.length===0||u.includes(fe.governorate),ai=h.length===0||h.includes(fe.social);return Te&&Ze&&At&&ai}).sort((fe,Te)=>{if(L.column==="name"){const qe=fe.name.toLowerCase(),Ze=Te.name.toLowerCase();return L.direction==="asc"?qe.localeCompare(Ze):Ze.localeCompare(qe)}if(L.column==="orders"){const qe=Y(fe._id).length,Ze=Y(Te._id).length;return L.direction==="asc"?qe-Ze:Ze-qe}if(L.column==="spent"){const qe=Y(fe._id).reduce((At,ai)=>At+ai.total,0),Ze=Y(Te._id).reduce((At,ai)=>At+ai.total,0);return L.direction==="asc"?qe-Ze:Ze-qe}if(L.column==="governorate"){const qe=(fe.governorate||"").toLowerCase(),Ze=(Te.governorate||"").toLowerCase();return L.direction==="asc"?qe.localeCompare(Ze):Ze.localeCompare(qe)}return 0}).slice(0,F),[e,l,u,h,g,L,n,b,F]),J=q=>{y(q),q==="orders-high"?B({column:"orders",direction:"desc"}):q==="orders-low"?B({column:"orders",direction:"asc"}):q==="name-asc"?B({column:"name",direction:"asc"}):q==="date-new"&&B({column:"orders",direction:"desc"})},ee=()=>{j(null),ve({name:"",email:"",phone:"",address:"",governorate:"",social:"",notes:""}),_(!0)},Oe=q=>{j(q),ve(q),_(!0)},Re=q=>{O(q),A(!0),D(null)},Le=q=>{q.preventDefault(),C?i({...se,_id:C._id}):r(se),_(!1)},it=q=>{const re=window.open("","_blank");re.document.write(`
            <html>
                <head>
                    <title>${t("customers.receipt.title")} ${q.orderId}</title>
                    <style>
                        body { font-family: sans-serif; padding: 20px; direction: ${document.dir}; }
                        .header { text-align: center; margin-bottom: 20px; }
                        .order-info { margin-bottom: 20px; border-bottom: 1px solid #ccc; padding-bottom: 10px; }
                        table { width: 100%; border-collapse: collapse; }
                        th, td { text-align: ${document.dir==="rtl"?"right":"left"}; padding: 8px; border-bottom: 1px solid #eee; }
                        .total { text-align: ${document.dir==="rtl"?"left":"right"}; font-weight: bold; font-size: 1.2em; margin-top: 20px; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h1>${t("customers.receipt.title")}</h1>
                        <h3>${q.orderId}</h3>
                    </div>
                    <div class="order-info">
                        <p><strong>${t("customers.receipt.customer")}:</strong> ${q.customer.name}</p>
                        <p><strong>${t("customers.receipt.date")}:</strong> ${q.date}</p>
                        <p><strong>${t("customers.receipt.status")}:</strong> ${q.status}</p>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>${t("customers.receipt.item")}</th>
                                <th>${t("customers.receipt.qty")}</th>
                                <th>${t("customers.receipt.price")}</th>
                                <th>${t("customers.receipt.total")}</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${q.items.map(fe=>`
                                <tr>
                                    <td>${fe.product.name}</td>
                                    <td>${fe.quantity}</td>
                                    <td>${new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(fe.price)}</td>
                                    <td>${new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(fe.price*fe.quantity)}</td>
                                </tr>
                            `).join("")}
                        </tbody>
                    </table>
                    <div class="total">
                        ${t("customers.receipt.total")}: ${new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(q.total)}
                    </div>
                    <script>window.onload = function() { window.print(); window.close(); }<\/script>
                </body>
            </html>
        `),re.document.close()},yt=q=>{switch(q==null?void 0:q.toLowerCase()){case"facebook":return f.jsx(Dq,{className:"w-4 h-4"});case"instagram":return f.jsx($q,{className:"w-4 h-4"});case"twitter":return f.jsx(Kq,{className:"w-4 h-4"});case"tiktok":return f.jsx("div",{className:"w-4 h-4 font-bold text-xs flex items-center justify-center",children:"TT"});case"whatsapp":return f.jsx(Bq,{className:"w-4 h-4"});default:return f.jsx(Qs,{className:"w-4 h-4"})}};return f.jsxs(Fu,{title:t("customers.title"),children:[f.jsxs("div",{className:"flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[f.jsxs("button",{onClick:ee,className:"flex items-center gap-2 px-6 py-2.5 text-white rounded-xl font-bold transition-all bg-accent shadow-accent active:scale-95",children:[f.jsx(Uo,{className:"w-5 h-5"}),f.jsx("span",{children:t("customers.addCustomer")})]}),f.jsxs("button",{onClick:()=>{if(me.length===0)return s(t("customers.noMatch"),"info");XCe(me)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 text-white rounded-xl font-bold transition-all shadow-lg hover:bg-green-700",children:[f.jsx(yv,{className:"w-5 h-5"}),f.jsx("span",{className:"hidden sm:inline",children:t("common.exportCSV")})]}),f.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 p-1 rounded-xl border border-slate-200 dark:border-slate-600 ms-2",children:[f.jsx("button",{onClick:()=>U("table"),className:`p-1.5 rounded-lg transition-all ${V==="table"?"bg-white dark:bg-slate-600 text-[var(--brand-color)] shadow-sm":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"}`,title:"Table View",children:f.jsx(rL,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>U("card"),className:`p-1.5 rounded-lg transition-all ${V==="card"?"bg-white dark:bg-slate-600 text-[var(--brand-color)] shadow-sm":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"}`,title:t("customers.viewCard"),children:f.jsx(Fq,{className:"w-4 h-4"})})]})]}),f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[(u.length>0||h.length>0||l||((Gt=b.from)==null?void 0:Gt.getTime())!==((ne=x.from)==null?void 0:ne.getTime())||((ye=b.to)==null?void 0:ye.getTime())!==((Z=x.to)==null?void 0:Z.getTime()))&&f.jsx("button",{onClick:()=>{c(""),d([]),p([]),w(x)},className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsx(cA,{limit:F,onChange:G}),f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(pf,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:me.length})," ",t("customers.title")]})]})]})]}),f.jsxs("div",{className:"flex gap-3 w-full flex-wrap items-center",children:[f.jsxs("div",{className:"relative min-w-[200px] flex-1 md:flex-none h-[44px]",children:[f.jsx(Cu,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("customers.searchPlaceholder"),value:l,onChange:q=>c(q.target.value),className:"ps-10 pe-4 py-0 h-full w-full bg-slate-50 dark:bg-slate-900/50 border-2 border-slate-100 dark:border-slate-800 rounded-2xl outline-none focus:border-blue-200 dark:focus:border-blue-800 focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-bold text-sm dark:text-white"})]}),f.jsx("div",{className:"h-[44px] flex-shrink-0",children:f.jsx(PP,{range:b,onRangeChange:w,brandColor:o.color})}),f.jsx(xi,{title:t("customers.form.governorate"),options:ce,selectedValues:u,onChange:d,icon:Vo,showSearch:!1}),f.jsx(xi,{title:t("customers.social"),options:de,selectedValues:h,onChange:p,icon:Qs,showSearch:!1}),f.jsx(SU,{title:t("common.sort"),options:[{value:"orders-high",label:t("common.priceHigh")},{value:"orders-low",label:t("common.priceLow")},{value:"date-new",label:t("common.dateNew")},{value:"name-asc",label:t("common.nameAZ")}].map(q=>({...q,label:q.value==="orders-high"?t("customers.totalSpent")+" (High)":q.value==="orders-low"?t("customers.totalSpent")+" (Low)":q.label})),selectedValue:g,onChange:J})]})]}),V==="table"?f.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-start",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:[f.jsx(ie,{column:"name",label:t("customers.name")}),f.jsx(ie,{column:"governorate",label:t("customers.location"),border:!0}),f.jsx(ie,{column:"orders",label:t("customers.orders"),border:!0}),f.jsx(ie,{column:"spent",label:t("customers.totalSpent"),border:!0}),f.jsx("th",{className:"px-6 py-4 border-s dark:border-slate-700 select-none",children:t("customers.createdOn")}),f.jsx("th",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:t("customers.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:me.length===0?f.jsx("tr",{children:f.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center text-slate-400",children:[f.jsx(pf,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:t("customers.noData")})]})}):me.map(q=>{const re=Y(q._id),fe=re.reduce((Te,qe)=>Te+qe.total,0);return f.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 dark:bg-slate-900 flex items-center justify-center text-[var(--brand-color)] font-bold text-lg border border-slate-100 dark:border-slate-800 shadow-sm",children:q.name.charAt(0)}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-bold text-slate-800 dark:text-white",children:q.name}),f.jsx("p",{className:"text-xs text-slate-400",children:q.phone})]})]})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:q.governorate}),f.jsx("span",{className:"text-[11px] text-slate-400 line-clamp-1",children:q.address})]})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 rounded-xl text-xs font-black inline-flex transition-all",style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"},children:[f.jsx(nr,{className:"w-3.5 h-3.5"}),re.length]})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-sm font-black text-slate-800 dark:text-white",children:a(fe)})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-xs font-bold text-slate-500 whitespace-nowrap",children:X(q)?Lr(X(q),"MMM dd, yyyy"):t("orders.receipt.na")})}),f.jsx("td",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-end gap-1",children:[f.jsx("button",{onClick:()=>Re(q),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all",title:"Order History",children:f.jsx(nr,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>Oe(q),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all",title:"Edit",children:f.jsx(zc,{className:"w-4 h-4"})})]})})]},q._id)})})]})})}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-in fade-in duration-500",children:me.length===0?f.jsxs("div",{className:"col-span-full py-20 text-center bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700",children:[f.jsx(pf,{className:"w-16 h-16 mx-auto mb-4 text-slate-200"}),f.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-sm",children:t("customers.noMatch")})]}):me.map(q=>{const re=Y(q._id),fe=re.reduce((Te,qe)=>Te+qe.total,0);return f.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 hover:shadow-xl transition-all duration-300 group overflow-hidden flex flex-col h-full",children:f.jsxs("div",{className:"p-6 flex-1",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6",children:[f.jsx("div",{className:"w-14 h-14 rounded-2xl bg-slate-50 dark:bg-slate-900 flex items-center justify-center text-[var(--brand-color)] font-black text-xl border border-slate-100 dark:border-slate-800 group-hover:bg-indigo-50 dark:group-hover:bg-indigo-900 transition-colors",children:q.name.charAt(0)}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>Re(q),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800 transition-colors",title:"Order History",children:f.jsx(nr,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>Oe(q),className:"p-2 text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800 transition-colors",title:"Edit Profile",children:f.jsx(zc,{className:"w-4 h-4"})})]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-lg mb-2 truncate",children:q.name}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-lg text-[10px] font-black uppercase tracking-wider",children:[f.jsx(nr,{className:"w-3 h-3"}),re.length," ",re.length===1?t("customers.receipt.order"):t("customers.orders")]}),f.jsx("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 rounded-lg text-[10px] font-black uppercase tracking-wider",children:a(fe)})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 dark:bg-slate-900 flex items-center justify-center border border-slate-100 dark:border-slate-800 shrink-0",children:f.jsx(Hq,{className:"w-4 h-4 text-slate-400"})}),f.jsx("span",{className:"font-bold",children:q.phone||"No phone"})]}),f.jsxs("div",{className:"flex items-start gap-3 text-sm text-slate-600 dark:text-slate-400",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 dark:bg-slate-900 flex items-center justify-center border border-slate-100 dark:border-slate-800 shrink-0 mt-0.5",children:f.jsx(Vo,{className:"w-4 h-4 text-slate-400"})}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300 text-xs",children:q.governorate}),f.jsx("span",{className:"text-[10px] text-slate-400 line-clamp-1",children:q.address})]})]}),q.social&&f.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 dark:bg-slate-900 flex items-center justify-center border border-slate-100 dark:border-slate-800 shrink-0",children:yt(q.social)}),f.jsx("span",{className:"text-[10px] font-black uppercase text-blue-500 tracking-wider",children:q.social})]})]})]})},q._id)})}),P&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-slate-900/80 backdrop-blur-md p-2 sm:p-4 overflow-y-auto",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[32px] shadow-2xl w-full max-w-md my-4 sm:my-8 flex flex-col overflow-hidden animate-in fade-in zoom-in duration-300 relative",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-white dark:bg-slate-800 sticky top-0 z-10",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white",children:t(C?"customers.form.edit":"customers.form.new")}),f.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:t("customers.form.sub")})]}),f.jsx("button",{onClick:()=>_(!1),className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:f.jsx(Tr,{className:"w-5 h-5 text-slate-400"})})]}),f.jsx("div",{className:"p-5 overflow-y-auto custom-scrollbar",children:f.jsx("form",{id:"customer-form",onSubmit:Le,className:"space-y-4",children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.fullName")}),f.jsx("input",{required:!0,placeholder:"Ahmed Ali",value:se.name,onChange:q=>ve({...se,name:q.target.value}),className:"w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:bg-slate-900 dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold placeholder:opacity-30"})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.phone")}),f.jsx("input",{required:!0,placeholder:"07XX XXX XXXX",value:se.phone,onChange:q=>ve({...se,phone:q.target.value}),className:"w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:bg-slate-900 dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold placeholder:opacity-30"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.email")}),f.jsx("input",{placeholder:"customer@example.com",type:"email",value:se.email,onChange:q=>ve({...se,email:q.target.value}),className:"w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:bg-slate-900 dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold placeholder:opacity-30"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.governorate")}),f.jsx(va,{title:t("common.select"),options:np.map(q=>({value:q,label:q})),selectedValue:se.governorate,onChange:q=>ve(re=>({...re,governorate:q})),icon:Vo,showSearch:!1})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.channel")}),f.jsx(va,{title:t("common.select"),options:rp.map(q=>({value:q,label:q})),selectedValue:se.social,onChange:q=>ve(re=>({...re,social:q})),icon:Qs,showSearch:!1})]})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.shippingAddress")}),f.jsx("textarea",{rows:"2",placeholder:"Street name, landmark, house number...",value:se.address,onChange:q=>ve({...se,address:q.target.value}),className:"w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:bg-slate-900 dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold resize-none placeholder:opacity-30"})]})]})})}),f.jsx("div",{className:"p-6 pt-0 mt-auto border-t border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800",children:f.jsxs("div",{className:"flex gap-4 pt-4",children:[f.jsx("button",{type:"button",onClick:()=>_(!1),className:"flex-1 py-3 border-2 border-slate-100 dark:border-slate-800 rounded-2xl font-black text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700 transition-all active:scale-95",children:t("common.cancel")}),f.jsx("button",{onClick:()=>document.getElementById("customer-form").requestSubmit(),className:"flex-2 py-3 text-white rounded-2xl font-black transition-all active:scale-95 bg-accent shadow-accent hover:brightness-110 flex-[2]",children:t(C?"customers.form.save":"customers.form.register")})]})})]})}),k&&I&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/90 backdrop-blur-md p-4",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[32px] shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in slide-in-from-bottom-8 duration-500",children:[f.jsx("div",{className:"px-10 py-8 border-b border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800",children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"},children:f.jsx(nr,{className:"w-6 h-6"})}),f.jsx("h3",{className:"text-2xl font-black text-slate-900 dark:text-white",children:t("customers.history.title")})]}),f.jsxs("p",{className:"text-slate-500 font-bold uppercase text-[10px] tracking-[0.2em] ms-13",children:[t("customers.receipt.customer"),": ",f.jsx("span",{className:"text-[var(--brand-color)]",children:I.name})]})]}),f.jsx("button",{onClick:()=>A(!1),className:"w-12 h-12 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:f.jsx(Tr,{className:"w-8 h-8 text-slate-400"})})]})}),f.jsx("div",{className:"p-10 overflow-y-auto custom-scrollbar bg-slate-50/50 dark:bg-slate-900/50",children:Y(I._id).length===0?f.jsxs("div",{className:"text-center py-24",children:[f.jsx("div",{className:"w-24 h-24 bg-white dark:bg-slate-800 border-2 border-slate-100 dark:border-slate-700 rounded-3xl flex items-center justify-center mx-auto mb-6 text-slate-200",children:f.jsx(nr,{className:"w-12 h-12"})}),f.jsx("h4",{className:"text-slate-400 font-black uppercase text-xs tracking-widest",children:t("customers.history.noRecords")})]}):f.jsx("div",{className:"space-y-4",children:Y(I._id).map(q=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[28px] border-2 border-slate-50 dark:border-slate-800 shadow-sm overflow-hidden transition-all hover:shadow-xl hover:border-accent group",children:[f.jsxs("div",{className:"p-6 flex items-center justify-between cursor-pointer",onClick:()=>D(M===q._id?null:q._id),children:[f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsx("div",{className:"w-14 h-14 bg-slate-50 dark:bg-slate-900 rounded-2xl flex items-center justify-center text-[var(--brand-color)] group-hover:bg-[var(--brand-color)] group-hover:text-white transition-all",children:f.jsx(nr,{className:"w-7 h-7"})}),f.jsxs("div",{children:[f.jsx("div",{className:"font-black text-slate-900 dark:text-white text-lg",children:q.orderId}),f.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:q.date})]})]}),f.jsxs("div",{className:"flex items-center gap-8",children:[f.jsxs("div",{className:"text-end",children:[f.jsx("div",{className:"font-black text-slate-900 dark:text-white text-xl",children:a(q.total)}),f.jsx("div",{className:`text-[10px] font-black uppercase px-2.5 py-1 rounded-lg inline-block mt-1 ${q.status==="Completed"?"bg-emerald-50 text-emerald-600 border border-emerald-100":q.status==="Processing"?"bg-amber-50 text-amber-600 border border-amber-100":"bg-slate-50 text-slate-600 border border-slate-100"}`,children:q.status})]}),f.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-transform ${M===q._id?"rotate-180":"bg-slate-50 dark:bg-slate-900 text-slate-300"}`,style:M===q._id?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"}:{},children:f.jsx(kl,{className:"w-6 h-6"})})]})]}),M===q._id&&f.jsxs("div",{className:"px-8 pb-8 pt-0 border-t border-slate-50 dark:border-slate-800 animate-in slide-in-from-top-4 duration-300",children:[f.jsx("div",{className:"grid grid-cols-1 gap-3 mt-6",children:q.items.map((re,fe)=>f.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-900/80 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"w-12 h-12 bg-white dark:bg-slate-800 rounded-xl flex items-center justify-center font-black text-sm text-[var(--brand-color)] border border-slate-100 dark:border-slate-700 shadow-sm",children:[re.quantity,""]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-black text-slate-800 dark:text-white block text-sm",children:re.product.name}),f.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[a(re.price)," ",t("common.perUnit")]})]})]}),f.jsx("span",{className:"font-black text-slate-900 dark:text-white",children:a(re.price*re.quantity)})]},fe))}),f.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-100 dark:border-slate-700 flex flex-col sm:flex-row justify-between items-center gap-4",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:t("customers.history.paymentMethod")}),f.jsx("p",{className:"text-sm font-bold text-slate-700 dark:text-white",children:t("common.cashOnDelivery")})]}),f.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-700"}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:t("customers.history.itemsCount")}),f.jsxs("p",{className:"text-sm font-bold text-slate-700 dark:text-white",children:[q.items.length," ",t("customers.receipt.item")]})]})]}),f.jsxs("button",{onClick:re=>{re.stopPropagation(),it(q)},className:"flex items-center gap-2 px-8 py-4 bg-slate-900 dark:bg-slate-700 text-white rounded-2xl font-black text-sm transition-all shadow-xl active:scale-95 hover:brightness-125 hover:shadow-2xl",children:[f.jsx(N1,{className:"w-5 h-5"}),t("customers.history.printThermal")]})]})]})]},q._id))})})]})})]})},ije=()=>{const{t}=jr(),{products:e,updateProduct:n,loading:r}=Rr(),[i,a]=R.useState(null),[o,s]=R.useState(""),l=p=>{a(p)},c=()=>{a(null)},u=async p=>{await n(p),a(null)},d=async p=>{const g=p.map(y=>({url:URL.createObjectURL(y),file:y,name:y.name}));if(i){const y=[...i.images||[],...g],v={...i,images:y};a(v),await n(v)}return g},h=e.filter(p=>{var g;return p.name.toLowerCase().includes(o.toLowerCase())||((g=p.sku)==null?void 0:g.toLowerCase().includes(o.toLowerCase()))});return f.jsxs(Fu,{title:t("productPicture.title"),children:[f.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 mb-8",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(sl,{className:"w-6 h-6 text-accent"}),t("productPicture.subtitle")]}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:t("productPicture.description")})]}),f.jsxs("div",{className:"relative w-full md:w-64",children:[f.jsx(Cu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("products.searchPlaceholder"),value:o,onChange:p=>s(p.target.value),className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-medium focus:ring-2 focus:ring-accent outline-none transition-all"})]})]}),r?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"w-8 h-8 border-4 border-accent border-t-transparent rounded-full animate-spin"})}):f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:h.map(p=>{var v;const g=((v=p.images)==null?void 0:v[0])||p.image||"https://via.placeholder.com/400x400?text=No+Image",y=typeof g=="string"?g:g.url;return f.jsxs("div",{onClick:()=>l(p),className:"group bg-white dark:bg-slate-800 rounded-3xl p-3 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer border border-transparent hover:border-accent",children:[f.jsxs("div",{className:"aspect-[4/5] w-full rounded-2xl overflow-hidden bg-slate-100 dark:bg-slate-900 relative",children:[f.jsx("img",{src:y,alt:p.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),p.stock<=5&&f.jsx("div",{className:"absolute top-3 left-3 bg-red-500 text-white text-[10px] font-bold px-2 py-1 rounded-md shadow-md",children:t("products.stockStatus.lowStock")}),f.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"})]}),f.jsxs("div",{className:"mt-4 px-1",children:[f.jsx("h3",{className:"font-bold text-slate-800 dark:text-white truncate text-base mb-1 group-hover:text-accent transition-colors",children:p.name}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-xs font-mono font-bold text-slate-400 uppercase tracking-wider",children:p.sku||"NO-SKU"}),f.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 rounded-lg",children:p.category||"General"})]})]})]},p.id||p._id)})}),h.length===0&&!r&&f.jsxs("div",{className:"text-center py-20 text-slate-400",children:[f.jsx(sl,{className:"w-12 h-12 mx-auto mb-4 opacity-20"}),f.jsx("p",{children:t("productPicture.noProducts")})]}),i&&f.jsx(_U,{product:i,onClose:c,onSave:u,onUpload:d})]})},aje=({image:t,onCrop:e,onClose:n,aspect:r=1})=>{const[i,a]=R.useState(1),[o,s]=R.useState(0),[l,c]=R.useState({x:0,y:0}),[u,d]=R.useState(!1),[h,p]=R.useState({x:0,y:0}),[g,y]=R.useState({width:0,height:0}),v=320,x=512,b=R.useRef(null);R.useRef(null),R.useEffect(()=>{a(1),s(0),c({x:0,y:0})},[t]);const w=A=>{const{naturalWidth:I,naturalHeight:O}=A.currentTarget;y({width:I,height:O}),a(1)},E=A=>{d(!0),p({x:A.clientX-l.x,y:A.clientY-l.y})},S=A=>{u&&(A.preventDefault(),c({x:A.clientX-h.x,y:A.clientY-h.y}))},P=()=>{d(!1)},_=()=>{const A=document.createElement("canvas"),I=A.getContext("2d"),O=b.current;A.width=x,A.height=x/r,I.clearRect(0,0,A.width,A.height),I.save();const C=x/v;I.translate(A.width/2,A.height/2),I.translate(l.x*C,l.y*C),I.rotate(o*Math.PI/180);const j=i*C;I.scale(j,j);const M=O.naturalWidth,D=O.naturalHeight;return I.imageSmoothingEnabled=!0,I.imageSmoothingQuality="high",I.drawImage(O,-M/2,-D/2,M,D),I.restore(),A.toDataURL("image/png",1)},k=()=>{const A=_();e(A)};return f.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/95 backdrop-blur-md p-4 animate-in fade-in duration-300",children:f.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl shadow-2xl w-full max-w-5xl h-[85vh] flex flex-col overflow-hidden border border-slate-200 dark:border-slate-800",children:[f.jsxs("div",{className:"px-8 py-5 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-white dark:bg-slate-900 z-20",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-xl font-black text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(sl,{className:"w-6 h-6 text-accent"})," Editor Studio"]}),f.jsx("p",{className:"text-xs font-bold text-slate-400 mt-1 uppercase tracking-wider",children:"Customize your brand identity"})]}),f.jsx("button",{onClick:n,className:"p-1.5 text-slate-400 hover:text-slate-600 dark:hover:text-white rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:f.jsx(Tr,{className:"w-6 h-6"})})]}),f.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row overflow-hidden",children:[f.jsxs("div",{className:"flex-1 relative bg-slate-100 dark:bg-slate-950 overflow-hidden flex items-center justify-center cursor-move select-none",style:{backgroundImage:"linear-gradient(45deg, #e5e7eb 25%, transparent 25%), linear-gradient(-45deg, #e5e7eb 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #e5e7eb 75%), linear-gradient(-45deg, transparent 75% , #e5e7eb 75%)",backgroundSize:"20px 20px",backgroundPosition:"0 0, 0 10px, 10px -10px, -10px 0px"},onMouseDown:E,onMouseMove:S,onMouseUp:P,onMouseLeave:P,children:[f.jsx("div",{className:"absolute inset-0 bg-black/40 pointer-events-none z-0"}),f.jsxs("div",{className:"relative z-10 border-2 border-white/80 shadow-[0_0_0_9999px_rgba(0,0,0,0.7)] rounded-xl overflow-visible",style:{width:v,height:v/r,boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.7)"},children:[f.jsxs("div",{className:"absolute inset-0 grid grid-cols-3 grid-rows-3 pointer-events-none opacity-50",children:[f.jsx("div",{className:"border-r border-white/30 h-full col-start-2"}),f.jsx("div",{className:"border-r border-white/30 h-full col-start-3"}),f.jsx("div",{className:"border-b border-white/30 w-full row-start-2 col-span-3"}),f.jsx("div",{className:"border-b border-white/30 w-full row-start-3 col-span-3"})]}),f.jsx("div",{className:"absolute -top-1 -left-1 w-4 h-4 border-t-4 border-l-4 border-white rounded-tl-sm shadow-sm"}),f.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 border-t-4 border-r-4 border-white rounded-tr-sm shadow-sm"}),f.jsx("div",{className:"absolute -bottom-1 -left-1 w-4 h-4 border-b-4 border-l-4 border-white rounded-bl-sm shadow-sm"}),f.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 border-b-4 border-r-4 border-white rounded-br-sm shadow-sm"})]}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none overflow-hidden",children:f.jsx("img",{ref:b,src:t,alt:"To crop",onLoad:w,draggable:!1,className:"max-none transition-transform duration-75 origin-center will-change-transform",style:{transform:`translate(${l.x}px, ${l.y}px) rotate(${o}deg) scale(${i})`}})})]}),f.jsxs("div",{className:"w-full lg:w-80 bg-white dark:bg-slate-900 border-s border-slate-100 dark:border-slate-800 p-6 flex flex-col z-20 shadow-xl",children:[f.jsxs("div",{className:"space-y-8 flex-1 overflow-y-auto custom-scrollbar",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center text-sm font-bold text-slate-700 dark:text-slate-300",children:[f.jsx("span",{children:"Zoom & Scale"}),f.jsxs("span",{className:"font-mono text-accent",children:[Math.round(i*100),"%"]})]}),f.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-2xl border border-slate-100 dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>a(A=>Math.max(.1,A-.1)),className:"p-1 hover:text-accent transition-colors",children:f.jsx(Qq,{className:"w-5 h-5 text-slate-400"})}),f.jsx("input",{type:"range",min:"0.1",max:"3",step:"0.01",value:i,onChange:A=>a(parseFloat(A.target.value)),className:"flex-1 h-2 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-accent"}),f.jsx("button",{onClick:()=>a(A=>Math.min(3,A+.1)),className:"p-1 hover:text-accent transition-colors",children:f.jsx(Yq,{className:"w-5 h-5 text-slate-400"})})]})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Orientation"}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("button",{onClick:()=>s(A=>A-90),className:"flex items-center gap-2 px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl hover:border-accent hover:text-accent transition-all group",children:[f.jsx(yN,{className:"w-4 h-4 text-slate-500 group-hover:text-accent transition-colors"}),f.jsx("span",{className:"text-[11px] font-bold text-slate-600 dark:text-slate-400 group-hover:text-accent",children:"-90"})]}),f.jsxs("button",{onClick:()=>s(A=>A+90),className:"flex items-center gap-2 px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl hover:border-accent hover:text-accent transition-all group",children:[f.jsx(yN,{className:"w-4 h-4 text-slate-500 group-hover:text-accent transition-colors scale-x-[-1]"}),f.jsx("span",{className:"text-[11px] font-bold text-slate-600 dark:text-slate-400 group-hover:text-accent",children:"+90"})]})]}),f.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 p-3 rounded-xl border border-slate-100 dark:border-slate-700 text-center",children:f.jsxs("span",{className:"text-xs font-mono text-slate-500",children:["Current Rotation: ",o,""]})})]})]}),f.jsxs("div",{className:"pt-6 border-t border-slate-100 dark:border-slate-800 flex flex-col gap-3",children:[f.jsxs("button",{onClick:k,className:"w-full py-4 bg-accent text-white font-black rounded-2xl shadow-accent shadow-lg active:scale-[0.98] transition-all flex items-center justify-center gap-3 hover:brightness-110",children:[f.jsx(Z4,{className:"w-5 h-5"}),"Apply Changes"]}),f.jsx("button",{onClick:n,className:"w-full py-3 text-slate-500 hover:text-slate-800 dark:hover:text-white font-bold transition-colors",children:"Cancel"})]})]})]})]})})},oje=()=>{var me;const{t}=jr(),{theme:e,toggleTheme:n,appearance:r,setAppearance:i,users:a,addUser:o,updateUser:s,deleteUser:l,currentUser:c,updateUserProfile:u,brand:d,updateBrand:h,addToast:p,seedData:g,language:y,changeLanguage:v}=Rr(),[x,b]=R.useState("general"),[w,E]=R.useState(!1),[S,P]=R.useState(!1),[_,k]=R.useState(null),[A,I]=R.useState(null),[O,C]=R.useState(null),[j,M]=R.useState((c==null?void 0:c.displayName)||""),[D,L]=R.useState(!1);R.useEffect(()=>{c&&M(c.displayName)},[c]);const B=async()=>{try{await u({displayName:j}),L(!1),p("Profile updated successfully!","success")}catch(J){console.error("Profile update error:",J),p("Failed to update profile.","error")}},V=J=>{const ee=J.target.files[0];if(ee){if(ee.size>3*1024*1024)return p("Avatar too large. Max 3MB.","error");const Oe=new FileReader;Oe.onloadend=()=>{I(Oe.result),C("avatar")},Oe.readAsDataURL(ee)}},[U,F]=R.useState({name:d.name,color:d.color,logo:d.logo,hideHeader:d.hideHeader||!1});R.useEffect(()=>{F({name:d.name,color:d.color,logo:d.logo,hideHeader:d.hideHeader||!1})},[d]);const G=async()=>{try{await h(U),p("Branding settings saved successfully!","success")}catch{p("Failed to save branding settings.","error")}},K=J=>{const ee=J.target.files[0];if(ee){if(ee.size>3*1024*1024)return p("File too large. Max 3MB.","error");const Oe=new FileReader;Oe.onloadend=()=>{I(Oe.result),C("logo")},Oe.readAsDataURL(ee)}},ie=async J=>{O==="avatar"?(await u({photoURL:J}),p("Avatar updated successfully!","success")):O==="logo"&&(F(ee=>({...ee,logo:J})),p("Logo updated successfully!","success")),I(null),C(null)},[se,ve]=R.useState({username:"",email:"",role:"Staff",password:"",displayName:""}),ce=()=>{k(null),ve({username:"",email:"",role:"Staff",password:"",displayName:""}),E(!0)},de=J=>{k(J),ve({...J,password:""}),E(!0)},Y=async J=>{J.preventDefault();try{_?(await s({...se,_id:_._id}),p("User updated successfully!","success")):(await o({...se}),p("User created successfully!","success")),E(!1)}catch(ee){console.error("User management error:",ee),p("Failed to save user.","error")}},X=async J=>{if(window.confirm("Are you sure you want to delete this user?"))try{await l(J),p("User deleted successfully.","success")}catch{p("Failed to delete user.","error")}};return f.jsxs(Fu,{title:"Settings",children:[f.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[f.jsx("aside",{className:"w-full lg:w-64 bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-6",children:f.jsxs("nav",{className:"space-y-2",children:[f.jsxs("button",{onClick:()=>b("general"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${x==="general"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(iL,{className:"w-5 h-5"}),t("settings.general")]}),f.jsxs("button",{onClick:()=>b("appearance"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${x==="appearance"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(gN,{className:"w-5 h-5"}),t("settings.appearance")]}),f.jsxs("button",{onClick:()=>b("branding"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${x==="branding"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(Gq,{className:"w-5 h-5"}),t("settings.branding")]}),f.jsxs("button",{onClick:()=>b("users"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${x==="users"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(vk,{className:"w-5 h-5"}),t("settings.users")]})]})}),f.jsxs("div",{className:"flex-1",children:[x==="general"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:t("settings.general")}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("h3",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[f.jsx(Qs,{className:"w-4 h-4 text-accent"}),t("settings.language")]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>v("en"),className:`flex-1 py-3 px-4 rounded-xl font-bold text-sm transition-all border-2 ${y==="en"?"border-accent bg-white dark:bg-slate-800 text-accent shadow-sm":"border-transparent bg-slate-100 dark:bg-slate-800 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:" English"}),f.jsx("button",{onClick:()=>v("ar"),className:`flex-1 py-3 px-4 rounded-xl font-bold text-sm transition-all border-2 ${y==="ar"?"border-accent bg-white dark:bg-slate-800 text-accent shadow-sm":"border-transparent bg-slate-100 dark:bg-slate-800 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:" "})]})]}),f.jsx("div",{className:"",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:t("settings.appHeader")}),f.jsx("p",{className:"text-xs text-slate-500",children:t("settings.appHeaderDesc")})]}),f.jsx("button",{onClick:async()=>{const J=!U.hideHeader;F(ee=>({...ee,hideHeader:J})),await h({...d,hideHeader:J})},className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none",style:{backgroundColor:U.hideHeader?"#e2e8f0":d.color},children:f.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${U.hideHeader?"translate-x-1":"translate-x-6"}`})})]})})]}),f.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-100 dark:border-slate-700",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200",children:t("settings.branding")}),f.jsx("button",{onClick:G,className:"px-4 py-2 text-white text-sm font-bold rounded-xl shadow-lg transition-all active:scale-95 bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.saveBranding")})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:t("settings.appName")}),f.jsx("input",{type:"text",value:U.name,onChange:J=>F({...U,name:J.target.value}),className:"w-full p-3 border border-slate-200 dark:border-slate-600 rounded-xl bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500/20"})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:t("settings.logo")}),f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsx("div",{className:"w-20 h-20 rounded-xl flex items-center justify-center border border-slate-200 dark:border-slate-600 overflow-hidden bg-slate-100 dark:bg-slate-800",style:{backgroundColor:r.accentType==="solid"?r.accentColor:r.accentGradient.start},children:U.logo?f.jsx("img",{src:U.logo,alt:"Logo",className:"w-full h-full object-cover"}):f.jsx("span",{className:"text-white font-bold text-2xl",children:U.name.charAt(0)})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("label",{className:"cursor-pointer inline-flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded-lg transition-colors font-medium text-sm",children:[f.jsx(yk,{className:"w-4 h-4"}),f.jsx("span",{children:t("settings.uploadLogo")}),f.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:K})]}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:t("settings.logoSize")}),U.logo&&f.jsx("button",{onClick:()=>F({...U,logo:null}),className:"mt-2 text-xs text-red-500 hover:text-red-600 font-medium",children:"Remove Logo"})]})]})]})]})]})]}),x==="appearance"&&f.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(gN,{className:"w-5 h-5 text-[var(--brand-color)]"}),t("settings.themeOptions")]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{id:"liquid",name:"Liquid Glass",icon:Rq,desc:"Apple macOS style"},{id:"light",name:"Pro Light",icon:oL,desc:"Clean & minimal"},{id:"dark",name:"Pro Dark",icon:qq,desc:"Deep & elegant"}].map(J=>f.jsxs("button",{onClick:()=>i({theme:J.id}),className:`group relative flex flex-col p-4 rounded-2xl border-2 transition-all text-left ${r.theme===J.id?"border-accent":"border-slate-100 dark:border-slate-700 hover:border-slate-200 dark:hover:border-slate-600"}`,style:r.theme===J.id?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)"}:{},children:[f.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center mb-3 transition-colors ${r.theme===J.id?"bg-accent text-white":"bg-slate-100 dark:bg-slate-700 text-slate-500"}`,children:f.jsx(J.icon,{className:"w-6 h-6"})}),f.jsx("span",{className:"font-bold text-slate-800 dark:text-white",children:J.name}),f.jsx("span",{className:"text-xs text-slate-500 mt-1",children:J.desc}),r.theme===J.id&&f.jsx("div",{className:"absolute top-3 right-3 w-6 h-6 bg-accent rounded-full flex items-center justify-center shadow-lg border-2 border-white dark:border-slate-800 animate-in zoom-in duration-200",children:f.jsx(tL,{className:"w-3.5 h-3.5 text-white"})})]},J.id))})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8",children:[f.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 rounded-full bg-accent"}),t("settings.accentCustomization")]}),f.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-900 p-1 rounded-xl",children:[f.jsx("button",{onClick:()=>i({accentType:"solid"}),className:`px-4 py-1.5 rounded-lg text-sm font-bold transition-all ${r.accentType==="solid"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500"}`,children:t("settings.solid")}),f.jsx("button",{onClick:()=>i({accentType:"gradient"}),className:`px-4 py-1.5 rounded-lg text-sm font-bold transition-all ${r.accentType==="gradient"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500"}`,children:t("settings.gradient")})]})]}),f.jsx("div",{className:"space-y-8",children:r.accentType==="solid"?f.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[["#1e3a5f","#6366f1","#8b5cf6","#ec4899","#f43f5e","#f59e0b","#10b981","#06b6d4"].map(J=>f.jsx("button",{onClick:()=>i({accentColor:J}),className:`w-10 h-10 rounded-full border-4 transition-transform hover:scale-110 ${r.accentColor===J?"border-white dark:border-slate-800 shadow-xl":"border-transparent"}`,style:{backgroundColor:J}},J)),f.jsx("div",{className:"h-8 w-[1px] bg-slate-200 dark:bg-slate-700 mx-2"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"relative group",children:[f.jsx("input",{type:"color",value:r.accentColor,onChange:J=>i({accentColor:J.target.value}),className:"w-10 h-10 rounded-full cursor-pointer border-0 p-0 overflow-hidden bg-transparent"}),f.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-[10px] px-2 py-0.5 rounded opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity whitespace-nowrap",children:t("settings.customColor")})]}),f.jsx("span",{className:"font-mono text-sm text-slate-500 uppercase",children:r.accentColor})]})]}):f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[{start:"#8B5CF6",end:"#3B82F6",name:"Royal"},{start:"#F472B6",end:"#FB923C",name:"Sunset"},{start:"#34D399",end:"#3B82F6",name:"Aurora"},{start:"#EC4899",end:"#8B5CF6",name:"Vibrant"}].map((J,ee)=>f.jsxs("button",{onClick:()=>i({accentGradient:J}),className:`flex items-center gap-3 p-3 rounded-xl border-2 transition-all ${r.accentGradient.start===J.start&&r.accentGradient.end===J.end?"border-accent":"border-slate-100 dark:border-slate-700 hover:border-slate-200"}`,style:r.accentGradient.start===J.start&&r.accentGradient.end===J.end?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)"}:{},children:[f.jsx("div",{className:"w-10 h-10 rounded-lg",style:{background:`linear-gradient(135deg, ${J.start}, ${J.end})`}}),f.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:J.name})]},ee))}),f.jsxs("div",{className:"pt-6 border-t border-slate-100 dark:border-slate-700",children:[f.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-4",children:t("settings.customDualColors")}),f.jsxs("div",{className:"flex items-center gap-8",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("input",{type:"color",value:r.accentGradient.start,onChange:J=>i({accentGradient:{...r.accentGradient,start:J.target.value}}),className:"w-10 h-10 rounded-full cursor-pointer border-4 border-white dark:border-slate-800 shadow-lg p-0 overflow-hidden bg-transparent"}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold tracking-wider",children:t("settings.start")}),f.jsx("span",{className:"font-mono text-xs text-slate-600 dark:text-slate-400",children:r.accentGradient.start.toUpperCase()})]})]}),f.jsx("div",{className:"w-8 h-0.5 bg-slate-200 dark:bg-slate-700 rounded-full"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("input",{type:"color",value:r.accentGradient.end,onChange:J=>i({accentGradient:{...r.accentGradient,end:J.target.value}}),className:"w-10 h-10 rounded-full cursor-pointer border-4 border-white dark:border-slate-800 shadow-lg p-0 overflow-hidden bg-transparent"}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold tracking-wider",children:t("settings.end")}),f.jsx("span",{className:"font-mono text-xs text-slate-600 dark:text-slate-400",children:r.accentGradient.end.toUpperCase()})]})]})]})]})]})})]}),f.jsxs("div",{className:"bg-slate-100 dark:bg-slate-900 rounded-2xl p-8 flex flex-col items-center justify-center min-h-[300px] border border-slate-200 dark:border-slate-800",children:[f.jsx("p",{className:"text-sm font-bold text-slate-500 mb-8 tracking-widest uppercase",children:t("settings.livePreview")}),f.jsxs("div",{className:`w-full max-w-sm p-8 rounded-2xl transition-all glass-panel ${r.theme==="liquid"?"":"bg-white dark:bg-slate-800 shadow-xl"}`,children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h4",{className:"font-bold text-slate-800 dark:text-white",children:t("settings.contentLayoutExample")}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),f.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),f.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-4 rounded-xl border border-slate-100 dark:border-slate-700",children:[f.jsx("div",{className:"h-2 w-3/4 bg-slate-200 dark:bg-slate-700 rounded mb-2"}),f.jsx("div",{className:"h-2 w-1/2 bg-slate-200 dark:bg-slate-700 rounded"})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{className:"px-4 py-2 bg-[var(--brand-color)] text-white rounded-lg text-sm font-medium shadow-lg shadow-[var(--brand-color)]/20",children:t("settings.primaryButton")}),f.jsx("button",{className:"px-4 py-2 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-lg text-sm font-medium",children:t("common.cancel")})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:t("settings.toggleSwitch")}),f.jsx("div",{className:"w-10 h-5 bg-accent rounded-full relative",children:f.jsx("div",{className:"absolute right-1 top-1 w-3 h-3 bg-white rounded-full"})})]})]})]})]})]}),x==="account"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:t("settings.accountSettings")}),f.jsxs("div",{className:"max-w-xl space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[f.jsx("div",{className:"w-24 h-24 bg-accent/20 rounded-full flex items-center justify-center text-3xl font-bold text-accent overflow-hidden border-4 border-white dark:border-slate-800 shadow-lg",children:c!=null&&c.photoURL?f.jsx("img",{src:c.photoURL,alt:"Avatar",className:"w-full h-full object-cover"}):((me=c==null?void 0:c.displayName)==null?void 0:me.charAt(0))||"U"}),f.jsxs("div",{children:[f.jsxs("label",{className:"cursor-pointer px-4 py-2 text-white text-sm font-bold rounded-xl shadow-lg transition-all inline-block hover:scale-[1.02] bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:[t("settings.changeAvatar"),f.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:V})]}),f.jsx("p",{className:"text-xs text-slate-500 mt-2",children:t("settings.avatarRecommendedSize")})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:t("settings.displayName")}),f.jsx("input",{type:"text",id:"displayName",value:j,onChange:J=>M(J.target.value),disabled:!D,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent transition-all disabled:bg-slate-100 dark:disabled:bg-slate-700 disabled:text-slate-500 dark:disabled:text-slate-400"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:t("settings.username")}),f.jsx("input",{type:"text",value:(c==null?void 0:c.username)||"",readOnly:!0,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 cursor-not-allowed"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:t("settings.emailAddress")}),f.jsx("input",{type:"email",value:(c==null?void 0:c.email)||"",readOnly:!0,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 cursor-not-allowed"})]}),f.jsx("div",{className:"flex justify-end pt-4",children:D?f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>{M((c==null?void 0:c.displayName)||""),L(!1)},className:"px-6 py-3 text-slate-600 dark:text-slate-300 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 rounded-xl transition-colors",children:t("common.cancel")}),f.jsx("button",{onClick:B,className:"px-6 py-3 text-white font-bold rounded-xl transition-all shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.saveChanges")})]}):f.jsx("button",{onClick:()=>L(!0),className:"px-6 py-3 text-white font-bold rounded-xl transition-all shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.editProfile")})}),f.jsxs("div",{className:"mt-12 pt-8 border-t border-slate-100 dark:border-slate-700",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(Vq,{className:"w-5 h-5 text-accent"}),t("settings.securitySettings")]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"p-6 rounded-2xl bg-slate-50 dark:bg-slate-900 border border-slate-100 dark:border-slate-800",children:[f.jsx("h4",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 mb-1",children:t("settings.password")}),f.jsx("p",{className:"text-xs text-slate-500 mb-4 leading-relaxed",children:t("settings.passwordDescription")}),f.jsx("button",{onClick:()=>P(!0),className:"w-full py-2.5 bg-accent text-white text-sm font-bold rounded-xl shadow-lg hover:brightness-110 transition-all",style:{boxShadow:"0 4px 10px -2px var(--accent-color)44"},children:t("settings.changePassword")})]}),f.jsxs("div",{className:"p-6 rounded-2xl bg-slate-50 dark:bg-slate-900 border border-slate-100 dark:border-slate-800",children:[f.jsx("h4",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 mb-1",children:"Two-Factor Authentication"}),f.jsx("p",{className:"text-xs text-slate-500 mb-4 leading-relaxed",children:"Add an extra layer of protection to your profile."}),f.jsx("button",{className:"w-full py-2.5 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 text-sm font-bold rounded-xl hover:bg-slate-300 dark:hover:bg-slate-600 transition-all",children:t("settings.enable2fa")})]})]})]})]})]}),x==="users"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t("settings.users")}),f.jsxs("button",{onClick:ce,className:"flex items-center gap-2 px-4 py-2 text-white font-medium rounded-xl transition-colors shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:[f.jsx(Uo,{className:"w-5 h-5"})," ",t("settings.addUser")]})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("settings.table.user")}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("settings.table.email")}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("settings.table.role")}),f.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("common.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:a.map(J=>{var ee,Oe;return f.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[f.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 overflow-hidden flex-shrink-0 border-2 border-white dark:border-slate-700 shadow-sm",children:J.photoURL?f.jsx("img",{src:J.photoURL,alt:J.displayName,className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center bg-accent text-white font-bold",children:((ee=J.displayName)==null?void 0:ee.charAt(0))||((Oe=J.username)==null?void 0:Oe.charAt(0))||"U"})}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white",children:J.displayName}),f.jsxs("div",{className:"text-xs text-slate-500",children:["@",J.username]})]})]})}),f.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:J.email}),f.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:f.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-bold ${J.role==="Admin"?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300"}`,children:J.role})}),f.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("button",{onClick:()=>de(J),className:"p-2 text-accent hover:bg-accent/10 rounded-lg transition-all",children:f.jsx(zc,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>X(J._id),className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",children:f.jsx(Jf,{className:"w-4 h-4"})})]})})]},J._id)})})]})})]})]})]}),w&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:t(_?"settings.editUser":"settings.addNewUser")}),f.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[f.jsx("input",{required:!0,placeholder:t("settings.placeholders.displayName"),value:se.displayName,onChange:J=>ve({...se,displayName:J.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.username"),value:se.username,onChange:J=>ve({...se,username:J.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.email"),type:"email",value:se.email,onChange:J=>ve({...se,email:J.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsxs("select",{value:se.role,onChange:J=>ve({...se,role:J.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none",children:[f.jsx("option",{value:"Manager",children:"Manager"}),f.jsx("option",{value:"Staff",children:"Staff"}),f.jsx("option",{value:"Admin",children:"Admin"})]}),f.jsx("input",{placeholder:t(_?"settings.placeholders.passwordKeep":"settings.placeholders.password"),type:"password",value:se.password,onChange:J=>ve({...se,password:J.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none",required:!_}),f.jsxs("div",{className:"flex gap-3 mt-6",children:[f.jsx("button",{type:"button",onClick:()=>E(!1),className:"flex-1 py-3 text-slate-600 font-bold hover:bg-slate-100 rounded-xl transition-colors",children:t("common.cancel")}),f.jsx("button",{type:"submit",className:"flex-1 py-3 text-white font-bold rounded-xl transition-colors shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t(_?"settings.updateUser":"settings.createUser")})]})]})]})}),S&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:t("settings.changePassword")}),f.jsxs("form",{onSubmit:J=>{J.preventDefault(),p(t("settings.toasts.passwordChanged"),"success"),P(!1)},className:"space-y-4",children:[f.jsx("input",{required:!0,placeholder:t("settings.placeholders.currentPassword"),type:"password",className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.newPassword"),type:"password",className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.confirmPassword"),type:"password",className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsxs("div",{className:"flex gap-3 mt-6",children:[f.jsx("button",{type:"button",onClick:()=>P(!1),className:"flex-1 py-3 text-slate-600 font-bold hover:bg-slate-100 rounded-xl transition-colors",children:t("common.cancel")}),f.jsx("button",{type:"submit",className:"flex-1 py-3 text-white font-bold rounded-xl transition-colors shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.changePassword")})]})]})]})}),A&&f.jsx(aje,{image:A,onCrop:ie,onClose:()=>{I(null),C(null)},aspect:1})]})};function sje(){return f.jsx(Hee,{children:f.jsx(_q,{children:f.jsxs(mq,{children:[f.jsx(uo,{path:"/",element:f.jsx(GCe,{})}),f.jsx(uo,{path:"/products",element:f.jsx(eje,{})}),f.jsx(uo,{path:"/orders",element:f.jsx(nje,{})}),f.jsx(uo,{path:"/customers",element:f.jsx(rje,{})}),f.jsx(uo,{path:"/product-picture",element:f.jsx(ije,{})}),f.jsx(uo,{path:"/settings",element:f.jsx(oje,{})}),f.jsx(uo,{path:"*",element:f.jsx(hq,{to:"/",replace:!0})})]})})})}const{slice:lje,forEach:cje}=[];function uje(t){return cje.call(lje.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function dje(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const kD=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,fje=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let a=`${t}=${i}`;if(r.maxAge>0){const o=r.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(o)}`}if(r.domain){if(!kD.test(r.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${r.domain}`}if(r.path){if(!kD.test(r.path))throw new TypeError("option path is invalid");a+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(a+="; Partitioned"),a},TD={create(t,e,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=fje(t,e,i)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var hje={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return TD.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:a}=e;n&&typeof document<"u"&&TD.create(n,t,r,i,a)}},pje={name:"querystring",lookup(t){var r;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const o=i.substring(1).split("&");for(let s=0;s<o.length;s++){const l=o[s].indexOf("=");l>0&&o[s].substring(0,l)===e&&(n=o[s].substring(l+1))}}return n}},mje={name:"hash",lookup(t){var i;let{lookupHash:e,lookupFromHashIndex:n}=t,r;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const o=a.substring(1);if(e){const s=o.split("&");for(let l=0;l<s.length;l++){const c=s[l].indexOf("=");c>0&&s[l].substring(0,c)===e&&(r=s[l].substring(c+1))}}if(r)return r;if(!r&&n>-1){const s=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(s)?(i=s[typeof n=="number"?n:0])==null?void 0:i.replace("/",""):void 0}}}return r}};let Hl=null;const PD=()=>{if(Hl!==null)return Hl;try{if(Hl=typeof window<"u"&&window.localStorage!==null,!Hl)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Hl=!1}return Hl};var gje={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&PD())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&PD()&&window.localStorage.setItem(n,t)}};let Gl=null;const AD=()=>{if(Gl!==null)return Gl;try{if(Gl=typeof window<"u"&&window.sessionStorage!==null,!Gl)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Gl=!1}return Gl};var yje={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&AD())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&AD()&&window.sessionStorage.setItem(n,t)}},vje={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let a=0;a<n.length;a++)e.push(n[a]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},xje={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},bje={name:"path",lookup(t){var i;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},wje={name:"subdomain",lookup(t){var i,a;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&((a=(i=window.location)==null?void 0:i.hostname)==null?void 0:a.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let EU=!1;try{document.cookie,EU=!0}catch{}const kU=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];EU||kU.splice(1,1);const _je=()=>({order:kU,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class TU{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=uje(n,this.options||{},_je()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(hje),this.addDetector(pje),this.addDetector(gje),this.addDetector(yje),this.addDetector(vje),this.addDetector(xje),this.addDetector(bje),this.addDetector(wje),this.addDetector(mje)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.filter(r=>r!=null&&!dje(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}TU.type="languageDetector";const Sje={mainMenu:"Main Menu",dashboard:"Dashboard",inventory:"Inventory",productPicture:"Product Picture",orders:"Orders",customers:"Customers",settings:"Settings",logout:"Logout"},Eje={welcome:"Welcome back,",admin:"Admin",switchMode:"Switch to {{mode}} mode",activityLogs:"Activity Logs",new:"New",viewAllActivity:"View All Activity"},kje={defaultName:"User",defaultRole:"Staff"},Tje={loading:"Loading...",error:"Error",success:"Success",save:"Save",saving:"Saving...",cancel:"Cancel",delete:"Delete",edit:"Edit",view:"View",search:"Search...",actions:"Actions",noData:"No data found",noDataToExport:"No data to export",clearFilters:"Clear Filters",exportCSV:"Export CSV",print:"Print",confirmDelete:"Are you sure you want to delete this?",yes:"Yes",no:"No",status:{processing:"Processing",completed:"Completed",cancelled:"Cancelled",pending:"Pending",shipped:"Shipped",delivered:"Delivered",returned:"Returned"},sort:"Sort",dateNew:"Newest First",dateOld:"Oldest First",priceHigh:"Highest Price",priceLow:"Lowest Price",nameAZ:"Name (A-Z)",male:"Male",female:"Female",showRows:"Show Rows",custom:"Custom",select:"Select...",cashOnDelivery:"Cash on Delivery",perUnit:"per unit"},Pje={title:"Dashboard",live:"Live Dashboard",totalRevenue:"Total Revenue",revenueTrend:"Revenue Trend",totalOrders:"Total Orders",ordersPlaced:"Orders placed",totalCustomers:"Total Customers",activeCustomers:"Active Customers",uniqueBuyers:"Unique buyers",topRegion:"Top Region",interactiveMap:"Interactive Map",totalProducts:"Total Products",lowStock:"Low Stock Items",recentActivity:"Recent Activity",filteredOrders:"Filtered Orders",liveDashboard:"Live Dashboard",revenueComparison:"+12.5% vs last period",ordersCount:"{{count}} orders",revenue:"Revenue",governorate:"Governorate",socialMedia:"Social Media",categories:"Categories",status:"Status"},Aje={title:"Inventory",addProduct:"Add Product",productName:"Product Name",category:"Category",price:"Price",stock:"Stock",status:"Status",supplier:"Supplier",description:"Description",image:"Image",sellingPrice:"Selling Price (IQD)",costPrice:"Cost Price (USD)",exchangeRate:"Exchange Rate",profit:"Profit",margin:"Margin",create:"Create Product",update:"Update Product",stockStatus:{inStock:"In Stock",lowStock:"Low Stock",outOfStock:"Out of Stock",instock:"In Stock",lowstock:"Low Stock",outofstock:"Out of Stock"},form:{generalInfo:"General Information",description:"Description",descriptionPlaceholder:"General product description, features, or internal notes...",gallery:"Product Gallery",addImage:"Add Image",category:"Category",status:"Status",productName:"Product Name",productNamePlaceholder:"e.g. Wireless Headset",sku:"SKU",skuPlaceholder:"e.g. WH-001",stock:"Stock",unitPrice:"Unit Price",alibabaSourcing:"Alibaba Sourcing",productLink:"Product Link",messageLink:"Message Link",orderLink:"Order Link",alibabaOrderNo:"Alibaba Order No",alibabaNote:"Alibaba Note",notePlaceholder:"Enter details...",costAndPricing:"Cost & Pricing",alibabaFee:"Alibaba Fee",exchangeRate:"Exchange Rate",margin:"Margin",shippingIQD:"Shipping (IQD)",otherFeesIQD:"Other Fees (IQD)",costTotal:"Total Cost",costPerUnit:"Cost Per Unit",recommendedPrice:"Recommended Price",finalPrice:"Final Price",manualOverride:"Manual Override Active",autoCalculated:"Auto Calculated",profitAnalysis:"Profit Analysis",iqdAnalysis:"IQD Analysis",usdAnalysis:"USD Analysis",profitPerUnit:"Profit / Unit",totalProfit:"Total Profit",qtyCalculation:"Quantity Calculation",unitsExpected:"Units Expected to Sell",selectCategory:"Select Category",createCategory:"Create New Category"},searchPlaceholder:"Search products...",confirmDelete:"Are you sure you want to delete this product?",marginTooHigh:"Margin percentage must be less than 100%",fillInfo:"Fill in the details below to add a new product.",editProduct:"Edit Product",manageCategories:"Manage Categories",categories:"Categories",table:{product:"Product",category:"Category",stock:"Stock",price:"Price",status:"Status"}},Nje={title:"Orders",createOrder:"Create Order",orderId:"Order ID",customer:"Customer",date:"Date",total:"Total",status:"Status",items:"Items",quantity:"Qty",discount:"Discount",subtotal:"Subtotal",grandTotal:"Grand Total",customerInfo:"Customer Info",shippingAddress:"Shipping Address",internalNotes:"Internal Notes",paymentMethod:"Payment Method",governorate:"Governorate",socialMedia:"Social Media",deleteConfirm:"Are you sure you want to delete this order?",searchPlaceholder:"Search orders...",stockError:"Only {{available}} units available",limitReached:"Limit reached: {{available}}",addItemsError:"Please add items to the order",customerError:"Please fill in customer name and phone",stockErrorWithName:"Not enough stock for {{name}}. Max available: {{available}}",chooseProduct:"Choose Product",searchProduct:"Search & Select Product",qty:"Qty",price:"PRICE",cartEmpty:"Your cart is empty",cartEmptySub:"Add products to start building the order",onlyLeft:"ONLY {{count}} LEFT",orderSubtotal:"Order Subtotal",applyDiscount:"APPLY DISCOUNT",noDiscount:"No Discount",offDiscount:"{{percent}}% OFF DISCOUNT",chooseCustomer:"Choose a Customer",searchCustomers:"Search customers...",createNewCustomer:"Create New Customer",fullName:"Full Name",phone:"Phone Number",gender:"Gender",social:"Social",saveOrder:"SAVE ORDER",updateOrder:"UPDATE ORDER",orderStatus:"Order Status",orderItems:"Order Items",printReceipt:"Print Receipt",editOrder:"Edit Order",receipt:{title:"Receipt",companyName:"SHAN ENTERPRISE",address:"Baghdad, Iraq",order:"Order",customer:"Customer",phone:"Phone",gov:"Gov",subtotal:"Subtotal",discount:"Discount",total:"TOTAL",thankYou:"Thank you for your business!",noReturn:"Items checked out cannot be returned.",na:"N/A"},errors:{submitError:"Failed to submit order: {{message}}",unknown:"Unknown error"},table:{orderId:"Order ID",customer:"Customer",date:"Date",total:"Total (IQD)",status:"Status"}},Ije={title:"Product Picture Gallery",subtitle:"Product Gallery",description:"Manage your product visual assets.",noProducts:"No products found matching your search.",modal:{images:"Product Images",addPhoto:"Add Photo",details:"Product Details",productTitle:"Product Title",enterTitle:"Enter product title",description:"Description",enterDescription:"Enter product description...",sellingPrice:"Selling Price",confirmDeleteImage:"Are you sure you want to delete this image?"}},Oje={title:"Customers",addCustomer:"Add Customer",name:"Name",phone:"Phone",email:"Email",address:"Address",governorate:"Governorate",social:"Social Media",totalSpent:"Total Spent",lastOrder:"Last Order",joinDate:"Join Date",orders:"Orders",location:"Location",createdOn:"Created On",actions:"Actions",noData:"No customers found",noMatch:"No customers matching filters",searchPlaceholder:"Search by name or phone...",viewTable:"Table View",viewCard:"Card View",form:{new:"New Customer",edit:"Refine Profile",sub:"Customer Database",fullName:"Full Name",phone:"Phone Number",email:"Email (Optional)",governorate:"Governorate",channel:"Channel",shippingAddress:"Shipping Address",save:"Save Profile",register:"Register Customer"},history:{title:"Transaction Logs",customer:"Customer",noRecords:"No Active Records Found",paymentMethod:"Payment Method",itemsCount:"Items Count",printThermal:"Print Thermal Receipt"},receipt:{title:"Order Receipt",order:"Order",customer:"Customer",date:"Date",status:"Status",item:"Item",qty:"Qty",price:"Price",total:"Total"}},Cje={title:"Settings",general:"General",account:"Account",appearance:"Appearance",users:"User Management",language:"Language",saveChanges:"Save Changes",branding:"Branding",appHeader:"Application Header",appHeaderDesc:"Show or hide the top navigation header",saveBranding:"Save Branding Settings",appName:"Application Name",logo:"Logo",uploadLogo:"Upload Logo",logoSize:"Recommended size: 512x512px. Max 3MB.",removeLogo:"Remove Logo",themeOptions:"Theme Options",themes:{liquid:"Liquid Glass",liquidDesc:"Apple macOS style",light:"Pro Light",lightDesc:"Clean & minimal",dark:"Pro Dark",darkDesc:"Deep & elegant"},accentCustomization:"Accent Customization",solid:"Solid",gradient:"Gradient",customColor:"Custom Color",gradients:{royal:"Royal",sunset:"Sunset",aurora:"Aurora",vibrant:"Vibrant"},customDualColors:"Custom Dual Colors",start:"Start",end:"End",livePreview:"Live Preview",contentLayoutExample:"Content Layout Example",primaryButton:"Primary Button",toggleSwitch:"Toggle Switch",accountSettings:"Account Settings",changeAvatar:"Change Avatar",avatarFormat:"JPG, GIF or PNG. Max size of 3MB",emailAddress:"Email Address",avatarRecommendedSize:"JPG, GIF or PNG. Max size of 3MB",displayName:"Display Name",username:"Username",securitySettings:"Security Settings",password:"Password",passwordDescription:"Change your password to keep your account safe.",changePassword:"Change Password",addUser:"Add User",editUser:"Edit User",addNewUser:"Add New User",updateUser:"Update User",createUser:"Create User",confirmDeleteUser:"Are you sure you want to delete this user?",table:{user:"User",email:"Email",role:"Role"},placeholders:{displayName:"Display Name",username:"Username",email:"Email",password:"Password",passwordKeep:"Password (leave blank to keep)",currentPassword:"Current Password",newPassword:"New Password",confirmPassword:"Confirm New Password"},toasts:{profileUpdated:"Profile updated successfully!",avatarTooLarge:"Avatar too large. Max 3MB.",brandingSaved:"Branding settings saved successfully!",fileTooLarge:"File too large. Max 3MB.",userUpdated:"User updated successfully!",userCreated:"User created successfully!",passwordChanged:"Password changed successfully!"}},jje={menu:Sje,header:Eje,user:kje,common:Tje,dashboard:Pje,products:Aje,orders:Nje,productPicture:Ije,customers:Oje,settings:Cje},Rje={mainMenu:" ",dashboard:" ",inventory:"",productPicture:" ",orders:"",customers:"",settings:"",logout:" "},Mje={welcome:" ",admin:"",switchMode:"   {{mode}}",activityLogs:" ",new:"",viewAllActivity:"  "},Dje={defaultName:"",defaultRole:""},$je={loading:" ...",error:"",success:" ",save:"",saving:" ...",cancel:"",delete:"",edit:"",view:"",search:"...",actions:"",noData:"  ",noDataToExport:"   ",clearFilters:" ",exportCSV:" CSV",print:"",confirmDelete:"    ",yes:"",no:"",status:{processing:" ",completed:"",cancelled:"",pending:" ",shipped:" ",delivered:" ",returned:""},sort:"",dateNew:" ",dateOld:" ",priceHigh:" ",priceLow:" ",nameAZ:" (-)",male:"",female:"",showRows:" ",custom:"",select:"...",cashOnDelivery:"  ",perUnit:" "},Lje={title:" ",live:"  ",totalRevenue:" ",revenueTrend:" ",totalOrders:" ",ordersPlaced:" ",totalCustomers:" ",activeCustomers:" ",uniqueBuyers:" ",topRegion:" ",interactiveMap:" ",totalProducts:" ",lowStock:"  ",recentActivity:" ",filteredOrders:" ",liveDashboard:"  ",revenueComparison:"+12.5%   ",ordersCount:"{{count}} ",revenue:"",governorate:"",socialMedia:" ",categories:"",status:""},Fje={title:"",addProduct:" ",productName:" ",category:"",price:"",stock:"",status:"",supplier:"",description:"",image:"",sellingPrice:"  (.)",costPrice:"  ()",exchangeRate:" ",profit:"",margin:"",create:" ",update:" ",stockStatus:{inStock:"",lowStock:" ",outOfStock:" ",instock:"",lowstock:" ",outofstock:" "},form:{generalInfo:" ",description:"",descriptionPlaceholder:"     ...",gallery:" ",addImage:" ",category:"",status:"",productName:" ",productNamePlaceholder:":  ",sku:"  (SKU)",skuPlaceholder:": WH-001",stock:"",unitPrice:" ",alibabaSourcing:"  ",productLink:" ",messageLink:" ",orderLink:" ",alibabaOrderNo:"   ",alibabaNote:"  ",notePlaceholder:" ...",costAndPricing:" ",alibabaFee:"  ",exchangeRate:" ",margin:" ",shippingIQD:" (.)",otherFeesIQD:"  (.)",costTotal:" ",costPerUnit:" ",recommendedPrice:" ",finalPrice:" ",manualOverride:"  ",autoCalculated:" ",profitAnalysis:" ",iqdAnalysis:"  ",usdAnalysis:"  ",profitPerUnit:" / ",totalProfit:" ",qtyCalculation:" ",unitsExpected:"  ",selectCategory:" ",createCategory:"  "},searchPlaceholder:"  ...",confirmDelete:"      ",marginTooHigh:"       100%",fillInfo:"     .",editProduct:" ",manageCategories:" ",categories:"",table:{product:"",category:"",stock:"",price:"",status:""}},Vje={title:"",createOrder:" ",orderId:" ",customer:"",date:"",total:"",status:"",items:"",quantity:"",discount:"",subtotal:" ",grandTotal:" ",customerInfo:" ",shippingAddress:" ",internalNotes:" ",paymentMethod:" ",governorate:"",socialMedia:" ",deleteConfirm:"      ",searchPlaceholder:"  ...",stockError:" {{available}}  ",limitReached:"  : {{available}}",addItemsError:"   ",customerError:"    ",stockErrorWithName:"     {{name}}. : {{available}}",chooseProduct:" ",searchProduct:"  ",qty:"",price:"",cartEmpty:" ",cartEmptySub:"     ",onlyLeft:" {{count}} ",orderSubtotal:" ",applyDiscount:" ",noDiscount:" ",offDiscount:" {{percent}}%",chooseCustomer:" ",searchCustomers:"  ...",createNewCustomer:"  ",fullName:" ",phone:" ",gender:"",social:" ",saveOrder:" ",updateOrder:" ",orderStatus:" ",orderItems:" ",printReceipt:" ",editOrder:" ",receipt:{title:" ",companyName:"SHAN ENTERPRISE",address:" ",order:"",customer:"",phone:"",gov:"",subtotal:" ",discount:"",total:"",thankYou:"  !",noReturn:"     .",na:" "},errors:{submitError:"   : {{message}}",unknown:"  "},table:{orderId:" ",customer:"",date:"",total:" (.)",status:""}},Uje={title:"  ",subtitle:" ",description:"   .",noProducts:"      .",modal:{images:" ",addPhoto:" ",details:" ",productTitle:" ",enterTitle:"  ",description:"",enterDescription:"  ...",sellingPrice:" ",confirmDeleteImage:"      "}},Bje={title:"",addCustomer:" ",name:"",phone:"",email:" ",address:"",governorate:"",social:" ",totalSpent:" ",lastOrder:" ",joinDate:" ",orders:"",location:"",createdOn:" ",actions:"",noData:"  ",noMatch:"   ",searchPlaceholder:"   ...",viewTable:" ",viewCard:" ",form:{new:" ",edit:" ",sub:"  ",fullName:" ",phone:" ",email:"  ()",governorate:"",channel:"",shippingAddress:" ",save:" ",register:" "},history:{title:" ",customer:"",noRecords:"   ",paymentMethod:" ",itemsCount:" ",printThermal:"  "},receipt:{title:" ",order:"",customer:"",date:"",status:"",item:"",qty:"",price:"",total:""}},zje={title:"",general:"",account:"",appearance:"",users:" ",language:"",saveChanges:" ",branding:" ",appHeader:" ",appHeaderDesc:"     ",saveBranding:"   ",appName:" ",logo:"",uploadLogo:" ",logoSize:"  : 512x512 .   3 .",removeLogo:" ",themeOptions:" ",themes:{liquid:" ",liquidDesc:"  ",light:" ",lightDesc:" ",dark:" ",darkDesc:" "},accentCustomization:"  ",solid:" ",gradient:" ",customColor:" ",gradients:{royal:"",sunset:"",aurora:"",vibrant:""},customDualColors:"  ",start:"",end:"",livePreview:" ",contentLayoutExample:"  ",primaryButton:" ",toggleSwitch:" ",accountSettings:" ",changeAvatar:"  ",avatarFormat:"JPG GIF  PNG.   3 ",emailAddress:" ",avatarRecommendedSize:"JPG GIF  PNG.   3 ",displayName:" ",username:" ",securitySettings:" ",password:" ",passwordDescription:"      .",changePassword:"  ",addUser:" ",editUser:" ",addNewUser:"  ",updateUser:" ",createUser:" ",confirmDeleteUser:"      ",table:{user:"",email:" ",role:""},placeholders:{displayName:" ",username:" ",email:" ",password:" ",passwordKeep:"  (   )",currentPassword:"  ",newPassword:"  ",confirmPassword:"   "},toasts:{profileUpdated:"    !",avatarTooLarge:"  .   3 .",brandingSaved:"     !",fileTooLarge:"  .   3 .",userUpdated:"   !",userCreated:"   !",passwordChanged:"    !"}},qje={menu:Rje,header:Mje,user:Dje,common:$je,dashboard:Lje,products:Fje,orders:Vje,productPicture:Uje,customers:Bje,settings:zje};gn.use(TU).use(Iee).init({resources:{en:{translation:jje},ar:{translation:qje}},fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}}).then(()=>{const t=gn.language==="ar"?"rtl":"ltr";document.dir=t,document.documentElement.lang=gn.language});gn.on("languageChanged",t=>{const e=t==="ar"?"rtl":"ltr";document.dir=e,document.documentElement.lang=t});jw.createRoot(document.getElementById("root")).render(f.jsx(z.StrictMode,{children:f.jsx(sje,{})}));
