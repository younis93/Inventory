function NU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var yp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function at(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kM={exports:{}},T0={},AM={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ah=Symbol.for("react.element"),CU=Symbol.for("react.portal"),jU=Symbol.for("react.fragment"),RU=Symbol.for("react.strict_mode"),MU=Symbol.for("react.profiler"),$U=Symbol.for("react.provider"),DU=Symbol.for("react.context"),LU=Symbol.for("react.forward_ref"),VU=Symbol.for("react.suspense"),FU=Symbol.for("react.memo"),UU=Symbol.for("react.lazy"),mP=Symbol.iterator;function BU(t){return t===null||typeof t!="object"?null:(t=mP&&t[mP]||t["@@iterator"],typeof t=="function"?t:null)}var PM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},IM=Object.assign,OM={};function Ju(t,e,n){this.props=t,this.context=e,this.refs=OM,this.updater=n||PM}Ju.prototype.isReactComponent={};Ju.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ju.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function NM(){}NM.prototype=Ju.prototype;function NS(t,e,n){this.props=t,this.context=e,this.refs=OM,this.updater=n||PM}var CS=NS.prototype=new NM;CS.constructor=NS;IM(CS,Ju.prototype);CS.isPureReactComponent=!0;var gP=Array.isArray,CM=Object.prototype.hasOwnProperty,jS={current:null},jM={key:!0,ref:!0,__self:!0,__source:!0};function RM(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)CM.call(e,r)&&!jM.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Ah,type:t,key:a,ref:o,props:i,_owner:jS.current}}function zU(t,e){return{$$typeof:Ah,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function RS(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ah}function WU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var yP=/\/+/g;function _b(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WU(""+t.key):e.toString(36)}function pm(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ah:case CU:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+_b(o,0):r,gP(i)?(n="",t!=null&&(n=t.replace(yP,"$&/")+"/"),pm(i,e,n,"",function(u){return u})):i!=null&&(RS(i)&&(i=zU(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(yP,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",gP(t))for(var s=0;s<t.length;s++){a=t[s];var l=r+_b(a,s);o+=pm(a,e,n,l,i)}else if(l=BU(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=r+_b(a,s++),o+=pm(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function vp(t,e,n){if(t==null)return t;var r=[],i=0;return pm(t,r,"","",function(a){return e.call(n,a,i++)}),r}function qU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Un={current:null},mm={transition:null},HU={ReactCurrentDispatcher:Un,ReactCurrentBatchConfig:mm,ReactCurrentOwner:jS};function MM(){throw Error("act(...) is not supported in production builds of React.")}Ue.Children={map:vp,forEach:function(t,e,n){vp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return vp(t,function(){e++}),e},toArray:function(t){return vp(t,function(e){return e})||[]},only:function(t){if(!RS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ue.Component=Ju;Ue.Fragment=jU;Ue.Profiler=MU;Ue.PureComponent=NS;Ue.StrictMode=RU;Ue.Suspense=VU;Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HU;Ue.act=MM;Ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=IM({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=jS.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)CM.call(e,l)&&!jM.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Ah,type:t.type,key:i,ref:a,props:r,_owner:o}};Ue.createContext=function(t){return t={$$typeof:DU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$U,_context:t},t.Consumer=t};Ue.createElement=RM;Ue.createFactory=function(t){var e=RM.bind(null,t);return e.type=t,e};Ue.createRef=function(){return{current:null}};Ue.forwardRef=function(t){return{$$typeof:LU,render:t}};Ue.isValidElement=RS;Ue.lazy=function(t){return{$$typeof:UU,_payload:{_status:-1,_result:t},_init:qU}};Ue.memo=function(t,e){return{$$typeof:FU,type:t,compare:e===void 0?null:e}};Ue.startTransition=function(t){var e=mm.transition;mm.transition={};try{t()}finally{mm.transition=e}};Ue.unstable_act=MM;Ue.useCallback=function(t,e){return Un.current.useCallback(t,e)};Ue.useContext=function(t){return Un.current.useContext(t)};Ue.useDebugValue=function(){};Ue.useDeferredValue=function(t){return Un.current.useDeferredValue(t)};Ue.useEffect=function(t,e){return Un.current.useEffect(t,e)};Ue.useId=function(){return Un.current.useId()};Ue.useImperativeHandle=function(t,e,n){return Un.current.useImperativeHandle(t,e,n)};Ue.useInsertionEffect=function(t,e){return Un.current.useInsertionEffect(t,e)};Ue.useLayoutEffect=function(t,e){return Un.current.useLayoutEffect(t,e)};Ue.useMemo=function(t,e){return Un.current.useMemo(t,e)};Ue.useReducer=function(t,e,n){return Un.current.useReducer(t,e,n)};Ue.useRef=function(t){return Un.current.useRef(t)};Ue.useState=function(t){return Un.current.useState(t)};Ue.useSyncExternalStore=function(t,e,n){return Un.current.useSyncExternalStore(t,e,n)};Ue.useTransition=function(){return Un.current.useTransition()};Ue.version="18.3.1";AM.exports=Ue;var M=AM.exports;const z=at(M),GU=NU({__proto__:null,default:z},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KU=M,YU=Symbol.for("react.element"),XU=Symbol.for("react.fragment"),QU=Object.prototype.hasOwnProperty,JU=KU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZU={key:!0,ref:!0,__self:!0,__source:!0};function $M(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)QU.call(e,r)&&!ZU.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:YU,type:t,key:a,ref:o,props:i,_owner:JU.current}}T0.Fragment=XU;T0.jsx=$M;T0.jsxs=$M;kM.exports=T0;var h=kM.exports,ew={},DM={exports:{}},yr={},LM={exports:{}},VM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,U){var W=V.length;V.push(U);e:for(;0<W;){var q=W-1>>>1,B=V[q];if(0<i(B,U))V[q]=U,V[W]=B,W=q;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var U=V[0],W=V.pop();if(W!==U){V[0]=W;e:for(var q=0,B=V.length,K=B>>>1;q<K;){var re=2*(q+1)-1,fe=V[re],ve=re+1,Ae=V[ve];if(0>i(fe,W))ve<B&&0>i(Ae,fe)?(V[q]=Ae,V[ve]=W,q=ve):(V[q]=fe,V[re]=W,q=re);else if(ve<B&&0>i(Ae,W))V[q]=Ae,V[ve]=W,q=ve;else break e}}return U}function i(V,U){var W=V.sortIndex-U.sortIndex;return W!==0?W:V.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,d=3,m=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(V){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=V)r(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(u)}}function A(V){if(y=!1,w(V),!g)if(n(l)!==null)g=!0,$(_);else{var U=n(u);U!==null&&F(A,U.startTime-V)}}function _(V,U){g=!1,y&&(y=!1,v(E),E=-1),m=!0;var W=d;try{for(w(U),f=n(l);f!==null&&(!(f.expirationTime>U)||V&&!O());){var q=f.callback;if(typeof q=="function"){f.callback=null,d=f.priorityLevel;var B=q(f.expirationTime<=U);U=t.unstable_now(),typeof B=="function"?f.callback=B:f===n(l)&&r(l),w(U)}else r(l);f=n(l)}if(f!==null)var K=!0;else{var re=n(u);re!==null&&F(A,re.startTime-U),K=!1}return K}finally{f=null,d=W,m=!1}}var k=!1,S=null,E=-1,P=5,N=-1;function O(){return!(t.unstable_now()-N<P)}function C(){if(S!==null){var V=t.unstable_now();N=V;var U=!0;try{U=S(!0,V)}finally{U?j():(k=!1,S=null)}}else k=!1}var j;if(typeof x=="function")j=function(){x(C)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,R=D.port2;D.port1.onmessage=C,j=function(){R.postMessage(null)}}else j=function(){b(C,0)};function $(V){S=V,k||(k=!0,j())}function F(V,U){E=b(function(){V(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,$(_))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(d){case 1:case 2:case 3:var U=3;break;default:U=d}var W=d;d=U;try{return V()}finally{d=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,U){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var W=d;d=V;try{return U()}finally{d=W}},t.unstable_scheduleCallback=function(V,U,W){var q=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?q+W:q):W=q,V){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=W+B,V={id:c++,callback:U,priorityLevel:V,startTime:W,expirationTime:B,sortIndex:-1},W>q?(V.sortIndex=W,e(u,V),n(l)===null&&V===n(u)&&(y?(v(E),E=-1):y=!0,F(A,W-q))):(V.sortIndex=B,e(l,V),g||m||(g=!0,$(_))),V},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(V){var U=d;return function(){var W=d;d=U;try{return V.apply(this,arguments)}finally{d=W}}}})(VM);LM.exports=VM;var e8=LM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t8=M,pr=e8;function oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var FM=new Set,id={};function Qs(t,e){su(t,e),su(t+"Capture",e)}function su(t,e){for(id[t]=e,t=0;t<e.length;t++)FM.add(e[t])}var da=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tw=Object.prototype.hasOwnProperty,n8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vP={},bP={};function r8(t){return tw.call(bP,t)?!0:tw.call(vP,t)?!1:n8.test(t)?bP[t]=!0:(vP[t]=!0,!1)}function i8(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function a8(t,e,n,r){if(e===null||typeof e>"u"||i8(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Bn(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var dn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){dn[t]=new Bn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];dn[e]=new Bn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){dn[t]=new Bn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){dn[t]=new Bn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){dn[t]=new Bn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){dn[t]=new Bn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){dn[t]=new Bn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){dn[t]=new Bn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){dn[t]=new Bn(t,5,!1,t.toLowerCase(),null,!1,!1)});var MS=/[\-:]([a-z])/g;function $S(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(MS,$S);dn[e]=new Bn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(MS,$S);dn[e]=new Bn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(MS,$S);dn[e]=new Bn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){dn[t]=new Bn(t,1,!1,t.toLowerCase(),null,!1,!1)});dn.xlinkHref=new Bn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){dn[t]=new Bn(t,1,!1,t.toLowerCase(),null,!0,!0)});function DS(t,e,n,r){var i=dn.hasOwnProperty(e)?dn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(a8(e,n,i,r)&&(n=null),r||i===null?r8(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Aa=t8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bp=Symbol.for("react.element"),_l=Symbol.for("react.portal"),Sl=Symbol.for("react.fragment"),LS=Symbol.for("react.strict_mode"),nw=Symbol.for("react.profiler"),UM=Symbol.for("react.provider"),BM=Symbol.for("react.context"),VS=Symbol.for("react.forward_ref"),rw=Symbol.for("react.suspense"),iw=Symbol.for("react.suspense_list"),FS=Symbol.for("react.memo"),Ba=Symbol.for("react.lazy"),zM=Symbol.for("react.offscreen"),xP=Symbol.iterator;function Bc(t){return t===null||typeof t!="object"?null:(t=xP&&t[xP]||t["@@iterator"],typeof t=="function"?t:null)}var Et=Object.assign,Sb;function pf(t){if(Sb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sb=e&&e[1]||""}return`
`+Sb+t}var Eb=!1;function Tb(t,e){if(!t||Eb)return"";Eb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{Eb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?pf(t):""}function o8(t){switch(t.tag){case 5:return pf(t.type);case 16:return pf("Lazy");case 13:return pf("Suspense");case 19:return pf("SuspenseList");case 0:case 2:case 15:return t=Tb(t.type,!1),t;case 11:return t=Tb(t.type.render,!1),t;case 1:return t=Tb(t.type,!0),t;default:return""}}function aw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Sl:return"Fragment";case _l:return"Portal";case nw:return"Profiler";case LS:return"StrictMode";case rw:return"Suspense";case iw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case BM:return(t.displayName||"Context")+".Consumer";case UM:return(t._context.displayName||"Context")+".Provider";case VS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case FS:return e=t.displayName||null,e!==null?e:aw(t.type)||"Memo";case Ba:e=t._payload,t=t._init;try{return aw(t(e))}catch{}}return null}function s8(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return aw(e);case 8:return e===LS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Eo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function WM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function l8(t){var e=WM(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xp(t){t._valueTracker||(t._valueTracker=l8(t))}function qM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=WM(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ow(t,e){var n=e.checked;return Et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function wP(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Eo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function HM(t,e){e=e.checked,e!=null&&DS(t,"checked",e,!1)}function sw(t,e){HM(t,e);var n=Eo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?lw(t,e.type,n):e.hasOwnProperty("defaultValue")&&lw(t,e.type,Eo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _P(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function lw(t,e,n){(e!=="number"||qm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var mf=Array.isArray;function Bl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Eo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function uw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oe(91));return Et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function SP(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(oe(92));if(mf(n)){if(1<n.length)throw Error(oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Eo(n)}}function GM(t,e){var n=Eo(e.value),r=Eo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function EP(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function KM(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?KM(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wp,YM=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wp=wp||document.createElement("div"),wp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ad(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var jf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},u8=["Webkit","ms","Moz","O"];Object.keys(jf).forEach(function(t){u8.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),jf[e]=jf[t]})});function XM(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||jf.hasOwnProperty(t)&&jf[t]?(""+e).trim():e+"px"}function QM(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=XM(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var c8=Et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fw(t,e){if(e){if(c8[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oe(62))}}function dw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hw=null;function US(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pw=null,zl=null,Wl=null;function TP(t){if(t=Oh(t)){if(typeof pw!="function")throw Error(oe(280));var e=t.stateNode;e&&(e=O0(e),pw(t.stateNode,t.type,e))}}function JM(t){zl?Wl?Wl.push(t):Wl=[t]:zl=t}function ZM(){if(zl){var t=zl,e=Wl;if(Wl=zl=null,TP(t),e)for(t=0;t<e.length;t++)TP(e[t])}}function e$(t,e){return t(e)}function t$(){}var kb=!1;function n$(t,e,n){if(kb)return t(e,n);kb=!0;try{return e$(t,e,n)}finally{kb=!1,(zl!==null||Wl!==null)&&(t$(),ZM())}}function od(t,e){var n=t.stateNode;if(n===null)return null;var r=O0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(oe(231,e,typeof n));return n}var mw=!1;if(da)try{var zc={};Object.defineProperty(zc,"passive",{get:function(){mw=!0}}),window.addEventListener("test",zc,zc),window.removeEventListener("test",zc,zc)}catch{mw=!1}function f8(t,e,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Rf=!1,Hm=null,Gm=!1,gw=null,d8={onError:function(t){Rf=!0,Hm=t}};function h8(t,e,n,r,i,a,o,s,l){Rf=!1,Hm=null,f8.apply(d8,arguments)}function p8(t,e,n,r,i,a,o,s,l){if(h8.apply(this,arguments),Rf){if(Rf){var u=Hm;Rf=!1,Hm=null}else throw Error(oe(198));Gm||(Gm=!0,gw=u)}}function Js(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function r$(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kP(t){if(Js(t)!==t)throw Error(oe(188))}function m8(t){var e=t.alternate;if(!e){if(e=Js(t),e===null)throw Error(oe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return kP(i),t;if(a===r)return kP(i),e;a=a.sibling}throw Error(oe(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(oe(189))}}if(n.alternate!==r)throw Error(oe(190))}if(n.tag!==3)throw Error(oe(188));return n.stateNode.current===n?t:e}function i$(t){return t=m8(t),t!==null?a$(t):null}function a$(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=a$(t);if(e!==null)return e;t=t.sibling}return null}var o$=pr.unstable_scheduleCallback,AP=pr.unstable_cancelCallback,g8=pr.unstable_shouldYield,y8=pr.unstable_requestPaint,jt=pr.unstable_now,v8=pr.unstable_getCurrentPriorityLevel,BS=pr.unstable_ImmediatePriority,s$=pr.unstable_UserBlockingPriority,Km=pr.unstable_NormalPriority,b8=pr.unstable_LowPriority,l$=pr.unstable_IdlePriority,k0=null,Ei=null;function x8(t){if(Ei&&typeof Ei.onCommitFiberRoot=="function")try{Ei.onCommitFiberRoot(k0,t,void 0,(t.current.flags&128)===128)}catch{}}var ni=Math.clz32?Math.clz32:S8,w8=Math.log,_8=Math.LN2;function S8(t){return t>>>=0,t===0?32:31-(w8(t)/_8|0)|0}var _p=64,Sp=4194304;function gf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ym(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=gf(s):(a&=o,a!==0&&(r=gf(a)))}else o=n&~i,o!==0?r=gf(o):a!==0&&(r=gf(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ni(e),i=1<<n,r|=t[n],e&=~i;return r}function E8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function T8(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-ni(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=E8(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function yw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function u$(){var t=_p;return _p<<=1,!(_p&4194240)&&(_p=64),t}function Ab(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ph(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ni(e),t[e]=n}function k8(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ni(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function zS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ni(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ze=0;function c$(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var f$,WS,d$,h$,p$,vw=!1,Ep=[],lo=null,uo=null,co=null,sd=new Map,ld=new Map,Ga=[],A8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function PP(t,e){switch(t){case"focusin":case"focusout":lo=null;break;case"dragenter":case"dragleave":uo=null;break;case"mouseover":case"mouseout":co=null;break;case"pointerover":case"pointerout":sd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ld.delete(e.pointerId)}}function Wc(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Oh(e),e!==null&&WS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function P8(t,e,n,r,i){switch(e){case"focusin":return lo=Wc(lo,t,e,n,r,i),!0;case"dragenter":return uo=Wc(uo,t,e,n,r,i),!0;case"mouseover":return co=Wc(co,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return sd.set(a,Wc(sd.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ld.set(a,Wc(ld.get(a)||null,t,e,n,r,i)),!0}return!1}function m$(t){var e=fs(t.target);if(e!==null){var n=Js(e);if(n!==null){if(e=n.tag,e===13){if(e=r$(n),e!==null){t.blockedOn=e,p$(t.priority,function(){d$(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);hw=r,n.target.dispatchEvent(r),hw=null}else return e=Oh(n),e!==null&&WS(e),t.blockedOn=n,!1;e.shift()}return!0}function IP(t,e,n){gm(t)&&n.delete(e)}function I8(){vw=!1,lo!==null&&gm(lo)&&(lo=null),uo!==null&&gm(uo)&&(uo=null),co!==null&&gm(co)&&(co=null),sd.forEach(IP),ld.forEach(IP)}function qc(t,e){t.blockedOn===e&&(t.blockedOn=null,vw||(vw=!0,pr.unstable_scheduleCallback(pr.unstable_NormalPriority,I8)))}function ud(t){function e(i){return qc(i,t)}if(0<Ep.length){qc(Ep[0],t);for(var n=1;n<Ep.length;n++){var r=Ep[n];r.blockedOn===t&&(r.blockedOn=null)}}for(lo!==null&&qc(lo,t),uo!==null&&qc(uo,t),co!==null&&qc(co,t),sd.forEach(e),ld.forEach(e),n=0;n<Ga.length;n++)r=Ga[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ga.length&&(n=Ga[0],n.blockedOn===null);)m$(n),n.blockedOn===null&&Ga.shift()}var ql=Aa.ReactCurrentBatchConfig,Xm=!0;function O8(t,e,n,r){var i=Ze,a=ql.transition;ql.transition=null;try{Ze=1,qS(t,e,n,r)}finally{Ze=i,ql.transition=a}}function N8(t,e,n,r){var i=Ze,a=ql.transition;ql.transition=null;try{Ze=4,qS(t,e,n,r)}finally{Ze=i,ql.transition=a}}function qS(t,e,n,r){if(Xm){var i=bw(t,e,n,r);if(i===null)Db(t,e,r,Qm,n),PP(t,r);else if(P8(i,t,e,n,r))r.stopPropagation();else if(PP(t,r),e&4&&-1<A8.indexOf(t)){for(;i!==null;){var a=Oh(i);if(a!==null&&f$(a),a=bw(t,e,n,r),a===null&&Db(t,e,r,Qm,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Db(t,e,r,null,n)}}var Qm=null;function bw(t,e,n,r){if(Qm=null,t=US(r),t=fs(t),t!==null)if(e=Js(t),e===null)t=null;else if(n=e.tag,n===13){if(t=r$(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qm=t,null}function g$(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(v8()){case BS:return 1;case s$:return 4;case Km:case b8:return 16;case l$:return 536870912;default:return 16}default:return 16}}var to=null,HS=null,ym=null;function y$(){if(ym)return ym;var t,e=HS,n=e.length,r,i="value"in to?to.value:to.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return ym=i.slice(t,1<r?1-r:void 0)}function vm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Tp(){return!0}function OP(){return!1}function vr(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Tp:OP,this.isPropagationStopped=OP,this}return Et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tp)},persist:function(){},isPersistent:Tp}),e}var Zu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},GS=vr(Zu),Ih=Et({},Zu,{view:0,detail:0}),C8=vr(Ih),Pb,Ib,Hc,A0=Et({},Ih,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:KS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hc&&(Hc&&t.type==="mousemove"?(Pb=t.screenX-Hc.screenX,Ib=t.screenY-Hc.screenY):Ib=Pb=0,Hc=t),Pb)},movementY:function(t){return"movementY"in t?t.movementY:Ib}}),NP=vr(A0),j8=Et({},A0,{dataTransfer:0}),R8=vr(j8),M8=Et({},Ih,{relatedTarget:0}),Ob=vr(M8),$8=Et({},Zu,{animationName:0,elapsedTime:0,pseudoElement:0}),D8=vr($8),L8=Et({},Zu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),V8=vr(L8),F8=Et({},Zu,{data:0}),CP=vr(F8),U8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=z8[t])?!!e[t]:!1}function KS(){return W8}var q8=Et({},Ih,{key:function(t){if(t.key){var e=U8[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?B8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:KS,charCode:function(t){return t.type==="keypress"?vm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),H8=vr(q8),G8=Et({},A0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jP=vr(G8),K8=Et({},Ih,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:KS}),Y8=vr(K8),X8=Et({},Zu,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q8=vr(X8),J8=Et({},A0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Z8=vr(J8),eB=[9,13,27,32],YS=da&&"CompositionEvent"in window,Mf=null;da&&"documentMode"in document&&(Mf=document.documentMode);var tB=da&&"TextEvent"in window&&!Mf,v$=da&&(!YS||Mf&&8<Mf&&11>=Mf),RP=" ",MP=!1;function b$(t,e){switch(t){case"keyup":return eB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function x$(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var El=!1;function nB(t,e){switch(t){case"compositionend":return x$(e);case"keypress":return e.which!==32?null:(MP=!0,RP);case"textInput":return t=e.data,t===RP&&MP?null:t;default:return null}}function rB(t,e){if(El)return t==="compositionend"||!YS&&b$(t,e)?(t=y$(),ym=HS=to=null,El=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return v$&&e.locale!=="ko"?null:e.data;default:return null}}var iB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $P(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!iB[t.type]:e==="textarea"}function w$(t,e,n,r){JM(r),e=Jm(e,"onChange"),0<e.length&&(n=new GS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var $f=null,cd=null;function aB(t){C$(t,0)}function P0(t){var e=Al(t);if(qM(e))return t}function oB(t,e){if(t==="change")return e}var _$=!1;if(da){var Nb;if(da){var Cb="oninput"in document;if(!Cb){var DP=document.createElement("div");DP.setAttribute("oninput","return;"),Cb=typeof DP.oninput=="function"}Nb=Cb}else Nb=!1;_$=Nb&&(!document.documentMode||9<document.documentMode)}function LP(){$f&&($f.detachEvent("onpropertychange",S$),cd=$f=null)}function S$(t){if(t.propertyName==="value"&&P0(cd)){var e=[];w$(e,cd,t,US(t)),n$(aB,e)}}function sB(t,e,n){t==="focusin"?(LP(),$f=e,cd=n,$f.attachEvent("onpropertychange",S$)):t==="focusout"&&LP()}function lB(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return P0(cd)}function uB(t,e){if(t==="click")return P0(e)}function cB(t,e){if(t==="input"||t==="change")return P0(e)}function fB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var si=typeof Object.is=="function"?Object.is:fB;function fd(t,e){if(si(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!tw.call(e,i)||!si(t[i],e[i]))return!1}return!0}function VP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function FP(t,e){var n=VP(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=VP(n)}}function E$(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?E$(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function T$(){for(var t=window,e=qm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qm(t.document)}return e}function XS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dB(t){var e=T$(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&E$(n.ownerDocument.documentElement,n)){if(r!==null&&XS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=FP(n,a);var o=FP(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hB=da&&"documentMode"in document&&11>=document.documentMode,Tl=null,xw=null,Df=null,ww=!1;function UP(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ww||Tl==null||Tl!==qm(r)||(r=Tl,"selectionStart"in r&&XS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Df&&fd(Df,r)||(Df=r,r=Jm(xw,"onSelect"),0<r.length&&(e=new GS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Tl)))}function kp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var kl={animationend:kp("Animation","AnimationEnd"),animationiteration:kp("Animation","AnimationIteration"),animationstart:kp("Animation","AnimationStart"),transitionend:kp("Transition","TransitionEnd")},jb={},k$={};da&&(k$=document.createElement("div").style,"AnimationEvent"in window||(delete kl.animationend.animation,delete kl.animationiteration.animation,delete kl.animationstart.animation),"TransitionEvent"in window||delete kl.transitionend.transition);function I0(t){if(jb[t])return jb[t];if(!kl[t])return t;var e=kl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in k$)return jb[t]=e[n];return t}var A$=I0("animationend"),P$=I0("animationiteration"),I$=I0("animationstart"),O$=I0("transitionend"),N$=new Map,BP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jo(t,e){N$.set(t,e),Qs(e,[t])}for(var Rb=0;Rb<BP.length;Rb++){var Mb=BP[Rb],pB=Mb.toLowerCase(),mB=Mb[0].toUpperCase()+Mb.slice(1);jo(pB,"on"+mB)}jo(A$,"onAnimationEnd");jo(P$,"onAnimationIteration");jo(I$,"onAnimationStart");jo("dblclick","onDoubleClick");jo("focusin","onFocus");jo("focusout","onBlur");jo(O$,"onTransitionEnd");su("onMouseEnter",["mouseout","mouseover"]);su("onMouseLeave",["mouseout","mouseover"]);su("onPointerEnter",["pointerout","pointerover"]);su("onPointerLeave",["pointerout","pointerover"]);Qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gB=new Set("cancel close invalid load scroll toggle".split(" ").concat(yf));function zP(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,p8(r,e,void 0,t),t.currentTarget=null}function C$(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;zP(i,s,u),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;zP(i,s,u),a=l}}}if(Gm)throw t=gw,Gm=!1,gw=null,t}function ft(t,e){var n=e[kw];n===void 0&&(n=e[kw]=new Set);var r=t+"__bubble";n.has(r)||(j$(e,t,2,!1),n.add(r))}function $b(t,e,n){var r=0;e&&(r|=4),j$(n,t,r,e)}var Ap="_reactListening"+Math.random().toString(36).slice(2);function dd(t){if(!t[Ap]){t[Ap]=!0,FM.forEach(function(n){n!=="selectionchange"&&(gB.has(n)||$b(n,!1,t),$b(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ap]||(e[Ap]=!0,$b("selectionchange",!1,e))}}function j$(t,e,n,r){switch(g$(e)){case 1:var i=O8;break;case 4:i=N8;break;default:i=qS}n=i.bind(null,e,n,t),i=void 0,!mw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Db(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=fs(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}n$(function(){var u=a,c=US(n),f=[];e:{var d=N$.get(t);if(d!==void 0){var m=GS,g=t;switch(t){case"keypress":if(vm(n)===0)break e;case"keydown":case"keyup":m=H8;break;case"focusin":g="focus",m=Ob;break;case"focusout":g="blur",m=Ob;break;case"beforeblur":case"afterblur":m=Ob;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=NP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=R8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Y8;break;case A$:case P$:case I$:m=D8;break;case O$:m=Q8;break;case"scroll":m=C8;break;case"wheel":m=Z8;break;case"copy":case"cut":case"paste":m=V8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=jP}var y=(e&4)!==0,b=!y&&t==="scroll",v=y?d!==null?d+"Capture":null:d;y=[];for(var x=u,w;x!==null;){w=x;var A=w.stateNode;if(w.tag===5&&A!==null&&(w=A,v!==null&&(A=od(x,v),A!=null&&y.push(hd(x,A,w)))),b)break;x=x.return}0<y.length&&(d=new m(d,g,null,n,c),f.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",d&&n!==hw&&(g=n.relatedTarget||n.fromElement)&&(fs(g)||g[ha]))break e;if((m||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?fs(g):null,g!==null&&(b=Js(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(y=NP,A="onMouseLeave",v="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=jP,A="onPointerLeave",v="onPointerEnter",x="pointer"),b=m==null?d:Al(m),w=g==null?d:Al(g),d=new y(A,x+"leave",m,n,c),d.target=b,d.relatedTarget=w,A=null,fs(c)===u&&(y=new y(v,x+"enter",g,n,c),y.target=w,y.relatedTarget=b,A=y),b=A,m&&g)t:{for(y=m,v=g,x=0,w=y;w;w=dl(w))x++;for(w=0,A=v;A;A=dl(A))w++;for(;0<x-w;)y=dl(y),x--;for(;0<w-x;)v=dl(v),w--;for(;x--;){if(y===v||v!==null&&y===v.alternate)break t;y=dl(y),v=dl(v)}y=null}else y=null;m!==null&&WP(f,d,m,y,!1),g!==null&&b!==null&&WP(f,b,g,y,!0)}}e:{if(d=u?Al(u):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var _=oB;else if($P(d))if(_$)_=cB;else{_=lB;var k=sB}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(_=uB);if(_&&(_=_(t,u))){w$(f,_,n,c);break e}k&&k(t,d,u),t==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&lw(d,"number",d.value)}switch(k=u?Al(u):window,t){case"focusin":($P(k)||k.contentEditable==="true")&&(Tl=k,xw=u,Df=null);break;case"focusout":Df=xw=Tl=null;break;case"mousedown":ww=!0;break;case"contextmenu":case"mouseup":case"dragend":ww=!1,UP(f,n,c);break;case"selectionchange":if(hB)break;case"keydown":case"keyup":UP(f,n,c)}var S;if(YS)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else El?b$(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(v$&&n.locale!=="ko"&&(El||E!=="onCompositionStart"?E==="onCompositionEnd"&&El&&(S=y$()):(to=c,HS="value"in to?to.value:to.textContent,El=!0)),k=Jm(u,E),0<k.length&&(E=new CP(E,t,null,n,c),f.push({event:E,listeners:k}),S?E.data=S:(S=x$(n),S!==null&&(E.data=S)))),(S=tB?nB(t,n):rB(t,n))&&(u=Jm(u,"onBeforeInput"),0<u.length&&(c=new CP("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=S))}C$(f,e)})}function hd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Jm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=od(t,n),a!=null&&r.unshift(hd(t,a,i)),a=od(t,e),a!=null&&r.push(hd(t,a,i))),t=t.return}return r}function dl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function WP(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=od(n,a),l!=null&&o.unshift(hd(n,l,s))):i||(l=od(n,a),l!=null&&o.push(hd(n,l,s)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var yB=/\r\n?/g,vB=/\u0000|\uFFFD/g;function qP(t){return(typeof t=="string"?t:""+t).replace(yB,`
`).replace(vB,"")}function Pp(t,e,n){if(e=qP(e),qP(t)!==e&&n)throw Error(oe(425))}function Zm(){}var _w=null,Sw=null;function Ew(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Tw=typeof setTimeout=="function"?setTimeout:void 0,bB=typeof clearTimeout=="function"?clearTimeout:void 0,HP=typeof Promise=="function"?Promise:void 0,xB=typeof queueMicrotask=="function"?queueMicrotask:typeof HP<"u"?function(t){return HP.resolve(null).then(t).catch(wB)}:Tw;function wB(t){setTimeout(function(){throw t})}function Lb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ud(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ud(e)}function fo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function GP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ec=Math.random().toString(36).slice(2),vi="__reactFiber$"+ec,pd="__reactProps$"+ec,ha="__reactContainer$"+ec,kw="__reactEvents$"+ec,_B="__reactListeners$"+ec,SB="__reactHandles$"+ec;function fs(t){var e=t[vi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ha]||n[vi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=GP(t);t!==null;){if(n=t[vi])return n;t=GP(t)}return e}t=n,n=t.parentNode}return null}function Oh(t){return t=t[vi]||t[ha],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Al(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(oe(33))}function O0(t){return t[pd]||null}var Aw=[],Pl=-1;function Ro(t){return{current:t}}function mt(t){0>Pl||(t.current=Aw[Pl],Aw[Pl]=null,Pl--)}function lt(t,e){Pl++,Aw[Pl]=t.current,t.current=e}var To={},Tn=Ro(To),Yn=Ro(!1),Os=To;function lu(t,e){var n=t.type.contextTypes;if(!n)return To;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Xn(t){return t=t.childContextTypes,t!=null}function eg(){mt(Yn),mt(Tn)}function KP(t,e,n){if(Tn.current!==To)throw Error(oe(168));lt(Tn,e),lt(Yn,n)}function R$(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(oe(108,s8(t)||"Unknown",i));return Et({},n,r)}function tg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||To,Os=Tn.current,lt(Tn,t),lt(Yn,Yn.current),!0}function YP(t,e,n){var r=t.stateNode;if(!r)throw Error(oe(169));n?(t=R$(t,e,Os),r.__reactInternalMemoizedMergedChildContext=t,mt(Yn),mt(Tn),lt(Tn,t)):mt(Yn),lt(Yn,n)}var Xi=null,N0=!1,Vb=!1;function M$(t){Xi===null?Xi=[t]:Xi.push(t)}function EB(t){N0=!0,M$(t)}function Mo(){if(!Vb&&Xi!==null){Vb=!0;var t=0,e=Ze;try{var n=Xi;for(Ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Xi=null,N0=!1}catch(i){throw Xi!==null&&(Xi=Xi.slice(t+1)),o$(BS,Mo),i}finally{Ze=e,Vb=!1}}return null}var Il=[],Ol=0,ng=null,rg=0,_r=[],Sr=0,Ns=null,ea=1,ta="";function rs(t,e){Il[Ol++]=rg,Il[Ol++]=ng,ng=t,rg=e}function $$(t,e,n){_r[Sr++]=ea,_r[Sr++]=ta,_r[Sr++]=Ns,Ns=t;var r=ea;t=ta;var i=32-ni(r)-1;r&=~(1<<i),n+=1;var a=32-ni(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ea=1<<32-ni(e)+i|n<<i|r,ta=a+t}else ea=1<<a|n<<i|r,ta=t}function QS(t){t.return!==null&&(rs(t,1),$$(t,1,0))}function JS(t){for(;t===ng;)ng=Il[--Ol],Il[Ol]=null,rg=Il[--Ol],Il[Ol]=null;for(;t===Ns;)Ns=_r[--Sr],_r[Sr]=null,ta=_r[--Sr],_r[Sr]=null,ea=_r[--Sr],_r[Sr]=null}var dr=null,ur=null,yt=!1,Gr=null;function D$(t,e){var n=Ar(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function XP(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dr=t,ur=fo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dr=t,ur=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ns!==null?{id:ea,overflow:ta}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ar(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dr=t,ur=null,!0):!1;default:return!1}}function Pw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Iw(t){if(yt){var e=ur;if(e){var n=e;if(!XP(t,e)){if(Pw(t))throw Error(oe(418));e=fo(n.nextSibling);var r=dr;e&&XP(t,e)?D$(r,n):(t.flags=t.flags&-4097|2,yt=!1,dr=t)}}else{if(Pw(t))throw Error(oe(418));t.flags=t.flags&-4097|2,yt=!1,dr=t}}}function QP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dr=t}function Ip(t){if(t!==dr)return!1;if(!yt)return QP(t),yt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ew(t.type,t.memoizedProps)),e&&(e=ur)){if(Pw(t))throw L$(),Error(oe(418));for(;e;)D$(t,e),e=fo(e.nextSibling)}if(QP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ur=fo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ur=null}}else ur=dr?fo(t.stateNode.nextSibling):null;return!0}function L$(){for(var t=ur;t;)t=fo(t.nextSibling)}function uu(){ur=dr=null,yt=!1}function ZS(t){Gr===null?Gr=[t]:Gr.push(t)}var TB=Aa.ReactCurrentBatchConfig;function Gc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(oe(309));var r=n.stateNode}if(!r)throw Error(oe(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(oe(284));if(!n._owner)throw Error(oe(290,t))}return t}function Op(t,e){throw t=Object.prototype.toString.call(e),Error(oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function JP(t){var e=t._init;return e(t._payload)}function V$(t){function e(v,x){if(t){var w=v.deletions;w===null?(v.deletions=[x],v.flags|=16):w.push(x)}}function n(v,x){if(!t)return null;for(;x!==null;)e(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(v,x){return v=go(v,x),v.index=0,v.sibling=null,v}function a(v,x,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<x?(v.flags|=2,x):w):(v.flags|=2,x)):(v.flags|=1048576,x)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function s(v,x,w,A){return x===null||x.tag!==6?(x=Hb(w,v.mode,A),x.return=v,x):(x=i(x,w),x.return=v,x)}function l(v,x,w,A){var _=w.type;return _===Sl?c(v,x,w.props.children,A,w.key):x!==null&&(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ba&&JP(_)===x.type)?(A=i(x,w.props),A.ref=Gc(v,x,w),A.return=v,A):(A=Tm(w.type,w.key,w.props,null,v.mode,A),A.ref=Gc(v,x,w),A.return=v,A)}function u(v,x,w,A){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=Gb(w,v.mode,A),x.return=v,x):(x=i(x,w.children||[]),x.return=v,x)}function c(v,x,w,A,_){return x===null||x.tag!==7?(x=_s(w,v.mode,A,_),x.return=v,x):(x=i(x,w),x.return=v,x)}function f(v,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Hb(""+x,v.mode,w),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case bp:return w=Tm(x.type,x.key,x.props,null,v.mode,w),w.ref=Gc(v,null,x),w.return=v,w;case _l:return x=Gb(x,v.mode,w),x.return=v,x;case Ba:var A=x._init;return f(v,A(x._payload),w)}if(mf(x)||Bc(x))return x=_s(x,v.mode,w,null),x.return=v,x;Op(v,x)}return null}function d(v,x,w,A){var _=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:s(v,x,""+w,A);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case bp:return w.key===_?l(v,x,w,A):null;case _l:return w.key===_?u(v,x,w,A):null;case Ba:return _=w._init,d(v,x,_(w._payload),A)}if(mf(w)||Bc(w))return _!==null?null:c(v,x,w,A,null);Op(v,w)}return null}function m(v,x,w,A,_){if(typeof A=="string"&&A!==""||typeof A=="number")return v=v.get(w)||null,s(x,v,""+A,_);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case bp:return v=v.get(A.key===null?w:A.key)||null,l(x,v,A,_);case _l:return v=v.get(A.key===null?w:A.key)||null,u(x,v,A,_);case Ba:var k=A._init;return m(v,x,w,k(A._payload),_)}if(mf(A)||Bc(A))return v=v.get(w)||null,c(x,v,A,_,null);Op(x,A)}return null}function g(v,x,w,A){for(var _=null,k=null,S=x,E=x=0,P=null;S!==null&&E<w.length;E++){S.index>E?(P=S,S=null):P=S.sibling;var N=d(v,S,w[E],A);if(N===null){S===null&&(S=P);break}t&&S&&N.alternate===null&&e(v,S),x=a(N,x,E),k===null?_=N:k.sibling=N,k=N,S=P}if(E===w.length)return n(v,S),yt&&rs(v,E),_;if(S===null){for(;E<w.length;E++)S=f(v,w[E],A),S!==null&&(x=a(S,x,E),k===null?_=S:k.sibling=S,k=S);return yt&&rs(v,E),_}for(S=r(v,S);E<w.length;E++)P=m(S,v,E,w[E],A),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?E:P.key),x=a(P,x,E),k===null?_=P:k.sibling=P,k=P);return t&&S.forEach(function(O){return e(v,O)}),yt&&rs(v,E),_}function y(v,x,w,A){var _=Bc(w);if(typeof _!="function")throw Error(oe(150));if(w=_.call(w),w==null)throw Error(oe(151));for(var k=_=null,S=x,E=x=0,P=null,N=w.next();S!==null&&!N.done;E++,N=w.next()){S.index>E?(P=S,S=null):P=S.sibling;var O=d(v,S,N.value,A);if(O===null){S===null&&(S=P);break}t&&S&&O.alternate===null&&e(v,S),x=a(O,x,E),k===null?_=O:k.sibling=O,k=O,S=P}if(N.done)return n(v,S),yt&&rs(v,E),_;if(S===null){for(;!N.done;E++,N=w.next())N=f(v,N.value,A),N!==null&&(x=a(N,x,E),k===null?_=N:k.sibling=N,k=N);return yt&&rs(v,E),_}for(S=r(v,S);!N.done;E++,N=w.next())N=m(S,v,E,N.value,A),N!==null&&(t&&N.alternate!==null&&S.delete(N.key===null?E:N.key),x=a(N,x,E),k===null?_=N:k.sibling=N,k=N);return t&&S.forEach(function(C){return e(v,C)}),yt&&rs(v,E),_}function b(v,x,w,A){if(typeof w=="object"&&w!==null&&w.type===Sl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case bp:e:{for(var _=w.key,k=x;k!==null;){if(k.key===_){if(_=w.type,_===Sl){if(k.tag===7){n(v,k.sibling),x=i(k,w.props.children),x.return=v,v=x;break e}}else if(k.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ba&&JP(_)===k.type){n(v,k.sibling),x=i(k,w.props),x.ref=Gc(v,k,w),x.return=v,v=x;break e}n(v,k);break}else e(v,k);k=k.sibling}w.type===Sl?(x=_s(w.props.children,v.mode,A,w.key),x.return=v,v=x):(A=Tm(w.type,w.key,w.props,null,v.mode,A),A.ref=Gc(v,x,w),A.return=v,v=A)}return o(v);case _l:e:{for(k=w.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(v,x.sibling),x=i(x,w.children||[]),x.return=v,v=x;break e}else{n(v,x);break}else e(v,x);x=x.sibling}x=Gb(w,v.mode,A),x.return=v,v=x}return o(v);case Ba:return k=w._init,b(v,x,k(w._payload),A)}if(mf(w))return g(v,x,w,A);if(Bc(w))return y(v,x,w,A);Op(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(v,x.sibling),x=i(x,w),x.return=v,v=x):(n(v,x),x=Hb(w,v.mode,A),x.return=v,v=x),o(v)):n(v,x)}return b}var cu=V$(!0),F$=V$(!1),ig=Ro(null),ag=null,Nl=null,eE=null;function tE(){eE=Nl=ag=null}function nE(t){var e=ig.current;mt(ig),t._currentValue=e}function Ow(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Hl(t,e){ag=t,eE=Nl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gn=!0),t.firstContext=null)}function jr(t){var e=t._currentValue;if(eE!==t)if(t={context:t,memoizedValue:e,next:null},Nl===null){if(ag===null)throw Error(oe(308));Nl=t,ag.dependencies={lanes:0,firstContext:t}}else Nl=Nl.next=t;return e}var ds=null;function rE(t){ds===null?ds=[t]:ds.push(t)}function U$(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,rE(e)):(n.next=i.next,i.next=n),e.interleaved=n,pa(t,r)}function pa(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var za=!1;function iE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function B$(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function la(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ho(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ke&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,pa(t,n)}return i=r.interleaved,i===null?(e.next=e,rE(r)):(e.next=i.next,i.next=e),r.interleaved=e,pa(t,n)}function bm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zS(t,n)}}function ZP(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function og(t,e,n,r){var i=t.updateQueue;za=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,c=u=l=null,s=a;do{var d=s.lane,m=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,y=s;switch(d=e,m=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(m,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,d=typeof g=="function"?g.call(m,f,d):g,d==null)break e;f=Et({},f,d);break e;case 2:za=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else m={eventTime:m,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,o|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);js|=o,t.lanes=o,t.memoizedState=f}}function e2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(oe(191,i));i.call(r)}}}var Nh={},Ti=Ro(Nh),md=Ro(Nh),gd=Ro(Nh);function hs(t){if(t===Nh)throw Error(oe(174));return t}function aE(t,e){switch(lt(gd,e),lt(md,t),lt(Ti,Nh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=cw(e,t)}mt(Ti),lt(Ti,e)}function fu(){mt(Ti),mt(md),mt(gd)}function z$(t){hs(gd.current);var e=hs(Ti.current),n=cw(e,t.type);e!==n&&(lt(md,t),lt(Ti,n))}function oE(t){md.current===t&&(mt(Ti),mt(md))}var xt=Ro(0);function sg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fb=[];function sE(){for(var t=0;t<Fb.length;t++)Fb[t]._workInProgressVersionPrimary=null;Fb.length=0}var xm=Aa.ReactCurrentDispatcher,Ub=Aa.ReactCurrentBatchConfig,Cs=0,St=null,Ht=null,en=null,lg=!1,Lf=!1,yd=0,kB=0;function mn(){throw Error(oe(321))}function lE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!si(t[n],e[n]))return!1;return!0}function uE(t,e,n,r,i,a){if(Cs=a,St=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xm.current=t===null||t.memoizedState===null?OB:NB,t=n(r,i),Lf){a=0;do{if(Lf=!1,yd=0,25<=a)throw Error(oe(301));a+=1,en=Ht=null,e.updateQueue=null,xm.current=CB,t=n(r,i)}while(Lf)}if(xm.current=ug,e=Ht!==null&&Ht.next!==null,Cs=0,en=Ht=St=null,lg=!1,e)throw Error(oe(300));return t}function cE(){var t=yd!==0;return yd=0,t}function mi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?St.memoizedState=en=t:en=en.next=t,en}function Rr(){if(Ht===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Ht.next;var e=en===null?St.memoizedState:en.next;if(e!==null)en=e,Ht=t;else{if(t===null)throw Error(oe(310));Ht=t,t={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},en===null?St.memoizedState=en=t:en=en.next=t}return en}function vd(t,e){return typeof e=="function"?e(t):e}function Bb(t){var e=Rr(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=Ht,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((Cs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,St.lanes|=c,js|=c}u=u.next}while(u!==null&&u!==a);l===null?o=r:l.next=s,si(r,e.memoizedState)||(Gn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,St.lanes|=a,js|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function zb(t){var e=Rr(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);si(a,e.memoizedState)||(Gn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function W$(){}function q$(t,e){var n=St,r=Rr(),i=e(),a=!si(r.memoizedState,i);if(a&&(r.memoizedState=i,Gn=!0),r=r.queue,fE(K$.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||en!==null&&en.memoizedState.tag&1){if(n.flags|=2048,bd(9,G$.bind(null,n,r,i,e),void 0,null),tn===null)throw Error(oe(349));Cs&30||H$(n,e,i)}return i}function H$(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=St.updateQueue,e===null?(e={lastEffect:null,stores:null},St.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function G$(t,e,n,r){e.value=n,e.getSnapshot=r,Y$(e)&&X$(t)}function K$(t,e,n){return n(function(){Y$(e)&&X$(t)})}function Y$(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!si(t,n)}catch{return!0}}function X$(t){var e=pa(t,1);e!==null&&ri(e,t,1,-1)}function t2(t){var e=mi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vd,lastRenderedState:t},e.queue=t,t=t.dispatch=IB.bind(null,St,t),[e.memoizedState,t]}function bd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=St.updateQueue,e===null?(e={lastEffect:null,stores:null},St.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Q$(){return Rr().memoizedState}function wm(t,e,n,r){var i=mi();St.flags|=t,i.memoizedState=bd(1|e,n,void 0,r===void 0?null:r)}function C0(t,e,n,r){var i=Rr();r=r===void 0?null:r;var a=void 0;if(Ht!==null){var o=Ht.memoizedState;if(a=o.destroy,r!==null&&lE(r,o.deps)){i.memoizedState=bd(e,n,a,r);return}}St.flags|=t,i.memoizedState=bd(1|e,n,a,r)}function n2(t,e){return wm(8390656,8,t,e)}function fE(t,e){return C0(2048,8,t,e)}function J$(t,e){return C0(4,2,t,e)}function Z$(t,e){return C0(4,4,t,e)}function eD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tD(t,e,n){return n=n!=null?n.concat([t]):null,C0(4,4,eD.bind(null,e,t),n)}function dE(){}function nD(t,e){var n=Rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function rD(t,e){var n=Rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function iD(t,e,n){return Cs&21?(si(n,e)||(n=u$(),St.lanes|=n,js|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gn=!0),t.memoizedState=n)}function AB(t,e){var n=Ze;Ze=n!==0&&4>n?n:4,t(!0);var r=Ub.transition;Ub.transition={};try{t(!1),e()}finally{Ze=n,Ub.transition=r}}function aD(){return Rr().memoizedState}function PB(t,e,n){var r=mo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oD(t))sD(e,n);else if(n=U$(t,e,n,r),n!==null){var i=$n();ri(n,t,r,i),lD(n,e,r)}}function IB(t,e,n){var r=mo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oD(t))sD(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,si(s,o)){var l=e.interleaved;l===null?(i.next=i,rE(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=U$(t,e,i,r),n!==null&&(i=$n(),ri(n,t,r,i),lD(n,e,r))}}function oD(t){var e=t.alternate;return t===St||e!==null&&e===St}function sD(t,e){Lf=lg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function lD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zS(t,n)}}var ug={readContext:jr,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useInsertionEffect:mn,useLayoutEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useMutableSource:mn,useSyncExternalStore:mn,useId:mn,unstable_isNewReconciler:!1},OB={readContext:jr,useCallback:function(t,e){return mi().memoizedState=[t,e===void 0?null:e],t},useContext:jr,useEffect:n2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wm(4194308,4,eD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wm(4194308,4,t,e)},useInsertionEffect:function(t,e){return wm(4,2,t,e)},useMemo:function(t,e){var n=mi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=mi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=PB.bind(null,St,t),[r.memoizedState,t]},useRef:function(t){var e=mi();return t={current:t},e.memoizedState=t},useState:t2,useDebugValue:dE,useDeferredValue:function(t){return mi().memoizedState=t},useTransition:function(){var t=t2(!1),e=t[0];return t=AB.bind(null,t[1]),mi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=St,i=mi();if(yt){if(n===void 0)throw Error(oe(407));n=n()}else{if(n=e(),tn===null)throw Error(oe(349));Cs&30||H$(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,n2(K$.bind(null,r,a,t),[t]),r.flags|=2048,bd(9,G$.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=mi(),e=tn.identifierPrefix;if(yt){var n=ta,r=ea;n=(r&~(1<<32-ni(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=yd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kB++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},NB={readContext:jr,useCallback:nD,useContext:jr,useEffect:fE,useImperativeHandle:tD,useInsertionEffect:J$,useLayoutEffect:Z$,useMemo:rD,useReducer:Bb,useRef:Q$,useState:function(){return Bb(vd)},useDebugValue:dE,useDeferredValue:function(t){var e=Rr();return iD(e,Ht.memoizedState,t)},useTransition:function(){var t=Bb(vd)[0],e=Rr().memoizedState;return[t,e]},useMutableSource:W$,useSyncExternalStore:q$,useId:aD,unstable_isNewReconciler:!1},CB={readContext:jr,useCallback:nD,useContext:jr,useEffect:fE,useImperativeHandle:tD,useInsertionEffect:J$,useLayoutEffect:Z$,useMemo:rD,useReducer:zb,useRef:Q$,useState:function(){return zb(vd)},useDebugValue:dE,useDeferredValue:function(t){var e=Rr();return Ht===null?e.memoizedState=t:iD(e,Ht.memoizedState,t)},useTransition:function(){var t=zb(vd)[0],e=Rr().memoizedState;return[t,e]},useMutableSource:W$,useSyncExternalStore:q$,useId:aD,unstable_isNewReconciler:!1};function zr(t,e){if(t&&t.defaultProps){e=Et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Nw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var j0={isMounted:function(t){return(t=t._reactInternals)?Js(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=$n(),i=mo(t),a=la(r,i);a.payload=e,n!=null&&(a.callback=n),e=ho(t,a,i),e!==null&&(ri(e,t,i,r),bm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=$n(),i=mo(t),a=la(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=ho(t,a,i),e!==null&&(ri(e,t,i,r),bm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$n(),r=mo(t),i=la(n,r);i.tag=2,e!=null&&(i.callback=e),e=ho(t,i,r),e!==null&&(ri(e,t,r,n),bm(e,t,r))}};function r2(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!fd(n,r)||!fd(i,a):!0}function uD(t,e,n){var r=!1,i=To,a=e.contextType;return typeof a=="object"&&a!==null?a=jr(a):(i=Xn(e)?Os:Tn.current,r=e.contextTypes,a=(r=r!=null)?lu(t,i):To),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=j0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function i2(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&j0.enqueueReplaceState(e,e.state,null)}function Cw(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},iE(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=jr(a):(a=Xn(e)?Os:Tn.current,i.context=lu(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Nw(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&j0.enqueueReplaceState(i,i.state,null),og(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function du(t,e){try{var n="",r=e;do n+=o8(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Wb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jw(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jB=typeof WeakMap=="function"?WeakMap:Map;function cD(t,e,n){n=la(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){fg||(fg=!0,zw=r),jw(t,e)},n}function fD(t,e,n){n=la(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){jw(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){jw(t,e),typeof r!="function"&&(po===null?po=new Set([this]):po.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function a2(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new jB;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=GB.bind(null,t,e,n),e.then(t,t))}function o2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function s2(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=la(-1,1),e.tag=2,ho(n,e,1))),n.lanes|=1),t)}var RB=Aa.ReactCurrentOwner,Gn=!1;function Pn(t,e,n,r){e.child=t===null?F$(e,null,n,r):cu(e,t.child,n,r)}function l2(t,e,n,r,i){n=n.render;var a=e.ref;return Hl(e,i),r=uE(t,e,n,r,a,i),n=cE(),t!==null&&!Gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ma(t,e,i)):(yt&&n&&QS(e),e.flags|=1,Pn(t,e,r,i),e.child)}function u2(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!xE(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,dD(t,e,a,r,i)):(t=Tm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:fd,n(o,r)&&t.ref===e.ref)return ma(t,e,i)}return e.flags|=1,t=go(a,r),t.ref=e.ref,t.return=e,e.child=t}function dD(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(fd(a,r)&&t.ref===e.ref)if(Gn=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Gn=!0);else return e.lanes=t.lanes,ma(t,e,i)}return Rw(t,e,n,r,i)}function hD(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(jl,ir),ir|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,lt(jl,ir),ir|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,lt(jl,ir),ir|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,lt(jl,ir),ir|=r;return Pn(t,e,i,n),e.child}function pD(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Rw(t,e,n,r,i){var a=Xn(n)?Os:Tn.current;return a=lu(e,a),Hl(e,i),n=uE(t,e,n,r,a,i),r=cE(),t!==null&&!Gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ma(t,e,i)):(yt&&r&&QS(e),e.flags|=1,Pn(t,e,n,i),e.child)}function c2(t,e,n,r,i){if(Xn(n)){var a=!0;tg(e)}else a=!1;if(Hl(e,i),e.stateNode===null)_m(t,e),uD(e,n,r),Cw(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=jr(u):(u=Xn(n)?Os:Tn.current,u=lu(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==u)&&i2(e,o,r,u),za=!1;var d=e.memoizedState;o.state=d,og(e,r,o,i),l=e.memoizedState,s!==r||d!==l||Yn.current||za?(typeof c=="function"&&(Nw(e,n,c,r),l=e.memoizedState),(s=za||r2(e,n,s,r,d,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,B$(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:zr(e.type,s),o.props=u,f=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=jr(l):(l=Xn(n)?Os:Tn.current,l=lu(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||d!==l)&&i2(e,o,r,l),za=!1,d=e.memoizedState,o.state=d,og(e,r,o,i);var g=e.memoizedState;s!==f||d!==g||Yn.current||za?(typeof m=="function"&&(Nw(e,n,m,r),g=e.memoizedState),(u=za||r2(e,n,u,r,d,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Mw(t,e,n,r,a,i)}function Mw(t,e,n,r,i,a){pD(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&YP(e,n,!1),ma(t,e,a);r=e.stateNode,RB.current=e;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=cu(e,t.child,null,a),e.child=cu(e,null,s,a)):Pn(t,e,s,a),e.memoizedState=r.state,i&&YP(e,n,!0),e.child}function mD(t){var e=t.stateNode;e.pendingContext?KP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&KP(t,e.context,!1),aE(t,e.containerInfo)}function f2(t,e,n,r,i){return uu(),ZS(i),e.flags|=256,Pn(t,e,n,r),e.child}var $w={dehydrated:null,treeContext:null,retryLane:0};function Dw(t){return{baseLanes:t,cachePool:null,transitions:null}}function gD(t,e,n){var r=e.pendingProps,i=xt.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),lt(xt,i&1),t===null)return Iw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=$0(o,r,0,null),t=_s(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Dw(n),e.memoizedState=$w,t):hE(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return MB(t,e,o,r,s,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=go(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=go(s,a):(a=_s(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?Dw(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=$w,r}return a=t.child,t=a.sibling,r=go(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function hE(t,e){return e=$0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Np(t,e,n,r){return r!==null&&ZS(r),cu(e,t.child,null,n),t=hE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function MB(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=Wb(Error(oe(422))),Np(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=$0({mode:"visible",children:r.children},i,0,null),a=_s(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&cu(e,t.child,null,o),e.child.memoizedState=Dw(o),e.memoizedState=$w,a);if(!(e.mode&1))return Np(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(oe(419)),r=Wb(a,r,void 0),Np(t,e,o,r)}if(s=(o&t.childLanes)!==0,Gn||s){if(r=tn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,pa(t,i),ri(r,t,i,-1))}return bE(),r=Wb(Error(oe(421))),Np(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=KB.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,ur=fo(i.nextSibling),dr=e,yt=!0,Gr=null,t!==null&&(_r[Sr++]=ea,_r[Sr++]=ta,_r[Sr++]=Ns,ea=t.id,ta=t.overflow,Ns=e),e=hE(e,r.children),e.flags|=4096,e)}function d2(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ow(t.return,e,n)}function qb(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function yD(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Pn(t,e,r.children,n),r=xt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&d2(t,n,e);else if(t.tag===19)d2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(lt(xt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&sg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),qb(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&sg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}qb(e,!0,n,null,a);break;case"together":qb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _m(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ma(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),js|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(oe(153));if(e.child!==null){for(t=e.child,n=go(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=go(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $B(t,e,n){switch(e.tag){case 3:mD(e),uu();break;case 5:z$(e);break;case 1:Xn(e.type)&&tg(e);break;case 4:aE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;lt(ig,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(lt(xt,xt.current&1),e.flags|=128,null):n&e.child.childLanes?gD(t,e,n):(lt(xt,xt.current&1),t=ma(t,e,n),t!==null?t.sibling:null);lt(xt,xt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return yD(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(xt,xt.current),r)break;return null;case 22:case 23:return e.lanes=0,hD(t,e,n)}return ma(t,e,n)}var vD,Lw,bD,xD;vD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Lw=function(){};bD=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,hs(Ti.current);var a=null;switch(n){case"input":i=ow(t,i),r=ow(t,r),a=[];break;case"select":i=Et({},i,{value:void 0}),r=Et({},r,{value:void 0}),a=[];break;case"textarea":i=uw(t,i),r=uw(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zm)}fw(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(id.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(id.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ft("scroll",t),a||s===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};xD=function(t,e,n,r){n!==r&&(e.flags|=4)};function Kc(t,e){if(!yt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function gn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function DB(t,e,n){var r=e.pendingProps;switch(JS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn(e),null;case 1:return Xn(e.type)&&eg(),gn(e),null;case 3:return r=e.stateNode,fu(),mt(Yn),mt(Tn),sE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ip(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gr!==null&&(Hw(Gr),Gr=null))),Lw(t,e),gn(e),null;case 5:oE(e);var i=hs(gd.current);if(n=e.type,t!==null&&e.stateNode!=null)bD(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(oe(166));return gn(e),null}if(t=hs(Ti.current),Ip(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[vi]=e,r[pd]=a,t=(e.mode&1)!==0,n){case"dialog":ft("cancel",r),ft("close",r);break;case"iframe":case"object":case"embed":ft("load",r);break;case"video":case"audio":for(i=0;i<yf.length;i++)ft(yf[i],r);break;case"source":ft("error",r);break;case"img":case"image":case"link":ft("error",r),ft("load",r);break;case"details":ft("toggle",r);break;case"input":wP(r,a),ft("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ft("invalid",r);break;case"textarea":SP(r,a),ft("invalid",r)}fw(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&Pp(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Pp(r.textContent,s,t),i=["children",""+s]):id.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&ft("scroll",r)}switch(n){case"input":xp(r),_P(r,a,!0);break;case"textarea":xp(r),EP(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Zm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=KM(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[vi]=e,t[pd]=r,vD(t,e,!1,!1),e.stateNode=t;e:{switch(o=dw(n,r),n){case"dialog":ft("cancel",t),ft("close",t),i=r;break;case"iframe":case"object":case"embed":ft("load",t),i=r;break;case"video":case"audio":for(i=0;i<yf.length;i++)ft(yf[i],t);i=r;break;case"source":ft("error",t),i=r;break;case"img":case"image":case"link":ft("error",t),ft("load",t),i=r;break;case"details":ft("toggle",t),i=r;break;case"input":wP(t,r),i=ow(t,r),ft("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Et({},r,{value:void 0}),ft("invalid",t);break;case"textarea":SP(t,r),i=uw(t,r),ft("invalid",t);break;default:i=r}fw(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?QM(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&YM(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ad(t,l):typeof l=="number"&&ad(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(id.hasOwnProperty(a)?l!=null&&a==="onScroll"&&ft("scroll",t):l!=null&&DS(t,a,l,o))}switch(n){case"input":xp(t),_P(t,r,!1);break;case"textarea":xp(t),EP(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Eo(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Bl(t,!!r.multiple,a,!1):r.defaultValue!=null&&Bl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Zm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gn(e),null;case 6:if(t&&e.stateNode!=null)xD(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(oe(166));if(n=hs(gd.current),hs(Ti.current),Ip(e)){if(r=e.stateNode,n=e.memoizedProps,r[vi]=e,(a=r.nodeValue!==n)&&(t=dr,t!==null))switch(t.tag){case 3:Pp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pp(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vi]=e,e.stateNode=r}return gn(e),null;case 13:if(mt(xt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(yt&&ur!==null&&e.mode&1&&!(e.flags&128))L$(),uu(),e.flags|=98560,a=!1;else if(a=Ip(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(oe(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(oe(317));a[vi]=e}else uu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gn(e),a=!1}else Gr!==null&&(Hw(Gr),Gr=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xt.current&1?Gt===0&&(Gt=3):bE())),e.updateQueue!==null&&(e.flags|=4),gn(e),null);case 4:return fu(),Lw(t,e),t===null&&dd(e.stateNode.containerInfo),gn(e),null;case 10:return nE(e.type._context),gn(e),null;case 17:return Xn(e.type)&&eg(),gn(e),null;case 19:if(mt(xt),a=e.memoizedState,a===null)return gn(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)Kc(a,!1);else{if(Gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=sg(t),o!==null){for(e.flags|=128,Kc(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return lt(xt,xt.current&1|2),e.child}t=t.sibling}a.tail!==null&&jt()>hu&&(e.flags|=128,r=!0,Kc(a,!1),e.lanes=4194304)}else{if(!r)if(t=sg(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Kc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!yt)return gn(e),null}else 2*jt()-a.renderingStartTime>hu&&n!==1073741824&&(e.flags|=128,r=!0,Kc(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=jt(),e.sibling=null,n=xt.current,lt(xt,r?n&1|2:n&1),e):(gn(e),null);case 22:case 23:return vE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ir&1073741824&&(gn(e),e.subtreeFlags&6&&(e.flags|=8192)):gn(e),null;case 24:return null;case 25:return null}throw Error(oe(156,e.tag))}function LB(t,e){switch(JS(e),e.tag){case 1:return Xn(e.type)&&eg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fu(),mt(Yn),mt(Tn),sE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return oE(e),null;case 13:if(mt(xt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(oe(340));uu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mt(xt),null;case 4:return fu(),null;case 10:return nE(e.type._context),null;case 22:case 23:return vE(),null;case 24:return null;default:return null}}var Cp=!1,xn=!1,VB=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Cl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pt(t,e,r)}else n.current=null}function Vw(t,e,n){try{n()}catch(r){Pt(t,e,r)}}var h2=!1;function FB(t,e){if(_w=Xm,t=T$(),XS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==a||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===t)break t;if(d===n&&++u===i&&(s=o),d===a&&++c===r&&(l=o),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sw={focusedElem:t,selectionRange:n},Xm=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,b=g.memoizedState,v=e.stateNode,x=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:zr(e.type,y),b);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(A){Pt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return g=h2,h2=!1,g}function Vf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Vw(e,n,a)}i=i.next}while(i!==r)}}function R0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Fw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function wD(t){var e=t.alternate;e!==null&&(t.alternate=null,wD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vi],delete e[pd],delete e[kw],delete e[_B],delete e[SB])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _D(t){return t.tag===5||t.tag===3||t.tag===4}function p2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_D(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zm));else if(r!==4&&(t=t.child,t!==null))for(Uw(t,e,n),t=t.sibling;t!==null;)Uw(t,e,n),t=t.sibling}function Bw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Bw(t,e,n),t=t.sibling;t!==null;)Bw(t,e,n),t=t.sibling}var on=null,Wr=!1;function Da(t,e,n){for(n=n.child;n!==null;)SD(t,e,n),n=n.sibling}function SD(t,e,n){if(Ei&&typeof Ei.onCommitFiberUnmount=="function")try{Ei.onCommitFiberUnmount(k0,n)}catch{}switch(n.tag){case 5:xn||Cl(n,e);case 6:var r=on,i=Wr;on=null,Da(t,e,n),on=r,Wr=i,on!==null&&(Wr?(t=on,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):on.removeChild(n.stateNode));break;case 18:on!==null&&(Wr?(t=on,n=n.stateNode,t.nodeType===8?Lb(t.parentNode,n):t.nodeType===1&&Lb(t,n),ud(t)):Lb(on,n.stateNode));break;case 4:r=on,i=Wr,on=n.stateNode.containerInfo,Wr=!0,Da(t,e,n),on=r,Wr=i;break;case 0:case 11:case 14:case 15:if(!xn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Vw(n,e,o),i=i.next}while(i!==r)}Da(t,e,n);break;case 1:if(!xn&&(Cl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Pt(n,e,s)}Da(t,e,n);break;case 21:Da(t,e,n);break;case 22:n.mode&1?(xn=(r=xn)||n.memoizedState!==null,Da(t,e,n),xn=r):Da(t,e,n);break;default:Da(t,e,n)}}function m2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new VB),e.forEach(function(r){var i=YB.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ur(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:on=s.stateNode,Wr=!1;break e;case 3:on=s.stateNode.containerInfo,Wr=!0;break e;case 4:on=s.stateNode.containerInfo,Wr=!0;break e}s=s.return}if(on===null)throw Error(oe(160));SD(a,o,i),on=null,Wr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Pt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ED(e,t),e=e.sibling}function ED(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ur(e,t),pi(t),r&4){try{Vf(3,t,t.return),R0(3,t)}catch(y){Pt(t,t.return,y)}try{Vf(5,t,t.return)}catch(y){Pt(t,t.return,y)}}break;case 1:Ur(e,t),pi(t),r&512&&n!==null&&Cl(n,n.return);break;case 5:if(Ur(e,t),pi(t),r&512&&n!==null&&Cl(n,n.return),t.flags&32){var i=t.stateNode;try{ad(i,"")}catch(y){Pt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&HM(i,a),dw(s,o);var u=dw(s,a);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?QM(i,f):c==="dangerouslySetInnerHTML"?YM(i,f):c==="children"?ad(i,f):DS(i,c,f,u)}switch(s){case"input":sw(i,a);break;case"textarea":GM(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Bl(i,!!a.multiple,m,!1):d!==!!a.multiple&&(a.defaultValue!=null?Bl(i,!!a.multiple,a.defaultValue,!0):Bl(i,!!a.multiple,a.multiple?[]:"",!1))}i[pd]=a}catch(y){Pt(t,t.return,y)}}break;case 6:if(Ur(e,t),pi(t),r&4){if(t.stateNode===null)throw Error(oe(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(y){Pt(t,t.return,y)}}break;case 3:if(Ur(e,t),pi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ud(e.containerInfo)}catch(y){Pt(t,t.return,y)}break;case 4:Ur(e,t),pi(t);break;case 13:Ur(e,t),pi(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(gE=jt())),r&4&&m2(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(xn=(u=xn)||c,Ur(e,t),xn=u):Ur(e,t),pi(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ge=t,c=t.child;c!==null;){for(f=ge=c;ge!==null;){switch(d=ge,m=d.child,d.tag){case 0:case 11:case 14:case 15:Vf(4,d,d.return);break;case 1:Cl(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Pt(r,n,y)}}break;case 5:Cl(d,d.return);break;case 22:if(d.memoizedState!==null){y2(f);continue}}m!==null?(m.return=d,ge=m):y2(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=XM("display",o))}catch(y){Pt(t,t.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Pt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ur(e,t),pi(t),r&4&&m2(t);break;case 21:break;default:Ur(e,t),pi(t)}}function pi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_D(n)){var r=n;break e}n=n.return}throw Error(oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ad(i,""),r.flags&=-33);var a=p2(t);Bw(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=p2(t);Uw(t,s,o);break;default:throw Error(oe(161))}}catch(l){Pt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function UB(t,e,n){ge=t,TD(t)}function TD(t,e,n){for(var r=(t.mode&1)!==0;ge!==null;){var i=ge,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Cp;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||xn;s=Cp;var u=xn;if(Cp=o,(xn=l)&&!u)for(ge=i;ge!==null;)o=ge,l=o.child,o.tag===22&&o.memoizedState!==null?v2(i):l!==null?(l.return=o,ge=l):v2(i);for(;a!==null;)ge=a,TD(a),a=a.sibling;ge=i,Cp=s,xn=u}g2(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ge=a):g2(t)}}function g2(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xn||R0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:zr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&e2(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}e2(e,o,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ud(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}xn||e.flags&512&&Fw(e)}catch(d){Pt(e,e.return,d)}}if(e===t){ge=null;break}if(n=e.sibling,n!==null){n.return=e.return,ge=n;break}ge=e.return}}function y2(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ge=n;break}ge=e.return}}function v2(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{R0(4,e)}catch(l){Pt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Pt(e,i,l)}}var a=e.return;try{Fw(e)}catch(l){Pt(e,a,l)}break;case 5:var o=e.return;try{Fw(e)}catch(l){Pt(e,o,l)}}}catch(l){Pt(e,e.return,l)}if(e===t){ge=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ge=s;break}ge=e.return}}var BB=Math.ceil,cg=Aa.ReactCurrentDispatcher,pE=Aa.ReactCurrentOwner,Or=Aa.ReactCurrentBatchConfig,Ke=0,tn=null,Lt=null,fn=0,ir=0,jl=Ro(0),Gt=0,xd=null,js=0,M0=0,mE=0,Ff=null,Wn=null,gE=0,hu=1/0,Yi=null,fg=!1,zw=null,po=null,jp=!1,no=null,dg=0,Uf=0,Ww=null,Sm=-1,Em=0;function $n(){return Ke&6?jt():Sm!==-1?Sm:Sm=jt()}function mo(t){return t.mode&1?Ke&2&&fn!==0?fn&-fn:TB.transition!==null?(Em===0&&(Em=u$()),Em):(t=Ze,t!==0||(t=window.event,t=t===void 0?16:g$(t.type)),t):1}function ri(t,e,n,r){if(50<Uf)throw Uf=0,Ww=null,Error(oe(185));Ph(t,n,r),(!(Ke&2)||t!==tn)&&(t===tn&&(!(Ke&2)&&(M0|=n),Gt===4&&Ka(t,fn)),Qn(t,r),n===1&&Ke===0&&!(e.mode&1)&&(hu=jt()+500,N0&&Mo()))}function Qn(t,e){var n=t.callbackNode;T8(t,e);var r=Ym(t,t===tn?fn:0);if(r===0)n!==null&&AP(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&AP(n),e===1)t.tag===0?EB(b2.bind(null,t)):M$(b2.bind(null,t)),xB(function(){!(Ke&6)&&Mo()}),n=null;else{switch(c$(r)){case 1:n=BS;break;case 4:n=s$;break;case 16:n=Km;break;case 536870912:n=l$;break;default:n=Km}n=jD(n,kD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function kD(t,e){if(Sm=-1,Em=0,Ke&6)throw Error(oe(327));var n=t.callbackNode;if(Gl()&&t.callbackNode!==n)return null;var r=Ym(t,t===tn?fn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=hg(t,r);else{e=r;var i=Ke;Ke|=2;var a=PD();(tn!==t||fn!==e)&&(Yi=null,hu=jt()+500,ws(t,e));do try{qB();break}catch(s){AD(t,s)}while(!0);tE(),cg.current=a,Ke=i,Lt!==null?e=0:(tn=null,fn=0,e=Gt)}if(e!==0){if(e===2&&(i=yw(t),i!==0&&(r=i,e=qw(t,i))),e===1)throw n=xd,ws(t,0),Ka(t,r),Qn(t,jt()),n;if(e===6)Ka(t,r);else{if(i=t.current.alternate,!(r&30)&&!zB(i)&&(e=hg(t,r),e===2&&(a=yw(t),a!==0&&(r=a,e=qw(t,a))),e===1))throw n=xd,ws(t,0),Ka(t,r),Qn(t,jt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(oe(345));case 2:is(t,Wn,Yi);break;case 3:if(Ka(t,r),(r&130023424)===r&&(e=gE+500-jt(),10<e)){if(Ym(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){$n(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Tw(is.bind(null,t,Wn,Yi),e);break}is(t,Wn,Yi);break;case 4:if(Ka(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ni(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=jt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*BB(r/1960))-r,10<r){t.timeoutHandle=Tw(is.bind(null,t,Wn,Yi),r);break}is(t,Wn,Yi);break;case 5:is(t,Wn,Yi);break;default:throw Error(oe(329))}}}return Qn(t,jt()),t.callbackNode===n?kD.bind(null,t):null}function qw(t,e){var n=Ff;return t.current.memoizedState.isDehydrated&&(ws(t,e).flags|=256),t=hg(t,e),t!==2&&(e=Wn,Wn=n,e!==null&&Hw(e)),t}function Hw(t){Wn===null?Wn=t:Wn.push.apply(Wn,t)}function zB(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!si(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ka(t,e){for(e&=~mE,e&=~M0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ni(e),r=1<<n;t[n]=-1,e&=~r}}function b2(t){if(Ke&6)throw Error(oe(327));Gl();var e=Ym(t,0);if(!(e&1))return Qn(t,jt()),null;var n=hg(t,e);if(t.tag!==0&&n===2){var r=yw(t);r!==0&&(e=r,n=qw(t,r))}if(n===1)throw n=xd,ws(t,0),Ka(t,e),Qn(t,jt()),n;if(n===6)throw Error(oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,is(t,Wn,Yi),Qn(t,jt()),null}function yE(t,e){var n=Ke;Ke|=1;try{return t(e)}finally{Ke=n,Ke===0&&(hu=jt()+500,N0&&Mo())}}function Rs(t){no!==null&&no.tag===0&&!(Ke&6)&&Gl();var e=Ke;Ke|=1;var n=Or.transition,r=Ze;try{if(Or.transition=null,Ze=1,t)return t()}finally{Ze=r,Or.transition=n,Ke=e,!(Ke&6)&&Mo()}}function vE(){ir=jl.current,mt(jl)}function ws(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,bB(n)),Lt!==null)for(n=Lt.return;n!==null;){var r=n;switch(JS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&eg();break;case 3:fu(),mt(Yn),mt(Tn),sE();break;case 5:oE(r);break;case 4:fu();break;case 13:mt(xt);break;case 19:mt(xt);break;case 10:nE(r.type._context);break;case 22:case 23:vE()}n=n.return}if(tn=t,Lt=t=go(t.current,null),fn=ir=e,Gt=0,xd=null,mE=M0=js=0,Wn=Ff=null,ds!==null){for(e=0;e<ds.length;e++)if(n=ds[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}ds=null}return t}function AD(t,e){do{var n=Lt;try{if(tE(),xm.current=ug,lg){for(var r=St.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}lg=!1}if(Cs=0,en=Ht=St=null,Lf=!1,yd=0,pE.current=null,n===null||n.return===null){Gt=1,xd=e,Lt=null;break}e:{var a=t,o=n.return,s=n,l=e;if(e=fn,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=o2(o);if(m!==null){m.flags&=-257,s2(m,o,s,a,e),m.mode&1&&a2(a,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){a2(a,u,e),bE();break e}l=Error(oe(426))}}else if(yt&&s.mode&1){var b=o2(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),s2(b,o,s,a,e),ZS(du(l,s));break e}}a=l=du(l,s),Gt!==4&&(Gt=2),Ff===null?Ff=[a]:Ff.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var v=cD(a,l,e);ZP(a,v);break e;case 1:s=l;var x=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(po===null||!po.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var A=fD(a,s,e);ZP(a,A);break e}}a=a.return}while(a!==null)}OD(n)}catch(_){e=_,Lt===n&&n!==null&&(Lt=n=n.return);continue}break}while(!0)}function PD(){var t=cg.current;return cg.current=ug,t===null?ug:t}function bE(){(Gt===0||Gt===3||Gt===2)&&(Gt=4),tn===null||!(js&268435455)&&!(M0&268435455)||Ka(tn,fn)}function hg(t,e){var n=Ke;Ke|=2;var r=PD();(tn!==t||fn!==e)&&(Yi=null,ws(t,e));do try{WB();break}catch(i){AD(t,i)}while(!0);if(tE(),Ke=n,cg.current=r,Lt!==null)throw Error(oe(261));return tn=null,fn=0,Gt}function WB(){for(;Lt!==null;)ID(Lt)}function qB(){for(;Lt!==null&&!g8();)ID(Lt)}function ID(t){var e=CD(t.alternate,t,ir);t.memoizedProps=t.pendingProps,e===null?OD(t):Lt=e,pE.current=null}function OD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=LB(n,e),n!==null){n.flags&=32767,Lt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Gt=6,Lt=null;return}}else if(n=DB(n,e,ir),n!==null){Lt=n;return}if(e=e.sibling,e!==null){Lt=e;return}Lt=e=t}while(e!==null);Gt===0&&(Gt=5)}function is(t,e,n){var r=Ze,i=Or.transition;try{Or.transition=null,Ze=1,HB(t,e,n,r)}finally{Or.transition=i,Ze=r}return null}function HB(t,e,n,r){do Gl();while(no!==null);if(Ke&6)throw Error(oe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(oe(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(k8(t,a),t===tn&&(Lt=tn=null,fn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jp||(jp=!0,jD(Km,function(){return Gl(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Or.transition,Or.transition=null;var o=Ze;Ze=1;var s=Ke;Ke|=4,pE.current=null,FB(t,n),ED(n,t),dB(Sw),Xm=!!_w,Sw=_w=null,t.current=n,UB(n),y8(),Ke=s,Ze=o,Or.transition=a}else t.current=n;if(jp&&(jp=!1,no=t,dg=i),a=t.pendingLanes,a===0&&(po=null),x8(n.stateNode),Qn(t,jt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(fg)throw fg=!1,t=zw,zw=null,t;return dg&1&&t.tag!==0&&Gl(),a=t.pendingLanes,a&1?t===Ww?Uf++:(Uf=0,Ww=t):Uf=0,Mo(),null}function Gl(){if(no!==null){var t=c$(dg),e=Or.transition,n=Ze;try{if(Or.transition=null,Ze=16>t?16:t,no===null)var r=!1;else{if(t=no,no=null,dg=0,Ke&6)throw Error(oe(331));var i=Ke;for(Ke|=4,ge=t.current;ge!==null;){var a=ge,o=a.child;if(ge.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(ge=u;ge!==null;){var c=ge;switch(c.tag){case 0:case 11:case 15:Vf(8,c,a)}var f=c.child;if(f!==null)f.return=c,ge=f;else for(;ge!==null;){c=ge;var d=c.sibling,m=c.return;if(wD(c),c===u){ge=null;break}if(d!==null){d.return=m,ge=d;break}ge=m}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}ge=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ge=o;else e:for(;ge!==null;){if(a=ge,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Vf(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,ge=v;break e}ge=a.return}}var x=t.current;for(ge=x;ge!==null;){o=ge;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ge=w;else e:for(o=x;ge!==null;){if(s=ge,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:R0(9,s)}}catch(_){Pt(s,s.return,_)}if(s===o){ge=null;break e}var A=s.sibling;if(A!==null){A.return=s.return,ge=A;break e}ge=s.return}}if(Ke=i,Mo(),Ei&&typeof Ei.onPostCommitFiberRoot=="function")try{Ei.onPostCommitFiberRoot(k0,t)}catch{}r=!0}return r}finally{Ze=n,Or.transition=e}}return!1}function x2(t,e,n){e=du(n,e),e=cD(t,e,1),t=ho(t,e,1),e=$n(),t!==null&&(Ph(t,1,e),Qn(t,e))}function Pt(t,e,n){if(t.tag===3)x2(t,t,n);else for(;e!==null;){if(e.tag===3){x2(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(po===null||!po.has(r))){t=du(n,t),t=fD(e,t,1),e=ho(e,t,1),t=$n(),e!==null&&(Ph(e,1,t),Qn(e,t));break}}e=e.return}}function GB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=$n(),t.pingedLanes|=t.suspendedLanes&n,tn===t&&(fn&n)===n&&(Gt===4||Gt===3&&(fn&130023424)===fn&&500>jt()-gE?ws(t,0):mE|=n),Qn(t,e)}function ND(t,e){e===0&&(t.mode&1?(e=Sp,Sp<<=1,!(Sp&130023424)&&(Sp=4194304)):e=1);var n=$n();t=pa(t,e),t!==null&&(Ph(t,e,n),Qn(t,n))}function KB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ND(t,n)}function YB(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(oe(314))}r!==null&&r.delete(e),ND(t,n)}var CD;CD=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Yn.current)Gn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Gn=!1,$B(t,e,n);Gn=!!(t.flags&131072)}else Gn=!1,yt&&e.flags&1048576&&$$(e,rg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_m(t,e),t=e.pendingProps;var i=lu(e,Tn.current);Hl(e,n),i=uE(null,e,r,t,i,n);var a=cE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xn(r)?(a=!0,tg(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,iE(e),i.updater=j0,e.stateNode=i,i._reactInternals=e,Cw(e,r,t,n),e=Mw(null,e,r,!0,a,n)):(e.tag=0,yt&&a&&QS(e),Pn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_m(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=QB(r),t=zr(r,t),i){case 0:e=Rw(null,e,r,t,n);break e;case 1:e=c2(null,e,r,t,n);break e;case 11:e=l2(null,e,r,t,n);break e;case 14:e=u2(null,e,r,zr(r.type,t),n);break e}throw Error(oe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zr(r,i),Rw(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zr(r,i),c2(t,e,r,i,n);case 3:e:{if(mD(e),t===null)throw Error(oe(387));r=e.pendingProps,a=e.memoizedState,i=a.element,B$(t,e),og(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=du(Error(oe(423)),e),e=f2(t,e,r,n,i);break e}else if(r!==i){i=du(Error(oe(424)),e),e=f2(t,e,r,n,i);break e}else for(ur=fo(e.stateNode.containerInfo.firstChild),dr=e,yt=!0,Gr=null,n=F$(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(uu(),r===i){e=ma(t,e,n);break e}Pn(t,e,r,n)}e=e.child}return e;case 5:return z$(e),t===null&&Iw(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Ew(r,i)?o=null:a!==null&&Ew(r,a)&&(e.flags|=32),pD(t,e),Pn(t,e,o,n),e.child;case 6:return t===null&&Iw(e),null;case 13:return gD(t,e,n);case 4:return aE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=cu(e,null,r,n):Pn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zr(r,i),l2(t,e,r,i,n);case 7:return Pn(t,e,e.pendingProps,n),e.child;case 8:return Pn(t,e,e.pendingProps.children,n),e.child;case 12:return Pn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,lt(ig,r._currentValue),r._currentValue=o,a!==null)if(si(a.value,o)){if(a.children===i.children&&!Yn.current){e=ma(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=la(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Ow(a.return,n,e),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(oe(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Ow(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Pn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Hl(e,n),i=jr(i),r=r(i),e.flags|=1,Pn(t,e,r,n),e.child;case 14:return r=e.type,i=zr(r,e.pendingProps),i=zr(r.type,i),u2(t,e,r,i,n);case 15:return dD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zr(r,i),_m(t,e),e.tag=1,Xn(r)?(t=!0,tg(e)):t=!1,Hl(e,n),uD(e,r,i),Cw(e,r,i,n),Mw(null,e,r,!0,t,n);case 19:return yD(t,e,n);case 22:return hD(t,e,n)}throw Error(oe(156,e.tag))};function jD(t,e){return o$(t,e)}function XB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(t,e,n,r){return new XB(t,e,n,r)}function xE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function QB(t){if(typeof t=="function")return xE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===VS)return 11;if(t===FS)return 14}return 2}function go(t,e){var n=t.alternate;return n===null?(n=Ar(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tm(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")xE(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Sl:return _s(n.children,i,a,e);case LS:o=8,i|=8;break;case nw:return t=Ar(12,n,e,i|2),t.elementType=nw,t.lanes=a,t;case rw:return t=Ar(13,n,e,i),t.elementType=rw,t.lanes=a,t;case iw:return t=Ar(19,n,e,i),t.elementType=iw,t.lanes=a,t;case zM:return $0(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case UM:o=10;break e;case BM:o=9;break e;case VS:o=11;break e;case FS:o=14;break e;case Ba:o=16,r=null;break e}throw Error(oe(130,t==null?t:typeof t,""))}return e=Ar(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function _s(t,e,n,r){return t=Ar(7,t,r,e),t.lanes=n,t}function $0(t,e,n,r){return t=Ar(22,t,r,e),t.elementType=zM,t.lanes=n,t.stateNode={isHidden:!1},t}function Hb(t,e,n){return t=Ar(6,t,null,e),t.lanes=n,t}function Gb(t,e,n){return e=Ar(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function JB(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ab(0),this.expirationTimes=Ab(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ab(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function wE(t,e,n,r,i,a,o,s,l){return t=new JB(t,e,n,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ar(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},iE(a),t}function ZB(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_l,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function RD(t){if(!t)return To;t=t._reactInternals;e:{if(Js(t)!==t||t.tag!==1)throw Error(oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(oe(171))}if(t.tag===1){var n=t.type;if(Xn(n))return R$(t,n,e)}return e}function MD(t,e,n,r,i,a,o,s,l){return t=wE(n,r,!0,t,i,a,o,s,l),t.context=RD(null),n=t.current,r=$n(),i=mo(n),a=la(r,i),a.callback=e??null,ho(n,a,i),t.current.lanes=i,Ph(t,i,r),Qn(t,r),t}function D0(t,e,n,r){var i=e.current,a=$n(),o=mo(i);return n=RD(n),e.context===null?e.context=n:e.pendingContext=n,e=la(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ho(i,e,o),t!==null&&(ri(t,i,o,a),bm(t,i,o)),o}function pg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function w2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _E(t,e){w2(t,e),(t=t.alternate)&&w2(t,e)}function e7(){return null}var $D=typeof reportError=="function"?reportError:function(t){console.error(t)};function SE(t){this._internalRoot=t}L0.prototype.render=SE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(oe(409));D0(t,e,null,null)};L0.prototype.unmount=SE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Rs(function(){D0(null,t,null,null)}),e[ha]=null}};function L0(t){this._internalRoot=t}L0.prototype.unstable_scheduleHydration=function(t){if(t){var e=h$();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ga.length&&e!==0&&e<Ga[n].priority;n++);Ga.splice(n,0,t),n===0&&m$(t)}};function EE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function V0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _2(){}function t7(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=pg(o);a.call(u)}}var o=MD(e,r,t,0,null,!1,!1,"",_2);return t._reactRootContainer=o,t[ha]=o.current,dd(t.nodeType===8?t.parentNode:t),Rs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=pg(l);s.call(u)}}var l=wE(t,0,!1,null,null,!1,!1,"",_2);return t._reactRootContainer=l,t[ha]=l.current,dd(t.nodeType===8?t.parentNode:t),Rs(function(){D0(e,l,n,r)}),l}function F0(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=pg(o);s.call(l)}}D0(e,o,t,i)}else o=t7(n,e,t,i,r);return pg(o)}f$=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gf(e.pendingLanes);n!==0&&(zS(e,n|1),Qn(e,jt()),!(Ke&6)&&(hu=jt()+500,Mo()))}break;case 13:Rs(function(){var r=pa(t,1);if(r!==null){var i=$n();ri(r,t,1,i)}}),_E(t,1)}};WS=function(t){if(t.tag===13){var e=pa(t,134217728);if(e!==null){var n=$n();ri(e,t,134217728,n)}_E(t,134217728)}};d$=function(t){if(t.tag===13){var e=mo(t),n=pa(t,e);if(n!==null){var r=$n();ri(n,t,e,r)}_E(t,e)}};h$=function(){return Ze};p$=function(t,e){var n=Ze;try{return Ze=t,e()}finally{Ze=n}};pw=function(t,e,n){switch(e){case"input":if(sw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=O0(r);if(!i)throw Error(oe(90));qM(r),sw(r,i)}}}break;case"textarea":GM(t,n);break;case"select":e=n.value,e!=null&&Bl(t,!!n.multiple,e,!1)}};e$=yE;t$=Rs;var n7={usingClientEntryPoint:!1,Events:[Oh,Al,O0,JM,ZM,yE]},Yc={findFiberByHostInstance:fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r7={bundleType:Yc.bundleType,version:Yc.version,rendererPackageName:Yc.rendererPackageName,rendererConfig:Yc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Aa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=i$(t),t===null?null:t.stateNode},findFiberByHostInstance:Yc.findFiberByHostInstance||e7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rp.isDisabled&&Rp.supportsFiber)try{k0=Rp.inject(r7),Ei=Rp}catch{}}yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n7;yr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!EE(e))throw Error(oe(200));return ZB(t,e,null,n)};yr.createRoot=function(t,e){if(!EE(t))throw Error(oe(299));var n=!1,r="",i=$D;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=wE(t,1,!1,null,null,n,!1,r,i),t[ha]=e.current,dd(t.nodeType===8?t.parentNode:t),new SE(e)};yr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(oe(188)):(t=Object.keys(t).join(","),Error(oe(268,t)));return t=i$(e),t=t===null?null:t.stateNode,t};yr.flushSync=function(t){return Rs(t)};yr.hydrate=function(t,e,n){if(!V0(e))throw Error(oe(200));return F0(null,t,e,!0,n)};yr.hydrateRoot=function(t,e,n){if(!EE(t))throw Error(oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=$D;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=MD(e,null,t,1,n??null,i,!1,a,o),t[ha]=e.current,dd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new L0(e)};yr.render=function(t,e,n){if(!V0(e))throw Error(oe(200));return F0(null,t,e,!1,n)};yr.unmountComponentAtNode=function(t){if(!V0(t))throw Error(oe(40));return t._reactRootContainer?(Rs(function(){F0(null,null,t,!1,function(){t._reactRootContainer=null,t[ha]=null})}),!0):!1};yr.unstable_batchedUpdates=yE;yr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!V0(n))throw Error(oe(200));if(t==null||t._reactInternals===void 0)throw Error(oe(38));return F0(t,e,n,!1,r)};yr.version="18.3.1-next-f1338f8080-20240426";function DD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DD)}catch(t){console.error(t)}}DD(),DM.exports=yr;var i7=DM.exports,S2=i7;ew.createRoot=S2.createRoot,ew.hydrateRoot=S2.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wd(){return wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wd.apply(this,arguments)}var ro;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ro||(ro={}));const E2="popstate";function a7(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:o,hash:s}=r.location;return Gw("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:mg(i)}return s7(e,n,null,t)}function Mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function TE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function o7(){return Math.random().toString(36).substr(2,8)}function T2(t,e){return{usr:t.state,key:t.key,idx:e}}function Gw(t,e,n,r){return n===void 0&&(n=null),wd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?tc(e):e,{state:n,key:e&&e.key||r||o7()})}function mg(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function tc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function s7(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=ro.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(wd({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){s=ro.Pop;let b=c(),v=b==null?null:b-u;u=b,l&&l({action:s,location:y.location,delta:v})}function d(b,v){s=ro.Push;let x=Gw(y.location,b,v);u=c()+1;let w=T2(x,u),A=y.createHref(x);try{o.pushState(w,"",A)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(A)}a&&l&&l({action:s,location:y.location,delta:1})}function m(b,v){s=ro.Replace;let x=Gw(y.location,b,v);u=c();let w=T2(x,u),A=y.createHref(x);o.replaceState(w,"",A),a&&l&&l({action:s,location:y.location,delta:0})}function g(b){let v=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof b=="string"?b:mg(b);return x=x.replace(/ $/,"%20"),Mt(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let y={get action(){return s},get location(){return t(i,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(E2,f),l=b,()=>{i.removeEventListener(E2,f),l=null}},createHref(b){return e(i,b)},createURL:g,encodeLocation(b){let v=g(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:m,go(b){return o.go(b)}};return y}var k2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(k2||(k2={}));function l7(t,e,n){return n===void 0&&(n="/"),u7(t,e,n)}function u7(t,e,n,r){let i=typeof e=="string"?tc(e):e,a=kE(i.pathname||"/",n);if(a==null)return null;let o=LD(t);c7(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=_7(a);s=b7(o[l],u)}return s}function LD(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(Mt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=yo([r,l.relativePath]),c=n.concat(l);a.children&&a.children.length>0&&(Mt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),LD(a.children,e,c,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:y7(u,a.index),routesMeta:c})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of VD(a.path))i(a,o,l)}),e}function VD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=VD(r.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function c7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:v7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const f7=/^:[\w-]+$/,d7=3,h7=2,p7=1,m7=10,g7=-2,A2=t=>t==="*";function y7(t,e){let n=t.split("/"),r=n.length;return n.some(A2)&&(r+=g7),e&&(r+=h7),n.filter(i=>!A2(i)).reduce((i,a)=>i+(f7.test(a)?d7:a===""?p7:m7),r)}function v7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function b7(t,e,n){let{routesMeta:r}=t,i={},a="/",o=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=a==="/"?e:e.slice(a.length)||"/",f=x7({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:yo([a,f.pathname]),pathnameBase:A7(yo([a,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(a=yo([a,f.pathnameBase]))}return o}function x7(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=w7(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:d,isOptional:m}=c;if(d==="*"){let y=s[f]||"";o=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const g=s[f];return m&&!g?u[d]=void 0:u[d]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function w7(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),TE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function _7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return TE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function kE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const S7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,E7=t=>S7.test(t);function T7(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?tc(t):t,a;if(n)if(E7(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),TE(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?a=P2(n.substring(1),"/"):a=P2(n,e)}else a=e;return{pathname:a,search:P7(r),hash:I7(i)}}function P2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Kb(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function k7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function AE(t,e){let n=k7(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function PE(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=tc(t):(i=wd({},t),Mt(!i.pathname||!i.pathname.includes("?"),Kb("?","pathname","search",i)),Mt(!i.pathname||!i.pathname.includes("#"),Kb("#","pathname","hash",i)),Mt(!i.search||!i.search.includes("#"),Kb("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}s=f>=0?e[f]:"/"}let l=T7(i,s),u=o&&o!=="/"&&o.endsWith("/"),c=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const yo=t=>t.join("/").replace(/\/\/+/g,"/"),A7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),P7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,I7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function O7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const FD=["post","put","patch","delete"];new Set(FD);const N7=["get",...FD];new Set(N7);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _d(){return _d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_d.apply(this,arguments)}const IE=M.createContext(null),C7=M.createContext(null),$o=M.createContext(null),U0=M.createContext(null),Do=M.createContext({outlet:null,matches:[],isDataRoute:!1}),UD=M.createContext(null);function j7(t,e){let{relative:n}=e===void 0?{}:e;nc()||Mt(!1);let{basename:r,navigator:i}=M.useContext($o),{hash:a,pathname:o,search:s}=WD(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:yo([r,o])),i.createHref({pathname:l,search:s,hash:a})}function nc(){return M.useContext(U0)!=null}function rc(){return nc()||Mt(!1),M.useContext(U0).location}function BD(t){M.useContext($o).static||M.useLayoutEffect(t)}function zD(){let{isDataRoute:t}=M.useContext(Do);return t?H7():R7()}function R7(){nc()||Mt(!1);let t=M.useContext(IE),{basename:e,future:n,navigator:r}=M.useContext($o),{matches:i}=M.useContext(Do),{pathname:a}=rc(),o=JSON.stringify(AE(i,n.v7_relativeSplatPath)),s=M.useRef(!1);return BD(()=>{s.current=!0}),M.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=PE(u,JSON.parse(o),a,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:yo([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,o,a,t])}function WD(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=M.useContext($o),{matches:i}=M.useContext(Do),{pathname:a}=rc(),o=JSON.stringify(AE(i,r.v7_relativeSplatPath));return M.useMemo(()=>PE(t,JSON.parse(o),a,n==="path"),[t,o,a,n])}function M7(t,e){return $7(t,e)}function $7(t,e,n,r){nc()||Mt(!1);let{navigator:i}=M.useContext($o),{matches:a}=M.useContext(Do),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=rc(),c;if(e){var f;let b=typeof e=="string"?tc(e):e;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||Mt(!1),c=b}else c=u;let d=c.pathname||"/",m=d;if(l!=="/"){let b=l.replace(/^\//,"").split("/");m="/"+d.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=l7(t,{pathname:m}),y=U7(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},s,b.params),pathname:yo([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:yo([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,n,r);return e&&y?M.createElement(U0.Provider,{value:{location:_d({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ro.Pop}},y):y}function D7(){let t=q7(),e=O7(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,null)}const L7=M.createElement(D7,null);class V7 extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(Do.Provider,{value:this.props.routeContext},M.createElement(UD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function F7(t){let{routeContext:e,match:n,children:r}=t,i=M.useContext(IE);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(Do.Provider,{value:e},r)}function U7(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);c>=0||Mt(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:d,errors:m}=n,g=f.route.loader&&d[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,f,d)=>{let m,g=!1,y=null,b=null;n&&(m=s&&f.route.id?s[f.route.id]:void 0,y=f.route.errorElement||L7,l&&(u<0&&d===0?(G7("route-fallback"),g=!0,b=null):u===d&&(g=!0,b=f.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,d+1)),x=()=>{let w;return m?w=y:g?w=b:f.route.Component?w=M.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=c,M.createElement(F7,{match:f,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?M.createElement(V7,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var qD=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(qD||{}),HD=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(HD||{});function B7(t){let e=M.useContext(IE);return e||Mt(!1),e}function z7(t){let e=M.useContext(C7);return e||Mt(!1),e}function W7(t){let e=M.useContext(Do);return e||Mt(!1),e}function GD(t){let e=W7(),n=e.matches[e.matches.length-1];return n.route.id||Mt(!1),n.route.id}function q7(){var t;let e=M.useContext(UD),n=z7(),r=GD();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function H7(){let{router:t}=B7(qD.UseNavigateStable),e=GD(HD.UseNavigateStable),n=M.useRef(!1);return BD(()=>{n.current=!0}),M.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,_d({fromRouteId:e},a)))},[t,e])}const I2={};function G7(t,e,n){I2[t]||(I2[t]=!0)}function K7(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Y7(t){let{to:e,replace:n,state:r,relative:i}=t;nc()||Mt(!1);let{future:a,static:o}=M.useContext($o),{matches:s}=M.useContext(Do),{pathname:l}=rc(),u=zD(),c=PE(e,AE(s,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return M.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function Fa(t){Mt(!1)}function X7(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ro.Pop,navigator:a,static:o=!1,future:s}=t;nc()&&Mt(!1);let l=e.replace(/^\/*/,"/"),u=M.useMemo(()=>({basename:l,navigator:a,static:o,future:_d({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof r=="string"&&(r=tc(r));let{pathname:c="/",search:f="",hash:d="",state:m=null,key:g="default"}=r,y=M.useMemo(()=>{let b=kE(c,l);return b==null?null:{location:{pathname:b,search:f,hash:d,state:m,key:g},navigationType:i}},[l,c,f,d,m,g,i]);return y==null?null:M.createElement($o.Provider,{value:u},M.createElement(U0.Provider,{children:n,value:y}))}function Q7(t){let{children:e,location:n}=t;return M7(Kw(e),n)}new Promise(()=>{});function Kw(t,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(t,(r,i)=>{if(!M.isValidElement(r))return;let a=[...e,i];if(r.type===M.Fragment){n.push.apply(n,Kw(r.props.children,a));return}r.type!==Fa&&Mt(!1),!r.props.index||!r.props.children||Mt(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Kw(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yw(){return Yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yw.apply(this,arguments)}function J7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Z7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ez(t,e){return t.button===0&&(!e||e==="_self")&&!Z7(t)}const tz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nz="6";try{window.__reactRouterVersion=nz}catch{}const rz="startTransition",O2=GU[rz];function iz(t){let{basename:e,children:n,future:r,window:i}=t,a=M.useRef();a.current==null&&(a.current=a7({window:i,v5Compat:!0}));let o=a.current,[s,l]=M.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=M.useCallback(f=>{u&&O2?O2(()=>l(f)):l(f)},[l,u]);return M.useLayoutEffect(()=>o.listen(c),[o,c]),M.useEffect(()=>K7(r),[r]),M.createElement(X7,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:o,future:r})}const az=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sz=M.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,d=J7(e,tz),{basename:m}=M.useContext($o),g,y=!1;if(typeof u=="string"&&oz.test(u)&&(g=u,az))try{let w=new URL(window.location.href),A=u.startsWith("//")?new URL(w.protocol+u):new URL(u),_=kE(A.pathname,m);A.origin===w.origin&&_!=null?u=_+A.search+A.hash:y=!0}catch{}let b=j7(u,{relative:i}),v=lz(u,{replace:o,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:f});function x(w){r&&r(w),w.defaultPrevented||v(w)}return M.createElement("a",Yw({},d,{href:g||b,onClick:y||a?r:x,ref:n,target:l}))});var N2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(N2||(N2={}));var C2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(C2||(C2={}));function lz(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:s}=e===void 0?{}:e,l=zD(),u=rc(),c=WD(t,{relative:o});return M.useCallback(f=>{if(ez(f,n)){f.preventDefault();let d=r!==void 0?r:mg(u)===mg(c);l(t,{replace:d,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[u,l,c,r,i,n,t,a,o,s])}/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KD=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...s},l)=>M.createElement("svg",{ref:l,...cz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:KD("lucide",i),...s},[...o.map(([u,c])=>M.createElement(u,c)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(t,e)=>{const n=M.forwardRef(({className:r,...i},a)=>M.createElement(fz,{ref:a,iconNode:e,className:KD(`lucide-${uz(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=Oe("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=Oe("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=Oe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=Oe("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=Oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=Oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=Oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=Oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=Oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=Oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=Oe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=Oe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=Oe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=Oe("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=Oe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=Oe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=Oe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=Oe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=Oe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=Oe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=Oe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=Oe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=Oe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=Oe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=Oe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=Oe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=Oe("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=Oe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=Oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=Oe("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=Oe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=Oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=Oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=Oe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=Oe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=Oe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=Oe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=Oe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=Oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=Oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=Oe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=Oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=Oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=Oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=Oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Oz=()=>{};var $2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Nz=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],s=t[n++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},t4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=a>>2,f=(a&3)<<4|s>>4;let d=(s&15)<<2|u>>6,m=u&63;l||(m=64,o||(d=64)),r.push(n[c],n[f],n[d],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(e4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Nz(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||s==null||u==null||f==null)throw new Cz;const d=a<<2|s>>4;if(r.push(d),u!==64){const m=s<<4&240|u>>2;if(r.push(m),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Cz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jz=function(t){const e=e4(t);return t4.encodeByteArray(e,!0)},vg=function(t){return jz(t).replace(/\./g,"")},n4=function(t){try{return t4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz=()=>Rz().__FIREBASE_DEFAULTS__,$z=()=>{if(typeof process>"u"||typeof $2>"u")return;const t=$2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Dz=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&n4(t[1]);return e&&JSON.parse(e)},B0=()=>{try{return Oz()||Mz()||$z()||Dz()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},r4=t=>{var e,n;return(n=(e=B0())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},i4=t=>{const e=r4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},a4=()=>{var t;return(t=B0())==null?void 0:t.config},o4=t=>{var e;return(e=B0())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function DE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[vg(JSON.stringify(n)),vg(JSON.stringify(o)),""].join(".")}const Bf={};function Vz(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bf))Bf[e]?t.emulator.push(e):t.prod.push(e);return t}function Fz(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let D2=!1;function LE(t,e){if(typeof window>"u"||typeof document>"u"||!Zs(window.location.host)||Bf[t]===e||Bf[t]||D2)return;Bf[t]=e;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",a=Vz().prod.length>0;function o(){const d=document.getElementById(r);d&&d.remove()}function s(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,m){d.setAttribute("width","24"),d.setAttribute("id",m),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function u(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{D2=!0,o()},d}function c(d,m){d.setAttribute("id",m),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=Fz(r),m=n("text"),g=document.getElementById(m)||document.createElement("span"),y=n("learnmore"),b=document.getElementById(y)||document.createElement("a"),v=n("preprendIcon"),x=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const w=d.element;s(w),c(b,y);const A=u();l(x,v),w.append(x,g,b,A),document.body.appendChild(w)}a?(g.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uz(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function Bz(){var e;const t=(e=B0())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zz(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function l4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Wz(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qz(){const t=kn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Hz(){return!Bz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function u4(){try{return typeof indexedDB=="object"}catch{return!1}}function c4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}function Gz(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kz="FirebaseError";class Dr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Kz,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,el.prototype.create)}}class el{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?Yz(a,r):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new Dr(i,s,r)}}function Yz(t,e){return t.replace(Xz,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Xz=/\{\$([^}]+)}/g;function Qz(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ko(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(L2(a)&&L2(o)){if(!ko(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function L2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Jz(t,e){const n=new Zz(t,e);return n.subscribe.bind(n)}class Zz{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");eW(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Yb),i.error===void 0&&(i.error=Yb),i.complete===void 0&&(i.complete=Yb);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eW(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yb(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tW=1e3,nW=2,rW=4*60*60*1e3,iW=.5;function V2(t,e=tW,n=nW){const r=e*Math.pow(n,t),i=Math.round(iW*r*(Math.random()-.5)*2);return Math.min(rW,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t){return t&&t._delegate?t._delegate:t}class Mr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aW{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Lz;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sW(e))try{this.getOrInitializeService({instanceIdentifier:as})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=as){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=as){return this.instances.has(e)}getOptions(e=as){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);r===s&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oW(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=as){return this.component?this.component.multipleInstances?e:as:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oW(t){return t===as?void 0:t}function sW(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aW(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const uW={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},cW=Be.INFO,fW={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},dW=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=fW[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class z0{constructor(e){this.name=e,this._logLevel=cW,this._logHandler=dW,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uW[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const hW=(t,e)=>e.some(n=>t instanceof n);let F2,U2;function pW(){return F2||(F2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mW(){return U2||(U2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f4=new WeakMap,Jw=new WeakMap,d4=new WeakMap,Xb=new WeakMap,VE=new WeakMap;function gW(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(vo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&f4.set(n,t)}).catch(()=>{}),VE.set(e,t),e}function yW(t){if(Jw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});Jw.set(t,e)}let Zw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||d4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vW(t){Zw=t(Zw)}function bW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Qb(this),e,...n);return d4.set(r,e.sort?e.sort():[e]),vo(r)}:mW().includes(t)?function(...e){return t.apply(Qb(this),e),vo(f4.get(this))}:function(...e){return vo(t.apply(Qb(this),e))}}function xW(t){return typeof t=="function"?bW(t):(t instanceof IDBTransaction&&yW(t),hW(t,pW())?new Proxy(t,Zw):t)}function vo(t){if(t instanceof IDBRequest)return gW(t);if(Xb.has(t))return Xb.get(t);const e=xW(t);return e!==t&&(Xb.set(t,e),VE.set(e,t)),e}const Qb=t=>VE.get(t);function h4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=vo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(vo(o.result),l.oldVersion,l.newVersion,vo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const wW=["get","getKey","getAll","getAllKeys","count"],_W=["put","add","delete","clear"],Jb=new Map;function B2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jb.get(e))return Jb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_W.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wW.includes(n)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return Jb.set(e,a),a}vW(t=>({...t,get:(e,n,r)=>B2(e,n)||t.get(e,n,r),has:(e,n)=>!!B2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EW(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function EW(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const e1="@firebase/app",z2="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new z0("@firebase/app"),TW="@firebase/app-compat",kW="@firebase/analytics-compat",AW="@firebase/analytics",PW="@firebase/app-check-compat",IW="@firebase/app-check",OW="@firebase/auth",NW="@firebase/auth-compat",CW="@firebase/database",jW="@firebase/data-connect",RW="@firebase/database-compat",MW="@firebase/functions",$W="@firebase/functions-compat",DW="@firebase/installations",LW="@firebase/installations-compat",VW="@firebase/messaging",FW="@firebase/messaging-compat",UW="@firebase/performance",BW="@firebase/performance-compat",zW="@firebase/remote-config",WW="@firebase/remote-config-compat",qW="@firebase/storage",HW="@firebase/storage-compat",GW="@firebase/firestore",KW="@firebase/ai",YW="@firebase/firestore-compat",XW="firebase",QW="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="[DEFAULT]",JW={[e1]:"fire-core",[TW]:"fire-core-compat",[AW]:"fire-analytics",[kW]:"fire-analytics-compat",[IW]:"fire-app-check",[PW]:"fire-app-check-compat",[OW]:"fire-auth",[NW]:"fire-auth-compat",[CW]:"fire-rtdb",[jW]:"fire-data-connect",[RW]:"fire-rtdb-compat",[MW]:"fire-fn",[$W]:"fire-fn-compat",[DW]:"fire-iid",[LW]:"fire-iid-compat",[VW]:"fire-fcm",[FW]:"fire-fcm-compat",[UW]:"fire-perf",[BW]:"fire-perf-compat",[zW]:"fire-rc",[WW]:"fire-rc-compat",[qW]:"fire-gcs",[HW]:"fire-gcs-compat",[GW]:"fire-fst",[YW]:"fire-fst-compat",[KW]:"fire-vertex","fire-js":"fire-js",[XW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg=new Map,ZW=new Map,n1=new Map;function W2(t,e){try{t.container.addComponent(e)}catch(n){ga.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function li(t){const e=t.name;if(n1.has(e))return ga.debug(`There were multiple attempts to register component ${e}.`),!1;n1.set(e,t);for(const n of bg.values())W2(n,t);for(const n of ZW.values())W2(n,t);return!0}function Lo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bo=new el("app","Firebase",eq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=QW;function p4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:t1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw bo.create("bad-app-name",{appName:String(i)});if(n||(n=a4()),!n)throw bo.create("no-options");const a=bg.get(i);if(a){if(ko(n,a.options)&&ko(r,a.config))return a;throw bo.create("duplicate-app",{appName:i})}const o=new lW(i);for(const l of n1.values())o.addComponent(l);const s=new tq(n,r,o);return bg.set(i,s),s}function W0(t=t1){const e=bg.get(t);if(!e&&t===t1&&a4())return p4();if(!e)throw bo.create("no-app",{appName:t});return e}function Jn(t,e,n){let r=JW[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ga.warn(o.join(" "));return}li(new Mr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nq="firebase-heartbeat-database",rq=1,Ed="firebase-heartbeat-store";let Zb=null;function m4(){return Zb||(Zb=h4(nq,rq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ed)}catch(n){console.warn(n)}}}}).catch(t=>{throw bo.create("idb-open",{originalErrorMessage:t.message})})),Zb}async function iq(t){try{const n=(await m4()).transaction(Ed),r=await n.objectStore(Ed).get(g4(t));return await n.done,r}catch(e){if(e instanceof Dr)ga.warn(e.message);else{const n=bo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ga.warn(n.message)}}}async function q2(t,e){try{const r=(await m4()).transaction(Ed,"readwrite");await r.objectStore(Ed).put(e,g4(t)),await r.done}catch(n){if(n instanceof Dr)ga.warn(n.message);else{const r=bo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ga.warn(r.message)}}}function g4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aq=1024,oq=30;class sq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=H2();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>oq){const o=cq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ga.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=H2(),{heartbeatsToSend:r,unsentEntries:i}=lq(this._heartbeatsCache.heartbeats),a=vg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ga.warn(n),""}}}function H2(){return new Date().toISOString().substring(0,10)}function lq(t,e=aq){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),G2(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),G2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return u4()?c4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iq(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return q2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return q2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function G2(t){return vg(JSON.stringify({version:2,heartbeats:t})).length}function cq(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fq(t){li(new Mr("platform-logger",e=>new SW(e),"PRIVATE")),li(new Mr("heartbeat",e=>new sq(e),"PRIVATE")),Jn(e1,z2,t),Jn(e1,z2,"esm2020"),Jn("fire-js","")}fq("");var dq="firebase",hq="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jn(dq,hq,"app");function y4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pq=y4,v4=new el("auth","Firebase",y4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg=new z0("@firebase/auth");function mq(t,...e){xg.logLevel<=Be.WARN&&xg.warn(`Auth (${tl}): ${t}`,...e)}function km(t,...e){xg.logLevel<=Be.ERROR&&xg.error(`Auth (${tl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(t,...e){throw FE(t,...e)}function ki(t,...e){return FE(t,...e)}function b4(t,e,n){const r={...pq(),[e]:n};return new el("auth","Firebase",r).create(e,{appName:t.name})}function Es(t){return b4(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function FE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return v4.create(t,...e)}function Pe(t,e,...n){if(!t)throw FE(e,...n)}function na(t){const e="INTERNAL ASSERTION FAILED: "+t;throw km(e),new Error(e)}function va(t,e){t||na(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function gq(){return K2()==="http:"||K2()==="https:"}function K2(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gq()||l4()||"connection"in navigator)?navigator.onLine:!0}function vq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n){this.shortDelay=e,this.longDelay=n,va(n>e,"Short delay should be less than long delay!"),this.isMobile=Uz()||Wz()}get(){return yq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(t,e){va(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;na("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;na("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;na("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wq=new Rh(3e4,6e4);function BE(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ic(t,e,n,r,i={}){return w4(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const s=jh({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...a};return zz()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Zs(t.emulatorConfig.host)&&(u.credentials="include"),x4.fetch()(await _4(t,t.config.apiHost,n,s),u)})}async function w4(t,e,n){t._canInitEmulator=!1;const r={...bq,...e};try{const i=new Sq(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Mp(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mp(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Mp(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Mp(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw b4(t,c,u);ya(t,c)}}catch(i){if(i instanceof Dr)throw i;ya(t,"network-request-failed",{message:String(i)})}}async function _q(t,e,n,r,i={}){const a=await ic(t,e,n,r,i);return"mfaPendingCredential"in a&&ya(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function _4(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?UE(t.config,i):`${t.config.apiScheme}://${i}`;return xq.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}class Sq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ki(this.auth,"network-request-failed")),wq.get())})}}function Mp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ki(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eq(t,e){return ic(t,"POST","/v1/accounts:delete",e)}async function wg(t,e){return ic(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Tq(t,e=!1){const n=Bt(t),r=await n.getIdToken(e),i=zE(r);Pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:zf(ex(i.auth_time)),issuedAtTime:zf(ex(i.iat)),expirationTime:zf(ex(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function ex(t){return Number(t)*1e3}function zE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return km("JWT malformed, contained fewer than 3 sections"),null;try{const i=n4(n);return i?JSON.parse(i):(km("Failed to decode base64 JWT payload"),null)}catch(i){return km("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Y2(t){const e=zE(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Td(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Dr&&kq(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function kq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zf(this.lastLoginAt),this.creationTime=zf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _g(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Td(t,wg(e,{idToken:n}));Pe(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(f=i.providerUserInfo)!=null&&f.length?S4(i.providerUserInfo):[],o=Iq(t.providerData,a),s=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=s?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new i1(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function Pq(t){const e=Bt(t);await _g(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Iq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function S4(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oq(t,e){const n=await w4(t,{},async()=>{const r=jh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await _4(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:r};return t.emulatorConfig&&Zs(t.emulatorConfig.host)&&(l.credentials="include"),x4.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Nq(t,e){return ic(t,"POST","/v2/accounts:revokeToken",BE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Y2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=Y2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await Oq(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new Kl;return r&&(Pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Pe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Pe(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Kl,this.toJSON())}_performRefresh(){return na("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Qr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Aq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new i1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Td(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Tq(this,e)}reload(){return Pq(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _g(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kr(this.auth.app))return Promise.reject(Es(this.auth));const e=await this.getIdToken();return await Td(this,Eq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,s=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:f,emailVerified:d,isAnonymous:m,providerData:g,stsTokenManager:y}=n;Pe(f&&y,e,"internal-error");const b=Kl.fromJSON(this.name,y);Pe(typeof f=="string",e,"internal-error"),La(r,e.name),La(i,e.name),Pe(typeof d=="boolean",e,"internal-error"),Pe(typeof m=="boolean",e,"internal-error"),La(a,e.name),La(o,e.name),La(s,e.name),La(l,e.name),La(u,e.name),La(c,e.name);const v=new Qr({uid:f,auth:e,email:i,emailVerified:d,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:a,tenantId:s,stsTokenManager:b,createdAt:u,lastLoginAt:c});return g&&Array.isArray(g)&&(v.providerData=g.map(x=>({...x}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,n,r=!1){const i=new Kl;i.updateFromServerResponse(n);const a=new Qr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await _g(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Pe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?S4(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new Kl;s.updateFromIdToken(r);const l=new Qr({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new i1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=new Map;function ra(t){va(t instanceof Function,"Expected a class definition");let e=X2.get(t);return e?(va(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,X2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}E4.type="NONE";const Q2=E4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(t,e,n){return`firebase:${t}:${e}:${n}`}class Yl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Am(this.userKey,i.apiKey,a),this.fullPersistenceKey=Am("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await wg(this.auth,{idToken:e}).catch(()=>{});return n?Qr._fromGetAccountInfoResponse(this.auth,n,e):null}return Qr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Yl(ra(Q2),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||ra(Q2);const o=Am(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const c=await u._get(o);if(c){let f;if(typeof c=="string"){const d=await wg(e,{idToken:c}).catch(()=>{});if(!d)break;f=await Qr._fromGetAccountInfoResponse(e,d,c)}else f=Qr._fromJSON(e,c);u!==a&&(s=f),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Yl(a,e,r):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new Yl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(P4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(T4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O4(e))return"Blackberry";if(N4(e))return"Webos";if(k4(e))return"Safari";if((e.includes("chrome/")||A4(e))&&!e.includes("edge/"))return"Chrome";if(I4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function T4(t=kn()){return/firefox\//i.test(t)}function k4(t=kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function A4(t=kn()){return/crios\//i.test(t)}function P4(t=kn()){return/iemobile/i.test(t)}function I4(t=kn()){return/android/i.test(t)}function O4(t=kn()){return/blackberry/i.test(t)}function N4(t=kn()){return/webos/i.test(t)}function WE(t=kn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Cq(t=kn()){var e;return WE(t)&&!!((e=window.navigator)!=null&&e.standalone)}function jq(){return qz()&&document.documentMode===10}function C4(t=kn()){return WE(t)||I4(t)||N4(t)||O4(t)||/windows phone/i.test(t)||P4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(t,e=[]){let n;switch(t){case"Browser":n=J2(kn());break;case"Worker":n=`${J2(kn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${tl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mq(t,e={}){return ic(t,"GET","/v2/passwordPolicy",BE(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $q=6;class Dq{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$q,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Z2(this),this.idTokenSubscription=new Z2(this),this.beforeStateQueue=new Rq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=v4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ra(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Yl.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wg(this,{idToken:e}),r=await Qr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Kr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,s=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _g(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kr(this.app))return Promise.reject(Es(this));const n=e?Bt(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kr(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kr(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ra(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Mq(this),n=new Dq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new el("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Nq(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ra(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await Yl.create(this,[ra(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=j4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Kr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&mq(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function qE(t){return Bt(t)}class Z2{constructor(e){this.auth=e,this.observer=null,this.addObserver=Jz(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vq(t){HE=t}function Fq(t){return HE.loadJS(t)}function Uq(){return HE.gapiScript}function Bq(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zq(t,e){const n=Lo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(ko(a,e??{}))return i;ya(i,"already-initialized")}return n.initialize({options:e})}function Wq(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ra);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function qq(t,e,n){const r=qE(t);Pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=R4(e),{host:o,port:s}=Hq(e),l=s===null?"":`:${s}`,u={url:`${a}//${o}${l}/`},c=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Pe(ko(u,r.config.emulator)&&ko(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,Zs(o)?(DE(`${a}//${o}${l}`),LE("Auth",!0)):Gq()}function R4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Hq(t){const e=R4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:eI(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:eI(o)}}}function eI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Gq(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return na("not implemented")}_getIdTokenResponse(e){return na("not implemented")}_linkToIdToken(e,n){return na("not implemented")}_getReauthenticationResolver(e){return na("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(t,e){return _q(t,"POST","/v1/accounts:signInWithIdp",BE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kq="http://localhost";class $s extends M4{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ya("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const o=new $s(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Xl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xl(e,n)}buildRequest(){const e={requestUri:Kq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=jh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends $4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends Mh{constructor(){super("facebook.com")}static credential(e){return $s._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xa.credentialFromTaggedObject(e)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xa.credential(e.oauthAccessToken)}catch{return null}}}Xa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends Mh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $s._fromParams({providerId:Qa.PROVIDER_ID,signInMethod:Qa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qa.credentialFromTaggedObject(e)}static credentialFromError(e){return Qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qa.credential(n,r)}catch{return null}}}Qa.GOOGLE_SIGN_IN_METHOD="google.com";Qa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends Mh{constructor(){super("github.com")}static credential(e){return $s._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ja.credentialFromTaggedObject(e)}static credentialFromError(e){return Ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ja.credential(e.oauthAccessToken)}catch{return null}}}Ja.GITHUB_SIGN_IN_METHOD="github.com";Ja.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends Mh{constructor(){super("twitter.com")}static credential(e,n){return $s._fromParams({providerId:Za.PROVIDER_ID,signInMethod:Za.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Za.credentialFromTaggedObject(e)}static credentialFromError(e){return Za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Za.credential(n,r)}catch{return null}}}Za.TWITTER_SIGN_IN_METHOD="twitter.com";Za.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Qr._fromIdTokenResponse(e,r,i),o=tI(r);return new gu({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=tI(r);return new gu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function tI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg extends Dr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Sg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Sg(e,n,r,i)}}function D4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Sg._fromErrorAndOperation(t,a,e,r):a})}async function Yq(t,e,n=!1){const r=await Td(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return gu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xq(t,e,n=!1){const{auth:r}=t;if(Kr(r.app))return Promise.reject(Es(r));const i="reauthenticate";try{const a=await Td(t,D4(r,i,e,t),n);Pe(a.idToken,r,"internal-error");const o=zE(a.idToken);Pe(o,r,"internal-error");const{sub:s}=o;return Pe(t.uid===s,r,"user-mismatch"),gu._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ya(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qq(t,e,n=!1){if(Kr(t.app))return Promise.reject(Es(t));const r="signIn",i=await D4(t,r,e),a=await gu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}function Jq(t,e,n,r){return Bt(t).onIdTokenChanged(e,n,r)}function Zq(t,e,n){return Bt(t).beforeAuthStateChanged(e,n)}const Eg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Eg,"1"),this.storage.removeItem(Eg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH=1e3,tH=10;class V4 extends L4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=C4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);jq()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,tH):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},eH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}V4.type="LOCAL";const nH=V4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4 extends L4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}F4.type="SESSION";const U4=F4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new q0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(o).map(async u=>u(n.origin,a)),l=await rH(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}q0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const u=GE("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(d.data.response);break;default:clearTimeout(c),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(){return window}function aH(t){Ai().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function oH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function lH(){return B4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4="firebaseLocalStorageDb",uH=1,Tg="firebaseLocalStorage",W4="fbase_key";class $h{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function H0(t,e){return t.transaction([Tg],e?"readwrite":"readonly").objectStore(Tg)}function cH(){const t=indexedDB.deleteDatabase(z4);return new $h(t).toPromise()}function a1(){const t=indexedDB.open(z4,uH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Tg,{keyPath:W4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Tg)?e(r):(r.close(),await cH(),e(await a1()))})})}async function nI(t,e,n){const r=H0(t,!0).put({[W4]:e,value:n});return new $h(r).toPromise()}async function fH(t,e){const n=H0(t,!1).get(e),r=await new $h(n).toPromise();return r===void 0?null:r.value}function rI(t,e){const n=H0(t,!0).delete(e);return new $h(n).toPromise()}const dH=800,hH=3;class q4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await a1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>hH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return B4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=q0._getInstance(lH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await oH(),!this.activeServiceWorker)return;this.sender=new iH(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await a1();return await nI(e,Eg,"1"),await rI(e,Eg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>nI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>fH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=H0(i,!1).getAll();return new $h(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}q4.type="LOCAL";const pH=q4;new Rh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mH(t,e){return e?ra(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE extends M4{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function gH(t){return Qq(t.auth,new KE(t),t.bypassAuthState)}function yH(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),Xq(n,new KE(t),t.bypassAuthState)}async function vH(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),Yq(n,new KE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gH;case"linkViaPopup":case"linkViaRedirect":return vH;case"reauthViaPopup":case"reauthViaRedirect":return yH;default:ya(this.auth,"internal-error")}}resolve(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bH=new Rh(2e3,1e4);class Rl extends H4{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Rl.currentPopupAction&&Rl.currentPopupAction.cancel(),Rl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){va(this.filter.length===1,"Popup operations only handle one event");const e=GE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bH.get())};e()}}Rl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xH="pendingRedirect",Pm=new Map;class wH extends H4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pm.get(this.auth._key());if(!e){try{const r=await _H(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pm.set(this.auth._key(),e)}return this.bypassAuthState||Pm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _H(t,e){const n=TH(e),r=EH(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function SH(t,e){Pm.set(t._key(),e)}function EH(t){return ra(t._redirectPersistence)}function TH(t){return Am(xH,t.config.apiKey,t.name)}async function kH(t,e,n=!1){if(Kr(t.app))return Promise.reject(Es(t));const r=qE(t),i=mH(r,e),o=await new wH(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AH=10*60*1e3;class PH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!G4(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ki(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AH&&this.cachedEventUids.clear(),this.cachedEventUids.has(iI(e))}saveEventToCache(e){this.cachedEventUids.add(iI(e)),this.lastProcessedEventTime=Date.now()}}function iI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function G4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OH(t,e={}){return ic(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CH=/^https?/;async function jH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await OH(t);for(const n of e)try{if(RH(n))return}catch{}ya(t,"unauthorized-domain")}function RH(t){const e=r1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!CH.test(n))return!1;if(NH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MH=new Rh(3e4,6e4);function aI(){const t=Ai().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $H(t){return new Promise((e,n)=>{var i,a,o;function r(){aI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aI(),n(ki(t,"network-request-failed"))},timeout:MH.get()})}if((a=(i=Ai().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=Ai().gapi)!=null&&o.load)r();else{const s=Bq("iframefcb");return Ai()[s]=()=>{gapi.load?r():n(ki(t,"network-request-failed"))},Fq(`${Uq()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw Im=null,e})}let Im=null;function DH(t){return Im=Im||$H(t),Im}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LH=new Rh(5e3,15e3),VH="__/auth/iframe",FH="emulator/auth/iframe",UH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zH(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?UE(e,FH):`https://${t.config.authDomain}/${VH}`,r={apiKey:e.apiKey,appName:t.name,v:tl},i=BH.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${jh(r).slice(1)}`}async function WH(t){const e=await DH(t),n=Ai().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:zH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UH,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=ki(t,"network-request-failed"),s=Ai().setTimeout(()=>{a(o)},LH.get());function l(){Ai().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HH=500,GH=600,KH="_blank",YH="http://localhost";class oI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XH(t,e,n,r=HH,i=GH){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l={...qH,width:r.toString(),height:i.toString(),top:a,left:o},u=kn().toLowerCase();n&&(s=A4(u)?KH:n),T4(u)&&(e=e||YH,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[m,g])=>`${d}${m}=${g},`,"");if(Cq(u)&&s!=="_self")return QH(e||"",s),new oI(null);const f=window.open(e||"",s,c);Pe(f,t,"popup-blocked");try{f.focus()}catch{}return new oI(f)}function QH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JH="__/auth/handler",ZH="emulator/auth/handler",eG=encodeURIComponent("fac");async function sI(t,e,n,r,i,a){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:tl,eventId:i};if(e instanceof $4){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Qz(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))o[c]=f}if(e instanceof Mh){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${eG}=${encodeURIComponent(l)}`:"";return`${tG(t)}?${jh(s).slice(1)}${u}`}function tG({config:t}){return t.emulator?UE(t,ZH):`https://${t.authDomain}/${JH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="webStorageSupport";class nG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=U4,this._completeRedirectFn=kH,this._overrideRedirectResult=SH}async _openPopup(e,n,r,i){var o;va((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await sI(e,n,r,r1(),i);return XH(e,a,GE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await sI(e,n,r,r1(),i);return aH(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(va(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await WH(e),r=new PH(e);return n.register("authEvent",i=>(Pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tx,{type:tx},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[tx];a!==void 0&&n(!!a),ya(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return C4()||k4()||WE()}}const rG=nG;var lI="@firebase/auth",uI="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oG(t){li(new Mr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;Pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:j4(t)},u=new Lq(r,i,a,l);return Wq(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),li(new Mr("auth-internal",e=>{const n=qE(e.getProvider("auth").getImmediate());return(r=>new iG(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jn(lI,uI,aG(t)),Jn(lI,uI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG=5*60,lG=o4("authIdTokenMaxAge")||sG;let cI=null;const uG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>lG)return;const i=n==null?void 0:n.token;cI!==i&&(cI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function cG(t=W0()){const e=Lo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=zq(t,{popupRedirectResolver:rG,persistence:[pH,nH,U4]}),r=o4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=uG(a.toString());Zq(n,o,()=>o(n.currentUser)),Jq(n,s=>o(s))}}const i=r4("auth");return i&&qq(n,`http://${i}`),n}function fG(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Vq({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=ki("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",fG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oG("Browser");var fI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xo,K4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function P(){}P.prototype=E.prototype,S.F=E.prototype,S.prototype=new P,S.prototype.constructor=S,S.D=function(N,O,C){for(var j=Array(arguments.length-2),D=2;D<arguments.length;D++)j[D-2]=arguments[D];return E.prototype[O].apply(N,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,E,P){P||(P=0);const N=Array(16);if(typeof E=="string")for(var O=0;O<16;++O)N[O]=E.charCodeAt(P++)|E.charCodeAt(P++)<<8|E.charCodeAt(P++)<<16|E.charCodeAt(P++)<<24;else for(O=0;O<16;++O)N[O]=E[P++]|E[P++]<<8|E[P++]<<16|E[P++]<<24;E=S.g[0],P=S.g[1],O=S.g[2];let C=S.g[3],j;j=E+(C^P&(O^C))+N[0]+3614090360&4294967295,E=P+(j<<7&4294967295|j>>>25),j=C+(O^E&(P^O))+N[1]+3905402710&4294967295,C=E+(j<<12&4294967295|j>>>20),j=O+(P^C&(E^P))+N[2]+606105819&4294967295,O=C+(j<<17&4294967295|j>>>15),j=P+(E^O&(C^E))+N[3]+3250441966&4294967295,P=O+(j<<22&4294967295|j>>>10),j=E+(C^P&(O^C))+N[4]+4118548399&4294967295,E=P+(j<<7&4294967295|j>>>25),j=C+(O^E&(P^O))+N[5]+1200080426&4294967295,C=E+(j<<12&4294967295|j>>>20),j=O+(P^C&(E^P))+N[6]+2821735955&4294967295,O=C+(j<<17&4294967295|j>>>15),j=P+(E^O&(C^E))+N[7]+4249261313&4294967295,P=O+(j<<22&4294967295|j>>>10),j=E+(C^P&(O^C))+N[8]+1770035416&4294967295,E=P+(j<<7&4294967295|j>>>25),j=C+(O^E&(P^O))+N[9]+2336552879&4294967295,C=E+(j<<12&4294967295|j>>>20),j=O+(P^C&(E^P))+N[10]+4294925233&4294967295,O=C+(j<<17&4294967295|j>>>15),j=P+(E^O&(C^E))+N[11]+2304563134&4294967295,P=O+(j<<22&4294967295|j>>>10),j=E+(C^P&(O^C))+N[12]+1804603682&4294967295,E=P+(j<<7&4294967295|j>>>25),j=C+(O^E&(P^O))+N[13]+4254626195&4294967295,C=E+(j<<12&4294967295|j>>>20),j=O+(P^C&(E^P))+N[14]+2792965006&4294967295,O=C+(j<<17&4294967295|j>>>15),j=P+(E^O&(C^E))+N[15]+1236535329&4294967295,P=O+(j<<22&4294967295|j>>>10),j=E+(O^C&(P^O))+N[1]+4129170786&4294967295,E=P+(j<<5&4294967295|j>>>27),j=C+(P^O&(E^P))+N[6]+3225465664&4294967295,C=E+(j<<9&4294967295|j>>>23),j=O+(E^P&(C^E))+N[11]+643717713&4294967295,O=C+(j<<14&4294967295|j>>>18),j=P+(C^E&(O^C))+N[0]+3921069994&4294967295,P=O+(j<<20&4294967295|j>>>12),j=E+(O^C&(P^O))+N[5]+3593408605&4294967295,E=P+(j<<5&4294967295|j>>>27),j=C+(P^O&(E^P))+N[10]+38016083&4294967295,C=E+(j<<9&4294967295|j>>>23),j=O+(E^P&(C^E))+N[15]+3634488961&4294967295,O=C+(j<<14&4294967295|j>>>18),j=P+(C^E&(O^C))+N[4]+3889429448&4294967295,P=O+(j<<20&4294967295|j>>>12),j=E+(O^C&(P^O))+N[9]+568446438&4294967295,E=P+(j<<5&4294967295|j>>>27),j=C+(P^O&(E^P))+N[14]+3275163606&4294967295,C=E+(j<<9&4294967295|j>>>23),j=O+(E^P&(C^E))+N[3]+4107603335&4294967295,O=C+(j<<14&4294967295|j>>>18),j=P+(C^E&(O^C))+N[8]+1163531501&4294967295,P=O+(j<<20&4294967295|j>>>12),j=E+(O^C&(P^O))+N[13]+2850285829&4294967295,E=P+(j<<5&4294967295|j>>>27),j=C+(P^O&(E^P))+N[2]+4243563512&4294967295,C=E+(j<<9&4294967295|j>>>23),j=O+(E^P&(C^E))+N[7]+1735328473&4294967295,O=C+(j<<14&4294967295|j>>>18),j=P+(C^E&(O^C))+N[12]+2368359562&4294967295,P=O+(j<<20&4294967295|j>>>12),j=E+(P^O^C)+N[5]+4294588738&4294967295,E=P+(j<<4&4294967295|j>>>28),j=C+(E^P^O)+N[8]+2272392833&4294967295,C=E+(j<<11&4294967295|j>>>21),j=O+(C^E^P)+N[11]+1839030562&4294967295,O=C+(j<<16&4294967295|j>>>16),j=P+(O^C^E)+N[14]+4259657740&4294967295,P=O+(j<<23&4294967295|j>>>9),j=E+(P^O^C)+N[1]+2763975236&4294967295,E=P+(j<<4&4294967295|j>>>28),j=C+(E^P^O)+N[4]+1272893353&4294967295,C=E+(j<<11&4294967295|j>>>21),j=O+(C^E^P)+N[7]+4139469664&4294967295,O=C+(j<<16&4294967295|j>>>16),j=P+(O^C^E)+N[10]+3200236656&4294967295,P=O+(j<<23&4294967295|j>>>9),j=E+(P^O^C)+N[13]+681279174&4294967295,E=P+(j<<4&4294967295|j>>>28),j=C+(E^P^O)+N[0]+3936430074&4294967295,C=E+(j<<11&4294967295|j>>>21),j=O+(C^E^P)+N[3]+3572445317&4294967295,O=C+(j<<16&4294967295|j>>>16),j=P+(O^C^E)+N[6]+76029189&4294967295,P=O+(j<<23&4294967295|j>>>9),j=E+(P^O^C)+N[9]+3654602809&4294967295,E=P+(j<<4&4294967295|j>>>28),j=C+(E^P^O)+N[12]+3873151461&4294967295,C=E+(j<<11&4294967295|j>>>21),j=O+(C^E^P)+N[15]+530742520&4294967295,O=C+(j<<16&4294967295|j>>>16),j=P+(O^C^E)+N[2]+3299628645&4294967295,P=O+(j<<23&4294967295|j>>>9),j=E+(O^(P|~C))+N[0]+4096336452&4294967295,E=P+(j<<6&4294967295|j>>>26),j=C+(P^(E|~O))+N[7]+1126891415&4294967295,C=E+(j<<10&4294967295|j>>>22),j=O+(E^(C|~P))+N[14]+2878612391&4294967295,O=C+(j<<15&4294967295|j>>>17),j=P+(C^(O|~E))+N[5]+4237533241&4294967295,P=O+(j<<21&4294967295|j>>>11),j=E+(O^(P|~C))+N[12]+1700485571&4294967295,E=P+(j<<6&4294967295|j>>>26),j=C+(P^(E|~O))+N[3]+2399980690&4294967295,C=E+(j<<10&4294967295|j>>>22),j=O+(E^(C|~P))+N[10]+4293915773&4294967295,O=C+(j<<15&4294967295|j>>>17),j=P+(C^(O|~E))+N[1]+2240044497&4294967295,P=O+(j<<21&4294967295|j>>>11),j=E+(O^(P|~C))+N[8]+1873313359&4294967295,E=P+(j<<6&4294967295|j>>>26),j=C+(P^(E|~O))+N[15]+4264355552&4294967295,C=E+(j<<10&4294967295|j>>>22),j=O+(E^(C|~P))+N[6]+2734768916&4294967295,O=C+(j<<15&4294967295|j>>>17),j=P+(C^(O|~E))+N[13]+1309151649&4294967295,P=O+(j<<21&4294967295|j>>>11),j=E+(O^(P|~C))+N[4]+4149444226&4294967295,E=P+(j<<6&4294967295|j>>>26),j=C+(P^(E|~O))+N[11]+3174756917&4294967295,C=E+(j<<10&4294967295|j>>>22),j=O+(E^(C|~P))+N[2]+718787259&4294967295,O=C+(j<<15&4294967295|j>>>17),j=P+(C^(O|~E))+N[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(O+(j<<21&4294967295|j>>>11))&4294967295,S.g[2]=S.g[2]+O&4294967295,S.g[3]=S.g[3]+C&4294967295}r.prototype.v=function(S,E){E===void 0&&(E=S.length);const P=E-this.blockSize,N=this.C;let O=this.h,C=0;for(;C<E;){if(O==0)for(;C<=P;)i(this,S,C),C+=this.blockSize;if(typeof S=="string"){for(;C<E;)if(N[O++]=S.charCodeAt(C++),O==this.blockSize){i(this,N),O=0;break}}else for(;C<E;)if(N[O++]=S[C++],O==this.blockSize){i(this,N),O=0;break}}this.h=O,this.o+=E},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;E=this.o*8;for(var P=S.length-8;P<S.length;++P)S[P]=E&255,E/=256;for(this.v(S),S=Array(16),E=0,P=0;P<4;++P)for(let N=0;N<32;N+=8)S[E++]=this.g[P]>>>N&255;return S};function a(S,E){var P=s;return Object.prototype.hasOwnProperty.call(P,S)?P[S]:P[S]=E(S)}function o(S,E){this.h=E;const P=[];let N=!0;for(let O=S.length-1;O>=0;O--){const C=S[O]|0;N&&C==E||(P[O]=C,N=!1)}this.g=P}var s={};function l(S){return-128<=S&&S<128?a(S,function(E){return new o([E|0],E<0?-1:0)}):new o([S|0],S<0?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(S<0)return b(u(-S));const E=[];let P=1;for(let N=0;S>=P;N++)E[N]=S/P|0,P*=4294967296;return new o(E,0)}function c(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return b(c(S.substring(1),E));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=u(Math.pow(E,8));let N=f;for(let C=0;C<S.length;C+=8){var O=Math.min(8,S.length-C);const j=parseInt(S.substring(C,C+O),E);O<8?(O=u(Math.pow(E,O)),N=N.j(O).add(u(j))):(N=N.j(P),N=N.add(u(j)))}return N}var f=l(0),d=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-b(this).m();let S=0,E=1;for(let P=0;P<this.g.length;P++){const N=this.i(P);S+=(N>=0?N:4294967296+N)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(g(this))return"0";if(y(this))return"-"+b(this).toString(S);const E=u(Math.pow(S,6));var P=this;let N="";for(;;){const O=A(P,E).g;P=v(P,O.j(E));let C=((P.g.length>0?P.g[0]:P.h)>>>0).toString(S);if(P=O,g(P))return C+N;for(;C.length<6;)C="0"+C;N=C+N}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function g(S){if(S.h!=0)return!1;for(let E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function y(S){return S.h==-1}t.l=function(S){return S=v(this,S),y(S)?-1:g(S)?0:1};function b(S){const E=S.g.length,P=[];for(let N=0;N<E;N++)P[N]=~S.g[N];return new o(P,~S.h).add(d)}t.abs=function(){return y(this)?b(this):this},t.add=function(S){const E=Math.max(this.g.length,S.g.length),P=[];let N=0;for(let O=0;O<=E;O++){let C=N+(this.i(O)&65535)+(S.i(O)&65535),j=(C>>>16)+(this.i(O)>>>16)+(S.i(O)>>>16);N=j>>>16,C&=65535,j&=65535,P[O]=j<<16|C}return new o(P,P[P.length-1]&-2147483648?-1:0)};function v(S,E){return S.add(b(E))}t.j=function(S){if(g(this)||g(S))return f;if(y(this))return y(S)?b(this).j(b(S)):b(b(this).j(S));if(y(S))return b(this.j(b(S)));if(this.l(m)<0&&S.l(m)<0)return u(this.m()*S.m());const E=this.g.length+S.g.length,P=[];for(var N=0;N<2*E;N++)P[N]=0;for(N=0;N<this.g.length;N++)for(let O=0;O<S.g.length;O++){const C=this.i(N)>>>16,j=this.i(N)&65535,D=S.i(O)>>>16,R=S.i(O)&65535;P[2*N+2*O]+=j*R,x(P,2*N+2*O),P[2*N+2*O+1]+=C*R,x(P,2*N+2*O+1),P[2*N+2*O+1]+=j*D,x(P,2*N+2*O+1),P[2*N+2*O+2]+=C*D,x(P,2*N+2*O+2)}for(S=0;S<E;S++)P[S]=P[2*S+1]<<16|P[2*S];for(S=E;S<2*E;S++)P[S]=0;return new o(P,0)};function x(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function w(S,E){this.g=S,this.h=E}function A(S,E){if(g(E))throw Error("division by zero");if(g(S))return new w(f,f);if(y(S))return E=A(b(S),E),new w(b(E.g),b(E.h));if(y(E))return E=A(S,b(E)),new w(b(E.g),E.h);if(S.g.length>30){if(y(S)||y(E))throw Error("slowDivide_ only works with positive integers.");for(var P=d,N=E;N.l(S)<=0;)P=_(P),N=_(N);var O=k(P,1),C=k(N,1);for(N=k(N,2),P=k(P,2);!g(N);){var j=C.add(N);j.l(S)<=0&&(O=O.add(P),C=j),N=k(N,1),P=k(P,1)}return E=v(S,O.j(E)),new w(O,E)}for(O=f;S.l(E)>=0;){for(P=Math.max(1,Math.floor(S.m()/E.m())),N=Math.ceil(Math.log(P)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),C=u(P),j=C.j(E);y(j)||j.l(S)>0;)P-=N,C=u(P),j=C.j(E);g(C)&&(C=d),O=O.add(C),S=v(S,j)}return new w(O,S)}t.B=function(S){return A(this,S).h},t.and=function(S){const E=Math.max(this.g.length,S.g.length),P=[];for(let N=0;N<E;N++)P[N]=this.i(N)&S.i(N);return new o(P,this.h&S.h)},t.or=function(S){const E=Math.max(this.g.length,S.g.length),P=[];for(let N=0;N<E;N++)P[N]=this.i(N)|S.i(N);return new o(P,this.h|S.h)},t.xor=function(S){const E=Math.max(this.g.length,S.g.length),P=[];for(let N=0;N<E;N++)P[N]=this.i(N)^S.i(N);return new o(P,this.h^S.h)};function _(S){const E=S.g.length+1,P=[];for(let N=0;N<E;N++)P[N]=S.i(N)<<1|S.i(N-1)>>>31;return new o(P,S.h)}function k(S,E){const P=E>>5;E%=32;const N=S.g.length-P,O=[];for(let C=0;C<N;C++)O[C]=E>0?S.i(C+P)>>>E|S.i(C+P+1)<<32-E:S.i(C+P);return new o(O,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,K4=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,xo=o}).apply(typeof fI<"u"?fI:typeof self<"u"?self:typeof window<"u"?window:{});var $p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Y4,vf,X4,Om,o1,Q4,J4,Z4;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof $p=="object"&&$p];for(var T=0;T<p.length;++T){var I=p[T];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(p,T){if(T)e:{var I=r;p=p.split(".");for(var L=0;L<p.length-1;L++){var G=p[L];if(!(G in I))break e;I=I[G]}p=p[p.length-1],L=I[p],T=T(L),T!=L&&T!=null&&e(I,p,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(T){var I=[],L;for(L in T)Object.prototype.hasOwnProperty.call(T,L)&&I.push([L,T[L]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function s(p){var T=typeof p;return T=="object"&&p!=null||T=="function"}function l(p,T,I){return p.call.apply(p.bind,arguments)}function u(p,T,I){return u=l,u.apply(null,arguments)}function c(p,T){var I=Array.prototype.slice.call(arguments,1);return function(){var L=I.slice();return L.push.apply(L,arguments),p.apply(this,L)}}function f(p,T){function I(){}I.prototype=T.prototype,p.Z=T.prototype,p.prototype=new I,p.prototype.constructor=p,p.Ob=function(L,G,Y){for(var ce=Array(arguments.length-2),De=2;De<arguments.length;De++)ce[De-2]=arguments[De];return T.prototype[G].apply(L,ce)}}var d=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function m(p){const T=p.length;if(T>0){const I=Array(T);for(let L=0;L<T;L++)I[L]=p[L];return I}return[]}function g(p,T){for(let L=1;L<arguments.length;L++){const G=arguments[L];var I=typeof G;if(I=I!="object"?I:G?Array.isArray(G)?"array":I:"null",I=="array"||I=="object"&&typeof G.length=="number"){I=p.length||0;const Y=G.length||0;p.length=I+Y;for(let ce=0;ce<Y;ce++)p[I+ce]=G[ce]}else p.push(G)}}class y{constructor(T,I){this.i=T,this.j=I,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function b(p){o.setTimeout(()=>{throw p},0)}function v(){var p=S;let T=null;return p.g&&(T=p.g,p.g=p.g.next,p.g||(p.h=null),T.next=null),T}class x{constructor(){this.h=this.g=null}add(T,I){const L=w.get();L.set(T,I),this.h?this.h.next=L:this.g=L,this.h=L}}var w=new y(()=>new A,p=>p.reset());class A{constructor(){this.next=this.g=this.h=null}set(T,I){this.h=T,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let _,k=!1,S=new x,E=()=>{const p=Promise.resolve(void 0);_=()=>{p.then(P)}};function P(){for(var p;p=v();){try{p.h.call(p.g)}catch(I){b(I)}var T=w;T.j(p),T.h<100&&(T.h++,p.next=T.g,T.g=p)}k=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(p,T){this.type=p,this.g=this.target=T,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var p=!1,T=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const I=()=>{};o.addEventListener("test",I,T),o.removeEventListener("test",I,T)}catch{}return p}();function j(p){return/^[\s\xa0]*$/.test(p)}function D(p,T){O.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,T)}f(D,O),D.prototype.init=function(p,T){const I=this.type=p.type,L=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=T,T=p.relatedTarget,T||(I=="mouseover"?T=p.fromElement:I=="mouseout"&&(T=p.toElement)),this.relatedTarget=T,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&D.Z.h.call(this)},D.prototype.h=function(){D.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var R="closure_listenable_"+(Math.random()*1e6|0),$=0;function F(p,T,I,L,G){this.listener=p,this.proxy=null,this.src=T,this.type=I,this.capture=!!L,this.ha=G,this.key=++$,this.da=this.fa=!1}function V(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function U(p,T,I){for(const L in p)T.call(I,p[L],L,p)}function W(p,T){for(const I in p)T.call(void 0,p[I],I,p)}function q(p){const T={};for(const I in p)T[I]=p[I];return T}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(p,T){let I,L;for(let G=1;G<arguments.length;G++){L=arguments[G];for(I in L)p[I]=L[I];for(let Y=0;Y<B.length;Y++)I=B[Y],Object.prototype.hasOwnProperty.call(L,I)&&(p[I]=L[I])}}function re(p){this.src=p,this.g={},this.h=0}re.prototype.add=function(p,T,I,L,G){const Y=p.toString();p=this.g[Y],p||(p=this.g[Y]=[],this.h++);const ce=ve(p,T,L,G);return ce>-1?(T=p[ce],I||(T.fa=!1)):(T=new F(T,this.src,Y,!!L,G),T.fa=I,p.push(T)),T};function fe(p,T){const I=T.type;if(I in p.g){var L=p.g[I],G=Array.prototype.indexOf.call(L,T,void 0),Y;(Y=G>=0)&&Array.prototype.splice.call(L,G,1),Y&&(V(T),p.g[I].length==0&&(delete p.g[I],p.h--))}}function ve(p,T,I,L){for(let G=0;G<p.length;++G){const Y=p[G];if(!Y.da&&Y.listener==T&&Y.capture==!!I&&Y.ha==L)return G}return-1}var Ae="closure_lm_"+(Math.random()*1e6|0),Ee={};function J(p,T,I,L,G){if(Array.isArray(T)){for(let Y=0;Y<T.length;Y++)J(p,T[Y],I,L,G);return null}return I=Ve(I),p&&p[R]?p.J(T,I,s(L)?!!L.capture:!1,G):Z(p,T,I,!1,L,G)}function Z(p,T,I,L,G,Y){if(!T)throw Error("Invalid event type");const ce=s(G)?!!G.capture:!!G;let De=de(p);if(De||(p[Ae]=De=new re(p)),I=De.add(T,I,L,ce,Y),I.proxy)return I;if(L=ue(),I.proxy=L,L.src=p,L.listener=I,p.addEventListener)C||(G=ce),G===void 0&&(G=!1),p.addEventListener(T.toString(),L,G);else if(p.attachEvent)p.attachEvent(xe(T.toString()),L);else if(p.addListener&&p.removeListener)p.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return I}function ue(){function p(I){return T.call(p.src,p.listener,I)}const T=ie;return p}function Q(p,T,I,L,G){if(Array.isArray(T))for(var Y=0;Y<T.length;Y++)Q(p,T[Y],I,L,G);else L=s(L)?!!L.capture:!!L,I=Ve(I),p&&p[R]?(p=p.i,Y=String(T).toString(),Y in p.g&&(T=p.g[Y],I=ve(T,I,L,G),I>-1&&(V(T[I]),Array.prototype.splice.call(T,I,1),T.length==0&&(delete p.g[Y],p.h--)))):p&&(p=de(p))&&(T=p.g[T.toString()],p=-1,T&&(p=ve(T,I,L,G)),(I=p>-1?T[p]:null)&&Re(I))}function Re(p){if(typeof p!="number"&&p&&!p.da){var T=p.src;if(T&&T[R])fe(T.i,p);else{var I=p.type,L=p.proxy;T.removeEventListener?T.removeEventListener(I,L,p.capture):T.detachEvent?T.detachEvent(xe(I),L):T.addListener&&T.removeListener&&T.removeListener(L),(I=de(T))?(fe(I,p),I.h==0&&(I.src=null,T[Ae]=null)):V(p)}}}function xe(p){return p in Ee?Ee[p]:Ee[p]="on"+p}function ie(p,T){if(p.da)p=!0;else{T=new D(T,this);const I=p.listener,L=p.ha||p.src;p.fa&&Re(p),p=I.call(L,T)}return p}function de(p){return p=p[Ae],p instanceof re?p:null}var Ce="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ve(p){return typeof p=="function"?p:(p[Ce]||(p[Ce]=function(T){return p.handleEvent(T)}),p[Ce])}function je(){N.call(this),this.i=new re(this),this.M=this,this.G=null}f(je,N),je.prototype[R]=!0,je.prototype.removeEventListener=function(p,T,I,L){Q(this,p,T,I,L)};function H(p,T){var I,L=p.G;if(L)for(I=[];L;L=L.G)I.push(L);if(p=p.M,L=T.type||T,typeof T=="string")T=new O(T,p);else if(T instanceof O)T.target=T.target||p;else{var G=T;T=new O(L,p),K(T,G)}G=!0;let Y,ce;if(I)for(ce=I.length-1;ce>=0;ce--)Y=T.g=I[ce],G=se(Y,L,!0,T)&&G;if(Y=T.g=p,G=se(Y,L,!0,T)&&G,G=se(Y,L,!1,T)&&G,I)for(ce=0;ce<I.length;ce++)Y=T.g=I[ce],G=se(Y,L,!1,T)&&G}je.prototype.N=function(){if(je.Z.N.call(this),this.i){var p=this.i;for(const T in p.g){const I=p.g[T];for(let L=0;L<I.length;L++)V(I[L]);delete p.g[T],p.h--}}this.G=null},je.prototype.J=function(p,T,I,L){return this.i.add(String(p),T,!1,I,L)},je.prototype.K=function(p,T,I,L){return this.i.add(String(p),T,!0,I,L)};function se(p,T,I,L){if(T=p.i.g[String(T)],!T)return!0;T=T.concat();let G=!0;for(let Y=0;Y<T.length;++Y){const ce=T[Y];if(ce&&!ce.da&&ce.capture==I){const De=ce.listener,zt=ce.ha||ce.src;ce.fa&&fe(p.i,ce),G=De.call(zt,L)!==!1&&G}}return G&&!L.defaultPrevented}function ae(p,T){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=u(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:o.setTimeout(p,T||0)}function Me(p){p.g=ae(()=>{p.g=null,p.i&&(p.i=!1,Me(p))},p.l);const T=p.h;p.h=null,p.m.apply(null,T)}class pn extends N{constructor(T,I){super(),this.m=T,this.l=I,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Me(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nt(p){N.call(this),this.h=p,this.g={}}f(Nt,N);var Go=[];function ap(p){U(p.g,function(T,I){this.g.hasOwnProperty(I)&&Re(T)},p),p.g={}}Nt.prototype.N=function(){Nt.Z.N.call(this),ap(this)},Nt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kc=o.JSON.stringify,sU=o.JSON.parse,lU=class{stringify(p){return o.JSON.stringify(p,void 0)}parse(p){return o.JSON.parse(p,void 0)}};function EA(){}function TA(){}var Ac={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ob(){O.call(this,"d")}f(ob,O);function sb(){O.call(this,"c")}f(sb,O);var Ko={},kA=null;function op(){return kA=kA||new je}Ko.Ia="serverreachability";function AA(p){O.call(this,Ko.Ia,p)}f(AA,O);function Pc(p){const T=op();H(T,new AA(T))}Ko.STAT_EVENT="statevent";function PA(p,T){O.call(this,Ko.STAT_EVENT,p),this.stat=T}f(PA,O);function An(p){const T=op();H(T,new PA(T,p))}Ko.Ja="timingevent";function IA(p,T){O.call(this,Ko.Ja,p),this.size=T}f(IA,O);function Ic(p,T){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){p()},T)}function Oc(){this.g=!0}Oc.prototype.ua=function(){this.g=!1};function uU(p,T,I,L,G,Y){p.info(function(){if(p.g)if(Y){var ce="",De=Y.split("&");for(let nt=0;nt<De.length;nt++){var zt=De[nt].split("=");if(zt.length>1){const Qt=zt[0];zt=zt[1];const hi=Qt.split("_");ce=hi.length>=2&&hi[1]=="type"?ce+(Qt+"="+zt+"&"):ce+(Qt+"=redacted&")}}}else ce=null;else ce=Y;return"XMLHTTP REQ ("+L+") [attempt "+G+"]: "+T+`
`+I+`
`+ce})}function cU(p,T,I,L,G,Y,ce){p.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+G+"]: "+T+`
`+I+`
`+Y+" "+ce})}function ul(p,T,I,L){p.info(function(){return"XMLHTTP TEXT ("+T+"): "+dU(p,I)+(L?" "+L:"")})}function fU(p,T){p.info(function(){return"TIMEOUT: "+T})}Oc.prototype.info=function(){};function dU(p,T){if(!p.g)return T;if(!T)return null;try{const Y=JSON.parse(T);if(Y){for(p=0;p<Y.length;p++)if(Array.isArray(Y[p])){var I=Y[p];if(!(I.length<2)){var L=I[1];if(Array.isArray(L)&&!(L.length<1)){var G=L[0];if(G!="noop"&&G!="stop"&&G!="close")for(let ce=1;ce<L.length;ce++)L[ce]=""}}}}return kc(Y)}catch{return T}}var sp={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},OA={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},NA;function lb(){}f(lb,EA),lb.prototype.g=function(){return new XMLHttpRequest},NA=new lb;function Nc(p){return encodeURIComponent(String(p))}function hU(p){var T=1;p=p.split(":");const I=[];for(;T>0&&p.length;)I.push(p.shift()),T--;return p.length&&I.push(p.join(":")),I}function Na(p,T,I,L){this.j=p,this.i=T,this.l=I,this.S=L||1,this.V=new Nt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new CA}function CA(){this.i=null,this.g="",this.h=!1}var jA={},ub={};function cb(p,T,I){p.M=1,p.A=up(di(T)),p.u=I,p.R=!0,RA(p,null)}function RA(p,T){p.F=Date.now(),lp(p),p.B=di(p.A);var I=p.B,L=p.S;Array.isArray(L)||(L=[String(L)]),GA(I.i,"t",L),p.C=0,I=p.j.L,p.h=new CA,p.g=fP(p.j,I?T:null,!p.u),p.P>0&&(p.O=new pn(u(p.Y,p,p.g),p.P)),T=p.V,I=p.g,L=p.ba;var G="readystatechange";Array.isArray(G)||(G&&(Go[0]=G.toString()),G=Go);for(let Y=0;Y<G.length;Y++){const ce=J(I,G[Y],L||T.handleEvent,!1,T.h||T);if(!ce)break;T.g[ce.key]=ce}T=p.J?q(p.J):{},p.u?(p.v||(p.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,T)):(p.v="GET",p.g.ea(p.B,p.v,null,T)),Pc(),uU(p.i,p.v,p.B,p.l,p.S,p.u)}Na.prototype.ba=function(p){p=p.target;const T=this.O;T&&Ra(p)==3?T.j():this.Y(p)},Na.prototype.Y=function(p){try{if(p==this.g)e:{const De=Ra(this.g),zt=this.g.ya(),nt=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||eP(this.g)))){this.K||De!=4||zt==7||(zt==8||nt<=0?Pc(3):Pc(2)),fb(this);var T=this.g.ca();this.X=T;var I=pU(this);if(this.o=T==200,cU(this.i,this.v,this.B,this.l,this.S,De,T),this.o){if(this.U&&!this.L){t:{if(this.g){var L,G=this.g;if((L=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(L)){var Y=L;break t}}Y=null}if(p=Y)ul(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,db(this,p);else{this.o=!1,this.m=3,An(12),Yo(this),Cc(this);break e}}if(this.R){p=!0;let Qt;for(;!this.K&&this.C<I.length;)if(Qt=mU(this,I),Qt==ub){De==4&&(this.m=4,An(14),p=!1),ul(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==jA){this.m=4,An(15),ul(this.i,this.l,I,"[Invalid Chunk]"),p=!1;break}else ul(this.i,this.l,Qt,null),db(this,Qt);if(MA(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||I.length!=0||this.h.h||(this.m=1,An(16),p=!1),this.o=this.o&&p,!p)ul(this.i,this.l,I,"[Invalid Chunked Response]"),Yo(this),Cc(this);else if(I.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),xb(ce),ce.P=!0,An(11))}}else ul(this.i,this.l,I,null),db(this,I);De==4&&Yo(this),this.o&&!this.K&&(De==4?sP(this.j,this):(this.o=!1,lp(this)))}else IU(this.g),T==400&&I.indexOf("Unknown SID")>0?(this.m=3,An(12)):(this.m=0,An(13)),Yo(this),Cc(this)}}}catch{}finally{}};function pU(p){if(!MA(p))return p.g.la();const T=eP(p.g);if(T==="")return"";let I="";const L=T.length,G=Ra(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return Yo(p),Cc(p),"";p.h.i=new o.TextDecoder}for(let Y=0;Y<L;Y++)p.h.h=!0,I+=p.h.i.decode(T[Y],{stream:!(G&&Y==L-1)});return T.length=0,p.h.g+=I,p.C=0,p.h.g}function MA(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function mU(p,T){var I=p.C,L=T.indexOf(`
`,I);return L==-1?ub:(I=Number(T.substring(I,L)),isNaN(I)?jA:(L+=1,L+I>T.length?ub:(T=T.slice(L,L+I),p.C=L+I,T)))}Na.prototype.cancel=function(){this.K=!0,Yo(this)};function lp(p){p.T=Date.now()+p.H,$A(p,p.H)}function $A(p,T){if(p.D!=null)throw Error("WatchDog timer not null");p.D=Ic(u(p.aa,p),T)}function fb(p){p.D&&(o.clearTimeout(p.D),p.D=null)}Na.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(fU(this.i,this.B),this.M!=2&&(Pc(),An(17)),Yo(this),this.m=2,Cc(this)):$A(this,this.T-p)};function Cc(p){p.j.I==0||p.K||sP(p.j,p)}function Yo(p){fb(p);var T=p.O;T&&typeof T.dispose=="function"&&T.dispose(),p.O=null,ap(p.V),p.g&&(T=p.g,p.g=null,T.abort(),T.dispose())}function db(p,T){try{var I=p.j;if(I.I!=0&&(I.g==p||hb(I.h,p))){if(!p.L&&hb(I.h,p)&&I.I==3){try{var L=I.Ba.g.parse(T)}catch{L=null}if(Array.isArray(L)&&L.length==3){var G=L;if(G[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<p.F)pp(I),dp(I);else break e;bb(I),An(18)}}else I.xa=G[1],0<I.xa-I.K&&G[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=Ic(u(I.Va,I),6e3));VA(I.h)<=1&&I.ta&&(I.ta=void 0)}else Qo(I,11)}else if((p.L||I.g==p)&&pp(I),!j(T))for(G=I.Ba.g.parse(T),T=0;T<G.length;T++){let nt=G[T];const Qt=nt[0];if(!(Qt<=I.K))if(I.K=Qt,nt=nt[1],I.I==2)if(nt[0]=="c"){I.M=nt[1],I.ba=nt[2];const hi=nt[3];hi!=null&&(I.ka=hi,I.j.info("VER="+I.ka));const Jo=nt[4];Jo!=null&&(I.za=Jo,I.j.info("SVER="+I.za));const Ma=nt[5];Ma!=null&&typeof Ma=="number"&&Ma>0&&(L=1.5*Ma,I.O=L,I.j.info("backChannelRequestTimeoutMs_="+L)),L=I;const $a=p.g;if($a){const gp=$a.g?$a.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gp){var Y=L.h;Y.g||gp.indexOf("spdy")==-1&&gp.indexOf("quic")==-1&&gp.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(pb(Y,Y.h),Y.h=null))}if(L.G){const wb=$a.g?$a.g.getResponseHeader("X-HTTP-Session-Id"):null;wb&&(L.wa=wb,ct(L.J,L.G,wb))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-p.F,I.j.info("Handshake RTT: "+I.T+"ms")),L=I;var ce=p;if(L.na=cP(L,L.L?L.ba:null,L.W),ce.L){FA(L.h,ce);var De=ce,zt=L.O;zt&&(De.H=zt),De.D&&(fb(De),lp(De)),L.g=ce}else aP(L);I.i.length>0&&hp(I)}else nt[0]!="stop"&&nt[0]!="close"||Qo(I,7);else I.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?Qo(I,7):vb(I):nt[0]!="noop"&&I.l&&I.l.qa(nt),I.A=0)}}Pc(4)}catch{}}var gU=class{constructor(p,T){this.g=p,this.map=T}};function DA(p){this.l=p||10,o.PerformanceNavigationTiming?(p=o.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function LA(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function VA(p){return p.h?1:p.g?p.g.size:0}function hb(p,T){return p.h?p.h==T:p.g?p.g.has(T):!1}function pb(p,T){p.g?p.g.add(T):p.h=T}function FA(p,T){p.h&&p.h==T?p.h=null:p.g&&p.g.has(T)&&p.g.delete(T)}DA.prototype.cancel=function(){if(this.i=UA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function UA(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let T=p.i;for(const I of p.g.values())T=T.concat(I.G);return T}return m(p.i)}var BA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yU(p,T){if(p){p=p.split("&");for(let I=0;I<p.length;I++){const L=p[I].indexOf("=");let G,Y=null;L>=0?(G=p[I].substring(0,L),Y=p[I].substring(L+1)):G=p[I],T(G,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Ca(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;p instanceof Ca?(this.l=p.l,jc(this,p.j),this.o=p.o,this.g=p.g,Rc(this,p.u),this.h=p.h,mb(this,KA(p.i)),this.m=p.m):p&&(T=String(p).match(BA))?(this.l=!1,jc(this,T[1]||"",!0),this.o=Mc(T[2]||""),this.g=Mc(T[3]||"",!0),Rc(this,T[4]),this.h=Mc(T[5]||"",!0),mb(this,T[6]||"",!0),this.m=Mc(T[7]||"")):(this.l=!1,this.i=new Dc(null,this.l))}Ca.prototype.toString=function(){const p=[];var T=this.j;T&&p.push($c(T,zA,!0),":");var I=this.g;return(I||T=="file")&&(p.push("//"),(T=this.o)&&p.push($c(T,zA,!0),"@"),p.push(Nc(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&p.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&p.push("/"),p.push($c(I,I.charAt(0)=="/"?xU:bU,!0))),(I=this.i.toString())&&p.push("?",I),(I=this.m)&&p.push("#",$c(I,_U)),p.join("")},Ca.prototype.resolve=function(p){const T=di(this);let I=!!p.j;I?jc(T,p.j):I=!!p.o,I?T.o=p.o:I=!!p.g,I?T.g=p.g:I=p.u!=null;var L=p.h;if(I)Rc(T,p.u);else if(I=!!p.h){if(L.charAt(0)!="/")if(this.g&&!this.h)L="/"+L;else{var G=T.h.lastIndexOf("/");G!=-1&&(L=T.h.slice(0,G+1)+L)}if(G=L,G==".."||G==".")L="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){L=G.lastIndexOf("/",0)==0,G=G.split("/");const Y=[];for(let ce=0;ce<G.length;){const De=G[ce++];De=="."?L&&ce==G.length&&Y.push(""):De==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),L&&ce==G.length&&Y.push("")):(Y.push(De),L=!0)}L=Y.join("/")}else L=G}return I?T.h=L:I=p.i.toString()!=="",I?mb(T,KA(p.i)):I=!!p.m,I&&(T.m=p.m),T};function di(p){return new Ca(p)}function jc(p,T,I){p.j=I?Mc(T,!0):T,p.j&&(p.j=p.j.replace(/:$/,""))}function Rc(p,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);p.u=T}else p.u=null}function mb(p,T,I){T instanceof Dc?(p.i=T,SU(p.i,p.l)):(I||(T=$c(T,wU)),p.i=new Dc(T,p.l))}function ct(p,T,I){p.i.set(T,I)}function up(p){return ct(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Mc(p,T){return p?T?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function $c(p,T,I){return typeof p=="string"?(p=encodeURI(p).replace(T,vU),I&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function vU(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var zA=/[#\/\?@]/g,bU=/[#\?:]/g,xU=/[#\?]/g,wU=/[#\?@]/g,_U=/#/g;function Dc(p,T){this.h=this.g=null,this.i=p||null,this.j=!!T}function Xo(p){p.g||(p.g=new Map,p.h=0,p.i&&yU(p.i,function(T,I){p.add(decodeURIComponent(T.replace(/\+/g," ")),I)}))}t=Dc.prototype,t.add=function(p,T){Xo(this),this.i=null,p=cl(this,p);let I=this.g.get(p);return I||this.g.set(p,I=[]),I.push(T),this.h+=1,this};function WA(p,T){Xo(p),T=cl(p,T),p.g.has(T)&&(p.i=null,p.h-=p.g.get(T).length,p.g.delete(T))}function qA(p,T){return Xo(p),T=cl(p,T),p.g.has(T)}t.forEach=function(p,T){Xo(this),this.g.forEach(function(I,L){I.forEach(function(G){p.call(T,G,L,this)},this)},this)};function HA(p,T){Xo(p);let I=[];if(typeof T=="string")qA(p,T)&&(I=I.concat(p.g.get(cl(p,T))));else for(p=Array.from(p.g.values()),T=0;T<p.length;T++)I=I.concat(p[T]);return I}t.set=function(p,T){return Xo(this),this.i=null,p=cl(this,p),qA(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[T]),this.h+=1,this},t.get=function(p,T){return p?(p=HA(this,p),p.length>0?String(p[0]):T):T};function GA(p,T,I){WA(p,T),I.length>0&&(p.i=null,p.g.set(cl(p,T),m(I)),p.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],T=Array.from(this.g.keys());for(let L=0;L<T.length;L++){var I=T[L];const G=Nc(I);I=HA(this,I);for(let Y=0;Y<I.length;Y++){let ce=G;I[Y]!==""&&(ce+="="+Nc(I[Y])),p.push(ce)}}return this.i=p.join("&")};function KA(p){const T=new Dc;return T.i=p.i,p.g&&(T.g=new Map(p.g),T.h=p.h),T}function cl(p,T){return T=String(T),p.j&&(T=T.toLowerCase()),T}function SU(p,T){T&&!p.j&&(Xo(p),p.i=null,p.g.forEach(function(I,L){const G=L.toLowerCase();L!=G&&(WA(this,L),GA(this,G,I))},p)),p.j=T}function EU(p,T){const I=new Oc;if(o.Image){const L=new Image;L.onload=c(ja,I,"TestLoadImage: loaded",!0,T,L),L.onerror=c(ja,I,"TestLoadImage: error",!1,T,L),L.onabort=c(ja,I,"TestLoadImage: abort",!1,T,L),L.ontimeout=c(ja,I,"TestLoadImage: timeout",!1,T,L),o.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=p}else T(!1)}function TU(p,T){const I=new Oc,L=new AbortController,G=setTimeout(()=>{L.abort(),ja(I,"TestPingServer: timeout",!1,T)},1e4);fetch(p,{signal:L.signal}).then(Y=>{clearTimeout(G),Y.ok?ja(I,"TestPingServer: ok",!0,T):ja(I,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(G),ja(I,"TestPingServer: error",!1,T)})}function ja(p,T,I,L,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),L(I)}catch{}}function kU(){this.g=new lU}function gb(p){this.i=p.Sb||null,this.h=p.ab||!1}f(gb,EA),gb.prototype.g=function(){return new cp(this.i,this.h)};function cp(p,T){je.call(this),this.H=p,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(cp,je),t=cp.prototype,t.open=function(p,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=T,this.readyState=1,Vc(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(T.body=p),(this.H||o).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Lc(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Vc(this)),this.g&&(this.readyState=3,Vc(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;YA(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function YA(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var T=p.value?p.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!p.done}))&&(this.response=this.responseText+=T)}p.done?Lc(this):Vc(this),this.readyState==3&&YA(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,Lc(this))},t.Na=function(p){this.g&&(this.response=p,Lc(this))},t.ga=function(){this.g&&Lc(this)};function Lc(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Vc(p)}t.setRequestHeader=function(p,T){this.A.append(p,T)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],T=this.h.entries();for(var I=T.next();!I.done;)I=I.value,p.push(I[0]+": "+I[1]),I=T.next();return p.join(`\r
`)};function Vc(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(cp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function XA(p){let T="";return U(p,function(I,L){T+=L,T+=":",T+=I,T+=`\r
`}),T}function yb(p,T,I){e:{for(L in I){var L=!1;break e}L=!0}L||(I=XA(I),typeof p=="string"?I!=null&&Nc(I):ct(p,T,I))}function kt(p){je.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(kt,je);var AU=/^https?$/i,PU=["POST","PUT"];t=kt.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,T,I,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);T=T?T.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():NA.g(),this.g.onreadystatechange=d(u(this.Ca,this));try{this.B=!0,this.g.open(T,String(p),!0),this.B=!1}catch(Y){QA(this,Y);return}if(p=I||"",I=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var G in L)I.set(G,L[G]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const Y of L.keys())I.set(Y,L.get(Y));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(I.keys()).find(Y=>Y.toLowerCase()=="content-type"),G=o.FormData&&p instanceof o.FormData,!(Array.prototype.indexOf.call(PU,T,void 0)>=0)||L||G||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ce]of I)this.g.setRequestHeader(Y,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(Y){QA(this,Y)}};function QA(p,T){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=T,p.o=5,JA(p),fp(p)}function JA(p){p.A||(p.A=!0,H(p,"complete"),H(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,H(this,"complete"),H(this,"abort"),fp(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fp(this,!0)),kt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ZA(this):this.Xa())},t.Xa=function(){ZA(this)};function ZA(p){if(p.h&&typeof a<"u"){if(p.v&&Ra(p)==4)setTimeout(p.Ca.bind(p),0);else if(H(p,"readystatechange"),Ra(p)==4){p.h=!1;try{const Y=p.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var I;if(!(I=T)){var L;if(L=Y===0){let ce=String(p.D).match(BA)[1]||null;!ce&&o.self&&o.self.location&&(ce=o.self.location.protocol.slice(0,-1)),L=!AU.test(ce?ce.toLowerCase():"")}I=L}if(I)H(p,"complete"),H(p,"success");else{p.o=6;try{var G=Ra(p)>2?p.g.statusText:""}catch{G=""}p.l=G+" ["+p.ca()+"]",JA(p)}}finally{fp(p)}}}}function fp(p,T){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const I=p.g;p.g=null,T||H(p,"ready");try{I.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ra(p){return p.g?p.g.readyState:0}t.ca=function(){try{return Ra(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var T=this.g.responseText;return p&&T.indexOf(p)==0&&(T=T.substring(p.length)),sU(T)}};function eP(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function IU(p){const T={};p=(p.g&&Ra(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<p.length;L++){if(j(p[L]))continue;var I=hU(p[L]);const G=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const Y=T[G]||[];T[G]=Y,Y.push(I)}W(T,function(L){return L.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fc(p,T,I){return I&&I.internalChannelParams&&I.internalChannelParams[p]||T}function tP(p){this.za=0,this.i=[],this.j=new Oc,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fc("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fc("baseRetryDelayMs",5e3,p),this.Za=Fc("retryDelaySeedMs",1e4,p),this.Ta=Fc("forwardChannelMaxRetries",2,p),this.va=Fc("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new DA(p&&p.concurrentRequestLimit),this.Ba=new kU,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=tP.prototype,t.ka=8,t.I=1,t.connect=function(p,T,I,L){An(0),this.W=p,this.H=T||{},I&&L!==void 0&&(this.H.OSID=I,this.H.OAID=L),this.F=this.X,this.J=cP(this,null,this.W),hp(this)};function vb(p){if(nP(p),p.I==3){var T=p.V++,I=di(p.J);if(ct(I,"SID",p.M),ct(I,"RID",T),ct(I,"TYPE","terminate"),Uc(p,I),T=new Na(p,p.j,T),T.M=2,T.A=up(di(I)),I=!1,o.navigator&&o.navigator.sendBeacon)try{I=o.navigator.sendBeacon(T.A.toString(),"")}catch{}!I&&o.Image&&(new Image().src=T.A,I=!0),I||(T.g=fP(T.j,null),T.g.ea(T.A)),T.F=Date.now(),lp(T)}uP(p)}function dp(p){p.g&&(xb(p),p.g.cancel(),p.g=null)}function nP(p){dp(p),p.v&&(o.clearTimeout(p.v),p.v=null),pp(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&o.clearTimeout(p.m),p.m=null)}function hp(p){if(!LA(p.h)&&!p.m){p.m=!0;var T=p.Ea;_||E(),k||(_(),k=!0),S.add(T,p),p.D=0}}function OU(p,T){return VA(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=T.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=Ic(u(p.Ea,p,T),lP(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const G=new Na(this,this.j,p);let Y=this.o;if(this.U&&(Y?(Y=q(Y),K(Y,this.U)):Y=this.U),this.u!==null||this.R||(G.J=Y,Y=null),this.S)e:{for(var T=0,I=0;I<this.i.length;I++){t:{var L=this.i[I];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(T+=L,T>4096){T=I;break e}if(T===4096||I===this.i.length-1){T=I+1;break e}}T=1e3}else T=1e3;T=iP(this,G,T),I=di(this.J),ct(I,"RID",p),ct(I,"CVER",22),this.G&&ct(I,"X-HTTP-Session-Id",this.G),Uc(this,I),Y&&(this.R?T="headers="+Nc(XA(Y))+"&"+T:this.u&&yb(I,this.u,Y)),pb(this.h,G),this.Ra&&ct(I,"TYPE","init"),this.S?(ct(I,"$req",T),ct(I,"SID","null"),G.U=!0,cb(G,I,null)):cb(G,I,T),this.I=2}}else this.I==3&&(p?rP(this,p):this.i.length==0||LA(this.h)||rP(this))};function rP(p,T){var I;T?I=T.l:I=p.V++;const L=di(p.J);ct(L,"SID",p.M),ct(L,"RID",I),ct(L,"AID",p.K),Uc(p,L),p.u&&p.o&&yb(L,p.u,p.o),I=new Na(p,p.j,I,p.D+1),p.u===null&&(I.J=p.o),T&&(p.i=T.G.concat(p.i)),T=iP(p,I,1e3),I.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),pb(p.h,I),cb(I,L,T)}function Uc(p,T){p.H&&U(p.H,function(I,L){ct(T,L,I)}),p.l&&U({},function(I,L){ct(T,L,I)})}function iP(p,T,I){I=Math.min(p.i.length,I);const L=p.l?u(p.l.Ka,p.l,p):null;e:{var G=p.i;let De=-1;for(;;){const zt=["count="+I];De==-1?I>0?(De=G[0].g,zt.push("ofs="+De)):De=0:zt.push("ofs="+De);let nt=!0;for(let Qt=0;Qt<I;Qt++){var Y=G[Qt].g;const hi=G[Qt].map;if(Y-=De,Y<0)De=Math.max(0,G[Qt].g-100),nt=!1;else try{Y="req"+Y+"_"||"";try{var ce=hi instanceof Map?hi:Object.entries(hi);for(const[Jo,Ma]of ce){let $a=Ma;s(Ma)&&($a=kc(Ma)),zt.push(Y+Jo+"="+encodeURIComponent($a))}}catch(Jo){throw zt.push(Y+"type="+encodeURIComponent("_badmap")),Jo}}catch{L&&L(hi)}}if(nt){ce=zt.join("&");break e}}ce=void 0}return p=p.i.splice(0,I),T.G=p,ce}function aP(p){if(!p.g&&!p.v){p.Y=1;var T=p.Da;_||E(),k||(_(),k=!0),S.add(T,p),p.A=0}}function bb(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=Ic(u(p.Da,p),lP(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,oP(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=Ic(u(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,An(10),dp(this),oP(this))};function xb(p){p.B!=null&&(o.clearTimeout(p.B),p.B=null)}function oP(p){p.g=new Na(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var T=di(p.na);ct(T,"RID","rpc"),ct(T,"SID",p.M),ct(T,"AID",p.K),ct(T,"CI",p.F?"0":"1"),!p.F&&p.ia&&ct(T,"TO",p.ia),ct(T,"TYPE","xmlhttp"),Uc(p,T),p.u&&p.o&&yb(T,p.u,p.o),p.O&&(p.g.H=p.O);var I=p.g;p=p.ba,I.M=1,I.A=up(di(T)),I.u=null,I.R=!0,RA(I,p)}t.Va=function(){this.C!=null&&(this.C=null,dp(this),bb(this),An(19))};function pp(p){p.C!=null&&(o.clearTimeout(p.C),p.C=null)}function sP(p,T){var I=null;if(p.g==T){pp(p),xb(p),p.g=null;var L=2}else if(hb(p.h,T))I=T.G,FA(p.h,T),L=1;else return;if(p.I!=0){if(T.o)if(L==1){I=T.u?T.u.length:0,T=Date.now()-T.F;var G=p.D;L=op(),H(L,new IA(L,I)),hp(p)}else aP(p);else if(G=T.m,G==3||G==0&&T.X>0||!(L==1&&OU(p,T)||L==2&&bb(p)))switch(I&&I.length>0&&(T=p.h,T.i=T.i.concat(I)),G){case 1:Qo(p,5);break;case 4:Qo(p,10);break;case 3:Qo(p,6);break;default:Qo(p,2)}}}function lP(p,T){let I=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(I*=2),I*T}function Qo(p,T){if(p.j.info("Error code "+T),T==2){var I=u(p.bb,p),L=p.Ua;const G=!L;L=new Ca(L||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||jc(L,"https"),up(L),G?EU(L.toString(),I):TU(L.toString(),I)}else An(2);p.I=0,p.l&&p.l.pa(T),uP(p),nP(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),An(2)):(this.j.info("Failed to ping google.com"),An(1))};function uP(p){if(p.I=0,p.ja=[],p.l){const T=UA(p.h);(T.length!=0||p.i.length!=0)&&(g(p.ja,T),g(p.ja,p.i),p.h.i.length=0,m(p.i),p.i.length=0),p.l.oa()}}function cP(p,T,I){var L=I instanceof Ca?di(I):new Ca(I);if(L.g!="")T&&(L.g=T+"."+L.g),Rc(L,L.u);else{var G=o.location;L=G.protocol,T=T?T+"."+G.hostname:G.hostname,G=+G.port;const Y=new Ca(null);L&&jc(Y,L),T&&(Y.g=T),G&&Rc(Y,G),I&&(Y.h=I),L=Y}return I=p.G,T=p.wa,I&&T&&ct(L,I,T),ct(L,"VER",p.ka),Uc(p,L),L}function fP(p,T,I){if(T&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=p.Aa&&!p.ma?new kt(new gb({ab:I})):new kt(p.ma),T.Fa(p.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dP(){}t=dP.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function mp(){}mp.prototype.g=function(p,T){return new nr(p,T)};function nr(p,T){je.call(this),this.g=new tP(T),this.l=p,this.h=T&&T.messageUrlParams||null,p=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(p?p["X-WebChannel-Content-Type"]=T.messageContentType:p={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(p?p["X-WebChannel-Client-Profile"]=T.sa:p={"X-WebChannel-Client-Profile":T.sa}),this.g.U=p,(p=T&&T.Qb)&&!j(p)&&(this.g.u=p),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!j(T)&&(this.g.G=T,p=this.h,p!==null&&T in p&&(p=this.h,T in p&&delete p[T])),this.j=new fl(this)}f(nr,je),nr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nr.prototype.close=function(){vb(this.g)},nr.prototype.o=function(p){var T=this.g;if(typeof p=="string"){var I={};I.__data__=p,p=I}else this.v&&(I={},I.__data__=kc(p),p=I);T.i.push(new gU(T.Ya++,p)),T.I==3&&hp(T)},nr.prototype.N=function(){this.g.l=null,delete this.j,vb(this.g),delete this.g,nr.Z.N.call(this)};function hP(p){ob.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var T=p.__sm__;if(T){e:{for(const I in T){p=I;break e}p=void 0}(this.i=p)&&(p=this.i,T=T!==null&&p in T?T[p]:void 0),this.data=T}else this.data=p}f(hP,ob);function pP(){sb.call(this),this.status=1}f(pP,sb);function fl(p){this.g=p}f(fl,dP),fl.prototype.ra=function(){H(this.g,"a")},fl.prototype.qa=function(p){H(this.g,new hP(p))},fl.prototype.pa=function(p){H(this.g,new pP)},fl.prototype.oa=function(){H(this.g,"b")},mp.prototype.createWebChannel=mp.prototype.g,nr.prototype.send=nr.prototype.o,nr.prototype.open=nr.prototype.m,nr.prototype.close=nr.prototype.close,Z4=function(){return new mp},J4=function(){return op()},Q4=Ko,o1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},sp.NO_ERROR=0,sp.TIMEOUT=8,sp.HTTP_ERROR=6,Om=sp,OA.COMPLETE="complete",X4=OA,TA.EventType=Ac,Ac.OPEN="a",Ac.CLOSE="b",Ac.ERROR="c",Ac.MESSAGE="d",je.prototype.listen=je.prototype.J,vf=TA,kt.prototype.listenOnce=kt.prototype.K,kt.prototype.getLastError=kt.prototype.Ha,kt.prototype.getLastErrorCode=kt.prototype.ya,kt.prototype.getStatus=kt.prototype.ca,kt.prototype.getResponseJson=kt.prototype.La,kt.prototype.getResponseText=kt.prototype.la,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Fa,Y4=kt}).apply(typeof $p<"u"?$p:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac="12.9.0";function dG(t){ac=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new z0("@firebase/firestore");function vl(){return Ds.logLevel}function pe(t,...e){if(Ds.logLevel<=Be.DEBUG){const n=e.map(YE);Ds.debug(`Firestore (${ac}): ${t}`,...n)}}function ba(t,...e){if(Ds.logLevel<=Be.ERROR){const n=e.map(YE);Ds.error(`Firestore (${ac}): ${t}`,...n)}}function Ls(t,...e){if(Ds.logLevel<=Be.WARN){const n=e.map(YE);Ds.warn(`Firestore (${ac}): ${t}`,...n)}}function YE(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,eL(t,r,n)}function eL(t,e,n){let r=`FIRESTORE (${ac}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ba(r),new Error(r)}function Qe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||eL(e,i,r)}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bn.UNAUTHENTICATED))}shutdown(){}}class pG{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class mG{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new Ts;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ts,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ts)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new tL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class gG{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class yG{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new gG(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vG{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const r=a=>{a.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,pe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new dI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new dI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=bG(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function ze(t,e){return t<e?-1:t>e?1:0}function s1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return nx(i)===nx(a)?ze(i,a):nx(i)?1:-1}return ze(t.length,e.length)}const xG=55296,wG=57343;function nx(t){const e=t.charCodeAt(0);return e>=xG&&e<=wG}function yu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="__name__";class gi{constructor(e,n,r){n===void 0?n=0:n>e.length&&ke(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ke(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return gi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=gi.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return ze(e.length,n.length)}static compareSegments(e,n){const r=gi.isNumericId(e),i=gi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?gi.extractNumericId(e).compare(gi.extractNumericId(n)):s1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xo.fromString(e.substring(4,e.length-2))}}class st extends gi{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new st(n)}static emptyPath(){return new st([])}}const _G=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends gi{construct(e,n,r){return new un(e,n,r)}static isValidIdentifier(e){return _G.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hI}static keyField(){return new un([hI])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(n)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(st.fromString(e))}static fromName(e){return new we(st.fromString(e).popFirst(5))}static empty(){return new we(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new st(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(t,e,n){if(!n)throw new he(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function SG(t,e,n,r){if(e===!0&&r===!0)throw new he(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pI(t){if(!we.isDocumentKey(t))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mI(t){if(we.isDocumentKey(t))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rL(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function G0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke(12329,{type:typeof t})}function Pi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=G0(t);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t,e){const n={typeString:t};return e&&(n.value=e),n}function Dh(t,e){if(!rL(t))throw new he(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new he(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=-62135596800,yI=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*yI);return new pt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<gI)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yI}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Dh(e,pt._jsonSchema))return new pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-gI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pt._jsonSchemaVersion="firestore/timestamp/1.0",pt._jsonSchema={type:Ft("string",pt._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new pt(0,0))}static max(){return new Ie(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=-1;function EG(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ie.fromTimestamp(r===1e9?new pt(n+1,0):new pt(n,r));return new Ao(i,we.empty(),e)}function TG(t){return new Ao(t.readTime,t.key,kd)}class Ao{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ao(Ie.min(),we.empty(),kd)}static max(){return new Ao(Ie.max(),we.empty(),kd)}}function kG(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==AG)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,r)=>{n(e)})}static reject(e){return new ne((n,r)=>{r(e)})}static waitFor(e){return new ne((n,r)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&n()},l=>r(l))}),o=!0,a===i&&n()})}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next(i=>i?ne.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new ne((r,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++s,s===a&&r(o)},c=>i(c))}})}static doWhile(e,n){return new ne((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function IG(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}K0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=-1;function Y0(t){return t==null}function kg(t){return t===0&&1/t==-1/0}function OG(t){return typeof t=="number"&&Number.isInteger(t)&&!kg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL="";function NG(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=vI(e)),e=CG(t.get(n),e);return vI(e)}function CG(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case iL:n+="";break;default:n+=a}}return n}function vI(t){return t+iL+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function aL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new Tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dp(this.root,e,this.comparator,!0)}}class Dp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??sn.RED,this.left=i??sn.EMPTY,this.right=a??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new sn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return sn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xI(this.data.getIterator())}getIteratorFrom(e){return new xI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Yt(this.comparator);return n.data=e,n}}class xI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new cr([])}unionWith(e){let n=new Yt(un.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new cr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new oL("Invalid base64 string: "+a):a}}(e);return new hn(n)}static fromUint8Array(e){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const jG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Po(t){if(Qe(!!t,39018),typeof t=="string"){let e=0;const n=jG.exec(t);if(Qe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(t.seconds),nanos:Ct(t.nanos)}}function Ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Io(t){return typeof t=="string"?hn.fromBase64String(t):hn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL="server_timestamp",lL="__type__",uL="__previous_value__",cL="__local_write_time__";function JE(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[lL])==null?void 0:r.stringValue)===sL}function X0(t){const e=t.mapValue.fields[uL];return JE(e)?X0(e):e}function Ad(t){const e=Po(t.mapValue.fields[cL].timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(e,n,r,i,a,o,s,l,u,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c,this.apiKey=f}}const Ag="(default)";class Pd{constructor(e,n){this.projectId=e,this.database=n||Ag}static empty(){return new Pd("","")}get isDefaultDatabase(){return this.database===Ag}isEqual(e){return e instanceof Pd&&e.projectId===this.projectId&&e.database===this.database}}function MG(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pd(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL="__type__",$G="__max__",Lp={mapValue:{}},dL="__vector__",Pg="value";function Oo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?JE(t)?4:LG(t)?9007199254740991:DG(t)?10:11:ke(28295,{value:t})}function Mi(t,e){if(t===e)return!0;const n=Oo(t);if(n!==Oo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ad(t).isEqual(Ad(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Po(i.timestampValue),s=Po(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Io(i.bytesValue).isEqual(Io(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Ct(i.geoPointValue.latitude)===Ct(a.geoPointValue.latitude)&&Ct(i.geoPointValue.longitude)===Ct(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Ct(i.integerValue)===Ct(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Ct(i.doubleValue),s=Ct(a.doubleValue);return o===s?kg(o)===kg(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return yu(t.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(bI(o)!==bI(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!Mi(o[l],s[l])))return!1;return!0}(t,e);default:return ke(52216,{left:t})}}function Id(t,e){return(t.values||[]).find(n=>Mi(n,e))!==void 0}function vu(t,e){if(t===e)return 0;const n=Oo(t),r=Oo(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=Ct(a.integerValue||a.doubleValue),l=Ct(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return wI(t.timestampValue,e.timestampValue);case 4:return wI(Ad(t),Ad(e));case 5:return s1(t.stringValue,e.stringValue);case 6:return function(a,o){const s=Io(a),l=Io(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=ze(s[u],l[u]);if(c!==0)return c}return ze(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=ze(Ct(a.latitude),Ct(o.latitude));return s!==0?s:ze(Ct(a.longitude),Ct(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return _I(t.arrayValue,e.arrayValue);case 10:return function(a,o){var d,m,g,y;const s=a.fields||{},l=o.fields||{},u=(d=s[Pg])==null?void 0:d.arrayValue,c=(m=l[Pg])==null?void 0:m.arrayValue,f=ze(((g=u==null?void 0:u.values)==null?void 0:g.length)||0,((y=c==null?void 0:c.values)==null?void 0:y.length)||0);return f!==0?f:_I(u,c)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Lp.mapValue&&o===Lp.mapValue)return 0;if(a===Lp.mapValue)return 1;if(o===Lp.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=s1(l[f],c[f]);if(d!==0)return d;const m=vu(s[l[f]],u[c[f]]);if(m!==0)return m}return ze(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ke(23264,{he:n})}}function wI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=Po(t),r=Po(e),i=ze(n.seconds,r.seconds);return i!==0?i:ze(n.nanos,r.nanos)}function _I(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=vu(n[i],r[i]);if(a)return a}return ze(n.length,r.length)}function bu(t){return l1(t)}function l1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Po(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Io(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return we.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=l1(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${l1(n.fields[o])}`;return i+"}"}(t.mapValue):ke(61005,{value:t})}function Nm(t){switch(Oo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=X0(t);return e?16+Nm(e):16;case 5:return 2*t.stringValue.length;case 6:return Io(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Nm(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Vo(r.fields,(a,o)=>{i+=a.length+Nm(o)}),i}(t.mapValue);default:throw ke(13486,{value:t})}}function SI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function u1(t){return!!t&&"integerValue"in t}function ZE(t){return!!t&&"arrayValue"in t}function EI(t){return!!t&&"nullValue"in t}function TI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cm(t){return!!t&&"mapValue"in t}function DG(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[fL])==null?void 0:r.stringValue)===dL}function Wf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Vo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Wf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wf(t.arrayValue.values[n]);return e}return{...t}}function LG(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===$G}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wf(n)}setAll(e){let n=un.emptyPath(),r={},i=[];e.forEach((o,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}o?r[s.lastSegment()]=Wf(o):i.push(s.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Cm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Cm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Vo(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Hn(Wf(this.value))}}function hL(t){const e=[];return Vo(t.fields,(n,r)=>{const i=new un([n]);if(Cm(r)){const a=hL(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,n,r,i,a,o,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new wn(e,0,Ie.min(),Ie.min(),Ie.min(),Hn.empty(),0)}static newFoundDocument(e,n,r,i){return new wn(e,1,n,Ie.min(),r,i,0)}static newNoDocument(e,n){return new wn(e,2,n,Ie.min(),Ie.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new wn(e,3,n,Ie.min(),Ie.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n){this.position=e,this.inclusive=n}}function kI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=we.comparator(we.fromName(o.referenceValue),n.key):r=vu(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function AI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n="asc"){this.field=e,this.dir=n}}function VG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{}class Vt extends pL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new UG(e,n,r):n==="array-contains"?new WG(e,r):n==="in"?new qG(e,r):n==="not-in"?new HG(e,r):n==="array-contains-any"?new GG(e,r):new Vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new BG(e,r):new zG(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vu(n,this.value)):n!==null&&Oo(this.value)===Oo(n)&&this.matchesComparison(vu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends pL{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ui(e,n)}matches(e){return mL(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mL(t){return t.op==="and"}function gL(t){return FG(t)&&mL(t)}function FG(t){for(const e of t.filters)if(e instanceof ui)return!1;return!0}function c1(t){if(t instanceof Vt)return t.field.canonicalString()+t.op.toString()+bu(t.value);if(gL(t))return t.filters.map(e=>c1(e)).join(",");{const e=t.filters.map(n=>c1(n)).join(",");return`${t.op}(${e})`}}function yL(t,e){return t instanceof Vt?function(r,i){return i instanceof Vt&&r.op===i.op&&r.field.isEqual(i.field)&&Mi(r.value,i.value)}(t,e):t instanceof ui?function(r,i){return i instanceof ui&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,o,s)=>a&&yL(o,i.filters[s]),!0):!1}(t,e):void ke(19439)}function vL(t){return t instanceof Vt?function(n){return`${n.field.canonicalString()} ${n.op} ${bu(n.value)}`}(t):t instanceof ui?function(n){return n.op.toString()+" {"+n.getFilters().map(vL).join(" ,")+"}"}(t):"Filter"}class UG extends Vt{constructor(e,n,r){super(e,n,r),this.key=we.fromName(r.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class BG extends Vt{constructor(e,n){super(e,"in",n),this.keys=bL("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zG extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=bL("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bL(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>we.fromName(r.referenceValue))}class WG extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ZE(n)&&Id(n.arrayValue,this.value)}}class qG extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Id(this.value.arrayValue,n)}}class HG extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Id(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Id(this.value.arrayValue,n)}}class GG extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ZE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Id(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KG{constructor(e,n=null,r=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.Te=null}}function PI(t,e=null,n=[],r=[],i=null,a=null,o=null){return new KG(t,e,n,r,i,a,o)}function eT(t){const e=Ne(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>c1(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Y0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>bu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>bu(r)).join(",")),e.Te=n}return e.Te}function tT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!VG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!AI(t.startAt,e.startAt)&&AI(t.endAt,e.endAt)}function f1(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n=null,r=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function YG(t,e,n,r,i,a,o,s){return new lc(t,e,n,r,i,a,o,s)}function nT(t){return new lc(t)}function II(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function XG(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function xL(t){return t.collectionGroup!==null}function qf(t){const e=Ne(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new Yt(un.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Od(a,r))}),n.has(un.keyField().canonicalString())||e.Ie.push(new Od(un.keyField(),r))}return e.Ie}function Ii(t){const e=Ne(t);return e.Ee||(e.Ee=QG(e,qf(t))),e.Ee}function QG(t,e){if(t.limitType==="F")return PI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Od(i.field,a)});const n=t.endAt?new Ig(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ig(t.startAt.position,t.startAt.inclusive):null;return PI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function d1(t,e){const n=t.filters.concat([e]);return new lc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function JG(t,e){const n=t.explicitOrderBy.concat([e]);return new lc(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function h1(t,e,n){return new lc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Q0(t,e){return tT(Ii(t),Ii(e))&&t.limitType===e.limitType}function wL(t){return`${eT(Ii(t))}|lt:${t.limitType}`}function bl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>vL(i)).join(", ")}]`),Y0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>bu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>bu(i)).join(",")),`Target(${r})`}(Ii(t))}; limitType=${t.limitType})`}function J0(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):we.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of qf(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,s,l){const u=kI(o,s,l);return o.inclusive?u<=0:u<0}(r.startAt,qf(r),i)||r.endAt&&!function(o,s,l){const u=kI(o,s,l);return o.inclusive?u>=0:u>0}(r.endAt,qf(r),i))}(t,e)}function ZG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _L(t){return(e,n)=>{let r=!1;for(const i of qf(t)){const a=eK(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function eK(t,e,n){const r=t.field.isKeyField()?we.comparator(e.key,n.key):function(a,o,s){const l=o.data.field(a),u=s.data.field(a);return l!==null&&u!==null?vu(l,u):ke(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ke(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vo(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return aL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tK=new Tt(we.comparator);function xa(){return tK}const SL=new Tt(we.comparator);function bf(...t){let e=SL;for(const n of t)e=e.insert(n.key,n);return e}function EL(t){let e=SL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ps(){return Hf()}function TL(){return Hf()}function Hf(){return new nl(t=>t.toString(),(t,e)=>t.isEqual(e))}const nK=new Tt(we.comparator),rK=new Yt(we.comparator);function We(...t){let e=rK;for(const n of t)e=e.add(n);return e}const iK=new Yt(ze);function aK(){return iK}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kg(e)?"-0":e}}function kL(t){return{integerValue:""+t}}function oK(t,e){return OG(e)?kL(e):rT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(){this._=void 0}}function sK(t,e,n){return t instanceof Og?function(i,a){const o={fields:{[lL]:{stringValue:sL},[cL]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&JE(a)&&(a=X0(a)),a&&(o.fields[uL]=a),{mapValue:o}}(n,e):t instanceof Nd?PL(t,e):t instanceof Cd?IL(t,e):function(i,a){const o=AL(i,a),s=OI(o)+OI(i.Ae);return u1(o)&&u1(i.Ae)?kL(s):rT(i.serializer,s)}(t,e)}function lK(t,e,n){return t instanceof Nd?PL(t,e):t instanceof Cd?IL(t,e):n}function AL(t,e){return t instanceof Ng?function(r){return u1(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Og extends Z0{}class Nd extends Z0{constructor(e){super(),this.elements=e}}function PL(t,e){const n=OL(e);for(const r of t.elements)n.some(i=>Mi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Cd extends Z0{constructor(e){super(),this.elements=e}}function IL(t,e){let n=OL(e);for(const r of t.elements)n=n.filter(i=>!Mi(i,r));return{arrayValue:{values:n}}}class Ng extends Z0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function OI(t){return Ct(t.integerValue||t.doubleValue)}function OL(t){return ZE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function uK(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Nd&&i instanceof Nd||r instanceof Cd&&i instanceof Cd?yu(r.elements,i.elements,Mi):r instanceof Ng&&i instanceof Ng?Mi(r.Ae,i.Ae):r instanceof Og&&i instanceof Og}(t.transform,e.transform)}class cK{constructor(e,n){this.version=e,this.transformResults=n}}class Nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Nr}static exists(e){return new Nr(void 0,e)}static updateTime(e){return new Nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ev{}function NL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new iT(t.key,Nr.none()):new Lh(t.key,t.data,Nr.none());{const n=t.data,r=Hn.empty();let i=new Yt(un.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new Fo(t.key,r,new cr(i.toArray()),Nr.none())}}function fK(t,e,n){t instanceof Lh?function(i,a,o){const s=i.value.clone(),l=CI(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Fo?function(i,a,o){if(!jm(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=CI(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(CL(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Gf(t,e,n,r){return t instanceof Lh?function(a,o,s,l){if(!jm(a.precondition,o))return s;const u=a.value.clone(),c=jI(a.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fo?function(a,o,s,l){if(!jm(a.precondition,o))return s;const u=jI(a.fieldTransforms,l,o),c=o.data;return c.setAll(CL(a)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(a,o,s){return jm(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function dK(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=AL(r.transform,i||null);a!=null&&(n===null&&(n=Hn.empty()),n.set(r.field,a))}return n||null}function NI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&yu(r,i,(a,o)=>uK(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Lh extends ev{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fo extends ev{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function CL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function CI(t,e,n){const r=new Map;Qe(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);r.set(a.field,lK(o,s,n[i]))}return r}function jI(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,sK(a,o,e))}return r}class iT extends ev{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hK extends ev{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&fK(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=TL();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=n.has(i.key)?null:s;const l=NL(o,s);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),We())}isEqual(e){return this.batchId===e.batchId&&yu(this.mutations,e.mutations,(n,r)=>NI(n,r))&&yu(this.baseMutations,e.baseMutations,(n,r)=>NI(n,r))}}class aT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return nK}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new aT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mK{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gK{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,Ge;function yK(t){switch(t){case ee.OK:return ke(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return ke(15467,{code:t})}}function jL(t){if(t===void 0)return ba("GRPC error has no .code"),ee.UNKNOWN;switch(t){case $t.OK:return ee.OK;case $t.CANCELLED:return ee.CANCELLED;case $t.UNKNOWN:return ee.UNKNOWN;case $t.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case $t.INTERNAL:return ee.INTERNAL;case $t.UNAVAILABLE:return ee.UNAVAILABLE;case $t.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case $t.NOT_FOUND:return ee.NOT_FOUND;case $t.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case $t.ABORTED:return ee.ABORTED;case $t.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case $t.DATA_LOSS:return ee.DATA_LOSS;default:return ke(39323,{code:t})}}(Ge=$t||($t={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vK(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bK=new xo([4294967295,4294967295],0);function RI(t){const e=vK().encode(t),n=new K4;return n.update(e),new Uint8Array(n.digest())}function MI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new xo([n,r],0),new xo([i,a],0)]}class oT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xf(`Invalid padding: ${n}`);if(r<0)throw new xf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new xf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=xo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(xo.fromNumber(r)));return i.compare(bK)===1&&(i=new xo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=RI(e),[r,i]=MI(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new oT(a,i,n);return r.forEach(s=>o.insert(s)),o}insert(e){if(this.ge===0)return;const n=RI(e),[r,i]=MI(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class xf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Vh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new tv(Ie.min(),i,new Tt(ze),xa(),We())}}class Vh{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vh(r,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class RL{constructor(e,n){this.targetId=e,this.Ce=n}}class ML{constructor(e,n,r=hn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $I{constructor(){this.ve=0,this.Fe=DI(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=We(),n=We(),r=We();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ke(38017,{changeType:a})}}),new Vh(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=DI()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class xK{constructor(e){this.Ge=e,this.ze=new Map,this.je=xa(),this.He=Vp(),this.Je=Vp(),this.Ze=new Tt(ze)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ke(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(f1(a))if(r===0){const o=new we(a.path);this.et(n,o,wn.newNoDocument(o,Ie.min()))}else Qe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const s=this.ut(e),l=s?this.ct(s,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,s;try{o=Io(r).toUint8Array()}catch(l){if(l instanceof oL)return Ls("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new oT(o,i,a)}catch(l){return Ls(l instanceof xf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.ge===0?null:s}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const o=this.Ge.ht(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.et(n,a,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((a,o)=>{const s=this.ot(o);if(s){if(a.current&&f1(s.target)){const l=new we(s.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,wn.newNoDocument(l,e))}a.Be&&(n.set(o,a.ke()),a.Ke())}});let r=We();this.Je.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(a))}),this.je.forEach((a,o)=>o.setReadTime(e));const i=new tv(e,n,this.Ze,this.je,r);return this.je=xa(),this.He=Vp(),this.Je=Vp(),this.Ze=new Tt(ze),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new $I,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Yt(ze),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Yt(ze),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $I),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Vp(){return new Tt(we.comparator)}function DI(){return new Tt(we.comparator)}const wK={asc:"ASCENDING",desc:"DESCENDING"},_K={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SK={and:"AND",or:"OR"};class EK{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function p1(t,e){return t.useProto3Json||Y0(e)?e:{value:e}}function Cg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $L(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function TK(t,e){return Cg(t,e.toTimestamp())}function Oi(t){return Qe(!!t,49232),Ie.fromTimestamp(function(n){const r=Po(n);return new pt(r.seconds,r.nanos)}(t))}function sT(t,e){return m1(t,e).canonicalString()}function m1(t,e){const n=function(i){return new st(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function DL(t){const e=st.fromString(t);return Qe(BL(e),10190,{key:e.toString()}),e}function g1(t,e){return sT(t.databaseId,e.path)}function rx(t,e){const n=DL(e);if(n.get(1)!==t.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(VL(n))}function LL(t,e){return sT(t.databaseId,e)}function kK(t){const e=DL(t);return e.length===4?st.emptyPath():VL(e)}function y1(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function VL(t){return Qe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function LI(t,e,n){return{name:g1(t,e),fields:n.value.mapValue.fields}}function AK(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ke(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(Qe(c===void 0||typeof c=="string",58123),hn.fromBase64String(c||"")):(Qe(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),hn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(u){const c=u.code===void 0?ee.UNKNOWN:jL(u.code);return new he(c,u.message||"")}(o);n=new ML(r,i,a,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=rx(t,r.document.name),a=Oi(r.document.updateTime),o=r.document.createTime?Oi(r.document.createTime):Ie.min(),s=new Hn({mapValue:{fields:r.document.fields}}),l=wn.newFoundDocument(i,a,o,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Rm(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=rx(t,r.document),a=r.readTime?Oi(r.readTime):Ie.min(),o=wn.newNoDocument(i,a),s=r.removedTargetIds||[];n=new Rm([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=rx(t,r.document),a=r.removedTargetIds||[];n=new Rm([],a,i,null)}else{if(!("filter"in e))return ke(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new gK(i,a),s=r.targetId;n=new RL(s,o)}}return n}function PK(t,e){let n;if(e instanceof Lh)n={update:LI(t,e.key,e.value)};else if(e instanceof iT)n={delete:g1(t,e.key)};else if(e instanceof Fo)n={update:LI(t,e.key,e.data),updateMask:DK(e.fieldMask)};else{if(!(e instanceof hK))return ke(16599,{dt:e.type});n={verify:g1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const s=o.transform;if(s instanceof Og)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Nd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Cd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Ng)return{fieldPath:o.field.canonicalString(),increment:s.Ae};throw ke(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:TK(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ke(27497)}(t,e.precondition)),n}function IK(t,e){return t&&t.length>0?(Qe(e!==void 0,14353),t.map(n=>function(i,a){let o=i.updateTime?Oi(i.updateTime):Oi(a);return o.isEqual(Ie.min())&&(o=Oi(a)),new cK(o,i.transformResults||[])}(n,e))):[]}function OK(t,e){return{documents:[LL(t,e.path)]}}function NK(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=LL(t,i);const a=function(u){if(u.length!==0)return UL(ui.create(u,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:xl(d.field),direction:RK(d.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=p1(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function CK(t){let e=kK(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Qe(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let a=[];n.where&&(a=function(f){const d=FL(f);return d instanceof ui&&gL(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(g){return new Od(wl(g.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(d))}(n.orderBy));let s=null;n.limit&&(s=function(f){let d;return d=typeof f=="object"?f.value:f,Y0(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,m=f.values||[];return new Ig(m,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,m=f.values||[];return new Ig(m,d)}(n.endAt)),YG(e,i,o,a,s,"F",l,u)}function jK(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=wl(n.unaryFilter.field);return Vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=wl(n.unaryFilter.field);return Vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=wl(n.unaryFilter.field);return Vt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=wl(n.unaryFilter.field);return Vt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}}(t):t.fieldFilter!==void 0?function(n){return Vt.create(wl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ui.create(n.compositeFilter.filters.map(r=>FL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ke(1026)}}(n.compositeFilter.op))}(t):ke(30097,{filter:t})}function RK(t){return wK[t]}function MK(t){return _K[t]}function $K(t){return SK[t]}function xl(t){return{fieldPath:t.canonicalString()}}function wl(t){return un.fromServerFormat(t.fieldPath)}function UL(t){return t instanceof Vt?function(n){if(n.op==="=="){if(TI(n.value))return{unaryFilter:{field:xl(n.field),op:"IS_NAN"}};if(EI(n.value))return{unaryFilter:{field:xl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(TI(n.value))return{unaryFilter:{field:xl(n.field),op:"IS_NOT_NAN"}};if(EI(n.value))return{unaryFilter:{field:xl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xl(n.field),op:MK(n.op),value:n.value}}}(t):t instanceof ui?function(n){const r=n.getFilters().map(i=>UL(i));return r.length===1?r[0]:{compositeFilter:{op:$K(n.op),filters:r}}}(t):ke(54877,{filter:t})}function DK(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function BL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function zL(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n,r,i,a=Ie.min(),o=Ie.min(),s=hn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new io(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK{constructor(e){this.yt=e}}function VK(t){const e=CK({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?h1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FK{constructor(){this.Sn=new UK}addToCollectionParentIndex(e,n){return this.Sn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Ao.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Ao.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class UK{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Yt(st.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Yt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WL=41943040;class zn{static withCacheSize(e){return new zn(e,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(WL,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new xu(0)}static ar(){return new xu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="LruGarbageCollector",BK=1048576;function UI([t,e],[n,r]){const i=ze(t,n);return i===0?ze(e,r):i}class zK{constructor(e){this.Pr=e,this.buffer=new Yt(UI),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();UI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class WK{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){pe(FI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){sc(n)?pe(FI,"Ignoring IndexedDB error during garbage collection: ",n):await oc(n)}await this.Ar(3e5)})}}class qK{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(K0.ce);const r=new zK(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(VI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VI):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,a,o,s,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,s=Date.now(),this.removeTargets(e,r,n))).next(f=>(a=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),vl()<=Be.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(l-s)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function HK(t,e){return new qK(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GK{constructor(){this.changes=new nl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KK{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YK{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Gf(r.mutation,i,cr.empty(),pt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,We()).next(()=>r))}getLocalViewOfDocuments(e,n,r=We()){const i=ps();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let o=bf();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ps();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,We()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{n.set(o,s)})})}computeViews(e,n,r,i){let a=xa();const o=Hf(),s=function(){return Hf()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Fo)?a=a.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Gf(c.mutation,u,c.mutation.getFieldMask(),pt.now())):o.set(u.key,cr.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>s.set(u,new KK(c,o.get(u)??null))),s))}recalculateAndSaveOverlays(e,n){const r=Hf();let i=new Tt((o,s)=>o-s),a=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const s of o)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||cr.empty();c=s.applyToLocalView(u,c),r.set(l,c);const f=(i.get(s.batchId)||We()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,f=TL();c.forEach(d=>{if(!a.has(d)){const m=NL(n.get(d),r.get(d));m!==null&&f.set(d,m),a=a.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ne.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return XG(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ne.resolve(ps());let s=kd,l=a;return o.next(u=>ne.forEach(u,(c,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),a.get(c)?ne.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,We())).next(c=>({batchId:s,changes:EL(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next(r=>{let i=bf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=bf();return this.indexManager.getCollectionParents(e,a).next(s=>ne.forEach(s,l=>{const u=function(f,d){return new lc(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(o=>{a.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,wn.newInvalidDocument(c)))});let s=bf();return o.forEach((l,u)=>{const c=a.get(l);c!==void 0&&Gf(c.mutation,u,cr.empty(),pt.now()),J0(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XK{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ne.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Oi(i.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(i){return{name:i.name,query:VK(i.bundledQuery),readTime:Oi(i.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QK{constructor(){this.overlays=new Tt(we.comparator),this.Lr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ps();return ne.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.bt(e,n,a)}),ne.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Lr.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const i=ps(),a=n.length+1,o=new we(n.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ne.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Tt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=a.get(u.largestBatchId);c===null&&(c=ps(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=ps(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return ne.resolve(s)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new mK(n,r));let a=this.Lr.get(n);a===void 0&&(a=We(),this.Lr.set(n,a)),this.Lr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JK{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(){this.kr=new Yt(Jt.Kr),this.qr=new Yt(Jt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Jt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Jt(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new we(new st([])),r=new Jt(n,e),i=new Jt(n,e+1),a=[];return this.qr.forEachInRange([r,i],o=>{this.Wr(o),a.push(o.key)}),a}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new we(new st([])),r=new Jt(n,e),i=new Jt(n,e+1);let a=We();return this.qr.forEachInRange([r,i],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new Jt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Jt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return we.comparator(e.key,n.key)||ze(e.Hr,n.Hr)}static Ur(e,n){return ze(e.Hr,n.Hr)||we.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZK{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Yt(Jt.Kr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new pK(a,n,r,i);this.mutationQueue.push(o);for(const s of i)this.Jr=this.Jr.add(new Jt(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return ne.resolve(o)}lookupMutationBatch(e,n){return ne.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?QE:this.Yn-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Jt(n,0),i=new Jt(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,i],o=>{const s=this.Zr(o.Hr);a.push(s)}),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Yt(ze);return n.forEach(i=>{const a=new Jt(i,0),o=new Jt(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,o],s=>{r=r.add(s.Hr)})}),ne.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;we.isDocumentKey(a)||(a=a.child(""));const o=new Jt(new we(a),0);let s=new Yt(ze);return this.Jr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.Hr)),!0)},o),ne.resolve(this.Yr(s))}Yr(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Qe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ne.forEach(n.mutations,i=>{const a=new Jt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new Jt(n,0),i=this.Jr.firstAfterOrEqual(r);return ne.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eY{constructor(e){this.ti=e,this.docs=function(){return new Tt(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():wn.newInvalidDocument(n))}getEntries(e,n){let r=xa();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():wn.newInvalidDocument(i))}),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=xa();const o=n.path,s=new we(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||kG(TG(c),r)<=0||(i.has(c.key)||J0(n,c))&&(a=a.insert(c.key,c.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,n,r,i){ke(9500)}ni(e,n){return ne.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new tY(this)}getSize(e){return ne.resolve(this.size)}}class tY extends GK{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)}),ne.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nY{constructor(e){this.persistence=e,this.ri=new nl(n=>eT(n),tT),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.ii=0,this.si=new lT,this.targetCount=0,this.oi=xu._r()}forEachTarget(e,n){return this.ri.forEach((r,i)=>n(i)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ne.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new xu(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.lr(n),ne.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ri.forEach((o,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.ri.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),ne.waitFor(a).next(()=>i)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),ne.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,n){this._i={},this.overlays={},this.ai=new K0(0),this.ui=!1,this.ui=!0,this.ci=new JK,this.referenceDelegate=e(this),this.li=new nY(this),this.indexManager=new FK,this.remoteDocumentCache=function(i){return new eY(i)}(r=>this.referenceDelegate.hi(r)),this.serializer=new LK(n),this.Pi=new XK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QK,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new ZK(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const i=new rY(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(a=>this.referenceDelegate.Ii(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ei(e,n){return ne.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class rY extends PG{constructor(e){super(),this.currentSequenceNumber=e}}class uT{constructor(e){this.persistence=e,this.Ri=new lT,this.Ai=null}static Vi(e){return new uT(e)}get di(){if(this.Ai)return this.Ai;throw ke(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.di,r=>{const i=we.fromPath(r);return this.mi(e,i).next(a=>{a||n.removeEntry(i,Ie.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class jg{constructor(e,n){this.persistence=e,this.fi=new nl(r=>NG(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=HK(this,n)}static Vi(e,n){return new jg(e,n)}Ti(){}Ii(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return ne.forEach(this.fi,(r,i)=>this.wr(e,r,i).next(a=>a?ne.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ni(e,o=>this.wr(e,o,n).next(s=>{s||(r++,a.removeEntry(o,Ie.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nm(e.data.value)),n}wr(e,n,r){return ne.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return ne.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=We(),i=We();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new cT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aY{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return Hz()?8:IG(kn())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.gs(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ps(e,n,i,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new iY;return this.ys(e,n,o).next(s=>{if(a.result=s,this.As)return this.ws(e,n,o,s.size)})}).next(()=>a.result)}ws(e,n,r,i){return r.documentReadCount<this.Vs?(vl()<=Be.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",bl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(vl()<=Be.DEBUG&&pe("QueryEngine","Query:",bl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(vl()<=Be.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",bl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(n))):ne.resolve())}gs(e,n){if(II(n))return ne.resolve(null);let r=Ii(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=h1(n,null,"F"),r=Ii(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=We(...a);return this.fs.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.bs(n,s);return this.Ss(n,u,o,l.readTime)?this.gs(e,h1(n,null,"F")):this.Ds(e,u,n,l)}))})))}ps(e,n,r,i){return II(n)||i.isEqual(Ie.min())?ne.resolve(null):this.fs.getDocuments(e,r).next(a=>{const o=this.bs(n,a);return this.Ss(n,o,r,i)?ne.resolve(null):(vl()<=Be.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),bl(n)),this.Ds(e,o,n,EG(i,kd)).next(s=>s))})}bs(e,n){let r=new Yt(_L(e));return n.forEach((i,a)=>{J0(e,a)&&(r=r.add(a))}),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ys(e,n,r){return vl()<=Be.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",bl(n)),this.fs.getDocumentsMatchingQuery(e,n,Ao.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="LocalStore",oY=3e8;class sY{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new Tt(ze),this.Fs=new nl(a=>eT(a),tT),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YK(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function lY(t,e,n,r){return new sY(t,e,n,r)}async function HL(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],s=[];let l=We();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ns:u,removedBatchIds:o,addedBatchIds:s}))})})}function uY(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const f=u.batch,d=f.keys();let m=ne.resolve();return d.forEach(g=>{m=m.next(()=>c.getEntry(l,g)).next(y=>{const b=u.docVersions.get(g);Qe(b!==null,48541),y.version.compareTo(b)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),m.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=We();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function GL(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function cY(t,e){const n=Ne(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const s=[];e.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;s.push(n.li.removeMatchingKeys(a,c.removedDocuments,f).next(()=>n.li.addMatchingKeys(a,c.addedDocuments,f)));let m=d.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(hn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(f,m),function(y,b,v){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=oY?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(d,m,c)&&s.push(n.li.updateTargetData(a,m))});let l=xa(),u=We();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(a,c))}),s.push(fY(a,o,e.documentUpdates).next(c=>{l=c.Bs,u=c.Ls})),!r.isEqual(Ie.min())){const c=n.li.getLastRemoteSnapshotVersion(a).next(f=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,r));s.push(c)}return ne.waitFor(s).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(n.vs=i,a))}function fY(t,e,n){let r=We(),i=We();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=xa();return n.forEach((s,l)=>{const u=a.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(Ie.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):pe(fT,"Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Bs:o,Ls:i}})}function dY(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=QE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function hY(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.li.getTargetData(r,e).next(a=>a?(i=a,ne.resolve(i)):n.li.allocateTargetId(r).next(o=>(i=new io(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function v1(t,e,n){const r=Ne(t),i=r.vs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!sc(o))throw o;pe(fT,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function BI(t,e,n){const r=Ne(t);let i=Ie.min(),a=We();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const f=Ne(l),d=f.Fs.get(c);return d!==void 0?ne.resolve(f.vs.get(d)):f.li.getTargetData(u,c)}(r,o,Ii(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:Ie.min(),n?a:We())).next(s=>(pY(r,ZG(e),s),{documents:s,ks:a})))}function pY(t,e,n){let r=t.Ms.get(e)||Ie.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ms.set(e,r)}class zI{constructor(){this.activeTargetIds=aK()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mY{constructor(){this.vo=new zI,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new zI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gY{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="ConnectivityMonitor";class qI{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){pe(WI,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){pe(WI,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fp=null;function b1(){return Fp===null?Fp=function(){return 268435456+Math.round(2147483648*Math.random())}():Fp++,"0x"+Fp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="RestConnection",yY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class vY{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Ag?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,a){const o=b1(),s=this.Qo(e,n.toUriEncodedString());pe(ix,`Sending RPC '${e}' ${o}:`,s,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,i,a);const{host:u}=new URL(s),c=Zs(u);return this.zo(e,s,l,r,c).then(f=>(pe(ix,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Ls(ix,`RPC '${e}' ${o} failed with error: `,f,"url: ",s,"request:",r),f})}jo(e,n,r,i,a,o){return this.Wo(e,n,r,i,a)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ac}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}Qo(e,n){const r=yY[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bY{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection",Xc=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(i){setTimeout(()=>{throw i},0)}})};class Ql extends vY{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ql.c_){const e=J4();Xc(e,Q4.STAT_EVENT,n=>{n.stat===o1.PROXY?pe(yn,"STAT_EVENT: detected buffering proxy"):n.stat===o1.NOPROXY&&pe(yn,"STAT_EVENT: detected no buffering proxy")}),Ql.c_=!0}}zo(e,n,r,i,a){const o=b1();return new Promise((s,l)=>{const u=new Y4;u.setWithCredentials(!0),u.listenOnce(X4.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Om.NO_ERROR:const f=u.getResponseJson();pe(yn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case Om.TIMEOUT:pe(yn,`RPC '${e}' ${o} timed out`),l(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Om.HTTP_ERROR:const d=u.getStatus();if(pe(yn,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const y=function(v){const x=v.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(x)>=0?x:ee.UNKNOWN}(g.status);l(new he(y,g.message))}else l(new he(ee.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new he(ee.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{pe(yn,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);pe(yn,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(e,n,r){const i=b1(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Go(s.initMessageHeaders,n,r),s.encodeInitMessageHeaders=!0;const u=a.join("");pe(yn,`Creating RPC '${e}' stream ${i}: ${u}`,s);const c=o.createWebChannel(u,s);this.I_(c);let f=!1,d=!1;const m=new bY({Ho:g=>{d?pe(yn,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(f||(pe(yn,`Opening RPC '${e}' stream ${i} transport.`),c.open(),f=!0),pe(yn,`RPC '${e}' stream ${i} sending:`,g),c.send(g))},Jo:()=>c.close()});return Xc(c,vf.EventType.OPEN,()=>{d||(pe(yn,`RPC '${e}' stream ${i} transport opened.`),m.i_())}),Xc(c,vf.EventType.CLOSE,()=>{d||(d=!0,pe(yn,`RPC '${e}' stream ${i} transport closed`),m.o_(),this.E_(c))}),Xc(c,vf.EventType.ERROR,g=>{d||(d=!0,Ls(yn,`RPC '${e}' stream ${i} transport errored. Name:`,g.name,"Message:",g.message),m.o_(new he(ee.UNAVAILABLE,"The operation could not be completed")))}),Xc(c,vf.EventType.MESSAGE,g=>{var y;if(!d){const b=g.data[0];Qe(!!b,16349);const v=b,x=(v==null?void 0:v.error)||((y=v[0])==null?void 0:y.error);if(x){pe(yn,`RPC '${e}' stream ${i} received error:`,x);const w=x.status;let A=function(S){const E=$t[S];if(E!==void 0)return jL(E)}(w),_=x.message;w==="NOT_FOUND"&&_.includes("database")&&_.includes("does not exist")&&_.includes(this.databaseId.database)&&Ls(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),A===void 0&&(A=ee.INTERNAL,_="Unknown error status: "+w+" with message "+x.message),d=!0,m.o_(new he(A,_)),c.close()}else pe(yn,`RPC '${e}' stream ${i} received:`,b),m.__(b)}}),Ql.u_(),setTimeout(()=>{m.s_()},0),m}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Z4()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xY(t){return new Ql(t)}function ax(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(t){return new EK(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ql.c_=!1;class KL{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="PersistentStream";class YL{constructor(e,n,r,i,a,o,s,l){this.Ci=e,this.b_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KL(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(ba(n.toString()),ba("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new he(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return pe(HI,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(pe(HI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wY extends YL{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=AK(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ie.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Ie.min():o.readTime?Oi(o.readTime):Ie.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=y1(this.serializer),n.addTarget=function(a,o){let s;const l=o.target;if(s=f1(l)?{documents:OK(a,l)}:{query:NK(a,l).ft},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=$L(a,o.resumeToken);const u=p1(a,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ie.min())>0){s.readTime=Cg(a,o.snapshotVersion.toTimestamp());const u=p1(a,o.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=jK(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=y1(this.serializer),n.removeTarget=e,this.K_(n)}}class _Y extends YL{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=IK(e.writeResults,e.commitTime),r=Oi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=y1(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>PK(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SY{}class EY extends SY{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Wo(e,m1(n,r),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new he(ee.UNKNOWN,a.toString())})}jo(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.jo(e,m1(n,r),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new he(ee.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function TY(t,e,n,r){return new EY(t,e,n,r)}class kY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ba(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="RemoteStore";class AY{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo(o=>{r.enqueueAndForget(async()=>{rl(this)&&(pe(Vs,"Restarting streams for network reachability change."),await async function(l){const u=Ne(l);u.Ea.add(4),await Fh(u),u.Va.set("Unknown"),u.Ea.delete(4),await rv(u)}(this))})}),this.Va=new kY(r,i)}}async function rv(t){if(rl(t))for(const e of t.Ra)await e(!0)}async function Fh(t){for(const e of t.Ra)await e(!1)}function XL(t,e){const n=Ne(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),mT(n)?pT(n):uc(n).O_()&&hT(n,e))}function dT(t,e){const n=Ne(t),r=uc(n);n.Ia.delete(e),r.O_()&&QL(n,e),n.Ia.size===0&&(r.O_()?r.L_():rl(n)&&n.Va.set("Unknown"))}function hT(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uc(t).Z_(e)}function QL(t,e){t.da.$e(e),uc(t).X_(e)}function pT(t){t.da=new xK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),uc(t).start(),t.Va.ua()}function mT(t){return rl(t)&&!uc(t).x_()&&t.Ia.size>0}function rl(t){return Ne(t).Ea.size===0}function JL(t){t.da=void 0}async function PY(t){t.Va.set("Online")}async function IY(t){t.Ia.forEach((e,n)=>{hT(t,e)})}async function OY(t,e){JL(t),mT(t)?(t.Va.ha(e),pT(t)):t.Va.set("Unknown")}async function NY(t,e,n){if(t.Va.set("Online"),e instanceof ML&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.Ia.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.Ia.delete(s),i.da.removeTarget(s))}(t,e)}catch(r){pe(Vs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rg(t,r)}else if(e instanceof Rm?t.da.Xe(e):e instanceof RL?t.da.st(e):t.da.tt(e),!n.isEqual(Ie.min()))try{const r=await GL(t.localStore);n.compareTo(r)>=0&&await function(a,o){const s=a.da.Tt(o);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.Ia.get(u);c&&a.Ia.set(u,c.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,u)=>{const c=a.Ia.get(l);if(!c)return;a.Ia.set(l,c.withResumeToken(hn.EMPTY_BYTE_STRING,c.snapshotVersion)),QL(a,l);const f=new io(c.target,l,u,c.sequenceNumber);hT(a,f)}),a.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){pe(Vs,"Failed to raise snapshot:",r),await Rg(t,r)}}async function Rg(t,e,n){if(!sc(e))throw e;t.Ea.add(1),await Fh(t),t.Va.set("Offline"),n||(n=()=>GL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{pe(Vs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await rv(t)})}function ZL(t,e){return e().catch(n=>Rg(t,n,e))}async function iv(t){const e=Ne(t),n=No(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:QE;for(;CY(e);)try{const i=await dY(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,jY(e,i)}catch(i){await Rg(e,i)}e3(e)&&t3(e)}function CY(t){return rl(t)&&t.Ta.length<10}function jY(t,e){t.Ta.push(e);const n=No(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function e3(t){return rl(t)&&!No(t).x_()&&t.Ta.length>0}function t3(t){No(t).start()}async function RY(t){No(t).ra()}async function MY(t){const e=No(t);for(const n of t.Ta)e.ea(n.mutations)}async function $Y(t,e,n){const r=t.Ta.shift(),i=aT.from(r,e,n);await ZL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await iv(t)}async function DY(t,e){e&&No(t).Y_&&await async function(r,i){if(function(o){return yK(o)&&o!==ee.ABORTED}(i.code)){const a=r.Ta.shift();No(r).B_(),await ZL(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await iv(r)}}(t,e),e3(t)&&t3(t)}async function GI(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),pe(Vs,"RemoteStore received new credentials");const r=rl(n);n.Ea.add(3),await Fh(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await rv(n)}async function LY(t,e){const n=Ne(t);e?(n.Ea.delete(2),await rv(n)):e||(n.Ea.add(2),await Fh(n),n.Va.set("Unknown"))}function uc(t){return t.ma||(t.ma=function(n,r,i){const a=Ne(n);return a.sa(),new wY(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:PY.bind(null,t),Yo:IY.bind(null,t),t_:OY.bind(null,t),J_:NY.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),mT(t)?pT(t):t.Va.set("Unknown")):(await t.ma.stop(),JL(t))})),t.ma}function No(t){return t.fa||(t.fa=function(n,r,i){const a=Ne(n);return a.sa(),new _Y(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:RY.bind(null,t),t_:DY.bind(null,t),ta:MY.bind(null,t),na:$Y.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await iv(t)):(await t.fa.stop(),t.Ta.length>0&&(pe(Vs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,s=new gT(e,n,o,i,a);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yT(t,e){if(ba("AsyncQueue",`${e}: ${t}`),sc(t))return new he(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{static emptySet(e){return new Jl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||we.comparator(n.key,r.key):(n,r)=>we.comparator(n.key,r.key),this.keyedMap=bf(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Jl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Jl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(){this.ga=new Tt(we.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ke(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class wu{constructor(e,n,r,i,a,o,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach(s=>{o.push({type:0,doc:s})}),new wu(e,n,Jl.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Q0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VY{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class FY{constructor(){this.queries=YI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ne(n),a=i.queries;i.queries=YI(),a.forEach((o,s)=>{for(const l of s.ba)l.onError(r)})})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function YI(){return new nl(t=>wL(t),Q0)}async function UY(t,e){const n=Ne(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Sa()&&e.Da()&&(r=2):(a=new VY,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const s=yT(o,`Initialization of query '${bl(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,a),a.ba.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&vT(n)}async function BY(t,e){const n=Ne(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.ba.indexOf(e);o>=0&&(a.ba.splice(o,1),a.ba.length===0?i=e.Da()?0:1:!a.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function zY(t,e){const n=Ne(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const s of o.ba)s.Fa(i)&&(r=!0);o.wa=i}}r&&vT(n)}function WY(t,e,n){const r=Ne(t),i=r.queries.get(e);if(i)for(const a of i.ba)a.onError(n);r.queries.delete(e)}function vT(t){t.Ca.forEach(e=>{e.next()})}var x1,XI;(XI=x1||(x1={})).Ma="default",XI.Cache="cache";class qY{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new wu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=wu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==x1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e){this.key=e}}class r3{constructor(e){this.key=e}}class HY{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=We(),this.mutatedKeys=We(),this.eu=_L(e),this.tu=new Jl(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new KI,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const d=i.get(c),m=J0(this.query,f)?f:null,g=!!d&&this.mutatedKeys.has(d.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let b=!1;d&&m?d.data.isEqual(m.data)?g!==y&&(r.track({type:3,doc:m}),b=!0):this.su(d,m)||(r.track({type:2,doc:m}),b=!0,(l&&this.eu(m,l)>0||u&&this.eu(m,u)<0)&&(s=!0)):!d&&m?(r.track({type:0,doc:m}),b=!0):d&&!m&&(r.track({type:1,doc:d}),b=!0,(l||u)&&(s=!0)),b&&(m?(o=o.add(m),a=y?a.add(c):a.delete(c)):(o=o.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{tu:o,iu:r,Ss:s,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((c,f)=>function(m,g){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Vt:b})}};return y(m)-y(g)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(r),i=i??!1;const s=n&&!i?this._u():[],l=this.Ya.size===0&&this.current&&!i?1:0,u=l!==this.Xa;return this.Xa=l,o.length!==0||u?{snapshot:new wu(this.query,e.tu,a,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new KI,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=We(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new r3(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new n3(r))}),n}cu(e){this.Za=e.ks,this.Ya=We();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return wu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const bT="SyncEngine";class GY{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class KY{constructor(e){this.key=e,this.hu=!1}}class YY{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new nl(s=>wL(s),Q0),this.Iu=new Map,this.Eu=new Set,this.Ru=new Tt(we.comparator),this.Au=new Map,this.Vu=new lT,this.du={},this.mu=new Map,this.fu=xu.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function XY(t,e,n=!0){const r=u3(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await i3(r,e,n,!0),i}async function QY(t,e){const n=u3(t);await i3(n,e,!0,!1)}async function i3(t,e,n,r){const i=await hY(t.localStore,Ii(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await JY(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&XL(t.remoteStore,i),s}async function JY(t,e,n,r,i){t.pu=(f,d,m)=>async function(y,b,v,x){let w=b.view.ru(v);w.Ss&&(w=await BI(y.localStore,b.query,!1).then(({documents:S})=>b.view.ru(S,w)));const A=x&&x.targetChanges.get(b.targetId),_=x&&x.targetMismatches.get(b.targetId)!=null,k=b.view.applyChanges(w,y.isPrimaryClient,A,_);return JI(y,b.targetId,k.au),k.snapshot}(t,f,d,m);const a=await BI(t.localStore,e,!0),o=new HY(e,a.ks),s=o.ru(a.documents),l=Vh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(s,t.isPrimaryClient,l);JI(t,n,u.au);const c=new GY(e,n,o);return t.Tu.set(e,c),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function ZY(t,e,n){const r=Ne(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(o=>!Q0(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await v1(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&dT(r.remoteStore,i.targetId),w1(r,i.targetId)}).catch(oc)):(w1(r,i.targetId),await v1(r.localStore,i.targetId,!0))}async function eX(t,e){const n=Ne(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),dT(n.remoteStore,r.targetId))}async function tX(t,e,n){const r=lX(t);try{const i=await function(o,s){const l=Ne(o),u=pt.now(),c=s.reduce((m,g)=>m.add(g.key),We());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=xa(),y=We();return l.xs.getEntries(m,c).next(b=>{g=b,g.forEach((v,x)=>{x.isValidDocument()||(y=y.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(b=>{f=b;const v=[];for(const x of s){const w=dK(x,f.get(x.key).overlayedDocument);w!=null&&v.push(new Fo(x.key,w,hL(w.value.mapValue),Nr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,v,s)}).next(b=>{d=b;const v=b.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(m,b.batchId,v)})}).then(()=>({batchId:d.batchId,changes:EL(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let u=o.du[o.currentUser.toKey()];u||(u=new Tt(ze)),u=u.insert(s,l),o.du[o.currentUser.toKey()]=u}(r,i.batchId,n),await Uh(r,i.changes),await iv(r.remoteStore)}catch(i){const a=yT(i,"Failed to persist write");n.reject(a)}}async function a3(t,e){const n=Ne(t);try{const r=await cY(n.localStore,e);e.targetChanges.forEach((i,a)=>{const o=n.Au.get(a);o&&(Qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Qe(o.hu,14607):i.removedDocuments.size>0&&(Qe(o.hu,42227),o.hu=!1))}),await Uh(n,r,e)}catch(r){await oc(r)}}function QI(t,e,n){const r=Ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,o)=>{const s=o.view.va(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=Ne(o);l.onlineState=s;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.ba)d.va(s)&&(u=!0)}),u&&vT(l)}(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function nX(t,e,n){const r=Ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new Tt(we.comparator);o=o.insert(a,wn.newNoDocument(a,Ie.min()));const s=We().add(a),l=new tv(Ie.min(),new Map,new Tt(ze),o,s);await a3(r,l),r.Ru=r.Ru.remove(a),r.Au.delete(e),xT(r)}else await v1(r.localStore,e,!1).then(()=>w1(r,e,n)).catch(oc)}async function rX(t,e){const n=Ne(t),r=e.batch.batchId;try{const i=await uY(n.localStore,e);s3(n,r,null),o3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Uh(n,i)}catch(i){await oc(i)}}async function iX(t,e,n){const r=Ne(t);try{const i=await function(o,s){const l=Ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(f=>(Qe(f!==null,37113),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);s3(r,e,n),o3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Uh(r,i)}catch(i){await oc(i)}}function o3(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function s3(t,e,n){const r=Ne(t);let i=r.du[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function w1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||l3(t,r)})}function l3(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(dT(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),xT(t))}function JI(t,e,n){for(const r of n)r instanceof n3?(t.Vu.addReference(r.key,e),aX(t,r)):r instanceof r3?(pe(bT,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||l3(t,r.key)):ke(19791,{wu:r})}function aX(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(pe(bT,"New document in limbo: "+n),t.Eu.add(r),xT(t))}function xT(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new we(st.fromString(e)),r=t.fu.next();t.Au.set(r,new KY(n)),t.Ru=t.Ru.insert(n,r),XL(t.remoteStore,new io(Ii(nT(n.path)),r,"TargetPurposeLimboResolution",K0.ce))}}async function Uh(t,e,n){const r=Ne(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((s,l)=>{o.push(r.pu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=cT.Es(l.targetId,u);a.push(f)}}))}),await Promise.all(o),r.Pu.J_(i),await async function(l,u){const c=Ne(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ne.forEach(u,d=>ne.forEach(d.Ts,m=>c.persistence.referenceDelegate.addReference(f,d.targetId,m)).next(()=>ne.forEach(d.Is,m=>c.persistence.referenceDelegate.removeReference(f,d.targetId,m)))))}catch(f){if(!sc(f))throw f;pe(fT,"Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const m=c.vs.get(d),g=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(g);c.vs=c.vs.insert(d,y)}}}(r.localStore,a))}async function oX(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){pe(bT,"User change. New user:",e.toKey());const r=await HL(n.localStore,e);n.currentUser=e,function(a,o){a.mu.forEach(s=>{s.forEach(l=>{l.reject(new he(ee.CANCELLED,o))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Uh(n,r.Ns)}}function sX(t,e){const n=Ne(t),r=n.Au.get(e);if(r&&r.hu)return We().add(r.key);{let i=We();const a=n.Iu.get(e);if(!a)return i;for(const o of a){const s=n.Tu.get(o);i=i.unionWith(s.view.nu)}return i}}function u3(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=a3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nX.bind(null,e),e.Pu.J_=zY.bind(null,e.eventManager),e.Pu.yu=WY.bind(null,e.eventManager),e}function lX(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iX.bind(null,e),e}class Mg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return lY(this.persistence,new aY,e.initialUser,this.serializer)}Cu(e){return new qL(uT.Vi,this.serializer)}Du(e){return new mY}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mg.provider={build:()=>new Mg};class uX extends Mg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof jg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new WK(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new qL(r=>jg.Vi(r,n),this.serializer)}}class _1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>QI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=oX.bind(null,this.syncEngine),await LY(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new FY}()}createDatastore(e){const n=nv(e.databaseInfo.databaseId),r=xY(e.databaseInfo);return TY(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,o,s){return new AY(r,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,n=>QI(this.syncEngine,n,0),function(){return qI.v()?new qI:new gY}())}createSyncEngine(e,n){return function(i,a,o,s,l,u,c){const f=new YY(i,a,o,s,l,u);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Ne(i);pe(Vs,"RemoteStore shutting down."),a.Ea.add(5),await Fh(a),a.Aa.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}_1.provider={build:()=>new _1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cX{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ba("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co="FirestoreClient";class fX{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=bn.UNAUTHENTICATED,this.clientId=XE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{pe(Co,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(pe(Co,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=yT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ox(t,e){t.asyncQueue.verifyOperationInProgress(),pe(Co,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await HL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ZI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dX(t);pe(Co,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>GI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>GI(e.remoteStore,i)),t._onlineComponents=e}async function dX(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(Co,"Using user provided OfflineComponentProvider");try{await ox(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ee.FAILED_PRECONDITION||i.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ls("Error using user provided cache. Falling back to memory cache: "+n),await ox(t,new Mg)}}else pe(Co,"Using default OfflineComponentProvider"),await ox(t,new uX(void 0));return t._offlineComponents}async function c3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(Co,"Using user provided OnlineComponentProvider"),await ZI(t,t._uninitializedComponentsProvider._online)):(pe(Co,"Using default OnlineComponentProvider"),await ZI(t,new _1))),t._onlineComponents}function hX(t){return c3(t).then(e=>e.syncEngine)}async function eO(t){const e=await c3(t),n=e.eventManager;return n.onListen=XY.bind(null,e.syncEngine),n.onUnlisten=ZY.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=QY.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=eX.bind(null,e.syncEngine),n}function pX(t,e,n,r){const i=new cX(r),a=new qY(e,i,n);return t.asyncQueue.enqueueAndForget(async()=>UY(await eO(t),a)),()=>{i.Nu(),t.asyncQueue.enqueueAndForget(async()=>BY(await eO(t),a))}}function mX(t,e){const n=new Ts;return t.asyncQueue.enqueueAndForget(async()=>tX(await hX(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gX="ComponentProvider",tO=new Map;function yX(t,e,n,r,i){return new RG(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,f3(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3="firestore.googleapis.com",nO=!0;class rO{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=d3,this.ssl=nO}else this.host=e.host,this.ssl=e.ssl??nO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WL;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BK)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=f3(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class av{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hG;switch(r.type){case"firstParty":return new yG(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=tO.get(n);r&&(pe(gX,"Removing Datastore"),tO.delete(n),r.terminate())}(this),Promise.resolve()}}function vX(t,e,n,r={}){var u;t=Pi(t,av);const i=Zs(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},s=`${e}:${n}`;i&&(DE(`https://${s}`),LE("Firestore",!0)),a.host!==d3&&a.host!==s&&Ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:s,ssl:i,emulatorOptions:r};if(!ko(l,o)&&(t._setSettings(l),r.mockUserToken)){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=bn.MOCK_USER;else{c=s4(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new bn(d)}t._authCredentials=new pG(new tL(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new il(this.firestore,e,this._query)}}class Rt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Dh(n,Rt._jsonSchema))return new Rt(e,r||null,new we(st.fromString(n.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:Ft("string",Rt._jsonSchemaVersion),referencePath:Ft("string")};class wo extends il{constructor(e,n,r){super(e,n,nT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new we(e))}withConverter(e){return new wo(this.firestore,e,this._path)}}function Up(t,e,...n){if(t=Bt(t),nL("collection","path",e),t instanceof av){const r=st.fromString(e,...n);return mI(r),new wo(t,null,r)}{if(!(t instanceof Rt||t instanceof wo))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return mI(r),new wo(t.firestore,null,r)}}function Mm(t,e,...n){if(t=Bt(t),arguments.length===1&&(e=XE.newId()),nL("doc","path",e),t instanceof av){const r=st.fromString(e,...n);return pI(r),new Rt(t,null,new we(r))}{if(!(t instanceof Rt||t instanceof wo))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return pI(r),new Rt(t.firestore,t instanceof wo?t.converter:null,new we(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO="AsyncQueue";class aO{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KL(this,"async_queue_retry"),this._c=()=>{const r=ax();r&&pe(iO,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=ax();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ax();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ts;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!sc(e))throw e;pe(iO,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ba("INTERNAL UNHANDLED ERROR: ",oO(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=gT.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&ke(47125,{Pc:oO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function oO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Fs extends av{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new aO,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new aO(e),this._firestoreClient=void 0,await e}}}function bX(t,e){const n=typeof t=="object"?t:W0(),r=typeof t=="string"?t:Ag,i=Lo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=i4("firestore");a&&vX(i,...a)}return i}function h3(t){if(t._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||xX(t),t._firestoreClient}function xX(t){var r,i,a,o;const e=t._freezeSettings(),n=yX(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new fX(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tr(hn.fromBase64String(e))}catch(n){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Tr(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Tr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Dh(e,Tr._jsonSchema))return Tr.fromBase64String(e.bytes)}}Tr._jsonSchemaVersion="firestore/bytes/1.0",Tr._jsonSchema={type:Ft("string",Tr._jsonSchemaVersion),bytes:Ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(e){if(Dh(e,Ni._jsonSchema))return new Ni(e.latitude,e.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:Ft("string",Ni._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Dh(e,ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ai(e.vectorValues);throw new he(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:Ft("string",ai._jsonSchemaVersion),vectorValues:Ft("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wX=/^__.*__$/;class _X{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lh(e,this.data,n,this.fieldTransforms)}}class p3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function m3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{dataSource:t})}}class ST{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ST({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return $g(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(m3(this.dataSource)&&wX.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class SX{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||nv(e)}createContext(e,n,r,i=!1){return new ST({dataSource:e,methodName:n,targetDoc:r,path:un.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ov(t){const e=t._freezeSettings(),n=nv(t._databaseId);return new SX(t._databaseId,!!e.ignoreUndefinedProperties,n)}function g3(t,e,n,r,i,a={}){const o=t.createContext(a.merge||a.mergeFields?2:0,e,n,i);ET("Data must be an object, but it was:",o,r);const s=y3(r,o);let l,u;if(a.merge)l=new cr(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const c=[];for(const f of a.mergeFields){const d=_u(e,f,n);if(!o.contains(d))throw new he(ee.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);x3(c,d)||c.push(d)}l=new cr(c),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new _X(new Hn(s),l,u)}class sv extends _T{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sv}}function EX(t,e,n,r){const i=t.createContext(1,e,n);ET("Data must be an object, but it was:",i,r);const a=[],o=Hn.empty();Vo(r,(l,u)=>{const c=b3(e,l,n);u=Bt(u);const f=i.childContextForFieldPath(c);if(u instanceof sv)a.push(c);else{const d=Bh(u,f);d!=null&&(a.push(c),o.set(c,d))}});const s=new cr(a);return new p3(o,s,i.fieldTransforms)}function TX(t,e,n,r,i,a){const o=t.createContext(1,e,n),s=[_u(e,r,n)],l=[i];if(a.length%2!=0)throw new he(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<a.length;d+=2)s.push(_u(e,a[d])),l.push(a[d+1]);const u=[],c=Hn.empty();for(let d=s.length-1;d>=0;--d)if(!x3(u,s[d])){const m=s[d];let g=l[d];g=Bt(g);const y=o.childContextForFieldPath(m);if(g instanceof sv)u.push(m);else{const b=Bh(g,y);b!=null&&(u.push(m),c.set(m,b))}}const f=new cr(u);return new p3(c,f,o.fieldTransforms)}function kX(t,e,n,r=!1){return Bh(n,t.createContext(r?4:3,e))}function Bh(t,e){if(v3(t=Bt(t)))return ET("Unsupported field value:",e,t),y3(t,e);if(t instanceof _T)return function(r,i){if(!m3(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,i){const a=[];let o=0;for(const s of r){let l=Bh(s,i.childContextForArray(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oK(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=pt.fromDate(r);return{timestampValue:Cg(i.serializer,a)}}if(r instanceof pt){const a=new pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cg(i.serializer,a)}}if(r instanceof Ni)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Tr)return{bytesValue:$L(i.serializer,r._byteString)};if(r instanceof Rt){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:sT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ai)return function(o,s){const l=o instanceof ai?o.toArray():o;return{mapValue:{fields:{[fL]:{stringValue:dL},[Pg]:{arrayValue:{values:l.map(c=>{if(typeof c!="number")throw s.createError("VectorValues must only contain numeric values.");return rT(s.serializer,c)})}}}}}}(r,i);if(zL(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${G0(r)}`)}(t,e)}function y3(t,e){const n={};return aL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vo(t,(r,i)=>{const a=Bh(i,e.childContextForField(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function v3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pt||t instanceof Ni||t instanceof Tr||t instanceof Rt||t instanceof _T||t instanceof ai||zL(t))}function ET(t,e,n){if(!v3(n)||!rL(n)){const r=G0(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function _u(t,e,n){if((e=Bt(e))instanceof wT)return e._internalPath;if(typeof e=="string")return b3(t,e);throw $g("Field path arguments must be of type string or ",t,!1,void 0,n)}const AX=new RegExp("[~\\*/\\[\\]]");function b3(t,e,n){if(e.search(AX)>=0)throw $g(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wT(...e.split("."))._internalPath}catch{throw $g(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $g(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new he(ee.INVALID_ARGUMENT,s+t+l)}function x3(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PX{convertValue(e,n="none"){switch(Oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Vo(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[Pg].arrayValue)==null?void 0:i.values)==null?void 0:a.map(o=>Ct(o.doubleValue));return new ai(n)}convertGeoPoint(e){return new Ni(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=X0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ad(e));default:return null}}convertTimestamp(e){const n=Po(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);Qe(BL(r),9688,{name:e});const i=new Pd(r.get(1),r.get(3)),a=new we(r.popFirst(5));return i.isEqual(n)||ba(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3 extends PX{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}const sO="@firebase/firestore",lO="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(_u("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class IX extends _3{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OX(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class TT{}class S3 extends TT{}function NX(t,e,...n){let r=[];e instanceof TT&&r.push(e),r=r.concat(n),function(a){const o=a.filter(l=>l instanceof AT).length,s=a.filter(l=>l instanceof kT).length;if(o>1||o>0&&s>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class kT extends S3{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new kT(e,n,r)}_apply(e){const n=this._parse(e);return E3(e._query,n),new il(e.firestore,e.converter,d1(e._query,n))}_parse(e){const n=ov(e.firestore);return function(a,o,s,l,u,c,f){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){fO(f,c);const g=[];for(const y of f)g.push(cO(l,a,y));d={arrayValue:{values:g}}}else d=cO(l,a,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||fO(f,c),d=kX(s,o,f,c==="in"||c==="not-in");return Vt.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class AT extends TT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new AT(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ui.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)E3(o,l),o=d1(o,l)}(e._query,n),new il(e.firestore,e.converter,d1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class PT extends S3{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new PT(e,n)}_apply(e){const n=function(i,a,o){if(i.startAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Od(a,o)}(e._query,this._field,this._direction);return new il(e.firestore,e.converter,JG(e._query,n))}}function CX(t,e="asc"){const n=e,r=_u("orderBy",t);return PT._create(r,n)}function cO(t,e,n){if(typeof(n=Bt(n))=="string"){if(n==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xL(e)&&n.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(st.fromString(n));if(!we.isDocumentKey(r))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return SI(t,new we(r))}if(n instanceof Rt)return SI(t,n._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${G0(n)}.`)}function fO(t,e){if(!Array.isArray(t)||t.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function E3(t,e){const n=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function T3(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class wf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ks extends _3{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $m(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_u("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ks._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",ks._jsonSchema={type:Ft("string",ks._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class $m extends ks{data(e={}){return super.data(e)}}class Zl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new wf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new $m(this._firestore,this._userDataWriter,r.key,r,new wf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new $m(i._firestore,i._userDataWriter,s.doc.key,s.doc,new wf(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new $m(i._firestore,i._userDataWriter,s.doc.key,s.doc,new wf(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:jX(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Zl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=XE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jX(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zl._jsonSchemaVersion="firestore/querySnapshot/1.0",Zl._jsonSchema={type:Ft("string",Zl._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};function RX(t,e,n){t=Pi(t,Rt);const r=Pi(t.firestore,Fs),i=T3(t.converter,e),a=ov(r);return lv(r,[g3(a,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Nr.none())])}function MX(t,e,n,...r){t=Pi(t,Rt);const i=Pi(t.firestore,Fs),a=ov(i);let o;return o=typeof(e=Bt(e))=="string"||e instanceof wT?TX(a,"updateDoc",t._key,e,n,r):EX(a,"updateDoc",t._key,e),lv(i,[o.toMutation(t._key,Nr.exists(!0))])}function $X(t){return lv(Pi(t.firestore,Fs),[new iT(t._key,Nr.none())])}function DX(t,e){const n=Pi(t.firestore,Fs),r=Mm(t),i=T3(t.converter,e),a=ov(t.firestore);return lv(n,[g3(a,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Nr.exists(!1))]).then(()=>r)}function dO(t,...e){var u,c,f;t=Bt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||uO(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(uO(e[r])){const d=e[r];e[r]=(u=d.next)==null?void 0:u.bind(d),e[r+1]=(c=d.error)==null?void 0:c.bind(d),e[r+2]=(f=d.complete)==null?void 0:f.bind(d)}let a,o,s;if(t instanceof Rt)o=Pi(t.firestore,Fs),s=nT(t._key.path),a={next:d=>{e[r]&&e[r](LX(o,t,d))},error:e[r+1],complete:e[r+2]};else{const d=Pi(t,il);o=Pi(d.firestore,Fs),s=d._query;const m=new w3(o);a={next:g=>{e[r]&&e[r](new Zl(o,m,d,g))},error:e[r+1],complete:e[r+2]},OX(t._query)}const l=h3(o);return pX(l,s,i,a)}function lv(t,e){const n=h3(t);return mX(n,e)}function LX(t,e,n){const r=n.docs.get(e._key),i=new w3(t);return new ks(t,i,e._key,r,new wf(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){dG(tl),li(new Mr("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),s=new Fs(new mG(r.getProvider("auth-internal")),new vG(o,r.getProvider("app-check-internal")),MG(o,i),o);return a={useFetchStreams:n,...a},s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),Jn(sO,lO,e),Jn(sO,lO,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3="firebasestorage.googleapis.com",VX="storageBucket",FX=2*60*1e3,UX=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Dr{constructor(e,n,r=0){super(sx(e),`Firebase Storage: ${n} (${sx(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Bi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return sx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $i;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($i||($i={}));function sx(t){return"storage/"+t}function BX(){const t="An unknown error occurred, please check the error payload for server response.";return new Bi($i.UNKNOWN,t)}function zX(){return new Bi($i.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function WX(){return new Bi($i.CANCELED,"User canceled the upload/download.")}function qX(t){return new Bi($i.INVALID_URL,"Invalid URL '"+t+"'.")}function HX(t){return new Bi($i.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function hO(t){return new Bi($i.INVALID_ARGUMENT,t)}function A3(){return new Bi($i.APP_DELETED,"The Firebase app was deleted.")}function GX(t){return new Bi($i.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Jr.makeFromUrl(e,n)}catch{return new Jr(e,"")}if(r.path==="")return r;throw HX(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const o="(/(.*))?$",s=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(A){A.path_=decodeURIComponent(A.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${c}/b/${i}/o${d}`,"i"),g={bucket:1,path:3},y=n===k3?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",v=new RegExp(`^https?://${y}/${i}/${b}`,"i"),w=[{regex:s,indices:l,postModify:a},{regex:m,indices:g,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let A=0;A<w.length;A++){const _=w[A],k=_.regex.exec(e);if(k){const S=k[_.indices.bucket];let E=k[_.indices.path];E||(E=""),r=new Jr(S,E),_.postModify(r);break}}if(r==null)throw qX(e);return r}}class KX{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YX(t,e,n){let r=1,i=null,a=null,o=!1,s=0;function l(){return s===2}let u=!1;function c(...b){u||(u=!0,e.apply(null,b))}function f(b){i=setTimeout(()=>{i=null,t(m,l())},b)}function d(){a&&clearTimeout(a)}function m(b,...v){if(u){d();return}if(b){d(),c.call(null,b,...v);return}if(l()||o){d(),c.call(null,b,...v);return}r<64&&(r*=2);let w;s===1?(s=2,w=0):w=(r+Math.random())*1e3,f(w)}let g=!1;function y(b){g||(g=!0,d(),!u&&(i!==null?(b||(s=2),clearTimeout(i),f(0)):b||(s=1)))}return f(0),a=setTimeout(()=>{o=!0,y(!0)},n),y}function XX(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QX(t){return t!==void 0}function pO(t,e,n,r){if(r<e)throw hO(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw hO(`Invalid value for '${t}'. Expected ${n} or less.`)}function JX(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Dg;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Dg||(Dg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZX(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eQ{constructor(e,n,r,i,a,o,s,l,u,c,f,d=!0,m=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=d,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,y)=>{this.resolve_=g,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Bp(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=s=>{const l=s.loaded,u=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const s=a.getErrorCode()===Dg.NO_ERROR,l=a.getStatus();if(!s||ZX(l,this.additionalRetryCodes_)&&this.retry){const c=a.getErrorCode()===Dg.ABORT;r(!1,new Bp(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Bp(u,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());QX(l)?a(l):a()}catch(l){o(l)}else if(s!==null){const l=BX();l.serverResponse=s.getErrorText(),this.errorCallback_?o(this.errorCallback_(s,l)):o(l)}else if(i.canceled){const l=this.appDelete_?A3():WX();o(l)}else{const l=zX();o(l)}};this.canceled_?n(!1,new Bp(!1,null,!0)):this.backoffId_=YX(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&XX(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Bp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function tQ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function nQ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function rQ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function iQ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function aQ(t,e,n,r,i,a,o=!0,s=!1){const l=JX(t.urlParams),u=t.url+l,c=Object.assign({},t.headers);return rQ(c,e),tQ(c,n),nQ(c,a),iQ(c,r),new eQ(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oQ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function sQ(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n){this._service=e,n instanceof Jr?this._location=n:this._location=Jr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Lg(e,n)}get root(){const e=new Jr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sQ(this._location.path)}get storage(){return this._service}get parent(){const e=oQ(this._location.path);if(e===null)return null;const n=new Jr(this._location.bucket,e);return new Lg(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw GX(e)}}function mO(t,e){const n=e==null?void 0:e[VX];return n==null?null:Jr.makeFromBucketSpec(n,t)}function lQ(t,e,n,r={}){t.host=`${e}:${n}`;const i=Zs(e);i&&(DE(`https://${t.host}/b`),LE("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:s4(a,t.app.options.projectId))}class uQ{constructor(e,n,r,i,a,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=k3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=FX,this._maxUploadRetryTime=UX,this._requests=new Set,i!=null?this._bucket=Jr.makeFromBucketSpec(i,this._host):this._bucket=mO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Jr.makeFromBucketSpec(this._url,e):this._bucket=mO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){pO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){pO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Kr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Lg(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new KX(A3());{const o=aQ(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const gO="@firebase/storage",yO="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="storage";function cQ(t=W0(),e){t=Bt(t);const r=Lo(t,P3).getImmediate({identifier:e}),i=i4("storage");return i&&fQ(r,...i),r}function fQ(t,e,n,r={}){lQ(t,e,n,r)}function dQ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new uQ(n,r,i,e,tl)}function hQ(){li(new Mr(P3,dQ,"PUBLIC").setMultipleInstances(!0)),Jn(gO,yO,""),Jn(gO,yO,"esm2020")}hQ();const I3="@firebase/installations",IT="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=1e4,N3=`w:${IT}`,C3="FIS_v2",pQ="https://firebaseinstallations.googleapis.com/v1",mQ=60*60*1e3,gQ="installations",yQ="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vQ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Us=new el(gQ,yQ,vQ);function j3(t){return t instanceof Dr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3({projectId:t}){return`${pQ}/projects/${t}/installations`}function M3(t){return{token:t.token,requestStatus:2,expiresIn:xQ(t.expiresIn),creationTime:Date.now()}}async function $3(t,e){const r=(await e.json()).error;return Us.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function D3({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function bQ(t,{refreshToken:e}){const n=D3(t);return n.append("Authorization",wQ(e)),n}async function L3(t){const e=await t();return e.status>=500&&e.status<600?t():e}function xQ(t){return Number(t.replace("s","000"))}function wQ(t){return`${C3} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _Q({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=R3(t),i=D3(t),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:C3,appId:t.appId,sdkVersion:N3},s={method:"POST",headers:i,body:JSON.stringify(o)},l=await L3(()=>fetch(r,s));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:M3(u.authToken)}}else throw await $3("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SQ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EQ=/^[cdef][\w-]{21}$/,S1="";function TQ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=kQ(t);return EQ.test(n)?n:S1}catch{return S1}}function kQ(t){return SQ(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=new Map;function U3(t,e){const n=uv(t);B3(n,e),AQ(n,e)}function B3(t,e){const n=F3.get(t);if(n)for(const r of n)r(e)}function AQ(t,e){const n=PQ();n&&n.postMessage({key:t,fid:e}),IQ()}let ms=null;function PQ(){return!ms&&"BroadcastChannel"in self&&(ms=new BroadcastChannel("[Firebase] FID Change"),ms.onmessage=t=>{B3(t.data.key,t.data.fid)}),ms}function IQ(){F3.size===0&&ms&&(ms.close(),ms=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OQ="firebase-installations-database",NQ=1,Bs="firebase-installations-store";let lx=null;function OT(){return lx||(lx=h4(OQ,NQ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Bs)}}})),lx}async function Vg(t,e){const n=uv(t),i=(await OT()).transaction(Bs,"readwrite"),a=i.objectStore(Bs),o=await a.get(n);return await a.put(e,n),await i.done,(!o||o.fid!==e.fid)&&U3(t,e.fid),e}async function z3(t){const e=uv(t),r=(await OT()).transaction(Bs,"readwrite");await r.objectStore(Bs).delete(e),await r.done}async function cv(t,e){const n=uv(t),i=(await OT()).transaction(Bs,"readwrite"),a=i.objectStore(Bs),o=await a.get(n),s=e(o);return s===void 0?await a.delete(n):await a.put(s,n),await i.done,s&&(!o||o.fid!==s.fid)&&U3(t,s.fid),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NT(t){let e;const n=await cv(t.appConfig,r=>{const i=CQ(r),a=jQ(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===S1?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function CQ(t){const e=t||{fid:TQ(),registrationStatus:0};return W3(e)}function jQ(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Us.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=RQ(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:MQ(t)}:{installationEntry:e}}async function RQ(t,e){try{const n=await _Q(t,e);return Vg(t.appConfig,n)}catch(n){throw j3(n)&&n.customData.serverCode===409?await z3(t.appConfig):await Vg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function MQ(t){let e=await vO(t.appConfig);for(;e.registrationStatus===1;)await V3(100),e=await vO(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await NT(t);return r||n}return e}function vO(t){return cv(t,e=>{if(!e)throw Us.create("installation-not-found");return W3(e)})}function W3(t){return $Q(t)?{fid:t.fid,registrationStatus:0}:t}function $Q(t){return t.registrationStatus===1&&t.registrationTime+O3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DQ({appConfig:t,heartbeatServiceProvider:e},n){const r=LQ(t,n),i=bQ(t,n),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:N3,appId:t.appId}},s={method:"POST",headers:i,body:JSON.stringify(o)},l=await L3(()=>fetch(r,s));if(l.ok){const u=await l.json();return M3(u)}else throw await $3("Generate Auth Token",l)}function LQ(t,{fid:e}){return`${R3(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CT(t,e=!1){let n;const r=await cv(t.appConfig,a=>{if(!q3(a))throw Us.create("not-registered");const o=a.authToken;if(!e&&UQ(o))return a;if(o.requestStatus===1)return n=VQ(t,e),a;{if(!navigator.onLine)throw Us.create("app-offline");const s=zQ(a);return n=FQ(t,s),s}});return n?await n:r.authToken}async function VQ(t,e){let n=await bO(t.appConfig);for(;n.authToken.requestStatus===1;)await V3(100),n=await bO(t.appConfig);const r=n.authToken;return r.requestStatus===0?CT(t,e):r}function bO(t){return cv(t,e=>{if(!q3(e))throw Us.create("not-registered");const n=e.authToken;return WQ(n)?{...e,authToken:{requestStatus:0}}:e})}async function FQ(t,e){try{const n=await DQ(t,e),r={...e,authToken:n};return await Vg(t.appConfig,r),n}catch(n){if(j3(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await z3(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Vg(t.appConfig,r)}throw n}}function q3(t){return t!==void 0&&t.registrationStatus===2}function UQ(t){return t.requestStatus===2&&!BQ(t)}function BQ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+mQ}function zQ(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function WQ(t){return t.requestStatus===1&&t.requestTime+O3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qQ(t){const e=t,{installationEntry:n,registrationPromise:r}=await NT(e);return r?r.catch(console.error):CT(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HQ(t,e=!1){const n=t;return await GQ(n),(await CT(n,e)).token}async function GQ(t){const{registrationPromise:e}=await NT(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KQ(t){if(!t||!t.options)throw ux("App Configuration");if(!t.name)throw ux("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw ux(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function ux(t){return Us.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3="installations",YQ="installations-internal",XQ=t=>{const e=t.getProvider("app").getImmediate(),n=KQ(e),r=Lo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},QQ=t=>{const e=t.getProvider("app").getImmediate(),n=Lo(e,H3).getImmediate();return{getId:()=>qQ(n),getToken:i=>HQ(n,i)}};function JQ(){li(new Mr(H3,XQ,"PUBLIC")),li(new Mr(YQ,QQ,"PRIVATE"))}JQ();Jn(I3,IT);Jn(I3,IT,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="analytics",ZQ="firebase_id",eJ="origin",tJ=60*1e3,nJ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jT="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn=new z0("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rJ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},hr=new el("analytics","Analytics",rJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iJ(t){if(!t.startsWith(jT)){const e=hr.create("invalid-gtag-resource",{gtagURL:t});return Dn.warn(e.message),""}return t}function G3(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function aJ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function oJ(t,e){const n=aJ("firebase-js-sdk-policy",{createScriptURL:iJ}),r=document.createElement("script"),i=`${jT}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function sJ(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function lJ(t,e,n,r,i,a){const o=r[i];try{if(o)await e[o];else{const l=(await G3(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(s){Dn.error(s)}t("config",i,a)}async function uJ(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const s=await G3(n);for(const l of o){const u=s.find(f=>f.measurementId===l),c=u&&e[u.appId];if(c)a.push(c);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){Dn.error(a)}}function cJ(t,e,n,r){async function i(a,...o){try{if(a==="event"){const[s,l]=o;await uJ(t,e,n,s,l)}else if(a==="config"){const[s,l]=o;await lJ(t,e,n,r,s,l)}else if(a==="consent"){const[s,l]=o;t("consent",s,l)}else if(a==="get"){const[s,l,u]=o;t("get",s,l,u)}else if(a==="set"){const[s]=o;t("set",s)}else t(a,...o)}catch(s){Dn.error(s)}}return i}function fJ(t,e,n,r,i){let a=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=cJ(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function dJ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(jT)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hJ=30,pJ=1e3;class mJ{constructor(e={},n=pJ){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const K3=new mJ;function gJ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function yJ(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:gJ(n)},i=nJ.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let s="";try{const l=await a.json();(o=l.error)!=null&&o.message&&(s=l.error.message)}catch{}throw hr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s})}return a.json()}async function vJ(t,e=K3,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw hr.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw hr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new wJ;return setTimeout(async()=>{s.abort()},tJ),Y3({appId:r,apiKey:i,measurementId:a},o,s,e)}async function Y3(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=K3){var s;const{appId:a,measurementId:o}=t;try{await bJ(r,e)}catch(l){if(o)return Dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:o};throw l}try{const l=await yJ(t);return i.deleteThrottleMetadata(a),l}catch(l){const u=l;if(!xJ(u)){if(i.deleteThrottleMetadata(a),o)return Dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:o};throw l}const c=Number((s=u==null?void 0:u.customData)==null?void 0:s.httpStatus)===503?V2(n,i.intervalMillis,hJ):V2(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(a,f),Dn.debug(`Calling attemptFetch again in ${c} millis`),Y3(t,f,r,i)}}function bJ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(hr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function xJ(t){if(!(t instanceof Dr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class wJ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function _J(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,o={...r,send_to:a};t("event",n,o)}}async function SJ(t,e,n,r){if(r&&r.global){const i={};for(const a of Object.keys(n))i[`user_properties.${a}`]=n[a];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EJ(){if(u4())try{await c4()}catch(t){return Dn.warn(hr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Dn.warn(hr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function TJ(t,e,n,r,i,a,o){const s=vJ(t);s.then(d=>{n[d.measurementId]=d.appId,t.options.measurementId&&d.measurementId!==t.options.measurementId&&Dn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${d.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(d=>Dn.error(d)),e.push(s);const l=EJ().then(d=>{if(d)return r.getId()}),[u,c]=await Promise.all([s,l]);dJ(a)||oJ(a,u.measurementId),i("js",new Date);const f=(o==null?void 0:o.config)??{};return f[eJ]="firebase",f.update=!0,c!=null&&(f[ZQ]=c),i("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kJ{constructor(e){this.app=e}_delete(){return delete eu[this.app.options.appId],Promise.resolve()}}let eu={},xO=[];const wO={};let cx="dataLayer",AJ="gtag",_O,RT,SO=!1;function PJ(){const t=[];if(l4()&&t.push("This is a browser extension environment."),Gz()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=hr.create("invalid-analytics-context",{errorInfo:e});Dn.warn(n.message)}}function IJ(t,e,n){PJ();const r=t.options.appId;if(!r)throw hr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw hr.create("no-api-key");if(eu[r]!=null)throw hr.create("already-exists",{id:r});if(!SO){sJ(cx);const{wrappedGtag:a,gtagCore:o}=fJ(eu,xO,wO,cx,AJ);RT=a,_O=o,SO=!0}return eu[r]=TJ(t,xO,wO,e,_O,cx,n),new kJ(t)}function OJ(t=W0()){t=Bt(t);const e=Lo(t,Fg);return e.isInitialized()?e.getImmediate():NJ(t)}function NJ(t,e={}){const n=Lo(t,Fg);if(n.isInitialized()){const i=n.getImmediate();if(ko(e,n.getOptions()))return i;throw hr.create("already-initialized")}return n.initialize({options:e})}function CJ(t,e,n){t=Bt(t),SJ(RT,eu[t.app.options.appId],e,n).catch(r=>Dn.error(r))}function jJ(t,e,n,r){t=Bt(t),_J(RT,eu[t.app.options.appId],e,n,r).catch(i=>Dn.error(i))}const EO="@firebase/analytics",TO="0.10.19";function RJ(){li(new Mr(Fg,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return IJ(r,i,n)},"PUBLIC")),li(new Mr("analytics-internal",t,"PRIVATE")),Jn(EO,TO),Jn(EO,TO,"esm2020");function t(e){try{const n=e.getProvider(Fg).getImmediate();return{logEvent:(r,i,a)=>jJ(n,r,i,a),setUserProperties:(r,i)=>CJ(n,r,i)}}catch(n){throw hr.create("interop-component-reg-failed",{reason:n})}}}RJ();const MJ={apiKey:"AIzaSyALROg4hIMFvYd8hydNKxKWmP3Cn5JmdcQ",authDomain:"test-inventory-stoe.firebaseapp.com",projectId:"test-inventory-stoe",storageBucket:"test-inventory-stoe.firebasestorage.app",messagingSenderId:"1081430501971",appId:"1:1081430501971:web:bb4e4be92aa2519ae934a6",measurementId:"G-3Y7YENDSHN"},fv=p4(MJ);cG(fv);const Zo=bX(fv);cQ(fv);typeof window<"u"&&OJ(fv);const gt={subscribeToCollection:(t,e,n="name",r="asc")=>{try{if(!t||typeof e!="function")return console.error("subscribeToCollection: invalid arguments",{collectionName:t,callback:e}),()=>{};const i=n?NX(Up(Zo,t),CX(n,r)):Up(Zo,t);return dO(i,a=>{const o=a.docs.map(s=>({_id:s.id,...s.data()}));e(o)},a=>{if(console.error(`Error subscribing to ${t}:`,a),a.code==="failed-precondition"||a.message.includes("index")){console.log(`Retrying ${t} without orderBy...`);const o=Up(Zo,t);return dO(o,s=>{const l=s.docs.map(u=>({_id:u.id,...u.data()}));e(l)})}})}catch(i){return console.error(`Error setting up subscription for ${t}:`,i),()=>{}}},add:async(t,e)=>{if(!t)throw new Error("add: collectionName is required");try{const n=await DX(Up(Zo,t),e);return{...e,_id:n.id}}catch(n){throw console.error(`Error adding to ${t}:`,n),n}},update:async(t,e,n)=>{if(!t||!e)throw new Error("update: collectionName and id are required");try{const r=Mm(Zo,t,e);await MX(r,n)}catch(r){throw console.error(`Error updating ${t}:`,r),r}},set:async(t,e,n)=>{if(!t||!e)throw new Error("set: collectionName and id are required");try{const r=Mm(Zo,t,e);await RX(r,n)}catch(r){throw console.error(`Error setting in ${t}:`,r),r}},delete:async(t,e)=>{if(!t||!e)throw new Error("delete: collectionName and id are required");try{const n=Mm(Zo,t,e);await $X(n)}catch(n){throw console.error(`Error deleting from ${t}:`,n),n}}},X3=M.createContext(),zi=()=>M.useContext(X3),$J=({children:t})=>{const[e,n]=M.useState(()=>localStorage.getItem("theme")||"light"),[r,i]=M.useState(()=>localStorage.getItem("isSidebarCollapsed")==="true"),[a,o]=M.useState(!1),[s,l]=M.useState([]),[u,c]=M.useState([]),[f,d]=M.useState([]),[m,g]=M.useState([]),[y,b]=M.useState(["Electronics","Clothing","Home","Beauty","Sports"]),[v,x]=M.useState(!0),[w,A]=M.useState({name:"Gem Toys",logo:"https://i.imgur.com/9YXqZ5K.png",color:"#1e3a5f",hideHeader:!1}),_=async Z=>{const ue={...w,...Z};A(ue),await gt.set("settings","branding",ue)};M.useEffect(()=>{x(!0);const Z=gt.subscribeToCollection("products",l,"name"),ue=gt.subscribeToCollection("categories",de=>{if(de.length>0){const Ce=de.map(Ve=>Ve.name).sort();b(Ce),S(de)}else b([]),S([])}),Q=gt.subscribeToCollection("orders",c,"date","desc"),Re=gt.subscribeToCollection("customers",d,"name"),xe=gt.subscribeToCollection("users",g),ie=gt.subscribeToCollection("settings",de=>{const Ce=de.find(Ve=>Ve._id==="branding");if(Ce){const{_id:Ve,...je}=Ce;A(je)}});return x(!1),()=>{Z(),ue(),Q(),Re(),xe(),ie()}},[]);const[k,S]=M.useState([]),E=async Z=>{y.includes(Z)||await gt.add("categories",{name:Z})},P=async(Z,ue)=>{const Q=k.find(Re=>Re.name===Z);if(Q){await gt.update("categories",Q._id,{name:ue});const Re=s.filter(xe=>xe.category===Z);for(const xe of Re)await gt.update("products",xe._id,{category:ue})}},N=async Z=>{const ue=k.find(Q=>Q.name===Z);ue&&await gt.delete("categories",ue._id)},[O,C]=M.useState(null);M.useEffect(()=>{if(m.length>0)if(O){const Z=m.find(ue=>ue._id===O._id||ue.username===O.username);Z&&C(Z)}else{const Z=m.find(ue=>ue.role==="Admin");C(Z||m[0])}},[m]);const j=Z=>{n(Z)};M.useEffect(()=>{const Z=document.documentElement;e==="dark"?Z.classList.add("dark"):e==="light"?Z.classList.remove("dark"):e==="system"&&(window.matchMedia("(prefers-color-scheme: dark)").matches?Z.classList.add("dark"):Z.classList.remove("dark")),localStorage.setItem("theme",e)},[e]);const D=()=>{i(Z=>{const ue=!Z;return localStorage.setItem("isSidebarCollapsed",ue),ue})},R=()=>o(Z=>!Z),$=()=>o(!1),F=Z=>new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(Z),V=async Z=>{await gt.add("products",Z)},U=async Z=>{const{_id:ue,...Q}=Z;await gt.update("products",ue,Q)},W=async Z=>{await gt.delete("products",Z)},q=async Z=>await gt.add("customers",Z),B=async Z=>{const{_id:ue,...Q}=Z;await gt.update("customers",ue,Q)},K=async Z=>{const ue={...Z,orderId:`#ORD-${Math.floor(1e3+Math.random()*9e3)}`,date:new Date().toISOString()},Q=await gt.add("orders",ue);for(const Re of Z.items){const xe=s.find(ie=>ie._id===Re.product._id);if(xe){const ie=Math.max(0,xe.stock-Re.quantity);await gt.update("products",xe._id,{stock:ie,status:ie===0?"Out of Stock":ie<=5?"Low Stock":"In Stock"})}}return Q},re=async Z=>{await gt.delete("orders",Z)},fe=async Z=>{const{_id:ue,...Q}=Z;await gt.update("orders",ue,Q)},ve=async Z=>{await gt.add("users",{...Z,displayName:Z.username})},Ae=async Z=>{const{_id:ue,...Q}=Z;await gt.update("users",ue,Q)},Ee=async Z=>{O&&(await gt.update("users",O._id,Z),C(ue=>({...ue,...Z})))},J=async Z=>{await gt.delete("users",Z)};return h.jsx(X3.Provider,{value:{products:s,addProduct:V,updateProduct:U,deleteProduct:W,orders:u,addOrder:K,updateOrder:fe,deleteOrder:re,customers:f,addCustomer:q,updateCustomer:B,users:m,addUser:ve,updateUser:Ae,deleteUser:J,categories:y,addCategory:E,updateCategory:P,deleteCategory:N,loading:v,theme:e,toggleTheme:j,brand:w,updateBrand:_,currentUser:O,updateUserProfile:Ee,formatCurrency:F,isSidebarCollapsed:r,toggleSidebar:D,isMobileMenuOpen:a,toggleMobileMenu:R,closeMobileMenu:$},children:t})},DJ=()=>{var c;const t=rc(),{theme:e,currentUser:n,brand:r,isSidebarCollapsed:i,toggleSidebar:a,isMobileMenuOpen:o,closeMobileMenu:s}=zi(),l=[{icon:bz,label:"Dashboard",path:"/"},{icon:R2,label:"Inventory",path:"/products"},{icon:yg,label:"Product Picture",path:"/product-picture"},{icon:JD,label:"Orders",path:"/orders"},{icon:$E,label:"Customers",path:"/customers"},{icon:QD,label:"Settings",path:"/settings"}],u=`
        fixed lg:static inset-y-0 left-0 z-40
        ${i?"w-20":"w-56"}
        bg-white dark:bg-slate-900 
        border-r border-slate-200 dark:border-slate-800 
        flex flex-col h-screen 
        transition-all duration-300 ease-in-out
        ${o?"translate-x-0":"-translate-x-full lg:translate-x-0"}
    `;return h.jsxs("aside",{className:u,children:[h.jsxs("div",{className:`h-24 flex items-center ${i?"justify-center":"px-8"} relative`,children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center shadow-lg text-white overflow-hidden shrink-0",style:{backgroundColor:r.color,boxShadow:`0 10px 15px -3px ${r.color}33`},children:r.logo?h.jsx("img",{src:r.logo,alt:"Logo",className:"w-full h-full object-cover"}):h.jsx(R2,{className:"w-6 h-6"})}),!i&&h.jsx("div",{className:"animate-in fade-in duration-300",children:h.jsxs("h1",{className:"font-bold text-slate-800 dark:text-white text-lg leading-tight tracking-tight",children:[r.name.split(" ")[0],h.jsx("br",{}),h.jsx("span",{style:{color:r.color},className:"font-extrabold",children:r.name.split(" ").slice(1).join(" ")||"APP"})]})})]}),h.jsx("button",{onClick:s,className:"lg:hidden absolute top-6 right-4 p-2 text-slate-400 hover:text-red-500 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:h.jsx(ii,{className:"w-5 h-5"})})]}),h.jsxs("nav",{className:"flex-1 overflow-y-auto py-4 px-3 space-y-2 custom-scrollbar",children:[!i&&h.jsx("div",{className:"mb-4 px-4",children:h.jsx("p",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:"Main Menu"})}),l.map(f=>{const d=t.pathname===f.path;return h.jsxs(sz,{to:f.path,title:i?f.label:"",onClick:s,className:`flex items-center gap-3 rounded-xl transition-all duration-200 group relative overflow-hidden ${i?"justify-center p-3":"px-4 py-3.5"} ${d?"text-white shadow-lg":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 dark:text-slate-400 dark:hover:text-white"}`,style:d?{backgroundColor:r.color,boxShadow:`0 10px 15px -3px ${r.color}4d`}:{},children:[h.jsx(f.icon,{className:`w-5 h-5 relative z-10 transition-transform duration-200 ${d?"scale-110":"group-hover:scale-110"}`}),!i&&h.jsx("span",{className:"font-medium relative z-10 animate-in fade-in slide-in-from-left-2 duration-300",children:f.label})]},f.path)})]}),h.jsx("div",{className:"p-4 mt-auto border-t border-slate-100 dark:border-slate-800/50",children:h.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 flex items-center shadow-sm ${i?"p-2 justify-center":"p-4 gap-3"}`,children:[h.jsxs("div",{className:"relative shrink-0 w-10 h-10",children:[h.jsx("div",{className:"w-full h-full text-white rounded-full flex items-center justify-center font-bold text-lg overflow-hidden",style:{backgroundColor:r.color},children:n!=null&&n.photoURL?h.jsx("img",{src:n.photoURL,alt:"User",className:"w-full h-full object-cover"}):((c=n==null?void 0:n.displayName)==null?void 0:c.charAt(0))||"U"}),h.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-emerald-500 border-2 border-white dark:border-slate-800 rounded-full"})]}),!i&&h.jsxs("div",{className:"overflow-hidden animate-in fade-in duration-300",children:[h.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-white truncate",children:(n==null?void 0:n.displayName)||"User"}),h.jsx("p",{className:"text-xs text-slate-500 truncate",children:(n==null?void 0:n.role)||"Staff"})]})]})}),h.jsx("button",{onClick:a,className:"hidden lg:flex absolute bottom-24 -right-3 w-6 h-6 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-full items-center justify-center text-slate-400 shadow-sm z-50 transition-all hover:scale-110",style:{color:r.color},children:i?h.jsx(NE,{className:"w-3.5 h-3.5"}):h.jsx(OE,{className:"w-3.5 h-3.5"})})]})},LJ=({title:t})=>{var a,o,s;const{currentUser:e,toggleMobileMenu:n,theme:r,toggleTheme:i}=zi();return h.jsxs("header",{className:"h-24 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-slate-200 dark:border-slate-800 flex items-center justify-between px-4 md:px-8 sticky top-0 z-20 transition-all duration-300",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("button",{onClick:n,className:"p-2 lg:hidden text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl transition-colors",children:h.jsx(wz,{className:"w-6 h-6"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl md:text-2xl font-black text-slate-800 dark:text-white tracking-tight truncate max-w-[150px] md:max-w-none",children:t}),h.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium hidden md:block",children:["Welcome back, ",((a=e==null?void 0:e.displayName)==null?void 0:a.split(" ")[0])||"Admin"]})]})]}),h.jsxs("div",{className:"flex items-center gap-2 md:gap-6",children:[h.jsx("button",{onClick:()=>i(r==="dark"?"light":"dark"),className:"p-2.5 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-50 dark:hover:bg-slate-800 rounded-xl transition-all group",title:`Switch to ${r==="dark"?"light":"dark"} mode`,children:r==="dark"?h.jsx(ZD,{className:"w-5 h-5 group-hover:rotate-45 transition-transform"}):h.jsx("svg",{className:"w-5 h-5 group-hover:-rotate-12 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),h.jsxs("button",{className:"p-2.5 text-slate-400 hover:text-indigo-600 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-xl transition-all relative group",children:[h.jsx(hz,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),h.jsx("span",{className:"absolute top-2.5 right-2.5 w-2 h-2 bg-red-500 rounded-full border-2 border-white dark:border-slate-900 animate-pulse"})]}),h.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-700 mx-1 hidden min-[400px]:block"}),h.jsxs("button",{className:"flex items-center gap-2 p-1 md:p-1.5 md:pr-3 rounded-full hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors border border-transparent hover:border-slate-200 dark:hover:border-slate-700",children:[h.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-indigo-500 to-purple-500 flex items-center justify-center text-white font-bold text-sm shadow-md overflow-hidden shrink-0",children:e!=null&&e.photoURL?h.jsx("img",{src:e.photoURL,alt:"User",className:"w-full h-full object-cover"}):((o=e==null?void 0:e.displayName)==null?void 0:o.charAt(0))||"A"}),h.jsx("span",{className:"hidden sm:block text-sm font-bold text-slate-700 dark:text-slate-300 truncate max-w-[80px]",children:((s=e==null?void 0:e.displayName)==null?void 0:s.split(" ")[0])||"Admin"})]})]})]})},cc=({children:t,title:e})=>{const{isSidebarCollapsed:n,isMobileMenuOpen:r,closeMobileMenu:i,brand:a}=zi();return h.jsxs("div",{className:"flex h-screen bg-slate-50 dark:bg-slate-950 font-sans transition-colors duration-300",style:{"--brand-color":a.color},children:[r&&h.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-30 lg:hidden animate-in fade-in duration-300",onClick:i}),h.jsx(DJ,{}),h.jsxs("div",{className:"flex-1 flex flex-col min-h-screen transition-all duration-300",children:[!a.hideHeader&&h.jsx(LJ,{title:e||"Dashboard"}),h.jsx("main",{className:`flex-1 p-4 md:p-8 overflow-y-auto ${a.hideHeader?"pt-8":""}`,children:h.jsx("div",{className:"max-w-7xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:t})})]})]})};function Q3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Q3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ye(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Q3(t))&&(r&&(r+=" "),r+=e);return r}var VJ=Array.isArray,tr=VJ,FJ=typeof yp=="object"&&yp&&yp.Object===Object&&yp,J3=FJ,UJ=J3,BJ=typeof self=="object"&&self&&self.Object===Object&&self,zJ=UJ||BJ||Function("return this")(),Wi=zJ,WJ=Wi,qJ=WJ.Symbol,zh=qJ,kO=zh,Z3=Object.prototype,HJ=Z3.hasOwnProperty,GJ=Z3.toString,Qc=kO?kO.toStringTag:void 0;function KJ(t){var e=HJ.call(t,Qc),n=t[Qc];try{t[Qc]=void 0;var r=!0}catch{}var i=GJ.call(t);return r&&(e?t[Qc]=n:delete t[Qc]),i}var YJ=KJ,XJ=Object.prototype,QJ=XJ.toString;function JJ(t){return QJ.call(t)}var ZJ=JJ,AO=zh,eZ=YJ,tZ=ZJ,nZ="[object Null]",rZ="[object Undefined]",PO=AO?AO.toStringTag:void 0;function iZ(t){return t==null?t===void 0?rZ:nZ:PO&&PO in Object(t)?eZ(t):tZ(t)}var Pa=iZ;function aZ(t){return t!=null&&typeof t=="object"}var Ia=aZ,oZ=Pa,sZ=Ia,lZ="[object Symbol]";function uZ(t){return typeof t=="symbol"||sZ(t)&&oZ(t)==lZ}var fc=uZ,cZ=tr,fZ=fc,dZ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hZ=/^\w*$/;function pZ(t,e){if(cZ(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||fZ(t)?!0:hZ.test(t)||!dZ.test(t)||e!=null&&t in Object(e)}var MT=pZ;function mZ(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Uo=mZ;const dc=at(Uo);var gZ=Pa,yZ=Uo,vZ="[object AsyncFunction]",bZ="[object Function]",xZ="[object GeneratorFunction]",wZ="[object Proxy]";function _Z(t){if(!yZ(t))return!1;var e=gZ(t);return e==bZ||e==xZ||e==vZ||e==wZ}var $T=_Z;const $e=at($T);var SZ=Wi,EZ=SZ["__core-js_shared__"],TZ=EZ,fx=TZ,IO=function(){var t=/[^.]+$/.exec(fx&&fx.keys&&fx.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function kZ(t){return!!IO&&IO in t}var AZ=kZ,PZ=Function.prototype,IZ=PZ.toString;function OZ(t){if(t!=null){try{return IZ.call(t)}catch{}try{return t+""}catch{}}return""}var e5=OZ,NZ=$T,CZ=AZ,jZ=Uo,RZ=e5,MZ=/[\\^$.*+?()[\]{}|]/g,$Z=/^\[object .+?Constructor\]$/,DZ=Function.prototype,LZ=Object.prototype,VZ=DZ.toString,FZ=LZ.hasOwnProperty,UZ=RegExp("^"+VZ.call(FZ).replace(MZ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function BZ(t){if(!jZ(t)||CZ(t))return!1;var e=NZ(t)?UZ:$Z;return e.test(RZ(t))}var zZ=BZ;function WZ(t,e){return t==null?void 0:t[e]}var qZ=WZ,HZ=zZ,GZ=qZ;function KZ(t,e){var n=GZ(t,e);return HZ(n)?n:void 0}var al=KZ,YZ=al,XZ=YZ(Object,"create"),dv=XZ,OO=dv;function QZ(){this.__data__=OO?OO(null):{},this.size=0}var JZ=QZ;function ZZ(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var eee=ZZ,tee=dv,nee="__lodash_hash_undefined__",ree=Object.prototype,iee=ree.hasOwnProperty;function aee(t){var e=this.__data__;if(tee){var n=e[t];return n===nee?void 0:n}return iee.call(e,t)?e[t]:void 0}var oee=aee,see=dv,lee=Object.prototype,uee=lee.hasOwnProperty;function cee(t){var e=this.__data__;return see?e[t]!==void 0:uee.call(e,t)}var fee=cee,dee=dv,hee="__lodash_hash_undefined__";function pee(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=dee&&e===void 0?hee:e,this}var mee=pee,gee=JZ,yee=eee,vee=oee,bee=fee,xee=mee;function hc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}hc.prototype.clear=gee;hc.prototype.delete=yee;hc.prototype.get=vee;hc.prototype.has=bee;hc.prototype.set=xee;var wee=hc;function _ee(){this.__data__=[],this.size=0}var See=_ee;function Eee(t,e){return t===e||t!==t&&e!==e}var DT=Eee,Tee=DT;function kee(t,e){for(var n=t.length;n--;)if(Tee(t[n][0],e))return n;return-1}var hv=kee,Aee=hv,Pee=Array.prototype,Iee=Pee.splice;function Oee(t){var e=this.__data__,n=Aee(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Iee.call(e,n,1),--this.size,!0}var Nee=Oee,Cee=hv;function jee(t){var e=this.__data__,n=Cee(e,t);return n<0?void 0:e[n][1]}var Ree=jee,Mee=hv;function $ee(t){return Mee(this.__data__,t)>-1}var Dee=$ee,Lee=hv;function Vee(t,e){var n=this.__data__,r=Lee(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Fee=Vee,Uee=See,Bee=Nee,zee=Ree,Wee=Dee,qee=Fee;function pc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}pc.prototype.clear=Uee;pc.prototype.delete=Bee;pc.prototype.get=zee;pc.prototype.has=Wee;pc.prototype.set=qee;var pv=pc,Hee=al,Gee=Wi,Kee=Hee(Gee,"Map"),LT=Kee,NO=wee,Yee=pv,Xee=LT;function Qee(){this.size=0,this.__data__={hash:new NO,map:new(Xee||Yee),string:new NO}}var Jee=Qee;function Zee(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var ete=Zee,tte=ete;function nte(t,e){var n=t.__data__;return tte(e)?n[typeof e=="string"?"string":"hash"]:n.map}var mv=nte,rte=mv;function ite(t){var e=rte(this,t).delete(t);return this.size-=e?1:0,e}var ate=ite,ote=mv;function ste(t){return ote(this,t).get(t)}var lte=ste,ute=mv;function cte(t){return ute(this,t).has(t)}var fte=cte,dte=mv;function hte(t,e){var n=dte(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var pte=hte,mte=Jee,gte=ate,yte=lte,vte=fte,bte=pte;function mc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}mc.prototype.clear=mte;mc.prototype.delete=gte;mc.prototype.get=yte;mc.prototype.has=vte;mc.prototype.set=bte;var VT=mc,t5=VT,xte="Expected a function";function FT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(xte);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(FT.Cache||t5),n}FT.Cache=t5;var n5=FT;const wte=at(n5);var _te=n5,Ste=500;function Ete(t){var e=_te(t,function(r){return n.size===Ste&&n.clear(),r}),n=e.cache;return e}var Tte=Ete,kte=Tte,Ate=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pte=/\\(\\)?/g,Ite=kte(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Ate,function(n,r,i,a){e.push(i?a.replace(Pte,"$1"):r||n)}),e}),Ote=Ite;function Nte(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var UT=Nte,CO=zh,Cte=UT,jte=tr,Rte=fc,jO=CO?CO.prototype:void 0,RO=jO?jO.toString:void 0;function r5(t){if(typeof t=="string")return t;if(jte(t))return Cte(t,r5)+"";if(Rte(t))return RO?RO.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Mte=r5,$te=Mte;function Dte(t){return t==null?"":$te(t)}var i5=Dte,Lte=tr,Vte=MT,Fte=Ote,Ute=i5;function Bte(t,e){return Lte(t)?t:Vte(t,e)?[t]:Fte(Ute(t))}var a5=Bte,zte=fc;function Wte(t){if(typeof t=="string"||zte(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var gv=Wte,qte=a5,Hte=gv;function Gte(t,e){e=qte(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Hte(e[n++])];return n&&n==r?t:void 0}var BT=Gte,Kte=BT;function Yte(t,e,n){var r=t==null?void 0:Kte(t,e);return r===void 0?n:r}var o5=Yte;const Cr=at(o5);function Xte(t){return t==null}var Qte=Xte;const qe=at(Qte);var Jte=Pa,Zte=tr,ene=Ia,tne="[object String]";function nne(t){return typeof t=="string"||!Zte(t)&&ene(t)&&Jte(t)==tne}var rne=nne;const zs=at(rne);var s5={exports:{}},et={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zT=Symbol.for("react.element"),WT=Symbol.for("react.portal"),yv=Symbol.for("react.fragment"),vv=Symbol.for("react.strict_mode"),bv=Symbol.for("react.profiler"),xv=Symbol.for("react.provider"),wv=Symbol.for("react.context"),ine=Symbol.for("react.server_context"),_v=Symbol.for("react.forward_ref"),Sv=Symbol.for("react.suspense"),Ev=Symbol.for("react.suspense_list"),Tv=Symbol.for("react.memo"),kv=Symbol.for("react.lazy"),ane=Symbol.for("react.offscreen"),l5;l5=Symbol.for("react.module.reference");function Lr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case zT:switch(t=t.type,t){case yv:case bv:case vv:case Sv:case Ev:return t;default:switch(t=t&&t.$$typeof,t){case ine:case wv:case _v:case kv:case Tv:case xv:return t;default:return e}}case WT:return e}}}et.ContextConsumer=wv;et.ContextProvider=xv;et.Element=zT;et.ForwardRef=_v;et.Fragment=yv;et.Lazy=kv;et.Memo=Tv;et.Portal=WT;et.Profiler=bv;et.StrictMode=vv;et.Suspense=Sv;et.SuspenseList=Ev;et.isAsyncMode=function(){return!1};et.isConcurrentMode=function(){return!1};et.isContextConsumer=function(t){return Lr(t)===wv};et.isContextProvider=function(t){return Lr(t)===xv};et.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===zT};et.isForwardRef=function(t){return Lr(t)===_v};et.isFragment=function(t){return Lr(t)===yv};et.isLazy=function(t){return Lr(t)===kv};et.isMemo=function(t){return Lr(t)===Tv};et.isPortal=function(t){return Lr(t)===WT};et.isProfiler=function(t){return Lr(t)===bv};et.isStrictMode=function(t){return Lr(t)===vv};et.isSuspense=function(t){return Lr(t)===Sv};et.isSuspenseList=function(t){return Lr(t)===Ev};et.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===yv||t===bv||t===vv||t===Sv||t===Ev||t===ane||typeof t=="object"&&t!==null&&(t.$$typeof===kv||t.$$typeof===Tv||t.$$typeof===xv||t.$$typeof===wv||t.$$typeof===_v||t.$$typeof===l5||t.getModuleId!==void 0)};et.typeOf=Lr;s5.exports=et;var one=s5.exports,sne=Pa,lne=Ia,une="[object Number]";function cne(t){return typeof t=="number"||lne(t)&&sne(t)==une}var u5=cne;const fne=at(u5);var dne=u5;function hne(t){return dne(t)&&t!=+t}var pne=hne;const gc=at(pne);var Zr=function(e){return e===0?0:e>0?1:-1},gs=function(e){return zs(e)&&e.indexOf("%")===e.length-1},le=function(e){return fne(e)&&!gc(e)},mne=function(e){return qe(e)},Kt=function(e){return le(e)||zs(e)},gne=0,Wh=function(e){var n=++gne;return"".concat(e||"").concat(n)},Ws=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!le(e)&&!zs(e))return r;var a;if(gs(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return gc(a)&&(a=r),i&&a>n&&(a=n),a},eo=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},yne=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Er=function(e,n){return le(e)&&le(n)?function(r){return e+r*(n-e)}:function(){return n}};function Ug(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Cr(r,e))===n})}var vne=function(e,n){return le(e)&&le(n)?e-n:zs(e)&&zs(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function tu(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function E1(t){"@babel/helpers - typeof";return E1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E1(t)}var bne=["viewBox","children"],xne=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],MO=["points","pathLength"],dx={svg:bne,polygon:MO,polyline:MO},qT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Bg=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(M.isValidElement(e)&&(r=e.props),!dc(r))return null;var i={};return Object.keys(r).forEach(function(a){qT.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},wne=function(e,n,r){return function(i){return e(n,r,i),null}},zg=function(e,n,r){if(!dc(e)||E1(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];qT.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=wne(o,n,r))}),i},_ne=["children"],Sne=["children"];function $O(t,e){if(t==null)return{};var n=Ene(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ene(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function T1(t){"@babel/helpers - typeof";return T1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T1(t)}var DO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ua=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},LO=null,hx=null,HT=function t(e){if(e===LO&&Array.isArray(hx))return hx;var n=[];return M.Children.forEach(e,function(r){qe(r)||(one.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),hx=n,LO=e,n};function oi(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return ua(i)}):r=[ua(e)],HT(t).forEach(function(i){var a=Cr(i,"type.displayName")||Cr(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function ar(t,e){var n=oi(t,e);return n&&n[0]}var VO=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!le(r)||r<=0||!le(i)||i<=0)},Tne=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],kne=function(e){return e&&e.type&&zs(e.type)&&Tne.indexOf(e.type)>=0},Ane=function(e){return e&&T1(e)==="object"&&"clipDot"in e},Pne=function(e,n,r,i){var a,o=(a=dx==null?void 0:dx[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!$e(e)&&(i&&o.includes(n)||xne.includes(n))||r&&qT.includes(n)},Fe=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(M.isValidElement(e)&&(i=e.props),!dc(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;Pne((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},k1=function t(e,n){if(e===n)return!0;var r=M.Children.count(e);if(r!==M.Children.count(n))return!1;if(r===0)return!0;if(r===1)return FO(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!FO(a,o))return!1}return!0},FO=function(e,n){if(qe(e)&&qe(n))return!0;if(!qe(e)&&!qe(n)){var r=e.props||{},i=r.children,a=$O(r,_ne),o=n.props||{},s=o.children,l=$O(o,Sne);return i&&s?tu(a,l)&&k1(i,s):!i&&!s?tu(a,l):!1}return!1},UO=function(e,n){var r=[],i={};return HT(e).forEach(function(a,o){if(kne(a))r.push(a);else if(a){var s=ua(a.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(a,s,o);r.push(f),i[s]=!0}}}),r},Ine=function(e){var n=e&&e.type;return n&&DO[n]?DO[n]:null},One=function(e,n){return HT(n).indexOf(e)},Nne=["children","width","height","viewBox","className","style","title","desc"];function A1(){return A1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A1.apply(this,arguments)}function Cne(t,e){if(t==null)return{};var n=jne(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function P1(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=Cne(t,Nne),c=i||{width:n,height:r,x:0,y:0},f=Ye("recharts-surface",a);return z.createElement("svg",A1({},Fe(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),z.createElement("title",null,s),z.createElement("desc",null,l),e)}var Rne=["children","className"];function I1(){return I1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I1.apply(this,arguments)}function Mne(t,e){if(t==null)return{};var n=$ne(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $ne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var wt=z.forwardRef(function(t,e){var n=t.children,r=t.className,i=Mne(t,Rne),a=Ye("recharts-layer",r);return z.createElement("g",I1({className:a},Fe(i,!0),{ref:e}),n)}),ca=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function Dne(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var Lne=Dne,Vne=Lne;function Fne(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Vne(t,e,n)}var Une=Fne,Bne="\\ud800-\\udfff",zne="\\u0300-\\u036f",Wne="\\ufe20-\\ufe2f",qne="\\u20d0-\\u20ff",Hne=zne+Wne+qne,Gne="\\ufe0e\\ufe0f",Kne="\\u200d",Yne=RegExp("["+Kne+Bne+Hne+Gne+"]");function Xne(t){return Yne.test(t)}var c5=Xne;function Qne(t){return t.split("")}var Jne=Qne,f5="\\ud800-\\udfff",Zne="\\u0300-\\u036f",ere="\\ufe20-\\ufe2f",tre="\\u20d0-\\u20ff",nre=Zne+ere+tre,rre="\\ufe0e\\ufe0f",ire="["+f5+"]",O1="["+nre+"]",N1="\\ud83c[\\udffb-\\udfff]",are="(?:"+O1+"|"+N1+")",d5="[^"+f5+"]",h5="(?:\\ud83c[\\udde6-\\uddff]){2}",p5="[\\ud800-\\udbff][\\udc00-\\udfff]",ore="\\u200d",m5=are+"?",g5="["+rre+"]?",sre="(?:"+ore+"(?:"+[d5,h5,p5].join("|")+")"+g5+m5+")*",lre=g5+m5+sre,ure="(?:"+[d5+O1+"?",O1,h5,p5,ire].join("|")+")",cre=RegExp(N1+"(?="+N1+")|"+ure+lre,"g");function fre(t){return t.match(cre)||[]}var dre=fre,hre=Jne,pre=c5,mre=dre;function gre(t){return pre(t)?mre(t):hre(t)}var yre=gre,vre=Une,bre=c5,xre=yre,wre=i5;function _re(t){return function(e){e=wre(e);var n=bre(e)?xre(e):void 0,r=n?n[0]:e.charAt(0),i=n?vre(n,1).join(""):e.slice(1);return r[t]()+i}}var Sre=_re,Ere=Sre,Tre=Ere("toUpperCase"),kre=Tre;const Av=at(kre);function ot(t){return function(){return t}}const y5=Math.cos,Wg=Math.sin,ci=Math.sqrt,qg=Math.PI,Pv=2*qg,C1=Math.PI,j1=2*C1,os=1e-6,Are=j1-os;function v5(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Pre(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return v5;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Ire{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?v5:Pre(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,u=i-n,c=o-e,f=s-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>os)if(!(Math.abs(f*l-u*c)>os)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-o,g=i-s,y=l*l+u*u,b=m*m+g*g,v=Math.sqrt(y),x=Math.sqrt(d),w=a*Math.tan((C1-Math.acos((y+d-b)/(2*v*x)))/2),A=w/x,_=w/v;Math.abs(A-1)>os&&this._append`L${e+A*c},${n+A*f}`,this._append`A${a},${a},0,0,${+(f*m>c*g)},${this._x1=e+_*l},${this._y1=n+_*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^o,d=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>os||Math.abs(this._y1-c)>os)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%j1+j1),d>Are?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>os&&this._append`A${r},${r},0,${+(d>=C1)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function GT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Ire(e)}function KT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function b5(t){this._context=t}b5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Iv(t){return new b5(t)}function x5(t){return t[0]}function w5(t){return t[1]}function _5(t,e){var n=ot(!0),r=null,i=Iv,a=null,o=GT(s);t=typeof t=="function"?t:t===void 0?x5:ot(t),e=typeof e=="function"?e:e===void 0?w5:ot(e);function s(l){var u,c=(l=KT(l)).length,f,d=!1,m;for(r==null&&(a=i(m=o())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+t(f,u,l),+e(f,u,l));if(m)return a=null,m+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:ot(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:ot(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ot(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function zp(t,e,n){var r=null,i=ot(!0),a=null,o=Iv,s=null,l=GT(u);t=typeof t=="function"?t:t===void 0?x5:ot(+t),e=typeof e=="function"?e:ot(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?w5:ot(+n);function u(f){var d,m,g,y=(f=KT(f)).length,b,v=!1,x,w=new Array(y),A=new Array(y);for(a==null&&(s=o(x=l())),d=0;d<=y;++d){if(!(d<y&&i(b=f[d],d,f))===v)if(v=!v)m=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=d-1;g>=m;--g)s.point(w[g],A[g]);s.lineEnd(),s.areaEnd()}v&&(w[d]=+t(b,d,f),A[d]=+e(b,d,f),s.point(r?+r(b,d,f):w[d],n?+n(b,d,f):A[d]))}if(x)return s=null,x+""||null}function c(){return _5().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:ot(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:ot(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ot(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:ot(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:ot(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ot(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ot(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class S5{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Ore(t){return new S5(t,!0)}function Nre(t){return new S5(t,!1)}const YT={draw(t,e){const n=ci(e/qg);t.moveTo(n,0),t.arc(0,0,n,0,Pv)}},Cre={draw(t,e){const n=ci(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},E5=ci(1/3),jre=E5*2,Rre={draw(t,e){const n=ci(e/jre),r=n*E5;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Mre={draw(t,e){const n=ci(e),r=-n/2;t.rect(r,r,n,n)}},$re=.8908130915292852,T5=Wg(qg/10)/Wg(7*qg/10),Dre=Wg(Pv/10)*T5,Lre=-y5(Pv/10)*T5,Vre={draw(t,e){const n=ci(e*$re),r=Dre*n,i=Lre*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Pv*a/5,s=y5(o),l=Wg(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},px=ci(3),Fre={draw(t,e){const n=-ci(e/(px*3));t.moveTo(0,n*2),t.lineTo(-px*n,-n),t.lineTo(px*n,-n),t.closePath()}},br=-.5,xr=ci(3)/2,R1=1/ci(12),Ure=(R1/2+1)*3,Bre={draw(t,e){const n=ci(e/Ure),r=n/2,i=n*R1,a=r,o=n*R1+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(br*r-xr*i,xr*r+br*i),t.lineTo(br*a-xr*o,xr*a+br*o),t.lineTo(br*s-xr*l,xr*s+br*l),t.lineTo(br*r+xr*i,br*i-xr*r),t.lineTo(br*a+xr*o,br*o-xr*a),t.lineTo(br*s+xr*l,br*l-xr*s),t.closePath()}};function zre(t,e){let n=null,r=GT(i);t=typeof t=="function"?t:ot(t||YT),e=typeof e=="function"?e:ot(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:ot(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:ot(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Hg(){}function Gg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function k5(t){this._context=t}k5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Gg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Gg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Wre(t){return new k5(t)}function A5(t){this._context=t}A5.prototype={areaStart:Hg,areaEnd:Hg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Gg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function qre(t){return new A5(t)}function P5(t){this._context=t}P5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Gg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Hre(t){return new P5(t)}function I5(t){this._context=t}I5.prototype={areaStart:Hg,areaEnd:Hg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Gre(t){return new I5(t)}function BO(t){return t<0?-1:1}function zO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(BO(a)+BO(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function WO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function mx(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function Kg(t){this._context=t}Kg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:mx(this,this._t0,WO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,mx(this,WO(this,n=zO(this,t,e)),n);break;default:mx(this,this._t0,n=zO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function O5(t){this._context=new N5(t)}(O5.prototype=Object.create(Kg.prototype)).point=function(t,e){Kg.prototype.point.call(this,e,t)};function N5(t){this._context=t}N5.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Kre(t){return new Kg(t)}function Yre(t){return new O5(t)}function C5(t){this._context=t}C5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=qO(t),i=qO(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function qO(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Xre(t){return new C5(t)}function Ov(t,e){this._context=t,this._t=e}Ov.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Qre(t){return new Ov(t,.5)}function Jre(t){return new Ov(t,0)}function Zre(t){return new Ov(t,1)}function Su(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function M1(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function eie(t,e){return t[e]}function tie(t){const e=[];return e.key=t,e}function nie(){var t=ot([]),e=M1,n=Su,r=eie;function i(a){var o=Array.from(t.apply(this,arguments),tie),s,l=o.length,u=-1,c;for(const f of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(f,o[s].key,u,a)]).data=f;for(s=0,c=KT(e(o));s<l;++s)o[c[s]].index=s;return n(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:ot(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:ot(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?M1:typeof a=="function"?a:ot(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Su,i):n},i}function rie(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Su(t,e)}}function iie(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Su(t,e)}}function aie(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var c=t[e[s]],f=c[r][1]||0,d=c[r-1][1]||0,m=(f-d)/2,g=0;g<s;++g){var y=t[e[g]],b=y[r][1]||0,v=y[r-1][1]||0;m+=b-v}l+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Su(t,e)}}function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}var oie=["type","size","sizeType"];function $1(){return $1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$1.apply(this,arguments)}function HO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(n),!0).forEach(function(r){sie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sie(t,e,n){return e=lie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lie(t){var e=uie(t,"string");return jd(e)=="symbol"?e:e+""}function uie(t,e){if(jd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cie(t,e){if(t==null)return{};var n=fie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var j5={symbolCircle:YT,symbolCross:Cre,symbolDiamond:Rre,symbolSquare:Mre,symbolStar:Vre,symbolTriangle:Fre,symbolWye:Bre},die=Math.PI/180,hie=function(e){var n="symbol".concat(Av(e));return j5[n]||YT},pie=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*die;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},mie=function(e,n){j5["symbol".concat(Av(e))]=n},XT=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=cie(e,oie),u=GO(GO({},l),{},{type:r,size:a,sizeType:s}),c=function(){var b=hie(r),v=zre().type(b).size(pie(a,s,r));return v()},f=u.className,d=u.cx,m=u.cy,g=Fe(u,!0);return d===+d&&m===+m&&a===+a?z.createElement("path",$1({},g,{className:Ye("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(m,")"),d:c()})):null};XT.registerSymbol=mie;function Eu(t){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(t)}function D1(){return D1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D1.apply(this,arguments)}function KO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(n),!0).forEach(function(r){Rd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M5(r.key),r)}}function bie(t,e,n){return e&&vie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xie(t,e,n){return e=Yg(e),wie(t,R5()?Reflect.construct(e,n||[],Yg(t).constructor):e.apply(t,n))}function wie(t,e){if(e&&(Eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ie(t)}function _ie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R5=function(){return!!t})()}function Yg(t){return Yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yg(t)}function Sie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L1(t,e)}function L1(t,e){return L1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},L1(t,e)}function Rd(t,e,n){return e=M5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M5(t){var e=Eie(t,"string");return Eu(e)=="symbol"?e:e+""}function Eie(t,e){if(Eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wr=32,QT=function(t){function e(){return yie(this,e),xie(this,e,arguments)}return Sie(e,t),bie(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=wr/2,o=wr/6,s=wr/3,l=r.inactive?i:r.color;if(r.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:wr,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(wr,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return z.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(wr/8,"h").concat(wr,"v").concat(wr*3/4,"h").concat(-wr,"z"),className:"recharts-legend-icon"});if(z.isValidElement(r.legendIcon)){var u=gie({},r);return delete u.legendIcon,z.cloneElement(r.legendIcon,u)}return z.createElement(XT,{fill:l,cx:a,cy:a,size:wr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:wr,height:wr},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,g){var y=m.formatter||l,b=Ye(Rd(Rd({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var v=$e(m.value)?null:m.value;ca(!$e(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=m.inactive?u:m.color;return z.createElement("li",D1({className:b,style:f,key:"legend-item-".concat(g)},zg(r.props,m,g)),z.createElement(P1,{width:o,height:o,viewBox:c,style:d},r.renderIcon(m)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},y?y(v,m,g):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(M.PureComponent);Rd(QT,"displayName","Legend");Rd(QT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Tie=pv;function kie(){this.__data__=new Tie,this.size=0}var Aie=kie;function Pie(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Iie=Pie;function Oie(t){return this.__data__.get(t)}var Nie=Oie;function Cie(t){return this.__data__.has(t)}var jie=Cie,Rie=pv,Mie=LT,$ie=VT,Die=200;function Lie(t,e){var n=this.__data__;if(n instanceof Rie){var r=n.__data__;if(!Mie||r.length<Die-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new $ie(r)}return n.set(t,e),this.size=n.size,this}var Vie=Lie,Fie=pv,Uie=Aie,Bie=Iie,zie=Nie,Wie=jie,qie=Vie;function yc(t){var e=this.__data__=new Fie(t);this.size=e.size}yc.prototype.clear=Uie;yc.prototype.delete=Bie;yc.prototype.get=zie;yc.prototype.has=Wie;yc.prototype.set=qie;var $5=yc,Hie="__lodash_hash_undefined__";function Gie(t){return this.__data__.set(t,Hie),this}var Kie=Gie;function Yie(t){return this.__data__.has(t)}var Xie=Yie,Qie=VT,Jie=Kie,Zie=Xie;function Xg(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Qie;++e<n;)this.add(t[e])}Xg.prototype.add=Xg.prototype.push=Jie;Xg.prototype.has=Zie;var D5=Xg;function eae(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var L5=eae;function tae(t,e){return t.has(e)}var V5=tae,nae=D5,rae=L5,iae=V5,aae=1,oae=2;function sae(t,e,n,r,i,a){var o=n&aae,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,m=n&oae?new nae:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var g=t[f],y=e[f];if(r)var b=o?r(y,g,f,e,t,a):r(g,y,f,t,e,a);if(b!==void 0){if(b)continue;d=!1;break}if(m){if(!rae(e,function(v,x){if(!iae(m,x)&&(g===v||i(g,v,n,r,a)))return m.push(x)})){d=!1;break}}else if(!(g===y||i(g,y,n,r,a))){d=!1;break}}return a.delete(t),a.delete(e),d}var F5=sae,lae=Wi,uae=lae.Uint8Array,cae=uae;function fae(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var dae=fae;function hae(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var JT=hae,YO=zh,XO=cae,pae=DT,mae=F5,gae=dae,yae=JT,vae=1,bae=2,xae="[object Boolean]",wae="[object Date]",_ae="[object Error]",Sae="[object Map]",Eae="[object Number]",Tae="[object RegExp]",kae="[object Set]",Aae="[object String]",Pae="[object Symbol]",Iae="[object ArrayBuffer]",Oae="[object DataView]",QO=YO?YO.prototype:void 0,gx=QO?QO.valueOf:void 0;function Nae(t,e,n,r,i,a,o){switch(n){case Oae:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Iae:return!(t.byteLength!=e.byteLength||!a(new XO(t),new XO(e)));case xae:case wae:case Eae:return pae(+t,+e);case _ae:return t.name==e.name&&t.message==e.message;case Tae:case Aae:return t==e+"";case Sae:var s=gae;case kae:var l=r&vae;if(s||(s=yae),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=bae,o.set(t,e);var c=mae(s(t),s(e),r,i,a,o);return o.delete(t),c;case Pae:if(gx)return gx.call(t)==gx.call(e)}return!1}var Cae=Nae;function jae(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var U5=jae,Rae=U5,Mae=tr;function $ae(t,e,n){var r=e(t);return Mae(t)?r:Rae(r,n(t))}var Dae=$ae;function Lae(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var Vae=Lae;function Fae(){return[]}var Uae=Fae,Bae=Vae,zae=Uae,Wae=Object.prototype,qae=Wae.propertyIsEnumerable,JO=Object.getOwnPropertySymbols,Hae=JO?function(t){return t==null?[]:(t=Object(t),Bae(JO(t),function(e){return qae.call(t,e)}))}:zae,Gae=Hae;function Kae(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Yae=Kae,Xae=Pa,Qae=Ia,Jae="[object Arguments]";function Zae(t){return Qae(t)&&Xae(t)==Jae}var eoe=Zae,ZO=eoe,toe=Ia,B5=Object.prototype,noe=B5.hasOwnProperty,roe=B5.propertyIsEnumerable,ioe=ZO(function(){return arguments}())?ZO:function(t){return toe(t)&&noe.call(t,"callee")&&!roe.call(t,"callee")},ZT=ioe,Qg={exports:{}};function aoe(){return!1}var ooe=aoe;Qg.exports;(function(t,e){var n=Wi,r=ooe,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(Qg,Qg.exports);var z5=Qg.exports,soe=9007199254740991,loe=/^(?:0|[1-9]\d*)$/;function uoe(t,e){var n=typeof t;return e=e??soe,!!e&&(n=="number"||n!="symbol"&&loe.test(t))&&t>-1&&t%1==0&&t<e}var ek=uoe,coe=9007199254740991;function foe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=coe}var tk=foe,doe=Pa,hoe=tk,poe=Ia,moe="[object Arguments]",goe="[object Array]",yoe="[object Boolean]",voe="[object Date]",boe="[object Error]",xoe="[object Function]",woe="[object Map]",_oe="[object Number]",Soe="[object Object]",Eoe="[object RegExp]",Toe="[object Set]",koe="[object String]",Aoe="[object WeakMap]",Poe="[object ArrayBuffer]",Ioe="[object DataView]",Ooe="[object Float32Array]",Noe="[object Float64Array]",Coe="[object Int8Array]",joe="[object Int16Array]",Roe="[object Int32Array]",Moe="[object Uint8Array]",$oe="[object Uint8ClampedArray]",Doe="[object Uint16Array]",Loe="[object Uint32Array]",dt={};dt[Ooe]=dt[Noe]=dt[Coe]=dt[joe]=dt[Roe]=dt[Moe]=dt[$oe]=dt[Doe]=dt[Loe]=!0;dt[moe]=dt[goe]=dt[Poe]=dt[yoe]=dt[Ioe]=dt[voe]=dt[boe]=dt[xoe]=dt[woe]=dt[_oe]=dt[Soe]=dt[Eoe]=dt[Toe]=dt[koe]=dt[Aoe]=!1;function Voe(t){return poe(t)&&hoe(t.length)&&!!dt[doe(t)]}var Foe=Voe;function Uoe(t){return function(e){return t(e)}}var W5=Uoe,Jg={exports:{}};Jg.exports;(function(t,e){var n=J3,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(Jg,Jg.exports);var Boe=Jg.exports,zoe=Foe,Woe=W5,eN=Boe,tN=eN&&eN.isTypedArray,qoe=tN?Woe(tN):zoe,q5=qoe,Hoe=Yae,Goe=ZT,Koe=tr,Yoe=z5,Xoe=ek,Qoe=q5,Joe=Object.prototype,Zoe=Joe.hasOwnProperty;function ese(t,e){var n=Koe(t),r=!n&&Goe(t),i=!n&&!r&&Yoe(t),a=!n&&!r&&!i&&Qoe(t),o=n||r||i||a,s=o?Hoe(t.length,String):[],l=s.length;for(var u in t)(e||Zoe.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Xoe(u,l)))&&s.push(u);return s}var tse=ese,nse=Object.prototype;function rse(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||nse;return t===n}var ise=rse;function ase(t,e){return function(n){return t(e(n))}}var H5=ase,ose=H5,sse=ose(Object.keys,Object),lse=sse,use=ise,cse=lse,fse=Object.prototype,dse=fse.hasOwnProperty;function hse(t){if(!use(t))return cse(t);var e=[];for(var n in Object(t))dse.call(t,n)&&n!="constructor"&&e.push(n);return e}var pse=hse,mse=$T,gse=tk;function yse(t){return t!=null&&gse(t.length)&&!mse(t)}var qh=yse,vse=tse,bse=pse,xse=qh;function wse(t){return xse(t)?vse(t):bse(t)}var Nv=wse,_se=Dae,Sse=Gae,Ese=Nv;function Tse(t){return _se(t,Ese,Sse)}var kse=Tse,nN=kse,Ase=1,Pse=Object.prototype,Ise=Pse.hasOwnProperty;function Ose(t,e,n,r,i,a){var o=n&Ase,s=nN(t),l=s.length,u=nN(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var d=s[f];if(!(o?d in e:Ise.call(e,d)))return!1}var m=a.get(t),g=a.get(e);if(m&&g)return m==e&&g==t;var y=!0;a.set(t,e),a.set(e,t);for(var b=o;++f<l;){d=s[f];var v=t[d],x=e[d];if(r)var w=o?r(x,v,d,e,t,a):r(v,x,d,t,e,a);if(!(w===void 0?v===x||i(v,x,n,r,a):w)){y=!1;break}b||(b=d=="constructor")}if(y&&!b){var A=t.constructor,_=e.constructor;A!=_&&"constructor"in t&&"constructor"in e&&!(typeof A=="function"&&A instanceof A&&typeof _=="function"&&_ instanceof _)&&(y=!1)}return a.delete(t),a.delete(e),y}var Nse=Ose,Cse=al,jse=Wi,Rse=Cse(jse,"DataView"),Mse=Rse,$se=al,Dse=Wi,Lse=$se(Dse,"Promise"),Vse=Lse,Fse=al,Use=Wi,Bse=Fse(Use,"Set"),G5=Bse,zse=al,Wse=Wi,qse=zse(Wse,"WeakMap"),Hse=qse,V1=Mse,F1=LT,U1=Vse,B1=G5,z1=Hse,K5=Pa,vc=e5,rN="[object Map]",Gse="[object Object]",iN="[object Promise]",aN="[object Set]",oN="[object WeakMap]",sN="[object DataView]",Kse=vc(V1),Yse=vc(F1),Xse=vc(U1),Qse=vc(B1),Jse=vc(z1),ss=K5;(V1&&ss(new V1(new ArrayBuffer(1)))!=sN||F1&&ss(new F1)!=rN||U1&&ss(U1.resolve())!=iN||B1&&ss(new B1)!=aN||z1&&ss(new z1)!=oN)&&(ss=function(t){var e=K5(t),n=e==Gse?t.constructor:void 0,r=n?vc(n):"";if(r)switch(r){case Kse:return sN;case Yse:return rN;case Xse:return iN;case Qse:return aN;case Jse:return oN}return e});var Zse=ss,yx=$5,ele=F5,tle=Cae,nle=Nse,lN=Zse,uN=tr,cN=z5,rle=q5,ile=1,fN="[object Arguments]",dN="[object Array]",Wp="[object Object]",ale=Object.prototype,hN=ale.hasOwnProperty;function ole(t,e,n,r,i,a){var o=uN(t),s=uN(e),l=o?dN:lN(t),u=s?dN:lN(e);l=l==fN?Wp:l,u=u==fN?Wp:u;var c=l==Wp,f=u==Wp,d=l==u;if(d&&cN(t)){if(!cN(e))return!1;o=!0,c=!1}if(d&&!c)return a||(a=new yx),o||rle(t)?ele(t,e,n,r,i,a):tle(t,e,l,n,r,i,a);if(!(n&ile)){var m=c&&hN.call(t,"__wrapped__"),g=f&&hN.call(e,"__wrapped__");if(m||g){var y=m?t.value():t,b=g?e.value():e;return a||(a=new yx),i(y,b,n,r,a)}}return d?(a||(a=new yx),nle(t,e,n,r,i,a)):!1}var sle=ole,lle=sle,pN=Ia;function Y5(t,e,n,r,i){return t===e?!0:t==null||e==null||!pN(t)&&!pN(e)?t!==t&&e!==e:lle(t,e,n,r,Y5,i)}var nk=Y5,ule=$5,cle=nk,fle=1,dle=2;function hle(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new ule;if(r)var d=r(u,c,l,t,e,f);if(!(d===void 0?cle(c,u,fle|dle,r,f):d))return!1}}return!0}var ple=hle,mle=Uo;function gle(t){return t===t&&!mle(t)}var X5=gle,yle=X5,vle=Nv;function ble(t){for(var e=vle(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,yle(i)]}return e}var xle=ble;function wle(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var Q5=wle,_le=ple,Sle=xle,Ele=Q5;function Tle(t){var e=Sle(t);return e.length==1&&e[0][2]?Ele(e[0][0],e[0][1]):function(n){return n===t||_le(n,t,e)}}var kle=Tle;function Ale(t,e){return t!=null&&e in Object(t)}var Ple=Ale,Ile=a5,Ole=ZT,Nle=tr,Cle=ek,jle=tk,Rle=gv;function Mle(t,e,n){e=Ile(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=Rle(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&jle(i)&&Cle(o,i)&&(Nle(t)||Ole(t)))}var $le=Mle,Dle=Ple,Lle=$le;function Vle(t,e){return t!=null&&Lle(t,e,Dle)}var Fle=Vle,Ule=nk,Ble=o5,zle=Fle,Wle=MT,qle=X5,Hle=Q5,Gle=gv,Kle=1,Yle=2;function Xle(t,e){return Wle(t)&&qle(e)?Hle(Gle(t),e):function(n){var r=Ble(n,t);return r===void 0&&r===e?zle(n,t):Ule(e,r,Kle|Yle)}}var Qle=Xle;function Jle(t){return t}var bc=Jle;function Zle(t){return function(e){return e==null?void 0:e[t]}}var eue=Zle,tue=BT;function nue(t){return function(e){return tue(e,t)}}var rue=nue,iue=eue,aue=rue,oue=MT,sue=gv;function lue(t){return oue(t)?iue(sue(t)):aue(t)}var uue=lue,cue=kle,fue=Qle,due=bc,hue=tr,pue=uue;function mue(t){return typeof t=="function"?t:t==null?due:typeof t=="object"?hue(t)?fue(t[0],t[1]):cue(t):pue(t)}var Bo=mue;function gue(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var J5=gue;function yue(t){return t!==t}var vue=yue;function bue(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var xue=bue,wue=J5,_ue=vue,Sue=xue;function Eue(t,e,n){return e===e?Sue(t,e,n):wue(t,_ue,n)}var Tue=Eue,kue=Tue;function Aue(t,e){var n=t==null?0:t.length;return!!n&&kue(t,e,0)>-1}var Pue=Aue;function Iue(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Oue=Iue;function Nue(){}var Cue=Nue,vx=G5,jue=Cue,Rue=JT,Mue=1/0,$ue=vx&&1/Rue(new vx([,-0]))[1]==Mue?function(t){return new vx(t)}:jue,Due=$ue,Lue=D5,Vue=Pue,Fue=Oue,Uue=V5,Bue=Due,zue=JT,Wue=200;function que(t,e,n){var r=-1,i=Vue,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=Fue;else if(a>=Wue){var u=e?null:Bue(t);if(u)return zue(u);o=!1,i=Uue,l=new Lue}else l=e?[]:s;e:for(;++r<a;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,o&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var Hue=que,Gue=Bo,Kue=Hue;function Yue(t,e){return t&&t.length?Kue(t,Gue(e)):[]}var Xue=Yue;const mN=at(Xue);function Z5(t,e,n){return e===!0?mN(t,n):$e(e)?mN(t,e):t}function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}var Que=["ref"];function gN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gN(Object(n),!0).forEach(function(r){Cv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t6(r.key),r)}}function Zue(t,e,n){return e&&yN(t.prototype,e),n&&yN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ece(t,e,n){return e=Zg(e),tce(t,e6()?Reflect.construct(e,n||[],Zg(t).constructor):e.apply(t,n))}function tce(t,e){if(e&&(Tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nce(t)}function nce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e6=function(){return!!t})()}function Zg(t){return Zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zg(t)}function rce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W1(t,e)}function W1(t,e){return W1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},W1(t,e)}function Cv(t,e,n){return e=t6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t6(t){var e=ice(t,"string");return Tu(e)=="symbol"?e:e+""}function ice(t,e){if(Tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ace(t,e){if(t==null)return{};var n=oce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sce(t){return t.value}function lce(t,e){if(z.isValidElement(t))return z.cloneElement(t,e);if(typeof t=="function")return z.createElement(t,e);e.ref;var n=ace(e,Que);return z.createElement(QT,n)}var vN=1,nu=function(t){function e(){var n;Jue(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=ece(this,e,[].concat(i)),Cv(n,"lastBoundingBox",{width:-1,height:-1}),n}return rce(e,t),Zue(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>vN||Math.abs(i.height-this.lastBoundingBox.height)>vN)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ki({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();d={top:((c||0)-g.height)/2}}else d=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ki(Ki({},f),d)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=Ki(Ki({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return z.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},lce(a,Ki(Ki({},this.props),{},{payload:Z5(c,u,sce)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Ki(Ki({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&le(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(M.PureComponent);Cv(nu,"displayName","Legend");Cv(nu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var bN=zh,uce=ZT,cce=tr,xN=bN?bN.isConcatSpreadable:void 0;function fce(t){return cce(t)||uce(t)||!!(xN&&t&&t[xN])}var dce=fce,hce=U5,pce=dce;function n6(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=pce),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?n6(s,e-1,n,r,i):hce(i,s):r||(i[i.length]=s)}return i}var r6=n6;function mce(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(n(a[l],l,a)===!1)break}return e}}var gce=mce,yce=gce,vce=yce(),bce=vce,xce=bce,wce=Nv;function _ce(t,e){return t&&xce(t,e,wce)}var i6=_ce,Sce=qh;function Ece(t,e){return function(n,r){if(n==null)return n;if(!Sce(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var Tce=Ece,kce=i6,Ace=Tce,Pce=Ace(kce),rk=Pce,Ice=rk,Oce=qh;function Nce(t,e){var n=-1,r=Oce(t)?Array(t.length):[];return Ice(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var a6=Nce;function Cce(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var jce=Cce,wN=fc;function Rce(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=wN(t),o=e!==void 0,s=e===null,l=e===e,u=wN(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var Mce=Rce,$ce=Mce;function Dce(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=$ce(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Lce=Dce,bx=UT,Vce=BT,Fce=Bo,Uce=a6,Bce=jce,zce=W5,Wce=Lce,qce=bc,Hce=tr;function Gce(t,e,n){e.length?e=bx(e,function(a){return Hce(a)?function(o){return Vce(o,a.length===1?a[0]:a)}:a}):e=[qce];var r=-1;e=bx(e,zce(Fce));var i=Uce(t,function(a,o,s){var l=bx(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return Bce(i,function(a,o){return Wce(a,o,n)})}var Kce=Gce;function Yce(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Xce=Yce,Qce=Xce,_N=Math.max;function Jce(t,e,n){return e=_N(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=_N(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),Qce(t,this,s)}}var Zce=Jce;function efe(t){return function(){return t}}var tfe=efe,nfe=al,rfe=function(){try{var t=nfe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),o6=rfe,ife=tfe,SN=o6,afe=bc,ofe=SN?function(t,e){return SN(t,"toString",{configurable:!0,enumerable:!1,value:ife(e),writable:!0})}:afe,sfe=ofe,lfe=800,ufe=16,cfe=Date.now;function ffe(t){var e=0,n=0;return function(){var r=cfe(),i=ufe-(r-n);if(n=r,i>0){if(++e>=lfe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var dfe=ffe,hfe=sfe,pfe=dfe,mfe=pfe(hfe),gfe=mfe,yfe=bc,vfe=Zce,bfe=gfe;function xfe(t,e){return bfe(vfe(t,e,yfe),t+"")}var wfe=xfe,_fe=DT,Sfe=qh,Efe=ek,Tfe=Uo;function kfe(t,e,n){if(!Tfe(n))return!1;var r=typeof e;return(r=="number"?Sfe(n)&&Efe(e,n.length):r=="string"&&e in n)?_fe(n[e],t):!1}var jv=kfe,Afe=r6,Pfe=Kce,Ife=wfe,EN=jv,Ofe=Ife(function(t,e){if(t==null)return[];var n=e.length;return n>1&&EN(t,e[0],e[1])?e=[]:n>2&&EN(e[0],e[1],e[2])&&(e=[e[0]]),Pfe(t,Afe(e,1),[])}),Nfe=Ofe;const ik=at(Nfe);function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function q1(){return q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q1.apply(this,arguments)}function Cfe(t,e){return $fe(t)||Mfe(t,e)||Rfe(t,e)||jfe()}function jfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rfe(t,e){if(t){if(typeof t=="string")return TN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TN(t,e)}}function TN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function $fe(t){if(Array.isArray(t))return t}function kN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kN(Object(n),!0).forEach(function(r){Dfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dfe(t,e,n){return e=Lfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lfe(t){var e=Vfe(t,"string");return Md(e)=="symbol"?e:e+""}function Vfe(t,e){if(Md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ffe(t){return Array.isArray(t)&&Kt(t[0])&&Kt(t[1])?t.join(" ~ "):t}var Ufe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,d=e.itemSorter,m=e.wrapperClassName,g=e.labelClassName,y=e.label,b=e.labelFormatter,v=e.accessibilityLayer,x=v===void 0?!1:v,w=function(){if(c&&c.length){var C={padding:0,margin:0},j=(d?ik(c,d):c).map(function(D,R){if(D.type==="none")return null;var $=xx({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},s),F=D.formatter||f||Ffe,V=D.value,U=D.name,W=V,q=U;if(F&&W!=null&&q!=null){var B=F(V,U,D,R,c);if(Array.isArray(B)){var K=Cfe(B,2);W=K[0],q=K[1]}else W=B}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:$},Kt(q)?z.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Kt(q)?z.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,z.createElement("span",{className:"recharts-tooltip-item-value"},W),z.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:C},j)}return null},A=xx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),_=xx({margin:0},u),k=!qe(y),S=k?y:"",E=Ye("recharts-default-tooltip",m),P=Ye("recharts-tooltip-label",g);k&&b&&c!==void 0&&c!==null&&(S=b(y,c));var N=x?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",q1({className:E,style:A},N),z.createElement("p",{className:P,style:_},z.isValidElement(S)?S:"".concat(S)),w())};function $d(t){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(t)}function qp(t,e,n){return e=Bfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bfe(t){var e=zfe(t,"string");return $d(e)=="symbol"?e:e+""}function zfe(t,e){if($d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jc="recharts-tooltip-wrapper",Wfe={visibility:"hidden"};function qfe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ye(Jc,qp(qp(qp(qp({},"".concat(Jc,"-right"),le(n)&&e&&le(e.x)&&n>=e.x),"".concat(Jc,"-left"),le(n)&&e&&le(e.x)&&n<e.x),"".concat(Jc,"-bottom"),le(r)&&e&&le(e.y)&&r>=e.y),"".concat(Jc,"-top"),le(r)&&e&&le(e.y)&&r<e.y))}function AN(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&le(a[r]))return a[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return o[r]?c:f;if(o[r]){var d=c,m=l[r];return d<m?Math.max(f,l[r]):Math.max(c,l[r])}var g=f+s,y=l[r]+u;return g>y?Math.max(c,l[r]):Math.max(f,l[r])}function Hfe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Gfe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return o.height>0&&o.width>0&&n?(c=AN({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=AN({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=Hfe({translateX:c,translateY:f,useTranslate3d:s})):u=Wfe,{cssProperties:u,cssClasses:qfe({translateX:c,translateY:f,coordinate:n})}}function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function PN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PN(Object(n),!0).forEach(function(r){G1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yfe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l6(r.key),r)}}function Xfe(t,e,n){return e&&Yfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qfe(t,e,n){return e=ey(e),Jfe(t,s6()?Reflect.construct(e,n||[],ey(t).constructor):e.apply(t,n))}function Jfe(t,e){if(e&&(ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zfe(t)}function Zfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s6=function(){return!!t})()}function ey(t){return ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ey(t)}function ede(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H1(t,e)}function H1(t,e){return H1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},H1(t,e)}function G1(t,e,n){return e=l6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l6(t){var e=tde(t,"string");return ku(e)=="symbol"?e:e+""}function tde(t,e){if(ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ON=1,nde=function(t){function e(){var n;Kfe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Qfe(this,e,[].concat(i)),G1(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),G1(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return ede(e,t),Xfe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>ON||Math.abs(r.height-this.state.lastBoundingBox.height)>ON)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,m=i.offset,g=i.position,y=i.reverseDirection,b=i.useTranslate3d,v=i.viewBox,x=i.wrapperStyle,w=Gfe({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:m,position:g,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:v}),A=w.cssClasses,_=w.cssProperties,k=IN(IN({transition:d&&a?"transform ".concat(s,"ms ").concat(l):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return z.createElement("div",{tabIndex:-1,className:A,style:k,ref:function(E){r.wrapperNode=E}},u)}}])}(M.PureComponent),rde=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},xc={isSsr:rde()};function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function NN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NN(Object(n),!0).forEach(function(r){ak(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ide(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ade(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c6(r.key),r)}}function ode(t,e,n){return e&&ade(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sde(t,e,n){return e=ty(e),lde(t,u6()?Reflect.construct(e,n||[],ty(t).constructor):e.apply(t,n))}function lde(t,e){if(e&&(Au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ude(t)}function ude(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u6=function(){return!!t})()}function ty(t){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ty(t)}function cde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K1(t,e)}function K1(t,e){return K1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},K1(t,e)}function ak(t,e,n){return e=c6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c6(t){var e=fde(t,"string");return Au(e)=="symbol"?e:e+""}function fde(t,e){if(Au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function dde(t){return t.dataKey}function hde(t,e){return z.isValidElement(t)?z.cloneElement(t,e):typeof t=="function"?z.createElement(t,e):z.createElement(Ufe,e)}var yi=function(t){function e(){return ide(this,e),sde(this,e,arguments)}return cde(e,t),ode(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,d=i.isAnimationActive,m=i.offset,g=i.payload,y=i.payloadUniqBy,b=i.position,v=i.reverseDirection,x=i.useTranslate3d,w=i.viewBox,A=i.wrapperStyle,_=g??[];f&&_.length&&(_=Z5(g.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),y,dde));var k=_.length>0;return z.createElement(nde,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:d,active:a,coordinate:c,hasPayload:k,offset:m,position:b,reverseDirection:v,useTranslate3d:x,viewBox:w,wrapperStyle:A},hde(u,CN(CN({},this.props),{},{payload:_})))}}])}(M.PureComponent);ak(yi,"displayName","Tooltip");ak(yi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!xc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var pde=Wi,mde=function(){return pde.Date.now()},gde=mde,yde=/\s/;function vde(t){for(var e=t.length;e--&&yde.test(t.charAt(e)););return e}var bde=vde,xde=bde,wde=/^\s+/;function _de(t){return t&&t.slice(0,xde(t)+1).replace(wde,"")}var Sde=_de,Ede=Sde,jN=Uo,Tde=fc,RN=NaN,kde=/^[-+]0x[0-9a-f]+$/i,Ade=/^0b[01]+$/i,Pde=/^0o[0-7]+$/i,Ide=parseInt;function Ode(t){if(typeof t=="number")return t;if(Tde(t))return RN;if(jN(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=jN(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Ede(t);var n=Ade.test(t);return n||Pde.test(t)?Ide(t.slice(2),n?2:8):kde.test(t)?RN:+t}var f6=Ode,Nde=Uo,wx=gde,MN=f6,Cde="Expected a function",jde=Math.max,Rde=Math.min;function Mde(t,e,n){var r,i,a,o,s,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(Cde);e=MN(e)||0,Nde(n)&&(c=!!n.leading,f="maxWait"in n,a=f?jde(MN(n.maxWait)||0,e):a,d="trailing"in n?!!n.trailing:d);function m(k){var S=r,E=i;return r=i=void 0,u=k,o=t.apply(E,S),o}function g(k){return u=k,s=setTimeout(v,e),c?m(k):o}function y(k){var S=k-l,E=k-u,P=e-S;return f?Rde(P,a-E):P}function b(k){var S=k-l,E=k-u;return l===void 0||S>=e||S<0||f&&E>=a}function v(){var k=wx();if(b(k))return x(k);s=setTimeout(v,y(k))}function x(k){return s=void 0,d&&r?m(k):(r=i=void 0,o)}function w(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function A(){return s===void 0?o:x(wx())}function _(){var k=wx(),S=b(k);if(r=arguments,i=this,l=k,S){if(s===void 0)return g(l);if(f)return clearTimeout(s),s=setTimeout(v,e),m(l)}return s===void 0&&(s=setTimeout(v,e)),o}return _.cancel=w,_.flush=A,_}var $de=Mde,Dde=$de,Lde=Uo,Vde="Expected a function";function Fde(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Vde);return Lde(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Dde(t,e,{leading:r,maxWait:e,trailing:i})}var Ude=Fde;const d6=at(Ude);function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function $N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$N(Object(n),!0).forEach(function(r){Bde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bde(t,e,n){return e=zde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zde(t){var e=Wde(t,"string");return Dd(e)=="symbol"?e:e+""}function Wde(t,e){if(Dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qde(t,e){return Yde(t)||Kde(t,e)||Gde(t,e)||Hde()}function Hde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gde(t,e){if(t){if(typeof t=="string")return DN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DN(t,e)}}function DN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Yde(t){if(Array.isArray(t))return t}var Xde=M.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,d=t.maxHeight,m=t.children,g=t.debounce,y=g===void 0?0:g,b=t.id,v=t.className,x=t.onResize,w=t.style,A=w===void 0?{}:w,_=M.useRef(null),k=M.useRef();k.current=x,M.useImperativeHandle(e,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var S=M.useState({containerWidth:i.width,containerHeight:i.height}),E=qde(S,2),P=E[0],N=E[1],O=M.useCallback(function(j,D){N(function(R){var $=Math.round(j),F=Math.round(D);return R.containerWidth===$&&R.containerHeight===F?R:{containerWidth:$,containerHeight:F}})},[]);M.useEffect(function(){var j=function(U){var W,q=U[0].contentRect,B=q.width,K=q.height;O(B,K),(W=k.current)===null||W===void 0||W.call(k,B,K)};y>0&&(j=d6(j,y,{trailing:!0,leading:!1}));var D=new ResizeObserver(j),R=_.current.getBoundingClientRect(),$=R.width,F=R.height;return O($,F),D.observe(_.current),function(){D.disconnect()}},[O,y]);var C=M.useMemo(function(){var j=P.containerWidth,D=P.containerHeight;if(j<0||D<0)return null;ca(gs(o)||gs(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),ca(!n||n>0,"The aspect(%s) must be greater than zero.",n);var R=gs(o)?j:o,$=gs(l)?D:l;n&&n>0&&(R?$=R/n:$&&(R=$*n),d&&$>d&&($=d)),ca(R>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,$,o,l,c,f,n);var F=!Array.isArray(m)&&ua(m.type).endsWith("Chart");return z.Children.map(m,function(V){return z.isValidElement(V)?M.cloneElement(V,Hp({width:R,height:$},F?{style:Hp({height:"100%",width:"100%",maxHeight:$,maxWidth:R},V.props.style)}:{})):V})},[n,m,l,d,f,c,P,o]);return z.createElement("div",{id:b?"".concat(b):void 0,className:Ye("recharts-responsive-container",v),style:Hp(Hp({},A),{},{width:o,height:l,minWidth:c,minHeight:f,maxHeight:d}),ref:_},C)}),h6=function(e){return null};h6.displayName="Cell";function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function LN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LN(Object(n),!0).forEach(function(r){Qde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qde(t,e,n){return e=Jde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jde(t){var e=Zde(t,"string");return Ld(e)=="symbol"?e:e+""}function Zde(t,e){if(Ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hl={widthCache:{},cacheCount:0},ehe=2e3,the={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},VN="recharts_measurement_span";function nhe(t){var e=Y1({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Kf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||xc.isSsr)return{width:0,height:0};var r=nhe(n),i=JSON.stringify({text:e,copyStyle:r});if(hl.widthCache[i])return hl.widthCache[i];try{var a=document.getElementById(VN);a||(a=document.createElement("span"),a.setAttribute("id",VN),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Y1(Y1({},the),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return hl.widthCache[i]=l,++hl.cacheCount>ehe&&(hl.cacheCount=0,hl.widthCache={}),l}catch{return{width:0,height:0}}},rhe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function ny(t,e){return she(t)||ohe(t,e)||ahe(t,e)||ihe()}function ihe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ahe(t,e){if(t){if(typeof t=="string")return FN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FN(t,e)}}function FN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ohe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function she(t){if(Array.isArray(t))return t}function lhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,che(r.key),r)}}function uhe(t,e,n){return e&&UN(t.prototype,e),n&&UN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function che(t){var e=fhe(t,"string");return Vd(e)=="symbol"?e:e+""}function fhe(t,e){if(Vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var BN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dhe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,hhe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,p6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},phe=Object.keys(p6),Ml="NaN";function mhe(t,e){return t*p6[e]}var Gp=function(){function t(e,n){lhe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!dhe.test(n)&&(this.num=NaN,this.unit=""),phe.includes(n)&&(this.num=mhe(e,n),this.unit="px")}return uhe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=hhe.exec(n))!==null&&r!==void 0?r:[],a=ny(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function m6(t){if(t.includes(Ml))return Ml;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=BN.exec(e))!==null&&n!==void 0?n:[],i=ny(r,4),a=i[1],o=i[2],s=i[3],l=Gp.parse(a??""),u=Gp.parse(s??""),c=o==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Ml;e=e.replace(BN,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=zN.exec(e))!==null&&f!==void 0?f:[],m=ny(d,4),g=m[1],y=m[2],b=m[3],v=Gp.parse(g??""),x=Gp.parse(b??""),w=y==="+"?v.add(x):v.subtract(x);if(w.isNaN())return Ml;e=e.replace(zN,w.toString())}return e}var WN=/\(([^()]*)\)/;function ghe(t){for(var e=t;e.includes("(");){var n=WN.exec(e),r=ny(n,2),i=r[1];e=e.replace(WN,m6(i))}return e}function yhe(t){var e=t.replace(/\s+/g,"");return e=ghe(e),e=m6(e),e}function vhe(t){try{return yhe(t)}catch{return Ml}}function _x(t){var e=vhe(t.slice(5,-1));return e===Ml?"":e}var bhe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],xhe=["dx","dy","angle","className","breakAll"];function X1(){return X1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X1.apply(this,arguments)}function qN(t,e){if(t==null)return{};var n=whe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function whe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function HN(t,e){return The(t)||Ehe(t,e)||She(t,e)||_he()}function _he(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function She(t,e){if(t){if(typeof t=="string")return GN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GN(t,e)}}function GN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ehe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function The(t){if(Array.isArray(t))return t}var g6=/[ \f\n\r\t\v\u2028\u2029]+/,y6=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];qe(n)||(r?a=n.toString().split(""):a=n.toString().split(g6));var o=a.map(function(l){return{word:l,width:Kf(l,i).width}}),s=r?0:Kf("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},khe=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=le(o),f=s,d=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce(function($,F){var V=F.word,U=F.width,W=$[$.length-1];if(W&&(i==null||a||W.width+U+r<Number(i)))W.words.push(V),W.width+=U+r;else{var q={words:[V],width:U};$.push(q)}return $},[])},m=d(n),g=function(R){return R.reduce(function($,F){return $.width>F.width?$:F})};if(!c)return m;for(var y="",b=function(R){var $=f.slice(0,R),F=y6({breakAll:u,style:l,children:$+y}).wordsWithComputedWidth,V=d(F),U=V.length>o||g(V).width>Number(i);return[U,V]},v=0,x=f.length-1,w=0,A;v<=x&&w<=f.length-1;){var _=Math.floor((v+x)/2),k=_-1,S=b(k),E=HN(S,2),P=E[0],N=E[1],O=b(_),C=HN(O,1),j=C[0];if(!P&&!j&&(v=_+1),P&&j&&(x=_-1),!P&&j){A=N;break}w++}return A||m},KN=function(e){var n=qe(e)?[]:e.toString().split(g6);return[{words:n}]},Ahe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!xc.isSsr){var l,u,c=y6({breakAll:o,children:i,style:a});if(c){var f=c.wordsWithComputedWidth,d=c.spaceWidth;l=f,u=d}else return KN(i);return khe({breakAll:o,children:i,maxLines:s,style:a},l,u,n,r)}return KN(i)},YN="#808080",ry=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,d=e.textAnchor,m=d===void 0?"start":d,g=e.verticalAnchor,y=g===void 0?"end":g,b=e.fill,v=b===void 0?YN:b,x=qN(e,bhe),w=M.useMemo(function(){return Ahe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),A=x.dx,_=x.dy,k=x.angle,S=x.className,E=x.breakAll,P=qN(x,xhe);if(!Kt(r)||!Kt(a))return null;var N=r+(le(A)?A:0),O=a+(le(_)?_:0),C;switch(y){case"start":C=_x("calc(".concat(u,")"));break;case"middle":C=_x("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:C=_x("calc(".concat(w.length-1," * -").concat(s,")"));break}var j=[];if(f){var D=w[0].width,R=x.width;j.push("scale(".concat((le(R)?R/D:1)/D,")"))}return k&&j.push("rotate(".concat(k,", ").concat(N,", ").concat(O,")")),j.length&&(P.transform=j.join(" ")),z.createElement("text",X1({},Fe(P,!0),{x:N,y:O,className:Ye("recharts-text",S),textAnchor:m,fill:v.includes("url")?YN:v}),w.map(function($,F){var V=$.words.join(E?"":" ");return z.createElement("tspan",{x:N,dy:F===0?C:s,key:"".concat(V,"-").concat(F)},V)}))};function _o(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Phe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ok(t){let e,n,r;t.length!==2?(e=_o,n=(s,l)=>_o(t(s),l),r=(s,l)=>t(s)-l):(e=t===_o||t===Phe?t:Ihe,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function Ihe(){return 0}function v6(t){return t===null?NaN:+t}function*Ohe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Nhe=ok(_o),Hh=Nhe.right;ok(v6).center;let Sx=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],o=e+a,s=Math.abs(e)<Math.abs(a)?e-(o-a):a-(o-e);s&&(n[r++]=s),e=o}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,o=0;if(n>0){for(o=e[--n];n>0&&(r=o,i=e[--n],o=r+i,a=i-(o-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}};class XN extends Map{constructor(e,n=Rhe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(QN(this,e))}has(e){return super.has(QN(this,e))}set(e,n){return super.set(Che(this,e),n)}delete(e){return super.delete(jhe(this,e))}}function QN({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Che({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function jhe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Rhe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Mhe(t=_o){if(t===_o)return b6;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function b6(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const $he=Math.sqrt(50),Dhe=Math.sqrt(10),Lhe=Math.sqrt(2);function iy(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=$he?10:a>=Dhe?5:a>=Lhe?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?iy(t,e,n*2):[s,l,u]}function Q1(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?iy(e,t,n):iy(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function J1(t,e,n){return e=+e,t=+t,n=+n,iy(t,e,n)[2]}function Z1(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?J1(e,t,n):J1(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function JN(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function ZN(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function x6(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?b6:Mhe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*f/l+d)),g=Math.min(r,Math.floor(e+(l-u)*f/l+d));x6(t,e,m,g,i)}const a=t[e];let o=n,s=r;for(Zc(t,n,e),i(t[r],a)>0&&Zc(t,n,r);o<s;){for(Zc(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?Zc(t,n,s):(++s,Zc(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Zc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Vhe(t,e,n){if(t=Float64Array.from(Ohe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return ZN(t);if(e>=1)return JN(t);var r,i=(r-1)*e,a=Math.floor(i),o=JN(x6(t,a).subarray(0,a+1)),s=ZN(t.subarray(a+1));return o+(s-o)*(i-a)}}function Fhe(t,e,n=v6){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function Uhe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Vr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Oa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const e_=Symbol("implicit");function sk(){var t=new XN,e=[],n=[],r=e_;function i(a){let o=t.get(a);if(o===void 0){if(r!==e_)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new XN;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return sk(e,n).unknown(r)},Vr.apply(i,arguments),i}function Fd(){var t=sk().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var d=e().length,m=i<r,g=m?i:r,y=m?r:i;a=(y-g)/Math.max(1,d-l+u*2),s&&(a=Math.floor(a)),g+=(y-g-a*(d-l))*c,o=a*(1-l),s&&(g=Math.round(g),o=Math.round(o));var b=Uhe(d).map(function(v){return g+a*v});return n(m?b.reverse():b)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(d){return arguments.length?(s=!!d,f()):s},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},t.copy=function(){return Fd(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Vr.apply(f(),arguments)}function w6(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return w6(e())},t}function Yf(){return w6(Fd.apply(null,arguments).paddingInner(1))}function lk(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function _6(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Gh(){}var Ud=.7,ay=1/Ud,ru="\\s*([+-]?\\d+)\\s*",Bd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ci="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bhe=/^#([0-9a-f]{3,8})$/,zhe=new RegExp(`^rgb\\(${ru},${ru},${ru}\\)$`),Whe=new RegExp(`^rgb\\(${Ci},${Ci},${Ci}\\)$`),qhe=new RegExp(`^rgba\\(${ru},${ru},${ru},${Bd}\\)$`),Hhe=new RegExp(`^rgba\\(${Ci},${Ci},${Ci},${Bd}\\)$`),Ghe=new RegExp(`^hsl\\(${Bd},${Ci},${Ci}\\)$`),Khe=new RegExp(`^hsla\\(${Bd},${Ci},${Ci},${Bd}\\)$`),eC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lk(Gh,zd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:tC,formatHex:tC,formatHex8:Yhe,formatHsl:Xhe,formatRgb:nC,toString:nC});function tC(){return this.rgb().formatHex()}function Yhe(){return this.rgb().formatHex8()}function Xhe(){return S6(this).formatHsl()}function nC(){return this.rgb().formatRgb()}function zd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Bhe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?rC(e):n===3?new Kn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Kp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Kp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=zhe.exec(t))?new Kn(e[1],e[2],e[3],1):(e=Whe.exec(t))?new Kn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=qhe.exec(t))?Kp(e[1],e[2],e[3],e[4]):(e=Hhe.exec(t))?Kp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ghe.exec(t))?oC(e[1],e[2]/100,e[3]/100,1):(e=Khe.exec(t))?oC(e[1],e[2]/100,e[3]/100,e[4]):eC.hasOwnProperty(t)?rC(eC[t]):t==="transparent"?new Kn(NaN,NaN,NaN,0):null}function rC(t){return new Kn(t>>16&255,t>>8&255,t&255,1)}function Kp(t,e,n,r){return r<=0&&(t=e=n=NaN),new Kn(t,e,n,r)}function Qhe(t){return t instanceof Gh||(t=zd(t)),t?(t=t.rgb(),new Kn(t.r,t.g,t.b,t.opacity)):new Kn}function t_(t,e,n,r){return arguments.length===1?Qhe(t):new Kn(t,e,n,r??1)}function Kn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}lk(Kn,t_,_6(Gh,{brighter(t){return t=t==null?ay:Math.pow(ay,t),new Kn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ud:Math.pow(Ud,t),new Kn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Kn(As(this.r),As(this.g),As(this.b),oy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iC,formatHex:iC,formatHex8:Jhe,formatRgb:aC,toString:aC}));function iC(){return`#${ys(this.r)}${ys(this.g)}${ys(this.b)}`}function Jhe(){return`#${ys(this.r)}${ys(this.g)}${ys(this.b)}${ys((isNaN(this.opacity)?1:this.opacity)*255)}`}function aC(){const t=oy(this.opacity);return`${t===1?"rgb(":"rgba("}${As(this.r)}, ${As(this.g)}, ${As(this.b)}${t===1?")":`, ${t})`}`}function oy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function As(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ys(t){return t=As(t),(t<16?"0":"")+t.toString(16)}function oC(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Yr(t,e,n,r)}function S6(t){if(t instanceof Yr)return new Yr(t.h,t.s,t.l,t.opacity);if(t instanceof Gh||(t=zd(t)),!t)return new Yr;if(t instanceof Yr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Yr(o,s,l,t.opacity)}function Zhe(t,e,n,r){return arguments.length===1?S6(t):new Yr(t,e,n,r??1)}function Yr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}lk(Yr,Zhe,_6(Gh,{brighter(t){return t=t==null?ay:Math.pow(ay,t),new Yr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ud:Math.pow(Ud,t),new Yr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Kn(Ex(t>=240?t-240:t+120,i,r),Ex(t,i,r),Ex(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Yr(sC(this.h),Yp(this.s),Yp(this.l),oy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=oy(this.opacity);return`${t===1?"hsl(":"hsla("}${sC(this.h)}, ${Yp(this.s)*100}%, ${Yp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function sC(t){return t=(t||0)%360,t<0?t+360:t}function Yp(t){return Math.max(0,Math.min(1,t||0))}function Ex(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const uk=t=>()=>t;function epe(t,e){return function(n){return t+n*e}}function tpe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function npe(t){return(t=+t)==1?E6:function(e,n){return n-e?tpe(e,n,t):uk(isNaN(e)?n:e)}}function E6(t,e){var n=e-t;return n?epe(t,n):uk(isNaN(t)?e:t)}const lC=function t(e){var n=npe(e);function r(i,a){var o=n((i=t_(i)).r,(a=t_(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=E6(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function rpe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function ipe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ape(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=wc(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function ope(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function sy(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function spe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=wc(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var n_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tx=new RegExp(n_.source,"g");function lpe(t){return function(){return t}}function upe(t){return function(e){return t(e)+""}}function cpe(t,e){var n=n_.lastIndex=Tx.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=n_.exec(t))&&(i=Tx.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:sy(r,i)})),n=Tx.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?upe(l[0].x):lpe(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function wc(t,e){var n=typeof e,r;return e==null||n==="boolean"?uk(e):(n==="number"?sy:n==="string"?(r=zd(e))?(e=r,lC):cpe:e instanceof zd?lC:e instanceof Date?ope:ipe(e)?rpe:Array.isArray(e)?ape:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?spe:sy)(t,e)}function ck(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function fpe(t,e){e===void 0&&(e=t,t=wc);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function dpe(t){return function(){return t}}function ly(t){return+t}var uC=[0,1];function Mn(t){return t}function r_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:dpe(isNaN(e)?NaN:.5)}function hpe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function ppe(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=r_(i,r),a=n(o,a)):(r=r_(r,i),a=n(a,o)),function(s){return a(r(s))}}function mpe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=r_(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=Hh(t,s,1,r)-1;return a[l](i[l](s))}}function Kh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Rv(){var t=uC,e=uC,n=wc,r,i,a,o=Mn,s,l,u;function c(){var d=Math.min(t.length,e.length);return o!==Mn&&(o=hpe(t[0],t[d-1])),s=d>2?mpe:ppe,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?a:(l||(l=s(t.map(r),e,n)))(r(o(d)))}return f.invert=function(d){return o(i((u||(u=s(e,t.map(r),sy)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,ly),c()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=ck,c()},f.clamp=function(d){return arguments.length?(o=d?!0:Mn,c()):o!==Mn},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(a=d,f):a},function(d,m){return r=d,i=m,c()}}function fk(){return Rv()(Mn,Mn)}function gpe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function uy(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Pu(t){return t=uy(Math.abs(t)),t?t[1]:NaN}function ype(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function vpe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var bpe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wd(t){if(!(e=bpe.exec(t)))throw new Error("invalid format: "+t);var e;return new dk({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Wd.prototype=dk.prototype;function dk(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}dk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xpe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var cy;function wpe(t,e){var n=uy(t,e);if(!n)return cy=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(cy=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+uy(t,Math.max(0,e+a-1))[0]}function cC(t,e){var n=uy(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const fC={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:gpe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>cC(t*100,e),r:cC,s:wpe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function dC(t){return t}var hC=Array.prototype.map,pC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function _pe(t){var e=t.grouping===void 0||t.thousands===void 0?dC:ype(hC.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?dC:vpe(hC.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f,d){f=Wd(f);var m=f.fill,g=f.align,y=f.sign,b=f.symbol,v=f.zero,x=f.width,w=f.comma,A=f.precision,_=f.trim,k=f.type;k==="n"?(w=!0,k="g"):fC[k]||(A===void 0&&(A=12),_=!0,k="g"),(v||m==="0"&&g==="=")&&(v=!0,m="0",g="=");var S=(d&&d.prefix!==void 0?d.prefix:"")+(b==="$"?n:b==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():""),E=(b==="$"?r:/[%p]/.test(k)?o:"")+(d&&d.suffix!==void 0?d.suffix:""),P=fC[k],N=/[defgprs%]/.test(k);A=A===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function O(C){var j=S,D=E,R,$,F;if(k==="c")D=P(C)+D,C="";else{C=+C;var V=C<0||1/C<0;if(C=isNaN(C)?l:P(Math.abs(C),A),_&&(C=xpe(C)),V&&+C==0&&y!=="+"&&(V=!1),j=(V?y==="("?y:s:y==="-"||y==="("?"":y)+j,D=(k==="s"&&!isNaN(C)&&cy!==void 0?pC[8+cy/3]:"")+D+(V&&y==="("?")":""),N){for(R=-1,$=C.length;++R<$;)if(F=C.charCodeAt(R),48>F||F>57){D=(F===46?i+C.slice(R+1):C.slice(R))+D,C=C.slice(0,R);break}}}w&&!v&&(C=e(C,1/0));var U=j.length+C.length+D.length,W=U<x?new Array(x-U+1).join(m):"";switch(w&&v&&(C=e(W+C,W.length?x-D.length:1/0),W=""),g){case"<":C=j+C+D+W;break;case"=":C=j+W+C+D;break;case"^":C=W.slice(0,U=W.length>>1)+j+C+D+W.slice(U);break;default:C=W+j+C+D;break}return a(C)}return O.toString=function(){return f+""},O}function c(f,d){var m=Math.max(-8,Math.min(8,Math.floor(Pu(d)/3)))*3,g=Math.pow(10,-m),y=u((f=Wd(f),f.type="f",f),{suffix:pC[8+m/3]});return function(b){return y(g*b)}}return{format:u,formatPrefix:c}}var Xp,hk,T6;Spe({thousands:",",grouping:[3],currency:["$",""]});function Spe(t){return Xp=_pe(t),hk=Xp.format,T6=Xp.formatPrefix,Xp}function Epe(t){return Math.max(0,-Pu(Math.abs(t)))}function Tpe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Pu(e)/3)))*3-Pu(Math.abs(t)))}function kpe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Pu(e)-Pu(t))+1}function k6(t,e,n,r){var i=Z1(t,e,n),a;switch(r=Wd(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Tpe(i,o))&&(r.precision=a),T6(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=kpe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Epe(i))&&(r.precision=a-(r.type==="%")*2);break}}return hk(r)}function zo(t){var e=t.domain;return t.ticks=function(n){var r=e();return Q1(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return k6(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=J1(o,s,n),u===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function qd(){var t=fk();return t.copy=function(){return Kh(t,qd())},Vr.apply(t,arguments),zo(t)}function A6(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,ly),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return A6(t).unknown(e)},t=arguments.length?Array.from(t,ly):[0,1],zo(n)}function P6(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function mC(t){return Math.log(t)}function gC(t){return Math.exp(t)}function Ape(t){return-Math.log(-t)}function Ppe(t){return-Math.exp(-t)}function Ipe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ope(t){return t===10?Ipe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Npe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function yC(t){return(e,n)=>-t(-e,n)}function pk(t){const e=t(mC,gC),n=e.domain;let r=10,i,a;function o(){return i=Npe(r),a=Ope(r),n()[0]<0?(i=yC(i),a=yC(a),t(Ape,Ppe)):t(mC,gC),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=i(u),m=i(c),g,y;const b=s==null?10:+s;let v=[];if(!(r%1)&&m-d<b){if(d=Math.floor(d),m=Math.ceil(m),u>0){for(;d<=m;++d)for(g=1;g<r;++g)if(y=d<0?g/a(-d):g*a(d),!(y<u)){if(y>c)break;v.push(y)}}else for(;d<=m;++d)for(g=r-1;g>=1;--g)if(y=d>0?g/a(-d):g*a(d),!(y<u)){if(y>c)break;v.push(y)}v.length*2<b&&(v=Q1(u,c,b))}else v=Q1(d,m,Math.min(m-d,b)).map(a);return f?v.reverse():v},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Wd(l)).precision==null&&(l.trim=!0),l=hk(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(P6(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function I6(){const t=pk(Rv()).domain([1,10]);return t.copy=()=>Kh(t,I6()).base(t.base()),Vr.apply(t,arguments),t}function vC(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function bC(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function mk(t){var e=1,n=t(vC(e),bC(e));return n.constant=function(r){return arguments.length?t(vC(e=+r),bC(e)):e},zo(n)}function O6(){var t=mk(Rv());return t.copy=function(){return Kh(t,O6()).constant(t.constant())},Vr.apply(t,arguments)}function xC(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Cpe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function jpe(t){return t<0?-t*t:t*t}function gk(t){var e=t(Mn,Mn),n=1;function r(){return n===1?t(Mn,Mn):n===.5?t(Cpe,jpe):t(xC(n),xC(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},zo(e)}function yk(){var t=gk(Rv());return t.copy=function(){return Kh(t,yk()).exponent(t.exponent())},Vr.apply(t,arguments),t}function Rpe(){return yk.apply(null,arguments).exponent(.5)}function wC(t){return Math.sign(t)*t*t}function Mpe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function N6(){var t=fk(),e=[0,1],n=!1,r;function i(a){var o=Mpe(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(wC(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,ly)).map(wC)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return N6(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Vr.apply(i,arguments),zo(i)}function C6(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=Fhe(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[Hh(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(_o),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return C6().domain(t).range(e).unknown(r)},Vr.apply(a,arguments)}function j6(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Hh(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return j6().domain([t,e]).range(i).unknown(a)},Vr.apply(zo(o),arguments)}function R6(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Hh(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return R6().domain(t).range(e).unknown(n)},Vr.apply(i,arguments)}const kx=new Date,Ax=new Date;function Xt(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>Xt(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(kx.setTime(+a),Ax.setTime(+o),t(kx),t(Ax),Math.floor(n(kx,Ax))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const fy=Xt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);fy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Xt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):fy);fy.range;const ia=1e3,Pr=ia*60,aa=Pr*60,wa=aa*24,vk=wa*7,_C=wa*30,Px=wa*365,vs=Xt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ia)},(t,e)=>(e-t)/ia,t=>t.getUTCSeconds());vs.range;const bk=Xt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ia)},(t,e)=>{t.setTime(+t+e*Pr)},(t,e)=>(e-t)/Pr,t=>t.getMinutes());bk.range;const xk=Xt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Pr)},(t,e)=>(e-t)/Pr,t=>t.getUTCMinutes());xk.range;const wk=Xt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ia-t.getMinutes()*Pr)},(t,e)=>{t.setTime(+t+e*aa)},(t,e)=>(e-t)/aa,t=>t.getHours());wk.range;const _k=Xt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*aa)},(t,e)=>(e-t)/aa,t=>t.getUTCHours());_k.range;const Yh=Xt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Pr)/wa,t=>t.getDate()-1);Yh.range;const Mv=Xt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/wa,t=>t.getUTCDate()-1);Mv.range;const M6=Xt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/wa,t=>Math.floor(t/wa));M6.range;function ol(t){return Xt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Pr)/vk)}const $v=ol(0),dy=ol(1),$pe=ol(2),Dpe=ol(3),Iu=ol(4),Lpe=ol(5),Vpe=ol(6);$v.range;dy.range;$pe.range;Dpe.range;Iu.range;Lpe.range;Vpe.range;function sl(t){return Xt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/vk)}const Dv=sl(0),hy=sl(1),Fpe=sl(2),Upe=sl(3),Ou=sl(4),Bpe=sl(5),zpe=sl(6);Dv.range;hy.range;Fpe.range;Upe.range;Ou.range;Bpe.range;zpe.range;const Sk=Xt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Sk.range;const Ek=Xt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Ek.range;const _a=Xt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());_a.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Xt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});_a.range;const Sa=Xt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Sa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Xt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Sa.range;function $6(t,e,n,r,i,a){const o=[[vs,1,ia],[vs,5,5*ia],[vs,15,15*ia],[vs,30,30*ia],[a,1,Pr],[a,5,5*Pr],[a,15,15*Pr],[a,30,30*Pr],[i,1,aa],[i,3,3*aa],[i,6,6*aa],[i,12,12*aa],[r,1,wa],[r,2,2*wa],[n,1,vk],[e,1,_C],[e,3,3*_C],[t,1,Px]];function s(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const m=f&&typeof f.range=="function"?f:l(u,c,f),g=m?m.range(u,+c+1):[];return d?g.reverse():g}function l(u,c,f){const d=Math.abs(c-u)/f,m=ok(([,,b])=>b).right(o,d);if(m===o.length)return t.every(Z1(u/Px,c/Px,f));if(m===0)return fy.every(Math.max(Z1(u,c,f),1));const[g,y]=o[d/o[m-1][2]<o[m][2]/d?m-1:m];return g.every(y)}return[s,l]}const[Wpe,qpe]=$6(Sa,Ek,Dv,M6,_k,xk),[Hpe,Gpe]=$6(_a,Sk,$v,Yh,wk,bk);function Ix(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ox(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ef(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Kpe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=tf(i),c=nf(i),f=tf(a),d=nf(a),m=tf(o),g=nf(o),y=tf(s),b=nf(s),v=tf(l),x=nf(l),w={a:F,A:V,b:U,B:W,c:null,d:PC,e:PC,f:yme,g:Ame,G:Ime,H:pme,I:mme,j:gme,L:D6,m:vme,M:bme,p:q,q:B,Q:NC,s:CC,S:xme,u:wme,U:_me,V:Sme,w:Eme,W:Tme,x:null,X:null,y:kme,Y:Pme,Z:Ome,"%":OC},A={a:K,A:re,b:fe,B:ve,c:null,d:IC,e:IC,f:Rme,g:Wme,G:Hme,H:Nme,I:Cme,j:jme,L:V6,m:Mme,M:$me,p:Ae,q:Ee,Q:NC,s:CC,S:Dme,u:Lme,U:Vme,V:Fme,w:Ume,W:Bme,x:null,X:null,y:zme,Y:qme,Z:Gme,"%":OC},_={a:N,A:O,b:C,B:j,c:D,d:kC,e:kC,f:cme,g:TC,G:EC,H:AC,I:AC,j:ome,L:ume,m:ame,M:sme,p:P,q:ime,Q:dme,s:hme,S:lme,u:Zpe,U:eme,V:tme,w:Jpe,W:nme,x:R,X:$,y:TC,Y:EC,Z:rme,"%":fme};w.x=k(n,w),w.X=k(r,w),w.c=k(e,w),A.x=k(n,A),A.X=k(r,A),A.c=k(e,A);function k(J,Z){return function(ue){var Q=[],Re=-1,xe=0,ie=J.length,de,Ce,Ve;for(ue instanceof Date||(ue=new Date(+ue));++Re<ie;)J.charCodeAt(Re)===37&&(Q.push(J.slice(xe,Re)),(Ce=SC[de=J.charAt(++Re)])!=null?de=J.charAt(++Re):Ce=de==="e"?" ":"0",(Ve=Z[de])&&(de=Ve(ue,Ce)),Q.push(de),xe=Re+1);return Q.push(J.slice(xe,Re)),Q.join("")}}function S(J,Z){return function(ue){var Q=ef(1900,void 0,1),Re=E(Q,J,ue+="",0),xe,ie;if(Re!=ue.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(Z&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(xe=Ox(ef(Q.y,0,1)),ie=xe.getUTCDay(),xe=ie>4||ie===0?hy.ceil(xe):hy(xe),xe=Mv.offset(xe,(Q.V-1)*7),Q.y=xe.getUTCFullYear(),Q.m=xe.getUTCMonth(),Q.d=xe.getUTCDate()+(Q.w+6)%7):(xe=Ix(ef(Q.y,0,1)),ie=xe.getDay(),xe=ie>4||ie===0?dy.ceil(xe):dy(xe),xe=Yh.offset(xe,(Q.V-1)*7),Q.y=xe.getFullYear(),Q.m=xe.getMonth(),Q.d=xe.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),ie="Z"in Q?Ox(ef(Q.y,0,1)).getUTCDay():Ix(ef(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(ie+5)%7:Q.w+Q.U*7-(ie+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,Ox(Q)):Ix(Q)}}function E(J,Z,ue,Q){for(var Re=0,xe=Z.length,ie=ue.length,de,Ce;Re<xe;){if(Q>=ie)return-1;if(de=Z.charCodeAt(Re++),de===37){if(de=Z.charAt(Re++),Ce=_[de in SC?Z.charAt(Re++):de],!Ce||(Q=Ce(J,ue,Q))<0)return-1}else if(de!=ue.charCodeAt(Q++))return-1}return Q}function P(J,Z,ue){var Q=u.exec(Z.slice(ue));return Q?(J.p=c.get(Q[0].toLowerCase()),ue+Q[0].length):-1}function N(J,Z,ue){var Q=m.exec(Z.slice(ue));return Q?(J.w=g.get(Q[0].toLowerCase()),ue+Q[0].length):-1}function O(J,Z,ue){var Q=f.exec(Z.slice(ue));return Q?(J.w=d.get(Q[0].toLowerCase()),ue+Q[0].length):-1}function C(J,Z,ue){var Q=v.exec(Z.slice(ue));return Q?(J.m=x.get(Q[0].toLowerCase()),ue+Q[0].length):-1}function j(J,Z,ue){var Q=y.exec(Z.slice(ue));return Q?(J.m=b.get(Q[0].toLowerCase()),ue+Q[0].length):-1}function D(J,Z,ue){return E(J,e,Z,ue)}function R(J,Z,ue){return E(J,n,Z,ue)}function $(J,Z,ue){return E(J,r,Z,ue)}function F(J){return o[J.getDay()]}function V(J){return a[J.getDay()]}function U(J){return l[J.getMonth()]}function W(J){return s[J.getMonth()]}function q(J){return i[+(J.getHours()>=12)]}function B(J){return 1+~~(J.getMonth()/3)}function K(J){return o[J.getUTCDay()]}function re(J){return a[J.getUTCDay()]}function fe(J){return l[J.getUTCMonth()]}function ve(J){return s[J.getUTCMonth()]}function Ae(J){return i[+(J.getUTCHours()>=12)]}function Ee(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var Z=k(J+="",w);return Z.toString=function(){return J},Z},parse:function(J){var Z=S(J+="",!1);return Z.toString=function(){return J},Z},utcFormat:function(J){var Z=k(J+="",A);return Z.toString=function(){return J},Z},utcParse:function(J){var Z=S(J+="",!0);return Z.toString=function(){return J},Z}}}var SC={"-":"",_:" ",0:"0"},rn=/^\s*\d+/,Ype=/^%/,Xpe=/[\\^$*+?|[\]().{}]/g;function Xe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Qpe(t){return t.replace(Xpe,"\\$&")}function tf(t){return new RegExp("^(?:"+t.map(Qpe).join("|")+")","i")}function nf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Jpe(t,e,n){var r=rn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Zpe(t,e,n){var r=rn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function eme(t,e,n){var r=rn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function tme(t,e,n){var r=rn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function nme(t,e,n){var r=rn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function EC(t,e,n){var r=rn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function TC(t,e,n){var r=rn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function rme(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ime(t,e,n){var r=rn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function ame(t,e,n){var r=rn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function kC(t,e,n){var r=rn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ome(t,e,n){var r=rn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function AC(t,e,n){var r=rn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function sme(t,e,n){var r=rn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function lme(t,e,n){var r=rn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ume(t,e,n){var r=rn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function cme(t,e,n){var r=rn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function fme(t,e,n){var r=Ype.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function dme(t,e,n){var r=rn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function hme(t,e,n){var r=rn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function PC(t,e){return Xe(t.getDate(),e,2)}function pme(t,e){return Xe(t.getHours(),e,2)}function mme(t,e){return Xe(t.getHours()%12||12,e,2)}function gme(t,e){return Xe(1+Yh.count(_a(t),t),e,3)}function D6(t,e){return Xe(t.getMilliseconds(),e,3)}function yme(t,e){return D6(t,e)+"000"}function vme(t,e){return Xe(t.getMonth()+1,e,2)}function bme(t,e){return Xe(t.getMinutes(),e,2)}function xme(t,e){return Xe(t.getSeconds(),e,2)}function wme(t){var e=t.getDay();return e===0?7:e}function _me(t,e){return Xe($v.count(_a(t)-1,t),e,2)}function L6(t){var e=t.getDay();return e>=4||e===0?Iu(t):Iu.ceil(t)}function Sme(t,e){return t=L6(t),Xe(Iu.count(_a(t),t)+(_a(t).getDay()===4),e,2)}function Eme(t){return t.getDay()}function Tme(t,e){return Xe(dy.count(_a(t)-1,t),e,2)}function kme(t,e){return Xe(t.getFullYear()%100,e,2)}function Ame(t,e){return t=L6(t),Xe(t.getFullYear()%100,e,2)}function Pme(t,e){return Xe(t.getFullYear()%1e4,e,4)}function Ime(t,e){var n=t.getDay();return t=n>=4||n===0?Iu(t):Iu.ceil(t),Xe(t.getFullYear()%1e4,e,4)}function Ome(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Xe(e/60|0,"0",2)+Xe(e%60,"0",2)}function IC(t,e){return Xe(t.getUTCDate(),e,2)}function Nme(t,e){return Xe(t.getUTCHours(),e,2)}function Cme(t,e){return Xe(t.getUTCHours()%12||12,e,2)}function jme(t,e){return Xe(1+Mv.count(Sa(t),t),e,3)}function V6(t,e){return Xe(t.getUTCMilliseconds(),e,3)}function Rme(t,e){return V6(t,e)+"000"}function Mme(t,e){return Xe(t.getUTCMonth()+1,e,2)}function $me(t,e){return Xe(t.getUTCMinutes(),e,2)}function Dme(t,e){return Xe(t.getUTCSeconds(),e,2)}function Lme(t){var e=t.getUTCDay();return e===0?7:e}function Vme(t,e){return Xe(Dv.count(Sa(t)-1,t),e,2)}function F6(t){var e=t.getUTCDay();return e>=4||e===0?Ou(t):Ou.ceil(t)}function Fme(t,e){return t=F6(t),Xe(Ou.count(Sa(t),t)+(Sa(t).getUTCDay()===4),e,2)}function Ume(t){return t.getUTCDay()}function Bme(t,e){return Xe(hy.count(Sa(t)-1,t),e,2)}function zme(t,e){return Xe(t.getUTCFullYear()%100,e,2)}function Wme(t,e){return t=F6(t),Xe(t.getUTCFullYear()%100,e,2)}function qme(t,e){return Xe(t.getUTCFullYear()%1e4,e,4)}function Hme(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ou(t):Ou.ceil(t),Xe(t.getUTCFullYear()%1e4,e,4)}function Gme(){return"+0000"}function OC(){return"%"}function NC(t){return+t}function CC(t){return Math.floor(+t/1e3)}var pl,U6,B6;Kme({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Kme(t){return pl=Kpe(t),U6=pl.format,pl.parse,B6=pl.utcFormat,pl.utcParse,pl}function Yme(t){return new Date(t)}function Xme(t){return t instanceof Date?+t:+new Date(+t)}function Tk(t,e,n,r,i,a,o,s,l,u){var c=fk(),f=c.invert,d=c.domain,m=u(".%L"),g=u(":%S"),y=u("%I:%M"),b=u("%I %p"),v=u("%a %d"),x=u("%b %d"),w=u("%B"),A=u("%Y");function _(k){return(l(k)<k?m:s(k)<k?g:o(k)<k?y:a(k)<k?b:r(k)<k?i(k)<k?v:x:n(k)<k?w:A)(k)}return c.invert=function(k){return new Date(f(k))},c.domain=function(k){return arguments.length?d(Array.from(k,Xme)):d().map(Yme)},c.ticks=function(k){var S=d();return t(S[0],S[S.length-1],k??10)},c.tickFormat=function(k,S){return S==null?_:u(S)},c.nice=function(k){var S=d();return(!k||typeof k.range!="function")&&(k=e(S[0],S[S.length-1],k??10)),k?d(P6(S,k)):c},c.copy=function(){return Kh(c,Tk(t,e,n,r,i,a,o,s,l,u))},c}function Qme(){return Vr.apply(Tk(Hpe,Gpe,_a,Sk,$v,Yh,wk,bk,vs,U6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Jme(){return Vr.apply(Tk(Wpe,qpe,Sa,Ek,Dv,Mv,_k,xk,vs,B6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Lv(){var t=0,e=1,n,r,i,a,o=Mn,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function c(f){return function(d){var m,g;return arguments.length?([m,g]=d,o=f(m,g),u):[o(0),o(1)]}}return u.range=c(wc),u.rangeRound=c(ck),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Wo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function z6(){var t=zo(Lv()(Mn));return t.copy=function(){return Wo(t,z6())},Oa.apply(t,arguments)}function W6(){var t=pk(Lv()).domain([1,10]);return t.copy=function(){return Wo(t,W6()).base(t.base())},Oa.apply(t,arguments)}function q6(){var t=mk(Lv());return t.copy=function(){return Wo(t,q6()).constant(t.constant())},Oa.apply(t,arguments)}function kk(){var t=gk(Lv());return t.copy=function(){return Wo(t,kk()).exponent(t.exponent())},Oa.apply(t,arguments)}function Zme(){return kk.apply(null,arguments).exponent(.5)}function H6(){var t=[],e=Mn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Hh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(_o),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Vhe(t,a/r))},n.copy=function(){return H6(e).domain(t)},Oa.apply(n,arguments)}function Vv(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,u=Mn,c,f=!1,d;function m(y){return isNaN(y=+y)?d:(y=.5+((y=+c(y))-a)*(r*y<r*a?s:l),u(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([t,e,n]=y,i=c(t=+t),a=c(e=+e),o=c(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,m):[t,e,n]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(u=y,m):u};function g(y){return function(b){var v,x,w;return arguments.length?([v,x,w]=b,u=fpe(y,[v,x,w]),m):[u(0),u(.5),u(1)]}}return m.range=g(wc),m.rangeRound=g(ck),m.unknown=function(y){return arguments.length?(d=y,m):d},function(y){return c=y,i=y(t),a=y(e),o=y(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,m}}function G6(){var t=zo(Vv()(Mn));return t.copy=function(){return Wo(t,G6())},Oa.apply(t,arguments)}function K6(){var t=pk(Vv()).domain([.1,1,10]);return t.copy=function(){return Wo(t,K6()).base(t.base())},Oa.apply(t,arguments)}function Y6(){var t=mk(Vv());return t.copy=function(){return Wo(t,Y6()).constant(t.constant())},Oa.apply(t,arguments)}function Ak(){var t=gk(Vv());return t.copy=function(){return Wo(t,Ak()).exponent(t.exponent())},Oa.apply(t,arguments)}function ege(){return Ak.apply(null,arguments).exponent(.5)}const jC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Fd,scaleDiverging:G6,scaleDivergingLog:K6,scaleDivergingPow:Ak,scaleDivergingSqrt:ege,scaleDivergingSymlog:Y6,scaleIdentity:A6,scaleImplicit:e_,scaleLinear:qd,scaleLog:I6,scaleOrdinal:sk,scalePoint:Yf,scalePow:yk,scaleQuantile:C6,scaleQuantize:j6,scaleRadial:N6,scaleSequential:z6,scaleSequentialLog:W6,scaleSequentialPow:kk,scaleSequentialQuantile:H6,scaleSequentialSqrt:Zme,scaleSequentialSymlog:q6,scaleSqrt:Rpe,scaleSymlog:O6,scaleThreshold:R6,scaleTime:Qme,scaleUtc:Jme,tickFormat:k6},Symbol.toStringTag,{value:"Module"}));var tge=fc;function nge(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!tge(o):n(o,s)))var s=o,l=a}return l}var X6=nge;function rge(t,e){return t>e}var ige=rge,age=X6,oge=ige,sge=bc;function lge(t){return t&&t.length?age(t,sge,oge):void 0}var uge=lge;const ao=at(uge);function cge(t,e){return t<e}var fge=cge,dge=X6,hge=fge,pge=bc;function mge(t){return t&&t.length?dge(t,pge,hge):void 0}var gge=mge;const Fv=at(gge);var yge=UT,vge=Bo,bge=a6,xge=tr;function wge(t,e){var n=xge(t)?yge:bge;return n(t,vge(e))}var _ge=wge,Sge=r6,Ege=_ge;function Tge(t,e){return Sge(Ege(t,e),1)}var kge=Tge;const Age=at(kge);var Pge=nk;function Ige(t,e){return Pge(t,e)}var Oge=Ige;const Hd=at(Oge);var _c=1e9,Nge={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ik,vt=!0,$r="[DecimalError] ",Ps=$r+"Invalid argument: ",Pk=$r+"Exponent out of range: ",Sc=Math.floor,ls=Math.pow,Cge=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,lr,Zt=1e7,ht=7,Q6=9007199254740991,py=Sc(Q6/ht),ye={};ye.absoluteValue=ye.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ye.comparedTo=ye.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ye.decimalPlaces=ye.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ht;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ye.dividedBy=ye.div=function(t){return fa(this,new this.constructor(t))};ye.dividedToIntegerBy=ye.idiv=function(t){var e=this,n=e.constructor;return it(fa(e,new n(t),0,1),n.precision)};ye.equals=ye.eq=function(t){return!this.cmp(t)};ye.exponent=function(){return Ut(this)};ye.greaterThan=ye.gt=function(t){return this.cmp(t)>0};ye.greaterThanOrEqualTo=ye.gte=function(t){return this.cmp(t)>=0};ye.isInteger=ye.isint=function(){return this.e>this.d.length-2};ye.isNegative=ye.isneg=function(){return this.s<0};ye.isPositive=ye.ispos=function(){return this.s>0};ye.isZero=function(){return this.s===0};ye.lessThan=ye.lt=function(t){return this.cmp(t)<0};ye.lessThanOrEqualTo=ye.lte=function(t){return this.cmp(t)<1};ye.logarithm=ye.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(lr))throw Error($r+"NaN");if(n.s<1)throw Error($r+(n.s?"NaN":"-Infinity"));return n.eq(lr)?new r(0):(vt=!1,e=fa(Gd(n,a),Gd(t,a),a),vt=!0,it(e,i))};ye.minus=ye.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?eV(e,t):J6(e,(t.s=-t.s,t))};ye.modulo=ye.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error($r+"NaN");return n.s?(vt=!1,e=fa(n,t,0,1).times(t),vt=!0,n.minus(e)):it(new r(n),i)};ye.naturalExponential=ye.exp=function(){return Z6(this)};ye.naturalLogarithm=ye.ln=function(){return Gd(this)};ye.negated=ye.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ye.plus=ye.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?J6(e,t):eV(e,(t.s=-t.s,t))};ye.precision=ye.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ps+t);if(e=Ut(i)+1,r=i.d.length-1,n=r*ht+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ye.squareRoot=ye.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error($r+"NaN")}for(t=Ut(s),vt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=_i(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Sc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(fa(s,a,o+2)).times(.5),_i(a.d).slice(0,o)===(e=_i(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(it(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return vt=!0,it(r,n)};ye.times=ye.mul=function(t){var e,n,r,i,a,o,s,l,u,c=this,f=c.constructor,d=c.d,m=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=d.length,u=m.length,l<u&&(a=d,d=m,m=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+m[r]*d[i-r-1]+e,a[i--]=s%Zt|0,e=s/Zt|0;a[i]=(a[i]+e)%Zt|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,vt?it(t,f.precision):t};ye.toDecimalPlaces=ye.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Di(t,0,_c),e===void 0?e=r.rounding:Di(e,0,8),it(n,t+Ut(n)+1,e))};ye.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=qs(r,!0):(Di(t,0,_c),e===void 0?e=i.rounding:Di(e,0,8),r=it(new i(r),t+1,e),n=qs(r,!0,t+1)),n};ye.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?qs(i):(Di(t,0,_c),e===void 0?e=a.rounding:Di(e,0,8),r=it(new a(i),t+Ut(i)+1,e),n=qs(r.abs(),!1,t+Ut(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ye.toInteger=ye.toint=function(){var t=this,e=t.constructor;return it(new e(t),Ut(t)+1,e.rounding)};ye.toNumber=function(){return+this};ye.toPower=ye.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(lr);if(s=new l(s),!s.s){if(t.s<1)throw Error($r+"Infinity");return s}if(s.eq(lr))return s;if(r=l.precision,t.eq(lr))return it(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=c<0?-c:c)<=Q6){for(i=new l(lr),e=Math.ceil(r/ht+4),vt=!1;n%2&&(i=i.times(s),MC(i.d,e)),n=Sc(n/2),n!==0;)s=s.times(s),MC(s.d,e);return vt=!0,t.s<0?new l(lr).div(i):it(i,r)}}else if(a<0)throw Error($r+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,vt=!1,i=t.times(Gd(s,r+u)),vt=!0,i=Z6(i),i.s=a,i};ye.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Ut(i),r=qs(i,n<=a.toExpNeg||n>=a.toExpPos)):(Di(t,1,_c),e===void 0?e=a.rounding:Di(e,0,8),i=it(new a(i),t,e),n=Ut(i),r=qs(i,t<=n||n<=a.toExpNeg,t)),r};ye.toSignificantDigits=ye.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Di(t,1,_c),e===void 0?e=r.rounding:Di(e,0,8)),it(new r(n),t,e)};ye.toString=ye.valueOf=ye.val=ye.toJSON=ye[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ut(t),n=t.constructor;return qs(t,e<=n.toExpNeg||e>=n.toExpPos)};function J6(t,e){var n,r,i,a,o,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),vt?it(e,f):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(f/ht),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/Zt|0,l[a]%=Zt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,vt?it(e,f):e}function Di(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ps+t)}function _i(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=ht-r.length,n&&(a+=Wa(n)),a+=r;o=t[e],r=o+"",n=ht-r.length,n&&(a+=Wa(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var fa=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%Zt|0,o=a/Zt|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Zt+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,c,f,d,m,g,y,b,v,x,w,A,_,k,S,E,P=r.constructor,N=r.s==i.s?1:-1,O=r.d,C=i.d;if(!r.s)return new P(r);if(!i.s)throw Error($r+"Division by zero");for(l=r.e-i.e,S=C.length,_=O.length,m=new P(N),g=m.d=[],u=0;C[u]==(O[u]||0);)++u;if(C[u]>(O[u]||0)&&--l,a==null?x=a=P.precision:o?x=a+(Ut(r)-Ut(i))+1:x=a,x<0)return new P(0);if(x=x/ht+2|0,u=0,S==1)for(c=0,C=C[0],x++;(u<_||c)&&x--;u++)w=c*Zt+(O[u]||0),g[u]=w/C|0,c=w%C|0;else{for(c=Zt/(C[0]+1)|0,c>1&&(C=t(C,c),O=t(O,c),S=C.length,_=O.length),A=S,y=O.slice(0,S),b=y.length;b<S;)y[b++]=0;E=C.slice(),E.unshift(0),k=C[0],C[1]>=Zt/2&&++k;do c=0,s=e(C,y,S,b),s<0?(v=y[0],S!=b&&(v=v*Zt+(y[1]||0)),c=v/k|0,c>1?(c>=Zt&&(c=Zt-1),f=t(C,c),d=f.length,b=y.length,s=e(f,y,d,b),s==1&&(c--,n(f,S<d?E:C,d))):(c==0&&(s=c=1),f=C.slice()),d=f.length,d<b&&f.unshift(0),n(y,f,b),s==-1&&(b=y.length,s=e(C,y,S,b),s<1&&(c++,n(y,S<b?E:C,b))),b=y.length):s===0&&(c++,y=[0]),g[u++]=c,s&&y[0]?y[b++]=O[A]||0:(y=[O[A]],b=1);while((A++<_||y[0]!==void 0)&&x--)}return g[0]||g.shift(),m.e=l,it(m,o?a+Ut(m)+1:a)}}();function Z6(t,e){var n,r,i,a,o,s,l=0,u=0,c=t.constructor,f=c.precision;if(Ut(t)>16)throw Error(Pk+Ut(t));if(!t.s)return new c(lr);for(vt=!1,s=f,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(ls(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new c(lr),c.precision=s;;){if(i=it(i.times(t),s),n=n.times(++l),o=a.plus(fa(i,n,s)),_i(o.d).slice(0,s)===_i(a.d).slice(0,s)){for(;u--;)a=it(a.times(a),s);return c.precision=f,e==null?(vt=!0,it(a,f)):a}a=o}}function Ut(t){for(var e=t.e*ht,n=t.d[0];n>=10;n/=10)e++;return e}function Nx(t,e,n){if(e>t.LN10.sd())throw vt=!0,n&&(t.precision=n),Error($r+"LN10 precision limit exceeded");return it(new t(t.LN10),e)}function Wa(t){for(var e="";t--;)e+="0";return e}function Gd(t,e){var n,r,i,a,o,s,l,u,c,f=1,d=10,m=t,g=m.d,y=m.constructor,b=y.precision;if(m.s<1)throw Error($r+(m.s?"NaN":"-Infinity"));if(m.eq(lr))return new y(0);if(e==null?(vt=!1,u=b):u=e,m.eq(10))return e==null&&(vt=!0),Nx(y,u);if(u+=d,y.precision=u,n=_i(g),r=n.charAt(0),a=Ut(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=_i(m.d),r=n.charAt(0),f++;a=Ut(m),r>1?(m=new y("0."+n),a++):m=new y(r+"."+n.slice(1))}else return l=Nx(y,u+2,b).times(a+""),m=Gd(new y(r+"."+n.slice(1)),u-d).plus(l),y.precision=b,e==null?(vt=!0,it(m,b)):m;for(s=o=m=fa(m.minus(lr),m.plus(lr),u),c=it(m.times(m),u),i=3;;){if(o=it(o.times(c),u),l=s.plus(fa(o,new y(i),u)),_i(l.d).slice(0,u)===_i(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(Nx(y,u+2,b).times(a+""))),s=fa(s,new y(f),u),y.precision=b,e==null?(vt=!0,it(s,b)):s;s=l,i+=2}}function RC(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Sc(n/ht),t.d=[],r=(n+1)%ht,n<0&&(r+=ht),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ht;r<i;)t.d.push(+e.slice(r,r+=ht));e=e.slice(r),r=ht-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),vt&&(t.e>py||t.e<-py))throw Error(Pk+n)}else t.s=0,t.e=0,t.d=[0];return t}function it(t,e,n){var r,i,a,o,s,l,u,c,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=ht,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/ht),a=f.length,c>=a)return t;for(u=a=f[c],o=1;a>=10;a/=10)o++;r%=ht,i=r-ht+o}if(n!==void 0&&(a=ls(10,o-i-1),s=u/a%10|0,l=e<0||f[c+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/ls(10,o-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=Ut(t),f.length=1,e=e-a-1,f[0]=ls(10,(ht-e%ht)%ht),t.e=Sc(-e/ht)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,a=1,c--):(f.length=c+1,a=ls(10,ht-r),f[c]=i>0?(u/ls(10,o-i)%ls(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==Zt&&(f[0]=1,++t.e);break}else{if(f[c]+=a,f[c]!=Zt)break;f[c--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(vt&&(t.e>py||t.e<-py))throw Error(Pk+Ut(t));return t}function eV(t,e){var n,r,i,a,o,s,l,u,c,f,d=t.constructor,m=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),vt?it(e,m):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(c=o<0,c?(n=l,o=-o,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(m/ht),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}o=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Zt-1;--l[a],l[i]+=Zt}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,vt?it(e,m):e):new d(0)}function qs(t,e,n){var r,i=Ut(t),a=_i(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Wa(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Wa(-i-1)+a,n&&(r=n-o)>0&&(a+=Wa(r))):i>=o?(a+=Wa(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Wa(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Wa(r))),t.s<0?"-"+a:a}function MC(t,e){if(t.length>e)return t.length=e,!0}function tV(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ps+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return RC(o,a.toString())}else if(typeof a!="string")throw Error(Ps+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Cge.test(a))RC(o,a);else throw Error(Ps+a)}if(i.prototype=ye,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=tV,i.config=i.set=jge,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function jge(t){if(!t||typeof t!="object")throw Error($r+"Object expected");var e,n,r,i=["precision",1,_c,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Sc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ps+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ps+n+": "+r);return this}var Ik=tV(Nge);lr=new Ik(1);const tt=Ik;function Rge(t){return Lge(t)||Dge(t)||$ge(t)||Mge()}function Mge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ge(t,e){if(t){if(typeof t=="string")return i_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i_(t,e)}}function Dge(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Lge(t){if(Array.isArray(t))return i_(t)}function i_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Vge=function(e){return e},nV={},rV=function(e){return e===nV},$C=function(e){return function n(){return arguments.length===0||arguments.length===1&&rV(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Fge=function t(e,n){return e===1?n:$C(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==nV}).length;return o>=e?n.apply(void 0,i):t(e-o,$C(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return rV(f)?l.shift():f});return n.apply(void 0,Rge(c).concat(l))}))})},Uv=function(e){return Fge(e.length,e)},a_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Uge=Uv(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Bge=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Vge;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},o_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},iV=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function zge(t){var e;return t===0?e=1:e=Math.floor(new tt(t).abs().log(10).toNumber())+1,e}function Wge(t,e,n){for(var r=new tt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var qge=Uv(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Hge=Uv(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Gge=Uv(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Bv={rangeStep:Wge,getDigitCount:zge,interpolateNumber:qge,uninterpolateNumber:Hge,uninterpolateTruncation:Gge};function s_(t){return Xge(t)||Yge(t)||aV(t)||Kge()}function Kge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yge(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Xge(t){if(Array.isArray(t))return l_(t)}function Kd(t,e){return Zge(t)||Jge(t,e)||aV(t,e)||Qge()}function Qge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aV(t,e){if(t){if(typeof t=="string")return l_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l_(t,e)}}function l_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jge(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function Zge(t){if(Array.isArray(t))return t}function oV(t){var e=Kd(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function sV(t,e,n){if(t.lte(0))return new tt(0);var r=Bv.getDigitCount(t.toNumber()),i=new tt(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new tt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new tt(Math.ceil(l))}function eye(t,e,n){var r=1,i=new tt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new tt(10).pow(Bv.getDigitCount(t)-1),i=new tt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new tt(Math.floor(t)))}else t===0?i=new tt(Math.floor((e-1)/2)):n||(i=new tt(Math.floor(t)));var o=Math.floor((e-1)/2),s=Bge(Uge(function(l){return i.add(new tt(l-o).mul(r)).toNumber()}),a_);return s(0,e)}function lV(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new tt(0),tickMin:new tt(0),tickMax:new tt(0)};var a=sV(new tt(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new tt(0):(o=new tt(t).add(e).div(2),o=o.sub(new tt(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new tt(e).sub(o).div(a).toNumber()),u=s+l+1;return u>n?lV(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:a,tickMin:o.sub(new tt(s).mul(a)),tickMax:o.add(new tt(l).mul(a))})}function tye(t){var e=Kd(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=oV([n,r]),l=Kd(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(s_(a_(0,i-1).map(function(){return 1/0}))):[].concat(s_(a_(0,i-1).map(function(){return-1/0})),[c]);return n>r?o_(f):f}if(u===c)return eye(u,i,a);var d=lV(u,c,o,a),m=d.step,g=d.tickMin,y=d.tickMax,b=Bv.rangeStep(g,y.add(new tt(.1).mul(m)),m);return n>r?o_(b):b}function nye(t,e){var n=Kd(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=oV([r,i]),s=Kd(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=sV(new tt(u).sub(l).div(c-1),a,0),d=[].concat(s_(Bv.rangeStep(new tt(l),new tt(u).sub(new tt(.99).mul(f)),f)),[u]);return r>i?o_(d):d}var rye=iV(tye),iye=iV(nye),aye="Invariant failed";function Hs(t,e){throw new Error(aye)}var oye=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}function my(){return my=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},my.apply(this,arguments)}function sye(t,e){return fye(t)||cye(t,e)||uye(t,e)||lye()}function lye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uye(t,e){if(t){if(typeof t=="string")return DC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DC(t,e)}}function DC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function fye(t){if(Array.isArray(t))return t}function dye(t,e){if(t==null)return{};var n=hye(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fV(r.key),r)}}function gye(t,e,n){return e&&mye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yye(t,e,n){return e=gy(e),vye(t,uV()?Reflect.construct(e,n||[],gy(t).constructor):e.apply(t,n))}function vye(t,e){if(e&&(Nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bye(t)}function bye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uV=function(){return!!t})()}function gy(t){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gy(t)}function xye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u_(t,e)}function u_(t,e){return u_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},u_(t,e)}function cV(t,e,n){return e=fV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fV(t){var e=wye(t,"string");return Nu(e)=="symbol"?e:e+""}function wye(t,e){if(Nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zv=function(t){function e(){return pye(this,e),yye(this,e,arguments)}return xye(e,t),gye(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,d=dye(r,oye),m=Fe(d,!1);this.props.direction==="x"&&c.type!=="number"&&Hs();var g=l.map(function(y){var b=u(y,s),v=b.x,x=b.y,w=b.value,A=b.errorVal;if(!A)return null;var _=[],k,S;if(Array.isArray(A)){var E=sye(A,2);k=E[0],S=E[1]}else k=S=A;if(a==="vertical"){var P=c.scale,N=x+i,O=N+o,C=N-o,j=P(w-k),D=P(w+S);_.push({x1:D,y1:O,x2:D,y2:C}),_.push({x1:j,y1:N,x2:D,y2:N}),_.push({x1:j,y1:O,x2:j,y2:C})}else if(a==="horizontal"){var R=f.scale,$=v+i,F=$-o,V=$+o,U=R(w-k),W=R(w+S);_.push({x1:F,y1:W,x2:V,y2:W}),_.push({x1:$,y1:U,x2:$,y2:W}),_.push({x1:F,y1:U,x2:V,y2:U})}return z.createElement(wt,my({className:"recharts-errorBar",key:"bar-".concat(_.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},m),_.map(function(q){return z.createElement("line",my({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return z.createElement(wt,{className:"recharts-errorBars"},g)}}])}(z.Component);cV(zv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});cV(zv,"displayName","ErrorBar");function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function LC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function es(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LC(Object(n),!0).forEach(function(r){_ye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ye(t,e,n){return e=Sye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sye(t){var e=Eye(t,"string");return Yd(e)=="symbol"?e:e+""}function Eye(t,e){if(Yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dV=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=ar(n,nu);if(!o)return null;var s=nu.defaultProps,l=s!==void 0?es(es({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(c,f){var d=f.item,m=f.props,g=m.sectors||m.data||[];return c.concat(g.map(function(y){return{type:o.props.iconType||d.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(c){var f=c.item,d=f.type.defaultProps,m=d!==void 0?es(es({},d),f.props):{},g=m.dataKey,y=m.name,b=m.legendType,v=m.hide;return{inactive:v,dataKey:g,type:l.iconType||b||"square",color:Ok(f),value:y||g,payload:m}}),es(es(es({},l),nu.getWithHeight(o,i)),{},{payload:u,item:o})};function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function VC(t){return Pye(t)||Aye(t)||kye(t)||Tye()}function Tye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kye(t,e){if(t){if(typeof t=="string")return c_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c_(t,e)}}function Aye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pye(t){if(Array.isArray(t))return c_(t)}function c_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FC(Object(n),!0).forEach(function(r){iu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iu(t,e,n){return e=Iye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iye(t){var e=Oye(t,"string");return Xd(e)=="symbol"?e:e+""}function Oye(t,e){if(Xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mr(t,e,n){return qe(t)||qe(e)?n:Kt(e)?Cr(t,e,n):$e(e)?e(t):n}function Xf(t,e,n,r){var i=Age(t,function(s){return mr(s,e)});if(n==="number"){var a=i.filter(function(s){return le(s)||parseFloat(s)});return a.length?[Fv(a),ao(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!qe(s)}):i;return o.map(function(s){return Kt(s)||s instanceof Date?s:""})}var Nye=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,d=u>=s-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Zr(f-c)!==Zr(d-f)){var g=[];if(Zr(d-f)===Zr(l[1]-l[0])){m=d;var y=f+l[1]-l[0];g[0]=Math.min(y,(y+c)/2),g[1]=Math.max(y,(y+c)/2)}else{m=c;var b=d+l[1]-l[0];g[0]=Math.min(f,(b+f)/2),g[1]=Math.max(f,(b+f)/2)}var v=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>v[0]&&e<=v[1]||e>=g[0]&&e<=g[1]){o=i[u].index;break}}else{var x=Math.min(c,d),w=Math.max(c,d);if(e>(x+f)/2&&e<=(w+f)/2){o=i[u].index;break}}}else for(var A=0;A<s;A++)if(A===0&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A>0&&A<s-1&&e>(r[A].coordinate+r[A-1].coordinate)/2&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A===s-1&&e>(r[A].coordinate+r[A-1].coordinate)/2){o=r[A].index;break}return o},Ok=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?It(It({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},Cye=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var c=a[s[l]].stackGroups,f=Object.keys(c),d=0,m=f.length;d<m;d++){var g=c[f[d]],y=g.items,b=g.cateAxisId,v=y.filter(function(S){return ua(S.type).indexOf("Bar")>=0});if(v&&v.length){var x=v[0].type.defaultProps,w=x!==void 0?It(It({},x),v[0].props):v[0].props,A=w.barSize,_=w[b];o[_]||(o[_]=[]);var k=qe(A)?n:A;o[_].push({item:v[0],stackList:v.slice(1),barSize:qe(k)?void 0:Ws(k,r,0)})}}return o},jye=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=Ws(n,i,0,!0),c,f=[];if(o[0].barSize===+o[0].barSize){var d=!1,m=i/l,g=o.reduce(function(A,_){return A+_.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&m>0&&(d=!0,m*=.9,g=l*m);var y=(i-g)/2>>0,b={offset:y-u,size:0};c=o.reduce(function(A,_){var k={item:_.item,position:{offset:b.offset+b.size+u,size:d?m:_.barSize}},S=[].concat(VC(A),[k]);return b=S[S.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(E){S.push({item:E,position:b})}),S},f)}else{var v=Ws(r,i,0,!0);i-2*v-(l-1)*u<=0&&(u=0);var x=(i-2*v-(l-1)*u)/l;x>1&&(x>>=0);var w=s===+s?Math.min(x,s):x;c=o.reduce(function(A,_,k){var S=[].concat(VC(A),[{item:_.item,position:{offset:v+(x+u)*k+(x-w)/2,size:w}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(E){S.push({item:E,position:S[S.length-1].position})}),S},f)}return c},Rye=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=dV({children:a,legendWidth:l});if(u){var c=i||{},f=c.width,d=c.height,m=u.align,g=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&g==="middle")&&m!=="center"&&le(e[m]))return It(It({},e),{},iu({},m,e[m]+(f||0)));if((y==="horizontal"||y==="vertical"&&m==="center")&&g!=="middle"&&le(e[g]))return It(It({},e),{},iu({},g,e[g]+(d||0)))}return e},Mye=function(e,n,r){return qe(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},hV=function(e,n,r,i,a){var o=n.props.children,s=oi(o,zv).filter(function(u){return Mye(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=mr(c,r);if(qe(f))return u;var d=Array.isArray(f)?[Fv(f),ao(f)]:[f,f],m=l.reduce(function(g,y){var b=mr(c,y,0),v=d[0]-Math.abs(Array.isArray(b)?b[0]:b),x=d[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(v,g[0]),Math.max(x,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},$ye=function(e,n,r,i,a){var o=n.map(function(s){return hV(e,s,r,a,i)}).filter(function(s){return!qe(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},pV=function(e,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&hV(e,l,u,i)||Xf(e,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},mV=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},gV=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},oa=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Zr(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var d=a?a.indexOf(f):f;return{coordinate:i(d)+u,value:f,offset:u}});return c.filter(function(f){return!gc(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+u,value:f,index:d,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,d){return{coordinate:i(f)+u,value:a?a[f]:f,index:d,offset:u}})},Cx=new WeakMap,Qp=function(e,n){if(typeof n!="function")return e;Cx.has(e)||Cx.set(e,new WeakMap);var r=Cx.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Dye=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Fd(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:qd(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Yf(),realScaleType:"point"}:a==="category"?{scale:Fd(),realScaleType:"band"}:{scale:qd(),realScaleType:"linear"};if(zs(i)){var l="scale".concat(Av(i));return{scale:(jC[l]||Yf)(),realScaleType:jC[l]?l:"point"}}return $e(i)?{scale:i}:{scale:Yf(),realScaleType:"point"}},UC=1e-4,Lye=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-UC,o=Math.max(i[0],i[1])+UC,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},Vye=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Fye=function(e,n){if(!n||n.length!==2||!le(n[0])||!le(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!le(e[0])||e[0]<r)&&(a[0]=r),(!le(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},Uye=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=gc(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},Bye=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=gc(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},zye={sign:Uye,expand:rie,none:Su,silhouette:iie,wiggle:aie,positive:Bye},Wye=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=zye[r],o=nie().keys(i).value(function(s,l){return+mr(s,l,0)}).order(M1).offset(a);return o(e)},qye=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},u=s.reduce(function(f,d){var m,g=(m=d.type)!==null&&m!==void 0&&m.defaultProps?It(It({},d.type.defaultProps),d.props):d.props,y=g.stackId,b=g.hide;if(b)return f;var v=g[r],x=f[v]||{hasStack:!1,stackGroups:{}};if(Kt(y)){var w=x.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};w.items.push(d),x.hasStack=!0,x.stackGroups[y]=w}else x.stackGroups[Wh("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return It(It({},f),{},iu({},v,x))},l),c={};return Object.keys(u).reduce(function(f,d){var m=u[d];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(y,b){var v=m.stackGroups[b];return It(It({},y),{},iu({},b,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:Wye(e,v.items,a)}))},g)}return It(It({},f),{},iu({},d,m))},c)},Hye=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=rye(u,a,s);return e.domain([Fv(c),ao(c)]),{niceTicks:c}}if(a&&i==="number"){var f=e.domain(),d=iye(f,a,s);return{niceTicks:d}}return null};function BC(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!qe(i[e.dataKey])){var s=Ug(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=mr(i,qe(o)?e.dataKey:o);return qe(l)?null:e.scale(l)}var zC=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=mr(o,n.dataKey,n.domain[s]);return qe(l)?null:n.scale(l)-a/2+i},Gye=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},Kye=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?It(It({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Kt(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},Yye=function(e){return e.reduce(function(n,r){return[Fv(r.concat([n[0]]).filter(le)),ao(r.concat([n[1]]).filter(le))]},[1/0,-1/0])},yV=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,c){var f=Yye(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},WC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,f_=function(e,n,r){if($e(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(le(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(WC.test(e[0])){var a=+WC.exec(e[0])[1];i[0]=n[0]-a}else $e(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(le(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(qC.test(e[1])){var o=+qC.exec(e[1])[1];i[1]=n[1]+o}else $e(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},yy=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=ik(n,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],c=a[s-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},HC=function(e,n,r){return!e||!e.length||Hd(e,Cr(r,"type.defaultProps.domain"))?n:e},vV=function(e,n){var r=e.type.defaultProps?It(It({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return It(It({},Fe(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:Ok(e),value:mr(n,i),type:l,payload:n,chartType:u,hide:c})};function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}function GC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GC(Object(n),!0).forEach(function(r){Xye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xye(t,e,n){return e=Qye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qye(t){var e=Jye(t,"string");return Qd(e)=="symbol"?e:e+""}function Jye(t,e){if(Qd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vy=Math.PI/180,Zye=function(e){return e*180/Math.PI},cn=function(e,n,r,i){return{x:e+Math.cos(-vy*i)*r,y:n+Math.sin(-vy*i)*r}},e0e=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},t0e=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=e0e({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:Zye(u),angleInRadian:u}},n0e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},r0e=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},YC=function(e,n){var r=e.x,i=e.y,a=t0e({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var c=n0e(n),f=c.startAngle,d=c.endAngle,m=s,g;if(f<=d){for(;m>d;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=d}else{for(;m>f;)m-=360;for(;m<d;)m+=360;g=m>=d&&m<=f}return g?KC(KC({},n),{},{radius:o,angle:r0e(m,n)}):null};function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}var i0e=["offset"];function a0e(t){return u0e(t)||l0e(t)||s0e(t)||o0e()}function o0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s0e(t,e){if(t){if(typeof t=="string")return d_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d_(t,e)}}function l0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function u0e(t){if(Array.isArray(t))return d_(t)}function d_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c0e(t,e){if(t==null)return{};var n=f0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function f0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function XC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XC(Object(n),!0).forEach(function(r){d0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d0e(t,e,n){return e=h0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h0e(t){var e=p0e(t,"string");return Jd(e)=="symbol"?e:e+""}function p0e(t,e){if(Jd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zd(){return Zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zd.apply(this,arguments)}var m0e=function(e){var n=e.value,r=e.formatter,i=qe(e.children)?n:e.children;return $e(r)?r(i):i},g0e=function(e,n){var r=Zr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},y0e=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,c=l.cy,f=l.innerRadius,d=l.outerRadius,m=l.startAngle,g=l.endAngle,y=l.clockWise,b=(f+d)/2,v=g0e(m,g),x=v>=0?1:-1,w,A;i==="insideStart"?(w=m+x*o,A=y):i==="insideEnd"?(w=g-x*o,A=!y):i==="end"&&(w=g+x*o,A=y),A=v<=0?A:!A;var _=cn(u,c,b,w),k=cn(u,c,b,w+(A?1:-1)*359),S="M".concat(_.x,",").concat(_.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(A?0:1,`,
    `).concat(k.x,",").concat(k.y),E=qe(e.id)?Wh("recharts-radial-line-"):e.id;return z.createElement("text",Zd({},r,{dominantBaseline:"central",className:Ye("recharts-radial-bar-label",s)}),z.createElement("defs",null,z.createElement("path",{id:E,d:S})),z.createElement("textPath",{xlinkHref:"#".concat(E)},n))},v0e=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,f=a.endAngle,d=(c+f)/2;if(i==="outside"){var m=cn(o,s,u+r,d),g=m.x,y=m.y;return{x:g,y,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,v=cn(o,s,b,d),x=v.x,w=v.y;return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},b0e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,u=o.width,c=o.height,f=c>=0?1:-1,d=f*i,m=f>0?"end":"start",g=f>0?"start":"end",y=u>=0?1:-1,b=y*i,v=y>0?"end":"start",x=y>0?"start":"end";if(a==="top"){var w={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:m};return qt(qt({},w),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var A={x:s+u/2,y:l+c+d,textAnchor:"middle",verticalAnchor:g};return qt(qt({},A),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(a==="left"){var _={x:s-b,y:l+c/2,textAnchor:v,verticalAnchor:"middle"};return qt(qt({},_),r?{width:Math.max(_.x-r.x,0),height:c}:{})}if(a==="right"){var k={x:s+u+b,y:l+c/2,textAnchor:x,verticalAnchor:"middle"};return qt(qt({},k),r?{width:Math.max(r.x+r.width-k.x,0),height:c}:{})}var S=r?{width:u,height:c}:{};return a==="insideLeft"?qt({x:s+b,y:l+c/2,textAnchor:x,verticalAnchor:"middle"},S):a==="insideRight"?qt({x:s+u-b,y:l+c/2,textAnchor:v,verticalAnchor:"middle"},S):a==="insideTop"?qt({x:s+u/2,y:l+d,textAnchor:"middle",verticalAnchor:g},S):a==="insideBottom"?qt({x:s+u/2,y:l+c-d,textAnchor:"middle",verticalAnchor:m},S):a==="insideTopLeft"?qt({x:s+b,y:l+d,textAnchor:x,verticalAnchor:g},S):a==="insideTopRight"?qt({x:s+u-b,y:l+d,textAnchor:v,verticalAnchor:g},S):a==="insideBottomLeft"?qt({x:s+b,y:l+c-d,textAnchor:x,verticalAnchor:m},S):a==="insideBottomRight"?qt({x:s+u-b,y:l+c-d,textAnchor:v,verticalAnchor:m},S):dc(a)&&(le(a.x)||gs(a.x))&&(le(a.y)||gs(a.y))?qt({x:s+Ws(a.x,u),y:l+Ws(a.y,c),textAnchor:"end",verticalAnchor:"end"},S):qt({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},S)},x0e=function(e){return"cx"in e&&le(e.cx)};function _n(t){var e=t.offset,n=e===void 0?5:e,r=c0e(t,i0e),i=qt({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,d=i.textBreakAll;if(!a||qe(s)&&qe(l)&&!M.isValidElement(u)&&!$e(u))return null;if(M.isValidElement(u))return M.cloneElement(u,i);var m;if($e(u)){if(m=M.createElement(u,i),M.isValidElement(m))return m}else m=m0e(i);var g=x0e(a),y=Fe(i,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return y0e(i,m,y);var b=g?v0e(i):b0e(i);return z.createElement(ry,Zd({className:Ye("recharts-label",f)},y,b,{breakAll:d}),m)}_n.displayName="Label";var bV=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,d=e.y,m=e.top,g=e.left,y=e.width,b=e.height,v=e.clockWise,x=e.labelViewBox;if(x)return x;if(le(y)&&le(b)){if(le(f)&&le(d))return{x:f,y:d,width:y,height:b};if(le(m)&&le(g))return{x:m,y:g,width:y,height:b}}return le(f)&&le(d)?{x:f,y:d,width:0,height:0}:le(n)&&le(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:v}:e.viewBox?e.viewBox:{}},w0e=function(e,n){return e?e===!0?z.createElement(_n,{key:"label-implicit",viewBox:n}):Kt(e)?z.createElement(_n,{key:"label-implicit",viewBox:n,value:e}):M.isValidElement(e)?e.type===_n?M.cloneElement(e,{key:"label-implicit",viewBox:n}):z.createElement(_n,{key:"label-implicit",content:e,viewBox:n}):$e(e)?z.createElement(_n,{key:"label-implicit",content:e,viewBox:n}):dc(e)?z.createElement(_n,Zd({viewBox:n},e,{key:"label-implicit"})):null:null},_0e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=bV(e),o=oi(i,_n).map(function(l,u){return M.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=w0e(e.label,n||a);return[s].concat(a0e(o))};_n.parseViewBox=bV;_n.renderCallByParent=_0e;function S0e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var E0e=S0e;const T0e=at(E0e);function eh(t){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}var k0e=["valueAccessor"],A0e=["data","dataKey","clockWise","id","textBreakAll"];function P0e(t){return C0e(t)||N0e(t)||O0e(t)||I0e()}function I0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O0e(t,e){if(t){if(typeof t=="string")return h_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h_(t,e)}}function N0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function C0e(t){if(Array.isArray(t))return h_(t)}function h_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function by(){return by=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},by.apply(this,arguments)}function QC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QC(Object(n),!0).forEach(function(r){j0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j0e(t,e,n){return e=R0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R0e(t){var e=M0e(t,"string");return eh(e)=="symbol"?e:e+""}function M0e(t,e){if(eh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZC(t,e){if(t==null)return{};var n=$0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var D0e=function(e){return Array.isArray(e.value)?T0e(e.value):e.value};function So(t){var e=t.valueAccessor,n=e===void 0?D0e:e,r=ZC(t,k0e),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,u=ZC(r,A0e);return!i||!i.length?null:z.createElement(wt,{className:"recharts-label-list"},i.map(function(c,f){var d=qe(a)?n(c,f):mr(c&&c.payload,a),m=qe(s)?{}:{id:"".concat(s,"-").concat(f)};return z.createElement(_n,by({},Fe(c,!0),u,m,{parentViewBox:c.parentViewBox,value:d,textBreakAll:l,viewBox:_n.parseViewBox(qe(o)?c:JC(JC({},c),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}So.displayName="LabelList";function L0e(t,e){return t?t===!0?z.createElement(So,{key:"labelList-implicit",data:e}):z.isValidElement(t)||$e(t)?z.createElement(So,{key:"labelList-implicit",data:e,content:t}):dc(t)?z.createElement(So,by({data:e},t,{key:"labelList-implicit"})):null:null}function V0e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=oi(r,So).map(function(o,s){return M.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=L0e(t.label,e);return[a].concat(P0e(i))}So.renderCallByParent=V0e;function th(t){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(t)}function p_(){return p_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p_.apply(this,arguments)}function ej(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ej(Object(n),!0).forEach(function(r){F0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ej(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F0e(t,e,n){return e=U0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U0e(t){var e=B0e(t,"string");return th(e)=="symbol"?e:e+""}function B0e(t,e){if(th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z0e=function(e,n){var r=Zr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Jp=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/vy,d=u?a:a+o*f,m=cn(n,r,c,d),g=cn(n,r,i,d),y=u?a-o*f:a,b=cn(n,r,c*Math.cos(f*vy),y);return{center:m,circleTangency:g,lineTangency:b,theta:f}},xV=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=z0e(o,s),u=o+l,c=cn(n,r,a,o),f=cn(n,r,a,u),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=cn(n,r,i,o),g=cn(n,r,i,u);d+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},W0e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Zr(c-u),d=Jp({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),m=d.circleTangency,g=d.lineTangency,y=d.theta,b=Jp({cx:n,cy:r,radius:a,angle:c,sign:-f,cornerRadius:o,cornerIsExternal:l}),v=b.circleTangency,x=b.lineTangency,w=b.theta,A=l?Math.abs(u-c):Math.abs(u-c)-y-w;if(A<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):xV({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var _="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(A>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var k=Jp({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),S=k.circleTangency,E=k.lineTangency,P=k.theta,N=Jp({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),O=N.circleTangency,C=N.lineTangency,j=N.theta,D=l?Math.abs(u-c):Math.abs(u-c)-P-j;if(D<0&&o===0)return"".concat(_,"L").concat(n,",").concat(r,"Z");_+="L".concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else _+="L".concat(n,",").concat(r,"Z");return _},q0e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wV=function(e){var n=tj(tj({},q0e),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,d=n.className;if(o<a||c===f)return null;var m=Ye("recharts-sector",d),g=o-a,y=Ws(s,g,0,!0),b;return y>0&&Math.abs(c-f)<360?b=W0e({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(y,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):b=xV({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f}),z.createElement("path",p_({},Fe(n,!0),{className:m,d:b,role:"img"}))};function nh(t){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}function m_(){return m_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m_.apply(this,arguments)}function nj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nj(Object(n),!0).forEach(function(r){H0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H0e(t,e,n){return e=G0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G0e(t){var e=K0e(t,"string");return nh(e)=="symbol"?e:e+""}function K0e(t,e){if(nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ij={curveBasisClosed:qre,curveBasisOpen:Hre,curveBasis:Wre,curveBumpX:Ore,curveBumpY:Nre,curveLinearClosed:Gre,curveLinear:Iv,curveMonotoneX:Kre,curveMonotoneY:Yre,curveNatural:Xre,curveStep:Qre,curveStepAfter:Zre,curveStepBefore:Jre},Zp=function(e){return e.x===+e.x&&e.y===+e.y},rf=function(e){return e.x},af=function(e){return e.y},Y0e=function(e,n){if($e(e))return e;var r="curve".concat(Av(e));return(r==="curveMonotone"||r==="curveBump")&&n?ij["".concat(r).concat(n==="vertical"?"Y":"X")]:ij[r]||Iv},X0e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Y0e(r,s),f=u?a.filter(function(y){return Zp(y)}):a,d;if(Array.isArray(o)){var m=u?o.filter(function(y){return Zp(y)}):o,g=f.map(function(y,b){return rj(rj({},y),{},{base:m[b]})});return s==="vertical"?d=zp().y(af).x1(rf).x0(function(y){return y.base.x}):d=zp().x(rf).y1(af).y0(function(y){return y.base.y}),d.defined(Zp).curve(c),d(g)}return s==="vertical"&&le(o)?d=zp().y(af).x1(rf).x0(o):le(o)?d=zp().x(rf).y1(af).y0(o):d=_5().x(rf).y(af),d.defined(Zp).curve(c),d(f)},Qf=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?X0e(e):i;return M.createElement("path",m_({},Fe(e,!1),Bg(e),{className:Ye("recharts-curve",n),d:o,ref:a}))},_V={exports:{}},Q0e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",J0e=Q0e,Z0e=J0e;function SV(){}function EV(){}EV.resetWarningCache=SV;var eve=function(){function t(r,i,a,o,s,l){if(l!==Z0e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:EV,resetWarningCache:SV};return n.PropTypes=n,n};_V.exports=eve();var tve=_V.exports;const te=at(tve),{getOwnPropertyNames:nve,getOwnPropertySymbols:rve}=Object,{hasOwnProperty:ive}=Object.prototype;function jx(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function em(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);const l=t(n,r,i);return a.delete(n),a.delete(r),l}}function ave(t){return t!=null?t[Symbol.toStringTag]:void 0}function aj(t){return nve(t).concat(rve(t))}const ove=Object.hasOwn||((t,e)=>ive.call(t,e));function ll(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const sve="__v",lve="__o",uve="_owner",{getOwnPropertyDescriptor:oj,keys:sj}=Object;function cve(t,e){return t.byteLength===e.byteLength&&xy(new Uint8Array(t),new Uint8Array(e))}function fve(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function dve(t,e){return t.byteLength===e.byteLength&&xy(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function hve(t,e){return ll(t.getTime(),e.getTime())}function pve(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function mve(t,e){return t===e}function lj(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let o,s,l=0;for(;(o=a.next())&&!o.done;){const u=e.entries();let c=!1,f=0;for(;(s=u.next())&&!s.done;){if(i[f]){f++;continue}const d=o.value,m=s.value;if(n.equals(d[0],m[0],l,f,t,e,n)&&n.equals(d[1],m[1],d[0],m[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}const gve=ll;function yve(t,e,n){const r=sj(t);let i=r.length;if(sj(e).length!==i)return!1;for(;i-- >0;)if(!TV(t,e,n,r[i]))return!1;return!0}function of(t,e,n){const r=aj(t);let i=r.length;if(aj(e).length!==i)return!1;let a,o,s;for(;i-- >0;)if(a=r[i],!TV(t,e,n,a)||(o=oj(t,a),s=oj(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function vve(t,e){return ll(t.valueOf(),e.valueOf())}function bve(t,e){return t.source===e.source&&t.flags===e.flags}function uj(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let o,s;for(;(o=a.next())&&!o.done;){const l=e.values();let u=!1,c=0;for(;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(o.value,s.value,o.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function xy(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function xve(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function TV(t,e,n,r){return(r===uve||r===lve||r===sve)&&(t.$$typeof||e.$$typeof)?!0:ove(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const wve="[object ArrayBuffer]",_ve="[object Arguments]",Sve="[object Boolean]",Eve="[object DataView]",Tve="[object Date]",kve="[object Error]",Ave="[object Map]",Pve="[object Number]",Ive="[object Object]",Ove="[object RegExp]",Nve="[object Set]",Cve="[object String]",jve={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Rve="[object URL]",Mve=Object.prototype.toString;function $ve({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:f,areTypedArraysEqual:d,areUrlsEqual:m,unknownTagComparators:g}){return function(b,v,x){if(b===v)return!0;if(b==null||v==null)return!1;const w=typeof b;if(w!==typeof v)return!1;if(w!=="object")return w==="number"?s(b,v,x):w==="function"?a(b,v,x):!1;const A=b.constructor;if(A!==v.constructor)return!1;if(A===Object)return l(b,v,x);if(Array.isArray(b))return e(b,v,x);if(A===Date)return r(b,v,x);if(A===RegExp)return c(b,v,x);if(A===Map)return o(b,v,x);if(A===Set)return f(b,v,x);const _=Mve.call(b);if(_===Tve)return r(b,v,x);if(_===Ove)return c(b,v,x);if(_===Ave)return o(b,v,x);if(_===Nve)return f(b,v,x);if(_===Ive)return typeof b.then!="function"&&typeof v.then!="function"&&l(b,v,x);if(_===Rve)return m(b,v,x);if(_===kve)return i(b,v,x);if(_===_ve)return l(b,v,x);if(jve[_])return d(b,v,x);if(_===wve)return t(b,v,x);if(_===Eve)return n(b,v,x);if(_===Sve||_===Pve||_===Cve)return u(b,v,x);if(g){let k=g[_];if(!k){const S=ave(b);S&&(k=g[S])}if(k)return k(b,v,x)}return!1}}function Dve({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:cve,areArraysEqual:n?of:fve,areDataViewsEqual:dve,areDatesEqual:hve,areErrorsEqual:pve,areFunctionsEqual:mve,areMapsEqual:n?jx(lj,of):lj,areNumbersEqual:gve,areObjectsEqual:n?of:yve,arePrimitiveWrappersEqual:vve,areRegExpsEqual:bve,areSetsEqual:n?jx(uj,of):uj,areTypedArraysEqual:n?jx(xy,of):xy,areUrlsEqual:xve,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=em(r.areArraysEqual),a=em(r.areMapsEqual),o=em(r.areObjectsEqual),s=em(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:s})}return r}function Lve(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function Vve({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(s,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(s,l){return e(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return e(s,l,a)}}const Fve=qo();qo({strict:!0});qo({circular:!0});qo({circular:!0,strict:!0});qo({createInternalComparator:()=>ll});qo({strict:!0,createInternalComparator:()=>ll});qo({circular:!0,createInternalComparator:()=>ll});qo({circular:!0,createInternalComparator:()=>ll,strict:!0});function qo(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=Dve(t),o=$ve(a),s=n?n(o):Lve(o);return Vve({circular:e,comparator:o,createState:r,equals:s,strict:i})}function Uve(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function cj(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):Uve(i)};requestAnimationFrame(r)}function g_(t){"@babel/helpers - typeof";return g_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g_(t)}function Bve(t){return Hve(t)||qve(t)||Wve(t)||zve()}function zve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wve(t,e){if(t){if(typeof t=="string")return fj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fj(t,e)}}function fj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hve(t){if(Array.isArray(t))return t}function Gve(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=Bve(o),l=s[0],u=s.slice(1);if(typeof l=="number"){cj(i.bind(null,u),l);return}i(l),cj(i.bind(null,u));return}g_(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}function dj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dj(Object(n),!0).forEach(function(r){kV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kV(t,e,n){return e=Kve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kve(t){var e=Yve(t,"string");return rh(e)==="symbol"?e:String(e)}function Yve(t,e){if(rh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xve=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Qve=function(e){return e},Jve=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Jf=function(e,n){return Object.keys(n).reduce(function(r,i){return hj(hj({},r),{},kV({},i,e(i,n[i])))},{})},pj=function(e,n,r){return e.map(function(i){return"".concat(Jve(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Zve(t,e){return nbe(t)||tbe(t,e)||AV(t,e)||ebe()}function ebe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function nbe(t){if(Array.isArray(t))return t}function rbe(t){return obe(t)||abe(t)||AV(t)||ibe()}function ibe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AV(t,e){if(t){if(typeof t=="string")return y_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y_(t,e)}}function abe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function obe(t){if(Array.isArray(t))return y_(t)}function y_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var wy=1e-4,PV=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},IV=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},mj=function(e,n){return function(r){var i=PV(e,n);return IV(i,r)}},sbe=function(e,n){return function(r){var i=PV(e,n),a=[].concat(rbe(i.map(function(o,s){return o*s}).slice(1)),[0]);return IV(a,r)}},gj=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),c=Zve(u,4);i=c[0],a=c[1],o=c[2],s=c[3]}}}var f=mj(i,o),d=mj(a,s),m=sbe(i,o),g=function(v){return v>1?1:v<0?0:v},y=function(v){for(var x=v>1?1:v,w=x,A=0;A<8;++A){var _=f(w)-x,k=m(w);if(Math.abs(_-x)<wy||k<wy)return d(w);w=g(w-_/k)}return d(w)};return y.isStepper=!1,y},lbe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(c,f,d){var m=-(c-f)*r,g=d*a,y=d+(m-g)*s/1e3,b=d*s/1e3+c;return Math.abs(b-f)<wy&&Math.abs(y)<wy?[f,0]:[b,y]};return l.isStepper=!0,l.dt=s,l},ube=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gj(i);case"spring":return lbe();default:if(i.split("(")[0]==="cubic-bezier")return gj(i)}return typeof i=="function"?i:null};function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function yj(t){return dbe(t)||fbe(t)||OV(t)||cbe()}function cbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dbe(t){if(Array.isArray(t))return b_(t)}function vj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vj(Object(n),!0).forEach(function(r){v_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v_(t,e,n){return e=hbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hbe(t){var e=pbe(t,"string");return ih(e)==="symbol"?e:String(e)}function pbe(t,e){if(ih(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ih(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mbe(t,e){return vbe(t)||ybe(t,e)||OV(t,e)||gbe()}function gbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OV(t,e){if(t){if(typeof t=="string")return b_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b_(t,e)}}function b_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ybe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function vbe(t){if(Array.isArray(t))return t}var _y=function(e,n,r){return e+(n-e)*r},x_=function(e){var n=e.from,r=e.to;return n!==r},bbe=function t(e,n,r){var i=Jf(function(a,o){if(x_(o)){var s=e(o.from,o.to,o.velocity),l=mbe(s,2),u=l[0],c=l[1];return an(an({},o),{},{from:u,velocity:c})}return o},n);return r<1?Jf(function(a,o){return x_(o)?an(an({},o),{},{velocity:_y(o.velocity,i[a].velocity,r),from:_y(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const xbe=function(t,e,n,r,i){var a=Xve(t,e),o=a.reduce(function(b,v){return an(an({},b),{},v_({},v,[t[v],e[v]]))},{}),s=a.reduce(function(b,v){return an(an({},b),{},v_({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,u,c,f=function(){return null},d=function(){return Jf(function(v,x){return x.from},s)},m=function(){return!Object.values(s).filter(x_).length},g=function(v){u||(u=v);var x=v-u,w=x/n.dt;s=bbe(n,s,w),i(an(an(an({},t),e),d())),u=v,m()||(l=requestAnimationFrame(f))},y=function(v){c||(c=v);var x=(v-c)/r,w=Jf(function(_,k){return _y.apply(void 0,yj(k).concat([n(x)]))},o);if(i(an(an(an({},t),e),w)),x<1)l=requestAnimationFrame(f);else{var A=Jf(function(_,k){return _y.apply(void 0,yj(k).concat([n(1)]))},o);i(an(an(an({},t),e),A))}};return f=n.isStepper?g:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(t)}var wbe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _be(t,e){if(t==null)return{};var n=Sbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sbe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Rx(t){return Abe(t)||kbe(t)||Tbe(t)||Ebe()}function Ebe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tbe(t,e){if(t){if(typeof t=="string")return w_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w_(t,e)}}function kbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Abe(t){if(Array.isArray(t))return w_(t)}function w_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bj(Object(n),!0).forEach(function(r){_f(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _f(t,e,n){return e=NV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ibe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NV(r.key),r)}}function Obe(t,e,n){return e&&Ibe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NV(t){var e=Nbe(t,"string");return Cu(e)==="symbol"?e:String(e)}function Nbe(t,e){if(Cu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&__(t,e)}function __(t,e){return __=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},__(t,e)}function jbe(t){var e=Rbe();return function(){var r=Sy(t),i;if(e){var a=Sy(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return S_(this,i)}}function S_(t,e){if(e&&(Cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E_(t)}function E_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rbe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sy(t){return Sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sy(t)}var Ea=function(t){Cbe(n,t);var e=jbe(n);function n(r,i){var a;Pbe(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,c=o.to,f=o.steps,d=o.children,m=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(E_(a)),a.changeStyle=a.changeStyle.bind(E_(a)),!s||m<=0)return a.state={style:{}},typeof d=="function"&&(a.state={style:c}),S_(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof d=="function")return a.state={style:u},S_(a);a.state={style:l?_f({},l,u):u}}else a.state={style:{}};return a}return Obe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,f=a.from,d=this.state.style;if(s){if(!o){var m={style:l?_f({},l,c):c};this.state&&d&&(l&&d[l]!==c||!l&&d!==c)&&this.setState(m);return}if(!(Fve(i.to,c)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=g||u?f:i.to;if(this.state&&d){var b={style:l?_f({},l,y):y};(l&&d[l]!==y||!l&&d!==y)&&this.setState(b)}this.runAnimation(Br(Br({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,m=xbe(o,s,ube(u),l,this.changeStyle),g=function(){a.stopJSAnimation=m()};this.manager.start([d,c,g,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],c=u.style,f=u.duration,d=f===void 0?0:f,m=function(y,b,v){if(v===0)return y;var x=b.duration,w=b.easing,A=w===void 0?"ease":w,_=b.style,k=b.properties,S=b.onAnimationEnd,E=v>0?o[v-1]:b,P=k||Object.keys(_);if(typeof A=="function"||A==="spring")return[].concat(Rx(y),[a.runJSAnimation.bind(a,{from:E.style,to:_,duration:x,easing:A}),x]);var N=pj(P,x,A),O=Br(Br(Br({},E.style),_),{},{transition:N});return[].concat(Rx(y),[O,x,S]).filter(Qve)};return this.manager.start([l].concat(Rx(o.reduce(m,[c,Math.max(d,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Gve());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,m=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var y=s?_f({},s,l):l,b=pj(Object.keys(y),o,u);g.start([c,a,Br(Br({},y),{},{transition:b}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=_be(i,wbe),u=M.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!s||u===0||o<=0)return a;var f=function(m){var g=m.props,y=g.style,b=y===void 0?{}:y,v=g.className,x=M.cloneElement(m,Br(Br({},l),{},{style:Br(Br({},b),c),className:v}));return x};return u===1?f(M.Children.only(a)):z.createElement("div",null,M.Children.map(a,function(d){return f(d)}))}}]),n}(M.PureComponent);Ea.displayName="Animate";Ea.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ea.propTypes={from:te.oneOfType([te.object,te.string]),to:te.oneOfType([te.object,te.string]),attributeName:te.string,duration:te.number,begin:te.number,easing:te.oneOfType([te.string,te.func]),steps:te.arrayOf(te.shape({duration:te.number.isRequired,style:te.object.isRequired,easing:te.oneOfType([te.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),te.func]),properties:te.arrayOf("string"),onAnimationEnd:te.func})),children:te.oneOfType([te.node,te.func]),isActive:te.bool,canBegin:te.bool,onAnimationEnd:te.func,shouldReAnimate:te.bool,onAnimationStart:te.func,onAnimationReStart:te.func};function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function Ey(){return Ey=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ey.apply(this,arguments)}function Mbe(t,e){return Vbe(t)||Lbe(t,e)||Dbe(t,e)||$be()}function $be(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dbe(t,e){if(t){if(typeof t=="string")return xj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xj(t,e)}}function xj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Vbe(t){if(Array.isArray(t))return t}function wj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _j(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wj(Object(n),!0).forEach(function(r){Fbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fbe(t,e,n){return e=Ube(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ube(t){var e=Bbe(t,"string");return ah(e)=="symbol"?e:e+""}function Bbe(t,e){if(ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sj=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],d=0,m=4;d<m;d++)f[d]=a[d]>o?o:a[d];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(o>0&&a===+a&&a>0){var g=Math.min(o,a);c="M ".concat(e,",").concat(n+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*g,`
            L `).concat(e+r,",").concat(n+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*g," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},zbe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),c=Math.max(a,a+s),f=Math.min(o,o+l),d=Math.max(o,o+l);return r>=u&&r<=c&&i>=f&&i<=d}return!1},Wbe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Nk=function(e){var n=_j(_j({},Wbe),e),r=M.useRef(),i=M.useState(-1),a=Mbe(i,2),o=a[0],s=a[1];M.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&s(A)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,d=n.radius,m=n.className,g=n.animationEasing,y=n.animationDuration,b=n.animationBegin,v=n.isAnimationActive,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var w=Ye("recharts-rectangle",m);return x?z.createElement(Ea,{canBegin:o>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:y,animationEasing:g,isActive:x},function(A){var _=A.width,k=A.height,S=A.x,E=A.y;return z.createElement(Ea,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:v,easing:g},z.createElement("path",Ey({},Fe(n,!0),{className:w,d:Sj(S,E,_,k,d),ref:r})))}):z.createElement("path",Ey({},Fe(n,!0),{className:w,d:Sj(l,u,c,f,d)}))};function T_(){return T_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T_.apply(this,arguments)}var Ck=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=Ye("recharts-dot",a);return n===+n&&r===+r&&i===+i?M.createElement("circle",T_({},Fe(e,!1),Bg(e),{className:o,cx:n,cy:r,r:i})):null};function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}var qbe=["x","y","top","left","width","height","className"];function k_(){return k_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k_.apply(this,arguments)}function Ej(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hbe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ej(Object(n),!0).forEach(function(r){Gbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gbe(t,e,n){return e=Kbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kbe(t){var e=Ybe(t,"string");return oh(e)=="symbol"?e:e+""}function Ybe(t,e){if(oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xbe(t,e){if(t==null)return{};var n=Qbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Jbe=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},Zbe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,d=e.height,m=d===void 0?0:d,g=e.className,y=Xbe(e,qbe),b=Hbe({x:r,y:a,top:s,left:u,width:f,height:m},y);return!le(r)||!le(a)||!le(f)||!le(m)||!le(s)||!le(u)?null:z.createElement("path",k_({},Fe(b,!0),{className:Ye("recharts-cross",g),d:Jbe(r,a,f,m,s,u)}))},exe=H5,txe=exe(Object.getPrototypeOf,Object),nxe=txe,rxe=Pa,ixe=nxe,axe=Ia,oxe="[object Object]",sxe=Function.prototype,lxe=Object.prototype,CV=sxe.toString,uxe=lxe.hasOwnProperty,cxe=CV.call(Object);function fxe(t){if(!axe(t)||rxe(t)!=oxe)return!1;var e=ixe(t);if(e===null)return!0;var n=uxe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&CV.call(n)==cxe}var dxe=fxe;const hxe=at(dxe);var pxe=Pa,mxe=Ia,gxe="[object Boolean]";function yxe(t){return t===!0||t===!1||mxe(t)&&pxe(t)==gxe}var vxe=yxe;const bxe=at(vxe);function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function Ty(){return Ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ty.apply(this,arguments)}function xxe(t,e){return Exe(t)||Sxe(t,e)||_xe(t,e)||wxe()}function wxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _xe(t,e){if(t){if(typeof t=="string")return Tj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tj(t,e)}}function Tj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Exe(t){if(Array.isArray(t))return t}function kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Aj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kj(Object(n),!0).forEach(function(r){Txe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Txe(t,e,n){return e=kxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kxe(t){var e=Axe(t,"string");return sh(e)=="symbol"?e:e+""}function Axe(t,e){if(sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pj=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},Pxe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ixe=function(e){var n=Aj(Aj({},Pxe),e),r=M.useRef(),i=M.useState(-1),a=xxe(i,2),o=a[0],s=a[1];M.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&s(w)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,d=n.height,m=n.className,g=n.animationEasing,y=n.animationDuration,b=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||d!==+d||c===0&&f===0||d===0)return null;var x=Ye("recharts-trapezoid",m);return v?z.createElement(Ea,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:d,x:l,y:u},duration:y,animationEasing:g,isActive:v},function(w){var A=w.upperWidth,_=w.lowerWidth,k=w.height,S=w.x,E=w.y;return z.createElement(Ea,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:g},z.createElement("path",Ty({},Fe(n,!0),{className:x,d:Pj(S,E,A,_,k),ref:r})))}):z.createElement("g",null,z.createElement("path",Ty({},Fe(n,!0),{className:x,d:Pj(l,u,c,f,d)})))},Oxe=["option","shapeType","propTransformer","activeClassName","isActive"];function lh(t){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(t)}function Nxe(t,e){if(t==null)return{};var n=Cxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ij(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ky(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ij(Object(n),!0).forEach(function(r){jxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ij(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jxe(t,e,n){return e=Rxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rxe(t){var e=Mxe(t,"string");return lh(e)=="symbol"?e:e+""}function Mxe(t,e){if(lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $xe(t,e){return ky(ky({},e),t)}function Dxe(t,e){return t==="symbols"}function Oj(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return z.createElement(Nk,n);case"trapezoid":return z.createElement(Ixe,n);case"sector":return z.createElement(wV,n);case"symbols":if(Dxe(e))return z.createElement(XT,n);break;default:return null}}function Lxe(t){return M.isValidElement(t)?t.props:t}function Vxe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?$xe:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=Nxe(t,Oxe),u;if(M.isValidElement(e))u=M.cloneElement(e,ky(ky({},l),Lxe(e)));else if($e(e))u=e(l);else if(hxe(e)&&!bxe(e)){var c=i(e,l);u=z.createElement(Oj,{shapeType:n,elementProps:c})}else{var f=l;u=z.createElement(Oj,{shapeType:n,elementProps:f})}return s?z.createElement(wt,{className:o},u):u}function Wv(t,e){return e!=null&&"trapezoids"in t.props}function qv(t,e){return e!=null&&"sectors"in t.props}function uh(t,e){return e!=null&&"points"in t.props}function Fxe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function Uxe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Bxe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function zxe(t,e){var n;return Wv(t,e)?n=Fxe:qv(t,e)?n=Uxe:uh(t,e)&&(n=Bxe),n}function Wxe(t,e){var n;return Wv(t,e)?n="trapezoids":qv(t,e)?n="sectors":uh(t,e)&&(n="points"),n}function qxe(t,e){if(Wv(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(qv(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return uh(t,e)?e.payload:{}}function Hxe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Wxe(n,e),a=qxe(n,e),o=r.filter(function(l,u){var c=Hd(a,l),f=n.props[i].filter(function(g){var y=zxe(n,e);return y(g,e)}),d=n.props[i].indexOf(f[f.length-1]),m=u===d;return c&&m}),s=r.indexOf(o[o.length-1]);return s}var Gxe=Math.ceil,Kxe=Math.max;function Yxe(t,e,n,r){for(var i=-1,a=Kxe(Gxe((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var Xxe=Yxe,Qxe=f6,Nj=1/0,Jxe=17976931348623157e292;function Zxe(t){if(!t)return t===0?t:0;if(t=Qxe(t),t===Nj||t===-Nj){var e=t<0?-1:1;return e*Jxe}return t===t?t:0}var jV=Zxe,ewe=Xxe,twe=jv,Mx=jV;function nwe(t){return function(e,n,r){return r&&typeof r!="number"&&twe(e,n,r)&&(n=r=void 0),e=Mx(e),n===void 0?(n=e,e=0):n=Mx(n),r=r===void 0?e<n?1:-1:Mx(r),ewe(e,n,r,t)}}var rwe=nwe,iwe=rwe,awe=iwe(),owe=awe;const Ay=at(owe);function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}function Cj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cj(Object(n),!0).forEach(function(r){RV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RV(t,e,n){return e=swe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function swe(t){var e=lwe(t,"string");return ch(e)=="symbol"?e:e+""}function lwe(t,e){if(ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uwe=["Webkit","Moz","O","ms"],cwe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=uwe.reduce(function(a,o){return jj(jj({},a),{},RV({},o+r,n))},{});return i[e]=n,i};function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function Py(){return Py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Py.apply(this,arguments)}function Rj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $x(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rj(Object(n),!0).forEach(function(r){rr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$V(r.key),r)}}function dwe(t,e,n){return e&&Mj(t.prototype,e),n&&Mj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hwe(t,e,n){return e=Iy(e),pwe(t,MV()?Reflect.construct(e,n||[],Iy(t).constructor):e.apply(t,n))}function pwe(t,e){if(e&&(ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mwe(t)}function mwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MV=function(){return!!t})()}function Iy(t){return Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Iy(t)}function gwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A_(t,e)}function A_(t,e){return A_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},A_(t,e)}function rr(t,e,n){return e=$V(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $V(t){var e=ywe(t,"string");return ju(e)=="symbol"?e:e+""}function ywe(t,e){if(ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vwe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Yf().domain(Ay(0,l)).range([a,a+o-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},$j=function(e){return e.changedTouches&&!!e.changedTouches.length},Ru=function(t){function e(n){var r;return fwe(this,e),r=hwe(this,e,[n]),rr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),rr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),rr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),rr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),rr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),rr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),rr(r,"handleSlideDragStart",function(i){var a=$j(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return gwe(e,t),dwe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,a),d=Math.max(i,a),m=e.getIndexInRange(o,f),g=e.getIndexInRange(o,d);return{startIndex:m-m%l,endIndex:g===c?c:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=mr(a[r],s,r);return $e(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,d=l.startIndex,m=l.endIndex,g=l.onChange,y=r.pageX-a;y>0?y=Math.min(y,u+c-f-s,u+c-f-o):y<0&&(y=Math.max(y,u-o,u-s));var b=this.getIndex({startX:o+y,endX:s+y});(b.startIndex!==d||b.endIndex!==m)&&g&&g(b),this.setState({startX:o+y,endX:s+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=$j(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],c=this.props,f=c.x,d=c.width,m=c.travellerWidth,g=c.onChange,y=c.gap,b=c.data,v={startX:this.state.startX,endX:this.state.endX},x=r.pageX-a;x>0?x=Math.min(x,f+d-m-u):x<0&&(x=Math.max(x,f-u)),v[o]=u+x;var w=this.getIndex(v),A=w.startIndex,_=w.endIndex,k=function(){var E=b.length-1;return o==="startX"&&(s>l?A%y===0:_%y===0)||s<l&&_===E||o==="endX"&&(s>l?_%y===0:A%y===0)||s>l&&_===E};this.setState(rr(rr({},o,u+x),"brushMoveStartX",r.pageX),function(){g&&k()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var d=f+r;if(!(d===-1||d>=s.length)){var m=s[d];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(rr({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,u=r.stroke;return z.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=M.Children.only(u);return f?z.cloneElement(f,{x:i,y:a,width:o,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,d=l.traveller,m=l.ariaLabel,g=l.data,y=l.startIndex,b=l.endIndex,v=Math.max(r,this.props.x),x=$x($x({},Fe(this.props,!1)),{},{x:v,y:u,width:c,height:f}),w=m||"Min value: ".concat((a=g[y])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=g[b])===null||o===void 0?void 0:o.name);return z.createElement(wt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),s.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,x))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:o,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,d=c.endX,m=5,g={pointerEvents:"none",fill:u};return z.createElement(wt,{className:"recharts-brush-texts"},z.createElement(ry,Py({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-m,y:o+s/2},g),this.getTextOfTick(i)),z.createElement(ry,Py({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+m,y:o+s/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,d=this.state,m=d.startX,g=d.endX,y=d.isTextActive,b=d.isSlideMoving,v=d.isTravellerMoving,x=d.isTravellerFocused;if(!i||!i.length||!le(s)||!le(l)||!le(u)||!le(c)||u<=0||c<=0)return null;var w=Ye("recharts-brush",a),A=z.Children.count(o)===1,_=cwe("userSelect","none");return z.createElement(wt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(y||b||v||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,u=Math.floor(a+s/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),z.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return z.isValidElement(r)?a=z.cloneElement(r,i):$e(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return $x({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?vwe({data:a,width:o,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var d=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}(M.PureComponent);rr(Ru,"displayName","Brush");rr(Ru,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var bwe=rk;function xwe(t,e){var n;return bwe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var wwe=xwe,_we=L5,Swe=Bo,Ewe=wwe,Twe=tr,kwe=jv;function Awe(t,e,n){var r=Twe(t)?_we:Ewe;return n&&kwe(t,e,n)&&(e=void 0),r(t,Swe(e))}var Pwe=Awe;const Iwe=at(Pwe);var ji=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},Dj=o6;function Owe(t,e,n){e=="__proto__"&&Dj?Dj(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Nwe=Owe,Cwe=Nwe,jwe=i6,Rwe=Bo;function Mwe(t,e){var n={};return e=Rwe(e),jwe(t,function(r,i,a){Cwe(n,i,e(r,i,a))}),n}var $we=Mwe;const Dwe=at($we);function Lwe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Vwe=Lwe,Fwe=rk;function Uwe(t,e){var n=!0;return Fwe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var Bwe=Uwe,zwe=Vwe,Wwe=Bwe,qwe=Bo,Hwe=tr,Gwe=jv;function Kwe(t,e,n){var r=Hwe(t)?zwe:Wwe;return n&&Gwe(t,e,n)&&(e=void 0),r(t,qwe(e))}var Ywe=Kwe;const DV=at(Ywe);var Xwe=["x","y"];function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function P_(){return P_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P_.apply(this,arguments)}function Lj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lj(Object(n),!0).forEach(function(r){Qwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qwe(t,e,n){return e=Jwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jwe(t){var e=Zwe(t,"string");return fh(e)=="symbol"?e:e+""}function Zwe(t,e){if(fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e1e(t,e){if(t==null)return{};var n=t1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function t1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function n1e(t,e){var n=t.x,r=t.y,i=e1e(t,Xwe),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),d=parseInt(f,10);return sf(sf(sf(sf(sf({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:d,name:e.name,radius:e.radius})}function Vj(t){return z.createElement(Vxe,P_({shapeType:"rectangle",propTransformer:n1e,activeClassName:"recharts-active-bar"},t))}var r1e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=le(r)||mne(r);return a?e(r,i):(a||Hs(),n)}},i1e=["value","background"],LV;function Mu(t){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(t)}function a1e(t,e){if(t==null)return{};var n=o1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function o1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Oy(){return Oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oy.apply(this,arguments)}function Fj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fj(Object(n),!0).forEach(function(r){oo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FV(r.key),r)}}function l1e(t,e,n){return e&&Uj(t.prototype,e),n&&Uj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function u1e(t,e,n){return e=Ny(e),c1e(t,VV()?Reflect.construct(e,n||[],Ny(t).constructor):e.apply(t,n))}function c1e(t,e){if(e&&(Mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f1e(t)}function f1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VV=function(){return!!t})()}function Ny(t){return Ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ny(t)}function d1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I_(t,e)}function I_(t,e){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},I_(t,e)}function oo(t,e,n){return e=FV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FV(t){var e=h1e(t,"string");return Mu(e)=="symbol"?e:e+""}function h1e(t,e){if(Mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xh=function(t){function e(){var n;s1e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=u1e(this,e,[].concat(i)),oo(n,"state",{isAnimationFinished:!1}),oo(n,"id",Wh("recharts-bar-")),oo(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),oo(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return d1e(e,t),l1e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,c=Fe(this.props,!1);return r&&r.map(function(f,d){var m=d===l,g=m?u:o,y=Dt(Dt(Dt({},c),f),{},{isActive:m,option:g,index:d,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return z.createElement(wt,Oy({className:"recharts-bar-rectangle"},zg(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(d)}),z.createElement(Vj,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,d=this.state.prevData;return z.createElement(Ea,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,y=a.map(function(b,v){var x=d&&d[v];if(x){var w=Er(x.x,b.x),A=Er(x.y,b.y),_=Er(x.width,b.width),k=Er(x.height,b.height);return Dt(Dt({},b),{},{x:w(g),y:A(g),width:_(g),height:k(g)})}if(o==="horizontal"){var S=Er(0,b.height),E=S(g);return Dt(Dt({},b),{},{y:b.y+b.height-E,height:E})}var P=Er(0,b.width),N=P(g);return Dt(Dt({},b),{},{width:N})});return z.createElement(wt,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Hd(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=Fe(this.props.background,!1);return a.map(function(u,c){u.value;var f=u.background,d=a1e(u,i1e);if(!f)return null;var m=Dt(Dt(Dt(Dt(Dt({},d),{},{fill:"#eee"},f),l),zg(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:c,className:"recharts-bar-background-rectangle"});return z.createElement(Vj,Oy({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=oi(c,zv);if(!f)return null;var d=u==="vertical"?o[0].height/2:o[0].width/2,m=function(b,v){var x=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:x,errorVal:mr(b,v)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return z.createElement(wt,g,f.map(function(y){return z.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:d,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,d=r.height,m=r.isAnimationActive,g=r.background,y=r.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,v=Ye("recharts-bar",o),x=s&&s.allowDataOverflow,w=l&&l.allowDataOverflow,A=x||w,_=qe(y)?this.id:y;return z.createElement(wt,{className:v},x||w?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(_)},z.createElement("rect",{x:x?u:u-f/2,y:w?c:c-d/2,width:x?f:f*2,height:w?d:d*2}))):null,z.createElement(wt,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(_,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,_),(!m||b)&&So.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(M.PureComponent);LV=Xh;oo(Xh,"displayName","Bar");oo(Xh,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!xc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});oo(Xh,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,d=t.offset,m=Vye(r,n);if(!m)return null;var g=e.layout,y=n.type.defaultProps,b=y!==void 0?Dt(Dt({},y),n.props):n.props,v=b.dataKey,x=b.children,w=b.minPointSize,A=g==="horizontal"?o:a,_=u?A.scale.domain():null,k=Gye({numericAxis:A}),S=oi(x,h6),E=f.map(function(P,N){var O,C,j,D,R,$;u?O=Fye(u[c+N],_):(O=mr(P,v),Array.isArray(O)||(O=[k,O]));var F=r1e(w,LV.defaultProps.minPointSize)(O[1],N);if(g==="horizontal"){var V,U=[o.scale(O[0]),o.scale(O[1])],W=U[0],q=U[1];C=zC({axis:a,ticks:s,bandSize:i,offset:m.offset,entry:P,index:N}),j=(V=q??W)!==null&&V!==void 0?V:void 0,D=m.size;var B=W-q;if(R=Number.isNaN(B)?0:B,$={x:C,y:o.y,width:D,height:o.height},Math.abs(F)>0&&Math.abs(R)<Math.abs(F)){var K=Zr(R||F)*(Math.abs(F)-Math.abs(R));j-=K,R+=K}}else{var re=[a.scale(O[0]),a.scale(O[1])],fe=re[0],ve=re[1];if(C=fe,j=zC({axis:o,ticks:l,bandSize:i,offset:m.offset,entry:P,index:N}),D=ve-fe,R=m.size,$={x:a.x,y:j,width:a.width,height:R},Math.abs(F)>0&&Math.abs(D)<Math.abs(F)){var Ae=Zr(D||F)*(Math.abs(F)-Math.abs(D));D+=Ae}}return Dt(Dt(Dt({},P),{},{x:C,y:j,width:D,height:R,value:u?O:O[1],payload:P,background:$},S&&S[N]&&S[N].props),{},{tooltipPayload:[vV(n,P)],tooltipPosition:{x:C+D/2,y:j+R/2}})});return Dt({data:E,layout:g},d)});function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}function p1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UV(r.key),r)}}function m1e(t,e,n){return e&&Bj(t.prototype,e),n&&Bj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zj(Object(n),!0).forEach(function(r){Hv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hv(t,e,n){return e=UV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UV(t){var e=g1e(t,"string");return dh(e)=="symbol"?e:e+""}function g1e(t,e){if(dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y1e=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!ar(u,Xh);return c.reduce(function(m,g){var y=n[g],b=y.orientation,v=y.domain,x=y.padding,w=x===void 0?{}:x,A=y.mirror,_=y.reversed,k="".concat(b).concat(A?"Mirror":""),S,E,P,N,O;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var C=v[1]-v[0],j=1/0,D=y.categoricalDomain.sort(vne);if(D.forEach(function(re,fe){fe>0&&(j=Math.min((re||0)-(D[fe-1]||0),j))}),Number.isFinite(j)){var R=j/C,$=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(S=R*$/2),y.padding==="no-gap"){var F=Ws(e.barCategoryGap,R*$),V=R*$/2;S=V-F-(V-F)/$*F}}}i==="xAxis"?E=[r.left+(w.left||0)+(S||0),r.left+r.width-(w.right||0)-(S||0)]:i==="yAxis"?E=l==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(S||0),r.top+r.height-(w.bottom||0)-(S||0)]:E=y.range,_&&(E=[E[1],E[0]]);var U=Dye(y,a,d),W=U.scale,q=U.realScaleType;W.domain(v).range(E),Lye(W);var B=Hye(W,qr(qr({},y),{},{realScaleType:q}));i==="xAxis"?(O=b==="top"&&!A||b==="bottom"&&A,P=r.left,N=f[k]-O*y.height):i==="yAxis"&&(O=b==="left"&&!A||b==="right"&&A,P=f[k]-O*y.width,N=r.top);var K=qr(qr(qr({},y),B),{},{realScaleType:q,x:P,y:N,scale:W,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return K.bandSize=yy(K,B),!y.hide&&i==="xAxis"?f[k]+=(O?-1:1)*K.height:y.hide||(f[k]+=(O?-1:1)*K.width),qr(qr({},m),{},Hv({},g,K))},{})},BV=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},v1e=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return BV({x:n,y:r},{x:i,y:a})},zV=function(){function t(e){p1e(this,t),this.scale=e}return m1e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Hv(zV,"EPS",1e-4);var jk=function(e){var n=Object.keys(e).reduce(function(r,i){return qr(qr({},r),{},Hv({},i,zV.create(e[i])))},{});return qr(qr({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return Dwe(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return DV(i,function(a,o){return n[o].isInRange(a)})}})};function b1e(t){return(t%180+180)%180}var x1e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=b1e(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},w1e=Bo,_1e=qh,S1e=Nv;function E1e(t){return function(e,n,r){var i=Object(e);if(!_1e(e)){var a=w1e(n);e=S1e(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var T1e=E1e,k1e=jV;function A1e(t){var e=k1e(t),n=e%1;return e===e?n?e-n:e:0}var P1e=A1e,I1e=J5,O1e=Bo,N1e=P1e,C1e=Math.max;function j1e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:N1e(n);return i<0&&(i=C1e(r+i,0)),I1e(t,O1e(e),i)}var R1e=j1e,M1e=T1e,$1e=R1e,D1e=M1e($1e),L1e=D1e;const V1e=at(L1e);var F1e=wte(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Rk=M.createContext(void 0),Mk=M.createContext(void 0),WV=M.createContext(void 0),qV=M.createContext({}),HV=M.createContext(void 0),GV=M.createContext(0),KV=M.createContext(0),Wj=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,c=F1e(a);return z.createElement(Rk.Provider,{value:r},z.createElement(Mk.Provider,{value:i},z.createElement(qV.Provider,{value:a},z.createElement(WV.Provider,{value:c},z.createElement(HV.Provider,{value:o},z.createElement(GV.Provider,{value:u},z.createElement(KV.Provider,{value:l},s)))))))},U1e=function(){return M.useContext(HV)},YV=function(e){var n=M.useContext(Rk);n==null&&Hs();var r=n[e];return r==null&&Hs(),r},B1e=function(){var e=M.useContext(Rk);return eo(e)},z1e=function(){var e=M.useContext(Mk),n=V1e(e,function(r){return DV(r.domain,Number.isFinite)});return n||eo(e)},XV=function(e){var n=M.useContext(Mk);n==null&&Hs();var r=n[e];return r==null&&Hs(),r},W1e=function(){var e=M.useContext(WV);return e},q1e=function(){return M.useContext(qV)},$k=function(){return M.useContext(KV)},Dk=function(){return M.useContext(GV)};function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}function H1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JV(r.key),r)}}function K1e(t,e,n){return e&&G1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y1e(t,e,n){return e=Cy(e),X1e(t,QV()?Reflect.construct(e,n||[],Cy(t).constructor):e.apply(t,n))}function X1e(t,e){if(e&&($u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q1e(t)}function Q1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QV=function(){return!!t})()}function Cy(t){return Cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cy(t)}function J1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O_(t,e)}function O_(t,e){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},O_(t,e)}function qj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qj(Object(n),!0).forEach(function(r){Lk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lk(t,e,n){return e=JV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JV(t){var e=Z1e(t,"string");return $u(e)=="symbol"?e:e+""}function Z1e(t,e){if($u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function e_e(t,e){return i_e(t)||r_e(t,e)||n_e(t,e)||t_e()}function t_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n_e(t,e){if(t){if(typeof t=="string")return Gj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gj(t,e)}}function Gj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function i_e(t){if(Array.isArray(t))return t}function N_(){return N_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N_.apply(this,arguments)}var a_e=function(e,n){var r;return z.isValidElement(e)?r=z.cloneElement(e,n):$e(e)?r=e(n):r=z.createElement("line",N_({},n,{className:"recharts-reference-line-line"})),r},o_e=function(e,n,r,i,a,o,s,l,u){var c=a.x,f=a.y,d=a.width,m=a.height;if(r){var g=u.y,y=e.y.apply(g,{position:o});if(ji(u,"discard")&&!e.y.isInRange(y))return null;var b=[{x:c+d,y},{x:c,y}];return l==="left"?b.reverse():b}if(n){var v=u.x,x=e.x.apply(v,{position:o});if(ji(u,"discard")&&!e.x.isInRange(x))return null;var w=[{x,y:f+m},{x,y:f}];return s==="top"?w.reverse():w}if(i){var A=u.segment,_=A.map(function(k){return e.apply(k,{position:o})});return ji(u,"discard")&&Iwe(_,function(k){return!e.isInRange(k)})?null:_}return null};function s_e(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=U1e(),c=YV(i),f=XV(a),d=W1e();if(!u||!d)return null;ca(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=jk({x:c.scale,y:f.scale}),g=Kt(e),y=Kt(n),b=r&&r.length===2,v=o_e(m,g,y,b,d,t.position,c.orientation,f.orientation,t);if(!v)return null;var x=e_e(v,2),w=x[0],A=w.x,_=w.y,k=x[1],S=k.x,E=k.y,P=ji(t,"hidden")?"url(#".concat(u,")"):void 0,N=Hj(Hj({clipPath:P},Fe(t,!0)),{},{x1:A,y1:_,x2:S,y2:E});return z.createElement(wt,{className:Ye("recharts-reference-line",s)},a_e(o,N),_n.renderCallByParent(t,v1e({x1:A,y1:_,x2:S,y2:E})))}var Vk=function(t){function e(){return H1e(this,e),Y1e(this,e,arguments)}return J1e(e,t),K1e(e,[{key:"render",value:function(){return z.createElement(s_e,this.props)}}])}(z.Component);Lk(Vk,"displayName","ReferenceLine");Lk(Vk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function C_(){return C_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C_.apply(this,arguments)}function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function Kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kj(Object(n),!0).forEach(function(r){Gv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eF(r.key),r)}}function c_e(t,e,n){return e&&u_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function f_e(t,e,n){return e=jy(e),d_e(t,ZV()?Reflect.construct(e,n||[],jy(t).constructor):e.apply(t,n))}function d_e(t,e){if(e&&(Du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h_e(t)}function h_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZV=function(){return!!t})()}function jy(t){return jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jy(t)}function p_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j_(t,e)}function j_(t,e){return j_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},j_(t,e)}function Gv(t,e,n){return e=eF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eF(t){var e=m_e(t,"string");return Du(e)=="symbol"?e:e+""}function m_e(t,e){if(Du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var g_e=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=jk({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return ji(e,"discard")&&!o.isInRange(s)?null:s},Kv=function(t){function e(){return l_e(this,e),f_e(this,e,arguments)}return p_e(e,t),c_e(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,u=Kt(i),c=Kt(a);if(ca(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=g_e(this.props);if(!f)return null;var d=f.x,m=f.y,g=this.props,y=g.shape,b=g.className,v=ji(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=Yj(Yj({clipPath:v},Fe(this.props,!0)),{},{cx:d,cy:m});return z.createElement(wt,{className:Ye("recharts-reference-dot",b)},e.renderDot(y,x),_n.renderCallByParent(this.props,{x:d-o,y:m-o,width:2*o,height:2*o}))}}])}(z.Component);Gv(Kv,"displayName","ReferenceDot");Gv(Kv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Gv(Kv,"renderDot",function(t,e){var n;return z.isValidElement(t)?n=z.cloneElement(t,e):$e(t)?n=t(e):n=z.createElement(Ck,C_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function R_(){return R_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R_.apply(this,arguments)}function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}function Xj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xj(Object(n),!0).forEach(function(r){Yv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nF(r.key),r)}}function b_e(t,e,n){return e&&v_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function x_e(t,e,n){return e=Ry(e),w_e(t,tF()?Reflect.construct(e,n||[],Ry(t).constructor):e.apply(t,n))}function w_e(t,e){if(e&&(Lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return __e(t)}function __e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tF=function(){return!!t})()}function Ry(t){return Ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ry(t)}function S_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M_(t,e)}function M_(t,e){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M_(t,e)}function Yv(t,e,n){return e=nF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nF(t){var e=E_e(t,"string");return Lu(e)=="symbol"?e:e+""}function E_e(t,e){if(Lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var T_e=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,c=a.xAxis,f=a.yAxis;if(!c||!f)return null;var d=jk({x:c.scale,y:f.scale}),m={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},g={x:n?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return ji(a,"discard")&&(!d.isInRange(m)||!d.isInRange(g))?null:BV(m,g)},Xv=function(t){function e(){return y_e(this,e),x_e(this,e,arguments)}return S_e(e,t),b_e(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;ca(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Kt(i),d=Kt(a),m=Kt(o),g=Kt(s),y=this.props.shape;if(!f&&!d&&!m&&!g&&!y)return null;var b=T_e(f,d,m,g,this.props);if(!b&&!y)return null;var v=ji(this.props,"hidden")?"url(#".concat(c,")"):void 0;return z.createElement(wt,{className:Ye("recharts-reference-area",l)},e.renderRect(y,Qj(Qj({clipPath:v},Fe(this.props,!0)),b)),_n.renderCallByParent(this.props,b))}}])}(z.Component);Yv(Xv,"displayName","ReferenceArea");Yv(Xv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Yv(Xv,"renderRect",function(t,e){var n;return z.isValidElement(t)?n=z.cloneElement(t,e):$e(t)?n=t(e):n=z.createElement(Nk,R_({},e,{className:"recharts-reference-area-rect"})),n});function rF(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function k_e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return x1e(r,n)}function A_e(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function My(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function P_e(t,e){return rF(t,e+1)}function I_e(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,u=1,c=o,f=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:rF(r,u)};var y=l,b,v=function(){return b===void 0&&(b=n(g,y)),b},x=g.coordinate,w=l===0||My(t,x,v,c,s);w||(l=0,c=o,u+=1),w&&(c=x+t*(v()/2+i),l+=u)},d;u<=a.length;)if(d=f(),d)return d.v;return[]}function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function Jj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jj(Object(n),!0).forEach(function(r){O_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O_e(t,e,n){return e=N_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N_e(t){var e=C_e(t,"string");return hh(e)=="symbol"?e:e+""}function C_e(t,e){if(hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j_e(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(d){var m=a[d],g,y=function(){return g===void 0&&(g=n(m,d)),g};if(d===o-1){var b=t*(m.coordinate+t*y()/2-l);a[d]=m=vn(vn({},m),{},{tickCoord:b>0?m.coordinate-b*t:m.coordinate})}else a[d]=m=vn(vn({},m),{},{tickCoord:m.coordinate});var v=My(t,m.tickCoord,y,s,l);v&&(l=m.tickCoord-t*(y()/2+i),a[d]=vn(vn({},m),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function R_e(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var c=r[s-1],f=n(c,s-1),d=t*(c.coordinate+t*f/2-u);o[s-1]=c=vn(vn({},c),{},{tickCoord:d>0?c.coordinate-d*t:c.coordinate});var m=My(t,c.tickCoord,function(){return f},l,u);m&&(u=c.tickCoord-t*(f/2+i),o[s-1]=vn(vn({},c),{},{isShow:!0}))}for(var g=a?s-1:s,y=function(x){var w=o[x],A,_=function(){return A===void 0&&(A=n(w,x)),A};if(x===0){var k=t*(w.coordinate-t*_()/2-l);o[x]=w=vn(vn({},w),{},{tickCoord:k<0?w.coordinate-k*t:w.coordinate})}else o[x]=w=vn(vn({},w),{},{tickCoord:w.coordinate});var S=My(t,w.tickCoord,_,l,u);S&&(l=w.tickCoord+t*(_()/2+i),o[x]=vn(vn({},w),{},{isShow:!0}))},b=0;b<g;b++)y(b);return o}function Fk(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(le(l)||xc.isSsr)return P_e(i,typeof l=="number"&&le(l)?l:0);var d=[],m=s==="top"||s==="bottom"?"width":"height",g=c&&m==="width"?Kf(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(w,A){var _=$e(u)?u(w.value,A):w.value;return m==="width"?k_e(Kf(_,{fontSize:e,letterSpacing:n}),g,f):Kf(_,{fontSize:e,letterSpacing:n})[m]},b=i.length>=2?Zr(i[1].coordinate-i[0].coordinate):1,v=A_e(a,b,m);return l==="equidistantPreserveStart"?I_e(b,v,y,i,o):(l==="preserveStart"||l==="preserveStartEnd"?d=R_e(b,v,y,i,o,l==="preserveStartEnd"):d=j_e(b,v,y,i,o),d.filter(function(x){return x.isShow}))}var M_e=["viewBox"],$_e=["viewBox"],D_e=["ticks"];function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}function $l(){return $l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$l.apply(this,arguments)}function Zj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zj(Object(n),!0).forEach(function(r){Uk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dx(t,e){if(t==null)return{};var n=L_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function L_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function V_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aF(r.key),r)}}function F_e(t,e,n){return e&&eR(t.prototype,e),n&&eR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function U_e(t,e,n){return e=$y(e),B_e(t,iF()?Reflect.construct(e,n||[],$y(t).constructor):e.apply(t,n))}function B_e(t,e){if(e&&(Vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z_e(t)}function z_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iF=function(){return!!t})()}function $y(t){return $y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$y(t)}function W_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$_(t,e)}function $_(t,e){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$_(t,e)}function Uk(t,e,n){return e=aF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aF(t){var e=q_e(t,"string");return Vu(e)=="symbol"?e:e+""}function q_e(t,e){if(Vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ec=function(t){function e(n){var r;return V_e(this,e),r=U_e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return W_e(e,t),F_e(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=Dx(r,M_e),s=this.props,l=s.viewBox,u=Dx(s,$_e);return!tu(a,l)||!tu(o,u)||!tu(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,d=i.tickMargin,m,g,y,b,v,x,w=f?-1:1,A=r.tickSize||c,_=le(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=g=r.coordinate,b=o+ +!f*l,y=b-w*A,x=y-w*d,v=_;break;case"left":y=b=r.coordinate,g=a+ +!f*s,m=g-w*A,v=m-w*d,x=_;break;case"right":y=b=r.coordinate,g=a+ +f*s,m=g+w*A,v=m+w*d,x=_;break;default:m=g=r.coordinate,b=o+ +f*l,y=b+w*A,x=y+w*d,v=_;break}return{line:{x1:m,y1:y,x2:g,y2:b},tick:{x:v,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=Wt(Wt(Wt({},Fe(this.props,!1)),Fe(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);f=Wt(Wt({},f),{},{x1:i,y1:a+d*s,x2:i+o,y2:a+d*s})}else{var m=+(l==="left"&&!u||l==="right"&&u);f=Wt(Wt({},f),{},{x1:i+m*o,y1:a,x2:i+m*o,y2:a+s})}return z.createElement("line",$l({},f,{className:Ye("recharts-cartesian-axis-line",Cr(c,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,d=s.unit,m=Fk(Wt(Wt({},this.props),{},{ticks:r}),i,a),g=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),b=Fe(this.props,!1),v=Fe(c,!1),x=Wt(Wt({},b),{},{fill:"none"},Fe(l,!1)),w=m.map(function(A,_){var k=o.getTickLineCoord(A),S=k.line,E=k.tick,P=Wt(Wt(Wt(Wt({textAnchor:g,verticalAnchor:y},b),{},{stroke:"none",fill:u},v),E),{},{index:_,payload:A,visibleTicksCount:m.length,tickFormatter:f});return z.createElement(wt,$l({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},zg(o.props,A,_)),l&&z.createElement("line",$l({},x,S,{className:Ye("recharts-cartesian-axis-tick-line",Cr(l,"className"))})),c&&e.renderTickItem(c,P,"".concat($e(f)?f(A.value,_):A.value).concat(d||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,d=f.ticks,m=Dx(f,D_e),g=d;return $e(l)&&(g=d&&d.length>0?l(this.props):l(m)),o<=0||s<=0||!g||!g.length?null:z.createElement(wt,{className:Ye("recharts-cartesian-axis",u),ref:function(b){r.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),_n.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=Ye(i.className,"recharts-cartesian-axis-tick-value");return z.isValidElement(r)?o=z.cloneElement(r,Wt(Wt({},i),{},{className:s})):$e(r)?o=r(Wt(Wt({},i),{},{className:s})):o=z.createElement(ry,$l({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(M.Component);Uk(Ec,"displayName","CartesianAxis");Uk(Ec,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var H_e=["x1","y1","x2","y2","key"],G_e=["offset"];function Gs(t){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gs(t)}function tR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(n),!0).forEach(function(r){K_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K_e(t,e,n){return e=Y_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y_e(t){var e=X_e(t,"string");return Gs(e)=="symbol"?e:e+""}function X_e(t,e){if(Gs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bs(){return bs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bs.apply(this,arguments)}function nR(t,e){if(t==null)return{};var n=Q_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Q_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var J_e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return z.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function oF(t,e){var n;if(z.isValidElement(t))n=z.cloneElement(t,e);else if($e(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=nR(e,H_e),u=Fe(l,!1);u.offset;var c=nR(u,G_e);n=z.createElement("line",bs({},c,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function Z_e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Sn(Sn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return oF(i,u)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function eSe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Sn(Sn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return oF(i,u)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function tSe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(d){return Math.round(d+i-i)}).sort(function(d,m){return d-m});i!==c[0]&&c.unshift(0);var f=c.map(function(d,m){var g=!c[m+1],y=g?i+o-d:c[m+1]-d;if(y<=0)return null;var b=m%e.length;return z.createElement("rect",{key:"react-".concat(m),y:d,x:r,height:y,width:a,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function nSe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(d){return Math.round(d+a-a)}).sort(function(d,m){return d-m});a!==c[0]&&c.unshift(0);var f=c.map(function(d,m){var g=!c[m+1],y=g?a+s-d:c[m+1]-d;if(y<=0)return null;var b=m%r.length;return z.createElement("rect",{key:"react-".concat(m),x:d,y:o,width:y,height:l,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var rSe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return gV(Fk(Sn(Sn(Sn({},Ec.defaultProps),r),{},{ticks:oa(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},iSe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return gV(Fk(Sn(Sn(Sn({},Ec.defaultProps),r),{},{ticks:oa(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},ml={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function sF(t){var e,n,r,i,a,o,s=$k(),l=Dk(),u=q1e(),c=Sn(Sn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ml.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:ml.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:ml.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:ml.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:ml.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:ml.verticalFill,x:le(t.x)?t.x:u.left,y:le(t.y)?t.y:u.top,width:le(t.width)?t.width:u.width,height:le(t.height)?t.height:u.height}),f=c.x,d=c.y,m=c.width,g=c.height,y=c.syncWithTicks,b=c.horizontalValues,v=c.verticalValues,x=B1e(),w=z1e();if(!le(m)||m<=0||!le(g)||g<=0||!le(f)||f!==+f||!le(d)||d!==+d)return null;var A=c.verticalCoordinatesGenerator||rSe,_=c.horizontalCoordinatesGenerator||iSe,k=c.horizontalPoints,S=c.verticalPoints;if((!k||!k.length)&&$e(_)){var E=b&&b.length,P=_({yAxis:w?Sn(Sn({},w),{},{ticks:E?b:w.ticks}):void 0,width:s,height:l,offset:u},E?!0:y);ca(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Gs(P),"]")),Array.isArray(P)&&(k=P)}if((!S||!S.length)&&$e(A)){var N=v&&v.length,O=A({xAxis:x?Sn(Sn({},x),{},{ticks:N?v:x.ticks}):void 0,width:s,height:l,offset:u},N?!0:y);ca(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Gs(O),"]")),Array.isArray(O)&&(S=O)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(J_e,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),z.createElement(Z_e,bs({},c,{offset:u,horizontalPoints:k,xAxis:x,yAxis:w})),z.createElement(eSe,bs({},c,{offset:u,verticalPoints:S,xAxis:x,yAxis:w})),z.createElement(tSe,bs({},c,{horizontalPoints:k})),z.createElement(nSe,bs({},c,{verticalPoints:S})))}sF.displayName="CartesianGrid";var aSe=["layout","type","stroke","connectNulls","isRange","ref"],oSe=["key"],lF;function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function uF(t,e){if(t==null)return{};var n=sSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xs(){return xs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xs.apply(this,arguments)}function rR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ua(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rR(Object(n),!0).forEach(function(r){Si(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fF(r.key),r)}}function uSe(t,e,n){return e&&iR(t.prototype,e),n&&iR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cSe(t,e,n){return e=Dy(e),fSe(t,cF()?Reflect.construct(e,n||[],Dy(t).constructor):e.apply(t,n))}function fSe(t,e){if(e&&(Fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dSe(t)}function dSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cF=function(){return!!t})()}function Dy(t){return Dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dy(t)}function hSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D_(t,e)}function D_(t,e){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D_(t,e)}function Si(t,e,n){return e=fF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fF(t){var e=pSe(t,"string");return Fu(e)=="symbol"?e:e+""}function pSe(t,e){if(Fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ho=function(t){function e(){var n;lSe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=cSe(this,e,[].concat(i)),Si(n,"state",{isAnimationFinished:!0}),Si(n,"id",Wh("recharts-area-")),Si(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),$e(o)&&o()}),Si(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),$e(o)&&o()}),n}return hSe(e,t),uSe(e,[{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var l=this.props,u=l.dot,c=l.points,f=l.dataKey,d=Fe(this.props,!1),m=Fe(u,!0),g=c.map(function(b,v){var x=Ua(Ua(Ua({key:"dot-".concat(v),r:3},d),m),{},{index:v,cx:b.x,cy:b.y,dataKey:f,value:b.value,payload:b.payload,points:c});return e.renderDotItem(u,x)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return z.createElement(wt,xs({className:"recharts-area-dots"},y),g)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].x,u=o[o.length-1].x,c=r*Math.abs(l-u),f=ao(o.map(function(d){return d.y||0}));return le(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(ao(a.map(function(d){return d.y||0})),f)),le(f)?z.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].y,u=o[o.length-1].y,c=r*Math.abs(l-u),f=ao(o.map(function(d){return d.x||0}));return le(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(ao(a.map(function(d){return d.x||0})),f)),le(f)?z.createElement("rect",{x:0,y:l<u?l:l-c,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,o){var s=this.props,l=s.layout,u=s.type,c=s.stroke,f=s.connectNulls,d=s.isRange;s.ref;var m=uF(s,aSe);return z.createElement(wt,{clipPath:a?"url(#clipPath-".concat(o,")"):null},z.createElement(Qf,xs({},Fe(m,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&z.createElement(Qf,xs({},Fe(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:r})),c!=="none"&&d&&z.createElement(Qf,xs({},Fe(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.baseLine,u=o.isAnimationActive,c=o.animationBegin,f=o.animationDuration,d=o.animationEasing,m=o.animationId,g=this.state,y=g.prevPoints,b=g.prevBaseLine;return z.createElement(Ea,{begin:c,duration:f,isActive:u,easing:d,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var x=v.t;if(y){var w=y.length/s.length,A=s.map(function(E,P){var N=Math.floor(P*w);if(y[N]){var O=y[N],C=Er(O.x,E.x),j=Er(O.y,E.y);return Ua(Ua({},E),{},{x:C(x),y:j(x)})}return E}),_;if(le(l)&&typeof l=="number"){var k=Er(b,l);_=k(x)}else if(qe(l)||gc(l)){var S=Er(b,0);_=S(x)}else _=l.map(function(E,P){var N=Math.floor(P*w);if(b[N]){var O=b[N],C=Er(O.x,E.x),j=Er(O.y,E.y);return Ua(Ua({},E),{},{x:C(x),y:j(x)})}return E});return a.renderAreaStatically(A,_,r,i)}return z.createElement(wt,null,z.createElement("defs",null,z.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(x))),z.createElement(wt,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,o=a.points,s=a.baseLine,l=a.isAnimationActive,u=this.state,c=u.prevPoints,f=u.prevBaseLine,d=u.totalLength;return l&&o&&o.length&&(!c&&d>0||!Hd(c,o)||!Hd(f,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.top,c=i.left,f=i.xAxis,d=i.yAxis,m=i.width,g=i.height,y=i.isAnimationActive,b=i.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,x=s.length===1,w=Ye("recharts-area",l),A=f&&f.allowDataOverflow,_=d&&d.allowDataOverflow,k=A||_,S=qe(b)?this.id:b,E=(r=Fe(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=E.r,N=P===void 0?3:P,O=E.strokeWidth,C=O===void 0?2:O,j=Ane(o)?o:{},D=j.clipDot,R=D===void 0?!0:D,$=N*2+C;return z.createElement(wt,{className:w},A||_?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(S)},z.createElement("rect",{x:A?c:c-m/2,y:_?u:u-g/2,width:A?m:m*2,height:_?g:g*2})),!R&&z.createElement("clipPath",{id:"clipPath-dots-".concat(S)},z.createElement("rect",{x:c-$/2,y:u-$/2,width:m+$,height:g+$}))):null,x?null:this.renderArea(k,S),(o||x)&&this.renderDots(k,R,S),(!y||v)&&So.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(M.PureComponent);lF=Ho;Si(Ho,"displayName","Area");Si(Ho,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!xc.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Si(Ho,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,o=e.props.baseValue,s=o??a;if(le(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});Si(Ho,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,s=t.bandSize,l=t.dataKey,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,d=t.offset,m=e.layout,g=u&&u.length,y=lF.getBaseValue(e,n,r,i),b=m==="horizontal",v=!1,x=f.map(function(A,_){var k;g?k=u[c+_]:(k=mr(A,l),Array.isArray(k)?v=!0:k=[y,k]);var S=k[1]==null||g&&mr(A,l)==null;return b?{x:BC({axis:r,ticks:a,bandSize:s,entry:A,index:_}),y:S?null:i.scale(k[1]),value:k,payload:A}:{x:S?null:r.scale(k[1]),y:BC({axis:i,ticks:o,bandSize:s,entry:A,index:_}),value:k,payload:A}}),w;return g||v?w=x.map(function(A){var _=Array.isArray(A.value)?A.value[0]:null;return b?{x:A.x,y:_!=null&&A.y!=null?i.scale(_):null}:{x:_!=null?r.scale(_):null,y:A.y}}):w=b?i.scale(y):r.scale(y),Ua({points:x,baseLine:w,layout:m,isRange:v},d)});Si(Ho,"renderDotItem",function(t,e){var n;if(z.isValidElement(t))n=z.cloneElement(t,e);else if($e(t))n=t(e);else{var r=Ye("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=uF(e,oSe);n=z.createElement(Ck,xs({},a,{key:i,className:r}))}return n});function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function mSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pF(r.key),r)}}function ySe(t,e,n){return e&&gSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vSe(t,e,n){return e=Ly(e),bSe(t,dF()?Reflect.construct(e,n||[],Ly(t).constructor):e.apply(t,n))}function bSe(t,e){if(e&&(Uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xSe(t)}function xSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dF=function(){return!!t})()}function Ly(t){return Ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ly(t)}function wSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L_(t,e)}function L_(t,e){return L_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},L_(t,e)}function hF(t,e,n){return e=pF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pF(t){var e=_Se(t,"string");return Uu(e)=="symbol"?e:e+""}function _Se(t,e){if(Uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function V_(){return V_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V_.apply(this,arguments)}function SSe(t){var e=t.xAxisId,n=$k(),r=Dk(),i=YV(e);return i==null?null:M.createElement(Ec,V_({},i,{className:Ye("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return oa(o,!0)}}))}var Qv=function(t){function e(){return mSe(this,e),vSe(this,e,arguments)}return wSe(e,t),ySe(e,[{key:"render",value:function(){return M.createElement(SSe,this.props)}}])}(M.Component);hF(Qv,"displayName","XAxis");hF(Qv,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}function ESe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yF(r.key),r)}}function kSe(t,e,n){return e&&TSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ASe(t,e,n){return e=Vy(e),PSe(t,mF()?Reflect.construct(e,n||[],Vy(t).constructor):e.apply(t,n))}function PSe(t,e){if(e&&(Bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ISe(t)}function ISe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mF=function(){return!!t})()}function Vy(t){return Vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vy(t)}function OSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F_(t,e)}function F_(t,e){return F_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},F_(t,e)}function gF(t,e,n){return e=yF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yF(t){var e=NSe(t,"string");return Bu(e)=="symbol"?e:e+""}function NSe(t,e){if(Bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function U_(){return U_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U_.apply(this,arguments)}var CSe=function(e){var n=e.yAxisId,r=$k(),i=Dk(),a=XV(n);return a==null?null:M.createElement(Ec,U_({},a,{className:Ye("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return oa(s,!0)}}))},Jv=function(t){function e(){return ESe(this,e),ASe(this,e,arguments)}return OSe(e,t),kSe(e,[{key:"render",value:function(){return M.createElement(CSe,this.props)}}])}(M.Component);gF(Jv,"displayName","YAxis");gF(Jv,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function aR(t){return $Se(t)||MSe(t)||RSe(t)||jSe()}function jSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RSe(t,e){if(t){if(typeof t=="string")return B_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B_(t,e)}}function MSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Se(t){if(Array.isArray(t))return B_(t)}function B_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var z_=function(e,n,r,i,a){var o=oi(e,Vk),s=oi(e,Kv),l=[].concat(aR(o),aR(s)),u=oi(e,Xv),c="".concat(i,"Id"),f=i[0],d=n;if(l.length&&(d=l.reduce(function(y,b){if(b.props[c]===r&&ji(b.props,"extendDomain")&&le(b.props[f])){var v=b.props[f];return[Math.min(y[0],v),Math.max(y[1],v)]}return y},d)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");d=u.reduce(function(y,b){if(b.props[c]===r&&ji(b.props,"extendDomain")&&le(b.props[m])&&le(b.props[g])){var v=b.props[m],x=b.props[g];return[Math.min(y[0],v,x),Math.max(y[1],v,x)]}return y},d)}return a&&a.length&&(d=a.reduce(function(y,b){return le(b)?[Math.min(y[0],b),Math.max(y[1],b)]:y},d)),d},vF={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,f||l,d),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,m=f.length,g=new Array(m);d<m;d++)g[d]=f[d].fn;return g},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,d,m,g){var y=n?n+u:u;if(!this._events[y])return!1;var b=this._events[y],v=arguments.length,x,w;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),v){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,f),!0;case 4:return b.fn.call(b.context,c,f,d),!0;case 5:return b.fn.call(b.context,c,f,d,m),!0;case 6:return b.fn.call(b.context,c,f,d,m,g),!0}for(w=1,x=new Array(v-1);w<v;w++)x[w-1]=arguments[w];b.fn.apply(b.context,x)}else{var A=b.length,_;for(w=0;w<A;w++)switch(b[w].once&&this.removeListener(u,b[w].fn,void 0,!0),v){case 1:b[w].fn.call(b[w].context);break;case 2:b[w].fn.call(b[w].context,c);break;case 3:b[w].fn.call(b[w].context,c,f);break;case 4:b[w].fn.call(b[w].context,c,f,d);break;default:if(!x)for(_=1,x=new Array(v-1);_<v;_++)x[_-1]=arguments[_];b[w].fn.apply(b[w].context,x)}}return!0},s.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,d){var m=n?n+u:u;if(!this._events[m])return this;if(!c)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===c&&(!d||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var y=0,b=[],v=g.length;y<v;y++)(g[y].fn!==c||d&&!g[y].once||f&&g[y].context!==f)&&b.push(g[y]);b.length?this._events[m]=b.length===1?b[0]:b:o(this,m)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(vF);var DSe=vF.exports;const LSe=at(DSe);var Lx=new LSe,Vx="recharts.syncMouseEvents";function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function VSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bF(r.key),r)}}function USe(t,e,n){return e&&FSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fx(t,e,n){return e=bF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bF(t){var e=BSe(t,"string");return ph(e)=="symbol"?e:e+""}function BSe(t,e){if(ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zSe=function(){function t(){VSe(this,t),Fx(this,"activeIndex",0),Fx(this,"coordinateList",[]),Fx(this,"layout","horizontal")}return USe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,d=n.mouseHandlerCallback,m=d===void 0?null:d;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+u,d=o+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function WSe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&le(r)&&le(i))return!0}return!1}function qSe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function xF(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=cn(e,n,r,i),s=cn(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function HSe(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,d=cn(s,l,u,f),m=cn(s,l,c,f);r=d.x,i=d.y,a=m.x,o=m.y}else return xF(e);return[{x:r,y:i},{x:a,y:o}]}function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function oR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oR(Object(n),!0).forEach(function(r){GSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GSe(t,e,n){return e=KSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KSe(t){var e=YSe(t,"string");return mh(e)=="symbol"?e:e+""}function YSe(t,e){if(mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XSe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,d=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!a||!o||d!=="ScatterChart"&&i!=="axis")return null;var g,y=Qf;if(d==="ScatterChart")g=o,y=Zbe;else if(d==="BarChart")g=qSe(f,o,l,c),y=Nk;else if(f==="radial"){var b=xF(o),v=b.cx,x=b.cy,w=b.radius,A=b.startAngle,_=b.endAngle;g={cx:v,cy:x,startAngle:A,endAngle:_,innerRadius:w,outerRadius:w},y=wV}else g={points:HSe(f,o,l)},y=Qf;var k=tm(tm(tm(tm({stroke:"#ccc",pointerEvents:"none"},l),g),Fe(m,!1)),{},{payload:s,payloadIndex:u,className:Ye("recharts-tooltip-cursor",m.className)});return M.isValidElement(m)?M.cloneElement(m,k):M.createElement(y,k)}var QSe=["item"],JSe=["children","className","width","height","style","compact","title","desc"];function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}function Dl(){return Dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dl.apply(this,arguments)}function sR(t,e){return tEe(t)||eEe(t,e)||_F(t,e)||ZSe()}function ZSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function tEe(t){if(Array.isArray(t))return t}function lR(t,e){if(t==null)return{};var n=nEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SF(r.key),r)}}function aEe(t,e,n){return e&&iEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oEe(t,e,n){return e=Fy(e),sEe(t,wF()?Reflect.construct(e,n||[],Fy(t).constructor):e.apply(t,n))}function sEe(t,e){if(e&&(zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lEe(t)}function lEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wF=function(){return!!t})()}function Fy(t){return Fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fy(t)}function uEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W_(t,e)}function W_(t,e){return W_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},W_(t,e)}function Wu(t){return dEe(t)||fEe(t)||_F(t)||cEe()}function cEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _F(t,e){if(t){if(typeof t=="string")return q_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q_(t,e)}}function fEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dEe(t){if(Array.isArray(t))return q_(t)}function q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uR(Object(n),!0).forEach(function(r){Te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Te(t,e,n){return e=SF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SF(t){var e=hEe(t,"string");return zu(e)=="symbol"?e:e+""}function hEe(t,e){if(zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pEe={xAxis:["bottom","top"],yAxis:["left","right"]},mEe={width:"100%",height:"100%"},EF={x:0,y:0};function nm(t){return t}var gEe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},yEe=function(e,n,r,i){var a=n.find(function(c){return c&&c.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return X(X(X({},i),cn(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return X(X(X({},i),cn(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return EF},Zv=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Wu(s),Wu(u)):s},[]);return o.length>0?o:e&&e.length&&le(i)&&le(a)?e.slice(i,a+1):[]};function TF(t){return t==="number"?[0,"auto"]:void 0}var H_=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=Zv(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?s:f;d=Ug(m,o.dataKey,i)}else d=f&&f[r]||s[r];return d?[].concat(Wu(l),[vV(u,d)]):l},[])},cR=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=gEe(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Nye(o,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,d=H_(e,n,c,f),m=yEe(r,s,c,a);return{activeTooltipIndex:c,activeLabel:f,activePayload:d,activeCoordinate:m}}return null},vEe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=e.stackOffset,m=mV(c,a);return r.reduce(function(g,y){var b,v=y.type.defaultProps!==void 0?X(X({},y.type.defaultProps),y.props):y.props,x=v.type,w=v.dataKey,A=v.allowDataOverflow,_=v.allowDuplicatedCategory,k=v.scale,S=v.ticks,E=v.includeHidden,P=v[o];if(g[P])return g;var N=Zv(e.data,{graphicalItems:i.filter(function(B){var K,re=o in B.props?B.props[o]:(K=B.type.defaultProps)===null||K===void 0?void 0:K[o];return re===P}),dataStartIndex:l,dataEndIndex:u}),O=N.length,C,j,D;WSe(v.domain,A,x)&&(C=f_(v.domain,null,A),m&&(x==="number"||k!=="auto")&&(D=Xf(N,w,"category")));var R=TF(x);if(!C||C.length===0){var $,F=($=v.domain)!==null&&$!==void 0?$:R;if(w){if(C=Xf(N,w,x),x==="category"&&m){var V=yne(C);_&&V?(j=C,C=Ay(0,O)):_||(C=HC(F,C,y).reduce(function(B,K){return B.indexOf(K)>=0?B:[].concat(Wu(B),[K])},[]))}else if(x==="category")_?C=C.filter(function(B){return B!==""&&!qe(B)}):C=HC(F,C,y).reduce(function(B,K){return B.indexOf(K)>=0||K===""||qe(K)?B:[].concat(Wu(B),[K])},[]);else if(x==="number"){var U=$ye(N,i.filter(function(B){var K,re,fe=o in B.props?B.props[o]:(K=B.type.defaultProps)===null||K===void 0?void 0:K[o],ve="hide"in B.props?B.props.hide:(re=B.type.defaultProps)===null||re===void 0?void 0:re.hide;return fe===P&&(E||!ve)}),w,a,c);U&&(C=U)}m&&(x==="number"||k!=="auto")&&(D=Xf(N,w,"category"))}else m?C=Ay(0,O):s&&s[P]&&s[P].hasStack&&x==="number"?C=d==="expand"?[0,1]:yV(s[P].stackGroups,l,u):C=pV(N,i.filter(function(B){var K=o in B.props?B.props[o]:B.type.defaultProps[o],re="hide"in B.props?B.props.hide:B.type.defaultProps.hide;return K===P&&(E||!re)}),x,c,!0);if(x==="number")C=z_(f,C,P,a,S),F&&(C=f_(F,C,A));else if(x==="category"&&F){var W=F,q=C.every(function(B){return W.indexOf(B)>=0});q&&(C=W)}}return X(X({},g),{},Te({},P,X(X({},v),{},{axisType:a,domain:C,categoricalDomain:D,duplicateDomain:j,originalDomain:(b=v.domain)!==null&&b!==void 0?b:R,isCategorical:m,layout:c})))},{})},bEe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=Zv(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),m=d.length,g=mV(c,a),y=-1;return r.reduce(function(b,v){var x=v.type.defaultProps!==void 0?X(X({},v.type.defaultProps),v.props):v.props,w=x[o],A=TF("number");if(!b[w]){y++;var _;return g?_=Ay(0,m):s&&s[w]&&s[w].hasStack?(_=yV(s[w].stackGroups,l,u),_=z_(f,_,w,a)):(_=f_(A,pV(d,r.filter(function(k){var S,E,P=o in k.props?k.props[o]:(S=k.type.defaultProps)===null||S===void 0?void 0:S[o],N="hide"in k.props?k.props.hide:(E=k.type.defaultProps)===null||E===void 0?void 0:E.hide;return P===w&&!N}),"number",c),i.defaultProps.allowDataOverflow),_=z_(f,_,w,a)),X(X({},b),{},Te({},w,X(X({axisType:a},i.defaultProps),{},{hide:!0,orientation:Cr(pEe,"".concat(a,".").concat(y%2),null),domain:_,originalDomain:A,isCategorical:g,layout:c})))}return b},{})},xEe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),d=oi(c,a),m={};return d&&d.length?m=vEe(e,{axes:d,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(m=bEe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),m},wEe=function(e){var n=eo(e),r=oa(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:ik(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:yy(n,r)}},fR=function(e){var n=e.children,r=e.defaultShowTooltip,i=ar(n,Ru),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},_Ee=function(e){return!e||!e.length?!1:e.some(function(n){var r=ua(n&&n.type);return r&&r.indexOf("Bar")>=0})},dR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},SEe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,d=r.margin||{},m=ar(f,Ru),g=ar(f,nu),y=Object.keys(l).reduce(function(_,k){var S=l[k],E=S.orientation;return!S.mirror&&!S.hide?X(X({},_),{},Te({},E,_[E]+S.width)):_},{left:d.left||0,right:d.right||0}),b=Object.keys(o).reduce(function(_,k){var S=o[k],E=S.orientation;return!S.mirror&&!S.hide?X(X({},_),{},Te({},E,Cr(_,"".concat(E))+S.height)):_},{top:d.top||0,bottom:d.bottom||0}),v=X(X({},b),y),x=v.bottom;m&&(v.bottom+=m.props.height||Ru.defaultProps.height),g&&n&&(v=Rye(v,i,r,n));var w=u-v.left-v.right,A=c-v.top-v.bottom;return X(X({brushBottom:x},v),{},{width:Math.max(w,0),height:Math.max(A,0)})},EEe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},TEe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,d=function(v,x){var w=x.graphicalItems,A=x.stackGroups,_=x.offset,k=x.updateId,S=x.dataStartIndex,E=x.dataEndIndex,P=v.barSize,N=v.layout,O=v.barGap,C=v.barCategoryGap,j=v.maxBarSize,D=dR(N),R=D.numericAxisName,$=D.cateAxisName,F=_Ee(w),V=[];return w.forEach(function(U,W){var q=Zv(v.data,{graphicalItems:[U],dataStartIndex:S,dataEndIndex:E}),B=U.type.defaultProps!==void 0?X(X({},U.type.defaultProps),U.props):U.props,K=B.dataKey,re=B.maxBarSize,fe=B["".concat(R,"Id")],ve=B["".concat($,"Id")],Ae={},Ee=l.reduce(function(se,ae){var Me=x["".concat(ae.axisType,"Map")],pn=B["".concat(ae.axisType,"Id")];Me&&Me[pn]||ae.axisType==="zAxis"||Hs();var Nt=Me[pn];return X(X({},se),{},Te(Te({},ae.axisType,Nt),"".concat(ae.axisType,"Ticks"),oa(Nt)))},Ae),J=Ee[$],Z=Ee["".concat($,"Ticks")],ue=A&&A[fe]&&A[fe].hasStack&&Kye(U,A[fe].stackGroups),Q=ua(U.type).indexOf("Bar")>=0,Re=yy(J,Z),xe=[],ie=F&&Cye({barSize:P,stackGroups:A,totalSize:EEe(Ee,$)});if(Q){var de,Ce,Ve=qe(re)?j:re,je=(de=(Ce=yy(J,Z,!0))!==null&&Ce!==void 0?Ce:Ve)!==null&&de!==void 0?de:0;xe=jye({barGap:O,barCategoryGap:C,bandSize:je!==Re?je:Re,sizeList:ie[ve],maxBarSize:Ve}),je!==Re&&(xe=xe.map(function(se){return X(X({},se),{},{position:X(X({},se.position),{},{offset:se.position.offset-je/2})})}))}var H=U&&U.type&&U.type.getComposedData;H&&V.push({props:X(X({},H(X(X({},Ee),{},{displayedData:q,props:v,dataKey:K,item:U,bandSize:Re,barPosition:xe,offset:_,stackedData:ue,layout:N,dataStartIndex:S,dataEndIndex:E}))),{},Te(Te(Te({key:U.key||"item-".concat(W)},R,Ee[R]),$,Ee[$]),"animationId",k)),childIndex:One(U,v.children),item:U})}),V},m=function(v,x){var w=v.props,A=v.dataStartIndex,_=v.dataEndIndex,k=v.updateId;if(!VO({props:w}))return null;var S=w.children,E=w.layout,P=w.stackOffset,N=w.data,O=w.reverseStackOrder,C=dR(E),j=C.numericAxisName,D=C.cateAxisName,R=oi(S,r),$=qye(N,R,"".concat(j,"Id"),"".concat(D,"Id"),P,O),F=l.reduce(function(B,K){var re="".concat(K.axisType,"Map");return X(X({},B),{},Te({},re,xEe(w,X(X({},K),{},{graphicalItems:R,stackGroups:K.axisType===j&&$,dataStartIndex:A,dataEndIndex:_}))))},{}),V=SEe(X(X({},F),{},{props:w,graphicalItems:R}),x==null?void 0:x.legendBBox);Object.keys(F).forEach(function(B){F[B]=c(w,F[B],V,B.replace("Map",""),n)});var U=F["".concat(D,"Map")],W=wEe(U),q=d(w,X(X({},F),{},{dataStartIndex:A,dataEndIndex:_,updateId:k,graphicalItems:R,stackGroups:$,offset:V}));return X(X({formattedGraphicalItems:q,graphicalItems:R,offset:V,stackGroups:$},W),F)},g=function(b){function v(x){var w,A,_;return rEe(this,v),_=oEe(this,v,[x]),Te(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Te(_,"accessibilityManager",new zSe),Te(_,"handleLegendBBoxUpdate",function(k){if(k){var S=_.state,E=S.dataStartIndex,P=S.dataEndIndex,N=S.updateId;_.setState(X({legendBBox:k},m({props:_.props,dataStartIndex:E,dataEndIndex:P,updateId:N},X(X({},_.state),{},{legendBBox:k}))))}}),Te(_,"handleReceiveSyncEvent",function(k,S,E){if(_.props.syncId===k){if(E===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(S)}}),Te(_,"handleBrushChange",function(k){var S=k.startIndex,E=k.endIndex;if(S!==_.state.dataStartIndex||E!==_.state.dataEndIndex){var P=_.state.updateId;_.setState(function(){return X({dataStartIndex:S,dataEndIndex:E},m({props:_.props,dataStartIndex:S,dataEndIndex:E,updateId:P},_.state))}),_.triggerSyncEvent({dataStartIndex:S,dataEndIndex:E})}}),Te(_,"handleMouseEnter",function(k){var S=_.getMouseInfo(k);if(S){var E=X(X({},S),{},{isTooltipActive:!0});_.setState(E),_.triggerSyncEvent(E);var P=_.props.onMouseEnter;$e(P)&&P(E,k)}}),Te(_,"triggeredAfterMouseMove",function(k){var S=_.getMouseInfo(k),E=S?X(X({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(E),_.triggerSyncEvent(E);var P=_.props.onMouseMove;$e(P)&&P(E,k)}),Te(_,"handleItemMouseEnter",function(k){_.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Te(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),Te(_,"handleMouseMove",function(k){k.persist(),_.throttleTriggeredAfterMouseMove(k)}),Te(_,"handleMouseLeave",function(k){_.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};_.setState(S),_.triggerSyncEvent(S);var E=_.props.onMouseLeave;$e(E)&&E(S,k)}),Te(_,"handleOuterEvent",function(k){var S=Ine(k),E=Cr(_.props,"".concat(S));if(S&&$e(E)){var P,N;/.*touch.*/i.test(S)?N=_.getMouseInfo(k.changedTouches[0]):N=_.getMouseInfo(k),E((P=N)!==null&&P!==void 0?P:{},k)}}),Te(_,"handleClick",function(k){var S=_.getMouseInfo(k);if(S){var E=X(X({},S),{},{isTooltipActive:!0});_.setState(E),_.triggerSyncEvent(E);var P=_.props.onClick;$e(P)&&P(E,k)}}),Te(_,"handleMouseDown",function(k){var S=_.props.onMouseDown;if($e(S)){var E=_.getMouseInfo(k);S(E,k)}}),Te(_,"handleMouseUp",function(k){var S=_.props.onMouseUp;if($e(S)){var E=_.getMouseInfo(k);S(E,k)}}),Te(_,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Te(_,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&_.handleMouseDown(k.changedTouches[0])}),Te(_,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&_.handleMouseUp(k.changedTouches[0])}),Te(_,"handleDoubleClick",function(k){var S=_.props.onDoubleClick;if($e(S)){var E=_.getMouseInfo(k);S(E,k)}}),Te(_,"handleContextMenu",function(k){var S=_.props.onContextMenu;if($e(S)){var E=_.getMouseInfo(k);S(E,k)}}),Te(_,"triggerSyncEvent",function(k){_.props.syncId!==void 0&&Lx.emit(Vx,_.props.syncId,k,_.eventEmitterSymbol)}),Te(_,"applySyncEvent",function(k){var S=_.props,E=S.layout,P=S.syncMethod,N=_.state.updateId,O=k.dataStartIndex,C=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)_.setState(X({dataStartIndex:O,dataEndIndex:C},m({props:_.props,dataStartIndex:O,dataEndIndex:C,updateId:N},_.state)));else if(k.activeTooltipIndex!==void 0){var j=k.chartX,D=k.chartY,R=k.activeTooltipIndex,$=_.state,F=$.offset,V=$.tooltipTicks;if(!F)return;if(typeof P=="function")R=P(V,k);else if(P==="value"){R=-1;for(var U=0;U<V.length;U++)if(V[U].value===k.activeLabel){R=U;break}}var W=X(X({},F),{},{x:F.left,y:F.top}),q=Math.min(j,W.x+W.width),B=Math.min(D,W.y+W.height),K=V[R]&&V[R].value,re=H_(_.state,_.props.data,R),fe=V[R]?{x:E==="horizontal"?V[R].coordinate:q,y:E==="horizontal"?B:V[R].coordinate}:EF;_.setState(X(X({},k),{},{activeLabel:K,activeCoordinate:fe,activePayload:re,activeTooltipIndex:R}))}else _.setState(k)}),Te(_,"renderCursor",function(k){var S,E=_.state,P=E.isTooltipActive,N=E.activeCoordinate,O=E.activePayload,C=E.offset,j=E.activeTooltipIndex,D=E.tooltipAxisBandSize,R=_.getTooltipEventType(),$=(S=k.props.active)!==null&&S!==void 0?S:P,F=_.props.layout,V=k.key||"_recharts-cursor";return z.createElement(XSe,{key:V,activeCoordinate:N,activePayload:O,activeTooltipIndex:j,chartName:n,element:k,isActive:$,layout:F,offset:C,tooltipAxisBandSize:D,tooltipEventType:R})}),Te(_,"renderPolarAxis",function(k,S,E){var P=Cr(k,"type.axisType"),N=Cr(_.state,"".concat(P,"Map")),O=k.type.defaultProps,C=O!==void 0?X(X({},O),k.props):k.props,j=N&&N[C["".concat(P,"Id")]];return M.cloneElement(k,X(X({},j),{},{className:Ye(P,j.className),key:k.key||"".concat(S,"-").concat(E),ticks:oa(j,!0)}))}),Te(_,"renderPolarGrid",function(k){var S=k.props,E=S.radialLines,P=S.polarAngles,N=S.polarRadius,O=_.state,C=O.radiusAxisMap,j=O.angleAxisMap,D=eo(C),R=eo(j),$=R.cx,F=R.cy,V=R.innerRadius,U=R.outerRadius;return M.cloneElement(k,{polarAngles:Array.isArray(P)?P:oa(R,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(N)?N:oa(D,!0).map(function(W){return W.coordinate}),cx:$,cy:F,innerRadius:V,outerRadius:U,key:k.key||"polar-grid",radialLines:E})}),Te(_,"renderLegend",function(){var k=_.state.formattedGraphicalItems,S=_.props,E=S.children,P=S.width,N=S.height,O=_.props.margin||{},C=P-(O.left||0)-(O.right||0),j=dV({children:E,formattedGraphicalItems:k,legendWidth:C,legendContent:u});if(!j)return null;var D=j.item,R=lR(j,QSe);return M.cloneElement(D,X(X({},R),{},{chartWidth:P,chartHeight:N,margin:O,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),Te(_,"renderTooltip",function(){var k,S=_.props,E=S.children,P=S.accessibilityLayer,N=ar(E,yi);if(!N)return null;var O=_.state,C=O.isTooltipActive,j=O.activeCoordinate,D=O.activePayload,R=O.activeLabel,$=O.offset,F=(k=N.props.active)!==null&&k!==void 0?k:C;return M.cloneElement(N,{viewBox:X(X({},$),{},{x:$.left,y:$.top}),active:F,label:R,payload:F?D:[],coordinate:j,accessibilityLayer:P})}),Te(_,"renderBrush",function(k){var S=_.props,E=S.margin,P=S.data,N=_.state,O=N.offset,C=N.dataStartIndex,j=N.dataEndIndex,D=N.updateId;return M.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Qp(_.handleBrushChange,k.props.onChange),data:P,x:le(k.props.x)?k.props.x:O.left,y:le(k.props.y)?k.props.y:O.top+O.height+O.brushBottom-(E.bottom||0),width:le(k.props.width)?k.props.width:O.width,startIndex:C,endIndex:j,updateId:"brush-".concat(D)})}),Te(_,"renderReferenceElement",function(k,S,E){if(!k)return null;var P=_,N=P.clipPathId,O=_.state,C=O.xAxisMap,j=O.yAxisMap,D=O.offset,R=k.type.defaultProps||{},$=k.props,F=$.xAxisId,V=F===void 0?R.xAxisId:F,U=$.yAxisId,W=U===void 0?R.yAxisId:U;return M.cloneElement(k,{key:k.key||"".concat(S,"-").concat(E),xAxis:C[V],yAxis:j[W],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:N})}),Te(_,"renderActivePoints",function(k){var S=k.item,E=k.activePoint,P=k.basePoint,N=k.childIndex,O=k.isRange,C=[],j=S.props.key,D=S.item.type.defaultProps!==void 0?X(X({},S.item.type.defaultProps),S.item.props):S.item.props,R=D.activeDot,$=D.dataKey,F=X(X({index:N,dataKey:$,cx:E.x,cy:E.y,r:4,fill:Ok(S.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Fe(R,!1)),Bg(R));return C.push(v.renderActiveDot(R,F,"".concat(j,"-activePoint-").concat(N))),P?C.push(v.renderActiveDot(R,X(X({},F),{},{cx:P.x,cy:P.y}),"".concat(j,"-basePoint-").concat(N))):O&&C.push(null),C}),Te(_,"renderGraphicChild",function(k,S,E){var P=_.filterFormatItem(k,S,E);if(!P)return null;var N=_.getTooltipEventType(),O=_.state,C=O.isTooltipActive,j=O.tooltipAxis,D=O.activeTooltipIndex,R=O.activeLabel,$=_.props.children,F=ar($,yi),V=P.props,U=V.points,W=V.isRange,q=V.baseLine,B=P.item.type.defaultProps!==void 0?X(X({},P.item.type.defaultProps),P.item.props):P.item.props,K=B.activeDot,re=B.hide,fe=B.activeBar,ve=B.activeShape,Ae=!!(!re&&C&&F&&(K||fe||ve)),Ee={};N!=="axis"&&F&&F.props.trigger==="click"?Ee={onClick:Qp(_.handleItemMouseEnter,k.props.onClick)}:N!=="axis"&&(Ee={onMouseLeave:Qp(_.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Qp(_.handleItemMouseEnter,k.props.onMouseEnter)});var J=M.cloneElement(k,X(X({},P.props),Ee));function Z(ae){return typeof j.dataKey=="function"?j.dataKey(ae.payload):null}if(Ae)if(D>=0){var ue,Q;if(j.dataKey&&!j.allowDuplicatedCategory){var Re=typeof j.dataKey=="function"?Z:"payload.".concat(j.dataKey.toString());ue=Ug(U,Re,R),Q=W&&q&&Ug(q,Re,R)}else ue=U==null?void 0:U[D],Q=W&&q&&q[D];if(ve||fe){var xe=k.props.activeIndex!==void 0?k.props.activeIndex:D;return[M.cloneElement(k,X(X(X({},P.props),Ee),{},{activeIndex:xe})),null,null]}if(!qe(ue))return[J].concat(Wu(_.renderActivePoints({item:P,activePoint:ue,basePoint:Q,childIndex:D,isRange:W})))}else{var ie,de=(ie=_.getItemByXY(_.state.activeCoordinate))!==null&&ie!==void 0?ie:{graphicalItem:J},Ce=de.graphicalItem,Ve=Ce.item,je=Ve===void 0?k:Ve,H=Ce.childIndex,se=X(X(X({},P.props),Ee),{},{activeIndex:H});return[M.cloneElement(je,se),null,null]}return W?[J,null,null]:[J,null]}),Te(_,"renderCustomized",function(k,S,E){return M.cloneElement(k,X(X({key:"recharts-customized-".concat(E)},_.props),_.state))}),Te(_,"renderMap",{CartesianGrid:{handler:nm,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:nm},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:nm},YAxis:{handler:nm},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((w=x.id)!==null&&w!==void 0?w:Wh("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=d6(_.triggeredAfterMouseMove,(A=x.throttleDelay)!==null&&A!==void 0?A:1e3/60),_.state={},_}return uEe(v,b),aEe(v,[{key:"componentDidMount",value:function(){var w,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,A=w.children,_=w.data,k=w.height,S=w.layout,E=ar(A,yi);if(E){var P=E.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,O=H_(this.state,_,P,N),C=this.state.tooltipTicks[P].coordinate,j=(this.state.offset.top+k)/2,D=S==="horizontal",R=D?{x:C,y:j}:{y:C,x:j},$=this.state.formattedGraphicalItems.find(function(V){var U=V.item;return U.type.name==="Scatter"});$&&(R=X(X({},R),$.props.points[P].tooltipPosition),O=$.props.points[P].tooltipPayload);var F={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:N,activePayload:O,activeCoordinate:R};this.setState(F),this.renderCursor(E),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var _,k;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(w){k1([ar(w.children,yi)],[ar(this.props.children,yi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=ar(this.props.children,yi);if(w&&typeof w.props.shared=="boolean"){var A=w.props.shared?"axis":"item";return s.indexOf(A)>=0?A:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var A=this.container,_=A.getBoundingClientRect(),k=rhe(_),S={chartX:Math.round(w.pageX-k.left),chartY:Math.round(w.pageY-k.top)},E=_.width/A.offsetWidth||1,P=this.inRange(S.chartX,S.chartY,E);if(!P)return null;var N=this.state,O=N.xAxisMap,C=N.yAxisMap,j=this.getTooltipEventType(),D=cR(this.state,this.props.data,this.props.layout,P);if(j!=="axis"&&O&&C){var R=eo(O).scale,$=eo(C).scale,F=R&&R.invert?R.invert(S.chartX):null,V=$&&$.invert?$.invert(S.chartY):null;return X(X({},S),{},{xValue:F,yValue:V},D)}return D?X(X({},S),D):null}},{key:"inRange",value:function(w,A){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,S=w/_,E=A/_;if(k==="horizontal"||k==="vertical"){var P=this.state.offset,N=S>=P.left&&S<=P.left+P.width&&E>=P.top&&E<=P.top+P.height;return N?{x:S,y:E}:null}var O=this.state,C=O.angleAxisMap,j=O.radiusAxisMap;if(C&&j){var D=eo(C);return YC({x:S,y:E},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,A=this.getTooltipEventType(),_=ar(w,yi),k={};_&&A==="axis"&&(_.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Bg(this.props,this.handleOuterEvent);return X(X({},S),k)}},{key:"addListener",value:function(){Lx.on(Vx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Lx.removeListener(Vx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,A,_){for(var k=this.state.formattedGraphicalItems,S=0,E=k.length;S<E;S++){var P=k[S];if(P.item===w||P.props.key===w.key||A===ua(P.item.type)&&_===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,A=this.state.offset,_=A.left,k=A.top,S=A.height,E=A.width;return z.createElement("defs",null,z.createElement("clipPath",{id:w},z.createElement("rect",{x:_,y:k,height:S,width:E})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(A,_){var k=sR(_,2),S=k[0],E=k[1];return X(X({},A),{},Te({},S,E.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(A,_){var k=sR(_,2),S=k[0],E=k[1];return X(X({},A),{},Te({},S,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[w])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(w){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[w])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(w){var A=this.state,_=A.formattedGraphicalItems,k=A.activeItem;if(_&&_.length)for(var S=0,E=_.length;S<E;S++){var P=_[S],N=P.props,O=P.item,C=O.type.defaultProps!==void 0?X(X({},O.type.defaultProps),O.props):O.props,j=ua(O.type);if(j==="Bar"){var D=(N.data||[]).find(function(V){return zbe(w,V)});if(D)return{graphicalItem:P,payload:D}}else if(j==="RadialBar"){var R=(N.data||[]).find(function(V){return YC(w,V)});if(R)return{graphicalItem:P,payload:R}}else if(Wv(P,k)||qv(P,k)||uh(P,k)){var $=Hxe({graphicalItem:P,activeTooltipItem:k,itemData:C.data}),F=C.activeIndex===void 0?$:C.activeIndex;return{graphicalItem:X(X({},P),{},{childIndex:F}),payload:uh(P,k)?C.data[$]:P.props.data[$]}}}return null}},{key:"render",value:function(){var w=this;if(!VO(this))return null;var A=this.props,_=A.children,k=A.className,S=A.width,E=A.height,P=A.style,N=A.compact,O=A.title,C=A.desc,j=lR(A,JSe),D=Fe(j,!1);if(N)return z.createElement(Wj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(P1,Dl({},D,{width:S,height:E,title:O,desc:C}),this.renderClipPath(),UO(_,this.renderMap)));if(this.props.accessibilityLayer){var R,$;D.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,D.role=($=this.props.role)!==null&&$!==void 0?$:"application",D.onKeyDown=function(V){w.accessibilityManager.keyboardEvent(V)},D.onFocus=function(){w.accessibilityManager.focus()}}var F=this.parseEventsOfWrapper();return z.createElement(Wj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",Dl({className:Ye("recharts-wrapper",k),style:X({position:"relative",cursor:"default",width:S,height:E},P)},F,{ref:function(U){w.container=U}}),z.createElement(P1,Dl({},D,{width:S,height:E,title:O,desc:C,style:mEe}),this.renderClipPath(),UO(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(M.Component);Te(g,"displayName",n),Te(g,"defaultProps",X({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Te(g,"getDerivedStateFromProps",function(b,v){var x=b.dataKey,w=b.data,A=b.children,_=b.width,k=b.height,S=b.layout,E=b.stackOffset,P=b.margin,N=v.dataStartIndex,O=v.dataEndIndex;if(v.updateId===void 0){var C=fR(b);return X(X(X({},C),{},{updateId:0},m(X(X({props:b},C),{},{updateId:0}),v)),{},{prevDataKey:x,prevData:w,prevWidth:_,prevHeight:k,prevLayout:S,prevStackOffset:E,prevMargin:P,prevChildren:A})}if(x!==v.prevDataKey||w!==v.prevData||_!==v.prevWidth||k!==v.prevHeight||S!==v.prevLayout||E!==v.prevStackOffset||!tu(P,v.prevMargin)){var j=fR(b),D={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},R=X(X({},cR(v,w,S)),{},{updateId:v.updateId+1}),$=X(X(X({},j),D),R);return X(X(X({},$),m(X({props:b},$),v)),{},{prevDataKey:x,prevData:w,prevWidth:_,prevHeight:k,prevLayout:S,prevStackOffset:E,prevMargin:P,prevChildren:A})}if(!k1(A,v.prevChildren)){var F,V,U,W,q=ar(A,Ru),B=q&&(F=(V=q.props)===null||V===void 0?void 0:V.startIndex)!==null&&F!==void 0?F:N,K=q&&(U=(W=q.props)===null||W===void 0?void 0:W.endIndex)!==null&&U!==void 0?U:O,re=B!==N||K!==O,fe=!qe(w),ve=fe&&!re?v.updateId:v.updateId+1;return X(X({updateId:ve},m(X(X({props:b},v),{},{updateId:ve,dataStartIndex:B,dataEndIndex:K}),v)),{},{prevChildren:A,dataStartIndex:B,dataEndIndex:K})}return null}),Te(g,"renderActiveDot",function(b,v,x){var w;return M.isValidElement(b)?w=M.cloneElement(b,v):$e(b)?w=b(v):w=z.createElement(Ck,v),z.createElement(wt,{className:"recharts-active-dot",key:x},w)});var y=M.forwardRef(function(v,x){return z.createElement(g,Dl({},v,{ref:x}))});return y.displayName=g.displayName,y},kEe=TEe({chartName:"AreaChart",GraphicalChild:Ho,axisComponents:[{axisType:"xAxis",AxisComp:Qv},{axisType:"yAxis",AxisComp:Jv}],formatAxisMap:y1e});const kF=6048e5,AEe=864e5,AF=6e4,PF=36e5,hR=Symbol.for("constructDateFrom");function gr(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&hR in t?t[hR](e):t instanceof Date?new t.constructor(e):new Date(e)}function ut(t,e){return gr(e||t,t)}function IF(t,e,n){const r=ut(t,n==null?void 0:n.in);return isNaN(e)?gr(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function Dm(t,e,n){const r=ut(t,n==null?void 0:n.in);if(isNaN(e))return gr(t,NaN);if(!e)return r;const i=r.getDate(),a=gr(t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const o=a.getDate();return i>=o?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}let PEe={};function eb(){return PEe}function qu(t,e){var s,l,u,c;const n=eb(),r=(e==null?void 0:e.weekStartsOn)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=ut(t,e==null?void 0:e.in),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Uy(t,e){return qu(t,{...e,weekStartsOn:1})}function OF(t,e){const n=ut(t,e==null?void 0:e.in),r=n.getFullYear(),i=gr(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=Uy(i),o=gr(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const s=Uy(o);return n.getTime()>=a.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function pR(t){const e=ut(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Qh(t,...e){const n=gr.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function so(t,e){const n=ut(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function NF(t,e,n){const[r,i]=Qh(n==null?void 0:n.in,t,e),a=so(r),o=so(i),s=+a-pR(a),l=+o-pR(o);return Math.round((s-l)/AEe)}function IEe(t,e){const n=OF(t,e),r=gr(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Uy(r)}function rm(t,e,n){const[r,i]=Qh(n==null?void 0:n.in,t,e);return+so(r)==+so(i)}function OEe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function NEe(t){return!(!OEe(t)&&typeof t!="number"||isNaN(+ut(t)))}function CEe(t,e,n){const[r,i]=Qh(n==null?void 0:n.in,t,e),a=mR(r,i),o=Math.abs(NF(r,i));r.setDate(r.getDate()-a*o);const s=+(mR(r,i)===-a),l=a*(o-s);return l===0?0:l}function mR(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function Ux(t,e){const n=ut(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function jEe(t,e){const n=ut(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function REe(t,e){const[n,r]=Qh(t,e.start,e.end);return{start:n,end:r}}function MEe(t,e){const{start:n,end:r}=REe(e==null?void 0:e.in,t);let i=+n>+r;const a=i?+n:+r,o=i?r:n;o.setHours(0,0,0,0);let s=1;const l=[];for(;+o<=a;)l.push(gr(n,o)),o.setDate(o.getDate()+s),o.setHours(0,0,0,0);return i?l.reverse():l}function $Ee(t,e){const n=ut(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function DEe(t,e){const n=ut(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function LEe(t,e){const n=e==null?void 0:e.weekStartsOn,r=ut(t,e==null?void 0:e.in),i=r.getDay(),a=(i<n?-7:0)+6-(i-n);return r.setDate(r.getDate()+a),r.setHours(23,59,59,999),r}const VEe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},FEe=(t,e,n)=>{let r;const i=VEe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Bx(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const UEe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},BEe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zEe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},WEe={date:Bx({formats:UEe,defaultWidth:"full"}),time:Bx({formats:BEe,defaultWidth:"full"}),dateTime:Bx({formats:zEe,defaultWidth:"full"})},qEe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},HEe=(t,e,n,r)=>qEe[t];function lf(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,s=n!=null&&n.width?String(n.width):o;i=t.formattingValues[s]||t.formattingValues[o]}else{const o=t.defaultWidth,s=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[s]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const GEe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},KEe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},YEe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},XEe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},QEe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},JEe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ZEe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},eTe={ordinalNumber:ZEe,era:lf({values:GEe,defaultWidth:"wide"}),quarter:lf({values:KEe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:lf({values:YEe,defaultWidth:"wide"}),day:lf({values:XEe,defaultWidth:"wide"}),dayPeriod:lf({values:QEe,defaultWidth:"wide",formattingValues:JEe,defaultFormattingWidth:"wide"})};function uf(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],s=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?nTe(s,f=>f.test(o)):tTe(s,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(o.length);return{value:u,rest:c}}}function tTe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function nTe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function rTe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const s=e.slice(i.length);return{value:o,rest:s}}}const iTe=/^(\d+)(th|st|nd|rd)?/i,aTe=/\d+/i,oTe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sTe={any:[/^b/i,/^(a|c)/i]},lTe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uTe={any:[/1/i,/2/i,/3/i,/4/i]},cTe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},fTe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dTe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hTe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pTe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mTe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gTe={ordinalNumber:rTe({matchPattern:iTe,parsePattern:aTe,valueCallback:t=>parseInt(t,10)}),era:uf({matchPatterns:oTe,defaultMatchWidth:"wide",parsePatterns:sTe,defaultParseWidth:"any"}),quarter:uf({matchPatterns:lTe,defaultMatchWidth:"wide",parsePatterns:uTe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:uf({matchPatterns:cTe,defaultMatchWidth:"wide",parsePatterns:fTe,defaultParseWidth:"any"}),day:uf({matchPatterns:dTe,defaultMatchWidth:"wide",parsePatterns:hTe,defaultParseWidth:"any"}),dayPeriod:uf({matchPatterns:pTe,defaultMatchWidth:"any",parsePatterns:mTe,defaultParseWidth:"any"})},yTe={code:"en-US",formatDistance:FEe,formatLong:WEe,formatRelative:HEe,localize:eTe,match:gTe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vTe(t,e){const n=ut(t,e==null?void 0:e.in);return NF(n,DEe(n))+1}function bTe(t,e){const n=ut(t,e==null?void 0:e.in),r=+Uy(n)-+IEe(n);return Math.round(r/kF)+1}function CF(t,e){var c,f,d,m;const n=ut(t,e==null?void 0:e.in),r=n.getFullYear(),i=eb(),a=(e==null?void 0:e.firstWeekContainsDate)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(d=i.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??1,o=gr((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const s=qu(o,e),l=gr((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const u=qu(l,e);return+n>=+s?r+1:+n>=+u?r:r-1}function xTe(t,e){var s,l,u,c;const n=eb(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=CF(t,e),a=gr((e==null?void 0:e.in)||t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),qu(a,e)}function wTe(t,e){const n=ut(t,e==null?void 0:e.in),r=+qu(n,e)-+xTe(n,e);return Math.round(r/kF)+1}function Je(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Va={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Je(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Je(n+1,2)},d(t,e){return Je(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Je(t.getHours()%12||12,e.length)},H(t,e){return Je(t.getHours(),e.length)},m(t,e){return Je(t.getMinutes(),e.length)},s(t,e){return Je(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Je(i,e.length)}},gl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},gR={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Va.y(t,e)},Y:function(t,e,n,r){const i=CF(t,r),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return Je(o,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):Je(a,e.length)},R:function(t,e){const n=OF(t);return Je(n,e.length)},u:function(t,e){const n=t.getFullYear();return Je(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Je(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Je(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Va.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Je(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=wTe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Je(i,e.length)},I:function(t,e,n){const r=bTe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Je(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Va.d(t,e)},D:function(t,e,n){const r=vTe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Je(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Je(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Je(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Je(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=gl.noon:r===0?i=gl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=gl.evening:r>=12?i=gl.afternoon:r>=4?i=gl.morning:i=gl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Va.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Va.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Je(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Je(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Va.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Va.s(t,e)},S:function(t,e){return Va.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return vR(r);case"XXXX":case"XX":return us(r);case"XXXXX":case"XXX":default:return us(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return vR(r);case"xxxx":case"xx":return us(r);case"xxxxx":case"xxx":default:return us(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+yR(r,":");case"OOOO":default:return"GMT"+us(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+yR(r,":");case"zzzz":default:return"GMT"+us(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Je(r,e.length)},T:function(t,e,n){return Je(+t,e.length)}};function yR(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+Je(a,2)}function vR(t,e){return t%60===0?(t>0?"-":"+")+Je(Math.abs(t)/60,2):us(t,e)}function us(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Je(Math.trunc(r/60),2),a=Je(r%60,2);return n+i+e+a}const bR=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},jF=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},_Te=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return bR(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",bR(r,e)).replace("{{time}}",jF(i,e))},STe={p:jF,P:_Te},ETe=/^D+$/,TTe=/^Y+$/,kTe=["D","DD","YY","YYYY"];function ATe(t){return ETe.test(t)}function PTe(t){return TTe.test(t)}function ITe(t,e,n){const r=OTe(t,e,n);if(console.warn(r),kTe.includes(t))throw new RangeError(r)}function OTe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const NTe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,CTe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jTe=/^'([^]*?)'?$/,RTe=/''/g,MTe=/[a-zA-Z]/;function Hr(t,e,n){var c,f,d,m;const r=eb(),i=r.locale??yTe,a=r.firstWeekContainsDate??((f=(c=r.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??1,o=r.weekStartsOn??((m=(d=r.locale)==null?void 0:d.options)==null?void 0:m.weekStartsOn)??0,s=ut(t,n==null?void 0:n.in);if(!NEe(s))throw new RangeError("Invalid time value");let l=e.match(CTe).map(g=>{const y=g[0];if(y==="p"||y==="P"){const b=STe[y];return b(g,i.formatLong)}return g}).join("").match(NTe).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const y=g[0];if(y==="'")return{isToken:!1,value:$Te(g)};if(gR[y])return{isToken:!0,value:g};if(y.match(MTe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return l.map(g=>{if(!g.isToken)return g.value;const y=g.value;(PTe(y)||ATe(y))&&ITe(y,e,String(t));const b=gR[y[0]];return b(s,y,i.localize,u)}).join("")}function $Te(t){const e=t.match(jTe);return e?e[1].replace(RTe,"'"):t}function DTe(t,e){return+ut(t)>+ut(e)}function cf(t,e){return+ut(t)<+ut(e)}function LTe(t,e,n){const[r,i]=Qh(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function Hu(t,e,n){const r=+ut(t,n==null?void 0:n.in),[i,a]=[+ut(e.start,n==null?void 0:n.in),+ut(e.end,n==null?void 0:n.in)].sort((o,s)=>o-s);return r>=i&&r<=a}function By(t,e,n){return IF(t,-e,n)}function Ll(t,e){const n=()=>gr(e==null?void 0:e.in,NaN),i=BTe(t);let a;if(i.date){const u=zTe(i.date,2);a=WTe(u.restDateString,u.year)}if(!a||isNaN(+a))return n();const o=+a;let s=0,l;if(i.time&&(s=qTe(i.time),isNaN(s)))return n();if(i.timezone){if(l=HTe(i.timezone),isNaN(l))return n()}else{const u=new Date(o+s),c=ut(0,e==null?void 0:e.in);return c.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),c.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),c}return ut(o+s+l,e==null?void 0:e.in)}const im={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},VTe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,FTe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,UTe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function BTe(t){const e={},n=t.split(im.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],im.timeZoneDelimiter.test(e.date)&&(e.date=t.split(im.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=im.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function zTe(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:t.slice((r[1]||r[2]).length)}}function WTe(t,e){if(e===null)return new Date(NaN);const n=t.match(VTe);if(!n)return new Date(NaN);const r=!!n[4],i=ff(n[1]),a=ff(n[2])-1,o=ff(n[3]),s=ff(n[4]),l=ff(n[5])-1;if(r)return QTe(e,s,l)?GTe(e,s,l):new Date(NaN);{const u=new Date(0);return!YTe(e,a,o)||!XTe(e,i)?new Date(NaN):(u.setUTCFullYear(e,a,Math.max(i,o)),u)}}function ff(t){return t?parseInt(t):1}function qTe(t){const e=t.match(FTe);if(!e)return NaN;const n=zx(e[1]),r=zx(e[2]),i=zx(e[3]);return JTe(n,r,i)?n*PF+r*AF+i*1e3:NaN}function zx(t){return t&&parseFloat(t.replace(",","."))||0}function HTe(t){if(t==="Z")return 0;const e=t.match(UTe);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return ZTe(r,i)?n*(r*PF+i*AF):NaN}function GTe(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,a=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}const KTe=[31,null,31,30,31,30,31,31,30,31,30,31];function RF(t){return t%400===0||t%4===0&&t%100!==0}function YTe(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(KTe[e]||(RF(t)?29:28))}function XTe(t,e){return e>=1&&e<=(RF(t)?366:365)}function QTe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function JTe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function ZTe(t,e){return e>=0&&e<=59}function eke(t,e,n){return Dm(t,-1,n)}const Bk=({onChange:t,initialRange:e,range:n,onRangeChange:r,brandColor:i})=>{const[a,o]=M.useState(!1),[s,l]=M.useState(n||e||{from:null,to:null}),[u,c]=M.useState(null),[f,d]=M.useState(new Date),m=M.useRef(null);M.useEffect(()=>{const S=E=>{m.current&&!m.current.contains(E.target)&&o(!1)};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]);const g=S=>{const E=t||r,P=so(S);if(!s.from||s.from&&s.to)l({from:P,to:null});else{let N;cf(S,s.from)?N={from:so(S),to:Ux(s.from)}:N={from:so(s.from),to:Ux(S)},l(N),E&&E(N)}},y=S=>{s.from&&!s.to?c(S):c(null)},b=()=>{o(!1);const S=t||r;if(S){const E={...s};s.from&&(E.from=so(s.from)),s.to&&(E.to=Ux(s.to)),S(E)}},v=()=>{o(!1),l(n||e||{from:null,to:null})};M.useEffect(()=>{n&&l(n)},[n]);const x=()=>s.from&&s.to?`${Hr(s.from,"d MMM yyyy")}  ${Hr(s.to,"d MMM yyyy")}`:s.from?`${Hr(s.from,"d MMM yyyy")}  Select end date`:"",w=S=>{const E=$Ee(S),P=jEe(E),N=qu(E,{weekStartsOn:1}),O=LEe(P,{weekStartsOn:1});let C=N;const j=[];let D=[];for(;C<=O;)D.push(C),D.length===7&&(j.push(D),D=[]),C=IF(C,1);return h.jsx("div",{className:"grid grid-cols-7 gap-y-2",children:j.map((R,$)=>R.map((F,V)=>{const U=s.from&&rm(F,s.from),W=s.to&&rm(F,s.to),q=s.from&&s.to&&Hu(F,{start:s.from,end:s.to});let B=!1;if(s.from&&!s.to&&u){const J=cf(s.from,u)?s.from:u,Z=DTe(s.from,u)?s.from:u;B=Hu(F,{start:J,end:Z})&&!rm(F,s.from)}const K=LTe(F,E);let re="relative w-10 h-10 flex items-center justify-center",fe="w-10 h-10 flex items-center justify-center text-sm relative z-10 cursor-pointer rounded-full transition-colors font-medium",ve="",Ae="text-gray-700 dark:text-slate-300";K?U?(ve="bg-indigo-600 text-white font-semibold shadow-md z-20 hover:bg-indigo-700",Ae="text-white"):W?ve="bg-white dark:bg-slate-800 border-2 border-indigo-600 text-indigo-600 dark:text-indigo-400 font-semibold z-20 hover:bg-indigo-50 dark:hover:bg-indigo-900/20":q||B?Ae="text-indigo-900 dark:text-indigo-200 font-semibold":fe+=" hover:bg-gray-100 dark:hover:bg-slate-700":Ae="text-gray-300 dark:text-slate-600 pointer-events-none";let Ee="";return K&&(q||B)&&(Ee="absolute bg-indigo-50 dark:bg-indigo-900/20 h-10 z-0 top-0 bottom-0",U&&(s.to||u)?Ee+=cf(s.to||u,s.from)?" left-0 right-1/2":" left-1/2 right-0 rounded-l-none":W?Ee+=" left-0 right-1/2 rounded-r-none":rm(F,u)&&s.from?Ee+=cf(u,s.from)?" left-1/2 right-0":" left-0 right-1/2":Ee+=" left-0 right-0",U&&s.to&&cf(s.to,s.from)&&(Ee="absolute bg-indigo-50 dark:bg-indigo-900/20 h-10 z-0 top-0 bottom-0 left-0 right-1/2")),h.jsxs("div",{className:re,role:"button","aria-label":`Select ${Hr(F,"d MMMM yyyy")}`,tabIndex:K?0:-1,onMouseEnter:()=>y(F),onClick:()=>g(F),onKeyDown:J=>{(J.key==="Enter"||J.key===" ")&&(J.preventDefault(),g(F))},children:[Ee&&h.jsx("div",{className:Ee}),h.jsx("div",{className:`${fe} ${ve} ${Ae}`,children:Hr(F,"d")})]},F.toISOString())}))})},A=()=>d(Dm(f,1)),_=()=>d(eke(f)),k=["Mo","Tu","We","Th","Fr","Sa","Su"];return h.jsxs("div",{className:"relative w-full max-w-xl font-sans",ref:m,children:[h.jsxs("div",{className:"relative flex items-center w-full",onClick:()=>o(!a),role:"button","aria-haspopup":"dialog","aria-expanded":a,"aria-label":"Select date range",tabIndex:0,onKeyDown:S=>{(S.key==="Enter"||S.key===" ")&&o(!a)},children:[h.jsx("div",{className:`w-full h-12 flex items-center pl-4 pr-10 bg-white dark:bg-slate-800 border-2 rounded-2xl cursor-pointer transition-all shadow-sm font-bold
            ${a?"border-blue-200 dark:border-blue-800 ring-2 ring-blue-500/20 bg-blue-50 dark:bg-blue-900/20":"border-slate-100 dark:border-slate-800 hover:border-slate-300 dark:hover:border-slate-600"}`,children:h.jsx("span",{className:`text-base font-medium ${s.from?"text-gray-900 dark:text-white":"text-gray-500 dark:text-slate-400"}`,children:s.from?x():"Select date range"})}),h.jsx(YD,{className:`absolute right-3 w-5 h-5 pointer-events-none transition-colors ${a?"text-blue-600 dark:text-blue-400":"text-slate-400"}`})]}),a&&h.jsxs("div",{className:"absolute top-full left-0 mt-4 z-50 bg-white dark:bg-slate-800 rounded-xl shadow-2xl border border-gray-100 dark:border-slate-700 p-0 overflow-hidden w-[680px] animate-in fade-in zoom-in-95 duration-200",role:"dialog","aria-modal":"true","aria-label":"Calendar date range picker",children:[h.jsxs("div",{className:"flex flex-col md:flex-row divide-y md:divide-y-0 md:divide-x divide-gray-100 dark:divide-slate-700",children:[h.jsxs("div",{className:"p-6 flex-1 min-w-[320px]",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("button",{onClick:_,className:"p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full text-gray-500 dark:text-slate-400 transition-colors","aria-label":"Previous month",children:h.jsx(OE,{className:"w-5 h-5"})}),h.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white",children:Hr(f,"MMMM yyyy")}),h.jsx("div",{className:"w-7"})]}),h.jsx("div",{className:"grid grid-cols-7 mb-4",children:k.map(S=>h.jsx("span",{className:"text-center text-xs font-semibold text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:S},S))}),w(f)]}),h.jsxs("div",{className:"p-6 flex-1 min-w-[320px]",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("div",{className:"w-7"}),h.jsx("h3",{className:"text-base font-bold text-gray-900",children:Hr(Dm(f,1),"MMMM yyyy")}),h.jsx("button",{onClick:A,className:"p-1 hover:bg-gray-100 rounded-full text-gray-500 transition-colors","aria-label":"Next month",children:h.jsx(NE,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"grid grid-cols-7 mb-4",children:k.map(S=>h.jsx("span",{className:"text-center text-xs font-semibold text-gray-400 uppercase tracking-wide",children:S},S))}),w(Dm(f,1))]})]}),h.jsxs("div",{className:"border-t border-gray-100 p-4 flex items-center justify-between bg-white px-6 py-4",children:[h.jsx("span",{className:"text-sm font-semibold text-gray-700",children:s.from&&s.to?`${CEe(s.to,s.from)+1} days`:s.from?"Select end date":""}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:v,className:"px-6 py-2.5 text-sm font-bold text-gray-700 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 hover:text-gray-900 transition-all font-sans",children:"Cancel"}),h.jsx("button",{onClick:b,className:"px-8 py-2.5 text-sm font-bold text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 shadow-lg shadow-indigo-200 transition-all transform active:scale-95 font-sans",children:"Done"})]})]})]})]})},Sf=({title:t,options:e,selectedValues:n,onChange:r,onClear:i,showProductCount:a=!1,productCount:o=0,showSearch:s=!0,collapsible:l=!1})=>{const[u,c]=M.useState(""),[f,d]=M.useState(!l),m=y=>{const b=n.includes(y)?n.filter(v=>v!==y):[...n,y];r(b)},g=s?a?e:e.filter(y=>y.label.toLowerCase().includes(u.toLowerCase())):e;return h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-[0_2px_10px_-4px_rgba(0,0,0,0.1)] border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col w-full min-w-[240px]",children:[a?h.jsx("div",{className:"px-4 py-3 border-b border-slate-100 dark:border-slate-700",children:h.jsxs("span",{className:"text-sm font-bold text-slate-600 dark:text-slate-400",children:["Products: ",h.jsx("span",{className:"text-[var(--brand-color)]",children:o})]})}):t&&t.length>0?h.jsxs("div",{className:"px-4 py-3 pb-2 flex items-center justify-between",children:[h.jsx("div",{className:"flex items-center gap-3",children:h.jsx("h3",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:t})}),l&&h.jsx("button",{onClick:()=>d(!f),className:"p-1 rounded-full text-slate-400 hover:text-slate-600",children:f?h.jsx(XD,{className:"w-4 h-4"}):h.jsx(Ss,{className:"w-4 h-4"})})]}):null,!a&&s&&f&&h.jsx("div",{className:"px-3 pb-2",children:h.jsxs("div",{className:"relative",children:[h.jsx(Ch,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),h.jsx("input",{type:"text",placeholder:"Search...",value:u,onChange:y=>c(y.target.value),className:"w-full pl-9 pr-3 py-2 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-lg text-sm outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all"})]})}),h.jsx("div",{className:`flex-1 px-2 pb-2 space-y-1 max-h-64 overflow-y-auto ${f?"":"hidden"}`,children:g.map(y=>{const b=n.includes(y.value);return h.jsxs("div",{onClick:()=>m(y.value),className:`flex items-center justify-between px-3 py-2.5 rounded-xl cursor-pointer transition-all group ${b?"bg-blue-50 dark:bg-blue-900/20":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`w-5 h-5 rounded-[5px] border flex items-center justify-center transition-all ${b?"bg-blue-600 border-blue-600 shadow-sm":"border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800"}`,children:b&&h.jsx(pz,{className:"w-3.5 h-3.5 text-white stroke-[3px]"})}),h.jsx("span",{className:`text-sm font-semibold ${b?"text-blue-700 dark:text-blue-300":"text-slate-600 dark:text-slate-300"}`,children:y.label})]}),h.jsx("span",{className:`text-xs font-bold ${b?"text-blue-600 dark:text-blue-400":"text-slate-400 group-hover:text-slate-500"}`,children:y.count})]},y.value)})}),n.length>0&&h.jsx("div",{className:"px-4 py-3 border-t border-slate-50 dark:border-slate-700/50",children:h.jsx("button",{onClick:i,className:"text-xs font-bold text-blue-600 dark:text-blue-400 hover:text-blue-700 hover:underline transition-colors flex items-center gap-1",children:"Clear All"})})]})};class En{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],o=e+a,s=Math.abs(e)<Math.abs(a)?e-(o-a):a-(o-e);s&&(n[r++]=s),e=o}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,o=0;if(n>0){for(o=e[--n];n>0&&(r=o,i=e[--n],o=r+i,a=i-(o-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}function*tke(t){for(const e of t)yield*e}function MF(t){return Array.from(tke(t))}function Vl(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}var _e=1e-6,gh=1e-12,Le=Math.PI,Ot=Le/2,zy=Le/4,Ln=Le*2,rt=180/Le,Se=Le/180,He=Math.abs,Tc=Math.atan,Vn=Math.atan2,be=Math.cos,am=Math.ceil,$F=Math.exp,G_=Math.hypot,Wy=Math.log,Wx=Math.pow,me=Math.sin,Ir=Math.sign||function(t){return t>0?1:t<0?-1:0},nn=Math.sqrt,zk=Math.tan;function DF(t){return t>1?0:t<-1?Le:Math.acos(t)}function Fn(t){return t>1?Ot:t<-1?-Ot:Math.asin(t)}function xR(t){return(t=me(t/2))*t}function _t(){}function qy(t,e){t&&_R.hasOwnProperty(t.type)&&_R[t.type](t,e)}var wR={Feature:function(t,e){qy(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)qy(n[r].geometry,e)}},_R={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){K_(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)K_(n[r],e,0)},Polygon:function(t,e){SR(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)SR(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)qy(n[r],e)}};function K_(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function SR(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)K_(t[n],e,1);e.polygonEnd()}function Xr(t,e){t&&wR.hasOwnProperty(t.type)?wR[t.type](t,e):qy(t,e)}var Hy=new En,Gy=new En,LF,VF,Y_,X_,Q_,Li={point:_t,lineStart:_t,lineEnd:_t,polygonStart:function(){Hy=new En,Li.lineStart=nke,Li.lineEnd=rke},polygonEnd:function(){var t=+Hy;Gy.add(t<0?Ln+t:t),this.lineStart=this.lineEnd=this.point=_t},sphere:function(){Gy.add(Ln)}};function nke(){Li.point=ike}function rke(){FF(LF,VF)}function ike(t,e){Li.point=FF,LF=t,VF=e,t*=Se,e*=Se,Y_=t,X_=be(e=e/2+zy),Q_=me(e)}function FF(t,e){t*=Se,e*=Se,e=e/2+zy;var n=t-Y_,r=n>=0?1:-1,i=r*n,a=be(e),o=me(e),s=Q_*o,l=X_*a+s*be(i),u=s*r*me(i);Hy.add(Vn(u,l)),Y_=t,X_=a,Q_=o}function ake(t){return Gy=new En,Xr(t,Li),Gy*2}function Ky(t){return[Vn(t[1],t[0]),Fn(t[2])]}function Ks(t){var e=t[0],n=t[1],r=be(n);return[r*be(e),r*me(e),me(n)]}function om(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Gu(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function qx(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function sm(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Yy(t){var e=nn(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var bt,qn,At,sr,cs,UF,BF,au,Zf,qa,Ta,Qi={point:J_,lineStart:ER,lineEnd:TR,polygonStart:function(){Qi.point=WF,Qi.lineStart=oke,Qi.lineEnd=ske,Zf=new En,Li.polygonStart()},polygonEnd:function(){Li.polygonEnd(),Qi.point=J_,Qi.lineStart=ER,Qi.lineEnd=TR,Hy<0?(bt=-(At=180),qn=-(sr=90)):Zf>_e?sr=90:Zf<-_e&&(qn=-90),Ta[0]=bt,Ta[1]=At},sphere:function(){bt=-(At=180),qn=-(sr=90)}};function J_(t,e){qa.push(Ta=[bt=t,At=t]),e<qn&&(qn=e),e>sr&&(sr=e)}function zF(t,e){var n=Ks([t*Se,e*Se]);if(au){var r=Gu(au,n),i=[r[1],-r[0],0],a=Gu(i,r);Yy(a),a=Ky(a);var o=t-cs,s=o>0?1:-1,l=a[0]*rt*s,u,c=He(o)>180;c^(s*cs<l&&l<s*t)?(u=a[1]*rt,u>sr&&(sr=u)):(l=(l+360)%360-180,c^(s*cs<l&&l<s*t)?(u=-a[1]*rt,u<qn&&(qn=u)):(e<qn&&(qn=e),e>sr&&(sr=e))),c?t<cs?or(bt,t)>or(bt,At)&&(At=t):or(t,At)>or(bt,At)&&(bt=t):At>=bt?(t<bt&&(bt=t),t>At&&(At=t)):t>cs?or(bt,t)>or(bt,At)&&(At=t):or(t,At)>or(bt,At)&&(bt=t)}else qa.push(Ta=[bt=t,At=t]);e<qn&&(qn=e),e>sr&&(sr=e),au=n,cs=t}function ER(){Qi.point=zF}function TR(){Ta[0]=bt,Ta[1]=At,Qi.point=J_,au=null}function WF(t,e){if(au){var n=t-cs;Zf.add(He(n)>180?n+(n>0?360:-360):n)}else UF=t,BF=e;Li.point(t,e),zF(t,e)}function oke(){Li.lineStart()}function ske(){WF(UF,BF),Li.lineEnd(),He(Zf)>_e&&(bt=-(At=180)),Ta[0]=bt,Ta[1]=At,au=null}function or(t,e){return(e-=t)<0?e+360:e}function lke(t,e){return t[0]-e[0]}function kR(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function uke(t){var e,n,r,i,a,o,s;if(sr=At=-(bt=qn=1/0),qa=[],Xr(t,Qi),n=qa.length){for(qa.sort(lke),e=1,r=qa[0],a=[r];e<n;++e)i=qa[e],kR(r,i[0])||kR(r,i[1])?(or(r[0],i[1])>or(r[0],r[1])&&(r[1]=i[1]),or(i[0],r[1])>or(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,n=a.length-1,e=0,r=a[n];e<=n;r=i,++e)i=a[e],(s=or(r[1],i[0]))>o&&(o=s,bt=i[0],At=r[1])}return qa=Ta=null,bt===1/0||qn===1/0?[[NaN,NaN],[NaN,NaN]]:[[bt,qn],[At,sr]]}var Ef,Xy,Qy,Jy,Zy,e0,t0,n0,Z_,eS,tS,qF,HF,In,On,Nn,ei={sphere:_t,point:Wk,lineStart:AR,lineEnd:PR,polygonStart:function(){ei.lineStart=dke,ei.lineEnd=hke},polygonEnd:function(){ei.lineStart=AR,ei.lineEnd=PR}};function Wk(t,e){t*=Se,e*=Se;var n=be(e);Jh(n*be(t),n*me(t),me(e))}function Jh(t,e,n){++Ef,Qy+=(t-Qy)/Ef,Jy+=(e-Jy)/Ef,Zy+=(n-Zy)/Ef}function AR(){ei.point=cke}function cke(t,e){t*=Se,e*=Se;var n=be(e);In=n*be(t),On=n*me(t),Nn=me(e),ei.point=fke,Jh(In,On,Nn)}function fke(t,e){t*=Se,e*=Se;var n=be(e),r=n*be(t),i=n*me(t),a=me(e),o=Vn(nn((o=On*a-Nn*i)*o+(o=Nn*r-In*a)*o+(o=In*i-On*r)*o),In*r+On*i+Nn*a);Xy+=o,e0+=o*(In+(In=r)),t0+=o*(On+(On=i)),n0+=o*(Nn+(Nn=a)),Jh(In,On,Nn)}function PR(){ei.point=Wk}function dke(){ei.point=pke}function hke(){GF(qF,HF),ei.point=Wk}function pke(t,e){qF=t,HF=e,t*=Se,e*=Se,ei.point=GF;var n=be(e);In=n*be(t),On=n*me(t),Nn=me(e),Jh(In,On,Nn)}function GF(t,e){t*=Se,e*=Se;var n=be(e),r=n*be(t),i=n*me(t),a=me(e),o=On*a-Nn*i,s=Nn*r-In*a,l=In*i-On*r,u=G_(o,s,l),c=Fn(u),f=u&&-c/u;Z_.add(f*o),eS.add(f*s),tS.add(f*l),Xy+=c,e0+=c*(In+(In=r)),t0+=c*(On+(On=i)),n0+=c*(Nn+(Nn=a)),Jh(In,On,Nn)}function mke(t){Ef=Xy=Qy=Jy=Zy=e0=t0=n0=0,Z_=new En,eS=new En,tS=new En,Xr(t,ei);var e=+Z_,n=+eS,r=+tS,i=G_(e,n,r);return i<gh&&(e=e0,n=t0,r=n0,Xy<_e&&(e=Qy,n=Jy,r=Zy),i=G_(e,n,r),i<gh)?[NaN,NaN]:[Vn(n,e)*rt,Fn(r/i)*rt]}function yl(t){return function(){return t}}function nS(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function rS(t,e){return[He(t)>Le?t+Math.round(-t/Ln)*Ln:t,e]}rS.invert=rS;function qk(t,e,n){return(t%=Ln)?e||n?nS(OR(t),NR(e,n)):OR(t):e||n?NR(e,n):rS}function IR(t){return function(e,n){return e+=t,[e>Le?e-Ln:e<-Le?e+Ln:e,n]}}function OR(t){var e=IR(t);return e.invert=IR(-t),e}function NR(t,e){var n=be(t),r=me(t),i=be(e),a=me(e);function o(s,l){var u=be(l),c=be(s)*u,f=me(s)*u,d=me(l),m=d*n+c*r;return[Vn(f*i-m*a,c*n-d*r),Fn(m*i+f*a)]}return o.invert=function(s,l){var u=be(l),c=be(s)*u,f=me(s)*u,d=me(l),m=d*i-f*a;return[Vn(f*i+d*a,c*n+m*r),Fn(m*n-c*r)]},o}function KF(t){t=qk(t[0]*Se,t[1]*Se,t.length>2?t[2]*Se:0);function e(n){return n=t(n[0]*Se,n[1]*Se),n[0]*=rt,n[1]*=rt,n}return e.invert=function(n){return n=t.invert(n[0]*Se,n[1]*Se),n[0]*=rt,n[1]*=rt,n},e}function YF(t,e,n,r,i,a){if(n){var o=be(e),s=me(e),l=r*n;i==null?(i=e+r*Ln,a=e-l/2):(i=CR(o,i),a=CR(o,a),(r>0?i<a:i>a)&&(i+=r*Ln));for(var u,c=i;r>0?c>a:c<a;c-=l)u=Ky([o,-s*be(c),-s*me(c)]),t.point(u[0],u[1])}}function CR(t,e){e=Ks(e),e[0]-=t,Yy(e);var n=DF(-e[1]);return((-e[2]<0?-n:n)+Ln-_e)%Ln}function gke(){var t=yl([0,0]),e=yl(90),n=yl(6),r,i,a={point:o};function o(l,u){r.push(l=i(l,u)),l[0]*=rt,l[1]*=rt}function s(){var l=t.apply(this,arguments),u=e.apply(this,arguments)*Se,c=n.apply(this,arguments)*Se;return r=[],i=qk(-l[0]*Se,-l[1]*Se,0).invert,YF(a,u,c,1),l={type:"Polygon",coordinates:[r]},r=i=null,l}return s.center=function(l){return arguments.length?(t=typeof l=="function"?l:yl([+l[0],+l[1]]),s):t},s.radius=function(l){return arguments.length?(e=typeof l=="function"?l:yl(+l),s):e},s.precision=function(l){return arguments.length?(n=typeof l=="function"?l:yl(+l),s):n},s}function XF(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:_t,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Lm(t,e){return He(t[0]-e[0])<_e&&He(t[1]-e[1])<_e}function lm(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function QF(t,e,n,r,i){var a=[],o=[],s,l;if(t.forEach(function(g){if(!((y=g.length-1)<=0)){var y,b=g[0],v=g[y],x;if(Lm(b,v)){if(!b[2]&&!v[2]){for(i.lineStart(),s=0;s<y;++s)i.point((b=g[s])[0],b[1]);i.lineEnd();return}v[0]+=2*_e}a.push(x=new lm(b,g,null,!0)),o.push(x.o=new lm(b,null,x,!1)),a.push(x=new lm(v,g,null,!1)),o.push(x.o=new lm(v,null,x,!0))}}),!!a.length){for(o.sort(e),jR(a),jR(o),s=0,l=o.length;s<l;++s)o[s].e=n=!n;for(var u=a[0],c,f;;){for(var d=u,m=!0;d.v;)if((d=d.n)===u)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(m)for(s=0,l=c.length;s<l;++s)i.point((f=c[s])[0],f[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(m)for(c=d.p.z,s=c.length-1;s>=0;--s)i.point((f=c[s])[0],f[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,c=d.z,m=!m}while(!d.v);i.lineEnd()}}}function jR(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Hx(t){return He(t[0])<=Le?t[0]:Ir(t[0])*((He(t[0])+Le)%Ln-Le)}function JF(t,e){var n=Hx(e),r=e[1],i=me(r),a=[me(n),-be(n),0],o=0,s=0,l=new En;i===1?r=Ot+_e:i===-1&&(r=-Ot-_e);for(var u=0,c=t.length;u<c;++u)if(d=(f=t[u]).length)for(var f,d,m=f[d-1],g=Hx(m),y=m[1]/2+zy,b=me(y),v=be(y),x=0;x<d;++x,g=A,b=k,v=S,m=w){var w=f[x],A=Hx(w),_=w[1]/2+zy,k=me(_),S=be(_),E=A-g,P=E>=0?1:-1,N=P*E,O=N>Le,C=b*k;if(l.add(Vn(C*P*me(N),v*S+C*be(N))),o+=O?E+P*Ln:E,O^g>=n^A>=n){var j=Gu(Ks(m),Ks(w));Yy(j);var D=Gu(a,j);Yy(D);var R=(O^E>=0?-1:1)*Fn(D[2]);(r>R||r===R&&(j[0]||j[1]))&&(s+=O^E>=0?1:-1)}}return(o<-_e||o<_e&&l<-gh)^s&1}function ZF(t,e,n,r){return function(i){var a=e(i),o=XF(),s=e(o),l=!1,u,c,f,d={point:m,lineStart:y,lineEnd:b,polygonStart:function(){d.point=v,d.lineStart=x,d.lineEnd=w,c=[],u=[]},polygonEnd:function(){d.point=m,d.lineStart=y,d.lineEnd=b,c=MF(c);var A=JF(u,r);c.length?(l||(i.polygonStart(),l=!0),QF(c,vke,A,n,i)):A&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function m(A,_){t(A,_)&&i.point(A,_)}function g(A,_){a.point(A,_)}function y(){d.point=g,a.lineStart()}function b(){d.point=m,a.lineEnd()}function v(A,_){f.push([A,_]),s.point(A,_)}function x(){s.lineStart(),f=[]}function w(){v(f[0][0],f[0][1]),s.lineEnd();var A=s.clean(),_=o.result(),k,S=_.length,E,P,N;if(f.pop(),u.push(f),f=null,!!S){if(A&1){if(P=_[0],(E=P.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),k=0;k<E;++k)i.point((N=P[k])[0],N[1]);i.lineEnd()}return}S>1&&A&2&&_.push(_.pop().concat(_.shift())),c.push(_.filter(yke))}}return d}}function yke(t){return t.length>1}function vke(t,e){return((t=t.x)[0]<0?t[1]-Ot-_e:Ot-t[1])-((e=e.x)[0]<0?e[1]-Ot-_e:Ot-e[1])}const iS=ZF(function(){return!0},bke,wke,[-Le,-Ot]);function bke(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,o){var s=a>0?Le:-Le,l=He(a-e);He(l-Le)<_e?(t.point(e,n=(n+o)/2>0?Ot:-Ot),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(a,n),i=0):r!==s&&l>=Le&&(He(e-r)<_e&&(e-=r*_e),He(a-s)<_e&&(a-=s*_e),n=xke(e,n,a,o),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),i=0),t.point(e=a,n=o),r=s},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function xke(t,e,n,r){var i,a,o=me(t-n);return He(o)>_e?Tc((me(e)*(a=be(r))*me(n)-me(r)*(i=be(e))*me(t))/(i*a*o)):(e+r)/2}function wke(t,e,n,r){var i;if(t==null)i=n*Ot,r.point(-Le,i),r.point(0,i),r.point(Le,i),r.point(Le,0),r.point(Le,-i),r.point(0,-i),r.point(-Le,-i),r.point(-Le,0),r.point(-Le,i);else if(He(t[0]-e[0])>_e){var a=t[0]<e[0]?Le:-Le;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function e9(t){var e=be(t),n=6*Se,r=e>0,i=He(e)>_e;function a(c,f,d,m){YF(m,t,n,d,c,f)}function o(c,f){return be(c)*be(f)>e}function s(c){var f,d,m,g,y;return{lineStart:function(){g=m=!1,y=1},point:function(b,v){var x=[b,v],w,A=o(b,v),_=r?A?0:u(b,v):A?u(b+(b<0?Le:-Le),v):0;if(!f&&(g=m=A)&&c.lineStart(),A!==m&&(w=l(f,x),(!w||Lm(f,w)||Lm(x,w))&&(x[2]=1)),A!==m)y=0,A?(c.lineStart(),w=l(x,f),c.point(w[0],w[1])):(w=l(f,x),c.point(w[0],w[1],2),c.lineEnd()),f=w;else if(i&&f&&r^A){var k;!(_&d)&&(k=l(x,f,!0))&&(y=0,r?(c.lineStart(),c.point(k[0][0],k[0][1]),c.point(k[1][0],k[1][1]),c.lineEnd()):(c.point(k[1][0],k[1][1]),c.lineEnd(),c.lineStart(),c.point(k[0][0],k[0][1],3)))}A&&(!f||!Lm(f,x))&&c.point(x[0],x[1]),f=x,m=A,d=_},lineEnd:function(){m&&c.lineEnd(),f=null},clean:function(){return y|(g&&m)<<1}}}function l(c,f,d){var m=Ks(c),g=Ks(f),y=[1,0,0],b=Gu(m,g),v=om(b,b),x=b[0],w=v-x*x;if(!w)return!d&&c;var A=e*v/w,_=-e*x/w,k=Gu(y,b),S=sm(y,A),E=sm(b,_);qx(S,E);var P=k,N=om(S,P),O=om(P,P),C=N*N-O*(om(S,S)-1);if(!(C<0)){var j=nn(C),D=sm(P,(-N-j)/O);if(qx(D,S),D=Ky(D),!d)return D;var R=c[0],$=f[0],F=c[1],V=f[1],U;$<R&&(U=R,R=$,$=U);var W=$-R,q=He(W-Le)<_e,B=q||W<_e;if(!q&&V<F&&(U=F,F=V,V=U),B?q?F+V>0^D[1]<(He(D[0]-R)<_e?F:V):F<=D[1]&&D[1]<=V:W>Le^(R<=D[0]&&D[0]<=$)){var K=sm(P,(-N+j)/O);return qx(K,S),[D,Ky(K)]}}}function u(c,f){var d=r?t:Le-t,m=0;return c<-d?m|=1:c>d&&(m|=2),f<-d?m|=4:f>d&&(m|=8),m}return ZF(o,s,a,r?[0,-t]:[-Le,t-Le])}function _ke(t,e,n,r,i,a){var o=t[0],s=t[1],l=e[0],u=e[1],c=0,f=1,d=l-o,m=u-s,g;if(g=n-o,!(!d&&g>0)){if(g/=d,d<0){if(g<c)return;g<f&&(f=g)}else if(d>0){if(g>f)return;g>c&&(c=g)}if(g=i-o,!(!d&&g<0)){if(g/=d,d<0){if(g>f)return;g>c&&(c=g)}else if(d>0){if(g<c)return;g<f&&(f=g)}if(g=r-s,!(!m&&g>0)){if(g/=m,m<0){if(g<c)return;g<f&&(f=g)}else if(m>0){if(g>f)return;g>c&&(c=g)}if(g=a-s,!(!m&&g<0)){if(g/=m,m<0){if(g>f)return;g>c&&(c=g)}else if(m>0){if(g<c)return;g<f&&(f=g)}return c>0&&(t[0]=o+c*d,t[1]=s+c*m),f<1&&(e[0]=o+f*d,e[1]=s+f*m),!0}}}}}var Tf=1e9,um=-Tf;function tb(t,e,n,r){function i(u,c){return t<=u&&u<=n&&e<=c&&c<=r}function a(u,c,f,d){var m=0,g=0;if(u==null||(m=o(u,f))!==(g=o(c,f))||l(u,c)<0^f>0)do d.point(m===0||m===3?t:n,m>1?r:e);while((m=(m+f+4)%4)!==g);else d.point(c[0],c[1])}function o(u,c){return He(u[0]-t)<_e?c>0?0:3:He(u[0]-n)<_e?c>0?2:1:He(u[1]-e)<_e?c>0?1:0:c>0?3:2}function s(u,c){return l(u.x,c.x)}function l(u,c){var f=o(u,1),d=o(c,1);return f!==d?f-d:f===0?c[1]-u[1]:f===1?u[0]-c[0]:f===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,f=XF(),d,m,g,y,b,v,x,w,A,_,k,S={point:E,lineStart:C,lineEnd:j,polygonStart:N,polygonEnd:O};function E(R,$){i(R,$)&&c.point(R,$)}function P(){for(var R=0,$=0,F=m.length;$<F;++$)for(var V=m[$],U=1,W=V.length,q=V[0],B,K,re=q[0],fe=q[1];U<W;++U)B=re,K=fe,q=V[U],re=q[0],fe=q[1],K<=r?fe>r&&(re-B)*(r-K)>(fe-K)*(t-B)&&++R:fe<=r&&(re-B)*(r-K)<(fe-K)*(t-B)&&--R;return R}function N(){c=f,d=[],m=[],k=!0}function O(){var R=P(),$=k&&R,F=(d=MF(d)).length;($||F)&&(u.polygonStart(),$&&(u.lineStart(),a(null,null,1,u),u.lineEnd()),F&&QF(d,s,R,a,u),u.polygonEnd()),c=u,d=m=g=null}function C(){S.point=D,m&&m.push(g=[]),_=!0,A=!1,x=w=NaN}function j(){d&&(D(y,b),v&&A&&f.rejoin(),d.push(f.result())),S.point=E,A&&c.lineEnd()}function D(R,$){var F=i(R,$);if(m&&g.push([R,$]),_)y=R,b=$,v=F,_=!1,F&&(c.lineStart(),c.point(R,$));else if(F&&A)c.point(R,$);else{var V=[x=Math.max(um,Math.min(Tf,x)),w=Math.max(um,Math.min(Tf,w))],U=[R=Math.max(um,Math.min(Tf,R)),$=Math.max(um,Math.min(Tf,$))];_ke(V,U,t,e,n,r)?(A||(c.lineStart(),c.point(V[0],V[1])),c.point(U[0],U[1]),F||c.lineEnd(),k=!1):F&&(c.lineStart(),c.point(R,$),k=!1)}x=R,w=$,A=F}return S}}function Ske(){var t=0,e=0,n=960,r=500,i,a,o;return o={stream:function(s){return i&&a===s?i:i=tb(t,e,n,r)(a=s)},extent:function(s){return arguments.length?(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1],i=a=null,o):[[t,e],[n,r]]}}}var aS,oS,Vm,Fm,Ku={sphere:_t,point:_t,lineStart:Eke,lineEnd:_t,polygonStart:_t,polygonEnd:_t};function Eke(){Ku.point=kke,Ku.lineEnd=Tke}function Tke(){Ku.point=Ku.lineEnd=_t}function kke(t,e){t*=Se,e*=Se,oS=t,Vm=me(e),Fm=be(e),Ku.point=Ake}function Ake(t,e){t*=Se,e*=Se;var n=me(e),r=be(e),i=He(t-oS),a=be(i),o=me(i),s=r*o,l=Fm*n-Vm*r*a,u=Vm*n+Fm*r*a;aS.add(Vn(nn(s*s+l*l),u)),oS=t,Vm=n,Fm=r}function t9(t){return aS=new En,Xr(t,Ku),+aS}var sS=[null,null],Pke={type:"LineString",coordinates:sS};function r0(t,e){return sS[0]=t,sS[1]=e,t9(Pke)}var RR={Feature:function(t,e){return i0(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(i0(n[r].geometry,e))return!0;return!1}},MR={Sphere:function(){return!0},Point:function(t,e){return $R(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if($R(n[r],e))return!0;return!1},LineString:function(t,e){return DR(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(DR(n[r],e))return!0;return!1},Polygon:function(t,e){return LR(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(LR(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(i0(n[r],e))return!0;return!1}};function i0(t,e){return t&&MR.hasOwnProperty(t.type)?MR[t.type](t,e):!1}function $R(t,e){return r0(t,e)===0}function DR(t,e){for(var n,r,i,a=0,o=t.length;a<o;a++){if(r=r0(t[a],e),r===0||a>0&&(i=r0(t[a],t[a-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<gh*i))return!0;n=r}return!1}function LR(t,e){return!!JF(t.map(Ike),n9(e))}function Ike(t){return t=t.map(n9),t.pop(),t}function n9(t){return[t[0]*Se,t[1]*Se]}function Oke(t,e){return(t&&RR.hasOwnProperty(t.type)?RR[t.type]:i0)(t,e)}function VR(t,e,n){var r=Vl(t,e-_e,n).concat(e);return function(i){return r.map(function(a){return[i,a]})}}function FR(t,e,n){var r=Vl(t,e-_e,n).concat(e);return function(i){return r.map(function(a){return[a,i]})}}function Hk(){var t,e,n,r,i,a,o,s,l=10,u=l,c=90,f=360,d,m,g,y,b=2.5;function v(){return{type:"MultiLineString",coordinates:x()}}function x(){return Vl(am(r/c)*c,n,c).map(g).concat(Vl(am(s/f)*f,o,f).map(y)).concat(Vl(am(e/l)*l,t,l).filter(function(w){return He(w%c)>_e}).map(d)).concat(Vl(am(a/u)*u,i,u).filter(function(w){return He(w%f)>_e}).map(m))}return v.lines=function(){return x().map(function(w){return{type:"LineString",coordinates:w}})},v.outline=function(){return{type:"Polygon",coordinates:[g(r).concat(y(o).slice(1),g(n).reverse().slice(1),y(s).reverse().slice(1))]}},v.extent=function(w){return arguments.length?v.extentMajor(w).extentMinor(w):v.extentMinor()},v.extentMajor=function(w){return arguments.length?(r=+w[0][0],n=+w[1][0],s=+w[0][1],o=+w[1][1],r>n&&(w=r,r=n,n=w),s>o&&(w=s,s=o,o=w),v.precision(b)):[[r,s],[n,o]]},v.extentMinor=function(w){return arguments.length?(e=+w[0][0],t=+w[1][0],a=+w[0][1],i=+w[1][1],e>t&&(w=e,e=t,t=w),a>i&&(w=a,a=i,i=w),v.precision(b)):[[e,a],[t,i]]},v.step=function(w){return arguments.length?v.stepMajor(w).stepMinor(w):v.stepMinor()},v.stepMajor=function(w){return arguments.length?(c=+w[0],f=+w[1],v):[c,f]},v.stepMinor=function(w){return arguments.length?(l=+w[0],u=+w[1],v):[l,u]},v.precision=function(w){return arguments.length?(b=+w,d=VR(a,i,90),m=FR(e,t,b),g=VR(s,o,90),y=FR(r,n,b),v):b},v.extentMajor([[-180,-90+_e],[180,90-_e]]).extentMinor([[-180,-80-_e],[180,80+_e]])}function Nke(){return Hk()()}function Cke(t,e){var n=t[0]*Se,r=t[1]*Se,i=e[0]*Se,a=e[1]*Se,o=be(r),s=me(r),l=be(a),u=me(a),c=o*be(n),f=o*me(n),d=l*be(i),m=l*me(i),g=2*Fn(nn(xR(a-r)+o*l*xR(i-n))),y=me(g),b=g?function(v){var x=me(v*=g)/y,w=me(g-v)/y,A=w*c+x*d,_=w*f+x*m,k=w*s+x*u;return[Vn(_,A)*rt,Vn(k,nn(A*A+_*_))*rt]}:function(){return[n*rt,r*rt]};return b.distance=g,b}const yh=t=>t;var Gx=new En,lS=new En,r9,i9,uS,cS,Ji={point:_t,lineStart:_t,lineEnd:_t,polygonStart:function(){Ji.lineStart=jke,Ji.lineEnd=Mke},polygonEnd:function(){Ji.lineStart=Ji.lineEnd=Ji.point=_t,Gx.add(He(lS)),lS=new En},result:function(){var t=Gx/2;return Gx=new En,t}};function jke(){Ji.point=Rke}function Rke(t,e){Ji.point=a9,r9=uS=t,i9=cS=e}function a9(t,e){lS.add(cS*t-uS*e),uS=t,cS=e}function Mke(){a9(r9,i9)}var Yu=1/0,a0=Yu,vh=-Yu,o0=vh,s0={point:$ke,lineStart:_t,lineEnd:_t,polygonStart:_t,polygonEnd:_t,result:function(){var t=[[Yu,a0],[vh,o0]];return vh=o0=-(a0=Yu=1/0),t}};function $ke(t,e){t<Yu&&(Yu=t),t>vh&&(vh=t),e<a0&&(a0=e),e>o0&&(o0=e)}var fS=0,dS=0,kf=0,l0=0,u0=0,Fl=0,hS=0,pS=0,Af=0,o9,s9,bi,xi,kr={point:Ys,lineStart:UR,lineEnd:BR,polygonStart:function(){kr.lineStart=Vke,kr.lineEnd=Fke},polygonEnd:function(){kr.point=Ys,kr.lineStart=UR,kr.lineEnd=BR},result:function(){var t=Af?[hS/Af,pS/Af]:Fl?[l0/Fl,u0/Fl]:kf?[fS/kf,dS/kf]:[NaN,NaN];return fS=dS=kf=l0=u0=Fl=hS=pS=Af=0,t}};function Ys(t,e){fS+=t,dS+=e,++kf}function UR(){kr.point=Dke}function Dke(t,e){kr.point=Lke,Ys(bi=t,xi=e)}function Lke(t,e){var n=t-bi,r=e-xi,i=nn(n*n+r*r);l0+=i*(bi+t)/2,u0+=i*(xi+e)/2,Fl+=i,Ys(bi=t,xi=e)}function BR(){kr.point=Ys}function Vke(){kr.point=Uke}function Fke(){l9(o9,s9)}function Uke(t,e){kr.point=l9,Ys(o9=bi=t,s9=xi=e)}function l9(t,e){var n=t-bi,r=e-xi,i=nn(n*n+r*r);l0+=i*(bi+t)/2,u0+=i*(xi+e)/2,Fl+=i,i=xi*t-bi*e,hS+=i*(bi+t),pS+=i*(xi+e),Af+=i*3,Ys(bi=t,xi=e)}function u9(t){this._context=t}u9.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Ln);break}}},result:_t};var mS=new En,Kx,c9,f9,Pf,If,bh={point:_t,lineStart:function(){bh.point=Bke},lineEnd:function(){Kx&&d9(c9,f9),bh.point=_t},polygonStart:function(){Kx=!0},polygonEnd:function(){Kx=null},result:function(){var t=+mS;return mS=new En,t}};function Bke(t,e){bh.point=d9,c9=Pf=t,f9=If=e}function d9(t,e){Pf-=t,If-=e,mS.add(nn(Pf*Pf+If*If)),Pf=t,If=e}function h9(){this._string=[]}h9.prototype={_radius:4.5,_circle:zR(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._string.push("M",t,",",e),this._point=1;break}case 1:{this._string.push("L",t,",",e);break}default:{this._circle==null&&(this._circle=zR(this._radius)),this._string.push("M",t,",",e,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function zR(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function p9(t,e){var n=4.5,r,i;function a(o){return o&&(typeof n=="function"&&i.pointRadius(+n.apply(this,arguments)),Xr(o,r(i))),i.result()}return a.area=function(o){return Xr(o,r(Ji)),Ji.result()},a.measure=function(o){return Xr(o,r(bh)),bh.result()},a.bounds=function(o){return Xr(o,r(s0)),s0.result()},a.centroid=function(o){return Xr(o,r(kr)),kr.result()},a.projection=function(o){return arguments.length?(r=o==null?(t=null,yh):(t=o).stream,a):t},a.context=function(o){return arguments.length?(i=o==null?(e=null,new h9):new u9(e=o),typeof n!="function"&&i.pointRadius(n),a):e},a.pointRadius=function(o){return arguments.length?(n=typeof o=="function"?o:(i.pointRadius(+o),+o),a):n},a.projection(t).context(e)}function zke(t){return{stream:Zh(t)}}function Zh(t){return function(e){var n=new gS;for(var r in t)n[r]=t[r];return n.stream=e,n}}function gS(){}gS.prototype={constructor:gS,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Gk(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Xr(n,t.stream(s0)),e(s0.result()),r!=null&&t.clipExtent(r),t}function nb(t,e,n){return Gk(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),s=+e[0][0]+(i-o*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(a-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([s,l])},n)}function Kk(t,e,n){return nb(t,[[0,0],e],n)}function Yk(t,e,n){return Gk(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,s=-a*r[0][1];t.scale(150*a).translate([o,s])},n)}function Xk(t,e,n){return Gk(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],s=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([o,s])},n)}var WR=16,Wke=be(30*Se);function qR(t,e){return+e?Hke(t,e):qke(t)}function qke(t){return Zh({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Hke(t,e){function n(r,i,a,o,s,l,u,c,f,d,m,g,y,b){var v=u-r,x=c-i,w=v*v+x*x;if(w>4*e&&y--){var A=o+d,_=s+m,k=l+g,S=nn(A*A+_*_+k*k),E=Fn(k/=S),P=He(He(k)-1)<_e||He(a-f)<_e?(a+f)/2:Vn(_,A),N=t(P,E),O=N[0],C=N[1],j=O-r,D=C-i,R=x*j-v*D;(R*R/w>e||He((v*j+x*D)/w-.5)>.3||o*d+s*m+l*g<Wke)&&(n(r,i,a,o,s,l,O,C,P,A/=S,_/=S,k,y,b),b.point(O,C),n(O,C,P,A,_,k,u,c,f,d,m,g,y,b))}}return function(r){var i,a,o,s,l,u,c,f,d,m,g,y,b={point:v,lineStart:x,lineEnd:A,polygonStart:function(){r.polygonStart(),b.lineStart=_},polygonEnd:function(){r.polygonEnd(),b.lineStart=x}};function v(E,P){E=t(E,P),r.point(E[0],E[1])}function x(){f=NaN,b.point=w,r.lineStart()}function w(E,P){var N=Ks([E,P]),O=t(E,P);n(f,d,c,m,g,y,f=O[0],d=O[1],c=E,m=N[0],g=N[1],y=N[2],WR,r),r.point(f,d)}function A(){b.point=v,r.lineEnd()}function _(){x(),b.point=k,b.lineEnd=S}function k(E,P){w(i=E,P),a=f,o=d,s=m,l=g,u=y,b.point=w}function S(){n(f,d,c,m,g,y,a,o,i,s,l,u,WR,r),b.lineEnd=A,A()}return b}}var Gke=Zh({point:function(t,e){this.stream.point(t*Se,e*Se)}});function Kke(t){return Zh({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function Yke(t,e,n,r,i){function a(o,s){return o*=r,s*=i,[e+t*o,n-t*s]}return a.invert=function(o,s){return[(o-e)/t*r,(n-s)/t*i]},a}function HR(t,e,n,r,i,a){if(!a)return Yke(t,e,n,r,i);var o=be(a),s=me(a),l=o*t,u=s*t,c=o/t,f=s/t,d=(s*n-o*e)/t,m=(s*e+o*n)/t;function g(y,b){return y*=r,b*=i,[l*y-u*b+e,n-u*y-l*b]}return g.invert=function(y,b){return[r*(c*y-f*b+d),i*(m-f*y-c*b)]},g}function qi(t){return Qk(function(){return t})()}function Qk(t){var e,n=150,r=480,i=250,a=0,o=0,s=0,l=0,u=0,c,f=0,d=1,m=1,g=null,y=iS,b=null,v,x,w,A=yh,_=.5,k,S,E,P,N;function O(R){return E(R[0]*Se,R[1]*Se)}function C(R){return R=E.invert(R[0],R[1]),R&&[R[0]*rt,R[1]*rt]}O.stream=function(R){return P&&N===R?P:P=Gke(Kke(c)(y(k(A(N=R)))))},O.preclip=function(R){return arguments.length?(y=R,g=void 0,D()):y},O.postclip=function(R){return arguments.length?(A=R,b=v=x=w=null,D()):A},O.clipAngle=function(R){return arguments.length?(y=+R?e9(g=R*Se):(g=null,iS),D()):g*rt},O.clipExtent=function(R){return arguments.length?(A=R==null?(b=v=x=w=null,yh):tb(b=+R[0][0],v=+R[0][1],x=+R[1][0],w=+R[1][1]),D()):b==null?null:[[b,v],[x,w]]},O.scale=function(R){return arguments.length?(n=+R,j()):n},O.translate=function(R){return arguments.length?(r=+R[0],i=+R[1],j()):[r,i]},O.center=function(R){return arguments.length?(a=R[0]%360*Se,o=R[1]%360*Se,j()):[a*rt,o*rt]},O.rotate=function(R){return arguments.length?(s=R[0]%360*Se,l=R[1]%360*Se,u=R.length>2?R[2]%360*Se:0,j()):[s*rt,l*rt,u*rt]},O.angle=function(R){return arguments.length?(f=R%360*Se,j()):f*rt},O.reflectX=function(R){return arguments.length?(d=R?-1:1,j()):d<0},O.reflectY=function(R){return arguments.length?(m=R?-1:1,j()):m<0},O.precision=function(R){return arguments.length?(k=qR(S,_=R*R),D()):nn(_)},O.fitExtent=function(R,$){return nb(O,R,$)},O.fitSize=function(R,$){return Kk(O,R,$)},O.fitWidth=function(R,$){return Yk(O,R,$)},O.fitHeight=function(R,$){return Xk(O,R,$)};function j(){var R=HR(n,0,0,d,m,f).apply(null,e(a,o)),$=HR(n,r-R[0],i-R[1],d,m,f);return c=qk(s,l,u),S=nS(e,$),E=nS(c,S),k=qR(S,_),D()}function D(){return P=N=null,O}return function(){return e=t.apply(this,arguments),O.invert=e.invert&&C,j()}}function Jk(t){var e=0,n=Le/3,r=Qk(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*Se,n=a[1]*Se):[e*rt,n*rt]},i}function Xke(t){var e=be(t);function n(r,i){return[r*e,me(i)/e]}return n.invert=function(r,i){return[r/e,Fn(i*e)]},n}function m9(t,e){var n=me(t),r=(n+me(e))/2;if(He(r)<_e)return Xke(t);var i=1+n*(2*r-n),a=nn(i)/r;function o(s,l){var u=nn(i-2*r*me(l))/r;return[u*me(s*=r),a-u*be(s)]}return o.invert=function(s,l){var u=a-l,c=Vn(s,He(u))*Ir(u);return u*r<0&&(c-=Le*Ir(s)*Ir(u)),[c/r,Fn((i-(s*s+u*u)*r*r)/(2*r))]},o}function c0(){return Jk(m9).scale(155.424).center([0,33.6442])}function g9(){return c0().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Qke(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function Jke(){var t,e,n=g9(),r,i=c0().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=c0().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,l,u={point:function(d,m){l=[d,m]}};function c(d){var m=d[0],g=d[1];return l=null,r.point(m,g),l||(a.point(m,g),l)||(s.point(m,g),l)}c.invert=function(d){var m=n.scale(),g=n.translate(),y=(d[0]-g[0])/m,b=(d[1]-g[1])/m;return(b>=.12&&b<.234&&y>=-.425&&y<-.214?i:b>=.166&&b<.234&&y>=-.214&&y<-.115?o:n).invert(d)},c.stream=function(d){return t&&e===d?t:t=Qke([n.stream(e=d),i.stream(d),o.stream(d)])},c.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),o.precision(d),f()):n.precision()},c.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),o.scale(d),c.translate(n.translate())):n.scale()},c.translate=function(d){if(!arguments.length)return n.translate();var m=n.scale(),g=+d[0],y=+d[1];return r=n.translate(d).clipExtent([[g-.455*m,y-.238*m],[g+.455*m,y+.238*m]]).stream(u),a=i.translate([g-.307*m,y+.201*m]).clipExtent([[g-.425*m+_e,y+.12*m+_e],[g-.214*m-_e,y+.234*m-_e]]).stream(u),s=o.translate([g-.205*m,y+.212*m]).clipExtent([[g-.214*m+_e,y+.166*m+_e],[g-.115*m-_e,y+.234*m-_e]]).stream(u),f()},c.fitExtent=function(d,m){return nb(c,d,m)},c.fitSize=function(d,m){return Kk(c,d,m)},c.fitWidth=function(d,m){return Yk(c,d,m)},c.fitHeight=function(d,m){return Xk(c,d,m)};function f(){return t=e=null,c}return c.scale(1070)}function y9(t){return function(e,n){var r=be(e),i=be(n),a=t(r*i);return a===1/0?[2,0]:[a*i*me(e),a*me(n)]}}function ep(t){return function(e,n){var r=nn(e*e+n*n),i=t(r),a=me(i),o=be(i);return[Vn(e*a,r*o),Fn(r&&n*a/r)]}}var Zk=y9(function(t){return nn(2/(1+t))});Zk.invert=ep(function(t){return 2*Fn(t/2)});function Zke(){return qi(Zk).scale(124.75).clipAngle(180-.001)}var eA=y9(function(t){return(t=DF(t))&&t/me(t)});eA.invert=ep(function(t){return t});function eAe(){return qi(eA).scale(79.4188).clipAngle(180-.001)}function tp(t,e){return[t,Wy(zk((Ot+e)/2))]}tp.invert=function(t,e){return[t,2*Tc($F(e))-Ot]};function tAe(){return v9(tp).scale(961/Ln)}function v9(t){var e=qi(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,o=null,s,l,u;e.scale=function(f){return arguments.length?(r(f),c()):r()},e.translate=function(f){return arguments.length?(i(f),c()):i()},e.center=function(f){return arguments.length?(n(f),c()):n()},e.clipExtent=function(f){return arguments.length?(f==null?o=s=l=u=null:(o=+f[0][0],s=+f[0][1],l=+f[1][0],u=+f[1][1]),c()):o==null?null:[[o,s],[l,u]]};function c(){var f=Le*r(),d=e(KF(e.rotate()).invert([0,0]));return a(o==null?[[d[0]-f,d[1]-f],[d[0]+f,d[1]+f]]:t===tp?[[Math.max(d[0]-f,o),s],[Math.min(d[0]+f,l),u]]:[[o,Math.max(d[1]-f,s)],[l,Math.min(d[1]+f,u)]])}return c()}function cm(t){return zk((Ot+t)/2)}function b9(t,e){var n=be(t),r=t===e?me(t):Wy(n/be(e))/Wy(cm(e)/cm(t)),i=n*Wx(cm(t),r)/r;if(!r)return tp;function a(o,s){i>0?s<-Ot+_e&&(s=-Ot+_e):s>Ot-_e&&(s=Ot-_e);var l=i/Wx(cm(s),r);return[l*me(r*o),i-l*be(r*o)]}return a.invert=function(o,s){var l=i-s,u=Ir(r)*nn(o*o+l*l),c=Vn(o,He(l))*Ir(l);return l*r<0&&(c-=Le*Ir(o)*Ir(l)),[c/r,2*Tc(Wx(i/u,1/r))-Ot]},a}function nAe(){return Jk(b9).scale(109.5).parallels([30,30])}function xh(t,e){return[t,e]}xh.invert=xh;function rAe(){return qi(xh).scale(152.63)}function x9(t,e){var n=be(t),r=t===e?me(t):(n-be(e))/(e-t),i=n/r+t;if(He(r)<_e)return xh;function a(o,s){var l=i-s,u=r*o;return[l*me(u),i-l*be(u)]}return a.invert=function(o,s){var l=i-s,u=Vn(o,He(l))*Ir(l);return l*r<0&&(u-=Le*Ir(o)*Ir(l)),[u/r,i-Ir(r)*nn(o*o+l*l)]},a}function iAe(){return Jk(x9).scale(131.154).center([0,13.9389])}var ed=1.340264,td=-.081106,nd=893e-6,rd=.003796,f0=nn(3)/2,aAe=12;function tA(t,e){var n=Fn(f0*me(e)),r=n*n,i=r*r*r;return[t*be(n)/(f0*(ed+3*td*r+i*(7*nd+9*rd*r))),n*(ed+td*r+i*(nd+rd*r))]}tA.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,a=0,o,s,l;a<aAe&&(s=n*(ed+td*r+i*(nd+rd*r))-e,l=ed+3*td*r+i*(7*nd+9*rd*r),n-=o=s/l,r=n*n,i=r*r*r,!(He(o)<gh));++a);return[f0*t*(ed+3*td*r+i*(7*nd+9*rd*r))/be(n),Fn(me(n)/f0)]};function oAe(){return qi(tA).scale(177.158)}function nA(t,e){var n=be(e),r=be(t)*n;return[n*me(t)/r,me(e)/r]}nA.invert=ep(Tc);function sAe(){return qi(nA).scale(144.049).clipAngle(60)}function lAe(){var t=1,e=0,n=0,r=1,i=1,a=0,o,s,l=null,u,c,f,d=1,m=1,g=Zh({point:function(A,_){var k=w([A,_]);this.stream.point(k[0],k[1])}}),y=yh,b,v;function x(){return d=t*r,m=t*i,b=v=null,w}function w(A){var _=A[0]*d,k=A[1]*m;if(a){var S=k*o-_*s;_=_*o+k*s,k=S}return[_+e,k+n]}return w.invert=function(A){var _=A[0]-e,k=A[1]-n;if(a){var S=k*o+_*s;_=_*o-k*s,k=S}return[_/d,k/m]},w.stream=function(A){return b&&v===A?b:b=g(y(v=A))},w.postclip=function(A){return arguments.length?(y=A,l=u=c=f=null,x()):y},w.clipExtent=function(A){return arguments.length?(y=A==null?(l=u=c=f=null,yh):tb(l=+A[0][0],u=+A[0][1],c=+A[1][0],f=+A[1][1]),x()):l==null?null:[[l,u],[c,f]]},w.scale=function(A){return arguments.length?(t=+A,x()):t},w.translate=function(A){return arguments.length?(e=+A[0],n=+A[1],x()):[e,n]},w.angle=function(A){return arguments.length?(a=A%360*Se,s=me(a),o=be(a),x()):a*rt},w.reflectX=function(A){return arguments.length?(r=A?-1:1,x()):r<0},w.reflectY=function(A){return arguments.length?(i=A?-1:1,x()):i<0},w.fitExtent=function(A,_){return nb(w,A,_)},w.fitSize=function(A,_){return Kk(w,A,_)},w.fitWidth=function(A,_){return Yk(w,A,_)},w.fitHeight=function(A,_){return Xk(w,A,_)},w}function rA(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}rA.invert=function(t,e){var n=e,r=25,i;do{var a=n*n,o=a*a;n-=i=(n*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))-e)/(1.007226+a*(.015085*3+o*(-.044475*7+.028874*9*a-.005916*11*o)))}while(He(i)>_e&&--r>0);return[t/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function uAe(){return qi(rA).scale(175.295)}function iA(t,e){return[be(e)*me(t),me(e)]}iA.invert=ep(Fn);function cAe(){return qi(iA).scale(249.5).clipAngle(90+_e)}function aA(t,e){var n=be(e),r=1+be(t)*n;return[n*me(t)/r,me(e)/r]}aA.invert=ep(function(t){return 2*Tc(t)});function fAe(){return qi(aA).scale(250).clipAngle(142)}function oA(t,e){return[Wy(zk((Ot+e)/2)),-t]}oA.invert=function(t,e){return[-e,2*Tc($F(t))-Ot]};function dAe(){var t=v9(oA),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}const hAe=Object.freeze(Object.defineProperty({__proto__:null,geoAlbers:g9,geoAlbersUsa:Jke,geoArea:ake,geoAzimuthalEqualArea:Zke,geoAzimuthalEqualAreaRaw:Zk,geoAzimuthalEquidistant:eAe,geoAzimuthalEquidistantRaw:eA,geoBounds:uke,geoCentroid:mke,geoCircle:gke,geoClipAntimeridian:iS,geoClipCircle:e9,geoClipExtent:Ske,geoClipRectangle:tb,geoConicConformal:nAe,geoConicConformalRaw:b9,geoConicEqualArea:c0,geoConicEqualAreaRaw:m9,geoConicEquidistant:iAe,geoConicEquidistantRaw:x9,geoContains:Oke,geoDistance:r0,geoEqualEarth:oAe,geoEqualEarthRaw:tA,geoEquirectangular:rAe,geoEquirectangularRaw:xh,geoGnomonic:sAe,geoGnomonicRaw:nA,geoGraticule:Hk,geoGraticule10:Nke,geoIdentity:lAe,geoInterpolate:Cke,geoLength:t9,geoMercator:tAe,geoMercatorRaw:tp,geoNaturalEarth1:uAe,geoNaturalEarth1Raw:rA,geoOrthographic:cAe,geoOrthographicRaw:iA,geoPath:p9,geoProjection:qi,geoProjectionMutator:Qk,geoRotation:KF,geoStereographic:fAe,geoStereographicRaw:aA,geoStream:Xr,geoTransform:zke,geoTransverseMercator:dAe,geoTransverseMercatorRaw:oA},Symbol.toStringTag,{value:"Module"}));function pAe(t){return t}function mAe(t){if(t==null)return pAe;var e,n,r=t.scale[0],i=t.scale[1],a=t.translate[0],o=t.translate[1];return function(s,l){l||(e=n=0);var u=2,c=s.length,f=new Array(c);for(f[0]=(e+=s[0])*r+a,f[1]=(n+=s[1])*i+o;u<c;)f[u]=s[u],++u;return f}}function gAe(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}function yAe(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return GR(t,n)})}:GR(t,e)}function GR(t,e){var n=e.id,r=e.bbox,i=e.properties==null?{}:e.properties,a=w9(t,e);return n==null&&r==null?{type:"Feature",properties:i,geometry:a}:r==null?{type:"Feature",id:n,properties:i,geometry:a}:{type:"Feature",id:n,bbox:r,properties:i,geometry:a}}function w9(t,e){var n=mAe(t.transform),r=t.arcs;function i(c,f){f.length&&f.pop();for(var d=r[c<0?~c:c],m=0,g=d.length;m<g;++m)f.push(n(d[m],m));c<0&&gAe(f,g)}function a(c){return n(c)}function o(c){for(var f=[],d=0,m=c.length;d<m;++d)i(c[d],f);return f.length<2&&f.push(f[0]),f}function s(c){for(var f=o(c);f.length<4;)f.push(f[0]);return f}function l(c){return c.map(s)}function u(c){var f=c.type,d;switch(f){case"GeometryCollection":return{type:f,geometries:c.geometries.map(u)};case"Point":d=a(c.coordinates);break;case"MultiPoint":d=c.coordinates.map(a);break;case"LineString":d=o(c.arcs);break;case"MultiLineString":d=c.arcs.map(o);break;case"Polygon":d=l(c.arcs);break;case"MultiPolygon":d=c.arcs.map(l);break;default:return null}return{type:f,coordinates:d}}return u(e)}function vAe(t,e){var n={},r={},i={},a=[],o=-1;e.forEach(function(u,c){var f=t.arcs[u<0?~u:u],d;f.length<3&&!f[1][0]&&!f[1][1]&&(d=e[++o],e[o]=u,e[c]=d)}),e.forEach(function(u){var c=s(u),f=c[0],d=c[1],m,g;if(m=i[f])if(delete i[m.end],m.push(u),m.end=d,g=r[d]){delete r[g.start];var y=g===m?m:m.concat(g);r[y.start=m.start]=i[y.end=g.end]=y}else r[m.start]=i[m.end]=m;else if(m=r[d])if(delete r[m.start],m.unshift(u),m.start=f,g=i[f]){delete i[g.end];var b=g===m?m:g.concat(m);r[b.start=g.start]=i[b.end=m.end]=b}else r[m.start]=i[m.end]=m;else m=[u],r[m.start=f]=i[m.end=d]=m});function s(u){var c=t.arcs[u<0?~u:u],f=c[0],d;return t.transform?(d=[0,0],c.forEach(function(m){d[0]+=m[0],d[1]+=m[1]})):d=c[c.length-1],u<0?[d,f]:[f,d]}function l(u,c){for(var f in u){var d=u[f];delete c[d.start],delete d.start,delete d.end,d.forEach(function(m){n[m<0?~m:m]=1}),a.push(d)}}return l(i,r),l(r,i),e.forEach(function(u){n[u<0?~u:u]||a.push([u])}),a}function KR(t){return w9(t,bAe.apply(this,arguments))}function bAe(t,e,n){var r,i,a;if(arguments.length>1)r=xAe(t,e,n);else for(i=0,r=new Array(a=t.arcs.length);i<a;++i)r[i]=i;return{type:"MultiLineString",arcs:vAe(t,r)}}function xAe(t,e,n){var r=[],i=[],a;function o(f){var d=f<0?~f:f;(i[d]||(i[d]=[])).push({i:f,g:a})}function s(f){f.forEach(o)}function l(f){f.forEach(s)}function u(f){f.forEach(l)}function c(f){switch(a=f,f.type){case"GeometryCollection":f.geometries.forEach(c);break;case"LineString":s(f.arcs);break;case"MultiLineString":case"Polygon":l(f.arcs);break;case"MultiPolygon":u(f.arcs);break}}return c(e),i.forEach(n==null?function(f){r.push(f[0].i)}:function(f){n(f[0].g,f[f.length-1].g)&&r.push(f[0].i)}),r}var wAe={value:()=>{}};function sA(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Um(n)}function Um(t){this._=t}function _Ae(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Um.prototype=sA.prototype={constructor:Um,on:function(t,e){var n=this._,r=_Ae(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=SAe(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=YR(n[i],t.name,e);else if(e==null)for(i in n)n[i]=YR(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Um(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function SAe(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function YR(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=wAe,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var yS="http://www.w3.org/1999/xhtml";const XR={svg:"http://www.w3.org/2000/svg",xhtml:yS,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function rb(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),XR.hasOwnProperty(e)?{space:XR[e],local:t}:t}function EAe(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===yS&&e.documentElement.namespaceURI===yS?e.createElement(t):e.createElementNS(n,t)}}function TAe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function _9(t){var e=rb(t);return(e.local?TAe:EAe)(e)}function kAe(){}function lA(t){return t==null?kAe:function(){return this.querySelector(t)}}function AAe(t){typeof t!="function"&&(t=lA(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=new Array(o),l,u,c=0;c<o;++c)(l=a[c])&&(u=t.call(l,l.__data__,c,a))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new Zn(r,this._parents)}function S9(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function PAe(){return[]}function E9(t){return t==null?PAe:function(){return this.querySelectorAll(t)}}function IAe(t){return function(){var e=t.apply(this,arguments);return e==null?[]:S9(e)}}function OAe(t){typeof t=="function"?t=IAe(t):t=E9(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&(r.push(t.call(l,l.__data__,u,o)),i.push(l));return new Zn(r,i)}function T9(t){return function(){return this.matches(t)}}function k9(t){return function(e){return e.matches(t)}}var NAe=Array.prototype.find;function CAe(t){return function(){return NAe.call(this.children,t)}}function jAe(){return this.firstElementChild}function RAe(t){return this.select(t==null?jAe:CAe(typeof t=="function"?t:k9(t)))}var MAe=Array.prototype.filter;function $Ae(){return this.children}function DAe(t){return function(){return MAe.call(this.children,t)}}function LAe(t){return this.selectAll(t==null?$Ae:DAe(typeof t=="function"?t:k9(t)))}function VAe(t){typeof t!="function"&&(t=T9(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],l,u=0;u<o;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&s.push(l);return new Zn(r,this._parents)}function A9(t){return new Array(t.length)}function FAe(){return new Zn(this._enter||this._groups.map(A9),this._parents)}function d0(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}d0.prototype={constructor:d0,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function UAe(t){return function(){return t}}function BAe(t,e,n,r,i,a){for(var o=0,s,l=e.length,u=a.length;o<u;++o)(s=e[o])?(s.__data__=a[o],r[o]=s):n[o]=new d0(t,a[o]);for(;o<l;++o)(s=e[o])&&(i[o]=s)}function zAe(t,e,n,r,i,a,o){var s,l,u=new Map,c=e.length,f=a.length,d=new Array(c),m;for(s=0;s<c;++s)(l=e[s])&&(d[s]=m=o.call(l,l.__data__,s,e)+"",u.has(m)?i[s]=l:u.set(m,l));for(s=0;s<f;++s)m=o.call(t,a[s],s,a)+"",(l=u.get(m))?(r[s]=l,l.__data__=a[s],u.delete(m)):n[s]=new d0(t,a[s]);for(s=0;s<c;++s)(l=e[s])&&u.get(d[s])===l&&(i[s]=l)}function WAe(t){return t.__data__}function qAe(t,e){if(!arguments.length)return Array.from(this,WAe);var n=e?zAe:BAe,r=this._parents,i=this._groups;typeof t!="function"&&(t=UAe(t));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),u=0;u<a;++u){var c=r[u],f=i[u],d=f.length,m=S9(t.call(c,c&&c.__data__,u,r)),g=m.length,y=s[u]=new Array(g),b=o[u]=new Array(g),v=l[u]=new Array(d);n(c,f,y,b,v,m,e);for(var x=0,w=0,A,_;x<g;++x)if(A=y[x]){for(x>=w&&(w=x+1);!(_=b[w])&&++w<g;);A._next=_||null}}return o=new Zn(o,r),o._enter=s,o._exit=l,o}function HAe(){return new Zn(this._exit||this._groups.map(A9),this._parents)}function GAe(t,e,n){var r=this.enter(),i=this,a=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),e!=null&&(i=e(i)),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function KAe(t){if(!(t instanceof Zn))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l=e[s],u=n[s],c=l.length,f=o[s]=new Array(c),d,m=0;m<c;++m)(d=l[m]||u[m])&&(f[m]=d);for(;s<r;++s)o[s]=e[s];return new Zn(o,this._parents)}function YAe(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function XAe(t){t||(t=QAe);function e(f,d){return f&&d?t(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,l=i[a]=new Array(s),u,c=0;c<s;++c)(u=o[c])&&(l[c]=u);l.sort(e)}return new Zn(i,this._parents).order()}function QAe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function JAe(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ZAe(){return Array.from(this)}function ePe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function tPe(){let t=0;for(const e of this)++t;return t}function nPe(){return!this.node()}function rPe(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&t.call(s,s.__data__,a,i);return this}function iPe(t){return function(){this.removeAttribute(t)}}function aPe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function oPe(t,e){return function(){this.setAttribute(t,e)}}function sPe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function lPe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function uPe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function cPe(t,e){var n=rb(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?aPe:iPe:typeof e=="function"?n.local?uPe:lPe:n.local?sPe:oPe)(n,e))}function P9(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function fPe(t){return function(){this.style.removeProperty(t)}}function dPe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function hPe(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function pPe(t,e,n){return arguments.length>1?this.each((e==null?fPe:typeof e=="function"?hPe:dPe)(t,e,n??"")):Xu(this.node(),t)}function Xu(t,e){return t.style.getPropertyValue(e)||P9(t).getComputedStyle(t,null).getPropertyValue(e)}function mPe(t){return function(){delete this[t]}}function gPe(t,e){return function(){this[t]=e}}function yPe(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function vPe(t,e){return arguments.length>1?this.each((e==null?mPe:typeof e=="function"?yPe:gPe)(t,e)):this.node()[t]}function I9(t){return t.trim().split(/^|\s+/)}function uA(t){return t.classList||new O9(t)}function O9(t){this._node=t,this._names=I9(t.getAttribute("class")||"")}O9.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function N9(t,e){for(var n=uA(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function C9(t,e){for(var n=uA(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function bPe(t){return function(){N9(this,t)}}function xPe(t){return function(){C9(this,t)}}function wPe(t,e){return function(){(e.apply(this,arguments)?N9:C9)(this,t)}}function _Pe(t,e){var n=I9(t+"");if(arguments.length<2){for(var r=uA(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?wPe:e?bPe:xPe)(n,e))}function SPe(){this.textContent=""}function EPe(t){return function(){this.textContent=t}}function TPe(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function kPe(t){return arguments.length?this.each(t==null?SPe:(typeof t=="function"?TPe:EPe)(t)):this.node().textContent}function APe(){this.innerHTML=""}function PPe(t){return function(){this.innerHTML=t}}function IPe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function OPe(t){return arguments.length?this.each(t==null?APe:(typeof t=="function"?IPe:PPe)(t)):this.node().innerHTML}function NPe(){this.nextSibling&&this.parentNode.appendChild(this)}function CPe(){return this.each(NPe)}function jPe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function RPe(){return this.each(jPe)}function MPe(t){var e=typeof t=="function"?t:_9(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function $Pe(){return null}function DPe(t,e){var n=typeof t=="function"?t:_9(t),r=e==null?$Pe:typeof e=="function"?e:lA(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function LPe(){var t=this.parentNode;t&&t.removeChild(this)}function VPe(){return this.each(LPe)}function FPe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function UPe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function BPe(t){return this.select(t?UPe:FPe)}function zPe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function WPe(t){return function(e){t.call(this,e,this.__data__)}}function qPe(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function HPe(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function GPe(t,e,n){return function(){var r=this.__on,i,a=WPe(e);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function KPe(t,e,n){var r=qPe(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<a;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(s=e?GPe:HPe,i=0;i<a;++i)this.each(s(r[i],e,n));return this}function j9(t,e,n){var r=P9(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function YPe(t,e){return function(){return j9(this,t,e)}}function XPe(t,e){return function(){return j9(this,t,e.apply(this,arguments))}}function QPe(t,e){return this.each((typeof e=="function"?XPe:YPe)(t,e))}function*JPe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var R9=[null];function Zn(t,e){this._groups=t,this._parents=e}function np(){return new Zn([[document.documentElement]],R9)}function ZPe(){return this}Zn.prototype=np.prototype={constructor:Zn,select:AAe,selectAll:OAe,selectChild:RAe,selectChildren:LAe,filter:VAe,data:qAe,enter:FAe,exit:HAe,join:GAe,merge:KAe,selection:ZPe,order:YAe,sort:XAe,call:JAe,nodes:ZAe,node:ePe,size:tPe,empty:nPe,each:rPe,attr:cPe,style:pPe,property:vPe,classed:_Pe,text:kPe,html:OPe,raise:CPe,lower:RPe,append:MPe,insert:DPe,remove:VPe,clone:BPe,datum:zPe,on:KPe,dispatch:QPe,[Symbol.iterator]:JPe};function Zi(t){return typeof t=="string"?new Zn([[document.querySelector(t)]],[document.documentElement]):new Zn([[t]],R9)}function e2e(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ts(t,e){if(t=e2e(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function vS(t){t.preventDefault(),t.stopImmediatePropagation()}function t2e(t){var e=t.document.documentElement,n=Zi(t).on("dragstart.drag",vS,!0);"onselectstart"in e?n.on("selectstart.drag",vS,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function n2e(t,e){var n=t.document.documentElement,r=Zi(t).on("dragstart.drag",null);e&&(r.on("click.drag",vS,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var r2e=1e-12;function QR(t){return((t=Math.exp(t))+1/t)/2}function i2e(t){return((t=Math.exp(t))-1/t)/2}function a2e(t){return((t=Math.exp(2*t))-1)/(t+1)}const o2e=function t(e,n,r){function i(a,o){var s=a[0],l=a[1],u=a[2],c=o[0],f=o[1],d=o[2],m=c-s,g=f-l,y=m*m+g*g,b,v;if(y<r2e)v=Math.log(d/u)/e,b=function(S){return[s+S*m,l+S*g,u*Math.exp(e*S*v)]};else{var x=Math.sqrt(y),w=(d*d-u*u+r*y)/(2*u*n*x),A=(d*d-u*u-r*y)/(2*d*n*x),_=Math.log(Math.sqrt(w*w+1)-w),k=Math.log(Math.sqrt(A*A+1)-A);v=(k-_)/e,b=function(S){var E=S*v,P=QR(_),N=u/(n*x)*(P*a2e(e*E+_)-i2e(_));return[s+N*m,l+N*g,u*P/QR(e*E+_)]}}return b.duration=v*1e3*e/Math.SQRT2,b}return i.rho=function(a){var o=Math.max(.001,+a),s=o*o,l=s*s;return t(o,s,l)},i}(Math.SQRT2,2,4);var Qu=0,Of=0,df=0,M9=1e3,h0,Nf,p0=0,Xs=0,ib=0,wh=typeof performance=="object"&&performance.now?performance:Date,$9=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function cA(){return Xs||($9(s2e),Xs=wh.now()+ib)}function s2e(){Xs=0}function m0(){this._call=this._time=this._next=null}m0.prototype=D9.prototype={constructor:m0,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?cA():+n)+(e==null?0:+e),!this._next&&Nf!==this&&(Nf?Nf._next=this:h0=this,Nf=this),this._call=t,this._time=n,bS()},stop:function(){this._call&&(this._call=null,this._time=1/0,bS())}};function D9(t,e,n){var r=new m0;return r.restart(t,e,n),r}function l2e(){cA(),++Qu;for(var t=h0,e;t;)(e=Xs-t._time)>=0&&t._call.call(null,e),t=t._next;--Qu}function JR(){Xs=(p0=wh.now())+ib,Qu=Of=0;try{l2e()}finally{Qu=0,c2e(),Xs=0}}function u2e(){var t=wh.now(),e=t-p0;e>M9&&(ib-=e,p0=t)}function c2e(){for(var t,e=h0,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:h0=n);Nf=t,bS(r)}function bS(t){if(!Qu){Of&&(Of=clearTimeout(Of));var e=t-Xs;e>24?(t<1/0&&(Of=setTimeout(JR,t-wh.now()-ib)),df&&(df=clearInterval(df))):(df||(p0=wh.now(),df=setInterval(u2e,M9)),Qu=1,$9(JR))}}function ZR(t,e,n){var r=new m0;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var f2e=sA("start","end","cancel","interrupt"),d2e=[],L9=0,eM=1,xS=2,Bm=3,tM=4,wS=5,zm=6;function ab(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;h2e(t,n,{name:e,index:r,group:i,on:f2e,tween:d2e,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:L9})}function fA(t,e){var n=fi(t,e);if(n.state>L9)throw new Error("too late; already scheduled");return n}function Hi(t,e){var n=fi(t,e);if(n.state>Bm)throw new Error("too late; already running");return n}function fi(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function h2e(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=D9(a,0,n.time);function a(u){n.state=eM,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var c,f,d,m;if(n.state!==eM)return l();for(c in r)if(m=r[c],m.name===n.name){if(m.state===Bm)return ZR(o);m.state===tM?(m.state=zm,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete r[c]):+c<e&&(m.state=zm,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete r[c])}if(ZR(function(){n.state===Bm&&(n.state=tM,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=xS,n.on.call("start",t,t.__data__,n.index,n.group),n.state===xS){for(n.state=Bm,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(m=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=m);i.length=f+1}}function s(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=wS,1),f=-1,d=i.length;++f<d;)i[f].call(t,c);n.state===wS&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=zm,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function Wm(t,e){var n=t.__transition,r,i,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=!1;continue}i=r.state>xS&&r.state<wS,r.state=zm,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}a&&delete t.__transition}}function p2e(t){return this.each(function(){Wm(this,t)})}function dA(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function V9(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function rp(){}var _h=.7,g0=1/_h,ou="\\s*([+-]?\\d+)\\s*",Sh="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ri="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",m2e=/^#([0-9a-f]{3,8})$/,g2e=new RegExp("^rgb\\("+[ou,ou,ou]+"\\)$"),y2e=new RegExp("^rgb\\("+[Ri,Ri,Ri]+"\\)$"),v2e=new RegExp("^rgba\\("+[ou,ou,ou,Sh]+"\\)$"),b2e=new RegExp("^rgba\\("+[Ri,Ri,Ri,Sh]+"\\)$"),x2e=new RegExp("^hsl\\("+[Sh,Ri,Ri]+"\\)$"),w2e=new RegExp("^hsla\\("+[Sh,Ri,Ri,Sh]+"\\)$"),nM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dA(rp,Eh,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:rM,formatHex:rM,formatHsl:_2e,formatRgb:iM,toString:iM});function rM(){return this.rgb().formatHex()}function _2e(){return F9(this).formatHsl()}function iM(){return this.rgb().formatRgb()}function Eh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=m2e.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?aM(e):n===3?new fr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?fm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?fm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=g2e.exec(t))?new fr(e[1],e[2],e[3],1):(e=y2e.exec(t))?new fr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=v2e.exec(t))?fm(e[1],e[2],e[3],e[4]):(e=b2e.exec(t))?fm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=x2e.exec(t))?lM(e[1],e[2]/100,e[3]/100,1):(e=w2e.exec(t))?lM(e[1],e[2]/100,e[3]/100,e[4]):nM.hasOwnProperty(t)?aM(nM[t]):t==="transparent"?new fr(NaN,NaN,NaN,0):null}function aM(t){return new fr(t>>16&255,t>>8&255,t&255,1)}function fm(t,e,n,r){return r<=0&&(t=e=n=NaN),new fr(t,e,n,r)}function S2e(t){return t instanceof rp||(t=Eh(t)),t?(t=t.rgb(),new fr(t.r,t.g,t.b,t.opacity)):new fr}function _S(t,e,n,r){return arguments.length===1?S2e(t):new fr(t,e,n,r??1)}function fr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}dA(fr,_S,V9(rp,{brighter:function(t){return t=t==null?g0:Math.pow(g0,t),new fr(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?_h:Math.pow(_h,t),new fr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oM,formatHex:oM,formatRgb:sM,toString:sM}));function oM(){return"#"+Yx(this.r)+Yx(this.g)+Yx(this.b)}function sM(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function Yx(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function lM(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new wi(t,e,n,r)}function F9(t){if(t instanceof wi)return new wi(t.h,t.s,t.l,t.opacity);if(t instanceof rp||(t=Eh(t)),!t)return new wi;if(t instanceof wi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new wi(o,s,l,t.opacity)}function E2e(t,e,n,r){return arguments.length===1?F9(t):new wi(t,e,n,r??1)}function wi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}dA(wi,E2e,V9(rp,{brighter:function(t){return t=t==null?g0:Math.pow(g0,t),new wi(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?_h:Math.pow(_h,t),new wi(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new fr(Xx(t>=240?t-240:t+120,i,r),Xx(t,i,r),Xx(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function Xx(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const U9=t=>()=>t;function T2e(t,e){return function(n){return t+n*e}}function k2e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function A2e(t){return(t=+t)==1?B9:function(e,n){return n-e?k2e(e,n,t):U9(isNaN(e)?n:e)}}function B9(t,e){var n=e-t;return n?T2e(t,n):U9(isNaN(t)?e:t)}const uM=function t(e){var n=A2e(e);function r(i,a){var o=n((i=_S(i)).r,(a=_S(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=B9(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Ha(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var SS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qx=new RegExp(SS.source,"g");function P2e(t){return function(){return t}}function I2e(t){return function(e){return t(e)+""}}function O2e(t,e){var n=SS.lastIndex=Qx.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=SS.exec(t))&&(i=Qx.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Ha(r,i)})),n=Qx.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?I2e(l[0].x):P2e(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}var cM=180/Math.PI,ES={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function z9(t,e,n,r,i,a){var o,s,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*cM,skewX:Math.atan(l)*cM,scaleX:o,scaleY:s}}var dm;function N2e(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ES:z9(e.a,e.b,e.c,e.d,e.e,e.f)}function C2e(t){return t==null||(dm||(dm=document.createElementNS("http://www.w3.org/2000/svg","g")),dm.setAttribute("transform",t),!(t=dm.transform.baseVal.consolidate()))?ES:(t=t.matrix,z9(t.a,t.b,t.c,t.d,t.e,t.f))}function W9(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function a(u,c,f,d,m,g){if(u!==f||c!==d){var y=m.push("translate(",null,e,null,n);g.push({i:y-4,x:Ha(u,f)},{i:y-2,x:Ha(c,d)})}else(f||d)&&m.push("translate("+f+e+d+n)}function o(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Ha(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function s(u,c,f,d){u!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Ha(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,d,m,g){if(u!==f||c!==d){var y=m.push(i(m)+"scale(",null,",",null,")");g.push({i:y-4,x:Ha(u,f)},{i:y-2,x:Ha(c,d)})}else(f!==1||d!==1)&&m.push(i(m)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=t(u),c=t(c),a(u.translateX,u.translateY,c.translateX,c.translateY,f,d),o(u.rotate,c.rotate,f,d),s(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(m){for(var g=-1,y=d.length,b;++g<y;)f[(b=d[g]).i]=b.x(m);return f.join("")}}}var j2e=W9(N2e,"px, ","px)","deg)"),R2e=W9(C2e,", ",")",")");function M2e(t,e){var n,r;return function(){var i=Hi(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function $2e(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=Hi(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=s;break}l===u&&i.push(s)}a.tween=i}}function D2e(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=fi(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?M2e:$2e)(n,t,e))}function hA(t,e,n){var r=t._id;return t.each(function(){var i=Hi(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return fi(i,r).value[e]}}function q9(t,e){var n;return(typeof e=="number"?Ha:e instanceof Eh?uM:(n=Eh(e))?(e=n,uM):O2e)(t,e)}function L2e(t){return function(){this.removeAttribute(t)}}function V2e(t){return function(){this.removeAttributeNS(t.space,t.local)}}function F2e(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function U2e(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function B2e(t,e,n){var r,i,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s)))}}function z2e(t,e,n){var r,i,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s)))}}function W2e(t,e){var n=rb(t),r=n==="transform"?R2e:q9;return this.attrTween(t,typeof e=="function"?(n.local?z2e:B2e)(n,r,hA(this,"attr."+t,e)):e==null?(n.local?V2e:L2e)(n):(n.local?U2e:F2e)(n,r,e))}function q2e(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function H2e(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function G2e(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&H2e(t,a)),n}return i._value=e,i}function K2e(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&q2e(t,a)),n}return i._value=e,i}function Y2e(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=rb(t);return this.tween(n,(r.local?G2e:K2e)(r,e))}function X2e(t,e){return function(){fA(this,t).delay=+e.apply(this,arguments)}}function Q2e(t,e){return e=+e,function(){fA(this,t).delay=e}}function J2e(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?X2e:Q2e)(e,t)):fi(this.node(),e).delay}function Z2e(t,e){return function(){Hi(this,t).duration=+e.apply(this,arguments)}}function eIe(t,e){return e=+e,function(){Hi(this,t).duration=e}}function tIe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Z2e:eIe)(e,t)):fi(this.node(),e).duration}function nIe(t,e){if(typeof e!="function")throw new Error;return function(){Hi(this,t).ease=e}}function rIe(t){var e=this._id;return arguments.length?this.each(nIe(e,t)):fi(this.node(),e).ease}function iIe(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Hi(this,t).ease=n}}function aIe(t){if(typeof t!="function")throw new Error;return this.each(iIe(this._id,t))}function oIe(t){typeof t!="function"&&(t=T9(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],l,u=0;u<o;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&s.push(l);return new ka(r,this._parents,this._name,this._id)}function sIe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l=e[s],u=n[s],c=l.length,f=o[s]=new Array(c),d,m=0;m<c;++m)(d=l[m]||u[m])&&(f[m]=d);for(;s<r;++s)o[s]=e[s];return new ka(o,this._parents,this._name,this._id)}function lIe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function uIe(t,e,n){var r,i,a=lIe(e)?fA:Hi;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}function cIe(t,e){var n=this._id;return arguments.length<2?fi(this.node(),n).on.on(t):this.each(uIe(n,t,e))}function fIe(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function dIe(){return this.on("end.remove",fIe(this._id))}function hIe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=lA(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],l=s.length,u=a[o]=new Array(l),c,f,d=0;d<l;++d)(c=s[d])&&(f=t.call(c,c.__data__,d,s))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f,ab(u[d],e,n,d,u,fi(c,n)));return new ka(a,this._parents,e,n)}function pIe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=E9(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l=r[s],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var d=t.call(c,c.__data__,f,l),m,g=fi(c,n),y=0,b=d.length;y<b;++y)(m=d[y])&&ab(m,e,n,y,d,g);a.push(d),o.push(c)}return new ka(a,o,e,n)}var mIe=np.prototype.constructor;function gIe(){return new mIe(this._groups,this._parents)}function yIe(t,e){var n,r,i;return function(){var a=Xu(this,t),o=(this.style.removeProperty(t),Xu(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function H9(t){return function(){this.style.removeProperty(t)}}function vIe(t,e,n){var r,i=n+"",a;return function(){var o=Xu(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}function bIe(t,e,n){var r,i,a;return function(){var o=Xu(this,t),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),Xu(this,t))),o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s))}}function xIe(t,e){var n,r,i,a="style."+e,o="end."+a,s;return function(){var l=Hi(this,t),u=l.on,c=l.value[a]==null?s||(s=H9(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(o,i=c),l.on=r}}function wIe(t,e,n){var r=(t+="")=="transform"?j2e:q9;return e==null?this.styleTween(t,yIe(t,r)).on("end.style."+t,H9(t)):typeof e=="function"?this.styleTween(t,bIe(t,r,hA(this,"style."+t,e))).each(xIe(this._id,t)):this.styleTween(t,vIe(t,r,e),n).on("end.style."+t,null)}function _Ie(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function SIe(t,e,n){var r,i;function a(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&_Ie(t,o,n)),r}return a._value=e,a}function EIe(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,SIe(t,e,n??""))}function TIe(t){return function(){this.textContent=t}}function kIe(t){return function(){var e=t(this);this.textContent=e??""}}function AIe(t){return this.tween("text",typeof t=="function"?kIe(hA(this,"text",t)):TIe(t==null?"":t+""))}function PIe(t){return function(e){this.textContent=t.call(this,e)}}function IIe(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&PIe(i)),e}return r._value=t,r}function OIe(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,IIe(t))}function NIe(){for(var t=this._name,e=this._id,n=G9(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,u=0;u<s;++u)if(l=o[u]){var c=fi(l,e);ab(l,t,n,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ka(r,this._parents,t,n)}function CIe(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},l={value:function(){--i===0&&a()}};n.each(function(){var u=Hi(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),u.on=e}),i===0&&a()})}var jIe=0;function ka(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function G9(){return++jIe}var ns=np.prototype;ka.prototype={constructor:ka,select:hIe,selectAll:pIe,filter:oIe,merge:sIe,selection:gIe,transition:NIe,call:ns.call,nodes:ns.nodes,node:ns.node,size:ns.size,empty:ns.empty,each:ns.each,on:cIe,attr:W2e,attrTween:Y2e,style:wIe,styleTween:EIe,text:AIe,textTween:OIe,remove:dIe,tween:D2e,delay:J2e,duration:tIe,ease:rIe,easeVarying:aIe,end:CIe,[Symbol.iterator]:ns[Symbol.iterator]};function RIe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var MIe={time:null,delay:0,duration:250,ease:RIe};function $Ie(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function DIe(t){var e,n;t instanceof ka?(e=t._id,t=t._name):(e=G9(),(n=MIe).time=cA(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&ab(l,t,e,u,o,n||$Ie(l,e));return new ka(r,this._parents,t,e)}np.prototype.interrupt=p2e;np.prototype.transition=DIe;const hm=t=>()=>t;function LIe(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function sa(t,e,n){this.k=t,this.x=e,this.y=n}sa.prototype={constructor:sa,scale:function(t){return t===1?this:new sa(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new sa(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var pA=new sa(1,0,0);sa.prototype;function Jx(t){t.stopImmediatePropagation()}function hf(t){t.preventDefault(),t.stopImmediatePropagation()}function VIe(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function FIe(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function fM(){return this.__zoom||pA}function UIe(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function BIe(){return navigator.maxTouchPoints||"ontouchstart"in this}function zIe(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function WIe(){var t=VIe,e=FIe,n=zIe,r=UIe,i=BIe,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,l=o2e,u=sA("start","zoom","end"),c,f,d,m=500,g=150,y=0,b=10;function v(D){D.property("__zoom",fM).on("wheel.zoom",E).on("mousedown.zoom",P).on("dblclick.zoom",N).filter(i).on("touchstart.zoom",O).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",j).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(D,R,$,F){var V=D.selection?D.selection():D;V.property("__zoom",fM),D!==V?_(D,R,$,F):V.interrupt().each(function(){k(this,arguments).event(F).start().zoom(null,typeof R=="function"?R.apply(this,arguments):R).end()})},v.scaleBy=function(D,R,$,F){v.scaleTo(D,function(){var V=this.__zoom.k,U=typeof R=="function"?R.apply(this,arguments):R;return V*U},$,F)},v.scaleTo=function(D,R,$,F){v.transform(D,function(){var V=e.apply(this,arguments),U=this.__zoom,W=$==null?A(V):typeof $=="function"?$.apply(this,arguments):$,q=U.invert(W),B=typeof R=="function"?R.apply(this,arguments):R;return n(w(x(U,B),W,q),V,o)},$,F)},v.translateBy=function(D,R,$,F){v.transform(D,function(){return n(this.__zoom.translate(typeof R=="function"?R.apply(this,arguments):R,typeof $=="function"?$.apply(this,arguments):$),e.apply(this,arguments),o)},null,F)},v.translateTo=function(D,R,$,F,V){v.transform(D,function(){var U=e.apply(this,arguments),W=this.__zoom,q=F==null?A(U):typeof F=="function"?F.apply(this,arguments):F;return n(pA.translate(q[0],q[1]).scale(W.k).translate(typeof R=="function"?-R.apply(this,arguments):-R,typeof $=="function"?-$.apply(this,arguments):-$),U,o)},F,V)};function x(D,R){return R=Math.max(a[0],Math.min(a[1],R)),R===D.k?D:new sa(R,D.x,D.y)}function w(D,R,$){var F=R[0]-$[0]*D.k,V=R[1]-$[1]*D.k;return F===D.x&&V===D.y?D:new sa(D.k,F,V)}function A(D){return[(+D[0][0]+ +D[1][0])/2,(+D[0][1]+ +D[1][1])/2]}function _(D,R,$,F){D.on("start.zoom",function(){k(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(F).end()}).tween("zoom",function(){var V=this,U=arguments,W=k(V,U).event(F),q=e.apply(V,U),B=$==null?A(q):typeof $=="function"?$.apply(V,U):$,K=Math.max(q[1][0]-q[0][0],q[1][1]-q[0][1]),re=V.__zoom,fe=typeof R=="function"?R.apply(V,U):R,ve=l(re.invert(B).concat(K/re.k),fe.invert(B).concat(K/fe.k));return function(Ae){if(Ae===1)Ae=fe;else{var Ee=ve(Ae),J=K/Ee[2];Ae=new sa(J,B[0]-Ee[0]*J,B[1]-Ee[1]*J)}W.zoom(null,Ae)}})}function k(D,R,$){return!$&&D.__zooming||new S(D,R)}function S(D,R){this.that=D,this.args=R,this.active=0,this.sourceEvent=null,this.extent=e.apply(D,R),this.taps=0}S.prototype={event:function(D){return D&&(this.sourceEvent=D),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(D,R){return this.mouse&&D!=="mouse"&&(this.mouse[1]=R.invert(this.mouse[0])),this.touch0&&D!=="touch"&&(this.touch0[1]=R.invert(this.touch0[0])),this.touch1&&D!=="touch"&&(this.touch1[1]=R.invert(this.touch1[0])),this.that.__zoom=R,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(D){var R=Zi(this.that).datum();u.call(D,this.that,new LIe(D,{sourceEvent:this.sourceEvent,target:v,transform:this.that.__zoom,dispatch:u}),R)}};function E(D,...R){if(!t.apply(this,arguments))return;var $=k(this,R).event(D),F=this.__zoom,V=Math.max(a[0],Math.min(a[1],F.k*Math.pow(2,r.apply(this,arguments)))),U=ts(D);if($.wheel)($.mouse[0][0]!==U[0]||$.mouse[0][1]!==U[1])&&($.mouse[1]=F.invert($.mouse[0]=U)),clearTimeout($.wheel);else{if(F.k===V)return;$.mouse=[U,F.invert(U)],Wm(this),$.start()}hf(D),$.wheel=setTimeout(W,g),$.zoom("mouse",n(w(x(F,V),$.mouse[0],$.mouse[1]),$.extent,o));function W(){$.wheel=null,$.end()}}function P(D,...R){if(d||!t.apply(this,arguments))return;var $=k(this,R,!0).event(D),F=Zi(D.view).on("mousemove.zoom",B,!0).on("mouseup.zoom",K,!0),V=ts(D,U),U=D.currentTarget,W=D.clientX,q=D.clientY;t2e(D.view),Jx(D),$.mouse=[V,this.__zoom.invert(V)],Wm(this),$.start();function B(re){if(hf(re),!$.moved){var fe=re.clientX-W,ve=re.clientY-q;$.moved=fe*fe+ve*ve>y}$.event(re).zoom("mouse",n(w($.that.__zoom,$.mouse[0]=ts(re,U),$.mouse[1]),$.extent,o))}function K(re){F.on("mousemove.zoom mouseup.zoom",null),n2e(re.view,$.moved),hf(re),$.event(re).end()}}function N(D,...R){if(t.apply(this,arguments)){var $=this.__zoom,F=ts(D.changedTouches?D.changedTouches[0]:D,this),V=$.invert(F),U=$.k*(D.shiftKey?.5:2),W=n(w(x($,U),F,V),e.apply(this,R),o);hf(D),s>0?Zi(this).transition().duration(s).call(_,W,F,D):Zi(this).call(v.transform,W,F,D)}}function O(D,...R){if(t.apply(this,arguments)){var $=D.touches,F=$.length,V=k(this,R,D.changedTouches.length===F).event(D),U,W,q,B;for(Jx(D),W=0;W<F;++W)q=$[W],B=ts(q,this),B=[B,this.__zoom.invert(B),q.identifier],V.touch0?!V.touch1&&V.touch0[2]!==B[2]&&(V.touch1=B,V.taps=0):(V.touch0=B,U=!0,V.taps=1+!!c);c&&(c=clearTimeout(c)),U&&(V.taps<2&&(f=B[0],c=setTimeout(function(){c=null},m)),Wm(this),V.start())}}function C(D,...R){if(this.__zooming){var $=k(this,R).event(D),F=D.changedTouches,V=F.length,U,W,q,B;for(hf(D),U=0;U<V;++U)W=F[U],q=ts(W,this),$.touch0&&$.touch0[2]===W.identifier?$.touch0[0]=q:$.touch1&&$.touch1[2]===W.identifier&&($.touch1[0]=q);if(W=$.that.__zoom,$.touch1){var K=$.touch0[0],re=$.touch0[1],fe=$.touch1[0],ve=$.touch1[1],Ae=(Ae=fe[0]-K[0])*Ae+(Ae=fe[1]-K[1])*Ae,Ee=(Ee=ve[0]-re[0])*Ee+(Ee=ve[1]-re[1])*Ee;W=x(W,Math.sqrt(Ae/Ee)),q=[(K[0]+fe[0])/2,(K[1]+fe[1])/2],B=[(re[0]+ve[0])/2,(re[1]+ve[1])/2]}else if($.touch0)q=$.touch0[0],B=$.touch0[1];else return;$.zoom("touch",n(w(W,q,B),$.extent,o))}}function j(D,...R){if(this.__zooming){var $=k(this,R).event(D),F=D.changedTouches,V=F.length,U,W;for(Jx(D),d&&clearTimeout(d),d=setTimeout(function(){d=null},m),U=0;U<V;++U)W=F[U],$.touch0&&$.touch0[2]===W.identifier?delete $.touch0:$.touch1&&$.touch1[2]===W.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(W=ts(W,this),Math.hypot(f[0]-W[0],f[1]-W[1])<b)){var q=Zi(this).on("dblclick.zoom");q&&q.apply(this,arguments)}}}return v.wheelDelta=function(D){return arguments.length?(r=typeof D=="function"?D:hm(+D),v):r},v.filter=function(D){return arguments.length?(t=typeof D=="function"?D:hm(!!D),v):t},v.touchable=function(D){return arguments.length?(i=typeof D=="function"?D:hm(!!D),v):i},v.extent=function(D){return arguments.length?(e=typeof D=="function"?D:hm([[+D[0][0],+D[0][1]],[+D[1][0],+D[1][1]]]),v):e},v.scaleExtent=function(D){return arguments.length?(a[0]=+D[0],a[1]=+D[1],v):[a[0],a[1]]},v.translateExtent=function(D){return arguments.length?(o[0][0]=+D[0][0],o[1][0]=+D[1][0],o[0][1]=+D[0][1],o[1][1]=+D[1][1],v):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},v.constrain=function(D){return arguments.length?(n=D,v):n},v.duration=function(D){return arguments.length?(s=+D,v):s},v.interpolate=function(D){return arguments.length?(l=D,v):l},v.on=function(){var D=u.on.apply(u,arguments);return D===u?v:D},v.clickDistance=function(D){return arguments.length?(y=(D=+D)*D,v):Math.sqrt(y)},v.tapDistance=function(D){return arguments.length?(b=+D,v):b},v}function dM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ul(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(n),!0).forEach(function(r){qIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TS(t){"@babel/helpers - typeof";return TS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TS(t)}function qIe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function er(){return er=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},er.apply(this,arguments)}function HIe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Fr(t,e){if(t==null)return{};var n=HIe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ln(t,e){return GIe(t)||KIe(t,e)||YIe(t,e)||XIe()}function GIe(t){if(Array.isArray(t))return t}function KIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,o,s;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){a=!0,s=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw s}}return r}}function YIe(t,e){if(t){if(typeof t=="string")return hM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hM(t,e)}}function hM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var QIe=["width","height","projection","projectionConfig"],JIe=p9,ZIe=Fr(hAe,["geoPath"]),Gi=M.createContext(),eOe=function(e){var n=e.projectionConfig,r=n===void 0?{}:n,i=e.projection,a=i===void 0?"geoEqualEarth":i,o=e.width,s=o===void 0?800:o,l=e.height,u=l===void 0?600:l,c=typeof a=="function";if(c)return a;var f=ZIe[a]().translate([s/2,u/2]),d=[f.center?"center":null,f.rotate?"rotate":null,f.scale?"scale":null,f.parallels?"parallels":null];return d.forEach(function(m){m&&(f=f[m](r[m]||f[m]()))}),f},K9=function(e){var n=e.width,r=e.height,i=e.projection,a=e.projectionConfig,o=Fr(e,QIe),s=a.center||[],l=ln(s,2),u=l[0],c=l[1],f=a.rotate||[],d=ln(f,3),m=d[0],g=d[1],y=d[2],b=a.parallels||[],v=ln(b,2),x=v[0],w=v[1],A=a.scale||null,_=M.useMemo(function(){return eOe({projectionConfig:{center:u||u===0||c||c===0?[u,c]:null,rotate:m||m===0||g||g===0?[m,g,y]:null,parallels:x||x===0||w||w===0?[x,w]:null,scale:A},projection:i,width:n,height:r})},[n,r,i,u,c,m,g,y,x,w,A]),k=M.useCallback(_,[_]),S=M.useMemo(function(){return{width:n,height:r,projection:k,path:JIe().projection(k)}},[n,r,k]);return z.createElement(Gi.Provider,er({value:S},o))};K9.propTypes={width:te.number,height:te.number,projection:te.oneOfType([te.string,te.func]),projectionConfig:te.object};var tOe=["width","height","projection","projectionConfig","className"],mA=M.forwardRef(function(t,e){var n=t.width,r=n===void 0?800:n,i=t.height,a=i===void 0?600:i,o=t.projection,s=o===void 0?"geoEqualEarth":o,l=t.projectionConfig,u=l===void 0?{}:l,c=t.className,f=c===void 0?"":c,d=Fr(t,tOe);return z.createElement(K9,{width:r,height:a,projection:s,projectionConfig:u},z.createElement("svg",er({ref:e,viewBox:"0 0 ".concat(r," ").concat(a),className:"rsm-svg ".concat(f)},d)))});mA.displayName="ComposableMap";mA.propTypes={width:te.number,height:te.number,projection:te.oneOfType([te.string,te.func]),projectionConfig:te.object,className:te.string};function pM(t,e,n){var r=(t*n.k-t)/2,i=(e*n.k-e)/2;return[t/2-(r+n.x)/n.k,e/2-(i+n.y)/n.k]}function nOe(t){return fetch(t).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).catch(function(e){console.log("There was a problem when fetching the data: ",e)})}function mM(t,e){var n=t.type==="Topology";if(!n)return e?e(t.features||t):t.features||t;var r=yAe(t,t.objects[Object.keys(t.objects)[0]]).features;return e?e(r):r}function gM(t){var e=t.type==="Topology";if(!e)return null;var n=KR(t,t.objects[Object.keys(t.objects)[0]],function(i,a){return i===a}),r=KR(t,t.objects[Object.keys(t.objects)[0]],function(i,a){return i!==a});return{outline:n,borders:r}}function rOe(t,e,n){return t&&e?{outline:Ul(Ul({},t),{},{rsmKey:"outline",svgPath:n(t)}),borders:Ul(Ul({},e),{},{rsmKey:"borders",svgPath:n(e)})}:{}}function iOe(t,e){return t?t.map(function(n,r){return Ul(Ul({},n),{},{rsmKey:"geo-".concat(r),svgPath:e(n)})}):[]}function aOe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:30,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:30,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.5,r=Array.isArray(n)?n:[n,n],i=t/2*r[0],a=e/2*r[1];return"M".concat(0,",",0," Q",-t/2-i,",").concat(-e/2+a," ").concat(-t,",").concat(-e)}function oOe(t){return typeof t=="string"}function sOe(t){var e=t.geography,n=t.parseGeographies,r=M.useContext(Gi),i=r.path,a=M.useState({}),o=ln(a,2),s=o[0],l=o[1];M.useEffect(function(){(typeof window>"u"?"undefined":TS(window))!=="undefined"&&e&&(oOe(e)?nOe(e).then(function(m){m&&l({geographies:mM(m,n),mesh:gM(m)})}):l({geographies:mM(e,n),mesh:gM(e)}))},[e,n]);var u=M.useMemo(function(){var m=s.mesh||{},g=rOe(m.outline,m.borders,i);return{geographies:iOe(s.geographies,i),outline:g.outline,borders:g.borders}},[s,i]),c=u.geographies,f=u.outline,d=u.borders;return{geographies:c,outline:f,borders:d}}var lOe=["geography","children","parseGeographies","className"],gA=M.forwardRef(function(t,e){var n=t.geography,r=t.children,i=t.parseGeographies,a=t.className,o=a===void 0?"":a,s=Fr(t,lOe),l=M.useContext(Gi),u=l.path,c=l.projection,f=sOe({geography:n,parseGeographies:i}),d=f.geographies,m=f.outline,g=f.borders;return z.createElement("g",er({ref:e,className:"rsm-geographies ".concat(o)},s),d&&d.length>0&&r({geographies:d,outline:m,borders:g,path:u,projection:c}))});gA.displayName="Geographies";gA.propTypes={geography:te.oneOfType([te.string,te.object,te.array]),children:te.func,parseGeographies:te.func,className:te.string};var uOe=["geography","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],yA=M.forwardRef(function(t,e){var n=t.geography,r=t.onMouseEnter,i=t.onMouseLeave,a=t.onMouseDown,o=t.onMouseUp,s=t.onFocus,l=t.onBlur,u=t.style,c=u===void 0?{}:u,f=t.className,d=f===void 0?"":f,m=Fr(t,uOe),g=M.useState(!1),y=ln(g,2),b=y[0],v=y[1],x=M.useState(!1),w=ln(x,2),A=w[0],_=w[1];function k(C){_(!0),r&&r(C)}function S(C){_(!1),b&&v(!1),i&&i(C)}function E(C){_(!0),s&&s(C)}function P(C){_(!1),b&&v(!1),l&&l(C)}function N(C){v(!0),a&&a(C)}function O(C){v(!1),o&&o(C)}return z.createElement("path",er({ref:e,tabIndex:"0",className:"rsm-geography ".concat(d),d:n.svgPath,onMouseEnter:k,onMouseLeave:S,onFocus:E,onBlur:P,onMouseDown:N,onMouseUp:O,style:c[b||A?b?"pressed":"hover":"default"]},m))});yA.displayName="Geography";yA.propTypes={geography:te.object,onMouseEnter:te.func,onMouseLeave:te.func,onMouseDown:te.func,onMouseUp:te.func,onFocus:te.func,onBlur:te.func,style:te.object,className:te.string};var cOe=M.memo(yA),fOe=["fill","stroke","step","className"],vA=M.forwardRef(function(t,e){var n=t.fill,r=n===void 0?"transparent":n,i=t.stroke,a=i===void 0?"currentcolor":i,o=t.step,s=o===void 0?[10,10]:o,l=t.className,u=l===void 0?"":l,c=Fr(t,fOe),f=M.useContext(Gi),d=f.path;return z.createElement("path",er({ref:e,d:d(Hk().step(s)()),fill:r,stroke:a,className:"rsm-graticule ".concat(u)},c))});vA.displayName="Graticule";vA.propTypes={fill:te.string,stroke:te.string,step:te.array,className:te.string};M.memo(vA);var dOe=["value"],hOe=M.createContext(),pOe={x:0,y:0,k:1,transformString:"translate(0 0) scale(1)"},Y9=function(e){var n=e.value,r=n===void 0?pOe:n,i=Fr(e,dOe);return z.createElement(hOe.Provider,er({value:r},i))};Y9.propTypes={x:te.number,y:te.number,k:te.number,transformString:te.string};function mOe(t){var e=t.center,n=t.filterZoomEvent,r=t.onMoveStart,i=t.onMoveEnd,a=t.onMove,o=t.translateExtent,s=o===void 0?[[-1/0,-1/0],[1/0,1/0]]:o,l=t.scaleExtent,u=l===void 0?[1,8]:l,c=t.zoom,f=c===void 0?1:c,d=M.useContext(Gi),m=d.width,g=d.height,y=d.projection,b=ln(e,2),v=b[0],x=b[1],w=M.useState({x:0,y:0,k:1}),A=ln(w,2),_=A[0],k=A[1],S=M.useRef({x:0,y:0,k:1}),E=M.useRef(),P=M.useRef(),N=M.useRef(!1),O=ln(s,2),C=O[0],j=O[1],D=ln(C,2),R=D[0],$=D[1],F=ln(j,2),V=F[0],U=F[1],W=ln(u,2),q=W[0],B=W[1];return M.useEffect(function(){var K=Zi(E.current);function re(J){!r||N.current||r({coordinates:y.invert(pM(m,g,J.transform)),zoom:J.transform.k},J)}function fe(J){if(!N.current){var Z=J.transform,ue=J.sourceEvent;k({x:Z.x,y:Z.y,k:Z.k,dragging:ue}),a&&a({x:Z.x,y:Z.y,zoom:Z.k,dragging:ue},J)}}function ve(J){if(N.current){N.current=!1;return}var Z=y.invert(pM(m,g,J.transform)),ue=ln(Z,2),Q=ue[0],Re=ue[1];S.current={x:Q,y:Re,k:J.transform.k},i&&i({coordinates:[Q,Re],zoom:J.transform.k},J)}function Ae(J){return n?n(J):J?!J.ctrlKey&&!J.button:!1}var Ee=WIe().filter(Ae).scaleExtent([q,B]).translateExtent([[R,$],[V,U]]).on("start",re).on("zoom",fe).on("end",ve);P.current=Ee,K.call(Ee)},[m,g,R,$,V,U,q,B,y,r,a,i,n]),M.useEffect(function(){if(!(v===S.current.x&&x===S.current.y&&f===S.current.k)){var K=y([v,x]),re=K[0]*f,fe=K[1]*f,ve=Zi(E.current);N.current=!0,ve.call(P.current.transform,pA.translate(m/2-re,g/2-fe).scale(f)),k({x:m/2-re,y:g/2-fe,k:f}),S.current={x:v,y:x,k:f}}},[v,x,f,m,g,y]),{mapRef:E,position:_,transformString:"translate(".concat(_.x," ").concat(_.y,") scale(").concat(_.k,")")}}var gOe=["center","zoom","minZoom","maxZoom","translateExtent","filterZoomEvent","onMoveStart","onMove","onMoveEnd","className"],bA=M.forwardRef(function(t,e){var n=t.center,r=n===void 0?[0,0]:n,i=t.zoom,a=i===void 0?1:i,o=t.minZoom,s=o===void 0?1:o,l=t.maxZoom,u=l===void 0?8:l,c=t.translateExtent,f=t.filterZoomEvent,d=t.onMoveStart,m=t.onMove,g=t.onMoveEnd,y=t.className,b=Fr(t,gOe),v=M.useContext(Gi),x=v.width,w=v.height,A=mOe({center:r,filterZoomEvent:f,onMoveStart:d,onMove:m,onMoveEnd:g,scaleExtent:[s,u],translateExtent:c,zoom:a}),_=A.mapRef,k=A.transformString,S=A.position;return z.createElement(Y9,{value:{x:S.x,y:S.y,k:S.k,transformString:k}},z.createElement("g",{ref:_},z.createElement("rect",{width:x,height:w,fill:"transparent"}),z.createElement("g",er({ref:e,transform:k,className:"rsm-zoomable-group ".concat(y)},b))))});bA.displayName="ZoomableGroup";bA.propTypes={center:te.array,zoom:te.number,minZoom:te.number,maxZoom:te.number,translateExtent:te.arrayOf(te.array),onMoveStart:te.func,onMove:te.func,onMoveEnd:te.func,className:te.string};var yOe=["id","fill","stroke","strokeWidth","className"],xA=M.forwardRef(function(t,e){var n=t.id,r=n===void 0?"rsm-sphere":n,i=t.fill,a=i===void 0?"transparent":i,o=t.stroke,s=o===void 0?"currentcolor":o,l=t.strokeWidth,u=l===void 0?.5:l,c=t.className,f=c===void 0?"":c,d=Fr(t,yOe),m=M.useContext(Gi),g=m.path,y=M.useMemo(function(){return g({type:"Sphere"})},[g]);return z.createElement(M.Fragment,null,z.createElement("defs",null,z.createElement("clipPath",{id:r},z.createElement("path",{d:y}))),z.createElement("path",er({ref:e,d:y,fill:a,stroke:s,strokeWidth:u,style:{pointerEvents:"none"},className:"rsm-sphere ".concat(f)},d)))});xA.displayName="Sphere";xA.propTypes={id:te.string,fill:te.string,stroke:te.string,strokeWidth:te.number,className:te.string};M.memo(xA);var vOe=["coordinates","children","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],wA=M.forwardRef(function(t,e){var n=t.coordinates,r=t.children,i=t.onMouseEnter,a=t.onMouseLeave,o=t.onMouseDown,s=t.onMouseUp,l=t.onFocus,u=t.onBlur,c=t.style,f=c===void 0?{}:c,d=t.className,m=d===void 0?"":d,g=Fr(t,vOe),y=M.useContext(Gi),b=y.projection,v=M.useState(!1),x=ln(v,2),w=x[0],A=x[1],_=M.useState(!1),k=ln(_,2),S=k[0],E=k[1],P=b(n),N=ln(P,2),O=N[0],C=N[1];function j(U){E(!0),i&&i(U)}function D(U){E(!1),w&&A(!1),a&&a(U)}function R(U){E(!0),l&&l(U)}function $(U){E(!1),w&&A(!1),u&&u(U)}function F(U){A(!0),o&&o(U)}function V(U){A(!1),s&&s(U)}return z.createElement("g",er({ref:e,transform:"translate(".concat(O,", ").concat(C,")"),className:"rsm-marker ".concat(m),onMouseEnter:j,onMouseLeave:D,onFocus:R,onBlur:$,onMouseDown:F,onMouseUp:V,style:f[w||S?w?"pressed":"hover":"default"]},g),r)});wA.displayName="Marker";wA.propTypes={coordinates:te.array,children:te.oneOfType([te.node,te.arrayOf(te.node)]),onMouseEnter:te.func,onMouseLeave:te.func,onMouseDown:te.func,onMouseUp:te.func,onFocus:te.func,onBlur:te.func,style:te.object,className:te.string};var bOe=["from","to","coordinates","stroke","strokeWidth","fill","className"],X9=M.forwardRef(function(t,e){var n=t.from,r=n===void 0?[0,0]:n,i=t.to,a=i===void 0?[0,0]:i,o=t.coordinates,s=t.stroke,l=s===void 0?"currentcolor":s,u=t.strokeWidth,c=u===void 0?3:u,f=t.fill,d=f===void 0?"transparent":f,m=t.className,g=m===void 0?"":m,y=Fr(t,bOe),b=M.useContext(Gi),v=b.path,x={type:"LineString",coordinates:o||[r,a]};return z.createElement("path",er({ref:e,d:v(x),className:"rsm-line ".concat(g),stroke:l,strokeWidth:c,fill:d},y))});X9.displayName="Line";X9.propTypes={from:te.array,to:te.array,coordinates:te.array,stroke:te.string,strokeWidth:te.number,fill:te.string,className:te.string};var xOe=["subject","children","connectorProps","dx","dy","curve","className"],Q9=M.forwardRef(function(t,e){var n=t.subject,r=t.children,i=t.connectorProps,a=t.dx,o=a===void 0?30:a,s=t.dy,l=s===void 0?30:s,u=t.curve,c=u===void 0?0:u,f=t.className,d=f===void 0?"":f,m=Fr(t,xOe),g=M.useContext(Gi),y=g.projection,b=y(n),v=ln(b,2),x=v[0],w=v[1],A=aOe(o,l,c);return z.createElement("g",er({ref:e,transform:"translate(".concat(x+o,", ").concat(w+l,")"),className:"rsm-annotation ".concat(d)},m),z.createElement("path",er({d:A,fill:"transparent",stroke:"#000"},i)),r)});Q9.displayName="Annotation";Q9.propTypes={subject:te.array,children:te.oneOfType([te.node,te.arrayOf(te.node)]),dx:te.number,dy:te.number,curve:te.number,connectorProps:te.object,className:te.string};var wOe=1e-6,yM=1e-12,_A=Math.PI,vM=_A/2,bM=180/_A,Vi=_A/180,J9=Math.atan2,Fi=Math.cos,kS=Math.hypot,Ui=Math.sin,_Oe=Math.sqrt;function Z9(t){return t>1?vM:t<-1?-vM:Math.asin(t)}function SOe(){}function y0(t,e){t&&wM.hasOwnProperty(t.type)&&wM[t.type](t,e)}var xM={Feature:function(t,e){y0(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)y0(n[r].geometry,e)}},wM={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){AS(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)AS(n[r],e,0)},Polygon:function(t,e){_M(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)_M(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)y0(n[r],e)}};function AS(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function _M(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)AS(t[n],e,1);e.polygonEnd()}function EOe(t,e){t&&xM.hasOwnProperty(t.type)?xM[t.type](t,e):y0(t,e)}var Cf,v0,b0,x0,w0,_0,S0,E0,PS,IS,OS,eU,tU,Cn,jn,Rn,ti={sphere:SOe,point:SA,lineStart:SM,lineEnd:EM,polygonStart:function(){ti.lineStart=AOe,ti.lineEnd=POe},polygonEnd:function(){ti.lineStart=SM,ti.lineEnd=EM}};function SA(t,e){t*=Vi,e*=Vi;var n=Fi(e);ip(n*Fi(t),n*Ui(t),Ui(e))}function ip(t,e,n){++Cf,b0+=(t-b0)/Cf,x0+=(e-x0)/Cf,w0+=(n-w0)/Cf}function SM(){ti.point=TOe}function TOe(t,e){t*=Vi,e*=Vi;var n=Fi(e);Cn=n*Fi(t),jn=n*Ui(t),Rn=Ui(e),ti.point=kOe,ip(Cn,jn,Rn)}function kOe(t,e){t*=Vi,e*=Vi;var n=Fi(e),r=n*Fi(t),i=n*Ui(t),a=Ui(e),o=J9(_Oe((o=jn*a-Rn*i)*o+(o=Rn*r-Cn*a)*o+(o=Cn*i-jn*r)*o),Cn*r+jn*i+Rn*a);v0+=o,_0+=o*(Cn+(Cn=r)),S0+=o*(jn+(jn=i)),E0+=o*(Rn+(Rn=a)),ip(Cn,jn,Rn)}function EM(){ti.point=SA}function AOe(){ti.point=IOe}function POe(){nU(eU,tU),ti.point=SA}function IOe(t,e){eU=t,tU=e,t*=Vi,e*=Vi,ti.point=nU;var n=Fi(e);Cn=n*Fi(t),jn=n*Ui(t),Rn=Ui(e),ip(Cn,jn,Rn)}function nU(t,e){t*=Vi,e*=Vi;var n=Fi(e),r=n*Fi(t),i=n*Ui(t),a=Ui(e),o=jn*a-Rn*i,s=Rn*r-Cn*a,l=Cn*i-jn*r,u=kS(o,s,l),c=Z9(u),f=u&&-c/u;PS.add(f*o),IS.add(f*s),OS.add(f*l),v0+=c,_0+=c*(Cn+(Cn=r)),S0+=c*(jn+(jn=i)),E0+=c*(Rn+(Rn=a)),ip(Cn,jn,Rn)}function OOe(t){Cf=v0=b0=x0=w0=_0=S0=E0=0,PS=new Sx,IS=new Sx,OS=new Sx,EOe(t,ti);var e=+PS,n=+IS,r=+OS,i=kS(e,n,r);return i<yM&&(e=_0,n=S0,r=E0,v0<wOe&&(e=b0,n=x0,r=w0),i=kS(e,n,r),i<yM)?[NaN,NaN]:[J9(n,e)*bM,Z9(r/i)*bM]}const NOe="https://raw.githubusercontent.com/deldar-h/iraq-governorates-geojson/master/Iraq_Governorates.json",COe=({data:t,selectedGovernorates:e=[],onSelect:n})=>{const{theme:r}=zi(),[i,a]=M.useState(!0),[o,s]=M.useState(!1);z.useEffect(()=>{const d=setTimeout(()=>{i&&a(!1)},5e3);return()=>clearTimeout(d)},[i]);const{maxValue:l,minPositive:u}=M.useMemo(()=>{const d=Object.values(t||{}).filter(b=>typeof b=="number"),m=d.length>0?Math.max(...d):0,g=d.filter(b=>b>0),y=g.length>0?Math.min(...g):1;return{maxValue:m,minPositive:y}},[t]),c=qd().domain([u||1,l||u||1]).range(["#93c5fd","#4338ca"]),f=r==="dark"?"#0f172a":"#f1f5f9";return h.jsxs("div",{className:"w-full h-full bg-slate-50 dark:bg-slate-900/50 rounded-2xl overflow-hidden relative flex items-center justify-center border border-slate-100 dark:border-slate-800",children:[i&&!o&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-slate-400 bg-slate-50 dark:bg-slate-900 z-10",children:h.jsxs("div",{className:"flex flex-col items-center gap-2",children:[h.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"}),h.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Loading Map Data..."})]})}),o&&h.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-slate-400 bg-slate-50 dark:bg-slate-900 z-10 p-4 text-center",children:[h.jsx("p",{className:"font-bold",children:"Map data unavailable"}),h.jsx("p",{className:"text-xs mt-2",children:"Check internet connection or data source."})]}),h.jsx(mA,{projection:"geoMercator",projectionConfig:{scale:3500,center:[44,33]},className:"w-full h-full",children:h.jsx(bA,{zoom:1,maxZoom:3,children:h.jsx(gA,{geography:NOe,onGeographyLoad:()=>{a(!1),s(!1)},onGeographyError:d=>{console.error("Map Load Error:",d),a(!1),s(!0)},children:({geographies:d})=>h.jsxs(h.Fragment,{children:[d.map(m=>{const g=m.properties.name||"",y=_=>_.toLowerCase().replace(/[^a-z0-9]/g,""),b=Object.keys(t||{}).find(_=>{const k=y(g),S=y(_);return k.includes(S)||S.includes(k)}),v=b||g,x=typeof t=="object"&&b&&t[b]||0,w=e.includes(v),A=w?"#F59E0B":x>0?c(x):f;return h.jsx(cOe,{geography:m,fill:A,stroke:w?"#ffffff":r==="dark"?"#334155":"#cbd5e1",strokeWidth:w?2:.5,onClick:()=>{n&&n(v)},style:{default:{outline:"none",transition:"all 250ms"},hover:{fill:"#F59E0B",outline:"none",stroke:"#fff",strokeWidth:2,cursor:"pointer",opacity:.8},pressed:{outline:"none"}},title:`${v}: ${x} Orders`},m.rsmKey)}),d.map(m=>{const g=OOe(m),y=m.properties.name||"",b=k=>k.toLowerCase().replace(/[^a-z0-9]/g,""),v=Object.keys(t||{}).find(k=>{const S=b(y),E=b(k);return S.includes(E)||E.includes(S)}),x=v||y,w=typeof t=="object"&&v&&t[v]||0,[A,_]=g||[];return!Number.isFinite(A)||!Number.isFinite(_)?null:h.jsx(wA,{coordinates:g,children:h.jsxs("g",{className:"pointer-events-none",style:{transform:"translateY(-6px)"},children:[h.jsx("text",{y:"-6",textAnchor:"middle",style:{fontSize:8,fill:r==="dark"?"#fff":"#ffffff",fontWeight:"bold",pointerEvents:"none"},children:x}),h.jsx("text",{y:"8",textAnchor:"middle",style:{fontSize:10,fill:r==="dark"?"#e6f0ff":"#ffffff",fontWeight:"800",pointerEvents:"none"},children:w})]})},`${m.rsmKey}-label`)})]})})})}),h.jsxs("div",{className:"absolute bottom-4 right-4 bg-white/90 dark:bg-slate-800/90 backdrop-blur p-3 rounded-xl shadow-lg border border-slate-100 dark:border-slate-700 text-xs text-slate-500 dark:text-slate-400 z-20 pointer-events-none",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("span",{className:"w-3 h-3 bg-[#4338ca] rounded-sm"})," High Order Volume"]}),h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("span",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:r==="dark"?"#1E293B":"#E0E7FF"}})," Low Order Volume"]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"w-3 h-3 bg-[#F59E0B] rounded-sm"})," Selected"]})]})]})},jOe=({regions:t,selectedRegion:e,onSelect:n})=>{const r=[...t].sort((a,o)=>o.count-a.count).slice(0,5),i=a=>{n(a)};return h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 h-full flex flex-col",children:[h.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[h.jsx(Sd,{className:"w-5 h-5 text-indigo-500"})," Top Regions"]}),h.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto custom-scrollbar pr-2",children:[r.map((a,o)=>{const s=e===a.name||Array.isArray(e)&&e.includes(a.name);return h.jsxs("div",{onClick:()=>i(a.name),className:`flex items-center justify-between p-3 rounded-xl cursor-pointer transition-all hover:translate-x-1 ${s?"bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-700":"bg-slate-50 dark:bg-slate-700/30 border border-transparent hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${o===0?"bg-amber-100 text-amber-600":o===1?"bg-slate-200 text-slate-600":o===2?"bg-orange-100 text-orange-600":"bg-indigo-100 text-indigo-600"}`,children:o+1}),h.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:a.name})]}),h.jsx("span",{className:"font-black text-slate-800 dark:text-white",children:a.count})]},a.name)}),r.length===0&&h.jsx("p",{className:"text-center text-slate-400 text-sm py-4",children:"No data available"})]})]})},ROe=({products:t,orders:e,formatCurrency:n})=>{const r=z.useMemo(()=>{const s={};return t.forEach(l=>{const u=l._id||l.id||l.id_str||l.sku||l.name;s[u]={...l,_id:u,totalSales:0,orderCount:0,distinctOrders:[]}}),e.forEach(l=>{l.items&&l.items.forEach(u=>{var f,d;const c=((f=u.product)==null?void 0:f._id)||u.productId;c&&s[c]&&(s[c].totalSales+=u.price*u.quantity,s[c].orderCount+=u.quantity,s[c].distinctOrders.push({id:l._id||l.id,customer:((d=l.customer)==null?void 0:d.name)||l.customer||"",date:l.date||l.createdAt||l.updatedAt,quantity:u.quantity,total:u.price*u.quantity}))})}),Object.values(s).sort((l,u)=>u.orderCount-l.orderCount).slice(0,10)},[t,e]),[i,a]=M.useState(null),o=s=>{a(i===s?null:s)};return h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[h.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[h.jsx(Tz,{className:"w-5 h-5 text-indigo-500"})," Top Selling Products"]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full text-left border-collapse",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider border-b border-slate-100 dark:border-slate-700",children:[h.jsx("th",{className:"py-3 pl-2",children:"Product Name"}),h.jsx("th",{className:"py-3 text-center",children:"Sales"}),h.jsx("th",{className:"py-3 text-right pr-2",children:"Total Revenue"}),h.jsx("th",{className:"py-3 w-10"})]})}),h.jsxs("tbody",{className:"text-sm",children:[r.filter(s=>s.orderCount>0).map(s=>{var l;return h.jsxs(z.Fragment,{children:[h.jsxs("tr",{onClick:()=>o(s.id),className:`group cursor-pointer transition-colors border-b border-slate-50 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700/50 ${i===s.id?"bg-slate-50 dark:bg-slate-800":""}`,children:[h.jsxs("td",{className:"py-4 pl-2 font-bold text-slate-700 dark:text-slate-200 flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-100 dark:bg-slate-700 overflow-hidden shrink-0",children:h.jsx("img",{src:((l=s.images)==null?void 0:l[0])||"https://via.placeholder.com/40",alt:s.name||"Product image",className:"w-full h-full object-cover"})}),s.name]}),h.jsx("td",{className:"py-4 text-center text-slate-600 dark:text-slate-300",children:h.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold bg-indigo-50 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300",children:[s.orderCount," Orders"]})}),h.jsx("td",{className:"py-4 text-right pr-2 font-bold text-slate-800 dark:text-white",children:n(s.totalSales)}),h.jsx("td",{className:"py-4 text-center text-slate-400 group-hover:text-indigo-500",children:i===s.id?h.jsx(XD,{className:"w-4 h-4"}):h.jsx(Ss,{className:"w-4 h-4"})})]}),i===s.id&&h.jsx("tr",{children:h.jsx("td",{colSpan:"4",className:"bg-slate-50/50 dark:bg-slate-900/30 p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[h.jsx("div",{className:"px-4 py-3 bg-slate-50 dark:bg-slate-700/30 border-b border-slate-100 dark:border-slate-700 text-xs font-bold text-slate-500 uppercase flex justify-between",children:h.jsxs("span",{children:["Order Details (",s.distinctOrders.length,")"]})}),h.jsxs("div",{className:"max-h-60 overflow-y-auto custom-scrollbar",children:[s.distinctOrders.map((u,c)=>h.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-slate-50 dark:border-slate-700 last:border-0 hover:bg-slate-50 dark:hover:bg-slate-700/20 transition-colors",children:[h.jsx("div",{className:"flex items-center gap-4",children:h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300 flex items-center gap-1",children:[h.jsx(ME,{className:"w-3 h-3 text-slate-400"})," ",u.customer]}),h.jsxs("span",{className:"text-[10px] text-slate-400 flex items-center gap-1 mt-0.5",children:[h.jsx(YD,{className:"w-3 h-3"})," ",Hr(new Date(u.date),"dd MMM yyyy")]})]})}),h.jsxs("div",{className:"text-right",children:[h.jsxs("span",{className:"block text-xs font-bold text-slate-800 dark:text-white",children:["Qty: ",u.quantity]}),h.jsx("span",{className:"block text-[10px] font-semibold text-emerald-600 dark:text-emerald-400",children:n(u.total)})]})]},c)),s.distinctOrders.length===0&&h.jsx("div",{className:"text-center py-4 text-slate-400 text-xs",children:"No order details available"})]})]})})})]},s.id)}),r.filter(s=>s.orderCount>0).length===0&&h.jsx("tr",{children:h.jsx("td",{colSpan:"4",className:"text-center py-8 text-slate-400",children:"No sales data matches current filters"})})]})]})})]})},Th=["Al Anbar","Babil","Baghdad","Basra","Dhi Qar","Al-Qadisiyyah","Diyala","Duhok","Erbil","Karbala","Kirkuk","Maysan","Muthanna","Najaf","Nineveh","Saladin","Sulaymaniyah","Wasit"],kh=["Facebook","Instagram","TikTok","Snapchat","Telegram","WhatsApp","Other"],MOe=()=>{const{orders:t,products:e,customers:n,loading:r,formatCurrency:i,brand:a,categories:o,theme:s}=zi(),[l,u]=M.useState({from:By(new Date,30),to:new Date}),[c,f]=M.useState([]),[d,m]=M.useState([]),[g,y]=M.useState([]),[b,v]=M.useState([]),x=M.useMemo(()=>t.filter($=>{const F=Ll($.date),V=!(l!=null&&l.from)||!(l!=null&&l.to)||Hu(F,{start:l.from,end:l.to}),U=c.length===0||c.includes($.status),W=d.length===0||d.includes($.customer.governorate),q=g.length===0||g.includes($.customer.social),B=b.length===0||$.items.some(K=>b.includes(K.product.category));return V&&U&&W&&q&&B}),[t,l,c,d,g,b]),w=M.useMemo(()=>x.reduce(($,F)=>$+F.total,0),[x]),A=x.length,_=M.useMemo(()=>new Set(x.map($=>$.customer.phone)).size,[x]),k=M.useMemo(()=>{const $={};return x.forEach(F=>{const V=F.customer.governorate;V&&($[V]=($[V]||0)+1)}),Object.entries($).map(([F,V])=>({name:F,count:V}))},[x]),S=M.useMemo(()=>k.length===0?{name:"N/A",count:0}:k.reduce(($,F)=>$.count>F.count?$:F),[k]),E=M.useMemo(()=>t.filter($=>{const F=Ll($.date);return!(l!=null&&l.from)||!(l!=null&&l.to)||Hu(F,{start:l.from,end:l.to})}),[t,l]),P=M.useMemo(()=>{const $={};return E.forEach(F=>$[F.status]=($[F.status]||0)+1),["Processing","Completed","Cancelled"].map(F=>({value:F,label:F,count:$[F]||0}))},[E]),N=M.useMemo(()=>{const $={};return E.forEach(F=>{const V=F.customer.governorate;V&&($[V]=($[V]||0)+1)}),Th.map(F=>({value:F,label:F,count:$[F]||0})).sort((F,V)=>V.count-F.count)},[E]),O=M.useMemo(()=>{const $={};return E.forEach(F=>{const V=F.customer.social;V&&($[V]=($[V]||0)+1)}),kh.map(F=>({value:F,label:F,count:$[F]||0})).sort((F,V)=>V.count-F.count)},[E]),C=M.useMemo(()=>{const $={};return E.forEach(F=>{const V=new Set;F.items.forEach(U=>{const W=U.product.category;W&&!V.has(W)&&($[W]=($[W]||0)+1,V.add(W))})}),o.map(F=>({value:F,label:F,count:$[F]||0})).sort((F,V)=>V.count-F.count)},[E,o]),j=M.useMemo(()=>{if(!l.from||!l.to)return[];const $=MEe({start:l.from,end:l.to}),F={};return $.forEach(V=>F[Hr(V,"yyyy-MM-dd")]=0),x.forEach(V=>{const U=Hr(Ll(V.date),"yyyy-MM-dd");F[U]!==void 0&&(F[U]+=V.total)}),Object.entries(F).map(([V,U])=>({date:Hr(Ll(V),"MMM d"),value:U}))},[x,l]),D=M.useMemo(()=>k.reduce(($,F)=>($[F.name]=F.count,$),{}),[k]),R=s==="dark"?{text:"#94A3B8",grid:"#334155",tooltipBg:"#1E293B"}:{text:"#64748B",grid:"#E2E8F0",tooltipBg:"#FFFFFF"};return h.jsxs(cc,{title:"Dashboard",children:[h.jsx("div",{className:"mb-6",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 flex gap-3 w-full flex-wrap items-center",children:[h.jsx("div",{className:"flex-shrink-0",children:h.jsx(Bk,{range:l,onRangeChange:u,brandColor:a.color})}),h.jsx("div",{className:"flex-shrink-0",children:h.jsx(Sf,{title:"Governorate",options:N,selectedValues:d,onChange:m,onClear:()=>m([]),showSearch:!1,collapsible:!0})}),h.jsx("div",{className:"flex-shrink-0",children:h.jsx(Sf,{title:"Social Platform",options:O,selectedValues:g,onChange:y,onClear:()=>y([]),showSearch:!1,collapsible:!0})}),h.jsx("div",{className:"flex-shrink-0",children:h.jsx(Sf,{title:"Categories",options:C,selectedValues:b,onChange:v,onClear:()=>v([]),showSearch:!1,collapsible:!0})}),h.jsx("div",{className:"flex-shrink-0",children:h.jsx(Sf,{title:"Order Status",options:P,selectedValues:c,onChange:f,onClear:()=>f([]),showSearch:!1,collapsible:!0})}),h.jsx("button",{onClick:()=>{u({from:By(new Date,30),to:new Date}),m([]),y([]),v([]),f([])},className:"px-4 py-2.5 bg-red-50 text-red-700 rounded-lg text-sm font-bold border border-red-100 hover:bg-red-100 transition-colors ml-auto",children:"Clear Filters"})]})}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-3xl p-6 text-white shadow-lg shadow-indigo-200 dark:shadow-none",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4 opacity-80",children:[h.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:"Total Revenue"}),h.jsx(mz,{className:"w-5 h-5"})]}),h.jsx("h3",{className:"text-3xl font-black mb-1",children:i(w)}),h.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium opacity-80",children:[h.jsx(M2,{className:"w-3 h-3"}),h.jsx("span",{children:"+12.5% vs last period"})]})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4 text-slate-400",children:[h.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:"Total Orders"}),h.jsx(JD,{className:"w-5 h-5"})]}),h.jsx("h3",{className:"text-3xl font-black text-slate-800 dark:text-white mb-1",children:A}),h.jsx("div",{className:"text-xs text-slate-500 font-bold",children:"Orders placed"})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4 text-slate-400",children:[h.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:"Top Region"}),h.jsx(Sd,{className:"w-5 h-5"})]}),h.jsx("h3",{className:"text-2xl font-black text-slate-800 dark:text-white mb-1 truncate",children:S.name}),h.jsxs("div",{className:"text-xs text-slate-500 font-bold",children:[S.count," orders"]})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4 text-slate-400",children:[h.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:"Active Customers"}),h.jsx($E,{className:"w-5 h-5"})]}),h.jsx("h3",{className:"text-3xl font-black text-slate-800 dark:text-white mb-1",children:_}),h.jsx("div",{className:"text-xs text-slate-500 font-bold",children:"Unique buyers"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[400px]",children:[h.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col",children:[h.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[h.jsx(M2,{className:"w-5 h-5 text-indigo-500"})," Revenue Trend"]}),h.jsx("div",{className:"flex-1 min-h-0",children:h.jsx(Xde,{width:"100%",height:"100%",children:h.jsxs(kEe,{data:j,children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"5%",stopColor:a.color,stopOpacity:.3}),h.jsx("stop",{offset:"95%",stopColor:a.color,stopOpacity:0})]})}),h.jsx(sF,{strokeDasharray:"3 3",vertical:!1,stroke:R.grid}),h.jsx(Qv,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:R.text},dy:10}),h.jsx(Jv,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:R.text},tickFormatter:$=>`${$/1e3}k`}),h.jsx(yi,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 8px 16px rgba(0,0,0,0.1)",backgroundColor:R.tooltipBg,color:s==="dark"?"#F8FAFC":"#1E293B"},itemStyle:{color:s==="dark"?"#F8FAFC":"#1E293B"},formatter:$=>[i($),"Revenue"]}),h.jsx(Ho,{type:"monotone",dataKey:"value",stroke:a.color,strokeWidth:3,fillOpacity:1,fill:"url(#colorValue)"})]})})})]}),h.jsxs("div",{className:"lg:col-span-1 border border-slate-100 dark:border-slate-700 rounded-3xl overflow-hidden shadow-sm h-full relative",children:[h.jsx(COe,{data:D,selectedGovernorates:d,onSelect:$=>{d.includes($)?m(d.filter(F=>F!==$)):m([...d,$])}}),h.jsx("div",{className:"absolute top-4 left-4 bg-white/90 backdrop-blur px-3 py-1 rounded-full text-xs font-bold text-slate-500 shadow-sm border border-slate-100",children:"Interactive Map"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-[400px]",children:[h.jsx(jOe,{regions:k,selectedRegion:d,onSelect:$=>{d.includes($)?m(d.filter(F=>F!==$)):m([...d,$])}}),h.jsx("div",{className:"h-full",children:h.jsx(ROe,{products:e,orders:E,formatCurrency:i})})]})]})]})},$Oe=({categories:t,products:e,onClose:n,onAdd:r,onUpdate:i,onDelete:a})=>{const[o,s]=M.useState(""),[l,u]=M.useState(null),[c,f]=M.useState(""),[d,m]=M.useState({});M.useEffect(()=>{const v={};t.forEach(x=>{v[x]=e.filter(w=>w.category===x).length}),m(v)},[t,e]);const g=()=>{o.trim()&&(r(o.trim()),s(""))},y=()=>{l&&c.trim()&&c!==l&&(i(l,c.trim()),u(null),f(""))},b=v=>{if(d[v]>0){alert(`Cannot delete category "${v}" because it is used by ${d[v]} products.`);return}window.confirm(`Are you sure you want to delete category "${v}"?`)&&a(v)};return h.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden flex flex-col max-h-[80vh]",children:[h.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-800/50",children:[h.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Manage Categories"}),h.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:h.jsx(ii,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800",children:h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"text",value:o,onChange:v=>s(v.target.value),placeholder:"New Category Name",className:"flex-1 px-4 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm outline-none focus:ring-2 focus:ring-indigo-500",onKeyDown:v=>v.key==="Enter"&&g()}),h.jsx("button",{onClick:g,disabled:!o.trim(),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-xl shadow-lg shadow-indigo-200 dark:shadow-none transition-all flex items-center justify-center",children:h.jsx(Ms,{className:"w-5 h-5"})})]})}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 custom-scrollbar bg-slate-50/50 dark:bg-slate-900/20",children:[t.map(v=>h.jsx("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm group hover:border-indigo-100 dark:hover:border-slate-600 transition-colors",children:l===v?h.jsxs("div",{className:"flex-1 flex gap-2 mr-2",children:[h.jsx("input",{autoFocus:!0,type:"text",value:c,onChange:x=>f(x.target.value),className:"flex-1 px-2 py-1 bg-slate-50 dark:bg-slate-900 border border-indigo-300 rounded-lg text-sm outline-none",onKeyDown:x=>{x.key==="Enter"&&y(),x.key==="Escape"&&u(null)}}),h.jsx("button",{onClick:y,className:"text-emerald-500 hover:bg-emerald-50 rounded p-1",children:h.jsx(jE,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>u(null),className:"text-red-400 hover:bg-red-50 rounded p-1",children:h.jsx(ii,{className:"w-4 h-4"})})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200 text-sm",children:v}),h.jsxs("span",{className:"text-[10px] font-bold px-2 py-0.5 bg-slate-100 dark:bg-slate-700 text-slate-500 rounded-full",children:[d[v]||0," products"]})]}),h.jsxs("div",{className:"flex gap-1 opacity-100 sm:opacity-0 group-hover:opacity-100 transition-opacity",children:[h.jsx("button",{onClick:()=>{u(v),f(v)},className:"p-2 text-slate-400 hover:text-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-lg transition-colors",title:"Rename",children:h.jsx(kz,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>b(v),className:`p-2 rounded-lg transition-colors ${d[v]>0?"text-slate-300 cursor-not-allowed":"text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30"}`,title:d[v]>0?"Cannot delete used category":"Delete",children:d[v]>0?h.jsx(dz,{className:"w-4 h-4"}):h.jsx(mu,{className:"w-4 h-4"})})]})]})},v)),t.length===0&&h.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"No categories found. Add one above."})]})]})})},Is=({title:t,options:e,selectedValues:n,onChange:r,icon:i,showProductCount:a=!1,productCount:o=0,showSearch:s=!0,ariaLabel:l=null})=>{const[u,c]=M.useState(!1),f=M.useRef(null);M.useEffect(()=>{const y=b=>{f.current&&!f.current.contains(b.target)&&c(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const d=()=>{r([])},m=()=>{c(!1)},g=n.length>0;return h.jsxs("div",{className:"relative",ref:f,children:[h.jsxs("button",{onClick:()=>c(!u),"aria-label":l||t||"Filter",className:`flex items-center gap-2 px-4 py-3.5 rounded-2xl border-2 transition-all font-bold text-sm outline-none ${u||g?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-300":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-800 text-slate-500 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[i?h.jsx(i,{className:"w-4 h-4"}):h.jsx(gg,{className:"w-4 h-4"}),h.jsx("span",{className:"truncate max-w-[120px]",children:g?`${n.length} Selected`:t}),h.jsx(Ss,{className:`w-4 h-4 transition-transform ${u?"rotate-180":""}`})]}),u&&h.jsx("div",{className:"absolute top-full left-0 mt-2 z-50 w-72 animate-in fade-in zoom-in-95 duration-200",children:h.jsx(Sf,{title:"",options:e,selectedValues:n,onChange:r,onClear:d,onClose:m,showProductCount:a,productCount:o,showSearch:s})})]})},DOe=({images:t=[],currentIndex:e=0,onChange:n,onDelete:r,onDownload:i})=>{const[a,o]=M.useState(null),[s,l]=M.useState(null);M.useRef(null);const u=50,c=y=>{l(null),o(y.targetTouches[0].clientX)},f=y=>{l(y.targetTouches[0].clientX)},d=()=>{if(!a||!s)return;const y=a-s,b=y>u,v=y<-u;b&&e<t.length-1?n(e+1):v&&e>0&&n(e-1)},m=()=>{e<t.length-1?n(e+1):n(0)},g=()=>{e>0?n(e-1):n(t.length-1)};return!t||t.length===0?h.jsx("div",{className:"w-full aspect-square bg-slate-50 dark:bg-slate-900 rounded-2xl flex items-center justify-center border-2 border-dashed border-slate-200 dark:border-slate-800",children:h.jsx("span",{className:"text-slate-400 font-medium",children:"No images available"})}):h.jsxs("div",{className:"flex flex-col gap-4 w-full h-full",children:[h.jsxs("div",{className:"relative flex-1 group overflow-hidden bg-slate-50 dark:bg-slate-900 rounded-2xl border border-slate-100 dark:border-slate-800 flex items-center justify-center",onTouchStart:c,onTouchMove:f,onTouchEnd:d,children:[h.jsx("div",{className:"flex transition-transform duration-500 ease-out h-full",style:{transform:`translateX(-${e*100}%)`,width:`${t.length*100}%`},children:t.map((y,b)=>h.jsx("div",{className:"w-full h-full flex items-center justify-center p-4",children:h.jsx("img",{src:typeof y=="string"?y:y.url,alt:`Product view ${b+1}`,className:"max-w-full max-h-full object-contain pointer-events-none select-none drop-shadow-md"})},b))}),t.length>1&&h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:y=>{y.stopPropagation(),g()},className:"absolute left-4 z-10 p-3 bg-white/90 dark:bg-slate-800/90 rounded-full shadow-lg text-slate-800 dark:text-white hover:scale-110 active:scale-95 transition-all opacity-0 group-hover:opacity-100 backdrop-blur-sm",children:h.jsx(OE,{className:"w-6 h-6"})}),h.jsx("button",{onClick:y=>{y.stopPropagation(),m()},className:"absolute right-4 z-10 p-3 bg-white/90 dark:bg-slate-800/90 rounded-full shadow-lg text-slate-800 dark:text-white hover:scale-110 active:scale-95 transition-all opacity-0 group-hover:opacity-100 backdrop-blur-sm",children:h.jsx(NE,{className:"w-6 h-6"})})]}),h.jsx("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:i&&h.jsx("button",{onClick:y=>{y.stopPropagation(),i()},className:"p-2.5 bg-white/90 dark:bg-slate-800/90 rounded-xl shadow-md text-slate-600 dark:text-slate-300 hover:text-indigo-600 transition-colors backdrop-blur-sm",title:"Download Image",children:h.jsx(CE,{className:"w-5 h-5"})})}),h.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/40 backdrop-blur-md rounded-full text-[10px] font-bold text-white tracking-widest uppercase",children:[e+1," / ",t.length]})]}),h.jsx("div",{className:"flex items-center gap-3 overflow-x-auto pb-2 custom-scrollbar",children:t.map((y,b)=>h.jsxs("div",{className:"relative shrink-0 group",children:[h.jsx("button",{onClick:()=>n(b),className:`w-16 h-16 rounded-xl overflow-hidden border-2 transition-all ${e===b?"border-indigo-600 ring-2 ring-indigo-200 dark:ring-indigo-900/50 scale-105":"border-transparent hover:border-slate-300 dark:hover:border-slate-600"}`,children:h.jsx("img",{src:typeof y=="string"?y:y.url,alt:`Thumbnail ${b+1} of ${t.length}`,className:"w-full h-full object-cover"})}),r&&h.jsx("button",{onClick:v=>{v.stopPropagation(),r(b)},className:"absolute -top-1 -right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-sm hover:bg-red-600 hover:scale-110 z-10",children:h.jsx(mu,{className:"w-3 h-3"})})]},b))})]})},rU=({product:t,onClose:e,onSave:n,onUpload:r})=>{var A;const[i,a]=M.useState(0),[o,s]=M.useState(t.name||""),[l,u]=M.useState(t.description||""),[c,f]=M.useState(t.images||[]),[d,m]=M.useState(!1);M.useEffect(()=>{const _=k=>{k.key==="Escape"&&e()};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[e]),M.useEffect(()=>{s(t.name||""),u(t.description||""),f(t.images||[]),a(0)},[t]);const g=async()=>{m(!0),await n({...t,name:o,description:l,images:c}),m(!1)},y=async _=>{if(_.target.files&&_.target.files.length>0){const k=await r(Array.from(_.target.files));k&&f([...c,...k])}},b=async _=>{if(window.confirm("Are you sure you want to delete this image?")){const k=c.filter((S,E)=>E!==_);f(k),i>=k.length&&k.length>0?a(k.length-1):k.length===0&&a(0),m(!0),await n({...t,images:k,name:o,description:l}),m(!1)}},v=c.length>0?c[i]:((A=t.images)==null?void 0:A[0])||t.image,x=typeof v=="string"?v:(v==null?void 0:v.url)||"https://via.placeholder.com/600",w=()=>{const _=document.createElement("a");_.href=x,_.download=`product-${t.sku}-${i}.jpg`,document.body.appendChild(_),_.click(),document.body.removeChild(_)};return h.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:[h.jsx("div",{className:"absolute inset-0",onClick:e}),h.jsxs("div",{className:"relative w-full max-w-5xl bg-white dark:bg-slate-800 rounded-2xl shadow-2xl overflow-hidden flex flex-col md:flex-row max-h-[90vh]",children:[h.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-50 p-2 bg-white/50 dark:bg-black/50 hover:bg-white dark:hover:bg-black rounded-full text-slate-800 dark:text-white transition-all backdrop-blur",children:h.jsx(ii,{className:"w-5 h-5"})}),h.jsxs("div",{className:"w-full md:w-2/3 bg-slate-100 dark:bg-slate-900 flex flex-col p-6 overflow-hidden",children:[h.jsx("div",{className:"flex-1 min-h-0",children:h.jsx(DOe,{images:c,currentIndex:i,onChange:a,onDelete:b,onDownload:w})}),h.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-800 flex justify-between items-center",children:[h.jsxs("div",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:[c.length," Product Images"]}),h.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-bold text-slate-700 dark:text-slate-200 hover:text-indigo-600 hover:border-indigo-600 cursor-pointer transition-all shadow-sm active:scale-95",children:[h.jsx(RE,{className:"w-4 h-4"}),h.jsx("span",{children:"Add Photo"}),h.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:y})]})]})]}),h.jsxs("div",{className:"w-full md:w-1/3 p-6 flex flex-col h-full bg-white dark:bg-slate-800 border-l border-slate-100 dark:border-slate-700 overflow-y-auto",children:[h.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[h.jsx(yg,{className:"w-5 h-5 text-indigo-500"}),"Product Details"]}),h.jsxs("div",{className:"space-y-6 flex-1",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:"Product Title"}),h.jsx("input",{type:"text",value:o,onChange:_=>s(_.target.value),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl font-bold text-slate-800 dark:text-white focus:ring-2 focus:ring-indigo-500 outline-none transition-all",placeholder:"Enter product title"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:"Description"}),h.jsx("textarea",{value:l,onChange:_=>u(_.target.value),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 focus:ring-2 focus:ring-indigo-500 outline-none transition-all resize-none h-32",placeholder:"Enter product description..."})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[h.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:"SKU"}),h.jsx("span",{className:"text-sm font-mono font-bold text-slate-700 dark:text-slate-200",children:t.sku||"N/A"})]}),h.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[h.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:"Category"}),h.jsx("span",{className:"text-sm font-bold text-indigo-600 dark:text-indigo-400",children:t.category||"Uncategorized"})]})]})]}),h.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100 dark:border-slate-700",children:h.jsx("button",{onClick:g,disabled:d||!o.trim(),className:"w-full py-3.5 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-xl shadow-lg shadow-indigo-200 dark:shadow-none transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",children:d?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(jE,{className:"w-5 h-5"}),"Save Changes"]})})})]})]})]})},Zx=t=>{const e=Number(t);return e<=0?"Out of Stock":e<10?"Low Stock":"In Stock"},LOe=["In Stock","Low Stock","Out of Stock"],TM=({status:t})=>{const e=n=>{switch(n){case"In Stock":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400";case"Low Stock":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";case"Out of Stock":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-200"}};return h.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold ${e(t)}`,children:t})},VOe=()=>{const{products:t,addProduct:e,updateProduct:n,deleteProduct:r,categories:i,addCategory:a,updateCategory:o,deleteCategory:s,formatCurrency:l,loading:u,brand:c}=zi(),[f,d]=M.useState(""),[m,g]=M.useState([]),[y,b]=M.useState([]),[v,x]=M.useState(!1),[w,A]=M.useState(!1),[_,k]=M.useState(null),[S,E]=M.useState(!1),[P,N]=M.useState(null),[O,C]=M.useState({key:null,direction:"ascending"}),j=M.useRef(null),D={name:"",sku:"",category:"",unitPrice:"",price:"",stock:"",status:"In Stock",images:[],alibabaProductLink:"",alibabaMessageLink:"",alibabaOrderLink:"",alibabaOrderNumber:"",unitPriceUSD:"",exchangeRate:"1500",unitPriceIQD:0,additionalFeesIQD:"",shippingToIraqIQD:"",marginPercent:"",sellingPriceIQD:0,profitPerUnitIQD:0,unitsSold:0,totalProfitIQD:0},[R,$]=M.useState(D),[F,V]=M.useState(""),[U,W]=M.useState(!1),q=M.useMemo(()=>{const ie={};return t.forEach(de=>{de.category&&(ie[de.category]=(ie[de.category]||0)+1)}),i.map(de=>({value:de,label:de,count:ie[de]||0})).sort((de,Ce)=>Ce.count-de.count)},[i,t]),B=M.useMemo(()=>{const ie={};return t.forEach(de=>{de.status&&(ie[de.status]=(ie[de.status]||0)+1)}),LOe.map(de=>({value:de,label:de,count:ie[de]||0}))},[t]),re=M.useMemo(()=>{let ie=[...t];return O.key&&ie.sort((de,Ce)=>{let Ve=de[O.key],je=Ce[O.key];return typeof Ve=="string"&&(Ve=Ve.toLowerCase()),typeof je=="string"&&(je=je.toLowerCase()),Ve<je?O.direction==="ascending"?-1:1:Ve>je?O.direction==="ascending"?1:-1:0}),ie},[t,O]).filter(ie=>{const de=ie.name.toLowerCase().includes(f.toLowerCase())||ie.sku.toLowerCase().includes(f.toLowerCase()),Ce=m.length===0||m.includes(ie.category),Ve=y.length===0||y.includes(ie.status);return de&&Ce&&Ve}),fe=ie=>{let de="ascending";O.key===ie&&O.direction==="ascending"&&(de="descending"),C({key:ie,direction:de})};M.useEffect(()=>{const ie=parseFloat(R.unitPriceUSD)||0,de=parseFloat(R.exchangeRate)||1500,Ce=parseFloat(R.additionalFeesIQD)||0,Ve=parseFloat(R.shippingToIraqIQD)||0,je=parseFloat(R.marginPercent)||0,H=parseInt(R.unitsSold)||0,se=ie*de;let ae=0,Me=0,pn=0;if(je<100){const Nt=je/100,Go=se+Ce+Ve;ae=Go/(1-Nt),Me=ae-Go,pn=Me*H}$(Nt=>Nt.unitPriceIQD===se&&Nt.sellingPriceIQD===ae&&Nt.profitPerUnitIQD===Me&&Nt.totalProfitIQD===pn?Nt:{...Nt,unitPriceIQD:se,sellingPriceIQD:ae,profitPerUnitIQD:Me,totalProfitIQD:pn,unitPrice:ie,price:ae})},[R.unitPriceUSD,R.exchangeRate,R.additionalFeesIQD,R.shippingToIraqIQD,R.marginPercent,R.unitsSold]);const ve=()=>{k(null),$(D),x(!0)},Ae=ie=>{k(ie),$({...D,...ie,images:ie.images||[]}),x(!0)},Ee=ie=>{window.confirm("Are you sure you want to delete this product?")&&r(ie)},J=ie=>{const{name:de,value:Ce}=ie.target;de==="category"&&Ce==="new"?(W(!0),$(Ve=>({...Ve,category:""}))):$(Ve=>({...Ve,[de]:Ce}))},Z=()=>{F.trim()&&(a(F),$(ie=>({...ie,category:F})),V(""),W(!1))},ue=ie=>{const de=Array.from(ie.target.files);de.length!==0&&de.forEach(Ce=>{const Ve=new FileReader;Ve.onloadend=()=>{$(je=>({...je,images:[...je.images,Ve.result]}))},Ve.readAsDataURL(Ce)})},Q=ie=>{const de=R.images.filter((Ce,Ve)=>Ve!==ie);$(Ce=>({...Ce,images:de}))},Re=ie=>{if(ie.preventDefault(),parseFloat(R.marginPercent)>=100){alert("Margin percentage must be less than 100%");return}const de={...R,unitPriceUSD:parseFloat(R.unitPriceUSD)||0,exchangeRate:parseFloat(R.exchangeRate)||1500,additionalFeesIQD:parseFloat(R.additionalFeesIQD)||0,shippingToIraqIQD:parseFloat(R.shippingToIraqIQD)||0,marginPercent:parseFloat(R.marginPercent)||0,unitsSold:parseInt(R.unitsSold)||0,stock:parseInt(R.stock)||0,status:Zx(R.stock),unitPrice:parseFloat(R.unitPriceUSD)||0,price:R.sellingPriceIQD||0,images:R.images||[]};_?n({...de,_id:_._id}):e(de),x(!1)},xe=({column:ie})=>O.key!==ie?h.jsx(j2,{className:"w-4 h-4 text-slate-300 inline ml-1"}):h.jsx(j2,{className:`w-4 h-4 inline ml-1 ${O.direction==="ascending"?"text-[var(--brand-color)]":"text-[var(--brand-color)] rotate-180"}`});return h.jsxs(cc,{title:"Products",children:[h.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-center mb-8 gap-4 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[h.jsx("div",{className:"flex gap-3 w-full xl:w-auto",children:h.jsxs("button",{onClick:ve,className:"flex items-center gap-2 px-6 py-2.5 text-white rounded-xl font-bold transition-all shadow-lg",style:{backgroundColor:c.color,boxShadow:`0 10px 15px -3px ${c.color}33`},children:[h.jsx(Ms,{className:"w-5 h-5"}),h.jsx("span",{children:"Add Product"})]})}),h.jsxs("div",{className:"flex flex-col md:flex-row gap-3 w-full xl:w-auto flex-wrap",children:[h.jsxs("div",{className:"relative w-full md:w-64",children:[h.jsx(Ch,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),h.jsx("input",{type:"text",placeholder:"Search products...",value:f,onChange:ie=>d(ie.target.value),className:"pl-10 pr-4 py-2.5 w-full bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20"})]}),h.jsx(Is,{title:"Categories",options:q,selectedValues:m,onChange:g,icon:gg,showProductCount:!0,productCount:re.length}),h.jsx(Is,{title:"Status",options:B,selectedValues:y,onChange:b,icon:gg,showProductCount:!0,productCount:re.length}),h.jsx("button",{onClick:()=>A(!0),className:"p-2.5 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-xl text-slate-500 hover:text-[var(--brand-color)] hover:border-[var(--brand-color)] transition-colors",title:"Manage Categories",children:h.jsx(pu,{className:"w-5 h-5"})})]})]}),w&&h.jsx($Oe,{categories:i,products:t,onClose:()=>A(!1),onAdd:a,onUpdate:o,onDelete:s}),h.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full text-left border-collapse",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:[h.jsxs("th",{onClick:()=>fe("name"),className:"px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:["Product ",h.jsx(xe,{column:"name"})]}),h.jsxs("th",{onClick:()=>fe("category"),className:"px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:["Category ",h.jsx(xe,{column:"category"})]}),h.jsxs("th",{onClick:()=>fe("stock"),className:"px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors border-l dark:border-slate-700",children:["Stock ",h.jsx(xe,{column:"stock"})]}),h.jsxs("th",{onClick:()=>fe("price"),className:"px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors border-l dark:border-slate-700",children:["Sell Price ",h.jsx(xe,{column:"price"})]}),h.jsxs("th",{onClick:()=>fe("status"),className:"px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors border-l dark:border-slate-700",children:["Status ",h.jsx(xe,{column:"status"})]}),h.jsx("th",{className:"px-6 py-4 text-right border-l dark:border-slate-700",children:"Actions"})]})}),h.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:u?h.jsx("tr",{children:h.jsx("td",{colSpan:"7",className:"text-center py-8",children:"Loading..."})}):re.map(ie=>h.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors border-b dark:border-slate-700 last:border-0 font-medium",children:[h.jsx("td",{className:"px-6 py-4",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-slate-100 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 flex-shrink-0 cursor-zoom-in hover:brightness-90 transition-all",onClick:()=>{N(ie),E(!0)},children:h.jsx("img",{src:ie.images&&ie.images[0]?ie.images[0]:"https://via.placeholder.com/150",alt:ie.name,className:"w-full h-full object-cover"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:ie.name}),h.jsx("p",{className:"text-xs text-slate-500",children:ie.sku})]})]})}),h.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 dark:text-slate-400",children:h.jsx("span",{className:"px-3 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-full text-xs font-medium",children:ie.category})}),h.jsx("td",{className:"px-6 py-4 border-l dark:border-slate-700",children:h.jsx("div",{className:"flex flex-col",children:h.jsx("span",{className:"text-sm font-medium text-slate-800 dark:text-slate-200",children:ie.stock})})}),h.jsxs("td",{className:"px-6 py-4 text-sm font-bold text-slate-800 dark:text-slate-200 border-l dark:border-slate-700",children:["IQD ",(ie.sellingPriceIQD||ie.price||0).toLocaleString()]}),h.jsx("td",{className:"px-6 py-4 border-l dark:border-slate-700",children:h.jsx(TM,{status:Zx(ie.stock)})}),h.jsx("td",{className:"px-6 py-4 text-right border-l dark:border-slate-700",children:h.jsxs("div",{className:"flex items-center justify-end gap-2",children:[h.jsx("button",{onClick:()=>Ae(ie),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-lg transition-colors",children:h.jsx(pu,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>Ee(ie._id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",children:h.jsx(mu,{className:"w-4 h-4"})})]})})]},ie._id))})]})})}),v&&h.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 overflow-y-auto",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl my-auto animate-in fade-in zoom-in duration-200 flex flex-col max-h-[95vh]",children:[h.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-white dark:bg-slate-800 sticky top-0 z-10 rounded-t-2xl",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:_?"Edit Product":"Add New Product"}),h.jsx("p",{className:"text-xs text-slate-500 font-medium",children:_?`SKU: ${R.sku}`:"Fill in the information below"})]}),h.jsx("button",{onClick:()=>x(!1),className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-all",children:h.jsx(ii,{className:"w-5 h-5"})})]}),h.jsxs("form",{onSubmit:Re,className:"overflow-y-auto p-6 space-y-8 custom-scrollbar",children:[h.jsxs("section",{children:[h.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:"1. Basic Information"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"col-span-2 md:col-span-1",children:[h.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:"Product Name"}),h.jsx("input",{required:!0,name:"name",value:R.name,onChange:J,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none dark:text-white transition-all",placeholder:"e.g. Wireless Headset"})]}),h.jsxs("div",{className:"col-span-2 md:col-span-1",children:[h.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:"SKU / Code"}),h.jsx("input",{required:!0,name:"sku",value:R.sku,onChange:J,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none dark:text-white transition-all",placeholder:"e.g. WH-001"})]}),h.jsxs("div",{className:"col-span-2 md:col-span-1",children:[h.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:"Category"}),U?h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{autoFocus:!0,className:"flex-1 p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20",value:F,onChange:ie=>V(ie.target.value),placeholder:"New Category Name"}),h.jsx("button",{type:"button",onClick:Z,className:"p-2 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-colors",children:h.jsx(Ms,{className:"w-5 h-5"})}),h.jsx("button",{type:"button",onClick:()=>W(!1),className:"p-2 text-slate-500 hover:text-red-500 transition-colors",children:h.jsx(ii,{className:"w-5 h-5"})})]}):h.jsxs("select",{name:"category",value:R.category,onChange:J,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none dark:text-white transition-all appearance-none cursor-pointer",children:[h.jsx("option",{value:"",children:"Select Category"}),i.map(ie=>h.jsx("option",{value:ie,children:ie},ie)),h.jsx("option",{value:"new",className:"font-bold text-[var(--brand-color)]",children:"+ Create New Category"})]})]}),h.jsxs("div",{className:"col-span-2 md:col-span-1",children:[h.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:"Current Stock"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{required:!0,type:"number",name:"stock",value:R.stock,onChange:J,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none dark:text-white transition-all"}),h.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:h.jsx(TM,{status:Zx(R.stock)})})]})]})]})]}),h.jsxs("section",{children:[h.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:"2. Alibaba Sourcing"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"col-span-2",children:[h.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:"Product Link (Alibaba)"}),h.jsx("input",{name:"alibabaProductLink",value:R.alibabaProductLink,onChange:J,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium",placeholder:"https://..."})]}),h.jsxs("div",{className:"col-span-2 md:col-span-1",children:[h.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:"Message Detail Link"}),h.jsx("input",{name:"alibabaMessageLink",value:R.alibabaMessageLink,onChange:J,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium",placeholder:"https://..."})]}),h.jsxs("div",{className:"col-span-2 md:col-span-1",children:[h.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:"Order Link"}),h.jsx("input",{name:"alibabaOrderLink",value:R.alibabaOrderLink,onChange:J,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium",placeholder:"https://..."})]}),h.jsxs("div",{className:"col-span-2 md:col-span-1",children:[h.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:"Alibaba Order #"}),h.jsx("input",{name:"alibabaOrderNumber",value:R.alibabaOrderNumber,onChange:J,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-bold",placeholder:"1234..."})]})]})]}),h.jsxs("section",{children:[h.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:"3. Cost & Pricing (USD  IQD)"}),h.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:"Unit Price ($)"}),h.jsxs("div",{className:"relative",children:[h.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:"$"}),h.jsx("input",{required:!0,type:"number",step:"0.01",name:"unitPriceUSD",value:R.unitPriceUSD,onChange:J,className:"w-full pl-7 p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:"Exchange Rate"}),h.jsx("div",{className:"relative",children:h.jsx("input",{required:!0,type:"number",name:"exchangeRate",value:R.exchangeRate,onChange:J,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-semibold text-[var(--brand-color)] uppercase mb-1",children:"Price in IQD"}),h.jsx("div",{className:"p-2.5 bg-indigo-50/50 dark:bg-indigo-900/20 border border-indigo-100 dark:border-indigo-800 rounded-xl font-bold text-indigo-700 dark:text-indigo-400",children:(R.unitPriceIQD||0).toLocaleString()})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:"Fees (IQD)"}),h.jsx("input",{type:"number",name:"additionalFeesIQD",value:R.additionalFeesIQD,onChange:J,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:"Shipping (IQD)"}),h.jsx("input",{type:"number",name:"shippingToIraqIQD",value:R.shippingToIraqIQD,onChange:J,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:"Margin (%)"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{required:!0,type:"number",name:"marginPercent",value:R.marginPercent,onChange:J,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"}),h.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400",children:"%"})]})]}),h.jsx("div",{className:"col-span-3 p-4 bg-[var(--brand-color)]/10 rounded-2xl border-2 border-[var(--brand-color)]/30",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-[10px] font-bold text-[var(--brand-color)] uppercase tracking-wider block",children:"Recommended Selling Price"}),h.jsxs("span",{className:"text-2xl font-black text-[var(--brand-color)]",children:["IQD ",(R.sellingPriceIQD||0).toLocaleString()]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"flex items-center gap-1.5 justify-end",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),h.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Calculation Active"})]}),h.jsxs("span",{className:"text-xs text-slate-400 font-medium whitespace-pre-wrap",children:["Based on ",R.marginPercent,"% margin"]})]})]})})]})]}),h.jsxs("section",{children:[h.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:"4. Profit Analysis"}),h.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[h.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:"Profit / Unit"}),h.jsxs("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:["+ IQD ",(R.profitPerUnitIQD||0).toLocaleString()]})]}),h.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[h.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:"Units Sold"}),h.jsx("input",{type:"number",name:"unitsSold",value:R.unitsSold,onChange:J,className:"w-full mt-1 p-1 bg-transparent border-b border-slate-200 dark:border-slate-700 outline-none text-sm font-bold"})]}),h.jsxs("div",{className:"p-3 bg-slate-900 dark:bg-slate-950 rounded-xl border border-slate-800",children:[h.jsx("span",{className:"block text-[10px] font-bold text-slate-500 uppercase",children:"Total Profit"}),h.jsxs("span",{className:"text-sm font-bold text-green-500",children:["IQD ",(R.totalProfitIQD||0).toLocaleString()]})]})]})]}),h.jsxs("section",{children:[h.jsx("h4",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-100 dark:border-slate-700 pb-2",children:"5. Product Gallery"}),h.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[R.images.map((ie,de)=>h.jsxs("div",{className:"relative group aspect-square rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900",children:[h.jsx("img",{src:ie,alt:"Product",className:"w-full h-full object-cover"}),h.jsx("button",{type:"button",onClick:()=>Q(de),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity transform hover:scale-110",children:h.jsx(ii,{className:"w-3 h-3"})})]},de)),h.jsxs("button",{type:"button",onClick:()=>{var ie;return(ie=j.current)==null?void 0:ie.click()},className:"aspect-square rounded-xl border-2 border-dashed border-slate-300 dark:border-slate-700 flex flex-col items-center justify-center text-slate-400 hover:border-[var(--brand-color)] hover:text-[var(--brand-color)] transition-all hover:bg-slate-50 dark:hover:bg-slate-900 group",children:[h.jsx(RE,{className:"w-5 h-5 mb-1 group-hover:scale-110 transition-transform"}),h.jsx("span",{className:"text-[9px] font-black uppercase",children:"Add Image"})]})]}),h.jsx("input",{type:"file",ref:j,className:"hidden",onChange:ue,multiple:!0,accept:"image/*"})]}),h.jsxs("div",{className:"pt-6 border-t border-slate-100 dark:border-slate-700 flex justify-end gap-3 sticky bottom-0 bg-white dark:bg-slate-800 pb-2",children:[h.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-6 py-2.5 text-slate-500 dark:text-slate-400 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 rounded-xl transition-all",children:"Cancel"}),h.jsxs("button",{type:"submit",className:"px-8 py-2.5 text-white font-black rounded-xl transition-all shadow-xl active:scale-95 flex items-center gap-2",style:{backgroundColor:c.color,boxShadow:`0 10px 15px -3px ${c.color}33`},children:[h.jsx(jE,{className:"w-5 h-5"}),_?"Update Product":"Create Product"]})]})]})]})}),S&&P&&h.jsx(rU,{product:P,onClose:()=>{E(!1),N(null)},onSave:n,onUpload:async ie=>ie.map(de=>URL.createObjectURL(de))})]})},iU=({title:t,options:e,selectedValue:n,onChange:r,icon:i})=>{var c;const[a,o]=M.useState(!1),s=M.useRef(null);M.useEffect(()=>{const f=d=>{s.current&&!s.current.contains(d.target)&&o(!1)};return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[]);const l=f=>{r(f),o(!1)},u=((c=e.find(f=>f.value===n))==null?void 0:c.label)||t;return h.jsxs("div",{className:"relative",ref:s,children:[h.jsxs("button",{onClick:()=>o(!a),className:`flex items-center gap-2 px-4 py-3.5 rounded-2xl border-2 transition-all font-bold text-sm outline-none ${a?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-300":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-800 text-slate-500 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[i?h.jsx(i,{className:"w-4 h-4"}):h.jsx(gg,{className:"w-4 h-4"}),h.jsx("span",{className:"truncate max-w-[120px]",children:u}),h.jsx(Ss,{className:`w-4 h-4 transition-transform ${a?"rotate-180":""}`})]}),a&&h.jsx("div",{className:"absolute top-full left-0 mt-2 z-50 w-72 animate-in fade-in zoom-in-95 duration-200",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-[0_2px_10px_-4px_rgba(0,0,0,0.1)] border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col w-full min-w-[240px]",children:[h.jsx("div",{className:"px-4 py-3 pb-2 flex items-center justify-between",children:h.jsx("div",{className:"flex items-center gap-3",children:h.jsx("h3",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:t})})}),h.jsx("div",{className:"flex-1 px-2 pb-2 space-y-1 max-h-64 overflow-y-auto",children:e.map(f=>{const d=n===f.value;return h.jsx("div",{onClick:()=>l(f.value),className:`flex items-center justify-between px-3 py-2.5 rounded-xl cursor-pointer transition-all group ${d?"bg-blue-50 dark:bg-blue-900/20":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:h.jsx("span",{className:`text-sm font-semibold ${d?"text-blue-700 dark:text-blue-300":"text-slate-600 dark:text-slate-300"}`,children:f.label})},f.value)})})]})})]})},aU=(t,e=null)=>{if(!t||t.length===0)return"";const n=e||Object.keys(t[0]),r=n.map(a=>`"${a}"`).join(","),i=t.map(a=>n.map(o=>{let s=a[o];return typeof s=="object"&&s!==null&&(s=JSON.stringify(s)),s==null&&(s=""),`"${String(s).replace(/"/g,'""')}"`}).join(","));return[r,...i].join(`
`)},oU=(t,e)=>{const n="\uFEFF",r=new Blob([n+t],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),a=URL.createObjectURL(r);i.setAttribute("href",a),i.setAttribute("download",e),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a)},FOe=(t,e=null)=>{if(!t||t.length===0){alert("No orders to export");return}const n=t.map(a=>{var o,s,l,u,c,f,d;return{"Order ID":a.orderId||a._id,Date:a.date,Status:a.status,"Customer Name":((o=a.customer)==null?void 0:o.name)||"","Customer Phone":((s=a.customer)==null?void 0:s.phone)||"","Customer Email":((l=a.customer)==null?void 0:l.email)||"","Customer Address":((u=a.customer)==null?void 0:u.address)||"",Governorate:((c=a.customer)==null?void 0:c.governorate)||"","Social Platform":((f=a.customer)==null?void 0:f.social)||"","Items Count":((d=a.items)==null?void 0:d.length)||0,Subtotal:a.subtotal||a.total,"Discount %":a.discount||0,Total:a.total,Notes:a.notes||""}}),r=aU(n),i=e||`orders_export_${new Date().toISOString().split("T")[0]}.csv`;oU(r,i)},UOe=(t,e=null)=>{if(!t||t.length===0){alert("No customers to export");return}const n=t.map(a=>({Name:a.name,Phone:a.phone,Email:a.email||"",Address:a.address||"",Governorate:a.governorate||"","Social Platform":a.social||"",Notes:a.notes||"","Created On":a.createdOn||""})),r=aU(n),i=e||`customers_export_${new Date().toISOString().split("T")[0]}.csv`;oU(r,i)},BOe=({order:t,onUpdate:e})=>{const[n,r]=M.useState(!1),i=z.useRef(null),a=["Processing","Completed","Cancelled","Pending"];z.useEffect(()=>{const l=u=>{i.current&&!i.current.contains(u.target)&&r(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]);const o=l=>{switch(l){case"Processing":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"Completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"Cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";case"Pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";default:return"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-300"}},s=l=>{l!==t.status&&e({...t,status:l}),r(!1)};return h.jsxs("div",{className:"relative",ref:i,children:[h.jsxs("button",{onClick:()=>r(!n),className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold transition-all hover:brightness-95 active:scale-95 ${o(t.status)}`,children:[t.status,h.jsx("div",{className:"w-0 h-0 border-l-[3px] border-l-transparent border-t-[4px] border-t-current border-r-[3px] border-r-transparent opacity-50"})]}),n&&h.jsx("div",{className:"absolute top-full left-0 mt-1 w-32 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-slate-100 dark:border-slate-700 py-1 z-50 animate-in fade-in zoom-in-95 duration-100",children:a.map(l=>h.jsx("button",{onClick:()=>s(l),className:`w-full text-left px-3 py-2 text-xs font-bold hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${t.status===l?"text-[var(--brand-color)] bg-slate-50 dark:bg-slate-700/30":"text-slate-600 dark:text-slate-300"}`,children:l},l))})]})},zOe=()=>{const{orders:t,products:e,customers:n,addOrder:r,updateOrder:i,deleteOrder:a,addCustomer:o,formatCurrency:s,brand:l}=zi(),[u,c]=M.useState(""),[f,d]=M.useState(!1),[m,g]=M.useState(!1),[y,b]=M.useState(null),[v,x]=M.useState(null),[w,A]=M.useState(!1),[_,k]=M.useState({from:By(new Date,30),to:new Date}),[S,E]=M.useState([]),[P,N]=M.useState([]),[O,C]=M.useState([]),[j,D]=M.useState("date-new"),[R,$]=M.useState({column:"date",direction:"desc"}),F=M.useMemo(()=>{const H={};return t.forEach(se=>{var Me;const ae=(Me=se.customer)==null?void 0:Me.governorate;ae&&(H[ae]=(H[ae]||0)+1)}),Th.map(se=>({value:se,label:se,count:H[se]||0})).sort((se,ae)=>ae.count-se.count)},[t]),V=M.useMemo(()=>{const H={};return t.forEach(se=>{var Me;const ae=(Me=se.customer)==null?void 0:Me.social;ae&&(H[ae]=(H[ae]||0)+1)}),kh.map(se=>({value:se,label:se,count:H[se]||0})).sort((se,ae)=>ae.count-se.count)},[t]),U=["Processing","Completed","Cancelled","Pending"],W=M.useMemo(()=>{const H={};return t.forEach(se=>{const ae=se.status;ae&&(H[ae]=(H[ae]||0)+1)}),U.map(se=>({value:se,label:se,count:H[se]||0}))},[t]),[q,B]=M.useState({customerId:"new",customerName:"",customerPhone:"",customerAddress:"",customerGovernorate:"",customerSocial:"",customerNotes:"",items:[],discount:0}),[K,re]=M.useState(""),[fe,ve]=M.useState(1),Ae=M.useMemo(()=>t.filter(se=>{const ae=u.toLowerCase(),Me=se.orderId.toLowerCase().includes(ae)||se.customer.name.toLowerCase().includes(ae),pn=Ll(se.date),Nt=!(_!=null&&_.from)||!(_!=null&&_.to)||Hu(pn,{start:_.from,end:_.to}),Go=S.length===0||S.includes(se.customer.governorate),ap=P.length===0||P.includes(se.customer.social),kc=O.length===0||O.includes(se.status);return Me&&Nt&&Go&&ap&&kc}).sort((se,ae)=>{let Me=0;return R.column==="orderId"?Me=se.orderId.localeCompare(ae.orderId):R.column==="customer"?Me=se.customer.name.localeCompare(ae.customer.name):R.column==="date"?Me=new Date(se.date)-new Date(ae.date):R.column==="total"?Me=se.total-ae.total:R.column==="status"&&(Me=se.status.localeCompare(ae.status)),Me===0?j==="date-new"?new Date(ae.date)-new Date(se.date):j==="date-old"?new Date(se.date)-new Date(ae.date):j==="total-high"?ae.total-se.total:j==="total-low"?se.total-ae.total:j==="name-asc"?se.customer.name.localeCompare(ae.customer.name):0:R.direction==="asc"?Me:-Me}),[t,u,S,P,O,j,_,R]),Ee=()=>{if(!K)return;const H=e.find(ae=>ae._id===K);if(!H)return;const se=q.items.findIndex(ae=>ae.product._id===H._id);if(se>-1){const ae=[...q.items];ae[se].quantity+=parseInt(fe),B(Me=>({...Me,items:ae}))}else B(ae=>({...ae,items:[...ae.items,{product:H,quantity:parseInt(fe),price:H.price}]}));ve(1),re("")},J=H=>{const se=q.items.filter((ae,Me)=>Me!==H);B(ae=>({...ae,items:se}))},Z=(H,se)=>{const ae=[...q.items];ae[H].price=parseFloat(se||0),B(Me=>({...Me,items:ae}))},ue=H=>H.reduce((se,ae)=>se+ae.price*ae.quantity,0),Q=()=>{const H=ue(q.items),se=H*(q.discount/100);let ae=H-se;return ae=Math.ceil(ae/500)*500,ae},Re=H=>{const se=H.target.value;if(B(ae=>({...ae,customerId:se})),se==="new")B(ae=>({...ae,customerName:"",customerPhone:"",customerAddress:"",customerGovernorate:"",customerSocial:""}));else if(se){const ae=n.find(Me=>Me._id===se);ae&&B(Me=>({...Me,customerName:ae.name,customerPhone:ae.phone,customerAddress:ae.address,customerGovernorate:ae.governorate,customerSocial:ae.social}))}},xe=H=>{x(H._id);const se=n.find(ae=>ae.name===H.customer.name&&ae.phone===H.customer.phone);B({customerId:se?se._id:"new",customerName:H.customer.name,customerPhone:H.customer.phone,customerAddress:H.customer.address||"",customerGovernorate:H.customer.governorate||"",customerSocial:H.customer.social||"",customerNotes:H.notes||"",items:H.items,discount:H.discount||0}),d(!0)},ie=H=>{b(H),g(!0)},de=async()=>{if(q.items.length===0)return alert("Please add items to the order");if(!q.customerName||!q.customerPhone)return alert("Please fill in customer name and phone");A(!0);try{console.log("Submit clicked. ID:",q.customerId,"Items:",q.items.length);let H={_id:q.customerId!=="new"?q.customerId:void 0,name:q.customerName,phone:q.customerPhone,address:q.customerAddress,governorate:q.customerGovernorate,social:q.customerSocial};if(q.customerId==="new"){const pn=await o({...H,email:""});H._id=pn._id}const se=Q(),ae=t.find(pn=>pn._id===v),Me={customer:H,date:v&&ae?ae.date:new Date().toISOString(),total:se,subtotal:ue(q.items),discount:q.discount,status:v&&ae?ae.status:"Processing",items:q.items,notes:q.customerNotes};if(v&&ae)await i({...Me,_id:v,orderId:ae.orderId}),alert("Order updated successfully!");else{const pn=await r(Me);alert("Order created successfully!"),setTimeout(()=>{try{Ce(pn)}catch(Nt){console.error("Print error:",Nt),alert("Order saved, but receipt printing failed. Please check your browser's popup blocker.")}},800)}d(!1),x(null),B({customerId:"",customerName:"",customerPhone:"",customerAddress:"",customerGovernorate:"",customerSocial:"",customerNotes:"",items:[],discount:0})}catch(H){console.error("Order submission error:",H),alert("Failed to submit order: "+(H.message||"Unknown error"))}finally{A(!1)}},Ce=H=>{const se=window.open("","","width=600,height=800");se.document.write(`
            <html>
                <head>
                    <title>Receipt</title>
                    <style>
                        body { font-family: 'Courier New', monospace; padding: 20px; font-size: 14px; }
                        .header { text-align: center; margin-bottom: 20px; }
                        .item { display: flex; justify-content: space-between; margin-bottom: 5px; }
                        .divider { border-top: 1px dashed black; margin: 10px 0; }
                        .totals { text-align: right; margin-top: 10px; }
                        .total-row { display: flex; justify-content: space-between; font-weight: bold; margin-top: 5px; }
                        .discount { color: red; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h2>SHAN ENTERPRISE</h2>
                        <p>Baghdad, Iraq</p>
                        <p>Order: ${H.orderId||"###"}</p>
                        <p>${H.date}</p>
                    </div>
                    <div class="divider"></div>
                    <div>
                        <p><strong>Customer:</strong> ${H.customer.name}</p>
                        <p><strong>Phone:</strong> ${H.customer.phone||"N/A"}</p>
                        <p><strong>Gov:</strong> ${H.customer.governorate||"N/A"}</p>
                    </div>
                    <div class="divider"></div>
                    <div>
                        ${H.items.map(ae=>`
                            <div class="item">
                                <span>${ae.product.name} <br> <small>x${ae.quantity} @ ${s(ae.price)}</small></span>
                                <span>${s(ae.price*ae.quantity)}</span>
                            </div>
                        `).join("")}
                    </div>
                    <div class="divider"></div>
                    <div class="totals">
                        <div class="total-row" style="font-weight: normal;">
                            <span>Subtotal:</span>
                            <span>${s(H.subtotal||H.total)}</span>
                        </div>
                        ${H.discount?`
                        <div class="total-row discount" style="font-weight: normal;">
                            <span>Discount (${H.discount}%):</span>
                            <span>-${s((H.subtotal||H.total)-H.total)}</span>
                        </div>
                        `:""}
                        <div class="total-row" style="font-size: 18px; margin-top: 10px;">
                            <span>TOTAL:</span>
                            <span>${s(H.total)}</span>
                        </div>
                    </div>
                    <div class="divider"></div>
                    <div style="text-align: center; margin-top: 20px;">
                        <p>Thank you for your business!</p>
                        <p>Items checked out cannot be returned.</p>
                    </div>
                </body>
            </html>
        `),se.document.close(),se.print()},Ve=H=>{R.column===H?$(se=>({...se,direction:se.direction==="asc"?"desc":"asc"})):$({column:H,direction:"asc"})},je=({column:H,label:se})=>{const ae=R.column===H;return h.jsx("th",{onClick:()=>Ve(H),className:"px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-600 transition-colors select-none",children:h.jsxs("div",{className:"flex items-center gap-2",children:[se,ae&&h.jsx("span",{className:"text-[var(--brand-color)] font-bold",children:R.direction==="asc"?"":""})]})})};return h.jsxs(cc,{title:"Orders",children:[h.jsxs("div",{className:"flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[h.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[h.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[h.jsxs("button",{onClick:()=>{d(!0),x(null),B({customerId:"new",customerName:"",customerPhone:"",customerAddress:"",customerGovernorate:"",customerSocial:"",customerNotes:"",items:[],discount:0})},className:"flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-xl font-bold transition-all shadow-lg",style:{backgroundColor:l.color,boxShadow:`0 10px 15px -3px ${l.color}33`},children:[h.jsx(Ms,{className:"w-5 h-5"}),h.jsx("span",{children:"Create Order"})]}),h.jsxs("button",{onClick:()=>FOe(Ae),className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 text-white rounded-xl font-bold transition-all shadow-lg hover:bg-green-700",children:[h.jsx(CE,{className:"w-5 h-5"}),h.jsx("span",{className:"hidden sm:inline",children:"Export CSV"})]})]}),h.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[(S.length>0||O.length>0||P.length>0||u)&&h.jsx("button",{onClick:()=>{c(""),C([]),E([]),N([])},className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:"Clear Filters"}),h.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[h.jsx(Ya,{className:"w-4 h-4 text-slate-400"}),h.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[h.jsx("span",{className:"text-slate-900 dark:text-white",children:Ae.length})," Orders"]})]})]})]}),h.jsxs("div",{className:"flex gap-3 w-full flex-wrap items-center",children:[h.jsxs("div",{className:"relative min-w-[200px] flex-1 md:flex-none h-[44px]",children:[h.jsx(Ch,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),h.jsx("input",{type:"text",placeholder:"Search orders...",value:u,onChange:H=>c(H.target.value),className:"pl-10 pr-4 py-0 h-full w-full bg-slate-50 dark:bg-slate-900/50 border-2 border-slate-100 dark:border-slate-800 rounded-2xl outline-none focus:border-blue-200 dark:focus:border-blue-800 focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-bold text-sm"})]}),h.jsx("div",{className:"h-[44px] flex-shrink-0",children:h.jsx(Bk,{range:_,onRangeChange:k,brandColor:l.color})}),h.jsx(Is,{title:"Status",options:W,selectedValues:O,onChange:C,icon:Ya,showSearch:!1}),h.jsx(Is,{title:"Governorate",options:F,selectedValues:S,onChange:E,icon:Sd,showSearch:!1}),h.jsx(Is,{title:"Social Media",options:V,selectedValues:P,onChange:N,icon:Xw,showSearch:!1}),h.jsx(iU,{title:"Sort",options:[{value:"date-new",label:"Newest First"},{value:"date-old",label:"Oldest First"},{value:"total-high",label:"Highest Total"},{value:"total-low",label:"Lowest Total"},{value:"name-asc",label:"Customer Name (A-Z)"}],selectedValue:j,onChange:D})]})]}),h.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full text-left",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-500 uppercase",children:[h.jsx(je,{column:"orderId",label:"Order ID"}),h.jsx(je,{column:"customer",label:"Customer"}),h.jsx(je,{column:"date",label:"Date"}),h.jsx(je,{column:"total",label:"Total (IQD)"}),h.jsx(je,{column:"status",label:"Status"}),h.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),h.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:Ae.map(H=>h.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[h.jsx("td",{className:"px-6 py-4 text-sm font-semibold text-[var(--brand-color)]",children:H.orderId}),h.jsx("td",{className:"px-6 py-4",children:h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-sm font-medium text-slate-800 dark:text-white",children:H.customer.name}),h.jsxs("span",{className:"text-xs text-slate-500 flex gap-1 items-center",children:[H.customer.governorate&&h.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-1 rounded",children:H.customer.governorate}),H.customer.phone]})]})}),h.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 dark:text-slate-400",children:H.date}),h.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-800 dark:text-white",children:s(H.total)}),h.jsx("td",{className:"px-6 py-4",children:h.jsx(BOe,{order:H,onUpdate:i})}),h.jsx("td",{className:"px-6 py-4 text-right",children:h.jsxs("div",{className:"flex items-center justify-end gap-2",children:[h.jsx("button",{onClick:()=>ie(H),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",title:"View Details",children:h.jsx(gz,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>xe(H),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",title:"Edit Order",children:h.jsx(pu,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>Ce(H),className:"p-2 text-slate-400 hover:text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg",title:"Print Receipt",children:h.jsx(Qw,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to delete this order?")&&a(H._id)},className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",title:"Delete Order",children:h.jsx(mu,{className:"w-4 h-4"})})]})})]},H._id))})]})})}),f&&h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm p-2 md:p-4 overflow-y-auto",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-5xl my-auto min-h-0 flex flex-col md:flex-row overflow-hidden animate-in fade-in zoom-in duration-200 max-h-[95vh] md:max-h-[90vh]",children:[h.jsxs("div",{className:"flex-1 p-4 md:p-6 border-b md:border-b-0 md:border-r border-slate-100 dark:border-slate-700 flex flex-col min-h-0 overflow-y-auto lg:overflow-visible",children:[h.jsxs("div",{className:"sticky top-0 bg-white dark:bg-slate-800 pb-4 z-10 lg:static",children:[h.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white",children:"Add Items"}),h.jsx("div",{className:"space-y-4",children:h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:[h.jsxs("div",{className:"flex-1 w-full",children:[h.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Search & Select Product"}),h.jsxs("select",{value:K,onChange:H=>re(H.target.value),className:"w-full p-3 border-2 border-slate-100 dark:border-slate-700 rounded-xl dark:bg-slate-900 dark:text-white outline-none focus:border-[var(--brand-color)] transition-colors font-bold text-sm",children:[h.jsx("option",{value:"",children:"-- Choose Product --"}),e.filter(H=>H.stock>0).map(H=>h.jsxs("option",{value:H._id,children:[H.name," (",H.stock," in stock) - ",s(H.price)]},H._id))]})]}),h.jsxs("div",{className:"w-24",children:[h.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Qty"}),h.jsx("input",{type:"number",min:"1",value:fe,onChange:H=>ve(H.target.value),className:"w-full p-3 border-2 border-slate-100 dark:border-slate-700 rounded-xl dark:bg-slate-900 dark:text-white outline-none focus:border-[var(--brand-color)] text-center font-bold"})]}),h.jsx("button",{type:"button",onClick:Ee,disabled:!K||!fe,className:"h-[52px] px-6 text-white font-black rounded-xl transition-all active:scale-95 shadow-lg disabled:opacity-50",style:{backgroundColor:l.color,boxShadow:`0 10px 15px -3px ${l.color}33`},children:h.jsx(Ms,{className:"w-6 h-6"})})]})})]}),h.jsx("div",{className:"flex-1 overflow-y-auto mt-6 space-y-3 custom-scrollbar min-h-[300px]",children:q.items.length===0?h.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 border-2 border-dashed border-slate-100 dark:border-slate-700/50 rounded-3xl py-12",children:[h.jsx(Ya,{className:"w-12 h-12 mb-2 opacity-20"}),h.jsx("p",{className:"font-bold",children:"Your cart is empty"}),h.jsx("p",{className:"text-xs",children:"Add products to start building the order"})]}):q.items.map((H,se)=>h.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-900/30 rounded-2xl border border-slate-100 dark:border-slate-700/50 group hover:border-indigo-500/50 transition-all",children:[h.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[h.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-white dark:bg-slate-800 border dark:border-slate-700 shrink-0",children:h.jsx("img",{src:H.product.images&&H.product.images[0]?H.product.images[0]:"https://via.placeholder.com/150",alt:H.product.name||"Product image",className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h4",{className:"text-sm font-black text-slate-800 dark:text-white truncate",children:H.product.name}),h.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:"PRICE"}),h.jsx("input",{type:"number",value:H.price,onChange:ae=>Z(se,ae.target.value),className:"w-24 p-1.5 text-xs font-black border-2 border-slate-100 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800 dark:text-white transition-colors focus:border-[var(--brand-color)]"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:"QTY"}),h.jsxs("span",{className:"text-xs font-black dark:text-white px-2 py-1 bg-slate-100 dark:bg-slate-700 rounded-md",children:["x",H.quantity]})]})]})]})]}),h.jsxs("div",{className:"flex items-center gap-4 ml-4",children:[h.jsxs("div",{className:"text-right",children:[h.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Subtotal"}),h.jsx("span",{className:"text-sm font-black dark:text-white",children:s(H.price*H.quantity)})]}),h.jsx("button",{onClick:()=>J(se),className:"p-2.5 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-all",children:h.jsx(mu,{className:"w-4 h-4"})})]})]},se))}),h.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800 sticky bottom-0",children:h.jsxs("div",{className:"flex flex-col gap-3",children:[h.jsxs("div",{className:"flex justify-between items-center text-sm",children:[h.jsx("span",{className:"font-bold text-slate-400 uppercase tracking-widest text-[10px]",children:"Order Subtotal"}),h.jsx("span",{className:"font-black dark:text-white text-lg",children:s(ue(q.items))})]}),h.jsxs("div",{className:"flex justify-between items-center p-3.5 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-700",children:[h.jsxs("span",{className:"text-xs font-bold text-slate-500 flex items-center gap-2",children:[h.jsx(Pz,{className:"w-4 h-4 text-indigo-500"})," APPLY DISCOUNT"]}),h.jsx("select",{value:q.discount,onChange:H=>B({...q,discount:parseInt(H.target.value)}),className:"p-1 px-3 border-2 border-slate-200 dark:border-slate-700 rounded-xl text-xs font-black dark:bg-slate-900 dark:text-white outline-none focus:border-[var(--brand-color)] transition-colors",children:[0,5,10,15,20,30,40,50].map(H=>h.jsxs("option",{value:H,children:[H,"% OFF DISCOUNT"]},H))})]}),h.jsxs("div",{className:"flex justify-between items-center pt-2",children:[h.jsx("span",{className:"font-black text-slate-800 dark:text-white uppercase tracking-tighter text-sm",children:"Grand Total (Rounded)"}),h.jsx("span",{className:"font-black text-3xl text-[var(--brand-color)]",children:s(Q())})]})]})})]}),h.jsxs("div",{className:"w-full md:w-[280px] lg:w-[320px] p-3 bg-slate-50 dark:bg-slate-900/50 flex flex-col min-h-0 border-t md:border-t-0 md:border-l border-slate-100 dark:border-slate-700",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsx("div",{children:h.jsx("h3",{className:"text-xl font-black text-slate-800 dark:text-white",children:"Customer Info"})}),h.jsx("button",{onClick:()=>d(!1),className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-white rounded-full hover:bg-white dark:hover:bg-slate-800 transition-colors",children:h.jsx(ii,{className:"w-6 h-6"})})]}),h.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto pr-1 custom-scrollbar",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Database Selection"}),h.jsxs("select",{value:q.customerId,onChange:Re,className:"w-full p-2 border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm text-sm",children:[h.jsx("option",{value:"",children:"-- Choose Existing --"}),h.jsx("option",{value:"new",className:"text-[var(--brand-color)] font-bold",children:"+ Create New Customer"}),n.map(H=>h.jsx("option",{value:H._id,children:H.name},H._id))]})]}),h.jsxs("div",{className:`space-y-4 transition-all duration-300 ${q.customerId?"opacity-100 pointer-events-auto":"opacity-30 pointer-events-none grayscale"}`,children:[h.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Full Name"}),h.jsx("input",{placeholder:"e.g. Ahmed Ali",value:q.customerName,onChange:H=>B({...q,customerName:H.target.value}),className:"w-full p-2 border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm text-sm",disabled:q.customerId!=="new"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Phone Number"}),h.jsx("input",{placeholder:"07XX XXX XXXX",value:q.customerPhone,onChange:H=>B({...q,customerPhone:H.target.value}),className:"w-full p-2 border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm text-sm",disabled:q.customerId!=="new"})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Governorate"}),h.jsxs("select",{value:q.customerGovernorate,onChange:H=>B({...q,customerGovernorate:H.target.value}),className:"w-full p-2 border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm text-sm",disabled:q.customerId!=="new",children:[h.jsx("option",{value:"",children:"Select..."}),Th.map(H=>h.jsx("option",{value:H,children:H},H))]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Social Channel"}),h.jsxs("select",{value:q.customerSocial,onChange:H=>B({...q,customerSocial:H.target.value}),className:"w-full p-2 border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm text-sm",disabled:q.customerId!=="new",children:[h.jsx("option",{value:"",children:"Select..."}),kh.map(H=>h.jsx("option",{value:H,children:H},H))]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Shipping Address"}),h.jsx("textarea",{placeholder:"House/District/Nearest Landmark",value:q.customerAddress,onChange:H=>B({...q,customerAddress:H.target.value}),className:"w-full p-2 border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm text-sm resize-none",disabled:q.customerId!=="new",rows:"2"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Internal Notes"}),h.jsx("textarea",{placeholder:"Special instructions for delivery...",value:q.customerNotes,onChange:H=>B({...q,customerNotes:H.target.value}),className:"w-full p-2 border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm text-sm resize-none",rows:"2"})]})]}),h.jsx("button",{onClick:de,disabled:q.items.length===0||w,className:"mt-6 w-full py-4 text-white font-black rounded-xl shadow-xl text-lg transition-all hover:scale-[1.01] active:scale-95 disabled:opacity-50 disabled:grayscale flex items-center justify-center gap-3",style:{backgroundColor:l.color,boxShadow:`0 10px 15px -3px ${l.color}33`},children:w?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processing..."]}):v?"Update Order":"Complete & Print Receipt"})]})]})]})}),m&&y&&h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center sticky top-0 bg-white dark:bg-slate-800 z-10",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Order Details"}),h.jsxs("p",{className:"text-sm text-slate-500",children:[y.orderId,"  ",y.date]})]}),h.jsx("button",{onClick:()=>g(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:h.jsx(ii,{className:"w-6 h-6"})})]}),h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-start bg-slate-50 dark:bg-slate-700/30 p-4 rounded-xl",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-2",children:"Customer Info"}),h.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:y.customer.name}),h.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:y.customer.phone}),h.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:[y.customer.address,", ",y.customer.governorate]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-2",children:"Order Status"}),h.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-bold ${y.status==="Completed"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:y.status})]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-3",children:"Order Items"}),h.jsx("div",{className:"space-y-3",children:y.items.map((H,se)=>h.jsxs("div",{className:"flex justify-between items-center border-b border-slate-100 dark:border-slate-700 pb-3 last:border-0 last:pb-0",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-12 h-12 bg-slate-100 dark:bg-slate-700 rounded-lg overflow-hidden flex-shrink-0",children:H.product.images&&H.product.images[0]?h.jsx("img",{src:H.product.images[0],alt:H.product.name||"Product image",className:"w-full h-full object-cover"}):h.jsx("div",{className:"flex items-center justify-center w-full h-full text-slate-400 text-xs",children:"No Img"})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:H.product.name}),h.jsxs("p",{className:"text-xs text-slate-500",children:[H.quantity," x ",s(H.price)]})]})]}),h.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:s(H.price*H.quantity)})]},se))})]}),h.jsx("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:h.jsxs("div",{className:"flex justify-end space-y-2 flex-col items-end",children:[h.jsxs("div",{className:"flex gap-8 text-sm",children:[h.jsx("span",{className:"text-slate-500",children:"Subtotal:"}),h.jsx("span",{className:"font-medium text-slate-800 dark:text-white",children:s(y.subtotal||y.total)})]}),y.discount>0&&h.jsxs("div",{className:"flex gap-8 text-sm text-red-500",children:[h.jsxs("span",{children:["Discount (",y.discount,"%):"]}),h.jsxs("span",{children:["-",s((y.subtotal||y.total)-y.total)]})]}),h.jsxs("div",{className:"flex gap-8 text-lg font-bold pt-2",children:[h.jsx("span",{className:"text-slate-800 dark:text-white",children:"Total:"}),h.jsx("span",{className:"text-indigo-600",children:s(y.total)})]})]})}),h.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-slate-100 dark:border-slate-700",children:[h.jsxs("button",{onClick:()=>Ce(y),className:"px-4 py-2 bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-800 dark:text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[h.jsx(Qw,{className:"w-4 h-4"})," Print Receipt"]}),h.jsxs("button",{onClick:()=>xe(y),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[h.jsx(pu,{className:"w-4 h-4"})," Edit Order"]})]})]})]})}),"        "]})},WOe=()=>{const{customers:t,orders:e,addCustomer:n,updateCustomer:r,formatCurrency:i,brand:a}=zi(),[o,s]=M.useState(""),[l,u]=M.useState([]),[c,f]=M.useState([]),[d,m]=M.useState("orders-high"),[g,y]=M.useState({from:By(new Date,90),to:new Date}),[b,v]=M.useState(!1),[x,w]=M.useState(!1),[A,_]=M.useState(null),[k,S]=M.useState(null),[E,P]=M.useState(null),[N,O]=M.useState({name:"",email:"",phone:"",address:"",governorate:"",social:"",notes:""}),C=M.useMemo(()=>{const B={};return t.forEach(K=>{const re=K.governorate;re&&(B[re]=(B[re]||0)+1)}),Th.map(K=>({value:K,label:K,count:B[K]||0})).sort((K,re)=>re.count-K.count)},[t]),j=M.useMemo(()=>{const B={};return t.forEach(K=>{const re=K.social;re&&(B[re]=(B[re]||0)+1)}),kh.map(K=>({value:K,label:K,count:B[K]||0})).sort((K,re)=>re.count-K.count)},[t]),D=B=>e.filter(K=>{var fe,ve,Ae;const re=t.find(Ee=>Ee._id===B);return re?((fe=K.customer)==null?void 0:fe._id)===B||((ve=K.customer)==null?void 0:ve.name)===re.name&&((Ae=K.customer)==null?void 0:Ae.phone)===re.phone:!1}),R=M.useMemo(()=>t.filter(K=>{const re=K.name.toLowerCase().includes(o.toLowerCase())||K.phone.includes(o),fe=K.createdOn?Ll(K.createdOn):null,ve=!(g!=null&&g.from)||!(g!=null&&g.to)||!fe||Hu(fe,{start:g.from,end:g.to}),Ae=l.length===0||l.includes(K.governorate),Ee=c.length===0||c.includes(K.social);return re&&ve&&Ae&&Ee}).sort((K,re)=>{if(d==="name-asc")return K.name.localeCompare(re.name);if(d==="name-desc")return re.name.localeCompare(K.name);const fe=D(K._id).length,ve=D(re._id).length;return d==="orders-high"?ve-fe:d==="orders-low"?fe-ve:d==="date-new"?re._id.localeCompare(K._id):0}),[t,o,l,c,d,e]),$=()=>{S(null),O({name:"",email:"",phone:"",address:"",governorate:"",social:"",notes:""}),v(!0)},F=B=>{S(B),O(B),v(!0)},V=B=>{_(B),w(!0),P(null)},U=B=>{B.preventDefault(),k?r({...N,_id:k._id}):n(N),v(!1)},W=B=>{const K=window.open("","_blank");K.document.write(`
            <html>
                <head>
                    <title>Order ${B.orderId}</title>
                    <style>
                        body { font-family: sans-serif; padding: 20px; }
                        .header { text-align: center; margin-bottom: 20px; }
                        .order-info { margin-bottom: 20px; border-bottom: 1px solid #ccc; padding-bottom: 10px; }
                        table { width: 100%; border-collapse: collapse; }
                        th, td { text-align: left; padding: 8px; border-bottom: 1px solid #eee; }
                        .total { text-align: right; font-weight: bold; font-size: 1.2em; margin-top: 20px; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h1>Order Receipt</h1>
                        <h3>${B.orderId}</h3>
                    </div>
                    <div class="order-info">
                        <p><strong>Customer:</strong> ${B.customer.name}</p>
                        <p><strong>Date:</strong> ${B.date}</p>
                        <p><strong>Status:</strong> ${B.status}</p>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>Item</th>
                                <th>Qty</th>
                                <th>Price</th>
                                <th>Total</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${B.items.map(re=>`
                                <tr>
                                    <td>${re.product.name}</td>
                                    <td>${re.quantity}</td>
                                    <td>${new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(re.price)}</td>
                                    <td>${new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(re.price*re.quantity)}</td>
                                </tr>
                            `).join("")}
                        </tbody>
                    </table>
                    <div class="total">
                        Total: ${new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(B.total)}
                    </div>
                    <script>window.onload = function() { window.print(); window.close(); }<\/script>
                </body>
            </html>
        `),K.document.close()},q=B=>{switch(B==null?void 0:B.toLowerCase()){case"facebook":return h.jsx(yz,{className:"w-4 h-4"});case"instagram":return h.jsx(vz,{className:"w-4 h-4"});case"twitter":return h.jsx(Iz,{className:"w-4 h-4"});case"tiktok":return h.jsx("div",{className:"w-4 h-4 font-bold text-xs flex items-center justify-center",children:"TT"});case"whatsapp":return h.jsx(_z,{className:"w-4 h-4"});default:return h.jsx(Xw,{className:"w-4 h-4"})}};return h.jsxs(cc,{title:"Customers",children:[h.jsxs("div",{className:"flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[h.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[h.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[h.jsxs("button",{onClick:$,className:"flex items-center gap-2 px-6 py-2.5 text-white rounded-xl font-bold transition-all shadow-lg",style:{backgroundColor:a.color,boxShadow:`0 10px 15px -3px ${a.color}33`},children:[h.jsx(Ms,{className:"w-5 h-5"}),h.jsx("span",{children:"Add Customer"})]}),h.jsxs("button",{onClick:()=>UOe(R),className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 text-white rounded-xl font-bold transition-all shadow-lg hover:bg-green-700",children:[h.jsx(CE,{className:"w-5 h-5"}),h.jsx("span",{className:"hidden sm:inline",children:"Export CSV"})]})]}),h.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[(l.length>0||c.length>0||o)&&h.jsx("button",{onClick:()=>{s(""),u([]),f([])},className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:"Clear Filters"}),h.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[h.jsx(ME,{className:"w-4 h-4 text-slate-400"}),h.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[h.jsx("span",{className:"text-slate-900 dark:text-white",children:R.length})," Customers"]})]})]})]}),h.jsxs("div",{className:"flex gap-3 w-full flex-wrap items-center",children:[h.jsxs("div",{className:"relative min-w-[200px] flex-1 md:flex-none h-[44px]",children:[h.jsx(Ch,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),h.jsx("input",{type:"text",placeholder:"Search by name or phone...",value:o,onChange:B=>s(B.target.value),className:"pl-10 pr-4 py-0 h-full w-full bg-slate-50 dark:bg-slate-900/50 border-2 border-slate-100 dark:border-slate-800 rounded-2xl outline-none focus:border-blue-200 dark:focus:border-blue-800 focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-bold text-sm"})]}),h.jsx("div",{className:"h-[44px] flex-shrink-0",children:h.jsx(Bk,{range:g,onRangeChange:y,brandColor:a.color})}),h.jsx(Is,{title:"Governorate",options:C,selectedValues:l,onChange:u,icon:Sd,showSearch:!1}),h.jsx(Is,{title:"Social Media",options:j,selectedValues:c,onChange:f,icon:Xw,showSearch:!1}),h.jsx(iU,{title:"Sort",options:[{value:"orders-high",label:"Top Spenders"},{value:"orders-low",label:"Lowest Spenders"},{value:"date-new",label:"Recently Joined"},{value:"name-asc",label:"Alphabetical (A-Z)"}],selectedValue:d,onChange:m})]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:R.map(B=>{const K=D(B._id),re=K.reduce((fe,ve)=>fe+ve.total,0);return h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 hover:shadow-xl transition-all duration-300 group overflow-hidden flex flex-col",children:[h.jsxs("div",{className:"p-6 pb-4 flex-1",children:[h.jsxs("div",{className:"flex justify-between items-start mb-6",children:[h.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-50 dark:bg-slate-900 flex items-center justify-center text-[var(--brand-color)] font-black text-2xl border border-slate-100 dark:border-slate-800 group-hover:bg-indigo-50 dark:group-hover:bg-indigo-900 transition-colors",children:B.name.charAt(0)}),h.jsx("button",{onClick:()=>F(B),className:"p-2.5 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800 transition-colors",children:h.jsx(pu,{className:"w-4 h-4"})})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("h3",{className:"font-black text-slate-900 dark:text-white text-xl mb-2 truncate",children:B.name}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-lg text-xs font-black",children:[h.jsx(Ya,{className:"w-3 h-3"}),K.length," ",K.length===1?"Order":"Orders"]}),h.jsx("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 rounded-lg text-xs font-black",children:i(re)})]})]}),h.jsxs("div",{className:"space-y-3.5",children:[h.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[h.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 dark:bg-slate-900 flex items-center justify-center border border-slate-100 dark:border-slate-800 shrink-0",children:h.jsx(Az,{className:"w-4 h-4 text-slate-400"})}),h.jsx("span",{className:"font-bold",children:B.phone||"No phone"})]}),h.jsxs("div",{className:"flex items-start gap-3 text-sm text-slate-600 dark:text-slate-400",children:[h.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 dark:bg-slate-900 flex items-center justify-center border border-slate-100 dark:border-slate-800 shrink-0 mt-0.5",children:h.jsx(Sd,{className:"w-4 h-4 text-slate-400"})}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:B.governorate}),h.jsx("span",{className:"text-[11px] opacity-70 line-clamp-1",children:B.address})]})]}),B.social&&h.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[h.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 dark:bg-slate-900 flex items-center justify-center border border-slate-100 dark:border-slate-800 shrink-0",children:q(B.social)}),h.jsxs("span",{className:"text-[11px] font-black uppercase text-blue-500 tracking-wider",children:["Connected via ",B.social]})]})]})]}),h.jsx("div",{className:"px-6 py-5 bg-slate-50 dark:bg-slate-900/30 border-t border-slate-100 dark:border-slate-800",children:h.jsxs("button",{onClick:()=>V(B),className:"w-full py-3.5 bg-white dark:bg-slate-800 text-slate-700 dark:text-white text-sm font-black rounded-2xl border-2 border-slate-200 dark:border-slate-700 hover:border-[var(--brand-color)] hover:text-[var(--brand-color)] transition-all flex items-center justify-center gap-2 shadow-sm active:scale-95",children:[h.jsx(Ya,{className:"w-4 h-4"}),"Full Order History"]})})]},B._id)})}),b&&h.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/80 backdrop-blur-md p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[32px] shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in duration-300",children:[h.jsxs("div",{className:"px-8 py-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-white dark:bg-slate-800 sticky top-0 z-10",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white",children:k?"Refine Profile":"New Customer"}),h.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:"Customer Database"})]}),h.jsx("button",{onClick:()=>v(!1),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:h.jsx(ii,{className:"w-6 h-6 text-slate-400"})})]}),h.jsx("div",{className:"p-8 overflow-y-auto custom-scrollbar",children:h.jsxs("form",{onSubmit:U,className:"space-y-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Full Name"}),h.jsx("input",{required:!0,placeholder:"Ahmed Ali",value:N.name,onChange:B=>O({...N,name:B.target.value}),className:"w-full p-4 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:bg-slate-900 dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold placeholder:opacity-30"})]}),h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Phone Number"}),h.jsx("input",{required:!0,placeholder:"07XX XXX XXXX",value:N.phone,onChange:B=>O({...N,phone:B.target.value}),className:"w-full p-4 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:bg-slate-900 dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold placeholder:opacity-30"})]})]}),h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Email Address (Optional)"}),h.jsx("input",{placeholder:"customer@example.com",type:"email",value:N.email,onChange:B=>O({...N,email:B.target.value}),className:"w-full p-4 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:bg-slate-900 dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold placeholder:opacity-30"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Governorate"}),h.jsxs("div",{className:"relative",children:[h.jsxs("select",{required:!0,value:N.governorate,onChange:B=>O({...N,governorate:B.target.value}),className:"w-full p-4 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:bg-slate-900 dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold appearance-none cursor-pointer",children:[h.jsx("option",{value:"",children:"Select..."}),Th.map(B=>h.jsx("option",{value:B,children:B},B))]}),h.jsx(Ss,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]})]}),h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Channel"}),h.jsxs("div",{className:"relative",children:[h.jsxs("select",{value:N.social,onChange:B=>O({...N,social:B.target.value}),className:"w-full p-4 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:bg-slate-900 dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold appearance-none cursor-pointer",children:[h.jsx("option",{value:"",children:"Select..."}),kh.map(B=>h.jsx("option",{value:B,children:B},B))]}),h.jsx(Ss,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]})]})]}),h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Shipping Address"}),h.jsx("textarea",{rows:"3",placeholder:"Street name, landmark, house number...",value:N.address,onChange:B=>O({...N,address:B.target.value}),className:"w-full p-4 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:bg-slate-900 dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold resize-none placeholder:opacity-30"})]})]}),h.jsxs("div",{className:"flex gap-4 pt-4",children:[h.jsx("button",{type:"button",onClick:()=>v(!1),className:"flex-1 py-4 border-2 border-slate-100 dark:border-slate-800 rounded-2xl font-black text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700 transition-all active:scale-95",children:"Cancel"}),h.jsx("button",{type:"submit",className:"flex-2 py-4 text-white rounded-2xl font-black shadow-2xl transition-all active:scale-95 hover:brightness-110 flex-[2]",style:{backgroundColor:a.color,boxShadow:`0 15px 30px -10px ${a.color}60`},children:k?"Save Profile":"Register Customer"})]})]})})]})}),x&&A&&h.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/90 backdrop-blur-md p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[32px] shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in slide-in-from-bottom-8 duration-500",children:[h.jsx("div",{className:"px-10 py-8 border-b border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[h.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-50 dark:bg-indigo-900/30 flex items-center justify-center text-indigo-600 dark:text-indigo-400",children:h.jsx(Ya,{className:"w-6 h-6"})}),h.jsx("h3",{className:"text-2xl font-black text-slate-900 dark:text-white",children:"Transaction Logs"})]}),h.jsxs("p",{className:"text-slate-500 font-bold uppercase text-[10px] tracking-[0.2em] ml-13",children:["Customer: ",h.jsx("span",{className:"text-[var(--brand-color)]",children:A.name})]})]}),h.jsx("button",{onClick:()=>w(!1),className:"w-12 h-12 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:h.jsx(ii,{className:"w-8 h-8 text-slate-400"})})]})}),h.jsx("div",{className:"p-10 overflow-y-auto custom-scrollbar bg-slate-50/50 dark:bg-slate-900/50",children:D(A._id).length===0?h.jsxs("div",{className:"text-center py-24",children:[h.jsx("div",{className:"w-24 h-24 bg-white dark:bg-slate-800 border-2 border-slate-100 dark:border-slate-700 rounded-3xl flex items-center justify-center mx-auto mb-6 text-slate-200",children:h.jsx(Ya,{className:"w-12 h-12"})}),h.jsx("h4",{className:"text-slate-400 font-black uppercase text-xs tracking-widest",children:"No Active Records Found"})]}):h.jsx("div",{className:"space-y-4",children:D(A._id).map(B=>h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[28px] border-2 border-slate-50 dark:border-slate-800 shadow-sm overflow-hidden transition-all hover:shadow-xl hover:border-indigo-100 dark:hover:border-indigo-900/30 group",children:[h.jsxs("div",{className:"p-6 flex items-center justify-between cursor-pointer",onClick:()=>P(E===B._id?null:B._id),children:[h.jsxs("div",{className:"flex items-center gap-6",children:[h.jsx("div",{className:"w-14 h-14 bg-slate-50 dark:bg-slate-900 rounded-2xl flex items-center justify-center text-[var(--brand-color)] group-hover:bg-[var(--brand-color)] group-hover:text-white transition-all",children:h.jsx(Ya,{className:"w-7 h-7"})}),h.jsxs("div",{children:[h.jsx("div",{className:"font-black text-slate-900 dark:text-white text-lg",children:B.orderId}),h.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:B.date})]})]}),h.jsxs("div",{className:"flex items-center gap-8",children:[h.jsxs("div",{className:"text-right",children:[h.jsx("div",{className:"font-black text-slate-900 dark:text-white text-xl",children:i(B.total)}),h.jsx("div",{className:`text-[10px] font-black uppercase px-2.5 py-1 rounded-lg inline-block mt-1 ${B.status==="Completed"?"bg-emerald-50 text-emerald-600 border border-emerald-100":B.status==="Processing"?"bg-amber-50 text-amber-600 border border-amber-100":"bg-slate-50 text-slate-600 border border-slate-100"}`,children:B.status})]}),h.jsx("div",{className:`w-10 h-10 rounded-full bg-slate-50 dark:bg-slate-900 flex items-center justify-center transition-transform ${E===B._id?"rotate-180 bg-indigo-50 text-indigo-500":"text-slate-300"}`,children:h.jsx(Ss,{className:"w-6 h-6"})})]})]}),E===B._id&&h.jsxs("div",{className:"px-8 pb-8 pt-0 border-t border-slate-50 dark:border-slate-800 animate-in slide-in-from-top-4 duration-300",children:[h.jsx("div",{className:"grid grid-cols-1 gap-3 mt-6",children:B.items.map((K,re)=>h.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-900/80 rounded-2xl border border-slate-100 dark:border-slate-800",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"w-12 h-12 bg-white dark:bg-slate-800 rounded-xl flex items-center justify-center font-black text-sm text-[var(--brand-color)] border border-slate-100 dark:border-slate-700 shadow-sm",children:[K.quantity,""]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-black text-slate-800 dark:text-white block text-sm",children:K.product.name}),h.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[i(K.price)," per unit"]})]})]}),h.jsx("span",{className:"font-black text-slate-900 dark:text-white",children:i(K.price*K.quantity)})]},re))}),h.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-100 dark:border-slate-700 flex flex-col sm:flex-row justify-between items-center gap-4",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:"Payment Method"}),h.jsx("p",{className:"text-sm font-bold text-slate-700 dark:text-white",children:"Cash on Delivery"})]}),h.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-700"}),h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:"Items Count"}),h.jsxs("p",{className:"text-sm font-bold text-slate-700 dark:text-white",children:[B.items.length," Items"]})]})]}),h.jsxs("button",{onClick:K=>{K.stopPropagation(),W(B)},className:"flex items-center gap-2 px-8 py-4 bg-slate-900 dark:bg-slate-700 text-white rounded-2xl font-black text-sm transition-all shadow-xl active:scale-95 hover:brightness-125 hover:shadow-2xl",children:[h.jsx(Qw,{className:"w-5 h-5"}),"Print Thermal Receipt"]})]})]})]},B._id))})})]})})]})},qOe=()=>{const{products:t,updateProduct:e,loading:n}=zi(),[r,i]=M.useState(null),[a,o]=M.useState(""),s=d=>{i(d)},l=()=>{i(null)},u=async d=>{await e(d),i(null)},c=async d=>{const m=d.map(g=>({url:URL.createObjectURL(g),file:g,name:g.name}));if(r){const g=[...r.images||[],...m],y={...r,images:g};i(y),await e(y)}return m},f=t.filter(d=>{var m;return d.name.toLowerCase().includes(a.toLowerCase())||((m=d.sku)==null?void 0:m.toLowerCase().includes(a.toLowerCase()))});return h.jsxs(cc,{title:"Product Picture Gallery",children:[h.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 mb-8",children:[h.jsxs("div",{children:[h.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[h.jsx(yg,{className:"w-6 h-6 text-indigo-500"}),"Product Gallery"]}),h.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:"Manage your product visual assets."})]}),h.jsxs("div",{className:"relative w-full md:w-64",children:[h.jsx(Ch,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),h.jsx("input",{type:"text",placeholder:"Search products...",value:a,onChange:d=>o(d.target.value),className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-medium focus:ring-2 focus:ring-indigo-500 outline-none transition-all"})]})]}),n?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"})}):h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:f.map(d=>{var y;const m=((y=d.images)==null?void 0:y[0])||d.image||"https://via.placeholder.com/400x400?text=No+Image",g=typeof m=="string"?m:m.url;return h.jsxs("div",{onClick:()=>s(d),className:"group bg-white dark:bg-slate-800 rounded-3xl p-3 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer border border-transparent hover:border-indigo-100 dark:hover:border-slate-700",children:[h.jsxs("div",{className:"aspect-[4/5] w-full rounded-2xl overflow-hidden bg-slate-100 dark:bg-slate-900 relative",children:[h.jsx("img",{src:g,alt:d.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),d.stock<=5&&h.jsx("div",{className:"absolute top-3 left-3 bg-red-500 text-white text-[10px] font-bold px-2 py-1 rounded-md shadow-md",children:"LOW STOCK"}),h.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"})]}),h.jsxs("div",{className:"mt-4 px-1",children:[h.jsx("h3",{className:"font-bold text-slate-800 dark:text-white truncate text-base mb-1 group-hover:text-indigo-600 transition-colors",children:d.name}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-xs font-mono font-bold text-slate-400 uppercase tracking-wider",children:d.sku||"NO-SKU"}),h.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 rounded-lg",children:d.category||"General"})]})]})]},d.id||d._id)})}),f.length===0&&!n&&h.jsxs("div",{className:"text-center py-20 text-slate-400",children:[h.jsx(yg,{className:"w-12 h-12 mx-auto mb-4 opacity-20"}),h.jsx("p",{children:"No products found matching your search."})]}),r&&h.jsx(rU,{product:r,onClose:l,onSave:u,onUpload:c})]})},HOe=()=>{var V;const{theme:t,toggleTheme:e,users:n,addUser:r,updateUser:i,deleteUser:a,currentUser:o,updateUserProfile:s,brand:l,updateBrand:u}=zi(),[c,f]=M.useState("general"),[d,m]=M.useState(!1),[g,y]=M.useState(!1),[b,v]=M.useState(null),[x,w]=M.useState((o==null?void 0:o.displayName)||""),[A,_]=M.useState(!1);M.useEffect(()=>{o&&w(o.displayName)},[o]);const k=async()=>{try{await s({displayName:x}),_(!1),alert("Profile updated successfully!")}catch(U){console.error("Profile update error:",U),alert("Failed to update profile.")}},S=U=>{const W=U.target.files[0];if(W){if(W.size>500*1024)return alert("Avatar too large. Max 500KB.");const q=new FileReader;q.onloadend=async()=>{await s({photoURL:q.result})},q.readAsDataURL(W)}},[E,P]=M.useState({name:l.name,color:l.color,logo:l.logo,hideHeader:l.hideHeader||!1});M.useEffect(()=>{P({name:l.name,color:l.color,logo:l.logo,hideHeader:l.hideHeader||!1})},[l]);const N=async()=>{try{await u(E),alert("Branding settings saved successfully!")}catch{alert("Failed to save branding settings.")}},O=U=>{const W=U.target.files[0];if(W){if(W.size>1024*1024)return alert("File too large. Max 1MB.");const q=new FileReader;q.onloadend=()=>{P(B=>({...B,logo:q.result}))},q.readAsDataURL(W)}},[C,j]=M.useState({username:"",email:"",role:"Staff",password:"",displayName:""}),D=()=>{v(null),j({username:"",email:"",role:"Staff",password:"",displayName:""}),m(!0)},R=U=>{v(U),j({...U,password:""}),m(!0)},$=async U=>{U.preventDefault();try{b?(await i({...C,_id:b._id}),alert("User updated successfully!")):(await r({...C}),alert("User created successfully!")),m(!1)}catch(W){console.error("User management error:",W),alert("Failed to save user.")}},F=async U=>{if(window.confirm("Are you sure you want to delete this user?"))try{await a(U),alert("User deleted.")}catch{alert("Failed to delete user.")}};return h.jsxs(cc,{title:"Settings",children:[h.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[h.jsx("aside",{className:"w-full lg:w-64 bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-6",children:h.jsxs("nav",{className:"space-y-2",children:[h.jsxs("button",{onClick:()=>f("general"),className:`flex items-center gap-3 w-full px-4 py-2 rounded-xl text-left font-medium transition-colors ${c==="general"?"shadow-sm":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,style:c==="general"?{backgroundColor:`${l.color}15`,color:l.color}:{},children:[h.jsx(QD,{className:"w-5 h-5"})," General"]}),h.jsxs("button",{onClick:()=>f("account"),className:`flex items-center gap-3 w-full px-4 py-2 rounded-xl text-left font-medium transition-colors ${c==="account"?"shadow-sm":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,style:c==="account"?{backgroundColor:`${l.color}15`,color:l.color}:{},children:[h.jsx(ME,{className:"w-5 h-5"})," Account"]}),h.jsxs("button",{onClick:()=>f("users"),className:`flex items-center gap-3 w-full px-4 py-2 rounded-xl text-left font-medium transition-colors ${c==="users"?"shadow-sm":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,style:c==="users"?{backgroundColor:`${l.color}15`,color:l.color}:{},children:[h.jsx($E,{className:"w-5 h-5"})," Users"]}),h.jsxs("button",{onClick:()=>f("security"),className:`flex items-center gap-3 w-full px-4 py-2 rounded-xl text-left font-medium transition-colors ${c==="security"?"shadow-sm":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,style:c==="security"?{backgroundColor:`${l.color}15`,color:l.color}:{},children:[h.jsx(xz,{className:"w-5 h-5"})," Security"]})]})}),h.jsxs("div",{className:"flex-1",children:[c==="general"&&h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[h.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:"General Settings"}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-3",children:"Theme"}),h.jsxs("div",{className:"flex space-x-4",children:[h.jsxs("button",{onClick:()=>e("light"),className:`flex flex-col items-center p-4 rounded-xl border-2 ${t==="light"?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"} transition-all`,children:[h.jsx(ZD,{className:`w-6 h-6 mb-2 ${t==="light"?"text-indigo-600":"text-slate-500"}`}),h.jsx("span",{className:`text-sm font-medium ${t==="light"?"text-indigo-700 dark:text-indigo-300":"text-slate-600 dark:text-slate-400"}`,children:"Light"})]}),h.jsxs("button",{onClick:()=>e("dark"),className:`flex flex-col items-center p-4 rounded-xl border-2 ${t==="dark"?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"} transition-all`,children:[h.jsx(Ez,{className:`w-6 h-6 mb-2 ${t==="dark"?"text-indigo-600":"text-slate-500"}`}),h.jsx("span",{className:`text-sm font-medium ${t==="dark"?"text-indigo-700 dark:text-indigo-300":"text-slate-600 dark:text-slate-400"}`,children:"Dark"})]}),h.jsxs("button",{onClick:()=>e("system"),className:`flex flex-col items-center p-4 rounded-xl border-2 ${t==="system"?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"} transition-all`,children:[h.jsx(Sz,{className:`w-6 h-6 mb-2 ${t==="system"?"text-indigo-600":"text-slate-500"}`}),h.jsx("span",{className:`text-sm font-medium ${t==="system"?"text-indigo-700 dark:text-indigo-300":"text-slate-600 dark:text-slate-400"}`,children:"System"})]})]})]}),h.jsx("div",{className:"pt-4 border-t border-slate-100 dark:border-slate-700",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:"Application Header"}),h.jsx("p",{className:"text-xs text-slate-500",children:"Show or hide the top navigation header"})]}),h.jsx("button",{onClick:async()=>{const U=!E.hideHeader;P(W=>({...W,hideHeader:U})),await u({...l,hideHeader:U})},className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none",style:{backgroundColor:E.hideHeader?"#e2e8f0":l.color},children:h.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${E.hideHeader?"translate-x-1":"translate-x-6"}`})})]})})]}),h.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-100 dark:border-slate-700",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200",children:"Branding"}),h.jsx("button",{onClick:N,className:"px-4 py-2 text-white text-sm font-bold rounded-xl shadow-lg transition-all active:scale-95",style:{backgroundColor:l.color,boxShadow:`0 10px 15px -3px ${l.color}33`},children:"Save Branding Settings"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Application Name"}),h.jsx("input",{type:"text",value:E.name,onChange:U=>P({...E,name:U.target.value}),className:"w-full p-3 border border-slate-200 dark:border-slate-600 rounded-xl bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500/20"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Primary Color"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("input",{type:"color",value:E.color,onChange:U=>P({...E,color:U.target.value}),className:"w-12 h-12 rounded-xl cursor-pointer border-0 p-0 overflow-hidden"}),h.jsx("span",{className:"text-slate-500 dark:text-slate-400 font-mono",children:E.color})]})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Logo"}),h.jsxs("div",{className:"flex items-center gap-6",children:[h.jsx("div",{className:"w-20 h-20 rounded-xl flex items-center justify-center border border-slate-200 dark:border-slate-600 overflow-hidden bg-slate-100 dark:bg-slate-800",style:{backgroundColor:E.color},children:E.logo?h.jsx("img",{src:E.logo,alt:"Logo",className:"w-full h-full object-cover"}):h.jsx("span",{className:"text-white font-bold text-2xl",children:E.name.charAt(0)})}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("label",{className:"cursor-pointer inline-flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded-lg transition-colors font-medium text-sm",children:[h.jsx(RE,{className:"w-4 h-4"}),h.jsx("span",{children:"Upload Logo"}),h.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:O})]}),h.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:"Recommended size: 512x512px. Max 1MB."}),E.logo&&h.jsx("button",{onClick:()=>P({...E,logo:null}),className:"mt-2 text-xs text-red-500 hover:text-red-600 font-medium",children:"Remove Logo"})]})]})]})]})]})]}),c==="account"&&h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[h.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:"Account Settings"}),h.jsxs("div",{className:"max-w-xl space-y-6",children:[h.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[h.jsx("div",{className:"w-24 h-24 bg-indigo-100 dark:bg-indigo-900/30 rounded-full flex items-center justify-center text-3xl font-bold text-indigo-600 dark:text-indigo-400 overflow-hidden border-4 border-white dark:border-slate-800 shadow-lg",children:o!=null&&o.photoURL?h.jsx("img",{src:o.photoURL,alt:"Avatar",className:"w-full h-full object-cover"}):((V=o==null?void 0:o.displayName)==null?void 0:V.charAt(0))||"U"}),h.jsxs("div",{children:[h.jsxs("label",{className:"cursor-pointer px-4 py-2 text-white text-sm font-bold rounded-xl shadow-lg transition-all inline-block hover:scale-[1.02]",style:{backgroundColor:l.color,boxShadow:`0 10px 15px -3px ${l.color}33`},children:["Change Avatar",h.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:S})]}),h.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"JPG, GIF or PNG. Max size of 800K"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:"Display Name"}),h.jsx("input",{type:"text",id:"displayName",value:x,onChange:U=>w(U.target.value),disabled:!A,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all disabled:bg-slate-100 dark:disabled:bg-slate-700 disabled:text-slate-500 dark:disabled:text-slate-400"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:"Username"}),h.jsx("input",{type:"text",value:(o==null?void 0:o.username)||"",readOnly:!0,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 cursor-not-allowed"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:"Email Address"}),h.jsx("input",{type:"email",value:(o==null?void 0:o.email)||"",readOnly:!0,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 cursor-not-allowed"})]}),h.jsx("div",{className:"flex justify-end pt-4",children:A?h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>{w((o==null?void 0:o.displayName)||""),_(!1)},className:"px-6 py-3 text-slate-600 dark:text-slate-300 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 rounded-xl transition-colors",children:"Cancel"}),h.jsx("button",{onClick:k,className:"px-6 py-3 text-white font-bold rounded-xl transition-all shadow-lg",style:{backgroundColor:l.color,boxShadow:`0 10px 15px -3px ${l.color}33`},children:"Save Changes"})]}):h.jsx("button",{onClick:()=>_(!0),className:"px-6 py-3 text-white font-bold rounded-xl transition-all shadow-lg",style:{backgroundColor:l.color,boxShadow:`0 10px 15px -3px ${l.color}33`},children:"Edit Profile"})})]})]}),c==="users"&&h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"User Management"}),h.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-4 py-2 text-white font-medium rounded-xl transition-colors shadow-lg",style:{backgroundColor:l.color,boxShadow:`0 10px 15px -3px ${l.color}33`},children:[h.jsx(Ms,{className:"w-5 h-5"})," Add User"]})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Username"}),h.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Display Name"}),h.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Email"}),h.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Role"}),h.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:n.map(U=>h.jsxs("tr",{children:[h.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-white",children:U.username}),h.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:U.displayName}),h.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:U.email}),h.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:U.role}),h.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:h.jsxs("div",{className:"flex items-center justify-end gap-2",children:[h.jsx("button",{onClick:()=>R(U),className:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300 transition-colors",children:h.jsx(pu,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>F(U._id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 transition-colors",children:h.jsx(mu,{className:"w-4 h-4"})})]})})]},U._id))})]})})]}),c==="security"&&h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[h.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:"Security Settings"}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-3",children:"Password"}),h.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Change your account password."}),h.jsx("button",{onClick:()=>y(!0),className:"px-6 py-3 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 hover:shadow-lg hover:shadow-indigo-600/30 transition-all",children:"Change Password"})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-3",children:"Two-Factor Authentication (2FA)"}),h.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Add an extra layer of security to your account."}),h.jsx("button",{className:"px-6 py-3 text-white font-bold rounded-xl transition-all shadow-lg",style:{backgroundColor:l.color,boxShadow:`0 10px 15px -3px ${l.color}33`},children:"Enable 2FA"})]})]})]})]})]}),d&&h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md p-6",children:[h.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:b?"Edit User":"Add New User"}),h.jsxs("form",{onSubmit:$,className:"space-y-4",children:[h.jsx("input",{required:!0,placeholder:"Display Name",value:C.displayName,onChange:U=>j({...C,displayName:U.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),h.jsx("input",{required:!0,placeholder:"Username",value:C.username,onChange:U=>j({...C,username:U.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),h.jsx("input",{required:!0,placeholder:"Email",type:"email",value:C.email,onChange:U=>j({...C,email:U.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),h.jsxs("select",{value:C.role,onChange:U=>j({...C,role:U.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none",children:[h.jsx("option",{value:"Manager",children:"Manager"}),h.jsx("option",{value:"Staff",children:"Staff"}),h.jsx("option",{value:"Admin",children:"Admin"})]}),h.jsx("input",{placeholder:b?"Password (leave blank to keep)":"Password",type:"password",value:C.password,onChange:U=>j({...C,password:U.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none",required:!b}),h.jsxs("div",{className:"flex gap-3 mt-6",children:[h.jsx("button",{type:"button",onClick:()=>m(!1),className:"flex-1 py-3 text-slate-600 font-bold hover:bg-slate-100 rounded-xl transition-colors",children:"Cancel"}),h.jsx("button",{type:"submit",className:"flex-1 py-3 text-white font-bold rounded-xl transition-colors shadow-lg",style:{backgroundColor:l.color,boxShadow:`0 10px 15px -3px ${l.color}33`},children:b?"Update User":"Create User"})]})]})]})}),g&&h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md p-6",children:[h.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Change Password"}),h.jsxs("form",{onSubmit:U=>{U.preventDefault(),alert("Password changed successfully (Mock)"),y(!1)},className:"space-y-4",children:[h.jsx("input",{required:!0,placeholder:"Current Password",type:"password",className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),h.jsx("input",{required:!0,placeholder:"New Password",type:"password",className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),h.jsx("input",{required:!0,placeholder:"Confirm New Password",type:"password",className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),h.jsxs("div",{className:"flex gap-3 mt-6",children:[h.jsx("button",{type:"button",onClick:()=>y(!1),className:"flex-1 py-3 text-slate-600 font-bold hover:bg-slate-100 rounded-xl transition-colors",children:"Cancel"}),h.jsx("button",{type:"submit",className:"flex-1 py-3 text-white font-bold rounded-xl transition-colors shadow-lg",style:{backgroundColor:l.color,boxShadow:`0 10px 15px -3px ${l.color}33`},children:"Change Password"})]})]})]})})]})};function GOe(){return h.jsx($J,{children:h.jsx(iz,{children:h.jsxs(Q7,{children:[h.jsx(Fa,{path:"/",element:h.jsx(MOe,{})}),h.jsx(Fa,{path:"/products",element:h.jsx(VOe,{})}),h.jsx(Fa,{path:"/orders",element:h.jsx(zOe,{})}),h.jsx(Fa,{path:"/customers",element:h.jsx(WOe,{})}),h.jsx(Fa,{path:"/product-picture",element:h.jsx(qOe,{})}),h.jsx(Fa,{path:"/settings",element:h.jsx(HOe,{})}),h.jsx(Fa,{path:"*",element:h.jsx(Y7,{to:"/",replace:!0})})]})})})}ew.createRoot(document.getElementById("root")).render(h.jsx(z.StrictMode,{children:h.jsx(GOe,{})}));
