function bq(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var R4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ut(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var XO={exports:{}},o2={},JO={exports:{}},pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp=Symbol.for("react.element"),wq=Symbol.for("react.portal"),_q=Symbol.for("react.fragment"),Sq=Symbol.for("react.strict_mode"),kq=Symbol.for("react.profiler"),Eq=Symbol.for("react.provider"),Nq=Symbol.for("react.context"),Tq=Symbol.for("react.forward_ref"),Pq=Symbol.for("react.suspense"),Aq=Symbol.for("react.memo"),Iq=Symbol.for("react.lazy"),FS=Symbol.iterator;function Cq(t){return t===null||typeof t!="object"?null:(t=FS&&t[FS]||t["@@iterator"],typeof t=="function"?t:null)}var ZO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ej=Object.assign,tj={};function id(t,e,n){this.props=t,this.context=e,this.refs=tj,this.updater=n||ZO}id.prototype.isReactComponent={};id.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};id.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nj(){}nj.prototype=id.prototype;function Z9(t,e,n){this.props=t,this.context=e,this.refs=tj,this.updater=n||ZO}var ex=Z9.prototype=new nj;ex.constructor=Z9;ej(ex,id.prototype);ex.isPureReactComponent=!0;var VS=Array.isArray,rj=Object.prototype.hasOwnProperty,tx={current:null},ij={key:!0,ref:!0,__self:!0,__source:!0};function aj(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)rj.call(e,r)&&!ij.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Wp,type:t,key:a,ref:s,props:i,_owner:tx.current}}function Oq(t,e){return{$$typeof:Wp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function nx(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wp}function jq(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var US=/\/+/g;function u6(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jq(""+t.key):e.toString(36)}function Um(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Wp:case wq:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+u6(s,0):r,VS(i)?(n="",t!=null&&(n=t.replace(US,"$&/")+"/"),Um(i,e,n,"",function(c){return c})):i!=null&&(nx(i)&&(i=Oq(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(US,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",VS(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+u6(a,o);s+=Um(a,e,n,l,i)}else if(l=Cq(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+u6(a,o++),s+=Um(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function $4(t,e,n){if(t==null)return t;var r=[],i=0;return Um(t,r,"","",function(a){return e.call(n,a,i++)}),r}function Mq(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Wr={current:null},Bm={transition:null},Dq={ReactCurrentDispatcher:Wr,ReactCurrentBatchConfig:Bm,ReactCurrentOwner:tx};function sj(){throw Error("act(...) is not supported in production builds of React.")}pt.Children={map:$4,forEach:function(t,e,n){$4(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $4(t,function(){e++}),e},toArray:function(t){return $4(t,function(e){return e})||[]},only:function(t){if(!nx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pt.Component=id;pt.Fragment=_q;pt.Profiler=kq;pt.PureComponent=Z9;pt.StrictMode=Sq;pt.Suspense=Pq;pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dq;pt.act=sj;pt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ej({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=tx.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)rj.call(e,l)&&!ij.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Wp,type:t.type,key:i,ref:a,props:r,_owner:s}};pt.createContext=function(t){return t={$$typeof:Nq,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Eq,_context:t},t.Consumer=t};pt.createElement=aj;pt.createFactory=function(t){var e=aj.bind(null,t);return e.type=t,e};pt.createRef=function(){return{current:null}};pt.forwardRef=function(t){return{$$typeof:Tq,render:t}};pt.isValidElement=nx;pt.lazy=function(t){return{$$typeof:Iq,_payload:{_status:-1,_result:t},_init:Mq}};pt.memo=function(t,e){return{$$typeof:Aq,type:t,compare:e===void 0?null:e}};pt.startTransition=function(t){var e=Bm.transition;Bm.transition={};try{t()}finally{Bm.transition=e}};pt.unstable_act=sj;pt.useCallback=function(t,e){return Wr.current.useCallback(t,e)};pt.useContext=function(t){return Wr.current.useContext(t)};pt.useDebugValue=function(){};pt.useDeferredValue=function(t){return Wr.current.useDeferredValue(t)};pt.useEffect=function(t,e){return Wr.current.useEffect(t,e)};pt.useId=function(){return Wr.current.useId()};pt.useImperativeHandle=function(t,e,n){return Wr.current.useImperativeHandle(t,e,n)};pt.useInsertionEffect=function(t,e){return Wr.current.useInsertionEffect(t,e)};pt.useLayoutEffect=function(t,e){return Wr.current.useLayoutEffect(t,e)};pt.useMemo=function(t,e){return Wr.current.useMemo(t,e)};pt.useReducer=function(t,e,n){return Wr.current.useReducer(t,e,n)};pt.useRef=function(t){return Wr.current.useRef(t)};pt.useState=function(t){return Wr.current.useState(t)};pt.useSyncExternalStore=function(t,e,n){return Wr.current.useSyncExternalStore(t,e,n)};pt.useTransition=function(){return Wr.current.useTransition()};pt.version="18.3.1";JO.exports=pt;var C=JO.exports;const F=Ut(C),Rq=bq({__proto__:null,default:F},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $q=C,Lq=Symbol.for("react.element"),Fq=Symbol.for("react.fragment"),Vq=Object.prototype.hasOwnProperty,Uq=$q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bq={key:!0,ref:!0,__self:!0,__source:!0};function oj(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Vq.call(e,r)&&!Bq.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Lq,type:t,key:a,ref:s,props:i,_owner:Uq.current}}o2.Fragment=Fq;o2.jsx=oj;o2.jsxs=oj;XO.exports=o2;var f=XO.exports,tv={},lj={exports:{}},Ai={},cj={exports:{}},uj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,B){var q=V.length;V.push(B);e:for(;0<q;){var K=q-1>>>1,H=V[K];if(0<i(H,B))V[K]=B,V[q]=H,q=K;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var B=V[0],q=V.pop();if(q!==B){V[0]=q;e:for(var K=0,H=V.length,ne=H>>>1;K<ne;){var he=2*(K+1)-1,me=V[he],ee=he+1,xe=V[ee];if(0>i(me,q))ee<H&&0>i(xe,me)?(V[K]=xe,V[ee]=q,K=ee):(V[K]=me,V[he]=q,K=he);else if(ee<H&&0>i(xe,q))V[K]=xe,V[ee]=q,K=ee;else break e}}return B}function i(V,B){var q=V.sortIndex-B.sortIndex;return q!==0?q:V.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(V){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=V)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function E(V){if(x=!1,w(V),!g)if(n(l)!==null)g=!0,$(S);else{var B=n(c);B!==null&&U(E,B.startTime-V)}}function S(V,B){g=!1,x&&(x=!1,y(N),N=-1),p=!0;var q=h;try{for(w(B),d=n(l);d!==null&&(!(d.expirationTime>B)||V&&!I());){var K=d.callback;if(typeof K=="function"){d.callback=null,h=d.priorityLevel;var H=K(d.expirationTime<=B);B=t.unstable_now(),typeof H=="function"?d.callback=H:d===n(l)&&r(l),w(B)}else r(l);d=n(l)}if(d!==null)var ne=!0;else{var he=n(c);he!==null&&U(E,he.startTime-B),ne=!1}return ne}finally{d=null,h=q,p=!1}}var k=!1,_=null,N=-1,P=5,A=-1;function I(){return!(t.unstable_now()-A<P)}function O(){if(_!==null){var V=t.unstable_now();A=V;var B=!0;try{B=_(!0,V)}finally{B?j():(k=!1,_=null)}}else k=!1}var j;if(typeof b=="function")j=function(){b(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,D=R.port2;R.port1.onmessage=O,j=function(){D.postMessage(null)}}else j=function(){v(O,0)};function $(V){_=V,k||(k=!0,j())}function U(V,B){N=v(function(){V(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,$(S))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var q=h;h=B;try{return V()}finally{h=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,B){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var q=h;h=V;try{return B()}finally{h=q}},t.unstable_scheduleCallback=function(V,B,q){var K=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?K+q:K):q=K,V){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=q+H,V={id:u++,callback:B,priorityLevel:V,startTime:q,expirationTime:H,sortIndex:-1},q>K?(V.sortIndex=q,e(c,V),n(l)===null&&V===n(c)&&(x?(y(N),N=-1):x=!0,U(E,q-K))):(V.sortIndex=H,e(l,V),g||p||(g=!0,$(S))),V},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(V){var B=h;return function(){var q=h;h=B;try{return V.apply(this,arguments)}finally{h=q}}}})(uj);cj.exports=uj;var zq=cj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wq=C,Ei=zq;function we(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dj=new Set,gh={};function Ql(t,e){gu(t,e),gu(t+"Capture",e)}function gu(t,e){for(gh[t]=e,t=0;t<e.length;t++)dj.add(e[t])}var Gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nv=Object.prototype.hasOwnProperty,qq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,BS={},zS={};function Hq(t){return nv.call(zS,t)?!0:nv.call(BS,t)?!1:qq.test(t)?zS[t]=!0:(BS[t]=!0,!1)}function Gq(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Kq(t,e,n,r){if(e===null||typeof e>"u"||Gq(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qr(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){cr[t]=new qr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];cr[e]=new qr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){cr[t]=new qr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){cr[t]=new qr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){cr[t]=new qr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){cr[t]=new qr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){cr[t]=new qr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){cr[t]=new qr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){cr[t]=new qr(t,5,!1,t.toLowerCase(),null,!1,!1)});var rx=/[\-:]([a-z])/g;function ix(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rx,ix);cr[e]=new qr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rx,ix);cr[e]=new qr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rx,ix);cr[e]=new qr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){cr[t]=new qr(t,1,!1,t.toLowerCase(),null,!1,!1)});cr.xlinkHref=new qr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){cr[t]=new qr(t,1,!1,t.toLowerCase(),null,!0,!0)});function ax(t,e,n,r){var i=cr.hasOwnProperty(e)?cr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Kq(e,n,i,r)&&(n=null),r||i===null?Hq(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var oo=Wq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L4=Symbol.for("react.element"),Oc=Symbol.for("react.portal"),jc=Symbol.for("react.fragment"),sx=Symbol.for("react.strict_mode"),rv=Symbol.for("react.profiler"),fj=Symbol.for("react.provider"),hj=Symbol.for("react.context"),ox=Symbol.for("react.forward_ref"),iv=Symbol.for("react.suspense"),av=Symbol.for("react.suspense_list"),lx=Symbol.for("react.memo"),ko=Symbol.for("react.lazy"),pj=Symbol.for("react.offscreen"),WS=Symbol.iterator;function Ud(t){return t===null||typeof t!="object"?null:(t=WS&&t[WS]||t["@@iterator"],typeof t=="function"?t:null)}var dn=Object.assign,d6;function mf(t){if(d6===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);d6=e&&e[1]||""}return`
`+d6+t}var f6=!1;function h6(t,e){if(!t||f6)return"";f6=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{f6=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?mf(t):""}function Yq(t){switch(t.tag){case 5:return mf(t.type);case 16:return mf("Lazy");case 13:return mf("Suspense");case 19:return mf("SuspenseList");case 0:case 2:case 15:return t=h6(t.type,!1),t;case 11:return t=h6(t.type.render,!1),t;case 1:return t=h6(t.type,!0),t;default:return""}}function sv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case jc:return"Fragment";case Oc:return"Portal";case rv:return"Profiler";case sx:return"StrictMode";case iv:return"Suspense";case av:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hj:return(t.displayName||"Context")+".Consumer";case fj:return(t._context.displayName||"Context")+".Provider";case ox:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lx:return e=t.displayName||null,e!==null?e:sv(t.type)||"Memo";case ko:e=t._payload,t=t._init;try{return sv(t(e))}catch{}}return null}function Qq(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sv(e);case 8:return e===sx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function c0(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mj(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Xq(t){var e=mj(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function F4(t){t._valueTracker||(t._valueTracker=Xq(t))}function gj(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=mj(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function b3(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ov(t,e){var n=e.checked;return dn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function qS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=c0(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yj(t,e){e=e.checked,e!=null&&ax(t,"checked",e,!1)}function lv(t,e){yj(t,e);var n=c0(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?cv(t,e.type,n):e.hasOwnProperty("defaultValue")&&cv(t,e.type,c0(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function HS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function cv(t,e,n){(e!=="number"||b3(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gf=Array.isArray;function Xc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+c0(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function uv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(we(91));return dn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function GS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(we(92));if(gf(n)){if(1<n.length)throw Error(we(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:c0(n)}}function vj(t,e){var n=c0(e.value),r=c0(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function KS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xj(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xj(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var V4,bj=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(V4=V4||document.createElement("div"),V4.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=V4.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function yh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Uf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jq=["Webkit","ms","Moz","O"];Object.keys(Uf).forEach(function(t){Jq.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Uf[e]=Uf[t]})});function wj(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Uf.hasOwnProperty(t)&&Uf[t]?(""+e).trim():e+"px"}function _j(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=wj(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Zq=dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fv(t,e){if(e){if(Zq[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(we(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(we(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(we(61))}if(e.style!=null&&typeof e.style!="object")throw Error(we(62))}}function hv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pv=null;function cx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mv=null,Jc=null,Zc=null;function YS(t){if(t=Gp(t)){if(typeof mv!="function")throw Error(we(280));var e=t.stateNode;e&&(e=f2(e),mv(t.stateNode,t.type,e))}}function Sj(t){Jc?Zc?Zc.push(t):Zc=[t]:Jc=t}function kj(){if(Jc){var t=Jc,e=Zc;if(Zc=Jc=null,YS(t),e)for(t=0;t<e.length;t++)YS(e[t])}}function Ej(t,e){return t(e)}function Nj(){}var p6=!1;function Tj(t,e,n){if(p6)return t(e,n);p6=!0;try{return Ej(t,e,n)}finally{p6=!1,(Jc!==null||Zc!==null)&&(Nj(),kj())}}function vh(t,e){var n=t.stateNode;if(n===null)return null;var r=f2(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(we(231,e,typeof n));return n}var gv=!1;if(Gs)try{var Bd={};Object.defineProperty(Bd,"passive",{get:function(){gv=!0}}),window.addEventListener("test",Bd,Bd),window.removeEventListener("test",Bd,Bd)}catch{gv=!1}function eH(t,e,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Bf=!1,w3=null,_3=!1,yv=null,tH={onError:function(t){Bf=!0,w3=t}};function nH(t,e,n,r,i,a,s,o,l){Bf=!1,w3=null,eH.apply(tH,arguments)}function rH(t,e,n,r,i,a,s,o,l){if(nH.apply(this,arguments),Bf){if(Bf){var c=w3;Bf=!1,w3=null}else throw Error(we(198));_3||(_3=!0,yv=c)}}function Xl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Pj(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function QS(t){if(Xl(t)!==t)throw Error(we(188))}function iH(t){var e=t.alternate;if(!e){if(e=Xl(t),e===null)throw Error(we(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return QS(i),t;if(a===r)return QS(i),e;a=a.sibling}throw Error(we(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(we(189))}}if(n.alternate!==r)throw Error(we(190))}if(n.tag!==3)throw Error(we(188));return n.stateNode.current===n?t:e}function Aj(t){return t=iH(t),t!==null?Ij(t):null}function Ij(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ij(t);if(e!==null)return e;t=t.sibling}return null}var Cj=Ei.unstable_scheduleCallback,XS=Ei.unstable_cancelCallback,aH=Ei.unstable_shouldYield,sH=Ei.unstable_requestPaint,Nn=Ei.unstable_now,oH=Ei.unstable_getCurrentPriorityLevel,ux=Ei.unstable_ImmediatePriority,Oj=Ei.unstable_UserBlockingPriority,S3=Ei.unstable_NormalPriority,lH=Ei.unstable_LowPriority,jj=Ei.unstable_IdlePriority,l2=null,Za=null;function cH(t){if(Za&&typeof Za.onCommitFiberRoot=="function")try{Za.onCommitFiberRoot(l2,t,void 0,(t.current.flags&128)===128)}catch{}}var Sa=Math.clz32?Math.clz32:fH,uH=Math.log,dH=Math.LN2;function fH(t){return t>>>=0,t===0?32:31-(uH(t)/dH|0)|0}var U4=64,B4=4194304;function yf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function k3(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=yf(o):(a&=s,a!==0&&(r=yf(a)))}else s=n&~i,s!==0?r=yf(s):a!==0&&(r=yf(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Sa(e),i=1<<n,r|=t[n],e&=~i;return r}function hH(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pH(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-Sa(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=hH(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function vv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Mj(){var t=U4;return U4<<=1,!(U4&4194240)&&(U4=64),t}function m6(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function qp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Sa(e),t[e]=n}function mH(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Sa(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function dx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Sa(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var jt=0;function Dj(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Rj,fx,$j,Lj,Fj,xv=!1,z4=[],Ho=null,Go=null,Ko=null,xh=new Map,bh=new Map,Ao=[],gH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function JS(t,e){switch(t){case"focusin":case"focusout":Ho=null;break;case"dragenter":case"dragleave":Go=null;break;case"mouseover":case"mouseout":Ko=null;break;case"pointerover":case"pointerout":xh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bh.delete(e.pointerId)}}function zd(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Gp(e),e!==null&&fx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function yH(t,e,n,r,i){switch(e){case"focusin":return Ho=zd(Ho,t,e,n,r,i),!0;case"dragenter":return Go=zd(Go,t,e,n,r,i),!0;case"mouseover":return Ko=zd(Ko,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return xh.set(a,zd(xh.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,bh.set(a,zd(bh.get(a)||null,t,e,n,r,i)),!0}return!1}function Vj(t){var e=el(t.target);if(e!==null){var n=Xl(e);if(n!==null){if(e=n.tag,e===13){if(e=Pj(n),e!==null){t.blockedOn=e,Fj(t.priority,function(){$j(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);pv=r,n.target.dispatchEvent(r),pv=null}else return e=Gp(n),e!==null&&fx(e),t.blockedOn=n,!1;e.shift()}return!0}function ZS(t,e,n){zm(t)&&n.delete(e)}function vH(){xv=!1,Ho!==null&&zm(Ho)&&(Ho=null),Go!==null&&zm(Go)&&(Go=null),Ko!==null&&zm(Ko)&&(Ko=null),xh.forEach(ZS),bh.forEach(ZS)}function Wd(t,e){t.blockedOn===e&&(t.blockedOn=null,xv||(xv=!0,Ei.unstable_scheduleCallback(Ei.unstable_NormalPriority,vH)))}function wh(t){function e(i){return Wd(i,t)}if(0<z4.length){Wd(z4[0],t);for(var n=1;n<z4.length;n++){var r=z4[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ho!==null&&Wd(Ho,t),Go!==null&&Wd(Go,t),Ko!==null&&Wd(Ko,t),xh.forEach(e),bh.forEach(e),n=0;n<Ao.length;n++)r=Ao[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ao.length&&(n=Ao[0],n.blockedOn===null);)Vj(n),n.blockedOn===null&&Ao.shift()}var eu=oo.ReactCurrentBatchConfig,E3=!0;function xH(t,e,n,r){var i=jt,a=eu.transition;eu.transition=null;try{jt=1,hx(t,e,n,r)}finally{jt=i,eu.transition=a}}function bH(t,e,n,r){var i=jt,a=eu.transition;eu.transition=null;try{jt=4,hx(t,e,n,r)}finally{jt=i,eu.transition=a}}function hx(t,e,n,r){if(E3){var i=bv(t,e,n,r);if(i===null)E6(t,e,r,N3,n),JS(t,r);else if(yH(i,t,e,n,r))r.stopPropagation();else if(JS(t,r),e&4&&-1<gH.indexOf(t)){for(;i!==null;){var a=Gp(i);if(a!==null&&Rj(a),a=bv(t,e,n,r),a===null&&E6(t,e,r,N3,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else E6(t,e,r,null,n)}}var N3=null;function bv(t,e,n,r){if(N3=null,t=cx(r),t=el(t),t!==null)if(e=Xl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Pj(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return N3=t,null}function Uj(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oH()){case ux:return 1;case Oj:return 4;case S3:case lH:return 16;case jj:return 536870912;default:return 16}default:return 16}}var $o=null,px=null,Wm=null;function Bj(){if(Wm)return Wm;var t,e=px,n=e.length,r,i="value"in $o?$o.value:$o.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return Wm=i.slice(t,1<r?1-r:void 0)}function qm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function W4(){return!0}function ek(){return!1}function Ii(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?W4:ek,this.isPropagationStopped=ek,this}return dn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=W4)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=W4)},persist:function(){},isPersistent:W4}),e}var ad={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mx=Ii(ad),Hp=dn({},ad,{view:0,detail:0}),wH=Ii(Hp),g6,y6,qd,c2=dn({},Hp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qd&&(qd&&t.type==="mousemove"?(g6=t.screenX-qd.screenX,y6=t.screenY-qd.screenY):y6=g6=0,qd=t),g6)},movementY:function(t){return"movementY"in t?t.movementY:y6}}),tk=Ii(c2),_H=dn({},c2,{dataTransfer:0}),SH=Ii(_H),kH=dn({},Hp,{relatedTarget:0}),v6=Ii(kH),EH=dn({},ad,{animationName:0,elapsedTime:0,pseudoElement:0}),NH=Ii(EH),TH=dn({},ad,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),PH=Ii(TH),AH=dn({},ad,{data:0}),nk=Ii(AH),IH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jH(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=OH[t])?!!e[t]:!1}function gx(){return jH}var MH=dn({},Hp,{key:function(t){if(t.key){var e=IH[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CH[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gx,charCode:function(t){return t.type==="keypress"?qm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),DH=Ii(MH),RH=dn({},c2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rk=Ii(RH),$H=dn({},Hp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gx}),LH=Ii($H),FH=dn({},ad,{propertyName:0,elapsedTime:0,pseudoElement:0}),VH=Ii(FH),UH=dn({},c2,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BH=Ii(UH),zH=[9,13,27,32],yx=Gs&&"CompositionEvent"in window,zf=null;Gs&&"documentMode"in document&&(zf=document.documentMode);var WH=Gs&&"TextEvent"in window&&!zf,zj=Gs&&(!yx||zf&&8<zf&&11>=zf),ik=" ",ak=!1;function Wj(t,e){switch(t){case"keyup":return zH.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qj(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mc=!1;function qH(t,e){switch(t){case"compositionend":return qj(e);case"keypress":return e.which!==32?null:(ak=!0,ik);case"textInput":return t=e.data,t===ik&&ak?null:t;default:return null}}function HH(t,e){if(Mc)return t==="compositionend"||!yx&&Wj(t,e)?(t=Bj(),Wm=px=$o=null,Mc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zj&&e.locale!=="ko"?null:e.data;default:return null}}var GH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!GH[t.type]:e==="textarea"}function Hj(t,e,n,r){Sj(r),e=T3(e,"onChange"),0<e.length&&(n=new mx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Wf=null,_h=null;function KH(t){rM(t,0)}function u2(t){var e=$c(t);if(gj(e))return t}function YH(t,e){if(t==="change")return e}var Gj=!1;if(Gs){var x6;if(Gs){var b6="oninput"in document;if(!b6){var ok=document.createElement("div");ok.setAttribute("oninput","return;"),b6=typeof ok.oninput=="function"}x6=b6}else x6=!1;Gj=x6&&(!document.documentMode||9<document.documentMode)}function lk(){Wf&&(Wf.detachEvent("onpropertychange",Kj),_h=Wf=null)}function Kj(t){if(t.propertyName==="value"&&u2(_h)){var e=[];Hj(e,_h,t,cx(t)),Tj(KH,e)}}function QH(t,e,n){t==="focusin"?(lk(),Wf=e,_h=n,Wf.attachEvent("onpropertychange",Kj)):t==="focusout"&&lk()}function XH(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return u2(_h)}function JH(t,e){if(t==="click")return u2(e)}function ZH(t,e){if(t==="input"||t==="change")return u2(e)}function eG(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Aa=typeof Object.is=="function"?Object.is:eG;function Sh(t,e){if(Aa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!nv.call(e,i)||!Aa(t[i],e[i]))return!1}return!0}function ck(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uk(t,e){var n=ck(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ck(n)}}function Yj(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Yj(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Qj(){for(var t=window,e=b3();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=b3(t.document)}return e}function vx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tG(t){var e=Qj(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Yj(n.ownerDocument.documentElement,n)){if(r!==null&&vx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=uk(n,a);var s=uk(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nG=Gs&&"documentMode"in document&&11>=document.documentMode,Dc=null,wv=null,qf=null,_v=!1;function dk(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_v||Dc==null||Dc!==b3(r)||(r=Dc,"selectionStart"in r&&vx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qf&&Sh(qf,r)||(qf=r,r=T3(wv,"onSelect"),0<r.length&&(e=new mx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Dc)))}function q4(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Rc={animationend:q4("Animation","AnimationEnd"),animationiteration:q4("Animation","AnimationIteration"),animationstart:q4("Animation","AnimationStart"),transitionend:q4("Transition","TransitionEnd")},w6={},Xj={};Gs&&(Xj=document.createElement("div").style,"AnimationEvent"in window||(delete Rc.animationend.animation,delete Rc.animationiteration.animation,delete Rc.animationstart.animation),"TransitionEvent"in window||delete Rc.transitionend.transition);function d2(t){if(w6[t])return w6[t];if(!Rc[t])return t;var e=Rc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Xj)return w6[t]=e[n];return t}var Jj=d2("animationend"),Zj=d2("animationiteration"),eM=d2("animationstart"),tM=d2("transitionend"),nM=new Map,fk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function x0(t,e){nM.set(t,e),Ql(e,[t])}for(var _6=0;_6<fk.length;_6++){var S6=fk[_6],rG=S6.toLowerCase(),iG=S6[0].toUpperCase()+S6.slice(1);x0(rG,"on"+iG)}x0(Jj,"onAnimationEnd");x0(Zj,"onAnimationIteration");x0(eM,"onAnimationStart");x0("dblclick","onDoubleClick");x0("focusin","onFocus");x0("focusout","onBlur");x0(tM,"onTransitionEnd");gu("onMouseEnter",["mouseout","mouseover"]);gu("onMouseLeave",["mouseout","mouseover"]);gu("onPointerEnter",["pointerout","pointerover"]);gu("onPointerLeave",["pointerout","pointerover"]);Ql("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ql("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ql("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ql("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ql("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ql("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aG=new Set("cancel close invalid load scroll toggle".split(" ").concat(vf));function hk(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,rH(r,e,void 0,t),t.currentTarget=null}function rM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;hk(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;hk(i,o,c),a=l}}}if(_3)throw t=yv,_3=!1,yv=null,t}function Ht(t,e){var n=e[Tv];n===void 0&&(n=e[Tv]=new Set);var r=t+"__bubble";n.has(r)||(iM(e,t,2,!1),n.add(r))}function k6(t,e,n){var r=0;e&&(r|=4),iM(n,t,r,e)}var H4="_reactListening"+Math.random().toString(36).slice(2);function kh(t){if(!t[H4]){t[H4]=!0,dj.forEach(function(n){n!=="selectionchange"&&(aG.has(n)||k6(n,!1,t),k6(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[H4]||(e[H4]=!0,k6("selectionchange",!1,e))}}function iM(t,e,n,r){switch(Uj(e)){case 1:var i=xH;break;case 4:i=bH;break;default:i=hx}n=i.bind(null,e,n,t),i=void 0,!gv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function E6(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=el(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}Tj(function(){var c=a,u=cx(n),d=[];e:{var h=nM.get(t);if(h!==void 0){var p=mx,g=t;switch(t){case"keypress":if(qm(n)===0)break e;case"keydown":case"keyup":p=DH;break;case"focusin":g="focus",p=v6;break;case"focusout":g="blur",p=v6;break;case"beforeblur":case"afterblur":p=v6;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=tk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=SH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=LH;break;case Jj:case Zj:case eM:p=NH;break;case tM:p=VH;break;case"scroll":p=wH;break;case"wheel":p=BH;break;case"copy":case"cut":case"paste":p=PH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=rk}var x=(e&4)!==0,v=!x&&t==="scroll",y=x?h!==null?h+"Capture":null:h;x=[];for(var b=c,w;b!==null;){w=b;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,y!==null&&(E=vh(b,y),E!=null&&x.push(Eh(b,E,w)))),v)break;b=b.return}0<x.length&&(h=new p(h,g,null,n,u),d.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==pv&&(g=n.relatedTarget||n.fromElement)&&(el(g)||g[Ks]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?el(g):null,g!==null&&(v=Xl(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(x=tk,E="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(x=rk,E="onPointerLeave",y="onPointerEnter",b="pointer"),v=p==null?h:$c(p),w=g==null?h:$c(g),h=new x(E,b+"leave",p,n,u),h.target=v,h.relatedTarget=w,E=null,el(u)===c&&(x=new x(y,b+"enter",g,n,u),x.target=w,x.relatedTarget=v,E=x),v=E,p&&g)t:{for(x=p,y=g,b=0,w=x;w;w=mc(w))b++;for(w=0,E=y;E;E=mc(E))w++;for(;0<b-w;)x=mc(x),b--;for(;0<w-b;)y=mc(y),w--;for(;b--;){if(x===y||y!==null&&x===y.alternate)break t;x=mc(x),y=mc(y)}x=null}else x=null;p!==null&&pk(d,h,p,x,!1),g!==null&&v!==null&&pk(d,v,g,x,!0)}}e:{if(h=c?$c(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=YH;else if(sk(h))if(Gj)S=ZH;else{S=XH;var k=QH}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=JH);if(S&&(S=S(t,c))){Hj(d,S,n,u);break e}k&&k(t,h,c),t==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&cv(h,"number",h.value)}switch(k=c?$c(c):window,t){case"focusin":(sk(k)||k.contentEditable==="true")&&(Dc=k,wv=c,qf=null);break;case"focusout":qf=wv=Dc=null;break;case"mousedown":_v=!0;break;case"contextmenu":case"mouseup":case"dragend":_v=!1,dk(d,n,u);break;case"selectionchange":if(nG)break;case"keydown":case"keyup":dk(d,n,u)}var _;if(yx)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Mc?Wj(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(zj&&n.locale!=="ko"&&(Mc||N!=="onCompositionStart"?N==="onCompositionEnd"&&Mc&&(_=Bj()):($o=u,px="value"in $o?$o.value:$o.textContent,Mc=!0)),k=T3(c,N),0<k.length&&(N=new nk(N,t,null,n,u),d.push({event:N,listeners:k}),_?N.data=_:(_=qj(n),_!==null&&(N.data=_)))),(_=WH?qH(t,n):HH(t,n))&&(c=T3(c,"onBeforeInput"),0<c.length&&(u=new nk("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=_))}rM(d,e)})}function Eh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function T3(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=vh(t,n),a!=null&&r.unshift(Eh(t,a,i)),a=vh(t,e),a!=null&&r.push(Eh(t,a,i))),t=t.return}return r}function mc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function pk(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=vh(n,a),l!=null&&s.unshift(Eh(n,l,o))):i||(l=vh(n,a),l!=null&&s.push(Eh(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var sG=/\r\n?/g,oG=/\u0000|\uFFFD/g;function mk(t){return(typeof t=="string"?t:""+t).replace(sG,`
`).replace(oG,"")}function G4(t,e,n){if(e=mk(e),mk(t)!==e&&n)throw Error(we(425))}function P3(){}var Sv=null,kv=null;function Ev(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Nv=typeof setTimeout=="function"?setTimeout:void 0,lG=typeof clearTimeout=="function"?clearTimeout:void 0,gk=typeof Promise=="function"?Promise:void 0,cG=typeof queueMicrotask=="function"?queueMicrotask:typeof gk<"u"?function(t){return gk.resolve(null).then(t).catch(uG)}:Nv;function uG(t){setTimeout(function(){throw t})}function N6(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),wh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);wh(e)}function Yo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function yk(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var sd=Math.random().toString(36).slice(2),Ba="__reactFiber$"+sd,Nh="__reactProps$"+sd,Ks="__reactContainer$"+sd,Tv="__reactEvents$"+sd,dG="__reactListeners$"+sd,fG="__reactHandles$"+sd;function el(t){var e=t[Ba];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ks]||n[Ba]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=yk(t);t!==null;){if(n=t[Ba])return n;t=yk(t)}return e}t=n,n=t.parentNode}return null}function Gp(t){return t=t[Ba]||t[Ks],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $c(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(we(33))}function f2(t){return t[Nh]||null}var Pv=[],Lc=-1;function b0(t){return{current:t}}function Qt(t){0>Lc||(t.current=Pv[Lc],Pv[Lc]=null,Lc--)}function Wt(t,e){Lc++,Pv[Lc]=t.current,t.current=e}var u0={},Sr=b0(u0),ti=b0(!1),bl=u0;function yu(t,e){var n=t.type.contextTypes;if(!n)return u0;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ni(t){return t=t.childContextTypes,t!=null}function A3(){Qt(ti),Qt(Sr)}function vk(t,e,n){if(Sr.current!==u0)throw Error(we(168));Wt(Sr,e),Wt(ti,n)}function aM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(we(108,Qq(t)||"Unknown",i));return dn({},n,r)}function I3(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||u0,bl=Sr.current,Wt(Sr,t),Wt(ti,ti.current),!0}function xk(t,e,n){var r=t.stateNode;if(!r)throw Error(we(169));n?(t=aM(t,e,bl),r.__reactInternalMemoizedMergedChildContext=t,Qt(ti),Qt(Sr),Wt(Sr,t)):Qt(ti),Wt(ti,n)}var ks=null,h2=!1,T6=!1;function sM(t){ks===null?ks=[t]:ks.push(t)}function hG(t){h2=!0,sM(t)}function w0(){if(!T6&&ks!==null){T6=!0;var t=0,e=jt;try{var n=ks;for(jt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ks=null,h2=!1}catch(i){throw ks!==null&&(ks=ks.slice(t+1)),Cj(ux,w0),i}finally{jt=e,T6=!1}}return null}var Fc=[],Vc=0,C3=null,O3=0,Di=[],Ri=0,wl=null,Is=1,Cs="";function q0(t,e){Fc[Vc++]=O3,Fc[Vc++]=C3,C3=t,O3=e}function oM(t,e,n){Di[Ri++]=Is,Di[Ri++]=Cs,Di[Ri++]=wl,wl=t;var r=Is;t=Cs;var i=32-Sa(r)-1;r&=~(1<<i),n+=1;var a=32-Sa(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Is=1<<32-Sa(e)+i|n<<i|r,Cs=a+t}else Is=1<<a|n<<i|r,Cs=t}function xx(t){t.return!==null&&(q0(t,1),oM(t,1,0))}function bx(t){for(;t===C3;)C3=Fc[--Vc],Fc[Vc]=null,O3=Fc[--Vc],Fc[Vc]=null;for(;t===wl;)wl=Di[--Ri],Di[Ri]=null,Cs=Di[--Ri],Di[Ri]=null,Is=Di[--Ri],Di[Ri]=null}var Si=null,vi=null,Zt=!1,ma=null;function lM(t,e){var n=zi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function bk(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Si=t,vi=Yo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Si=t,vi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=wl!==null?{id:Is,overflow:Cs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=zi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Si=t,vi=null,!0):!1;default:return!1}}function Av(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Iv(t){if(Zt){var e=vi;if(e){var n=e;if(!bk(t,e)){if(Av(t))throw Error(we(418));e=Yo(n.nextSibling);var r=Si;e&&bk(t,e)?lM(r,n):(t.flags=t.flags&-4097|2,Zt=!1,Si=t)}}else{if(Av(t))throw Error(we(418));t.flags=t.flags&-4097|2,Zt=!1,Si=t}}}function wk(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Si=t}function K4(t){if(t!==Si)return!1;if(!Zt)return wk(t),Zt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ev(t.type,t.memoizedProps)),e&&(e=vi)){if(Av(t))throw cM(),Error(we(418));for(;e;)lM(t,e),e=Yo(e.nextSibling)}if(wk(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(we(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vi=Yo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vi=null}}else vi=Si?Yo(t.stateNode.nextSibling):null;return!0}function cM(){for(var t=vi;t;)t=Yo(t.nextSibling)}function vu(){vi=Si=null,Zt=!1}function wx(t){ma===null?ma=[t]:ma.push(t)}var pG=oo.ReactCurrentBatchConfig;function Hd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(we(309));var r=n.stateNode}if(!r)throw Error(we(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(we(284));if(!n._owner)throw Error(we(290,t))}return t}function Y4(t,e){throw t=Object.prototype.toString.call(e),Error(we(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _k(t){var e=t._init;return e(t._payload)}function uM(t){function e(y,b){if(t){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function n(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=Zo(y,b),y.index=0,y.sibling=null,y}function a(y,b,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=2,b):w):(y.flags|=2,b)):(y.flags|=1048576,b)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,b,w,E){return b===null||b.tag!==6?(b=M6(w,y.mode,E),b.return=y,b):(b=i(b,w),b.return=y,b)}function l(y,b,w,E){var S=w.type;return S===jc?u(y,b,w.props.children,E,w.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ko&&_k(S)===b.type)?(E=i(b,w.props),E.ref=Hd(y,b,w),E.return=y,E):(E=Jm(w.type,w.key,w.props,null,y.mode,E),E.ref=Hd(y,b,w),E.return=y,E)}function c(y,b,w,E){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=D6(w,y.mode,E),b.return=y,b):(b=i(b,w.children||[]),b.return=y,b)}function u(y,b,w,E,S){return b===null||b.tag!==7?(b=hl(w,y.mode,E,S),b.return=y,b):(b=i(b,w),b.return=y,b)}function d(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=M6(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case L4:return w=Jm(b.type,b.key,b.props,null,y.mode,w),w.ref=Hd(y,null,b),w.return=y,w;case Oc:return b=D6(b,y.mode,w),b.return=y,b;case ko:var E=b._init;return d(y,E(b._payload),w)}if(gf(b)||Ud(b))return b=hl(b,y.mode,w,null),b.return=y,b;Y4(y,b)}return null}function h(y,b,w,E){var S=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:o(y,b,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case L4:return w.key===S?l(y,b,w,E):null;case Oc:return w.key===S?c(y,b,w,E):null;case ko:return S=w._init,h(y,b,S(w._payload),E)}if(gf(w)||Ud(w))return S!==null?null:u(y,b,w,E,null);Y4(y,w)}return null}function p(y,b,w,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(w)||null,o(b,y,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case L4:return y=y.get(E.key===null?w:E.key)||null,l(b,y,E,S);case Oc:return y=y.get(E.key===null?w:E.key)||null,c(b,y,E,S);case ko:var k=E._init;return p(y,b,w,k(E._payload),S)}if(gf(E)||Ud(E))return y=y.get(w)||null,u(b,y,E,S,null);Y4(b,E)}return null}function g(y,b,w,E){for(var S=null,k=null,_=b,N=b=0,P=null;_!==null&&N<w.length;N++){_.index>N?(P=_,_=null):P=_.sibling;var A=h(y,_,w[N],E);if(A===null){_===null&&(_=P);break}t&&_&&A.alternate===null&&e(y,_),b=a(A,b,N),k===null?S=A:k.sibling=A,k=A,_=P}if(N===w.length)return n(y,_),Zt&&q0(y,N),S;if(_===null){for(;N<w.length;N++)_=d(y,w[N],E),_!==null&&(b=a(_,b,N),k===null?S=_:k.sibling=_,k=_);return Zt&&q0(y,N),S}for(_=r(y,_);N<w.length;N++)P=p(_,y,N,w[N],E),P!==null&&(t&&P.alternate!==null&&_.delete(P.key===null?N:P.key),b=a(P,b,N),k===null?S=P:k.sibling=P,k=P);return t&&_.forEach(function(I){return e(y,I)}),Zt&&q0(y,N),S}function x(y,b,w,E){var S=Ud(w);if(typeof S!="function")throw Error(we(150));if(w=S.call(w),w==null)throw Error(we(151));for(var k=S=null,_=b,N=b=0,P=null,A=w.next();_!==null&&!A.done;N++,A=w.next()){_.index>N?(P=_,_=null):P=_.sibling;var I=h(y,_,A.value,E);if(I===null){_===null&&(_=P);break}t&&_&&I.alternate===null&&e(y,_),b=a(I,b,N),k===null?S=I:k.sibling=I,k=I,_=P}if(A.done)return n(y,_),Zt&&q0(y,N),S;if(_===null){for(;!A.done;N++,A=w.next())A=d(y,A.value,E),A!==null&&(b=a(A,b,N),k===null?S=A:k.sibling=A,k=A);return Zt&&q0(y,N),S}for(_=r(y,_);!A.done;N++,A=w.next())A=p(_,y,N,A.value,E),A!==null&&(t&&A.alternate!==null&&_.delete(A.key===null?N:A.key),b=a(A,b,N),k===null?S=A:k.sibling=A,k=A);return t&&_.forEach(function(O){return e(y,O)}),Zt&&q0(y,N),S}function v(y,b,w,E){if(typeof w=="object"&&w!==null&&w.type===jc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case L4:e:{for(var S=w.key,k=b;k!==null;){if(k.key===S){if(S=w.type,S===jc){if(k.tag===7){n(y,k.sibling),b=i(k,w.props.children),b.return=y,y=b;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ko&&_k(S)===k.type){n(y,k.sibling),b=i(k,w.props),b.ref=Hd(y,k,w),b.return=y,y=b;break e}n(y,k);break}else e(y,k);k=k.sibling}w.type===jc?(b=hl(w.props.children,y.mode,E,w.key),b.return=y,y=b):(E=Jm(w.type,w.key,w.props,null,y.mode,E),E.ref=Hd(y,b,w),E.return=y,y=E)}return s(y);case Oc:e:{for(k=w.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(y,b.sibling),b=i(b,w.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else e(y,b);b=b.sibling}b=D6(w,y.mode,E),b.return=y,y=b}return s(y);case ko:return k=w._init,v(y,b,k(w._payload),E)}if(gf(w))return g(y,b,w,E);if(Ud(w))return x(y,b,w,E);Y4(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(y,b.sibling),b=i(b,w),b.return=y,y=b):(n(y,b),b=M6(w,y.mode,E),b.return=y,y=b),s(y)):n(y,b)}return v}var xu=uM(!0),dM=uM(!1),j3=b0(null),M3=null,Uc=null,_x=null;function Sx(){_x=Uc=M3=null}function kx(t){var e=j3.current;Qt(j3),t._currentValue=e}function Cv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function tu(t,e){M3=t,_x=Uc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jr=!0),t.firstContext=null)}function Ji(t){var e=t._currentValue;if(_x!==t)if(t={context:t,memoizedValue:e,next:null},Uc===null){if(M3===null)throw Error(we(308));Uc=t,M3.dependencies={lanes:0,firstContext:t}}else Uc=Uc.next=t;return e}var tl=null;function Ex(t){tl===null?tl=[t]:tl.push(t)}function fM(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ex(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ys(t,r)}function Ys(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Eo=!1;function Nx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Us(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,kt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ys(t,n)}return i=r.interleaved,i===null?(e.next=e,Ex(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ys(t,n)}function Hm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dx(t,n)}}function Sk(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function D3(t,e,n,r){var i=t.updateQueue;Eo=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;s=0,u=c=l=null,o=a;do{var h=o.lane,p=o.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,x=o;switch(h=e,p=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=dn({},d,h);break e;case 2:Eo=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Sl|=s,t.lanes=s,t.memoizedState=d}}function kk(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(we(191,i));i.call(r)}}}var Kp={},es=b0(Kp),Th=b0(Kp),Ph=b0(Kp);function nl(t){if(t===Kp)throw Error(we(174));return t}function Tx(t,e){switch(Wt(Ph,e),Wt(Th,t),Wt(es,Kp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=dv(e,t)}Qt(es),Wt(es,e)}function bu(){Qt(es),Qt(Th),Qt(Ph)}function pM(t){nl(Ph.current);var e=nl(es.current),n=dv(e,t.type);e!==n&&(Wt(Th,t),Wt(es,n))}function Px(t){Th.current===t&&(Qt(es),Qt(Th))}var sn=b0(0);function R3(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var P6=[];function Ax(){for(var t=0;t<P6.length;t++)P6[t]._workInProgressVersionPrimary=null;P6.length=0}var Gm=oo.ReactCurrentDispatcher,A6=oo.ReactCurrentBatchConfig,_l=0,un=null,Vn=null,Qn=null,$3=!1,Hf=!1,Ah=0,mG=0;function fr(){throw Error(we(321))}function Ix(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Aa(t[n],e[n]))return!1;return!0}function Cx(t,e,n,r,i,a){if(_l=a,un=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gm.current=t===null||t.memoizedState===null?xG:bG,t=n(r,i),Hf){a=0;do{if(Hf=!1,Ah=0,25<=a)throw Error(we(301));a+=1,Qn=Vn=null,e.updateQueue=null,Gm.current=wG,t=n(r,i)}while(Hf)}if(Gm.current=L3,e=Vn!==null&&Vn.next!==null,_l=0,Qn=Vn=un=null,$3=!1,e)throw Error(we(300));return t}function Ox(){var t=Ah!==0;return Ah=0,t}function La(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qn===null?un.memoizedState=Qn=t:Qn=Qn.next=t,Qn}function Zi(){if(Vn===null){var t=un.alternate;t=t!==null?t.memoizedState:null}else t=Vn.next;var e=Qn===null?un.memoizedState:Qn.next;if(e!==null)Qn=e,Vn=t;else{if(t===null)throw Error(we(310));Vn=t,t={memoizedState:Vn.memoizedState,baseState:Vn.baseState,baseQueue:Vn.baseQueue,queue:Vn.queue,next:null},Qn===null?un.memoizedState=Qn=t:Qn=Qn.next=t}return Qn}function Ih(t,e){return typeof e=="function"?e(t):e}function I6(t){var e=Zi(),n=e.queue;if(n===null)throw Error(we(311));n.lastRenderedReducer=t;var r=Vn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var u=c.lane;if((_l&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,s=r):l=l.next=d,un.lanes|=u,Sl|=u}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,Aa(r,e.memoizedState)||(Jr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,un.lanes|=a,Sl|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function C6(t){var e=Zi(),n=e.queue;if(n===null)throw Error(we(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);Aa(a,e.memoizedState)||(Jr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function mM(){}function gM(t,e){var n=un,r=Zi(),i=e(),a=!Aa(r.memoizedState,i);if(a&&(r.memoizedState=i,Jr=!0),r=r.queue,jx(xM.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Qn!==null&&Qn.memoizedState.tag&1){if(n.flags|=2048,Ch(9,vM.bind(null,n,r,i,e),void 0,null),Xn===null)throw Error(we(349));_l&30||yM(n,e,i)}return i}function yM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=un.updateQueue,e===null?(e={lastEffect:null,stores:null},un.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function vM(t,e,n,r){e.value=n,e.getSnapshot=r,bM(e)&&wM(t)}function xM(t,e,n){return n(function(){bM(e)&&wM(t)})}function bM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Aa(t,n)}catch{return!0}}function wM(t){var e=Ys(t,1);e!==null&&ka(e,t,1,-1)}function Ek(t){var e=La();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ih,lastRenderedState:t},e.queue=t,t=t.dispatch=vG.bind(null,un,t),[e.memoizedState,t]}function Ch(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=un.updateQueue,e===null?(e={lastEffect:null,stores:null},un.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _M(){return Zi().memoizedState}function Km(t,e,n,r){var i=La();un.flags|=t,i.memoizedState=Ch(1|e,n,void 0,r===void 0?null:r)}function p2(t,e,n,r){var i=Zi();r=r===void 0?null:r;var a=void 0;if(Vn!==null){var s=Vn.memoizedState;if(a=s.destroy,r!==null&&Ix(r,s.deps)){i.memoizedState=Ch(e,n,a,r);return}}un.flags|=t,i.memoizedState=Ch(1|e,n,a,r)}function Nk(t,e){return Km(8390656,8,t,e)}function jx(t,e){return p2(2048,8,t,e)}function SM(t,e){return p2(4,2,t,e)}function kM(t,e){return p2(4,4,t,e)}function EM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function NM(t,e,n){return n=n!=null?n.concat([t]):null,p2(4,4,EM.bind(null,e,t),n)}function Mx(){}function TM(t,e){var n=Zi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ix(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function PM(t,e){var n=Zi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ix(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function AM(t,e,n){return _l&21?(Aa(n,e)||(n=Mj(),un.lanes|=n,Sl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jr=!0),t.memoizedState=n)}function gG(t,e){var n=jt;jt=n!==0&&4>n?n:4,t(!0);var r=A6.transition;A6.transition={};try{t(!1),e()}finally{jt=n,A6.transition=r}}function IM(){return Zi().memoizedState}function yG(t,e,n){var r=Jo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},CM(t))OM(e,n);else if(n=fM(t,e,n,r),n!==null){var i=Lr();ka(n,t,r,i),jM(n,e,r)}}function vG(t,e,n){var r=Jo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(CM(t))OM(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Aa(o,s)){var l=e.interleaved;l===null?(i.next=i,Ex(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=fM(t,e,i,r),n!==null&&(i=Lr(),ka(n,t,r,i),jM(n,e,r))}}function CM(t){var e=t.alternate;return t===un||e!==null&&e===un}function OM(t,e){Hf=$3=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function jM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dx(t,n)}}var L3={readContext:Ji,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useInsertionEffect:fr,useLayoutEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useMutableSource:fr,useSyncExternalStore:fr,useId:fr,unstable_isNewReconciler:!1},xG={readContext:Ji,useCallback:function(t,e){return La().memoizedState=[t,e===void 0?null:e],t},useContext:Ji,useEffect:Nk,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Km(4194308,4,EM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Km(4194308,4,t,e)},useInsertionEffect:function(t,e){return Km(4,2,t,e)},useMemo:function(t,e){var n=La();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=La();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=yG.bind(null,un,t),[r.memoizedState,t]},useRef:function(t){var e=La();return t={current:t},e.memoizedState=t},useState:Ek,useDebugValue:Mx,useDeferredValue:function(t){return La().memoizedState=t},useTransition:function(){var t=Ek(!1),e=t[0];return t=gG.bind(null,t[1]),La().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=un,i=La();if(Zt){if(n===void 0)throw Error(we(407));n=n()}else{if(n=e(),Xn===null)throw Error(we(349));_l&30||yM(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,Nk(xM.bind(null,r,a,t),[t]),r.flags|=2048,Ch(9,vM.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=La(),e=Xn.identifierPrefix;if(Zt){var n=Cs,r=Is;n=(r&~(1<<32-Sa(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ah++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=mG++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bG={readContext:Ji,useCallback:TM,useContext:Ji,useEffect:jx,useImperativeHandle:NM,useInsertionEffect:SM,useLayoutEffect:kM,useMemo:PM,useReducer:I6,useRef:_M,useState:function(){return I6(Ih)},useDebugValue:Mx,useDeferredValue:function(t){var e=Zi();return AM(e,Vn.memoizedState,t)},useTransition:function(){var t=I6(Ih)[0],e=Zi().memoizedState;return[t,e]},useMutableSource:mM,useSyncExternalStore:gM,useId:IM,unstable_isNewReconciler:!1},wG={readContext:Ji,useCallback:TM,useContext:Ji,useEffect:jx,useImperativeHandle:NM,useInsertionEffect:SM,useLayoutEffect:kM,useMemo:PM,useReducer:C6,useRef:_M,useState:function(){return C6(Ih)},useDebugValue:Mx,useDeferredValue:function(t){var e=Zi();return Vn===null?e.memoizedState=t:AM(e,Vn.memoizedState,t)},useTransition:function(){var t=C6(Ih)[0],e=Zi().memoizedState;return[t,e]},useMutableSource:mM,useSyncExternalStore:gM,useId:IM,unstable_isNewReconciler:!1};function fa(t,e){if(t&&t.defaultProps){e=dn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ov(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:dn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var m2={isMounted:function(t){return(t=t._reactInternals)?Xl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Lr(),i=Jo(t),a=Us(r,i);a.payload=e,n!=null&&(a.callback=n),e=Qo(t,a,i),e!==null&&(ka(e,t,i,r),Hm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Lr(),i=Jo(t),a=Us(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Qo(t,a,i),e!==null&&(ka(e,t,i,r),Hm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Lr(),r=Jo(t),i=Us(n,r);i.tag=2,e!=null&&(i.callback=e),e=Qo(t,i,r),e!==null&&(ka(e,t,r,n),Hm(e,t,r))}};function Tk(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!Sh(n,r)||!Sh(i,a):!0}function MM(t,e,n){var r=!1,i=u0,a=e.contextType;return typeof a=="object"&&a!==null?a=Ji(a):(i=ni(e)?bl:Sr.current,r=e.contextTypes,a=(r=r!=null)?yu(t,i):u0),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=m2,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function Pk(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&m2.enqueueReplaceState(e,e.state,null)}function jv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Nx(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Ji(a):(a=ni(e)?bl:Sr.current,i.context=yu(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Ov(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&m2.enqueueReplaceState(i,i.state,null),D3(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function wu(t,e){try{var n="",r=e;do n+=Yq(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function O6(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Mv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var _G=typeof WeakMap=="function"?WeakMap:Map;function DM(t,e,n){n=Us(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){V3||(V3=!0,Wv=r),Mv(t,e)},n}function RM(t,e,n){n=Us(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Mv(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Mv(t,e),typeof r!="function"&&(Xo===null?Xo=new Set([this]):Xo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Ak(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new _G;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=RG.bind(null,t,e,n),e.then(t,t))}function Ik(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ck(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Us(-1,1),e.tag=2,Qo(n,e,1))),n.lanes|=1),t)}var SG=oo.ReactCurrentOwner,Jr=!1;function Pr(t,e,n,r){e.child=t===null?dM(e,null,n,r):xu(e,t.child,n,r)}function Ok(t,e,n,r,i){n=n.render;var a=e.ref;return tu(e,i),r=Cx(t,e,n,r,a,i),n=Ox(),t!==null&&!Jr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qs(t,e,i)):(Zt&&n&&xx(e),e.flags|=1,Pr(t,e,r,i),e.child)}function jk(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!Bx(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,$M(t,e,a,r,i)):(t=Jm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Sh,n(s,r)&&t.ref===e.ref)return Qs(t,e,i)}return e.flags|=1,t=Zo(a,r),t.ref=e.ref,t.return=e,e.child=t}function $M(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Sh(a,r)&&t.ref===e.ref)if(Jr=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Jr=!0);else return e.lanes=t.lanes,Qs(t,e,i)}return Dv(t,e,n,r,i)}function LM(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(zc,fi),fi|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Wt(zc,fi),fi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Wt(zc,fi),fi|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Wt(zc,fi),fi|=r;return Pr(t,e,i,n),e.child}function FM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Dv(t,e,n,r,i){var a=ni(n)?bl:Sr.current;return a=yu(e,a),tu(e,i),n=Cx(t,e,n,r,a,i),r=Ox(),t!==null&&!Jr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qs(t,e,i)):(Zt&&r&&xx(e),e.flags|=1,Pr(t,e,n,i),e.child)}function Mk(t,e,n,r,i){if(ni(n)){var a=!0;I3(e)}else a=!1;if(tu(e,i),e.stateNode===null)Ym(t,e),MM(e,n,r),jv(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ji(c):(c=ni(n)?bl:Sr.current,c=yu(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&Pk(e,s,r,c),Eo=!1;var h=e.memoizedState;s.state=h,D3(e,r,s,i),l=e.memoizedState,o!==r||h!==l||ti.current||Eo?(typeof u=="function"&&(Ov(e,n,u,r),l=e.memoizedState),(o=Eo||Tk(e,n,o,r,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,hM(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:fa(e.type,o),s.props=c,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ji(l):(l=ni(n)?bl:Sr.current,l=yu(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||h!==l)&&Pk(e,s,r,l),Eo=!1,h=e.memoizedState,s.state=h,D3(e,r,s,i);var g=e.memoizedState;o!==d||h!==g||ti.current||Eo?(typeof p=="function"&&(Ov(e,n,p,r),g=e.memoizedState),(c=Eo||Tk(e,n,c,r,h,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Rv(t,e,n,r,a,i)}function Rv(t,e,n,r,i,a){FM(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&xk(e,n,!1),Qs(t,e,a);r=e.stateNode,SG.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=xu(e,t.child,null,a),e.child=xu(e,null,o,a)):Pr(t,e,o,a),e.memoizedState=r.state,i&&xk(e,n,!0),e.child}function VM(t){var e=t.stateNode;e.pendingContext?vk(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vk(t,e.context,!1),Tx(t,e.containerInfo)}function Dk(t,e,n,r,i){return vu(),wx(i),e.flags|=256,Pr(t,e,n,r),e.child}var $v={dehydrated:null,treeContext:null,retryLane:0};function Lv(t){return{baseLanes:t,cachePool:null,transitions:null}}function UM(t,e,n){var r=e.pendingProps,i=sn.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Wt(sn,i&1),t===null)return Iv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=v2(s,r,0,null),t=hl(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Lv(n),e.memoizedState=$v,t):Dx(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return kG(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Zo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Zo(o,a):(a=hl(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?Lv(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=$v,r}return a=t.child,t=a.sibling,r=Zo(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Dx(t,e){return e=v2({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Q4(t,e,n,r){return r!==null&&wx(r),xu(e,t.child,null,n),t=Dx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kG(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=O6(Error(we(422))),Q4(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=v2({mode:"visible",children:r.children},i,0,null),a=hl(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&xu(e,t.child,null,s),e.child.memoizedState=Lv(s),e.memoizedState=$v,a);if(!(e.mode&1))return Q4(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(we(419)),r=O6(a,r,void 0),Q4(t,e,s,r)}if(o=(s&t.childLanes)!==0,Jr||o){if(r=Xn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ys(t,i),ka(r,t,i,-1))}return Ux(),r=O6(Error(we(421))),Q4(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=$G.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,vi=Yo(i.nextSibling),Si=e,Zt=!0,ma=null,t!==null&&(Di[Ri++]=Is,Di[Ri++]=Cs,Di[Ri++]=wl,Is=t.id,Cs=t.overflow,wl=e),e=Dx(e,r.children),e.flags|=4096,e)}function Rk(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Cv(t.return,e,n)}function j6(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function BM(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Pr(t,e,r.children,n),r=sn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rk(t,n,e);else if(t.tag===19)Rk(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Wt(sn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&R3(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),j6(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&R3(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}j6(e,!0,n,null,a);break;case"together":j6(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ym(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Sl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(we(153));if(e.child!==null){for(t=e.child,n=Zo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function EG(t,e,n){switch(e.tag){case 3:VM(e),vu();break;case 5:pM(e);break;case 1:ni(e.type)&&I3(e);break;case 4:Tx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Wt(j3,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Wt(sn,sn.current&1),e.flags|=128,null):n&e.child.childLanes?UM(t,e,n):(Wt(sn,sn.current&1),t=Qs(t,e,n),t!==null?t.sibling:null);Wt(sn,sn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return BM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Wt(sn,sn.current),r)break;return null;case 22:case 23:return e.lanes=0,LM(t,e,n)}return Qs(t,e,n)}var zM,Fv,WM,qM;zM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fv=function(){};WM=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,nl(es.current);var a=null;switch(n){case"input":i=ov(t,i),r=ov(t,r),a=[];break;case"select":i=dn({},i,{value:void 0}),r=dn({},r,{value:void 0}),a=[];break;case"textarea":i=uv(t,i),r=uv(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=P3)}fv(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(gh.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(gh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ht("scroll",t),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};qM=function(t,e,n,r){n!==r&&(e.flags|=4)};function Gd(t,e){if(!Zt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function hr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function NG(t,e,n){var r=e.pendingProps;switch(bx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hr(e),null;case 1:return ni(e.type)&&A3(),hr(e),null;case 3:return r=e.stateNode,bu(),Qt(ti),Qt(Sr),Ax(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(K4(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ma!==null&&(Gv(ma),ma=null))),Fv(t,e),hr(e),null;case 5:Px(e);var i=nl(Ph.current);if(n=e.type,t!==null&&e.stateNode!=null)WM(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(we(166));return hr(e),null}if(t=nl(es.current),K4(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Ba]=e,r[Nh]=a,t=(e.mode&1)!==0,n){case"dialog":Ht("cancel",r),Ht("close",r);break;case"iframe":case"object":case"embed":Ht("load",r);break;case"video":case"audio":for(i=0;i<vf.length;i++)Ht(vf[i],r);break;case"source":Ht("error",r);break;case"img":case"image":case"link":Ht("error",r),Ht("load",r);break;case"details":Ht("toggle",r);break;case"input":qS(r,a),Ht("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ht("invalid",r);break;case"textarea":GS(r,a),Ht("invalid",r)}fv(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&G4(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&G4(r.textContent,o,t),i=["children",""+o]):gh.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Ht("scroll",r)}switch(n){case"input":F4(r),HS(r,a,!0);break;case"textarea":F4(r),KS(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=P3)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xj(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Ba]=e,t[Nh]=r,zM(t,e,!1,!1),e.stateNode=t;e:{switch(s=hv(n,r),n){case"dialog":Ht("cancel",t),Ht("close",t),i=r;break;case"iframe":case"object":case"embed":Ht("load",t),i=r;break;case"video":case"audio":for(i=0;i<vf.length;i++)Ht(vf[i],t);i=r;break;case"source":Ht("error",t),i=r;break;case"img":case"image":case"link":Ht("error",t),Ht("load",t),i=r;break;case"details":Ht("toggle",t),i=r;break;case"input":qS(t,r),i=ov(t,r),Ht("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=dn({},r,{value:void 0}),Ht("invalid",t);break;case"textarea":GS(t,r),i=uv(t,r),Ht("invalid",t);break;default:i=r}fv(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?_j(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bj(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&yh(t,l):typeof l=="number"&&yh(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(gh.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Ht("scroll",t):l!=null&&ax(t,a,l,s))}switch(n){case"input":F4(t),HS(t,r,!1);break;case"textarea":F4(t),KS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+c0(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Xc(t,!!r.multiple,a,!1):r.defaultValue!=null&&Xc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=P3)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return hr(e),null;case 6:if(t&&e.stateNode!=null)qM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(we(166));if(n=nl(Ph.current),nl(es.current),K4(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ba]=e,(a=r.nodeValue!==n)&&(t=Si,t!==null))switch(t.tag){case 3:G4(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&G4(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ba]=e,e.stateNode=r}return hr(e),null;case 13:if(Qt(sn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Zt&&vi!==null&&e.mode&1&&!(e.flags&128))cM(),vu(),e.flags|=98560,a=!1;else if(a=K4(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(we(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(we(317));a[Ba]=e}else vu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;hr(e),a=!1}else ma!==null&&(Gv(ma),ma=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||sn.current&1?Un===0&&(Un=3):Ux())),e.updateQueue!==null&&(e.flags|=4),hr(e),null);case 4:return bu(),Fv(t,e),t===null&&kh(e.stateNode.containerInfo),hr(e),null;case 10:return kx(e.type._context),hr(e),null;case 17:return ni(e.type)&&A3(),hr(e),null;case 19:if(Qt(sn),a=e.memoizedState,a===null)return hr(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)Gd(a,!1);else{if(Un!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=R3(t),s!==null){for(e.flags|=128,Gd(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Wt(sn,sn.current&1|2),e.child}t=t.sibling}a.tail!==null&&Nn()>_u&&(e.flags|=128,r=!0,Gd(a,!1),e.lanes=4194304)}else{if(!r)if(t=R3(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Gd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Zt)return hr(e),null}else 2*Nn()-a.renderingStartTime>_u&&n!==1073741824&&(e.flags|=128,r=!0,Gd(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Nn(),e.sibling=null,n=sn.current,Wt(sn,r?n&1|2:n&1),e):(hr(e),null);case 22:case 23:return Vx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fi&1073741824&&(hr(e),e.subtreeFlags&6&&(e.flags|=8192)):hr(e),null;case 24:return null;case 25:return null}throw Error(we(156,e.tag))}function TG(t,e){switch(bx(e),e.tag){case 1:return ni(e.type)&&A3(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bu(),Qt(ti),Qt(Sr),Ax(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Px(e),null;case 13:if(Qt(sn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(we(340));vu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qt(sn),null;case 4:return bu(),null;case 10:return kx(e.type._context),null;case 22:case 23:return Vx(),null;case 24:return null;default:return null}}var X4=!1,vr=!1,PG=typeof WeakSet=="function"?WeakSet:Set,$e=null;function Bc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yn(t,e,r)}else n.current=null}function Vv(t,e,n){try{n()}catch(r){yn(t,e,r)}}var $k=!1;function AG(t,e){if(Sv=E3,t=Qj(),vx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(o=s+i),d!==a||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===i&&(o=s),h===a&&++u===r&&(l=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(kv={focusedElem:t,selectionRange:n},E3=!1,$e=e;$e!==null;)if(e=$e,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$e=t;else for(;$e!==null;){e=$e;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,v=g.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?x:fa(e.type,x),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(we(163))}}catch(E){yn(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,$e=t;break}$e=e.return}return g=$k,$k=!1,g}function Gf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Vv(e,n,a)}i=i.next}while(i!==r)}}function g2(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Uv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function HM(t){var e=t.alternate;e!==null&&(t.alternate=null,HM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ba],delete e[Nh],delete e[Tv],delete e[dG],delete e[fG])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function GM(t){return t.tag===5||t.tag===3||t.tag===4}function Lk(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||GM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=P3));else if(r!==4&&(t=t.child,t!==null))for(Bv(t,e,n),t=t.sibling;t!==null;)Bv(t,e,n),t=t.sibling}function zv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(zv(t,e,n),t=t.sibling;t!==null;)zv(t,e,n),t=t.sibling}var nr=null,ha=!1;function bo(t,e,n){for(n=n.child;n!==null;)KM(t,e,n),n=n.sibling}function KM(t,e,n){if(Za&&typeof Za.onCommitFiberUnmount=="function")try{Za.onCommitFiberUnmount(l2,n)}catch{}switch(n.tag){case 5:vr||Bc(n,e);case 6:var r=nr,i=ha;nr=null,bo(t,e,n),nr=r,ha=i,nr!==null&&(ha?(t=nr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):nr.removeChild(n.stateNode));break;case 18:nr!==null&&(ha?(t=nr,n=n.stateNode,t.nodeType===8?N6(t.parentNode,n):t.nodeType===1&&N6(t,n),wh(t)):N6(nr,n.stateNode));break;case 4:r=nr,i=ha,nr=n.stateNode.containerInfo,ha=!0,bo(t,e,n),nr=r,ha=i;break;case 0:case 11:case 14:case 15:if(!vr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Vv(n,e,s),i=i.next}while(i!==r)}bo(t,e,n);break;case 1:if(!vr&&(Bc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){yn(n,e,o)}bo(t,e,n);break;case 21:bo(t,e,n);break;case 22:n.mode&1?(vr=(r=vr)||n.memoizedState!==null,bo(t,e,n),vr=r):bo(t,e,n);break;default:bo(t,e,n)}}function Fk(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new PG),e.forEach(function(r){var i=LG.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ca(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:nr=o.stateNode,ha=!1;break e;case 3:nr=o.stateNode.containerInfo,ha=!0;break e;case 4:nr=o.stateNode.containerInfo,ha=!0;break e}o=o.return}if(nr===null)throw Error(we(160));KM(a,s,i),nr=null,ha=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){yn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)YM(e,t),e=e.sibling}function YM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ca(e,t),Ra(t),r&4){try{Gf(3,t,t.return),g2(3,t)}catch(x){yn(t,t.return,x)}try{Gf(5,t,t.return)}catch(x){yn(t,t.return,x)}}break;case 1:ca(e,t),Ra(t),r&512&&n!==null&&Bc(n,n.return);break;case 5:if(ca(e,t),Ra(t),r&512&&n!==null&&Bc(n,n.return),t.flags&32){var i=t.stateNode;try{yh(i,"")}catch(x){yn(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&yj(i,a),hv(o,s);var c=hv(o,a);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?_j(i,d):u==="dangerouslySetInnerHTML"?bj(i,d):u==="children"?yh(i,d):ax(i,u,d,c)}switch(o){case"input":lv(i,a);break;case"textarea":vj(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Xc(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Xc(i,!!a.multiple,a.defaultValue,!0):Xc(i,!!a.multiple,a.multiple?[]:"",!1))}i[Nh]=a}catch(x){yn(t,t.return,x)}}break;case 6:if(ca(e,t),Ra(t),r&4){if(t.stateNode===null)throw Error(we(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(x){yn(t,t.return,x)}}break;case 3:if(ca(e,t),Ra(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wh(e.containerInfo)}catch(x){yn(t,t.return,x)}break;case 4:ca(e,t),Ra(t);break;case 13:ca(e,t),Ra(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Lx=Nn())),r&4&&Fk(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(vr=(c=vr)||u,ca(e,t),vr=c):ca(e,t),Ra(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for($e=t,u=t.child;u!==null;){for(d=$e=u;$e!==null;){switch(h=$e,p=h.child,h.tag){case 0:case 11:case 14:case 15:Gf(4,h,h.return);break;case 1:Bc(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){yn(r,n,x)}}break;case 5:Bc(h,h.return);break;case 22:if(h.memoizedState!==null){Uk(d);continue}}p!==null?(p.return=h,$e=p):Uk(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=wj("display",s))}catch(x){yn(t,t.return,x)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(x){yn(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ca(e,t),Ra(t),r&4&&Fk(t);break;case 21:break;default:ca(e,t),Ra(t)}}function Ra(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(GM(n)){var r=n;break e}n=n.return}throw Error(we(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(yh(i,""),r.flags&=-33);var a=Lk(t);zv(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=Lk(t);Bv(t,o,s);break;default:throw Error(we(161))}}catch(l){yn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function IG(t,e,n){$e=t,QM(t)}function QM(t,e,n){for(var r=(t.mode&1)!==0;$e!==null;){var i=$e,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||X4;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||vr;o=X4;var c=vr;if(X4=s,(vr=l)&&!c)for($e=i;$e!==null;)s=$e,l=s.child,s.tag===22&&s.memoizedState!==null?Bk(i):l!==null?(l.return=s,$e=l):Bk(i);for(;a!==null;)$e=a,QM(a),a=a.sibling;$e=i,X4=o,vr=c}Vk(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,$e=a):Vk(t)}}function Vk(t){for(;$e!==null;){var e=$e;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vr||g2(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:fa(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&kk(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}kk(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&wh(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(we(163))}vr||e.flags&512&&Uv(e)}catch(h){yn(e,e.return,h)}}if(e===t){$e=null;break}if(n=e.sibling,n!==null){n.return=e.return,$e=n;break}$e=e.return}}function Uk(t){for(;$e!==null;){var e=$e;if(e===t){$e=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$e=n;break}$e=e.return}}function Bk(t){for(;$e!==null;){var e=$e;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{g2(4,e)}catch(l){yn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){yn(e,i,l)}}var a=e.return;try{Uv(e)}catch(l){yn(e,a,l)}break;case 5:var s=e.return;try{Uv(e)}catch(l){yn(e,s,l)}}}catch(l){yn(e,e.return,l)}if(e===t){$e=null;break}var o=e.sibling;if(o!==null){o.return=e.return,$e=o;break}$e=e.return}}var CG=Math.ceil,F3=oo.ReactCurrentDispatcher,Rx=oo.ReactCurrentOwner,Ki=oo.ReactCurrentBatchConfig,kt=0,Xn=null,On=null,lr=0,fi=0,zc=b0(0),Un=0,Oh=null,Sl=0,y2=0,$x=0,Kf=null,Kr=null,Lx=0,_u=1/0,Ss=null,V3=!1,Wv=null,Xo=null,J4=!1,Lo=null,U3=0,Yf=0,qv=null,Qm=-1,Xm=0;function Lr(){return kt&6?Nn():Qm!==-1?Qm:Qm=Nn()}function Jo(t){return t.mode&1?kt&2&&lr!==0?lr&-lr:pG.transition!==null?(Xm===0&&(Xm=Mj()),Xm):(t=jt,t!==0||(t=window.event,t=t===void 0?16:Uj(t.type)),t):1}function ka(t,e,n,r){if(50<Yf)throw Yf=0,qv=null,Error(we(185));qp(t,n,r),(!(kt&2)||t!==Xn)&&(t===Xn&&(!(kt&2)&&(y2|=n),Un===4&&Io(t,lr)),ri(t,r),n===1&&kt===0&&!(e.mode&1)&&(_u=Nn()+500,h2&&w0()))}function ri(t,e){var n=t.callbackNode;pH(t,e);var r=k3(t,t===Xn?lr:0);if(r===0)n!==null&&XS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&XS(n),e===1)t.tag===0?hG(zk.bind(null,t)):sM(zk.bind(null,t)),cG(function(){!(kt&6)&&w0()}),n=null;else{switch(Dj(r)){case 1:n=ux;break;case 4:n=Oj;break;case 16:n=S3;break;case 536870912:n=jj;break;default:n=S3}n=iD(n,XM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function XM(t,e){if(Qm=-1,Xm=0,kt&6)throw Error(we(327));var n=t.callbackNode;if(nu()&&t.callbackNode!==n)return null;var r=k3(t,t===Xn?lr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=B3(t,r);else{e=r;var i=kt;kt|=2;var a=ZM();(Xn!==t||lr!==e)&&(Ss=null,_u=Nn()+500,fl(t,e));do try{MG();break}catch(o){JM(t,o)}while(!0);Sx(),F3.current=a,kt=i,On!==null?e=0:(Xn=null,lr=0,e=Un)}if(e!==0){if(e===2&&(i=vv(t),i!==0&&(r=i,e=Hv(t,i))),e===1)throw n=Oh,fl(t,0),Io(t,r),ri(t,Nn()),n;if(e===6)Io(t,r);else{if(i=t.current.alternate,!(r&30)&&!OG(i)&&(e=B3(t,r),e===2&&(a=vv(t),a!==0&&(r=a,e=Hv(t,a))),e===1))throw n=Oh,fl(t,0),Io(t,r),ri(t,Nn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(we(345));case 2:H0(t,Kr,Ss);break;case 3:if(Io(t,r),(r&130023424)===r&&(e=Lx+500-Nn(),10<e)){if(k3(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Lr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Nv(H0.bind(null,t,Kr,Ss),e);break}H0(t,Kr,Ss);break;case 4:if(Io(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Sa(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=Nn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CG(r/1960))-r,10<r){t.timeoutHandle=Nv(H0.bind(null,t,Kr,Ss),r);break}H0(t,Kr,Ss);break;case 5:H0(t,Kr,Ss);break;default:throw Error(we(329))}}}return ri(t,Nn()),t.callbackNode===n?XM.bind(null,t):null}function Hv(t,e){var n=Kf;return t.current.memoizedState.isDehydrated&&(fl(t,e).flags|=256),t=B3(t,e),t!==2&&(e=Kr,Kr=n,e!==null&&Gv(e)),t}function Gv(t){Kr===null?Kr=t:Kr.push.apply(Kr,t)}function OG(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Aa(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Io(t,e){for(e&=~$x,e&=~y2,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Sa(e),r=1<<n;t[n]=-1,e&=~r}}function zk(t){if(kt&6)throw Error(we(327));nu();var e=k3(t,0);if(!(e&1))return ri(t,Nn()),null;var n=B3(t,e);if(t.tag!==0&&n===2){var r=vv(t);r!==0&&(e=r,n=Hv(t,r))}if(n===1)throw n=Oh,fl(t,0),Io(t,e),ri(t,Nn()),n;if(n===6)throw Error(we(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,H0(t,Kr,Ss),ri(t,Nn()),null}function Fx(t,e){var n=kt;kt|=1;try{return t(e)}finally{kt=n,kt===0&&(_u=Nn()+500,h2&&w0())}}function kl(t){Lo!==null&&Lo.tag===0&&!(kt&6)&&nu();var e=kt;kt|=1;var n=Ki.transition,r=jt;try{if(Ki.transition=null,jt=1,t)return t()}finally{jt=r,Ki.transition=n,kt=e,!(kt&6)&&w0()}}function Vx(){fi=zc.current,Qt(zc)}function fl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lG(n)),On!==null)for(n=On.return;n!==null;){var r=n;switch(bx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&A3();break;case 3:bu(),Qt(ti),Qt(Sr),Ax();break;case 5:Px(r);break;case 4:bu();break;case 13:Qt(sn);break;case 19:Qt(sn);break;case 10:kx(r.type._context);break;case 22:case 23:Vx()}n=n.return}if(Xn=t,On=t=Zo(t.current,null),lr=fi=e,Un=0,Oh=null,$x=y2=Sl=0,Kr=Kf=null,tl!==null){for(e=0;e<tl.length;e++)if(n=tl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}tl=null}return t}function JM(t,e){do{var n=On;try{if(Sx(),Gm.current=L3,$3){for(var r=un.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$3=!1}if(_l=0,Qn=Vn=un=null,Hf=!1,Ah=0,Rx.current=null,n===null||n.return===null){Un=1,Oh=e,On=null;break}e:{var a=t,s=n.return,o=n,l=e;if(e=lr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Ik(s);if(p!==null){p.flags&=-257,Ck(p,s,o,a,e),p.mode&1&&Ak(a,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var x=new Set;x.add(l),e.updateQueue=x}else g.add(l);break e}else{if(!(e&1)){Ak(a,c,e),Ux();break e}l=Error(we(426))}}else if(Zt&&o.mode&1){var v=Ik(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Ck(v,s,o,a,e),wx(wu(l,o));break e}}a=l=wu(l,o),Un!==4&&(Un=2),Kf===null?Kf=[a]:Kf.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=DM(a,l,e);Sk(a,y);break e;case 1:o=l;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Xo===null||!Xo.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var E=RM(a,o,e);Sk(a,E);break e}}a=a.return}while(a!==null)}tD(n)}catch(S){e=S,On===n&&n!==null&&(On=n=n.return);continue}break}while(!0)}function ZM(){var t=F3.current;return F3.current=L3,t===null?L3:t}function Ux(){(Un===0||Un===3||Un===2)&&(Un=4),Xn===null||!(Sl&268435455)&&!(y2&268435455)||Io(Xn,lr)}function B3(t,e){var n=kt;kt|=2;var r=ZM();(Xn!==t||lr!==e)&&(Ss=null,fl(t,e));do try{jG();break}catch(i){JM(t,i)}while(!0);if(Sx(),kt=n,F3.current=r,On!==null)throw Error(we(261));return Xn=null,lr=0,Un}function jG(){for(;On!==null;)eD(On)}function MG(){for(;On!==null&&!aH();)eD(On)}function eD(t){var e=rD(t.alternate,t,fi);t.memoizedProps=t.pendingProps,e===null?tD(t):On=e,Rx.current=null}function tD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=TG(n,e),n!==null){n.flags&=32767,On=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Un=6,On=null;return}}else if(n=NG(n,e,fi),n!==null){On=n;return}if(e=e.sibling,e!==null){On=e;return}On=e=t}while(e!==null);Un===0&&(Un=5)}function H0(t,e,n){var r=jt,i=Ki.transition;try{Ki.transition=null,jt=1,DG(t,e,n,r)}finally{Ki.transition=i,jt=r}return null}function DG(t,e,n,r){do nu();while(Lo!==null);if(kt&6)throw Error(we(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(we(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(mH(t,a),t===Xn&&(On=Xn=null,lr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||J4||(J4=!0,iD(S3,function(){return nu(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ki.transition,Ki.transition=null;var s=jt;jt=1;var o=kt;kt|=4,Rx.current=null,AG(t,n),YM(n,t),tG(kv),E3=!!Sv,kv=Sv=null,t.current=n,IG(n),sH(),kt=o,jt=s,Ki.transition=a}else t.current=n;if(J4&&(J4=!1,Lo=t,U3=i),a=t.pendingLanes,a===0&&(Xo=null),cH(n.stateNode),ri(t,Nn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(V3)throw V3=!1,t=Wv,Wv=null,t;return U3&1&&t.tag!==0&&nu(),a=t.pendingLanes,a&1?t===qv?Yf++:(Yf=0,qv=t):Yf=0,w0(),null}function nu(){if(Lo!==null){var t=Dj(U3),e=Ki.transition,n=jt;try{if(Ki.transition=null,jt=16>t?16:t,Lo===null)var r=!1;else{if(t=Lo,Lo=null,U3=0,kt&6)throw Error(we(331));var i=kt;for(kt|=4,$e=t.current;$e!==null;){var a=$e,s=a.child;if($e.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for($e=c;$e!==null;){var u=$e;switch(u.tag){case 0:case 11:case 15:Gf(8,u,a)}var d=u.child;if(d!==null)d.return=u,$e=d;else for(;$e!==null;){u=$e;var h=u.sibling,p=u.return;if(HM(u),u===c){$e=null;break}if(h!==null){h.return=p,$e=h;break}$e=p}}}var g=a.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(x!==null)}}$e=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,$e=s;else e:for(;$e!==null;){if(a=$e,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Gf(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,$e=y;break e}$e=a.return}}var b=t.current;for($e=b;$e!==null;){s=$e;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,$e=w;else e:for(s=b;$e!==null;){if(o=$e,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:g2(9,o)}}catch(S){yn(o,o.return,S)}if(o===s){$e=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,$e=E;break e}$e=o.return}}if(kt=i,w0(),Za&&typeof Za.onPostCommitFiberRoot=="function")try{Za.onPostCommitFiberRoot(l2,t)}catch{}r=!0}return r}finally{jt=n,Ki.transition=e}}return!1}function Wk(t,e,n){e=wu(n,e),e=DM(t,e,1),t=Qo(t,e,1),e=Lr(),t!==null&&(qp(t,1,e),ri(t,e))}function yn(t,e,n){if(t.tag===3)Wk(t,t,n);else for(;e!==null;){if(e.tag===3){Wk(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xo===null||!Xo.has(r))){t=wu(n,t),t=RM(e,t,1),e=Qo(e,t,1),t=Lr(),e!==null&&(qp(e,1,t),ri(e,t));break}}e=e.return}}function RG(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Lr(),t.pingedLanes|=t.suspendedLanes&n,Xn===t&&(lr&n)===n&&(Un===4||Un===3&&(lr&130023424)===lr&&500>Nn()-Lx?fl(t,0):$x|=n),ri(t,e)}function nD(t,e){e===0&&(t.mode&1?(e=B4,B4<<=1,!(B4&130023424)&&(B4=4194304)):e=1);var n=Lr();t=Ys(t,e),t!==null&&(qp(t,e,n),ri(t,n))}function $G(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),nD(t,n)}function LG(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(we(314))}r!==null&&r.delete(e),nD(t,n)}var rD;rD=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ti.current)Jr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Jr=!1,EG(t,e,n);Jr=!!(t.flags&131072)}else Jr=!1,Zt&&e.flags&1048576&&oM(e,O3,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ym(t,e),t=e.pendingProps;var i=yu(e,Sr.current);tu(e,n),i=Cx(null,e,r,t,i,n);var a=Ox();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ni(r)?(a=!0,I3(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Nx(e),i.updater=m2,e.stateNode=i,i._reactInternals=e,jv(e,r,t,n),e=Rv(null,e,r,!0,a,n)):(e.tag=0,Zt&&a&&xx(e),Pr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ym(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=VG(r),t=fa(r,t),i){case 0:e=Dv(null,e,r,t,n);break e;case 1:e=Mk(null,e,r,t,n);break e;case 11:e=Ok(null,e,r,t,n);break e;case 14:e=jk(null,e,r,fa(r.type,t),n);break e}throw Error(we(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fa(r,i),Dv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fa(r,i),Mk(t,e,r,i,n);case 3:e:{if(VM(e),t===null)throw Error(we(387));r=e.pendingProps,a=e.memoizedState,i=a.element,hM(t,e),D3(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=wu(Error(we(423)),e),e=Dk(t,e,r,n,i);break e}else if(r!==i){i=wu(Error(we(424)),e),e=Dk(t,e,r,n,i);break e}else for(vi=Yo(e.stateNode.containerInfo.firstChild),Si=e,Zt=!0,ma=null,n=dM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vu(),r===i){e=Qs(t,e,n);break e}Pr(t,e,r,n)}e=e.child}return e;case 5:return pM(e),t===null&&Iv(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,Ev(r,i)?s=null:a!==null&&Ev(r,a)&&(e.flags|=32),FM(t,e),Pr(t,e,s,n),e.child;case 6:return t===null&&Iv(e),null;case 13:return UM(t,e,n);case 4:return Tx(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=xu(e,null,r,n):Pr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fa(r,i),Ok(t,e,r,i,n);case 7:return Pr(t,e,e.pendingProps,n),e.child;case 8:return Pr(t,e,e.pendingProps.children,n),e.child;case 12:return Pr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Wt(j3,r._currentValue),r._currentValue=s,a!==null)if(Aa(a.value,s)){if(a.children===i.children&&!ti.current){e=Qs(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Us(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Cv(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(we(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Cv(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Pr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,tu(e,n),i=Ji(i),r=r(i),e.flags|=1,Pr(t,e,r,n),e.child;case 14:return r=e.type,i=fa(r,e.pendingProps),i=fa(r.type,i),jk(t,e,r,i,n);case 15:return $M(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fa(r,i),Ym(t,e),e.tag=1,ni(r)?(t=!0,I3(e)):t=!1,tu(e,n),MM(e,r,i),jv(e,r,i,n),Rv(null,e,r,!0,t,n);case 19:return BM(t,e,n);case 22:return LM(t,e,n)}throw Error(we(156,e.tag))};function iD(t,e){return Cj(t,e)}function FG(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zi(t,e,n,r){return new FG(t,e,n,r)}function Bx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function VG(t){if(typeof t=="function")return Bx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ox)return 11;if(t===lx)return 14}return 2}function Zo(t,e){var n=t.alternate;return n===null?(n=zi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Jm(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")Bx(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case jc:return hl(n.children,i,a,e);case sx:s=8,i|=8;break;case rv:return t=zi(12,n,e,i|2),t.elementType=rv,t.lanes=a,t;case iv:return t=zi(13,n,e,i),t.elementType=iv,t.lanes=a,t;case av:return t=zi(19,n,e,i),t.elementType=av,t.lanes=a,t;case pj:return v2(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fj:s=10;break e;case hj:s=9;break e;case ox:s=11;break e;case lx:s=14;break e;case ko:s=16,r=null;break e}throw Error(we(130,t==null?t:typeof t,""))}return e=zi(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function hl(t,e,n,r){return t=zi(7,t,r,e),t.lanes=n,t}function v2(t,e,n,r){return t=zi(22,t,r,e),t.elementType=pj,t.lanes=n,t.stateNode={isHidden:!1},t}function M6(t,e,n){return t=zi(6,t,null,e),t.lanes=n,t}function D6(t,e,n){return e=zi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function UG(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=m6(0),this.expirationTimes=m6(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=m6(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zx(t,e,n,r,i,a,s,o,l){return t=new UG(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=zi(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nx(a),t}function BG(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function aD(t){if(!t)return u0;t=t._reactInternals;e:{if(Xl(t)!==t||t.tag!==1)throw Error(we(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ni(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(we(171))}if(t.tag===1){var n=t.type;if(ni(n))return aM(t,n,e)}return e}function sD(t,e,n,r,i,a,s,o,l){return t=zx(n,r,!0,t,i,a,s,o,l),t.context=aD(null),n=t.current,r=Lr(),i=Jo(n),a=Us(r,i),a.callback=e??null,Qo(n,a,i),t.current.lanes=i,qp(t,i,r),ri(t,r),t}function x2(t,e,n,r){var i=e.current,a=Lr(),s=Jo(i);return n=aD(n),e.context===null?e.context=n:e.pendingContext=n,e=Us(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Qo(i,e,s),t!==null&&(ka(t,i,s,a),Hm(t,i,s)),s}function z3(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qk(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Wx(t,e){qk(t,e),(t=t.alternate)&&qk(t,e)}function zG(){return null}var oD=typeof reportError=="function"?reportError:function(t){console.error(t)};function qx(t){this._internalRoot=t}b2.prototype.render=qx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(we(409));x2(t,e,null,null)};b2.prototype.unmount=qx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;kl(function(){x2(null,t,null,null)}),e[Ks]=null}};function b2(t){this._internalRoot=t}b2.prototype.unstable_scheduleHydration=function(t){if(t){var e=Lj();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ao.length&&e!==0&&e<Ao[n].priority;n++);Ao.splice(n,0,t),n===0&&Vj(t)}};function Hx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function w2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Hk(){}function WG(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=z3(s);a.call(c)}}var s=sD(e,r,t,0,null,!1,!1,"",Hk);return t._reactRootContainer=s,t[Ks]=s.current,kh(t.nodeType===8?t.parentNode:t),kl(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=z3(l);o.call(c)}}var l=zx(t,0,!1,null,null,!1,!1,"",Hk);return t._reactRootContainer=l,t[Ks]=l.current,kh(t.nodeType===8?t.parentNode:t),kl(function(){x2(e,l,n,r)}),l}function _2(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=z3(s);o.call(l)}}x2(e,s,t,i)}else s=WG(n,e,t,i,r);return z3(s)}Rj=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=yf(e.pendingLanes);n!==0&&(dx(e,n|1),ri(e,Nn()),!(kt&6)&&(_u=Nn()+500,w0()))}break;case 13:kl(function(){var r=Ys(t,1);if(r!==null){var i=Lr();ka(r,t,1,i)}}),Wx(t,1)}};fx=function(t){if(t.tag===13){var e=Ys(t,134217728);if(e!==null){var n=Lr();ka(e,t,134217728,n)}Wx(t,134217728)}};$j=function(t){if(t.tag===13){var e=Jo(t),n=Ys(t,e);if(n!==null){var r=Lr();ka(n,t,e,r)}Wx(t,e)}};Lj=function(){return jt};Fj=function(t,e){var n=jt;try{return jt=t,e()}finally{jt=n}};mv=function(t,e,n){switch(e){case"input":if(lv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=f2(r);if(!i)throw Error(we(90));gj(r),lv(r,i)}}}break;case"textarea":vj(t,n);break;case"select":e=n.value,e!=null&&Xc(t,!!n.multiple,e,!1)}};Ej=Fx;Nj=kl;var qG={usingClientEntryPoint:!1,Events:[Gp,$c,f2,Sj,kj,Fx]},Kd={findFiberByHostInstance:el,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HG={bundleType:Kd.bundleType,version:Kd.version,rendererPackageName:Kd.rendererPackageName,rendererConfig:Kd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Aj(t),t===null?null:t.stateNode},findFiberByHostInstance:Kd.findFiberByHostInstance||zG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Z4=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Z4.isDisabled&&Z4.supportsFiber)try{l2=Z4.inject(HG),Za=Z4}catch{}}Ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qG;Ai.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hx(e))throw Error(we(200));return BG(t,e,null,n)};Ai.createRoot=function(t,e){if(!Hx(t))throw Error(we(299));var n=!1,r="",i=oD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=zx(t,1,!1,null,null,n,!1,r,i),t[Ks]=e.current,kh(t.nodeType===8?t.parentNode:t),new qx(e)};Ai.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(we(188)):(t=Object.keys(t).join(","),Error(we(268,t)));return t=Aj(e),t=t===null?null:t.stateNode,t};Ai.flushSync=function(t){return kl(t)};Ai.hydrate=function(t,e,n){if(!w2(e))throw Error(we(200));return _2(null,t,e,!0,n)};Ai.hydrateRoot=function(t,e,n){if(!Hx(t))throw Error(we(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=oD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=sD(e,null,t,1,n??null,i,!1,a,s),t[Ks]=e.current,kh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new b2(e)};Ai.render=function(t,e,n){if(!w2(e))throw Error(we(200));return _2(null,t,e,!1,n)};Ai.unmountComponentAtNode=function(t){if(!w2(t))throw Error(we(40));return t._reactRootContainer?(kl(function(){_2(null,null,t,!1,function(){t._reactRootContainer=null,t[Ks]=null})}),!0):!1};Ai.unstable_batchedUpdates=Fx;Ai.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!w2(n))throw Error(we(200));if(t==null||t._reactInternals===void 0)throw Error(we(38));return _2(t,e,n,!1,r)};Ai.version="18.3.1-next-f1338f8080-20240426";function lD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lD)}catch(t){console.error(t)}}lD(),lj.exports=Ai;var GG=lj.exports,Gk=GG;tv.createRoot=Gk.createRoot,tv.hydrateRoot=Gk.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jh(){return jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jh.apply(this,arguments)}var Fo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fo||(Fo={}));const Kk="popstate";function KG(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return W3("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Mh(i)}return cD(e,n,null,t)}function YG(t){t===void 0&&(t={});function e(i,a){let{pathname:s="/",search:o="",hash:l=""}=Jl(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),W3("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let s=i.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");o=c===-1?l:l.slice(0,c)}return o+"#"+(typeof a=="string"?a:Mh(a))}function r(i,a){S2(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return cD(e,n,r,t)}function Pn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function S2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QG(){return Math.random().toString(36).substr(2,8)}function Yk(t,e){return{usr:t.state,key:t.key,idx:e}}function W3(t,e,n,r){return n===void 0&&(n=null),jh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Jl(e):e,{state:n,key:e&&e.key||r||QG()})}function Mh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Jl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function cD(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=Fo.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(jh({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){o=Fo.Pop;let v=u(),y=v==null?null:v-c;c=v,l&&l({action:o,location:x.location,delta:y})}function h(v,y){o=Fo.Push;let b=W3(x.location,v,y);n&&n(b,v),c=u()+1;let w=Yk(b,c),E=x.createHref(b);try{s.pushState(w,"",E)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(E)}a&&l&&l({action:o,location:x.location,delta:1})}function p(v,y){o=Fo.Replace;let b=W3(x.location,v,y);n&&n(b,v),c=u();let w=Yk(b,c),E=x.createHref(b);s.replaceState(w,"",E),a&&l&&l({action:o,location:x.location,delta:0})}function g(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof v=="string"?v:Mh(v);return b=b.replace(/ $/,"%20"),Pn(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let x={get action(){return o},get location(){return t(i,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Kk,d),l=v,()=>{i.removeEventListener(Kk,d),l=null}},createHref(v){return e(i,v)},createURL:g,encodeLocation(v){let y=g(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(v){return s.go(v)}};return x}var Qk;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Qk||(Qk={}));function XG(t,e,n){return n===void 0&&(n="/"),JG(t,e,n)}function JG(t,e,n,r){let i=typeof e=="string"?Jl(e):e,a=Gx(i.pathname||"/",n);if(a==null)return null;let s=uD(t);ZG(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=dK(a);o=lK(s[l],c)}return o}function uD(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(Pn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=e0([r,l.relativePath]),u=n.concat(l);a.children&&a.children.length>0&&(Pn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),uD(a.children,e,u,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:sK(c,a.index),routesMeta:u})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of dD(a.path))i(a,s,l)}),e}function dD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=dD(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function ZG(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:oK(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const eK=/^:[\w-]+$/,tK=3,nK=2,rK=1,iK=10,aK=-2,Xk=t=>t==="*";function sK(t,e){let n=t.split("/"),r=n.length;return n.some(Xk)&&(r+=aK),e&&(r+=nK),n.filter(i=>!Xk(i)).reduce((i,a)=>i+(eK.test(a)?tK:a===""?rK:iK),r)}function oK(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function lK(t,e,n){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=a==="/"?e:e.slice(a.length)||"/",d=cK({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:e0([a,d.pathname]),pathnameBase:gK(e0([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=e0([a,d.pathnameBase]))}return s}function cK(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=uK(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let x=o[d]||"";s=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const g=o[d];return p&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function uK(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),S2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function dK(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return S2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Gx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const fK=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hK=t=>fK.test(t);function pK(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Jl(t):t,a;if(n)if(hK(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),S2(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?a=Jk(n.substring(1),"/"):a=Jk(n,e)}else a=e;return{pathname:a,search:yK(r),hash:vK(i)}}function Jk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function R6(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mK(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Kx(t,e){let n=mK(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Yx(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Jl(t):(i=jh({},t),Pn(!i.pathname||!i.pathname.includes("?"),R6("?","pathname","search",i)),Pn(!i.pathname||!i.pathname.includes("#"),R6("#","pathname","hash",i)),Pn(!i.search||!i.search.includes("#"),R6("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}o=d>=0?e[d]:"/"}let l=pK(i,o),c=s&&s!=="/"&&s.endsWith("/"),u=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const e0=t=>t.join("/").replace(/\/\/+/g,"/"),gK=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yK=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vK=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xK(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const fD=["post","put","patch","delete"];new Set(fD);const bK=["get",...fD];new Set(bK);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dh(){return Dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dh.apply(this,arguments)}const Qx=C.createContext(null),wK=C.createContext(null),_0=C.createContext(null),k2=C.createContext(null),lo=C.createContext({outlet:null,matches:[],isDataRoute:!1}),hD=C.createContext(null);function _K(t,e){let{relative:n}=e===void 0?{}:e;od()||Pn(!1);let{basename:r,navigator:i}=C.useContext(_0),{hash:a,pathname:s,search:o}=mD(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:e0([r,s])),i.createHref({pathname:l,search:o,hash:a})}function od(){return C.useContext(k2)!=null}function co(){return od()||Pn(!1),C.useContext(k2).location}function pD(t){C.useContext(_0).static||C.useLayoutEffect(t)}function Yp(){let{isDataRoute:t}=C.useContext(lo);return t?$K():SK()}function SK(){od()||Pn(!1);let t=C.useContext(Qx),{basename:e,future:n,navigator:r}=C.useContext(_0),{matches:i}=C.useContext(lo),{pathname:a}=co(),s=JSON.stringify(Kx(i,n.v7_relativeSplatPath)),o=C.useRef(!1);return pD(()=>{o.current=!0}),C.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=Yx(c,JSON.parse(s),a,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:e0([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,s,a,t])}const kK=C.createContext(null);function EK(t){let e=C.useContext(lo).outlet;return e&&C.createElement(kK.Provider,{value:t},e)}function mD(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=C.useContext(_0),{matches:i}=C.useContext(lo),{pathname:a}=co(),s=JSON.stringify(Kx(i,r.v7_relativeSplatPath));return C.useMemo(()=>Yx(t,JSON.parse(s),a,n==="path"),[t,s,a,n])}function NK(t,e){return TK(t,e)}function TK(t,e,n,r){od()||Pn(!1);let{navigator:i}=C.useContext(_0),{matches:a}=C.useContext(lo),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=co(),u;if(e){var d;let v=typeof e=="string"?Jl(e):e;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||Pn(!1),u=v}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=XG(t,{pathname:p}),x=OK(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:e0([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:e0([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,n,r);return e&&x?C.createElement(k2.Provider,{value:{location:Dh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Fo.Pop}},x):x}function PK(){let t=RK(),e=xK(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,null)}const AK=C.createElement(PK,null);class IK extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?C.createElement(lo.Provider,{value:this.props.routeContext},C.createElement(hD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CK(t){let{routeContext:e,match:n,children:r}=t,i=C.useContext(Qx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(lo.Provider,{value:e},r)}function OK(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let u=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);u>=0||Pn(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=n,g=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,h)=>{let p,g=!1,x=null,v=null;n&&(p=o&&d.route.id?o[d.route.id]:void 0,x=d.route.errorElement||AK,l&&(c<0&&h===0?(LK("route-fallback"),g=!0,v=null):c===h&&(g=!0,v=d.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,h+1)),b=()=>{let w;return p?w=x:g?w=v:d.route.Component?w=C.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,C.createElement(CK,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?C.createElement(IK,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var gD=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(gD||{}),yD=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(yD||{});function jK(t){let e=C.useContext(Qx);return e||Pn(!1),e}function MK(t){let e=C.useContext(wK);return e||Pn(!1),e}function DK(t){let e=C.useContext(lo);return e||Pn(!1),e}function vD(t){let e=DK(),n=e.matches[e.matches.length-1];return n.route.id||Pn(!1),n.route.id}function RK(){var t;let e=C.useContext(hD),n=MK(),r=vD();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function $K(){let{router:t}=jK(gD.UseNavigateStable),e=vD(yD.UseNavigateStable),n=C.useRef(!1);return pD(()=>{n.current=!0}),C.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Dh({fromRouteId:e},a)))},[t,e])}const Zk={};function LK(t,e,n){Zk[t]||(Zk[t]=!0)}function xD(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Qp(t){let{to:e,replace:n,state:r,relative:i}=t;od()||Pn(!1);let{future:a,static:s}=C.useContext(_0),{matches:o}=C.useContext(lo),{pathname:l}=co(),c=Yp(),u=Yx(e,Kx(o,a.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return C.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function Xx(t){return EK(t.context)}function ui(t){Pn(!1)}function bD(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Fo.Pop,navigator:a,static:s=!1,future:o}=t;od()&&Pn(!1);let l=e.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:l,navigator:a,static:s,future:Dh({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof r=="string"&&(r=Jl(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:g="default"}=r,x=C.useMemo(()=>{let v=Gx(u,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:p,key:g},navigationType:i}},[l,u,d,h,p,g,i]);return x==null?null:C.createElement(_0.Provider,{value:c},C.createElement(k2.Provider,{children:n,value:x}))}function FK(t){let{children:e,location:n}=t;return NK(Kv(e),n)}new Promise(()=>{});function Kv(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let a=[...e,i];if(r.type===C.Fragment){n.push.apply(n,Kv(r.props.children,a));return}r.type!==ui&&Pn(!1),!r.props.index||!r.props.children||Pn(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Kv(r.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yv(){return Yv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yv.apply(this,arguments)}function VK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function UK(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function BK(t,e){return t.button===0&&(!e||e==="_self")&&!UK(t)}function Qv(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function zK(t,e){let n=Qv(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}const WK=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qK="6";try{window.__reactRouterVersion=qK}catch{}const HK="startTransition",q3=Rq[HK];function GK(t){let{basename:e,children:n,future:r,window:i}=t,a=C.useRef();a.current==null&&(a.current=KG({window:i,v5Compat:!0}));let s=a.current,[o,l]=C.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=C.useCallback(d=>{c&&q3?q3(()=>l(d)):l(d)},[l,c]);return C.useLayoutEffect(()=>s.listen(u),[s,u]),C.useEffect(()=>xD(r),[r]),C.createElement(bD,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})}function KK(t){let{basename:e,children:n,future:r,window:i}=t,a=C.useRef();a.current==null&&(a.current=YG({window:i,v5Compat:!0}));let s=a.current,[o,l]=C.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=C.useCallback(d=>{c&&q3?q3(()=>l(d)):l(d)},[l,c]);return C.useLayoutEffect(()=>s.listen(u),[s,u]),C.useEffect(()=>xD(r),[r]),C.createElement(bD,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})}const YK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QK=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XK=C.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=VK(e,WK),{basename:p}=C.useContext(_0),g,x=!1;if(typeof c=="string"&&QK.test(c)&&(g=c,YK))try{let w=new URL(window.location.href),E=c.startsWith("//")?new URL(w.protocol+c):new URL(c),S=Gx(E.pathname,p);E.origin===w.origin&&S!=null?c=S+E.search+E.hash:x=!0}catch{}let v=_K(c,{relative:i}),y=JK(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:d});function b(w){r&&r(w),w.defaultPrevented||y(w)}return C.createElement("a",Yv({},h,{href:g||v,onClick:x||a?r:b,ref:n,target:l}))});var eE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(eE||(eE={}));var tE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(tE||(tE={}));function JK(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=Yp(),c=co(),u=mD(t,{relative:s});return C.useCallback(d=>{if(BK(d,n)){d.preventDefault();let h=r!==void 0?r:Mh(c)===Mh(u);l(t,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,u,r,i,n,t,a,s,o])}function ZK(t){let e=C.useRef(Qv(t)),n=C.useRef(!1),r=co(),i=C.useMemo(()=>zK(r.search,n.current?null:e.current),[r.search]),a=Yp(),s=C.useCallback((o,l)=>{const c=Qv(typeof o=="function"?o(i):o);n.current=!0,a("?"+c,l)},[a,i]);return[i,s]}/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wD=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>C.createElement("svg",{ref:l,...tY,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:wD("lucide",i),...o},[...s.map(([c,u])=>C.createElement(c,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=(t,e)=>{const n=C.forwardRef(({className:r,...i},a)=>C.createElement(nY,{ref:a,iconNode:e,className:wD(`lucide-${eY(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=Ve("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=Ve("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=Ve("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=Ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=Ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=Ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=Ve("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=Ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=Ve("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=Ve("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=Ve("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=Ve("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=Ve("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=Ve("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=Ve("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=Ve("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=Ve("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=Ve("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=Ve("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=Ve("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=Ve("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=Ve("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=Ve("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=Ve("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=Ve("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=Ve("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=Ve("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=Ve("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=Ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=Ve("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=Ve("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=Ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=Ve("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=Ve("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=Ve("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=Ve("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=Ve("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=Ve("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=Ve("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=Ve("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=Ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=Ve("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=Ve("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=Ve("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=Ve("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=Ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=Ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=Ve("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=Ve("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=Ve("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=Ve("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=Ve("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=Ve("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=Ve("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=Ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=Ve("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=Ve("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=Ve("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=Ve("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=Ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=Ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=Ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=Ve("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=Ve("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),NY=()=>{};var dE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},TY=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},jD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=a>>2,d=(a&3)<<4|o>>4;let h=(o&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),r.push(n[u],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TY(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||c==null||d==null)throw new PY;const h=a<<2|o>>4;if(r.push(h),c!==64){const p=o<<4&240|c>>2;if(r.push(p),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class PY extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AY=function(t){const e=OD(t);return jD.encodeByteArray(e,!0)},G3=function(t){return AY(t).replace(/\./g,"")},MD=function(t){try{return jD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IY(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CY=()=>IY().__FIREBASE_DEFAULTS__,OY=()=>{if(typeof process>"u"||typeof dE>"u")return;const t=dE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jY=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&MD(t[1]);return e&&JSON.parse(e)},N2=()=>{try{return NY()||CY()||OY()||jY()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DD=t=>{var e,n;return(n=(e=N2())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},RD=t=>{const e=DD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$D=()=>{var t;return(t=N2())==null?void 0:t.config},LD=t=>{var e;return(e=N2())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MY{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[G3(JSON.stringify(n)),G3(JSON.stringify(s)),""].join(".")}const Xf={};function DY(){const t={prod:[],emulator:[]};for(const e of Object.keys(Xf))Xf[e]?t.emulator.push(e):t.prod.push(e);return t}function RY(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let fE=!1;function rb(t,e){if(typeof window>"u"||typeof document>"u"||!S0(window.location.host)||Xf[t]===e||Xf[t]||fE)return;Xf[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",a=DY().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{fE=!0,s()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=RY(r),p=n("text"),g=document.getElementById(p)||document.createElement("span"),x=n("learnmore"),v=document.getElementById(x)||document.createElement("a"),y=n("preprendIcon"),b=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;o(w),u(v,x);const E=c();l(b,y),w.append(b,g,v,E),document.body.appendChild(w)}a?(g.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $Y(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kr())}function LY(){var e;const t=(e=N2())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FY(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function VY(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UY(){const t=kr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function BY(){return!LY()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UD(){try{return typeof indexedDB=="object"}catch{return!1}}function BD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}function zY(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WY="FirebaseError";class ra extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=WY,Object.setPrototypeOf(this,ra.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ec.prototype.create)}}class ec{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?qY(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new ra(i,o,r)}}function qY(t,e){return t.replace(HY,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const HY=/\{\$([^}]+)}/g;function GY(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function d0(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(hE(a)&&hE(s)){if(!d0(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function hE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function bf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function KY(t,e){const n=new YY(t,e);return n.subscribe.bind(n)}class YY{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");QY(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$6),i.error===void 0&&(i.error=$6),i.complete===void 0&&(i.complete=$6);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QY(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $6(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XY=1e3,JY=2,ZY=4*60*60*1e3,eQ=.5;function pE(t,e=XY,n=JY){const r=e*Math.pow(n,t),i=Math.round(eQ*r*(Math.random()-.5)*2);return Math.min(ZY,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t){return t&&t._delegate?t._delegate:t}class ea{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tQ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new MY;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rQ(e))try{this.getOrInitializeService({instanceIdentifier:G0})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=G0){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=G0){return this.instances.has(e)}getOptions(e=G0){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nQ(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=G0){return this.component?this.component.multipleInstances?e:G0:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nQ(t){return t===G0?void 0:t}function rQ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tQ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(gt||(gt={}));const aQ={debug:gt.DEBUG,verbose:gt.VERBOSE,info:gt.INFO,warn:gt.WARN,error:gt.ERROR,silent:gt.SILENT},sQ=gt.INFO,oQ={[gt.DEBUG]:"log",[gt.VERBOSE]:"log",[gt.INFO]:"info",[gt.WARN]:"warn",[gt.ERROR]:"error"},lQ=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=oQ[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let T2=class{constructor(e){this.name=e,this._logLevel=sQ,this._logHandler=lQ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in gt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aQ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,gt.DEBUG,...e),this._logHandler(this,gt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,gt.VERBOSE,...e),this._logHandler(this,gt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,gt.INFO,...e),this._logHandler(this,gt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,gt.WARN,...e),this._logHandler(this,gt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,gt.ERROR,...e),this._logHandler(this,gt.ERROR,...e)}};const cQ=(t,e)=>e.some(n=>t instanceof n);let mE,gE;function uQ(){return mE||(mE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dQ(){return gE||(gE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zD=new WeakMap,Xv=new WeakMap,WD=new WeakMap,L6=new WeakMap,ib=new WeakMap;function fQ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(n0(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&zD.set(n,t)}).catch(()=>{}),ib.set(e,t),e}function hQ(t){if(Xv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});Xv.set(t,e)}let Jv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||WD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return n0(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pQ(t){Jv=t(Jv)}function mQ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(F6(this),e,...n);return WD.set(r,e.sort?e.sort():[e]),n0(r)}:dQ().includes(t)?function(...e){return t.apply(F6(this),e),n0(zD.get(this))}:function(...e){return n0(t.apply(F6(this),e))}}function gQ(t){return typeof t=="function"?mQ(t):(t instanceof IDBTransaction&&hQ(t),cQ(t,uQ())?new Proxy(t,Jv):t)}function n0(t){if(t instanceof IDBRequest)return fQ(t);if(L6.has(t))return L6.get(t);const e=gQ(t);return e!==t&&(L6.set(t,e),ib.set(e,t)),e}const F6=t=>ib.get(t);function qD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=n0(s);return r&&s.addEventListener("upgradeneeded",l=>{r(n0(s.result),l.oldVersion,l.newVersion,n0(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const yQ=["get","getKey","getAll","getAllKeys","count"],vQ=["put","add","delete","clear"],V6=new Map;function yE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(V6.get(e))return V6.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=vQ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yQ.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return V6.set(e,a),a}pQ(t=>({...t,get:(e,n,r)=>yE(e,n)||t.get(e,n,r),has:(e,n)=>!!yE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bQ(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bQ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zv="@firebase/app",vE="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new T2("@firebase/app"),wQ="@firebase/app-compat",_Q="@firebase/analytics-compat",SQ="@firebase/analytics",kQ="@firebase/app-check-compat",EQ="@firebase/app-check",NQ="@firebase/auth",TQ="@firebase/auth-compat",PQ="@firebase/database",AQ="@firebase/data-connect",IQ="@firebase/database-compat",CQ="@firebase/functions",OQ="@firebase/functions-compat",jQ="@firebase/installations",MQ="@firebase/installations-compat",DQ="@firebase/messaging",RQ="@firebase/messaging-compat",$Q="@firebase/performance",LQ="@firebase/performance-compat",FQ="@firebase/remote-config",VQ="@firebase/remote-config-compat",UQ="@firebase/storage",BQ="@firebase/storage-compat",zQ="@firebase/firestore",WQ="@firebase/ai",qQ="@firebase/firestore-compat",HQ="firebase",GQ="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e7="[DEFAULT]",KQ={[Zv]:"fire-core",[wQ]:"fire-core-compat",[SQ]:"fire-analytics",[_Q]:"fire-analytics-compat",[EQ]:"fire-app-check",[kQ]:"fire-app-check-compat",[NQ]:"fire-auth",[TQ]:"fire-auth-compat",[PQ]:"fire-rtdb",[AQ]:"fire-data-connect",[IQ]:"fire-rtdb-compat",[CQ]:"fire-fn",[OQ]:"fire-fn-compat",[jQ]:"fire-iid",[MQ]:"fire-iid-compat",[DQ]:"fire-fcm",[RQ]:"fire-fcm-compat",[$Q]:"fire-perf",[LQ]:"fire-perf-compat",[FQ]:"fire-rc",[VQ]:"fire-rc-compat",[UQ]:"fire-gcs",[BQ]:"fire-gcs-compat",[zQ]:"fire-fst",[qQ]:"fire-fst-compat",[WQ]:"fire-vertex","fire-js":"fire-js",[HQ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=new Map,YQ=new Map,t7=new Map;function xE(t,e){try{t.container.addComponent(e)}catch(n){Xs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ia(t){const e=t.name;if(t7.has(e))return Xs.debug(`There were multiple attempts to register component ${e}.`),!1;t7.set(e,t);for(const n of K3.values())xE(n,t);for(const n of YQ.values())xE(n,t);return!0}function k0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Qr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QQ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},r0=new ec("app","Firebase",QQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XQ{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw r0.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=GQ;function HD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:e7,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw r0.create("bad-app-name",{appName:String(i)});if(n||(n=$D()),!n)throw r0.create("no-options");const a=K3.get(i);if(a){if(d0(n,a.options)&&d0(r,a.config))return a;throw r0.create("duplicate-app",{appName:i})}const s=new iQ(i);for(const l of t7.values())s.addComponent(l);const o=new XQ(n,r,s);return K3.set(i,o),o}function P2(t=e7){const e=K3.get(t);if(!e&&t===e7&&$D())return HD();if(!e)throw r0.create("no-app",{appName:t});return e}function ii(t,e,n){let r=KQ[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xs.warn(s.join(" "));return}Ia(new ea(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JQ="firebase-heartbeat-database",ZQ=1,$h="firebase-heartbeat-store";let U6=null;function GD(){return U6||(U6=qD(JQ,ZQ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($h)}catch(n){console.warn(n)}}}}).catch(t=>{throw r0.create("idb-open",{originalErrorMessage:t.message})})),U6}async function eX(t){try{const n=(await GD()).transaction($h),r=await n.objectStore($h).get(KD(t));return await n.done,r}catch(e){if(e instanceof ra)Xs.warn(e.message);else{const n=r0.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xs.warn(n.message)}}}async function bE(t,e){try{const r=(await GD()).transaction($h,"readwrite");await r.objectStore($h).put(e,KD(t)),await r.done}catch(n){if(n instanceof ra)Xs.warn(n.message);else{const r=r0.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xs.warn(r.message)}}}function KD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tX=1024,nX=30;class rX{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aX(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=wE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>nX){const s=sX(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Xs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=wE(),{heartbeatsToSend:r,unsentEntries:i}=iX(this._heartbeatsCache.heartbeats),a=G3(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Xs.warn(n),""}}}function wE(){return new Date().toISOString().substring(0,10)}function iX(t,e=tX){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),_E(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_E(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aX{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UD()?BD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eX(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return bE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return bE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function _E(t){return G3(JSON.stringify({version:2,heartbeats:t})).length}function sX(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oX(t){Ia(new ea("platform-logger",e=>new xQ(e),"PRIVATE")),Ia(new ea("heartbeat",e=>new rX(e),"PRIVATE")),ii(Zv,vE,t),ii(Zv,vE,"esm2020"),ii("fire-js","")}oX("");var SE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var i0,YD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,N){function P(){}P.prototype=N.prototype,_.F=N.prototype,_.prototype=new P,_.prototype.constructor=_,_.D=function(A,I,O){for(var j=Array(arguments.length-2),R=2;R<arguments.length;R++)j[R-2]=arguments[R];return N.prototype[I].apply(A,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,N,P){P||(P=0);const A=Array(16);if(typeof N=="string")for(var I=0;I<16;++I)A[I]=N.charCodeAt(P++)|N.charCodeAt(P++)<<8|N.charCodeAt(P++)<<16|N.charCodeAt(P++)<<24;else for(I=0;I<16;++I)A[I]=N[P++]|N[P++]<<8|N[P++]<<16|N[P++]<<24;N=_.g[0],P=_.g[1],I=_.g[2];let O=_.g[3],j;j=N+(O^P&(I^O))+A[0]+3614090360&4294967295,N=P+(j<<7&4294967295|j>>>25),j=O+(I^N&(P^I))+A[1]+3905402710&4294967295,O=N+(j<<12&4294967295|j>>>20),j=I+(P^O&(N^P))+A[2]+606105819&4294967295,I=O+(j<<17&4294967295|j>>>15),j=P+(N^I&(O^N))+A[3]+3250441966&4294967295,P=I+(j<<22&4294967295|j>>>10),j=N+(O^P&(I^O))+A[4]+4118548399&4294967295,N=P+(j<<7&4294967295|j>>>25),j=O+(I^N&(P^I))+A[5]+1200080426&4294967295,O=N+(j<<12&4294967295|j>>>20),j=I+(P^O&(N^P))+A[6]+2821735955&4294967295,I=O+(j<<17&4294967295|j>>>15),j=P+(N^I&(O^N))+A[7]+4249261313&4294967295,P=I+(j<<22&4294967295|j>>>10),j=N+(O^P&(I^O))+A[8]+1770035416&4294967295,N=P+(j<<7&4294967295|j>>>25),j=O+(I^N&(P^I))+A[9]+2336552879&4294967295,O=N+(j<<12&4294967295|j>>>20),j=I+(P^O&(N^P))+A[10]+4294925233&4294967295,I=O+(j<<17&4294967295|j>>>15),j=P+(N^I&(O^N))+A[11]+2304563134&4294967295,P=I+(j<<22&4294967295|j>>>10),j=N+(O^P&(I^O))+A[12]+1804603682&4294967295,N=P+(j<<7&4294967295|j>>>25),j=O+(I^N&(P^I))+A[13]+4254626195&4294967295,O=N+(j<<12&4294967295|j>>>20),j=I+(P^O&(N^P))+A[14]+2792965006&4294967295,I=O+(j<<17&4294967295|j>>>15),j=P+(N^I&(O^N))+A[15]+1236535329&4294967295,P=I+(j<<22&4294967295|j>>>10),j=N+(I^O&(P^I))+A[1]+4129170786&4294967295,N=P+(j<<5&4294967295|j>>>27),j=O+(P^I&(N^P))+A[6]+3225465664&4294967295,O=N+(j<<9&4294967295|j>>>23),j=I+(N^P&(O^N))+A[11]+643717713&4294967295,I=O+(j<<14&4294967295|j>>>18),j=P+(O^N&(I^O))+A[0]+3921069994&4294967295,P=I+(j<<20&4294967295|j>>>12),j=N+(I^O&(P^I))+A[5]+3593408605&4294967295,N=P+(j<<5&4294967295|j>>>27),j=O+(P^I&(N^P))+A[10]+38016083&4294967295,O=N+(j<<9&4294967295|j>>>23),j=I+(N^P&(O^N))+A[15]+3634488961&4294967295,I=O+(j<<14&4294967295|j>>>18),j=P+(O^N&(I^O))+A[4]+3889429448&4294967295,P=I+(j<<20&4294967295|j>>>12),j=N+(I^O&(P^I))+A[9]+568446438&4294967295,N=P+(j<<5&4294967295|j>>>27),j=O+(P^I&(N^P))+A[14]+3275163606&4294967295,O=N+(j<<9&4294967295|j>>>23),j=I+(N^P&(O^N))+A[3]+4107603335&4294967295,I=O+(j<<14&4294967295|j>>>18),j=P+(O^N&(I^O))+A[8]+1163531501&4294967295,P=I+(j<<20&4294967295|j>>>12),j=N+(I^O&(P^I))+A[13]+2850285829&4294967295,N=P+(j<<5&4294967295|j>>>27),j=O+(P^I&(N^P))+A[2]+4243563512&4294967295,O=N+(j<<9&4294967295|j>>>23),j=I+(N^P&(O^N))+A[7]+1735328473&4294967295,I=O+(j<<14&4294967295|j>>>18),j=P+(O^N&(I^O))+A[12]+2368359562&4294967295,P=I+(j<<20&4294967295|j>>>12),j=N+(P^I^O)+A[5]+4294588738&4294967295,N=P+(j<<4&4294967295|j>>>28),j=O+(N^P^I)+A[8]+2272392833&4294967295,O=N+(j<<11&4294967295|j>>>21),j=I+(O^N^P)+A[11]+1839030562&4294967295,I=O+(j<<16&4294967295|j>>>16),j=P+(I^O^N)+A[14]+4259657740&4294967295,P=I+(j<<23&4294967295|j>>>9),j=N+(P^I^O)+A[1]+2763975236&4294967295,N=P+(j<<4&4294967295|j>>>28),j=O+(N^P^I)+A[4]+1272893353&4294967295,O=N+(j<<11&4294967295|j>>>21),j=I+(O^N^P)+A[7]+4139469664&4294967295,I=O+(j<<16&4294967295|j>>>16),j=P+(I^O^N)+A[10]+3200236656&4294967295,P=I+(j<<23&4294967295|j>>>9),j=N+(P^I^O)+A[13]+681279174&4294967295,N=P+(j<<4&4294967295|j>>>28),j=O+(N^P^I)+A[0]+3936430074&4294967295,O=N+(j<<11&4294967295|j>>>21),j=I+(O^N^P)+A[3]+3572445317&4294967295,I=O+(j<<16&4294967295|j>>>16),j=P+(I^O^N)+A[6]+76029189&4294967295,P=I+(j<<23&4294967295|j>>>9),j=N+(P^I^O)+A[9]+3654602809&4294967295,N=P+(j<<4&4294967295|j>>>28),j=O+(N^P^I)+A[12]+3873151461&4294967295,O=N+(j<<11&4294967295|j>>>21),j=I+(O^N^P)+A[15]+530742520&4294967295,I=O+(j<<16&4294967295|j>>>16),j=P+(I^O^N)+A[2]+3299628645&4294967295,P=I+(j<<23&4294967295|j>>>9),j=N+(I^(P|~O))+A[0]+4096336452&4294967295,N=P+(j<<6&4294967295|j>>>26),j=O+(P^(N|~I))+A[7]+1126891415&4294967295,O=N+(j<<10&4294967295|j>>>22),j=I+(N^(O|~P))+A[14]+2878612391&4294967295,I=O+(j<<15&4294967295|j>>>17),j=P+(O^(I|~N))+A[5]+4237533241&4294967295,P=I+(j<<21&4294967295|j>>>11),j=N+(I^(P|~O))+A[12]+1700485571&4294967295,N=P+(j<<6&4294967295|j>>>26),j=O+(P^(N|~I))+A[3]+2399980690&4294967295,O=N+(j<<10&4294967295|j>>>22),j=I+(N^(O|~P))+A[10]+4293915773&4294967295,I=O+(j<<15&4294967295|j>>>17),j=P+(O^(I|~N))+A[1]+2240044497&4294967295,P=I+(j<<21&4294967295|j>>>11),j=N+(I^(P|~O))+A[8]+1873313359&4294967295,N=P+(j<<6&4294967295|j>>>26),j=O+(P^(N|~I))+A[15]+4264355552&4294967295,O=N+(j<<10&4294967295|j>>>22),j=I+(N^(O|~P))+A[6]+2734768916&4294967295,I=O+(j<<15&4294967295|j>>>17),j=P+(O^(I|~N))+A[13]+1309151649&4294967295,P=I+(j<<21&4294967295|j>>>11),j=N+(I^(P|~O))+A[4]+4149444226&4294967295,N=P+(j<<6&4294967295|j>>>26),j=O+(P^(N|~I))+A[11]+3174756917&4294967295,O=N+(j<<10&4294967295|j>>>22),j=I+(N^(O|~P))+A[2]+718787259&4294967295,I=O+(j<<15&4294967295|j>>>17),j=P+(O^(I|~N))+A[9]+3951481745&4294967295,_.g[0]=_.g[0]+N&4294967295,_.g[1]=_.g[1]+(I+(j<<21&4294967295|j>>>11))&4294967295,_.g[2]=_.g[2]+I&4294967295,_.g[3]=_.g[3]+O&4294967295}r.prototype.v=function(_,N){N===void 0&&(N=_.length);const P=N-this.blockSize,A=this.C;let I=this.h,O=0;for(;O<N;){if(I==0)for(;O<=P;)i(this,_,O),O+=this.blockSize;if(typeof _=="string"){for(;O<N;)if(A[I++]=_.charCodeAt(O++),I==this.blockSize){i(this,A),I=0;break}}else for(;O<N;)if(A[I++]=_[O++],I==this.blockSize){i(this,A),I=0;break}}this.h=I,this.o+=N},r.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var N=1;N<_.length-8;++N)_[N]=0;N=this.o*8;for(var P=_.length-8;P<_.length;++P)_[P]=N&255,N/=256;for(this.v(_),_=Array(16),N=0,P=0;P<4;++P)for(let A=0;A<32;A+=8)_[N++]=this.g[P]>>>A&255;return _};function a(_,N){var P=o;return Object.prototype.hasOwnProperty.call(P,_)?P[_]:P[_]=N(_)}function s(_,N){this.h=N;const P=[];let A=!0;for(let I=_.length-1;I>=0;I--){const O=_[I]|0;A&&O==N||(P[I]=O,A=!1)}this.g=P}var o={};function l(_){return-128<=_&&_<128?a(_,function(N){return new s([N|0],N<0?-1:0)}):new s([_|0],_<0?-1:0)}function c(_){if(isNaN(_)||!isFinite(_))return d;if(_<0)return v(c(-_));const N=[];let P=1;for(let A=0;_>=P;A++)N[A]=_/P|0,P*=4294967296;return new s(N,0)}function u(_,N){if(_.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(_.charAt(0)=="-")return v(u(_.substring(1),N));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=c(Math.pow(N,8));let A=d;for(let O=0;O<_.length;O+=8){var I=Math.min(8,_.length-O);const j=parseInt(_.substring(O,O+I),N);I<8?(I=c(Math.pow(N,I)),A=A.j(I).add(c(j))):(A=A.j(P),A=A.add(c(j)))}return A}var d=l(0),h=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(x(this))return-v(this).m();let _=0,N=1;for(let P=0;P<this.g.length;P++){const A=this.i(P);_+=(A>=0?A:4294967296+A)*N,N*=4294967296}return _},t.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(g(this))return"0";if(x(this))return"-"+v(this).toString(_);const N=c(Math.pow(_,6));var P=this;let A="";for(;;){const I=E(P,N).g;P=y(P,I.j(N));let O=((P.g.length>0?P.g[0]:P.h)>>>0).toString(_);if(P=I,g(P))return O+A;for(;O.length<6;)O="0"+O;A=O+A}},t.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function g(_){if(_.h!=0)return!1;for(let N=0;N<_.g.length;N++)if(_.g[N]!=0)return!1;return!0}function x(_){return _.h==-1}t.l=function(_){return _=y(this,_),x(_)?-1:g(_)?0:1};function v(_){const N=_.g.length,P=[];for(let A=0;A<N;A++)P[A]=~_.g[A];return new s(P,~_.h).add(h)}t.abs=function(){return x(this)?v(this):this},t.add=function(_){const N=Math.max(this.g.length,_.g.length),P=[];let A=0;for(let I=0;I<=N;I++){let O=A+(this.i(I)&65535)+(_.i(I)&65535),j=(O>>>16)+(this.i(I)>>>16)+(_.i(I)>>>16);A=j>>>16,O&=65535,j&=65535,P[I]=j<<16|O}return new s(P,P[P.length-1]&-2147483648?-1:0)};function y(_,N){return _.add(v(N))}t.j=function(_){if(g(this)||g(_))return d;if(x(this))return x(_)?v(this).j(v(_)):v(v(this).j(_));if(x(_))return v(this.j(v(_)));if(this.l(p)<0&&_.l(p)<0)return c(this.m()*_.m());const N=this.g.length+_.g.length,P=[];for(var A=0;A<2*N;A++)P[A]=0;for(A=0;A<this.g.length;A++)for(let I=0;I<_.g.length;I++){const O=this.i(A)>>>16,j=this.i(A)&65535,R=_.i(I)>>>16,D=_.i(I)&65535;P[2*A+2*I]+=j*D,b(P,2*A+2*I),P[2*A+2*I+1]+=O*D,b(P,2*A+2*I+1),P[2*A+2*I+1]+=j*R,b(P,2*A+2*I+1),P[2*A+2*I+2]+=O*R,b(P,2*A+2*I+2)}for(_=0;_<N;_++)P[_]=P[2*_+1]<<16|P[2*_];for(_=N;_<2*N;_++)P[_]=0;return new s(P,0)};function b(_,N){for(;(_[N]&65535)!=_[N];)_[N+1]+=_[N]>>>16,_[N]&=65535,N++}function w(_,N){this.g=_,this.h=N}function E(_,N){if(g(N))throw Error("division by zero");if(g(_))return new w(d,d);if(x(_))return N=E(v(_),N),new w(v(N.g),v(N.h));if(x(N))return N=E(_,v(N)),new w(v(N.g),N.h);if(_.g.length>30){if(x(_)||x(N))throw Error("slowDivide_ only works with positive integers.");for(var P=h,A=N;A.l(_)<=0;)P=S(P),A=S(A);var I=k(P,1),O=k(A,1);for(A=k(A,2),P=k(P,2);!g(A);){var j=O.add(A);j.l(_)<=0&&(I=I.add(P),O=j),A=k(A,1),P=k(P,1)}return N=y(_,I.j(N)),new w(I,N)}for(I=d;_.l(N)>=0;){for(P=Math.max(1,Math.floor(_.m()/N.m())),A=Math.ceil(Math.log(P)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),O=c(P),j=O.j(N);x(j)||j.l(_)>0;)P-=A,O=c(P),j=O.j(N);g(O)&&(O=h),I=I.add(O),_=y(_,j)}return new w(I,_)}t.B=function(_){return E(this,_).h},t.and=function(_){const N=Math.max(this.g.length,_.g.length),P=[];for(let A=0;A<N;A++)P[A]=this.i(A)&_.i(A);return new s(P,this.h&_.h)},t.or=function(_){const N=Math.max(this.g.length,_.g.length),P=[];for(let A=0;A<N;A++)P[A]=this.i(A)|_.i(A);return new s(P,this.h|_.h)},t.xor=function(_){const N=Math.max(this.g.length,_.g.length),P=[];for(let A=0;A<N;A++)P[A]=this.i(A)^_.i(A);return new s(P,this.h^_.h)};function S(_){const N=_.g.length+1,P=[];for(let A=0;A<N;A++)P[A]=_.i(A)<<1|_.i(A-1)>>>31;return new s(P,_.h)}function k(_,N){const P=N>>5;N%=32;const A=_.g.length-P,I=[];for(let O=0;O<A;O++)I[O]=N>0?_.i(O+P)>>>N|_.i(O+P+1)<<32-N:_.i(O+P);return new s(I,_.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,YD=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,i0=s}).apply(typeof SE<"u"?SE:typeof self<"u"?self:typeof window<"u"?window:{});var em=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QD,wf,XD,e3,n7,JD,ZD,eR;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof em=="object"&&em];for(var T=0;T<m.length;++T){var M=m[T];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var r=n(this);function i(m,T){if(T)e:{var M=r;m=m.split(".");for(var L=0;L<m.length-1;L++){var Q=m[L];if(!(Q in M))break e;M=M[Q]}m=m[m.length-1],L=M[m],T=T(L),T!=L&&T!=null&&e(M,m,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(m){return m||function(T){var M=[],L;for(L in T)Object.prototype.hasOwnProperty.call(T,L)&&M.push([L,T[L]]);return M}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function l(m,T,M){return m.call.apply(m.bind,arguments)}function c(m,T,M){return c=l,c.apply(null,arguments)}function u(m,T){var M=Array.prototype.slice.call(arguments,1);return function(){var L=M.slice();return L.push.apply(L,arguments),m.apply(this,L)}}function d(m,T){function M(){}M.prototype=T.prototype,m.Z=T.prototype,m.prototype=new M,m.prototype.constructor=m,m.Ob=function(L,Q,Z){for(var Ce=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)Ce[ct-2]=arguments[ct];return T.prototype[Q].apply(L,Ce)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function p(m){const T=m.length;if(T>0){const M=Array(T);for(let L=0;L<T;L++)M[L]=m[L];return M}return[]}function g(m,T){for(let L=1;L<arguments.length;L++){const Q=arguments[L];var M=typeof Q;if(M=M!="object"?M:Q?Array.isArray(Q)?"array":M:"null",M=="array"||M=="object"&&typeof Q.length=="number"){M=m.length||0;const Z=Q.length||0;m.length=M+Z;for(let Ce=0;Ce<Z;Ce++)m[M+Ce]=Q[Ce]}else m.push(Q)}}class x{constructor(T,M){this.i=T,this.j=M,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function v(m){s.setTimeout(()=>{throw m},0)}function y(){var m=_;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class b{constructor(){this.h=this.g=null}add(T,M){const L=w.get();L.set(T,M),this.h?this.h.next=L:this.g=L,this.h=L}}var w=new x(()=>new E,m=>m.reset());class E{constructor(){this.next=this.g=this.h=null}set(T,M){this.h=T,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let S,k=!1,_=new b,N=()=>{const m=Promise.resolve(void 0);S=()=>{m.then(P)}};function P(){for(var m;m=y();){try{m.h.call(m.g)}catch(M){v(M)}var T=w;T.j(m),T.h<100&&(T.h++,m.next=T.g,T.g=m)}k=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const M=()=>{};s.addEventListener("test",M,T),s.removeEventListener("test",M,T)}catch{}return m}();function j(m){return/^[\s\xa0]*$/.test(m)}function R(m,T){I.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,T)}d(R,I),R.prototype.init=function(m,T){const M=this.type=m.type,L=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget,T||(M=="mouseover"?T=m.fromElement:M=="mouseout"&&(T=m.toElement)),this.relatedTarget=T,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&R.Z.h.call(this)},R.prototype.h=function(){R.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var D="closure_listenable_"+(Math.random()*1e6|0),$=0;function U(m,T,M,L,Q){this.listener=m,this.proxy=null,this.src=T,this.type=M,this.capture=!!L,this.ha=Q,this.key=++$,this.da=this.fa=!1}function V(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function B(m,T,M){for(const L in m)T.call(M,m[L],L,m)}function q(m,T){for(const M in m)T.call(void 0,m[M],M,m)}function K(m){const T={};for(const M in m)T[M]=m[M];return T}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(m,T){let M,L;for(let Q=1;Q<arguments.length;Q++){L=arguments[Q];for(M in L)m[M]=L[M];for(let Z=0;Z<H.length;Z++)M=H[Z],Object.prototype.hasOwnProperty.call(L,M)&&(m[M]=L[M])}}function he(m){this.src=m,this.g={},this.h=0}he.prototype.add=function(m,T,M,L,Q){const Z=m.toString();m=this.g[Z],m||(m=this.g[Z]=[],this.h++);const Ce=ee(m,T,L,Q);return Ce>-1?(T=m[Ce],M||(T.fa=!1)):(T=new U(T,this.src,Z,!!L,Q),T.fa=M,m.push(T)),T};function me(m,T){const M=T.type;if(M in m.g){var L=m.g[M],Q=Array.prototype.indexOf.call(L,T,void 0),Z;(Z=Q>=0)&&Array.prototype.splice.call(L,Q,1),Z&&(V(T),m.g[M].length==0&&(delete m.g[M],m.h--))}}function ee(m,T,M,L){for(let Q=0;Q<m.length;++Q){const Z=m[Q];if(!Z.da&&Z.listener==T&&Z.capture==!!M&&Z.ha==L)return Q}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),_e={};function J(m,T,M,L,Q){if(Array.isArray(T)){for(let Z=0;Z<T.length;Z++)J(m,T[Z],M,L,Q);return null}return M=Se(M),m&&m[D]?m.J(T,M,o(L)?!!L.capture:!1,Q):Ne(m,T,M,!1,L,Q)}function Ne(m,T,M,L,Q,Z){if(!T)throw Error("Invalid event type");const Ce=o(Q)?!!Q.capture:!!Q;let ct=ve(m);if(ct||(m[xe]=ct=new he(m)),M=ct.add(T,M,L,Ce,Z),M.proxy)return M;if(L=Me(),M.proxy=L,L.src=m,L.listener=M,m.addEventListener)O||(Q=Ce),Q===void 0&&(Q=!1),m.addEventListener(T.toString(),L,Q);else if(m.attachEvent)m.attachEvent(re(T.toString()),L);else if(m.addListener&&m.removeListener)m.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return M}function Me(){function m(M){return T.call(m.src,m.listener,M)}const T=te;return m}function ie(m,T,M,L,Q){if(Array.isArray(T))for(var Z=0;Z<T.length;Z++)ie(m,T[Z],M,L,Q);else L=o(L)?!!L.capture:!!L,M=Se(M),m&&m[D]?(m=m.i,Z=String(T).toString(),Z in m.g&&(T=m.g[Z],M=ee(T,M,L,Q),M>-1&&(V(T[M]),Array.prototype.splice.call(T,M,1),T.length==0&&(delete m.g[Z],m.h--)))):m&&(m=ve(m))&&(T=m.g[T.toString()],m=-1,T&&(m=ee(T,M,L,Q)),(M=m>-1?T[m]:null)&&Ue(M))}function Ue(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[D])me(T.i,m);else{var M=m.type,L=m.proxy;T.removeEventListener?T.removeEventListener(M,L,m.capture):T.detachEvent?T.detachEvent(re(M),L):T.addListener&&T.removeListener&&T.removeListener(L),(M=ve(T))?(me(M,m),M.h==0&&(M.src=null,T[xe]=null)):V(m)}}}function re(m){return m in _e?_e[m]:_e[m]="on"+m}function te(m,T){if(m.da)m=!0;else{T=new R(T,this);const M=m.listener,L=m.ha||m.src;m.fa&&Ue(m),m=M.call(L,T)}return m}function ve(m){return m=m[xe],m instanceof he?m:null}var We="__closure_events_fn_"+(Math.random()*1e9>>>0);function Se(m){return typeof m=="function"?m:(m[We]||(m[We]=function(T){return m.handleEvent(T)}),m[We])}function Ie(){A.call(this),this.i=new he(this),this.M=this,this.G=null}d(Ie,A),Ie.prototype[D]=!0,Ie.prototype.removeEventListener=function(m,T,M,L){ie(this,m,T,M,L)};function Fe(m,T){var M,L=m.G;if(L)for(M=[];L;L=L.G)M.push(L);if(m=m.M,L=T.type||T,typeof T=="string")T=new I(T,m);else if(T instanceof I)T.target=T.target||m;else{var Q=T;T=new I(L,m),ne(T,Q)}Q=!0;let Z,Ce;if(M)for(Ce=M.length-1;Ce>=0;Ce--)Z=T.g=M[Ce],Q=mt(Z,L,!0,T)&&Q;if(Z=T.g=m,Q=mt(Z,L,!0,T)&&Q,Q=mt(Z,L,!1,T)&&Q,M)for(Ce=0;Ce<M.length;Ce++)Z=T.g=M[Ce],Q=mt(Z,L,!1,T)&&Q}Ie.prototype.N=function(){if(Ie.Z.N.call(this),this.i){var m=this.i;for(const T in m.g){const M=m.g[T];for(let L=0;L<M.length;L++)V(M[L]);delete m.g[T],m.h--}}this.G=null},Ie.prototype.J=function(m,T,M,L){return this.i.add(String(m),T,!1,M,L)},Ie.prototype.K=function(m,T,M,L){return this.i.add(String(m),T,!0,M,L)};function mt(m,T,M,L){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();let Q=!0;for(let Z=0;Z<T.length;++Z){const Ce=T[Z];if(Ce&&!Ce.da&&Ce.capture==M){const ct=Ce.listener,Rn=Ce.ha||Ce.src;Ce.fa&&me(m.i,Ce),Q=ct.call(Rn,L)!==!1&&Q}}return Q&&!L.defaultPrevented}function Y(m,T){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=c(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:s.setTimeout(m,T||0)}function ke(m){m.g=Y(()=>{m.g=null,m.i&&(m.i=!1,ke(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class Oe extends A{constructor(T,M){super(),this.m=T,this.l=M,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:ke(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function at(m){A.call(this),this.h=m,this.g={}}d(at,A);var lt=[];function st(m){B(m.g,function(T,M){this.g.hasOwnProperty(M)&&Ue(T)},m),m.g={}}at.prototype.N=function(){at.Z.N.call(this),st(this)},at.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ae=s.JSON.stringify,G=s.JSON.parse,ce=class{stringify(m){return s.JSON.stringify(m,void 0)}parse(m){return s.JSON.parse(m,void 0)}};function Pe(){}function He(){}var tn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function An(){I.call(this,"d")}d(An,I);function qn(){I.call(this,"c")}d(qn,I);var nn={},Er=null;function hn(){return Er=Er||new Ie}nn.Ia="serverreachability";function le(m){I.call(this,nn.Ia,m)}d(le,I);function be(m){const T=hn();Fe(T,new le(T))}nn.STAT_EVENT="statevent";function ye(m,T){I.call(this,nn.STAT_EVENT,m),this.stat=T}d(ye,I);function z(m){const T=hn();Fe(T,new ye(T,m))}nn.Ja="timingevent";function X(m,T){I.call(this,nn.Ja,m),this.size=T}d(X,I);function ue(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){m()},T)}function ge(){this.g=!0}ge.prototype.ua=function(){this.g=!1};function et(m,T,M,L,Q,Z){m.info(function(){if(m.g)if(Z){var Ce="",ct=Z.split("&");for(let $t=0;$t<ct.length;$t++){var Rn=ct[$t].split("=");if(Rn.length>1){const Hn=Rn[0];Rn=Rn[1];const Da=Hn.split("_");Ce=Da.length>=2&&Da[1]=="type"?Ce+(Hn+"="+Rn+"&"):Ce+(Hn+"=redacted&")}}}else Ce=null;else Ce=Z;return"XMLHTTP REQ ("+L+") [attempt "+Q+"]: "+T+`
`+M+`
`+Ce})}function ft(m,T,M,L,Q,Z,Ce){m.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+Q+"]: "+T+`
`+M+`
`+Z+" "+Ce})}function Tt(m,T,M,L){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+W(m,M)+(L?" "+L:"")})}function li(m,T){m.info(function(){return"TIMEOUT: "+T})}ge.prototype.info=function(){};function W(m,T){if(!m.g)return T;if(!T)return null;try{const Z=JSON.parse(T);if(Z){for(m=0;m<Z.length;m++)if(Array.isArray(Z[m])){var M=Z[m];if(!(M.length<2)){var L=M[1];if(Array.isArray(L)&&!(L.length<1)){var Q=L[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let Ce=1;Ce<L.length;Ce++)L[Ce]=""}}}}return ae(Z)}catch{return T}}var oe={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ee={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ae;function ut(){}d(ut,Pe),ut.prototype.g=function(){return new XMLHttpRequest},Ae=new ut;function Xe(m){return encodeURIComponent(String(m))}function pn(m){var T=1;m=m.split(":");const M=[];for(;T>0&&m.length;)M.push(m.shift()),T--;return m.length&&M.push(m.join(":")),M}function kn(m,T,M,L){this.j=m,this.i=T,this.l=M,this.S=L||1,this.V=new at(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xt}function Xt(){this.i=null,this.g="",this.h=!1}var oa={},xs={};function fc(m,T,M){m.M=1,m.A=P4(Ma(T)),m.u=M,m.R=!0,Ad(m,null)}function Ad(m,T){m.F=Date.now(),bs(m),m.B=Ma(m.A);var M=m.B,L=m.S;Array.isArray(L)||(L=[String(L)]),yS(M.i,"t",L),m.C=0,M=m.j.L,m.h=new Xt,m.g=DS(m.j,M?T:null,!m.u),m.P>0&&(m.O=new Oe(c(m.Y,m,m.g),m.P)),T=m.V,M=m.g,L=m.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(lt[0]=Q.toString()),Q=lt);for(let Z=0;Z<Q.length;Z++){const Ce=J(M,Q[Z],L||T.handleEvent,!1,T.h||T);if(!Ce)break;T.g[Ce.key]=Ce}T=m.J?K(m.J):{},m.u?(m.v||(m.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,T)):(m.v="GET",m.g.ea(m.B,m.v,null,T)),be(),et(m.i,m.v,m.B,m.l,m.S,m.u)}kn.prototype.ba=function(m){m=m.target;const T=this.O;T&&yo(m)==3?T.j():this.Y(m)},kn.prototype.Y=function(m){try{if(m==this.g)e:{const ct=yo(this.g),Rn=this.g.ya(),$t=this.g.ca();if(!(ct<3)&&(ct!=3||this.g&&(this.h.h||this.g.la()||kS(this.g)))){this.K||ct!=4||Rn==7||(Rn==8||$t<=0?be(3):be(2)),Id(this);var T=this.g.ca();this.X=T;var M=N4(this);if(this.o=T==200,ft(this.i,this.v,this.B,this.l,this.S,ct,T),this.o){if(this.U&&!this.L){t:{if(this.g){var L,Q=this.g;if((L=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(L)){var Z=L;break t}}Z=null}if(m=Z)Tt(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,e6(this,m);else{this.o=!1,this.m=3,z(12),$0(this),Cd(this);break e}}if(this.R){m=!0;let Hn;for(;!this.K&&this.C<M.length;)if(Hn=la(this,M),Hn==xs){ct==4&&(this.m=4,z(14),m=!1),Tt(this.i,this.l,null,"[Incomplete Response]");break}else if(Hn==oa){this.m=4,z(15),Tt(this.i,this.l,M,"[Invalid Chunk]"),m=!1;break}else Tt(this.i,this.l,Hn,null),e6(this,Hn);if(Nr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||M.length!=0||this.h.h||(this.m=1,z(16),m=!1),this.o=this.o&&m,!m)Tt(this.i,this.l,M,"[Invalid Chunked Response]"),$0(this),Cd(this);else if(M.length>0&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.aa&&!Ce.P&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+M.length),l6(Ce),Ce.P=!0,z(11))}}else Tt(this.i,this.l,M,null),e6(this,M);ct==4&&$0(this),this.o&&!this.K&&(ct==4?CS(this.j,this):(this.o=!1,bs(this)))}else vq(this.g),T==400&&M.indexOf("Unknown SID")>0?(this.m=3,z(12)):(this.m=0,z(13)),$0(this),Cd(this)}}}catch{}finally{}};function N4(m){if(!Nr(m))return m.g.la();const T=kS(m.g);if(T==="")return"";let M="";const L=T.length,Q=yo(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return $0(m),Cd(m),"";m.h.i=new s.TextDecoder}for(let Z=0;Z<L;Z++)m.h.h=!0,M+=m.h.i.decode(T[Z],{stream:!(Q&&Z==L-1)});return T.length=0,m.h.g+=M,m.C=0,m.h.g}function Nr(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function la(m,T){var M=m.C,L=T.indexOf(`
`,M);return L==-1?xs:(M=Number(T.substring(M,L)),isNaN(M)?oa:(L+=1,L+M>T.length?xs:(T=T.slice(L,L+M),m.C=L+M,T)))}kn.prototype.cancel=function(){this.K=!0,$0(this)};function bs(m){m.T=Date.now()+m.H,T4(m,m.H)}function T4(m,T){if(m.D!=null)throw Error("WatchDog timer not null");m.D=ue(c(m.aa,m),T)}function Id(m){m.D&&(s.clearTimeout(m.D),m.D=null)}kn.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(li(this.i,this.B),this.M!=2&&(be(),z(17)),$0(this),this.m=2,Cd(this)):T4(this,this.T-m)};function Cd(m){m.j.I==0||m.K||CS(m.j,m)}function $0(m){Id(m);var T=m.O;T&&typeof T.dispose=="function"&&T.dispose(),m.O=null,st(m.V),m.g&&(T=m.g,m.g=null,T.abort(),T.dispose())}function e6(m,T){try{var M=m.j;if(M.I!=0&&(M.g==m||t6(M.h,m))){if(!m.L&&t6(M.h,m)&&M.I==3){try{var L=M.Ba.g.parse(T)}catch{L=null}if(Array.isArray(L)&&L.length==3){var Q=L;if(Q[0]==0){e:if(!M.v){if(M.g)if(M.g.F+3e3<m.F)j4(M),C4(M);else break e;o6(M),z(18)}}else M.xa=Q[1],0<M.xa-M.K&&Q[2]<37500&&M.F&&M.A==0&&!M.C&&(M.C=ue(c(M.Va,M),6e3));cS(M.h)<=1&&M.ta&&(M.ta=void 0)}else F0(M,11)}else if((m.L||M.g==m)&&j4(M),!j(T))for(Q=M.Ba.g.parse(T),T=0;T<Q.length;T++){let $t=Q[T];const Hn=$t[0];if(!(Hn<=M.K))if(M.K=Hn,$t=$t[1],M.I==2)if($t[0]=="c"){M.M=$t[1],M.ba=$t[2];const Da=$t[3];Da!=null&&(M.ka=Da,M.j.info("VER="+M.ka));const V0=$t[4];V0!=null&&(M.za=V0,M.j.info("SVER="+M.za));const vo=$t[5];vo!=null&&typeof vo=="number"&&vo>0&&(L=1.5*vo,M.O=L,M.j.info("backChannelRequestTimeoutMs_="+L)),L=M;const xo=m.g;if(xo){const D4=xo.g?xo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(D4){var Z=L.h;Z.g||D4.indexOf("spdy")==-1&&D4.indexOf("quic")==-1&&D4.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(n6(Z,Z.h),Z.h=null))}if(L.G){const c6=xo.g?xo.g.getResponseHeader("X-HTTP-Session-Id"):null;c6&&(L.wa=c6,qt(L.J,L.G,c6))}}M.I=3,M.l&&M.l.ra(),M.aa&&(M.T=Date.now()-m.F,M.j.info("Handshake RTT: "+M.T+"ms")),L=M;var Ce=m;if(L.na=MS(L,L.L?L.ba:null,L.W),Ce.L){uS(L.h,Ce);var ct=Ce,Rn=L.O;Rn&&(ct.H=Rn),ct.D&&(Id(ct),bs(ct)),L.g=Ce}else AS(L);M.i.length>0&&O4(M)}else $t[0]!="stop"&&$t[0]!="close"||F0(M,7);else M.I==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?F0(M,7):s6(M):$t[0]!="noop"&&M.l&&M.l.qa($t),M.A=0)}}be(4)}catch{}}var aq=class{constructor(m,T){this.g=m,this.map=T}};function oS(m){this.l=m||10,s.PerformanceNavigationTiming?(m=s.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function lS(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function cS(m){return m.h?1:m.g?m.g.size:0}function t6(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function n6(m,T){m.g?m.g.add(T):m.h=T}function uS(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}oS.prototype.cancel=function(){if(this.i=dS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function dS(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const M of m.g.values())T=T.concat(M.G);return T}return p(m.i)}var fS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sq(m,T){if(m){m=m.split("&");for(let M=0;M<m.length;M++){const L=m[M].indexOf("=");let Q,Z=null;L>=0?(Q=m[M].substring(0,L),Z=m[M].substring(L+1)):Q=m[M],T(Q,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function mo(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;m instanceof mo?(this.l=m.l,Od(this,m.j),this.o=m.o,this.g=m.g,jd(this,m.u),this.h=m.h,r6(this,vS(m.i)),this.m=m.m):m&&(T=String(m).match(fS))?(this.l=!1,Od(this,T[1]||"",!0),this.o=Md(T[2]||""),this.g=Md(T[3]||"",!0),jd(this,T[4]),this.h=Md(T[5]||"",!0),r6(this,T[6]||"",!0),this.m=Md(T[7]||"")):(this.l=!1,this.i=new Rd(null,this.l))}mo.prototype.toString=function(){const m=[];var T=this.j;T&&m.push(Dd(T,hS,!0),":");var M=this.g;return(M||T=="file")&&(m.push("//"),(T=this.o)&&m.push(Dd(T,hS,!0),"@"),m.push(Xe(M).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.u,M!=null&&m.push(":",String(M))),(M=this.h)&&(this.g&&M.charAt(0)!="/"&&m.push("/"),m.push(Dd(M,M.charAt(0)=="/"?cq:lq,!0))),(M=this.i.toString())&&m.push("?",M),(M=this.m)&&m.push("#",Dd(M,dq)),m.join("")},mo.prototype.resolve=function(m){const T=Ma(this);let M=!!m.j;M?Od(T,m.j):M=!!m.o,M?T.o=m.o:M=!!m.g,M?T.g=m.g:M=m.u!=null;var L=m.h;if(M)jd(T,m.u);else if(M=!!m.h){if(L.charAt(0)!="/")if(this.g&&!this.h)L="/"+L;else{var Q=T.h.lastIndexOf("/");Q!=-1&&(L=T.h.slice(0,Q+1)+L)}if(Q=L,Q==".."||Q==".")L="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){L=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const Z=[];for(let Ce=0;Ce<Q.length;){const ct=Q[Ce++];ct=="."?L&&Ce==Q.length&&Z.push(""):ct==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),L&&Ce==Q.length&&Z.push("")):(Z.push(ct),L=!0)}L=Z.join("/")}else L=Q}return M?T.h=L:M=m.i.toString()!=="",M?r6(T,vS(m.i)):M=!!m.m,M&&(T.m=m.m),T};function Ma(m){return new mo(m)}function Od(m,T,M){m.j=M?Md(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function jd(m,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);m.u=T}else m.u=null}function r6(m,T,M){T instanceof Rd?(m.i=T,fq(m.i,m.l)):(M||(T=Dd(T,uq)),m.i=new Rd(T,m.l))}function qt(m,T,M){m.i.set(T,M)}function P4(m){return qt(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Md(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Dd(m,T,M){return typeof m=="string"?(m=encodeURI(m).replace(T,oq),M&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function oq(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var hS=/[#\/\?@]/g,lq=/[#\?:]/g,cq=/[#\?]/g,uq=/[#\?@]/g,dq=/#/g;function Rd(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function L0(m){m.g||(m.g=new Map,m.h=0,m.i&&sq(m.i,function(T,M){m.add(decodeURIComponent(T.replace(/\+/g," ")),M)}))}t=Rd.prototype,t.add=function(m,T){L0(this),this.i=null,m=hc(this,m);let M=this.g.get(m);return M||this.g.set(m,M=[]),M.push(T),this.h+=1,this};function pS(m,T){L0(m),T=hc(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function mS(m,T){return L0(m),T=hc(m,T),m.g.has(T)}t.forEach=function(m,T){L0(this),this.g.forEach(function(M,L){M.forEach(function(Q){m.call(T,Q,L,this)},this)},this)};function gS(m,T){L0(m);let M=[];if(typeof T=="string")mS(m,T)&&(M=M.concat(m.g.get(hc(m,T))));else for(m=Array.from(m.g.values()),T=0;T<m.length;T++)M=M.concat(m[T]);return M}t.set=function(m,T){return L0(this),this.i=null,m=hc(this,m),mS(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},t.get=function(m,T){return m?(m=gS(this,m),m.length>0?String(m[0]):T):T};function yS(m,T,M){pS(m,T),M.length>0&&(m.i=null,m.g.set(hc(m,T),p(M)),m.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(let L=0;L<T.length;L++){var M=T[L];const Q=Xe(M);M=gS(this,M);for(let Z=0;Z<M.length;Z++){let Ce=Q;M[Z]!==""&&(Ce+="="+Xe(M[Z])),m.push(Ce)}}return this.i=m.join("&")};function vS(m){const T=new Rd;return T.i=m.i,m.g&&(T.g=new Map(m.g),T.h=m.h),T}function hc(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function fq(m,T){T&&!m.j&&(L0(m),m.i=null,m.g.forEach(function(M,L){const Q=L.toLowerCase();L!=Q&&(pS(this,L),yS(this,Q,M))},m)),m.j=T}function hq(m,T){const M=new ge;if(s.Image){const L=new Image;L.onload=u(go,M,"TestLoadImage: loaded",!0,T,L),L.onerror=u(go,M,"TestLoadImage: error",!1,T,L),L.onabort=u(go,M,"TestLoadImage: abort",!1,T,L),L.ontimeout=u(go,M,"TestLoadImage: timeout",!1,T,L),s.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=m}else T(!1)}function pq(m,T){const M=new ge,L=new AbortController,Q=setTimeout(()=>{L.abort(),go(M,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:L.signal}).then(Z=>{clearTimeout(Q),Z.ok?go(M,"TestPingServer: ok",!0,T):go(M,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(Q),go(M,"TestPingServer: error",!1,T)})}function go(m,T,M,L,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),L(M)}catch{}}function mq(){this.g=new ce}function i6(m){this.i=m.Sb||null,this.h=m.ab||!1}d(i6,Pe),i6.prototype.g=function(){return new A4(this.i,this.h)};function A4(m,T){Ie.call(this),this.H=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(A4,Ie),t=A4.prototype,t.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=T,this.readyState=1,Ld(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(T.body=m),(this.H||s).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$d(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ld(this)),this.g&&(this.readyState=3,Ld(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xS(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function xS(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?$d(this):Ld(this),this.readyState==3&&xS(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,$d(this))},t.Na=function(m){this.g&&(this.response=m,$d(this))},t.ga=function(){this.g&&$d(this)};function $d(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Ld(m)}t.setRequestHeader=function(m,T){this.A.append(m,T)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var M=T.next();!M.done;)M=M.value,m.push(M[0]+": "+M[1]),M=T.next();return m.join(`\r
`)};function Ld(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(A4.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function bS(m){let T="";return B(m,function(M,L){T+=L,T+=":",T+=M,T+=`\r
`}),T}function a6(m,T,M){e:{for(L in M){var L=!1;break e}L=!0}L||(M=bS(M),typeof m=="string"?M!=null&&Xe(M):qt(m,T,M))}function mn(m){Ie.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(mn,Ie);var gq=/^https?$/i,yq=["POST","PUT"];t=mn.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,T,M,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ae.g(),this.g.onreadystatechange=h(c(this.Ca,this));try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(Z){wS(this,Z);return}if(m=M||"",M=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var Q in L)M.set(Q,L[Q]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const Z of L.keys())M.set(Z,L.get(Z));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(M.keys()).find(Z=>Z.toLowerCase()=="content-type"),Q=s.FormData&&m instanceof s.FormData,!(Array.prototype.indexOf.call(yq,T,void 0)>=0)||L||Q||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,Ce]of M)this.g.setRequestHeader(Z,Ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(Z){wS(this,Z)}};function wS(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.o=5,_S(m),I4(m)}function _S(m){m.A||(m.A=!0,Fe(m,"complete"),Fe(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Fe(this,"complete"),Fe(this,"abort"),I4(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),I4(this,!0)),mn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?SS(this):this.Xa())},t.Xa=function(){SS(this)};function SS(m){if(m.h&&typeof a<"u"){if(m.v&&yo(m)==4)setTimeout(m.Ca.bind(m),0);else if(Fe(m,"readystatechange"),yo(m)==4){m.h=!1;try{const Z=m.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var M;if(!(M=T)){var L;if(L=Z===0){let Ce=String(m.D).match(fS)[1]||null;!Ce&&s.self&&s.self.location&&(Ce=s.self.location.protocol.slice(0,-1)),L=!gq.test(Ce?Ce.toLowerCase():"")}M=L}if(M)Fe(m,"complete"),Fe(m,"success");else{m.o=6;try{var Q=yo(m)>2?m.g.statusText:""}catch{Q=""}m.l=Q+" ["+m.ca()+"]",_S(m)}}finally{I4(m)}}}}function I4(m,T){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const M=m.g;m.g=null,T||Fe(m,"ready");try{M.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function yo(m){return m.g?m.g.readyState:0}t.ca=function(){try{return yo(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),G(T)}};function kS(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function vq(m){const T={};m=(m.g&&yo(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<m.length;L++){if(j(m[L]))continue;var M=pn(m[L]);const Q=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const Z=T[Q]||[];T[Q]=Z,Z.push(M)}q(T,function(L){return L.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fd(m,T,M){return M&&M.internalChannelParams&&M.internalChannelParams[m]||T}function ES(m){this.za=0,this.i=[],this.j=new ge,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fd("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fd("baseRetryDelayMs",5e3,m),this.Za=Fd("retryDelaySeedMs",1e4,m),this.Ta=Fd("forwardChannelMaxRetries",2,m),this.va=Fd("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new oS(m&&m.concurrentRequestLimit),this.Ba=new mq,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ES.prototype,t.ka=8,t.I=1,t.connect=function(m,T,M,L){z(0),this.W=m,this.H=T||{},M&&L!==void 0&&(this.H.OSID=M,this.H.OAID=L),this.F=this.X,this.J=MS(this,null,this.W),O4(this)};function s6(m){if(NS(m),m.I==3){var T=m.V++,M=Ma(m.J);if(qt(M,"SID",m.M),qt(M,"RID",T),qt(M,"TYPE","terminate"),Vd(m,M),T=new kn(m,m.j,T),T.M=2,T.A=P4(Ma(M)),M=!1,s.navigator&&s.navigator.sendBeacon)try{M=s.navigator.sendBeacon(T.A.toString(),"")}catch{}!M&&s.Image&&(new Image().src=T.A,M=!0),M||(T.g=DS(T.j,null),T.g.ea(T.A)),T.F=Date.now(),bs(T)}jS(m)}function C4(m){m.g&&(l6(m),m.g.cancel(),m.g=null)}function NS(m){C4(m),m.v&&(s.clearTimeout(m.v),m.v=null),j4(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&s.clearTimeout(m.m),m.m=null)}function O4(m){if(!lS(m.h)&&!m.m){m.m=!0;var T=m.Ea;S||N(),k||(S(),k=!0),_.add(T,m),m.D=0}}function xq(m,T){return cS(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=T.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=ue(c(m.Ea,m,T),OS(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const Q=new kn(this,this.j,m);let Z=this.o;if(this.U&&(Z?(Z=K(Z),ne(Z,this.U)):Z=this.U),this.u!==null||this.R||(Q.J=Z,Z=null),this.S)e:{for(var T=0,M=0;M<this.i.length;M++){t:{var L=this.i[M];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(T+=L,T>4096){T=M;break e}if(T===4096||M===this.i.length-1){T=M+1;break e}}T=1e3}else T=1e3;T=PS(this,Q,T),M=Ma(this.J),qt(M,"RID",m),qt(M,"CVER",22),this.G&&qt(M,"X-HTTP-Session-Id",this.G),Vd(this,M),Z&&(this.R?T="headers="+Xe(bS(Z))+"&"+T:this.u&&a6(M,this.u,Z)),n6(this.h,Q),this.Ra&&qt(M,"TYPE","init"),this.S?(qt(M,"$req",T),qt(M,"SID","null"),Q.U=!0,fc(Q,M,null)):fc(Q,M,T),this.I=2}}else this.I==3&&(m?TS(this,m):this.i.length==0||lS(this.h)||TS(this))};function TS(m,T){var M;T?M=T.l:M=m.V++;const L=Ma(m.J);qt(L,"SID",m.M),qt(L,"RID",M),qt(L,"AID",m.K),Vd(m,L),m.u&&m.o&&a6(L,m.u,m.o),M=new kn(m,m.j,M,m.D+1),m.u===null&&(M.J=m.o),T&&(m.i=T.G.concat(m.i)),T=PS(m,M,1e3),M.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),n6(m.h,M),fc(M,L,T)}function Vd(m,T){m.H&&B(m.H,function(M,L){qt(T,L,M)}),m.l&&B({},function(M,L){qt(T,L,M)})}function PS(m,T,M){M=Math.min(m.i.length,M);const L=m.l?c(m.l.Ka,m.l,m):null;e:{var Q=m.i;let ct=-1;for(;;){const Rn=["count="+M];ct==-1?M>0?(ct=Q[0].g,Rn.push("ofs="+ct)):ct=0:Rn.push("ofs="+ct);let $t=!0;for(let Hn=0;Hn<M;Hn++){var Z=Q[Hn].g;const Da=Q[Hn].map;if(Z-=ct,Z<0)ct=Math.max(0,Q[Hn].g-100),$t=!1;else try{Z="req"+Z+"_"||"";try{var Ce=Da instanceof Map?Da:Object.entries(Da);for(const[V0,vo]of Ce){let xo=vo;o(vo)&&(xo=ae(vo)),Rn.push(Z+V0+"="+encodeURIComponent(xo))}}catch(V0){throw Rn.push(Z+"type="+encodeURIComponent("_badmap")),V0}}catch{L&&L(Da)}}if($t){Ce=Rn.join("&");break e}}Ce=void 0}return m=m.i.splice(0,M),T.G=m,Ce}function AS(m){if(!m.g&&!m.v){m.Y=1;var T=m.Da;S||N(),k||(S(),k=!0),_.add(T,m),m.A=0}}function o6(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=ue(c(m.Da,m),OS(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,IS(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=ue(c(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,z(10),C4(this),IS(this))};function l6(m){m.B!=null&&(s.clearTimeout(m.B),m.B=null)}function IS(m){m.g=new kn(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var T=Ma(m.na);qt(T,"RID","rpc"),qt(T,"SID",m.M),qt(T,"AID",m.K),qt(T,"CI",m.F?"0":"1"),!m.F&&m.ia&&qt(T,"TO",m.ia),qt(T,"TYPE","xmlhttp"),Vd(m,T),m.u&&m.o&&a6(T,m.u,m.o),m.O&&(m.g.H=m.O);var M=m.g;m=m.ba,M.M=1,M.A=P4(Ma(T)),M.u=null,M.R=!0,Ad(M,m)}t.Va=function(){this.C!=null&&(this.C=null,C4(this),o6(this),z(19))};function j4(m){m.C!=null&&(s.clearTimeout(m.C),m.C=null)}function CS(m,T){var M=null;if(m.g==T){j4(m),l6(m),m.g=null;var L=2}else if(t6(m.h,T))M=T.G,uS(m.h,T),L=1;else return;if(m.I!=0){if(T.o)if(L==1){M=T.u?T.u.length:0,T=Date.now()-T.F;var Q=m.D;L=hn(),Fe(L,new X(L,M)),O4(m)}else AS(m);else if(Q=T.m,Q==3||Q==0&&T.X>0||!(L==1&&xq(m,T)||L==2&&o6(m)))switch(M&&M.length>0&&(T=m.h,T.i=T.i.concat(M)),Q){case 1:F0(m,5);break;case 4:F0(m,10);break;case 3:F0(m,6);break;default:F0(m,2)}}}function OS(m,T){let M=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(M*=2),M*T}function F0(m,T){if(m.j.info("Error code "+T),T==2){var M=c(m.bb,m),L=m.Ua;const Q=!L;L=new mo(L||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Od(L,"https"),P4(L),Q?hq(L.toString(),M):pq(L.toString(),M)}else z(2);m.I=0,m.l&&m.l.pa(T),jS(m),NS(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),z(2)):(this.j.info("Failed to ping google.com"),z(1))};function jS(m){if(m.I=0,m.ja=[],m.l){const T=dS(m.h);(T.length!=0||m.i.length!=0)&&(g(m.ja,T),g(m.ja,m.i),m.h.i.length=0,p(m.i),m.i.length=0),m.l.oa()}}function MS(m,T,M){var L=M instanceof mo?Ma(M):new mo(M);if(L.g!="")T&&(L.g=T+"."+L.g),jd(L,L.u);else{var Q=s.location;L=Q.protocol,T=T?T+"."+Q.hostname:Q.hostname,Q=+Q.port;const Z=new mo(null);L&&Od(Z,L),T&&(Z.g=T),Q&&jd(Z,Q),M&&(Z.h=M),L=Z}return M=m.G,T=m.wa,M&&T&&qt(L,M,T),qt(L,"VER",m.ka),Vd(m,L),L}function DS(m,T,M){if(T&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Aa&&!m.ma?new mn(new i6({ab:M})):new mn(m.ma),T.Fa(m.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function RS(){}t=RS.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function M4(){}M4.prototype.g=function(m,T){return new ci(m,T)};function ci(m,T){Ie.call(this),this.g=new ES(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(m?m["X-WebChannel-Client-Profile"]=T.sa:m={"X-WebChannel-Client-Profile":T.sa}),this.g.U=m,(m=T&&T.Qb)&&!j(m)&&(this.g.u=m),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!j(T)&&(this.g.G=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new pc(this)}d(ci,Ie),ci.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ci.prototype.close=function(){s6(this.g)},ci.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var M={};M.__data__=m,m=M}else this.v&&(M={},M.__data__=ae(m),m=M);T.i.push(new aq(T.Ya++,m)),T.I==3&&O4(T)},ci.prototype.N=function(){this.g.l=null,delete this.j,s6(this.g),delete this.g,ci.Z.N.call(this)};function $S(m){An.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){e:{for(const M in T){m=M;break e}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}d($S,An);function LS(){qn.call(this),this.status=1}d(LS,qn);function pc(m){this.g=m}d(pc,RS),pc.prototype.ra=function(){Fe(this.g,"a")},pc.prototype.qa=function(m){Fe(this.g,new $S(m))},pc.prototype.pa=function(m){Fe(this.g,new LS)},pc.prototype.oa=function(){Fe(this.g,"b")},M4.prototype.createWebChannel=M4.prototype.g,ci.prototype.send=ci.prototype.o,ci.prototype.open=ci.prototype.m,ci.prototype.close=ci.prototype.close,eR=function(){return new M4},ZD=function(){return hn()},JD=nn,n7={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},oe.NO_ERROR=0,oe.TIMEOUT=8,oe.HTTP_ERROR=6,e3=oe,Ee.COMPLETE="complete",XD=Ee,He.EventType=tn,tn.OPEN="a",tn.CLOSE="b",tn.ERROR="c",tn.MESSAGE="d",Ie.prototype.listen=Ie.prototype.J,wf=He,mn.prototype.listenOnce=mn.prototype.K,mn.prototype.getLastError=mn.prototype.Ha,mn.prototype.getLastErrorCode=mn.prototype.ya,mn.prototype.getStatus=mn.prototype.ca,mn.prototype.getResponseJson=mn.prototype.La,mn.prototype.getResponseText=mn.prototype.la,mn.prototype.send=mn.prototype.ea,mn.prototype.setWithCredentials=mn.prototype.Fa,QD=mn}).apply(typeof em<"u"?em:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gr.UNAUTHENTICATED=new gr(null),gr.GOOGLE_CREDENTIALS=new gr("google-credentials-uid"),gr.FIRST_PARTY=new gr("first-party-uid"),gr.MOCK_USER=new gr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld="12.9.0";function lX(t){ld=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=new T2("@firebase/firestore");function Tc(){return Nl.logLevel}function De(t,...e){if(Nl.logLevel<=gt.DEBUG){const n=e.map(ab);Nl.debug(`Firestore (${ld}): ${t}`,...n)}}function Js(t,...e){if(Nl.logLevel<=gt.ERROR){const n=e.map(ab);Nl.error(`Firestore (${ld}): ${t}`,...n)}}function Tl(t,...e){if(Nl.logLevel<=gt.WARN){const n=e.map(ab);Nl.warn(`Firestore (${ld}): ${t}`,...n)}}function ab(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,tR(t,r,n)}function tR(t,e,n){let r=`FIRESTORE (${ld}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Js(r),new Error(r)}function Ct(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||tR(e,i,r)}function it(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends ra{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gr.UNAUTHENTICATED))}shutdown(){}}class uX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dX{constructor(e){this.t=e,this.currentUser=gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ct(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new a0;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new a0,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new a0)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct(typeof r.accessToken=="string",31837,{l:r}),new nR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ct(e===null||typeof e=="string",2055,{h:e}),new gr(e)}}class fX{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=gr.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class hX{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new fX(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(gr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pX{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ct(this.o===void 0,3512);const r=a=>{a.error!=null&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,De("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new kE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new kE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mX(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=mX(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function yt(t,e){return t<e?-1:t>e?1:0}function r7(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return B6(i)===B6(a)?yt(i,a):B6(i)?1:-1}return yt(t.length,e.length)}const gX=55296,yX=57343;function B6(t){const e=t.charCodeAt(0);return e>=gX&&e<=yX}function Su(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="__name__";class Va{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ze(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ze(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Va.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Va?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Va.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return yt(e.length,n.length)}static compareSegments(e,n){const r=Va.isNumericId(e),i=Va.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Va.extractNumericId(e).compare(Va.extractNumericId(n)):r7(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return i0.fromString(e.substring(4,e.length-2))}}class zt extends Va{construct(e,n,r){return new zt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new je(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new zt(n)}static emptyPath(){return new zt([])}}const vX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sr extends Va{construct(e,n,r){return new sr(e,n,r)}static isValidIdentifier(e){return vX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===EE}static keyField(){return new sr([EE])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new je(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new je(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new je(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new je(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sr(n)}static emptyPath(){return new sr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.path=e}static fromPath(e){return new qe(zt.fromString(e))}static fromName(e){return new qe(zt.fromString(e).popFirst(5))}static empty(){return new qe(zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return zt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new zt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t,e,n){if(!n)throw new je(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function xX(t,e,n,r){if(e===!0&&r===!0)throw new je(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function NE(t){if(!qe.isDocumentKey(t))throw new je(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TE(t){if(qe.isDocumentKey(t))throw new je(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function A2(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ze(12329,{type:typeof t})}function Yi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new je(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=A2(t);throw new je(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Jp(t,e){if(!iR(t))throw new je(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new je(de.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=-62135596800,AE=1e6;class Yt{static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*AE);return new Yt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new je(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new je(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<PE)throw new je(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/AE}_compareTo(e){return this.seconds===e.seconds?yt(this.nanoseconds,e.nanoseconds):yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jp(e,Yt._jsonSchema))return new Yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-PE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Yt._jsonSchemaVersion="firestore/timestamp/1.0",Yt._jsonSchema={type:Mn("string",Yt._jsonSchemaVersion),seconds:Mn("number"),nanoseconds:Mn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{static fromTimestamp(e){return new rt(e)}static min(){return new rt(new Yt(0,0))}static max(){return new rt(new Yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=-1;function bX(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=rt.fromTimestamp(r===1e9?new Yt(n+1,0):new Yt(n,r));return new f0(i,qe.empty(),e)}function wX(t){return new f0(t.readTime,t.key,Lh)}class f0{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new f0(rt.min(),qe.empty(),Lh)}static max(){return new f0(rt.max(),qe.empty(),Lh)}}function _X(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=qe.comparator(t.documentKey,e.documentKey),n!==0?n:yt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SX="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kX{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cd(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==SX)throw t;De("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new pe((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof pe?n:pe.resolve(n)}catch(n){return pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):pe.reject(n)}static resolve(e){return new pe((n,r)=>{n(e)})}static reject(e){return new pe((n,r)=>{r(e)})}static waitFor(e){return new pe((n,r)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},l=>r(l))}),s=!0,a===i&&n()})}static or(e){let n=pe.resolve(!1);for(const r of e)n=n.next(i=>i?pe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new pe((r,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++o,o===a&&r(s)},u=>i(u))}})}static doWhile(e,n){return new pe((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function EX(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ud(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}I2.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=-1;function C2(t){return t==null}function Y3(t){return t===0&&1/t==-1/0}function NX(t){return typeof t=="number"&&Number.isInteger(t)&&!Y3(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="";function TX(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=IE(e)),e=PX(t.get(n),e);return IE(e)}function PX(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case aR:n+="";break;default:n+=a}}return n}function IE(t){return t+aR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function E0(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n){this.comparator=e,this.root=n||rr.EMPTY}insert(e,n){return new fn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rr.BLACK,null,null))}remove(e){return new fn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tm(this.root,e,this.comparator,!1)}getReverseIterator(){return new tm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tm(this.root,e,this.comparator,!0)}}class tm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rr{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??rr.RED,this.left=i??rr.EMPTY,this.right=a??rr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new rr(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return rr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ze(27949);return e+(this.isRed()?0:1)}}rr.EMPTY=null,rr.RED=!0,rr.BLACK=!1;rr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ze(57766)}get value(){throw Ze(16141)}get color(){throw Ze(16727)}get left(){throw Ze(29726)}get right(){throw Ze(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new rr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.comparator=e,this.data=new fn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new OE(this.data.getIterator())}getIteratorFrom(e){return new OE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof zn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new zn(this.comparator);return n.data=e,n}}class OE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this.fields=e,e.sort(sr.comparator)}static empty(){return new xi([])}unionWith(e){let n=new zn(sr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Su(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new oR("Invalid base64 string: "+a):a}}(e);return new ur(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new ur(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ur.EMPTY_BYTE_STRING=new ur("");const AX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function h0(t){if(Ct(!!t,39018),typeof t=="string"){let e=0;const n=AX.exec(t);if(Ct(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:En(t.seconds),nanos:En(t.nanos)}}function En(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function p0(t){return typeof t=="string"?ur.fromBase64String(t):ur.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR="server_timestamp",cR="__type__",uR="__previous_value__",dR="__local_write_time__";function lb(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[cR])==null?void 0:r.stringValue)===lR}function O2(t){const e=t.mapValue.fields[uR];return lb(e)?O2(e):e}function Fh(t){const e=h0(t.mapValue.fields[dR].timestampValue);return new Yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IX{constructor(e,n,r,i,a,s,o,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u,this.apiKey=d}}const Q3="(default)";class Vh{constructor(e,n){this.projectId=e,this.database=n||Q3}static empty(){return new Vh("","")}get isDefaultDatabase(){return this.database===Q3}isEqual(e){return e instanceof Vh&&e.projectId===this.projectId&&e.database===this.database}}function CX(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new je(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vh(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="__type__",OX="__max__",nm={mapValue:{}},hR="__vector__",X3="value";function m0(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lb(t)?4:MX(t)?9007199254740991:jX(t)?10:11:Ze(28295,{value:t})}function us(t,e){if(t===e)return!0;const n=m0(t);if(n!==m0(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fh(t).isEqual(Fh(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=h0(i.timestampValue),o=h0(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return p0(i.bytesValue).isEqual(p0(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return En(i.geoPointValue.latitude)===En(a.geoPointValue.latitude)&&En(i.geoPointValue.longitude)===En(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return En(i.integerValue)===En(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=En(i.doubleValue),o=En(a.doubleValue);return s===o?Y3(s)===Y3(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Su(t.arrayValue.values||[],e.arrayValue.values||[],us);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(CE(s)!==CE(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!us(s[l],o[l])))return!1;return!0}(t,e);default:return Ze(52216,{left:t})}}function Uh(t,e){return(t.values||[]).find(n=>us(n,e))!==void 0}function ku(t,e){if(t===e)return 0;const n=m0(t),r=m0(e);if(n!==r)return yt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return yt(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=En(a.integerValue||a.doubleValue),l=En(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return jE(t.timestampValue,e.timestampValue);case 4:return jE(Fh(t),Fh(e));case 5:return r7(t.stringValue,e.stringValue);case 6:return function(a,s){const o=p0(a),l=p0(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=yt(o[c],l[c]);if(u!==0)return u}return yt(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=yt(En(a.latitude),En(s.latitude));return o!==0?o:yt(En(a.longitude),En(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ME(t.arrayValue,e.arrayValue);case 10:return function(a,s){var h,p,g,x;const o=a.fields||{},l=s.fields||{},c=(h=o[X3])==null?void 0:h.arrayValue,u=(p=l[X3])==null?void 0:p.arrayValue,d=yt(((g=c==null?void 0:c.values)==null?void 0:g.length)||0,((x=u==null?void 0:u.values)==null?void 0:x.length)||0);return d!==0?d:ME(c,u)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===nm.mapValue&&s===nm.mapValue)return 0;if(a===nm.mapValue)return 1;if(s===nm.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=r7(l[d],u[d]);if(h!==0)return h;const p=ku(o[l[d]],c[u[d]]);if(p!==0)return p}return yt(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Ze(23264,{he:n})}}function jE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return yt(t,e);const n=h0(t),r=h0(e),i=yt(n.seconds,r.seconds);return i!==0?i:yt(n.nanos,r.nanos)}function ME(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=ku(n[i],r[i]);if(a)return a}return yt(n.length,r.length)}function Eu(t){return i7(t)}function i7(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=h0(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return p0(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return qe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=i7(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${i7(n.fields[s])}`;return i+"}"}(t.mapValue):Ze(61005,{value:t})}function t3(t){switch(m0(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=O2(t);return e?16+t3(e):16;case 5:return 2*t.stringValue.length;case 6:return p0(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+t3(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return E0(r.fields,(a,s)=>{i+=a.length+t3(s)}),i}(t.mapValue);default:throw Ze(13486,{value:t})}}function DE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function a7(t){return!!t&&"integerValue"in t}function cb(t){return!!t&&"arrayValue"in t}function RE(t){return!!t&&"nullValue"in t}function $E(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function n3(t){return!!t&&"mapValue"in t}function jX(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[fR])==null?void 0:r.stringValue)===hR}function Jf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return E0(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Jf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jf(t.arrayValue.values[n]);return e}return{...t}}function MX(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===OX}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.value=e}static empty(){return new Xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!n3(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jf(n)}setAll(e){let n=sr.emptyPath(),r={},i=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=Jf(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());n3(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return us(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];n3(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){E0(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Xr(Jf(this.value))}}function pR(t){const e=[];return E0(t.fields,(n,r)=>{const i=new sr([n]);if(n3(r)){const a=pR(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new xi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n,r,i,a,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new xr(e,0,rt.min(),rt.min(),rt.min(),Xr.empty(),0)}static newFoundDocument(e,n,r,i){return new xr(e,1,n,rt.min(),r,i,0)}static newNoDocument(e,n){return new xr(e,2,n,rt.min(),rt.min(),Xr.empty(),0)}static newUnknownDocument(e,n){return new xr(e,3,n,rt.min(),rt.min(),Xr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,n){this.position=e,this.inclusive=n}}function LE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=qe.comparator(qe.fromName(s.referenceValue),n.key):r=ku(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function FE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!us(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n="asc"){this.field=e,this.dir=n}}function DX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{}class jn extends mR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $X(e,n,r):n==="array-contains"?new VX(e,r):n==="in"?new UX(e,r):n==="not-in"?new BX(e,r):n==="array-contains-any"?new zX(e,r):new jn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new LX(e,r):new FX(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ku(n,this.value)):n!==null&&m0(this.value)===m0(n)&&this.matchesComparison(ku(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ca extends mR{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ca(e,n)}matches(e){return gR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gR(t){return t.op==="and"}function yR(t){return RX(t)&&gR(t)}function RX(t){for(const e of t.filters)if(e instanceof Ca)return!1;return!0}function s7(t){if(t instanceof jn)return t.field.canonicalString()+t.op.toString()+Eu(t.value);if(yR(t))return t.filters.map(e=>s7(e)).join(",");{const e=t.filters.map(n=>s7(n)).join(",");return`${t.op}(${e})`}}function vR(t,e){return t instanceof jn?function(r,i){return i instanceof jn&&r.op===i.op&&r.field.isEqual(i.field)&&us(r.value,i.value)}(t,e):t instanceof Ca?function(r,i){return i instanceof Ca&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&vR(s,i.filters[o]),!0):!1}(t,e):void Ze(19439)}function xR(t){return t instanceof jn?function(n){return`${n.field.canonicalString()} ${n.op} ${Eu(n.value)}`}(t):t instanceof Ca?function(n){return n.op.toString()+" {"+n.getFilters().map(xR).join(" ,")+"}"}(t):"Filter"}class $X extends jn{constructor(e,n,r){super(e,n,r),this.key=qe.fromName(r.referenceValue)}matches(e){const n=qe.comparator(e.key,this.key);return this.matchesComparison(n)}}class LX extends jn{constructor(e,n){super(e,"in",n),this.keys=bR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class FX extends jn{constructor(e,n){super(e,"not-in",n),this.keys=bR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bR(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>qe.fromName(r.referenceValue))}class VX extends jn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cb(n)&&Uh(n.arrayValue,this.value)}}class UX extends jn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Uh(this.value.arrayValue,n)}}class BX extends jn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Uh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Uh(this.value.arrayValue,n)}}class zX extends jn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Uh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WX{constructor(e,n=null,r=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function VE(t,e=null,n=[],r=[],i=null,a=null,s=null){return new WX(t,e,n,r,i,a,s)}function ub(t){const e=it(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>s7(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),C2(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Eu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Eu(r)).join(",")),e.Te=n}return e.Te}function db(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DX(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!FE(t.startAt,e.startAt)&&FE(t.endAt,e.endAt)}function o7(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n=null,r=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function qX(t,e,n,r,i,a,s,o){return new dd(t,e,n,r,i,a,s,o)}function fb(t){return new dd(t)}function UE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function HX(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function wR(t){return t.collectionGroup!==null}function Zf(t){const e=it(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new zn(sr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Bh(a,r))}),n.has(sr.keyField().canonicalString())||e.Ie.push(new Bh(sr.keyField(),r))}return e.Ie}function ns(t){const e=it(t);return e.Ee||(e.Ee=GX(e,Zf(t))),e.Ee}function GX(t,e){if(t.limitType==="F")return VE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Bh(i.field,a)});const n=t.endAt?new J3(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new J3(t.startAt.position,t.startAt.inclusive):null;return VE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function l7(t,e){const n=t.filters.concat([e]);return new dd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function KX(t,e){const n=t.explicitOrderBy.concat([e]);return new dd(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function c7(t,e,n){return new dd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function j2(t,e){return db(ns(t),ns(e))&&t.limitType===e.limitType}function _R(t){return`${ub(ns(t))}|lt:${t.limitType}`}function Pc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>xR(i)).join(", ")}]`),C2(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Eu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Eu(i)).join(",")),`Target(${r})`}(ns(t))}; limitType=${t.limitType})`}function M2(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):qe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Zf(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,l){const c=LE(s,o,l);return s.inclusive?c<=0:c<0}(r.startAt,Zf(r),i)||r.endAt&&!function(s,o,l){const c=LE(s,o,l);return s.inclusive?c>=0:c>0}(r.endAt,Zf(r),i))}(t,e)}function YX(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function SR(t){return(e,n)=>{let r=!1;for(const i of Zf(t)){const a=QX(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function QX(t,e,n){const r=t.field.isKeyField()?qe.comparator(e.key,n.key):function(a,s,o){const l=s.data.field(a),c=o.data.field(a);return l!==null&&c!==null?ku(l,c):Ze(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ze(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){E0(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return sR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XX=new fn(qe.comparator);function Zs(){return XX}const kR=new fn(qe.comparator);function _f(...t){let e=kR;for(const n of t)e=e.insert(n.key,n);return e}function ER(t){let e=kR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function rl(){return eh()}function NR(){return eh()}function eh(){return new nc(t=>t.toString(),(t,e)=>t.isEqual(e))}const JX=new fn(qe.comparator),ZX=new zn(qe.comparator);function vt(...t){let e=ZX;for(const n of t)e=e.add(n);return e}const eJ=new zn(yt);function tJ(){return eJ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Y3(e)?"-0":e}}function TR(t){return{integerValue:""+t}}function nJ(t,e){return NX(e)?TR(e):hb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this._=void 0}}function rJ(t,e,n){return t instanceof Z3?function(i,a){const s={fields:{[cR]:{stringValue:lR},[dR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&lb(a)&&(a=O2(a)),a&&(s.fields[uR]=a),{mapValue:s}}(n,e):t instanceof zh?AR(t,e):t instanceof Wh?IR(t,e):function(i,a){const s=PR(i,a),o=BE(s)+BE(i.Ae);return a7(s)&&a7(i.Ae)?TR(o):hb(i.serializer,o)}(t,e)}function iJ(t,e,n){return t instanceof zh?AR(t,e):t instanceof Wh?IR(t,e):n}function PR(t,e){return t instanceof e1?function(r){return a7(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Z3 extends D2{}class zh extends D2{constructor(e){super(),this.elements=e}}function AR(t,e){const n=CR(e);for(const r of t.elements)n.some(i=>us(i,r))||n.push(r);return{arrayValue:{values:n}}}class Wh extends D2{constructor(e){super(),this.elements=e}}function IR(t,e){let n=CR(e);for(const r of t.elements)n=n.filter(i=>!us(i,r));return{arrayValue:{values:n}}}class e1 extends D2{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function BE(t){return En(t.integerValue||t.doubleValue)}function CR(t){return cb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function aJ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof zh&&i instanceof zh||r instanceof Wh&&i instanceof Wh?Su(r.elements,i.elements,us):r instanceof e1&&i instanceof e1?us(r.Ae,i.Ae):r instanceof Z3&&i instanceof Z3}(t.transform,e.transform)}class sJ{constructor(e,n){this.version=e,this.transformResults=n}}class Qi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qi}static exists(e){return new Qi(void 0,e)}static updateTime(e){return new Qi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function r3(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class R2{}function OR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new pb(t.key,Qi.none()):new Zp(t.key,t.data,Qi.none());{const n=t.data,r=Xr.empty();let i=new zn(sr.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new N0(t.key,r,new xi(i.toArray()),Qi.none())}}function oJ(t,e,n){t instanceof Zp?function(i,a,s){const o=i.value.clone(),l=WE(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof N0?function(i,a,s){if(!r3(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=WE(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(jR(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function th(t,e,n,r){return t instanceof Zp?function(a,s,o,l){if(!r3(a.precondition,s))return o;const c=a.value.clone(),u=qE(a.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof N0?function(a,s,o,l){if(!r3(a.precondition,s))return o;const c=qE(a.fieldTransforms,l,s),u=s.data;return u.setAll(jR(a)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(a,s,o){return r3(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function lJ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=PR(r.transform,i||null);a!=null&&(n===null&&(n=Xr.empty()),n.set(r.field,a))}return n||null}function zE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Su(r,i,(a,s)=>aJ(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zp extends R2{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class N0 extends R2{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function jR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function WE(t,e,n){const r=new Map;Ct(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);r.set(a.field,iJ(s,o,n[i]))}return r}function qE(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,rJ(a,s,e))}return r}class pb extends R2{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cJ extends R2{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uJ{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&oJ(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=th(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=th(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=NR();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const l=OR(s,o);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(rt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),vt())}isEqual(e){return this.batchId===e.batchId&&Su(this.mutations,e.mutations,(n,r)=>zE(n,r))&&Su(this.baseMutations,e.baseMutations,(n,r)=>zE(n,r))}}class mb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ct(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return JX}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new mb(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dJ{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fJ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In,wt;function hJ(t){switch(t){case de.OK:return Ze(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Ze(15467,{code:t})}}function MR(t){if(t===void 0)return Js("GRPC error has no .code"),de.UNKNOWN;switch(t){case In.OK:return de.OK;case In.CANCELLED:return de.CANCELLED;case In.UNKNOWN:return de.UNKNOWN;case In.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case In.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case In.INTERNAL:return de.INTERNAL;case In.UNAVAILABLE:return de.UNAVAILABLE;case In.UNAUTHENTICATED:return de.UNAUTHENTICATED;case In.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case In.NOT_FOUND:return de.NOT_FOUND;case In.ALREADY_EXISTS:return de.ALREADY_EXISTS;case In.PERMISSION_DENIED:return de.PERMISSION_DENIED;case In.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case In.ABORTED:return de.ABORTED;case In.OUT_OF_RANGE:return de.OUT_OF_RANGE;case In.UNIMPLEMENTED:return de.UNIMPLEMENTED;case In.DATA_LOSS:return de.DATA_LOSS;default:return Ze(39323,{code:t})}}(wt=In||(In={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pJ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mJ=new i0([4294967295,4294967295],0);function HE(t){const e=pJ().encode(t),n=new YD;return n.update(e),new Uint8Array(n.digest())}function GE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new i0([n,r],0),new i0([i,a],0)]}class gb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sf(`Invalid padding: ${n}`);if(r<0)throw new Sf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Sf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=i0.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(i0.fromNumber(r)));return i.compare(mJ)===1&&(i=new i0([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=HE(e),[r,i]=GE(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new gb(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const n=HE(e),[r,i]=GE(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.be(s)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Sf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,e4.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new $2(rt.min(),i,new fn(yt),Zs(),vt())}}class e4{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new e4(r,n,vt(),vt(),vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class DR{constructor(e,n){this.targetId=e,this.Ce=n}}class RR{constructor(e,n,r=ur.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class KE{constructor(){this.ve=0,this.Fe=YE(),this.Me=ur.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=vt(),n=vt(),r=vt();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ze(38017,{changeType:a})}}),new e4(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=YE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ct(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class gJ{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zs(),this.He=rm(),this.Je=rm(),this.Ze=new fn(yt)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ze(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(o7(a))if(r===0){const s=new qe(a.path);this.et(n,s,xr.newNoDocument(s,rt.min()))}else Ct(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const o=this.ut(e),l=o?this.ct(o,e,s):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=p0(r).toUint8Array()}catch(l){if(l instanceof oR)return Tl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new gb(s,i,a)}catch(l){return Tl(l instanceof Sf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(n,a,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&o7(o.target)){const l=new qe(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,xr.newNoDocument(l,e))}a.Be&&(n.set(s,a.ke()),a.Ke())}});let r=vt();this.Je.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.je.forEach((a,s)=>s.setReadTime(e));const i=new $2(e,n,this.Ze,this.je,r);return this.je=Zs(),this.He=rm(),this.Je=rm(),this.Ze=new fn(yt),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new KE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new zn(yt),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new zn(yt),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||De("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new KE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function rm(){return new fn(qe.comparator)}function YE(){return new fn(qe.comparator)}const yJ={asc:"ASCENDING",desc:"DESCENDING"},vJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xJ={and:"AND",or:"OR"};class bJ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function u7(t,e){return t.useProto3Json||C2(e)?e:{value:e}}function t1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $R(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wJ(t,e){return t1(t,e.toTimestamp())}function rs(t){return Ct(!!t,49232),rt.fromTimestamp(function(n){const r=h0(n);return new Yt(r.seconds,r.nanos)}(t))}function yb(t,e){return d7(t,e).canonicalString()}function d7(t,e){const n=function(i){return new zt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function LR(t){const e=zt.fromString(t);return Ct(zR(e),10190,{key:e.toString()}),e}function f7(t,e){return yb(t.databaseId,e.path)}function z6(t,e){const n=LR(e);if(n.get(1)!==t.databaseId.projectId)throw new je(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new je(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qe(VR(n))}function FR(t,e){return yb(t.databaseId,e)}function _J(t){const e=LR(t);return e.length===4?zt.emptyPath():VR(e)}function h7(t){return new zt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function VR(t){return Ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function QE(t,e,n){return{name:f7(t,e),fields:n.value.mapValue.fields}}function SJ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ze(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,u){return c.useProto3Json?(Ct(u===void 0||typeof u=="string",58123),ur.fromBase64String(u||"")):(Ct(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),ur.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(c){const u=c.code===void 0?de.UNKNOWN:MR(c.code);return new je(u,c.message||"")}(s);n=new RR(r,i,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=z6(t,r.document.name),a=rs(r.document.updateTime),s=r.document.createTime?rs(r.document.createTime):rt.min(),o=new Xr({mapValue:{fields:r.document.fields}}),l=xr.newFoundDocument(i,a,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new i3(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=z6(t,r.document),a=r.readTime?rs(r.readTime):rt.min(),s=xr.newNoDocument(i,a),o=r.removedTargetIds||[];n=new i3([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=z6(t,r.document),a=r.removedTargetIds||[];n=new i3([],a,i,null)}else{if(!("filter"in e))return Ze(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new fJ(i,a),o=r.targetId;n=new DR(o,s)}}return n}function kJ(t,e){let n;if(e instanceof Zp)n={update:QE(t,e.key,e.value)};else if(e instanceof pb)n={delete:f7(t,e.key)};else if(e instanceof N0)n={update:QE(t,e.key,e.data),updateMask:jJ(e.fieldMask)};else{if(!(e instanceof cJ))return Ze(16599,{dt:e.type});n={verify:f7(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof Z3)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof zh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Wh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof e1)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw Ze(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:wJ(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ze(27497)}(t,e.precondition)),n}function EJ(t,e){return t&&t.length>0?(Ct(e!==void 0,14353),t.map(n=>function(i,a){let s=i.updateTime?rs(i.updateTime):rs(a);return s.isEqual(rt.min())&&(s=rs(a)),new sJ(s,i.transformResults||[])}(n,e))):[]}function NJ(t,e){return{documents:[FR(t,e.path)]}}function TJ(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=FR(t,i);const a=function(c){if(c.length!==0)return BR(Ca.create(c,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Ac(h.field),direction:IJ(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=u7(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function PJ(t){let e=_J(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ct(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let a=[];n.where&&(a=function(d){const h=UR(d);return h instanceof Ca&&yR(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(g){return new Bh(Ic(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let o=null;n.limit&&(o=function(d){let h;return h=typeof d=="object"?d.value:d,C2(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new J3(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new J3(p,h)}(n.endAt)),qX(e,i,s,a,o,"F",l,c)}function AJ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ze(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function UR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ic(n.unaryFilter.field);return jn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ic(n.unaryFilter.field);return jn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ic(n.unaryFilter.field);return jn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ic(n.unaryFilter.field);return jn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ze(61313);default:return Ze(60726)}}(t):t.fieldFilter!==void 0?function(n){return jn.create(Ic(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ze(58110);default:return Ze(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ca.create(n.compositeFilter.filters.map(r=>UR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ze(1026)}}(n.compositeFilter.op))}(t):Ze(30097,{filter:t})}function IJ(t){return yJ[t]}function CJ(t){return vJ[t]}function OJ(t){return xJ[t]}function Ac(t){return{fieldPath:t.canonicalString()}}function Ic(t){return sr.fromServerFormat(t.fieldPath)}function BR(t){return t instanceof jn?function(n){if(n.op==="=="){if($E(n.value))return{unaryFilter:{field:Ac(n.field),op:"IS_NAN"}};if(RE(n.value))return{unaryFilter:{field:Ac(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($E(n.value))return{unaryFilter:{field:Ac(n.field),op:"IS_NOT_NAN"}};if(RE(n.value))return{unaryFilter:{field:Ac(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ac(n.field),op:CJ(n.op),value:n.value}}}(t):t instanceof Ca?function(n){const r=n.getFilters().map(i=>BR(i));return r.length===1?r[0]:{compositeFilter:{op:OJ(n.op),filters:r}}}(t):Ze(54877,{filter:t})}function jJ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function WR(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n,r,i,a=rt.min(),s=rt.min(),o=ur.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Bo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MJ{constructor(e){this.yt=e}}function DJ(t){const e=PJ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?c7(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RJ{constructor(){this.Sn=new $J}addToCollectionParentIndex(e,n){return this.Sn.add(n),pe.resolve()}getCollectionParents(e,n){return pe.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return pe.resolve()}deleteFieldIndex(e,n){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,n){return pe.resolve()}getDocumentsMatchingTarget(e,n){return pe.resolve(null)}getIndexType(e,n){return pe.resolve(0)}getFieldIndexes(e,n){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,n){return pe.resolve(f0.min())}getMinOffsetFromCollectionGroup(e,n){return pe.resolve(f0.min())}updateCollectionGroup(e,n,r){return pe.resolve()}updateIndexEntries(e,n){return pe.resolve()}}class $J{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new zn(zt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new zn(zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qR=41943040;class Hr{static withCacheSize(e){return new Hr(e,Hr.DEFAULT_COLLECTION_PERCENTILE,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hr.DEFAULT_COLLECTION_PERCENTILE=10,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hr.DEFAULT=new Hr(qR,Hr.DEFAULT_COLLECTION_PERCENTILE,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hr.DISABLED=new Hr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Nu(0)}static ar(){return new Nu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="LruGarbageCollector",LJ=1048576;function ZE([t,e],[n,r]){const i=yt(t,n);return i===0?yt(e,r):i}class FJ{constructor(e){this.Pr=e,this.buffer=new zn(ZE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ZE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class VJ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){De(JE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ud(n)?De(JE,"Ignoring IndexedDB error during garbage collection: ",n):await cd(n)}await this.Ar(3e5)})}}class UJ{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return pe.resolve(I2.ce);const r=new FJ(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(De("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(XE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XE):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,a,s,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,o=Date.now(),this.removeTargets(e,r,n))).next(d=>(a=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Tc()<=gt.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:d})))}}function BJ(t,e){return new UJ(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zJ{constructor(){this.changes=new nc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?pe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WJ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qJ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&th(r.mutation,i,xi.empty(),Yt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,vt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=vt()){const i=rl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=_f();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=rl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,vt()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,i){let a=Zs();const s=eh(),o=function(){return eh()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof N0)?a=a.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),th(u.mutation,c,u.mutation.getFieldMask(),Yt.now())):s.set(c.key,xi.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>o.set(c,new WJ(u,s.get(c)??null))),o))}recalculateAndSaveOverlays(e,n){const r=eh();let i=new fn((s,o)=>s-o),a=vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||xi.empty();u=o.applyToLocalView(c,u),r.set(l,u);const d=(i.get(o.batchId)||vt()).add(l);i=i.insert(o.batchId,d)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,d=NR();u.forEach(h=>{if(!a.has(h)){const p=OR(n.get(h),r.get(h));p!==null&&d.set(h,p),a=a.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return pe.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return HX(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):pe.resolve(rl());let o=Lh,l=a;return s.next(c=>pe.forEach(c,(u,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),a.get(u)?pe.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,vt())).next(u=>({batchId:o,changes:ER(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new qe(n)).next(r=>{let i=_f();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=_f();return this.indexManager.getCollectionParents(e,a).next(o=>pe.forEach(o,l=>{const c=function(d,h){return new dd(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,xr.newInvalidDocument(u)))});let o=_f();return s.forEach((l,c)=>{const u=a.get(l);u!==void 0&&th(u.mutation,c,xi.empty(),Yt.now()),M2(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HJ{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return pe.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:rs(i.createTime)}}(n)),pe.resolve()}getNamedQuery(e,n){return pe.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(i){return{name:i.name,query:DJ(i.bundledQuery),readTime:rs(i.readTime)}}(n)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GJ{constructor(){this.overlays=new fn(qe.comparator),this.Lr=new Map}getOverlay(e,n){return pe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=rl();return pe.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.bt(e,n,a)}),pe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Lr.delete(r)),pe.resolve()}getOverlaysForCollection(e,n,r){const i=rl(),a=n.length+1,s=new qe(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return pe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new fn((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=a.get(c.largestBatchId);u===null&&(u=rl(),a=a.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=rl(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=i)););return pe.resolve(o)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new dJ(n,r));let a=this.Lr.get(n);a===void 0&&(a=vt(),this.Lr.set(n,a)),this.Lr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KJ{constructor(){this.sessionToken=ur.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(){this.kr=new zn(Kn.Kr),this.qr=new zn(Kn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Kn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Kn(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new qe(new zt([])),r=new Kn(n,e),i=new Kn(n,e+1),a=[];return this.qr.forEachInRange([r,i],s=>{this.Wr(s),a.push(s.key)}),a}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new qe(new zt([])),r=new Kn(n,e),i=new Kn(n,e+1);let a=vt();return this.qr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new Kn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Kn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return qe.comparator(e.key,n.key)||yt(e.Hr,n.Hr)}static Ur(e,n){return yt(e.Hr,n.Hr)||qe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YJ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new zn(Kn.Kr)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new uJ(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.Jr=this.Jr.add(new Kn(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return pe.resolve(s)}lookupMutationBatch(e,n){return pe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return pe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?ob:this.Yn-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Kn(n,0),i=new Kn(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,i],s=>{const o=this.Zr(s.Hr);a.push(o)}),pe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new zn(yt);return n.forEach(i=>{const a=new Kn(i,0),s=new Kn(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,s],o=>{r=r.add(o.Hr)})}),pe.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;qe.isDocumentKey(a)||(a=a.child(""));const s=new Kn(new qe(a),0);let o=new zn(yt);return this.Jr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Hr)),!0)},s),pe.resolve(this.Yr(o))}Yr(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ct(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return pe.forEach(n.mutations,i=>{const a=new Kn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new Kn(n,0),i=this.Jr.firstAfterOrEqual(r);return pe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QJ{constructor(e){this.ti=e,this.docs=function(){return new fn(qe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return pe.resolve(r?r.document.mutableCopy():xr.newInvalidDocument(n))}getEntries(e,n){let r=Zs();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():xr.newInvalidDocument(i))}),pe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Zs();const s=n.path,o=new qe(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||_X(wX(u),r)<=0||(i.has(u.key)||M2(n,u))&&(a=a.insert(u.key,u.mutableCopy()))}return pe.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ze(9500)}ni(e,n){return pe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new XJ(this)}getSize(e){return pe.resolve(this.size)}}class XJ extends zJ{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)}),pe.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JJ{constructor(e){this.persistence=e,this.ri=new nc(n=>ub(n),db),this.lastRemoteSnapshotVersion=rt.min(),this.highestTargetId=0,this.ii=0,this.si=new vb,this.targetCount=0,this.oi=Nu._r()}forEachTarget(e,n){return this.ri.forEach((r,i)=>n(i)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),pe.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Nu(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,pe.resolve()}updateTargetData(e,n){return this.lr(n),pe.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ri.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.ri.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),pe.waitFor(a).next(()=>i)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return pe.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),pe.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),pe.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),pe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return pe.resolve(r)}containsKey(e,n){return pe.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n){this._i={},this.overlays={},this.ai=new I2(0),this.ui=!1,this.ui=!0,this.ci=new KJ,this.referenceDelegate=e(this),this.li=new JJ(this),this.indexManager=new RJ,this.remoteDocumentCache=function(i){return new QJ(i)}(r=>this.referenceDelegate.hi(r)),this.serializer=new MJ(n),this.Pi=new HJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GJ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new YJ(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){De("MemoryPersistence","Starting transaction:",e);const i=new ZJ(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(a=>this.referenceDelegate.Ii(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ei(e,n){return pe.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class ZJ extends kX{constructor(e){super(),this.currentSequenceNumber=e}}class xb{constructor(e){this.persistence=e,this.Ri=new vb,this.Ai=null}static Vi(e){return new xb(e)}get di(){if(this.Ai)return this.Ai;throw Ze(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),pe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),pe.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.di,r=>{const i=qe.fromPath(r);return this.mi(e,i).next(a=>{a||n.removeEntry(i,rt.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return pe.or([()=>pe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class n1{constructor(e,n){this.persistence=e,this.fi=new nc(r=>TX(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=BJ(this,n)}static Vi(e,n){return new n1(e,n)}Ti(){}Ii(e){return pe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return pe.forEach(this.fi,(r,i)=>this.wr(e,r,i).next(a=>a?pe.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ni(e,s=>this.wr(e,s,n).next(o=>{o||(r++,a.removeEntry(s,rt.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),pe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),pe.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),pe.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=t3(e.data.value)),n}wr(e,n,r){return pe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return pe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=vt(),i=vt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new bb(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eZ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tZ{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return BY()?8:EX(kr())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.gs(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ps(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new eZ;return this.ys(e,n,s).next(o=>{if(a.result=o,this.As)return this.ws(e,n,s,o.size)})}).next(()=>a.result)}ws(e,n,r,i){return r.documentReadCount<this.Vs?(Tc()<=gt.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",Pc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),pe.resolve()):(Tc()<=gt.DEBUG&&De("QueryEngine","Query:",Pc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Tc()<=gt.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",Pc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ns(n))):pe.resolve())}gs(e,n){if(UE(n))return pe.resolve(null);let r=ns(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=c7(n,null,"F"),r=ns(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=vt(...a);return this.fs.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,o);return this.Ss(n,c,s,l.readTime)?this.gs(e,c7(n,null,"F")):this.Ds(e,c,n,l)}))})))}ps(e,n,r,i){return UE(n)||i.isEqual(rt.min())?pe.resolve(null):this.fs.getDocuments(e,r).next(a=>{const s=this.bs(n,a);return this.Ss(n,s,r,i)?pe.resolve(null):(Tc()<=gt.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pc(n)),this.Ds(e,s,n,bX(i,Lh)).next(o=>o))})}bs(e,n){let r=new zn(SR(e));return n.forEach((i,a)=>{M2(e,a)&&(r=r.add(a))}),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ys(e,n,r){return Tc()<=gt.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",Pc(n)),this.fs.getDocumentsMatchingQuery(e,n,f0.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="LocalStore",nZ=3e8;class rZ{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new fn(yt),this.Fs=new nc(a=>ub(a),db),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qJ(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function iZ(t,e,n,r){return new rZ(t,e,n,r)}async function GR(t,e){const n=it(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let l=vt();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of a){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ns:c,removedBatchIds:s,addedBatchIds:o}))})})}function aZ(t,e){const n=it(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const d=c.batch,h=d.keys();let p=pe.resolve();return h.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(x=>{const v=c.docVersions.get(g);Ct(v!==null,48541),x.version.compareTo(v)<0&&(d.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),u.addEntry(x)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=vt();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function KR(t){const e=it(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function sZ(t,e){const n=it(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const o=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;o.push(n.li.removeMatchingKeys(a,u.removedDocuments,d).next(()=>n.li.addMatchingKeys(a,u.addedDocuments,d)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(ur.EMPTY_BYTE_STRING,rt.min()).withLastLimboFreeSnapshotVersion(rt.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(d,p),function(x,v,y){return x.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=nZ?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,p,u)&&o.push(n.li.updateTargetData(a,p))});let l=Zs(),c=vt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,u))}),o.push(oZ(a,s,e.documentUpdates).next(u=>{l=u.Bs,c=u.Ls})),!r.isEqual(rt.min())){const u=n.li.getLastRemoteSnapshotVersion(a).next(d=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(u)}return pe.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(n.vs=i,a))}function oZ(t,e,n){let r=vt(),i=vt();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=Zs();return n.forEach((o,l)=>{const c=a.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(rt.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):De(wb,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Bs:s,Ls:i}})}function lZ(t,e){const n=it(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ob),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function cZ(t,e){const n=it(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.li.getTargetData(r,e).next(a=>a?(i=a,pe.resolve(i)):n.li.allocateTargetId(r).next(s=>(i=new Bo(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function p7(t,e,n){const r=it(t),i=r.vs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ud(s))throw s;De(wb,`Failed to update sequence numbers for target ${e}: ${s}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function eN(t,e,n){const r=it(t);let i=rt.min(),a=vt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const d=it(l),h=d.Fs.get(u);return h!==void 0?pe.resolve(d.vs.get(h)):d.li.getTargetData(c,u)}(r,s,ns(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:rt.min(),n?a:vt())).next(o=>(uZ(r,YX(e),o),{documents:o,ks:a})))}function uZ(t,e,n){let r=t.Ms.get(e)||rt.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ms.set(e,r)}class tN{constructor(){this.activeTargetIds=tJ()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dZ{constructor(){this.vo=new tN,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new tN,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fZ{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="ConnectivityMonitor";class rN{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){De(nN,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){De(nN,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let im=null;function m7(){return im===null?im=function(){return 268435456+Math.round(2147483648*Math.random())}():im++,"0x"+im.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6="RestConnection",hZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class pZ{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Q3?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,a){const s=m7(),o=this.Qo(e,n.toUriEncodedString());De(W6,`Sending RPC '${e}' ${s}:`,o,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,i,a);const{host:c}=new URL(o),u=S0(c);return this.zo(e,o,l,r,u).then(d=>(De(W6,`Received RPC '${e}' ${s}: `,d),d),d=>{throw Tl(W6,`RPC '${e}' ${s} failed with error: `,d,"url: ",o,"request:",r),d})}jo(e,n,r,i,a,s){return this.Wo(e,n,r,i,a)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ld}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}Qo(e,n){const r=hZ[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mZ{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="WebChannelConnection",Yd=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(i){setTimeout(()=>{throw i},0)}})};class ru extends pZ{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ru.c_){const e=ZD();Yd(e,JD.STAT_EVENT,n=>{n.stat===n7.PROXY?De(pr,"STAT_EVENT: detected buffering proxy"):n.stat===n7.NOPROXY&&De(pr,"STAT_EVENT: detected no buffering proxy")}),ru.c_=!0}}zo(e,n,r,i,a){const s=m7();return new Promise((o,l)=>{const c=new QD;c.setWithCredentials(!0),c.listenOnce(XD.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case e3.NO_ERROR:const d=c.getResponseJson();De(pr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case e3.TIMEOUT:De(pr,`RPC '${e}' ${s} timed out`),l(new je(de.DEADLINE_EXCEEDED,"Request time out"));break;case e3.HTTP_ERROR:const h=c.getStatus();if(De(pr,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const x=function(y){const b=y.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(b)>=0?b:de.UNKNOWN}(g.status);l(new je(x,g.message))}else l(new je(de.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new je(de.UNAVAILABLE,"Connection failed."));break;default:Ze(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{De(pr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);De(pr,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}T_(e,n,r){const i=m7(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,n,r),o.encodeInitMessageHeaders=!0;const c=a.join("");De(pr,`Creating RPC '${e}' stream ${i}: ${c}`,o);const u=s.createWebChannel(c,o);this.I_(u);let d=!1,h=!1;const p=new mZ({Ho:g=>{h?De(pr,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(d||(De(pr,`Opening RPC '${e}' stream ${i} transport.`),u.open(),d=!0),De(pr,`RPC '${e}' stream ${i} sending:`,g),u.send(g))},Jo:()=>u.close()});return Yd(u,wf.EventType.OPEN,()=>{h||(De(pr,`RPC '${e}' stream ${i} transport opened.`),p.i_())}),Yd(u,wf.EventType.CLOSE,()=>{h||(h=!0,De(pr,`RPC '${e}' stream ${i} transport closed`),p.o_(),this.E_(u))}),Yd(u,wf.EventType.ERROR,g=>{h||(h=!0,Tl(pr,`RPC '${e}' stream ${i} transport errored. Name:`,g.name,"Message:",g.message),p.o_(new je(de.UNAVAILABLE,"The operation could not be completed")))}),Yd(u,wf.EventType.MESSAGE,g=>{var x;if(!h){const v=g.data[0];Ct(!!v,16349);const y=v,b=(y==null?void 0:y.error)||((x=y[0])==null?void 0:x.error);if(b){De(pr,`RPC '${e}' stream ${i} received error:`,b);const w=b.status;let E=function(_){const N=In[_];if(N!==void 0)return MR(N)}(w),S=b.message;w==="NOT_FOUND"&&S.includes("database")&&S.includes("does not exist")&&S.includes(this.databaseId.database)&&Tl(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),E===void 0&&(E=de.INTERNAL,S="Unknown error status: "+w+" with message "+b.message),h=!0,p.o_(new je(E,S)),u.close()}else De(pr,`RPC '${e}' stream ${i} received:`,v),p.__(v)}}),ru.u_(),setTimeout(()=>{p.s_()},0),p}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return eR()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gZ(t){return new ru(t)}function q6(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(t){return new bJ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ru.c_=!1;class YR{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&De("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="PersistentStream";class QR{constructor(e,n,r,i,a,s,o,l){this.Ci=e,this.b_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new YR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(Js(n.toString()),Js("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new je(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return De(iN,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(De(iN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yZ extends QR{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=SJ(this.serializer,e),r=function(a){if(!("targetChange"in a))return rt.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?rt.min():s.readTime?rs(s.readTime):rt.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=h7(this.serializer),n.addTarget=function(a,s){let o;const l=s.target;if(o=o7(l)?{documents:NJ(a,l)}:{query:TJ(a,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=$R(a,s.resumeToken);const c=u7(a,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(rt.min())>0){o.readTime=t1(a,s.snapshotVersion.toTimestamp());const c=u7(a,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=AJ(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=h7(this.serializer),n.removeTarget=e,this.K_(n)}}class vZ extends QR{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=EJ(e.writeResults,e.commitTime),r=rs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=h7(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>kJ(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xZ{}class bZ extends xZ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new je(de.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Wo(e,d7(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new je(de.UNKNOWN,a.toString())})}jo(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.jo(e,d7(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new je(de.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function wZ(t,e,n,r){return new bZ(t,e,n,r)}class _Z{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Js(n),this.aa=!1):De("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl="RemoteStore";class SZ{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo(s=>{r.enqueueAndForget(async()=>{rc(this)&&(De(Pl,"Restarting streams for network reachability change."),await async function(l){const c=it(l);c.Ea.add(4),await t4(c),c.Va.set("Unknown"),c.Ea.delete(4),await F2(c)}(this))})}),this.Va=new _Z(r,i)}}async function F2(t){if(rc(t))for(const e of t.Ra)await e(!0)}async function t4(t){for(const e of t.Ra)await e(!1)}function XR(t,e){const n=it(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Eb(n)?kb(n):fd(n).O_()&&Sb(n,e))}function _b(t,e){const n=it(t),r=fd(n);n.Ia.delete(e),r.O_()&&JR(n,e),n.Ia.size===0&&(r.O_()?r.L_():rc(n)&&n.Va.set("Unknown"))}function Sb(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(rt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fd(t).Z_(e)}function JR(t,e){t.da.$e(e),fd(t).X_(e)}function kb(t){t.da=new gJ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),fd(t).start(),t.Va.ua()}function Eb(t){return rc(t)&&!fd(t).x_()&&t.Ia.size>0}function rc(t){return it(t).Ea.size===0}function ZR(t){t.da=void 0}async function kZ(t){t.Va.set("Online")}async function EZ(t){t.Ia.forEach((e,n)=>{Sb(t,e)})}async function NZ(t,e){ZR(t),Eb(t)?(t.Va.ha(e),kb(t)):t.Va.set("Unknown")}async function TZ(t,e,n){if(t.Va.set("Online"),e instanceof RR&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.da.removeTarget(o))}(t,e)}catch(r){De(Pl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await r1(t,r)}else if(e instanceof i3?t.da.Xe(e):e instanceof DR?t.da.st(e):t.da.tt(e),!n.isEqual(rt.min()))try{const r=await KR(t.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.da.Tt(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=a.Ia.get(c);u&&a.Ia.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=a.Ia.get(l);if(!u)return;a.Ia.set(l,u.withResumeToken(ur.EMPTY_BYTE_STRING,u.snapshotVersion)),JR(a,l);const d=new Bo(u.target,l,c,u.sequenceNumber);Sb(a,d)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){De(Pl,"Failed to raise snapshot:",r),await r1(t,r)}}async function r1(t,e,n){if(!ud(e))throw e;t.Ea.add(1),await t4(t),t.Va.set("Offline"),n||(n=()=>KR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{De(Pl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await F2(t)})}function e$(t,e){return e().catch(n=>r1(t,n,e))}async function V2(t){const e=it(t),n=g0(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ob;for(;PZ(e);)try{const i=await lZ(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,AZ(e,i)}catch(i){await r1(e,i)}t$(e)&&n$(e)}function PZ(t){return rc(t)&&t.Ta.length<10}function AZ(t,e){t.Ta.push(e);const n=g0(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function t$(t){return rc(t)&&!g0(t).x_()&&t.Ta.length>0}function n$(t){g0(t).start()}async function IZ(t){g0(t).ra()}async function CZ(t){const e=g0(t);for(const n of t.Ta)e.ea(n.mutations)}async function OZ(t,e,n){const r=t.Ta.shift(),i=mb.from(r,e,n);await e$(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await V2(t)}async function jZ(t,e){e&&g0(t).Y_&&await async function(r,i){if(function(s){return hJ(s)&&s!==de.ABORTED}(i.code)){const a=r.Ta.shift();g0(r).B_(),await e$(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await V2(r)}}(t,e),t$(t)&&n$(t)}async function aN(t,e){const n=it(t);n.asyncQueue.verifyOperationInProgress(),De(Pl,"RemoteStore received new credentials");const r=rc(n);n.Ea.add(3),await t4(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await F2(n)}async function MZ(t,e){const n=it(t);e?(n.Ea.delete(2),await F2(n)):e||(n.Ea.add(2),await t4(n),n.Va.set("Unknown"))}function fd(t){return t.ma||(t.ma=function(n,r,i){const a=it(n);return a.sa(),new yZ(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:kZ.bind(null,t),Yo:EZ.bind(null,t),t_:NZ.bind(null,t),J_:TZ.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),Eb(t)?kb(t):t.Va.set("Unknown")):(await t.ma.stop(),ZR(t))})),t.ma}function g0(t){return t.fa||(t.fa=function(n,r,i){const a=it(n);return a.sa(),new vZ(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:IZ.bind(null,t),t_:jZ.bind(null,t),ta:CZ.bind(null,t),na:OZ.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await V2(t)):(await t.fa.stop(),t.Ta.length>0&&(De(Pl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new a0,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,o=new Nb(e,n,s,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new je(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tb(t,e){if(Js("AsyncQueue",`${e}: ${t}`),ud(t))return new je(de.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{static emptySet(e){return new iu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||qe.comparator(n.key,r.key):(n,r)=>qe.comparator(n.key,r.key),this.keyedMap=_f(),this.sortedSet=new fn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof iu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new iu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(){this.ga=new fn(qe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ze(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Tu{constructor(e,n,r,i,a,s,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Tu(e,n,iu.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&j2(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DZ{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class RZ{constructor(){this.queries=oN(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=it(n),a=i.queries;i.queries=oN(),a.forEach((s,o)=>{for(const l of o.ba)l.onError(r)})})(this,new je(de.ABORTED,"Firestore shutting down"))}}function oN(){return new nc(t=>_R(t),j2)}async function r$(t,e){const n=it(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Sa()&&e.Da()&&(r=2):(a=new DZ,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=Tb(s,`Initialization of query '${Pc(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,a),a.ba.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Pb(n)}async function i$(t,e){const n=it(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.ba.indexOf(e);s>=0&&(a.ba.splice(s,1),a.ba.length===0?i=e.Da()?0:1:!a.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function $Z(t,e){const n=it(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.ba)o.Fa(i)&&(r=!0);s.wa=i}}r&&Pb(n)}function LZ(t,e,n){const r=it(t),i=r.queries.get(e);if(i)for(const a of i.ba)a.onError(n);r.queries.delete(e)}function Pb(t){t.Ca.forEach(e=>{e.next()})}var g7,lN;(lN=g7||(g7={})).Ma="default",lN.Cache="cache";class a${constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Tu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Tu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==g7.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(e){this.key=e}}class o${constructor(e){this.key=e}}class FZ{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=vt(),this.mutatedKeys=vt(),this.eu=SR(e),this.tu=new iu(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new sN,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),p=M2(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),x=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?g!==x&&(r.track({type:3,doc:p}),v=!0):this.su(h,p)||(r.track({type:2,doc:p}),v=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(o=!0)):!h&&p?(r.track({type:0,doc:p}),v=!0):h&&!p&&(r.track({type:1,doc:h}),v=!0,(l||c)&&(o=!0)),v&&(p?(s=s.add(p),a=x?a.add(u):a.delete(u)):(s=s.delete(u),a=a.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),a=a.delete(u.key),r.track({type:1,doc:u})}return{tu:s,iu:r,Ss:o,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((u,d)=>function(p,g){const x=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ze(20277,{Vt:v})}};return x(p)-x(g)}(u.type,d.type)||this.eu(u.doc,d.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Ya.size===0&&this.current&&!i?1:0,c=l!==this.Xa;return this.Xa=l,s.length!==0||c?{snapshot:new Tu(this.query,e.tu,a,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sN,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=vt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new o$(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new s$(r))}),n}cu(e){this.Za=e.ks,this.Ya=vt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Tu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ab="SyncEngine";class VZ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class UZ{constructor(e){this.key=e,this.hu=!1}}class BZ{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new nc(o=>_R(o),j2),this.Iu=new Map,this.Eu=new Set,this.Ru=new fn(qe.comparator),this.Au=new Map,this.Vu=new vb,this.du={},this.mu=new Map,this.fu=Nu.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zZ(t,e,n=!0){const r=h$(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await l$(r,e,n,!0),i}async function WZ(t,e){const n=h$(t);await l$(n,e,!0,!1)}async function l$(t,e,n,r){const i=await cZ(t.localStore,ns(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await qZ(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&XR(t.remoteStore,i),o}async function qZ(t,e,n,r,i){t.pu=(d,h,p)=>async function(x,v,y,b){let w=v.view.ru(y);w.Ss&&(w=await eN(x.localStore,v.query,!1).then(({documents:_})=>v.view.ru(_,w)));const E=b&&b.targetChanges.get(v.targetId),S=b&&b.targetMismatches.get(v.targetId)!=null,k=v.view.applyChanges(w,x.isPrimaryClient,E,S);return uN(x,v.targetId,k.au),k.snapshot}(t,d,h,p);const a=await eN(t.localStore,e,!0),s=new FZ(e,a.ks),o=s.ru(a.documents),l=e4.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(o,t.isPrimaryClient,l);uN(t,n,c.au);const u=new VZ(e,n,s);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function HZ(t,e,n){const r=it(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(s=>!j2(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await p7(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&_b(r.remoteStore,i.targetId),y7(r,i.targetId)}).catch(cd)):(y7(r,i.targetId),await p7(r.localStore,i.targetId,!0))}async function GZ(t,e){const n=it(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_b(n.remoteStore,r.targetId))}async function KZ(t,e,n){const r=tee(t);try{const i=await function(s,o){const l=it(s),c=Yt.now(),u=o.reduce((p,g)=>p.add(g.key),vt());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Zs(),x=vt();return l.xs.getEntries(p,u).next(v=>{g=v,g.forEach((y,b)=>{b.isValidDocument()||(x=x.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(v=>{d=v;const y=[];for(const b of o){const w=lJ(b,d.get(b.key).overlayedDocument);w!=null&&y.push(new N0(b.key,w,pR(w.value.mapValue),Qi.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,y,o)}).next(v=>{h=v;const y=v.applyToLocalDocumentSet(d,x);return l.documentOverlayCache.saveOverlays(p,v.batchId,y)})}).then(()=>({batchId:h.batchId,changes:ER(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let c=s.du[s.currentUser.toKey()];c||(c=new fn(yt)),c=c.insert(o,l),s.du[s.currentUser.toKey()]=c}(r,i.batchId,n),await n4(r,i.changes),await V2(r.remoteStore)}catch(i){const a=Tb(i,"Failed to persist write");n.reject(a)}}async function c$(t,e){const n=it(t);try{const r=await sZ(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Au.get(a);s&&(Ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Ct(s.hu,14607):i.removedDocuments.size>0&&(Ct(s.hu,42227),s.hu=!1))}),await n4(n,r,e)}catch(r){await cd(r)}}function cN(t,e,n){const r=it(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=it(s);l.onlineState=o;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.ba)h.va(o)&&(c=!0)}),c&&Pb(l)}(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function YZ(t,e,n){const r=it(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let s=new fn(qe.comparator);s=s.insert(a,xr.newNoDocument(a,rt.min()));const o=vt().add(a),l=new $2(rt.min(),new Map,new fn(yt),s,o);await c$(r,l),r.Ru=r.Ru.remove(a),r.Au.delete(e),Ib(r)}else await p7(r.localStore,e,!1).then(()=>y7(r,e,n)).catch(cd)}async function QZ(t,e){const n=it(t),r=e.batch.batchId;try{const i=await aZ(n.localStore,e);d$(n,r,null),u$(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await n4(n,i)}catch(i){await cd(i)}}async function XZ(t,e,n){const r=it(t);try{const i=await function(s,o){const l=it(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(d=>(Ct(d!==null,37113),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);d$(r,e,n),u$(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await n4(r,i)}catch(i){await cd(i)}}function u$(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function d$(t,e,n){const r=it(t);let i=r.du[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function y7(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||f$(t,r)})}function f$(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(_b(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Ib(t))}function uN(t,e,n){for(const r of n)r instanceof s$?(t.Vu.addReference(r.key,e),JZ(t,r)):r instanceof o$?(De(Ab,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||f$(t,r.key)):Ze(19791,{wu:r})}function JZ(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(De(Ab,"New document in limbo: "+n),t.Eu.add(r),Ib(t))}function Ib(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new qe(zt.fromString(e)),r=t.fu.next();t.Au.set(r,new UZ(n)),t.Ru=t.Ru.insert(n,r),XR(t.remoteStore,new Bo(ns(fb(n.path)),r,"TargetPurposeLimboResolution",I2.ce))}}async function n4(t,e,n){const r=it(t),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{s.push(r.pu(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=bb.Es(l.targetId,c);a.push(d)}}))}),await Promise.all(s),r.Pu.J_(i),await async function(l,c){const u=it(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>pe.forEach(c,h=>pe.forEach(h.Ts,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>pe.forEach(h.Is,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!ud(d))throw d;De(wb,"Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.vs.get(h),g=p.snapshotVersion,x=p.withLastLimboFreeSnapshotVersion(g);u.vs=u.vs.insert(h,x)}}}(r.localStore,a))}async function ZZ(t,e){const n=it(t);if(!n.currentUser.isEqual(e)){De(Ab,"User change. New user:",e.toKey());const r=await GR(n.localStore,e);n.currentUser=e,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new je(de.CANCELLED,s))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await n4(n,r.Ns)}}function eee(t,e){const n=it(t),r=n.Au.get(e);if(r&&r.hu)return vt().add(r.key);{let i=vt();const a=n.Iu.get(e);if(!a)return i;for(const s of a){const o=n.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function h$(t){const e=it(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=c$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YZ.bind(null,e),e.Pu.J_=$Z.bind(null,e.eventManager),e.Pu.yu=LZ.bind(null,e.eventManager),e}function tee(t){const e=it(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XZ.bind(null,e),e}class i1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=L2(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return iZ(this.persistence,new tZ,e.initialUser,this.serializer)}Cu(e){return new HR(xb.Vi,this.serializer)}Du(e){return new dZ}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}i1.provider={build:()=>new i1};class nee extends i1{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ct(this.persistence.referenceDelegate instanceof n1,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new VJ(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Hr.withCacheSize(this.cacheSizeBytes):Hr.DEFAULT;return new HR(r=>n1.Vi(r,n),this.serializer)}}class v7{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZZ.bind(null,this.syncEngine),await MZ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new RZ}()}createDatastore(e){const n=L2(e.databaseInfo.databaseId),r=gZ(e.databaseInfo);return wZ(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,o){return new SZ(r,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>cN(this.syncEngine,n,0),function(){return rN.v()?new rN:new fZ}())}createSyncEngine(e,n){return function(i,a,s,o,l,c,u){const d=new BZ(i,a,s,o,l,c);return u&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=it(i);De(Pl,"RemoteStore shutting down."),a.Ea.add(5),await t4(a),a.Aa.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}v7.provider={build:()=>new v7};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Js("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="FirestoreClient";class ree{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=gr.UNAUTHENTICATED,this.clientId=sb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{De(y0,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(De(y0,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new a0;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Tb(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function H6(t,e){t.asyncQueue.verifyOperationInProgress(),De(y0,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await GR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function dN(t,e){t.asyncQueue.verifyOperationInProgress();const n=await iee(t);De(y0,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>aN(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>aN(e.remoteStore,i)),t._onlineComponents=e}async function iee(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){De(y0,"Using user provided OfflineComponentProvider");try{await H6(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===de.FAILED_PRECONDITION||i.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Tl("Error using user provided cache. Falling back to memory cache: "+n),await H6(t,new i1)}}else De(y0,"Using default OfflineComponentProvider"),await H6(t,new nee(void 0));return t._offlineComponents}async function m$(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(De(y0,"Using user provided OnlineComponentProvider"),await dN(t,t._uninitializedComponentsProvider._online)):(De(y0,"Using default OnlineComponentProvider"),await dN(t,new v7))),t._onlineComponents}function aee(t){return m$(t).then(e=>e.syncEngine)}async function x7(t){const e=await m$(t),n=e.eventManager;return n.onListen=zZ.bind(null,e.syncEngine),n.onUnlisten=HZ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=WZ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=GZ.bind(null,e.syncEngine),n}function see(t,e,n,r){const i=new p$(r),a=new a$(e,i,n);return t.asyncQueue.enqueueAndForget(async()=>r$(await x7(t),a)),()=>{i.Nu(),t.asyncQueue.enqueueAndForget(async()=>i$(await x7(t),a))}}function oee(t,e,n={}){const r=new a0;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,c){const u=new p$({next:h=>{u.Nu(),s.enqueueAndForget(()=>i$(a,d)),h.fromCache&&l.source==="server"?c.reject(new je(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new a$(o,u,{includeMetadataChanges:!0,Ka:!0});return r$(a,d)}(await x7(t),t.asyncQueue,e,n,r)),r.promise}function lee(t,e){const n=new a0;return t.asyncQueue.enqueueAndForget(async()=>KZ(await aee(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g$(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cee="ComponentProvider",fN=new Map;function uee(t,e,n,r,i){return new IX(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,g$(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y$="firestore.googleapis.com",hN=!0;class pN{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new je(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=y$,this.ssl=hN}else this.host=e.host,this.ssl=e.ssl??hN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LJ)throw new je(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xX("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=g$(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new je(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new je(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new je(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class U2{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pN({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new je(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new je(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pN(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new cX;switch(r.type){case"firstParty":return new hX(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new je(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=fN.get(n);r&&(De(cee,"Removing Datastore"),fN.delete(n),r.terminate())}(this),Promise.resolve()}}function dee(t,e,n,r={}){var c;t=Yi(t,U2);const i=S0(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(nb(`https://${o}`),rb("Firestore",!0)),a.host!==y$&&a.host!==o&&Tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:r};if(!d0(l,s)&&(t._setSettings(l),r.mockUserToken)){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=gr.MOCK_USER;else{u=FD(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new je(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new gr(h)}t._authCredentials=new uX(new nR(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new T0(this.firestore,e,this._query)}}class Tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new s0(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}toJSON(){return{type:Tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Jp(n,Tn._jsonSchema))return new Tn(e,r||null,new qe(zt.fromString(n.referencePath)))}}Tn._jsonSchemaVersion="firestore/documentReference/1.0",Tn._jsonSchema={type:Mn("string",Tn._jsonSchemaVersion),referencePath:Mn("string")};class s0 extends T0{constructor(e,n,r){super(e,n,fb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new qe(e))}withConverter(e){return new s0(this.firestore,e,this._path)}}function gc(t,e,...n){if(t=Mt(t),rR("collection","path",e),t instanceof U2){const r=zt.fromString(e,...n);return TE(r),new s0(t,null,r)}{if(!(t instanceof Tn||t instanceof s0))throw new je(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(zt.fromString(e,...n));return TE(r),new s0(t.firestore,null,r)}}function a3(t,e,...n){if(t=Mt(t),arguments.length===1&&(e=sb.newId()),rR("doc","path",e),t instanceof U2){const r=zt.fromString(e,...n);return NE(r),new Tn(t,null,new qe(r))}{if(!(t instanceof Tn||t instanceof s0))throw new je(de.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(zt.fromString(e,...n));return NE(r),new Tn(t.firestore,t instanceof s0?t.converter:null,new qe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="AsyncQueue";class gN{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new YR(this,"async_queue_retry"),this._c=()=>{const r=q6();r&&De(mN,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=q6();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=q6();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new a0;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ud(e))throw e;De(mN,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Js("INTERNAL UNHANDLED ERROR: ",yN(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Nb.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&Ze(47125,{Pc:yN(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function yN(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class v0 extends U2{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new gN,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gN(e),this._firestoreClient=void 0,await e}}}function fee(t,e){const n=typeof t=="object"?t:P2(),r=typeof t=="string"?t:Q3,i=k0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=RD("firestore");a&&dee(i,...a)}return i}function Cb(t){if(t._terminated)throw new je(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||hee(t),t._firestoreClient}function hee(t){var r,i,a,s;const e=t._freezeSettings(),n=uee(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new ree(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fi(ur.fromBase64String(e))}catch(n){throw new je(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fi(ur.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jp(e,Fi._jsonSchema))return Fi.fromBase64String(e.bytes)}}Fi._jsonSchemaVersion="firestore/bytes/1.0",Fi._jsonSchema={type:Mn("string",Fi._jsonSchemaVersion),bytes:Mn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new je(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new je(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new je(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return yt(this._lat,e._lat)||yt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:is._jsonSchemaVersion}}static fromJSON(e){if(Jp(e,is._jsonSchema))return new is(e.latitude,e.longitude)}}is._jsonSchemaVersion="firestore/geoPoint/1.0",is._jsonSchema={type:Mn("string",is._jsonSchemaVersion),latitude:Mn("number"),longitude:Mn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Na._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jp(e,Na._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Na(e.vectorValues);throw new je(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Na._jsonSchemaVersion="firestore/vectorValue/1.0",Na._jsonSchema={type:Mn("string",Na._jsonSchemaVersion),vectorValues:Mn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pee=/^__.*__$/;class mee{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new N0(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zp(e,this.data,n,this.fieldTransforms)}}class v${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new N0(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function x$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ze(40011,{dataSource:t})}}class Mb{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Mb({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return a1(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(x$(this.dataSource)&&pee.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class gee{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||L2(e)}createContext(e,n,r,i=!1){return new Mb({dataSource:e,methodName:n,targetDoc:r,path:sr.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function B2(t){const e=t._freezeSettings(),n=L2(t._databaseId);return new gee(t._databaseId,!!e.ignoreUndefinedProperties,n)}function b$(t,e,n,r,i,a={}){const s=t.createContext(a.merge||a.mergeFields?2:0,e,n,i);Db("Data must be an object, but it was:",s,r);const o=w$(r,s);let l,c;if(a.merge)l=new xi(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const u=[];for(const d of a.mergeFields){const h=Al(e,d,n);if(!s.contains(h))throw new je(de.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);k$(u,h)||u.push(h)}l=new xi(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new mee(new Xr(o),l,c)}class z2 extends jb{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof z2}}function yee(t,e,n,r){const i=t.createContext(1,e,n);Db("Data must be an object, but it was:",i,r);const a=[],s=Xr.empty();E0(r,(l,c)=>{const u=S$(e,l,n);c=Mt(c);const d=i.childContextForFieldPath(u);if(c instanceof z2)a.push(u);else{const h=r4(c,d);h!=null&&(a.push(u),s.set(u,h))}});const o=new xi(a);return new v$(s,o,i.fieldTransforms)}function vee(t,e,n,r,i,a){const s=t.createContext(1,e,n),o=[Al(e,r,n)],l=[i];if(a.length%2!=0)throw new je(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)o.push(Al(e,a[h])),l.push(a[h+1]);const c=[],u=Xr.empty();for(let h=o.length-1;h>=0;--h)if(!k$(c,o[h])){const p=o[h];let g=l[h];g=Mt(g);const x=s.childContextForFieldPath(p);if(g instanceof z2)c.push(p);else{const v=r4(g,x);v!=null&&(c.push(p),u.set(p,v))}}const d=new xi(c);return new v$(u,d,s.fieldTransforms)}function xee(t,e,n,r=!1){return r4(n,t.createContext(r?4:3,e))}function r4(t,e){if(_$(t=Mt(t)))return Db("Unsupported field value:",e,t),w$(t,e);if(t instanceof jb)return function(r,i){if(!x$(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let l=r4(o,i.childContextForArray(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nJ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Yt.fromDate(r);return{timestampValue:t1(i.serializer,a)}}if(r instanceof Yt){const a=new Yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:t1(i.serializer,a)}}if(r instanceof is)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fi)return{bytesValue:$R(i.serializer,r._byteString)};if(r instanceof Tn){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:yb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Na)return function(s,o){const l=s instanceof Na?s.toArray():s;return{mapValue:{fields:{[fR]:{stringValue:hR},[X3]:{arrayValue:{values:l.map(u=>{if(typeof u!="number")throw o.createError("VectorValues must only contain numeric values.");return hb(o.serializer,u)})}}}}}}(r,i);if(WR(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${A2(r)}`)}(t,e)}function w$(t,e){const n={};return sR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):E0(t,(r,i)=>{const a=r4(i,e.childContextForField(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function _$(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Yt||t instanceof is||t instanceof Fi||t instanceof Tn||t instanceof jb||t instanceof Na||WR(t))}function Db(t,e,n){if(!_$(n)||!iR(n)){const r=A2(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Al(t,e,n){if((e=Mt(e))instanceof Ob)return e._internalPath;if(typeof e=="string")return S$(t,e);throw a1("Field path arguments must be of type string or ",t,!1,void 0,n)}const bee=new RegExp("[~\\*/\\[\\]]");function S$(t,e,n){if(e.search(bee)>=0)throw a1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ob(...e.split("."))._internalPath}catch{throw a1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function a1(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new je(de.INVALID_ARGUMENT,o+t+l)}function k$(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wee{convertValue(e,n="none"){switch(m0(e)){case 0:return null;case 1:return e.booleanValue;case 2:return En(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(p0(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ze(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return E0(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[X3].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>En(s.doubleValue));return new Na(n)}convertGeoPoint(e){return new is(En(e.latitude),En(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=O2(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fh(e));default:return null}}convertTimestamp(e){const n=h0(e);return new Yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=zt.fromString(e);Ct(zR(r),9688,{name:e});const i=new Vh(r.get(1),r.get(3)),a=new qe(r.popFirst(5));return i.isEqual(n)||Js(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb extends wee{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,n)}}const vN="@firebase/firestore",xN="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _ee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Al("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _ee extends E${data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new je(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $b{}class T$ extends $b{}function wN(t,e,...n){let r=[];e instanceof $b&&r.push(e),r=r.concat(n),function(a){const s=a.filter(l=>l instanceof Lb).length,o=a.filter(l=>l instanceof W2).length;if(s>1||s>0&&o>0)throw new je(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class W2 extends T${constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new W2(e,n,r)}_apply(e){const n=this._parse(e);return P$(e._query,n),new T0(e.firestore,e.converter,l7(e._query,n))}_parse(e){const n=B2(e.firestore);return function(a,s,o,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new je(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){SN(d,u);const g=[];for(const x of d)g.push(_N(l,a,x));h={arrayValue:{values:g}}}else h=_N(l,a,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||SN(d,u),h=xee(o,s,d,u==="in"||u==="not-in");return jn.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function See(t,e,n){const r=e,i=Al("where",t);return W2._create(i,r,n)}class Lb extends $b{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lb(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ca.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)P$(s,l),s=l7(s,l)}(e._query,n),new T0(e.firestore,e.converter,l7(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Fb extends T${constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Fb(e,n)}_apply(e){const n=function(i,a,s){if(i.startAt!==null)throw new je(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new je(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bh(a,s)}(e._query,this._field,this._direction);return new T0(e.firestore,e.converter,KX(e._query,n))}}function kee(t,e="asc"){const n=e,r=Al("orderBy",t);return Fb._create(r,n)}function _N(t,e,n){if(typeof(n=Mt(n))=="string"){if(n==="")throw new je(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wR(e)&&n.indexOf("/")!==-1)throw new je(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(zt.fromString(n));if(!qe.isDocumentKey(r))throw new je(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return DE(t,new qe(r))}if(n instanceof Tn)return DE(t,n._key);throw new je(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${A2(n)}.`)}function SN(t,e){if(!Array.isArray(t)||t.length===0)throw new je(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function P$(t,e){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new je(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new je(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function A$(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class kf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ml extends E${constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new s3(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Al("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new je(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ml._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ml._jsonSchemaVersion="firestore/documentSnapshot/1.0",ml._jsonSchema={type:Mn("string",ml._jsonSchemaVersion),bundleSource:Mn("string","DocumentSnapshot"),bundleName:Mn("string"),bundle:Mn("string")};class s3 extends ml{data(e={}){return super.data(e)}}class gl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new kf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new s3(this._firestore,this._userDataWriter,r.key,r,new kf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new je(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new s3(i._firestore,i._userDataWriter,o.doc.key,o.doc,new kf(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new s3(i._firestore,i._userDataWriter,o.doc.key,o.doc,new kf(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:Eee(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new je(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=gl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Eee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ze(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gl._jsonSchemaVersion="firestore/querySnapshot/1.0",gl._jsonSchema={type:Mn("string",gl._jsonSchemaVersion),bundleSource:Mn("string","QuerySnapshot"),bundleName:Mn("string"),bundle:Mn("string")};function kN(t){t=Yi(t,T0);const e=Yi(t.firestore,v0),n=Cb(e),r=new Rb(e);return N$(t._query),oee(n,t._query).then(i=>new gl(e,r,t,i))}function Nee(t,e,n){t=Yi(t,Tn);const r=Yi(t.firestore,v0),i=A$(t.converter,e),a=B2(r);return q2(r,[b$(a,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Qi.none())])}function Tee(t,e,n,...r){t=Yi(t,Tn);const i=Yi(t.firestore,v0),a=B2(i);let s;return s=typeof(e=Mt(e))=="string"||e instanceof Ob?vee(a,"updateDoc",t._key,e,n,r):yee(a,"updateDoc",t._key,e),q2(i,[s.toMutation(t._key,Qi.exists(!0))])}function EN(t){return q2(Yi(t.firestore,v0),[new pb(t._key,Qi.none())])}function Pee(t,e){const n=Yi(t.firestore,v0),r=a3(t),i=A$(t.converter,e),a=B2(t.firestore);return q2(n,[b$(a,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Qi.exists(!1))]).then(()=>r)}function NN(t,...e){var c,u,d;t=Mt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||bN(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(bN(e[r])){const h=e[r];e[r]=(c=h.next)==null?void 0:c.bind(h),e[r+1]=(u=h.error)==null?void 0:u.bind(h),e[r+2]=(d=h.complete)==null?void 0:d.bind(h)}let a,s,o;if(t instanceof Tn)s=Yi(t.firestore,v0),o=fb(t._key.path),a={next:h=>{e[r]&&e[r](Aee(s,t,h))},error:e[r+1],complete:e[r+2]};else{const h=Yi(t,T0);s=Yi(h.firestore,v0),o=h._query;const p=new Rb(s);a={next:g=>{e[r]&&e[r](new gl(s,p,h,g))},error:e[r+1],complete:e[r+2]},N$(t._query)}const l=Cb(s);return see(l,o,i,a)}function q2(t,e){const n=Cb(t);return lee(n,e)}function Aee(t,e,n){const r=n.docs.get(e._key),i=new Rb(t);return new ml(t,i,e._key,r,new kf(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){lX(tc),Ia(new ea("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new v0(new dX(r.getProvider("auth-internal")),new pX(s,r.getProvider("app-check-internal")),CX(s,i),s);return a={useFetchStreams:n,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),ii(vN,xN,e),ii(vN,xN,"esm2020")})();var Iee="firebase",Cee="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ii(Iee,Cee,"app");function I$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Oee=I$,C$=new ec("auth","Firebase",I$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=new T2("@firebase/auth");function jee(t,...e){s1.logLevel<=gt.WARN&&s1.warn(`Auth (${tc}): ${t}`,...e)}function o3(t,...e){s1.logLevel<=gt.ERROR&&s1.error(`Auth (${tc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(t,...e){throw Ub(t,...e)}function Ta(t,...e){return Ub(t,...e)}function Vb(t,e,n){const r={...Oee(),[e]:n};return new ec("auth","Firebase",r).create(e,{appName:t.name})}function zs(t){return Vb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mee(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ta(t,"argument-error"),Vb(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ub(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return C$.create(t,...e)}function Je(t,e,...n){if(!t)throw Ub(e,...n)}function Os(t){const e="INTERNAL ASSERTION FAILED: "+t;throw o3(e),new Error(e)}function eo(t,e){t||Os(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b7(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Dee(){return TN()==="http:"||TN()==="https:"}function TN(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ree(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Dee()||VD()||"connection"in navigator)?navigator.onLine:!0}function $ee(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e,n){this.shortDelay=e,this.longDelay=n,eo(n>e,"Short delay should be less than long delay!"),this.isMobile=$Y()||VY()}get(){return Ree()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t,e){eo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lee={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fee=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Vee=new i4(3e4,6e4);function P0(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function hs(t,e,n,r,i={}){return j$(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const o=Xp({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...a};return FY()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&S0(t.emulatorConfig.host)&&(c.credentials="include"),O$.fetch()(await M$(t,t.config.apiHost,n,o),c)})}async function j$(t,e,n){t._canInitEmulator=!1;const r={...Lee,...e};try{const i=new Bee(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw am(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw am(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw am(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw am(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Vb(t,u,c);ta(t,u)}}catch(i){if(i instanceof ra)throw i;ta(t,"network-request-failed",{message:String(i)})}}async function a4(t,e,n,r,i={}){const a=await hs(t,e,n,r,i);return"mfaPendingCredential"in a&&ta(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function M$(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?Bb(t.config,i):`${t.config.apiScheme}://${i}`;return Fee.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function Uee(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Bee{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ta(this.auth,"network-request-failed")),Vee.get())})}}function am(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ta(t,e,r);return i.customData._tokenResponse=n,i}function PN(t){return t!==void 0&&t.enterprise!==void 0}class zee{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Uee(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Wee(t,e){return hs(t,"GET","/v2/recaptchaConfig",P0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qee(t,e){return hs(t,"POST","/v1/accounts:delete",e)}async function o1(t,e){return hs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Hee(t,e=!1){const n=Mt(t),r=await n.getIdToken(e),i=zb(r);Je(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:nh(G6(i.auth_time)),issuedAtTime:nh(G6(i.iat)),expirationTime:nh(G6(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function G6(t){return Number(t)*1e3}function zb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return o3("JWT malformed, contained fewer than 3 sections"),null;try{const i=MD(n);return i?JSON.parse(i):(o3("Failed to decode base64 JWT payload"),null)}catch(i){return o3("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function AN(t){const e=zb(t);return Je(e,"internal-error"),Je(typeof e.exp<"u","internal-error"),Je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ra&&Gee(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Gee({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nh(this.lastLoginAt),this.creationTime=nh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l1(t){var d;const e=t.auth,n=await t.getIdToken(),r=await Il(t,o1(e,{idToken:n}));Je(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(d=i.providerUserInfo)!=null&&d.length?D$(i.providerUserInfo):[],s=Qee(t.providerData,a),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),c=o?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new w7(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function Yee(t){const e=Mt(t);await l1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Qee(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function D$(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xee(t,e){const n=await j$(t,{},async()=>{const r=Xp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await M$(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&S0(t.emulatorConfig.host)&&(l.credentials="include"),O$.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Jee(t,e){return hs(t,"POST","/v2/accounts:revokeToken",P0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Je(e.idToken,"internal-error"),Je(typeof e.idToken<"u","internal-error"),Je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Je(e.length!==0,"internal-error");const n=AN(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await Xee(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new au;return r&&(Je(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Je(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Je(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new au,this.toJSON())}_performRefresh(){return Os("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(t,e){Je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class va{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Kee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new w7(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Il(this,this.stsTokenManager.getToken(this.auth,e));return Je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Hee(this,e)}reload(){return Yee(this)}_assign(e){this!==e&&(Je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new va({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await l1(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qr(this.auth.app))return Promise.reject(zs(this.auth));const e=await this.getIdToken();return await Il(this,qee(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:h,isAnonymous:p,providerData:g,stsTokenManager:x}=n;Je(d&&x,e,"internal-error");const v=au.fromJSON(this.name,x);Je(typeof d=="string",e,"internal-error"),wo(r,e.name),wo(i,e.name),Je(typeof h=="boolean",e,"internal-error"),Je(typeof p=="boolean",e,"internal-error"),wo(a,e.name),wo(s,e.name),wo(o,e.name),wo(l,e.name),wo(c,e.name),wo(u,e.name);const y=new va({uid:d,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:p,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:v,createdAt:c,lastLoginAt:u});return g&&Array.isArray(g)&&(y.providerData=g.map(b=>({...b}))),l&&(y._redirectEventId=l),y}static async _fromIdTokenResponse(e,n,r=!1){const i=new au;i.updateFromServerResponse(n);const a=new va({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await l1(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Je(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?D$(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new au;o.updateFromIdToken(r);const l=new va({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new w7(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=new Map;function js(t){eo(t instanceof Function,"Expected a class definition");let e=IN.get(t);return e?(eo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,IN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}R$.type="NONE";const CN=R$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(t,e,n){return`firebase:${t}:${e}:${n}`}class su{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=l3(this.userKey,i.apiKey,a),this.fullPersistenceKey=l3("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await o1(this.auth,{idToken:e}).catch(()=>{});return n?va._fromGetAccountInfoResponse(this.auth,n,e):null}return va._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new su(js(CN),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||js(CN);const s=l3(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const u=await c._get(s);if(u){let d;if(typeof u=="string"){const h=await o1(e,{idToken:u}).catch(()=>{});if(!h)break;d=await va._fromGetAccountInfoResponse(e,h,u)}else d=va._fromJSON(e,u);c!==a&&(o=d),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new su(a,e,r):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(s)}catch{}})),new su(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(V$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(B$(e))return"Blackberry";if(z$(e))return"Webos";if(L$(e))return"Safari";if((e.includes("chrome/")||F$(e))&&!e.includes("edge/"))return"Chrome";if(U$(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $$(t=kr()){return/firefox\//i.test(t)}function L$(t=kr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function F$(t=kr()){return/crios\//i.test(t)}function V$(t=kr()){return/iemobile/i.test(t)}function U$(t=kr()){return/android/i.test(t)}function B$(t=kr()){return/blackberry/i.test(t)}function z$(t=kr()){return/webos/i.test(t)}function Wb(t=kr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Zee(t=kr()){var e;return Wb(t)&&!!((e=window.navigator)!=null&&e.standalone)}function ete(){return UY()&&document.documentMode===10}function W$(t=kr()){return Wb(t)||U$(t)||z$(t)||B$(t)||/windows phone/i.test(t)||V$(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q$(t,e=[]){let n;switch(t){case"Browser":n=ON(kr());break;case"Worker":n=`${ON(kr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${tc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tte{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nte(t,e={}){return hs(t,"GET","/v2/passwordPolicy",P0(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rte=6;class ite{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??rte,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ate{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jN(this),this.idTokenSubscription=new jN(this),this.beforeStateQueue=new tte(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=js(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await su.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await o1(this,{idToken:e}),r=await va._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Qr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await l1(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$ee()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qr(this.app))return Promise.reject(zs(this));const n=e?Mt(e):null;return n&&Je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qr(this.app)?Promise.reject(zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qr(this.app)?Promise.reject(zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(js(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nte(this),n=new ite(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ec("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Jee(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&js(e)||this._popupRedirectResolver;Je(n,this,"argument-error"),this.redirectPersistenceManager=await su.create(this,[js(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Je(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=q$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Qr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&jee(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function A0(t){return Mt(t)}class jN{constructor(e){this.auth=e,this.observer=null,this.addObserver=KY(n=>this.observer=n)}get next(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ste(t){H2=t}function H$(t){return H2.loadJS(t)}function ote(){return H2.recaptchaEnterpriseScript}function lte(){return H2.gapiScript}function cte(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class ute{constructor(){this.enterprise=new dte}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class dte{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const fte="recaptcha-enterprise",G$="NO_RECAPTCHA";class hte{constructor(e){this.type=fte,this.auth=A0(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{Wee(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new zee(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,s(c.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;PN(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{s(c)}).catch(()=>{s(G$)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ute().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(o=>{if(!n&&PN(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=ote();l.length!==0&&(l+=o),H$(l).then(()=>{i(o,a,s)}).catch(c=>{s(c)})}}).catch(o=>{s(o)})})}}async function MN(t,e,n,r=!1,i=!1){const a=new hte(t);let s;if(i)s=G$;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function _7(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await MN(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await MN(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pte(t,e){const n=k0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(d0(a,e??{}))return i;ta(i,"already-initialized")}return n.initialize({options:e})}function mte(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(js);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function gte(t,e,n){const r=A0(t);Je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=K$(e),{host:s,port:o}=yte(e),l=o===null?"":`:${o}`,c={url:`${a}//${s}${l}/`},u=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Je(d0(c,r.config.emulator)&&d0(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,S0(s)?(nb(`${a}//${s}${l}`),rb("Auth",!0)):vte()}function K$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yte(t){const e=K$(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:DN(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:DN(s)}}}function DN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function vte(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Os("not implemented")}_getIdTokenResponse(e){return Os("not implemented")}_linkToIdToken(e,n){return Os("not implemented")}_getReauthenticationResolver(e){return Os("not implemented")}}async function xte(t,e){return hs(t,"POST","/v1/accounts:update",e)}async function bte(t,e){return hs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wte(t,e){return a4(t,"POST","/v1/accounts:signInWithPassword",P0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _te(t,e){return a4(t,"POST","/v1/accounts:signInWithEmailLink",P0(t,e))}async function Ste(t,e){return a4(t,"POST","/v1/accounts:signInWithEmailLink",P0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends qb{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new qh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new qh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _7(e,n,"signInWithPassword",wte);case"emailLink":return _te(e,{email:this._email,oobCode:this._password});default:ta(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _7(e,r,"signUpPassword",bte);case"emailLink":return Ste(e,{idToken:n,email:this._email,oobCode:this._password});default:ta(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(t,e){return a4(t,"POST","/v1/accounts:signInWithIdp",P0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kte="http://localhost";class Cl extends qb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Cl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ta("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new Cl(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ou(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ou(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ou(e,n)}buildRequest(){const e={requestUri:kte,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ete(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Nte(t){const e=xf(bf(t)).link,n=e?xf(bf(e)).deep_link_id:null,r=xf(bf(t)).deep_link_id;return(r?xf(bf(r)).link:null)||r||n||e||t}class Hb{constructor(e){const n=xf(bf(e)),r=n.apiKey??null,i=n.oobCode??null,a=Ete(n.mode??null);Je(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Nte(e);try{return new Hb(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(){this.providerId=ic.PROVIDER_ID}static credential(e,n){return qh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Hb.parseLink(n);return Je(r,"argument-error"),qh._fromEmailAndCode(e,r.code,r.tenantId)}}ic.PROVIDER_ID="password";ic.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ic.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4 extends Gb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends s4{constructor(){super("facebook.com")}static credential(e){return Cl._fromParams({providerId:Co.PROVIDER_ID,signInMethod:Co.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Co.credentialFromTaggedObject(e)}static credentialFromError(e){return Co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Co.credential(e.oauthAccessToken)}catch{return null}}}Co.FACEBOOK_SIGN_IN_METHOD="facebook.com";Co.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends s4{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Cl._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ns.credential(n,r)}catch{return null}}}Ns.GOOGLE_SIGN_IN_METHOD="google.com";Ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends s4{constructor(){super("github.com")}static credential(e){return Cl._fromParams({providerId:Oo.PROVIDER_ID,signInMethod:Oo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oo.credentialFromTaggedObject(e)}static credentialFromError(e){return Oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oo.credential(e.oauthAccessToken)}catch{return null}}}Oo.GITHUB_SIGN_IN_METHOD="github.com";Oo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends s4{constructor(){super("twitter.com")}static credential(e,n){return Cl._fromParams({providerId:jo.PROVIDER_ID,signInMethod:jo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return jo.credentialFromTaggedObject(e)}static credentialFromError(e){return jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return jo.credential(n,r)}catch{return null}}}jo.TWITTER_SIGN_IN_METHOD="twitter.com";jo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tte(t,e){return a4(t,"POST","/v1/accounts:signUp",P0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await va._fromIdTokenResponse(e,r,i),s=RN(r);return new Ol({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=RN(r);return new Ol({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function RN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1 extends ra{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,c1.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new c1(e,n,r,i)}}function Y$(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?c1._fromErrorAndOperation(t,a,e,r):a})}async function Pte(t,e,n=!1){const r=await Il(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ol._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q$(t,e,n=!1){const{auth:r}=t;if(Qr(r.app))return Promise.reject(zs(r));const i="reauthenticate";try{const a=await Il(t,Y$(r,i,e,t),n);Je(a.idToken,r,"internal-error");const s=zb(a.idToken);Je(s,r,"internal-error");const{sub:o}=s;return Je(t.uid===o,r,"user-mismatch"),Ol._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ta(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X$(t,e,n=!1){if(Qr(t.app))return Promise.reject(zs(t));const r="signIn",i=await Y$(t,r,e),a=await Ol._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function Ate(t,e){return X$(A0(t),e)}async function Ite(t,e){return Q$(Mt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J$(t){const e=A0(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Cte(t,e,n){if(Qr(t.app))return Promise.reject(zs(t));const r=A0(t),s=await _7(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Tte).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&J$(t),l}),o=await Ol._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}function Ote(t,e,n){return Qr(t.app)?Promise.reject(zs(t)):Ate(Mt(t),ic.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&J$(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jte(t,e){return hs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K6(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Mt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await Il(r,jte(r.auth,a));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function Mte(t,e){return Dte(Mt(t),null,e)}async function Dte(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const s=await Il(t,xte(r,a));await t._updateTokensIfNecessary(s,!0)}function Z$(t,e,n,r){return Mt(t).onIdTokenChanged(e,n,r)}function Rte(t,e,n){return Mt(t).beforeAuthStateChanged(e,n)}function $te(t,e,n,r){return Mt(t).onAuthStateChanged(e,n,r)}function Lte(t){return Mt(t).signOut()}const u1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(u1,"1"),this.storage.removeItem(u1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fte=1e3,Vte=10;class tL extends eL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=W$(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);ete()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Vte):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Fte)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tL.type="LOCAL";const Ute=tL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL extends eL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nL.type="SESSION";const rL=nL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bte(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new G2(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(s).map(async c=>c(n.origin,a)),l=await Bte(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}G2.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zte{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const c=Kb("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(h.data.response);break;default:clearTimeout(u),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(){return window}function Wte(t){as().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(){return typeof as().WorkerGlobalScope<"u"&&typeof as().importScripts=="function"}async function qte(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Hte(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Gte(){return iL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL="firebaseLocalStorageDb",Kte=1,d1="firebaseLocalStorage",sL="fbase_key";class o4{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function K2(t,e){return t.transaction([d1],e?"readwrite":"readonly").objectStore(d1)}function Yte(){const t=indexedDB.deleteDatabase(aL);return new o4(t).toPromise()}function S7(){const t=indexedDB.open(aL,Kte);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(d1,{keyPath:sL})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(d1)?e(r):(r.close(),await Yte(),e(await S7()))})})}async function $N(t,e,n){const r=K2(t,!0).put({[sL]:e,value:n});return new o4(r).toPromise()}async function Qte(t,e){const n=K2(t,!1).get(e),r=await new o4(n).toPromise();return r===void 0?null:r.value}function LN(t,e){const n=K2(t,!0).delete(e);return new o4(n).toPromise()}const Xte=800,Jte=3;class oL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await S7(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Jte)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=G2._getInstance(Gte()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await qte(),!this.activeServiceWorker)return;this.sender=new zte(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Hte()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await S7();return await $N(e,u1,"1"),await LN(e,u1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$N(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Qte(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>LN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=K2(i,!1).getAll();return new o4(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Xte)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oL.type="LOCAL";const Zte=oL;new i4(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(t,e){return e?js(e):(Je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb extends qb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ou(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ou(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ou(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ene(t){return X$(t.auth,new Yb(t),t.bypassAuthState)}function tne(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),Q$(n,new Yb(t),t.bypassAuthState)}async function nne(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),Pte(n,new Yb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ene;case"linkViaPopup":case"linkViaRedirect":return nne;case"reauthViaPopup":case"reauthViaRedirect":return tne;default:ta(this.auth,"internal-error")}}resolve(e){eo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){eo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rne=new i4(2e3,1e4);async function ine(t,e,n){if(Qr(t.app))return Promise.reject(Ta(t,"operation-not-supported-in-this-environment"));const r=A0(t);Mee(t,e,Gb);const i=lL(r,n);return new il(r,"signInViaPopup",e,i).executeNotNull()}class il extends cL{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,il.currentPopupAction&&il.currentPopupAction.cancel(),il.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Je(e,this.auth,"internal-error"),e}async onExecution(){eo(this.filter.length===1,"Popup operations only handle one event");const e=Kb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ta(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ta(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,il.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ta(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rne.get())};e()}}il.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ane="pendingRedirect",c3=new Map;class sne extends cL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=c3.get(this.auth._key());if(!e){try{const r=await one(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}c3.set(this.auth._key(),e)}return this.bypassAuthState||c3.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function one(t,e){const n=une(e),r=cne(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function lne(t,e){c3.set(t._key(),e)}function cne(t){return js(t._redirectPersistence)}function une(t){return l3(ane,t.config.apiKey,t.name)}async function dne(t,e,n=!1){if(Qr(t.app))return Promise.reject(zs(t));const r=A0(t),i=lL(r,e),s=await new sne(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fne=10*60*1e3;class hne{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pne(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!uL(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ta(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fne&&this.cachedEventUids.clear(),this.cachedEventUids.has(FN(e))}saveEventToCache(e){this.cachedEventUids.add(FN(e)),this.lastProcessedEventTime=Date.now()}}function FN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uL({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pne(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mne(t,e={}){return hs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gne=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yne=/^https?/;async function vne(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mne(t);for(const n of e)try{if(xne(n))return}catch{}ta(t,"unauthorized-domain")}function xne(t){const e=b7(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!yne.test(n))return!1;if(gne.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bne=new i4(3e4,6e4);function VN(){const t=as().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function wne(t){return new Promise((e,n)=>{var i,a,s;function r(){VN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VN(),n(Ta(t,"network-request-failed"))},timeout:bne.get()})}if((a=(i=as().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=as().gapi)!=null&&s.load)r();else{const o=cte("iframefcb");return as()[o]=()=>{gapi.load?r():n(Ta(t,"network-request-failed"))},H$(`${lte()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw u3=null,e})}let u3=null;function _ne(t){return u3=u3||wne(t),u3}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sne=new i4(5e3,15e3),kne="__/auth/iframe",Ene="emulator/auth/iframe",Nne={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tne=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pne(t){const e=t.config;Je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Bb(e,Ene):`https://${t.config.authDomain}/${kne}`,r={apiKey:e.apiKey,appName:t.name,v:tc},i=Tne.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Xp(r).slice(1)}`}async function Ane(t){const e=await _ne(t),n=as().gapi;return Je(n,t,"internal-error"),e.open({where:document.body,url:Pne(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nne,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=Ta(t,"network-request-failed"),o=as().setTimeout(()=>{a(s)},Sne.get());function l(){as().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ine={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Cne=500,One=600,jne="_blank",Mne="http://localhost";class UN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Dne(t,e,n,r=Cne,i=One){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...Ine,width:r.toString(),height:i.toString(),top:a,left:s},c=kr().toLowerCase();n&&(o=F$(c)?jne:n),$$(c)&&(e=e||Mne,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(Zee(c)&&o!=="_self")return Rne(e||"",o),new UN(null);const d=window.open(e||"",o,u);Je(d,t,"popup-blocked");try{d.focus()}catch{}return new UN(d)}function Rne(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ne="__/auth/handler",Lne="emulator/auth/handler",Fne=encodeURIComponent("fac");async function BN(t,e,n,r,i,a){Je(t.config.authDomain,t,"auth-domain-config-required"),Je(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:tc,eventId:i};if(e instanceof Gb){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",GY(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))s[u]=d}if(e instanceof s4){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${Fne}=${encodeURIComponent(l)}`:"";return`${Vne(t)}?${Xp(o).slice(1)}${c}`}function Vne({config:t}){return t.emulator?Bb(t,Lne):`https://${t.authDomain}/${$ne}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6="webStorageSupport";class Une{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rL,this._completeRedirectFn=dne,this._overrideRedirectResult=lne}async _openPopup(e,n,r,i){var s;eo((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await BN(e,n,r,b7(),i);return Dne(e,a,Kb())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await BN(e,n,r,b7(),i);return Wte(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(eo(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Ane(e),r=new hne(e);return n.register("authEvent",i=>(Je(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Y6,{type:Y6},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[Y6];a!==void 0&&n(!!a),ta(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vne(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return W$()||L$()||Wb()}}const Bne=Une;var zN="@firebase/auth",WN="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zne{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wne(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qne(t){Ia(new ea("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;Je(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q$(t)},c=new ate(r,i,a,l);return mte(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ia(new ea("auth-internal",e=>{const n=A0(e.getProvider("auth").getImmediate());return(r=>new zne(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ii(zN,WN,Wne(t)),ii(zN,WN,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hne=5*60,Gne=LD("authIdTokenMaxAge")||Hne;let qN=null;const Kne=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Gne)return;const i=n==null?void 0:n.token;qN!==i&&(qN=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Yne(t=P2()){const e=k0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=pte(t,{popupRedirectResolver:Bne,persistence:[Zte,Ute,rL]}),r=LD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=Kne(a.toString());Rte(n,s,()=>s(n.currentUser)),Z$(n,o=>s(o))}}const i=DD("auth");return i&&gte(n,`http://${i}`),n}function Qne(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}ste({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Ta("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",Qne().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qne("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL="firebasestorage.googleapis.com",fL="storageBucket",Xne=2*60*1e3,Jne=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n extends ra{constructor(e,n,r=0){super(Q6(e),`Firebase Storage: ${n} (${Q6(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Q6(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var bn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(bn||(bn={}));function Q6(t){return"storage/"+t}function Qb(){const t="An unknown error occurred, please check the error payload for server response.";return new _n(bn.UNKNOWN,t)}function Zne(t){return new _n(bn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function ere(t){return new _n(bn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function tre(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _n(bn.UNAUTHENTICATED,t)}function nre(){return new _n(bn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function rre(t){return new _n(bn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function ire(){return new _n(bn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function are(){return new _n(bn.CANCELED,"User canceled the upload/download.")}function sre(t){return new _n(bn.INVALID_URL,"Invalid URL '"+t+"'.")}function ore(t){return new _n(bn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function lre(){return new _n(bn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+fL+"' property when initializing the app?")}function cre(){return new _n(bn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ure(){return new _n(bn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function dre(t){return new _n(bn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function k7(t){return new _n(bn.INVALID_ARGUMENT,t)}function hL(){return new _n(bn.APP_DELETED,"The Firebase app was deleted.")}function fre(t){return new _n(bn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rh(t,e){return new _n(bn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Qd(t){throw new _n(bn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=bi.makeFromUrl(e,n)}catch{return new bi(e,"")}if(r.path==="")return r;throw ore(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function c(E){E.path_=decodeURIComponent(E.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},x=n===dL?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",y=new RegExp(`^https?://${x}/${i}/${v}`,"i"),w=[{regex:o,indices:l,postModify:a},{regex:p,indices:g,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let E=0;E<w.length;E++){const S=w[E],k=S.regex.exec(e);if(k){const _=k[S.indices.bucket];let N=k[S.indices.path];N||(N=""),r=new bi(_,N),S.postModify(r);break}}if(r==null)throw sre(e);return r}}class hre{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pre(t,e,n){let r=1,i=null,a=null,s=!1,o=0;function l(){return o===2}let c=!1;function u(...v){c||(c=!0,e.apply(null,v))}function d(v){i=setTimeout(()=>{i=null,t(p,l())},v)}function h(){a&&clearTimeout(a)}function p(v,...y){if(c){h();return}if(v){h(),u.call(null,v,...y);return}if(l()||s){h(),u.call(null,v,...y);return}r<64&&(r*=2);let w;o===1?(o=2,w=0):w=(r+Math.random())*1e3,d(w)}let g=!1;function x(v){g||(g=!0,h(),!c&&(i!==null?(v||(o=2),clearTimeout(i),d(0)):v||(o=1)))}return d(0),a=setTimeout(()=>{s=!0,x(!0)},n),x}function mre(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gre(t){return t!==void 0}function yre(t){return typeof t=="object"&&!Array.isArray(t)}function Xb(t){return typeof t=="string"||t instanceof String}function HN(t){return Jb()&&t instanceof Blob}function Jb(){return typeof Blob<"u"}function GN(t,e,n,r){if(r<e)throw k7(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw k7(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function pL(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var yl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(yl||(yl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vre(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xre{constructor(e,n,r,i,a,s,o,l,c,u,d,h=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,x)=>{this.resolve_=g,this.reject_=x,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new sm(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===yl.NO_ERROR,l=a.getStatus();if(!o||vre(l,this.additionalRetryCodes_)&&this.retry){const u=a.getErrorCode()===yl.ABORT;r(!1,new sm(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new sm(c,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());gre(l)?a(l):a()}catch(l){s(l)}else if(o!==null){const l=Qb();l.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,l)):s(l)}else if(i.canceled){const l=this.appDelete_?hL():are();s(l)}else{const l=ire();s(l)}};this.canceled_?n(!1,new sm(!1,null,!0)):this.backoffId_=pre(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&mre(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function bre(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function wre(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function _re(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Sre(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function kre(t,e,n,r,i,a,s=!0,o=!1){const l=pL(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return _re(u,e),bre(u,n),wre(u,a),Sre(u,r),new xre(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ere(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Nre(...t){const e=Ere();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Jb())return new Blob(t);throw new _n(bn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Tre(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pre(t){if(typeof atob>"u")throw dre("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class X6{constructor(e,n){this.data=e,this.contentType=n||null}}function Are(t,e){switch(t){case Ka.RAW:return new X6(mL(e));case Ka.BASE64:case Ka.BASE64URL:return new X6(gL(t,e));case Ka.DATA_URL:return new X6(Cre(e),Ore(e))}throw Qb()}function mL(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,s=t.charCodeAt(++n);r=65536|(a&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Ire(t){let e;try{e=decodeURIComponent(t)}catch{throw rh(Ka.DATA_URL,"Malformed data URL.")}return mL(e)}function gL(t,e){switch(t){case Ka.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw rh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ka.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw rh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Pre(e)}catch(i){throw i.message.includes("polyfill")?i:rh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class yL{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw rh(Ka.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=jre(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Cre(t){const e=new yL(t);return e.base64?gL(Ka.BASE64,e.rest):Ire(e.rest)}function Ore(t){return new yL(t).contentType}function jre(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n){let r=0,i="";HN(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(HN(this.data_)){const r=this.data_,i=Tre(r,e,n);return i===null?null:new Mo(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Mo(r,!0)}}static getBlob(...e){if(Jb()){const n=e.map(r=>r instanceof Mo?r.data_:r);return new Mo(Nre.apply(null,n))}else{const n=e.map(s=>Xb(s)?Are(Ka.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(s=>{for(let o=0;o<s.length;o++)i[a++]=s[o]}),new Mo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(t){let e;try{e=JSON.parse(t)}catch{return null}return yre(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mre(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Dre(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function xL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rre(t,e){return e}class Tr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Rre}}let om=null;function $re(t){return!Xb(t)||t.length<2?t:xL(t)}function bL(){if(om)return om;const t=[];t.push(new Tr("bucket")),t.push(new Tr("generation")),t.push(new Tr("metageneration")),t.push(new Tr("name","fullPath",!0));function e(a,s){return $re(s)}const n=new Tr("name");n.xform=e,t.push(n);function r(a,s){return s!==void 0?Number(s):s}const i=new Tr("size");return i.xform=r,t.push(i),t.push(new Tr("timeCreated")),t.push(new Tr("updated")),t.push(new Tr("md5Hash",null,!0)),t.push(new Tr("cacheControl",null,!0)),t.push(new Tr("contentDisposition",null,!0)),t.push(new Tr("contentEncoding",null,!0)),t.push(new Tr("contentLanguage",null,!0)),t.push(new Tr("contentType",null,!0)),t.push(new Tr("metadata","customMetadata",!0)),om=t,om}function Lre(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new bi(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function Fre(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const s=n[a];r[s.local]=s.xform(r,e[s.server])}return Lre(r,t),r}function wL(t,e,n){const r=vL(e);return r===null?null:Fre(t,r,n)}function Vre(t,e,n,r){const i=vL(e);if(i===null||!Xb(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(c=>{const u=t.bucket,d=t.fullPath,h="/b/"+s(u)+"/o/"+s(d),p=Zb(h,n,r),g=pL({alt:"media",token:c});return p+g})[0]}function Ure(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class _L{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(t){if(!t)throw Qb()}function Bre(t,e){function n(r,i){const a=wL(t,i,e);return SL(a!==null),a}return n}function zre(t,e){function n(r,i){const a=wL(t,i,e);return SL(a!==null),Vre(a,i,t.host,t._protocol)}return n}function kL(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=nre():i=tre():n.getStatus()===402?i=ere(t.bucket):n.getStatus()===403?i=rre(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Wre(t){const e=kL(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=Zne(t.path)),a.serverResponse=i.serverResponse,a}return n}function qre(t,e,n){const r=e.fullServerUrl(),i=Zb(r,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,o=new _L(i,a,zre(t,n),s);return o.errorHandler=Wre(e),o}function Hre(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Gre(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Hre(null,e)),r}function Kre(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function o(){let w="";for(let E=0;E<2;E++)w=w+Math.random().toString().slice(2);return w}const l=o();s["Content-Type"]="multipart/related; boundary="+l;const c=Gre(e,r,i),u=Ure(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=Mo.getBlob(d,r,h);if(p===null)throw cre();const g={name:c.fullPath},x=Zb(a,t.host,t._protocol),v="POST",y=t.maxUploadRetryTime,b=new _L(x,v,Bre(t,n),y);return b.urlParams=g,b.headers=s,b.body=p.uploadData(),b.errorHandler=kL(e),b}class Yre{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=yl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=yl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=yl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw Qd("cannot .send() more than once");if(S0(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Qre extends Yre{initXhr(){this.xhr_.responseType="text"}}function EL(){return new Qre}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this._service=e,n instanceof bi?this._location=n:this._location=bi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new jl(e,n)}get root(){const e=new bi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xL(this._location.path)}get storage(){return this._service}get parent(){const e=Mre(this._location.path);if(e===null)return null;const n=new bi(this._location.bucket,e);return new jl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw fre(e)}}function Xre(t,e,n){t._throwIfRoot("uploadBytes");const r=Kre(t.storage,t._location,bL(),new Mo(e,!0),n);return t.storage.makeRequestWithTokens(r,EL).then(i=>({metadata:i,ref:t}))}function Jre(t){t._throwIfRoot("getDownloadURL");const e=qre(t.storage,t._location,bL());return t.storage.makeRequestWithTokens(e,EL).then(n=>{if(n===null)throw ure();return n})}function Zre(t,e){const n=Dre(t._location.path,e),r=new bi(t._location.bucket,n);return new jl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eie(t){return/^[A-Za-z]+:\/\//.test(t)}function tie(t,e){return new jl(t,e)}function NL(t,e){if(t instanceof ew){const n=t;if(n._bucket==null)throw lre();const r=new jl(n,n._bucket);return e!=null?NL(r,e):r}else return e!==void 0?Zre(t,e):t}function nie(t,e){if(e&&eie(e)){if(t instanceof ew)return tie(t,e);throw k7("To use ref(service, url), the first argument must be a Storage instance.")}else return NL(t,e)}function KN(t,e){const n=e==null?void 0:e[fL];return n==null?null:bi.makeFromBucketSpec(n,t)}function rie(t,e,n,r={}){t.host=`${e}:${n}`;const i=S0(e);i&&(nb(`https://${t.host}/b`),rb("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:FD(a,t.app.options.projectId))}class ew{constructor(e,n,r,i,a,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=dL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Xne,this._maxUploadRetryTime=Jne,this._requests=new Set,i!=null?this._bucket=bi.makeFromBucketSpec(i,this._host):this._bucket=KN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bi.makeFromBucketSpec(this._url,e):this._bucket=KN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){GN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){GN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Qr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new jl(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new hre(hL());{const s=kre(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const YN="@firebase/storage",QN="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL="storage";function PL(t,e,n){return t=Mt(t),Xre(t,e,n)}function AL(t){return t=Mt(t),Jre(t)}function IL(t,e){return t=Mt(t),nie(t,e)}function iie(t=P2(),e){t=Mt(t);const r=k0(t,TL).getImmediate({identifier:e}),i=RD("storage");return i&&aie(r,...i),r}function aie(t,e,n,r={}){rie(t,e,n,r)}function sie(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new ew(n,r,i,e,tc)}function oie(){Ia(new ea(TL,sie,"PUBLIC").setMultipleInstances(!0)),ii(YN,QN,""),ii(YN,QN,"esm2020")}oie();const CL="@firebase/installations",tw="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=1e4,jL=`w:${tw}`,ML="FIS_v2",lie="https://firebaseinstallations.googleapis.com/v1",cie=60*60*1e3,uie="installations",die="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fie={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ml=new ec(uie,die,fie);function DL(t){return t instanceof ra&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL({projectId:t}){return`${lie}/projects/${t}/installations`}function $L(t){return{token:t.token,requestStatus:2,expiresIn:pie(t.expiresIn),creationTime:Date.now()}}async function LL(t,e){const r=(await e.json()).error;return Ml.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function FL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function hie(t,{refreshToken:e}){const n=FL(t);return n.append("Authorization",mie(e)),n}async function VL(t){const e=await t();return e.status>=500&&e.status<600?t():e}function pie(t){return Number(t.replace("s","000"))}function mie(t){return`${ML} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gie({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=RL(t),i=FL(t),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={fid:n,authVersion:ML,appId:t.appId,sdkVersion:jL},o={method:"POST",headers:i,body:JSON.stringify(s)},l=await VL(()=>fetch(r,o));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:$L(c.authToken)}}else throw await LL("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yie(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vie=/^[cdef][\w-]{21}$/,E7="";function xie(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=bie(t);return vie.test(n)?n:E7}catch{return E7}}function bie(t){return yie(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=new Map;function zL(t,e){const n=Y2(t);WL(n,e),wie(n,e)}function WL(t,e){const n=BL.get(t);if(n)for(const r of n)r(e)}function wie(t,e){const n=_ie();n&&n.postMessage({key:t,fid:e}),Sie()}let al=null;function _ie(){return!al&&"BroadcastChannel"in self&&(al=new BroadcastChannel("[Firebase] FID Change"),al.onmessage=t=>{WL(t.data.key,t.data.fid)}),al}function Sie(){BL.size===0&&al&&(al.close(),al=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kie="firebase-installations-database",Eie=1,Dl="firebase-installations-store";let J6=null;function nw(){return J6||(J6=qD(kie,Eie,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Dl)}}})),J6}async function f1(t,e){const n=Y2(t),i=(await nw()).transaction(Dl,"readwrite"),a=i.objectStore(Dl),s=await a.get(n);return await a.put(e,n),await i.done,(!s||s.fid!==e.fid)&&zL(t,e.fid),e}async function qL(t){const e=Y2(t),r=(await nw()).transaction(Dl,"readwrite");await r.objectStore(Dl).delete(e),await r.done}async function Q2(t,e){const n=Y2(t),i=(await nw()).transaction(Dl,"readwrite"),a=i.objectStore(Dl),s=await a.get(n),o=e(s);return o===void 0?await a.delete(n):await a.put(o,n),await i.done,o&&(!s||s.fid!==o.fid)&&zL(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rw(t){let e;const n=await Q2(t.appConfig,r=>{const i=Nie(r),a=Tie(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===E7?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Nie(t){const e=t||{fid:xie(),registrationStatus:0};return HL(e)}function Tie(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ml.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Pie(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Aie(t)}:{installationEntry:e}}async function Pie(t,e){try{const n=await gie(t,e);return f1(t.appConfig,n)}catch(n){throw DL(n)&&n.customData.serverCode===409?await qL(t.appConfig):await f1(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Aie(t){let e=await XN(t.appConfig);for(;e.registrationStatus===1;)await UL(100),e=await XN(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await rw(t);return r||n}return e}function XN(t){return Q2(t,e=>{if(!e)throw Ml.create("installation-not-found");return HL(e)})}function HL(t){return Iie(t)?{fid:t.fid,registrationStatus:0}:t}function Iie(t){return t.registrationStatus===1&&t.registrationTime+OL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cie({appConfig:t,heartbeatServiceProvider:e},n){const r=Oie(t,n),i=hie(t,n),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={installation:{sdkVersion:jL,appId:t.appId}},o={method:"POST",headers:i,body:JSON.stringify(s)},l=await VL(()=>fetch(r,o));if(l.ok){const c=await l.json();return $L(c)}else throw await LL("Generate Auth Token",l)}function Oie(t,{fid:e}){return`${RL(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iw(t,e=!1){let n;const r=await Q2(t.appConfig,a=>{if(!GL(a))throw Ml.create("not-registered");const s=a.authToken;if(!e&&Die(s))return a;if(s.requestStatus===1)return n=jie(t,e),a;{if(!navigator.onLine)throw Ml.create("app-offline");const o=$ie(a);return n=Mie(t,o),o}});return n?await n:r.authToken}async function jie(t,e){let n=await JN(t.appConfig);for(;n.authToken.requestStatus===1;)await UL(100),n=await JN(t.appConfig);const r=n.authToken;return r.requestStatus===0?iw(t,e):r}function JN(t){return Q2(t,e=>{if(!GL(e))throw Ml.create("not-registered");const n=e.authToken;return Lie(n)?{...e,authToken:{requestStatus:0}}:e})}async function Mie(t,e){try{const n=await Cie(t,e),r={...e,authToken:n};return await f1(t.appConfig,r),n}catch(n){if(DL(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await qL(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await f1(t.appConfig,r)}throw n}}function GL(t){return t!==void 0&&t.registrationStatus===2}function Die(t){return t.requestStatus===2&&!Rie(t)}function Rie(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+cie}function $ie(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function Lie(t){return t.requestStatus===1&&t.requestTime+OL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fie(t){const e=t,{installationEntry:n,registrationPromise:r}=await rw(e);return r?r.catch(console.error):iw(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vie(t,e=!1){const n=t;return await Uie(n),(await iw(n,e)).token}async function Uie(t){const{registrationPromise:e}=await rw(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bie(t){if(!t||!t.options)throw Z6("App Configuration");if(!t.name)throw Z6("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Z6(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Z6(t){return Ml.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL="installations",zie="installations-internal",Wie=t=>{const e=t.getProvider("app").getImmediate(),n=Bie(e),r=k0(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},qie=t=>{const e=t.getProvider("app").getImmediate(),n=k0(e,KL).getImmediate();return{getId:()=>Fie(n),getToken:i=>Vie(n,i)}};function Hie(){Ia(new ea(KL,Wie,"PUBLIC")),Ia(new ea(zie,qie,"PRIVATE"))}Hie();ii(CL,tw);ii(CL,tw,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="analytics",Gie="firebase_id",Kie="origin",Yie=60*1e3,Qie="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",aw="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr=new T2("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xie={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ki=new ec("analytics","Analytics",Xie);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jie(t){if(!t.startsWith(aw)){const e=ki.create("invalid-gtag-resource",{gtagURL:t});return Vr.warn(e.message),""}return t}function YL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Zie(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function eae(t,e){const n=Zie("firebase-js-sdk-policy",{createScriptURL:Jie}),r=document.createElement("script"),i=`${aw}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function tae(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function nae(t,e,n,r,i,a){const s=r[i];try{if(s)await e[s];else{const l=(await YL(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(o){Vr.error(o)}t("config",i,a)}async function rae(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const o=await YL(n);for(const l of s){const c=o.find(d=>d.measurementId===l),u=c&&e[c.appId];if(u)a.push(u);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){Vr.error(a)}}function iae(t,e,n,r){async function i(a,...s){try{if(a==="event"){const[o,l]=s;await rae(t,e,n,o,l)}else if(a==="config"){const[o,l]=s;await nae(t,e,n,r,o,l)}else if(a==="consent"){const[o,l]=s;t("consent",o,l)}else if(a==="get"){const[o,l,c]=s;t("get",o,l,c)}else if(a==="set"){const[o]=s;t("set",o)}else t(a,...s)}catch(o){Vr.error(o)}}return i}function aae(t,e,n,r,i){let a=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=iae(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function sae(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(aw)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oae=30,lae=1e3;class cae{constructor(e={},n=lae){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const QL=new cae;function uae(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function dae(t){var s;const{appId:e,apiKey:n}=t,r={method:"GET",headers:uae(n)},i=Qie.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let o="";try{const l=await a.json();(s=l.error)!=null&&s.message&&(o=l.error.message)}catch{}throw ki.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function fae(t,e=QL,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw ki.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw ki.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new mae;return setTimeout(async()=>{o.abort()},Yie),XL({appId:r,apiKey:i,measurementId:a},s,o,e)}async function XL(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=QL){var o;const{appId:a,measurementId:s}=t;try{await hae(r,e)}catch(l){if(s)return Vr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:s};throw l}try{const l=await dae(t);return i.deleteThrottleMetadata(a),l}catch(l){const c=l;if(!pae(c)){if(i.deleteThrottleMetadata(a),s)return Vr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:s};throw l}const u=Number((o=c==null?void 0:c.customData)==null?void 0:o.httpStatus)===503?pE(n,i.intervalMillis,oae):pE(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(a,d),Vr.debug(`Calling attemptFetch again in ${u} millis`),XL(t,d,r,i)}}function hae(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(ki.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function pae(t){if(!(t instanceof ra)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class mae{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function gae(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,s={...r,send_to:a};t("event",n,s)}}async function yae(t,e,n,r){if(r&&r.global){const i={};for(const a of Object.keys(n))i[`user_properties.${a}`]=n[a];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vae(){if(UD())try{await BD()}catch(t){return Vr.warn(ki.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Vr.warn(ki.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function xae(t,e,n,r,i,a,s){const o=fae(t);o.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Vr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Vr.error(h)),e.push(o);const l=vae().then(h=>{if(h)return r.getId()}),[c,u]=await Promise.all([o,l]);sae(a)||eae(a,c.measurementId),i("js",new Date);const d=(s==null?void 0:s.config)??{};return d[Kie]="firebase",d.update=!0,u!=null&&(d[Gie]=u),i("config",c.measurementId,d),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bae{constructor(e){this.app=e}_delete(){return delete lu[this.app.options.appId],Promise.resolve()}}let lu={},ZN=[];const eT={};let ey="dataLayer",wae="gtag",tT,sw,nT=!1;function _ae(){const t=[];if(VD()&&t.push("This is a browser extension environment."),zY()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=ki.create("invalid-analytics-context",{errorInfo:e});Vr.warn(n.message)}}function Sae(t,e,n){_ae();const r=t.options.appId;if(!r)throw ki.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Vr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ki.create("no-api-key");if(lu[r]!=null)throw ki.create("already-exists",{id:r});if(!nT){tae(ey);const{wrappedGtag:a,gtagCore:s}=aae(lu,ZN,eT,ey,wae);sw=a,tT=s,nT=!0}return lu[r]=xae(t,ZN,eT,e,tT,ey,n),new bae(t)}function kae(t=P2()){t=Mt(t);const e=k0(t,h1);return e.isInitialized()?e.getImmediate():Eae(t)}function Eae(t,e={}){const n=k0(t,h1);if(n.isInitialized()){const i=n.getImmediate();if(d0(e,n.getOptions()))return i;throw ki.create("already-initialized")}return n.initialize({options:e})}function Nae(t,e,n){t=Mt(t),yae(sw,lu[t.app.options.appId],e,n).catch(r=>Vr.error(r))}function Tae(t,e,n,r){t=Mt(t),gae(sw,lu[t.app.options.appId],e,n,r).catch(i=>Vr.error(i))}const rT="@firebase/analytics",iT="0.10.19";function Pae(){Ia(new ea(h1,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Sae(r,i,n)},"PUBLIC")),Ia(new ea("analytics-internal",t,"PRIVATE")),ii(rT,iT),ii(rT,iT,"esm2020");function t(e){try{const n=e.getProvider(h1).getImmediate();return{logEvent:(r,i,a)=>Tae(n,r,i,a),setUserProperties:(r,i)=>Nae(n,r,i)}}catch(n){throw ki.create("interop-component-reg-failed",{reason:n})}}}Pae();const Aae={apiKey:"AIzaSyALROg4hIMFvYd8hydNKxKWmP3Cn5JmdcQ",authDomain:"test-inventory-stoe.firebaseapp.com",projectId:"test-inventory-stoe",storageBucket:"test-inventory-stoe.firebasestorage.app",messagingSenderId:"1081430501971",appId:"1:1081430501971:web:bb4e4be92aa2519ae934a6",measurementId:"G-3Y7YENDSHN"},X2=HD(Aae),$n=Yne(X2),ws=fee(X2),JL=iie(X2,"gs://test-inventory-stoe.firebasestorage.app");typeof window<"u"&&kae(X2);const yc={getUserByEmail:async t=>{if(!t)return null;try{const e=wN(gc(ws,"users"),See("email","==",t.toLowerCase().trim())),n=await kN(e);if(!n.empty){const r=n.docs[0];return{_id:r.id,...r.data()}}return null}catch(e){return console.error("Error checking user existence:",e),null}},subscribeToCollection:(t,e,n="name",r="asc",i)=>{try{if(!t||typeof e!="function")return console.error("subscribeToCollection: invalid arguments",{collectionName:t,callback:e}),()=>{};const a=n?wN(gc(ws,t),kee(n,r)):gc(ws,t);return NN(a,s=>{const o=s.docs.map(l=>({_id:l.id,...l.data()}));e(o)},s=>{if(console.error(`Error subscribing to ${t}:`,s),i&&i(s),s.code==="failed-precondition"||s.message.includes("index")){console.log(`Retrying ${t} without orderBy...`);const o=gc(ws,t);return NN(o,l=>{const c=l.docs.map(u=>({_id:u.id,...u.data()}));e(c)},l=>{i&&i(l)})}})}catch(a){return console.error(`Error setting up subscription for ${t}:`,a),()=>{}}},add:async(t,e)=>{if(!t)throw new Error("add: collectionName is required");try{const n=await Pee(gc(ws,t),e);return{...e,_id:n.id}}catch(n){throw console.error(`Error adding to ${t}:`,n),n}},update:async(t,e,n)=>{if(!t||!e)throw new Error("update: collectionName and id are required");try{const r=a3(ws,t,e);await Tee(r,n)}catch(r){throw console.error(`Error updating ${t}:`,r),r}},set:async(t,e,n)=>{if(!t||!e)throw new Error("set: collectionName and id are required");try{const r=a3(ws,t,e);await Nee(r,n)}catch(r){throw console.error(`Error setting in ${t}:`,r),r}},delete:async(t,e)=>{if(!t||!e)throw new Error("delete: collectionName and id are required");try{const n=a3(ws,t,e);await EN(n)}catch(n){throw console.error(`Error deleting from ${t}:`,n),n}},clearCollection:async t=>{if(!t)throw new Error("clearCollection: collectionName is required");try{const n=(await kN(gc(ws,t))).docs.map(r=>EN(r.ref));await Promise.all(n)}catch(e){throw console.error(`Error clearing ${t}:`,e),e}}};function Gn(){var t;return typeof window<"u"&&!!((t=window.desktopAPI)!=null&&t.isDesktop)}async function Xd(t,e="updatedAt",n="desc"){return window.desktopAPI.list(t,e,n)}const Ge={isDesktop:Gn,subscribeToCollection:(t,e,n="name",r="asc",i)=>{if(!Gn())return yc.subscribeToCollection(t,e,n,r,i);let a=!0;const s=async()=>{try{const l=await Xd(t,n,r);a&&e(l)}catch(l){i&&i(l)}};s();const o=window.desktopAPI.onDataChanged(l=>{(!(l!=null&&l.entity)||l.entity===t||l.entity==="*")&&s()});return()=>{a=!1,o==null||o()}},add:async(t,e)=>{if(!Gn())return yc.add(t,e);const n=crypto.randomUUID();return window.desktopAPI.upsert(t,{...e,_id:n})},update:async(t,e,n)=>Gn()?window.desktopAPI.upsert(t,{...n,_id:e}):yc.update(t,e,n),set:async(t,e,n)=>Gn()?window.desktopAPI.upsert(t,{...n,_id:e}):yc.set(t,e,n),delete:async(t,e)=>Gn()?window.desktopAPI.remove(t,e):yc.delete(t,e),listProducts:()=>Xd("products","name","asc"),getProduct:t=>window.desktopAPI.get("products",t),upsertProduct:t=>window.desktopAPI.upsert("products",t),deleteProduct:t=>window.desktopAPI.remove("products",t),listOrders:()=>Xd("orders","date","desc"),getOrder:t=>window.desktopAPI.get("orders",t),upsertOrder:t=>window.desktopAPI.upsert("orders",t),deleteOrder:t=>window.desktopAPI.remove("orders",t),listCustomers:()=>Xd("customers","name","asc"),getCustomer:t=>window.desktopAPI.get("customers",t),upsertCustomer:t=>window.desktopAPI.upsert("customers",t),deleteCustomer:t=>window.desktopAPI.remove("customers",t),syncOnce:async()=>Gn()?window.desktopAPI.syncOnce():{skipped:!0},getSyncStatus:async()=>Gn()?window.desktopAPI.getSyncStatus():{online:navigator.onLine,pendingCount:0,offlineModeEnabled:!1},getPendingSyncCount:async()=>Gn()?window.desktopAPI.getPendingCount():0,getConflicts:async()=>Gn()?window.desktopAPI.getConflicts():[],setOnlineStatus:async t=>{Gn()&&await window.desktopAPI.setOnline(t)},setAuthToken:async t=>{Gn()&&await window.desktopAPI.setAuthToken(t||null)},setSyncConfig:async t=>{Gn()&&await window.desktopAPI.setSyncConfig(t||{})},getOfflineModeEnabled:async()=>Gn()?window.desktopAPI.getOfflineMode():!1,setOfflineModeEnabled:async t=>{Gn()&&await window.desktopAPI.setOfflineMode(t)},onSyncState:t=>Gn()?window.desktopAPI.onSyncState(t):()=>{},onConflict:t=>Gn()?window.desktopAPI.onConflict(t):()=>{},getUserByEmail:async t=>Gn()?(await Xd("users")).find(n=>{var r;return((r=n.email)==null?void 0:r.toLowerCase())===(t==null?void 0:t.toLowerCase().trim())})||null:yc.getUserByEmail(t)},tt=t=>typeof t=="string",Jd=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},aT=t=>t==null?"":""+t,Iae=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},Cae=/###/g,sT=t=>t&&t.indexOf("###")>-1?t.replace(Cae,"."):t,oT=t=>!t||tt(t),ih=(t,e,n)=>{const r=tt(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(oT(t))return{};const a=sT(r[i]);!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return oT(t)?{}:{obj:t,k:sT(r[i])}},lT=(t,e,n)=>{const{obj:r,k:i}=ih(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let a=e[e.length-1],s=e.slice(0,e.length-1),o=ih(t,s,Object);for(;o.obj===void 0&&s.length;)a=`${s[s.length-1]}.${a}`,s=s.slice(0,s.length-1),o=ih(t,s,Object),o!=null&&o.obj&&typeof o.obj[`${o.k}.${a}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${a}`]=n},Oae=(t,e,n,r)=>{const{obj:i,k:a}=ih(t,e,Object);i[a]=i[a]||[],i[a].push(n)},p1=(t,e)=>{const{obj:n,k:r}=ih(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},jae=(t,e,n)=>{const r=p1(t,n);return r!==void 0?r:p1(e,n)},ZL=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?tt(t[r])||t[r]instanceof String||tt(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):ZL(t[r],e[r],n):t[r]=e[r]);return t},vc=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Mae={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Dae=t=>tt(t)?t.replace(/[&<>"'\/]/g,e=>Mae[e]):t;class Rae{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const $ae=[" ",",","?","!",";"],Lae=new Rae(20),Fae=(t,e,n)=>{e=e||"",n=n||"";const r=$ae.filter(s=>e.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const i=Lae.getRegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let a=!i.test(t);if(!a){const s=t.indexOf(n);s>0&&!i.test(t.substring(0,s))&&(a=!0)}return a},N7=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let s,o="";for(let l=a;l<r.length;++l)if(l!==a&&(o+=n),o+=r[l],s=i[o],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&l<r.length-1)continue;a+=l-a+1;break}i=s}return i},Hh=t=>t==null?void 0:t.replace("_","-"),Vae={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class m1{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||Vae,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(tt(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new m1(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new m1(this.logger,e)}}var Ya=new m1;let J2=class{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let s=0;s<a;s++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let s=0;s<a;s++)i.apply(i,[e,...n])})}};class cT extends J2{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var c,u;const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,n],r&&(Array.isArray(r)?o.push(...r):tt(r)&&a?o.push(...r.split(a)):o.push(r)));const l=p1(this.data,o);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=o[0],n=o[1],r=o.slice(2).join(".")),l||!s||!tt(r)?l:N7((u=(c=this.data)==null?void 0:c[e])==null?void 0:u[n],r,a)}addResource(e,n,r,i,a={silent:!1}){const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let o=[e,n];r&&(o=o.concat(s?r.split(s):r)),e.indexOf(".")>-1&&(o=e.split("."),i=n,n=o[1]),this.addNamespaces(n),lT(this.data,o,i),a.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const a in r)(tt(r[a])||Array.isArray(r[a]))&&this.addResource(e,n,a,r[a],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,a,s={silent:!1,skipCopy:!1}){let o=[e,n];e.indexOf(".")>-1&&(o=e.split("."),i=r,r=n,n=o[1]),this.addNamespaces(n);let l=p1(this.data,o)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?ZL(l,r,a):l={...l,...r},lT(this.data,o,l),s.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var eF={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(a=>{var s;e=((s=this.processors[a])==null?void 0:s.process(e,n,r,i))??e}),e}};const tF=Symbol("i18next/PATH_KEY");function Uae(){const t=[],e=Object.create(null);let n;return e.get=(r,i)=>{var a;return(a=n==null?void 0:n.revoke)==null||a.call(n),i===tF?t:(t.push(i),n=Proxy.revocable(r,e),n.proxy)},Proxy.revocable(Object.create(null),e).proxy}function T7(t,e){const{[tF]:n}=t(Uae());return n.join((e==null?void 0:e.keySeparator)??".")}const uT={},ty=t=>!tt(t)&&typeof t!="boolean"&&typeof t!="number";class g1 extends J2{constructor(e,n={}){super(),Iae(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ya.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);if((i==null?void 0:i.res)===void 0)return!1;const a=ty(i.res);return!(r.returnObjects===!1&&a)}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const s=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Fae(e,r,i);if(s&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:tt(a)?[a]:a};const c=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(a=c.shift()),e=c.join(i)}return{key:e,namespaces:tt(a)?[a]:a}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=T7(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],i),c=l[l.length-1];let u=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const d=i.lng||this.language,h=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((d==null?void 0:d.toLowerCase())==="cimode")return h?a?{res:`${c}${u}${o}`,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:`${c}${u}${o}`:a?{res:o,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:o;const p=this.resolve(e,i);let g=p==null?void 0:p.res;const x=(p==null?void 0:p.usedKey)||o,v=(p==null?void 0:p.exactUsedKey)||o,y=["[object Number]","[object Function]","[object RegExp]"],b=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,E=i.count!==void 0&&!tt(i.count),S=g1.hasDefaultValue(i),k=E?this.pluralResolver.getSuffix(d,i.count,i):"",_=i.ordinal&&E?this.pluralResolver.getSuffix(d,i.count,{ordinal:!1}):"",N=E&&!i.ordinal&&i.count===0,P=N&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${k}`]||i[`defaultValue${_}`]||i.defaultValue;let A=g;w&&!g&&S&&(A=P);const I=ty(A),O=Object.prototype.toString.apply(A);if(w&&A&&I&&y.indexOf(O)<0&&!(tt(b)&&Array.isArray(A))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const j=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,A,{...i,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return a?(p.res=j,p.usedParams=this.getUsedParamsDetails(i),p):j}if(s){const j=Array.isArray(A),R=j?[]:{},D=j?v:x;for(const $ in A)if(Object.prototype.hasOwnProperty.call(A,$)){const U=`${D}${s}${$}`;S&&!g?R[$]=this.translate(U,{...i,defaultValue:ty(P)?P[$]:void 0,joinArrays:!1,ns:l}):R[$]=this.translate(U,{...i,joinArrays:!1,ns:l}),R[$]===U&&(R[$]=A[$])}g=R}}else if(w&&tt(b)&&Array.isArray(g))g=g.join(b),g&&(g=this.extendTranslation(g,e,i,r));else{let j=!1,R=!1;!this.isValidLookup(g)&&S&&(j=!0,g=P),this.isValidLookup(g)||(R=!0,g=o);const $=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&R?void 0:g,U=S&&P!==g&&this.options.updateMissing;if(R||j||U){if(this.logger.log(U?"updateKey":"missingKey",d,c,o,U?P:g),s){const K=this.resolve(o,{...i,keySeparator:!1});K&&K.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let V=[];const B=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&B&&B[0])for(let K=0;K<B.length;K++)V.push(B[K]);else this.options.saveMissingTo==="all"?V=this.languageUtils.toResolveHierarchy(i.lng||this.language):V.push(i.lng||this.language);const q=(K,H,ne)=>{var me;const he=S&&ne!==g?ne:$;this.options.missingKeyHandler?this.options.missingKeyHandler(K,c,H,he,U,i):(me=this.backendConnector)!=null&&me.saveMissing&&this.backendConnector.saveMissing(K,c,H,he,U,i),this.emit("missingKey",K,c,H,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&E?V.forEach(K=>{const H=this.pluralResolver.getSuffixes(K,i);N&&i[`defaultValue${this.options.pluralSeparator}zero`]&&H.indexOf(`${this.options.pluralSeparator}zero`)<0&&H.push(`${this.options.pluralSeparator}zero`),H.forEach(ne=>{q([K],o+ne,i[`defaultValue${ne}`]||P)})}):q(V,o,P))}g=this.extendTranslation(g,e,i,p,r),R&&g===o&&this.options.appendNamespaceToMissingKey&&(g=`${c}${u}${o}`),(R||j)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${u}${o}`:o,j?g:void 0,i))}return a?(p.res=g,p.usedParams=this.getUsedParamsDetails(i),p):g}extendTranslation(e,n,r,i,a){var l,c;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=tt(e)&&(((c=r==null?void 0:r.interpolation)==null?void 0:c.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const p=e.match(this.interpolator.nestingRegexp);d=p&&p.length}let h=r.replace&&!tt(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||i.usedLng,r),u){const p=e.match(this.interpolator.nestingRegexp),g=p&&p.length;d<g&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...p)=>(a==null?void 0:a[0])===p[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):this.translate(...p,n),r)),r.interpolation&&this.interpolator.reset()}const s=r.postProcess||this.options.postProcess,o=tt(s)?[s]:s;return e!=null&&(o!=null&&o.length)&&r.applyPostProcessor!==!1&&(e=eF.handle(o,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,a,s,o;return tt(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),u=c.key;i=u;let d=c.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const h=n.count!==void 0&&!tt(n.count),p=h&&!n.ordinal&&n.count===0,g=n.context!==void 0&&(tt(n.context)||typeof n.context=="number")&&n.context!=="",x=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(v=>{var y,b;this.isValidLookup(r)||(o=v,!uT[`${x[0]}-${v}`]&&((y=this.utils)!=null&&y.hasLoadedNamespace)&&!((b=this.utils)!=null&&b.hasLoadedNamespace(o))&&(uT[`${x[0]}-${v}`]=!0,this.logger.warn(`key "${i}" for languages "${x.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(w=>{var k;if(this.isValidLookup(r))return;s=w;const E=[u];if((k=this.i18nFormat)!=null&&k.addLookupKeys)this.i18nFormat.addLookupKeys(E,u,w,v,n);else{let _;h&&(_=this.pluralResolver.getSuffix(w,n.count,n));const N=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(n.ordinal&&_.indexOf(P)===0&&E.push(u+_.replace(P,this.options.pluralSeparator)),E.push(u+_),p&&E.push(u+N)),g){const A=`${u}${this.options.contextSeparator||"_"}${n.context}`;E.push(A),h&&(n.ordinal&&_.indexOf(P)===0&&E.push(A+_.replace(P,this.options.pluralSeparator)),E.push(A+_),p&&E.push(A+N))}}let S;for(;S=E.pop();)this.isValidLookup(r)||(a=S,r=this.getResource(w,v,S,n))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:s,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!tt(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of n)delete i[a]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class dT{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ya.create("languageUtils")}getScriptPartFromCode(e){if(e=Hh(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Hh(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(tt(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(s=>{if(s===a)return s;if(!(s.indexOf("-")<0&&a.indexOf("-")<0)&&(s.indexOf("-")>0&&a.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===a||s.indexOf(a)===0&&a.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),tt(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],a=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return tt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):tt(e)&&a(this.formatLanguageCode(e)),r.forEach(s=>{i.indexOf(s)<0&&a(this.formatLanguageCode(s))}),i}}const fT={zero:0,one:1,two:2,few:3,many:4,other:5},hT={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Bae{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Ya.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=Hh(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let s;try{s=new Intl.PluralRules(r,{type:i})}catch{if(typeof Intl>"u")return this.logger.error("No Intl support, please use an Intl polyfill!"),hT;if(!e.match(/-|_/))return hT;const l=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(l,n)}return this.pluralRulesCache[a]=s,s}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>fT[i]-fT[a]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const pT=(t,e,n,r=".",i=!0)=>{let a=jae(t,e,n);return!a&&i&&tt(n)&&(a=N7(t,n,r),a===void 0&&(a=N7(e,n,r))),a},ny=t=>t.replace(/\$/g,"$$$$");class mT{constructor(e={}){var n;this.logger=Ya.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:s,suffix:o,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:d,nestingPrefix:h,nestingPrefixEscaped:p,nestingSuffix:g,nestingSuffixEscaped:x,nestingOptionsSeparator:v,maxReplaces:y,alwaysFormat:b}=e.interpolation;this.escape=n!==void 0?n:Dae,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?vc(a):s||"{{",this.suffix=o?vc(o):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=h?vc(h):p||vc("$t("),this.nestingSuffix=g?vc(g):x||vc(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=y||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var p;let a,s,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=g=>{if(g.indexOf(this.formatSeparator)<0){const b=pT(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,r,{...i,...n,interpolationkey:g}):b}const x=g.split(this.formatSeparator),v=x.shift().trim(),y=x.join(this.formatSeparator).trim();return this.format(pT(n,l,v,this.options.keySeparator,this.options.ignoreJSONStructure),y,r,{...i,...n,interpolationkey:v})};this.resetRegExp();const u=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,d=((p=i==null?void 0:i.interpolation)==null?void 0:p.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>ny(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?ny(this.escape(g)):ny(g)}].forEach(g=>{for(o=0;a=g.regex.exec(e);){const x=a[1].trim();if(s=c(x),s===void 0)if(typeof u=="function"){const y=u(e,a,i);s=tt(y)?y:""}else if(i&&Object.prototype.hasOwnProperty.call(i,x))s="";else if(d){s=a[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${e}`),s="";else!tt(s)&&!this.useRawValueToEscape&&(s=aT(s));const v=g.safeValue(s);if(e=e.replace(a[0],v),d?(g.regex.lastIndex+=s.length,g.regex.lastIndex-=a[0].length):g.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,a,s;const o=(l,c)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const d=l.split(new RegExp(`${u}[ ]*{`));let h=`{${d[1]}`;l=d[0],h=this.interpolate(h,s);const p=h.match(/'/g),g=h.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!g||g.length%2!==0)&&(h=h.replace(/'/g,'"'));try{s=JSON.parse(h),c&&(s={...c,...s})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,x),`${l}${u}${h}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];s={...r},s=s.replace&&!tt(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;const c=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(c!==-1&&(l=i[1].slice(c).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),i[1]=i[1].slice(0,c)),a=n(o.call(this,i[1].trim(),s),s),a&&i[0]===e&&!tt(a))return a;tt(a)||(a=aT(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),l.length&&(a=l.reduce((u,d)=>this.format(u,d,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const zae=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(s=>{if(s){const[o,...l]=s.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=o.trim();n[u]||(n[u]=c),c==="false"&&(n[u]=!1),c==="true"&&(n[u]=!0),isNaN(c)||(n[u]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}},gT=t=>{const e={};return(n,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const s=r+JSON.stringify(a);let o=e[s];return o||(o=t(Hh(r),i),e[s]=o),o(n)}},Wae=t=>(e,n,r)=>t(Hh(n),r)(e);class qae{constructor(e={}){this.logger=Ya.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?gT:Wae;this.formats={number:r((i,a)=>{const s=new Intl.NumberFormat(i,{...a});return o=>s.format(o)}),currency:r((i,a)=>{const s=new Intl.NumberFormat(i,{...a,style:"currency"});return o=>s.format(o)}),datetime:r((i,a)=>{const s=new Intl.DateTimeFormat(i,{...a});return o=>s.format(o)}),relativetime:r((i,a)=>{const s=new Intl.RelativeTimeFormat(i,{...a});return o=>s.format(o,a.range||"day")}),list:r((i,a)=>{const s=new Intl.ListFormat(i,{...a});return o=>s.format(o)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=gT(n)}format(e,n,r,i={}){const a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(o=>o.indexOf(")")>-1)){const o=a.findIndex(l=>l.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,o)].join(this.formatSeparator)}return a.reduce((o,l)=>{var d;const{formatName:c,formatOptions:u}=zae(l);if(this.formats[c]){let h=o;try{const p=((d=i==null?void 0:i.formatParams)==null?void 0:d[i.interpolationkey])||{},g=p.locale||p.lng||i.locale||i.lng||r;h=this.formats[c](o,g,{...u,...i,...p})}catch(p){this.logger.warn(p)}return h}else this.logger.warn(`there was no format function for ${c}`);return o},e)}}const Hae=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class Gae extends J2{constructor(e,n,r,i={}){var a,s;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Ya.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(s=(a=this.backend)==null?void 0:a.init)==null||s.call(a,r,i.backend,i)}queueLoad(e,n,r,i){const a={},s={},o={},l={};return e.forEach(c=>{let u=!0;n.forEach(d=>{const h=`${c}|${d}`;!r.reload&&this.store.hasResourceBundle(c,d)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?s[h]===void 0&&(s[h]=!0):(this.state[h]=1,u=!1,s[h]===void 0&&(s[h]=!0),a[h]===void 0&&(a[h]=!0),l[d]===void 0&&(l[d]=!0)))}),u||(o[c]=!0)}),(Object.keys(a).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(s),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),a=i[0],s=i[1];n&&this.emit("failedLoading",a,s,n),!n&&r&&this.store.addResourceBundle(a,s,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const o={};this.queue.forEach(l=>{Oae(l.loaded,[a],s),Hae(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{o[c]||(o[c]={});const u=l.loaded[c];u.length&&u.forEach(d=>{o[c][d]===void 0&&(o[c][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r,i=0,a=this.retryTimeout,s){if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:a,callback:s});return}this.readingCalls++;const o=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(c&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,a*2,s)},a);return}s(c,u)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(e,n);c&&typeof c.then=="function"?c.then(u=>o(null,u)).catch(o):o(null,c)}catch(c){o(c)}return}return l(e,n,o)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();tt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),tt(n)&&(n=[n]);const a=this.queueLoad(e,n,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(s=>{this.loadOne(s)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(s,o)=>{s&&this.logger.warn(`${n}loading namespace ${a} for language ${i} failed`,s),!s&&o&&this.logger.log(`${n}loaded namespace ${a} for language ${i}`,o),this.loaded(e,s,o)})}saveMissing(e,n,r,i,a,s={},o=()=>{}){var l,c,u,d,h;if((c=(l=this.services)==null?void 0:l.utils)!=null&&c.hasLoadedNamespace&&!((d=(u=this.services)==null?void 0:u.utils)!=null&&d.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((h=this.backend)!=null&&h.create){const p={...s,isUpdate:a},g=this.backend.create.bind(this.backend);if(g.length<6)try{let x;g.length===5?x=g(e,n,r,i,p):x=g(e,n,r,i),x&&typeof x.then=="function"?x.then(v=>o(null,v)).catch(o):o(null,x)}catch(x){o(x)}else g(e,n,r,i,o,p)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const ry=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),tt(t[1])&&(e.defaultValue=t[1]),tt(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),yT=t=>{var e,n;return tt(t.ns)&&(t.ns=[t.ns]),tt(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),tt(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},lm=()=>{},Kae=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};let vT=!1;const Yae=t=>{var e,n,r,i,a,s,o,l,c;return!!(((r=(n=(e=t==null?void 0:t.modules)==null?void 0:e.backend)==null?void 0:n.name)==null?void 0:r.indexOf("Locize"))>0||((o=(s=(a=(i=t==null?void 0:t.modules)==null?void 0:i.backend)==null?void 0:a.constructor)==null?void 0:s.name)==null?void 0:o.indexOf("Locize"))>0||(c=(l=t==null?void 0:t.options)==null?void 0:l.backend)!=null&&c.backends&&t.options.backend.backends.some(u=>{var d,h,p;return((d=u==null?void 0:u.name)==null?void 0:d.indexOf("Locize"))>0||((p=(h=u==null?void 0:u.constructor)==null?void 0:h.name)==null?void 0:p.indexOf("Locize"))>0}))};class ah extends J2{constructor(e={},n){if(super(),this.options=yT(e),this.services={},this.logger=Ya,this.modules={external:[]},Kae(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(tt(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=ry();this.options={...r,...this.options,...yT(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler),this.options.showSupportNotice!==!1&&!Yae(this)&&!vT&&(typeof console<"u"&&typeof console.info<"u"&&console.info(" i18next is maintained with support from Locize  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com "),vT=!0);const i=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?Ya.init(i(this.modules.logger),this.options):Ya.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=qae;const u=new dT(this.options);this.store=new cT(this.options.resources,this.options);const d=this.services;d.logger=Ya,d.resourceStore=this.store,d.languageUtils=u,d.pluralResolver=new Bae(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),c&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(d.formatter=i(c),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new mT(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new Gae(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new g1(this.services,this.options),this.translator.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=lm),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...u)=>this.store[c](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...u)=>(this.store[c](...u),this)});const o=Jd(),l=()=>{const c=(u,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(d),n(u,d)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),o}loadResources(e,n=lm){var a,s;let r=n;const i=tt(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(d=>{d!=="cimode"&&o.indexOf(d)<0&&o.push(d)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>l(u)),(s=(a=this.options.preload)==null?void 0:a.forEach)==null||s.call(a,c=>l(c)),this.services.backendConnector.load(o,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,n,r){const i=Jd();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=lm),this.services.backendConnector.reload(e,n,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&eF.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=Jd();this.emit("languageChanging",e);const i=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},a=(o,l)=>{l?this.isLanguageChangingTo===e&&(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...c)=>this.t(...c)),n&&n(o,(...c)=>this.t(...c))},s=o=>{var u,d;!e&&!o&&this.services.languageDetector&&(o=[]);const l=tt(o)?o:o&&o[0],c=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(tt(o)?[o]:o);c&&(this.language||i(c),this.translator.language||this.translator.changeLanguage(c),(d=(u=this.services.languageDetector)==null?void 0:u.cacheUserLanguage)==null||d.call(u,c)),this.loadResources(c,h=>{a(h,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),r}getFixedT(e,n,r){const i=(a,s,...o)=>{let l;typeof s!="object"?l=this.options.overloadTranslationOptionHandler([a,s].concat(o)):l={...s},l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const c=this.options.keySeparator||".";let u;return l.keyPrefix&&Array.isArray(a)?u=a.map(d=>(typeof d=="function"&&(d=T7(d,{...this.options,...s})),`${l.keyPrefix}${c}${d}`)):(typeof a=="function"&&(a=T7(a,{...this.options,...s})),u=l.keyPrefix?`${l.keyPrefix}${c}${a}`:a),this.t(u,l)};return tt(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(o,l)=>{const c=this.services.backendConnector.state[`${o}|${l}`];return c===-1||c===0||c===2};if(n.precheck){const o=n.precheck(this,s);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,e)&&(!i||s(a,e)))}loadNamespaces(e,n){const r=Jd();return this.options.ns?(tt(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Jd();tt(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return a.length?(this.options.preload=i.concat(a),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(e){var i,a;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const s=new Intl.Locale(e);if(s&&s.getTextInfo){const o=s.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new dT(ry());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){const r=new ah(e,n);return r.createInstance=ah.createInstance,r}cloneInstance(e={},n=lm){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new ah(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(o=>{a[o]=this[o]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const o=Object.keys(this.store.data).reduce((l,c)=>(l[c]={...this.store.data[c]},l[c]=Object.keys(l[c]).reduce((u,d)=>(u[d]={...l[c][d]},u),l[c]),l),{});a.store=new cT(o,i),a.services.resourceStore=a.store}if(e.interpolation){const l={...ry().interpolation,...this.options.interpolation,...e.interpolation},c={...i,interpolation:l};a.services.interpolator=new mT(c)}return a.translator=new g1(a.services,i),a.translator.on("*",(o,...l)=>{a.emit(o,...l)}),a.init(i,n),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Jn=ah.createInstance();Jn.createInstance;Jn.dir;Jn.init;Jn.loadResources;Jn.reloadResources;Jn.use;Jn.changeLanguage;Jn.getFixedT;Jn.t;Jn.exists;Jn.setDefaultNamespace;Jn.hasLoadedNamespace;Jn.loadNamespaces;Jn.loadLanguages;const Qae=(t,e,n,r)=>{var a,s,o,l;const i=[n,{code:e,...r||{}}];if((s=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&s.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);Rl(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(l=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&l.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},xT={},nF=(t,e,n,r)=>{Rl(n)&&xT[n]||(Rl(n)&&(xT[n]=new Date),Qae(t,e,n,r))},rF=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},P7=(t,e,n)=>{t.loadNamespaces(e,rF(t,n))},bT=(t,e,n,r)=>{if(Rl(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return P7(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,rF(t,r))},Xae=(t,e,n={})=>!e.languages||!e.languages.length?(nF(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),Rl=t=>typeof t=="string",Jae=t=>typeof t=="object"&&t!==null,Zae=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,ese={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},tse=t=>ese[t],nse=t=>t.replace(Zae,tse);let A7={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:nse,transDefaultProps:void 0};const rse=(t={})=>{A7={...A7,...t}},ise=()=>A7;let iF;const ase=t=>{iF=t},sse=()=>iF,ose={type:"3rdParty",init(t){rse(t.options.react),ase(t)}},lse=C.createContext();class cse{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var aF={exports:{}},sF={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pu=C;function use(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dse=typeof Object.is=="function"?Object.is:use,fse=Pu.useState,hse=Pu.useEffect,pse=Pu.useLayoutEffect,mse=Pu.useDebugValue;function gse(t,e){var n=e(),r=fse({inst:{value:n,getSnapshot:e}}),i=r[0].inst,a=r[1];return pse(function(){i.value=n,i.getSnapshot=e,iy(i)&&a({inst:i})},[t,n,e]),hse(function(){return iy(i)&&a({inst:i}),t(function(){iy(i)&&a({inst:i})})},[t]),mse(n),n}function iy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dse(t,n)}catch{return!0}}function yse(t,e){return e()}var vse=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?yse:gse;sF.useSyncExternalStore=Pu.useSyncExternalStore!==void 0?Pu.useSyncExternalStore:vse;aF.exports=sF;var xse=aF.exports;const bse=(t,e)=>Rl(e)?e:Jae(e)&&Rl(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,wse={t:bse,ready:!1},_se=()=>()=>{},dr=(t,e={})=>{var P,A,I;const{i18n:n}=e,{i18n:r,defaultNS:i}=C.useContext(lse)||{},a=n||r||sse();a&&!a.reportNamespaces&&(a.reportNamespaces=new cse),a||nF(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const s=C.useMemo(()=>{var O;return{...ise(),...(O=a==null?void 0:a.options)==null?void 0:O.react,...e}},[a,e]),{useSuspense:o,keyPrefix:l}=s,c=i||((P=a==null?void 0:a.options)==null?void 0:P.defaultNS),u=Rl(c)?[c]:c||["translation"],d=C.useMemo(()=>u,u);(I=(A=a==null?void 0:a.reportNamespaces)==null?void 0:A.addUsedNamespaces)==null||I.call(A,d);const h=C.useRef(0),p=C.useCallback(O=>{if(!a)return _se;const{bindI18n:j,bindI18nStore:R}=s,D=()=>{h.current+=1,O()};return j&&a.on(j,D),R&&a.store.on(R,D),()=>{j&&j.split(" ").forEach($=>a.off($,D)),R&&R.split(" ").forEach($=>a.store.off($,D))}},[a,s]),g=C.useRef(),x=C.useCallback(()=>{if(!a)return wse;const O=!!(a.isInitialized||a.initializedStoreOnce)&&d.every(V=>Xae(V,a,s)),j=e.lng||a.language,R=h.current,D=g.current;if(D&&D.ready===O&&D.lng===j&&D.keyPrefix===l&&D.revision===R)return D;const U={t:a.getFixedT(j,s.nsMode==="fallback"?d:d[0],l),ready:O,lng:j,keyPrefix:l,revision:R};return g.current=U,U},[a,d,l,s,e.lng]),[v,y]=C.useState(0),{t:b,ready:w}=xse.useSyncExternalStore(p,x,x);C.useEffect(()=>{if(a&&!w&&!o){const O=()=>y(j=>j+1);e.lng?bT(a,e.lng,d,O):P7(a,d,O)}},[a,e.lng,d,w,o,v]);const E=a||{},S=C.useRef(null),k=C.useRef(),_=O=>{const j=Object.getOwnPropertyDescriptors(O);j.__original&&delete j.__original;const R=Object.create(Object.getPrototypeOf(O),j);if(!Object.prototype.hasOwnProperty.call(R,"__original"))try{Object.defineProperty(R,"__original",{value:O,writable:!1,enumerable:!1,configurable:!1})}catch{}return R},N=C.useMemo(()=>{const O=E,j=O==null?void 0:O.language;let R=O;O&&(S.current&&S.current.__original===O?k.current!==j?(R=_(O),S.current=R,k.current=j):R=S.current:(R=_(O),S.current=R,k.current=j));const D=[b,R,w];return D.t=b,D.i18n=R,D.ready=w,D},[b,E,w,E.resolvedLanguage,E.language,E.languages]);if(a&&o&&!w)throw new Promise(O=>{const j=()=>O();e.lng?bT(a,e.lng,d,j):P7(a,d,j)});return N},oF=C.createContext(null),ac=()=>{const t=C.useContext(oF);if(!t)throw new Error("useAuth must be used inside AuthProvider");return t},Sse=({children:t})=>{const[e,n]=C.useState(null),[r,i]=C.useState(!0);C.useEffect(()=>$te($n,o=>{n(o),i(!1)}),[]),C.useEffect(()=>Ge.isDesktop()?(Ge.setSyncConfig({projectId:"test-inventory-stoe"}).catch(()=>{}),Z$($n,async o=>{try{const l=o?await o.getIdToken():null;await Ge.setAuthToken(l)}catch{await Ge.setAuthToken(null)}})):void 0,[]);const a=C.useMemo(()=>({user:e,loading:r,signInWithGoogle:async()=>{const s=new Ns;return ine($n,s)},signInWithEmail:async(s,o)=>Ote($n,s,o),signUpWithEmail:async(s,o)=>Cte($n,s,o),signOutUser:async()=>Lte($n),updateAuthProfile:async s=>{if(!$n.currentUser)throw new Error("No authenticated user");await K6($n.currentUser,s),n({...$n.currentUser})},updateAuthAvatar:async s=>{if(!$n.currentUser)throw new Error("No authenticated user");try{const o=await kse(s),l=IL(JL,`users/${$n.currentUser.uid}/avatar.jpg`);await PL(l,o,{contentType:o.type||"image/jpeg"});const c=await AL(l);return await K6($n.currentUser,{photoURL:c}),n({...$n.currentUser}),c}catch{return await K6($n.currentUser,{photoURL:s}),n({...$n.currentUser}),s}},changeAuthPassword:async(s,o)=>{var c;if(!((c=$n.currentUser)!=null&&c.email))throw new Error("No authenticated user");const l=ic.credential($n.currentUser.email,s);await Ite($n.currentUser,l),await Mte($n.currentUser,o)}}),[e,r]);return f.jsx(oF.Provider,{value:a,children:t})},kse=async t=>(await fetch(t)).blob(),lF=C.createContext(),wT="/brand-logo.svg",ay="/brand-favicon.svg",_T="https://i.imgur.com/9YXqZ5K.png",U0={theme:"light",glassBackground:!1,accentType:"gradient",accentColor:"#1e3a5f",accentGradient:{start:"#EC4899",end:"#8B5CF6"}},cm=["Social Media Post","Social Media Reels","Other"],Sn=()=>C.useContext(lF),Ese=({children:t})=>{const{user:e}=ac(),[n,r]=C.useState(()=>localStorage.getItem("theme")||"light"),[i,a]=C.useState(()=>localStorage.getItem("isSidebarCollapsed")==="true"),[s,o]=C.useState(!1),[l,c]=C.useState(()=>{try{const z=localStorage.getItem("appearance"),X=z?JSON.parse(z):null,ue=X==null?void 0:X.theme,ge=ue==="liquid"||ue==="default_glass";return{theme:ge?U0.theme:ue||U0.theme,glassBackground:(X==null?void 0:X.glassBackground)??ge??U0.glassBackground,accentType:(X==null?void 0:X.accentType)||U0.accentType,accentColor:(X==null?void 0:X.accentColor)||U0.accentColor,accentGradient:(X==null?void 0:X.accentGradient)||U0.accentGradient}}catch(z){return console.error("Error loading appearance settings:",z),U0}});C.useEffect(()=>{const z=document.documentElement;z.classList.remove("theme-light","theme-dark","bg-liquid-glass"),l.theme!=="default"&&z.classList.add(`theme-${l.theme}`),l.glassBackground&&z.classList.add("bg-liquid-glass");let X=l.accentColor;if(l.accentColor,l.accentType==="solid")z.style.setProperty("--accent-color",l.accentColor),z.style.setProperty("--accent-gradient",l.accentColor);else{const{start:ue,end:ge}=l.accentGradient;X=ue,z.style.setProperty("--accent-color",ue),z.style.setProperty("--accent-gradient",`linear-gradient(135deg, ${ue} 0%, ${ge} 100%)`)}if(z.style.setProperty("--brand-color",X),_e(ue=>({...ue,color:X})),l.glassBackground&&z.style.setProperty("--glass-tint",`${X}15`),l.theme==="dark")r("dark");else if(l.theme==="light")r("light");else if(l.theme==="default"){const ue=localStorage.getItem("theme")||"light";r(ue)}},[l]);const[u,d]=C.useState([]),[h,p]=C.useState([]),[g,x]=C.useState([]),[v,y]=C.useState([]),[b,w]=C.useState([]),[E,S]=C.useState(["Electronics","Clothing","Home","Beauty","Sports"]),[k,_]=C.useState(cm),[N,P]=C.useState(!0),A=C.useRef(!0),[I,O]=C.useState([]),j=Ge.isDesktop(),[R,D]=C.useState(typeof navigator<"u"?navigator.onLine:!0),[$,U]=C.useState(0),[V,B]=C.useState(!0),[q,K]=C.useState([]),H=(z,X="info")=>{const ue=Math.random().toString(36).substr(2,9);O(ge=>[...ge,{id:ue,message:z,type:X}]),setTimeout(()=>{O(ge=>ge.filter(et=>et.id!==ue))},3e3)};C.useEffect(()=>{A.current=N},[N]),C.useEffect(()=>{if(!j)return;const z=()=>{D(!0),Ge.setOnlineStatus(!0)},X=()=>{D(!1),Ge.setOnlineStatus(!1)};(async()=>{D(navigator.onLine),await Ge.setOnlineStatus(navigator.onLine);const ft=await Ge.getSyncStatus();U(ft.pendingCount||0),B(!!ft.offlineModeEnabled),K(await Ge.getConflicts())})().catch(ft=>console.error("Desktop sync init failed:",ft)),window.addEventListener("online",z),window.addEventListener("offline",X);const ge=Ge.onSyncState(ft=>{U(ft.pendingCount||0),B(!!ft.offlineModeEnabled)}),et=Ge.onConflict(ft=>{H(`Conflict detected on ${ft.entity} #${ft.docId} - resolved automatically`,"warning"),Ge.getConflicts().then(K).catch(()=>{})});return()=>{window.removeEventListener("online",z),window.removeEventListener("offline",X),ge==null||ge(),et==null||et()}},[j]);const ne=async()=>{if(j)try{const z=await Ge.syncOnce(),X=await Ge.getPendingSyncCount();if(U(X),K(await Ge.getConflicts()),z!=null&&z.rateLimited){const ue=Math.max(1,Math.ceil(((z==null?void 0:z.retryAfterMs)||0)/1e3));H(`Sync paused due to quota limit. Retry in ~${ue}s.`,"warning");return}(z==null?void 0:z.failed)>0?H(`Sync completed with ${z.failed} failed change(s).`,"warning"):z!=null&&z.skipped||H("Sync completed successfully.","success")}catch(z){H(`Sync failed: ${(z==null?void 0:z.message)||"Unknown error"}`,"error"),U(await Ge.getPendingSyncCount()),K(await Ge.getConflicts())}},he=async z=>{j&&(await Ge.setOfflineModeEnabled(z),B(z))},[me,ee]=C.useState(!1),[xe,_e]=C.useState(()=>{var ue;const z=localStorage.getItem("appearance");let X="#1e3a5f";if(z)try{const ge=JSON.parse(z);ge.accentType==="gradient"&&((ue=ge.accentGradient)!=null&&ue.start)?X=ge.accentGradient.start:ge.accentColor&&(X=ge.accentColor)}catch(ge){console.error("Error parsing appearance for initial brand color:",ge)}return{name:"Gem Toys",logo:wT,favicon:ay,color:X,website:"",hideHeader:!1}});C.useEffect(()=>{try{xe!=null&&xe.name&&(document.title=xe.name);const z=X=>{if(!X)return;let ue=document.querySelector("link[rel~='icon']");ue||(ue=document.createElement("link"),ue.rel="icon",document.getElementsByTagName("head")[0].appendChild(ue)),ue.href=X};xe!=null&&xe.favicon?z(xe.favicon):xe!=null&&xe.logo?z(xe.logo):z(ay)}catch{}},[xe]);const J=async z=>{const{_id:X,...ue}=z,ge=X||"branding";await Ge.set("settings",ge,ue),_e(et=>({...et,...ue}))};C.useEffect(()=>{P(!0);let z={products:!1,categories:!1,orders:!1,expenses:!1,customers:!1,users:!1,settings:!1};const X=()=>{Object.values(z).every(Ae=>Ae)&&P(!1)},ue=(Ae,ut)=>{console.error(`Error loading ${Ae}:`,ut),H(`Error loading ${Ae}. Refresh page.`,"error"),z[Ae]=!0,X()},ge=Ge.subscribeToCollection("products",Ae=>{d(Ae),z.products=!0,X()},"name","asc",Ae=>ue("products",Ae)),et=Ge.subscribeToCollection("categories",Ae=>{if(Ae.length>0){const ut=Ae.map(Xe=>Xe.name).sort();S(ut),Me(Ae)}else S([]),Me([]);z.categories=!0,X()},"name","asc",Ae=>ue("categories",Ae)),ft=Ge.subscribeToCollection("orders",Ae=>{p(Ae),z.orders=!0,X()},"date","desc",Ae=>ue("orders",Ae)),Tt=Ge.subscribeToCollection("expenses",Ae=>{x(Ae),z.expenses=!0,X()},"date","desc",Ae=>ue("expenses",Ae)),li=Ge.subscribeToCollection("customers",Ae=>{y(Ae),z.customers=!0,X()},"name","asc",Ae=>ue("customers",Ae)),W=Ge.subscribeToCollection("users",Ae=>{w(Ae),z.users=!0,X()},"username","asc",Ae=>ue("users",Ae)),oe=Ge.subscribeToCollection("settings",Ae=>{const ut=Ae.find(pn=>pn._id==="branding"),Xe=Ae.find(pn=>pn._id==="expenses_config");if(ut){const{_id:pn,...kn}=ut,Xt=kn.logo===_T?wT:kn.logo,oa=kn.favicon===_T?Xt||ay:kn.favicon;_e(xs=>({...xs,...kn,logo:Xt,favicon:oa}))}if(Xe!=null&&Xe.types&&Array.isArray(Xe.types)){const pn=[...new Set([...cm,...Xe.types.filter(Boolean)])];_(pn)}else _(cm);z.settings=!0,X()},"name","asc",Ae=>ue("settings",Ae)),Ee=setTimeout(()=>{A.current&&(console.warn("Loading safety timeout hit."),P(!1))},8e3);return()=>{clearTimeout(Ee),ge(),et(),ft(),Tt(),li(),W(),oe()}},[]);const[Ne,Me]=C.useState([]),ie=async z=>{E.includes(z)||(await Ge.add("categories",{name:z}),H(`Category "${z}" added!`,"success"))},Ue=async(z,X)=>{const ue=Ne.find(ge=>ge.name===z);if(ue){await Ge.update("categories",ue._id,{name:X}),H(`Category updated to "${X}"`,"success");const ge=u.filter(et=>et.category===z);for(const et of ge)await Ge.update("products",et._id,{category:X})}},re=async z=>{const X=Ne.find(ue=>ue.name===z);X&&(await Ge.delete("categories",X._id),H(`Category "${z}" deleted!`,"success"))},[te,ve]=C.useState(null);C.useEffect(()=>{if(b.length>0&&(e!=null&&e.email)){const z=b.find(X=>{var ue;return((ue=X.email)==null?void 0:ue.toLowerCase())===e.email.toLowerCase()});z&&ve(z)}else e||ve(null)},[b,e]);const We=z=>{r(z)};C.useEffect(()=>{const z=document.documentElement;n==="dark"?z.classList.add("dark"):n==="light"?z.classList.remove("dark"):n==="system"&&(window.matchMedia("(prefers-color-scheme: dark)").matches?z.classList.add("dark"):z.classList.remove("dark")),localStorage.setItem("theme",n)},[n]);const{i18n:Se}=dr(),[Ie,Fe]=C.useState(localStorage.getItem("language")||Se.language||"en"),mt=z=>{Fe(z),Se.changeLanguage(z),localStorage.setItem("language",z);const X=z==="ar"?"rtl":"ltr";document.documentElement.setAttribute("dir",X),document.documentElement.setAttribute("lang",z)};C.useEffect(()=>{const z=localStorage.getItem("language")||"en",X=z==="ar"?"rtl":"ltr";document.documentElement.setAttribute("dir",X),document.documentElement.setAttribute("lang",z),z!==Se.language&&Se.changeLanguage(z)},[Se]);const Y=()=>{a(z=>{const X=!z;return localStorage.setItem("isSidebarCollapsed",X),X})},ke=()=>o(z=>!z),Oe=()=>o(!1),at=z=>new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(z),lt=async z=>{try{const X={...z,createdBy:(te==null?void 0:te.displayName)||(te==null?void 0:te.username)||"System"},ue=await Ge.add("products",X);return H("Product added successfully","success"),ue}catch(X){return H("Error adding product","error"),console.error(X),null}},st=async z=>{const{_id:X,...ue}=z;try{await Ge.update("products",X,ue),H("Product updated successfully","success")}catch(ge){H("Error updating product","error"),console.error(ge)}},ae=async z=>{try{await Ge.delete("products",z),H("Product deleted successfully","success")}catch(X){H("Error deleting product","error"),console.error(X)}},G=async z=>{const X={...z,createdOn:new Date().toISOString(),createdBy:(te==null?void 0:te.displayName)||(te==null?void 0:te.username)||"System"},ue=await Ge.add("customers",X);return H("Customer added successfully","success"),ue},ce=async z=>{const{_id:X,...ue}=z;await Ge.update("customers",X,ue)},Pe=async z=>{try{const X=`#ORD-${Math.floor(1e3+Math.random()*9e3)}`,ue={...z,orderId:X,date:new Date().toISOString(),createdBy:(te==null?void 0:te.displayName)||(te==null?void 0:te.username)||"System"},ge=await Ge.add("orders",ue);for(const et of z.items){const ft=u.find(Tt=>Tt._id===et.product._id);if(ft){const Tt=Math.max(0,ft.stock-et.quantity);await Ge.update("products",ft._id,{stock:Tt,status:Tt===0?"Out of Stock":Tt<=10?"Low Stock":"In Stock"})}}return H("Order created successfully","success"),ge}catch(X){return H("Error creating order","error"),console.error(X),null}},He=async z=>{try{const X={...z,amountIQD:Number(z.amountIQD||0),createdAt:z.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:(te==null?void 0:te.displayName)||(te==null?void 0:te.username)||"System"},ue=await Ge.add("expenses",X);return H("Expense added successfully","success"),ue}catch(X){return H("Error adding expense","error"),console.error(X),null}},tn=async z=>{const{_id:X,...ue}=z;try{await Ge.update("expenses",X,{...ue,amountIQD:Number(ue.amountIQD||0),updatedAt:new Date().toISOString()}),H("Expense updated successfully","success")}catch(ge){H("Error updating expense","error"),console.error(ge)}},An=async z=>{try{await Ge.delete("expenses",z),H("Expense deleted successfully","success")}catch(X){H("Error deleting expense","error"),console.error(X)}},qn=async z=>{const X=[...new Set((z||[]).map(ge=>String(ge||"").trim()).filter(Boolean))],ue=[...new Set([...cm,...X])];try{await Ge.set("settings","expenses_config",{name:"expenses_config",types:ue,updatedAt:new Date().toISOString()}),_(ue),H("Expense types saved","success")}catch(ge){H("Error saving expense types","error"),console.error(ge)}},nn=async z=>{const X=h.find(ue=>ue._id===z);if(X)for(const ue of X.items){const ge=u.find(et=>et._id===ue.product._id);if(ge){const et=ge.stock+ue.quantity;await Ge.update("products",ge._id,{stock:et,status:et===0?"Out of Stock":et<=10?"Low Stock":"In Stock"})}}await Ge.delete("orders",z),H("Order deleted and stock restored","info")},Er=async z=>{const{_id:X,...ue}=z,ge=h.find(et=>et._id===X);if(ge){for(const et of ge.items){const ft=u.find(Tt=>Tt._id===et.product._id);ft&&await Ge.update("products",ft._id,{stock:ft.stock+et.quantity})}for(const et of z.items){const ft=u.find(Tt=>Tt._id===et.product._id);if(ft){const Tt=ge.items.find(oe=>oe.product._id===et.product._id),li=Tt?Tt.quantity:0,W=Math.max(0,ft.stock+li-et.quantity);await Ge.update("products",ft._id,{stock:W,status:W===0?"Out of Stock":W<=10?"Low Stock":"In Stock"})}}}await Ge.update("orders",X,ue),H("Order updated successfully","success")},hn=async z=>{await Ge.add("users",{...z,displayName:z.username})},le=async z=>{const{_id:X,...ue}=z;await Ge.update("users",X,ue)},be=async z=>{te&&(await Ge.update("users",te._id,z),ve(X=>({...X,...z})))},ye=async z=>{await Ge.delete("users",z)};return f.jsx(lF.Provider,{value:{products:u,addProduct:lt,updateProduct:st,deleteProduct:ae,orders:h,addOrder:Pe,updateOrder:Er,deleteOrder:nn,expenses:g,addExpense:He,updateExpense:tn,deleteExpense:An,customers:v,addCustomer:G,updateCustomer:ce,users:b,addUser:hn,updateUser:le,deleteUser:ye,categories:E,addCategory:ie,updateCategory:Ue,deleteCategory:re,expenseTypes:k,saveExpenseTypes:qn,loading:N,theme:n,toggleTheme:We,brand:xe,updateBrand:J,appearance:l,setAppearance:z=>{c(X=>{const ue={...X,...z};return localStorage.setItem("appearance",JSON.stringify(ue)),ue})},currentUser:te,updateUserProfile:be,language:Ie,changeLanguage:mt,formatCurrency:at,isSidebarCollapsed:i,toggleSidebar:Y,isMobileMenuOpen:s,toggleMobileMenu:ke,closeMobileMenu:Oe,toasts:I,addToast:H,isModalOpen:me,setIsModalOpen:ee,isDesktop:j,isOnline:R,pendingSyncCount:$,syncNow:ne,desktopOfflineModeEnabled:V,setDesktopOfflineModeEnabled:he,conflicts:q},children:t})},Nse=()=>{var A,I;const{t,i18n:e}=dr(),n=co(),r=Yp(),{user:i,signOutUser:a}=ac(),{theme:s,currentUser:o,brand:l,isSidebarCollapsed:c,toggleSidebar:u,isMobileMenuOpen:d,closeMobileMenu:h,language:p}=Sn(),[g,x]=C.useState(!1),v=C.useRef(null),y=o||i,b=p==="ar",w=[{icon:oY,label:t("menu.dashboard"),path:"/",roles:["Admin","Manager"]},{icon:nE,label:t("menu.inventory"),path:"/products",roles:["Admin","Manager"]},{icon:pl,label:t("menu.productPicture"),path:"/product-picture",roles:["Admin","Manager"]},{icon:CD,label:t("menu.orders"),path:"/orders",roles:["Admin","Manager","Sales"]},{icon:yY,label:t("menu.expenses"),path:"/expenses",roles:["Admin","Manager"]},{icon:tb,label:t("menu.customers"),path:"/customers",roles:["Admin","Manager","Sales"]},{icon:ID,label:t("menu.settings"),path:"/settings",roles:["Admin","Manager","Sales"]}].filter(O=>!O.roles||O.roles.includes((o==null?void 0:o.role)||"Sales")),_=`fixed lg:static top-0 bottom-0 ${b?"right-0 left-auto":"left-0 right-auto"} border-e z-40 ${c?"w-20":"w-56"} bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 flex flex-col h-screen transition-all duration-300 ease-in-out ${d?"translate-x-0 shadow-2xl":(b?"translate-x-full":"-translate-x-full")+" lg:translate-x-0"} glass-panel !bg-white dark:!bg-slate-900`;C.useEffect(()=>{const O=j=>{v.current&&!v.current.contains(j.target)&&x(!1)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]);const N=()=>{x(!1),h(),r("/settings?tab=account")},P=async()=>{x(!1);try{await a(),h(),r("/login",{replace:!0})}catch(O){console.error("Logout failed:",O)}};return f.jsxs("aside",{className:_,children:[f.jsxs("div",{className:`h-24 flex items-center ${c?"justify-center":"px-8"} relative`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shadow-lg text-white overflow-hidden shrink-0",style:{backgroundColor:l.color,boxShadow:`0 10px 15px -3px ${l.color}33`},children:l.logo?f.jsx("img",{src:l.logo,alt:"Logo",className:"w-full h-full object-cover"}):f.jsx(nE,{className:"w-6 h-6"})}),!c&&f.jsx("div",{className:"animate-in fade-in duration-300",children:f.jsxs("h1",{className:"font-bold text-slate-800 dark:text-white text-lg leading-tight tracking-tight",children:[l.name.split(" ")[0],f.jsx("br",{}),f.jsx("span",{style:{color:l.color},className:"font-extrabold",children:l.name.split(" ").slice(1).join(" ")||"APP"})]})})]}),f.jsx("button",{onClick:h,className:`lg:hidden absolute top-6 ${b?"left-4":"right-4"} p-2 text-slate-400 hover:text-red-500 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors`,children:f.jsx(Fr,{className:"w-5 h-5"})})]}),f.jsxs("nav",{className:"flex-1 overflow-y-auto py-4 px-3 space-y-2 custom-scrollbar",children:[!c&&f.jsx("div",{className:"mb-4 px-4",children:f.jsx("p",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:t("menu.mainMenu")})}),w.map(O=>{const j=n.pathname===O.path;return f.jsxs(XK,{to:O.path,title:c?O.label:"",onClick:h,className:`flex items-center gap-3 rounded-xl transition-all duration-200 group relative overflow-hidden ${c?"justify-center p-3":"px-4 py-3.5"} ${j?"text-white shadow-lg bg-accent shadow-accent":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 dark:text-slate-400 dark:hover:text-white"}`,children:[f.jsx(O.icon,{className:`w-5 h-5 relative z-10 transition-transform duration-200 ${j?"scale-110":"group-hover:scale-110"}`}),!c&&f.jsx("span",{className:"font-medium relative z-10 animate-in fade-in slide-in-from-start-2 duration-300",children:O.label})]},O.path)})]}),f.jsx("div",{className:"p-4 mt-auto border-t border-slate-100 dark:border-slate-800/50",children:f.jsxs("div",{className:"relative",ref:v,children:[f.jsxs("button",{onClick:()=>x(O=>!O),className:`w-full bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 flex items-center shadow-sm glass-panel transition-all hover:border-slate-300 dark:hover:border-slate-600 !bg-white dark:!bg-slate-800 ${c?"p-2 justify-center":"p-4 gap-3"}`,children:[f.jsxs("div",{className:"relative shrink-0 w-10 h-10",children:[f.jsx("div",{className:"w-full h-full text-white rounded-full flex items-center justify-center font-bold text-lg overflow-hidden",style:{backgroundColor:l.color},children:y!=null&&y.photoURL?f.jsx("img",{src:y.photoURL,alt:"User",className:"w-full h-full object-cover"}):((A=y==null?void 0:y.displayName)==null?void 0:A.charAt(0))||"U"}),f.jsx("div",{className:"absolute bottom-0 end-0 w-3 h-3 bg-emerald-500 border-2 border-white dark:border-slate-800 rounded-full"})]}),!c&&f.jsxs("div",{className:"flex-1 overflow-hidden text-left animate-in fade-in duration-300",children:[f.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-white truncate",children:((I=y==null?void 0:y.displayName)==null?void 0:I.split(" ")[0])||t("user.defaultName")}),f.jsx("p",{className:"text-xs text-slate-500 truncate",children:(o==null?void 0:o.role)||(y==null?void 0:y.email)||t("user.defaultRole")})]}),!c&&f.jsx(Jx,{className:`w-4 h-4 text-slate-400 transition-transform ${g?"rotate-180":""}`})]}),g&&!c&&f.jsxs("div",{className:"absolute bottom-full mb-2 left-0 right-0 rounded-2xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-2xl overflow-hidden z-50",children:[f.jsxs("button",{onClick:N,className:"w-full flex items-center gap-2 px-4 py-3 text-sm font-semibold text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/60 transition-colors",children:[f.jsx(SY,{className:"w-4 h-4"}),f.jsx("span",{children:t("settings.accountSettings")||"Account Settings"})]}),f.jsxs("button",{onClick:P,className:"w-full flex items-center gap-2 px-4 py-3 text-sm font-semibold text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/60 transition-colors border-t border-slate-100 dark:border-slate-700",children:[f.jsx(uY,{className:"w-4 h-4"}),f.jsx("span",{children:t("menu.logout")||"Log out"})]})]})]})}),f.jsx("button",{onClick:u,className:`hidden lg:flex absolute bottom-24 ${b?"-left-3":"-right-3"} w-6 h-6 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-full items-center justify-center text-slate-400 shadow-sm z-50 transition-all hover:scale-110`,style:{color:l.color},children:c?f.jsx(Rh,{className:"w-3.5 h-3.5"}):f.jsx(H3,{className:"w-3.5 h-3.5"})})]})},Tse=({title:t,isHiddenManual:e})=>{const{t:n}=dr(),{currentUser:r,toggleMobileMenu:i,isModalOpen:a,appearance:s,brand:o}=Sn(),l=e||o.hideHeader,c=["liquid","default_glass"].includes(s==null?void 0:s.theme),u=a?"hidden":l?"flex lg:hidden":"flex";return f.jsxs("header",{className:`${u} h-14 sm:h-16 md:h-20 lg:h-24 ${c?"bg-white/60 dark:bg-slate-900/60 backdrop-blur-2xl border-b border-white/20 dark:border-slate-700/30":"bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800"} items-center justify-between px-3 sm:px-4 md:px-6 lg:px-8 sticky top-0 z-20 transition-all duration-300 shadow-sm`,children:[f.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 md:gap-4 flex-1 min-w-0 overflow-hidden",children:[f.jsx("button",{onClick:i,className:`lg:hidden p-1.5 sm:p-2 rounded-xl transition-all shrink-0 ${c?"text-slate-600 dark:text-slate-300 hover:bg-white/40 dark:hover:bg-slate-800/40 backdrop-blur-sm":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800"}`,"aria-label":"Toggle menu",children:f.jsx(fY,{className:"w-5 h-5 sm:w-5.5 sm:h-5.5 md:w-6 md:h-6"})}),f.jsx("div",{className:"flex flex-col min-w-0 flex-1 overflow-hidden",children:f.jsx("h2",{className:"text-sm sm:text-base md:text-xl lg:text-2xl font-black text-slate-800 dark:text-white tracking-tight truncate",children:t})})]}),f.jsx("div",{})]})},Pse=()=>{const{toasts:t}=Sn();return f.jsx("div",{className:"fixed bottom-8 right-8 z-[1000] flex flex-col gap-3 pointer-events-none",children:t.map(e=>f.jsxs("div",{className:`
                        pointer-events-auto
                        flex items-center gap-4 px-6 py-4 rounded-2xl shadow-2xl backdrop-blur-md
                        animate-in slide-in-from-right-8 fade-in duration-300
                        ${e.type==="success"?"bg-emerald-500/90 text-white":e.type==="error"?"bg-red-500/90 text-white":"bg-slate-800/90 text-white"}
                    `,children:[f.jsxs("div",{className:"flex-shrink-0",children:[e.type==="success"&&f.jsx(ED,{className:"w-6 h-6"}),e.type==="error"&&f.jsx(Zx,{className:"w-6 h-6"}),e.type==="info"&&f.jsx(ND,{className:"w-6 h-6"})]}),f.jsx("div",{className:"flex-1",children:f.jsx("p",{className:"font-bold text-sm",children:e.message})})]},e.id))})},sc=({children:t,title:e,hideHeader:n,fullWidth:r})=>{const{isSidebarCollapsed:i,isMobileMenuOpen:a,closeMobileMenu:s,brand:o}=Sn(),l=n||o.hideHeader;return f.jsxs("div",{className:"flex h-screen bg-transparent font-sans transition-colors duration-300",children:[a&&f.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-30 lg:hidden animate-in fade-in duration-300",onClick:s}),f.jsx(Nse,{}),f.jsxs("div",{className:"flex-1 flex flex-col min-h-screen transition-all duration-300 overflow-hidden",children:[f.jsx(Tse,{title:e||"Dashboard",isHiddenManual:n}),f.jsx("main",{className:`flex-1 ${r?"p-0":"p-4 md:p-8"} overflow-y-auto ${l?"pt-0":""} overflow-x-hidden`,children:f.jsx("div",{className:`${r?"":"max-w-7xl mx-auto"} animate-in fade-in slide-in-from-bottom-4 duration-500`,children:t})}),f.jsx(Pse,{})]})]})};function cF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=cF(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Et(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=cF(t))&&(r&&(r+=" "),r+=e);return r}var Ase=Array.isArray,oi=Ase,Ise=typeof R4=="object"&&R4&&R4.Object===Object&&R4,uF=Ise,Cse=uF,Ose=typeof self=="object"&&self&&self.Object===Object&&self,jse=Cse||Ose||Function("return this")(),ps=jse,Mse=ps,Dse=Mse.Symbol,l4=Dse,ST=l4,dF=Object.prototype,Rse=dF.hasOwnProperty,$se=dF.toString,Zd=ST?ST.toStringTag:void 0;function Lse(t){var e=Rse.call(t,Zd),n=t[Zd];try{t[Zd]=void 0;var r=!0}catch{}var i=$se.call(t);return r&&(e?t[Zd]=n:delete t[Zd]),i}var Fse=Lse,Vse=Object.prototype,Use=Vse.toString;function Bse(t){return Use.call(t)}var zse=Bse,kT=l4,Wse=Fse,qse=zse,Hse="[object Null]",Gse="[object Undefined]",ET=kT?kT.toStringTag:void 0;function Kse(t){return t==null?t===void 0?Gse:Hse:ET&&ET in Object(t)?Wse(t):qse(t)}var fo=Kse;function Yse(t){return t!=null&&typeof t=="object"}var ho=Yse,Qse=fo,Xse=ho,Jse="[object Symbol]";function Zse(t){return typeof t=="symbol"||Xse(t)&&Qse(t)==Jse}var hd=Zse,eoe=oi,toe=hd,noe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,roe=/^\w*$/;function ioe(t,e){if(eoe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||toe(t)?!0:roe.test(t)||!noe.test(t)||e!=null&&t in Object(e)}var ow=ioe;function aoe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var I0=aoe;const pd=Ut(I0);var soe=fo,ooe=I0,loe="[object AsyncFunction]",coe="[object Function]",uoe="[object GeneratorFunction]",doe="[object Proxy]";function foe(t){if(!ooe(t))return!1;var e=soe(t);return e==coe||e==uoe||e==loe||e==doe}var lw=foe;const ot=Ut(lw);var hoe=ps,poe=hoe["__core-js_shared__"],moe=poe,sy=moe,NT=function(){var t=/[^.]+$/.exec(sy&&sy.keys&&sy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function goe(t){return!!NT&&NT in t}var yoe=goe,voe=Function.prototype,xoe=voe.toString;function boe(t){if(t!=null){try{return xoe.call(t)}catch{}try{return t+""}catch{}}return""}var fF=boe,woe=lw,_oe=yoe,Soe=I0,koe=fF,Eoe=/[\\^$.*+?()[\]{}|]/g,Noe=/^\[object .+?Constructor\]$/,Toe=Function.prototype,Poe=Object.prototype,Aoe=Toe.toString,Ioe=Poe.hasOwnProperty,Coe=RegExp("^"+Aoe.call(Ioe).replace(Eoe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ooe(t){if(!Soe(t)||_oe(t))return!1;var e=woe(t)?Coe:Noe;return e.test(koe(t))}var joe=Ooe;function Moe(t,e){return t==null?void 0:t[e]}var Doe=Moe,Roe=joe,$oe=Doe;function Loe(t,e){var n=$oe(t,e);return Roe(n)?n:void 0}var oc=Loe,Foe=oc,Voe=Foe(Object,"create"),Z2=Voe,TT=Z2;function Uoe(){this.__data__=TT?TT(null):{},this.size=0}var Boe=Uoe;function zoe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Woe=zoe,qoe=Z2,Hoe="__lodash_hash_undefined__",Goe=Object.prototype,Koe=Goe.hasOwnProperty;function Yoe(t){var e=this.__data__;if(qoe){var n=e[t];return n===Hoe?void 0:n}return Koe.call(e,t)?e[t]:void 0}var Qoe=Yoe,Xoe=Z2,Joe=Object.prototype,Zoe=Joe.hasOwnProperty;function e0e(t){var e=this.__data__;return Xoe?e[t]!==void 0:Zoe.call(e,t)}var t0e=e0e,n0e=Z2,r0e="__lodash_hash_undefined__";function i0e(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=n0e&&e===void 0?r0e:e,this}var a0e=i0e,s0e=Boe,o0e=Woe,l0e=Qoe,c0e=t0e,u0e=a0e;function md(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}md.prototype.clear=s0e;md.prototype.delete=o0e;md.prototype.get=l0e;md.prototype.has=c0e;md.prototype.set=u0e;var d0e=md;function f0e(){this.__data__=[],this.size=0}var h0e=f0e;function p0e(t,e){return t===e||t!==t&&e!==e}var cw=p0e,m0e=cw;function g0e(t,e){for(var n=t.length;n--;)if(m0e(t[n][0],e))return n;return-1}var e5=g0e,y0e=e5,v0e=Array.prototype,x0e=v0e.splice;function b0e(t){var e=this.__data__,n=y0e(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():x0e.call(e,n,1),--this.size,!0}var w0e=b0e,_0e=e5;function S0e(t){var e=this.__data__,n=_0e(e,t);return n<0?void 0:e[n][1]}var k0e=S0e,E0e=e5;function N0e(t){return E0e(this.__data__,t)>-1}var T0e=N0e,P0e=e5;function A0e(t,e){var n=this.__data__,r=P0e(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var I0e=A0e,C0e=h0e,O0e=w0e,j0e=k0e,M0e=T0e,D0e=I0e;function gd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gd.prototype.clear=C0e;gd.prototype.delete=O0e;gd.prototype.get=j0e;gd.prototype.has=M0e;gd.prototype.set=D0e;var t5=gd,R0e=oc,$0e=ps,L0e=R0e($0e,"Map"),uw=L0e,PT=d0e,F0e=t5,V0e=uw;function U0e(){this.size=0,this.__data__={hash:new PT,map:new(V0e||F0e),string:new PT}}var B0e=U0e;function z0e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var W0e=z0e,q0e=W0e;function H0e(t,e){var n=t.__data__;return q0e(e)?n[typeof e=="string"?"string":"hash"]:n.map}var n5=H0e,G0e=n5;function K0e(t){var e=G0e(this,t).delete(t);return this.size-=e?1:0,e}var Y0e=K0e,Q0e=n5;function X0e(t){return Q0e(this,t).get(t)}var J0e=X0e,Z0e=n5;function ele(t){return Z0e(this,t).has(t)}var tle=ele,nle=n5;function rle(t,e){var n=nle(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var ile=rle,ale=B0e,sle=Y0e,ole=J0e,lle=tle,cle=ile;function yd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yd.prototype.clear=ale;yd.prototype.delete=sle;yd.prototype.get=ole;yd.prototype.has=lle;yd.prototype.set=cle;var dw=yd,hF=dw,ule="Expected a function";function fw(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(ule);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(fw.Cache||hF),n}fw.Cache=hF;var pF=fw;const dle=Ut(pF);var fle=pF,hle=500;function ple(t){var e=fle(t,function(r){return n.size===hle&&n.clear(),r}),n=e.cache;return e}var mle=ple,gle=mle,yle=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vle=/\\(\\)?/g,xle=gle(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(yle,function(n,r,i,a){e.push(i?a.replace(vle,"$1"):r||n)}),e}),ble=xle;function wle(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var hw=wle,AT=l4,_le=hw,Sle=oi,kle=hd,IT=AT?AT.prototype:void 0,CT=IT?IT.toString:void 0;function mF(t){if(typeof t=="string")return t;if(Sle(t))return _le(t,mF)+"";if(kle(t))return CT?CT.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Ele=mF,Nle=Ele;function Tle(t){return t==null?"":Nle(t)}var gF=Tle,Ple=oi,Ale=ow,Ile=ble,Cle=gF;function Ole(t,e){return Ple(t)?t:Ale(t,e)?[t]:Ile(Cle(t))}var yF=Ole,jle=hd;function Mle(t){if(typeof t=="string"||jle(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var r5=Mle,Dle=yF,Rle=r5;function $le(t,e){e=Dle(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Rle(e[n++])];return n&&n==r?t:void 0}var pw=$le,Lle=pw;function Fle(t,e,n){var r=t==null?void 0:Lle(t,e);return r===void 0?n:r}var vF=Fle;const Xi=Ut(vF);function Vle(t){return t==null}var Ule=Vle;const xt=Ut(Ule);var Ble=fo,zle=oi,Wle=ho,qle="[object String]";function Hle(t){return typeof t=="string"||!zle(t)&&Wle(t)&&Ble(t)==qle}var Gle=Hle;const $l=Ut(Gle);var xF={exports:{}},Dt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mw=Symbol.for("react.element"),gw=Symbol.for("react.portal"),i5=Symbol.for("react.fragment"),a5=Symbol.for("react.strict_mode"),s5=Symbol.for("react.profiler"),o5=Symbol.for("react.provider"),l5=Symbol.for("react.context"),Kle=Symbol.for("react.server_context"),c5=Symbol.for("react.forward_ref"),u5=Symbol.for("react.suspense"),d5=Symbol.for("react.suspense_list"),f5=Symbol.for("react.memo"),h5=Symbol.for("react.lazy"),Yle=Symbol.for("react.offscreen"),bF;bF=Symbol.for("react.module.reference");function ia(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case mw:switch(t=t.type,t){case i5:case s5:case a5:case u5:case d5:return t;default:switch(t=t&&t.$$typeof,t){case Kle:case l5:case c5:case h5:case f5:case o5:return t;default:return e}}case gw:return e}}}Dt.ContextConsumer=l5;Dt.ContextProvider=o5;Dt.Element=mw;Dt.ForwardRef=c5;Dt.Fragment=i5;Dt.Lazy=h5;Dt.Memo=f5;Dt.Portal=gw;Dt.Profiler=s5;Dt.StrictMode=a5;Dt.Suspense=u5;Dt.SuspenseList=d5;Dt.isAsyncMode=function(){return!1};Dt.isConcurrentMode=function(){return!1};Dt.isContextConsumer=function(t){return ia(t)===l5};Dt.isContextProvider=function(t){return ia(t)===o5};Dt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===mw};Dt.isForwardRef=function(t){return ia(t)===c5};Dt.isFragment=function(t){return ia(t)===i5};Dt.isLazy=function(t){return ia(t)===h5};Dt.isMemo=function(t){return ia(t)===f5};Dt.isPortal=function(t){return ia(t)===gw};Dt.isProfiler=function(t){return ia(t)===s5};Dt.isStrictMode=function(t){return ia(t)===a5};Dt.isSuspense=function(t){return ia(t)===u5};Dt.isSuspenseList=function(t){return ia(t)===d5};Dt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===i5||t===s5||t===a5||t===u5||t===d5||t===Yle||typeof t=="object"&&t!==null&&(t.$$typeof===h5||t.$$typeof===f5||t.$$typeof===o5||t.$$typeof===l5||t.$$typeof===c5||t.$$typeof===bF||t.getModuleId!==void 0)};Dt.typeOf=ia;xF.exports=Dt;var Qle=xF.exports,Xle=fo,Jle=ho,Zle="[object Number]";function ece(t){return typeof t=="number"||Jle(t)&&Xle(t)==Zle}var wF=ece;const tce=Ut(wF);var nce=wF;function rce(t){return nce(t)&&t!=+t}var ice=rce;const vd=Ut(ice);var xa=function(e){return e===0?0:e>0?1:-1},sl=function(e){return $l(e)&&e.indexOf("%")===e.length-1},Te=function(e){return tce(e)&&!vd(e)},ace=function(e){return xt(e)},Bn=function(e){return Te(e)||$l(e)},sce=0,c4=function(e){var n=++sce;return"".concat(e||"").concat(n)},Ll=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Te(e)&&!$l(e))return r;var a;if(sl(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return vd(a)&&(a=r),i&&a>n&&(a=n),a},Do=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},oce=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},$i=function(e,n){return Te(e)&&Te(n)?function(r){return e+r*(n-e)}:function(){return n}};function y1(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Xi(r,e))===n})}var lce=function(e,n){return Te(e)&&Te(n)?e-n:$l(e)&&$l(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function cu(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function I7(t){"@babel/helpers - typeof";return I7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I7(t)}var cce=["viewBox","children"],uce=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],OT=["points","pathLength"],oy={svg:cce,polygon:OT,polyline:OT},yw=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],v1=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(C.isValidElement(e)&&(r=e.props),!pd(r))return null;var i={};return Object.keys(r).forEach(function(a){yw.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},dce=function(e,n,r){return function(i){return e(n,r,i),null}},x1=function(e,n,r){if(!pd(e)||I7(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];yw.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=dce(s,n,r))}),i},fce=["children"],hce=["children"];function jT(t,e){if(t==null)return{};var n=pce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function C7(t){"@babel/helpers - typeof";return C7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C7(t)}var MT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ws=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},DT=null,ly=null,vw=function t(e){if(e===DT&&Array.isArray(ly))return ly;var n=[];return C.Children.forEach(e,function(r){xt(r)||(Qle.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),ly=n,DT=e,n};function Pa(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ws(i)}):r=[Ws(e)],vw(t).forEach(function(i){var a=Xi(i,"type.displayName")||Xi(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function hi(t,e){var n=Pa(t,e);return n&&n[0]}var RT=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Te(r)||r<=0||!Te(i)||i<=0)},mce=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],gce=function(e){return e&&e.type&&$l(e.type)&&mce.indexOf(e.type)>=0},yce=function(e){return e&&C7(e)==="object"&&"clipDot"in e},vce=function(e,n,r,i){var a,s=(a=oy==null?void 0:oy[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!ot(e)&&(i&&s.includes(n)||uce.includes(n))||r&&yw.includes(n)},ht=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(C.isValidElement(e)&&(i=e.props),!pd(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;vce((o=i)===null||o===void 0?void 0:o[s],s,n,r)&&(a[s]=i[s])}),a},O7=function t(e,n){if(e===n)return!0;var r=C.Children.count(e);if(r!==C.Children.count(n))return!1;if(r===0)return!0;if(r===1)return $T(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!$T(a,s))return!1}return!0},$T=function(e,n){if(xt(e)&&xt(n))return!0;if(!xt(e)&&!xt(n)){var r=e.props||{},i=r.children,a=jT(r,fce),s=n.props||{},o=s.children,l=jT(s,hce);return i&&o?cu(a,l)&&O7(i,o):!i&&!o?cu(a,l):!1}return!1},LT=function(e,n){var r=[],i={};return vw(e).forEach(function(a,s){if(gce(a))r.push(a);else if(a){var o=Ws(a.type),l=n[o]||{},c=l.handler,u=l.once;if(c&&(!u||!i[o])){var d=c(a,o,s);r.push(d),i[o]=!0}}}),r},xce=function(e){var n=e&&e.type;return n&&MT[n]?MT[n]:null},bce=function(e,n){return vw(n).indexOf(e)},wce=["children","width","height","viewBox","className","style","title","desc"];function j7(){return j7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j7.apply(this,arguments)}function _ce(t,e){if(t==null)return{};var n=Sce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function M7(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,c=_ce(t,wce),u=i||{width:n,height:r,x:0,y:0},d=Et("recharts-surface",a);return F.createElement("svg",j7({},ht(c,!0,"svg"),{className:d,width:n,height:r,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),F.createElement("title",null,o),F.createElement("desc",null,l),e)}var kce=["children","className"];function D7(){return D7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D7.apply(this,arguments)}function Ece(t,e){if(t==null)return{};var n=Nce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var on=F.forwardRef(function(t,e){var n=t.children,r=t.className,i=Ece(t,kce),a=Et("recharts-layer",r);return F.createElement("g",D7({className:a},ht(i,!0),{ref:e}),n)}),qs=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function Tce(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var Pce=Tce,Ace=Pce;function Ice(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Ace(t,e,n)}var Cce=Ice,Oce="\\ud800-\\udfff",jce="\\u0300-\\u036f",Mce="\\ufe20-\\ufe2f",Dce="\\u20d0-\\u20ff",Rce=jce+Mce+Dce,$ce="\\ufe0e\\ufe0f",Lce="\\u200d",Fce=RegExp("["+Lce+Oce+Rce+$ce+"]");function Vce(t){return Fce.test(t)}var _F=Vce;function Uce(t){return t.split("")}var Bce=Uce,SF="\\ud800-\\udfff",zce="\\u0300-\\u036f",Wce="\\ufe20-\\ufe2f",qce="\\u20d0-\\u20ff",Hce=zce+Wce+qce,Gce="\\ufe0e\\ufe0f",Kce="["+SF+"]",R7="["+Hce+"]",$7="\\ud83c[\\udffb-\\udfff]",Yce="(?:"+R7+"|"+$7+")",kF="[^"+SF+"]",EF="(?:\\ud83c[\\udde6-\\uddff]){2}",NF="[\\ud800-\\udbff][\\udc00-\\udfff]",Qce="\\u200d",TF=Yce+"?",PF="["+Gce+"]?",Xce="(?:"+Qce+"(?:"+[kF,EF,NF].join("|")+")"+PF+TF+")*",Jce=PF+TF+Xce,Zce="(?:"+[kF+R7+"?",R7,EF,NF,Kce].join("|")+")",eue=RegExp($7+"(?="+$7+")|"+Zce+Jce,"g");function tue(t){return t.match(eue)||[]}var nue=tue,rue=Bce,iue=_F,aue=nue;function sue(t){return iue(t)?aue(t):rue(t)}var oue=sue,lue=Cce,cue=_F,uue=oue,due=gF;function fue(t){return function(e){e=due(e);var n=cue(e)?uue(e):void 0,r=n?n[0]:e.charAt(0),i=n?lue(n,1).join(""):e.slice(1);return r[t]()+i}}var hue=fue,pue=hue,mue=pue("toUpperCase"),gue=mue;const p5=Ut(gue);function Bt(t){return function(){return t}}const AF=Math.cos,b1=Math.sin,Oa=Math.sqrt,w1=Math.PI,m5=2*w1,L7=Math.PI,F7=2*L7,K0=1e-6,yue=F7-K0;function IF(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function vue(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return IF;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class xue{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?IF:vue(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,c=i-n,u=s-e,d=o-n,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>K0)if(!(Math.abs(d*l-c*u)>K0)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,g=i-o,x=l*l+c*c,v=p*p+g*g,y=Math.sqrt(x),b=Math.sqrt(h),w=a*Math.tan((L7-Math.acos((x+h-v)/(2*y*b)))/2),E=w/b,S=w/y;Math.abs(E-1)>K0&&this._append`L${e+E*u},${n+E*d}`,this._append`A${a},${a},0,0,${+(d*p>u*g)},${this._x1=e+S*l},${this._y1=n+S*c}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,u=n+l,d=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>K0||Math.abs(this._y1-u)>K0)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%F7+F7),h>yue?this._append`A${r},${r},0,1,${d},${e-o},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:h>K0&&this._append`A${r},${r},0,${+(h>=L7)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function xw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new xue(e)}function bw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function CF(t){this._context=t}CF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function g5(t){return new CF(t)}function OF(t){return t[0]}function jF(t){return t[1]}function MF(t,e){var n=Bt(!0),r=null,i=g5,a=null,s=xw(o);t=typeof t=="function"?t:t===void 0?OF:Bt(t),e=typeof e=="function"?e:e===void 0?jF:Bt(e);function o(l){var c,u=(l=bw(l)).length,d,h=!1,p;for(r==null&&(a=i(p=s())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(d,c,l),+e(d,c,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Bt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Bt(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Bt(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function um(t,e,n){var r=null,i=Bt(!0),a=null,s=g5,o=null,l=xw(c);t=typeof t=="function"?t:t===void 0?OF:Bt(+t),e=typeof e=="function"?e:Bt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?jF:Bt(+n);function c(d){var h,p,g,x=(d=bw(d)).length,v,y=!1,b,w=new Array(x),E=new Array(x);for(a==null&&(o=s(b=l())),h=0;h<=x;++h){if(!(h<x&&i(v=d[h],h,d))===y)if(y=!y)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(w[g],E[g]);o.lineEnd(),o.areaEnd()}y&&(w[h]=+t(v,h,d),E[h]=+e(v,h,d),o.point(r?+r(v,h,d):w[h],n?+n(v,h,d):E[h]))}if(b)return o=null,b+""||null}function u(){return MF().defined(i).curve(s).context(a)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Bt(+d),r=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Bt(+d),c):t},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Bt(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Bt(+d),n=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Bt(+d),c):e},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Bt(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Bt(!!d),c):i},c.curve=function(d){return arguments.length?(s=d,a!=null&&(o=s(a)),c):s},c.context=function(d){return arguments.length?(d==null?a=o=null:o=s(a=d),c):a},c}class DF{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function bue(t){return new DF(t,!0)}function wue(t){return new DF(t,!1)}const ww={draw(t,e){const n=Oa(e/w1);t.moveTo(n,0),t.arc(0,0,n,0,m5)}},_ue={draw(t,e){const n=Oa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},RF=Oa(1/3),Sue=RF*2,kue={draw(t,e){const n=Oa(e/Sue),r=n*RF;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Eue={draw(t,e){const n=Oa(e),r=-n/2;t.rect(r,r,n,n)}},Nue=.8908130915292852,$F=b1(w1/10)/b1(7*w1/10),Tue=b1(m5/10)*$F,Pue=-AF(m5/10)*$F,Aue={draw(t,e){const n=Oa(e*Nue),r=Tue*n,i=Pue*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=m5*a/5,o=AF(s),l=b1(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},cy=Oa(3),Iue={draw(t,e){const n=-Oa(e/(cy*3));t.moveTo(0,n*2),t.lineTo(-cy*n,-n),t.lineTo(cy*n,-n),t.closePath()}},Ci=-.5,Oi=Oa(3)/2,V7=1/Oa(12),Cue=(V7/2+1)*3,Oue={draw(t,e){const n=Oa(e/Cue),r=n/2,i=n*V7,a=r,s=n*V7+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(Ci*r-Oi*i,Oi*r+Ci*i),t.lineTo(Ci*a-Oi*s,Oi*a+Ci*s),t.lineTo(Ci*o-Oi*l,Oi*o+Ci*l),t.lineTo(Ci*r+Oi*i,Ci*i-Oi*r),t.lineTo(Ci*a+Oi*s,Ci*s-Oi*a),t.lineTo(Ci*o+Oi*l,Ci*l-Oi*o),t.closePath()}};function jue(t,e){let n=null,r=xw(i);t=typeof t=="function"?t:Bt(t||ww),e=typeof e=="function"?e:Bt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Bt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Bt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function _1(){}function S1(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function LF(t){this._context=t}LF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:S1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:S1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Mue(t){return new LF(t)}function FF(t){this._context=t}FF.prototype={areaStart:_1,areaEnd:_1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:S1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Due(t){return new FF(t)}function VF(t){this._context=t}VF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:S1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Rue(t){return new VF(t)}function UF(t){this._context=t}UF.prototype={areaStart:_1,areaEnd:_1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function $ue(t){return new UF(t)}function FT(t){return t<0?-1:1}function VT(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(FT(a)+FT(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function UT(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function uy(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function k1(t){this._context=t}k1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:uy(this,this._t0,UT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,uy(this,UT(this,n=VT(this,t,e)),n);break;default:uy(this,this._t0,n=VT(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function BF(t){this._context=new zF(t)}(BF.prototype=Object.create(k1.prototype)).point=function(t,e){k1.prototype.point.call(this,e,t)};function zF(t){this._context=t}zF.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Lue(t){return new k1(t)}function Fue(t){return new BF(t)}function WF(t){this._context=t}WF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=BT(t),i=BT(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function BT(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Vue(t){return new WF(t)}function y5(t,e){this._context=t,this._t=e}y5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Uue(t){return new y5(t,.5)}function Bue(t){return new y5(t,0)}function zue(t){return new y5(t,1)}function Au(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function U7(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Wue(t,e){return t[e]}function que(t){const e=[];return e.key=t,e}function Hue(){var t=Bt([]),e=U7,n=Au,r=Wue;function i(a){var s=Array.from(t.apply(this,arguments),que),o,l=s.length,c=-1,u;for(const d of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(d,s[o].key,c,a)]).data=d;for(o=0,u=bw(e(s));o<l;++o)s[u[o]].index=o;return n(s,u),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Bt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Bt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?U7:typeof a=="function"?a:Bt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Au,i):n},i}function Gue(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Au(t,e)}}function Kue(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}Au(t,e)}}function Yue(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var u=t[e[o]],d=u[r][1]||0,h=u[r-1][1]||0,p=(d-h)/2,g=0;g<o;++g){var x=t[e[g]],v=x[r][1]||0,y=x[r-1][1]||0;p+=v-y}l+=d,c+=p*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Au(t,e)}}function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}var Que=["type","size","sizeType"];function B7(){return B7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B7.apply(this,arguments)}function zT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zT(Object(n),!0).forEach(function(r){Xue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xue(t,e,n){return e=Jue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jue(t){var e=Zue(t,"string");return Gh(e)=="symbol"?e:e+""}function Zue(t,e){if(Gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ede(t,e){if(t==null)return{};var n=tde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var qF={symbolCircle:ww,symbolCross:_ue,symbolDiamond:kue,symbolSquare:Eue,symbolStar:Aue,symbolTriangle:Iue,symbolWye:Oue},nde=Math.PI/180,rde=function(e){var n="symbol".concat(p5(e));return qF[n]||ww},ide=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*nde;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},ade=function(e,n){qF["symbol".concat(p5(e))]=n},_w=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=ede(e,Que),c=WT(WT({},l),{},{type:r,size:a,sizeType:o}),u=function(){var v=rde(r),y=jue().type(v).size(ide(a,o,r));return y()},d=c.className,h=c.cx,p=c.cy,g=ht(c,!0);return h===+h&&p===+p&&a===+a?F.createElement("path",B7({},g,{className:Et("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};_w.registerSymbol=ade;function Iu(t){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}function z7(){return z7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z7.apply(this,arguments)}function qT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qT(Object(n),!0).forEach(function(r){Kh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ode(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GF(r.key),r)}}function cde(t,e,n){return e&&lde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ude(t,e,n){return e=E1(e),dde(t,HF()?Reflect.construct(e,n||[],E1(t).constructor):e.apply(t,n))}function dde(t,e){if(e&&(Iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fde(t)}function fde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HF=function(){return!!t})()}function E1(t){return E1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},E1(t)}function hde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W7(t,e)}function W7(t,e){return W7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},W7(t,e)}function Kh(t,e,n){return e=GF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GF(t){var e=pde(t,"string");return Iu(e)=="symbol"?e:e+""}function pde(t,e){if(Iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ji=32,Sw=function(t){function e(){return ode(this,e),ude(this,e,arguments)}return hde(e,t),cde(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=ji/2,s=ji/6,o=ji/3,l=r.inactive?i:r.color;if(r.type==="plainline")return F.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:ji,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return F.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(ji,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return F.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ji/8,"h").concat(ji,"v").concat(ji*3/4,"h").concat(-ji,"z"),className:"recharts-legend-icon"});if(F.isValidElement(r.legendIcon)){var c=sde({},r);return delete c.legendIcon,F.cloneElement(r.legendIcon,c)}return F.createElement(_w,{fill:l,cx:a,cy:a,size:ji,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:ji,height:ji},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,g){var x=p.formatter||l,v=Et(Kh(Kh({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=ot(p.value)?null:p.value;qs(!ot(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?c:p.color;return F.createElement("li",z7({className:v,style:d,key:"legend-item-".concat(g)},x1(r.props,p,g)),F.createElement(M7,{width:s,height:s,viewBox:u,style:h},r.renderIcon(p)),F.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},x?x(y,p,g):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return F.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(C.PureComponent);Kh(Sw,"displayName","Legend");Kh(Sw,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var mde=t5;function gde(){this.__data__=new mde,this.size=0}var yde=gde;function vde(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var xde=vde;function bde(t){return this.__data__.get(t)}var wde=bde;function _de(t){return this.__data__.has(t)}var Sde=_de,kde=t5,Ede=uw,Nde=dw,Tde=200;function Pde(t,e){var n=this.__data__;if(n instanceof kde){var r=n.__data__;if(!Ede||r.length<Tde-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Nde(r)}return n.set(t,e),this.size=n.size,this}var Ade=Pde,Ide=t5,Cde=yde,Ode=xde,jde=wde,Mde=Sde,Dde=Ade;function xd(t){var e=this.__data__=new Ide(t);this.size=e.size}xd.prototype.clear=Cde;xd.prototype.delete=Ode;xd.prototype.get=jde;xd.prototype.has=Mde;xd.prototype.set=Dde;var KF=xd,Rde="__lodash_hash_undefined__";function $de(t){return this.__data__.set(t,Rde),this}var Lde=$de;function Fde(t){return this.__data__.has(t)}var Vde=Fde,Ude=dw,Bde=Lde,zde=Vde;function N1(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Ude;++e<n;)this.add(t[e])}N1.prototype.add=N1.prototype.push=Bde;N1.prototype.has=zde;var YF=N1;function Wde(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var QF=Wde;function qde(t,e){return t.has(e)}var XF=qde,Hde=YF,Gde=QF,Kde=XF,Yde=1,Qde=2;function Xde(t,e,n,r,i,a){var s=n&Yde,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var d=-1,h=!0,p=n&Qde?new Hde:void 0;for(a.set(t,e),a.set(e,t);++d<o;){var g=t[d],x=e[d];if(r)var v=s?r(x,g,d,e,t,a):r(g,x,d,t,e,a);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!Gde(e,function(y,b){if(!Kde(p,b)&&(g===y||i(g,y,n,r,a)))return p.push(b)})){h=!1;break}}else if(!(g===x||i(g,x,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var JF=Xde,Jde=ps,Zde=Jde.Uint8Array,efe=Zde;function tfe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var nfe=tfe;function rfe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var kw=rfe,HT=l4,GT=efe,ife=cw,afe=JF,sfe=nfe,ofe=kw,lfe=1,cfe=2,ufe="[object Boolean]",dfe="[object Date]",ffe="[object Error]",hfe="[object Map]",pfe="[object Number]",mfe="[object RegExp]",gfe="[object Set]",yfe="[object String]",vfe="[object Symbol]",xfe="[object ArrayBuffer]",bfe="[object DataView]",KT=HT?HT.prototype:void 0,dy=KT?KT.valueOf:void 0;function wfe(t,e,n,r,i,a,s){switch(n){case bfe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case xfe:return!(t.byteLength!=e.byteLength||!a(new GT(t),new GT(e)));case ufe:case dfe:case pfe:return ife(+t,+e);case ffe:return t.name==e.name&&t.message==e.message;case mfe:case yfe:return t==e+"";case hfe:var o=sfe;case gfe:var l=r&lfe;if(o||(o=ofe),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=cfe,s.set(t,e);var u=afe(o(t),o(e),r,i,a,s);return s.delete(t),u;case vfe:if(dy)return dy.call(t)==dy.call(e)}return!1}var _fe=wfe;function Sfe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var ZF=Sfe,kfe=ZF,Efe=oi;function Nfe(t,e,n){var r=e(t);return Efe(t)?r:kfe(r,n(t))}var Tfe=Nfe;function Pfe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var Afe=Pfe;function Ife(){return[]}var Cfe=Ife,Ofe=Afe,jfe=Cfe,Mfe=Object.prototype,Dfe=Mfe.propertyIsEnumerable,YT=Object.getOwnPropertySymbols,Rfe=YT?function(t){return t==null?[]:(t=Object(t),Ofe(YT(t),function(e){return Dfe.call(t,e)}))}:jfe,$fe=Rfe;function Lfe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Ffe=Lfe,Vfe=fo,Ufe=ho,Bfe="[object Arguments]";function zfe(t){return Ufe(t)&&Vfe(t)==Bfe}var Wfe=zfe,QT=Wfe,qfe=ho,eV=Object.prototype,Hfe=eV.hasOwnProperty,Gfe=eV.propertyIsEnumerable,Kfe=QT(function(){return arguments}())?QT:function(t){return qfe(t)&&Hfe.call(t,"callee")&&!Gfe.call(t,"callee")},Ew=Kfe,T1={exports:{}};function Yfe(){return!1}var Qfe=Yfe;T1.exports;(function(t,e){var n=ps,r=Qfe,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(T1,T1.exports);var tV=T1.exports,Xfe=9007199254740991,Jfe=/^(?:0|[1-9]\d*)$/;function Zfe(t,e){var n=typeof t;return e=e??Xfe,!!e&&(n=="number"||n!="symbol"&&Jfe.test(t))&&t>-1&&t%1==0&&t<e}var Nw=Zfe,ehe=9007199254740991;function the(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ehe}var Tw=the,nhe=fo,rhe=Tw,ihe=ho,ahe="[object Arguments]",she="[object Array]",ohe="[object Boolean]",lhe="[object Date]",che="[object Error]",uhe="[object Function]",dhe="[object Map]",fhe="[object Number]",hhe="[object Object]",phe="[object RegExp]",mhe="[object Set]",ghe="[object String]",yhe="[object WeakMap]",vhe="[object ArrayBuffer]",xhe="[object DataView]",bhe="[object Float32Array]",whe="[object Float64Array]",_he="[object Int8Array]",She="[object Int16Array]",khe="[object Int32Array]",Ehe="[object Uint8Array]",Nhe="[object Uint8ClampedArray]",The="[object Uint16Array]",Phe="[object Uint32Array]",Gt={};Gt[bhe]=Gt[whe]=Gt[_he]=Gt[She]=Gt[khe]=Gt[Ehe]=Gt[Nhe]=Gt[The]=Gt[Phe]=!0;Gt[ahe]=Gt[she]=Gt[vhe]=Gt[ohe]=Gt[xhe]=Gt[lhe]=Gt[che]=Gt[uhe]=Gt[dhe]=Gt[fhe]=Gt[hhe]=Gt[phe]=Gt[mhe]=Gt[ghe]=Gt[yhe]=!1;function Ahe(t){return ihe(t)&&rhe(t.length)&&!!Gt[nhe(t)]}var Ihe=Ahe;function Che(t){return function(e){return t(e)}}var nV=Che,P1={exports:{}};P1.exports;(function(t,e){var n=uF,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(P1,P1.exports);var Ohe=P1.exports,jhe=Ihe,Mhe=nV,XT=Ohe,JT=XT&&XT.isTypedArray,Dhe=JT?Mhe(JT):jhe,rV=Dhe,Rhe=Ffe,$he=Ew,Lhe=oi,Fhe=tV,Vhe=Nw,Uhe=rV,Bhe=Object.prototype,zhe=Bhe.hasOwnProperty;function Whe(t,e){var n=Lhe(t),r=!n&&$he(t),i=!n&&!r&&Fhe(t),a=!n&&!r&&!i&&Uhe(t),s=n||r||i||a,o=s?Rhe(t.length,String):[],l=o.length;for(var c in t)(e||zhe.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Vhe(c,l)))&&o.push(c);return o}var qhe=Whe,Hhe=Object.prototype;function Ghe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Hhe;return t===n}var Khe=Ghe;function Yhe(t,e){return function(n){return t(e(n))}}var iV=Yhe,Qhe=iV,Xhe=Qhe(Object.keys,Object),Jhe=Xhe,Zhe=Khe,epe=Jhe,tpe=Object.prototype,npe=tpe.hasOwnProperty;function rpe(t){if(!Zhe(t))return epe(t);var e=[];for(var n in Object(t))npe.call(t,n)&&n!="constructor"&&e.push(n);return e}var ipe=rpe,ape=lw,spe=Tw;function ope(t){return t!=null&&spe(t.length)&&!ape(t)}var u4=ope,lpe=qhe,cpe=ipe,upe=u4;function dpe(t){return upe(t)?lpe(t):cpe(t)}var v5=dpe,fpe=Tfe,hpe=$fe,ppe=v5;function mpe(t){return fpe(t,ppe,hpe)}var gpe=mpe,ZT=gpe,ype=1,vpe=Object.prototype,xpe=vpe.hasOwnProperty;function bpe(t,e,n,r,i,a){var s=n&ype,o=ZT(t),l=o.length,c=ZT(e),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var h=o[d];if(!(s?h in e:xpe.call(e,h)))return!1}var p=a.get(t),g=a.get(e);if(p&&g)return p==e&&g==t;var x=!0;a.set(t,e),a.set(e,t);for(var v=s;++d<l;){h=o[d];var y=t[h],b=e[h];if(r)var w=s?r(b,y,h,e,t,a):r(y,b,h,t,e,a);if(!(w===void 0?y===b||i(y,b,n,r,a):w)){x=!1;break}v||(v=h=="constructor")}if(x&&!v){var E=t.constructor,S=e.constructor;E!=S&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof S=="function"&&S instanceof S)&&(x=!1)}return a.delete(t),a.delete(e),x}var wpe=bpe,_pe=oc,Spe=ps,kpe=_pe(Spe,"DataView"),Epe=kpe,Npe=oc,Tpe=ps,Ppe=Npe(Tpe,"Promise"),Ape=Ppe,Ipe=oc,Cpe=ps,Ope=Ipe(Cpe,"Set"),aV=Ope,jpe=oc,Mpe=ps,Dpe=jpe(Mpe,"WeakMap"),Rpe=Dpe,q7=Epe,H7=uw,G7=Ape,K7=aV,Y7=Rpe,sV=fo,bd=fF,eP="[object Map]",$pe="[object Object]",tP="[object Promise]",nP="[object Set]",rP="[object WeakMap]",iP="[object DataView]",Lpe=bd(q7),Fpe=bd(H7),Vpe=bd(G7),Upe=bd(K7),Bpe=bd(Y7),Y0=sV;(q7&&Y0(new q7(new ArrayBuffer(1)))!=iP||H7&&Y0(new H7)!=eP||G7&&Y0(G7.resolve())!=tP||K7&&Y0(new K7)!=nP||Y7&&Y0(new Y7)!=rP)&&(Y0=function(t){var e=sV(t),n=e==$pe?t.constructor:void 0,r=n?bd(n):"";if(r)switch(r){case Lpe:return iP;case Fpe:return eP;case Vpe:return tP;case Upe:return nP;case Bpe:return rP}return e});var zpe=Y0,fy=KF,Wpe=JF,qpe=_fe,Hpe=wpe,aP=zpe,sP=oi,oP=tV,Gpe=rV,Kpe=1,lP="[object Arguments]",cP="[object Array]",dm="[object Object]",Ype=Object.prototype,uP=Ype.hasOwnProperty;function Qpe(t,e,n,r,i,a){var s=sP(t),o=sP(e),l=s?cP:aP(t),c=o?cP:aP(e);l=l==lP?dm:l,c=c==lP?dm:c;var u=l==dm,d=c==dm,h=l==c;if(h&&oP(t)){if(!oP(e))return!1;s=!0,u=!1}if(h&&!u)return a||(a=new fy),s||Gpe(t)?Wpe(t,e,n,r,i,a):qpe(t,e,l,n,r,i,a);if(!(n&Kpe)){var p=u&&uP.call(t,"__wrapped__"),g=d&&uP.call(e,"__wrapped__");if(p||g){var x=p?t.value():t,v=g?e.value():e;return a||(a=new fy),i(x,v,n,r,a)}}return h?(a||(a=new fy),Hpe(t,e,n,r,i,a)):!1}var Xpe=Qpe,Jpe=Xpe,dP=ho;function oV(t,e,n,r,i){return t===e?!0:t==null||e==null||!dP(t)&&!dP(e)?t!==t&&e!==e:Jpe(t,e,n,r,oV,i)}var Pw=oV,Zpe=KF,e4e=Pw,t4e=1,n4e=2;function r4e(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null)return!a;for(t=Object(t);i--;){var o=n[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=n[i];var l=o[0],c=t[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in t))return!1}else{var d=new Zpe;if(r)var h=r(c,u,l,t,e,d);if(!(h===void 0?e4e(u,c,t4e|n4e,r,d):h))return!1}}return!0}var i4e=r4e,a4e=I0;function s4e(t){return t===t&&!a4e(t)}var lV=s4e,o4e=lV,l4e=v5;function c4e(t){for(var e=l4e(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,o4e(i)]}return e}var u4e=c4e;function d4e(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var cV=d4e,f4e=i4e,h4e=u4e,p4e=cV;function m4e(t){var e=h4e(t);return e.length==1&&e[0][2]?p4e(e[0][0],e[0][1]):function(n){return n===t||f4e(n,t,e)}}var g4e=m4e;function y4e(t,e){return t!=null&&e in Object(t)}var v4e=y4e,x4e=yF,b4e=Ew,w4e=oi,_4e=Nw,S4e=Tw,k4e=r5;function E4e(t,e,n){e=x4e(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=k4e(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&S4e(i)&&_4e(s,i)&&(w4e(t)||b4e(t)))}var N4e=E4e,T4e=v4e,P4e=N4e;function A4e(t,e){return t!=null&&P4e(t,e,T4e)}var I4e=A4e,C4e=Pw,O4e=vF,j4e=I4e,M4e=ow,D4e=lV,R4e=cV,$4e=r5,L4e=1,F4e=2;function V4e(t,e){return M4e(t)&&D4e(e)?R4e($4e(t),e):function(n){var r=O4e(n,t);return r===void 0&&r===e?j4e(n,t):C4e(e,r,L4e|F4e)}}var U4e=V4e;function B4e(t){return t}var wd=B4e;function z4e(t){return function(e){return e==null?void 0:e[t]}}var W4e=z4e,q4e=pw;function H4e(t){return function(e){return q4e(e,t)}}var G4e=H4e,K4e=W4e,Y4e=G4e,Q4e=ow,X4e=r5;function J4e(t){return Q4e(t)?K4e(X4e(t)):Y4e(t)}var Z4e=J4e,eme=g4e,tme=U4e,nme=wd,rme=oi,ime=Z4e;function ame(t){return typeof t=="function"?t:t==null?nme:typeof t=="object"?rme(t)?tme(t[0],t[1]):eme(t):ime(t)}var C0=ame;function sme(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var uV=sme;function ome(t){return t!==t}var lme=ome;function cme(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var ume=cme,dme=uV,fme=lme,hme=ume;function pme(t,e,n){return e===e?hme(t,e,n):dme(t,fme,n)}var mme=pme,gme=mme;function yme(t,e){var n=t==null?0:t.length;return!!n&&gme(t,e,0)>-1}var vme=yme;function xme(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var bme=xme;function wme(){}var _me=wme,hy=aV,Sme=_me,kme=kw,Eme=1/0,Nme=hy&&1/kme(new hy([,-0]))[1]==Eme?function(t){return new hy(t)}:Sme,Tme=Nme,Pme=YF,Ame=vme,Ime=bme,Cme=XF,Ome=Tme,jme=kw,Mme=200;function Dme(t,e,n){var r=-1,i=Ame,a=t.length,s=!0,o=[],l=o;if(n)s=!1,i=Ime;else if(a>=Mme){var c=e?null:Ome(t);if(c)return jme(c);s=!1,i=Cme,l=new Pme}else l=e?[]:o;e:for(;++r<a;){var u=t[r],d=e?e(u):u;if(u=n||u!==0?u:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),o.push(u)}else i(l,d,n)||(l!==o&&l.push(d),o.push(u))}return o}var Rme=Dme,$me=C0,Lme=Rme;function Fme(t,e){return t&&t.length?Lme(t,$me(e)):[]}var Vme=Fme;const fP=Ut(Vme);function dV(t,e,n){return e===!0?fP(t,n):ot(e)?fP(t,e):t}function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(t)}var Ume=["ref"];function hP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _s(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(n),!0).forEach(function(r){x5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hV(r.key),r)}}function zme(t,e,n){return e&&pP(t.prototype,e),n&&pP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wme(t,e,n){return e=A1(e),qme(t,fV()?Reflect.construct(e,n||[],A1(t).constructor):e.apply(t,n))}function qme(t,e){if(e&&(Cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hme(t)}function Hme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fV=function(){return!!t})()}function A1(t){return A1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},A1(t)}function Gme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q7(t,e)}function Q7(t,e){return Q7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Q7(t,e)}function x5(t,e,n){return e=hV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hV(t){var e=Kme(t,"string");return Cu(e)=="symbol"?e:e+""}function Kme(t,e){if(Cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Yme(t,e){if(t==null)return{};var n=Qme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Xme(t){return t.value}function Jme(t,e){if(F.isValidElement(t))return F.cloneElement(t,e);if(typeof t=="function")return F.createElement(t,e);e.ref;var n=Yme(e,Ume);return F.createElement(Sw,n)}var mP=1,uu=function(t){function e(){var n;Bme(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Wme(this,e,[].concat(i)),x5(n,"lastBoundingBox",{width:-1,height:-1}),n}return Gme(e,t),zme(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>mP||Math.abs(i.height-this.lastBoundingBox.height)>mP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_s({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return _s(_s({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,d=_s(_s({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return F.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){r.wrapperNode=p}},Jme(a,_s(_s({},this.props),{},{payload:dV(u,c,Xme)})))}}],[{key:"getWithHeight",value:function(r,i){var a=_s(_s({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&Te(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(C.PureComponent);x5(uu,"displayName","Legend");x5(uu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var gP=l4,Zme=Ew,e3e=oi,yP=gP?gP.isConcatSpreadable:void 0;function t3e(t){return e3e(t)||Zme(t)||!!(yP&&t&&t[yP])}var n3e=t3e,r3e=ZF,i3e=n3e;function pV(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=i3e),i||(i=[]);++a<s;){var o=t[a];e>0&&n(o)?e>1?pV(o,e-1,n,r,i):r3e(i,o):r||(i[i.length]=o)}return i}var mV=pV;function a3e(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var l=s[t?o:++i];if(n(a[l],l,a)===!1)break}return e}}var s3e=a3e,o3e=s3e,l3e=o3e(),c3e=l3e,u3e=c3e,d3e=v5;function f3e(t,e){return t&&u3e(t,e,d3e)}var gV=f3e,h3e=u4;function p3e(t,e){return function(n,r){if(n==null)return n;if(!h3e(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var m3e=p3e,g3e=gV,y3e=m3e,v3e=y3e(g3e),Aw=v3e,x3e=Aw,b3e=u4;function w3e(t,e){var n=-1,r=b3e(t)?Array(t.length):[];return x3e(t,function(i,a,s){r[++n]=e(i,a,s)}),r}var yV=w3e;function _3e(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var S3e=_3e,vP=hd;function k3e(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=vP(t),s=e!==void 0,o=e===null,l=e===e,c=vP(e);if(!o&&!c&&!a&&t>e||a&&s&&l&&!o&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!l)return-1}return 0}var E3e=k3e,N3e=E3e;function T3e(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,o=n.length;++r<s;){var l=N3e(i[r],a[r]);if(l){if(r>=o)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var P3e=T3e,py=hw,A3e=pw,I3e=C0,C3e=yV,O3e=S3e,j3e=nV,M3e=P3e,D3e=wd,R3e=oi;function $3e(t,e,n){e.length?e=py(e,function(a){return R3e(a)?function(s){return A3e(s,a.length===1?a[0]:a)}:a}):e=[D3e];var r=-1;e=py(e,j3e(I3e));var i=C3e(t,function(a,s,o){var l=py(e,function(c){return c(a)});return{criteria:l,index:++r,value:a}});return O3e(i,function(a,s){return M3e(a,s,n)})}var L3e=$3e;function F3e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var V3e=F3e,U3e=V3e,xP=Math.max;function B3e(t,e,n){return e=xP(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=xP(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(s),U3e(t,this,o)}}var z3e=B3e;function W3e(t){return function(){return t}}var q3e=W3e,H3e=oc,G3e=function(){try{var t=H3e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),vV=G3e,K3e=q3e,bP=vV,Y3e=wd,Q3e=bP?function(t,e){return bP(t,"toString",{configurable:!0,enumerable:!1,value:K3e(e),writable:!0})}:Y3e,X3e=Q3e,J3e=800,Z3e=16,e1e=Date.now;function t1e(t){var e=0,n=0;return function(){var r=e1e(),i=Z3e-(r-n);if(n=r,i>0){if(++e>=J3e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var n1e=t1e,r1e=X3e,i1e=n1e,a1e=i1e(r1e),s1e=a1e,o1e=wd,l1e=z3e,c1e=s1e;function u1e(t,e){return c1e(l1e(t,e,o1e),t+"")}var d1e=u1e,f1e=cw,h1e=u4,p1e=Nw,m1e=I0;function g1e(t,e,n){if(!m1e(n))return!1;var r=typeof e;return(r=="number"?h1e(n)&&p1e(e,n.length):r=="string"&&e in n)?f1e(n[e],t):!1}var b5=g1e,y1e=mV,v1e=L3e,x1e=d1e,wP=b5,b1e=x1e(function(t,e){if(t==null)return[];var n=e.length;return n>1&&wP(t,e[0],e[1])?e=[]:n>2&&wP(e[0],e[1],e[2])&&(e=[e[0]]),v1e(t,y1e(e,1),[])}),w1e=b1e;const Iw=Ut(w1e);function Yh(t){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(t)}function X7(){return X7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X7.apply(this,arguments)}function _1e(t,e){return N1e(t)||E1e(t,e)||k1e(t,e)||S1e()}function S1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k1e(t,e){if(t){if(typeof t=="string")return _P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _P(t,e)}}function _P(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function E1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function N1e(t){if(Array.isArray(t))return t}function SP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function my(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(n),!0).forEach(function(r){T1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T1e(t,e,n){return e=P1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P1e(t){var e=A1e(t,"string");return Yh(e)=="symbol"?e:e+""}function A1e(t,e){if(Yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I1e(t){return Array.isArray(t)&&Bn(t[0])&&Bn(t[1])?t.join(" ~ "):t}var C1e=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,x=e.label,v=e.labelFormatter,y=e.accessibilityLayer,b=y===void 0?!1:y,w=function(){if(u&&u.length){var O={padding:0,margin:0},j=(h?Iw(u,h):u).map(function(R,D){if(R.type==="none")return null;var $=my({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},o),U=R.formatter||d||I1e,V=R.value,B=R.name,q=V,K=B;if(U&&q!=null&&K!=null){var H=U(V,B,R,D,u);if(Array.isArray(H)){var ne=_1e(H,2);q=ne[0],K=ne[1]}else q=H}return F.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:$},Bn(K)?F.createElement("span",{className:"recharts-tooltip-item-name"},K):null,Bn(K)?F.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,F.createElement("span",{className:"recharts-tooltip-item-value"},q),F.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return F.createElement("ul",{className:"recharts-tooltip-item-list",style:O},j)}return null},E=my({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=my({margin:0},c),k=!xt(x),_=k?x:"",N=Et("recharts-default-tooltip",p),P=Et("recharts-tooltip-label",g);k&&v&&u!==void 0&&u!==null&&(_=v(x,u));var A=b?{role:"status","aria-live":"assertive"}:{};return F.createElement("div",X7({className:N,style:E},A),F.createElement("p",{className:P,style:S},F.isValidElement(_)?_:"".concat(_)),w())};function Qh(t){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qh(t)}function fm(t,e,n){return e=O1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O1e(t){var e=j1e(t,"string");return Qh(e)=="symbol"?e:e+""}function j1e(t,e){if(Qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ef="recharts-tooltip-wrapper",M1e={visibility:"hidden"};function D1e(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Et(ef,fm(fm(fm(fm({},"".concat(ef,"-right"),Te(n)&&e&&Te(e.x)&&n>=e.x),"".concat(ef,"-left"),Te(n)&&e&&Te(e.x)&&n<e.x),"".concat(ef,"-bottom"),Te(r)&&e&&Te(e.y)&&r>=e.y),"".concat(ef,"-top"),Te(r)&&e&&Te(e.y)&&r<e.y))}function kP(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&Te(a[r]))return a[r];var u=n[r]-o-i,d=n[r]+i;if(e[r])return s[r]?u:d;if(s[r]){var h=u,p=l[r];return h<p?Math.max(d,l[r]):Math.max(u,l[r])}var g=d+o,x=l[r]+c;return g>x?Math.max(u,l[r]):Math.max(d,l[r])}function R1e(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function $1e(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,u,d;return s.height>0&&s.width>0&&n?(u=kP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=kP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=R1e({translateX:u,translateY:d,useTranslate3d:o})):c=M1e,{cssProperties:c,cssClasses:D1e({translateX:u,translateY:d,coordinate:n})}}function Ou(t){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ou(t)}function EP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(n),!0).forEach(function(r){Z7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bV(r.key),r)}}function V1e(t,e,n){return e&&F1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function U1e(t,e,n){return e=I1(e),B1e(t,xV()?Reflect.construct(e,n||[],I1(t).constructor):e.apply(t,n))}function B1e(t,e){if(e&&(Ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z1e(t)}function z1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xV=function(){return!!t})()}function I1(t){return I1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},I1(t)}function W1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J7(t,e)}function J7(t,e){return J7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J7(t,e)}function Z7(t,e,n){return e=bV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bV(t){var e=q1e(t,"string");return Ou(e)=="symbol"?e:e+""}function q1e(t,e){if(Ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var TP=1,H1e=function(t){function e(){var n;L1e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=U1e(this,e,[].concat(i)),Z7(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Z7(n,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return W1e(e,t),V1e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>TP||Math.abs(r.height-this.state.lastBoundingBox.height)>TP)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,p=i.offset,g=i.position,x=i.reverseDirection,v=i.useTranslate3d,y=i.viewBox,b=i.wrapperStyle,w=$1e({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:p,position:g,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),E=w.cssClasses,S=w.cssProperties,k=NP(NP({transition:h&&a?"transform ".concat(o,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return F.createElement("div",{tabIndex:-1,className:E,style:k,ref:function(N){r.wrapperNode=N}},c)}}])}(C.PureComponent),G1e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},_d={isSsr:G1e()};function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function PP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(n),!0).forEach(function(r){Cw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_V(r.key),r)}}function Q1e(t,e,n){return e&&Y1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function X1e(t,e,n){return e=C1(e),J1e(t,wV()?Reflect.construct(e,n||[],C1(t).constructor):e.apply(t,n))}function J1e(t,e){if(e&&(ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z1e(t)}function Z1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wV=function(){return!!t})()}function C1(t){return C1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},C1(t)}function ege(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e8(t,e)}function e8(t,e){return e8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},e8(t,e)}function Cw(t,e,n){return e=_V(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _V(t){var e=tge(t,"string");return ju(e)=="symbol"?e:e+""}function tge(t,e){if(ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function nge(t){return t.dataKey}function rge(t,e){return F.isValidElement(t)?F.cloneElement(t,e):typeof t=="function"?F.createElement(t,e):F.createElement(C1e,e)}var Ua=function(t){function e(){return K1e(this,e),X1e(this,e,arguments)}return ege(e,t),Q1e(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,d=i.filterNull,h=i.isAnimationActive,p=i.offset,g=i.payload,x=i.payloadUniqBy,v=i.position,y=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,E=i.wrapperStyle,S=g??[];d&&S.length&&(S=dV(g.filter(function(_){return _.value!=null&&(_.hide!==!0||r.props.includeHidden)}),x,nge));var k=S.length>0;return F.createElement(H1e,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:a,coordinate:u,hasPayload:k,offset:p,position:v,reverseDirection:y,useTranslate3d:b,viewBox:w,wrapperStyle:E},rge(c,AP(AP({},this.props),{},{payload:S})))}}])}(C.PureComponent);Cw(Ua,"displayName","Tooltip");Cw(Ua,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!_d.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var ige=ps,age=function(){return ige.Date.now()},sge=age,oge=/\s/;function lge(t){for(var e=t.length;e--&&oge.test(t.charAt(e)););return e}var cge=lge,uge=cge,dge=/^\s+/;function fge(t){return t&&t.slice(0,uge(t)+1).replace(dge,"")}var hge=fge,pge=hge,IP=I0,mge=hd,CP=NaN,gge=/^[-+]0x[0-9a-f]+$/i,yge=/^0b[01]+$/i,vge=/^0o[0-7]+$/i,xge=parseInt;function bge(t){if(typeof t=="number")return t;if(mge(t))return CP;if(IP(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=IP(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=pge(t);var n=yge.test(t);return n||vge.test(t)?xge(t.slice(2),n?2:8):gge.test(t)?CP:+t}var SV=bge,wge=I0,gy=sge,OP=SV,_ge="Expected a function",Sge=Math.max,kge=Math.min;function Ege(t,e,n){var r,i,a,s,o,l,c=0,u=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(_ge);e=OP(e)||0,wge(n)&&(u=!!n.leading,d="maxWait"in n,a=d?Sge(OP(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function p(k){var _=r,N=i;return r=i=void 0,c=k,s=t.apply(N,_),s}function g(k){return c=k,o=setTimeout(y,e),u?p(k):s}function x(k){var _=k-l,N=k-c,P=e-_;return d?kge(P,a-N):P}function v(k){var _=k-l,N=k-c;return l===void 0||_>=e||_<0||d&&N>=a}function y(){var k=gy();if(v(k))return b(k);o=setTimeout(y,x(k))}function b(k){return o=void 0,h&&r?p(k):(r=i=void 0,s)}function w(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function E(){return o===void 0?s:b(gy())}function S(){var k=gy(),_=v(k);if(r=arguments,i=this,l=k,_){if(o===void 0)return g(l);if(d)return clearTimeout(o),o=setTimeout(y,e),p(l)}return o===void 0&&(o=setTimeout(y,e)),s}return S.cancel=w,S.flush=E,S}var Nge=Ege,Tge=Nge,Pge=I0,Age="Expected a function";function Ige(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Age);return Pge(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Tge(t,e,{leading:r,maxWait:e,trailing:i})}var Cge=Ige;const kV=Ut(Cge);function Xh(t){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}function jP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(n),!0).forEach(function(r){Oge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oge(t,e,n){return e=jge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jge(t){var e=Mge(t,"string");return Xh(e)=="symbol"?e:e+""}function Mge(t,e){if(Xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dge(t,e){return Fge(t)||Lge(t,e)||$ge(t,e)||Rge()}function Rge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ge(t,e){if(t){if(typeof t=="string")return MP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MP(t,e)}}function MP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Fge(t){if(Array.isArray(t))return t}var Vge=C.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,u=c===void 0?0:c,d=t.minHeight,h=t.maxHeight,p=t.children,g=t.debounce,x=g===void 0?0:g,v=t.id,y=t.className,b=t.onResize,w=t.style,E=w===void 0?{}:w,S=C.useRef(null),k=C.useRef();k.current=b,C.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var _=C.useState({containerWidth:i.width,containerHeight:i.height}),N=Dge(_,2),P=N[0],A=N[1],I=C.useCallback(function(j,R){A(function(D){var $=Math.round(j),U=Math.round(R);return D.containerWidth===$&&D.containerHeight===U?D:{containerWidth:$,containerHeight:U}})},[]);C.useEffect(function(){var j=function(B){var q,K=B[0].contentRect,H=K.width,ne=K.height;I(H,ne),(q=k.current)===null||q===void 0||q.call(k,H,ne)};x>0&&(j=kV(j,x,{trailing:!0,leading:!1}));var R=new ResizeObserver(j),D=S.current.getBoundingClientRect(),$=D.width,U=D.height;return I($,U),R.observe(S.current),function(){R.disconnect()}},[I,x]);var O=C.useMemo(function(){var j=P.containerWidth,R=P.containerHeight;if(j<0||R<0)return null;qs(sl(s)||sl(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),qs(!n||n>0,"The aspect(%s) must be greater than zero.",n);var D=sl(s)?j:s,$=sl(l)?R:l;n&&n>0&&(D?$=D/n:$&&(D=$*n),h&&$>h&&($=h)),qs(D>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,$,s,l,u,d,n);var U=!Array.isArray(p)&&Ws(p.type).endsWith("Chart");return F.Children.map(p,function(V){return F.isValidElement(V)?C.cloneElement(V,hm({width:D,height:$},U?{style:hm({height:"100%",width:"100%",maxHeight:$,maxWidth:D},V.props.style)}:{})):V})},[n,p,l,h,d,u,P,s]);return F.createElement("div",{id:v?"".concat(v):void 0,className:Et("recharts-responsive-container",y),style:hm(hm({},E),{},{width:s,height:l,minWidth:u,minHeight:d,maxHeight:h}),ref:S},O)}),EV=function(e){return null};EV.displayName="Cell";function Jh(t){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}function DP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(n),!0).forEach(function(r){Uge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uge(t,e,n){return e=Bge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bge(t){var e=zge(t,"string");return Jh(e)=="symbol"?e:e+""}function zge(t,e){if(Jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xc={widthCache:{},cacheCount:0},Wge=2e3,qge={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},RP="recharts_measurement_span";function Hge(t){var e=t8({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var sh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||_d.isSsr)return{width:0,height:0};var r=Hge(n),i=JSON.stringify({text:e,copyStyle:r});if(xc.widthCache[i])return xc.widthCache[i];try{var a=document.getElementById(RP);a||(a=document.createElement("span"),a.setAttribute("id",RP),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=t8(t8({},qge),r);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return xc.widthCache[i]=l,++xc.cacheCount>Wge&&(xc.cacheCount=0,xc.widthCache={}),l}catch{return{width:0,height:0}}},Gge=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Zh(t){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}function O1(t,e){return Xge(t)||Qge(t,e)||Yge(t,e)||Kge()}function Kge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yge(t,e){if(t){if(typeof t=="string")return $P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $P(t,e)}}function $P(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Xge(t){if(Array.isArray(t))return t}function Jge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e2e(r.key),r)}}function Zge(t,e,n){return e&&LP(t.prototype,e),n&&LP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function e2e(t){var e=t2e(t,"string");return Zh(e)=="symbol"?e:e+""}function t2e(t,e){if(Zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var FP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,n2e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,r2e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,NV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},i2e=Object.keys(NV),Wc="NaN";function a2e(t,e){return t*NV[e]}var pm=function(){function t(e,n){Jge(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!n2e.test(n)&&(this.num=NaN,this.unit=""),i2e.includes(n)&&(this.num=a2e(e,n),this.unit="px")}return Zge(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=r2e.exec(n))!==null&&r!==void 0?r:[],a=O1(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function TV(t){if(t.includes(Wc))return Wc;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=FP.exec(e))!==null&&n!==void 0?n:[],i=O1(r,4),a=i[1],s=i[2],o=i[3],l=pm.parse(a??""),c=pm.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Wc;e=e.replace(FP,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=VP.exec(e))!==null&&d!==void 0?d:[],p=O1(h,4),g=p[1],x=p[2],v=p[3],y=pm.parse(g??""),b=pm.parse(v??""),w=x==="+"?y.add(b):y.subtract(b);if(w.isNaN())return Wc;e=e.replace(VP,w.toString())}return e}var UP=/\(([^()]*)\)/;function s2e(t){for(var e=t;e.includes("(");){var n=UP.exec(e),r=O1(n,2),i=r[1];e=e.replace(UP,TV(i))}return e}function o2e(t){var e=t.replace(/\s+/g,"");return e=s2e(e),e=TV(e),e}function l2e(t){try{return o2e(t)}catch{return Wc}}function yy(t){var e=l2e(t.slice(5,-1));return e===Wc?"":e}var c2e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],u2e=["dx","dy","angle","className","breakAll"];function n8(){return n8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n8.apply(this,arguments)}function BP(t,e){if(t==null)return{};var n=d2e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function d2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zP(t,e){return m2e(t)||p2e(t,e)||h2e(t,e)||f2e()}function f2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h2e(t,e){if(t){if(typeof t=="string")return WP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WP(t,e)}}function WP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function m2e(t){if(Array.isArray(t))return t}var PV=/[ \f\n\r\t\v\u2028\u2029]+/,AV=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];xt(n)||(r?a=n.toString().split(""):a=n.toString().split(PV));var s=a.map(function(l){return{word:l,width:sh(l,i).width}}),o=r?0:sh("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},g2e=function(e,n,r,i,a){var s=e.maxLines,o=e.children,l=e.style,c=e.breakAll,u=Te(s),d=o,h=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function($,U){var V=U.word,B=U.width,q=$[$.length-1];if(q&&(i==null||a||q.width+B+r<Number(i)))q.words.push(V),q.width+=B+r;else{var K={words:[V],width:B};$.push(K)}return $},[])},p=h(n),g=function(D){return D.reduce(function($,U){return $.width>U.width?$:U})};if(!u)return p;for(var x="",v=function(D){var $=d.slice(0,D),U=AV({breakAll:c,style:l,children:$+x}).wordsWithComputedWidth,V=h(U),B=V.length>s||g(V).width>Number(i);return[B,V]},y=0,b=d.length-1,w=0,E;y<=b&&w<=d.length-1;){var S=Math.floor((y+b)/2),k=S-1,_=v(k),N=zP(_,2),P=N[0],A=N[1],I=v(S),O=zP(I,1),j=O[0];if(!P&&!j&&(y=S+1),P&&j&&(b=S-1),!P&&j){E=A;break}w++}return E||p},qP=function(e){var n=xt(e)?[]:e.toString().split(PV);return[{words:n}]},y2e=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((n||r)&&!_d.isSsr){var l,c,u=AV({breakAll:s,children:i,style:a});if(u){var d=u.wordsWithComputedWidth,h=u.spaceWidth;l=d,c=h}else return qP(i);return g2e({breakAll:s,children:i,maxLines:o,style:a},l,c,n,r)}return qP(i)},HP="#808080",j1=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,d=u===void 0?!1:u,h=e.textAnchor,p=h===void 0?"start":h,g=e.verticalAnchor,x=g===void 0?"end":g,v=e.fill,y=v===void 0?HP:v,b=BP(e,c2e),w=C.useMemo(function(){return y2e({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),E=b.dx,S=b.dy,k=b.angle,_=b.className,N=b.breakAll,P=BP(b,u2e);if(!Bn(r)||!Bn(a))return null;var A=r+(Te(E)?E:0),I=a+(Te(S)?S:0),O;switch(x){case"start":O=yy("calc(".concat(c,")"));break;case"middle":O=yy("calc(".concat((w.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:O=yy("calc(".concat(w.length-1," * -").concat(o,")"));break}var j=[];if(d){var R=w[0].width,D=b.width;j.push("scale(".concat((Te(D)?D/R:1)/R,")"))}return k&&j.push("rotate(".concat(k,", ").concat(A,", ").concat(I,")")),j.length&&(P.transform=j.join(" ")),F.createElement("text",n8({},ht(P,!0),{x:A,y:I,className:Et("recharts-text",_),textAnchor:p,fill:y.includes("url")?HP:y}),w.map(function($,U){var V=$.words.join(N?"":" ");return F.createElement("tspan",{x:A,dy:U===0?O:o,key:"".concat(V,"-").concat(U)},V)}))};function o0(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function v2e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ow(t){let e,n,r;t.length!==2?(e=o0,n=(o,l)=>o0(t(o),l),r=(o,l)=>t(o)-l):(e=t===o0||t===v2e?t:x2e,n=t,r=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(o[d],l)<0?c=d+1:u=d}while(c<u)}return c}function a(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(o[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function s(o,l,c=0,u=o.length){const d=i(o,l,c,u-1);return d>c&&r(o[d-1],l)>-r(o[d],l)?d-1:d}return{left:i,center:s,right:a}}function x2e(){return 0}function IV(t){return t===null?NaN:+t}function*b2e(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const w2e=Ow(o0),d4=w2e.right;Ow(IV).center;let ss=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=e+a,o=Math.abs(e)<Math.abs(a)?e-(s-a):a-(s-e);o&&(n[r++]=o),e=s}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=e[--n];n>0&&(r=s,i=e[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}};class GP extends Map{constructor(e,n=k2e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(KP(this,e))}has(e){return super.has(KP(this,e))}set(e,n){return super.set(_2e(this,e),n)}delete(e){return super.delete(S2e(this,e))}}function KP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function _2e({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function S2e({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function k2e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function E2e(t=o0){if(t===o0)return CV;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function CV(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const N2e=Math.sqrt(50),T2e=Math.sqrt(10),P2e=Math.sqrt(2);function M1(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=N2e?10:a>=T2e?5:a>=P2e?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?M1(t,e,n*2):[o,l,c]}function r8(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?M1(e,t,n):M1(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function i8(t,e,n){return e=+e,t=+t,n=+n,M1(t,e,n)[2]}function a8(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?i8(e,t,n):i8(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function YP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function QP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function OV(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?CV:E2e(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*d/l+h)),g=Math.min(r,Math.floor(e+(l-c)*d/l+h));OV(t,e,p,g,i)}const a=t[e];let s=n,o=r;for(tf(t,n,e),i(t[r],a)>0&&tf(t,n,r);s<o;){for(tf(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?tf(t,n,o):(++o,tf(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function tf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function A2e(t,e,n){if(t=Float64Array.from(b2e(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return QP(t);if(e>=1)return YP(t);var r,i=(r-1)*e,a=Math.floor(i),s=YP(OV(t,a).subarray(0,a+1)),o=QP(t.subarray(a+1));return s+(o-s)*(i-a)}}function I2e(t,e,n=IV){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function*C2e(t){for(const e of t)yield*e}function jV(t){return Array.from(C2e(t))}function O2e(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function aa(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function po(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const s8=Symbol("implicit");function jw(){var t=new GP,e=[],n=[],r=s8;function i(a){let s=t.get(a);if(s===void 0){if(r!==s8)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new GP;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return jw(e,n).unknown(r)},aa.apply(i,arguments),i}function ep(){var t=jw().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,c=0,u=.5;delete t.unknown;function d(){var h=e().length,p=i<r,g=p?i:r,x=p?r:i;a=(x-g)/Math.max(1,h-l+c*2),o&&(a=Math.floor(a)),g+=(x-g-a*(h-l))*u,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var v=O2e(h).map(function(y){return g+a*y});return n(p?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,d()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(o=!!h,d()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},t.copy=function(){return ep(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},aa.apply(d(),arguments)}function MV(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return MV(e())},t}function oh(){return MV(ep.apply(null,arguments).paddingInner(1))}function Mw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function DV(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function f4(){}var tp=.7,D1=1/tp,du="\\s*([+-]?\\d+)\\s*",np="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",os="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",j2e=/^#([0-9a-f]{3,8})$/,M2e=new RegExp(`^rgb\\(${du},${du},${du}\\)$`),D2e=new RegExp(`^rgb\\(${os},${os},${os}\\)$`),R2e=new RegExp(`^rgba\\(${du},${du},${du},${np}\\)$`),$2e=new RegExp(`^rgba\\(${os},${os},${os},${np}\\)$`),L2e=new RegExp(`^hsl\\(${np},${os},${os}\\)$`),F2e=new RegExp(`^hsla\\(${np},${os},${os},${np}\\)$`),XP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mw(f4,rp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:JP,formatHex:JP,formatHex8:V2e,formatHsl:U2e,formatRgb:ZP,toString:ZP});function JP(){return this.rgb().formatHex()}function V2e(){return this.rgb().formatHex8()}function U2e(){return RV(this).formatHsl()}function ZP(){return this.rgb().formatRgb()}function rp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=j2e.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?eA(e):n===3?new Zr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?mm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?mm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=M2e.exec(t))?new Zr(e[1],e[2],e[3],1):(e=D2e.exec(t))?new Zr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=R2e.exec(t))?mm(e[1],e[2],e[3],e[4]):(e=$2e.exec(t))?mm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=L2e.exec(t))?rA(e[1],e[2]/100,e[3]/100,1):(e=F2e.exec(t))?rA(e[1],e[2]/100,e[3]/100,e[4]):XP.hasOwnProperty(t)?eA(XP[t]):t==="transparent"?new Zr(NaN,NaN,NaN,0):null}function eA(t){return new Zr(t>>16&255,t>>8&255,t&255,1)}function mm(t,e,n,r){return r<=0&&(t=e=n=NaN),new Zr(t,e,n,r)}function B2e(t){return t instanceof f4||(t=rp(t)),t?(t=t.rgb(),new Zr(t.r,t.g,t.b,t.opacity)):new Zr}function o8(t,e,n,r){return arguments.length===1?B2e(t):new Zr(t,e,n,r??1)}function Zr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Mw(Zr,o8,DV(f4,{brighter(t){return t=t==null?D1:Math.pow(D1,t),new Zr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?tp:Math.pow(tp,t),new Zr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Zr(vl(this.r),vl(this.g),vl(this.b),R1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tA,formatHex:tA,formatHex8:z2e,formatRgb:nA,toString:nA}));function tA(){return`#${ol(this.r)}${ol(this.g)}${ol(this.b)}`}function z2e(){return`#${ol(this.r)}${ol(this.g)}${ol(this.b)}${ol((isNaN(this.opacity)?1:this.opacity)*255)}`}function nA(){const t=R1(this.opacity);return`${t===1?"rgb(":"rgba("}${vl(this.r)}, ${vl(this.g)}, ${vl(this.b)}${t===1?")":`, ${t})`}`}function R1(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function vl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ol(t){return t=vl(t),(t<16?"0":"")+t.toString(16)}function rA(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ga(t,e,n,r)}function RV(t){if(t instanceof ga)return new ga(t.h,t.s,t.l,t.opacity);if(t instanceof f4||(t=rp(t)),!t)return new ga;if(t instanceof ga)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new ga(s,o,l,t.opacity)}function W2e(t,e,n,r){return arguments.length===1?RV(t):new ga(t,e,n,r??1)}function ga(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Mw(ga,W2e,DV(f4,{brighter(t){return t=t==null?D1:Math.pow(D1,t),new ga(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?tp:Math.pow(tp,t),new ga(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Zr(vy(t>=240?t-240:t+120,i,r),vy(t,i,r),vy(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ga(iA(this.h),gm(this.s),gm(this.l),R1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=R1(this.opacity);return`${t===1?"hsl(":"hsla("}${iA(this.h)}, ${gm(this.s)*100}%, ${gm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function iA(t){return t=(t||0)%360,t<0?t+360:t}function gm(t){return Math.max(0,Math.min(1,t||0))}function vy(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Dw=t=>()=>t;function q2e(t,e){return function(n){return t+n*e}}function H2e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function G2e(t){return(t=+t)==1?$V:function(e,n){return n-e?H2e(e,n,t):Dw(isNaN(e)?n:e)}}function $V(t,e){var n=e-t;return n?q2e(t,n):Dw(isNaN(t)?e:t)}const aA=function t(e){var n=G2e(e);function r(i,a){var s=n((i=o8(i)).r,(a=o8(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=$V(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function K2e(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Y2e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Q2e(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Sd(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function X2e(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function $1(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function J2e(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Sd(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var l8=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xy=new RegExp(l8.source,"g");function Z2e(t){return function(){return t}}function e5e(t){return function(e){return t(e)+""}}function t5e(t,e){var n=l8.lastIndex=xy.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=l8.exec(t))&&(i=xy.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:$1(r,i)})),n=xy.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?e5e(l[0].x):Z2e(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)o[(d=l[u]).i]=d.x(c);return o.join("")})}function Sd(t,e){var n=typeof e,r;return e==null||n==="boolean"?Dw(e):(n==="number"?$1:n==="string"?(r=rp(e))?(e=r,aA):t5e:e instanceof rp?aA:e instanceof Date?X2e:Y2e(e)?K2e:Array.isArray(e)?Q2e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?J2e:$1)(t,e)}function Rw(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function n5e(t,e){e===void 0&&(e=t,t=Sd);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function r5e(t){return function(){return t}}function L1(t){return+t}var sA=[0,1];function $r(t){return t}function c8(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:r5e(isNaN(e)?NaN:.5)}function i5e(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function a5e(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=c8(i,r),a=n(s,a)):(r=c8(r,i),a=n(a,s)),function(o){return a(r(o))}}function s5e(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=c8(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=d4(t,o,1,r)-1;return a[l](i[l](o))}}function h4(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function w5(){var t=sA,e=sA,n=Sd,r,i,a,s=$r,o,l,c;function u(){var h=Math.min(t.length,e.length);return s!==$r&&(s=i5e(t[0],t[h-1])),o=h>2?s5e:a5e,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?a:(l||(l=o(t.map(r),e,n)))(r(s(h)))}return d.invert=function(h){return s(i((c||(c=o(e,t.map(r),$1)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,L1),u()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=Rw,u()},d.clamp=function(h){return arguments.length?(s=h?!0:$r,u()):s!==$r},d.interpolate=function(h){return arguments.length?(n=h,u()):n},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,p){return r=h,i=p,u()}}function $w(){return w5()($r,$r)}function o5e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function F1(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Mu(t){return t=F1(Math.abs(t)),t?t[1]:NaN}function l5e(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function c5e(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var u5e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ip(t){if(!(e=u5e.exec(t)))throw new Error("invalid format: "+t);var e;return new Lw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ip.prototype=Lw.prototype;function Lw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Lw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function d5e(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var V1;function f5e(t,e){var n=F1(t,e);if(!n)return V1=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(V1=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+F1(t,Math.max(0,e+a-1))[0]}function oA(t,e){var n=F1(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const lA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:o5e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>oA(t*100,e),r:oA,s:f5e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function cA(t){return t}var uA=Array.prototype.map,dA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function h5e(t){var e=t.grouping===void 0||t.thousands===void 0?cA:l5e(uA.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?cA:c5e(uA.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d,h){d=ip(d);var p=d.fill,g=d.align,x=d.sign,v=d.symbol,y=d.zero,b=d.width,w=d.comma,E=d.precision,S=d.trim,k=d.type;k==="n"?(w=!0,k="g"):lA[k]||(E===void 0&&(E=12),S=!0,k="g"),(y||p==="0"&&g==="=")&&(y=!0,p="0",g="=");var _=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?n:v==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():""),N=(v==="$"?r:/[%p]/.test(k)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),P=lA[k],A=/[defgprs%]/.test(k);E=E===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function I(O){var j=_,R=N,D,$,U;if(k==="c")R=P(O)+R,O="";else{O=+O;var V=O<0||1/O<0;if(O=isNaN(O)?l:P(Math.abs(O),E),S&&(O=d5e(O)),V&&+O==0&&x!=="+"&&(V=!1),j=(V?x==="("?x:o:x==="-"||x==="("?"":x)+j,R=(k==="s"&&!isNaN(O)&&V1!==void 0?dA[8+V1/3]:"")+R+(V&&x==="("?")":""),A){for(D=-1,$=O.length;++D<$;)if(U=O.charCodeAt(D),48>U||U>57){R=(U===46?i+O.slice(D+1):O.slice(D))+R,O=O.slice(0,D);break}}}w&&!y&&(O=e(O,1/0));var B=j.length+O.length+R.length,q=B<b?new Array(b-B+1).join(p):"";switch(w&&y&&(O=e(q+O,q.length?b-R.length:1/0),q=""),g){case"<":O=j+O+R+q;break;case"=":O=j+q+O+R;break;case"^":O=q.slice(0,B=q.length>>1)+j+O+R+q.slice(B);break;default:O=q+j+O+R;break}return a(O)}return I.toString=function(){return d+""},I}function u(d,h){var p=Math.max(-8,Math.min(8,Math.floor(Mu(h)/3)))*3,g=Math.pow(10,-p),x=c((d=ip(d),d.type="f",d),{suffix:dA[8+p/3]});return function(v){return x(g*v)}}return{format:c,formatPrefix:u}}var ym,Fw,LV;p5e({thousands:",",grouping:[3],currency:["$",""]});function p5e(t){return ym=h5e(t),Fw=ym.format,LV=ym.formatPrefix,ym}function m5e(t){return Math.max(0,-Mu(Math.abs(t)))}function g5e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Mu(e)/3)))*3-Mu(Math.abs(t)))}function y5e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Mu(e)-Mu(t))+1}function FV(t,e,n,r){var i=a8(t,e,n),a;switch(r=ip(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=g5e(i,s))&&(r.precision=a),LV(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=y5e(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=m5e(i))&&(r.precision=a-(r.type==="%")*2);break}}return Fw(r)}function O0(t){var e=t.domain;return t.ticks=function(n){var r=e();return r8(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return FV(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);u-- >0;){if(c=i8(s,o,n),c===l)return r[i]=s,r[a]=o,e(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function ap(){var t=$w();return t.copy=function(){return h4(t,ap())},aa.apply(t,arguments),O0(t)}function VV(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,L1),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return VV(t).unknown(e)},t=arguments.length?Array.from(t,L1):[0,1],O0(n)}function UV(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function fA(t){return Math.log(t)}function hA(t){return Math.exp(t)}function v5e(t){return-Math.log(-t)}function x5e(t){return-Math.exp(-t)}function b5e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function w5e(t){return t===10?b5e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function _5e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function pA(t){return(e,n)=>-t(-e,n)}function Vw(t){const e=t(fA,hA),n=e.domain;let r=10,i,a;function s(){return i=_5e(r),a=w5e(r),n()[0]<0?(i=pA(i),a=pA(a),t(v5e,x5e)):t(fA,hA),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=i(c),p=i(u),g,x;const v=o==null?10:+o;let y=[];if(!(r%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(g=1;g<r;++g)if(x=h<0?g/a(-h):g*a(h),!(x<c)){if(x>u)break;y.push(x)}}else for(;h<=p;++h)for(g=r-1;g>=1;--g)if(x=h>0?g/a(-h):g*a(h),!(x<c)){if(x>u)break;y.push(x)}y.length*2<v&&(y=r8(c,u,v))}else y=r8(h,p,Math.min(p-h,v)).map(a);return d?y.reverse():y},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=ip(l)).precision==null&&(l.trim=!0),l=Fw(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?l(u):""}},e.nice=()=>n(UV(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function BV(){const t=Vw(w5()).domain([1,10]);return t.copy=()=>h4(t,BV()).base(t.base()),aa.apply(t,arguments),t}function mA(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function gA(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Uw(t){var e=1,n=t(mA(e),gA(e));return n.constant=function(r){return arguments.length?t(mA(e=+r),gA(e)):e},O0(n)}function zV(){var t=Uw(w5());return t.copy=function(){return h4(t,zV()).constant(t.constant())},aa.apply(t,arguments)}function yA(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function S5e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function k5e(t){return t<0?-t*t:t*t}function Bw(t){var e=t($r,$r),n=1;function r(){return n===1?t($r,$r):n===.5?t(S5e,k5e):t(yA(n),yA(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},O0(e)}function zw(){var t=Bw(w5());return t.copy=function(){return h4(t,zw()).exponent(t.exponent())},aa.apply(t,arguments),t}function E5e(){return zw.apply(null,arguments).exponent(.5)}function vA(t){return Math.sign(t)*t*t}function N5e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function WV(){var t=$w(),e=[0,1],n=!1,r;function i(a){var s=N5e(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(vA(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,L1)).map(vA)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return WV(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},aa.apply(i,arguments),O0(i)}function qV(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=I2e(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[d4(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(o0),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return qV().domain(t).range(e).unknown(r)},aa.apply(a,arguments)}function HV(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[d4(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return HV().domain([t,e]).range(i).unknown(a)},aa.apply(O0(s),arguments)}function GV(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[d4(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return GV().domain(t).range(e).unknown(n)},aa.apply(i,arguments)}const by=new Date,wy=new Date;function Wn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},i.filter=a=>Wn(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(by.setTime(+a),wy.setTime(+s),t(by),t(wy),Math.floor(n(by,wy))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const U1=Wn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);U1.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Wn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):U1);U1.range;const Ms=1e3,Wi=Ms*60,Ds=Wi*60,to=Ds*24,Ww=to*7,xA=to*30,_y=to*365,ll=Wn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ms)},(t,e)=>(e-t)/Ms,t=>t.getUTCSeconds());ll.range;const qw=Wn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ms)},(t,e)=>{t.setTime(+t+e*Wi)},(t,e)=>(e-t)/Wi,t=>t.getMinutes());qw.range;const Hw=Wn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Wi)},(t,e)=>(e-t)/Wi,t=>t.getUTCMinutes());Hw.range;const Gw=Wn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ms-t.getMinutes()*Wi)},(t,e)=>{t.setTime(+t+e*Ds)},(t,e)=>(e-t)/Ds,t=>t.getHours());Gw.range;const Kw=Wn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ds)},(t,e)=>(e-t)/Ds,t=>t.getUTCHours());Kw.range;const p4=Wn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Wi)/to,t=>t.getDate()-1);p4.range;const _5=Wn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/to,t=>t.getUTCDate()-1);_5.range;const KV=Wn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/to,t=>Math.floor(t/to));KV.range;function lc(t){return Wn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Wi)/Ww)}const S5=lc(0),B1=lc(1),T5e=lc(2),P5e=lc(3),Du=lc(4),A5e=lc(5),I5e=lc(6);S5.range;B1.range;T5e.range;P5e.range;Du.range;A5e.range;I5e.range;function cc(t){return Wn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Ww)}const k5=cc(0),z1=cc(1),C5e=cc(2),O5e=cc(3),Ru=cc(4),j5e=cc(5),M5e=cc(6);k5.range;z1.range;C5e.range;O5e.range;Ru.range;j5e.range;M5e.range;const Yw=Wn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Yw.range;const Qw=Wn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Qw.range;const no=Wn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());no.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Wn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});no.range;const ro=Wn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ro.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Wn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ro.range;function YV(t,e,n,r,i,a){const s=[[ll,1,Ms],[ll,5,5*Ms],[ll,15,15*Ms],[ll,30,30*Ms],[a,1,Wi],[a,5,5*Wi],[a,15,15*Wi],[a,30,30*Wi],[i,1,Ds],[i,3,3*Ds],[i,6,6*Ds],[i,12,12*Ds],[r,1,to],[r,2,2*to],[n,1,Ww],[e,1,xA],[e,3,3*xA],[t,1,_y]];function o(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),g=p?p.range(c,+u+1):[];return h?g.reverse():g}function l(c,u,d){const h=Math.abs(u-c)/d,p=Ow(([,,v])=>v).right(s,h);if(p===s.length)return t.every(a8(c/_y,u/_y,d));if(p===0)return U1.every(Math.max(a8(c,u,d),1));const[g,x]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(x)}return[o,l]}const[D5e,R5e]=YV(ro,Qw,k5,KV,Kw,Hw),[$5e,L5e]=YV(no,Yw,S5,p4,Gw,qw);function Sy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ky(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function nf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function F5e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=rf(i),u=af(i),d=rf(a),h=af(a),p=rf(s),g=af(s),x=rf(o),v=af(o),y=rf(l),b=af(l),w={a:U,A:V,b:B,B:q,c:null,d:EA,e:EA,f:l6e,g:v6e,G:b6e,H:a6e,I:s6e,j:o6e,L:QV,m:c6e,M:u6e,p:K,q:H,Q:PA,s:AA,S:d6e,u:f6e,U:h6e,V:p6e,w:m6e,W:g6e,x:null,X:null,y:y6e,Y:x6e,Z:w6e,"%":TA},E={a:ne,A:he,b:me,B:ee,c:null,d:NA,e:NA,f:E6e,g:D6e,G:$6e,H:_6e,I:S6e,j:k6e,L:JV,m:N6e,M:T6e,p:xe,q:_e,Q:PA,s:AA,S:P6e,u:A6e,U:I6e,V:C6e,w:O6e,W:j6e,x:null,X:null,y:M6e,Y:R6e,Z:L6e,"%":TA},S={a:A,A:I,b:O,B:j,c:R,d:SA,e:SA,f:t6e,g:_A,G:wA,H:kA,I:kA,j:X5e,L:e6e,m:Q5e,M:J5e,p:P,q:Y5e,Q:r6e,s:i6e,S:Z5e,u:W5e,U:q5e,V:H5e,w:z5e,W:G5e,x:D,X:$,y:_A,Y:wA,Z:K5e,"%":n6e};w.x=k(n,w),w.X=k(r,w),w.c=k(e,w),E.x=k(n,E),E.X=k(r,E),E.c=k(e,E);function k(J,Ne){return function(Me){var ie=[],Ue=-1,re=0,te=J.length,ve,We,Se;for(Me instanceof Date||(Me=new Date(+Me));++Ue<te;)J.charCodeAt(Ue)===37&&(ie.push(J.slice(re,Ue)),(We=bA[ve=J.charAt(++Ue)])!=null?ve=J.charAt(++Ue):We=ve==="e"?" ":"0",(Se=Ne[ve])&&(ve=Se(Me,We)),ie.push(ve),re=Ue+1);return ie.push(J.slice(re,Ue)),ie.join("")}}function _(J,Ne){return function(Me){var ie=nf(1900,void 0,1),Ue=N(ie,J,Me+="",0),re,te;if(Ue!=Me.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(Ne&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(re=ky(nf(ie.y,0,1)),te=re.getUTCDay(),re=te>4||te===0?z1.ceil(re):z1(re),re=_5.offset(re,(ie.V-1)*7),ie.y=re.getUTCFullYear(),ie.m=re.getUTCMonth(),ie.d=re.getUTCDate()+(ie.w+6)%7):(re=Sy(nf(ie.y,0,1)),te=re.getDay(),re=te>4||te===0?B1.ceil(re):B1(re),re=p4.offset(re,(ie.V-1)*7),ie.y=re.getFullYear(),ie.m=re.getMonth(),ie.d=re.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),te="Z"in ie?ky(nf(ie.y,0,1)).getUTCDay():Sy(nf(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(te+5)%7:ie.w+ie.U*7-(te+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,ky(ie)):Sy(ie)}}function N(J,Ne,Me,ie){for(var Ue=0,re=Ne.length,te=Me.length,ve,We;Ue<re;){if(ie>=te)return-1;if(ve=Ne.charCodeAt(Ue++),ve===37){if(ve=Ne.charAt(Ue++),We=S[ve in bA?Ne.charAt(Ue++):ve],!We||(ie=We(J,Me,ie))<0)return-1}else if(ve!=Me.charCodeAt(ie++))return-1}return ie}function P(J,Ne,Me){var ie=c.exec(Ne.slice(Me));return ie?(J.p=u.get(ie[0].toLowerCase()),Me+ie[0].length):-1}function A(J,Ne,Me){var ie=p.exec(Ne.slice(Me));return ie?(J.w=g.get(ie[0].toLowerCase()),Me+ie[0].length):-1}function I(J,Ne,Me){var ie=d.exec(Ne.slice(Me));return ie?(J.w=h.get(ie[0].toLowerCase()),Me+ie[0].length):-1}function O(J,Ne,Me){var ie=y.exec(Ne.slice(Me));return ie?(J.m=b.get(ie[0].toLowerCase()),Me+ie[0].length):-1}function j(J,Ne,Me){var ie=x.exec(Ne.slice(Me));return ie?(J.m=v.get(ie[0].toLowerCase()),Me+ie[0].length):-1}function R(J,Ne,Me){return N(J,e,Ne,Me)}function D(J,Ne,Me){return N(J,n,Ne,Me)}function $(J,Ne,Me){return N(J,r,Ne,Me)}function U(J){return s[J.getDay()]}function V(J){return a[J.getDay()]}function B(J){return l[J.getMonth()]}function q(J){return o[J.getMonth()]}function K(J){return i[+(J.getHours()>=12)]}function H(J){return 1+~~(J.getMonth()/3)}function ne(J){return s[J.getUTCDay()]}function he(J){return a[J.getUTCDay()]}function me(J){return l[J.getUTCMonth()]}function ee(J){return o[J.getUTCMonth()]}function xe(J){return i[+(J.getUTCHours()>=12)]}function _e(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var Ne=k(J+="",w);return Ne.toString=function(){return J},Ne},parse:function(J){var Ne=_(J+="",!1);return Ne.toString=function(){return J},Ne},utcFormat:function(J){var Ne=k(J+="",E);return Ne.toString=function(){return J},Ne},utcParse:function(J){var Ne=_(J+="",!0);return Ne.toString=function(){return J},Ne}}}var bA={"-":"",_:" ",0:"0"},er=/^\s*\d+/,V5e=/^%/,U5e=/[\\^$*+?|[\]().{}]/g;function Nt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function B5e(t){return t.replace(U5e,"\\$&")}function rf(t){return new RegExp("^(?:"+t.map(B5e).join("|")+")","i")}function af(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function z5e(t,e,n){var r=er.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function W5e(t,e,n){var r=er.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function q5e(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function H5e(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function G5e(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function wA(t,e,n){var r=er.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function _A(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function K5e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Y5e(t,e,n){var r=er.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Q5e(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function SA(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function X5e(t,e,n){var r=er.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function kA(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function J5e(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Z5e(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function e6e(t,e,n){var r=er.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function t6e(t,e,n){var r=er.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function n6e(t,e,n){var r=V5e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function r6e(t,e,n){var r=er.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function i6e(t,e,n){var r=er.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function EA(t,e){return Nt(t.getDate(),e,2)}function a6e(t,e){return Nt(t.getHours(),e,2)}function s6e(t,e){return Nt(t.getHours()%12||12,e,2)}function o6e(t,e){return Nt(1+p4.count(no(t),t),e,3)}function QV(t,e){return Nt(t.getMilliseconds(),e,3)}function l6e(t,e){return QV(t,e)+"000"}function c6e(t,e){return Nt(t.getMonth()+1,e,2)}function u6e(t,e){return Nt(t.getMinutes(),e,2)}function d6e(t,e){return Nt(t.getSeconds(),e,2)}function f6e(t){var e=t.getDay();return e===0?7:e}function h6e(t,e){return Nt(S5.count(no(t)-1,t),e,2)}function XV(t){var e=t.getDay();return e>=4||e===0?Du(t):Du.ceil(t)}function p6e(t,e){return t=XV(t),Nt(Du.count(no(t),t)+(no(t).getDay()===4),e,2)}function m6e(t){return t.getDay()}function g6e(t,e){return Nt(B1.count(no(t)-1,t),e,2)}function y6e(t,e){return Nt(t.getFullYear()%100,e,2)}function v6e(t,e){return t=XV(t),Nt(t.getFullYear()%100,e,2)}function x6e(t,e){return Nt(t.getFullYear()%1e4,e,4)}function b6e(t,e){var n=t.getDay();return t=n>=4||n===0?Du(t):Du.ceil(t),Nt(t.getFullYear()%1e4,e,4)}function w6e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Nt(e/60|0,"0",2)+Nt(e%60,"0",2)}function NA(t,e){return Nt(t.getUTCDate(),e,2)}function _6e(t,e){return Nt(t.getUTCHours(),e,2)}function S6e(t,e){return Nt(t.getUTCHours()%12||12,e,2)}function k6e(t,e){return Nt(1+_5.count(ro(t),t),e,3)}function JV(t,e){return Nt(t.getUTCMilliseconds(),e,3)}function E6e(t,e){return JV(t,e)+"000"}function N6e(t,e){return Nt(t.getUTCMonth()+1,e,2)}function T6e(t,e){return Nt(t.getUTCMinutes(),e,2)}function P6e(t,e){return Nt(t.getUTCSeconds(),e,2)}function A6e(t){var e=t.getUTCDay();return e===0?7:e}function I6e(t,e){return Nt(k5.count(ro(t)-1,t),e,2)}function ZV(t){var e=t.getUTCDay();return e>=4||e===0?Ru(t):Ru.ceil(t)}function C6e(t,e){return t=ZV(t),Nt(Ru.count(ro(t),t)+(ro(t).getUTCDay()===4),e,2)}function O6e(t){return t.getUTCDay()}function j6e(t,e){return Nt(z1.count(ro(t)-1,t),e,2)}function M6e(t,e){return Nt(t.getUTCFullYear()%100,e,2)}function D6e(t,e){return t=ZV(t),Nt(t.getUTCFullYear()%100,e,2)}function R6e(t,e){return Nt(t.getUTCFullYear()%1e4,e,4)}function $6e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ru(t):Ru.ceil(t),Nt(t.getUTCFullYear()%1e4,e,4)}function L6e(){return"+0000"}function TA(){return"%"}function PA(t){return+t}function AA(t){return Math.floor(+t/1e3)}var bc,eU,tU;F6e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function F6e(t){return bc=F5e(t),eU=bc.format,bc.parse,tU=bc.utcFormat,bc.utcParse,bc}function V6e(t){return new Date(t)}function U6e(t){return t instanceof Date?+t:+new Date(+t)}function Xw(t,e,n,r,i,a,s,o,l,c){var u=$w(),d=u.invert,h=u.domain,p=c(".%L"),g=c(":%S"),x=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),b=c("%b %d"),w=c("%B"),E=c("%Y");function S(k){return(l(k)<k?p:o(k)<k?g:s(k)<k?x:a(k)<k?v:r(k)<k?i(k)<k?y:b:n(k)<k?w:E)(k)}return u.invert=function(k){return new Date(d(k))},u.domain=function(k){return arguments.length?h(Array.from(k,U6e)):h().map(V6e)},u.ticks=function(k){var _=h();return t(_[0],_[_.length-1],k??10)},u.tickFormat=function(k,_){return _==null?S:c(_)},u.nice=function(k){var _=h();return(!k||typeof k.range!="function")&&(k=e(_[0],_[_.length-1],k??10)),k?h(UV(_,k)):u},u.copy=function(){return h4(u,Xw(t,e,n,r,i,a,s,o,l,c))},u}function B6e(){return aa.apply(Xw($5e,L5e,no,Yw,S5,p4,Gw,qw,ll,eU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function z6e(){return aa.apply(Xw(D5e,R5e,ro,Qw,k5,_5,Kw,Hw,ll,tU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function E5(){var t=0,e=1,n,r,i,a,s=$r,o=!1,l;function c(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(a(d)-n)*i,o?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(d){return arguments.length?(o=!!d,c):o},c.interpolator=function(d){return arguments.length?(s=d,c):s};function u(d){return function(h){var p,g;return arguments.length?([p,g]=h,s=d(p,g),c):[s(0),s(1)]}}return c.range=u(Sd),c.rangeRound=u(Rw),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return a=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),c}}function j0(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function nU(){var t=O0(E5()($r));return t.copy=function(){return j0(t,nU())},po.apply(t,arguments)}function rU(){var t=Vw(E5()).domain([1,10]);return t.copy=function(){return j0(t,rU()).base(t.base())},po.apply(t,arguments)}function iU(){var t=Uw(E5());return t.copy=function(){return j0(t,iU()).constant(t.constant())},po.apply(t,arguments)}function Jw(){var t=Bw(E5());return t.copy=function(){return j0(t,Jw()).exponent(t.exponent())},po.apply(t,arguments)}function W6e(){return Jw.apply(null,arguments).exponent(.5)}function aU(){var t=[],e=$r;function n(r){if(r!=null&&!isNaN(r=+r))return e((d4(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(o0),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>A2e(t,a/r))},n.copy=function(){return aU(e).domain(t)},po.apply(n,arguments)}function N5(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,c=$r,u,d=!1,h;function p(x){return isNaN(x=+x)?h:(x=.5+((x=+u(x))-a)*(r*x<r*a?o:l),c(d?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([t,e,n]=x,i=u(t=+t),a=u(e=+e),s=u(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(x){return arguments.length?(d=!!x,p):d},p.interpolator=function(x){return arguments.length?(c=x,p):c};function g(x){return function(v){var y,b,w;return arguments.length?([y,b,w]=v,c=n5e(x,[y,b,w]),p):[c(0),c(.5),c(1)]}}return p.range=g(Sd),p.rangeRound=g(Rw),p.unknown=function(x){return arguments.length?(h=x,p):h},function(x){return u=x,i=x(t),a=x(e),s=x(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function sU(){var t=O0(N5()($r));return t.copy=function(){return j0(t,sU())},po.apply(t,arguments)}function oU(){var t=Vw(N5()).domain([.1,1,10]);return t.copy=function(){return j0(t,oU()).base(t.base())},po.apply(t,arguments)}function lU(){var t=Uw(N5());return t.copy=function(){return j0(t,lU()).constant(t.constant())},po.apply(t,arguments)}function Zw(){var t=Bw(N5());return t.copy=function(){return j0(t,Zw()).exponent(t.exponent())},po.apply(t,arguments)}function q6e(){return Zw.apply(null,arguments).exponent(.5)}const IA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ep,scaleDiverging:sU,scaleDivergingLog:oU,scaleDivergingPow:Zw,scaleDivergingSqrt:q6e,scaleDivergingSymlog:lU,scaleIdentity:VV,scaleImplicit:s8,scaleLinear:ap,scaleLog:BV,scaleOrdinal:jw,scalePoint:oh,scalePow:zw,scaleQuantile:qV,scaleQuantize:HV,scaleRadial:WV,scaleSequential:nU,scaleSequentialLog:rU,scaleSequentialPow:Jw,scaleSequentialQuantile:aU,scaleSequentialSqrt:W6e,scaleSequentialSymlog:iU,scaleSqrt:E5e,scaleSymlog:zV,scaleThreshold:GV,scaleTime:B6e,scaleUtc:z6e,tickFormat:FV},Symbol.toStringTag,{value:"Module"}));var H6e=hd;function G6e(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(s!=null&&(o===void 0?s===s&&!H6e(s):n(s,o)))var o=s,l=a}return l}var cU=G6e;function K6e(t,e){return t>e}var Y6e=K6e,Q6e=cU,X6e=Y6e,J6e=wd;function Z6e(t){return t&&t.length?Q6e(t,J6e,X6e):void 0}var eye=Z6e;const zo=Ut(eye);function tye(t,e){return t<e}var nye=tye,rye=cU,iye=nye,aye=wd;function sye(t){return t&&t.length?rye(t,aye,iye):void 0}var oye=sye;const T5=Ut(oye);var lye=hw,cye=C0,uye=yV,dye=oi;function fye(t,e){var n=dye(t)?lye:uye;return n(t,cye(e))}var hye=fye,pye=mV,mye=hye;function gye(t,e){return pye(mye(t,e),1)}var yye=gye;const vye=Ut(yye);var xye=Pw;function bye(t,e){return xye(t,e)}var wye=bye;const sp=Ut(wye);var kd=1e9,_ye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},t_,en=!0,na="[DecimalError] ",xl=na+"Invalid argument: ",e_=na+"Exponent out of range: ",Ed=Math.floor,Q0=Math.pow,Sye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,yi,Yn=1e7,Kt=7,uU=9007199254740991,W1=Ed(uU/Kt),Le={};Le.absoluteValue=Le.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Le.comparedTo=Le.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Le.decimalPlaces=Le.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Kt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Le.dividedBy=Le.div=function(t){return Hs(this,new this.constructor(t))};Le.dividedToIntegerBy=Le.idiv=function(t){var e=this,n=e.constructor;return Vt(Hs(e,new n(t),0,1),n.precision)};Le.equals=Le.eq=function(t){return!this.cmp(t)};Le.exponent=function(){return Dn(this)};Le.greaterThan=Le.gt=function(t){return this.cmp(t)>0};Le.greaterThanOrEqualTo=Le.gte=function(t){return this.cmp(t)>=0};Le.isInteger=Le.isint=function(){return this.e>this.d.length-2};Le.isNegative=Le.isneg=function(){return this.s<0};Le.isPositive=Le.ispos=function(){return this.s>0};Le.isZero=function(){return this.s===0};Le.lessThan=Le.lt=function(t){return this.cmp(t)<0};Le.lessThanOrEqualTo=Le.lte=function(t){return this.cmp(t)<1};Le.logarithm=Le.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(yi))throw Error(na+"NaN");if(n.s<1)throw Error(na+(n.s?"NaN":"-Infinity"));return n.eq(yi)?new r(0):(en=!1,e=Hs(op(n,a),op(t,a),a),en=!0,Vt(e,i))};Le.minus=Le.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?hU(e,t):dU(e,(t.s=-t.s,t))};Le.modulo=Le.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(na+"NaN");return n.s?(en=!1,e=Hs(n,t,0,1).times(t),en=!0,n.minus(e)):Vt(new r(n),i)};Le.naturalExponential=Le.exp=function(){return fU(this)};Le.naturalLogarithm=Le.ln=function(){return op(this)};Le.negated=Le.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Le.plus=Le.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?dU(e,t):hU(e,(t.s=-t.s,t))};Le.precision=Le.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(xl+t);if(e=Dn(i)+1,r=i.d.length-1,n=r*Kt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Le.squareRoot=Le.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(na+"NaN")}for(t=Dn(o),en=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Qa(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ed((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(Hs(o,a,s+2)).times(.5),Qa(a.d).slice(0,s)===(e=Qa(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Vt(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return en=!0,Vt(r,n)};Le.times=Le.mul=function(t){var e,n,r,i,a,s,o,l,c,u=this,d=u.constructor,h=u.d,p=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,n=u.e+t.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+p[r]*h[i-r-1]+e,a[i--]=o%Yn|0,e=o/Yn|0;a[i]=(a[i]+e)%Yn|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,en?Vt(t,d.precision):t};Le.toDecimalPlaces=Le.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ds(t,0,kd),e===void 0?e=r.rounding:ds(e,0,8),Vt(n,t+Dn(n)+1,e))};Le.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Fl(r,!0):(ds(t,0,kd),e===void 0?e=i.rounding:ds(e,0,8),r=Vt(new i(r),t+1,e),n=Fl(r,!0,t+1)),n};Le.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Fl(i):(ds(t,0,kd),e===void 0?e=a.rounding:ds(e,0,8),r=Vt(new a(i),t+Dn(i)+1,e),n=Fl(r.abs(),!1,t+Dn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Le.toInteger=Le.toint=function(){var t=this,e=t.constructor;return Vt(new e(t),Dn(t)+1,e.rounding)};Le.toNumber=function(){return+this};Le.toPower=Le.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(yi);if(o=new l(o),!o.s){if(t.s<1)throw Error(na+"Infinity");return o}if(o.eq(yi))return o;if(r=l.precision,t.eq(yi))return Vt(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=u<0?-u:u)<=uU){for(i=new l(yi),e=Math.ceil(r/Kt+4),en=!1;n%2&&(i=i.times(o),OA(i.d,e)),n=Ed(n/2),n!==0;)o=o.times(o),OA(o.d,e);return en=!0,t.s<0?new l(yi).div(i):Vt(i,r)}}else if(a<0)throw Error(na+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,en=!1,i=t.times(op(o,r+c)),en=!0,i=fU(i),i.s=a,i};Le.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Dn(i),r=Fl(i,n<=a.toExpNeg||n>=a.toExpPos)):(ds(t,1,kd),e===void 0?e=a.rounding:ds(e,0,8),i=Vt(new a(i),t,e),n=Dn(i),r=Fl(i,t<=n||n<=a.toExpNeg,t)),r};Le.toSignificantDigits=Le.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ds(t,1,kd),e===void 0?e=r.rounding:ds(e,0,8)),Vt(new r(n),t,e)};Le.toString=Le.valueOf=Le.val=Le.toJSON=Le[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Dn(t),n=t.constructor;return Fl(t,e<=n.toExpNeg||e>=n.toExpPos)};function dU(t,e){var n,r,i,a,s,o,l,c,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),en?Vt(e,d):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(d/Kt),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/Yn|0,l[a]%=Yn;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,en?Vt(e,d):e}function ds(t,e,n){if(t!==~~t||t<e||t>n)throw Error(xl+t)}function Qa(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Kt-r.length,n&&(a+=No(n)),a+=r;s=t[e],r=s+"",n=Kt-r.length,n&&(a+=No(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Hs=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%Yn|0,s=a/Yn|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Yn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,u,d,h,p,g,x,v,y,b,w,E,S,k,_,N,P=r.constructor,A=r.s==i.s?1:-1,I=r.d,O=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(na+"Division by zero");for(l=r.e-i.e,_=O.length,S=I.length,p=new P(A),g=p.d=[],c=0;O[c]==(I[c]||0);)++c;if(O[c]>(I[c]||0)&&--l,a==null?b=a=P.precision:s?b=a+(Dn(r)-Dn(i))+1:b=a,b<0)return new P(0);if(b=b/Kt+2|0,c=0,_==1)for(u=0,O=O[0],b++;(c<S||u)&&b--;c++)w=u*Yn+(I[c]||0),g[c]=w/O|0,u=w%O|0;else{for(u=Yn/(O[0]+1)|0,u>1&&(O=t(O,u),I=t(I,u),_=O.length,S=I.length),E=_,x=I.slice(0,_),v=x.length;v<_;)x[v++]=0;N=O.slice(),N.unshift(0),k=O[0],O[1]>=Yn/2&&++k;do u=0,o=e(O,x,_,v),o<0?(y=x[0],_!=v&&(y=y*Yn+(x[1]||0)),u=y/k|0,u>1?(u>=Yn&&(u=Yn-1),d=t(O,u),h=d.length,v=x.length,o=e(d,x,h,v),o==1&&(u--,n(d,_<h?N:O,h))):(u==0&&(o=u=1),d=O.slice()),h=d.length,h<v&&d.unshift(0),n(x,d,v),o==-1&&(v=x.length,o=e(O,x,_,v),o<1&&(u++,n(x,_<v?N:O,v))),v=x.length):o===0&&(u++,x=[0]),g[c++]=u,o&&x[0]?x[v++]=I[E]||0:(x=[I[E]],v=1);while((E++<S||x[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=l,Vt(p,s?a+Dn(p)+1:a)}}();function fU(t,e){var n,r,i,a,s,o,l=0,c=0,u=t.constructor,d=u.precision;if(Dn(t)>16)throw Error(e_+Dn(t));if(!t.s)return new u(yi);for(en=!1,o=d,s=new u(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(Q0(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new u(yi),u.precision=o;;){if(i=Vt(i.times(t),o),n=n.times(++l),s=a.plus(Hs(i,n,o)),Qa(s.d).slice(0,o)===Qa(a.d).slice(0,o)){for(;c--;)a=Vt(a.times(a),o);return u.precision=d,e==null?(en=!0,Vt(a,d)):a}a=s}}function Dn(t){for(var e=t.e*Kt,n=t.d[0];n>=10;n/=10)e++;return e}function Ey(t,e,n){if(e>t.LN10.sd())throw en=!0,n&&(t.precision=n),Error(na+"LN10 precision limit exceeded");return Vt(new t(t.LN10),e)}function No(t){for(var e="";t--;)e+="0";return e}function op(t,e){var n,r,i,a,s,o,l,c,u,d=1,h=10,p=t,g=p.d,x=p.constructor,v=x.precision;if(p.s<1)throw Error(na+(p.s?"NaN":"-Infinity"));if(p.eq(yi))return new x(0);if(e==null?(en=!1,c=v):c=e,p.eq(10))return e==null&&(en=!0),Ey(x,c);if(c+=h,x.precision=c,n=Qa(g),r=n.charAt(0),a=Dn(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Qa(p.d),r=n.charAt(0),d++;a=Dn(p),r>1?(p=new x("0."+n),a++):p=new x(r+"."+n.slice(1))}else return l=Ey(x,c+2,v).times(a+""),p=op(new x(r+"."+n.slice(1)),c-h).plus(l),x.precision=v,e==null?(en=!0,Vt(p,v)):p;for(o=s=p=Hs(p.minus(yi),p.plus(yi),c),u=Vt(p.times(p),c),i=3;;){if(s=Vt(s.times(u),c),l=o.plus(Hs(s,new x(i),c)),Qa(l.d).slice(0,c)===Qa(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(Ey(x,c+2,v).times(a+""))),o=Hs(o,new x(d),c),x.precision=v,e==null?(en=!0,Vt(o,v)):o;o=l,i+=2}}function CA(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ed(n/Kt),t.d=[],r=(n+1)%Kt,n<0&&(r+=Kt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Kt;r<i;)t.d.push(+e.slice(r,r+=Kt));e=e.slice(r),r=Kt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),en&&(t.e>W1||t.e<-W1))throw Error(e_+n)}else t.s=0,t.e=0,t.d=[0];return t}function Vt(t,e,n){var r,i,a,s,o,l,c,u,d=t.d;for(s=1,a=d[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Kt,i=e,c=d[u=0];else{if(u=Math.ceil((r+1)/Kt),a=d.length,u>=a)return t;for(c=a=d[u],s=1;a>=10;a/=10)s++;r%=Kt,i=r-Kt+s}if(n!==void 0&&(a=Q0(10,s-i-1),o=c/a%10|0,l=e<0||d[u+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/Q0(10,s-i):0:d[u-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(a=Dn(t),d.length=1,e=e-a-1,d[0]=Q0(10,(Kt-e%Kt)%Kt),t.e=Ed(-e/Kt)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=u,a=1,u--):(d.length=u+1,a=Q0(10,Kt-r),d[u]=i>0?(c/Q0(10,s-i)%Q0(10,i)|0)*a:0),l)for(;;)if(u==0){(d[0]+=a)==Yn&&(d[0]=1,++t.e);break}else{if(d[u]+=a,d[u]!=Yn)break;d[u--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(en&&(t.e>W1||t.e<-W1))throw Error(e_+Dn(t));return t}function hU(t,e){var n,r,i,a,s,o,l,c,u,d,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),en?Vt(e,p):e;if(l=t.d,d=e.d,r=e.e,c=t.e,l=l.slice(),s=c-r,s){for(u=s<0,u?(n=l,s=-s,o=d.length):(n=d,r=c,o=l.length),i=Math.max(Math.ceil(p/Kt),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=d.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}s=0}for(u&&(n=l,l=d,d=n,e.s=-e.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=Yn-1;--l[a],l[i]+=Yn}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,en?Vt(e,p):e):new h(0)}function Fl(t,e,n){var r,i=Dn(t),a=Qa(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+No(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+No(-i-1)+a,n&&(r=n-s)>0&&(a+=No(r))):i>=s?(a+=No(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+No(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=No(r))),t.s<0?"-"+a:a}function OA(t,e){if(t.length>e)return t.length=e,!0}function pU(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(xl+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return CA(s,a.toString())}else if(typeof a!="string")throw Error(xl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Sye.test(a))CA(s,a);else throw Error(xl+a)}if(i.prototype=Le,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=pU,i.config=i.set=kye,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function kye(t){if(!t||typeof t!="object")throw Error(na+"Object expected");var e,n,r,i=["precision",1,kd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ed(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(xl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(xl+n+": "+r);return this}var t_=pU(_ye);yi=new t_(1);const Rt=t_;function Eye(t){return Aye(t)||Pye(t)||Tye(t)||Nye()}function Nye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tye(t,e){if(t){if(typeof t=="string")return u8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u8(t,e)}}function Pye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Aye(t){if(Array.isArray(t))return u8(t)}function u8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Iye=function(e){return e},mU={},gU=function(e){return e===mU},jA=function(e){return function n(){return arguments.length===0||arguments.length===1&&gU(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Cye=function t(e,n){return e===1?n:jA(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==mU}).length;return s>=e?n.apply(void 0,i):t(e-s,jA(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=i.map(function(d){return gU(d)?l.shift():d});return n.apply(void 0,Eye(u).concat(l))}))})},P5=function(e){return Cye(e.length,e)},d8=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Oye=P5(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),jye=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Iye;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},f8=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},yU=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(o,l){return o===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function Mye(t){var e;return t===0?e=1:e=Math.floor(new Rt(t).abs().log(10).toNumber())+1,e}function Dye(t,e,n){for(var r=new Rt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Rye=P5(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),$ye=P5(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Lye=P5(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const A5={rangeStep:Dye,getDigitCount:Mye,interpolateNumber:Rye,uninterpolateNumber:$ye,uninterpolateTruncation:Lye};function h8(t){return Uye(t)||Vye(t)||vU(t)||Fye()}function Fye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Uye(t){if(Array.isArray(t))return p8(t)}function lp(t,e){return Wye(t)||zye(t,e)||vU(t,e)||Bye()}function Bye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vU(t,e){if(t){if(typeof t=="string")return p8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p8(t,e)}}function p8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zye(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function Wye(t){if(Array.isArray(t))return t}function xU(t){var e=lp(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function bU(t,e,n){if(t.lte(0))return new Rt(0);var r=A5.getDigitCount(t.toNumber()),i=new Rt(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new Rt(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?l:new Rt(Math.ceil(l))}function qye(t,e,n){var r=1,i=new Rt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Rt(10).pow(A5.getDigitCount(t)-1),i=new Rt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Rt(Math.floor(t)))}else t===0?i=new Rt(Math.floor((e-1)/2)):n||(i=new Rt(Math.floor(t)));var s=Math.floor((e-1)/2),o=jye(Oye(function(l){return i.add(new Rt(l-s).mul(r)).toNumber()}),d8);return o(0,e)}function wU(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Rt(0),tickMin:new Rt(0),tickMax:new Rt(0)};var a=bU(new Rt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Rt(0):(s=new Rt(t).add(e).div(2),s=s.sub(new Rt(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new Rt(e).sub(s).div(a).toNumber()),c=o+l+1;return c>n?wU(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,o=e>0?o:o+(n-c)),{step:a,tickMin:s.sub(new Rt(o).mul(a)),tickMax:s.add(new Rt(l).mul(a))})}function Hye(t){var e=lp(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=xU([n,r]),l=lp(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(h8(d8(0,i-1).map(function(){return 1/0}))):[].concat(h8(d8(0,i-1).map(function(){return-1/0})),[u]);return n>r?f8(d):d}if(c===u)return qye(c,i,a);var h=wU(c,u,s,a),p=h.step,g=h.tickMin,x=h.tickMax,v=A5.rangeStep(g,x.add(new Rt(.1).mul(p)),p);return n>r?f8(v):v}function Gye(t,e){var n=lp(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=xU([r,i]),o=lp(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),d=bU(new Rt(c).sub(l).div(u-1),a,0),h=[].concat(h8(A5.rangeStep(new Rt(l),new Rt(c).sub(new Rt(.99).mul(d)),d)),[c]);return r>i?f8(h):h}var Kye=yU(Hye),Yye=yU(Gye),Qye="Invariant failed";function Vl(t,e){throw new Error(Qye)}var Xye=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}function q1(){return q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q1.apply(this,arguments)}function Jye(t,e){return nve(t)||tve(t,e)||eve(t,e)||Zye()}function Zye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eve(t,e){if(t){if(typeof t=="string")return MA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MA(t,e)}}function MA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function nve(t){if(Array.isArray(t))return t}function rve(t,e){if(t==null)return{};var n=ive(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ive(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ave(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kU(r.key),r)}}function ove(t,e,n){return e&&sve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lve(t,e,n){return e=H1(e),cve(t,_U()?Reflect.construct(e,n||[],H1(t).constructor):e.apply(t,n))}function cve(t,e){if(e&&($u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uve(t)}function uve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _U(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_U=function(){return!!t})()}function H1(t){return H1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},H1(t)}function dve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m8(t,e)}function m8(t,e){return m8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},m8(t,e)}function SU(t,e,n){return e=kU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kU(t){var e=fve(t,"string");return $u(e)=="symbol"?e:e+""}function fve(t,e){if($u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var I5=function(t){function e(){return ave(this,e),lve(this,e,arguments)}return dve(e,t),ove(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,d=r.yAxis,h=rve(r,Xye),p=ht(h,!1);this.props.direction==="x"&&u.type!=="number"&&Vl();var g=l.map(function(x){var v=c(x,o),y=v.x,b=v.y,w=v.value,E=v.errorVal;if(!E)return null;var S=[],k,_;if(Array.isArray(E)){var N=Jye(E,2);k=N[0],_=N[1]}else k=_=E;if(a==="vertical"){var P=u.scale,A=b+i,I=A+s,O=A-s,j=P(w-k),R=P(w+_);S.push({x1:R,y1:I,x2:R,y2:O}),S.push({x1:j,y1:A,x2:R,y2:A}),S.push({x1:j,y1:I,x2:j,y2:O})}else if(a==="horizontal"){var D=d.scale,$=y+i,U=$-s,V=$+s,B=D(w-k),q=D(w+_);S.push({x1:U,y1:q,x2:V,y2:q}),S.push({x1:$,y1:B,x2:$,y2:q}),S.push({x1:U,y1:B,x2:V,y2:B})}return F.createElement(on,q1({className:"recharts-errorBar",key:"bar-".concat(S.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},p),S.map(function(K){return F.createElement("line",q1({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return F.createElement(on,{className:"recharts-errorBars"},g)}}])}(F.Component);SU(I5,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});SU(I5,"displayName","ErrorBar");function cp(t){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cp(t)}function DA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DA(Object(n),!0).forEach(function(r){hve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hve(t,e,n){return e=pve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pve(t){var e=mve(t,"string");return cp(e)=="symbol"?e:e+""}function mve(t,e){if(cp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EU=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=hi(n,uu);if(!s)return null;var o=uu.defaultProps,l=o!==void 0?B0(B0({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:a==="children"?c=(r||[]).reduce(function(u,d){var h=d.item,p=d.props,g=p.sectors||p.data||[];return u.concat(g.map(function(x){return{type:s.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):c=(r||[]).map(function(u){var d=u.item,h=d.type.defaultProps,p=h!==void 0?B0(B0({},h),d.props):{},g=p.dataKey,x=p.name,v=p.legendType,y=p.hide;return{inactive:y,dataKey:g,type:l.iconType||v||"square",color:n_(d),value:x||g,payload:p}}),B0(B0(B0({},l),uu.getWithHeight(s,i)),{},{payload:c,item:s})};function up(t){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},up(t)}function RA(t){return xve(t)||vve(t)||yve(t)||gve()}function gve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yve(t,e){if(t){if(typeof t=="string")return g8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g8(t,e)}}function vve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xve(t){if(Array.isArray(t))return g8(t)}function g8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$A(Object(n),!0).forEach(function(r){fu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fu(t,e,n){return e=bve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bve(t){var e=wve(t,"string");return up(e)=="symbol"?e:e+""}function wve(t,e){if(up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ni(t,e,n){return xt(t)||xt(e)?n:Bn(e)?Xi(t,e,n):ot(e)?e(t):n}function lh(t,e,n,r){var i=vye(t,function(o){return Ni(o,e)});if(n==="number"){var a=i.filter(function(o){return Te(o)||parseFloat(o)});return a.length?[T5(a),zo(a)]:[1/0,-1/0]}var s=r?i.filter(function(o){return!xt(o)}):i;return s.map(function(o){return Bn(o)||o instanceof Date?o:""})}var _ve=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<o;c++){var u=c>0?i[c-1].coordinate:i[o-1].coordinate,d=i[c].coordinate,h=c>=o-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(xa(d-u)!==xa(h-d)){var g=[];if(xa(h-d)===xa(l[1]-l[0])){p=h;var x=d+l[1]-l[0];g[0]=Math.min(x,(x+u)/2),g[1]=Math.max(x,(x+u)/2)}else{p=u;var v=h+l[1]-l[0];g[0]=Math.min(d,(v+d)/2),g[1]=Math.max(d,(v+d)/2)}var y=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>y[0]&&e<=y[1]||e>=g[0]&&e<=g[1]){s=i[c].index;break}}else{var b=Math.min(u,h),w=Math.max(u,h);if(e>(b+d)/2&&e<=(w+d)/2){s=i[c].index;break}}}else for(var E=0;E<o;E++)if(E===0&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E>0&&E<o-1&&e>(r[E].coordinate+r[E-1].coordinate)/2&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E===o-1&&e>(r[E].coordinate+r[E-1].coordinate)/2){s=r[E].index;break}return s},n_=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?vn(vn({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},Sve=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,c=o.length;l<c;l++)for(var u=a[o[l]].stackGroups,d=Object.keys(u),h=0,p=d.length;h<p;h++){var g=u[d[h]],x=g.items,v=g.cateAxisId,y=x.filter(function(_){return Ws(_.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,w=b!==void 0?vn(vn({},b),y[0].props):y[0].props,E=w.barSize,S=w[v];s[S]||(s[S]=[]);var k=xt(E)?n:E;s[S].push({item:y[0],stackList:y.slice(1),barSize:xt(k)?void 0:Ll(k,r,0)})}}return s},kve=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var c=Ll(n,i,0,!0),u,d=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/l,g=s.reduce(function(E,S){return E+S.barSize||0},0);g+=(l-1)*c,g>=i&&(g-=(l-1)*c,c=0),g>=i&&p>0&&(h=!0,p*=.9,g=l*p);var x=(i-g)/2>>0,v={offset:x-c,size:0};u=s.reduce(function(E,S){var k={item:S.item,position:{offset:v.offset+v.size+c,size:h?p:S.barSize}},_=[].concat(RA(E),[k]);return v=_[_.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(N){_.push({item:N,position:v})}),_},d)}else{var y=Ll(r,i,0,!0);i-2*y-(l-1)*c<=0&&(c=0);var b=(i-2*y-(l-1)*c)/l;b>1&&(b>>=0);var w=o===+o?Math.min(b,o):b;u=s.reduce(function(E,S,k){var _=[].concat(RA(E),[{item:S.item,position:{offset:y+(b+c)*k+(b-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(N){_.push({item:N,position:_[_.length-1].position})}),_},d)}return u},Eve=function(e,n,r,i){var a=r.children,s=r.width,o=r.margin,l=s-(o.left||0)-(o.right||0),c=EU({children:a,legendWidth:l});if(c){var u=i||{},d=u.width,h=u.height,p=c.align,g=c.verticalAlign,x=c.layout;if((x==="vertical"||x==="horizontal"&&g==="middle")&&p!=="center"&&Te(e[p]))return vn(vn({},e),{},fu({},p,e[p]+(d||0)));if((x==="horizontal"||x==="vertical"&&p==="center")&&g!=="middle"&&Te(e[g]))return vn(vn({},e),{},fu({},g,e[g]+(h||0)))}return e},Nve=function(e,n,r){return xt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},NU=function(e,n,r,i,a){var s=n.props.children,o=Pa(s,I5).filter(function(c){return Nve(i,a,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var d=Ni(u,r);if(xt(d))return c;var h=Array.isArray(d)?[T5(d),zo(d)]:[d,d],p=l.reduce(function(g,x){var v=Ni(u,x,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},Tve=function(e,n,r,i,a){var s=n.map(function(o){return NU(e,o,r,a,i)}).filter(function(o){return!xt(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},TU=function(e,n,r,i,a){var s=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&NU(e,l,c,i)||lh(e,c,r,a)});if(r==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},PU=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},AU=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate});return a||o.push(n),s||o.push(r),o},Rs=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?xa(o[0]-o[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(d){var h=a?a.indexOf(d):d;return{coordinate:i(h)+c,value:d,offset:c}});return u.filter(function(d){return!vd(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+c,value:d,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,h){return{coordinate:i(d)+c,value:a?a[d]:d,index:h,offset:c}})},Ny=new WeakMap,vm=function(e,n){if(typeof n!="function")return e;Ny.has(e)||Ny.set(e,new WeakMap);var r=Ny.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Pve=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:ep(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:ap(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:oh(),realScaleType:"point"}:a==="category"?{scale:ep(),realScaleType:"band"}:{scale:ap(),realScaleType:"linear"};if($l(i)){var l="scale".concat(p5(i));return{scale:(IA[l]||oh)(),realScaleType:IA[l]?l:"point"}}return ot(i)?{scale:i}:{scale:oh(),realScaleType:"point"}},LA=1e-4,Ave=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-LA,s=Math.max(i[0],i[1])+LA,o=e(n[0]),l=e(n[r-1]);(o<a||o>s||l<a||l>s)&&e.domain([n[0],n[r-1]])}},Ive=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Cve=function(e,n){if(!n||n.length!==2||!Te(n[0])||!Te(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!Te(e[0])||e[0]<r)&&(a[0]=r),(!Te(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},Ove=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,o=0;o<n;++o){var l=vd(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1])}},jve=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var o=vd(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},Mve={sign:Ove,expand:Gue,none:Au,silhouette:Kue,wiggle:Yue,positive:jve},Dve=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),a=Mve[r],s=Hue().keys(i).value(function(o,l){return+Ni(o,l,0)}).order(U7).offset(a);return s(e)},Rve=function(e,n,r,i,a,s){if(!e)return null;var o=s?n.reverse():n,l={},c=o.reduce(function(d,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?vn(vn({},h.type.defaultProps),h.props):h.props,x=g.stackId,v=g.hide;if(v)return d;var y=g[r],b=d[y]||{hasStack:!1,stackGroups:{}};if(Bn(x)){var w=b.stackGroups[x]||{numericAxisId:r,cateAxisId:i,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[x]=w}else b.stackGroups[c4("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return vn(vn({},d),{},fu({},y,b))},l),u={};return Object.keys(c).reduce(function(d,h){var p=c[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(x,v){var y=p.stackGroups[v];return vn(vn({},x),{},fu({},v,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:Dve(e,y.items,a)}))},g)}return vn(vn({},d),{},fu({},h,p))},u)},$ve=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=Kye(c,a,o);return e.domain([T5(u),zo(u)]),{niceTicks:u}}if(a&&i==="number"){var d=e.domain(),h=Yye(d,a,o);return{niceTicks:h}}return null};function FA(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!xt(i[e.dataKey])){var o=y1(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=Ni(i,xt(s)?e.dataKey:s);return xt(l)?null:e.scale(l)}var VA=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=Ni(s,n.dataKey,n.domain[o]);return xt(l)?null:n.scale(l)-a/2+i},Lve=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},Fve=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?vn(vn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Bn(a)){var s=n[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},Vve=function(e){return e.reduce(function(n,r){return[T5(r.concat([n[0]]).filter(Te)),zo(r.concat([n[1]]).filter(Te))]},[1/0,-1/0])},IU=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(c,u){var d=Vve(u.slice(n,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},UA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,BA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,y8=function(e,n,r){if(ot(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Te(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(UA.test(e[0])){var a=+UA.exec(e[0])[1];i[0]=n[0]-a}else ot(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Te(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(BA.test(e[1])){var s=+BA.exec(e[1])[1];i[1]=n[1]+s}else ot(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},G1=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=Iw(n,function(d){return d.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},zA=function(e,n,r){return!e||!e.length||sp(e,Xi(r,"type.defaultProps.domain"))?n:e},CU=function(e,n){var r=e.type.defaultProps?vn(vn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return vn(vn({},ht(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:n_(e),value:Ni(n,i),type:l,payload:n,chartType:c,hide:u})};function dp(t){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(t)}function WA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WA(Object(n),!0).forEach(function(r){Uve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uve(t,e,n){return e=Bve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bve(t){var e=zve(t,"string");return dp(e)=="symbol"?e:e+""}function zve(t,e){if(dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K1=Math.PI/180,Wve=function(e){return e*180/Math.PI},or=function(e,n,r,i){return{x:e+Math.cos(-K1*i)*r,y:n+Math.sin(-K1*i)*r}},qve=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},Hve=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,o=qve({x:r,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(r-a)/o,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:o,angle:Wve(c),angleInRadian:c}},Gve=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},Kve=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},HA=function(e,n){var r=e.x,i=e.y,a=Hve({x:r,y:i},n),s=a.radius,o=a.angle,l=n.innerRadius,c=n.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=Gve(n),d=u.startAngle,h=u.endAngle,p=o,g;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=d}return g?qA(qA({},n),{},{radius:s,angle:Kve(p,n)}):null};function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(t)}var Yve=["offset"];function Qve(t){return e7e(t)||Zve(t)||Jve(t)||Xve()}function Xve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jve(t,e){if(t){if(typeof t=="string")return v8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v8(t,e)}}function Zve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function e7e(t){if(Array.isArray(t))return v8(t)}function v8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function t7e(t,e){if(t==null)return{};var n=n7e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function n7e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GA(Object(n),!0).forEach(function(r){r7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r7e(t,e,n){return e=i7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i7e(t){var e=a7e(t,"string");return fp(e)=="symbol"?e:e+""}function a7e(t,e){if(fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hp(){return hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hp.apply(this,arguments)}var s7e=function(e){var n=e.value,r=e.formatter,i=xt(e.children)?n:e.children;return ot(r)?r(i):i},o7e=function(e,n){var r=xa(n-e),i=Math.min(Math.abs(n-e),360);return r*i},l7e=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,c=l.cx,u=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,x=l.clockWise,v=(d+h)/2,y=o7e(p,g),b=y>=0?1:-1,w,E;i==="insideStart"?(w=p+b*s,E=x):i==="insideEnd"?(w=g-b*s,E=!x):i==="end"&&(w=g+b*s,E=x),E=y<=0?E:!E;var S=or(c,u,v,w),k=or(c,u,v,w+(E?1:-1)*359),_="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(E?0:1,`,
    `).concat(k.x,",").concat(k.y),N=xt(e.id)?c4("recharts-radial-line-"):e.id;return F.createElement("text",hp({},r,{dominantBaseline:"central",className:Et("recharts-radial-bar-label",o)}),F.createElement("defs",null,F.createElement("path",{id:N,d:_})),F.createElement("textPath",{xlinkHref:"#".concat(N)},n))},c7e=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,o=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,d=a.endAngle,h=(u+d)/2;if(i==="outside"){var p=or(s,o,c+r,h),g=p.x,x=p.y;return{x:g,y:x,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,y=or(s,o,v,h),b=y.x,w=y.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},u7e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,o=s.x,l=s.y,c=s.width,u=s.height,d=u>=0?1:-1,h=d*i,p=d>0?"end":"start",g=d>0?"start":"end",x=c>=0?1:-1,v=x*i,y=x>0?"end":"start",b=x>0?"start":"end";if(a==="top"){var w={x:o+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:p};return Fn(Fn({},w),r?{height:Math.max(l-r.y,0),width:c}:{})}if(a==="bottom"){var E={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:g};return Fn(Fn({},E),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(a==="left"){var S={x:o-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return Fn(Fn({},S),r?{width:Math.max(S.x-r.x,0),height:u}:{})}if(a==="right"){var k={x:o+c+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return Fn(Fn({},k),r?{width:Math.max(r.x+r.width-k.x,0),height:u}:{})}var _=r?{width:c,height:u}:{};return a==="insideLeft"?Fn({x:o+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},_):a==="insideRight"?Fn({x:o+c-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},_):a==="insideTop"?Fn({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},_):a==="insideBottom"?Fn({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},_):a==="insideTopLeft"?Fn({x:o+v,y:l+h,textAnchor:b,verticalAnchor:g},_):a==="insideTopRight"?Fn({x:o+c-v,y:l+h,textAnchor:y,verticalAnchor:g},_):a==="insideBottomLeft"?Fn({x:o+v,y:l+u-h,textAnchor:b,verticalAnchor:p},_):a==="insideBottomRight"?Fn({x:o+c-v,y:l+u-h,textAnchor:y,verticalAnchor:p},_):pd(a)&&(Te(a.x)||sl(a.x))&&(Te(a.y)||sl(a.y))?Fn({x:o+Ll(a.x,c),y:l+Ll(a.y,u),textAnchor:"end",verticalAnchor:"end"},_):Fn({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},_)},d7e=function(e){return"cx"in e&&Te(e.cx)};function br(t){var e=t.offset,n=e===void 0?5:e,r=t7e(t,Yve),i=Fn({offset:n},r),a=i.viewBox,s=i.position,o=i.value,l=i.children,c=i.content,u=i.className,d=u===void 0?"":u,h=i.textBreakAll;if(!a||xt(o)&&xt(l)&&!C.isValidElement(c)&&!ot(c))return null;if(C.isValidElement(c))return C.cloneElement(c,i);var p;if(ot(c)){if(p=C.createElement(c,i),C.isValidElement(p))return p}else p=s7e(i);var g=d7e(a),x=ht(i,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return l7e(i,p,x);var v=g?c7e(i):u7e(i);return F.createElement(j1,hp({className:Et("recharts-label",d)},x,v,{breakAll:h}),p)}br.displayName="Label";var OU=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,d=e.x,h=e.y,p=e.top,g=e.left,x=e.width,v=e.height,y=e.clockWise,b=e.labelViewBox;if(b)return b;if(Te(x)&&Te(v)){if(Te(d)&&Te(h))return{x:d,y:h,width:x,height:v};if(Te(p)&&Te(g))return{x:p,y:g,width:x,height:v}}return Te(d)&&Te(h)?{x:d,y:h,width:0,height:0}:Te(n)&&Te(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:y}:e.viewBox?e.viewBox:{}},f7e=function(e,n){return e?e===!0?F.createElement(br,{key:"label-implicit",viewBox:n}):Bn(e)?F.createElement(br,{key:"label-implicit",viewBox:n,value:e}):C.isValidElement(e)?e.type===br?C.cloneElement(e,{key:"label-implicit",viewBox:n}):F.createElement(br,{key:"label-implicit",content:e,viewBox:n}):ot(e)?F.createElement(br,{key:"label-implicit",content:e,viewBox:n}):pd(e)?F.createElement(br,hp({viewBox:n},e,{key:"label-implicit"})):null:null},h7e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=OU(e),s=Pa(i,br).map(function(l,c){return C.cloneElement(l,{viewBox:n||a,key:"label-".concat(c)})});if(!r)return s;var o=f7e(e.label,n||a);return[o].concat(Qve(s))};br.parseViewBox=OU;br.renderCallByParent=h7e;function p7e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var m7e=p7e;const g7e=Ut(m7e);function pp(t){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pp(t)}var y7e=["valueAccessor"],v7e=["data","dataKey","clockWise","id","textBreakAll"];function x7e(t){return S7e(t)||_7e(t)||w7e(t)||b7e()}function b7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w7e(t,e){if(t){if(typeof t=="string")return x8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x8(t,e)}}function _7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function S7e(t){if(Array.isArray(t))return x8(t)}function x8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Y1(){return Y1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y1.apply(this,arguments)}function KA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KA(Object(n),!0).forEach(function(r){k7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k7e(t,e,n){return e=E7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E7e(t){var e=N7e(t,"string");return pp(e)=="symbol"?e:e+""}function N7e(t,e){if(pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QA(t,e){if(t==null)return{};var n=T7e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function T7e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var P7e=function(e){return Array.isArray(e.value)?g7e(e.value):e.value};function l0(t){var e=t.valueAccessor,n=e===void 0?P7e:e,r=QA(t,y7e),i=r.data,a=r.dataKey,s=r.clockWise,o=r.id,l=r.textBreakAll,c=QA(r,v7e);return!i||!i.length?null:F.createElement(on,{className:"recharts-label-list"},i.map(function(u,d){var h=xt(a)?n(u,d):Ni(u&&u.payload,a),p=xt(o)?{}:{id:"".concat(o,"-").concat(d)};return F.createElement(br,Y1({},ht(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:br.parseViewBox(xt(s)?u:YA(YA({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}l0.displayName="LabelList";function A7e(t,e){return t?t===!0?F.createElement(l0,{key:"labelList-implicit",data:e}):F.isValidElement(t)||ot(t)?F.createElement(l0,{key:"labelList-implicit",data:e,content:t}):pd(t)?F.createElement(l0,Y1({data:e},t,{key:"labelList-implicit"})):null:null}function I7e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Pa(r,l0).map(function(s,o){return C.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var a=A7e(t.label,e);return[a].concat(x7e(i))}l0.renderCallByParent=I7e;function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}function b8(){return b8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b8.apply(this,arguments)}function XA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XA(Object(n),!0).forEach(function(r){C7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C7e(t,e,n){return e=O7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O7e(t){var e=j7e(t,"string");return mp(e)=="symbol"?e:e+""}function j7e(t,e){if(mp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M7e=function(e,n){var r=xa(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},xm=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(o?1:-1)+i,d=Math.asin(l/u)/K1,h=c?a:a+s*d,p=or(n,r,u,h),g=or(n,r,i,h),x=c?a-s*d:a,v=or(n,r,u*Math.cos(d*K1),x);return{center:p,circleTangency:g,lineTangency:v,theta:d}},jU=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=M7e(s,o),c=s+l,u=or(n,r,a,s),d=or(n,r,a,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var p=or(n,r,i,s),g=or(n,r,i,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},D7e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,d=xa(u-c),h=xm({cx:n,cy:r,radius:a,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,x=h.theta,v=xm({cx:n,cy:r,radius:a,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),y=v.circleTangency,b=v.lineTangency,w=v.theta,E=l?Math.abs(c-u):Math.abs(c-u)-x-w;if(E<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):jU({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(E>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var k=xm({cx:n,cy:r,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),_=k.circleTangency,N=k.lineTangency,P=k.theta,A=xm({cx:n,cy:r,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),I=A.circleTangency,O=A.lineTangency,j=A.theta,R=l?Math.abs(c-u):Math.abs(c-u)-P-j;if(R<0&&s===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(d>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},R7e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},MU=function(e){var n=JA(JA({},R7e),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,h=n.className;if(s<a||u===d)return null;var p=Et("recharts-sector",h),g=s-a,x=Ll(o,g,0,!0),v;return x>0&&Math.abs(u-d)<360?v=D7e({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(x,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):v=jU({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d}),F.createElement("path",b8({},ht(n,!0),{className:p,d:v,role:"img"}))};function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(t)}function w8(){return w8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w8.apply(this,arguments)}function ZA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZA(Object(n),!0).forEach(function(r){$7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $7e(t,e,n){return e=L7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L7e(t){var e=F7e(t,"string");return gp(e)=="symbol"?e:e+""}function F7e(t,e){if(gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tI={curveBasisClosed:Due,curveBasisOpen:Rue,curveBasis:Mue,curveBumpX:bue,curveBumpY:wue,curveLinearClosed:$ue,curveLinear:g5,curveMonotoneX:Lue,curveMonotoneY:Fue,curveNatural:Vue,curveStep:Uue,curveStepAfter:zue,curveStepBefore:Bue},bm=function(e){return e.x===+e.x&&e.y===+e.y},sf=function(e){return e.x},of=function(e){return e.y},V7e=function(e,n){if(ot(e))return e;var r="curve".concat(p5(e));return(r==="curveMonotone"||r==="curveBump")&&n?tI["".concat(r).concat(n==="vertical"?"Y":"X")]:tI[r]||g5},U7e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=V7e(r,o),d=c?a.filter(function(x){return bm(x)}):a,h;if(Array.isArray(s)){var p=c?s.filter(function(x){return bm(x)}):s,g=d.map(function(x,v){return eI(eI({},x),{},{base:p[v]})});return o==="vertical"?h=um().y(of).x1(sf).x0(function(x){return x.base.x}):h=um().x(sf).y1(of).y0(function(x){return x.base.y}),h.defined(bm).curve(u),h(g)}return o==="vertical"&&Te(s)?h=um().y(of).x1(sf).x0(s):Te(s)?h=um().x(sf).y1(of).y0(s):h=MF().x(sf).y(of),h.defined(bm).curve(u),h(d)},ch=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?U7e(e):i;return C.createElement("path",w8({},ht(e,!1),v1(e),{className:Et("recharts-curve",n),d:s,ref:a}))},DU={exports:{}},B7e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",z7e=B7e,W7e=z7e;function RU(){}function $U(){}$U.resetWarningCache=RU;var q7e=function(){function t(r,i,a,s,o,l){if(l!==W7e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:$U,resetWarningCache:RU};return n.PropTypes=n,n};DU.exports=q7e();var H7e=DU.exports;const fe=Ut(H7e),{getOwnPropertyNames:G7e,getOwnPropertySymbols:K7e}=Object,{hasOwnProperty:Y7e}=Object.prototype;function Ty(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function wm(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,s=a.get(n),o=a.get(r);if(s&&o)return s===r&&o===n;a.set(n,r),a.set(r,n);const l=t(n,r,i);return a.delete(n),a.delete(r),l}}function Q7e(t){return t!=null?t[Symbol.toStringTag]:void 0}function nI(t){return G7e(t).concat(K7e(t))}const X7e=Object.hasOwn||((t,e)=>Y7e.call(t,e));function uc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const J7e="__v",Z7e="__o",e8e="_owner",{getOwnPropertyDescriptor:rI,keys:iI}=Object;function t8e(t,e){return t.byteLength===e.byteLength&&Q1(new Uint8Array(t),new Uint8Array(e))}function n8e(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function r8e(t,e){return t.byteLength===e.byteLength&&Q1(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function i8e(t,e){return uc(t.getTime(),e.getTime())}function a8e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function s8e(t,e){return t===e}function aI(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let s,o,l=0;for(;(s=a.next())&&!s.done;){const c=e.entries();let u=!1,d=0;for(;(o=c.next())&&!o.done;){if(i[d]){d++;continue}const h=s.value,p=o.value;if(n.equals(h[0],p[0],l,d,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}const o8e=uc;function l8e(t,e,n){const r=iI(t);let i=r.length;if(iI(e).length!==i)return!1;for(;i-- >0;)if(!LU(t,e,n,r[i]))return!1;return!0}function lf(t,e,n){const r=nI(t);let i=r.length;if(nI(e).length!==i)return!1;let a,s,o;for(;i-- >0;)if(a=r[i],!LU(t,e,n,a)||(s=rI(t,a),o=rI(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function c8e(t,e){return uc(t.valueOf(),e.valueOf())}function u8e(t,e){return t.source===e.source&&t.flags===e.flags}function sI(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let s,o;for(;(s=a.next())&&!s.done;){const l=e.values();let c=!1,u=0;for(;(o=l.next())&&!o.done;){if(!i[u]&&n.equals(s.value,o.value,s.value,o.value,t,e,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function Q1(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function d8e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function LU(t,e,n,r){return(r===e8e||r===Z7e||r===J7e)&&(t.$$typeof||e.$$typeof)?!0:X7e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const f8e="[object ArrayBuffer]",h8e="[object Arguments]",p8e="[object Boolean]",m8e="[object DataView]",g8e="[object Date]",y8e="[object Error]",v8e="[object Map]",x8e="[object Number]",b8e="[object Object]",w8e="[object RegExp]",_8e="[object Set]",S8e="[object String]",k8e={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},E8e="[object URL]",N8e=Object.prototype.toString;function T8e({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:o,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:g}){return function(v,y,b){if(v===y)return!0;if(v==null||y==null)return!1;const w=typeof v;if(w!==typeof y)return!1;if(w!=="object")return w==="number"?o(v,y,b):w==="function"?a(v,y,b):!1;const E=v.constructor;if(E!==y.constructor)return!1;if(E===Object)return l(v,y,b);if(Array.isArray(v))return e(v,y,b);if(E===Date)return r(v,y,b);if(E===RegExp)return u(v,y,b);if(E===Map)return s(v,y,b);if(E===Set)return d(v,y,b);const S=N8e.call(v);if(S===g8e)return r(v,y,b);if(S===w8e)return u(v,y,b);if(S===v8e)return s(v,y,b);if(S===_8e)return d(v,y,b);if(S===b8e)return typeof v.then!="function"&&typeof y.then!="function"&&l(v,y,b);if(S===E8e)return p(v,y,b);if(S===y8e)return i(v,y,b);if(S===h8e)return l(v,y,b);if(k8e[S])return h(v,y,b);if(S===f8e)return t(v,y,b);if(S===m8e)return n(v,y,b);if(S===p8e||S===x8e||S===S8e)return c(v,y,b);if(g){let k=g[S];if(!k){const _=Q7e(v);_&&(k=g[_])}if(k)return k(v,y,b)}return!1}}function P8e({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:t8e,areArraysEqual:n?lf:n8e,areDataViewsEqual:r8e,areDatesEqual:i8e,areErrorsEqual:a8e,areFunctionsEqual:s8e,areMapsEqual:n?Ty(aI,lf):aI,areNumbersEqual:o8e,areObjectsEqual:n?lf:l8e,arePrimitiveWrappersEqual:c8e,areRegExpsEqual:u8e,areSetsEqual:n?Ty(sI,lf):sI,areTypedArraysEqual:n?Ty(Q1,lf):Q1,areUrlsEqual:d8e,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=wm(r.areArraysEqual),a=wm(r.areMapsEqual),s=wm(r.areObjectsEqual),o=wm(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:o})}return r}function A8e(t){return function(e,n,r,i,a,s,o){return t(e,n,o)}}function I8e({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(o,l){const{cache:c=t?new WeakMap:void 0,meta:u}=n();return e(o,l,{cache:c,equals:r,meta:u,strict:i})};if(t)return function(o,l){return e(o,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(o,l){return e(o,l,a)}}const C8e=M0();M0({strict:!0});M0({circular:!0});M0({circular:!0,strict:!0});M0({createInternalComparator:()=>uc});M0({strict:!0,createInternalComparator:()=>uc});M0({circular:!0,createInternalComparator:()=>uc});M0({circular:!0,createInternalComparator:()=>uc,strict:!0});function M0(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=P8e(t),s=T8e(a),o=n?n(s):A8e(s);return I8e({circular:e,comparator:s,createState:r,equals:o,strict:i})}function O8e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function oI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):O8e(i)};requestAnimationFrame(r)}function _8(t){"@babel/helpers - typeof";return _8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_8(t)}function j8e(t){return $8e(t)||R8e(t)||D8e(t)||M8e()}function M8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D8e(t,e){if(t){if(typeof t=="string")return lI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lI(t,e)}}function lI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function R8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $8e(t){if(Array.isArray(t))return t}function L8e(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,o=j8e(s),l=o[0],c=o.slice(1);if(typeof l=="number"){oI(i.bind(null,c),l);return}i(l),oI(i.bind(null,c));return}_8(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}function cI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cI(Object(n),!0).forEach(function(r){FU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FU(t,e,n){return e=F8e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F8e(t){var e=V8e(t,"string");return yp(e)==="symbol"?e:String(e)}function V8e(t,e){if(yp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var U8e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},B8e=function(e){return e},z8e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},uh=function(e,n){return Object.keys(n).reduce(function(r,i){return uI(uI({},r),{},FU({},i,e(i,n[i])))},{})},dI=function(e,n,r){return e.map(function(i){return"".concat(z8e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function W8e(t,e){return G8e(t)||H8e(t,e)||VU(t,e)||q8e()}function q8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H8e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function G8e(t){if(Array.isArray(t))return t}function K8e(t){return X8e(t)||Q8e(t)||VU(t)||Y8e()}function Y8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VU(t,e){if(t){if(typeof t=="string")return S8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S8(t,e)}}function Q8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function X8e(t){if(Array.isArray(t))return S8(t)}function S8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var X1=1e-4,UU=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},BU=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},fI=function(e,n){return function(r){var i=UU(e,n);return BU(i,r)}},J8e=function(e,n){return function(r){var i=UU(e,n),a=[].concat(K8e(i.map(function(s,o){return s*o}).slice(1)),[0]);return BU(a,r)}},hI=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=W8e(c,4);i=u[0],a=u[1],s=u[2],o=u[3]}}}var d=fI(i,s),h=fI(a,o),p=J8e(i,s),g=function(y){return y>1?1:y<0?0:y},x=function(y){for(var b=y>1?1:y,w=b,E=0;E<8;++E){var S=d(w)-b,k=p(w);if(Math.abs(S-b)<X1||k<X1)return h(w);w=g(w-S/k)}return h(w)};return x.isStepper=!1,x},Z8e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(u,d,h){var p=-(u-d)*r,g=h*a,x=h+(p-g)*o/1e3,v=h*o/1e3+u;return Math.abs(v-d)<X1&&Math.abs(x)<X1?[d,0]:[v,x]};return l.isStepper=!0,l.dt=o,l},e9e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return hI(i);case"spring":return Z8e();default:if(i.split("(")[0]==="cubic-bezier")return hI(i)}return typeof i=="function"?i:null};function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}function pI(t){return r9e(t)||n9e(t)||zU(t)||t9e()}function t9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n9e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function r9e(t){if(Array.isArray(t))return E8(t)}function mI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mI(Object(n),!0).forEach(function(r){k8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k8(t,e,n){return e=i9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i9e(t){var e=a9e(t,"string");return vp(e)==="symbol"?e:String(e)}function a9e(t,e){if(vp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s9e(t,e){return c9e(t)||l9e(t,e)||zU(t,e)||o9e()}function o9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zU(t,e){if(t){if(typeof t=="string")return E8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E8(t,e)}}function E8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l9e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function c9e(t){if(Array.isArray(t))return t}var J1=function(e,n,r){return e+(n-e)*r},N8=function(e){var n=e.from,r=e.to;return n!==r},u9e=function t(e,n,r){var i=uh(function(a,s){if(N8(s)){var o=e(s.from,s.to,s.velocity),l=s9e(o,2),c=l[0],u=l[1];return tr(tr({},s),{},{from:c,velocity:u})}return s},n);return r<1?uh(function(a,s){return N8(s)?tr(tr({},s),{},{velocity:J1(s.velocity,i[a].velocity,r),from:J1(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const d9e=function(t,e,n,r,i){var a=U8e(t,e),s=a.reduce(function(v,y){return tr(tr({},v),{},k8({},y,[t[y],e[y]]))},{}),o=a.reduce(function(v,y){return tr(tr({},v),{},k8({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,c,u,d=function(){return null},h=function(){return uh(function(y,b){return b.from},o)},p=function(){return!Object.values(o).filter(N8).length},g=function(y){c||(c=y);var b=y-c,w=b/n.dt;o=u9e(n,o,w),i(tr(tr(tr({},t),e),h())),c=y,p()||(l=requestAnimationFrame(d))},x=function(y){u||(u=y);var b=(y-u)/r,w=uh(function(S,k){return J1.apply(void 0,pI(k).concat([n(b)]))},s);if(i(tr(tr(tr({},t),e),w)),b<1)l=requestAnimationFrame(d);else{var E=uh(function(S,k){return J1.apply(void 0,pI(k).concat([n(1)]))},s);i(tr(tr(tr({},t),e),E))}};return d=n.isStepper?g:x,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}var f9e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function h9e(t,e){if(t==null)return{};var n=p9e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p9e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Py(t){return v9e(t)||y9e(t)||g9e(t)||m9e()}function m9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g9e(t,e){if(t){if(typeof t=="string")return T8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T8(t,e)}}function y9e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function v9e(t){if(Array.isArray(t))return T8(t)}function T8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ua(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(r){Ef(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ef(t,e,n){return e=WU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b9e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WU(r.key),r)}}function w9e(t,e,n){return e&&b9e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function WU(t){var e=_9e(t,"string");return Lu(e)==="symbol"?e:String(e)}function _9e(t,e){if(Lu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P8(t,e)}function P8(t,e){return P8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P8(t,e)}function k9e(t){var e=E9e();return function(){var r=Z1(t),i;if(e){var a=Z1(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return A8(this,i)}}function A8(t,e){if(e&&(Lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I8(t)}function I8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Z1(t){return Z1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Z1(t)}var io=function(t){S9e(n,t);var e=k9e(n);function n(r,i){var a;x9e(this,n),a=e.call(this,r,i);var s=a.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,d=s.steps,h=s.children,p=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(I8(a)),a.changeStyle=a.changeStyle.bind(I8(a)),!o||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:u}),A8(a);if(d&&d.length)a.state={style:d[0].style};else if(c){if(typeof h=="function")return a.state={style:c},A8(a);a.state={style:l?Ef({},l,c):c}}else a.state={style:{}};return a}return w9e(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,d=a.from,h=this.state.style;if(o){if(!s){var p={style:l?Ef({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(C8e(i.to,u)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=g||c?d:i.to;if(this.state&&h){var v={style:l?Ef({},l,x):x};(l&&h[l]!==x||!l&&h!==x)&&this.setState(v)}this.runAnimation(ua(ua({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,c=i.easing,u=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,p=d9e(s,o,e9e(c),l,this.changeStyle),g=function(){a.stopJSAnimation=p()};this.manager.start([h,u,g,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,c=s[0],u=c.style,d=c.duration,h=d===void 0?0:d,p=function(x,v,y){if(y===0)return x;var b=v.duration,w=v.easing,E=w===void 0?"ease":w,S=v.style,k=v.properties,_=v.onAnimationEnd,N=y>0?s[y-1]:v,P=k||Object.keys(S);if(typeof E=="function"||E==="spring")return[].concat(Py(x),[a.runJSAnimation.bind(a,{from:N.style,to:S,duration:b,easing:E}),b]);var A=dI(P,b,E),I=ua(ua(ua({},N.style),S),{},{transition:A});return[].concat(Py(x),[I,b,_]).filter(B8e)};return this.manager.start([l].concat(Py(s.reduce(p,[u,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=L8e());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var x=o?Ef({},o,l):l,v=dI(Object.keys(x),s,c);g.start([u,a,ua(ua({},x),{},{transition:v}),s,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=h9e(i,f9e),c=C.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!o||c===0||s<=0)return a;var d=function(p){var g=p.props,x=g.style,v=x===void 0?{}:x,y=g.className,b=C.cloneElement(p,ua(ua({},l),{},{style:ua(ua({},v),u),className:y}));return b};return c===1?d(C.Children.only(a)):F.createElement("div",null,C.Children.map(a,function(h){return d(h)}))}}]),n}(C.PureComponent);io.displayName="Animate";io.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};io.propTypes={from:fe.oneOfType([fe.object,fe.string]),to:fe.oneOfType([fe.object,fe.string]),attributeName:fe.string,duration:fe.number,begin:fe.number,easing:fe.oneOfType([fe.string,fe.func]),steps:fe.arrayOf(fe.shape({duration:fe.number.isRequired,style:fe.object.isRequired,easing:fe.oneOfType([fe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),fe.func]),properties:fe.arrayOf("string"),onAnimationEnd:fe.func})),children:fe.oneOfType([fe.node,fe.func]),isActive:fe.bool,canBegin:fe.bool,onAnimationEnd:fe.func,shouldReAnimate:fe.bool,onAnimationStart:fe.func,onAnimationReStart:fe.func};function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function eg(){return eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eg.apply(this,arguments)}function N9e(t,e){return I9e(t)||A9e(t,e)||P9e(t,e)||T9e()}function T9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P9e(t,e){if(t){if(typeof t=="string")return yI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yI(t,e)}}function yI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function A9e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function I9e(t){if(Array.isArray(t))return t}function vI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(n),!0).forEach(function(r){C9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C9e(t,e,n){return e=O9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O9e(t){var e=j9e(t,"string");return xp(e)=="symbol"?e:e+""}function j9e(t,e){if(xp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bI=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=a[h]>s?s:a[h];u="M".concat(e,",").concat(n+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(n)),u+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+o*d[1])),u+="L ".concat(e+r,",").concat(n+i-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),u+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-o*d[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var g=Math.min(s,a);u="M ".concat(e,",").concat(n+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r,",").concat(n+o*g,`
            L `).concat(e+r,",").concat(n+i-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e,",").concat(n+i-o*g," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},M9e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(a,a+o),u=Math.max(a,a+o),d=Math.min(s,s+l),h=Math.max(s,s+l);return r>=c&&r<=u&&i>=d&&i<=h}return!1},D9e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},r_=function(e){var n=xI(xI({},D9e),e),r=C.useRef(),i=C.useState(-1),a=N9e(i,2),s=a[0],o=a[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&o(E)}catch{}},[]);var l=n.x,c=n.y,u=n.width,d=n.height,h=n.radius,p=n.className,g=n.animationEasing,x=n.animationDuration,v=n.animationBegin,y=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var w=Et("recharts-rectangle",p);return b?F.createElement(io,{canBegin:s>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:x,animationEasing:g,isActive:b},function(E){var S=E.width,k=E.height,_=E.x,N=E.y;return F.createElement(io,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:x,isActive:y,easing:g},F.createElement("path",eg({},ht(n,!0),{className:w,d:bI(_,N,S,k,h),ref:r})))}):F.createElement("path",eg({},ht(n,!0),{className:w,d:bI(l,c,u,d,h)}))};function C8(){return C8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C8.apply(this,arguments)}var i_=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=Et("recharts-dot",a);return n===+n&&r===+r&&i===+i?C.createElement("circle",C8({},ht(e,!1),v1(e),{className:s,cx:n,cy:r,r:i})):null};function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}var R9e=["x","y","top","left","width","height","className"];function O8(){return O8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O8.apply(this,arguments)}function wI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $9e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wI(Object(n),!0).forEach(function(r){L9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L9e(t,e,n){return e=F9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F9e(t){var e=V9e(t,"string");return bp(e)=="symbol"?e:e+""}function V9e(t,e){if(bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function U9e(t,e){if(t==null)return{};var n=B9e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function B9e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var z9e=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},W9e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,c=l===void 0?0:l,u=e.width,d=u===void 0?0:u,h=e.height,p=h===void 0?0:h,g=e.className,x=U9e(e,R9e),v=$9e({x:r,y:a,top:o,left:c,width:d,height:p},x);return!Te(r)||!Te(a)||!Te(d)||!Te(p)||!Te(o)||!Te(c)?null:F.createElement("path",O8({},ht(v,!0),{className:Et("recharts-cross",g),d:z9e(r,a,d,p,o,c)}))},q9e=iV,H9e=q9e(Object.getPrototypeOf,Object),G9e=H9e,K9e=fo,Y9e=G9e,Q9e=ho,X9e="[object Object]",J9e=Function.prototype,Z9e=Object.prototype,qU=J9e.toString,exe=Z9e.hasOwnProperty,txe=qU.call(Object);function nxe(t){if(!Q9e(t)||K9e(t)!=X9e)return!1;var e=Y9e(t);if(e===null)return!0;var n=exe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&qU.call(n)==txe}var rxe=nxe;const ixe=Ut(rxe);var axe=fo,sxe=ho,oxe="[object Boolean]";function lxe(t){return t===!0||t===!1||sxe(t)&&axe(t)==oxe}var cxe=lxe;const uxe=Ut(cxe);function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}function tg(){return tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tg.apply(this,arguments)}function dxe(t,e){return mxe(t)||pxe(t,e)||hxe(t,e)||fxe()}function fxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hxe(t,e){if(t){if(typeof t=="string")return _I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _I(t,e)}}function _I(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function mxe(t){if(Array.isArray(t))return t}function SI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(n),!0).forEach(function(r){gxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gxe(t,e,n){return e=yxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yxe(t){var e=vxe(t,"string");return wp(e)=="symbol"?e:e+""}function vxe(t,e){if(wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EI=function(e,n,r,i,a){var s=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-s/2,",").concat(n+a),o+="L ".concat(e+r-s/2-i,",").concat(n+a),o+="L ".concat(e,",").concat(n," Z"),o},xxe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bxe=function(e){var n=kI(kI({},xxe),e),r=C.useRef(),i=C.useState(-1),a=dxe(i,2),s=a[0],o=a[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&o(w)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,d=n.lowerWidth,h=n.height,p=n.className,g=n.animationEasing,x=n.animationDuration,v=n.animationBegin,y=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||h!==+h||u===0&&d===0||h===0)return null;var b=Et("recharts-trapezoid",p);return y?F.createElement(io,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:h,x:l,y:c},duration:x,animationEasing:g,isActive:y},function(w){var E=w.upperWidth,S=w.lowerWidth,k=w.height,_=w.x,N=w.y;return F.createElement(io,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:x,easing:g},F.createElement("path",tg({},ht(n,!0),{className:b,d:EI(_,N,E,S,k),ref:r})))}):F.createElement("g",null,F.createElement("path",tg({},ht(n,!0),{className:b,d:EI(l,c,u,d,h)})))},wxe=["option","shapeType","propTransformer","activeClassName","isActive"];function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}function _xe(t,e){if(t==null)return{};var n=Sxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function NI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ng(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(n),!0).forEach(function(r){kxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kxe(t,e,n){return e=Exe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Exe(t){var e=Nxe(t,"string");return _p(e)=="symbol"?e:e+""}function Nxe(t,e){if(_p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Txe(t,e){return ng(ng({},e),t)}function Pxe(t,e){return t==="symbols"}function TI(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return F.createElement(r_,n);case"trapezoid":return F.createElement(bxe,n);case"sector":return F.createElement(MU,n);case"symbols":if(Pxe(e))return F.createElement(_w,n);break;default:return null}}function Axe(t){return C.isValidElement(t)?t.props:t}function Ixe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Txe:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=_xe(t,wxe),c;if(C.isValidElement(e))c=C.cloneElement(e,ng(ng({},l),Axe(e)));else if(ot(e))c=e(l);else if(ixe(e)&&!uxe(e)){var u=i(e,l);c=F.createElement(TI,{shapeType:n,elementProps:u})}else{var d=l;c=F.createElement(TI,{shapeType:n,elementProps:d})}return o?F.createElement(on,{className:s},c):c}function C5(t,e){return e!=null&&"trapezoids"in t.props}function O5(t,e){return e!=null&&"sectors"in t.props}function Sp(t,e){return e!=null&&"points"in t.props}function Cxe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function Oxe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function jxe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Mxe(t,e){var n;return C5(t,e)?n=Cxe:O5(t,e)?n=Oxe:Sp(t,e)&&(n=jxe),n}function Dxe(t,e){var n;return C5(t,e)?n="trapezoids":O5(t,e)?n="sectors":Sp(t,e)&&(n="points"),n}function Rxe(t,e){if(C5(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(O5(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Sp(t,e)?e.payload:{}}function $xe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Dxe(n,e),a=Rxe(n,e),s=r.filter(function(l,c){var u=sp(a,l),d=n.props[i].filter(function(g){var x=Mxe(n,e);return x(g,e)}),h=n.props[i].indexOf(d[d.length-1]),p=c===h;return u&&p}),o=r.indexOf(s[s.length-1]);return o}var Lxe=Math.ceil,Fxe=Math.max;function Vxe(t,e,n,r){for(var i=-1,a=Fxe(Lxe((e-t)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=t,t+=n;return s}var Uxe=Vxe,Bxe=SV,PI=1/0,zxe=17976931348623157e292;function Wxe(t){if(!t)return t===0?t:0;if(t=Bxe(t),t===PI||t===-PI){var e=t<0?-1:1;return e*zxe}return t===t?t:0}var HU=Wxe,qxe=Uxe,Hxe=b5,Ay=HU;function Gxe(t){return function(e,n,r){return r&&typeof r!="number"&&Hxe(e,n,r)&&(n=r=void 0),e=Ay(e),n===void 0?(n=e,e=0):n=Ay(n),r=r===void 0?e<n?1:-1:Ay(r),qxe(e,n,r,t)}}var Kxe=Gxe,Yxe=Kxe,Qxe=Yxe(),Xxe=Qxe;const rg=Ut(Xxe);function kp(t){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(t)}function AI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function II(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(n),!0).forEach(function(r){GU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GU(t,e,n){return e=Jxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jxe(t){var e=Zxe(t,"string");return kp(e)=="symbol"?e:e+""}function Zxe(t,e){if(kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ebe=["Webkit","Moz","O","ms"],tbe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=ebe.reduce(function(a,s){return II(II({},a),{},GU({},s+r,n))},{});return i[e]=n,i};function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function ig(){return ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ig.apply(this,arguments)}function CI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Iy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(n),!0).forEach(function(r){di(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YU(r.key),r)}}function rbe(t,e,n){return e&&OI(t.prototype,e),n&&OI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ibe(t,e,n){return e=ag(e),abe(t,KU()?Reflect.construct(e,n||[],ag(t).constructor):e.apply(t,n))}function abe(t,e){if(e&&(Fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sbe(t)}function sbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KU=function(){return!!t})()}function ag(t){return ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ag(t)}function obe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j8(t,e)}function j8(t,e){return j8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},j8(t,e)}function di(t,e,n){return e=YU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YU(t){var e=lbe(t,"string");return Fu(e)=="symbol"?e:e+""}function lbe(t,e){if(Fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cbe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=oh().domain(rg(0,l)).range([a,a+s-o]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},jI=function(e){return e.changedTouches&&!!e.changedTouches.length},Vu=function(t){function e(n){var r;return nbe(this,e),r=ibe(this,e,[n]),di(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),di(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),di(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),r.detachDragEndListener()}),di(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),di(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),di(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),di(r,"handleSlideDragStart",function(i){var a=jI(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return obe(e,t),rbe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,d=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(s,d),g=e.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=Ni(a[r],o,r);return ot(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,x=r.pageX-a;x>0?x=Math.min(x,c+u-d-o,c+u-d-s):x<0&&(x=Math.max(x,c-s,c-o));var v=this.getIndex({startX:s+x,endX:o+x});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:s+x,endX:o+x,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=jI(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[s],u=this.props,d=u.x,h=u.width,p=u.travellerWidth,g=u.onChange,x=u.gap,v=u.data,y={startX:this.state.startX,endX:this.state.endX},b=r.pageX-a;b>0?b=Math.min(b,d+h-p-c):b<0&&(b=Math.max(b,d-c)),y[s]=c+b;var w=this.getIndex(y),E=w.startIndex,S=w.endIndex,k=function(){var N=v.length-1;return s==="startX"&&(o>l?E%x===0:S%x===0)||o<l&&S===N||s==="endX"&&(o>l?S%x===0:E%x===0)||o>l&&S===N};this.setState(di(di({},s,c+b),"brushMoveStartX",r.pageX),function(){g&&k()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[i],d=o.indexOf(u);if(d!==-1){var h=d+r;if(!(h===-1||h>=o.length)){var p=o[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(di({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.fill,c=r.stroke;return F.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.data,c=r.children,u=r.padding,d=C.Children.only(c);return d?F.cloneElement(d,{x:i,y:a,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,x=l.startIndex,v=l.endIndex,y=Math.max(r,this.props.x),b=Iy(Iy({},ht(this.props,!1)),{},{x:y,y:c,width:u,height:d}),w=p||"Min value: ".concat((a=g[x])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=g[v])===null||s===void 0?void 0:s.name);return F.createElement(on,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),o.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(r,i)+c,d=Math.max(Math.abs(i-r)-c,0);return F.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:d,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,d=u.startX,h=u.endX,p=5,g={pointerEvents:"none",fill:c};return F.createElement(on,{className:"recharts-brush-texts"},F.createElement(j1,ig({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:s+o/2},g),this.getTextOfTick(i)),F.createElement(j1,ig({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:s+o/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,o=r.x,l=r.y,c=r.width,u=r.height,d=r.alwaysShowText,h=this.state,p=h.startX,g=h.endX,x=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!Te(o)||!Te(l)||!Te(c)||!Te(u)||c<=0||u<=0)return null;var w=Et("recharts-brush",a),E=F.Children.count(s)===1,S=tbe("userSelect","none");return F.createElement(on,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(x||v||y||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,o=r.height,l=r.stroke,c=Math.floor(a+o/2)-1;return F.createElement(F.Fragment,null,F.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),F.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),F.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return F.isValidElement(r)?a=F.cloneElement(r,i):ot(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,d=r.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return Iy({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},a&&a.length?cbe({data:a,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);r[l]>i?o=l:s=l}return i>=r[o]?o:s}}])}(C.PureComponent);di(Vu,"displayName","Brush");di(Vu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ube=Aw;function dbe(t,e){var n;return ube(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var fbe=dbe,hbe=QF,pbe=C0,mbe=fbe,gbe=oi,ybe=b5;function vbe(t,e,n){var r=gbe(t)?hbe:mbe;return n&&ybe(t,e,n)&&(e=void 0),r(t,pbe(e))}var xbe=vbe;const bbe=Ut(xbe);var ls=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},MI=vV;function wbe(t,e,n){e=="__proto__"&&MI?MI(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var _be=wbe,Sbe=_be,kbe=gV,Ebe=C0;function Nbe(t,e){var n={};return e=Ebe(e),kbe(t,function(r,i,a){Sbe(n,i,e(r,i,a))}),n}var Tbe=Nbe;const Pbe=Ut(Tbe);function Abe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Ibe=Abe,Cbe=Aw;function Obe(t,e){var n=!0;return Cbe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var jbe=Obe,Mbe=Ibe,Dbe=jbe,Rbe=C0,$be=oi,Lbe=b5;function Fbe(t,e,n){var r=$be(t)?Mbe:Dbe;return n&&Lbe(t,e,n)&&(e=void 0),r(t,Rbe(e))}var Vbe=Fbe;const QU=Ut(Vbe);var Ube=["x","y"];function Ep(t){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ep(t)}function M8(){return M8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M8.apply(this,arguments)}function DI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(n),!0).forEach(function(r){Bbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bbe(t,e,n){return e=zbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zbe(t){var e=Wbe(t,"string");return Ep(e)=="symbol"?e:e+""}function Wbe(t,e){if(Ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qbe(t,e){if(t==null)return{};var n=Hbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gbe(t,e){var n=t.x,r=t.y,i=qbe(t,Ube),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),u=parseInt(c,10),d="".concat(e.width||i.width),h=parseInt(d,10);return cf(cf(cf(cf(cf({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function RI(t){return F.createElement(Ixe,M8({shapeType:"rectangle",propTransformer:Gbe,activeClassName:"recharts-active-bar"},t))}var Kbe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=Te(r)||ace(r);return a?e(r,i):(a||Vl(),n)}},Ybe=["value","background"],XU;function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function Qbe(t,e){if(t==null)return{};var n=Xbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sg(){return sg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sg.apply(this,arguments)}function $I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$I(Object(n),!0).forEach(function(r){Wo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZU(r.key),r)}}function Zbe(t,e,n){return e&&LI(t.prototype,e),n&&LI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ewe(t,e,n){return e=og(e),twe(t,JU()?Reflect.construct(e,n||[],og(t).constructor):e.apply(t,n))}function twe(t,e){if(e&&(Uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nwe(t)}function nwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JU=function(){return!!t})()}function og(t){return og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},og(t)}function rwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D8(t,e)}function D8(t,e){return D8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D8(t,e)}function Wo(t,e,n){return e=ZU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZU(t){var e=iwe(t,"string");return Uu(e)=="symbol"?e:e+""}function iwe(t,e){if(Uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var m4=function(t){function e(){var n;Jbe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=ewe(this,e,[].concat(i)),Wo(n,"state",{isAnimationFinished:!1}),Wo(n,"id",c4("recharts-bar-")),Wo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Wo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return rwe(e,t),Zbe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,c=a.activeBar,u=ht(this.props,!1);return r&&r.map(function(d,h){var p=h===l,g=p?c:s,x=Cn(Cn(Cn({},u),d),{},{isActive:p,option:g,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return F.createElement(on,sg({className:"recharts-bar-rectangle"},x1(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),F.createElement(RI,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state.prevData;return F.createElement(io,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,x=a.map(function(v,y){var b=h&&h[y];if(b){var w=$i(b.x,v.x),E=$i(b.y,v.y),S=$i(b.width,v.width),k=$i(b.height,v.height);return Cn(Cn({},v),{},{x:w(g),y:E(g),width:S(g),height:k(g)})}if(s==="horizontal"){var _=$i(0,v.height),N=_(g);return Cn(Cn({},v),{},{y:v.y+v.height-N,height:N})}var P=$i(0,v.width),A=P(g);return Cn(Cn({},v),{},{width:A})});return F.createElement(on,null,r.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!sp(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=ht(this.props.background,!1);return a.map(function(c,u){c.value;var d=c.background,h=Qbe(c,Ybe);if(!d)return null;var p=Cn(Cn(Cn(Cn(Cn({},h),{},{fill:"#eee"},d),l),x1(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return F.createElement(RI,sg({key:"background-bar-".concat(u),option:r.props.background,isActive:u===o},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,d=Pa(u,I5);if(!d)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(v,y){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:Ni(v,y)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return F.createElement(on,g,d.map(function(x){return F.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,o=r.xAxis,l=r.yAxis,c=r.left,u=r.top,d=r.width,h=r.height,p=r.isAnimationActive,g=r.background,x=r.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,y=Et("recharts-bar",s),b=o&&o.allowDataOverflow,w=l&&l.allowDataOverflow,E=b||w,S=xt(x)?this.id:x;return F.createElement(on,{className:y},b||w?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(S)},F.createElement("rect",{x:b?c:c-d/2,y:w?u:u-h/2,width:b?d:d*2,height:w?h:h*2}))):null,F.createElement(on,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,S),(!p||v)&&l0.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(C.PureComponent);XU=m4;Wo(m4,"displayName","Bar");Wo(m4,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!_d.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Wo(m4,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,h=t.offset,p=Ive(r,n);if(!p)return null;var g=e.layout,x=n.type.defaultProps,v=x!==void 0?Cn(Cn({},x),n.props):n.props,y=v.dataKey,b=v.children,w=v.minPointSize,E=g==="horizontal"?s:a,S=c?E.scale.domain():null,k=Lve({numericAxis:E}),_=Pa(b,EV),N=d.map(function(P,A){var I,O,j,R,D,$;c?I=Cve(c[u+A],S):(I=Ni(P,y),Array.isArray(I)||(I=[k,I]));var U=Kbe(w,XU.defaultProps.minPointSize)(I[1],A);if(g==="horizontal"){var V,B=[s.scale(I[0]),s.scale(I[1])],q=B[0],K=B[1];O=VA({axis:a,ticks:o,bandSize:i,offset:p.offset,entry:P,index:A}),j=(V=K??q)!==null&&V!==void 0?V:void 0,R=p.size;var H=q-K;if(D=Number.isNaN(H)?0:H,$={x:O,y:s.y,width:R,height:s.height},Math.abs(U)>0&&Math.abs(D)<Math.abs(U)){var ne=xa(D||U)*(Math.abs(U)-Math.abs(D));j-=ne,D+=ne}}else{var he=[a.scale(I[0]),a.scale(I[1])],me=he[0],ee=he[1];if(O=me,j=VA({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:P,index:A}),R=ee-me,D=p.size,$={x:a.x,y:j,width:a.width,height:D},Math.abs(U)>0&&Math.abs(R)<Math.abs(U)){var xe=xa(R||U)*(Math.abs(U)-Math.abs(R));R+=xe}}return Cn(Cn(Cn({},P),{},{x:O,y:j,width:R,height:D,value:c?I:I[1],payload:P,background:$},_&&_[A]&&_[A].props),{},{tooltipPayload:[CU(n,P)],tooltipPosition:{x:O+R/2,y:j+D/2}})});return Cn({data:N,layout:g},h)});function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}function awe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eB(r.key),r)}}function swe(t,e,n){return e&&FI(t.prototype,e),n&&FI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function VI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VI(Object(n),!0).forEach(function(r){j5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j5(t,e,n){return e=eB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eB(t){var e=owe(t,"string");return Np(e)=="symbol"?e:e+""}function owe(t,e){if(Np(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lwe=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.layout,c=e.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},h=!!hi(c,m4);return u.reduce(function(p,g){var x=n[g],v=x.orientation,y=x.domain,b=x.padding,w=b===void 0?{}:b,E=x.mirror,S=x.reversed,k="".concat(v).concat(E?"Mirror":""),_,N,P,A,I;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var O=y[1]-y[0],j=1/0,R=x.categoricalDomain.sort(lce);if(R.forEach(function(he,me){me>0&&(j=Math.min((he||0)-(R[me-1]||0),j))}),Number.isFinite(j)){var D=j/O,$=x.layout==="vertical"?r.height:r.width;if(x.padding==="gap"&&(_=D*$/2),x.padding==="no-gap"){var U=Ll(e.barCategoryGap,D*$),V=D*$/2;_=V-U-(V-U)/$*U}}}i==="xAxis"?N=[r.left+(w.left||0)+(_||0),r.left+r.width-(w.right||0)-(_||0)]:i==="yAxis"?N=l==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(_||0),r.top+r.height-(w.bottom||0)-(_||0)]:N=x.range,S&&(N=[N[1],N[0]]);var B=Pve(x,a,h),q=B.scale,K=B.realScaleType;q.domain(y).range(N),Ave(q);var H=$ve(q,pa(pa({},x),{},{realScaleType:K}));i==="xAxis"?(I=v==="top"&&!E||v==="bottom"&&E,P=r.left,A=d[k]-I*x.height):i==="yAxis"&&(I=v==="left"&&!E||v==="right"&&E,P=d[k]-I*x.width,A=r.top);var ne=pa(pa(pa({},x),H),{},{realScaleType:K,x:P,y:A,scale:q,width:i==="xAxis"?r.width:x.width,height:i==="yAxis"?r.height:x.height});return ne.bandSize=G1(ne,H),!x.hide&&i==="xAxis"?d[k]+=(I?-1:1)*ne.height:x.hide||(d[k]+=(I?-1:1)*ne.width),pa(pa({},p),{},j5({},g,ne))},{})},tB=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},cwe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return tB({x:n,y:r},{x:i,y:a})},nB=function(){function t(e){awe(this,t),this.scale=e}return swe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();j5(nB,"EPS",1e-4);var a_=function(e){var n=Object.keys(e).reduce(function(r,i){return pa(pa({},r),{},j5({},i,nB.create(e[i])))},{});return pa(pa({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return Pbe(i,function(l,c){return n[c].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return QU(i,function(a,s){return n[s].isInRange(a)})}})};function uwe(t){return(t%180+180)%180}var dwe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=uwe(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},fwe=C0,hwe=u4,pwe=v5;function mwe(t){return function(e,n,r){var i=Object(e);if(!hwe(e)){var a=fwe(n);e=pwe(e),n=function(o){return a(i[o],o,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:void 0}}var gwe=mwe,ywe=HU;function vwe(t){var e=ywe(t),n=e%1;return e===e?n?e-n:e:0}var xwe=vwe,bwe=uV,wwe=C0,_we=xwe,Swe=Math.max;function kwe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:_we(n);return i<0&&(i=Swe(r+i,0)),bwe(t,wwe(e),i)}var Ewe=kwe,Nwe=gwe,Twe=Ewe,Pwe=Nwe(Twe),Awe=Pwe;const Iwe=Ut(Awe);var Cwe=dle(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),s_=C.createContext(void 0),o_=C.createContext(void 0),rB=C.createContext(void 0),iB=C.createContext({}),aB=C.createContext(void 0),sB=C.createContext(0),oB=C.createContext(0),UI=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,o=e.children,l=e.width,c=e.height,u=Cwe(a);return F.createElement(s_.Provider,{value:r},F.createElement(o_.Provider,{value:i},F.createElement(iB.Provider,{value:a},F.createElement(rB.Provider,{value:u},F.createElement(aB.Provider,{value:s},F.createElement(sB.Provider,{value:c},F.createElement(oB.Provider,{value:l},o)))))))},Owe=function(){return C.useContext(aB)},lB=function(e){var n=C.useContext(s_);n==null&&Vl();var r=n[e];return r==null&&Vl(),r},jwe=function(){var e=C.useContext(s_);return Do(e)},Mwe=function(){var e=C.useContext(o_),n=Iwe(e,function(r){return QU(r.domain,Number.isFinite)});return n||Do(e)},cB=function(e){var n=C.useContext(o_);n==null&&Vl();var r=n[e];return r==null&&Vl(),r},Dwe=function(){var e=C.useContext(rB);return e},Rwe=function(){return C.useContext(iB)},l_=function(){return C.useContext(oB)},c_=function(){return C.useContext(sB)};function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}function $we(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dB(r.key),r)}}function Fwe(t,e,n){return e&&Lwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vwe(t,e,n){return e=lg(e),Uwe(t,uB()?Reflect.construct(e,n||[],lg(t).constructor):e.apply(t,n))}function Uwe(t,e){if(e&&(Bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bwe(t)}function Bwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uB=function(){return!!t})()}function lg(t){return lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lg(t)}function zwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R8(t,e)}function R8(t,e){return R8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R8(t,e)}function BI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(n),!0).forEach(function(r){u_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u_(t,e,n){return e=dB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dB(t){var e=Wwe(t,"string");return Bu(e)=="symbol"?e:e+""}function Wwe(t,e){if(Bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function qwe(t,e){return Ywe(t)||Kwe(t,e)||Gwe(t,e)||Hwe()}function Hwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gwe(t,e){if(t){if(typeof t=="string")return WI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WI(t,e)}}function WI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Ywe(t){if(Array.isArray(t))return t}function $8(){return $8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$8.apply(this,arguments)}var Qwe=function(e,n){var r;return F.isValidElement(e)?r=F.cloneElement(e,n):ot(e)?r=e(n):r=F.createElement("line",$8({},n,{className:"recharts-reference-line-line"})),r},Xwe=function(e,n,r,i,a,s,o,l,c){var u=a.x,d=a.y,h=a.width,p=a.height;if(r){var g=c.y,x=e.y.apply(g,{position:s});if(ls(c,"discard")&&!e.y.isInRange(x))return null;var v=[{x:u+h,y:x},{x:u,y:x}];return l==="left"?v.reverse():v}if(n){var y=c.x,b=e.x.apply(y,{position:s});if(ls(c,"discard")&&!e.x.isInRange(b))return null;var w=[{x:b,y:d+p},{x:b,y:d}];return o==="top"?w.reverse():w}if(i){var E=c.segment,S=E.map(function(k){return e.apply(k,{position:s})});return ls(c,"discard")&&bbe(S,function(k){return!e.isInRange(k)})?null:S}return null};function Jwe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,c=Owe(),u=lB(i),d=cB(a),h=Dwe();if(!c||!h)return null;qs(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=a_({x:u.scale,y:d.scale}),g=Bn(e),x=Bn(n),v=r&&r.length===2,y=Xwe(p,g,x,v,h,t.position,u.orientation,d.orientation,t);if(!y)return null;var b=qwe(y,2),w=b[0],E=w.x,S=w.y,k=b[1],_=k.x,N=k.y,P=ls(t,"hidden")?"url(#".concat(c,")"):void 0,A=zI(zI({clipPath:P},ht(t,!0)),{},{x1:E,y1:S,x2:_,y2:N});return F.createElement(on,{className:Et("recharts-reference-line",o)},Qwe(s,A),br.renderCallByParent(t,cwe({x1:E,y1:S,x2:_,y2:N})))}var d_=function(t){function e(){return $we(this,e),Vwe(this,e,arguments)}return zwe(e,t),Fwe(e,[{key:"render",value:function(){return F.createElement(Jwe,this.props)}}])}(F.Component);u_(d_,"displayName","ReferenceLine");u_(d_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function L8(){return L8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L8.apply(this,arguments)}function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}function qI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(n),!0).forEach(function(r){M5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hB(r.key),r)}}function t_e(t,e,n){return e&&e_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function n_e(t,e,n){return e=cg(e),r_e(t,fB()?Reflect.construct(e,n||[],cg(t).constructor):e.apply(t,n))}function r_e(t,e){if(e&&(zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i_e(t)}function i_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fB=function(){return!!t})()}function cg(t){return cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cg(t)}function a_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F8(t,e)}function F8(t,e){return F8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},F8(t,e)}function M5(t,e,n){return e=hB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hB(t){var e=s_e(t,"string");return zu(e)=="symbol"?e:e+""}function s_e(t,e){if(zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var o_e=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=a_({x:i.scale,y:a.scale}),o=s.apply({x:n,y:r},{bandAware:!0});return ls(e,"discard")&&!s.isInRange(o)?null:o},D5=function(t){function e(){return Zwe(this,e),n_e(this,e,arguments)}return a_e(e,t),t_e(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,o=r.alwaysShow,l=r.clipPathId,c=Bn(i),u=Bn(a);if(qs(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=o_e(this.props);if(!d)return null;var h=d.x,p=d.y,g=this.props,x=g.shape,v=g.className,y=ls(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=HI(HI({clipPath:y},ht(this.props,!0)),{},{cx:h,cy:p});return F.createElement(on,{className:Et("recharts-reference-dot",v)},e.renderDot(x,b),br.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(F.Component);M5(D5,"displayName","ReferenceDot");M5(D5,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});M5(D5,"renderDot",function(t,e){var n;return F.isValidElement(t)?n=F.cloneElement(t,e):ot(t)?n=t(e):n=F.createElement(i_,L8({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function V8(){return V8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V8.apply(this,arguments)}function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){R5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mB(r.key),r)}}function u_e(t,e,n){return e&&c_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function d_e(t,e,n){return e=ug(e),f_e(t,pB()?Reflect.construct(e,n||[],ug(t).constructor):e.apply(t,n))}function f_e(t,e){if(e&&(Wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h_e(t)}function h_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pB=function(){return!!t})()}function ug(t){return ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ug(t)}function p_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U8(t,e)}function U8(t,e){return U8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},U8(t,e)}function R5(t,e,n){return e=mB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mB(t){var e=m_e(t,"string");return Wu(e)=="symbol"?e:e+""}function m_e(t,e){if(Wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var g_e=function(e,n,r,i,a){var s=a.x1,o=a.x2,l=a.y1,c=a.y2,u=a.xAxis,d=a.yAxis;if(!u||!d)return null;var h=a_({x:u.scale,y:d.scale}),p={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return ls(a,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:tB(p,g)},$5=function(t){function e(){return l_e(this,e),d_e(this,e,arguments)}return p_e(e,t),u_e(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;qs(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Bn(i),h=Bn(a),p=Bn(s),g=Bn(o),x=this.props.shape;if(!d&&!h&&!p&&!g&&!x)return null;var v=g_e(d,h,p,g,this.props);if(!v&&!x)return null;var y=ls(this.props,"hidden")?"url(#".concat(u,")"):void 0;return F.createElement(on,{className:Et("recharts-reference-area",l)},e.renderRect(x,KI(KI({clipPath:y},ht(this.props,!0)),v)),br.renderCallByParent(this.props,v))}}])}(F.Component);R5($5,"displayName","ReferenceArea");R5($5,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});R5($5,"renderRect",function(t,e){var n;return F.isValidElement(t)?n=F.cloneElement(t,e):ot(t)?n=t(e):n=F.createElement(r_,V8({},e,{className:"recharts-reference-area-rect"})),n});function gB(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function y_e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return dwe(r,n)}function v_e(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function dg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function x_e(t,e){return gB(t,e+1)}function b_e(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,o=e.end,l=0,c=1,u=s,d=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:gB(r,c)};var x=l,v,y=function(){return v===void 0&&(v=n(g,x)),v},b=g.coordinate,w=l===0||dg(t,b,y,u,o);w||(l=0,u=s,c+=1),w&&(u=b+t*(y()/2+i),l+=c)},h;c<=a.length;)if(h=d(),h)return h.v;return[]}function Tp(t){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(t)}function YI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YI(Object(n),!0).forEach(function(r){w_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w_e(t,e,n){return e=__e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function __e(t){var e=S_e(t,"string");return Tp(e)=="symbol"?e:e+""}function S_e(t,e){if(Tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k_e(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,o=e.start,l=e.end,c=function(h){var p=a[h],g,x=function(){return g===void 0&&(g=n(p,h)),g};if(h===s-1){var v=t*(p.coordinate+t*x()/2-l);a[h]=p=mr(mr({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else a[h]=p=mr(mr({},p),{},{tickCoord:p.coordinate});var y=dg(t,p.tickCoord,x,o,l);y&&(l=p.tickCoord-t*(x()/2+i),a[h]=mr(mr({},p),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}function E_e(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,l=e.start,c=e.end;if(a){var u=r[o-1],d=n(u,o-1),h=t*(u.coordinate+t*d/2-c);s[o-1]=u=mr(mr({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var p=dg(t,u.tickCoord,function(){return d},l,c);p&&(c=u.tickCoord-t*(d/2+i),s[o-1]=mr(mr({},u),{},{isShow:!0}))}for(var g=a?o-1:o,x=function(b){var w=s[b],E,S=function(){return E===void 0&&(E=n(w,b)),E};if(b===0){var k=t*(w.coordinate-t*S()/2-l);s[b]=w=mr(mr({},w),{},{tickCoord:k<0?w.coordinate-k*t:w.coordinate})}else s[b]=w=mr(mr({},w),{},{tickCoord:w.coordinate});var _=dg(t,w.tickCoord,S,l,c);_&&(l=w.tickCoord+t*(S()/2+i),s[b]=mr(mr({},w),{},{isShow:!0}))},v=0;v<g;v++)x(v);return s}function f_(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(Te(l)||_d.isSsr)return x_e(i,typeof l=="number"&&Te(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",g=u&&p==="width"?sh(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=function(w,E){var S=ot(c)?c(w.value,E):w.value;return p==="width"?y_e(sh(S,{fontSize:e,letterSpacing:n}),g,d):sh(S,{fontSize:e,letterSpacing:n})[p]},v=i.length>=2?xa(i[1].coordinate-i[0].coordinate):1,y=v_e(a,v,p);return l==="equidistantPreserveStart"?b_e(v,y,x,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=E_e(v,y,x,i,s,l==="preserveStartEnd"):h=k_e(v,y,x,i,s),h.filter(function(b){return b.isShow}))}var N_e=["viewBox"],T_e=["viewBox"],P_e=["ticks"];function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(t)}function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qc.apply(this,arguments)}function QI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(n),!0).forEach(function(r){h_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cy(t,e){if(t==null)return{};var n=A_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function A_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function I_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vB(r.key),r)}}function C_e(t,e,n){return e&&XI(t.prototype,e),n&&XI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function O_e(t,e,n){return e=fg(e),j_e(t,yB()?Reflect.construct(e,n||[],fg(t).constructor):e.apply(t,n))}function j_e(t,e){if(e&&(qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M_e(t)}function M_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yB=function(){return!!t})()}function fg(t){return fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fg(t)}function D_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B8(t,e)}function B8(t,e){return B8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B8(t,e)}function h_(t,e,n){return e=vB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vB(t){var e=R_e(t,"string");return qu(e)=="symbol"?e:e+""}function R_e(t,e){if(qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nd=function(t){function e(n){var r;return I_e(this,e),r=O_e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return D_e(e,t),C_e(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=Cy(r,N_e),o=this.props,l=o.viewBox,c=Cy(o,T_e);return!cu(a,l)||!cu(s,c)||!cu(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,c=i.orientation,u=i.tickSize,d=i.mirror,h=i.tickMargin,p,g,x,v,y,b,w=d?-1:1,E=r.tickSize||u,S=Te(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=g=r.coordinate,v=s+ +!d*l,x=v-w*E,b=x-w*h,y=S;break;case"left":x=v=r.coordinate,g=a+ +!d*o,p=g-w*E,y=p-w*h,b=S;break;case"right":x=v=r.coordinate,g=a+ +d*o,p=g+w*E,y=p+w*h,b=S;break;default:p=g=r.coordinate,v=s+ +d*l,x=v+w*E,b=x+w*h,y=S;break}return{line:{x1:p,y1:x,x2:g,y2:v},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,d=Ln(Ln(Ln({},ht(this.props,!1)),ht(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=Ln(Ln({},d),{},{x1:i,y1:a+h*o,x2:i+s,y2:a+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=Ln(Ln({},d),{},{x1:i+p*s,y1:a,x2:i+p*s,y2:a+o})}return F.createElement("line",qc({},d,{className:Et("recharts-cartesian-axis-line",Xi(u,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,d=o.tickFormatter,h=o.unit,p=f_(Ln(Ln({},this.props),{},{ticks:r}),i,a),g=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),v=ht(this.props,!1),y=ht(u,!1),b=Ln(Ln({},v),{},{fill:"none"},ht(l,!1)),w=p.map(function(E,S){var k=s.getTickLineCoord(E),_=k.line,N=k.tick,P=Ln(Ln(Ln(Ln({textAnchor:g,verticalAnchor:x},v),{},{stroke:"none",fill:c},y),N),{},{index:S,payload:E,visibleTicksCount:p.length,tickFormatter:d});return F.createElement(on,qc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},x1(s.props,E,S)),l&&F.createElement("line",qc({},b,_,{className:Et("recharts-cartesian-axis-tick-line",Xi(l,"className"))})),u&&e.renderTickItem(u,P,"".concat(ot(d)?d(E.value,S):E.value).concat(h||"")))});return F.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var d=this.props,h=d.ticks,p=Cy(d,P_e),g=h;return ot(l)&&(g=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!g||!g.length?null:F.createElement(on,{className:Et("recharts-cartesian-axis",c),ref:function(v){r.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),br.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,o=Et(i.className,"recharts-cartesian-axis-tick-value");return F.isValidElement(r)?s=F.cloneElement(r,Ln(Ln({},i),{},{className:o})):ot(r)?s=r(Ln(Ln({},i),{},{className:o})):s=F.createElement(j1,qc({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(C.Component);h_(Nd,"displayName","CartesianAxis");h_(Nd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var $_e=["x1","y1","x2","y2","key"],L_e=["offset"];function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(r){F_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F_e(t,e,n){return e=V_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V_e(t){var e=U_e(t,"string");return Ul(e)=="symbol"?e:e+""}function U_e(t,e){if(Ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cl(){return cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cl.apply(this,arguments)}function ZI(t,e){if(t==null)return{};var n=B_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function B_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var z_e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return F.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function xB(t,e){var n;if(F.isValidElement(t))n=F.cloneElement(t,e);else if(ot(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=ZI(e,$_e),c=ht(l,!1);c.offset;var u=ZI(c,L_e);n=F.createElement("line",cl({},u,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function W_e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=wr(wr({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return xB(i,c)});return F.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function q_e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=wr(wr({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return xB(i,c)});return F.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function H_e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var g=!u[p+1],x=g?i+s-h:u[p+1]-h;if(x<=0)return null;var v=p%e.length;return F.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:x,width:a,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function G_e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var g=!u[p+1],x=g?a+o-h:u[p+1]-h;if(x<=0)return null;var v=p%r.length;return F.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:x,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var K_e=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return AU(f_(wr(wr(wr({},Nd.defaultProps),r),{},{ticks:Rs(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},Y_e=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return AU(f_(wr(wr(wr({},Nd.defaultProps),r),{},{ticks:Rs(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},wc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function bB(t){var e,n,r,i,a,s,o=l_(),l=c_(),c=Rwe(),u=wr(wr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:wc.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:wc.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:wc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:wc.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:wc.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:wc.verticalFill,x:Te(t.x)?t.x:c.left,y:Te(t.y)?t.y:c.top,width:Te(t.width)?t.width:c.width,height:Te(t.height)?t.height:c.height}),d=u.x,h=u.y,p=u.width,g=u.height,x=u.syncWithTicks,v=u.horizontalValues,y=u.verticalValues,b=jwe(),w=Mwe();if(!Te(p)||p<=0||!Te(g)||g<=0||!Te(d)||d!==+d||!Te(h)||h!==+h)return null;var E=u.verticalCoordinatesGenerator||K_e,S=u.horizontalCoordinatesGenerator||Y_e,k=u.horizontalPoints,_=u.verticalPoints;if((!k||!k.length)&&ot(S)){var N=v&&v.length,P=S({yAxis:w?wr(wr({},w),{},{ticks:N?v:w.ticks}):void 0,width:o,height:l,offset:c},N?!0:x);qs(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ul(P),"]")),Array.isArray(P)&&(k=P)}if((!_||!_.length)&&ot(E)){var A=y&&y.length,I=E({xAxis:b?wr(wr({},b),{},{ticks:A?y:b.ticks}):void 0,width:o,height:l,offset:c},A?!0:x);qs(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ul(I),"]")),Array.isArray(I)&&(_=I)}return F.createElement("g",{className:"recharts-cartesian-grid"},F.createElement(z_e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),F.createElement(W_e,cl({},u,{offset:c,horizontalPoints:k,xAxis:b,yAxis:w})),F.createElement(q_e,cl({},u,{offset:c,verticalPoints:_,xAxis:b,yAxis:w})),F.createElement(H_e,cl({},u,{horizontalPoints:k})),F.createElement(G_e,cl({},u,{verticalPoints:_})))}bB.displayName="CartesianGrid";var Q_e=["layout","type","stroke","connectNulls","isRange","ref"],X_e=["key"],wB;function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function _B(t,e){if(t==null)return{};var n=J_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function J_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ul(){return ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ul.apply(this,arguments)}function eC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function So(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eC(Object(n),!0).forEach(function(r){Xa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kB(r.key),r)}}function eSe(t,e,n){return e&&tC(t.prototype,e),n&&tC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tSe(t,e,n){return e=hg(e),nSe(t,SB()?Reflect.construct(e,n||[],hg(t).constructor):e.apply(t,n))}function nSe(t,e){if(e&&(Hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rSe(t)}function rSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SB=function(){return!!t})()}function hg(t){return hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hg(t)}function iSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z8(t,e)}function z8(t,e){return z8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z8(t,e)}function Xa(t,e,n){return e=kB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kB(t){var e=aSe(t,"string");return Hu(e)=="symbol"?e:e+""}function aSe(t,e){if(Hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var D0=function(t){function e(){var n;Z_e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=tSe(this,e,[].concat(i)),Xa(n,"state",{isAnimationFinished:!0}),Xa(n,"id",c4("recharts-area-")),Xa(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ot(s)&&s()}),Xa(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ot(s)&&s()}),n}return iSe(e,t),eSe(e,[{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=ht(this.props,!1),p=ht(c,!0),g=u.map(function(v,y){var b=So(So(So({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:v.x,cy:v.y,dataKey:d,value:v.value,payload:v.payload,points:u});return e.renderDotItem(c,b)}),x={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return F.createElement(on,ul({className:"recharts-area-dots"},x),g)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].x,c=s[s.length-1].x,u=r*Math.abs(l-c),d=zo(s.map(function(h){return h.y||0}));return Te(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(zo(a.map(function(h){return h.y||0})),d)),Te(d)?F.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(d+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].y,c=s[s.length-1].y,u=r*Math.abs(l-c),d=zo(s.map(function(h){return h.x||0}));return Te(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(zo(a.map(function(h){return h.x||0})),d)),Te(d)?F.createElement("rect",{x:0,y:l<c?l:l-u,width:d+(o?parseInt("".concat(o),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,s){var o=this.props,l=o.layout,c=o.type,u=o.stroke,d=o.connectNulls,h=o.isRange;o.ref;var p=_B(o,Q_e);return F.createElement(on,{clipPath:a?"url(#clipPath-".concat(s,")"):null},F.createElement(ch,ul({},ht(p,!0),{points:r,connectNulls:d,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&F.createElement(ch,ul({},ht(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:r})),u!=="none"&&h&&F.createElement(ch,ul({},ht(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,h=s.animationEasing,p=s.animationId,g=this.state,x=g.prevPoints,v=g.prevBaseLine;return F.createElement(io,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var b=y.t;if(x){var w=x.length/o.length,E=o.map(function(N,P){var A=Math.floor(P*w);if(x[A]){var I=x[A],O=$i(I.x,N.x),j=$i(I.y,N.y);return So(So({},N),{},{x:O(b),y:j(b)})}return N}),S;if(Te(l)&&typeof l=="number"){var k=$i(v,l);S=k(b)}else if(xt(l)||vd(l)){var _=$i(v,0);S=_(b)}else S=l.map(function(N,P){var A=Math.floor(P*w);if(v[A]){var I=v[A],O=$i(I.x,N.x),j=$i(I.y,N.y);return So(So({},N),{},{x:O(b),y:j(b)})}return N});return a.renderAreaStatically(E,S,r,i)}return F.createElement(on,null,F.createElement("defs",null,F.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(b))),F.createElement(on,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(o,l,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,s=a.points,o=a.baseLine,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.prevBaseLine,h=c.totalLength;return l&&s&&s.length&&(!u&&h>0||!sp(u,s)||!sp(d,o))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.top,u=i.left,d=i.xAxis,h=i.yAxis,p=i.width,g=i.height,x=i.isAnimationActive,v=i.id;if(a||!o||!o.length)return null;var y=this.state.isAnimationFinished,b=o.length===1,w=Et("recharts-area",l),E=d&&d.allowDataOverflow,S=h&&h.allowDataOverflow,k=E||S,_=xt(v)?this.id:v,N=(r=ht(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=N.r,A=P===void 0?3:P,I=N.strokeWidth,O=I===void 0?2:I,j=yce(s)?s:{},R=j.clipDot,D=R===void 0?!0:R,$=A*2+O;return F.createElement(on,{className:w},E||S?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(_)},F.createElement("rect",{x:E?u:u-p/2,y:S?c:c-g/2,width:E?p:p*2,height:S?g:g*2})),!D&&F.createElement("clipPath",{id:"clipPath-dots-".concat(_)},F.createElement("rect",{x:u-$/2,y:c-$/2,width:p+$,height:g+$}))):null,b?null:this.renderArea(k,_),(s||b)&&this.renderDots(k,D,_),(!x||y)&&l0.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(C.PureComponent);wB=D0;Xa(D0,"displayName","Area");Xa(D0,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!_d.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Xa(D0,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,s=e.props.baseValue,o=s??a;if(Te(o)&&typeof o=="number")return o;var l=i==="horizontal"?r:n,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return o==="dataMin"?d:o==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]});Xa(D0,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,o=t.bandSize,l=t.dataKey,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,h=t.offset,p=e.layout,g=c&&c.length,x=wB.getBaseValue(e,n,r,i),v=p==="horizontal",y=!1,b=d.map(function(E,S){var k;g?k=c[u+S]:(k=Ni(E,l),Array.isArray(k)?y=!0:k=[x,k]);var _=k[1]==null||g&&Ni(E,l)==null;return v?{x:FA({axis:r,ticks:a,bandSize:o,entry:E,index:S}),y:_?null:i.scale(k[1]),value:k,payload:E}:{x:_?null:r.scale(k[1]),y:FA({axis:i,ticks:s,bandSize:o,entry:E,index:S}),value:k,payload:E}}),w;return g||y?w=b.map(function(E){var S=Array.isArray(E.value)?E.value[0]:null;return v?{x:E.x,y:S!=null&&E.y!=null?i.scale(S):null}:{x:S!=null?r.scale(S):null,y:E.y}}):w=v?i.scale(x):r.scale(x),So({points:b,baseLine:w,layout:p,isRange:y},h)});Xa(D0,"renderDotItem",function(t,e){var n;if(F.isValidElement(t))n=F.cloneElement(t,e);else if(ot(t))n=t(e);else{var r=Et("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=_B(e,X_e);n=F.createElement(i_,ul({},a,{key:i,className:r}))}return n});function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}function sSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TB(r.key),r)}}function lSe(t,e,n){return e&&oSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cSe(t,e,n){return e=pg(e),uSe(t,EB()?Reflect.construct(e,n||[],pg(t).constructor):e.apply(t,n))}function uSe(t,e){if(e&&(Gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dSe(t)}function dSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EB=function(){return!!t})()}function pg(t){return pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pg(t)}function fSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W8(t,e)}function W8(t,e){return W8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},W8(t,e)}function NB(t,e,n){return e=TB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TB(t){var e=hSe(t,"string");return Gu(e)=="symbol"?e:e+""}function hSe(t,e){if(Gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function q8(){return q8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q8.apply(this,arguments)}function pSe(t){var e=t.xAxisId,n=l_(),r=c_(),i=lB(e);return i==null?null:C.createElement(Nd,q8({},i,{className:Et("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Rs(s,!0)}}))}var L5=function(t){function e(){return sSe(this,e),cSe(this,e,arguments)}return fSe(e,t),lSe(e,[{key:"render",value:function(){return C.createElement(pSe,this.props)}}])}(C.Component);NB(L5,"displayName","XAxis");NB(L5,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ku(t){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}function mSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IB(r.key),r)}}function ySe(t,e,n){return e&&gSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vSe(t,e,n){return e=mg(e),xSe(t,PB()?Reflect.construct(e,n||[],mg(t).constructor):e.apply(t,n))}function xSe(t,e){if(e&&(Ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bSe(t)}function bSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PB=function(){return!!t})()}function mg(t){return mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mg(t)}function wSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H8(t,e)}function H8(t,e){return H8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},H8(t,e)}function AB(t,e,n){return e=IB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IB(t){var e=_Se(t,"string");return Ku(e)=="symbol"?e:e+""}function _Se(t,e){if(Ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function G8(){return G8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G8.apply(this,arguments)}var SSe=function(e){var n=e.yAxisId,r=l_(),i=c_(),a=cB(n);return a==null?null:C.createElement(Nd,G8({},a,{className:Et("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return Rs(o,!0)}}))},F5=function(t){function e(){return mSe(this,e),vSe(this,e,arguments)}return wSe(e,t),ySe(e,[{key:"render",value:function(){return C.createElement(SSe,this.props)}}])}(C.Component);AB(F5,"displayName","YAxis");AB(F5,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function nC(t){return TSe(t)||NSe(t)||ESe(t)||kSe()}function kSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ESe(t,e){if(t){if(typeof t=="string")return K8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K8(t,e)}}function NSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TSe(t){if(Array.isArray(t))return K8(t)}function K8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Y8=function(e,n,r,i,a){var s=Pa(e,d_),o=Pa(e,D5),l=[].concat(nC(s),nC(o)),c=Pa(e,$5),u="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(x,v){if(v.props[u]===r&&ls(v.props,"extendDomain")&&Te(v.props[d])){var y=v.props[d];return[Math.min(x[0],y),Math.max(x[1],y)]}return x},h)),c.length){var p="".concat(d,"1"),g="".concat(d,"2");h=c.reduce(function(x,v){if(v.props[u]===r&&ls(v.props,"extendDomain")&&Te(v.props[p])&&Te(v.props[g])){var y=v.props[p],b=v.props[g];return[Math.min(x[0],y,b),Math.max(x[1],y,b)]}return x},h)}return a&&a.length&&(h=a.reduce(function(x,v){return Te(v)?[Math.min(x[0],v),Math.max(x[1],v)]:x},h)),h},CB={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,d||l,h),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,g=new Array(p);h<p;h++)g[h]=d[h].fn;return g},o.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,u,d,h,p,g){var x=n?n+c:c;if(!this._events[x])return!1;var v=this._events[x],y=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,h),!0;case 5:return v.fn.call(v.context,u,d,h,p),!0;case 6:return v.fn.call(v.context,u,d,h,p,g),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var E=v.length,S;for(w=0;w<E;w++)switch(v[w].once&&this.removeListener(c,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,u);break;case 3:v[w].fn.call(v[w].context,u,d);break;case 4:v[w].fn.call(v[w].context,u,d,h);break;default:if(!b)for(S=1,b=new Array(y-1);S<y;S++)b[S-1]=arguments[S];v[w].fn.apply(v[w].context,b)}}return!0},o.prototype.on=function(c,u,d){return a(this,c,u,d,!1)},o.prototype.once=function(c,u,d){return a(this,c,u,d,!0)},o.prototype.removeListener=function(c,u,d,h){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!h||g.once)&&(!d||g.context===d)&&s(this,p);else{for(var x=0,v=[],y=g.length;x<y;x++)(g[x].fn!==u||h&&!g[x].once||d&&g[x].context!==d)&&v.push(g[x]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(CB);var PSe=CB.exports;const ASe=Ut(PSe);var Oy=new ASe,jy="recharts.syncMouseEvents";function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function ISe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OB(r.key),r)}}function OSe(t,e,n){return e&&CSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function My(t,e,n){return e=OB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OB(t){var e=jSe(t,"string");return Pp(e)=="symbol"?e:e+""}function jSe(t,e){if(Pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var MSe=function(){function t(){ISe(this,t),My(this,"activeIndex",0),My(this,"coordinateList",[]),My(this,"layout","horizontal")}return OSe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,o=s===void 0?null:s,l=n.layout,c=l===void 0?null:l,u=n.offset,d=u===void 0?null:u,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=a+l+c,h=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function DSe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Te(r)&&Te(i))return!0}return!1}function RSe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function jB(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=or(e,n,r,i),o=or(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function $Se(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,d=e.angle,h=or(o,l,c,d),p=or(o,l,u,d);r=h.x,i=h.y,a=p.x,s=p.y}else return jB(e);return[{x:r,y:i},{x:a,y:s}]}function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function rC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _m(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rC(Object(n),!0).forEach(function(r){LSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LSe(t,e,n){return e=FSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FSe(t){var e=VSe(t,"string");return Ap(e)=="symbol"?e:e+""}function VSe(t,e){if(Ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function USe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var g,x=ch;if(h==="ScatterChart")g=s,x=W9e;else if(h==="BarChart")g=RSe(d,s,l,u),x=r_;else if(d==="radial"){var v=jB(s),y=v.cx,b=v.cy,w=v.radius,E=v.startAngle,S=v.endAngle;g={cx:y,cy:b,startAngle:E,endAngle:S,innerRadius:w,outerRadius:w},x=MU}else g={points:$Se(d,s,l)},x=ch;var k=_m(_m(_m(_m({stroke:"#ccc",pointerEvents:"none"},l),g),ht(p,!1)),{},{payload:o,payloadIndex:c,className:Et("recharts-tooltip-cursor",p.className)});return C.isValidElement(p)?C.cloneElement(p,k):C.createElement(x,k)}var BSe=["item"],zSe=["children","className","width","height","style","compact","title","desc"];function Yu(t){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}function Hc(){return Hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hc.apply(this,arguments)}function iC(t,e){return HSe(t)||qSe(t,e)||DB(t,e)||WSe()}function WSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function HSe(t){if(Array.isArray(t))return t}function aC(t,e){if(t==null)return{};var n=GSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RB(r.key),r)}}function QSe(t,e,n){return e&&YSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XSe(t,e,n){return e=gg(e),JSe(t,MB()?Reflect.construct(e,n||[],gg(t).constructor):e.apply(t,n))}function JSe(t,e){if(e&&(Yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZSe(t)}function ZSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MB=function(){return!!t})()}function gg(t){return gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gg(t)}function eke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q8(t,e)}function Q8(t,e){return Q8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Q8(t,e)}function Qu(t){return rke(t)||nke(t)||DB(t)||tke()}function tke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DB(t,e){if(t){if(typeof t=="string")return X8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X8(t,e)}}function nke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rke(t){if(Array.isArray(t))return X8(t)}function X8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function se(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sC(Object(n),!0).forEach(function(r){Qe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qe(t,e,n){return e=RB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RB(t){var e=ike(t,"string");return Yu(e)=="symbol"?e:e+""}function ike(t,e){if(Yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ake={xAxis:["bottom","top"],yAxis:["left","right"]},ske={width:"100%",height:"100%"},$B={x:0,y:0};function Sm(t){return t}var oke=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},lke=function(e,n,r,i){var a=n.find(function(u){return u&&u.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return se(se(se({},i),or(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,c=i.angle;return se(se(se({},i),or(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return $B},V5=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Qu(o),Qu(c)):o},[]);return s.length>0?s:e&&e.length&&Te(i)&&Te(a)?e.slice(i,a+1):[]};function LB(t){return t==="number"?[0,"auto"]:void 0}var J8=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,o=V5(n,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=d===void 0?o:d;h=y1(p,s.dataKey,i)}else h=d&&d[r]||o[r];return h?[].concat(Qu(l),[CU(c,h)]):l},[])},oC=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=oke(a,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=_ve(s,o,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,h=J8(e,n,u,d),p=lke(r,o,u,a);return{activeTooltipIndex:u,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},cke=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,h=e.stackOffset,p=PU(u,a);return r.reduce(function(g,x){var v,y=x.type.defaultProps!==void 0?se(se({},x.type.defaultProps),x.props):x.props,b=y.type,w=y.dataKey,E=y.allowDataOverflow,S=y.allowDuplicatedCategory,k=y.scale,_=y.ticks,N=y.includeHidden,P=y[s];if(g[P])return g;var A=V5(e.data,{graphicalItems:i.filter(function(H){var ne,he=s in H.props?H.props[s]:(ne=H.type.defaultProps)===null||ne===void 0?void 0:ne[s];return he===P}),dataStartIndex:l,dataEndIndex:c}),I=A.length,O,j,R;DSe(y.domain,E,b)&&(O=y8(y.domain,null,E),p&&(b==="number"||k!=="auto")&&(R=lh(A,w,"category")));var D=LB(b);if(!O||O.length===0){var $,U=($=y.domain)!==null&&$!==void 0?$:D;if(w){if(O=lh(A,w,b),b==="category"&&p){var V=oce(O);S&&V?(j=O,O=rg(0,I)):S||(O=zA(U,O,x).reduce(function(H,ne){return H.indexOf(ne)>=0?H:[].concat(Qu(H),[ne])},[]))}else if(b==="category")S?O=O.filter(function(H){return H!==""&&!xt(H)}):O=zA(U,O,x).reduce(function(H,ne){return H.indexOf(ne)>=0||ne===""||xt(ne)?H:[].concat(Qu(H),[ne])},[]);else if(b==="number"){var B=Tve(A,i.filter(function(H){var ne,he,me=s in H.props?H.props[s]:(ne=H.type.defaultProps)===null||ne===void 0?void 0:ne[s],ee="hide"in H.props?H.props.hide:(he=H.type.defaultProps)===null||he===void 0?void 0:he.hide;return me===P&&(N||!ee)}),w,a,u);B&&(O=B)}p&&(b==="number"||k!=="auto")&&(R=lh(A,w,"category"))}else p?O=rg(0,I):o&&o[P]&&o[P].hasStack&&b==="number"?O=h==="expand"?[0,1]:IU(o[P].stackGroups,l,c):O=TU(A,i.filter(function(H){var ne=s in H.props?H.props[s]:H.type.defaultProps[s],he="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return ne===P&&(N||!he)}),b,u,!0);if(b==="number")O=Y8(d,O,P,a,_),U&&(O=y8(U,O,E));else if(b==="category"&&U){var q=U,K=O.every(function(H){return q.indexOf(H)>=0});K&&(O=q)}}return se(se({},g),{},Qe({},P,se(se({},y),{},{axisType:a,domain:O,categoricalDomain:R,duplicateDomain:j,originalDomain:(v=y.domain)!==null&&v!==void 0?v:D,isCategorical:p,layout:u})))},{})},uke=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,h=V5(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=h.length,g=PU(u,a),x=-1;return r.reduce(function(v,y){var b=y.type.defaultProps!==void 0?se(se({},y.type.defaultProps),y.props):y.props,w=b[s],E=LB("number");if(!v[w]){x++;var S;return g?S=rg(0,p):o&&o[w]&&o[w].hasStack?(S=IU(o[w].stackGroups,l,c),S=Y8(d,S,w,a)):(S=y8(E,TU(h,r.filter(function(k){var _,N,P=s in k.props?k.props[s]:(_=k.type.defaultProps)===null||_===void 0?void 0:_[s],A="hide"in k.props?k.props.hide:(N=k.type.defaultProps)===null||N===void 0?void 0:N.hide;return P===w&&!A}),"number",u),i.defaultProps.allowDataOverflow),S=Y8(d,S,w,a)),se(se({},v),{},Qe({},w,se(se({axisType:a},i.defaultProps),{},{hide:!0,orientation:Xi(ake,"".concat(a,".").concat(x%2),null),domain:S,originalDomain:E,isCategorical:g,layout:u})))}return v},{})},dke=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,d="".concat(i,"Id"),h=Pa(u,a),p={};return h&&h.length?p=cke(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=uke(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},fke=function(e){var n=Do(e),r=Rs(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Iw(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:G1(n,r)}},lC=function(e){var n=e.children,r=e.defaultShowTooltip,i=hi(n,Vu),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},hke=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ws(n&&n.type);return r&&r.indexOf("Bar")>=0})},cC=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},pke=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,u=r.height,d=r.children,h=r.margin||{},p=hi(d,Vu),g=hi(d,uu),x=Object.keys(l).reduce(function(S,k){var _=l[k],N=_.orientation;return!_.mirror&&!_.hide?se(se({},S),{},Qe({},N,S[N]+_.width)):S},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(S,k){var _=s[k],N=_.orientation;return!_.mirror&&!_.hide?se(se({},S),{},Qe({},N,Xi(S,"".concat(N))+_.height)):S},{top:h.top||0,bottom:h.bottom||0}),y=se(se({},v),x),b=y.bottom;p&&(y.bottom+=p.props.height||Vu.defaultProps.height),g&&n&&(y=Eve(y,i,r,n));var w=c-y.left-y.right,E=u-y.top-y.bottom;return se(se({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(E,0)})},mke=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},gke=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(y,b){var w=b.graphicalItems,E=b.stackGroups,S=b.offset,k=b.updateId,_=b.dataStartIndex,N=b.dataEndIndex,P=y.barSize,A=y.layout,I=y.barGap,O=y.barCategoryGap,j=y.maxBarSize,R=cC(A),D=R.numericAxisName,$=R.cateAxisName,U=hke(w),V=[];return w.forEach(function(B,q){var K=V5(y.data,{graphicalItems:[B],dataStartIndex:_,dataEndIndex:N}),H=B.type.defaultProps!==void 0?se(se({},B.type.defaultProps),B.props):B.props,ne=H.dataKey,he=H.maxBarSize,me=H["".concat(D,"Id")],ee=H["".concat($,"Id")],xe={},_e=l.reduce(function(mt,Y){var ke=b["".concat(Y.axisType,"Map")],Oe=H["".concat(Y.axisType,"Id")];ke&&ke[Oe]||Y.axisType==="zAxis"||Vl();var at=ke[Oe];return se(se({},mt),{},Qe(Qe({},Y.axisType,at),"".concat(Y.axisType,"Ticks"),Rs(at)))},xe),J=_e[$],Ne=_e["".concat($,"Ticks")],Me=E&&E[me]&&E[me].hasStack&&Fve(B,E[me].stackGroups),ie=Ws(B.type).indexOf("Bar")>=0,Ue=G1(J,Ne),re=[],te=U&&Sve({barSize:P,stackGroups:E,totalSize:mke(_e,$)});if(ie){var ve,We,Se=xt(he)?j:he,Ie=(ve=(We=G1(J,Ne,!0))!==null&&We!==void 0?We:Se)!==null&&ve!==void 0?ve:0;re=kve({barGap:I,barCategoryGap:O,bandSize:Ie!==Ue?Ie:Ue,sizeList:te[ee],maxBarSize:Se}),Ie!==Ue&&(re=re.map(function(mt){return se(se({},mt),{},{position:se(se({},mt.position),{},{offset:mt.position.offset-Ie/2})})}))}var Fe=B&&B.type&&B.type.getComposedData;Fe&&V.push({props:se(se({},Fe(se(se({},_e),{},{displayedData:K,props:y,dataKey:ne,item:B,bandSize:Ue,barPosition:re,offset:S,stackedData:Me,layout:A,dataStartIndex:_,dataEndIndex:N}))),{},Qe(Qe(Qe({key:B.key||"item-".concat(q)},D,_e[D]),$,_e[$]),"animationId",k)),childIndex:bce(B,y.children),item:B})}),V},p=function(y,b){var w=y.props,E=y.dataStartIndex,S=y.dataEndIndex,k=y.updateId;if(!RT({props:w}))return null;var _=w.children,N=w.layout,P=w.stackOffset,A=w.data,I=w.reverseStackOrder,O=cC(N),j=O.numericAxisName,R=O.cateAxisName,D=Pa(_,r),$=Rve(A,D,"".concat(j,"Id"),"".concat(R,"Id"),P,I),U=l.reduce(function(H,ne){var he="".concat(ne.axisType,"Map");return se(se({},H),{},Qe({},he,dke(w,se(se({},ne),{},{graphicalItems:D,stackGroups:ne.axisType===j&&$,dataStartIndex:E,dataEndIndex:S}))))},{}),V=pke(se(se({},U),{},{props:w,graphicalItems:D}),b==null?void 0:b.legendBBox);Object.keys(U).forEach(function(H){U[H]=u(w,U[H],V,H.replace("Map",""),n)});var B=U["".concat(R,"Map")],q=fke(B),K=h(w,se(se({},U),{},{dataStartIndex:E,dataEndIndex:S,updateId:k,graphicalItems:D,stackGroups:$,offset:V}));return se(se({formattedGraphicalItems:K,graphicalItems:D,offset:V,stackGroups:$},q),U)},g=function(v){function y(b){var w,E,S;return KSe(this,y),S=XSe(this,y,[b]),Qe(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Qe(S,"accessibilityManager",new MSe),Qe(S,"handleLegendBBoxUpdate",function(k){if(k){var _=S.state,N=_.dataStartIndex,P=_.dataEndIndex,A=_.updateId;S.setState(se({legendBBox:k},p({props:S.props,dataStartIndex:N,dataEndIndex:P,updateId:A},se(se({},S.state),{},{legendBBox:k}))))}}),Qe(S,"handleReceiveSyncEvent",function(k,_,N){if(S.props.syncId===k){if(N===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(_)}}),Qe(S,"handleBrushChange",function(k){var _=k.startIndex,N=k.endIndex;if(_!==S.state.dataStartIndex||N!==S.state.dataEndIndex){var P=S.state.updateId;S.setState(function(){return se({dataStartIndex:_,dataEndIndex:N},p({props:S.props,dataStartIndex:_,dataEndIndex:N,updateId:P},S.state))}),S.triggerSyncEvent({dataStartIndex:_,dataEndIndex:N})}}),Qe(S,"handleMouseEnter",function(k){var _=S.getMouseInfo(k);if(_){var N=se(se({},_),{},{isTooltipActive:!0});S.setState(N),S.triggerSyncEvent(N);var P=S.props.onMouseEnter;ot(P)&&P(N,k)}}),Qe(S,"triggeredAfterMouseMove",function(k){var _=S.getMouseInfo(k),N=_?se(se({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(N),S.triggerSyncEvent(N);var P=S.props.onMouseMove;ot(P)&&P(N,k)}),Qe(S,"handleItemMouseEnter",function(k){S.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Qe(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Qe(S,"handleMouseMove",function(k){k.persist(),S.throttleTriggeredAfterMouseMove(k)}),Qe(S,"handleMouseLeave",function(k){S.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};S.setState(_),S.triggerSyncEvent(_);var N=S.props.onMouseLeave;ot(N)&&N(_,k)}),Qe(S,"handleOuterEvent",function(k){var _=xce(k),N=Xi(S.props,"".concat(_));if(_&&ot(N)){var P,A;/.*touch.*/i.test(_)?A=S.getMouseInfo(k.changedTouches[0]):A=S.getMouseInfo(k),N((P=A)!==null&&P!==void 0?P:{},k)}}),Qe(S,"handleClick",function(k){var _=S.getMouseInfo(k);if(_){var N=se(se({},_),{},{isTooltipActive:!0});S.setState(N),S.triggerSyncEvent(N);var P=S.props.onClick;ot(P)&&P(N,k)}}),Qe(S,"handleMouseDown",function(k){var _=S.props.onMouseDown;if(ot(_)){var N=S.getMouseInfo(k);_(N,k)}}),Qe(S,"handleMouseUp",function(k){var _=S.props.onMouseUp;if(ot(_)){var N=S.getMouseInfo(k);_(N,k)}}),Qe(S,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Qe(S,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseDown(k.changedTouches[0])}),Qe(S,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseUp(k.changedTouches[0])}),Qe(S,"handleDoubleClick",function(k){var _=S.props.onDoubleClick;if(ot(_)){var N=S.getMouseInfo(k);_(N,k)}}),Qe(S,"handleContextMenu",function(k){var _=S.props.onContextMenu;if(ot(_)){var N=S.getMouseInfo(k);_(N,k)}}),Qe(S,"triggerSyncEvent",function(k){S.props.syncId!==void 0&&Oy.emit(jy,S.props.syncId,k,S.eventEmitterSymbol)}),Qe(S,"applySyncEvent",function(k){var _=S.props,N=_.layout,P=_.syncMethod,A=S.state.updateId,I=k.dataStartIndex,O=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)S.setState(se({dataStartIndex:I,dataEndIndex:O},p({props:S.props,dataStartIndex:I,dataEndIndex:O,updateId:A},S.state)));else if(k.activeTooltipIndex!==void 0){var j=k.chartX,R=k.chartY,D=k.activeTooltipIndex,$=S.state,U=$.offset,V=$.tooltipTicks;if(!U)return;if(typeof P=="function")D=P(V,k);else if(P==="value"){D=-1;for(var B=0;B<V.length;B++)if(V[B].value===k.activeLabel){D=B;break}}var q=se(se({},U),{},{x:U.left,y:U.top}),K=Math.min(j,q.x+q.width),H=Math.min(R,q.y+q.height),ne=V[D]&&V[D].value,he=J8(S.state,S.props.data,D),me=V[D]?{x:N==="horizontal"?V[D].coordinate:K,y:N==="horizontal"?H:V[D].coordinate}:$B;S.setState(se(se({},k),{},{activeLabel:ne,activeCoordinate:me,activePayload:he,activeTooltipIndex:D}))}else S.setState(k)}),Qe(S,"renderCursor",function(k){var _,N=S.state,P=N.isTooltipActive,A=N.activeCoordinate,I=N.activePayload,O=N.offset,j=N.activeTooltipIndex,R=N.tooltipAxisBandSize,D=S.getTooltipEventType(),$=(_=k.props.active)!==null&&_!==void 0?_:P,U=S.props.layout,V=k.key||"_recharts-cursor";return F.createElement(USe,{key:V,activeCoordinate:A,activePayload:I,activeTooltipIndex:j,chartName:n,element:k,isActive:$,layout:U,offset:O,tooltipAxisBandSize:R,tooltipEventType:D})}),Qe(S,"renderPolarAxis",function(k,_,N){var P=Xi(k,"type.axisType"),A=Xi(S.state,"".concat(P,"Map")),I=k.type.defaultProps,O=I!==void 0?se(se({},I),k.props):k.props,j=A&&A[O["".concat(P,"Id")]];return C.cloneElement(k,se(se({},j),{},{className:Et(P,j.className),key:k.key||"".concat(_,"-").concat(N),ticks:Rs(j,!0)}))}),Qe(S,"renderPolarGrid",function(k){var _=k.props,N=_.radialLines,P=_.polarAngles,A=_.polarRadius,I=S.state,O=I.radiusAxisMap,j=I.angleAxisMap,R=Do(O),D=Do(j),$=D.cx,U=D.cy,V=D.innerRadius,B=D.outerRadius;return C.cloneElement(k,{polarAngles:Array.isArray(P)?P:Rs(D,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(A)?A:Rs(R,!0).map(function(q){return q.coordinate}),cx:$,cy:U,innerRadius:V,outerRadius:B,key:k.key||"polar-grid",radialLines:N})}),Qe(S,"renderLegend",function(){var k=S.state.formattedGraphicalItems,_=S.props,N=_.children,P=_.width,A=_.height,I=S.props.margin||{},O=P-(I.left||0)-(I.right||0),j=EU({children:N,formattedGraphicalItems:k,legendWidth:O,legendContent:c});if(!j)return null;var R=j.item,D=aC(j,BSe);return C.cloneElement(R,se(se({},D),{},{chartWidth:P,chartHeight:A,margin:I,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Qe(S,"renderTooltip",function(){var k,_=S.props,N=_.children,P=_.accessibilityLayer,A=hi(N,Ua);if(!A)return null;var I=S.state,O=I.isTooltipActive,j=I.activeCoordinate,R=I.activePayload,D=I.activeLabel,$=I.offset,U=(k=A.props.active)!==null&&k!==void 0?k:O;return C.cloneElement(A,{viewBox:se(se({},$),{},{x:$.left,y:$.top}),active:U,label:D,payload:U?R:[],coordinate:j,accessibilityLayer:P})}),Qe(S,"renderBrush",function(k){var _=S.props,N=_.margin,P=_.data,A=S.state,I=A.offset,O=A.dataStartIndex,j=A.dataEndIndex,R=A.updateId;return C.cloneElement(k,{key:k.key||"_recharts-brush",onChange:vm(S.handleBrushChange,k.props.onChange),data:P,x:Te(k.props.x)?k.props.x:I.left,y:Te(k.props.y)?k.props.y:I.top+I.height+I.brushBottom-(N.bottom||0),width:Te(k.props.width)?k.props.width:I.width,startIndex:O,endIndex:j,updateId:"brush-".concat(R)})}),Qe(S,"renderReferenceElement",function(k,_,N){if(!k)return null;var P=S,A=P.clipPathId,I=S.state,O=I.xAxisMap,j=I.yAxisMap,R=I.offset,D=k.type.defaultProps||{},$=k.props,U=$.xAxisId,V=U===void 0?D.xAxisId:U,B=$.yAxisId,q=B===void 0?D.yAxisId:B;return C.cloneElement(k,{key:k.key||"".concat(_,"-").concat(N),xAxis:O[V],yAxis:j[q],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:A})}),Qe(S,"renderActivePoints",function(k){var _=k.item,N=k.activePoint,P=k.basePoint,A=k.childIndex,I=k.isRange,O=[],j=_.props.key,R=_.item.type.defaultProps!==void 0?se(se({},_.item.type.defaultProps),_.item.props):_.item.props,D=R.activeDot,$=R.dataKey,U=se(se({index:A,dataKey:$,cx:N.x,cy:N.y,r:4,fill:n_(_.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},ht(D,!1)),v1(D));return O.push(y.renderActiveDot(D,U,"".concat(j,"-activePoint-").concat(A))),P?O.push(y.renderActiveDot(D,se(se({},U),{},{cx:P.x,cy:P.y}),"".concat(j,"-basePoint-").concat(A))):I&&O.push(null),O}),Qe(S,"renderGraphicChild",function(k,_,N){var P=S.filterFormatItem(k,_,N);if(!P)return null;var A=S.getTooltipEventType(),I=S.state,O=I.isTooltipActive,j=I.tooltipAxis,R=I.activeTooltipIndex,D=I.activeLabel,$=S.props.children,U=hi($,Ua),V=P.props,B=V.points,q=V.isRange,K=V.baseLine,H=P.item.type.defaultProps!==void 0?se(se({},P.item.type.defaultProps),P.item.props):P.item.props,ne=H.activeDot,he=H.hide,me=H.activeBar,ee=H.activeShape,xe=!!(!he&&O&&U&&(ne||me||ee)),_e={};A!=="axis"&&U&&U.props.trigger==="click"?_e={onClick:vm(S.handleItemMouseEnter,k.props.onClick)}:A!=="axis"&&(_e={onMouseLeave:vm(S.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:vm(S.handleItemMouseEnter,k.props.onMouseEnter)});var J=C.cloneElement(k,se(se({},P.props),_e));function Ne(Y){return typeof j.dataKey=="function"?j.dataKey(Y.payload):null}if(xe)if(R>=0){var Me,ie;if(j.dataKey&&!j.allowDuplicatedCategory){var Ue=typeof j.dataKey=="function"?Ne:"payload.".concat(j.dataKey.toString());Me=y1(B,Ue,D),ie=q&&K&&y1(K,Ue,D)}else Me=B==null?void 0:B[R],ie=q&&K&&K[R];if(ee||me){var re=k.props.activeIndex!==void 0?k.props.activeIndex:R;return[C.cloneElement(k,se(se(se({},P.props),_e),{},{activeIndex:re})),null,null]}if(!xt(Me))return[J].concat(Qu(S.renderActivePoints({item:P,activePoint:Me,basePoint:ie,childIndex:R,isRange:q})))}else{var te,ve=(te=S.getItemByXY(S.state.activeCoordinate))!==null&&te!==void 0?te:{graphicalItem:J},We=ve.graphicalItem,Se=We.item,Ie=Se===void 0?k:Se,Fe=We.childIndex,mt=se(se(se({},P.props),_e),{},{activeIndex:Fe});return[C.cloneElement(Ie,mt),null,null]}return q?[J,null,null]:[J,null]}),Qe(S,"renderCustomized",function(k,_,N){return C.cloneElement(k,se(se({key:"recharts-customized-".concat(N)},S.props),S.state))}),Qe(S,"renderMap",{CartesianGrid:{handler:Sm,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Sm},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Sm},YAxis:{handler:Sm},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:c4("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=kV(S.triggeredAfterMouseMove,(E=b.throttleDelay)!==null&&E!==void 0?E:1e3/60),S.state={},S}return eke(y,v),QSe(y,[{key:"componentDidMount",value:function(){var w,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,E=w.children,S=w.data,k=w.height,_=w.layout,N=hi(E,Ua);if(N){var P=N.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,I=J8(this.state,S,P,A),O=this.state.tooltipTicks[P].coordinate,j=(this.state.offset.top+k)/2,R=_==="horizontal",D=R?{x:O,y:j}:{y:O,x:j},$=this.state.formattedGraphicalItems.find(function(V){var B=V.item;return B.type.name==="Scatter"});$&&(D=se(se({},D),$.props.points[P].tooltipPosition),I=$.props.points[P].tooltipPayload);var U={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:A,activePayload:I,activeCoordinate:D};this.setState(U),this.renderCursor(N),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,k;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(w){O7([hi(w.children,Ua)],[hi(this.props.children,Ua)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=hi(this.props.children,Ua);if(w&&typeof w.props.shared=="boolean"){var E=w.props.shared?"axis":"item";return o.indexOf(E)>=0?E:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var E=this.container,S=E.getBoundingClientRect(),k=Gge(S),_={chartX:Math.round(w.pageX-k.left),chartY:Math.round(w.pageY-k.top)},N=S.width/E.offsetWidth||1,P=this.inRange(_.chartX,_.chartY,N);if(!P)return null;var A=this.state,I=A.xAxisMap,O=A.yAxisMap,j=this.getTooltipEventType(),R=oC(this.state,this.props.data,this.props.layout,P);if(j!=="axis"&&I&&O){var D=Do(I).scale,$=Do(O).scale,U=D&&D.invert?D.invert(_.chartX):null,V=$&&$.invert?$.invert(_.chartY):null;return se(se({},_),{},{xValue:U,yValue:V},R)}return R?se(se({},_),R):null}},{key:"inRange",value:function(w,E){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,_=w/S,N=E/S;if(k==="horizontal"||k==="vertical"){var P=this.state.offset,A=_>=P.left&&_<=P.left+P.width&&N>=P.top&&N<=P.top+P.height;return A?{x:_,y:N}:null}var I=this.state,O=I.angleAxisMap,j=I.radiusAxisMap;if(O&&j){var R=Do(O);return HA({x:_,y:N},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,E=this.getTooltipEventType(),S=hi(w,Ua),k={};S&&E==="axis"&&(S.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=v1(this.props,this.handleOuterEvent);return se(se({},_),k)}},{key:"addListener",value:function(){Oy.on(jy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Oy.removeListener(jy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,E,S){for(var k=this.state.formattedGraphicalItems,_=0,N=k.length;_<N;_++){var P=k[_];if(P.item===w||P.props.key===w.key||E===Ws(P.item.type)&&S===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,E=this.state.offset,S=E.left,k=E.top,_=E.height,N=E.width;return F.createElement("defs",null,F.createElement("clipPath",{id:w},F.createElement("rect",{x:S,y:k,height:_,width:N})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(E,S){var k=iC(S,2),_=k[0],N=k[1];return se(se({},E),{},Qe({},_,N.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(E,S){var k=iC(S,2),_=k[0],N=k[1];return se(se({},E),{},Qe({},_,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[w])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(w){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[w])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(w){var E=this.state,S=E.formattedGraphicalItems,k=E.activeItem;if(S&&S.length)for(var _=0,N=S.length;_<N;_++){var P=S[_],A=P.props,I=P.item,O=I.type.defaultProps!==void 0?se(se({},I.type.defaultProps),I.props):I.props,j=Ws(I.type);if(j==="Bar"){var R=(A.data||[]).find(function(V){return M9e(w,V)});if(R)return{graphicalItem:P,payload:R}}else if(j==="RadialBar"){var D=(A.data||[]).find(function(V){return HA(w,V)});if(D)return{graphicalItem:P,payload:D}}else if(C5(P,k)||O5(P,k)||Sp(P,k)){var $=$xe({graphicalItem:P,activeTooltipItem:k,itemData:O.data}),U=O.activeIndex===void 0?$:O.activeIndex;return{graphicalItem:se(se({},P),{},{childIndex:U}),payload:Sp(P,k)?O.data[$]:P.props.data[$]}}}return null}},{key:"render",value:function(){var w=this;if(!RT(this))return null;var E=this.props,S=E.children,k=E.className,_=E.width,N=E.height,P=E.style,A=E.compact,I=E.title,O=E.desc,j=aC(E,zSe),R=ht(j,!1);if(A)return F.createElement(UI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement(M7,Hc({},R,{width:_,height:N,title:I,desc:O}),this.renderClipPath(),LT(S,this.renderMap)));if(this.props.accessibilityLayer){var D,$;R.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,R.role=($=this.props.role)!==null&&$!==void 0?$:"application",R.onKeyDown=function(V){w.accessibilityManager.keyboardEvent(V)},R.onFocus=function(){w.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return F.createElement(UI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement("div",Hc({className:Et("recharts-wrapper",k),style:se({position:"relative",cursor:"default",width:_,height:N},P)},U,{ref:function(B){w.container=B}}),F.createElement(M7,Hc({},R,{width:_,height:N,title:I,desc:O,style:ske}),this.renderClipPath(),LT(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(C.Component);Qe(g,"displayName",n),Qe(g,"defaultProps",se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Qe(g,"getDerivedStateFromProps",function(v,y){var b=v.dataKey,w=v.data,E=v.children,S=v.width,k=v.height,_=v.layout,N=v.stackOffset,P=v.margin,A=y.dataStartIndex,I=y.dataEndIndex;if(y.updateId===void 0){var O=lC(v);return se(se(se({},O),{},{updateId:0},p(se(se({props:v},O),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:w,prevWidth:S,prevHeight:k,prevLayout:_,prevStackOffset:N,prevMargin:P,prevChildren:E})}if(b!==y.prevDataKey||w!==y.prevData||S!==y.prevWidth||k!==y.prevHeight||_!==y.prevLayout||N!==y.prevStackOffset||!cu(P,y.prevMargin)){var j=lC(v),R={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},D=se(se({},oC(y,w,_)),{},{updateId:y.updateId+1}),$=se(se(se({},j),R),D);return se(se(se({},$),p(se({props:v},$),y)),{},{prevDataKey:b,prevData:w,prevWidth:S,prevHeight:k,prevLayout:_,prevStackOffset:N,prevMargin:P,prevChildren:E})}if(!O7(E,y.prevChildren)){var U,V,B,q,K=hi(E,Vu),H=K&&(U=(V=K.props)===null||V===void 0?void 0:V.startIndex)!==null&&U!==void 0?U:A,ne=K&&(B=(q=K.props)===null||q===void 0?void 0:q.endIndex)!==null&&B!==void 0?B:I,he=H!==A||ne!==I,me=!xt(w),ee=me&&!he?y.updateId:y.updateId+1;return se(se({updateId:ee},p(se(se({props:v},y),{},{updateId:ee,dataStartIndex:H,dataEndIndex:ne}),y)),{},{prevChildren:E,dataStartIndex:H,dataEndIndex:ne})}return null}),Qe(g,"renderActiveDot",function(v,y,b){var w;return C.isValidElement(v)?w=C.cloneElement(v,y):ot(v)?w=v(y):w=F.createElement(i_,y),F.createElement(on,{className:"recharts-active-dot",key:b},w)});var x=C.forwardRef(function(y,b){return F.createElement(g,Hc({},y,{ref:b}))});return x.displayName=g.displayName,x},yke=gke({chartName:"AreaChart",GraphicalChild:D0,axisComponents:[{axisType:"xAxis",AxisComp:L5},{axisType:"yAxis",AxisComp:F5}],formatAxisMap:lwe});const FB=6048e5,vke=864e5,VB=6e4,UB=36e5,uC=Symbol.for("constructDateFrom");function wn(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&uC in t?t[uC](e):t instanceof Date?new t.constructor(e):new Date(e)}function St(t,e){return wn(e||t,t)}function U5(t,e,n){const r=St(t,n==null?void 0:n.in);return isNaN(e)?wn(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function hu(t,e,n){const r=St(t,n==null?void 0:n.in);if(isNaN(e))return wn(t,NaN);if(!e)return r;const i=r.getDate(),a=wn(t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const s=a.getDate();return i>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}let xke={};function g4(){return xke}function Bl(t,e){var o,l,c,u;const n=g4(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=St(t,e==null?void 0:e.in),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Ip(t,e){return Bl(t,{...e,weekStartsOn:1})}function BB(t,e){const n=St(t,e==null?void 0:e.in),r=n.getFullYear(),i=wn(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=Ip(i),s=wn(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=Ip(s);return n.getTime()>=a.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function dC(t){const e=St(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function dc(t,...e){const n=wn.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function qi(t,e){const n=St(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function B5(t,e,n){const[r,i]=dc(n==null?void 0:n.in,t,e),a=qi(r),s=qi(i),o=+a-dC(a),l=+s-dC(s);return Math.round((o-l)/vke)}function bke(t,e){const n=BB(t,e),r=wn(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Ip(r)}function wke(t,e,n){return U5(t,e*7,n)}function _ke(t,e,n){return hu(t,e*12,n)}function Ske(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=wn.bind(null,i));const a=St(i,r);(!n||n<a||isNaN(+a))&&(n=a)}),wn(r,n||NaN)}function kke(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=wn.bind(null,i));const a=St(i,r);(!n||n>a||isNaN(+a))&&(n=a)}),wn(r,n||NaN)}function $s(t,e,n){const[r,i]=dc(n==null?void 0:n.in,t,e);return+qi(r)==+qi(i)}function zB(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Eke(t){return!(!zB(t)&&typeof t!="number"||isNaN(+St(t)))}function WB(t,e,n){const[r,i]=dc(n==null?void 0:n.in,t,e),a=r.getFullYear()-i.getFullYear(),s=r.getMonth()-i.getMonth();return a*12+s}function Nke(t,e,n){const[r,i]=dc(n==null?void 0:n.in,t,e),a=fC(r,i),s=Math.abs(B5(r,i));r.setDate(r.getDate()-a*s);const o=+(fC(r,i)===-a),l=a*(s-o);return l===0?0:l}function fC(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function d3(t,e){const n=St(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function qB(t,e){const n=St(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function p_(t,e){const[n,r]=dc(t,e.start,e.end);return{start:n,end:r}}function Tke(t,e){const{start:n,end:r}=p_(e==null?void 0:e.in,t);let i=+n>+r;const a=i?+n:+r,s=i?r:n;s.setHours(0,0,0,0);let o=1;const l=[];for(;+s<=a;)l.push(wn(n,s)),s.setDate(s.getDate()+o),s.setHours(0,0,0,0);return i?l.reverse():l}function Pke(t,e){const{start:n,end:r}=p_(e==null?void 0:e.in,t);let i=+n>+r;const a=i?+n:+r,s=i?r:n;s.setHours(0,0,0,0),s.setDate(1);let o=1;const l=[];for(;+s<=a;)l.push(wn(n,s)),s.setMonth(s.getMonth()+o);return i?l.reverse():l}function HB(t,e){const n=St(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Ake(t,e){const n=St(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function GB(t,e){const n=St(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Ike(t,e){const{start:n,end:r}=p_(e==null?void 0:e.in,t);let i=+n>+r;const a=i?+n:+r,s=i?r:n;s.setHours(0,0,0,0),s.setMonth(0,1);let o=1;const l=[];for(;+s<=a;)l.push(wn(n,s)),s.setFullYear(s.getFullYear()+o);return i?l.reverse():l}function m_(t,e){var o,l,c,u;const n=g4(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=St(t,e==null?void 0:e.in),a=i.getDay(),s=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function Cke(t,e){return m_(t,{...e,weekStartsOn:1})}const Oke={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jke=(t,e,n)=>{let r;const i=Oke[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Dy(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Mke={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Dke={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Rke={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$ke={date:Dy({formats:Mke,defaultWidth:"full"}),time:Dy({formats:Dke,defaultWidth:"full"}),dateTime:Dy({formats:Rke,defaultWidth:"full"})},Lke={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Fke=(t,e,n,r)=>Lke[t];function uf(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const Vke={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Uke={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Bke={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},zke={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Wke={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qke={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Hke=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Gke={ordinalNumber:Hke,era:uf({values:Vke,defaultWidth:"wide"}),quarter:uf({values:Uke,defaultWidth:"wide",argumentCallback:t=>t-1}),month:uf({values:Bke,defaultWidth:"wide"}),day:uf({values:zke,defaultWidth:"wide"}),dayPeriod:uf({values:Wke,defaultWidth:"wide",formattingValues:qke,defaultFormattingWidth:"wide"})};function df(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?Yke(o,d=>d.test(s)):Kke(o,d=>d.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}function Kke(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Yke(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Qke(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const Xke=/^(\d+)(th|st|nd|rd)?/i,Jke=/\d+/i,Zke={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},eEe={any:[/^b/i,/^(a|c)/i]},tEe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nEe={any:[/1/i,/2/i,/3/i,/4/i]},rEe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},iEe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},aEe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},sEe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},oEe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lEe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cEe={ordinalNumber:Qke({matchPattern:Xke,parsePattern:Jke,valueCallback:t=>parseInt(t,10)}),era:df({matchPatterns:Zke,defaultMatchWidth:"wide",parsePatterns:eEe,defaultParseWidth:"any"}),quarter:df({matchPatterns:tEe,defaultMatchWidth:"wide",parsePatterns:nEe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:df({matchPatterns:rEe,defaultMatchWidth:"wide",parsePatterns:iEe,defaultParseWidth:"any"}),day:df({matchPatterns:aEe,defaultMatchWidth:"wide",parsePatterns:sEe,defaultParseWidth:"any"}),dayPeriod:df({matchPatterns:oEe,defaultMatchWidth:"any",parsePatterns:lEe,defaultParseWidth:"any"})},Cc={code:"en-US",formatDistance:jke,formatLong:$ke,formatRelative:Fke,localize:Gke,match:cEe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function uEe(t,e){const n=St(t,e==null?void 0:e.in);return B5(n,GB(n))+1}function g_(t,e){const n=St(t,e==null?void 0:e.in),r=+Ip(n)-+bke(n);return Math.round(r/FB)+1}function KB(t,e){var u,d,h,p;const n=St(t,e==null?void 0:e.in),r=n.getFullYear(),i=g4(),a=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=wn((e==null?void 0:e.in)||t,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const o=Bl(s,e),l=wn((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const c=Bl(l,e);return+n>=+o?r+1:+n>=+c?r:r-1}function dEe(t,e){var o,l,c,u;const n=g4(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=KB(t,e),a=wn((e==null?void 0:e.in)||t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Bl(a,e)}function y_(t,e){const n=St(t,e==null?void 0:e.in),r=+Bl(n,e)-+dEe(n,e);return Math.round(r/FB)+1}function Ot(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const _o={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ot(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ot(n+1,2)},d(t,e){return Ot(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ot(t.getHours()%12||12,e.length)},H(t,e){return Ot(t.getHours(),e.length)},m(t,e){return Ot(t.getMinutes(),e.length)},s(t,e){return Ot(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ot(i,e.length)}},_c={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hC={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return _o.y(t,e)},Y:function(t,e,n,r){const i=KB(t,r),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return Ot(s,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):Ot(a,e.length)},R:function(t,e){const n=BB(t);return Ot(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ot(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ot(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ot(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return _o.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ot(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=y_(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Ot(i,e.length)},I:function(t,e,n){const r=g_(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ot(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):_o.d(t,e)},D:function(t,e,n){const r=uEe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ot(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Ot(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Ot(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Ot(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=_c.noon:r===0?i=_c.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=_c.evening:r>=12?i=_c.afternoon:r>=4?i=_c.morning:i=_c.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return _o.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):_o.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ot(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ot(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):_o.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):_o.s(t,e)},S:function(t,e){return _o.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return mC(r);case"XXXX":case"XX":return X0(r);case"XXXXX":case"XXX":default:return X0(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return mC(r);case"xxxx":case"xx":return X0(r);case"xxxxx":case"xxx":default:return X0(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+pC(r,":");case"OOOO":default:return"GMT"+X0(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+pC(r,":");case"zzzz":default:return"GMT"+X0(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Ot(r,e.length)},T:function(t,e,n){return Ot(+t,e.length)}};function pC(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+Ot(a,2)}function mC(t,e){return t%60===0?(t>0?"-":"+")+Ot(Math.abs(t)/60,2):X0(t,e)}function X0(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Ot(Math.trunc(r/60),2),a=Ot(r%60,2);return n+i+e+a}const gC=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},YB=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},fEe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return gC(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",gC(r,e)).replace("{{time}}",YB(i,e))},hEe={p:YB,P:fEe},pEe=/^D+$/,mEe=/^Y+$/,gEe=["D","DD","YY","YYYY"];function yEe(t){return pEe.test(t)}function vEe(t){return mEe.test(t)}function xEe(t,e,n){const r=bEe(t,e,n);if(console.warn(r),gEe.includes(t))throw new RangeError(r)}function bEe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const wEe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_Ee=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,SEe=/^'([^]*?)'?$/,kEe=/''/g,EEe=/[a-zA-Z]/;function Jt(t,e,n){var u,d,h,p,g,x,v,y;const r=g4(),i=(n==null?void 0:n.locale)??r.locale??Cc,a=(n==null?void 0:n.firstWeekContainsDate)??((d=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((x=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:x.weekStartsOn)??r.weekStartsOn??((y=(v=r.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??0,o=St(t,n==null?void 0:n.in);if(!Eke(o))throw new RangeError("Invalid time value");let l=e.match(_Ee).map(b=>{const w=b[0];if(w==="p"||w==="P"){const E=hEe[w];return E(b,i.formatLong)}return b}).join("").match(wEe).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const w=b[0];if(w==="'")return{isToken:!1,value:NEe(b)};if(hC[w])return{isToken:!0,value:b};if(w.match(EEe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:b}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(b=>{if(!b.isToken)return b.value;const w=b.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&vEe(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&yEe(w))&&xEe(w,e,String(t));const E=hC[w[0]];return E(o,w,i.localize,c)}).join("")}function NEe(t){const e=t.match(SEe);return e?e[1].replace(kEe,"'"):t}function TEe(t,e){const n=St(t,e==null?void 0:e.in),r=n.getFullYear(),i=n.getMonth(),a=wn(n,0);return a.setFullYear(r,i+1,0),a.setHours(0,0,0,0),a.getDate()}function PEe(t,e){return St(t,e==null?void 0:e.in).getMonth()}function AEe(t,e){return St(t,e==null?void 0:e.in).getFullYear()}function v_(t,e){return+St(t)>+St(e)}function Ro(t,e){return+St(t)<+St(e)}function QB(t,e,n){const[r,i]=dc(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function IEe(t,e,n){const[r,i]=dc(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()}function qo(t,e,n){const r=+St(t,n==null?void 0:n.in),[i,a]=[+St(e.start,n==null?void 0:n.in),+St(e.end,n==null?void 0:n.in)].sort((s,o)=>s-o);return r>=i&&r<=a}function z5(t,e,n){return U5(t,-e,n)}function Gr(t,e){const n=()=>wn(e==null?void 0:e.in,NaN),i=MEe(t);let a;if(i.date){const c=DEe(i.date,2);a=REe(c.restDateString,c.year)}if(!a||isNaN(+a))return n();const s=+a;let o=0,l;if(i.time&&(o=$Ee(i.time),isNaN(o)))return n();if(i.timezone){if(l=LEe(i.timezone),isNaN(l))return n()}else{const c=new Date(s+o),u=St(0,e==null?void 0:e.in);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return St(s+o+l,e==null?void 0:e.in)}const km={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},CEe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,OEe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,jEe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function MEe(t){const e={},n=t.split(km.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],km.timeZoneDelimiter.test(e.date)&&(e.date=t.split(km.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=km.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function DEe(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:t.slice((r[1]||r[2]).length)}}function REe(t,e){if(e===null)return new Date(NaN);const n=t.match(CEe);if(!n)return new Date(NaN);const r=!!n[4],i=ff(n[1]),a=ff(n[2])-1,s=ff(n[3]),o=ff(n[4]),l=ff(n[5])-1;if(r)return zEe(e,o,l)?FEe(e,o,l):new Date(NaN);{const c=new Date(0);return!UEe(e,a,s)||!BEe(e,i)?new Date(NaN):(c.setUTCFullYear(e,a,Math.max(i,s)),c)}}function ff(t){return t?parseInt(t):1}function $Ee(t){const e=t.match(OEe);if(!e)return NaN;const n=Ry(e[1]),r=Ry(e[2]),i=Ry(e[3]);return WEe(n,r,i)?n*UB+r*VB+i*1e3:NaN}function Ry(t){return t&&parseFloat(t.replace(",","."))||0}function LEe(t){if(t==="Z")return 0;const e=t.match(jEe);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return qEe(r,i)?n*(r*UB+i*VB):NaN}function FEe(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,a=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}const VEe=[31,null,31,30,31,30,31,31,30,31,30,31];function XB(t){return t%400===0||t%4===0&&t%100!==0}function UEe(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(VEe[e]||(XB(t)?29:28))}function BEe(t,e){return e>=1&&e<=(XB(t)?366:365)}function zEe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function WEe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function qEe(t,e){return e>=0&&e<=59}function HEe(t,e,n){const r=St(t,n==null?void 0:n.in),i=r.getFullYear(),a=r.getDate(),s=wn(t,0);s.setFullYear(i,e,15),s.setHours(0,0,0,0);const o=TEe(s);return r.setMonth(e,Math.min(a,o)),r}function GEe(t,e,n){const r=St(t,n==null?void 0:n.in);return isNaN(+r)?wn(t,NaN):(r.setFullYear(e),r)}function KEe(t,e,n){return hu(t,-1,n)}const W5=({onChange:t,initialRange:e,range:n,onRangeChange:r,brandColor:i})=>{const[a,s]=C.useState(!1),[o,l]=C.useState(n||e||{from:null,to:null}),[c,u]=C.useState(null),[d,h]=C.useState(new Date),p=C.useRef(null);C.useEffect(()=>{const _=N=>{p.current&&!p.current.contains(N.target)&&s(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const g=_=>{const N=t||r,P=qi(_);if(!o.from||o.from&&o.to)l({from:P,to:null});else{let A;Ro(_,o.from)?A={from:qi(_),to:d3(o.from)}:A={from:qi(o.from),to:d3(_)},l(A),N&&N(A)}},x=_=>{o.from&&!o.to?u(_):u(null)},v=()=>{s(!1);const _=t||r;if(_){const N={...o};o.from&&(N.from=qi(o.from)),o.to&&(N.to=d3(o.to)),_(N)}},y=()=>{s(!1),l(n||e||{from:null,to:null})};C.useEffect(()=>{n&&l(n)},[n]);const b=()=>o.from&&o.to?`${Jt(o.from,"d MMM yyyy")}  ${Jt(o.to,"d MMM yyyy")}`:o.from?`${Jt(o.from,"d MMM yyyy")}  Select end date`:"",w=_=>{const N=HB(_),P=qB(N),A=Bl(N,{weekStartsOn:1}),I=m_(P,{weekStartsOn:1});let O=A;const j=[];let R=[];for(;O<=I;)R.push(O),R.length===7&&(j.push(R),R=[]),O=U5(O,1);return f.jsx("div",{className:"grid grid-cols-7 gap-y-2",children:j.map((D,$)=>D.map((U,V)=>{const B=o.from&&$s(U,o.from),q=o.to&&$s(U,o.to),K=o.from&&o.to&&qo(U,{start:o.from,end:o.to});let H=!1;if(o.from&&!o.to&&c){const J=Ro(o.from,c)?o.from:c,Ne=v_(o.from,c)?o.from:c;H=qo(U,{start:J,end:Ne})&&!$s(U,o.from)}const ne=QB(U,N);let he="relative w-9 h-9 sm:w-10 sm:h-10 flex items-center justify-center",me="w-9 h-9 sm:w-10 sm:h-10 flex items-center justify-center text-sm relative z-10 cursor-pointer rounded-full transition-colors font-medium",ee="",xe="text-gray-700 dark:text-slate-300";ne?B?(ee="bg-accent text-white font-semibold shadow-accent z-20 brightness-110",xe="text-white"):q?ee="bg-white dark:bg-slate-800 border-2 border-accent text-accent font-semibold z-20 hover:brightness-110":K||H?xe="text-accent font-semibold":me+=" hover:bg-slate-100 dark:hover:bg-slate-700":xe="text-gray-300 dark:text-slate-600 pointer-events-none";let _e="";return ne&&(K||H)&&(_e="absolute h-9 sm:h-10 z-0 top-0 bottom-0",B&&(o.to||c)?_e+=Ro(o.to||c,o.from)?" left-0 right-1/2":" left-1/2 right-0 rounded-l-none":q?_e+=" left-0 right-1/2 rounded-r-none":$s(U,c)&&o.from?_e+=Ro(c,o.from)?" left-1/2 right-0":" left-0 right-1/2":_e+=" left-0 right-0",B&&o.to&&Ro(o.to,o.from)&&(_e="absolute h-9 sm:h-10 z-0 top-0 bottom-0 left-0 right-1/2")),f.jsxs("div",{className:he,role:"button","aria-label":`Select ${Jt(U,"d MMMM yyyy")}`,tabIndex:ne?0:-1,onMouseEnter:()=>x(U),onClick:()=>g(U),onKeyDown:J=>{(J.key==="Enter"||J.key===" ")&&(J.preventDefault(),g(U))},children:[_e&&f.jsx("div",{className:_e,style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)"}}),f.jsx("div",{className:`${me} ${ee} ${xe}`,children:Jt(U,"d")})]},U.toISOString())}))})},E=()=>h(hu(d,1)),S=()=>h(KEe(d)),k=["Mo","Tu","We","Th","Fr","Sa","Su"];return f.jsxs("div",{className:"relative w-full max-w-xl font-sans",ref:p,children:[f.jsxs("div",{className:"relative flex items-center w-full outline-none focus-visible:outline-none",onClick:()=>s(!a),role:"button","aria-haspopup":"dialog","aria-expanded":a,"aria-label":"Select date range",tabIndex:0,onKeyDown:_=>{(_.key==="Enter"||_.key===" ")&&s(!a)},children:[f.jsx("div",{className:`w-full h-[42px] sm:h-[44px] flex items-center ps-3 sm:ps-4 pe-9 sm:pe-10 bg-white dark:bg-slate-800 border-2 rounded-2xl cursor-pointer transition-all shadow-sm font-bold
            ${a?"border-accent/30 ring-4 ring-accent/10 bg-accent/5 dark:border-slate-500 dark:ring-0 dark:bg-slate-800":"border-slate-100 dark:border-slate-600 hover:border-slate-300 dark:hover:border-slate-500"}`,children:f.jsx("span",{className:`text-[11px] font-bold truncate ${o.from?"text-gray-900 dark:text-white":"text-gray-500 dark:text-slate-400"}`,children:o.from?b():"Select date range"})}),f.jsx(SD,{className:`absolute end-3 w-4 h-4 pointer-events-none transition-colors ${a?"text-accent":"text-slate-400"}`})]}),a&&f.jsxs("div",{className:"absolute top-full start-0 mt-2 sm:mt-4 z-50 bg-white dark:bg-slate-800 rounded-xl shadow-2xl border border-gray-100 dark:border-slate-700 p-0 overflow-hidden w-[min(420px,calc(100vw-1rem))] sm:w-[680px] animate-in fade-in zoom-in-95 duration-200",role:"dialog","aria-modal":"true","aria-label":"Calendar date range picker",children:[f.jsxs("div",{className:"flex flex-col md:flex-row divide-y md:divide-y-0 md:divide-x dark:md:divide-slate-700 md:divide-gray-100",children:[f.jsxs("div",{className:"p-3 sm:p-6 flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("button",{onClick:S,className:"p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full text-gray-500 dark:text-slate-400 transition-colors","aria-label":"Previous month",children:f.jsx(H3,{className:"w-5 h-5"})}),f.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white",children:Jt(d,"MMMM yyyy")}),f.jsx("button",{onClick:E,className:"p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full text-gray-500 dark:text-slate-400 transition-colors md:hidden","aria-label":"Next month",children:f.jsx(Rh,{className:"w-5 h-5"})}),f.jsx("div",{className:"w-7 hidden md:block"})]}),f.jsx("div",{className:"grid grid-cols-7 mb-4",children:k.map(_=>f.jsx("span",{className:"text-center text-xs font-semibold text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:_},_))}),w(d)]}),f.jsxs("div",{className:"hidden md:block p-3 sm:p-6 flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("div",{className:"w-7"}),f.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white",children:Jt(hu(d,1),"MMMM yyyy")}),f.jsx("button",{onClick:E,className:"p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full text-gray-500 dark:text-slate-400 transition-colors","aria-label":"Next month",children:f.jsx(Rh,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"grid grid-cols-7 mb-4",children:k.map(_=>f.jsx("span",{className:"text-center text-xs font-semibold text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:_},_))}),w(hu(d,1))]})]}),f.jsxs("div",{className:"border-t border-gray-100 dark:border-slate-700 p-3 sm:p-4 flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3 bg-white dark:bg-slate-800 sm:px-6 sm:py-4",children:[f.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:o.from&&o.to?`${Nke(o.to,o.from)+1} days`:o.from?"Select end date":""}),f.jsxs("div",{className:"flex gap-2 sm:gap-3 justify-end",children:[f.jsx("button",{onClick:y,className:"px-6 py-2.5 text-sm font-bold text-gray-700 dark:text-slate-200 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 hover:text-gray-900 dark:hover:text-white transition-all font-sans",children:"Cancel"}),f.jsx("button",{onClick:v,className:"px-8 py-2.5 text-sm font-bold text-white bg-accent rounded-lg shadow-accent transition-all transform active:scale-95 font-sans",children:"Done"})]})]})]})]})},YEe=({title:t,options:e,selectedValues:n,onChange:r,onClear:i,showProductCount:a=!1,productCount:s=0,showSearch:o=!0,collapsible:l=!1})=>{const{appearance:c}=Sn(),[u,d]=C.useState(""),[h,p]=C.useState(!l),g=v=>{const y=n.includes(v)?n.filter(b=>b!==v):[...n,v];r(y)},x=o?a?e:e.filter(v=>v.label.toLowerCase().includes(u.toLowerCase())):e;return f.jsxs("div",{className:`rounded-2xl shadow-[0_2px_10px_-4px_rgba(0,0,0,0.1)] border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col w-full min-w-[240px] transition-all ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:[t&&t.length>0&&f.jsxs("div",{className:"px-4 py-3 pb-2 flex items-center justify-between",children:[f.jsx("div",{className:"flex items-center gap-3",children:f.jsx("h3",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:t})}),l&&f.jsx("button",{onClick:()=>p(!h),className:"p-1 rounded-full text-slate-400 hover:text-slate-600",children:h?f.jsx(Jx,{className:"w-4 h-4"}):f.jsx(uo,{className:"w-4 h-4"})})]}),!a&&o&&h&&f.jsx("div",{className:"px-3 pb-2",children:f.jsxs("div",{className:"relative",children:[f.jsx(Zl,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),f.jsx("input",{type:"text",placeholder:"Search...",value:u,onChange:v=>d(v.target.value),className:`w-full ps-9 pe-4 py-2 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent transition-all font-bold text-xs dark:text-white ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900/50"}`})]})}),f.jsx("div",{className:`flex-1 px-2 pb-2 space-y-1 max-h-64 overflow-y-auto ${h?"":"hidden"}`,children:x.map(v=>{const y=n.includes(v.value);return f.jsxs("div",{onClick:()=>g(v.value),className:`flex items-center justify-between px-3 py-2.5 rounded-xl cursor-pointer transition-all group ${y?"bg-accent/10":["liquid","default_glass"].includes(c==null?void 0:c.theme)?"hover:bg-white/20 dark:hover:bg-slate-700/30":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-5 h-5 rounded-[5px] border flex items-center justify-center transition-all ${y?"bg-accent border-accent shadow-sm":"border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800"}`,children:y&&f.jsx(kD,{className:"w-3.5 h-3.5 text-white stroke-[3px]"})}),f.jsx("span",{className:`text-sm font-semibold ${y?"text-accent":"text-slate-600 dark:text-slate-300"}`,children:v.label})]}),f.jsx("span",{className:`text-xs font-bold ${y?"text-accent":"text-slate-400 group-hover:text-slate-500"}`,children:v.count})]},v.value)})}),n.length>0&&f.jsx("div",{className:"px-4 py-3 border-t border-slate-50 dark:border-slate-700/50",children:f.jsx("button",{onClick:i,className:"text-xs font-bold text-accent hover:underline transition-colors flex items-center gap-1",children:"Clear All"})})]})},Hi=({title:t,options:e,selectedValues:n,onChange:r,icon:i,showProductCount:a=!1,productCount:s=0,showSearch:o=!0,ariaLabel:l=null})=>{const{appearance:c}=Sn(),[u,d]=C.useState(!1),h=C.useRef(null);C.useEffect(()=>{const v=y=>{h.current&&!h.current.contains(y.target)&&d(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const p=()=>{r([])},g=()=>{d(!1)},x=n.length>0;return f.jsxs("div",{className:"relative",ref:h,children:[f.jsxs("button",{onClick:()=>d(!u),"aria-label":l||t||"Filter",className:`flex items-center gap-1.5 px-3 h-[44px] rounded-2xl border-2 transition-all font-bold text-[11px] outline-none ${u||x?"bg-accent/10 border-accent/30 dark:border-slate-500 text-accent shadow-[0_0_15px_-3px_rgba(0,0,0,0.1)]":["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-800/40 backdrop-blur-md border-white/20 dark:border-slate-600 text-slate-500 hover:bg-white/60 dark:hover:bg-slate-700/60 dark:hover:border-slate-500":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-600 text-slate-500 hover:border-slate-300 dark:hover:border-slate-500"}`,children:[i?f.jsx(i,{className:"w-4 h-4"}):f.jsx(eb,{className:"w-4 h-4"}),f.jsx("span",{className:"truncate max-w-[120px]",children:x?`${n.length} Selected`:t}),f.jsx(uo,{className:`w-4 h-4 transition-transform ${u?"rotate-180":""}`})]}),u&&f.jsx("div",{className:"absolute top-full start-0 mt-2 z-50 w-72 animate-in fade-in zoom-in-95 duration-200",children:f.jsx(YEe,{title:"",options:e,selectedValues:n,onChange:r,onClear:p,onClose:g,showProductCount:a,productCount:s,showSearch:o})})]})};class _r{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=e+a,o=Math.abs(e)<Math.abs(a)?e-(s-a):a-(s-e);o&&(n[r++]=o),e=s}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=e[--n];n>0&&(r=s,i=e[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}}function*QEe(t){for(const e of t)yield*e}function JB(t){return Array.from(QEe(t))}function Gc(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}var Ke=1e-6,Cp=1e-12,dt=Math.PI,xn=dt/2,yg=dt/4,Ur=dt*2,Lt=180/dt,Ye=dt/180,bt=Math.abs,Td=Math.atan,Br=Math.atan2,Be=Math.cos,Em=Math.ceil,ZB=Math.exp,Z8=Math.hypot,vg=Math.log,$y=Math.pow,Re=Math.sin,Gi=Math.sign||function(t){return t>0?1:t<0?-1:0},Zn=Math.sqrt,x_=Math.tan;function ez(t){return t>1?0:t<-1?dt:Math.acos(t)}function zr(t){return t>1?xn:t<-1?-xn:Math.asin(t)}function yC(t){return(t=Re(t/2))*t}function ln(){}function xg(t,e){t&&xC.hasOwnProperty(t.type)&&xC[t.type](t,e)}var vC={Feature:function(t,e){xg(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)xg(n[r].geometry,e)}},xC={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){e9(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)e9(n[r],e,0)},Polygon:function(t,e){bC(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)bC(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)xg(n[r],e)}};function e9(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function bC(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)e9(t[n],e,1);e.polygonEnd()}function ya(t,e){t&&vC.hasOwnProperty(t.type)?vC[t.type](t,e):xg(t,e)}var bg=new _r,wg=new _r,tz,nz,t9,n9,r9,fs={point:ln,lineStart:ln,lineEnd:ln,polygonStart:function(){bg=new _r,fs.lineStart=XEe,fs.lineEnd=JEe},polygonEnd:function(){var t=+bg;wg.add(t<0?Ur+t:t),this.lineStart=this.lineEnd=this.point=ln},sphere:function(){wg.add(Ur)}};function XEe(){fs.point=ZEe}function JEe(){rz(tz,nz)}function ZEe(t,e){fs.point=rz,tz=t,nz=e,t*=Ye,e*=Ye,t9=t,n9=Be(e=e/2+yg),r9=Re(e)}function rz(t,e){t*=Ye,e*=Ye,e=e/2+yg;var n=t-t9,r=n>=0?1:-1,i=r*n,a=Be(e),s=Re(e),o=r9*s,l=n9*a+o*Be(i),c=o*r*Re(i);bg.add(Br(c,l)),t9=t,n9=a,r9=s}function eNe(t){return wg=new _r,ya(t,fs),wg*2}function _g(t){return[Br(t[1],t[0]),zr(t[2])]}function zl(t){var e=t[0],n=t[1],r=Be(n);return[r*Be(e),r*Re(e),Re(n)]}function Nm(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Xu(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ly(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Tm(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Sg(t){var e=Zn(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var rn,Yr,gn,gi,J0,iz,az,pu,dh,To,ao,Es={point:i9,lineStart:wC,lineEnd:_C,polygonStart:function(){Es.point=oz,Es.lineStart=tNe,Es.lineEnd=nNe,dh=new _r,fs.polygonStart()},polygonEnd:function(){fs.polygonEnd(),Es.point=i9,Es.lineStart=wC,Es.lineEnd=_C,bg<0?(rn=-(gn=180),Yr=-(gi=90)):dh>Ke?gi=90:dh<-Ke&&(Yr=-90),ao[0]=rn,ao[1]=gn},sphere:function(){rn=-(gn=180),Yr=-(gi=90)}};function i9(t,e){To.push(ao=[rn=t,gn=t]),e<Yr&&(Yr=e),e>gi&&(gi=e)}function sz(t,e){var n=zl([t*Ye,e*Ye]);if(pu){var r=Xu(pu,n),i=[r[1],-r[0],0],a=Xu(i,r);Sg(a),a=_g(a);var s=t-J0,o=s>0?1:-1,l=a[0]*Lt*o,c,u=bt(s)>180;u^(o*J0<l&&l<o*t)?(c=a[1]*Lt,c>gi&&(gi=c)):(l=(l+360)%360-180,u^(o*J0<l&&l<o*t)?(c=-a[1]*Lt,c<Yr&&(Yr=c)):(e<Yr&&(Yr=e),e>gi&&(gi=e))),u?t<J0?pi(rn,t)>pi(rn,gn)&&(gn=t):pi(t,gn)>pi(rn,gn)&&(rn=t):gn>=rn?(t<rn&&(rn=t),t>gn&&(gn=t)):t>J0?pi(rn,t)>pi(rn,gn)&&(gn=t):pi(t,gn)>pi(rn,gn)&&(rn=t)}else To.push(ao=[rn=t,gn=t]);e<Yr&&(Yr=e),e>gi&&(gi=e),pu=n,J0=t}function wC(){Es.point=sz}function _C(){ao[0]=rn,ao[1]=gn,Es.point=i9,pu=null}function oz(t,e){if(pu){var n=t-J0;dh.add(bt(n)>180?n+(n>0?360:-360):n)}else iz=t,az=e;fs.point(t,e),sz(t,e)}function tNe(){fs.lineStart()}function nNe(){oz(iz,az),fs.lineEnd(),bt(dh)>Ke&&(rn=-(gn=180)),ao[0]=rn,ao[1]=gn,pu=null}function pi(t,e){return(e-=t)<0?e+360:e}function rNe(t,e){return t[0]-e[0]}function SC(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function iNe(t){var e,n,r,i,a,s,o;if(gi=gn=-(rn=Yr=1/0),To=[],ya(t,Es),n=To.length){for(To.sort(rNe),e=1,r=To[0],a=[r];e<n;++e)i=To[e],SC(r,i[0])||SC(r,i[1])?(pi(r[0],i[1])>pi(r[0],r[1])&&(r[1]=i[1]),pi(i[0],r[1])>pi(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(s=-1/0,n=a.length-1,e=0,r=a[n];e<=n;r=i,++e)i=a[e],(o=pi(r[1],i[0]))>s&&(s=o,rn=i[0],gn=r[1])}return To=ao=null,rn===1/0||Yr===1/0?[[NaN,NaN],[NaN,NaN]]:[[rn,Yr],[gn,gi]]}var Nf,kg,Eg,Ng,Tg,Pg,Ag,Ig,a9,s9,o9,lz,cz,Ir,Cr,Or,ba={sphere:ln,point:b_,lineStart:kC,lineEnd:EC,polygonStart:function(){ba.lineStart=oNe,ba.lineEnd=lNe},polygonEnd:function(){ba.lineStart=kC,ba.lineEnd=EC}};function b_(t,e){t*=Ye,e*=Ye;var n=Be(e);y4(n*Be(t),n*Re(t),Re(e))}function y4(t,e,n){++Nf,Eg+=(t-Eg)/Nf,Ng+=(e-Ng)/Nf,Tg+=(n-Tg)/Nf}function kC(){ba.point=aNe}function aNe(t,e){t*=Ye,e*=Ye;var n=Be(e);Ir=n*Be(t),Cr=n*Re(t),Or=Re(e),ba.point=sNe,y4(Ir,Cr,Or)}function sNe(t,e){t*=Ye,e*=Ye;var n=Be(e),r=n*Be(t),i=n*Re(t),a=Re(e),s=Br(Zn((s=Cr*a-Or*i)*s+(s=Or*r-Ir*a)*s+(s=Ir*i-Cr*r)*s),Ir*r+Cr*i+Or*a);kg+=s,Pg+=s*(Ir+(Ir=r)),Ag+=s*(Cr+(Cr=i)),Ig+=s*(Or+(Or=a)),y4(Ir,Cr,Or)}function EC(){ba.point=b_}function oNe(){ba.point=cNe}function lNe(){uz(lz,cz),ba.point=b_}function cNe(t,e){lz=t,cz=e,t*=Ye,e*=Ye,ba.point=uz;var n=Be(e);Ir=n*Be(t),Cr=n*Re(t),Or=Re(e),y4(Ir,Cr,Or)}function uz(t,e){t*=Ye,e*=Ye;var n=Be(e),r=n*Be(t),i=n*Re(t),a=Re(e),s=Cr*a-Or*i,o=Or*r-Ir*a,l=Ir*i-Cr*r,c=Z8(s,o,l),u=zr(c),d=c&&-u/c;a9.add(d*s),s9.add(d*o),o9.add(d*l),kg+=u,Pg+=u*(Ir+(Ir=r)),Ag+=u*(Cr+(Cr=i)),Ig+=u*(Or+(Or=a)),y4(Ir,Cr,Or)}function uNe(t){Nf=kg=Eg=Ng=Tg=Pg=Ag=Ig=0,a9=new _r,s9=new _r,o9=new _r,ya(t,ba);var e=+a9,n=+s9,r=+o9,i=Z8(e,n,r);return i<Cp&&(e=Pg,n=Ag,r=Ig,kg<Ke&&(e=Eg,n=Ng,r=Tg),i=Z8(e,n,r),i<Cp)?[NaN,NaN]:[Br(n,e)*Lt,zr(r/i)*Lt]}function Sc(t){return function(){return t}}function l9(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function c9(t,e){return[bt(t)>dt?t+Math.round(-t/Ur)*Ur:t,e]}c9.invert=c9;function w_(t,e,n){return(t%=Ur)?e||n?l9(TC(t),PC(e,n)):TC(t):e||n?PC(e,n):c9}function NC(t){return function(e,n){return e+=t,[e>dt?e-Ur:e<-dt?e+Ur:e,n]}}function TC(t){var e=NC(t);return e.invert=NC(-t),e}function PC(t,e){var n=Be(t),r=Re(t),i=Be(e),a=Re(e);function s(o,l){var c=Be(l),u=Be(o)*c,d=Re(o)*c,h=Re(l),p=h*n+u*r;return[Br(d*i-p*a,u*n-h*r),zr(p*i+d*a)]}return s.invert=function(o,l){var c=Be(l),u=Be(o)*c,d=Re(o)*c,h=Re(l),p=h*i-d*a;return[Br(d*i+h*a,u*n+p*r),zr(p*n-u*r)]},s}function dz(t){t=w_(t[0]*Ye,t[1]*Ye,t.length>2?t[2]*Ye:0);function e(n){return n=t(n[0]*Ye,n[1]*Ye),n[0]*=Lt,n[1]*=Lt,n}return e.invert=function(n){return n=t.invert(n[0]*Ye,n[1]*Ye),n[0]*=Lt,n[1]*=Lt,n},e}function fz(t,e,n,r,i,a){if(n){var s=Be(e),o=Re(e),l=r*n;i==null?(i=e+r*Ur,a=e-l/2):(i=AC(s,i),a=AC(s,a),(r>0?i<a:i>a)&&(i+=r*Ur));for(var c,u=i;r>0?u>a:u<a;u-=l)c=_g([s,-o*Be(u),-o*Re(u)]),t.point(c[0],c[1])}}function AC(t,e){e=zl(e),e[0]-=t,Sg(e);var n=ez(-e[1]);return((-e[2]<0?-n:n)+Ur-Ke)%Ur}function dNe(){var t=Sc([0,0]),e=Sc(90),n=Sc(6),r,i,a={point:s};function s(l,c){r.push(l=i(l,c)),l[0]*=Lt,l[1]*=Lt}function o(){var l=t.apply(this,arguments),c=e.apply(this,arguments)*Ye,u=n.apply(this,arguments)*Ye;return r=[],i=w_(-l[0]*Ye,-l[1]*Ye,0).invert,fz(a,c,u,1),l={type:"Polygon",coordinates:[r]},r=i=null,l}return o.center=function(l){return arguments.length?(t=typeof l=="function"?l:Sc([+l[0],+l[1]]),o):t},o.radius=function(l){return arguments.length?(e=typeof l=="function"?l:Sc(+l),o):e},o.precision=function(l){return arguments.length?(n=typeof l=="function"?l:Sc(+l),o):n},o}function hz(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:ln,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function f3(t,e){return bt(t[0]-e[0])<Ke&&bt(t[1]-e[1])<Ke}function Pm(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function pz(t,e,n,r,i){var a=[],s=[],o,l;if(t.forEach(function(g){if(!((x=g.length-1)<=0)){var x,v=g[0],y=g[x],b;if(f3(v,y)){if(!v[2]&&!y[2]){for(i.lineStart(),o=0;o<x;++o)i.point((v=g[o])[0],v[1]);i.lineEnd();return}y[0]+=2*Ke}a.push(b=new Pm(v,g,null,!0)),s.push(b.o=new Pm(v,null,b,!1)),a.push(b=new Pm(y,g,null,!1)),s.push(b.o=new Pm(y,null,b,!0))}}),!!a.length){for(s.sort(e),IC(a),IC(s),o=0,l=s.length;o<l;++o)s[o].e=n=!n;for(var c=a[0],u,d;;){for(var h=c,p=!0;h.v;)if((h=h.n)===c)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,l=u.length;o<l;++o)i.point((d=u[o])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(u=h.p.z,o=u.length-1;o>=0;--o)i.point((d=u[o])[0],d[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,p=!p}while(!h.v);i.lineEnd()}}}function IC(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Fy(t){return bt(t[0])<=dt?t[0]:Gi(t[0])*((bt(t[0])+dt)%Ur-dt)}function mz(t,e){var n=Fy(e),r=e[1],i=Re(r),a=[Re(n),-Be(n),0],s=0,o=0,l=new _r;i===1?r=xn+Ke:i===-1&&(r=-xn-Ke);for(var c=0,u=t.length;c<u;++c)if(h=(d=t[c]).length)for(var d,h,p=d[h-1],g=Fy(p),x=p[1]/2+yg,v=Re(x),y=Be(x),b=0;b<h;++b,g=E,v=k,y=_,p=w){var w=d[b],E=Fy(w),S=w[1]/2+yg,k=Re(S),_=Be(S),N=E-g,P=N>=0?1:-1,A=P*N,I=A>dt,O=v*k;if(l.add(Br(O*P*Re(A),y*_+O*Be(A))),s+=I?N+P*Ur:N,I^g>=n^E>=n){var j=Xu(zl(p),zl(w));Sg(j);var R=Xu(a,j);Sg(R);var D=(I^N>=0?-1:1)*zr(R[2]);(r>D||r===D&&(j[0]||j[1]))&&(o+=I^N>=0?1:-1)}}return(s<-Ke||s<Ke&&l<-Cp)^o&1}function gz(t,e,n,r){return function(i){var a=e(i),s=hz(),o=e(s),l=!1,c,u,d,h={point:p,lineStart:x,lineEnd:v,polygonStart:function(){h.point=y,h.lineStart=b,h.lineEnd=w,u=[],c=[]},polygonEnd:function(){h.point=p,h.lineStart=x,h.lineEnd=v,u=JB(u);var E=mz(c,r);u.length?(l||(i.polygonStart(),l=!0),pz(u,hNe,E,n,i)):E&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(E,S){t(E,S)&&i.point(E,S)}function g(E,S){a.point(E,S)}function x(){h.point=g,a.lineStart()}function v(){h.point=p,a.lineEnd()}function y(E,S){d.push([E,S]),o.point(E,S)}function b(){o.lineStart(),d=[]}function w(){y(d[0][0],d[0][1]),o.lineEnd();var E=o.clean(),S=s.result(),k,_=S.length,N,P,A;if(d.pop(),c.push(d),d=null,!!_){if(E&1){if(P=S[0],(N=P.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),k=0;k<N;++k)i.point((A=P[k])[0],A[1]);i.lineEnd()}return}_>1&&E&2&&S.push(S.pop().concat(S.shift())),u.push(S.filter(fNe))}}return h}}function fNe(t){return t.length>1}function hNe(t,e){return((t=t.x)[0]<0?t[1]-xn-Ke:xn-t[1])-((e=e.x)[0]<0?e[1]-xn-Ke:xn-e[1])}const u9=gz(function(){return!0},pNe,gNe,[-dt,-xn]);function pNe(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,s){var o=a>0?dt:-dt,l=bt(a-e);bt(l-dt)<Ke?(t.point(e,n=(n+s)/2>0?xn:-xn),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),t.point(a,n),i=0):r!==o&&l>=dt&&(bt(e-r)<Ke&&(e-=r*Ke),bt(a-o)<Ke&&(a-=o*Ke),n=mNe(e,n,a,s),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),i=0),t.point(e=a,n=s),r=o},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function mNe(t,e,n,r){var i,a,s=Re(t-n);return bt(s)>Ke?Td((Re(e)*(a=Be(r))*Re(n)-Re(r)*(i=Be(e))*Re(t))/(i*a*s)):(e+r)/2}function gNe(t,e,n,r){var i;if(t==null)i=n*xn,r.point(-dt,i),r.point(0,i),r.point(dt,i),r.point(dt,0),r.point(dt,-i),r.point(0,-i),r.point(-dt,-i),r.point(-dt,0),r.point(-dt,i);else if(bt(t[0]-e[0])>Ke){var a=t[0]<e[0]?dt:-dt;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function yz(t){var e=Be(t),n=6*Ye,r=e>0,i=bt(e)>Ke;function a(u,d,h,p){fz(p,t,n,h,u,d)}function s(u,d){return Be(u)*Be(d)>e}function o(u){var d,h,p,g,x;return{lineStart:function(){g=p=!1,x=1},point:function(v,y){var b=[v,y],w,E=s(v,y),S=r?E?0:c(v,y):E?c(v+(v<0?dt:-dt),y):0;if(!d&&(g=p=E)&&u.lineStart(),E!==p&&(w=l(d,b),(!w||f3(d,w)||f3(b,w))&&(b[2]=1)),E!==p)x=0,E?(u.lineStart(),w=l(b,d),u.point(w[0],w[1])):(w=l(d,b),u.point(w[0],w[1],2),u.lineEnd()),d=w;else if(i&&d&&r^E){var k;!(S&h)&&(k=l(b,d,!0))&&(x=0,r?(u.lineStart(),u.point(k[0][0],k[0][1]),u.point(k[1][0],k[1][1]),u.lineEnd()):(u.point(k[1][0],k[1][1]),u.lineEnd(),u.lineStart(),u.point(k[0][0],k[0][1],3)))}E&&(!d||!f3(d,b))&&u.point(b[0],b[1]),d=b,p=E,h=S},lineEnd:function(){p&&u.lineEnd(),d=null},clean:function(){return x|(g&&p)<<1}}}function l(u,d,h){var p=zl(u),g=zl(d),x=[1,0,0],v=Xu(p,g),y=Nm(v,v),b=v[0],w=y-b*b;if(!w)return!h&&u;var E=e*y/w,S=-e*b/w,k=Xu(x,v),_=Tm(x,E),N=Tm(v,S);Ly(_,N);var P=k,A=Nm(_,P),I=Nm(P,P),O=A*A-I*(Nm(_,_)-1);if(!(O<0)){var j=Zn(O),R=Tm(P,(-A-j)/I);if(Ly(R,_),R=_g(R),!h)return R;var D=u[0],$=d[0],U=u[1],V=d[1],B;$<D&&(B=D,D=$,$=B);var q=$-D,K=bt(q-dt)<Ke,H=K||q<Ke;if(!K&&V<U&&(B=U,U=V,V=B),H?K?U+V>0^R[1]<(bt(R[0]-D)<Ke?U:V):U<=R[1]&&R[1]<=V:q>dt^(D<=R[0]&&R[0]<=$)){var ne=Tm(P,(-A+j)/I);return Ly(ne,_),[R,_g(ne)]}}}function c(u,d){var h=r?t:dt-t,p=0;return u<-h?p|=1:u>h&&(p|=2),d<-h?p|=4:d>h&&(p|=8),p}return gz(s,o,a,r?[0,-t]:[-dt,t-dt])}function yNe(t,e,n,r,i,a){var s=t[0],o=t[1],l=e[0],c=e[1],u=0,d=1,h=l-s,p=c-o,g;if(g=n-s,!(!h&&g>0)){if(g/=h,h<0){if(g<u)return;g<d&&(d=g)}else if(h>0){if(g>d)return;g>u&&(u=g)}if(g=i-s,!(!h&&g<0)){if(g/=h,h<0){if(g>d)return;g>u&&(u=g)}else if(h>0){if(g<u)return;g<d&&(d=g)}if(g=r-o,!(!p&&g>0)){if(g/=p,p<0){if(g<u)return;g<d&&(d=g)}else if(p>0){if(g>d)return;g>u&&(u=g)}if(g=a-o,!(!p&&g<0)){if(g/=p,p<0){if(g>d)return;g>u&&(u=g)}else if(p>0){if(g<u)return;g<d&&(d=g)}return u>0&&(t[0]=s+u*h,t[1]=o+u*p),d<1&&(e[0]=s+d*h,e[1]=o+d*p),!0}}}}}var Tf=1e9,Am=-Tf;function q5(t,e,n,r){function i(c,u){return t<=c&&c<=n&&e<=u&&u<=r}function a(c,u,d,h){var p=0,g=0;if(c==null||(p=s(c,d))!==(g=s(u,d))||l(c,u)<0^d>0)do h.point(p===0||p===3?t:n,p>1?r:e);while((p=(p+d+4)%4)!==g);else h.point(u[0],u[1])}function s(c,u){return bt(c[0]-t)<Ke?u>0?0:3:bt(c[0]-n)<Ke?u>0?2:1:bt(c[1]-e)<Ke?u>0?1:0:u>0?3:2}function o(c,u){return l(c.x,u.x)}function l(c,u){var d=s(c,1),h=s(u,1);return d!==h?d-h:d===0?u[1]-c[1]:d===1?c[0]-u[0]:d===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,d=hz(),h,p,g,x,v,y,b,w,E,S,k,_={point:N,lineStart:O,lineEnd:j,polygonStart:A,polygonEnd:I};function N(D,$){i(D,$)&&u.point(D,$)}function P(){for(var D=0,$=0,U=p.length;$<U;++$)for(var V=p[$],B=1,q=V.length,K=V[0],H,ne,he=K[0],me=K[1];B<q;++B)H=he,ne=me,K=V[B],he=K[0],me=K[1],ne<=r?me>r&&(he-H)*(r-ne)>(me-ne)*(t-H)&&++D:me<=r&&(he-H)*(r-ne)<(me-ne)*(t-H)&&--D;return D}function A(){u=d,h=[],p=[],k=!0}function I(){var D=P(),$=k&&D,U=(h=JB(h)).length;($||U)&&(c.polygonStart(),$&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),U&&pz(h,o,D,a,c),c.polygonEnd()),u=c,h=p=g=null}function O(){_.point=R,p&&p.push(g=[]),S=!0,E=!1,b=w=NaN}function j(){h&&(R(x,v),y&&E&&d.rejoin(),h.push(d.result())),_.point=N,E&&u.lineEnd()}function R(D,$){var U=i(D,$);if(p&&g.push([D,$]),S)x=D,v=$,y=U,S=!1,U&&(u.lineStart(),u.point(D,$));else if(U&&E)u.point(D,$);else{var V=[b=Math.max(Am,Math.min(Tf,b)),w=Math.max(Am,Math.min(Tf,w))],B=[D=Math.max(Am,Math.min(Tf,D)),$=Math.max(Am,Math.min(Tf,$))];yNe(V,B,t,e,n,r)?(E||(u.lineStart(),u.point(V[0],V[1])),u.point(B[0],B[1]),U||u.lineEnd(),k=!1):U&&(u.lineStart(),u.point(D,$),k=!1)}b=D,w=$,E=U}return _}}function vNe(){var t=0,e=0,n=960,r=500,i,a,s;return s={stream:function(o){return i&&a===o?i:i=q5(t,e,n,r)(a=o)},extent:function(o){return arguments.length?(t=+o[0][0],e=+o[0][1],n=+o[1][0],r=+o[1][1],i=a=null,s):[[t,e],[n,r]]}}}var d9,f9,h3,p3,Ju={sphere:ln,point:ln,lineStart:xNe,lineEnd:ln,polygonStart:ln,polygonEnd:ln};function xNe(){Ju.point=wNe,Ju.lineEnd=bNe}function bNe(){Ju.point=Ju.lineEnd=ln}function wNe(t,e){t*=Ye,e*=Ye,f9=t,h3=Re(e),p3=Be(e),Ju.point=_Ne}function _Ne(t,e){t*=Ye,e*=Ye;var n=Re(e),r=Be(e),i=bt(t-f9),a=Be(i),s=Re(i),o=r*s,l=p3*n-h3*r*a,c=h3*n+p3*r*a;d9.add(Br(Zn(o*o+l*l),c)),f9=t,h3=n,p3=r}function vz(t){return d9=new _r,ya(t,Ju),+d9}var h9=[null,null],SNe={type:"LineString",coordinates:h9};function Cg(t,e){return h9[0]=t,h9[1]=e,vz(SNe)}var CC={Feature:function(t,e){return Og(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(Og(n[r].geometry,e))return!0;return!1}},OC={Sphere:function(){return!0},Point:function(t,e){return jC(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(jC(n[r],e))return!0;return!1},LineString:function(t,e){return MC(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(MC(n[r],e))return!0;return!1},Polygon:function(t,e){return DC(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(DC(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(Og(n[r],e))return!0;return!1}};function Og(t,e){return t&&OC.hasOwnProperty(t.type)?OC[t.type](t,e):!1}function jC(t,e){return Cg(t,e)===0}function MC(t,e){for(var n,r,i,a=0,s=t.length;a<s;a++){if(r=Cg(t[a],e),r===0||a>0&&(i=Cg(t[a],t[a-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Cp*i))return!0;n=r}return!1}function DC(t,e){return!!mz(t.map(kNe),xz(e))}function kNe(t){return t=t.map(xz),t.pop(),t}function xz(t){return[t[0]*Ye,t[1]*Ye]}function ENe(t,e){return(t&&CC.hasOwnProperty(t.type)?CC[t.type]:Og)(t,e)}function RC(t,e,n){var r=Gc(t,e-Ke,n).concat(e);return function(i){return r.map(function(a){return[i,a]})}}function $C(t,e,n){var r=Gc(t,e-Ke,n).concat(e);return function(i){return r.map(function(a){return[a,i]})}}function __(){var t,e,n,r,i,a,s,o,l=10,c=l,u=90,d=360,h,p,g,x,v=2.5;function y(){return{type:"MultiLineString",coordinates:b()}}function b(){return Gc(Em(r/u)*u,n,u).map(g).concat(Gc(Em(o/d)*d,s,d).map(x)).concat(Gc(Em(e/l)*l,t,l).filter(function(w){return bt(w%u)>Ke}).map(h)).concat(Gc(Em(a/c)*c,i,c).filter(function(w){return bt(w%d)>Ke}).map(p))}return y.lines=function(){return b().map(function(w){return{type:"LineString",coordinates:w}})},y.outline=function(){return{type:"Polygon",coordinates:[g(r).concat(x(s).slice(1),g(n).reverse().slice(1),x(o).reverse().slice(1))]}},y.extent=function(w){return arguments.length?y.extentMajor(w).extentMinor(w):y.extentMinor()},y.extentMajor=function(w){return arguments.length?(r=+w[0][0],n=+w[1][0],o=+w[0][1],s=+w[1][1],r>n&&(w=r,r=n,n=w),o>s&&(w=o,o=s,s=w),y.precision(v)):[[r,o],[n,s]]},y.extentMinor=function(w){return arguments.length?(e=+w[0][0],t=+w[1][0],a=+w[0][1],i=+w[1][1],e>t&&(w=e,e=t,t=w),a>i&&(w=a,a=i,i=w),y.precision(v)):[[e,a],[t,i]]},y.step=function(w){return arguments.length?y.stepMajor(w).stepMinor(w):y.stepMinor()},y.stepMajor=function(w){return arguments.length?(u=+w[0],d=+w[1],y):[u,d]},y.stepMinor=function(w){return arguments.length?(l=+w[0],c=+w[1],y):[l,c]},y.precision=function(w){return arguments.length?(v=+w,h=RC(a,i,90),p=$C(e,t,v),g=RC(o,s,90),x=$C(r,n,v),y):v},y.extentMajor([[-180,-90+Ke],[180,90-Ke]]).extentMinor([[-180,-80-Ke],[180,80+Ke]])}function NNe(){return __()()}function TNe(t,e){var n=t[0]*Ye,r=t[1]*Ye,i=e[0]*Ye,a=e[1]*Ye,s=Be(r),o=Re(r),l=Be(a),c=Re(a),u=s*Be(n),d=s*Re(n),h=l*Be(i),p=l*Re(i),g=2*zr(Zn(yC(a-r)+s*l*yC(i-n))),x=Re(g),v=g?function(y){var b=Re(y*=g)/x,w=Re(g-y)/x,E=w*u+b*h,S=w*d+b*p,k=w*o+b*c;return[Br(S,E)*Lt,Br(k,Zn(E*E+S*S))*Lt]}:function(){return[n*Lt,r*Lt]};return v.distance=g,v}const Op=t=>t;var Vy=new _r,p9=new _r,bz,wz,m9,g9,Ts={point:ln,lineStart:ln,lineEnd:ln,polygonStart:function(){Ts.lineStart=PNe,Ts.lineEnd=INe},polygonEnd:function(){Ts.lineStart=Ts.lineEnd=Ts.point=ln,Vy.add(bt(p9)),p9=new _r},result:function(){var t=Vy/2;return Vy=new _r,t}};function PNe(){Ts.point=ANe}function ANe(t,e){Ts.point=_z,bz=m9=t,wz=g9=e}function _z(t,e){p9.add(g9*t-m9*e),m9=t,g9=e}function INe(){_z(bz,wz)}var Zu=1/0,jg=Zu,jp=-Zu,Mg=jp,Dg={point:CNe,lineStart:ln,lineEnd:ln,polygonStart:ln,polygonEnd:ln,result:function(){var t=[[Zu,jg],[jp,Mg]];return jp=Mg=-(jg=Zu=1/0),t}};function CNe(t,e){t<Zu&&(Zu=t),t>jp&&(jp=t),e<jg&&(jg=e),e>Mg&&(Mg=e)}var y9=0,v9=0,Pf=0,Rg=0,$g=0,Kc=0,x9=0,b9=0,Af=0,Sz,kz,za,Wa,Vi={point:Wl,lineStart:LC,lineEnd:FC,polygonStart:function(){Vi.lineStart=MNe,Vi.lineEnd=DNe},polygonEnd:function(){Vi.point=Wl,Vi.lineStart=LC,Vi.lineEnd=FC},result:function(){var t=Af?[x9/Af,b9/Af]:Kc?[Rg/Kc,$g/Kc]:Pf?[y9/Pf,v9/Pf]:[NaN,NaN];return y9=v9=Pf=Rg=$g=Kc=x9=b9=Af=0,t}};function Wl(t,e){y9+=t,v9+=e,++Pf}function LC(){Vi.point=ONe}function ONe(t,e){Vi.point=jNe,Wl(za=t,Wa=e)}function jNe(t,e){var n=t-za,r=e-Wa,i=Zn(n*n+r*r);Rg+=i*(za+t)/2,$g+=i*(Wa+e)/2,Kc+=i,Wl(za=t,Wa=e)}function FC(){Vi.point=Wl}function MNe(){Vi.point=RNe}function DNe(){Ez(Sz,kz)}function RNe(t,e){Vi.point=Ez,Wl(Sz=za=t,kz=Wa=e)}function Ez(t,e){var n=t-za,r=e-Wa,i=Zn(n*n+r*r);Rg+=i*(za+t)/2,$g+=i*(Wa+e)/2,Kc+=i,i=Wa*t-za*e,x9+=i*(za+t),b9+=i*(Wa+e),Af+=i*3,Wl(za=t,Wa=e)}function Nz(t){this._context=t}Nz.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Ur);break}}},result:ln};var w9=new _r,Uy,Tz,Pz,If,Cf,Mp={point:ln,lineStart:function(){Mp.point=$Ne},lineEnd:function(){Uy&&Az(Tz,Pz),Mp.point=ln},polygonStart:function(){Uy=!0},polygonEnd:function(){Uy=null},result:function(){var t=+w9;return w9=new _r,t}};function $Ne(t,e){Mp.point=Az,Tz=If=t,Pz=Cf=e}function Az(t,e){If-=t,Cf-=e,w9.add(Zn(If*If+Cf*Cf)),If=t,Cf=e}function Iz(){this._string=[]}Iz.prototype={_radius:4.5,_circle:VC(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._string.push("M",t,",",e),this._point=1;break}case 1:{this._string.push("L",t,",",e);break}default:{this._circle==null&&(this._circle=VC(this._radius)),this._string.push("M",t,",",e,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function VC(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Cz(t,e){var n=4.5,r,i;function a(s){return s&&(typeof n=="function"&&i.pointRadius(+n.apply(this,arguments)),ya(s,r(i))),i.result()}return a.area=function(s){return ya(s,r(Ts)),Ts.result()},a.measure=function(s){return ya(s,r(Mp)),Mp.result()},a.bounds=function(s){return ya(s,r(Dg)),Dg.result()},a.centroid=function(s){return ya(s,r(Vi)),Vi.result()},a.projection=function(s){return arguments.length?(r=s==null?(t=null,Op):(t=s).stream,a):t},a.context=function(s){return arguments.length?(i=s==null?(e=null,new Iz):new Nz(e=s),typeof n!="function"&&i.pointRadius(n),a):e},a.pointRadius=function(s){return arguments.length?(n=typeof s=="function"?s:(i.pointRadius(+s),+s),a):n},a.projection(t).context(e)}function LNe(t){return{stream:v4(t)}}function v4(t){return function(e){var n=new _9;for(var r in t)n[r]=t[r];return n.stream=e,n}}function _9(){}_9.prototype={constructor:_9,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function S_(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),ya(n,t.stream(Dg)),e(Dg.result()),r!=null&&t.clipExtent(r),t}function H5(t,e,n){return S_(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),o=+e[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(a-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([o,l])},n)}function k_(t,e,n){return H5(t,[[0,0],e],n)}function E_(t,e,n){return S_(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,o=-a*r[0][1];t.scale(150*a).translate([s,o])},n)}function N_(t,e,n){return S_(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],o=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,o])},n)}var UC=16,FNe=Be(30*Ye);function BC(t,e){return+e?UNe(t,e):VNe(t)}function VNe(t){return v4({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function UNe(t,e){function n(r,i,a,s,o,l,c,u,d,h,p,g,x,v){var y=c-r,b=u-i,w=y*y+b*b;if(w>4*e&&x--){var E=s+h,S=o+p,k=l+g,_=Zn(E*E+S*S+k*k),N=zr(k/=_),P=bt(bt(k)-1)<Ke||bt(a-d)<Ke?(a+d)/2:Br(S,E),A=t(P,N),I=A[0],O=A[1],j=I-r,R=O-i,D=b*j-y*R;(D*D/w>e||bt((y*j+b*R)/w-.5)>.3||s*h+o*p+l*g<FNe)&&(n(r,i,a,s,o,l,I,O,P,E/=_,S/=_,k,x,v),v.point(I,O),n(I,O,P,E,S,k,c,u,d,h,p,g,x,v))}}return function(r){var i,a,s,o,l,c,u,d,h,p,g,x,v={point:y,lineStart:b,lineEnd:E,polygonStart:function(){r.polygonStart(),v.lineStart=S},polygonEnd:function(){r.polygonEnd(),v.lineStart=b}};function y(N,P){N=t(N,P),r.point(N[0],N[1])}function b(){d=NaN,v.point=w,r.lineStart()}function w(N,P){var A=zl([N,P]),I=t(N,P);n(d,h,u,p,g,x,d=I[0],h=I[1],u=N,p=A[0],g=A[1],x=A[2],UC,r),r.point(d,h)}function E(){v.point=y,r.lineEnd()}function S(){b(),v.point=k,v.lineEnd=_}function k(N,P){w(i=N,P),a=d,s=h,o=p,l=g,c=x,v.point=w}function _(){n(d,h,u,p,g,x,a,s,i,o,l,c,UC,r),v.lineEnd=E,E()}return v}}var BNe=v4({point:function(t,e){this.stream.point(t*Ye,e*Ye)}});function zNe(t){return v4({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function WNe(t,e,n,r,i){function a(s,o){return s*=r,o*=i,[e+t*s,n-t*o]}return a.invert=function(s,o){return[(s-e)/t*r,(n-o)/t*i]},a}function zC(t,e,n,r,i,a){if(!a)return WNe(t,e,n,r,i);var s=Be(a),o=Re(a),l=s*t,c=o*t,u=s/t,d=o/t,h=(o*n-s*e)/t,p=(o*e+s*n)/t;function g(x,v){return x*=r,v*=i,[l*x-c*v+e,n-c*x-l*v]}return g.invert=function(x,v){return[r*(u*x-d*v+h),i*(p-d*x-u*v)]},g}function ms(t){return T_(function(){return t})()}function T_(t){var e,n=150,r=480,i=250,a=0,s=0,o=0,l=0,c=0,u,d=0,h=1,p=1,g=null,x=u9,v=null,y,b,w,E=Op,S=.5,k,_,N,P,A;function I(D){return N(D[0]*Ye,D[1]*Ye)}function O(D){return D=N.invert(D[0],D[1]),D&&[D[0]*Lt,D[1]*Lt]}I.stream=function(D){return P&&A===D?P:P=BNe(zNe(u)(x(k(E(A=D)))))},I.preclip=function(D){return arguments.length?(x=D,g=void 0,R()):x},I.postclip=function(D){return arguments.length?(E=D,v=y=b=w=null,R()):E},I.clipAngle=function(D){return arguments.length?(x=+D?yz(g=D*Ye):(g=null,u9),R()):g*Lt},I.clipExtent=function(D){return arguments.length?(E=D==null?(v=y=b=w=null,Op):q5(v=+D[0][0],y=+D[0][1],b=+D[1][0],w=+D[1][1]),R()):v==null?null:[[v,y],[b,w]]},I.scale=function(D){return arguments.length?(n=+D,j()):n},I.translate=function(D){return arguments.length?(r=+D[0],i=+D[1],j()):[r,i]},I.center=function(D){return arguments.length?(a=D[0]%360*Ye,s=D[1]%360*Ye,j()):[a*Lt,s*Lt]},I.rotate=function(D){return arguments.length?(o=D[0]%360*Ye,l=D[1]%360*Ye,c=D.length>2?D[2]%360*Ye:0,j()):[o*Lt,l*Lt,c*Lt]},I.angle=function(D){return arguments.length?(d=D%360*Ye,j()):d*Lt},I.reflectX=function(D){return arguments.length?(h=D?-1:1,j()):h<0},I.reflectY=function(D){return arguments.length?(p=D?-1:1,j()):p<0},I.precision=function(D){return arguments.length?(k=BC(_,S=D*D),R()):Zn(S)},I.fitExtent=function(D,$){return H5(I,D,$)},I.fitSize=function(D,$){return k_(I,D,$)},I.fitWidth=function(D,$){return E_(I,D,$)},I.fitHeight=function(D,$){return N_(I,D,$)};function j(){var D=zC(n,0,0,h,p,d).apply(null,e(a,s)),$=zC(n,r-D[0],i-D[1],h,p,d);return u=w_(o,l,c),_=l9(e,$),N=l9(u,_),k=BC(_,S),R()}function R(){return P=A=null,I}return function(){return e=t.apply(this,arguments),I.invert=e.invert&&O,j()}}function P_(t){var e=0,n=dt/3,r=T_(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*Ye,n=a[1]*Ye):[e*Lt,n*Lt]},i}function qNe(t){var e=Be(t);function n(r,i){return[r*e,Re(i)/e]}return n.invert=function(r,i){return[r/e,zr(i*e)]},n}function Oz(t,e){var n=Re(t),r=(n+Re(e))/2;if(bt(r)<Ke)return qNe(t);var i=1+n*(2*r-n),a=Zn(i)/r;function s(o,l){var c=Zn(i-2*r*Re(l))/r;return[c*Re(o*=r),a-c*Be(o)]}return s.invert=function(o,l){var c=a-l,u=Br(o,bt(c))*Gi(c);return c*r<0&&(u-=dt*Gi(o)*Gi(c)),[u/r,zr((i-(o*o+c*c)*r*r)/(2*r))]},s}function Lg(){return P_(Oz).scale(155.424).center([0,33.6442])}function jz(){return Lg().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function HNe(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function GNe(){var t,e,n=jz(),r,i=Lg().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,s=Lg().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,l,c={point:function(h,p){l=[h,p]}};function u(h){var p=h[0],g=h[1];return l=null,r.point(p,g),l||(a.point(p,g),l)||(o.point(p,g),l)}u.invert=function(h){var p=n.scale(),g=n.translate(),x=(h[0]-g[0])/p,v=(h[1]-g[1])/p;return(v>=.12&&v<.234&&x>=-.425&&x<-.214?i:v>=.166&&v<.234&&x>=-.214&&x<-.115?s:n).invert(h)},u.stream=function(h){return t&&e===h?t:t=HNe([n.stream(e=h),i.stream(h),s.stream(h)])},u.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),s.precision(h),d()):n.precision()},u.scale=function(h){return arguments.length?(n.scale(h),i.scale(h*.35),s.scale(h),u.translate(n.translate())):n.scale()},u.translate=function(h){if(!arguments.length)return n.translate();var p=n.scale(),g=+h[0],x=+h[1];return r=n.translate(h).clipExtent([[g-.455*p,x-.238*p],[g+.455*p,x+.238*p]]).stream(c),a=i.translate([g-.307*p,x+.201*p]).clipExtent([[g-.425*p+Ke,x+.12*p+Ke],[g-.214*p-Ke,x+.234*p-Ke]]).stream(c),o=s.translate([g-.205*p,x+.212*p]).clipExtent([[g-.214*p+Ke,x+.166*p+Ke],[g-.115*p-Ke,x+.234*p-Ke]]).stream(c),d()},u.fitExtent=function(h,p){return H5(u,h,p)},u.fitSize=function(h,p){return k_(u,h,p)},u.fitWidth=function(h,p){return E_(u,h,p)},u.fitHeight=function(h,p){return N_(u,h,p)};function d(){return t=e=null,u}return u.scale(1070)}function Mz(t){return function(e,n){var r=Be(e),i=Be(n),a=t(r*i);return a===1/0?[2,0]:[a*i*Re(e),a*Re(n)]}}function x4(t){return function(e,n){var r=Zn(e*e+n*n),i=t(r),a=Re(i),s=Be(i);return[Br(e*a,r*s),zr(r&&n*a/r)]}}var A_=Mz(function(t){return Zn(2/(1+t))});A_.invert=x4(function(t){return 2*zr(t/2)});function KNe(){return ms(A_).scale(124.75).clipAngle(180-.001)}var I_=Mz(function(t){return(t=ez(t))&&t/Re(t)});I_.invert=x4(function(t){return t});function YNe(){return ms(I_).scale(79.4188).clipAngle(180-.001)}function b4(t,e){return[t,vg(x_((xn+e)/2))]}b4.invert=function(t,e){return[t,2*Td(ZB(e))-xn]};function QNe(){return Dz(b4).scale(961/Ur)}function Dz(t){var e=ms(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,s=null,o,l,c;e.scale=function(d){return arguments.length?(r(d),u()):r()},e.translate=function(d){return arguments.length?(i(d),u()):i()},e.center=function(d){return arguments.length?(n(d),u()):n()},e.clipExtent=function(d){return arguments.length?(d==null?s=o=l=c=null:(s=+d[0][0],o=+d[0][1],l=+d[1][0],c=+d[1][1]),u()):s==null?null:[[s,o],[l,c]]};function u(){var d=dt*r(),h=e(dz(e.rotate()).invert([0,0]));return a(s==null?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:t===b4?[[Math.max(h[0]-d,s),o],[Math.min(h[0]+d,l),c]]:[[s,Math.max(h[1]-d,o)],[l,Math.min(h[1]+d,c)]])}return u()}function Im(t){return x_((xn+t)/2)}function Rz(t,e){var n=Be(t),r=t===e?Re(t):vg(n/Be(e))/vg(Im(e)/Im(t)),i=n*$y(Im(t),r)/r;if(!r)return b4;function a(s,o){i>0?o<-xn+Ke&&(o=-xn+Ke):o>xn-Ke&&(o=xn-Ke);var l=i/$y(Im(o),r);return[l*Re(r*s),i-l*Be(r*s)]}return a.invert=function(s,o){var l=i-o,c=Gi(r)*Zn(s*s+l*l),u=Br(s,bt(l))*Gi(l);return l*r<0&&(u-=dt*Gi(s)*Gi(l)),[u/r,2*Td($y(i/c,1/r))-xn]},a}function XNe(){return P_(Rz).scale(109.5).parallels([30,30])}function Dp(t,e){return[t,e]}Dp.invert=Dp;function JNe(){return ms(Dp).scale(152.63)}function $z(t,e){var n=Be(t),r=t===e?Re(t):(n-Be(e))/(e-t),i=n/r+t;if(bt(r)<Ke)return Dp;function a(s,o){var l=i-o,c=r*s;return[l*Re(c),i-l*Be(c)]}return a.invert=function(s,o){var l=i-o,c=Br(s,bt(l))*Gi(l);return l*r<0&&(c-=dt*Gi(s)*Gi(l)),[c/r,i-Gi(r)*Zn(s*s+l*l)]},a}function ZNe(){return P_($z).scale(131.154).center([0,13.9389])}var fh=1.340264,hh=-.081106,ph=893e-6,mh=.003796,Fg=Zn(3)/2,eTe=12;function C_(t,e){var n=zr(Fg*Re(e)),r=n*n,i=r*r*r;return[t*Be(n)/(Fg*(fh+3*hh*r+i*(7*ph+9*mh*r))),n*(fh+hh*r+i*(ph+mh*r))]}C_.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,a=0,s,o,l;a<eTe&&(o=n*(fh+hh*r+i*(ph+mh*r))-e,l=fh+3*hh*r+i*(7*ph+9*mh*r),n-=s=o/l,r=n*n,i=r*r*r,!(bt(s)<Cp));++a);return[Fg*t*(fh+3*hh*r+i*(7*ph+9*mh*r))/Be(n),zr(Re(n)/Fg)]};function tTe(){return ms(C_).scale(177.158)}function O_(t,e){var n=Be(e),r=Be(t)*n;return[n*Re(t)/r,Re(e)/r]}O_.invert=x4(Td);function nTe(){return ms(O_).scale(144.049).clipAngle(60)}function rTe(){var t=1,e=0,n=0,r=1,i=1,a=0,s,o,l=null,c,u,d,h=1,p=1,g=v4({point:function(E,S){var k=w([E,S]);this.stream.point(k[0],k[1])}}),x=Op,v,y;function b(){return h=t*r,p=t*i,v=y=null,w}function w(E){var S=E[0]*h,k=E[1]*p;if(a){var _=k*s-S*o;S=S*s+k*o,k=_}return[S+e,k+n]}return w.invert=function(E){var S=E[0]-e,k=E[1]-n;if(a){var _=k*s+S*o;S=S*s-k*o,k=_}return[S/h,k/p]},w.stream=function(E){return v&&y===E?v:v=g(x(y=E))},w.postclip=function(E){return arguments.length?(x=E,l=c=u=d=null,b()):x},w.clipExtent=function(E){return arguments.length?(x=E==null?(l=c=u=d=null,Op):q5(l=+E[0][0],c=+E[0][1],u=+E[1][0],d=+E[1][1]),b()):l==null?null:[[l,c],[u,d]]},w.scale=function(E){return arguments.length?(t=+E,b()):t},w.translate=function(E){return arguments.length?(e=+E[0],n=+E[1],b()):[e,n]},w.angle=function(E){return arguments.length?(a=E%360*Ye,o=Re(a),s=Be(a),b()):a*Lt},w.reflectX=function(E){return arguments.length?(r=E?-1:1,b()):r<0},w.reflectY=function(E){return arguments.length?(i=E?-1:1,b()):i<0},w.fitExtent=function(E,S){return H5(w,E,S)},w.fitSize=function(E,S){return k_(w,E,S)},w.fitWidth=function(E,S){return E_(w,E,S)},w.fitHeight=function(E,S){return N_(w,E,S)},w}function j_(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}j_.invert=function(t,e){var n=e,r=25,i;do{var a=n*n,s=a*a;n-=i=(n*(1.007226+a*(.015085+s*(-.044475+.028874*a-.005916*s)))-e)/(1.007226+a*(.015085*3+s*(-.044475*7+.028874*9*a-.005916*11*s)))}while(bt(i)>Ke&&--r>0);return[t/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function iTe(){return ms(j_).scale(175.295)}function M_(t,e){return[Be(e)*Re(t),Re(e)]}M_.invert=x4(zr);function aTe(){return ms(M_).scale(249.5).clipAngle(90+Ke)}function D_(t,e){var n=Be(e),r=1+Be(t)*n;return[n*Re(t)/r,Re(e)/r]}D_.invert=x4(function(t){return 2*Td(t)});function sTe(){return ms(D_).scale(250).clipAngle(142)}function R_(t,e){return[vg(x_((xn+e)/2)),-t]}R_.invert=function(t,e){return[-e,2*Td(ZB(t))-xn]};function oTe(){var t=Dz(R_),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}const lTe=Object.freeze(Object.defineProperty({__proto__:null,geoAlbers:jz,geoAlbersUsa:GNe,geoArea:eNe,geoAzimuthalEqualArea:KNe,geoAzimuthalEqualAreaRaw:A_,geoAzimuthalEquidistant:YNe,geoAzimuthalEquidistantRaw:I_,geoBounds:iNe,geoCentroid:uNe,geoCircle:dNe,geoClipAntimeridian:u9,geoClipCircle:yz,geoClipExtent:vNe,geoClipRectangle:q5,geoConicConformal:XNe,geoConicConformalRaw:Rz,geoConicEqualArea:Lg,geoConicEqualAreaRaw:Oz,geoConicEquidistant:ZNe,geoConicEquidistantRaw:$z,geoContains:ENe,geoDistance:Cg,geoEqualEarth:tTe,geoEqualEarthRaw:C_,geoEquirectangular:JNe,geoEquirectangularRaw:Dp,geoGnomonic:nTe,geoGnomonicRaw:O_,geoGraticule:__,geoGraticule10:NNe,geoIdentity:rTe,geoInterpolate:TNe,geoLength:vz,geoMercator:QNe,geoMercatorRaw:b4,geoNaturalEarth1:iTe,geoNaturalEarth1Raw:j_,geoOrthographic:aTe,geoOrthographicRaw:M_,geoPath:Cz,geoProjection:ms,geoProjectionMutator:T_,geoRotation:dz,geoStereographic:sTe,geoStereographicRaw:D_,geoStream:ya,geoTransform:LNe,geoTransverseMercator:oTe,geoTransverseMercatorRaw:R_},Symbol.toStringTag,{value:"Module"}));function cTe(t){return t}function uTe(t){if(t==null)return cTe;var e,n,r=t.scale[0],i=t.scale[1],a=t.translate[0],s=t.translate[1];return function(o,l){l||(e=n=0);var c=2,u=o.length,d=new Array(u);for(d[0]=(e+=o[0])*r+a,d[1]=(n+=o[1])*i+s;c<u;)d[c]=o[c],++c;return d}}function dTe(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}function fTe(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return WC(t,n)})}:WC(t,e)}function WC(t,e){var n=e.id,r=e.bbox,i=e.properties==null?{}:e.properties,a=Lz(t,e);return n==null&&r==null?{type:"Feature",properties:i,geometry:a}:r==null?{type:"Feature",id:n,properties:i,geometry:a}:{type:"Feature",id:n,bbox:r,properties:i,geometry:a}}function Lz(t,e){var n=uTe(t.transform),r=t.arcs;function i(u,d){d.length&&d.pop();for(var h=r[u<0?~u:u],p=0,g=h.length;p<g;++p)d.push(n(h[p],p));u<0&&dTe(d,g)}function a(u){return n(u)}function s(u){for(var d=[],h=0,p=u.length;h<p;++h)i(u[h],d);return d.length<2&&d.push(d[0]),d}function o(u){for(var d=s(u);d.length<4;)d.push(d[0]);return d}function l(u){return u.map(o)}function c(u){var d=u.type,h;switch(d){case"GeometryCollection":return{type:d,geometries:u.geometries.map(c)};case"Point":h=a(u.coordinates);break;case"MultiPoint":h=u.coordinates.map(a);break;case"LineString":h=s(u.arcs);break;case"MultiLineString":h=u.arcs.map(s);break;case"Polygon":h=l(u.arcs);break;case"MultiPolygon":h=u.arcs.map(l);break;default:return null}return{type:d,coordinates:h}}return c(e)}function hTe(t,e){var n={},r={},i={},a=[],s=-1;e.forEach(function(c,u){var d=t.arcs[c<0?~c:c],h;d.length<3&&!d[1][0]&&!d[1][1]&&(h=e[++s],e[s]=c,e[u]=h)}),e.forEach(function(c){var u=o(c),d=u[0],h=u[1],p,g;if(p=i[d])if(delete i[p.end],p.push(c),p.end=h,g=r[h]){delete r[g.start];var x=g===p?p:p.concat(g);r[x.start=p.start]=i[x.end=g.end]=x}else r[p.start]=i[p.end]=p;else if(p=r[h])if(delete r[p.start],p.unshift(c),p.start=d,g=i[d]){delete i[g.end];var v=g===p?p:g.concat(p);r[v.start=g.start]=i[v.end=p.end]=v}else r[p.start]=i[p.end]=p;else p=[c],r[p.start=d]=i[p.end=h]=p});function o(c){var u=t.arcs[c<0?~c:c],d=u[0],h;return t.transform?(h=[0,0],u.forEach(function(p){h[0]+=p[0],h[1]+=p[1]})):h=u[u.length-1],c<0?[h,d]:[d,h]}function l(c,u){for(var d in c){var h=c[d];delete u[h.start],delete h.start,delete h.end,h.forEach(function(p){n[p<0?~p:p]=1}),a.push(h)}}return l(i,r),l(r,i),e.forEach(function(c){n[c<0?~c:c]||a.push([c])}),a}function qC(t){return Lz(t,pTe.apply(this,arguments))}function pTe(t,e,n){var r,i,a;if(arguments.length>1)r=mTe(t,e,n);else for(i=0,r=new Array(a=t.arcs.length);i<a;++i)r[i]=i;return{type:"MultiLineString",arcs:hTe(t,r)}}function mTe(t,e,n){var r=[],i=[],a;function s(d){var h=d<0?~d:d;(i[h]||(i[h]=[])).push({i:d,g:a})}function o(d){d.forEach(s)}function l(d){d.forEach(o)}function c(d){d.forEach(l)}function u(d){switch(a=d,d.type){case"GeometryCollection":d.geometries.forEach(u);break;case"LineString":o(d.arcs);break;case"MultiLineString":case"Polygon":l(d.arcs);break;case"MultiPolygon":c(d.arcs);break}}return u(e),i.forEach(n==null?function(d){r.push(d[0].i)}:function(d){n(d[0].g,d[d.length-1].g)&&r.push(d[0].i)}),r}var gTe={value:()=>{}};function $_(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new m3(n)}function m3(t){this._=t}function yTe(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}m3.prototype=$_.prototype={constructor:m3,on:function(t,e){var n=this._,r=yTe(t+"",n),i,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((i=(t=r[a]).type)&&(i=vTe(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<s;)if(i=(t=r[a]).type)n[i]=HC(n[i],t.name,e);else if(e==null)for(i in n)n[i]=HC(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new m3(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function vTe(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function HC(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=gTe,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var S9="http://www.w3.org/1999/xhtml";const GC={svg:"http://www.w3.org/2000/svg",xhtml:S9,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function G5(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),GC.hasOwnProperty(e)?{space:GC[e],local:t}:t}function xTe(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===S9&&e.documentElement.namespaceURI===S9?e.createElement(t):e.createElementNS(n,t)}}function bTe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Fz(t){var e=G5(t);return(e.local?bTe:xTe)(e)}function wTe(){}function L_(t){return t==null?wTe:function(){return this.querySelector(t)}}function _Te(t){typeof t!="function"&&(t=L_(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=new Array(s),l,c,u=0;u<s;++u)(l=a[u])&&(c=t.call(l,l.__data__,u,a))&&("__data__"in l&&(c.__data__=l.__data__),o[u]=c);return new ai(r,this._parents)}function Vz(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function STe(){return[]}function Uz(t){return t==null?STe:function(){return this.querySelectorAll(t)}}function kTe(t){return function(){var e=t.apply(this,arguments);return e==null?[]:Vz(e)}}function ETe(t){typeof t=="function"?t=kTe(t):t=Uz(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var s=e[a],o=s.length,l,c=0;c<o;++c)(l=s[c])&&(r.push(t.call(l,l.__data__,c,s)),i.push(l));return new ai(r,i)}function Bz(t){return function(){return this.matches(t)}}function zz(t){return function(e){return e.matches(t)}}var NTe=Array.prototype.find;function TTe(t){return function(){return NTe.call(this.children,t)}}function PTe(){return this.firstElementChild}function ATe(t){return this.select(t==null?PTe:TTe(typeof t=="function"?t:zz(t)))}var ITe=Array.prototype.filter;function CTe(){return this.children}function OTe(t){return function(){return ITe.call(this.children,t)}}function jTe(t){return this.selectAll(t==null?CTe:OTe(typeof t=="function"?t:zz(t)))}function MTe(t){typeof t!="function"&&(t=Bz(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=[],l,c=0;c<s;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&o.push(l);return new ai(r,this._parents)}function Wz(t){return new Array(t.length)}function DTe(){return new ai(this._enter||this._groups.map(Wz),this._parents)}function Vg(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Vg.prototype={constructor:Vg,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function RTe(t){return function(){return t}}function $Te(t,e,n,r,i,a){for(var s=0,o,l=e.length,c=a.length;s<c;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new Vg(t,a[s]);for(;s<l;++s)(o=e[s])&&(i[s]=o)}function LTe(t,e,n,r,i,a,s){var o,l,c=new Map,u=e.length,d=a.length,h=new Array(u),p;for(o=0;o<u;++o)(l=e[o])&&(h[o]=p=s.call(l,l.__data__,o,e)+"",c.has(p)?i[o]=l:c.set(p,l));for(o=0;o<d;++o)p=s.call(t,a[o],o,a)+"",(l=c.get(p))?(r[o]=l,l.__data__=a[o],c.delete(p)):n[o]=new Vg(t,a[o]);for(o=0;o<u;++o)(l=e[o])&&c.get(h[o])===l&&(i[o]=l)}function FTe(t){return t.__data__}function VTe(t,e){if(!arguments.length)return Array.from(this,FTe);var n=e?LTe:$Te,r=this._parents,i=this._groups;typeof t!="function"&&(t=RTe(t));for(var a=i.length,s=new Array(a),o=new Array(a),l=new Array(a),c=0;c<a;++c){var u=r[c],d=i[c],h=d.length,p=Vz(t.call(u,u&&u.__data__,c,r)),g=p.length,x=o[c]=new Array(g),v=s[c]=new Array(g),y=l[c]=new Array(h);n(u,d,x,v,y,p,e);for(var b=0,w=0,E,S;b<g;++b)if(E=x[b]){for(b>=w&&(w=b+1);!(S=v[w])&&++w<g;);E._next=S||null}}return s=new ai(s,r),s._enter=o,s._exit=l,s}function UTe(){return new ai(this._exit||this._groups.map(Wz),this._parents)}function BTe(t,e,n){var r=this.enter(),i=this,a=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),e!=null&&(i=e(i)),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function zTe(t){if(!(t instanceof ai))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l=e[o],c=n[o],u=l.length,d=s[o]=new Array(u),h,p=0;p<u;++p)(h=l[p]||c[p])&&(d[p]=h);for(;o<r;++o)s[o]=e[o];return new ai(s,this._parents)}function WTe(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],s;--i>=0;)(s=r[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function qTe(t){t||(t=HTe);function e(d,h){return d&&h?t(d.__data__,h.__data__):!d-!h}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var s=n[a],o=s.length,l=i[a]=new Array(o),c,u=0;u<o;++u)(c=s[u])&&(l[u]=c);l.sort(e)}return new ai(i,this._parents).order()}function HTe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function GTe(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function KTe(){return Array.from(this)}function YTe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null}function QTe(){let t=0;for(const e of this)++t;return t}function XTe(){return!this.node()}function JTe(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,s=i.length,o;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this}function ZTe(t){return function(){this.removeAttribute(t)}}function ePe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function tPe(t,e){return function(){this.setAttribute(t,e)}}function nPe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function rPe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function iPe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function aPe(t,e){var n=G5(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?ePe:ZTe:typeof e=="function"?n.local?iPe:rPe:n.local?nPe:tPe)(n,e))}function qz(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function sPe(t){return function(){this.style.removeProperty(t)}}function oPe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function lPe(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function cPe(t,e,n){return arguments.length>1?this.each((e==null?sPe:typeof e=="function"?lPe:oPe)(t,e,n??"")):ed(this.node(),t)}function ed(t,e){return t.style.getPropertyValue(e)||qz(t).getComputedStyle(t,null).getPropertyValue(e)}function uPe(t){return function(){delete this[t]}}function dPe(t,e){return function(){this[t]=e}}function fPe(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function hPe(t,e){return arguments.length>1?this.each((e==null?uPe:typeof e=="function"?fPe:dPe)(t,e)):this.node()[t]}function Hz(t){return t.trim().split(/^|\s+/)}function F_(t){return t.classList||new Gz(t)}function Gz(t){this._node=t,this._names=Hz(t.getAttribute("class")||"")}Gz.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Kz(t,e){for(var n=F_(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Yz(t,e){for(var n=F_(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function pPe(t){return function(){Kz(this,t)}}function mPe(t){return function(){Yz(this,t)}}function gPe(t,e){return function(){(e.apply(this,arguments)?Kz:Yz)(this,t)}}function yPe(t,e){var n=Hz(t+"");if(arguments.length<2){for(var r=F_(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?gPe:e?pPe:mPe)(n,e))}function vPe(){this.textContent=""}function xPe(t){return function(){this.textContent=t}}function bPe(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function wPe(t){return arguments.length?this.each(t==null?vPe:(typeof t=="function"?bPe:xPe)(t)):this.node().textContent}function _Pe(){this.innerHTML=""}function SPe(t){return function(){this.innerHTML=t}}function kPe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function EPe(t){return arguments.length?this.each(t==null?_Pe:(typeof t=="function"?kPe:SPe)(t)):this.node().innerHTML}function NPe(){this.nextSibling&&this.parentNode.appendChild(this)}function TPe(){return this.each(NPe)}function PPe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function APe(){return this.each(PPe)}function IPe(t){var e=typeof t=="function"?t:Fz(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function CPe(){return null}function OPe(t,e){var n=typeof t=="function"?t:Fz(t),r=e==null?CPe:typeof e=="function"?e:L_(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function jPe(){var t=this.parentNode;t&&t.removeChild(this)}function MPe(){return this.each(jPe)}function DPe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function RPe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function $Pe(t){return this.select(t?RPe:DPe)}function LPe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function FPe(t){return function(e){t.call(this,e,this.__data__)}}function VPe(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function UPe(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function BPe(t,e,n){return function(){var r=this.__on,i,a=FPe(e);if(r){for(var s=0,o=r.length;s<o;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function zPe(t,e,n){var r=VPe(t+""),i,a=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,c=o.length,u;l<c;++l)for(i=0,u=o[l];i<a;++i)if((s=r[i]).type===u.type&&s.name===u.name)return u.value}return}for(o=e?BPe:UPe,i=0;i<a;++i)this.each(o(r[i],e,n));return this}function Qz(t,e,n){var r=qz(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function WPe(t,e){return function(){return Qz(this,t,e)}}function qPe(t,e){return function(){return Qz(this,t,e.apply(this,arguments))}}function HPe(t,e){return this.each((typeof e=="function"?qPe:WPe)(t,e))}function*GPe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,s;i<a;++i)(s=r[i])&&(yield s)}var Xz=[null];function ai(t,e){this._groups=t,this._parents=e}function w4(){return new ai([[document.documentElement]],Xz)}function KPe(){return this}ai.prototype=w4.prototype={constructor:ai,select:_Te,selectAll:ETe,selectChild:ATe,selectChildren:jTe,filter:MTe,data:VTe,enter:DTe,exit:UTe,join:BTe,merge:zTe,selection:KPe,order:WTe,sort:qTe,call:GTe,nodes:KTe,node:YTe,size:QTe,empty:XTe,each:JTe,attr:aPe,style:cPe,property:hPe,classed:yPe,text:wPe,html:EPe,raise:TPe,lower:APe,append:IPe,insert:OPe,remove:MPe,clone:$Pe,datum:LPe,on:zPe,dispatch:HPe,[Symbol.iterator]:GPe};function Ps(t){return typeof t=="string"?new ai([[document.querySelector(t)]],[document.documentElement]):new ai([[t]],Xz)}function YPe(t){let e;for(;e=t.sourceEvent;)t=e;return t}function z0(t,e){if(t=YPe(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function k9(t){t.preventDefault(),t.stopImmediatePropagation()}function QPe(t){var e=t.document.documentElement,n=Ps(t).on("dragstart.drag",k9,!0);"onselectstart"in e?n.on("selectstart.drag",k9,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function XPe(t,e){var n=t.document.documentElement,r=Ps(t).on("dragstart.drag",null);e&&(r.on("click.drag",k9,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var JPe=1e-12;function KC(t){return((t=Math.exp(t))+1/t)/2}function ZPe(t){return((t=Math.exp(t))-1/t)/2}function eAe(t){return((t=Math.exp(2*t))-1)/(t+1)}const tAe=function t(e,n,r){function i(a,s){var o=a[0],l=a[1],c=a[2],u=s[0],d=s[1],h=s[2],p=u-o,g=d-l,x=p*p+g*g,v,y;if(x<JPe)y=Math.log(h/c)/e,v=function(_){return[o+_*p,l+_*g,c*Math.exp(e*_*y)]};else{var b=Math.sqrt(x),w=(h*h-c*c+r*x)/(2*c*n*b),E=(h*h-c*c-r*x)/(2*h*n*b),S=Math.log(Math.sqrt(w*w+1)-w),k=Math.log(Math.sqrt(E*E+1)-E);y=(k-S)/e,v=function(_){var N=_*y,P=KC(S),A=c/(n*b)*(P*eAe(e*N+S)-ZPe(S));return[o+A*p,l+A*g,c*P/KC(e*N+S)]}}return v.duration=y*1e3*e/Math.SQRT2,v}return i.rho=function(a){var s=Math.max(.001,+a),o=s*s,l=o*o;return t(s,o,l)},i}(Math.SQRT2,2,4);var td=0,Of=0,hf=0,Jz=1e3,Ug,jf,Bg=0,ql=0,K5=0,Rp=typeof performance=="object"&&performance.now?performance:Date,Zz=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function V_(){return ql||(Zz(nAe),ql=Rp.now()+K5)}function nAe(){ql=0}function zg(){this._call=this._time=this._next=null}zg.prototype=eW.prototype={constructor:zg,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?V_():+n)+(e==null?0:+e),!this._next&&jf!==this&&(jf?jf._next=this:Ug=this,jf=this),this._call=t,this._time=n,E9()},stop:function(){this._call&&(this._call=null,this._time=1/0,E9())}};function eW(t,e,n){var r=new zg;return r.restart(t,e,n),r}function rAe(){V_(),++td;for(var t=Ug,e;t;)(e=ql-t._time)>=0&&t._call.call(null,e),t=t._next;--td}function YC(){ql=(Bg=Rp.now())+K5,td=Of=0;try{rAe()}finally{td=0,aAe(),ql=0}}function iAe(){var t=Rp.now(),e=t-Bg;e>Jz&&(K5-=e,Bg=t)}function aAe(){for(var t,e=Ug,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Ug=n);jf=t,E9(r)}function E9(t){if(!td){Of&&(Of=clearTimeout(Of));var e=t-ql;e>24?(t<1/0&&(Of=setTimeout(YC,t-Rp.now()-K5)),hf&&(hf=clearInterval(hf))):(hf||(Bg=Rp.now(),hf=setInterval(iAe,Jz)),td=1,Zz(YC))}}function QC(t,e,n){var r=new zg;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var sAe=$_("start","end","cancel","interrupt"),oAe=[],tW=0,XC=1,N9=2,g3=3,JC=4,T9=5,y3=6;function Y5(t,e,n,r,i,a){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;lAe(t,n,{name:e,index:r,group:i,on:sAe,tween:oAe,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:tW})}function U_(t,e){var n=ja(t,e);if(n.state>tW)throw new Error("too late; already scheduled");return n}function gs(t,e){var n=ja(t,e);if(n.state>g3)throw new Error("too late; already running");return n}function ja(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function lAe(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=eW(a,0,n.time);function a(c){n.state=XC,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var u,d,h,p;if(n.state!==XC)return l();for(u in r)if(p=r[u],p.name===n.name){if(p.state===g3)return QC(s);p.state===JC?(p.state=y3,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[u]):+u<e&&(p.state=y3,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[u])}if(QC(function(){n.state===g3&&(n.state=JC,n.timer.restart(o,n.delay,n.time),o(c))}),n.state=N9,n.on.call("start",t,t.__data__,n.index,n.group),n.state===N9){for(n.state=g3,i=new Array(h=n.tween.length),u=0,d=-1;u<h;++u)(p=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=p);i.length=d+1}}function o(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=T9,1),d=-1,h=i.length;++d<h;)i[d].call(t,u);n.state===T9&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=y3,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function v3(t,e){var n=t.__transition,r,i,a=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){a=!1;continue}i=r.state>N9&&r.state<T9,r.state=y3,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}a&&delete t.__transition}}function cAe(t){return this.each(function(){v3(this,t)})}function B_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function nW(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function _4(){}var $p=.7,Wg=1/$p,mu="\\s*([+-]?\\d+)\\s*",Lp="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",cs="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",uAe=/^#([0-9a-f]{3,8})$/,dAe=new RegExp("^rgb\\("+[mu,mu,mu]+"\\)$"),fAe=new RegExp("^rgb\\("+[cs,cs,cs]+"\\)$"),hAe=new RegExp("^rgba\\("+[mu,mu,mu,Lp]+"\\)$"),pAe=new RegExp("^rgba\\("+[cs,cs,cs,Lp]+"\\)$"),mAe=new RegExp("^hsl\\("+[Lp,cs,cs]+"\\)$"),gAe=new RegExp("^hsla\\("+[Lp,cs,cs,Lp]+"\\)$"),ZC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};B_(_4,Fp,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:eO,formatHex:eO,formatHsl:yAe,formatRgb:tO,toString:tO});function eO(){return this.rgb().formatHex()}function yAe(){return rW(this).formatHsl()}function tO(){return this.rgb().formatRgb()}function Fp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=uAe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?nO(e):n===3?new wi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Cm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Cm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=dAe.exec(t))?new wi(e[1],e[2],e[3],1):(e=fAe.exec(t))?new wi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=hAe.exec(t))?Cm(e[1],e[2],e[3],e[4]):(e=pAe.exec(t))?Cm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=mAe.exec(t))?aO(e[1],e[2]/100,e[3]/100,1):(e=gAe.exec(t))?aO(e[1],e[2]/100,e[3]/100,e[4]):ZC.hasOwnProperty(t)?nO(ZC[t]):t==="transparent"?new wi(NaN,NaN,NaN,0):null}function nO(t){return new wi(t>>16&255,t>>8&255,t&255,1)}function Cm(t,e,n,r){return r<=0&&(t=e=n=NaN),new wi(t,e,n,r)}function vAe(t){return t instanceof _4||(t=Fp(t)),t?(t=t.rgb(),new wi(t.r,t.g,t.b,t.opacity)):new wi}function P9(t,e,n,r){return arguments.length===1?vAe(t):new wi(t,e,n,r??1)}function wi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}B_(wi,P9,nW(_4,{brighter:function(t){return t=t==null?Wg:Math.pow(Wg,t),new wi(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?$p:Math.pow($p,t),new wi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rO,formatHex:rO,formatRgb:iO,toString:iO}));function rO(){return"#"+By(this.r)+By(this.g)+By(this.b)}function iO(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function By(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function aO(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new qa(t,e,n,r)}function rW(t){if(t instanceof qa)return new qa(t.h,t.s,t.l,t.opacity);if(t instanceof _4||(t=Fp(t)),!t)return new qa;if(t instanceof qa)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new qa(s,o,l,t.opacity)}function xAe(t,e,n,r){return arguments.length===1?rW(t):new qa(t,e,n,r??1)}function qa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}B_(qa,xAe,nW(_4,{brighter:function(t){return t=t==null?Wg:Math.pow(Wg,t),new qa(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?$p:Math.pow($p,t),new qa(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new wi(zy(t>=240?t-240:t+120,i,r),zy(t,i,r),zy(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function zy(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const iW=t=>()=>t;function bAe(t,e){return function(n){return t+n*e}}function wAe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function _Ae(t){return(t=+t)==1?aW:function(e,n){return n-e?wAe(e,n,t):iW(isNaN(e)?n:e)}}function aW(t,e){var n=e-t;return n?bAe(t,n):iW(isNaN(t)?e:t)}const sO=function t(e){var n=_Ae(e);function r(i,a){var s=n((i=P9(i)).r,(a=P9(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=aW(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function Po(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var A9=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wy=new RegExp(A9.source,"g");function SAe(t){return function(){return t}}function kAe(t){return function(e){return t(e)+""}}function EAe(t,e){var n=A9.lastIndex=Wy.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=A9.exec(t))&&(i=Wy.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Po(r,i)})),n=Wy.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?kAe(l[0].x):SAe(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)o[(d=l[u]).i]=d.x(c);return o.join("")})}var oO=180/Math.PI,I9={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function sW(t,e,n,r,i,a){var s,o,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*oO,skewX:Math.atan(l)*oO,scaleX:s,scaleY:o}}var Om;function NAe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?I9:sW(e.a,e.b,e.c,e.d,e.e,e.f)}function TAe(t){return t==null||(Om||(Om=document.createElementNS("http://www.w3.org/2000/svg","g")),Om.setAttribute("transform",t),!(t=Om.transform.baseVal.consolidate()))?I9:(t=t.matrix,sW(t.a,t.b,t.c,t.d,t.e,t.f))}function oW(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function a(c,u,d,h,p,g){if(c!==d||u!==h){var x=p.push("translate(",null,e,null,n);g.push({i:x-4,x:Po(c,d)},{i:x-2,x:Po(u,h)})}else(d||h)&&p.push("translate("+d+e+h+n)}function s(c,u,d,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Po(c,u)})):u&&d.push(i(d)+"rotate("+u+r)}function o(c,u,d,h){c!==u?h.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Po(c,u)}):u&&d.push(i(d)+"skewX("+u+r)}function l(c,u,d,h,p,g){if(c!==d||u!==h){var x=p.push(i(p)+"scale(",null,",",null,")");g.push({i:x-4,x:Po(c,d)},{i:x-2,x:Po(u,h)})}else(d!==1||h!==1)&&p.push(i(p)+"scale("+d+","+h+")")}return function(c,u){var d=[],h=[];return c=t(c),u=t(u),a(c.translateX,c.translateY,u.translateX,u.translateY,d,h),s(c.rotate,u.rotate,d,h),o(c.skewX,u.skewX,d,h),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,h),c=u=null,function(p){for(var g=-1,x=h.length,v;++g<x;)d[(v=h[g]).i]=v.x(p);return d.join("")}}}var PAe=oW(NAe,"px, ","px)","deg)"),AAe=oW(TAe,", ",")",")");function IAe(t,e){var n,r;return function(){var i=gs(this,t),a=i.tween;if(a!==n){r=n=a;for(var s=0,o=r.length;s<o;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function CAe(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=gs(this,t),s=a.tween;if(s!==r){i=(r=s).slice();for(var o={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=o;break}l===c&&i.push(o)}a.tween=i}}function OAe(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ja(this.node(),n).tween,i=0,a=r.length,s;i<a;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?IAe:CAe)(n,t,e))}function z_(t,e,n){var r=t._id;return t.each(function(){var i=gs(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return ja(i,r).value[e]}}function lW(t,e){var n;return(typeof e=="number"?Po:e instanceof Fp?sO:(n=Fp(e))?(e=n,sO):EAe)(t,e)}function jAe(t){return function(){this.removeAttribute(t)}}function MAe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function DAe(t,e,n){var r,i=n+"",a;return function(){var s=this.getAttribute(t);return s===i?null:s===r?a:a=e(r=s,n)}}function RAe(t,e,n){var r,i=n+"",a;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?a:a=e(r=s,n)}}function $Ae(t,e,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o)))}}function LAe(t,e,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o)))}}function FAe(t,e){var n=G5(t),r=n==="transform"?AAe:lW;return this.attrTween(t,typeof e=="function"?(n.local?LAe:$Ae)(n,r,z_(this,"attr."+t,e)):e==null?(n.local?MAe:jAe)(n):(n.local?RAe:DAe)(n,r,e))}function VAe(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function UAe(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function BAe(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&UAe(t,a)),n}return i._value=e,i}function zAe(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&VAe(t,a)),n}return i._value=e,i}function WAe(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=G5(t);return this.tween(n,(r.local?BAe:zAe)(r,e))}function qAe(t,e){return function(){U_(this,t).delay=+e.apply(this,arguments)}}function HAe(t,e){return e=+e,function(){U_(this,t).delay=e}}function GAe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?qAe:HAe)(e,t)):ja(this.node(),e).delay}function KAe(t,e){return function(){gs(this,t).duration=+e.apply(this,arguments)}}function YAe(t,e){return e=+e,function(){gs(this,t).duration=e}}function QAe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?KAe:YAe)(e,t)):ja(this.node(),e).duration}function XAe(t,e){if(typeof e!="function")throw new Error;return function(){gs(this,t).ease=e}}function JAe(t){var e=this._id;return arguments.length?this.each(XAe(e,t)):ja(this.node(),e).ease}function ZAe(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;gs(this,t).ease=n}}function eIe(t){if(typeof t!="function")throw new Error;return this.each(ZAe(this._id,t))}function tIe(t){typeof t!="function"&&(t=Bz(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=[],l,c=0;c<s;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&o.push(l);return new so(r,this._parents,this._name,this._id)}function nIe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l=e[o],c=n[o],u=l.length,d=s[o]=new Array(u),h,p=0;p<u;++p)(h=l[p]||c[p])&&(d[p]=h);for(;o<r;++o)s[o]=e[o];return new so(s,this._parents,this._name,this._id)}function rIe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function iIe(t,e,n){var r,i,a=rIe(e)?U_:gs;return function(){var s=a(this,t),o=s.on;o!==r&&(i=(r=o).copy()).on(e,n),s.on=i}}function aIe(t,e){var n=this._id;return arguments.length<2?ja(this.node(),n).on.on(t):this.each(iIe(n,t,e))}function sIe(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function oIe(){return this.on("end.remove",sIe(this._id))}function lIe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=L_(t));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var o=r[s],l=o.length,c=a[s]=new Array(l),u,d,h=0;h<l;++h)(u=o[h])&&(d=t.call(u,u.__data__,h,o))&&("__data__"in u&&(d.__data__=u.__data__),c[h]=d,Y5(c[h],e,n,h,c,ja(u,n)));return new so(a,this._parents,e,n)}function cIe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Uz(t));for(var r=this._groups,i=r.length,a=[],s=[],o=0;o<i;++o)for(var l=r[o],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var h=t.call(u,u.__data__,d,l),p,g=ja(u,n),x=0,v=h.length;x<v;++x)(p=h[x])&&Y5(p,e,n,x,h,g);a.push(h),s.push(u)}return new so(a,s,e,n)}var uIe=w4.prototype.constructor;function dIe(){return new uIe(this._groups,this._parents)}function fIe(t,e){var n,r,i;return function(){var a=ed(this,t),s=(this.style.removeProperty(t),ed(this,t));return a===s?null:a===n&&s===r?i:i=e(n=a,r=s)}}function cW(t){return function(){this.style.removeProperty(t)}}function hIe(t,e,n){var r,i=n+"",a;return function(){var s=ed(this,t);return s===i?null:s===r?a:a=e(r=s,n)}}function pIe(t,e,n){var r,i,a;return function(){var s=ed(this,t),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),ed(this,t))),s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o))}}function mIe(t,e){var n,r,i,a="style."+e,s="end."+a,o;return function(){var l=gs(this,t),c=l.on,u=l.value[a]==null?o||(o=cW(e)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(s,i=u),l.on=r}}function gIe(t,e,n){var r=(t+="")=="transform"?PAe:lW;return e==null?this.styleTween(t,fIe(t,r)).on("end.style."+t,cW(t)):typeof e=="function"?this.styleTween(t,pIe(t,r,z_(this,"style."+t,e))).each(mIe(this._id,t)):this.styleTween(t,hIe(t,r,e),n).on("end.style."+t,null)}function yIe(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function vIe(t,e,n){var r,i;function a(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&yIe(t,s,n)),r}return a._value=e,a}function xIe(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,vIe(t,e,n??""))}function bIe(t){return function(){this.textContent=t}}function wIe(t){return function(){var e=t(this);this.textContent=e??""}}function _Ie(t){return this.tween("text",typeof t=="function"?wIe(z_(this,"text",t)):bIe(t==null?"":t+""))}function SIe(t){return function(e){this.textContent=t.call(this,e)}}function kIe(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&SIe(i)),e}return r._value=t,r}function EIe(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,kIe(t))}function NIe(){for(var t=this._name,e=this._id,n=uW(),r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,c=0;c<o;++c)if(l=s[c]){var u=ja(l,e);Y5(l,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new so(r,this._parents,t,n)}function TIe(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,s){var o={value:s},l={value:function(){--i===0&&a()}};n.each(function(){var c=gs(this,r),u=c.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),c.on=e}),i===0&&a()})}var PIe=0;function so(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function uW(){return++PIe}var W0=w4.prototype;so.prototype={constructor:so,select:lIe,selectAll:cIe,filter:tIe,merge:nIe,selection:dIe,transition:NIe,call:W0.call,nodes:W0.nodes,node:W0.node,size:W0.size,empty:W0.empty,each:W0.each,on:aIe,attr:FAe,attrTween:WAe,style:gIe,styleTween:xIe,text:_Ie,textTween:EIe,remove:oIe,tween:OAe,delay:GAe,duration:QAe,ease:JAe,easeVarying:eIe,end:TIe,[Symbol.iterator]:W0[Symbol.iterator]};function AIe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var IIe={time:null,delay:0,duration:250,ease:AIe};function CIe(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function OIe(t){var e,n;t instanceof so?(e=t._id,t=t._name):(e=uW(),(n=IIe).time=V_(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,c=0;c<o;++c)(l=s[c])&&Y5(l,t,e,c,s,n||CIe(l,e));return new so(r,this._parents,t,e)}w4.prototype.interrupt=cAe;w4.prototype.transition=OIe;const jm=t=>()=>t;function jIe(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ls(t,e,n){this.k=t,this.x=e,this.y=n}Ls.prototype={constructor:Ls,scale:function(t){return t===1?this:new Ls(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ls(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var W_=new Ls(1,0,0);Ls.prototype;function qy(t){t.stopImmediatePropagation()}function pf(t){t.preventDefault(),t.stopImmediatePropagation()}function MIe(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function DIe(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function lO(){return this.__zoom||W_}function RIe(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function $Ie(){return navigator.maxTouchPoints||"ontouchstart"in this}function LIe(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}function FIe(){var t=MIe,e=DIe,n=LIe,r=RIe,i=$Ie,a=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],o=250,l=tAe,c=$_("start","zoom","end"),u,d,h,p=500,g=150,x=0,v=10;function y(R){R.property("__zoom",lO).on("wheel.zoom",N).on("mousedown.zoom",P).on("dblclick.zoom",A).filter(i).on("touchstart.zoom",I).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",j).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(R,D,$,U){var V=R.selection?R.selection():R;V.property("__zoom",lO),R!==V?S(R,D,$,U):V.interrupt().each(function(){k(this,arguments).event(U).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},y.scaleBy=function(R,D,$,U){y.scaleTo(R,function(){var V=this.__zoom.k,B=typeof D=="function"?D.apply(this,arguments):D;return V*B},$,U)},y.scaleTo=function(R,D,$,U){y.transform(R,function(){var V=e.apply(this,arguments),B=this.__zoom,q=$==null?E(V):typeof $=="function"?$.apply(this,arguments):$,K=B.invert(q),H=typeof D=="function"?D.apply(this,arguments):D;return n(w(b(B,H),q,K),V,s)},$,U)},y.translateBy=function(R,D,$,U){y.transform(R,function(){return n(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof $=="function"?$.apply(this,arguments):$),e.apply(this,arguments),s)},null,U)},y.translateTo=function(R,D,$,U,V){y.transform(R,function(){var B=e.apply(this,arguments),q=this.__zoom,K=U==null?E(B):typeof U=="function"?U.apply(this,arguments):U;return n(W_.translate(K[0],K[1]).scale(q.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof $=="function"?-$.apply(this,arguments):-$),B,s)},U,V)};function b(R,D){return D=Math.max(a[0],Math.min(a[1],D)),D===R.k?R:new Ls(D,R.x,R.y)}function w(R,D,$){var U=D[0]-$[0]*R.k,V=D[1]-$[1]*R.k;return U===R.x&&V===R.y?R:new Ls(R.k,U,V)}function E(R){return[(+R[0][0]+ +R[1][0])/2,(+R[0][1]+ +R[1][1])/2]}function S(R,D,$,U){R.on("start.zoom",function(){k(this,arguments).event(U).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(U).end()}).tween("zoom",function(){var V=this,B=arguments,q=k(V,B).event(U),K=e.apply(V,B),H=$==null?E(K):typeof $=="function"?$.apply(V,B):$,ne=Math.max(K[1][0]-K[0][0],K[1][1]-K[0][1]),he=V.__zoom,me=typeof D=="function"?D.apply(V,B):D,ee=l(he.invert(H).concat(ne/he.k),me.invert(H).concat(ne/me.k));return function(xe){if(xe===1)xe=me;else{var _e=ee(xe),J=ne/_e[2];xe=new Ls(J,H[0]-_e[0]*J,H[1]-_e[1]*J)}q.zoom(null,xe)}})}function k(R,D,$){return!$&&R.__zooming||new _(R,D)}function _(R,D){this.that=R,this.args=D,this.active=0,this.sourceEvent=null,this.extent=e.apply(R,D),this.taps=0}_.prototype={event:function(R){return R&&(this.sourceEvent=R),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(R,D){return this.mouse&&R!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&R!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&R!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(R){var D=Ps(this.that).datum();c.call(R,this.that,new jIe(R,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:c}),D)}};function N(R,...D){if(!t.apply(this,arguments))return;var $=k(this,D).event(R),U=this.__zoom,V=Math.max(a[0],Math.min(a[1],U.k*Math.pow(2,r.apply(this,arguments)))),B=z0(R);if($.wheel)($.mouse[0][0]!==B[0]||$.mouse[0][1]!==B[1])&&($.mouse[1]=U.invert($.mouse[0]=B)),clearTimeout($.wheel);else{if(U.k===V)return;$.mouse=[B,U.invert(B)],v3(this),$.start()}pf(R),$.wheel=setTimeout(q,g),$.zoom("mouse",n(w(b(U,V),$.mouse[0],$.mouse[1]),$.extent,s));function q(){$.wheel=null,$.end()}}function P(R,...D){if(h||!t.apply(this,arguments))return;var $=k(this,D,!0).event(R),U=Ps(R.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",ne,!0),V=z0(R,B),B=R.currentTarget,q=R.clientX,K=R.clientY;QPe(R.view),qy(R),$.mouse=[V,this.__zoom.invert(V)],v3(this),$.start();function H(he){if(pf(he),!$.moved){var me=he.clientX-q,ee=he.clientY-K;$.moved=me*me+ee*ee>x}$.event(he).zoom("mouse",n(w($.that.__zoom,$.mouse[0]=z0(he,B),$.mouse[1]),$.extent,s))}function ne(he){U.on("mousemove.zoom mouseup.zoom",null),XPe(he.view,$.moved),pf(he),$.event(he).end()}}function A(R,...D){if(t.apply(this,arguments)){var $=this.__zoom,U=z0(R.changedTouches?R.changedTouches[0]:R,this),V=$.invert(U),B=$.k*(R.shiftKey?.5:2),q=n(w(b($,B),U,V),e.apply(this,D),s);pf(R),o>0?Ps(this).transition().duration(o).call(S,q,U,R):Ps(this).call(y.transform,q,U,R)}}function I(R,...D){if(t.apply(this,arguments)){var $=R.touches,U=$.length,V=k(this,D,R.changedTouches.length===U).event(R),B,q,K,H;for(qy(R),q=0;q<U;++q)K=$[q],H=z0(K,this),H=[H,this.__zoom.invert(H),K.identifier],V.touch0?!V.touch1&&V.touch0[2]!==H[2]&&(V.touch1=H,V.taps=0):(V.touch0=H,B=!0,V.taps=1+!!u);u&&(u=clearTimeout(u)),B&&(V.taps<2&&(d=H[0],u=setTimeout(function(){u=null},p)),v3(this),V.start())}}function O(R,...D){if(this.__zooming){var $=k(this,D).event(R),U=R.changedTouches,V=U.length,B,q,K,H;for(pf(R),B=0;B<V;++B)q=U[B],K=z0(q,this),$.touch0&&$.touch0[2]===q.identifier?$.touch0[0]=K:$.touch1&&$.touch1[2]===q.identifier&&($.touch1[0]=K);if(q=$.that.__zoom,$.touch1){var ne=$.touch0[0],he=$.touch0[1],me=$.touch1[0],ee=$.touch1[1],xe=(xe=me[0]-ne[0])*xe+(xe=me[1]-ne[1])*xe,_e=(_e=ee[0]-he[0])*_e+(_e=ee[1]-he[1])*_e;q=b(q,Math.sqrt(xe/_e)),K=[(ne[0]+me[0])/2,(ne[1]+me[1])/2],H=[(he[0]+ee[0])/2,(he[1]+ee[1])/2]}else if($.touch0)K=$.touch0[0],H=$.touch0[1];else return;$.zoom("touch",n(w(q,K,H),$.extent,s))}}function j(R,...D){if(this.__zooming){var $=k(this,D).event(R),U=R.changedTouches,V=U.length,B,q;for(qy(R),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),B=0;B<V;++B)q=U[B],$.touch0&&$.touch0[2]===q.identifier?delete $.touch0:$.touch1&&$.touch1[2]===q.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(q=z0(q,this),Math.hypot(d[0]-q[0],d[1]-q[1])<v)){var K=Ps(this).on("dblclick.zoom");K&&K.apply(this,arguments)}}}return y.wheelDelta=function(R){return arguments.length?(r=typeof R=="function"?R:jm(+R),y):r},y.filter=function(R){return arguments.length?(t=typeof R=="function"?R:jm(!!R),y):t},y.touchable=function(R){return arguments.length?(i=typeof R=="function"?R:jm(!!R),y):i},y.extent=function(R){return arguments.length?(e=typeof R=="function"?R:jm([[+R[0][0],+R[0][1]],[+R[1][0],+R[1][1]]]),y):e},y.scaleExtent=function(R){return arguments.length?(a[0]=+R[0],a[1]=+R[1],y):[a[0],a[1]]},y.translateExtent=function(R){return arguments.length?(s[0][0]=+R[0][0],s[1][0]=+R[1][0],s[0][1]=+R[0][1],s[1][1]=+R[1][1],y):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},y.constrain=function(R){return arguments.length?(n=R,y):n},y.duration=function(R){return arguments.length?(o=+R,y):o},y.interpolate=function(R){return arguments.length?(l=R,y):l},y.on=function(){var R=c.on.apply(c,arguments);return R===c?y:R},y.clickDistance=function(R){return arguments.length?(x=(R=+R)*R,y):Math.sqrt(x)},y.tapDistance=function(R){return arguments.length?(v=+R,y):v},y}function cO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(n),!0).forEach(function(r){VIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C9(t){"@babel/helpers - typeof";return C9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C9(t)}function VIe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function si(){return si=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},si.apply(this,arguments)}function UIe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function sa(t,e){if(t==null)return{};var n=UIe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ar(t,e){return BIe(t)||zIe(t,e)||WIe(t,e)||qIe()}function BIe(t){if(Array.isArray(t))return t}function zIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,s,o;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(l){a=!0,o=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw o}}return r}}function WIe(t,e){if(t){if(typeof t=="string")return uO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uO(t,e)}}function uO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var HIe=["width","height","projection","projectionConfig"],GIe=Cz,KIe=sa(lTe,["geoPath"]),ys=C.createContext(),YIe=function(e){var n=e.projectionConfig,r=n===void 0?{}:n,i=e.projection,a=i===void 0?"geoEqualEarth":i,s=e.width,o=s===void 0?800:s,l=e.height,c=l===void 0?600:l,u=typeof a=="function";if(u)return a;var d=KIe[a]().translate([o/2,c/2]),h=[d.center?"center":null,d.rotate?"rotate":null,d.scale?"scale":null,d.parallels?"parallels":null];return h.forEach(function(p){p&&(d=d[p](r[p]||d[p]()))}),d},dW=function(e){var n=e.width,r=e.height,i=e.projection,a=e.projectionConfig,s=sa(e,HIe),o=a.center||[],l=ar(o,2),c=l[0],u=l[1],d=a.rotate||[],h=ar(d,3),p=h[0],g=h[1],x=h[2],v=a.parallels||[],y=ar(v,2),b=y[0],w=y[1],E=a.scale||null,S=C.useMemo(function(){return YIe({projectionConfig:{center:c||c===0||u||u===0?[c,u]:null,rotate:p||p===0||g||g===0?[p,g,x]:null,parallels:b||b===0||w||w===0?[b,w]:null,scale:E},projection:i,width:n,height:r})},[n,r,i,c,u,p,g,x,b,w,E]),k=C.useCallback(S,[S]),_=C.useMemo(function(){return{width:n,height:r,projection:k,path:GIe().projection(k)}},[n,r,k]);return F.createElement(ys.Provider,si({value:_},s))};dW.propTypes={width:fe.number,height:fe.number,projection:fe.oneOfType([fe.string,fe.func]),projectionConfig:fe.object};var QIe=["width","height","projection","projectionConfig","className"],q_=C.forwardRef(function(t,e){var n=t.width,r=n===void 0?800:n,i=t.height,a=i===void 0?600:i,s=t.projection,o=s===void 0?"geoEqualEarth":s,l=t.projectionConfig,c=l===void 0?{}:l,u=t.className,d=u===void 0?"":u,h=sa(t,QIe);return F.createElement(dW,{width:r,height:a,projection:o,projectionConfig:c},F.createElement("svg",si({ref:e,viewBox:"0 0 ".concat(r," ").concat(a),className:"rsm-svg ".concat(d)},h)))});q_.displayName="ComposableMap";q_.propTypes={width:fe.number,height:fe.number,projection:fe.oneOfType([fe.string,fe.func]),projectionConfig:fe.object,className:fe.string};function dO(t,e,n){var r=(t*n.k-t)/2,i=(e*n.k-e)/2;return[t/2-(r+n.x)/n.k,e/2-(i+n.y)/n.k]}function XIe(t){return fetch(t).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).catch(function(e){console.log("There was a problem when fetching the data: ",e)})}function fO(t,e){var n=t.type==="Topology";if(!n)return e?e(t.features||t):t.features||t;var r=fTe(t,t.objects[Object.keys(t.objects)[0]]).features;return e?e(r):r}function hO(t){var e=t.type==="Topology";if(!e)return null;var n=qC(t,t.objects[Object.keys(t.objects)[0]],function(i,a){return i===a}),r=qC(t,t.objects[Object.keys(t.objects)[0]],function(i,a){return i!==a});return{outline:n,borders:r}}function JIe(t,e,n){return t&&e?{outline:Yc(Yc({},t),{},{rsmKey:"outline",svgPath:n(t)}),borders:Yc(Yc({},e),{},{rsmKey:"borders",svgPath:n(e)})}:{}}function ZIe(t,e){return t?t.map(function(n,r){return Yc(Yc({},n),{},{rsmKey:"geo-".concat(r),svgPath:e(n)})}):[]}function eCe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:30,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:30,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.5,r=Array.isArray(n)?n:[n,n],i=t/2*r[0],a=e/2*r[1];return"M".concat(0,",",0," Q",-t/2-i,",").concat(-e/2+a," ").concat(-t,",").concat(-e)}function tCe(t){return typeof t=="string"}function nCe(t){var e=t.geography,n=t.parseGeographies,r=C.useContext(ys),i=r.path,a=C.useState({}),s=ar(a,2),o=s[0],l=s[1];C.useEffect(function(){(typeof window>"u"?"undefined":C9(window))!=="undefined"&&e&&(tCe(e)?XIe(e).then(function(p){p&&l({geographies:fO(p,n),mesh:hO(p)})}):l({geographies:fO(e,n),mesh:hO(e)}))},[e,n]);var c=C.useMemo(function(){var p=o.mesh||{},g=JIe(p.outline,p.borders,i);return{geographies:ZIe(o.geographies,i),outline:g.outline,borders:g.borders}},[o,i]),u=c.geographies,d=c.outline,h=c.borders;return{geographies:u,outline:d,borders:h}}var rCe=["geography","children","parseGeographies","className"],H_=C.forwardRef(function(t,e){var n=t.geography,r=t.children,i=t.parseGeographies,a=t.className,s=a===void 0?"":a,o=sa(t,rCe),l=C.useContext(ys),c=l.path,u=l.projection,d=nCe({geography:n,parseGeographies:i}),h=d.geographies,p=d.outline,g=d.borders;return F.createElement("g",si({ref:e,className:"rsm-geographies ".concat(s)},o),h&&h.length>0&&r({geographies:h,outline:p,borders:g,path:c,projection:u}))});H_.displayName="Geographies";H_.propTypes={geography:fe.oneOfType([fe.string,fe.object,fe.array]),children:fe.func,parseGeographies:fe.func,className:fe.string};var iCe=["geography","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],G_=C.forwardRef(function(t,e){var n=t.geography,r=t.onMouseEnter,i=t.onMouseLeave,a=t.onMouseDown,s=t.onMouseUp,o=t.onFocus,l=t.onBlur,c=t.style,u=c===void 0?{}:c,d=t.className,h=d===void 0?"":d,p=sa(t,iCe),g=C.useState(!1),x=ar(g,2),v=x[0],y=x[1],b=C.useState(!1),w=ar(b,2),E=w[0],S=w[1];function k(O){S(!0),r&&r(O)}function _(O){S(!1),v&&y(!1),i&&i(O)}function N(O){S(!0),o&&o(O)}function P(O){S(!1),v&&y(!1),l&&l(O)}function A(O){y(!0),a&&a(O)}function I(O){y(!1),s&&s(O)}return F.createElement("path",si({ref:e,tabIndex:"0",className:"rsm-geography ".concat(h),d:n.svgPath,onMouseEnter:k,onMouseLeave:_,onFocus:N,onBlur:P,onMouseDown:A,onMouseUp:I,style:u[v||E?v?"pressed":"hover":"default"]},p))});G_.displayName="Geography";G_.propTypes={geography:fe.object,onMouseEnter:fe.func,onMouseLeave:fe.func,onMouseDown:fe.func,onMouseUp:fe.func,onFocus:fe.func,onBlur:fe.func,style:fe.object,className:fe.string};var aCe=C.memo(G_),sCe=["fill","stroke","step","className"],K_=C.forwardRef(function(t,e){var n=t.fill,r=n===void 0?"transparent":n,i=t.stroke,a=i===void 0?"currentcolor":i,s=t.step,o=s===void 0?[10,10]:s,l=t.className,c=l===void 0?"":l,u=sa(t,sCe),d=C.useContext(ys),h=d.path;return F.createElement("path",si({ref:e,d:h(__().step(o)()),fill:r,stroke:a,className:"rsm-graticule ".concat(c)},u))});K_.displayName="Graticule";K_.propTypes={fill:fe.string,stroke:fe.string,step:fe.array,className:fe.string};C.memo(K_);var oCe=["value"],lCe=C.createContext(),cCe={x:0,y:0,k:1,transformString:"translate(0 0) scale(1)"},fW=function(e){var n=e.value,r=n===void 0?cCe:n,i=sa(e,oCe);return F.createElement(lCe.Provider,si({value:r},i))};fW.propTypes={x:fe.number,y:fe.number,k:fe.number,transformString:fe.string};function uCe(t){var e=t.center,n=t.filterZoomEvent,r=t.onMoveStart,i=t.onMoveEnd,a=t.onMove,s=t.translateExtent,o=s===void 0?[[-1/0,-1/0],[1/0,1/0]]:s,l=t.scaleExtent,c=l===void 0?[1,8]:l,u=t.zoom,d=u===void 0?1:u,h=C.useContext(ys),p=h.width,g=h.height,x=h.projection,v=ar(e,2),y=v[0],b=v[1],w=C.useState({x:0,y:0,k:1}),E=ar(w,2),S=E[0],k=E[1],_=C.useRef({x:0,y:0,k:1}),N=C.useRef(),P=C.useRef(),A=C.useRef(!1),I=ar(o,2),O=I[0],j=I[1],R=ar(O,2),D=R[0],$=R[1],U=ar(j,2),V=U[0],B=U[1],q=ar(c,2),K=q[0],H=q[1];return C.useEffect(function(){var ne=Ps(N.current);function he(J){!r||A.current||r({coordinates:x.invert(dO(p,g,J.transform)),zoom:J.transform.k},J)}function me(J){if(!A.current){var Ne=J.transform,Me=J.sourceEvent;k({x:Ne.x,y:Ne.y,k:Ne.k,dragging:Me}),a&&a({x:Ne.x,y:Ne.y,zoom:Ne.k,dragging:Me},J)}}function ee(J){if(A.current){A.current=!1;return}var Ne=x.invert(dO(p,g,J.transform)),Me=ar(Ne,2),ie=Me[0],Ue=Me[1];_.current={x:ie,y:Ue,k:J.transform.k},i&&i({coordinates:[ie,Ue],zoom:J.transform.k},J)}function xe(J){return n?n(J):J?!J.ctrlKey&&!J.button:!1}var _e=FIe().filter(xe).scaleExtent([K,H]).translateExtent([[D,$],[V,B]]).on("start",he).on("zoom",me).on("end",ee);P.current=_e,ne.call(_e)},[p,g,D,$,V,B,K,H,x,r,a,i,n]),C.useEffect(function(){if(!(y===_.current.x&&b===_.current.y&&d===_.current.k)){var ne=x([y,b]),he=ne[0]*d,me=ne[1]*d,ee=Ps(N.current);A.current=!0,ee.call(P.current.transform,W_.translate(p/2-he,g/2-me).scale(d)),k({x:p/2-he,y:g/2-me,k:d}),_.current={x:y,y:b,k:d}}},[y,b,d,p,g,x]),{mapRef:N,position:S,transformString:"translate(".concat(S.x," ").concat(S.y,") scale(").concat(S.k,")")}}var dCe=["center","zoom","minZoom","maxZoom","translateExtent","filterZoomEvent","onMoveStart","onMove","onMoveEnd","className"],hW=C.forwardRef(function(t,e){var n=t.center,r=n===void 0?[0,0]:n,i=t.zoom,a=i===void 0?1:i,s=t.minZoom,o=s===void 0?1:s,l=t.maxZoom,c=l===void 0?8:l,u=t.translateExtent,d=t.filterZoomEvent,h=t.onMoveStart,p=t.onMove,g=t.onMoveEnd,x=t.className,v=sa(t,dCe),y=C.useContext(ys),b=y.width,w=y.height,E=uCe({center:r,filterZoomEvent:d,onMoveStart:h,onMove:p,onMoveEnd:g,scaleExtent:[o,c],translateExtent:u,zoom:a}),S=E.mapRef,k=E.transformString,_=E.position;return F.createElement(fW,{value:{x:_.x,y:_.y,k:_.k,transformString:k}},F.createElement("g",{ref:S},F.createElement("rect",{width:b,height:w,fill:"transparent"}),F.createElement("g",si({ref:e,transform:k,className:"rsm-zoomable-group ".concat(x)},v))))});hW.displayName="ZoomableGroup";hW.propTypes={center:fe.array,zoom:fe.number,minZoom:fe.number,maxZoom:fe.number,translateExtent:fe.arrayOf(fe.array),onMoveStart:fe.func,onMove:fe.func,onMoveEnd:fe.func,className:fe.string};var fCe=["id","fill","stroke","strokeWidth","className"],Y_=C.forwardRef(function(t,e){var n=t.id,r=n===void 0?"rsm-sphere":n,i=t.fill,a=i===void 0?"transparent":i,s=t.stroke,o=s===void 0?"currentcolor":s,l=t.strokeWidth,c=l===void 0?.5:l,u=t.className,d=u===void 0?"":u,h=sa(t,fCe),p=C.useContext(ys),g=p.path,x=C.useMemo(function(){return g({type:"Sphere"})},[g]);return F.createElement(C.Fragment,null,F.createElement("defs",null,F.createElement("clipPath",{id:r},F.createElement("path",{d:x}))),F.createElement("path",si({ref:e,d:x,fill:a,stroke:o,strokeWidth:c,style:{pointerEvents:"none"},className:"rsm-sphere ".concat(d)},h)))});Y_.displayName="Sphere";Y_.propTypes={id:fe.string,fill:fe.string,stroke:fe.string,strokeWidth:fe.number,className:fe.string};C.memo(Y_);var hCe=["coordinates","children","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],Q_=C.forwardRef(function(t,e){var n=t.coordinates,r=t.children,i=t.onMouseEnter,a=t.onMouseLeave,s=t.onMouseDown,o=t.onMouseUp,l=t.onFocus,c=t.onBlur,u=t.style,d=u===void 0?{}:u,h=t.className,p=h===void 0?"":h,g=sa(t,hCe),x=C.useContext(ys),v=x.projection,y=C.useState(!1),b=ar(y,2),w=b[0],E=b[1],S=C.useState(!1),k=ar(S,2),_=k[0],N=k[1],P=v(n),A=ar(P,2),I=A[0],O=A[1];function j(B){N(!0),i&&i(B)}function R(B){N(!1),w&&E(!1),a&&a(B)}function D(B){N(!0),l&&l(B)}function $(B){N(!1),w&&E(!1),c&&c(B)}function U(B){E(!0),s&&s(B)}function V(B){E(!1),o&&o(B)}return F.createElement("g",si({ref:e,transform:"translate(".concat(I,", ").concat(O,")"),className:"rsm-marker ".concat(p),onMouseEnter:j,onMouseLeave:R,onFocus:D,onBlur:$,onMouseDown:U,onMouseUp:V,style:d[w||_?w?"pressed":"hover":"default"]},g),r)});Q_.displayName="Marker";Q_.propTypes={coordinates:fe.array,children:fe.oneOfType([fe.node,fe.arrayOf(fe.node)]),onMouseEnter:fe.func,onMouseLeave:fe.func,onMouseDown:fe.func,onMouseUp:fe.func,onFocus:fe.func,onBlur:fe.func,style:fe.object,className:fe.string};var pCe=["from","to","coordinates","stroke","strokeWidth","fill","className"],pW=C.forwardRef(function(t,e){var n=t.from,r=n===void 0?[0,0]:n,i=t.to,a=i===void 0?[0,0]:i,s=t.coordinates,o=t.stroke,l=o===void 0?"currentcolor":o,c=t.strokeWidth,u=c===void 0?3:c,d=t.fill,h=d===void 0?"transparent":d,p=t.className,g=p===void 0?"":p,x=sa(t,pCe),v=C.useContext(ys),y=v.path,b={type:"LineString",coordinates:s||[r,a]};return F.createElement("path",si({ref:e,d:y(b),className:"rsm-line ".concat(g),stroke:l,strokeWidth:u,fill:h},x))});pW.displayName="Line";pW.propTypes={from:fe.array,to:fe.array,coordinates:fe.array,stroke:fe.string,strokeWidth:fe.number,fill:fe.string,className:fe.string};var mCe=["subject","children","connectorProps","dx","dy","curve","className"],mW=C.forwardRef(function(t,e){var n=t.subject,r=t.children,i=t.connectorProps,a=t.dx,s=a===void 0?30:a,o=t.dy,l=o===void 0?30:o,c=t.curve,u=c===void 0?0:c,d=t.className,h=d===void 0?"":d,p=sa(t,mCe),g=C.useContext(ys),x=g.projection,v=x(n),y=ar(v,2),b=y[0],w=y[1],E=eCe(s,l,u);return F.createElement("g",si({ref:e,transform:"translate(".concat(b+s,", ").concat(w+l,")"),className:"rsm-annotation ".concat(h)},p),F.createElement("path",si({d:E,fill:"transparent",stroke:"#000"},i)),r)});mW.displayName="Annotation";mW.propTypes={subject:fe.array,children:fe.oneOfType([fe.node,fe.arrayOf(fe.node)]),dx:fe.number,dy:fe.number,curve:fe.number,connectorProps:fe.object,className:fe.string};var Ft=1e-6,O9=1e-12,_t=Math.PI,ei=_t/2,pO=_t/4,Ti=_t*2,Ar=180/_t,It=_t/180,cn=Math.abs,gW=Math.atan,Hl=Math.atan2,Pt=Math.cos,gCe=Math.exp,j9=Math.hypot,yCe=Math.log,At=Math.sin,vCe=Math.sign||function(t){return t>0?1:t<0?-1:0},R0=Math.sqrt,xCe=Math.tan;function bCe(t){return t>1?0:t<-1?_t:Math.acos(t)}function Gl(t){return t>1?ei:t<-1?-ei:Math.asin(t)}function _i(){}function qg(t,e){t&&gO.hasOwnProperty(t.type)&&gO[t.type](t,e)}var mO={Feature:function(t,e){qg(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)qg(n[r].geometry,e)}},gO={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){M9(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)M9(n[r],e,0)},Polygon:function(t,e){yO(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)yO(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)qg(n[r],e)}};function M9(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function yO(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)M9(t[n],e,1);e.polygonEnd()}function Z0(t,e){t&&mO.hasOwnProperty(t.type)?mO[t.type](t,e):qg(t,e)}function D9(t){return[Hl(t[1],t[0]),Gl(t[2])]}function nd(t){var e=t[0],n=t[1],r=Pt(n);return[r*Pt(e),r*At(e),At(n)]}function Mm(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Hg(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Hy(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Dm(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function R9(t){var e=R0(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Mf,Gg,Kg,Yg,Qg,Xg,Jg,Zg,$9,L9,F9,yW,vW,jr,Mr,Dr,wa={sphere:_i,point:X_,lineStart:vO,lineEnd:xO,polygonStart:function(){wa.lineStart=SCe,wa.lineEnd=kCe},polygonEnd:function(){wa.lineStart=vO,wa.lineEnd=xO}};function X_(t,e){t*=It,e*=It;var n=Pt(e);S4(n*Pt(t),n*At(t),At(e))}function S4(t,e,n){++Mf,Kg+=(t-Kg)/Mf,Yg+=(e-Yg)/Mf,Qg+=(n-Qg)/Mf}function vO(){wa.point=wCe}function wCe(t,e){t*=It,e*=It;var n=Pt(e);jr=n*Pt(t),Mr=n*At(t),Dr=At(e),wa.point=_Ce,S4(jr,Mr,Dr)}function _Ce(t,e){t*=It,e*=It;var n=Pt(e),r=n*Pt(t),i=n*At(t),a=At(e),s=Hl(R0((s=Mr*a-Dr*i)*s+(s=Dr*r-jr*a)*s+(s=jr*i-Mr*r)*s),jr*r+Mr*i+Dr*a);Gg+=s,Xg+=s*(jr+(jr=r)),Jg+=s*(Mr+(Mr=i)),Zg+=s*(Dr+(Dr=a)),S4(jr,Mr,Dr)}function xO(){wa.point=X_}function SCe(){wa.point=ECe}function kCe(){xW(yW,vW),wa.point=X_}function ECe(t,e){yW=t,vW=e,t*=It,e*=It,wa.point=xW;var n=Pt(e);jr=n*Pt(t),Mr=n*At(t),Dr=At(e),S4(jr,Mr,Dr)}function xW(t,e){t*=It,e*=It;var n=Pt(e),r=n*Pt(t),i=n*At(t),a=At(e),s=Mr*a-Dr*i,o=Dr*r-jr*a,l=jr*i-Mr*r,c=j9(s,o,l),u=Gl(c),d=c&&-u/c;$9.add(d*s),L9.add(d*o),F9.add(d*l),Gg+=u,Xg+=u*(jr+(jr=r)),Jg+=u*(Mr+(Mr=i)),Zg+=u*(Dr+(Dr=a)),S4(jr,Mr,Dr)}function NCe(t){Mf=Gg=Kg=Yg=Qg=Xg=Jg=Zg=0,$9=new ss,L9=new ss,F9=new ss,Z0(t,wa);var e=+$9,n=+L9,r=+F9,i=j9(e,n,r);return i<O9&&(e=Xg,n=Jg,r=Zg,Gg<Ft&&(e=Kg,n=Yg,r=Qg),i=j9(e,n,r),i<O9)?[NaN,NaN]:[Hl(n,e)*Ar,Gl(r/i)*Ar]}function V9(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function U9(t,e){return cn(t)>_t&&(t-=Math.round(t/Ti)*Ti),[t,e]}U9.invert=U9;function bW(t,e,n){return(t%=Ti)?e||n?V9(wO(t),_O(e,n)):wO(t):e||n?_O(e,n):U9}function bO(t){return function(e,n){return e+=t,cn(e)>_t&&(e-=Math.round(e/Ti)*Ti),[e,n]}}function wO(t){var e=bO(t);return e.invert=bO(-t),e}function _O(t,e){var n=Pt(t),r=At(t),i=Pt(e),a=At(e);function s(o,l){var c=Pt(l),u=Pt(o)*c,d=At(o)*c,h=At(l),p=h*n+u*r;return[Hl(d*i-p*a,u*n-h*r),Gl(p*i+d*a)]}return s.invert=function(o,l){var c=Pt(l),u=Pt(o)*c,d=At(o)*c,h=At(l),p=h*i-d*a;return[Hl(d*i+h*a,u*n+p*r),Gl(p*n-u*r)]},s}function TCe(t){t=bW(t[0]*It,t[1]*It,t.length>2?t[2]*It:0);function e(n){return n=t(n[0]*It,n[1]*It),n[0]*=Ar,n[1]*=Ar,n}return e.invert=function(n){return n=t.invert(n[0]*It,n[1]*It),n[0]*=Ar,n[1]*=Ar,n},e}function PCe(t,e,n,r,i,a){if(n){var s=Pt(e),o=At(e),l=r*n;i==null?(i=e+r*Ti,a=e-l/2):(i=SO(s,i),a=SO(s,a),(r>0?i<a:i>a)&&(i+=r*Ti));for(var c,u=i;r>0?u>a:u<a;u-=l)c=D9([s,-o*Pt(u),-o*At(u)]),t.point(c[0],c[1])}}function SO(t,e){e=nd(e),e[0]-=t,R9(e);var n=bCe(-e[1]);return((-e[2]<0?-n:n)+Ti-Ft)%Ti}function wW(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:_i,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function x3(t,e){return cn(t[0]-e[0])<Ft&&cn(t[1]-e[1])<Ft}function Rm(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function _W(t,e,n,r,i){var a=[],s=[],o,l;if(t.forEach(function(g){if(!((x=g.length-1)<=0)){var x,v=g[0],y=g[x],b;if(x3(v,y)){if(!v[2]&&!y[2]){for(i.lineStart(),o=0;o<x;++o)i.point((v=g[o])[0],v[1]);i.lineEnd();return}y[0]+=2*Ft}a.push(b=new Rm(v,g,null,!0)),s.push(b.o=new Rm(v,null,b,!1)),a.push(b=new Rm(y,g,null,!1)),s.push(b.o=new Rm(y,null,b,!0))}}),!!a.length){for(s.sort(e),kO(a),kO(s),o=0,l=s.length;o<l;++o)s[o].e=n=!n;for(var c=a[0],u,d;;){for(var h=c,p=!0;h.v;)if((h=h.n)===c)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,l=u.length;o<l;++o)i.point((d=u[o])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(u=h.p.z,o=u.length-1;o>=0;--o)i.point((d=u[o])[0],d[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,p=!p}while(!h.v);i.lineEnd()}}}function kO(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Gy(t){return cn(t[0])<=_t?t[0]:vCe(t[0])*((cn(t[0])+_t)%Ti-_t)}function ACe(t,e){var n=Gy(e),r=e[1],i=At(r),a=[At(n),-Pt(n),0],s=0,o=0,l=new ss;i===1?r=ei+Ft:i===-1&&(r=-ei-Ft);for(var c=0,u=t.length;c<u;++c)if(h=(d=t[c]).length)for(var d,h,p=d[h-1],g=Gy(p),x=p[1]/2+pO,v=At(x),y=Pt(x),b=0;b<h;++b,g=E,v=k,y=_,p=w){var w=d[b],E=Gy(w),S=w[1]/2+pO,k=At(S),_=Pt(S),N=E-g,P=N>=0?1:-1,A=P*N,I=A>_t,O=v*k;if(l.add(Hl(O*P*At(A),y*_+O*Pt(A))),s+=I?N+P*Ti:N,I^g>=n^E>=n){var j=Hg(nd(p),nd(w));R9(j);var R=Hg(a,j);R9(R);var D=(I^N>=0?-1:1)*Gl(R[2]);(r>D||r===D&&(j[0]||j[1]))&&(o+=I^N>=0?1:-1)}}return(s<-Ft||s<Ft&&l<-O9)^o&1}function SW(t,e,n,r){return function(i){var a=e(i),s=wW(),o=e(s),l=!1,c,u,d,h={point:p,lineStart:x,lineEnd:v,polygonStart:function(){h.point=y,h.lineStart=b,h.lineEnd=w,u=[],c=[]},polygonEnd:function(){h.point=p,h.lineStart=x,h.lineEnd=v,u=jV(u);var E=ACe(c,r);u.length?(l||(i.polygonStart(),l=!0),_W(u,CCe,E,n,i)):E&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(E,S){t(E,S)&&i.point(E,S)}function g(E,S){a.point(E,S)}function x(){h.point=g,a.lineStart()}function v(){h.point=p,a.lineEnd()}function y(E,S){d.push([E,S]),o.point(E,S)}function b(){o.lineStart(),d=[]}function w(){y(d[0][0],d[0][1]),o.lineEnd();var E=o.clean(),S=s.result(),k,_=S.length,N,P,A;if(d.pop(),c.push(d),d=null,!!_){if(E&1){if(P=S[0],(N=P.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),k=0;k<N;++k)i.point((A=P[k])[0],A[1]);i.lineEnd()}return}_>1&&E&2&&S.push(S.pop().concat(S.shift())),u.push(S.filter(ICe))}}return h}}function ICe(t){return t.length>1}function CCe(t,e){return((t=t.x)[0]<0?t[1]-ei-Ft:ei-t[1])-((e=e.x)[0]<0?e[1]-ei-Ft:ei-e[1])}const EO=SW(function(){return!0},OCe,MCe,[-_t,-ei]);function OCe(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,s){var o=a>0?_t:-_t,l=cn(a-e);cn(l-_t)<Ft?(t.point(e,n=(n+s)/2>0?ei:-ei),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),t.point(a,n),i=0):r!==o&&l>=_t&&(cn(e-r)<Ft&&(e-=r*Ft),cn(a-o)<Ft&&(a-=o*Ft),n=jCe(e,n,a,s),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),i=0),t.point(e=a,n=s),r=o},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function jCe(t,e,n,r){var i,a,s=At(t-n);return cn(s)>Ft?gW((At(e)*(a=Pt(r))*At(n)-At(r)*(i=Pt(e))*At(t))/(i*a*s)):(e+r)/2}function MCe(t,e,n,r){var i;if(t==null)i=n*ei,r.point(-_t,i),r.point(0,i),r.point(_t,i),r.point(_t,0),r.point(_t,-i),r.point(0,-i),r.point(-_t,-i),r.point(-_t,0),r.point(-_t,i);else if(cn(t[0]-e[0])>Ft){var a=t[0]<e[0]?_t:-_t;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function DCe(t){var e=Pt(t),n=2*It,r=e>0,i=cn(e)>Ft;function a(u,d,h,p){PCe(p,t,n,h,u,d)}function s(u,d){return Pt(u)*Pt(d)>e}function o(u){var d,h,p,g,x;return{lineStart:function(){g=p=!1,x=1},point:function(v,y){var b=[v,y],w,E=s(v,y),S=r?E?0:c(v,y):E?c(v+(v<0?_t:-_t),y):0;if(!d&&(g=p=E)&&u.lineStart(),E!==p&&(w=l(d,b),(!w||x3(d,w)||x3(b,w))&&(b[2]=1)),E!==p)x=0,E?(u.lineStart(),w=l(b,d),u.point(w[0],w[1])):(w=l(d,b),u.point(w[0],w[1],2),u.lineEnd()),d=w;else if(i&&d&&r^E){var k;!(S&h)&&(k=l(b,d,!0))&&(x=0,r?(u.lineStart(),u.point(k[0][0],k[0][1]),u.point(k[1][0],k[1][1]),u.lineEnd()):(u.point(k[1][0],k[1][1]),u.lineEnd(),u.lineStart(),u.point(k[0][0],k[0][1],3)))}E&&(!d||!x3(d,b))&&u.point(b[0],b[1]),d=b,p=E,h=S},lineEnd:function(){p&&u.lineEnd(),d=null},clean:function(){return x|(g&&p)<<1}}}function l(u,d,h){var p=nd(u),g=nd(d),x=[1,0,0],v=Hg(p,g),y=Mm(v,v),b=v[0],w=y-b*b;if(!w)return!h&&u;var E=e*y/w,S=-e*b/w,k=Hg(x,v),_=Dm(x,E),N=Dm(v,S);Hy(_,N);var P=k,A=Mm(_,P),I=Mm(P,P),O=A*A-I*(Mm(_,_)-1);if(!(O<0)){var j=R0(O),R=Dm(P,(-A-j)/I);if(Hy(R,_),R=D9(R),!h)return R;var D=u[0],$=d[0],U=u[1],V=d[1],B;$<D&&(B=D,D=$,$=B);var q=$-D,K=cn(q-_t)<Ft,H=K||q<Ft;if(!K&&V<U&&(B=U,U=V,V=B),H?K?U+V>0^R[1]<(cn(R[0]-D)<Ft?U:V):U<=R[1]&&R[1]<=V:q>_t^(D<=R[0]&&R[0]<=$)){var ne=Dm(P,(-A+j)/I);return Hy(ne,_),[R,D9(ne)]}}}function c(u,d){var h=r?t:_t-t,p=0;return u<-h?p|=1:u>h&&(p|=2),d<-h?p|=4:d>h&&(p|=8),p}return SW(s,o,a,r?[0,-t]:[-_t,t-_t])}function RCe(t,e,n,r,i,a){var s=t[0],o=t[1],l=e[0],c=e[1],u=0,d=1,h=l-s,p=c-o,g;if(g=n-s,!(!h&&g>0)){if(g/=h,h<0){if(g<u)return;g<d&&(d=g)}else if(h>0){if(g>d)return;g>u&&(u=g)}if(g=i-s,!(!h&&g<0)){if(g/=h,h<0){if(g>d)return;g>u&&(u=g)}else if(h>0){if(g<u)return;g<d&&(d=g)}if(g=r-o,!(!p&&g>0)){if(g/=p,p<0){if(g<u)return;g<d&&(d=g)}else if(p>0){if(g>d)return;g>u&&(u=g)}if(g=a-o,!(!p&&g<0)){if(g/=p,p<0){if(g>d)return;g>u&&(u=g)}else if(p>0){if(g<u)return;g<d&&(d=g)}return u>0&&(t[0]=s+u*h,t[1]=o+u*p),d<1&&(e[0]=s+d*h,e[1]=o+d*p),!0}}}}}var Df=1e9,$m=-Df;function $Ce(t,e,n,r){function i(c,u){return t<=c&&c<=n&&e<=u&&u<=r}function a(c,u,d,h){var p=0,g=0;if(c==null||(p=s(c,d))!==(g=s(u,d))||l(c,u)<0^d>0)do h.point(p===0||p===3?t:n,p>1?r:e);while((p=(p+d+4)%4)!==g);else h.point(u[0],u[1])}function s(c,u){return cn(c[0]-t)<Ft?u>0?0:3:cn(c[0]-n)<Ft?u>0?2:1:cn(c[1]-e)<Ft?u>0?1:0:u>0?3:2}function o(c,u){return l(c.x,u.x)}function l(c,u){var d=s(c,1),h=s(u,1);return d!==h?d-h:d===0?u[1]-c[1]:d===1?c[0]-u[0]:d===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,d=wW(),h,p,g,x,v,y,b,w,E,S,k,_={point:N,lineStart:O,lineEnd:j,polygonStart:A,polygonEnd:I};function N(D,$){i(D,$)&&u.point(D,$)}function P(){for(var D=0,$=0,U=p.length;$<U;++$)for(var V=p[$],B=1,q=V.length,K=V[0],H,ne,he=K[0],me=K[1];B<q;++B)H=he,ne=me,K=V[B],he=K[0],me=K[1],ne<=r?me>r&&(he-H)*(r-ne)>(me-ne)*(t-H)&&++D:me<=r&&(he-H)*(r-ne)<(me-ne)*(t-H)&&--D;return D}function A(){u=d,h=[],p=[],k=!0}function I(){var D=P(),$=k&&D,U=(h=jV(h)).length;($||U)&&(c.polygonStart(),$&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),U&&_W(h,o,D,a,c),c.polygonEnd()),u=c,h=p=g=null}function O(){_.point=R,p&&p.push(g=[]),S=!0,E=!1,b=w=NaN}function j(){h&&(R(x,v),y&&E&&d.rejoin(),h.push(d.result())),_.point=N,E&&u.lineEnd()}function R(D,$){var U=i(D,$);if(p&&g.push([D,$]),S)x=D,v=$,y=U,S=!1,U&&(u.lineStart(),u.point(D,$));else if(U&&E)u.point(D,$);else{var V=[b=Math.max($m,Math.min(Df,b)),w=Math.max($m,Math.min(Df,w))],B=[D=Math.max($m,Math.min(Df,D)),$=Math.max($m,Math.min(Df,$))];RCe(V,B,t,e,n,r)?(E||(u.lineStart(),u.point(V[0],V[1])),u.point(B[0],B[1]),U||u.lineEnd(),k=!1):U&&(u.lineStart(),u.point(D,$),k=!1)}b=D,w=$,E=U}return _}}const B9=t=>t;var Ky=new ss,z9=new ss,kW,EW,W9,q9,As={point:_i,lineStart:_i,lineEnd:_i,polygonStart:function(){As.lineStart=LCe,As.lineEnd=VCe},polygonEnd:function(){As.lineStart=As.lineEnd=As.point=_i,Ky.add(cn(z9)),z9=new ss},result:function(){var t=Ky/2;return Ky=new ss,t}};function LCe(){As.point=FCe}function FCe(t,e){As.point=NW,kW=W9=t,EW=q9=e}function NW(t,e){z9.add(q9*t-W9*e),W9=t,q9=e}function VCe(){NW(kW,EW)}var rd=1/0,e2=rd,Vp=-rd,t2=Vp,n2={point:UCe,lineStart:_i,lineEnd:_i,polygonStart:_i,polygonEnd:_i,result:function(){var t=[[rd,e2],[Vp,t2]];return Vp=t2=-(e2=rd=1/0),t}};function UCe(t,e){t<rd&&(rd=t),t>Vp&&(Vp=t),e<e2&&(e2=e),e>t2&&(t2=e)}var H9=0,G9=0,Rf=0,r2=0,i2=0,Qc=0,K9=0,Y9=0,$f=0,TW,PW,Ha,Ga,Ui={point:Kl,lineStart:NO,lineEnd:TO,polygonStart:function(){Ui.lineStart=WCe,Ui.lineEnd=qCe},polygonEnd:function(){Ui.point=Kl,Ui.lineStart=NO,Ui.lineEnd=TO},result:function(){var t=$f?[K9/$f,Y9/$f]:Qc?[r2/Qc,i2/Qc]:Rf?[H9/Rf,G9/Rf]:[NaN,NaN];return H9=G9=Rf=r2=i2=Qc=K9=Y9=$f=0,t}};function Kl(t,e){H9+=t,G9+=e,++Rf}function NO(){Ui.point=BCe}function BCe(t,e){Ui.point=zCe,Kl(Ha=t,Ga=e)}function zCe(t,e){var n=t-Ha,r=e-Ga,i=R0(n*n+r*r);r2+=i*(Ha+t)/2,i2+=i*(Ga+e)/2,Qc+=i,Kl(Ha=t,Ga=e)}function TO(){Ui.point=Kl}function WCe(){Ui.point=HCe}function qCe(){AW(TW,PW)}function HCe(t,e){Ui.point=AW,Kl(TW=Ha=t,PW=Ga=e)}function AW(t,e){var n=t-Ha,r=e-Ga,i=R0(n*n+r*r);r2+=i*(Ha+t)/2,i2+=i*(Ga+e)/2,Qc+=i,i=Ga*t-Ha*e,K9+=i*(Ha+t),Y9+=i*(Ga+e),$f+=i*3,Kl(Ha=t,Ga=e)}function IW(t){this._context=t}IW.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Ti);break}}},result:_i};var Q9=new ss,Yy,CW,OW,Lf,Ff,Up={point:_i,lineStart:function(){Up.point=GCe},lineEnd:function(){Yy&&jW(CW,OW),Up.point=_i},polygonStart:function(){Yy=!0},polygonEnd:function(){Yy=null},result:function(){var t=+Q9;return Q9=new ss,t}};function GCe(t,e){Up.point=jW,CW=Lf=t,OW=Ff=e}function jW(t,e){Lf-=t,Ff-=e,Q9.add(R0(Lf*Lf+Ff*Ff)),Lf=t,Ff=e}let PO,a2,AO,IO;class CO{constructor(e){this._append=e==null?MW:KCe(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==AO||this._append!==a2){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,AO=r,a2=this._append,IO=this._,this._=i}this._+=IO;break}}}result(){const e=this._;return this._="",e.length?e:null}}function MW(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function KCe(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return MW;if(e!==PO){const n=10**e;PO=e,a2=function(i){let a=1;this._+=i[0];for(const s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return a2}function YCe(t,e){let n=3,r=4.5,i,a;function s(o){return o&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),Z0(o,i(a))),a.result()}return s.area=function(o){return Z0(o,i(As)),As.result()},s.measure=function(o){return Z0(o,i(Up)),Up.result()},s.bounds=function(o){return Z0(o,i(n2)),n2.result()},s.centroid=function(o){return Z0(o,i(Ui)),Ui.result()},s.projection=function(o){return arguments.length?(i=o==null?(t=null,B9):(t=o).stream,s):t},s.context=function(o){return arguments.length?(a=o==null?(e=null,new CO(n)):new IW(e=o),typeof r!="function"&&a.pointRadius(r),s):e},s.pointRadius=function(o){return arguments.length?(r=typeof o=="function"?o:(a.pointRadius(+o),+o),s):r},s.digits=function(o){if(!arguments.length)return n;if(o==null)n=null;else{const l=Math.floor(o);if(!(l>=0))throw new RangeError(`invalid digits: ${o}`);n=l}return e===null&&(a=new CO(n)),s},s.projection(t).digits(n).context(e)}function J_(t){return function(e){var n=new X9;for(var r in t)n[r]=t[r];return n.stream=e,n}}function X9(){}X9.prototype={constructor:X9,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Z_(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Z0(n,t.stream(n2)),e(n2.result()),r!=null&&t.clipExtent(r),t}function DW(t,e,n){return Z_(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),o=+e[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(a-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([o,l])},n)}function QCe(t,e,n){return DW(t,[[0,0],e],n)}function XCe(t,e,n){return Z_(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,o=-a*r[0][1];t.scale(150*a).translate([s,o])},n)}function JCe(t,e,n){return Z_(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],o=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,o])},n)}var OO=16,ZCe=Pt(30*It);function jO(t,e){return+e?tOe(t,e):eOe(t)}function eOe(t){return J_({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function tOe(t,e){function n(r,i,a,s,o,l,c,u,d,h,p,g,x,v){var y=c-r,b=u-i,w=y*y+b*b;if(w>4*e&&x--){var E=s+h,S=o+p,k=l+g,_=R0(E*E+S*S+k*k),N=Gl(k/=_),P=cn(cn(k)-1)<Ft||cn(a-d)<Ft?(a+d)/2:Hl(S,E),A=t(P,N),I=A[0],O=A[1],j=I-r,R=O-i,D=b*j-y*R;(D*D/w>e||cn((y*j+b*R)/w-.5)>.3||s*h+o*p+l*g<ZCe)&&(n(r,i,a,s,o,l,I,O,P,E/=_,S/=_,k,x,v),v.point(I,O),n(I,O,P,E,S,k,c,u,d,h,p,g,x,v))}}return function(r){var i,a,s,o,l,c,u,d,h,p,g,x,v={point:y,lineStart:b,lineEnd:E,polygonStart:function(){r.polygonStart(),v.lineStart=S},polygonEnd:function(){r.polygonEnd(),v.lineStart=b}};function y(N,P){N=t(N,P),r.point(N[0],N[1])}function b(){d=NaN,v.point=w,r.lineStart()}function w(N,P){var A=nd([N,P]),I=t(N,P);n(d,h,u,p,g,x,d=I[0],h=I[1],u=N,p=A[0],g=A[1],x=A[2],OO,r),r.point(d,h)}function E(){v.point=y,r.lineEnd()}function S(){b(),v.point=k,v.lineEnd=_}function k(N,P){w(i=N,P),a=d,s=h,o=p,l=g,c=x,v.point=w}function _(){n(d,h,u,p,g,x,a,s,i,o,l,c,OO,r),v.lineEnd=E,E()}return v}}var nOe=J_({point:function(t,e){this.stream.point(t*It,e*It)}});function rOe(t){return J_({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function iOe(t,e,n,r,i){function a(s,o){return s*=r,o*=i,[e+t*s,n-t*o]}return a.invert=function(s,o){return[(s-e)/t*r,(n-o)/t*i]},a}function MO(t,e,n,r,i,a){if(!a)return iOe(t,e,n,r,i);var s=Pt(a),o=At(a),l=s*t,c=o*t,u=s/t,d=o/t,h=(o*n-s*e)/t,p=(o*e+s*n)/t;function g(x,v){return x*=r,v*=i,[l*x-c*v+e,n-c*x-l*v]}return g.invert=function(x,v){return[r*(u*x-d*v+h),i*(p-d*x-u*v)]},g}function aOe(t){return sOe(function(){return t})()}function sOe(t){var e,n=150,r=480,i=250,a=0,s=0,o=0,l=0,c=0,u,d=0,h=1,p=1,g=null,x=EO,v=null,y,b,w,E=B9,S=.5,k,_,N,P,A;function I(D){return N(D[0]*It,D[1]*It)}function O(D){return D=N.invert(D[0],D[1]),D&&[D[0]*Ar,D[1]*Ar]}I.stream=function(D){return P&&A===D?P:P=nOe(rOe(u)(x(k(E(A=D)))))},I.preclip=function(D){return arguments.length?(x=D,g=void 0,R()):x},I.postclip=function(D){return arguments.length?(E=D,v=y=b=w=null,R()):E},I.clipAngle=function(D){return arguments.length?(x=+D?DCe(g=D*It):(g=null,EO),R()):g*Ar},I.clipExtent=function(D){return arguments.length?(E=D==null?(v=y=b=w=null,B9):$Ce(v=+D[0][0],y=+D[0][1],b=+D[1][0],w=+D[1][1]),R()):v==null?null:[[v,y],[b,w]]},I.scale=function(D){return arguments.length?(n=+D,j()):n},I.translate=function(D){return arguments.length?(r=+D[0],i=+D[1],j()):[r,i]},I.center=function(D){return arguments.length?(a=D[0]%360*It,s=D[1]%360*It,j()):[a*Ar,s*Ar]},I.rotate=function(D){return arguments.length?(o=D[0]%360*It,l=D[1]%360*It,c=D.length>2?D[2]%360*It:0,j()):[o*Ar,l*Ar,c*Ar]},I.angle=function(D){return arguments.length?(d=D%360*It,j()):d*Ar},I.reflectX=function(D){return arguments.length?(h=D?-1:1,j()):h<0},I.reflectY=function(D){return arguments.length?(p=D?-1:1,j()):p<0},I.precision=function(D){return arguments.length?(k=jO(_,S=D*D),R()):R0(S)},I.fitExtent=function(D,$){return DW(I,D,$)},I.fitSize=function(D,$){return QCe(I,D,$)},I.fitWidth=function(D,$){return XCe(I,D,$)},I.fitHeight=function(D,$){return JCe(I,D,$)};function j(){var D=MO(n,0,0,h,p,d).apply(null,e(a,s)),$=MO(n,r-D[0],i-D[1],h,p,d);return u=bW(o,l,c),_=V9(e,$),N=V9(u,_),k=jO(_,S),R()}function R(){return P=A=null,I}return function(){return e=t.apply(this,arguments),I.invert=e.invert&&O,j()}}function eS(t,e){return[t,yCe(xCe((ei+e)/2))]}eS.invert=function(t,e){return[t,2*gW(gCe(e))-ei]};function oOe(){return lOe(eS).scale(961/Ti)}function lOe(t){var e=aOe(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,s=null,o,l,c;e.scale=function(d){return arguments.length?(r(d),u()):r()},e.translate=function(d){return arguments.length?(i(d),u()):i()},e.center=function(d){return arguments.length?(n(d),u()):n()},e.clipExtent=function(d){return arguments.length?(d==null?s=o=l=c=null:(s=+d[0][0],o=+d[0][1],l=+d[1][0],c=+d[1][1]),u()):s==null?null:[[s,o],[l,c]]};function u(){var d=_t*r(),h=e(TCe(e.rotate()).invert([0,0]));return a(s==null?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:t===eS?[[Math.max(h[0]-d,s),o],[Math.min(h[0]+d,l),c]]:[[s,Math.max(h[1]-d,o)],[l,Math.min(h[1]+d,c)]])}return u()}const cOe=`{\r
"type": "FeatureCollection",\r
"crs": { "type": "name", "properties": { "name": "urn:ogc:def:crs:OGC:1.3:CRS84" } },\r
"features": [\r
{ "type": "Feature", "properties": { "shapeName": "Al-Anbar", "shapeISO": "IQ-AN", "shapeID": "90741666B95383716564687", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 41.215106344000048, 35.13619847800004 ], [ 41.215106344000048, 35.005016305000026 ], [ 41.225123991000032, 34.970135611000046 ], [ 41.220115167000074, 34.791396081000073 ], [ 41.195071049000035, 34.76053965400007 ], [ 41.17253134200007, 34.735846206000076 ], [ 41.124947516000077, 34.68849646700005 ], [ 41.112425457000029, 34.659661619000076 ], [ 41.079868102000034, 34.612268295000035 ], [ 41.072354866000069, 34.593715711000073 ], [ 41.029779864000034, 34.523590780000063 ], [ 41.002231334000044, 34.484377579000068 ], [ 40.98219603900003, 34.447211218000064 ], [ 40.964665155000034, 34.426556090000076 ], [ 40.949638684000035, 34.414160563000053 ], [ 40.909568094000065, 34.399696793000032 ], [ 40.859479856000064, 34.395563827000046 ], [ 40.819409266000036, 34.389363997000032 ], [ 40.769321029000025, 34.387297285000045 ], [ 40.726746027000047, 34.387297285000045 ], [ 40.674153377000039, 34.376962959000025 ], [ 40.621560728000077, 34.354222952000043 ], [ 38.794905311000036, 33.408622035000064 ], [ 39.088391079000075, 32.535391729000025 ], [ 38.991188592000071, 32.508863753000071 ], [ 39.056303301000071, 32.316467330000023 ], [ 39.256656252000028, 32.37782499900004 ], [ 39.304240078000078, 32.267774774000031 ], [ 39.204063602000076, 32.176670758000057 ], [ 40.413694541000041, 31.966573059000041 ], [ 40.997222510000029, 31.638797245000035 ], [ 41.317787231000068, 31.448839288000045 ], [ 41.52314900500005, 31.352646144000062 ], [ 41.668404894000048, 31.294882969000071 ], [ 42.094154914000057, 31.117093041000032 ], [ 42.935637307000036, 30.510549738000066 ], [ 42.935751249000077, 30.513761097000042 ], [ 42.953168190000042, 31.003389915000071 ], [ 42.988229956000055, 31.074202168000056 ], [ 43.005760839000061, 31.10422781300008 ], [ 43.025796134000075, 31.127812733000042 ], [ 43.053344665000054, 31.151391792000027 ], [ 43.080893196000034, 31.166393594000056 ], [ 43.113450550000039, 31.185678136000035 ], [ 43.123468198000069, 31.209242797000059 ], [ 43.123468198000069, 31.339812946000052 ], [ 43.168547612000054, 31.406098950000057 ], [ 43.181069671000046, 31.421060285000067 ], [ 43.203609378000067, 31.448839288000045 ], [ 43.216131437000058, 31.474474136000026 ], [ 43.226149085000031, 31.495831148000036 ], [ 43.223644673000081, 31.608941852000044 ], [ 43.311299089000045, 31.681431185000065 ], [ 43.35387409100008, 31.745345395000072 ], [ 43.386431445000028, 31.798573566000073 ], [ 43.40396232900008, 31.830495763000044 ], [ 43.429006447000063, 31.858152740000037 ], [ 43.456554978000042, 31.881548319000046 ], [ 43.49662556800007, 31.900685739000039 ], [ 43.544209394000063, 31.91131591900006 ], [ 43.586784396000041, 31.926196109000045 ], [ 43.636872634000042, 31.953824360000056 ], [ 43.674438812000062, 31.975071208000031 ], [ 43.714509402000033, 31.998437061000061 ], [ 43.837225584000066, 32.087597364000032 ], [ 43.273732911000025, 32.576422065000031 ], [ 43.426502036000045, 32.61018215200005 ], [ 43.589288808000049, 32.646038305000047 ], [ 43.709500578000075, 32.669231689000071 ], [ 43.797154994000039, 32.707171515000027 ], [ 43.829712349000033, 32.734562471000061 ], [ 43.872287351000068, 32.755626712000037 ], [ 43.902340293000066, 32.772474518000024 ], [ 43.944915295000044, 32.787213733000044 ], [ 43.982481473000064, 32.793529792000072 ], [ 44.025056475000042, 32.793529792000072 ], [ 44.062622654000052, 32.797740248000025 ], [ 44.080153537000058, 32.875597721000076 ], [ 44.10519765600003, 32.91765440000006 ], [ 44.107702068000037, 32.953386873000056 ], [ 44.097684420000064, 32.99960746000005 ], [ 44.097684420000064, 33.039505764000069 ], [ 44.097684420000064, 33.073090328000035 ], [ 44.095180008000057, 33.100368350000053 ], [ 44.090171184000042, 33.127637908000054 ], [ 44.072640301000035, 33.150705537000078 ], [ 44.050100594000071, 33.175863307000043 ], [ 44.030065299000057, 33.194726896000077 ], [ 44.00001235700006, 33.213586423000038 ], [ 43.979977062000046, 33.194726896000077 ], [ 43.967455002000065, 33.196822599000029 ], [ 43.942410883000036, 33.230347035000079 ], [ 43.917366764000064, 33.240820787000075 ], [ 43.907349117000081, 33.259670379000056 ], [ 43.919871176000072, 33.284796842000048 ], [ 43.942410883000036, 33.29317072300006 ], [ 44.125232951000044, 33.29317072300006 ], [ 44.260471192000068, 33.433313682000062 ], [ 44.215391778000026, 33.508521089000055 ], [ 44.165303541000071, 33.577403846000038 ], [ 44.132746186000077, 33.598266566000063 ], [ 44.10519765600003, 33.614953109000055 ], [ 44.082657949000065, 33.631636423000032 ], [ 44.082657949000065, 33.671246343000064 ], [ 44.072640301000035, 33.700420932000043 ], [ 44.045091770000056, 33.725419841000075 ], [ 44.020047652000073, 33.742081736000046 ], [ 43.732040285000039, 33.750411470000074 ], [ 43.70449175400006, 33.773314066000069 ], [ 43.671934400000055, 33.789966656000047 ], [ 43.629359398000076, 33.792048002000058 ], [ 43.60181086700004, 33.792048002000058 ], [ 43.571757925000043, 33.792048002000058 ], [ 43.551722630000029, 33.79412929700004 ], [ 43.521669687000042, 33.79621054200004 ], [ 43.326325560000043, 33.84406520400006 ], [ 43.183574083000053, 33.968777321000061 ], [ 43.183574083000053, 34.004079235000063 ], [ 43.115954962000046, 34.022762546000024 ], [ 43.115954962000046, 34.055967167000063 ], [ 43.103432903000055, 34.08708469100003 ], [ 43.045831429000032, 34.12233739800007 ], [ 42.998247604000028, 34.147212816000035 ], [ 42.920610835000048, 34.228007339000044 ], [ 42.923115247000055, 34.515336902000058 ], [ 42.770346122000035, 34.374895940000044 ], [ 42.442268166000076, 34.558660635000024 ], [ 42.422232871000062, 34.931133724000063 ], [ 41.901315199000067, 34.922920436000027 ], [ 41.743537251000078, 34.974239994000072 ], [ 41.653378423000049, 34.998861968000028 ], [ 41.578246067000066, 35.019374623000033 ], [ 41.52314900500005, 35.03373042000004 ], [ 41.488087239000038, 35.029629021000062 ], [ 41.450521061000074, 35.03373042000004 ], [ 41.415459294000073, 35.048083696000049 ], [ 41.372884292000037, 35.072683445000052 ], [ 41.320291643000076, 35.095226702000048 ], [ 41.280221053000048, 35.113666551000051 ], [ 41.250168110000061, 35.125957466000045 ], [ 41.215106344000048, 35.13619847800004 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Karbala", "shapeISO": "IQ-KA", "shapeID": "90741666B6541054971840", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 43.273732911000025, 32.576422065000031 ], [ 43.729914548000067, 32.18089201600003 ], [ 44.250453545000028, 32.358787418000077 ], [ 44.222905014000048, 32.420116378000046 ], [ 44.192852072000051, 32.456048469000052 ], [ 44.177825600000062, 32.475065541000049 ], [ 44.167807953000079, 32.489853821000054 ], [ 44.157790305000049, 32.506751736000069 ], [ 44.145268246000057, 32.519423089000043 ], [ 44.125232951000044, 32.542649263000044 ], [ 44.110206479000055, 32.561648028000036 ], [ 44.095180008000057, 32.580642771000043 ], [ 44.082657949000065, 32.593303698000057 ], [ 44.082657949000065, 32.608072519000075 ], [ 44.092675596000049, 32.622838905000037 ], [ 44.102693244000079, 32.637602856000058 ], [ 44.11521530300007, 32.658689988000049 ], [ 44.152781481000034, 32.696634291000066 ], [ 44.165303541000071, 32.707171515000027 ], [ 44.187843248000036, 32.71560039700006 ], [ 44.205374131000042, 32.730349026000056 ], [ 44.207878543000049, 32.740882266000028 ], [ 44.202869719000034, 32.755626712000037 ], [ 44.187843248000036, 32.770368717000053 ], [ 44.170312365000029, 32.772474518000024 ], [ 44.137755010000035, 32.774580270000058 ], [ 44.120224127000029, 32.780897226000036 ], [ 44.085162361000073, 32.791424489000065 ], [ 44.062622654000052, 32.797740248000025 ], [ 44.025056475000042, 32.793529792000072 ], [ 43.982481473000064, 32.793529792000072 ], [ 43.944915295000044, 32.787213733000044 ], [ 43.902340293000066, 32.772474518000024 ], [ 43.872287351000068, 32.755626712000037 ], [ 43.829712349000033, 32.734562471000061 ], [ 43.797154994000039, 32.707171515000027 ], [ 43.709500578000075, 32.669231689000071 ], [ 43.589288808000049, 32.646038305000047 ], [ 43.426502036000045, 32.61018215200005 ], [ 43.273732911000025, 32.576422065000031 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "An-Najaf", "shapeISO": "IQ-NA", "shapeID": "90741666B48190773870201", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 42.935751249000077, 30.513761097000042 ], [ 42.978112132000035, 30.476453047000064 ], [ 43.813614360613677, 29.850955358773959 ], [ 43.813584493000064, 29.850980567000079 ], [ 43.814786054000081, 29.850078172000053 ], [ 43.898132881000038, 29.954287058000034 ], [ 43.95583453100005, 30.034800458000063 ], [ 44.011933357000032, 30.095835997000052 ], [ 44.031167240000059, 30.115248500000064 ], [ 44.039181358000064, 30.134657188000062 ], [ 44.071237831000076, 30.203942774000041 ], [ 44.080854772000066, 30.223334007000062 ], [ 44.088868890000072, 30.245490736000079 ], [ 44.096883008000077, 30.264873776000059 ], [ 44.109705597000072, 30.293941164000046 ], [ 44.116116891000047, 30.321616382000059 ], [ 44.152981834000059, 30.412889127000028 ], [ 44.257165369000063, 30.607595038000056 ], [ 44.278002075000074, 30.629664674000026 ], [ 44.362951727000052, 30.711002950000079 ], [ 44.454312672000071, 30.806040425000049 ], [ 44.53445385200007, 30.892731767000043 ], [ 44.545673617000034, 30.916111240000077 ], [ 44.552084912000055, 30.935360635000052 ], [ 44.563304677000076, 30.964227462000053 ], [ 44.571318795000025, 30.984841283000037 ], [ 44.57933291300003, 31.045282799000063 ], [ 44.592155502000026, 31.083725614000059 ], [ 44.606580914000062, 31.108430646000045 ], [ 44.624211974000048, 31.127641227000026 ], [ 44.643445857000074, 31.142732528000067 ], [ 44.675502329000039, 31.194847629000037 ], [ 44.712367272000051, 31.260636223000063 ], [ 44.771671746000038, 31.378392812000072 ], [ 44.779685864000044, 31.39891666300008 ], [ 44.775333671000055, 31.409131973000058 ], [ 44.77327456900008, 31.41396463500007 ], [ 44.758849157000043, 31.422171603000038 ], [ 44.712367272000051, 31.420803825000064 ], [ 44.68191362400006, 31.424907099000052 ], [ 44.667488211000034, 31.431745491000072 ], [ 44.640240210000059, 31.437215845000026 ], [ 44.612992209000026, 31.438583384000026 ], [ 44.572921619000056, 31.44405333900005 ], [ 44.550482088000081, 31.453624992000073 ], [ 44.537659499000029, 31.465929966000033 ], [ 44.52964538100008, 31.479600263000066 ], [ 44.521631263000074, 31.493268564000061 ], [ 44.516822793000074, 31.504201766000051 ], [ 44.504000204000079, 31.517866470000058 ], [ 44.489574791000052, 31.531529177000039 ], [ 44.475149379000072, 31.549287707000076 ], [ 44.462326790000077, 31.564311517000078 ], [ 44.44309290700005, 31.595717117000049 ], [ 44.44309290700005, 31.610733445000051 ], [ 44.444695730000035, 31.625747352000076 ], [ 44.455915496000046, 31.627112132000036 ], [ 44.489574791000052, 31.629841633000069 ], [ 44.513617145000069, 31.636665035000078 ], [ 44.515219969000043, 31.651674757000023 ], [ 44.512014322000027, 31.674866832000077 ], [ 44.497588909000058, 31.699416836000069 ], [ 44.489574791000052, 31.713052921000042 ], [ 44.478355026000031, 31.73214007100006 ], [ 44.478355026000031, 31.747134359000029 ], [ 44.491177615000026, 31.759400608000078 ], [ 44.513617145000069, 31.771665231000043 ], [ 44.520028440000033, 31.788015533000078 ], [ 44.513617145000069, 31.804362944000047 ], [ 44.502397380000048, 31.839772412000059 ], [ 44.504000204000079, 31.856110662000049 ], [ 44.518425616000059, 31.867001221000066 ], [ 44.539262323000059, 31.877890493000052 ], [ 44.556893383000045, 31.886056603000043 ], [ 44.56490750100005, 31.905108043000041 ], [ 44.561701853000045, 31.921434711000074 ], [ 44.547276441000065, 31.941838970000049 ], [ 44.532851029000028, 31.958159116000047 ], [ 44.523234087000048, 31.977195623000057 ], [ 44.516822793000074, 31.99758749800003 ], [ 44.512014322000027, 32.020692810000071 ], [ 44.512014322000027, 32.032922675000066 ], [ 44.512014322000027, 32.05330215500004 ], [ 44.515219969000043, 32.072318909000046 ], [ 44.515219969000043, 32.094047500000045 ], [ 44.516822793000074, 32.113055779000035 ], [ 44.526439734000064, 32.130702780000036 ], [ 44.544070794000049, 32.14291793600006 ], [ 44.558496206000029, 32.153774479000049 ], [ 44.584141384000077, 32.16734333900007 ], [ 44.587347031000036, 32.178196972000023 ], [ 44.586545620000038, 32.178875281000046 ], [ 44.576127266000071, 32.187692840000068 ], [ 44.552084912000055, 32.206681604000039 ], [ 44.483163497000078, 32.241935936000061 ], [ 44.470340908000026, 32.250069609000036 ], [ 44.44790137800004, 32.263624112000059 ], [ 44.41744772900006, 32.251425150000046 ], [ 44.40302231700008, 32.233801534000065 ], [ 44.385391257000038, 32.216174500000079 ], [ 44.358143256000062, 32.183623303000047 ], [ 44.305250077000039, 32.176840338000034 ], [ 44.287619017000054, 32.184979835000036 ], [ 44.282810546000064, 32.201256647000037 ], [ 44.278002075000074, 32.220242580000047 ], [ 44.278002075000074, 32.237868826000067 ], [ 44.276399252000033, 32.256847113000049 ], [ 44.271590781000043, 32.274466257000029 ], [ 44.265179487000069, 32.293436893000035 ], [ 44.263576663000038, 32.308339609000029 ], [ 44.250453545000028, 32.358787418000077 ], [ 43.729914548000067, 32.18089201600003 ], [ 43.837225584000066, 32.087597364000032 ], [ 43.714509402000033, 31.998437061000061 ], [ 43.674438812000062, 31.975071208000031 ], [ 43.636872634000042, 31.953824360000056 ], [ 43.586784396000041, 31.926196109000045 ], [ 43.544209394000063, 31.91131591900006 ], [ 43.49662556800007, 31.900685739000039 ], [ 43.456554978000042, 31.881548319000046 ], [ 43.429006447000063, 31.858152740000037 ], [ 43.40396232900008, 31.830495763000044 ], [ 43.386431445000028, 31.798573566000073 ], [ 43.35387409100008, 31.745345395000072 ], [ 43.311299089000045, 31.681431185000065 ], [ 43.223644673000081, 31.608941852000044 ], [ 43.226149085000031, 31.495831148000036 ], [ 43.216131437000058, 31.474474136000026 ], [ 43.203609378000067, 31.448839288000045 ], [ 43.181069671000046, 31.421060285000067 ], [ 43.168547612000054, 31.406098950000057 ], [ 43.123468198000069, 31.339812946000052 ], [ 43.123468198000069, 31.209242797000059 ], [ 43.113450550000039, 31.185678136000035 ], [ 43.080893196000034, 31.166393594000056 ], [ 43.053344665000054, 31.151391792000027 ], [ 43.025796134000075, 31.127812733000042 ], [ 43.005760839000061, 31.10422781300008 ], [ 42.988229956000055, 31.074202168000056 ], [ 42.953168190000042, 31.003389915000071 ], [ 42.935751249000077, 30.513761097000042 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Babil", "shapeISO": "IQ-BB", "shapeID": "90741666B44177402341950", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.062622654000052, 32.797740248000025 ], [ 44.085162361000073, 32.791424489000065 ], [ 44.120224127000029, 32.780897226000036 ], [ 44.137755010000035, 32.774580270000058 ], [ 44.170312365000029, 32.772474518000024 ], [ 44.187843248000036, 32.770368717000053 ], [ 44.202869719000034, 32.755626712000037 ], [ 44.207878543000049, 32.740882266000028 ], [ 44.205374131000042, 32.730349026000056 ], [ 44.187843248000036, 32.71560039700006 ], [ 44.165303541000071, 32.707171515000027 ], [ 44.152781481000034, 32.696634291000066 ], [ 44.11521530300007, 32.658689988000049 ], [ 44.102693244000079, 32.637602856000058 ], [ 44.092675596000049, 32.622838905000037 ], [ 44.082657949000065, 32.608072519000075 ], [ 44.082657949000065, 32.593303698000057 ], [ 44.095180008000057, 32.580642771000043 ], [ 44.110206479000055, 32.561648028000036 ], [ 44.125232951000044, 32.542649263000044 ], [ 44.145268246000057, 32.519423089000043 ], [ 44.157790305000049, 32.506751736000069 ], [ 44.167807953000079, 32.489853821000054 ], [ 44.177825600000062, 32.475065541000049 ], [ 44.192852072000051, 32.456048469000052 ], [ 44.222905014000048, 32.420116378000046 ], [ 44.250453545000028, 32.358787418000077 ], [ 44.263576663000038, 32.308339609000029 ], [ 44.265179487000069, 32.293436893000035 ], [ 44.271590781000043, 32.274466257000029 ], [ 44.276399252000033, 32.256847113000049 ], [ 44.278002075000074, 32.237868826000067 ], [ 44.278002075000074, 32.220242580000047 ], [ 44.282810546000064, 32.201256647000037 ], [ 44.287619017000054, 32.184979835000036 ], [ 44.305250077000039, 32.176840338000034 ], [ 44.358143256000062, 32.183623303000047 ], [ 44.385391257000038, 32.216174500000079 ], [ 44.40302231700008, 32.233801534000065 ], [ 44.41744772900006, 32.251425150000046 ], [ 44.44790137800004, 32.263624112000059 ], [ 44.470340908000026, 32.250069609000036 ], [ 44.483163497000078, 32.241935936000061 ], [ 44.552084912000055, 32.206681604000039 ], [ 44.576127266000071, 32.187692840000068 ], [ 44.586545620000038, 32.178875281000046 ], [ 44.608183738000037, 32.168700113000057 ], [ 44.621006327000032, 32.170056868000074 ], [ 44.635431739000069, 32.161916037000026 ], [ 44.649857152000038, 32.153774479000049 ], [ 44.673899506000055, 32.149703427000077 ], [ 44.704353154000046, 32.148346369000024 ], [ 44.721984214000031, 32.144275074000063 ], [ 44.746026568000048, 32.133417401000031 ], [ 44.771671746000038, 32.132060101000036 ], [ 44.805331041000045, 32.132060101000036 ], [ 44.826167748000046, 32.140203598000028 ], [ 44.830976219000036, 32.15513145500006 ], [ 44.830976219000036, 32.171413603000076 ], [ 44.830976219000036, 32.189049311000076 ], [ 44.829373395000061, 32.205325395000045 ], [ 44.829373395000061, 32.227022310000052 ], [ 44.847004455000047, 32.259557973000028 ], [ 44.863032691000058, 32.266334770000071 ], [ 44.877458104000027, 32.267690068000036 ], [ 44.893486340000038, 32.269045346000041 ], [ 44.907911752000075, 32.274466257000029 ], [ 44.93035128300005, 32.281241940000029 ], [ 44.946379519000061, 32.286662122000052 ], [ 44.960804931000041, 32.296146660000034 ], [ 44.980038814000068, 32.325948749000077 ], [ 44.991258580000078, 32.339491912000028 ], [ 45.031329170000049, 32.343554466000057 ], [ 45.04254893500007, 32.350324983000064 ], [ 45.053768700000035, 32.36251063800006 ], [ 45.06178281800004, 32.376048328000024 ], [ 45.06659128900003, 32.389583990000062 ], [ 45.069796936000046, 32.400411060000067 ], [ 45.081016701000067, 32.407177319000027 ], [ 45.098647761000052, 32.412589962000027 ], [ 45.111470350000047, 32.418002279000063 ], [ 45.125895762000027, 32.423414272000059 ], [ 45.143526822000069, 32.435590069000057 ], [ 45.157952234000049, 32.45587941000008 ], [ 45.146732469000028, 32.473459810000065 ], [ 45.127498586000058, 32.482924758000024 ], [ 45.108264703000032, 32.484276812000076 ], [ 45.087427996000031, 32.488332853000031 ], [ 45.069796936000046, 32.497796237000045 ], [ 45.06659128900003, 32.518071563000035 ], [ 45.071399760000077, 32.528883201000042 ], [ 45.079413878000025, 32.542395919000057 ], [ 45.093839290000062, 32.558608496000033 ], [ 45.116278821000037, 32.573467452000045 ], [ 45.137115528000038, 32.580220710000049 ], [ 45.151540940000075, 32.597776798000041 ], [ 45.146732469000028, 32.60722865200006 ], [ 45.103456232000042, 32.60722865200006 ], [ 45.084222349000072, 32.608578836000049 ], [ 45.064988465000056, 32.62207955100007 ], [ 45.058577171000081, 32.669316018000075 ], [ 45.063385642000071, 32.680109421000054 ], [ 45.082619525000041, 32.696297080000079 ], [ 45.079413878000025, 32.70304107100003 ], [ 45.063385642000071, 32.707087222000041 ], [ 45.04254893500007, 32.709784553000077 ], [ 45.018506581000054, 32.717876059000048 ], [ 44.997669874000053, 32.735405137000043 ], [ 44.988052932000073, 32.747538633000033 ], [ 44.957599284000025, 32.779886543000032 ], [ 44.936762577000081, 32.797403419000034 ], [ 44.91432304600005, 32.809528466000074 ], [ 44.874252456000079, 32.814916845000027 ], [ 44.835784690000025, 32.821651860000031 ], [ 44.80853668900005, 32.835120356000061 ], [ 44.752437862000079, 32.880897962000063 ], [ 44.741218097000058, 32.915888421000034 ], [ 44.728395508000062, 32.929342609000059 ], [ 44.678707977000045, 32.933378467000068 ], [ 44.654665623000028, 32.925306568000053 ], [ 44.632226092000053, 32.910506174000034 ], [ 44.593758326000057, 32.913197338000032 ], [ 44.571318795000025, 32.923961180000049 ], [ 44.568113148000066, 32.936068936000026 ], [ 44.556893383000045, 32.953554992000079 ], [ 44.53445385200007, 32.973726912000075 ], [ 44.513617145000069, 32.981794390000061 ], [ 44.500794557000063, 32.989861131000055 ], [ 44.495986086000073, 33.000615639000046 ], [ 44.492780439000057, 33.018088919000036 ], [ 44.500794557000063, 33.032871298000032 ], [ 44.515219969000043, 33.039589742000032 ], [ 44.531248205000054, 33.040933369000072 ], [ 44.548879265000039, 33.050338186000033 ], [ 44.552084912000055, 33.062428617000023 ], [ 44.550482088000081, 33.079889642000069 ], [ 44.548879265000039, 33.102718061000076 ], [ 44.556893383000045, 33.116143773000033 ], [ 44.568113148000066, 33.129567433000034 ], [ 44.566510324000035, 33.142989042000067 ], [ 44.556893383000045, 33.176534082000046 ], [ 44.545673617000034, 33.192631142000039 ], [ 44.528042558000038, 33.202019728000039 ], [ 44.507205851000037, 33.212748308000073 ], [ 44.495986086000073, 33.224816388000079 ], [ 44.492780439000057, 33.240904572000034 ], [ 44.492780439000057, 33.256989796000028 ], [ 44.483163497000078, 33.275752148000038 ], [ 44.479957850000062, 33.275752148000038 ], [ 44.449504201000025, 33.275752148000038 ], [ 44.419050553000034, 33.275752148000038 ], [ 44.396611022000059, 33.269051771000079 ], [ 44.370965845000057, 33.256989796000028 ], [ 44.350129138000057, 33.24894755400004 ], [ 44.324483960000066, 33.242245120000064 ], [ 44.289221841000028, 33.234201522000035 ], [ 44.252356898000073, 33.230179445000033 ], [ 44.228314544000057, 33.231520158000023 ], [ 44.201066542000035, 33.238223414000061 ], [ 44.15939312900008, 33.258330098000044 ], [ 44.125232951000044, 33.29317072300006 ], [ 43.942410883000036, 33.29317072300006 ], [ 43.919871176000072, 33.284796842000048 ], [ 43.907349117000081, 33.259670379000056 ], [ 43.917366764000064, 33.240820787000075 ], [ 43.942410883000036, 33.230347035000079 ], [ 43.967455002000065, 33.196822599000029 ], [ 43.979977062000046, 33.194726896000077 ], [ 44.00001235700006, 33.213586423000038 ], [ 44.030065299000057, 33.194726896000077 ], [ 44.050100594000071, 33.175863307000043 ], [ 44.072640301000035, 33.150705537000078 ], [ 44.090171184000042, 33.127637908000054 ], [ 44.095180008000057, 33.100368350000053 ], [ 44.097684420000064, 33.073090328000035 ], [ 44.097684420000064, 33.039505764000069 ], [ 44.097684420000064, 32.99960746000005 ], [ 44.107702068000037, 32.953386873000056 ], [ 44.10519765600003, 32.91765440000006 ], [ 44.080153537000058, 32.875597721000076 ], [ 44.062622654000052, 32.797740248000025 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Baghdad", "shapeISO": "IQ-BG", "shapeID": "90741666B78865175105083", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.125232951000044, 33.29317072300006 ], [ 44.15939312900008, 33.258330098000044 ], [ 44.201066542000035, 33.238223414000061 ], [ 44.228314544000057, 33.231520158000023 ], [ 44.252356898000073, 33.230179445000033 ], [ 44.289221841000028, 33.234201522000035 ], [ 44.324483960000066, 33.242245120000064 ], [ 44.350129138000057, 33.24894755400004 ], [ 44.370965845000057, 33.256989796000028 ], [ 44.396611022000059, 33.269051771000079 ], [ 44.419050553000034, 33.275752148000038 ], [ 44.449504201000025, 33.275752148000038 ], [ 44.479957850000062, 33.275752148000038 ], [ 44.523234087000048, 33.279772128000047 ], [ 44.542467970000075, 33.283791923000024 ], [ 44.56490750100005, 33.289151361000052 ], [ 44.580935737000061, 33.295850195000071 ], [ 44.592155502000026, 33.306567261000055 ], [ 44.598566796000057, 33.318622385000026 ], [ 44.596963973000072, 33.329336652000052 ], [ 44.598566796000057, 33.385564935000048 ], [ 44.595361149000041, 33.409651647000032 ], [ 44.593758326000057, 33.437744371000065 ], [ 44.590552678000051, 33.457805036000025 ], [ 44.55368773500004, 33.492565863000038 ], [ 44.345320667000067, 33.495239195000067 ], [ 44.344299115000069, 33.494493901000055 ], [ 44.260471192000068, 33.433313682000062 ], [ 44.125232951000044, 33.29317072300006 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Al-Qadisiyah", "shapeISO": "IQ-QA", "shapeID": "90741666B96348295205066", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.775333671000055, 31.409131973000058 ], [ 44.821359277000056, 31.404388932000074 ], [ 44.827770572000077, 31.400284760000034 ], [ 44.843798808000031, 31.38933942400007 ], [ 44.855018573000052, 31.377024396000024 ], [ 44.867841162000047, 31.360601848000044 ], [ 44.882266574000028, 31.340069627000048 ], [ 44.89989763400007, 31.322271411000031 ], [ 44.923939988000029, 31.308578186000034 ], [ 44.955996460000051, 31.288034615000072 ], [ 44.964010578000057, 31.290774016000057 ], [ 44.978435991000026, 31.305839302000038 ], [ 44.986450109000032, 31.319532925000033 ], [ 44.994464227000037, 31.349651888000039 ], [ 44.999272698000027, 31.367444925000029 ], [ 45.007286816000033, 31.381129585000053 ], [ 45.018506581000054, 31.401652837000029 ], [ 45.031329170000049, 31.418068209000069 ], [ 45.039343288000055, 31.431745491000072 ], [ 45.039343288000055, 31.44405333900005 ], [ 45.04254893500007, 31.459094069000059 ], [ 45.050563053000076, 31.472765364000054 ], [ 45.052165876000061, 31.489168283000026 ], [ 45.060179995000055, 31.508301387000074 ], [ 45.073002583000061, 31.524698073000025 ], [ 45.119484468000053, 31.569774121000023 ], [ 45.130704233000074, 31.587525372000073 ], [ 45.13871835100008, 31.60390814200008 ], [ 45.133909880000033, 31.616193328000065 ], [ 45.119484468000053, 31.627112132000036 ], [ 45.105059055000027, 31.640758836000032 ], [ 45.098647761000052, 31.653039157000023 ], [ 45.089030819000072, 31.663953636000031 ], [ 45.071399760000077, 31.683050889000071 ], [ 45.05697434700005, 31.693961841000032 ], [ 45.055371524000066, 31.703507872000046 ], [ 45.064988465000056, 31.711689402000047 ], [ 45.085825172000057, 31.713052921000042 ], [ 45.124292939000043, 31.711689402000047 ], [ 45.165966352000055, 31.708962306000046 ], [ 45.194817177000061, 31.710325864000026 ], [ 45.217256708000036, 31.721233609000024 ], [ 45.230079297000032, 31.744408305000036 ], [ 45.241299062000053, 31.767577204000077 ], [ 45.258930121000049, 31.774390482000058 ], [ 45.292589417000045, 31.76621448800006 ], [ 45.302206359000081, 31.756674915000076 ], [ 45.324645889000067, 31.751223289000052 ], [ 45.363113656000053, 31.751223289000052 ], [ 45.391964481000059, 31.744408305000036 ], [ 45.456077425000046, 31.73077683300005 ], [ 45.491339544000027, 31.723960345000023 ], [ 45.597125902000073, 31.693961841000032 ], [ 45.717337672000042, 31.656259061000071 ], [ 45.752022775000057, 31.647963487000027 ], [ 45.774590532000047, 31.646216957000036 ], [ 45.778693760000067, 31.649709986000062 ], [ 45.78279698800003, 31.654949283000064 ], [ 45.783822795000049, 31.663680789000068 ], [ 45.783822795000049, 31.670665404000033 ], [ 45.783822795000049, 31.682887214000061 ], [ 45.783822795000049, 31.69336177200006 ], [ 45.783822795000049, 31.706453306000071 ], [ 45.781771181000067, 31.717797808000057 ], [ 45.777667953000048, 31.731758366000065 ], [ 45.774590532000047, 31.753567528000076 ], [ 45.769461496000076, 31.786707615000068 ], [ 45.765358268000057, 31.803273206000028 ], [ 45.759203425000067, 31.828551804000028 ], [ 45.754074389000039, 31.839881343000059 ], [ 45.740738897000028, 31.854694795000057 ], [ 45.728429212000037, 31.867763512000067 ], [ 45.721248562000028, 31.87560385300003 ], [ 45.717145334000065, 31.95135940800003 ], [ 45.714067912000075, 31.985298537000062 ], [ 45.709681542000055, 31.993152482000028 ], [ 45.704835648000028, 32.001828439000064 ], [ 45.696629191000056, 32.013136655000039 ], [ 45.691500156000075, 32.023573769000052 ], [ 45.690474349000056, 32.040096770000048 ], [ 45.684319506000065, 32.053139137000073 ], [ 45.679190471000027, 32.068787525000062 ], [ 45.672009821000074, 32.081825803000072 ], [ 45.664829171000065, 32.089647877000061 ], [ 45.645338836000064, 32.107896780000033 ], [ 45.622771080000064, 32.14612075000008 ], [ 45.589945252000064, 32.186065047000056 ], [ 45.545835547000081, 32.228595135000035 ], [ 45.489416156000061, 32.273707349000063 ], [ 45.478132278000032, 32.290185066000049 ], [ 45.466848399000071, 32.306659789000037 ], [ 45.440177415000051, 32.320530917000042 ], [ 45.42068708000005, 32.331799644000057 ], [ 45.405299973000069, 32.33873354900004 ], [ 45.385809638000069, 32.347400182000058 ], [ 45.376577374000078, 32.356065985000043 ], [ 45.370422531000031, 32.364730958000052 ], [ 45.357087039000078, 32.379459506000046 ], [ 45.337596704000077, 32.395051823000074 ], [ 45.312977333000049, 32.407177319000027 ], [ 45.293486998000049, 32.413239457000032 ], [ 45.266816014000028, 32.41930118700003 ], [ 45.252454714000066, 32.424496632000057 ], [ 45.222706308000056, 32.426228380000055 ], [ 45.188854673000037, 32.441812619000075 ], [ 45.157952234000049, 32.45587941000008 ], [ 45.143526822000069, 32.435590069000057 ], [ 45.125895762000027, 32.423414272000059 ], [ 45.111470350000047, 32.418002279000063 ], [ 45.098647761000052, 32.412589962000027 ], [ 45.081016701000067, 32.407177319000027 ], [ 45.069796936000046, 32.400411060000067 ], [ 45.06659128900003, 32.389583990000062 ], [ 45.06178281800004, 32.376048328000024 ], [ 45.053768700000035, 32.36251063800006 ], [ 45.04254893500007, 32.350324983000064 ], [ 45.031329170000049, 32.343554466000057 ], [ 44.991258580000078, 32.339491912000028 ], [ 44.980038814000068, 32.325948749000077 ], [ 44.960804931000041, 32.296146660000034 ], [ 44.946379519000061, 32.286662122000052 ], [ 44.93035128300005, 32.281241940000029 ], [ 44.907911752000075, 32.274466257000029 ], [ 44.893486340000038, 32.269045346000041 ], [ 44.877458104000027, 32.267690068000036 ], [ 44.863032691000058, 32.266334770000071 ], [ 44.847004455000047, 32.259557973000028 ], [ 44.829373395000061, 32.227022310000052 ], [ 44.829373395000061, 32.205325395000045 ], [ 44.830976219000036, 32.189049311000076 ], [ 44.830976219000036, 32.171413603000076 ], [ 44.830976219000036, 32.15513145500006 ], [ 44.826167748000046, 32.140203598000028 ], [ 44.805331041000045, 32.132060101000036 ], [ 44.771671746000038, 32.132060101000036 ], [ 44.746026568000048, 32.133417401000031 ], [ 44.721984214000031, 32.144275074000063 ], [ 44.704353154000046, 32.148346369000024 ], [ 44.673899506000055, 32.149703427000077 ], [ 44.649857152000038, 32.153774479000049 ], [ 44.635431739000069, 32.161916037000026 ], [ 44.621006327000032, 32.170056868000074 ], [ 44.608183738000037, 32.168700113000057 ], [ 44.586545620000038, 32.178875281000046 ], [ 44.587347031000036, 32.178196972000023 ], [ 44.584141384000077, 32.16734333900007 ], [ 44.558496206000029, 32.153774479000049 ], [ 44.544070794000049, 32.14291793600006 ], [ 44.526439734000064, 32.130702780000036 ], [ 44.516822793000074, 32.113055779000035 ], [ 44.515219969000043, 32.094047500000045 ], [ 44.515219969000043, 32.072318909000046 ], [ 44.512014322000027, 32.05330215500004 ], [ 44.512014322000027, 32.032922675000066 ], [ 44.512014322000027, 32.020692810000071 ], [ 44.516822793000074, 31.99758749800003 ], [ 44.523234087000048, 31.977195623000057 ], [ 44.532851029000028, 31.958159116000047 ], [ 44.547276441000065, 31.941838970000049 ], [ 44.561701853000045, 31.921434711000074 ], [ 44.56490750100005, 31.905108043000041 ], [ 44.556893383000045, 31.886056603000043 ], [ 44.539262323000059, 31.877890493000052 ], [ 44.518425616000059, 31.867001221000066 ], [ 44.504000204000079, 31.856110662000049 ], [ 44.502397380000048, 31.839772412000059 ], [ 44.513617145000069, 31.804362944000047 ], [ 44.520028440000033, 31.788015533000078 ], [ 44.513617145000069, 31.771665231000043 ], [ 44.491177615000026, 31.759400608000078 ], [ 44.478355026000031, 31.747134359000029 ], [ 44.478355026000031, 31.73214007100006 ], [ 44.489574791000052, 31.713052921000042 ], [ 44.497588909000058, 31.699416836000069 ], [ 44.512014322000027, 31.674866832000077 ], [ 44.515219969000043, 31.651674757000023 ], [ 44.513617145000069, 31.636665035000078 ], [ 44.489574791000052, 31.629841633000069 ], [ 44.455915496000046, 31.627112132000036 ], [ 44.444695730000035, 31.625747352000076 ], [ 44.44309290700005, 31.610733445000051 ], [ 44.44309290700005, 31.595717117000049 ], [ 44.462326790000077, 31.564311517000078 ], [ 44.475149379000072, 31.549287707000076 ], [ 44.489574791000052, 31.531529177000039 ], [ 44.504000204000079, 31.517866470000058 ], [ 44.516822793000074, 31.504201766000051 ], [ 44.521631263000074, 31.493268564000061 ], [ 44.52964538100008, 31.479600263000066 ], [ 44.537659499000029, 31.465929966000033 ], [ 44.550482088000081, 31.453624992000073 ], [ 44.572921619000056, 31.44405333900005 ], [ 44.612992209000026, 31.438583384000026 ], [ 44.640240210000059, 31.437215845000026 ], [ 44.667488211000034, 31.431745491000072 ], [ 44.68191362400006, 31.424907099000052 ], [ 44.712367272000051, 31.420803825000064 ], [ 44.758849157000043, 31.422171603000038 ], [ 44.77327456900008, 31.41396463500007 ], [ 44.775333671000055, 31.409131973000058 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Al-Muthanna", "shapeISO": "IQ-MU", "shapeID": "90741666B65782159470120", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 43.813614360613677, 29.850955358773959 ], [ 43.914862353000046, 29.765502188000028 ], [ 44.727241475000028, 29.13533424700006 ], [ 44.965228724000042, 29.114723861000073 ], [ 45.349420784000074, 29.084658041000068 ], [ 45.482467665000058, 29.07439841300004 ], [ 45.666385413000057, 29.064137764000066 ], [ 46.026394621000065, 29.026506647000076 ], [ 46.456840413000066, 28.99912994400006 ], [ 46.570321576000026, 29.033349689000033 ], [ 46.571063096000046, 29.06360058000007 ], [ 46.573245477000057, 29.152581068000075 ], [ 46.590876537000042, 29.313430266000069 ], [ 46.611713244000043, 29.33858377200005 ], [ 46.622933009000064, 29.349761117000071 ], [ 46.643769716000065, 29.376302396000028 ], [ 46.653386657000055, 29.398647580000045 ], [ 46.65498948100003, 29.416799428000047 ], [ 46.651783834000071, 29.427968184000065 ], [ 46.646975363000081, 29.443323219000035 ], [ 46.64537253900005, 29.580020019000074 ], [ 46.65498948100003, 29.64690613700003 ], [ 46.671017717000041, 29.730451324000057 ], [ 46.680634659000077, 29.758284278000076 ], [ 46.688648777000026, 29.780545077000056 ], [ 46.701471366000078, 29.822270737000053 ], [ 46.712691131000042, 29.884826576000023 ], [ 46.730322190000038, 29.98622259900003 ], [ 46.735130661000028, 30.012596389000066 ], [ 46.744747603000064, 30.040350699000044 ], [ 46.746350426000049, 30.160991448000061 ], [ 46.719102425000074, 30.208098360000065 ], [ 46.677429011000072, 30.256567227000062 ], [ 46.656592305000061, 30.285637074000078 ], [ 46.638961245000075, 30.31469831000004 ], [ 46.627741480000054, 30.343750930000056 ], [ 46.624535833000039, 30.356199414000059 ], [ 46.611713244000043, 30.374177762000045 ], [ 46.606904773000053, 30.400447861000032 ], [ 46.605301949000079, 30.437766901000032 ], [ 46.605301949000079, 30.462638330000061 ], [ 46.600493478000033, 30.486122183000077 ], [ 46.584465242000078, 30.502695611000036 ], [ 46.575647053000068, 30.511378421000074 ], [ 46.573245477000057, 30.513742993000051 ], [ 46.557217241000046, 30.516504643000076 ], [ 46.52355794500005, 30.523408423000035 ], [ 46.50913253300007, 30.538595014000066 ], [ 46.497912768000049, 30.55653974300003 ], [ 46.483487355000079, 30.578621008000027 ], [ 46.462650648000078, 30.611733478000076 ], [ 46.408154646000071, 30.680681431000039 ], [ 46.388920763000044, 30.699978045000023 ], [ 46.361672761000079, 30.722026594000056 ], [ 46.324807818000068, 30.745447655000078 ], [ 46.28954569900003, 30.768863021000072 ], [ 46.249475109000059, 30.79778002200004 ], [ 46.204596048000042, 30.801910312000075 ], [ 46.090795572000047, 30.803287036000029 ], [ 46.005845921000059, 30.804663740000024 ], [ 45.920896270000071, 30.814300118000062 ], [ 45.810301441000036, 30.830817373000059 ], [ 45.672458611000081, 30.840451126000062 ], [ 45.650019081000039, 30.855587928000034 ], [ 45.638799316000075, 30.870722341000032 ], [ 45.635593669000059, 30.924361455000053 ], [ 45.635593669000059, 30.949107831000049 ], [ 45.635593669000059, 30.975222054000028 ], [ 45.640402139000059, 30.987589456000023 ], [ 45.669252964000066, 30.999955256000078 ], [ 45.690089671000067, 31.015066833000049 ], [ 45.701309436000031, 31.035669668000025 ], [ 45.707720731000052, 31.054894959000023 ], [ 45.710926378000067, 31.075489176000076 ], [ 45.718940496000073, 31.093333890000054 ], [ 45.742982850000033, 31.109802959000035 ], [ 45.762216733000059, 31.127641227000026 ], [ 45.762216733000059, 31.145476142000064 ], [ 45.76862802800008, 31.214040699000066 ], [ 45.762216733000059, 31.233229874000074 ], [ 45.750996968000038, 31.24556371500006 ], [ 45.742982850000033, 31.277076213000043 ], [ 45.742982850000033, 31.301730826000039 ], [ 45.750996968000038, 31.315425047000076 ], [ 45.762216733000059, 31.33322455800004 ], [ 45.759011086000044, 31.351020703000074 ], [ 45.747791321000079, 31.360601848000044 ], [ 45.725351790000047, 31.367444925000029 ], [ 45.728557438000053, 31.382497941000054 ], [ 45.741380026000058, 31.397548546000053 ], [ 45.757408262000069, 31.41396463500007 ], [ 45.770230851000065, 31.435848286000066 ], [ 45.779847793000044, 31.456359571000064 ], [ 45.779847793000044, 31.471398325000052 ], [ 45.779847793000044, 31.489168283000026 ], [ 45.779847793000044, 31.506934866000051 ], [ 45.779847793000044, 31.527430575000039 ], [ 45.779847793000044, 31.549287707000076 ], [ 45.781450617000075, 31.576601925000034 ], [ 45.78786191100005, 31.597082338000064 ], [ 45.79747885300003, 31.616193328000065 ], [ 45.795876029000055, 31.632571054000039 ], [ 45.774590532000047, 31.646216957000036 ], [ 45.752022775000057, 31.647963487000027 ], [ 45.717337672000042, 31.656259061000071 ], [ 45.597125902000073, 31.693961841000032 ], [ 45.491339544000027, 31.723960345000023 ], [ 45.456077425000046, 31.73077683300005 ], [ 45.391964481000059, 31.744408305000036 ], [ 45.363113656000053, 31.751223289000052 ], [ 45.324645889000067, 31.751223289000052 ], [ 45.302206359000081, 31.756674915000076 ], [ 45.292589417000045, 31.76621448800006 ], [ 45.258930121000049, 31.774390482000058 ], [ 45.241299062000053, 31.767577204000077 ], [ 45.230079297000032, 31.744408305000036 ], [ 45.217256708000036, 31.721233609000024 ], [ 45.194817177000061, 31.710325864000026 ], [ 45.165966352000055, 31.708962306000046 ], [ 45.124292939000043, 31.711689402000047 ], [ 45.085825172000057, 31.713052921000042 ], [ 45.064988465000056, 31.711689402000047 ], [ 45.055371524000066, 31.703507872000046 ], [ 45.05697434700005, 31.693961841000032 ], [ 45.071399760000077, 31.683050889000071 ], [ 45.089030819000072, 31.663953636000031 ], [ 45.098647761000052, 31.653039157000023 ], [ 45.105059055000027, 31.640758836000032 ], [ 45.119484468000053, 31.627112132000036 ], [ 45.133909880000033, 31.616193328000065 ], [ 45.13871835100008, 31.60390814200008 ], [ 45.130704233000074, 31.587525372000073 ], [ 45.119484468000053, 31.569774121000023 ], [ 45.073002583000061, 31.524698073000025 ], [ 45.060179995000055, 31.508301387000074 ], [ 45.052165876000061, 31.489168283000026 ], [ 45.050563053000076, 31.472765364000054 ], [ 45.04254893500007, 31.459094069000059 ], [ 45.039343288000055, 31.44405333900005 ], [ 45.039343288000055, 31.431745491000072 ], [ 45.031329170000049, 31.418068209000069 ], [ 45.018506581000054, 31.401652837000029 ], [ 45.007286816000033, 31.381129585000053 ], [ 44.999272698000027, 31.367444925000029 ], [ 44.994464227000037, 31.349651888000039 ], [ 44.986450109000032, 31.319532925000033 ], [ 44.978435991000026, 31.305839302000038 ], [ 44.964010578000057, 31.290774016000057 ], [ 44.955996460000051, 31.288034615000072 ], [ 44.923939988000029, 31.308578186000034 ], [ 44.89989763400007, 31.322271411000031 ], [ 44.882266574000028, 31.340069627000048 ], [ 44.867841162000047, 31.360601848000044 ], [ 44.855018573000052, 31.377024396000024 ], [ 44.843798808000031, 31.38933942400007 ], [ 44.827770572000077, 31.400284760000034 ], [ 44.821359277000056, 31.404388932000074 ], [ 44.775333671000055, 31.409131973000058 ], [ 44.779685864000044, 31.39891666300008 ], [ 44.771671746000038, 31.378392812000072 ], [ 44.712367272000051, 31.260636223000063 ], [ 44.675502329000039, 31.194847629000037 ], [ 44.643445857000074, 31.142732528000067 ], [ 44.624211974000048, 31.127641227000026 ], [ 44.606580914000062, 31.108430646000045 ], [ 44.592155502000026, 31.083725614000059 ], [ 44.57933291300003, 31.045282799000063 ], [ 44.571318795000025, 30.984841283000037 ], [ 44.563304677000076, 30.964227462000053 ], [ 44.552084912000055, 30.935360635000052 ], [ 44.545673617000034, 30.916111240000077 ], [ 44.53445385200007, 30.892731767000043 ], [ 44.454312672000071, 30.806040425000049 ], [ 44.362951727000052, 30.711002950000079 ], [ 44.278002075000074, 30.629664674000026 ], [ 44.257165369000063, 30.607595038000056 ], [ 44.152981834000059, 30.412889127000028 ], [ 44.116116891000047, 30.321616382000059 ], [ 44.109705597000072, 30.293941164000046 ], [ 44.096883008000077, 30.264873776000059 ], [ 44.088868890000072, 30.245490736000079 ], [ 44.080854772000066, 30.223334007000062 ], [ 44.071237831000076, 30.203942774000041 ], [ 44.039181358000064, 30.134657188000062 ], [ 44.031167240000059, 30.115248500000064 ], [ 44.011933357000032, 30.095835997000052 ], [ 43.95583453100005, 30.034800458000063 ], [ 43.898132881000038, 29.954287058000034 ], [ 43.814786054000081, 29.850078172000053 ], [ 43.813584493000064, 29.850980567000079 ], [ 43.813614360613677, 29.850955358773959 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Dhi Qar", "shapeISO": "IQ-DQ", "shapeID": "90741666B18034483497899", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 45.774590532000047, 31.646216957000036 ], [ 45.795876029000055, 31.632571054000039 ], [ 45.79747885300003, 31.616193328000065 ], [ 45.78786191100005, 31.597082338000064 ], [ 45.781450617000075, 31.576601925000034 ], [ 45.779847793000044, 31.549287707000076 ], [ 45.779847793000044, 31.527430575000039 ], [ 45.779847793000044, 31.506934866000051 ], [ 45.779847793000044, 31.489168283000026 ], [ 45.779847793000044, 31.471398325000052 ], [ 45.779847793000044, 31.456359571000064 ], [ 45.770230851000065, 31.435848286000066 ], [ 45.757408262000069, 31.41396463500007 ], [ 45.741380026000058, 31.397548546000053 ], [ 45.728557438000053, 31.382497941000054 ], [ 45.725351790000047, 31.367444925000029 ], [ 45.747791321000079, 31.360601848000044 ], [ 45.759011086000044, 31.351020703000074 ], [ 45.762216733000059, 31.33322455800004 ], [ 45.750996968000038, 31.315425047000076 ], [ 45.742982850000033, 31.301730826000039 ], [ 45.742982850000033, 31.277076213000043 ], [ 45.750996968000038, 31.24556371500006 ], [ 45.762216733000059, 31.233229874000074 ], [ 45.76862802800008, 31.214040699000066 ], [ 45.762216733000059, 31.145476142000064 ], [ 45.762216733000059, 31.127641227000026 ], [ 45.742982850000033, 31.109802959000035 ], [ 45.718940496000073, 31.093333890000054 ], [ 45.710926378000067, 31.075489176000076 ], [ 45.707720731000052, 31.054894959000023 ], [ 45.701309436000031, 31.035669668000025 ], [ 45.690089671000067, 31.015066833000049 ], [ 45.669252964000066, 30.999955256000078 ], [ 45.640402139000059, 30.987589456000023 ], [ 45.635593669000059, 30.975222054000028 ], [ 45.635593669000059, 30.949107831000049 ], [ 45.635593669000059, 30.924361455000053 ], [ 45.638799316000075, 30.870722341000032 ], [ 45.650019081000039, 30.855587928000034 ], [ 45.672458611000081, 30.840451126000062 ], [ 45.810301441000036, 30.830817373000059 ], [ 45.920896270000071, 30.814300118000062 ], [ 46.005845921000059, 30.804663740000024 ], [ 46.090795572000047, 30.803287036000029 ], [ 46.204596048000042, 30.801910312000075 ], [ 46.249475109000059, 30.79778002200004 ], [ 46.28954569900003, 30.768863021000072 ], [ 46.324807818000068, 30.745447655000078 ], [ 46.361672761000079, 30.722026594000056 ], [ 46.388920763000044, 30.699978045000023 ], [ 46.408154646000071, 30.680681431000039 ], [ 46.462650648000078, 30.611733478000076 ], [ 46.483487355000079, 30.578621008000027 ], [ 46.497912768000049, 30.55653974300003 ], [ 46.50913253300007, 30.538595014000066 ], [ 46.52355794500005, 30.523408423000035 ], [ 46.557217241000046, 30.516504643000076 ], [ 46.573245477000057, 30.513742993000051 ], [ 46.575647053000068, 30.511378421000074 ], [ 46.594583066000041, 30.534280883000065 ], [ 46.727316896000048, 30.566632194000078 ], [ 46.842519843000048, 30.605439531000059 ], [ 46.907634552000047, 30.631302455000025 ], [ 46.960227201000066, 30.644231325000078 ], [ 46.995288968000068, 30.644231325000078 ], [ 47.017828675000032, 30.635612270000024 ], [ 47.050386029000038, 30.605439531000059 ], [ 47.097969855000031, 30.594661274000032 ], [ 47.105483090000064, 30.611905909000029 ], [ 47.105483090000064, 30.633457386000032 ], [ 47.097969855000031, 30.650695112000051 ], [ 47.090456619000065, 30.661467131000052 ], [ 47.082943383000043, 30.674391968000066 ], [ 47.09546544300008, 30.704543197000078 ], [ 47.107987502000071, 30.723921156000074 ], [ 47.107987502000071, 30.743295221000039 ], [ 47.110491914000079, 30.775576671000067 ], [ 47.12301397400006, 30.801394035000044 ], [ 47.133031621000043, 30.833655990000068 ], [ 47.130527209000036, 30.865907105000076 ], [ 47.138040445000058, 31.162107607000053 ], [ 47.066081679000035, 31.159412479000025 ], [ 46.999404217000063, 31.154145443000061 ], [ 46.991197760000034, 31.150633923000044 ], [ 46.976836461000062, 31.138342579000039 ], [ 46.89272027800007, 31.140098583000054 ], [ 46.863997679000079, 31.146244340000067 ], [ 46.84655895800006, 31.152389700000072 ], [ 46.83630088700005, 31.165556985000023 ], [ 46.829120237000041, 31.176089495000042 ], [ 46.81988797300005, 31.191008547000024 ], [ 46.805526674000077, 31.203293059000032 ], [ 46.785010532000058, 31.208557362000079 ], [ 46.773726654000029, 31.217330549000053 ], [ 46.766546004000077, 31.226980114000071 ], [ 46.761416968000049, 31.241891140000064 ], [ 46.76039116100003, 31.253292102000046 ], [ 46.759365354000067, 31.326050391000024 ], [ 46.750133090000077, 31.338317337000035 ], [ 46.736797598000067, 31.347078463000059 ], [ 46.718333070000028, 31.355838772000027 ], [ 46.695765314000028, 31.36459826600003 ], [ 46.680378207000047, 31.375108580000074 ], [ 46.635242694000056, 31.40313033800004 ], [ 46.632165273000055, 31.404881420000038 ], [ 46.616778166000074, 31.418013495000025 ], [ 46.607545902000027, 31.432019016000027 ], [ 46.605494288000045, 31.442521784000064 ], [ 46.603442674000064, 31.453898454000068 ], [ 46.603442674000064, 31.467023664000067 ], [ 46.609597517000054, 31.478397357000063 ], [ 46.614726552000036, 31.488020172000063 ], [ 46.618829781000045, 31.496767327000043 ], [ 46.618829781000045, 31.505513664000034 ], [ 46.619855588000064, 31.530873413000052 ], [ 46.615752359000055, 31.546610484000041 ], [ 46.609597517000054, 31.562344901000074 ], [ 46.598313638000036, 31.57632882200005 ], [ 46.588055567000026, 31.582446128000072 ], [ 46.563436197000044, 31.596427034000044 ], [ 46.548049090000063, 31.61215304600006 ], [ 46.535739405000072, 31.623509068000033 ], [ 46.530610369000044, 31.635737082000048 ], [ 46.526507141000081, 31.647090226000046 ], [ 46.501887770000053, 31.668046235000077 ], [ 46.48444905000008, 31.681141340000067 ], [ 46.469061943000042, 31.69336177200006 ], [ 46.455726451000032, 31.709944070000063 ], [ 46.447519994000061, 31.732630831000051 ], [ 46.437261923000051, 31.811990746000049 ], [ 46.430081273000042, 31.837266958000043 ], [ 46.423926430000051, 31.854694795000057 ], [ 46.412642552000079, 31.879959309000071 ], [ 46.38186833900005, 31.926114488000053 ], [ 46.360326390000068, 31.93569096300007 ], [ 46.339810247000059, 31.947007330000076 ], [ 46.320319912000059, 31.959192628000039 ], [ 46.31621668400004, 31.971376310000039 ], [ 46.320319912000059, 31.980077949000076 ], [ 46.34904251100005, 31.982688280000048 ], [ 46.373661882000079, 31.985298537000062 ], [ 46.376739303000079, 31.988778764000074 ], [ 46.374687689000041, 32.003568255000062 ], [ 46.368532846000051, 32.012266841000041 ], [ 46.354171547000078, 32.014876256000036 ], [ 46.330577983000069, 32.014876256000036 ], [ 46.317242491000059, 32.013136655000039 ], [ 46.227997273000028, 32.010527190000062 ], [ 46.077203628000063, 32.010527190000062 ], [ 45.837164765000068, 32.007917651000071 ], [ 45.776642146000029, 32.007917651000071 ], [ 45.750996968000038, 32.004438151000045 ], [ 45.738687283000047, 31.996608792000075 ], [ 45.709681542000055, 31.993152482000028 ], [ 45.714067912000075, 31.985298537000062 ], [ 45.717145334000065, 31.95135940800003 ], [ 45.721248562000028, 31.87560385300003 ], [ 45.728429212000037, 31.867763512000067 ], [ 45.740738897000028, 31.854694795000057 ], [ 45.754074389000039, 31.839881343000059 ], [ 45.759203425000067, 31.828551804000028 ], [ 45.765358268000057, 31.803273206000028 ], [ 45.769461496000076, 31.786707615000068 ], [ 45.774590532000047, 31.753567528000076 ], [ 45.777667953000048, 31.731758366000065 ], [ 45.781771181000067, 31.717797808000057 ], [ 45.783822795000049, 31.706453306000071 ], [ 45.783822795000049, 31.69336177200006 ], [ 45.783822795000049, 31.682887214000061 ], [ 45.783822795000049, 31.670665404000033 ], [ 45.783822795000049, 31.663680789000068 ], [ 45.78279698800003, 31.654949283000064 ], [ 45.778693760000067, 31.649709986000062 ], [ 45.774590532000047, 31.646216957000036 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Al-Basrah", "shapeISO": "IQ-BA", "shapeID": "90741666B36076314760085", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 46.571063096000046, 29.06360058000007 ], [ 46.599591890000056, 29.071799145000057 ], [ 46.614618361000055, 29.082742988000064 ], [ 46.634653657000058, 29.102438975000041 ], [ 46.652184540000064, 29.117755471000066 ], [ 46.664706599000056, 29.128694429000063 ], [ 46.682237482000062, 29.144007016000046 ], [ 46.699768365000068, 29.165878181000039 ], [ 46.712290425000049, 29.178998645000036 ], [ 46.739838956000028, 29.211792463000052 ], [ 46.804953665000028, 29.307927110000037 ], [ 46.832502195000075, 29.338496444000043 ], [ 46.855041902000039, 29.364691437000033 ], [ 46.865059550000069, 29.382151024000052 ], [ 46.870068373000038, 29.408334787000058 ], [ 46.902625728000032, 29.480305356000031 ], [ 46.910138964000055, 29.502104540000062 ], [ 46.920156611000039, 29.530436464000047 ], [ 46.935183082000037, 29.563117288000058 ], [ 46.960227201000066, 29.591432118000057 ], [ 47.005306615000052, 29.676328926000053 ], [ 47.010315439000067, 29.695910330000061 ], [ 47.015324263000025, 29.728537524000046 ], [ 47.025341910000066, 29.754631643000039 ], [ 47.035359558000039, 29.776371554000036 ], [ 47.045377205000079, 29.793760086000077 ], [ 47.060403677000068, 29.819837218000032 ], [ 47.082943383000043, 29.858940164000046 ], [ 47.105483090000064, 29.937100102000045 ], [ 47.173102211000071, 30.023872514000061 ], [ 47.20065074200005, 30.039049889000069 ], [ 47.23821692000007, 30.049889448000044 ], [ 47.273278686000026, 30.058560241000066 ], [ 47.308340453000028, 30.067230275000043 ], [ 47.340897807000033, 30.082401006000055 ], [ 47.363437514000054, 30.097569411000052 ], [ 47.390986045000034, 30.106236026000033 ], [ 47.73158606100003, 30.091068951000068 ], [ 47.954478718000075, 29.995679797000037 ], [ 47.996552838000071, 29.988999118000038 ], [ 48.007772603000035, 29.995940074000032 ], [ 48.025403663000077, 30.008432572000061 ], [ 48.051048841000068, 30.019535695000059 ], [ 48.067077077000079, 30.030637574000025 ], [ 48.111956138000039, 30.034800458000063 ], [ 48.134395668000082, 30.034800458000063 ], [ 48.164849317000062, 30.029249907000064 ], [ 48.185686023000073, 30.026474515000075 ], [ 48.198508612000069, 30.026474515000075 ], [ 48.228962261000049, 30.020923498000059 ], [ 48.26422438000003, 30.005656597000041 ], [ 48.309103441000047, 29.980669329000079 ], [ 48.36199662000007, 29.948732003000032 ], [ 48.414889799000036, 29.916784416000041 ], [ 48.475797096000065, 29.914005881000037 ], [ 48.499839450000081, 29.916784416000041 ], [ 48.530293098000072, 29.912616584000034 ], [ 48.563952394000069, 29.900112040000067 ], [ 48.583186277000038, 29.901501511000049 ], [ 48.607228631000055, 29.914005881000037 ], [ 48.607228631000055, 29.919562875000054 ], [ 48.587994748000028, 29.927897784000038 ], [ 48.563952394000069, 29.945954359000041 ], [ 48.543115687000068, 29.955675773000053 ], [ 48.522278980000067, 29.965396236000061 ], [ 48.501442273000066, 29.973727305000068 ], [ 48.48861968500006, 29.980669329000079 ], [ 48.474194272000034, 29.987610868000047 ], [ 48.45816603600008, 29.995940074000032 ], [ 48.448549095000033, 30.009820531000059 ], [ 48.443740624000043, 30.051450247000048 ], [ 48.437329329000079, 30.073645611000074 ], [ 48.429315211000073, 30.091675679000048 ], [ 48.416492622000078, 30.104156108000041 ], [ 48.398861563000025, 30.11108899900006 ], [ 48.38603897400003, 30.127725952000048 ], [ 48.389244621000046, 30.142974030000062 ], [ 48.398861563000025, 30.155447977000051 ], [ 48.413286975000062, 30.167920347000063 ], [ 48.413286975000062, 30.181776686000035 ], [ 48.408478504000072, 30.20117228600003 ], [ 48.397258739000051, 30.210868653000034 ], [ 48.310706265000078, 30.296709037000028 ], [ 48.289869558000078, 30.317465598000069 ], [ 48.272238498000036, 30.335451061000072 ], [ 48.248196144000076, 30.335451061000072 ], [ 48.228962261000049, 30.32991742400003 ], [ 48.21453684800008, 30.322999938000066 ], [ 48.201714259000028, 30.331300863000024 ], [ 48.195302965000053, 30.34098438500007 ], [ 48.188891671000079, 30.352050095000038 ], [ 48.185686023000073, 30.368646314000046 ], [ 48.171260611000037, 30.41980025600003 ], [ 48.153629551000051, 30.437766901000032 ], [ 48.140806962000056, 30.444676268000023 ], [ 48.103942020000034, 30.455730236000079 ], [ 48.089516607000064, 30.464019890000031 ], [ 48.057460135000042, 30.486122183000077 ], [ 48.052651664000052, 30.497171449000064 ], [ 48.046240370000078, 30.508219459000031 ], [ 48.035020605000057, 30.568961073000025 ], [ 48.038226252000072, 30.595178657000076 ], [ 48.043034723000062, 30.615871741000035 ], [ 48.047843193000062, 30.643455642000049 ], [ 48.047843193000062, 30.662759693000055 ], [ 48.030212134000067, 31.005450652000036 ], [ 48.014183898000056, 31.015066833000049 ], [ 47.700030471000048, 31.00957199100003 ], [ 47.698427648000063, 31.038416376000043 ], [ 47.698427648000063, 31.050775581000039 ], [ 47.698427648000063, 31.069997821000072 ], [ 47.701633295000079, 31.094706422000058 ], [ 47.704838942000038, 31.12078075200003 ], [ 47.708044589000053, 31.146847920000027 ], [ 47.706441766000069, 31.171536523000043 ], [ 47.703236118000063, 31.189363179000054 ], [ 47.698427648000063, 31.278446083000063 ], [ 47.677590941000062, 31.281185763000053 ], [ 47.639123174000076, 31.285295134000023 ], [ 47.613477997000075, 31.286664884000061 ], [ 47.578215877000048, 31.286664884000061 ], [ 47.531733993000046, 31.288034615000072 ], [ 47.499677521000081, 31.289404326000067 ], [ 47.482046461000039, 31.294882969000071 ], [ 47.448387165000042, 31.298991743000045 ], [ 47.403508104000025, 31.300361295000073 ], [ 47.369848809000075, 31.300361295000073 ], [ 47.332983866000063, 31.297622172000047 ], [ 47.294516099000077, 31.292143687000078 ], [ 47.252842686000065, 31.285295134000023 ], [ 47.223991861000059, 31.272966484000051 ], [ 47.198346683000068, 31.253785381000057 ], [ 47.169495858000062, 31.227747650000026 ], [ 47.138040445000058, 31.162107607000053 ], [ 47.130527209000036, 30.865907105000076 ], [ 47.133031621000043, 30.833655990000068 ], [ 47.12301397400006, 30.801394035000044 ], [ 47.110491914000079, 30.775576671000067 ], [ 47.107987502000071, 30.743295221000039 ], [ 47.107987502000071, 30.723921156000074 ], [ 47.09546544300008, 30.704543197000078 ], [ 47.082943383000043, 30.674391968000066 ], [ 47.090456619000065, 30.661467131000052 ], [ 47.097969855000031, 30.650695112000051 ], [ 47.105483090000064, 30.633457386000032 ], [ 47.105483090000064, 30.611905909000029 ], [ 47.097969855000031, 30.594661274000032 ], [ 47.050386029000038, 30.605439531000059 ], [ 47.017828675000032, 30.635612270000024 ], [ 46.995288968000068, 30.644231325000078 ], [ 46.960227201000066, 30.644231325000078 ], [ 46.907634552000047, 30.631302455000025 ], [ 46.842519843000048, 30.605439531000059 ], [ 46.727316896000048, 30.566632194000078 ], [ 46.594583066000041, 30.534280883000065 ], [ 46.575647053000068, 30.511378421000074 ], [ 46.584465242000078, 30.502695611000036 ], [ 46.600493478000033, 30.486122183000077 ], [ 46.605301949000079, 30.462638330000061 ], [ 46.605301949000079, 30.437766901000032 ], [ 46.606904773000053, 30.400447861000032 ], [ 46.611713244000043, 30.374177762000045 ], [ 46.624535833000039, 30.356199414000059 ], [ 46.627741480000054, 30.343750930000056 ], [ 46.638961245000075, 30.31469831000004 ], [ 46.656592305000061, 30.285637074000078 ], [ 46.677429011000072, 30.256567227000062 ], [ 46.719102425000074, 30.208098360000065 ], [ 46.746350426000049, 30.160991448000061 ], [ 46.744747603000064, 30.040350699000044 ], [ 46.735130661000028, 30.012596389000066 ], [ 46.730322190000038, 29.98622259900003 ], [ 46.712691131000042, 29.884826576000023 ], [ 46.701471366000078, 29.822270737000053 ], [ 46.688648777000026, 29.780545077000056 ], [ 46.680634659000077, 29.758284278000076 ], [ 46.671017717000041, 29.730451324000057 ], [ 46.65498948100003, 29.64690613700003 ], [ 46.64537253900005, 29.580020019000074 ], [ 46.646975363000081, 29.443323219000035 ], [ 46.651783834000071, 29.427968184000065 ], [ 46.65498948100003, 29.416799428000047 ], [ 46.653386657000055, 29.398647580000045 ], [ 46.643769716000065, 29.376302396000028 ], [ 46.622933009000064, 29.349761117000071 ], [ 46.611713244000043, 29.33858377200005 ], [ 46.590876537000042, 29.313430266000069 ], [ 46.573245477000057, 29.152581068000075 ], [ 46.571063096000046, 29.06360058000007 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Maysan", "shapeISO": "IQ-MA", "shapeID": "90741666B47130783728166", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 47.138040445000058, 31.162107607000053 ], [ 47.169495858000062, 31.227747650000026 ], [ 47.198346683000068, 31.253785381000057 ], [ 47.223991861000059, 31.272966484000051 ], [ 47.252842686000065, 31.285295134000023 ], [ 47.294516099000077, 31.292143687000078 ], [ 47.332983866000063, 31.297622172000047 ], [ 47.369848809000075, 31.300361295000073 ], [ 47.403508104000025, 31.300361295000073 ], [ 47.448387165000042, 31.298991743000045 ], [ 47.482046461000039, 31.294882969000071 ], [ 47.499677521000081, 31.289404326000067 ], [ 47.531733993000046, 31.288034615000072 ], [ 47.578215877000048, 31.286664884000061 ], [ 47.613477997000075, 31.286664884000061 ], [ 47.639123174000076, 31.285295134000023 ], [ 47.677590941000062, 31.281185763000053 ], [ 47.695537006000052, 31.278826159000062 ], [ 47.700030471000048, 31.407124947000057 ], [ 47.704838942000038, 31.424907099000052 ], [ 47.709647413000027, 31.446788197000046 ], [ 47.717661531000033, 31.46866418500008 ], [ 47.730484120000028, 31.493268564000061 ], [ 47.74330670900008, 31.513767269000027 ], [ 47.759334945000035, 31.539725841000063 ], [ 47.770554710000056, 31.56567719800006 ], [ 47.77696600400003, 31.584794630000033 ], [ 47.788185769000052, 31.609368425000071 ], [ 47.794597064000072, 31.629841633000069 ], [ 47.802611182000078, 31.663953636000031 ], [ 47.812228124000058, 31.688506525000037 ], [ 47.861658953000074, 31.790059117000055 ], [ 47.86415960800008, 31.857308687000057 ], [ 47.852875730000051, 31.865149917000053 ], [ 47.836462816000051, 31.872119339000051 ], [ 47.821075710000059, 31.876474961000042 ], [ 47.811843446000069, 31.888669605000075 ], [ 47.80979183200003, 31.899991758000056 ], [ 47.80774021700006, 31.913054050000028 ], [ 47.794404725000049, 31.93743203300005 ], [ 47.788249882000059, 31.946136890000048 ], [ 47.765682126000058, 31.952229798000076 ], [ 47.753372441000067, 31.96267384500004 ], [ 47.749269212000058, 31.978337687000078 ], [ 47.748243405000039, 31.993128862000049 ], [ 47.731830492000029, 32.003568255000062 ], [ 47.725675649000038, 32.014876256000036 ], [ 47.722598228000038, 32.028791881000075 ], [ 47.720546613000067, 32.048791888000039 ], [ 47.715417578000029, 32.059224940000036 ], [ 47.689772400000038, 32.066179646000023 ], [ 47.678488522000066, 32.081825803000072 ], [ 47.678488522000066, 32.097469282000077 ], [ 47.674385294000047, 32.111372348000032 ], [ 47.635404623000056, 32.138303514000029 ], [ 47.622069131000046, 32.150463370000068 ], [ 47.599501375000045, 32.166095088000077 ], [ 47.591294918000074, 32.156542690000038 ], [ 47.574882004000074, 32.155674241000042 ], [ 47.555391669000073, 32.161753213000054 ], [ 47.553340055000035, 32.177382994000027 ], [ 47.549236826000026, 32.214709946000028 ], [ 47.555391669000073, 32.223388438000029 ], [ 47.576933618000055, 32.236404622000066 ], [ 47.583088461000045, 32.248551379000048 ], [ 47.581036847000064, 32.261563958000067 ], [ 47.562572319000026, 32.280645700000036 ], [ 47.541030370000044, 32.293653678000055 ], [ 47.525643263000063, 32.301457568000046 ], [ 47.518462613000054, 32.317063334000068 ], [ 47.521540035000044, 32.330066085000055 ], [ 47.523591649000025, 32.340466942000035 ], [ 47.518462613000054, 32.35346633100005 ], [ 47.499998085000072, 32.35433289100007 ], [ 47.477430329000072, 32.359532074000072 ], [ 47.469223872000043, 32.368196715000067 ], [ 47.458965801000033, 32.383790975000068 ], [ 47.453836766000052, 32.402846972000077 ], [ 47.458965801000033, 32.413239457000032 ], [ 47.470249679000062, 32.421898947000045 ], [ 47.475378715000033, 32.431423426000038 ], [ 47.470249679000062, 32.441812619000075 ], [ 47.459991608000053, 32.453066228000068 ], [ 47.443578694000053, 32.460856364000051 ], [ 47.430243202000042, 32.476434616000063 ], [ 47.40562383200006, 32.499796939000078 ], [ 47.39331414600008, 32.513638416000049 ], [ 47.358436705000031, 32.516233455000076 ], [ 47.345101212000031, 32.521423310000046 ], [ 47.315352806000078, 32.540450213000042 ], [ 47.291759243000058, 32.529207530000065 ], [ 47.269191486000068, 32.509313183000074 ], [ 47.220978552000076, 32.508448112000053 ], [ 47.191230146000066, 32.503257508000047 ], [ 47.164559161000057, 32.506717944000059 ], [ 47.149172055000065, 32.517963440000074 ], [ 47.123526877000074, 32.532666967000068 ], [ 47.101984928000036, 32.54304447800007 ], [ 47.081468786000073, 32.550826824000069 ], [ 47.071210715000063, 32.562066800000025 ], [ 47.054797801000063, 32.576763105000055 ], [ 47.032230045000063, 32.596642509000048 ], [ 46.994275182000081, 32.625157429000069 ], [ 46.966578390000052, 32.643298559000073 ], [ 46.94195901900008, 32.657117903000028 ], [ 46.90913319200007, 32.668344547000061 ], [ 46.889642857000069, 32.676116013000069 ], [ 46.871178329000031, 32.695973355000035 ], [ 46.843481537000059, 32.717552413000078 ], [ 46.811681517000068, 32.753793478000034 ], [ 46.797320217000049, 32.771908484000051 ], [ 46.780907303000049, 32.794331478000061 ], [ 46.759365354000067, 32.814162492000037 ], [ 46.704997577000029, 32.840022382000029 ], [ 46.670120136000037, 32.85122599500005 ], [ 46.644474958000046, 32.861566537000044 ], [ 46.627036237000027, 32.873628979000046 ], [ 46.603442674000064, 32.892580929000076 ], [ 46.591132989000073, 32.905500389000053 ], [ 46.583952339000064, 32.916695730000072 ], [ 46.573694268000054, 32.906361620000041 ], [ 46.551126511000064, 32.886551203000067 ], [ 46.540868440000054, 32.872767430000067 ], [ 46.544971669000063, 32.862428195000064 ], [ 46.553178126000034, 32.852949503000048 ], [ 46.563436197000044, 32.844331631000045 ], [ 46.563436197000044, 32.838298623000071 ], [ 46.559332968000035, 32.821921250000059 ], [ 46.547023283000044, 32.807265250000057 ], [ 46.538816826000073, 32.794331478000061 ], [ 46.529584562000025, 32.779670929000076 ], [ 46.525481334000062, 32.760694867000041 ], [ 46.522403912000073, 32.734811901000057 ], [ 46.517274877000034, 32.71668935100007 ], [ 46.512145841000063, 32.698563118000038 ], [ 46.505990999000062, 32.680433203000064 ], [ 46.496758735000071, 32.658845171000053 ], [ 46.490603892000081, 32.641570991000037 ], [ 46.488552278000043, 32.553420790000075 ], [ 46.488552278000043, 32.549962152000035 ], [ 46.486500664000062, 32.539585441000042 ], [ 46.473165171000062, 32.52834265000007 ], [ 46.461881293000033, 32.525747960000047 ], [ 46.454700643000081, 32.516233455000076 ], [ 46.449571608000042, 32.49806660400003 ], [ 46.44136515100007, 32.479896083000028 ], [ 46.434184501000061, 32.465183926000066 ], [ 46.42187481600007, 32.440081170000042 ], [ 46.40238448100007, 32.423630745000025 ], [ 46.390074796000079, 32.417569306000075 ], [ 46.389048989000059, 32.40024866400006 ], [ 46.39828125300005, 32.378593187000035 ], [ 46.406487709000032, 32.367330288000062 ], [ 46.427003852000041, 32.350866603000043 ], [ 46.459829679000052, 32.323131517000036 ], [ 46.459829679000052, 32.313595618000079 ], [ 46.459829679000052, 32.305792773000064 ], [ 46.459829679000052, 32.294520810000051 ], [ 46.460855486000071, 32.283247445000029 ], [ 46.46803613600008, 32.275441986000033 ], [ 46.477268400000071, 32.269370610000067 ], [ 46.491629699000043, 32.264166250000073 ], [ 46.508042613000043, 32.256359150000037 ], [ 46.520352298000034, 32.245081042000038 ], [ 46.522403912000073, 32.238139972000056 ], [ 46.522403912000073, 32.225991824000062 ], [ 46.522403912000073, 32.216445711000063 ], [ 46.519326491000072, 32.212106237000057 ], [ 46.516249070000072, 32.200822636000055 ], [ 46.510094227000081, 32.196482417000027 ], [ 46.497784542000034, 32.190405763000058 ], [ 46.481371628000034, 32.186065047000056 ], [ 46.459829679000052, 32.17825123700004 ], [ 46.437261923000051, 32.170436756000072 ], [ 46.410590938000041, 32.16522672900004 ], [ 46.386997374000032, 32.159147989000076 ], [ 46.368532846000051, 32.147857823000038 ], [ 46.364429618000031, 32.129616909000049 ], [ 46.364429618000031, 32.107896780000033 ], [ 46.373661882000079, 32.089647877000061 ], [ 46.383919953000031, 32.077479917000062 ], [ 46.39520383100006, 32.067048948000036 ], [ 46.400332867000031, 32.054008562000035 ], [ 46.396229638000079, 32.042705392000073 ], [ 46.380842532000031, 32.034009695000066 ], [ 46.366481232000069, 32.025313173000029 ], [ 46.368532846000051, 32.012266841000041 ], [ 46.374687689000041, 32.003568255000062 ], [ 46.376739303000079, 31.988778764000074 ], [ 46.373661882000079, 31.985298537000062 ], [ 46.34904251100005, 31.982688280000048 ], [ 46.320319912000059, 31.980077949000076 ], [ 46.31621668400004, 31.971376310000039 ], [ 46.320319912000059, 31.959192628000039 ], [ 46.339810247000059, 31.947007330000076 ], [ 46.360326390000068, 31.93569096300007 ], [ 46.38186833900005, 31.926114488000053 ], [ 46.412642552000079, 31.879959309000071 ], [ 46.423926430000051, 31.854694795000057 ], [ 46.430081273000042, 31.837266958000043 ], [ 46.437261923000051, 31.811990746000049 ], [ 46.447519994000061, 31.732630831000051 ], [ 46.455726451000032, 31.709944070000063 ], [ 46.469061943000042, 31.69336177200006 ], [ 46.48444905000008, 31.681141340000067 ], [ 46.501887770000053, 31.668046235000077 ], [ 46.526507141000081, 31.647090226000046 ], [ 46.530610369000044, 31.635737082000048 ], [ 46.535739405000072, 31.623509068000033 ], [ 46.548049090000063, 31.61215304600006 ], [ 46.563436197000044, 31.596427034000044 ], [ 46.588055567000026, 31.582446128000072 ], [ 46.598313638000036, 31.57632882200005 ], [ 46.609597517000054, 31.562344901000074 ], [ 46.615752359000055, 31.546610484000041 ], [ 46.619855588000064, 31.530873413000052 ], [ 46.618829781000045, 31.505513664000034 ], [ 46.618829781000045, 31.496767327000043 ], [ 46.614726552000036, 31.488020172000063 ], [ 46.609597517000054, 31.478397357000063 ], [ 46.603442674000064, 31.467023664000067 ], [ 46.603442674000064, 31.453898454000068 ], [ 46.605494288000045, 31.442521784000064 ], [ 46.607545902000027, 31.432019016000027 ], [ 46.616778166000074, 31.418013495000025 ], [ 46.632165273000055, 31.404881420000038 ], [ 46.635242694000056, 31.40313033800004 ], [ 46.680378207000047, 31.375108580000074 ], [ 46.695765314000028, 31.36459826600003 ], [ 46.718333070000028, 31.355838772000027 ], [ 46.736797598000067, 31.347078463000059 ], [ 46.750133090000077, 31.338317337000035 ], [ 46.759365354000067, 31.326050391000024 ], [ 46.76039116100003, 31.253292102000046 ], [ 46.761416968000049, 31.241891140000064 ], [ 46.766546004000077, 31.226980114000071 ], [ 46.773726654000029, 31.217330549000053 ], [ 46.785010532000058, 31.208557362000079 ], [ 46.805526674000077, 31.203293059000032 ], [ 46.81988797300005, 31.191008547000024 ], [ 46.829120237000041, 31.176089495000042 ], [ 46.83630088700005, 31.165556985000023 ], [ 46.84655895800006, 31.152389700000072 ], [ 46.863997679000079, 31.146244340000067 ], [ 46.89272027800007, 31.140098583000054 ], [ 46.976836461000062, 31.138342579000039 ], [ 46.991197760000034, 31.150633923000044 ], [ 46.999404217000063, 31.154145443000061 ], [ 47.066081679000035, 31.159412479000025 ], [ 47.138040445000058, 31.162107607000053 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Wasit", "shapeISO": "IQ-WA", "shapeID": "90741666B22138095387242", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 45.157952234000049, 32.45587941000008 ], [ 45.188854673000037, 32.441812619000075 ], [ 45.222706308000056, 32.426228380000055 ], [ 45.252454714000066, 32.424496632000057 ], [ 45.266816014000028, 32.41930118700003 ], [ 45.293486998000049, 32.413239457000032 ], [ 45.312977333000049, 32.407177319000027 ], [ 45.337596704000077, 32.395051823000074 ], [ 45.357087039000078, 32.379459506000046 ], [ 45.370422531000031, 32.364730958000052 ], [ 45.376577374000078, 32.356065985000043 ], [ 45.385809638000069, 32.347400182000058 ], [ 45.405299973000069, 32.33873354900004 ], [ 45.42068708000005, 32.331799644000057 ], [ 45.440177415000051, 32.320530917000042 ], [ 45.466848399000071, 32.306659789000037 ], [ 45.478132278000032, 32.290185066000049 ], [ 45.489416156000061, 32.273707349000063 ], [ 45.545835547000081, 32.228595135000035 ], [ 45.589945252000064, 32.186065047000056 ], [ 45.622771080000064, 32.14612075000008 ], [ 45.645338836000064, 32.107896780000033 ], [ 45.664829171000065, 32.089647877000061 ], [ 45.672009821000074, 32.081825803000072 ], [ 45.679190471000027, 32.068787525000062 ], [ 45.684319506000065, 32.053139137000073 ], [ 45.690474349000056, 32.040096770000048 ], [ 45.691500156000075, 32.023573769000052 ], [ 45.696629191000056, 32.013136655000039 ], [ 45.704835648000028, 32.001828439000064 ], [ 45.709681542000055, 31.993152482000028 ], [ 45.738687283000047, 31.996608792000075 ], [ 45.750996968000038, 32.004438151000045 ], [ 45.776642146000029, 32.007917651000071 ], [ 45.837164765000068, 32.007917651000071 ], [ 46.077203628000063, 32.010527190000062 ], [ 46.227997273000028, 32.010527190000062 ], [ 46.317242491000059, 32.013136655000039 ], [ 46.330577983000069, 32.014876256000036 ], [ 46.354171547000078, 32.014876256000036 ], [ 46.368532846000051, 32.012266841000041 ], [ 46.366481232000069, 32.025313173000029 ], [ 46.380842532000031, 32.034009695000066 ], [ 46.396229638000079, 32.042705392000073 ], [ 46.400332867000031, 32.054008562000035 ], [ 46.39520383100006, 32.067048948000036 ], [ 46.383919953000031, 32.077479917000062 ], [ 46.373661882000079, 32.089647877000061 ], [ 46.364429618000031, 32.107896780000033 ], [ 46.364429618000031, 32.129616909000049 ], [ 46.368532846000051, 32.147857823000038 ], [ 46.386997374000032, 32.159147989000076 ], [ 46.410590938000041, 32.16522672900004 ], [ 46.437261923000051, 32.170436756000072 ], [ 46.459829679000052, 32.17825123700004 ], [ 46.481371628000034, 32.186065047000056 ], [ 46.497784542000034, 32.190405763000058 ], [ 46.510094227000081, 32.196482417000027 ], [ 46.516249070000072, 32.200822636000055 ], [ 46.519326491000072, 32.212106237000057 ], [ 46.522403912000073, 32.216445711000063 ], [ 46.522403912000073, 32.225991824000062 ], [ 46.522403912000073, 32.238139972000056 ], [ 46.520352298000034, 32.245081042000038 ], [ 46.508042613000043, 32.256359150000037 ], [ 46.491629699000043, 32.264166250000073 ], [ 46.477268400000071, 32.269370610000067 ], [ 46.46803613600008, 32.275441986000033 ], [ 46.460855486000071, 32.283247445000029 ], [ 46.459829679000052, 32.294520810000051 ], [ 46.459829679000052, 32.305792773000064 ], [ 46.459829679000052, 32.313595618000079 ], [ 46.459829679000052, 32.323131517000036 ], [ 46.427003852000041, 32.350866603000043 ], [ 46.406487709000032, 32.367330288000062 ], [ 46.39828125300005, 32.378593187000035 ], [ 46.389048989000059, 32.40024866400006 ], [ 46.390074796000079, 32.417569306000075 ], [ 46.40238448100007, 32.423630745000025 ], [ 46.42187481600007, 32.440081170000042 ], [ 46.434184501000061, 32.465183926000066 ], [ 46.44136515100007, 32.479896083000028 ], [ 46.449571608000042, 32.49806660400003 ], [ 46.454700643000081, 32.516233455000076 ], [ 46.461881293000033, 32.525747960000047 ], [ 46.473165171000062, 32.52834265000007 ], [ 46.486500664000062, 32.539585441000042 ], [ 46.488552278000043, 32.549962152000035 ], [ 46.488552278000043, 32.553420790000075 ], [ 46.490603892000081, 32.641570991000037 ], [ 46.496758735000071, 32.658845171000053 ], [ 46.505990999000062, 32.680433203000064 ], [ 46.512145841000063, 32.698563118000038 ], [ 46.517274877000034, 32.71668935100007 ], [ 46.522403912000073, 32.734811901000057 ], [ 46.525481334000062, 32.760694867000041 ], [ 46.529584562000025, 32.779670929000076 ], [ 46.538816826000073, 32.794331478000061 ], [ 46.547023283000044, 32.807265250000057 ], [ 46.559332968000035, 32.821921250000059 ], [ 46.563436197000044, 32.838298623000071 ], [ 46.563436197000044, 32.844331631000045 ], [ 46.553178126000034, 32.852949503000048 ], [ 46.544971669000063, 32.862428195000064 ], [ 46.540868440000054, 32.872767430000067 ], [ 46.551126511000064, 32.886551203000067 ], [ 46.573694268000054, 32.906361620000041 ], [ 46.583164065000062, 32.915901656000074 ], [ 46.545997476000025, 32.929342609000059 ], [ 46.531572063000056, 32.938759324000046 ], [ 46.507529709000039, 32.94952005500005 ], [ 46.486693003000028, 32.960279477000029 ], [ 46.459445001000063, 32.973726912000075 ], [ 46.427388529000041, 32.987172299000065 ], [ 46.40655182200004, 32.995238549000078 ], [ 46.38731793900007, 32.996582852000074 ], [ 46.332821937000062, 33.014056931000027 ], [ 46.268708992000029, 33.015400948000035 ], [ 46.196581930000036, 33.008680660000039 ], [ 46.193376283000077, 33.007336541000029 ], [ 46.182156518000056, 33.000615639000046 ], [ 46.16773110500003, 32.996582852000074 ], [ 46.151702869000076, 33.003304062000041 ], [ 46.137277457000039, 33.019432874000074 ], [ 46.119646397000054, 33.027496175000067 ], [ 46.110029455000074, 33.034215028000062 ], [ 46.111632279000048, 33.050338186000033 ], [ 46.114837926000064, 33.05974199800005 ], [ 46.132468986000049, 33.07183113800005 ], [ 46.135674633000065, 33.082575646000066 ], [ 46.15330569300005, 33.091976014000068 ], [ 46.169333929000061, 33.108088592000058 ], [ 46.164525458000071, 33.120171086000028 ], [ 46.15330569300005, 33.126882865000027 ], [ 46.129263339000033, 33.129567433000034 ], [ 46.108426632000032, 33.134936323000034 ], [ 46.090795572000047, 33.138962775000039 ], [ 46.066753218000031, 33.145673117000058 ], [ 46.058739100000025, 33.15372485100005 ], [ 46.058739100000025, 33.160434064000071 ], [ 46.065150395000046, 33.171167738000065 ], [ 46.076370160000067, 33.176534082000046 ], [ 46.103618161000043, 33.177875616000051 ], [ 46.129263339000033, 33.177875616000051 ], [ 46.142085928000029, 33.180558624000071 ], [ 46.15811416400004, 33.191289833000042 ], [ 46.16773110500003, 33.20470199600004 ], [ 46.190170636000062, 33.21945300200008 ], [ 46.199274674000037, 33.235595799000066 ], [ 46.209532745000047, 33.241601660000072 ], [ 46.208506938000028, 33.250180746000069 ], [ 46.190042410000046, 33.26047453800004 ], [ 46.191068217000065, 33.269051771000079 ], [ 46.197223060000056, 33.278485755000077 ], [ 46.206455324000046, 33.282773592000069 ], [ 46.200300481000056, 33.299065453000026 ], [ 46.190042410000046, 33.317925912000078 ], [ 46.175681110000028, 33.322211812000035 ], [ 46.157216582000046, 33.331640048000054 ], [ 46.151061740000046, 33.334211208000056 ], [ 46.125416562000055, 33.36077541700007 ], [ 46.118235912000046, 33.373626157000047 ], [ 46.113106877000064, 33.38647499800004 ], [ 46.109003648000055, 33.400178336000067 ], [ 46.089513313000054, 33.407029195000064 ], [ 46.080281049000064, 33.416448244000037 ], [ 46.080281049000064, 33.432715104000067 ], [ 46.079255242000045, 33.448978915000055 ], [ 46.071048785000073, 33.462672391000069 ], [ 46.051558450000073, 33.474652409000043 ], [ 46.047455222000053, 33.484064118000049 ], [ 46.048481029000072, 33.498607476000075 ], [ 46.054635872000063, 33.51913511500004 ], [ 46.035145537000062, 33.536237761000052 ], [ 46.015655202000062, 33.538802866000026 ], [ 46.001293902000043, 33.529397109000058 ], [ 45.992061638000052, 33.514858925000055 ], [ 45.982829374000062, 33.500318298000025 ], [ 45.966416461000051, 33.48577522800008 ], [ 45.940771283000061, 33.475508061000028 ], [ 45.917177719000051, 33.466951159000075 ], [ 45.89460996300005, 33.458393412000078 ], [ 45.887429313000041, 33.450690718000033 ], [ 45.87511962800005, 33.426722405000078 ], [ 45.86178413600004, 33.399321941000039 ], [ 45.853577679000068, 33.387331520000032 ], [ 45.84537122200004, 33.368486089000044 ], [ 45.817674430000068, 33.352207203000034 ], [ 45.789977638000039, 33.350493459000063 ], [ 45.769461496000076, 33.347922779000044 ], [ 45.757151811000028, 33.334211208000056 ], [ 45.746893740000075, 33.312782555000069 ], [ 45.738687283000047, 33.292206093000061 ], [ 45.727403405000075, 33.265620979000062 ], [ 45.718171141000028, 33.249322875000075 ], [ 45.692525963000037, 33.220150261000072 ], [ 45.679190471000027, 33.203843679000045 ], [ 45.641235608000045, 33.17379728700007 ], [ 45.619693658000074, 33.160917107000046 ], [ 45.600203323000073, 33.155764506000025 ], [ 45.578661374000035, 33.159199607000062 ], [ 45.565325882000081, 33.16692809400007 ], [ 45.547887161000062, 33.175514502000055 ], [ 45.525319405000062, 33.186675574000049 ], [ 45.495570998000062, 33.198693601000059 ], [ 45.468900014000042, 33.198693601000059 ], [ 45.45453871400008, 33.206418605000067 ], [ 45.41042900900004, 33.215859350000073 ], [ 45.332467668000049, 33.21757573900004 ], [ 45.293486998000049, 33.220150261000072 ], [ 45.270919242000048, 33.227873371000044 ], [ 45.253480521000029, 33.23988574200007 ], [ 45.238093415000037, 33.249322875000075 ], [ 45.218603080000037, 33.26047453800004 ], [ 45.191932095000027, 33.273340072000053 ], [ 45.171415953000064, 33.282773592000069 ], [ 45.140641739000046, 33.293920984000067 ], [ 45.101661069000045, 33.307638895000025 ], [ 45.042164257000081, 33.325640379000049 ], [ 45.018570694000061, 33.321354649000057 ], [ 44.999080359000061, 33.311068036000052 ], [ 44.97035776000007, 33.306781589000025 ], [ 44.944712582000079, 33.300780209000038 ], [ 44.906757719000041, 33.291348635000077 ], [ 44.892396420000068, 33.282773592000069 ], [ 44.87085447000004, 33.252754308000078 ], [ 44.862648013000069, 33.229589525000051 ], [ 44.855467364000049, 33.208993454000051 ], [ 44.844183486000077, 33.183241550000048 ], [ 44.830847993000077, 33.159199607000062 ], [ 44.792893130000039, 33.130855997000026 ], [ 44.749809232000075, 33.092190867000056 ], [ 44.732370511000056, 33.073281723000036 ], [ 44.719035019000046, 33.069843260000027 ], [ 44.706725333000065, 33.067264325000053 ], [ 44.693389841000055, 33.06124651500005 ], [ 44.673899506000055, 33.057807582000066 ], [ 44.656460785000036, 33.062965931000065 ], [ 44.645176907000064, 33.071562508000056 ], [ 44.644151100000045, 33.08789369200008 ], [ 44.647228521000045, 33.105940419000035 ], [ 44.634918836000054, 33.116251170000055 ], [ 44.608247851000044, 33.118828669000038 ], [ 44.591834937000044, 33.113673596000069 ], [ 44.582602673000054, 33.107658961000027 ], [ 44.579525252000053, 33.115391987000066 ], [ 44.568113148000066, 33.129567433000034 ], [ 44.556893383000045, 33.116143773000033 ], [ 44.548879265000039, 33.102718061000076 ], [ 44.550482088000081, 33.079889642000069 ], [ 44.552084912000055, 33.062428617000023 ], [ 44.548879265000039, 33.050338186000033 ], [ 44.531248205000054, 33.040933369000072 ], [ 44.515219969000043, 33.039589742000032 ], [ 44.500794557000063, 33.032871298000032 ], [ 44.492780439000057, 33.018088919000036 ], [ 44.495986086000073, 33.000615639000046 ], [ 44.500794557000063, 32.989861131000055 ], [ 44.513617145000069, 32.981794390000061 ], [ 44.53445385200007, 32.973726912000075 ], [ 44.556893383000045, 32.953554992000079 ], [ 44.568113148000066, 32.936068936000026 ], [ 44.571318795000025, 32.923961180000049 ], [ 44.593758326000057, 32.913197338000032 ], [ 44.632226092000053, 32.910506174000034 ], [ 44.654665623000028, 32.925306568000053 ], [ 44.678707977000045, 32.933378467000068 ], [ 44.728395508000062, 32.929342609000059 ], [ 44.741218097000058, 32.915888421000034 ], [ 44.752437862000079, 32.880897962000063 ], [ 44.80853668900005, 32.835120356000061 ], [ 44.835784690000025, 32.821651860000031 ], [ 44.874252456000079, 32.814916845000027 ], [ 44.91432304600005, 32.809528466000074 ], [ 44.936762577000081, 32.797403419000034 ], [ 44.957599284000025, 32.779886543000032 ], [ 44.988052932000073, 32.747538633000033 ], [ 44.997669874000053, 32.735405137000043 ], [ 45.018506581000054, 32.717876059000048 ], [ 45.04254893500007, 32.709784553000077 ], [ 45.063385642000071, 32.707087222000041 ], [ 45.079413878000025, 32.70304107100003 ], [ 45.082619525000041, 32.696297080000079 ], [ 45.063385642000071, 32.680109421000054 ], [ 45.058577171000081, 32.669316018000075 ], [ 45.064988465000056, 32.62207955100007 ], [ 45.084222349000072, 32.608578836000049 ], [ 45.103456232000042, 32.60722865200006 ], [ 45.146732469000028, 32.60722865200006 ], [ 45.151540940000075, 32.597776798000041 ], [ 45.137115528000038, 32.580220710000049 ], [ 45.116278821000037, 32.573467452000045 ], [ 45.093839290000062, 32.558608496000033 ], [ 45.079413878000025, 32.542395919000057 ], [ 45.071399760000077, 32.528883201000042 ], [ 45.06659128900003, 32.518071563000035 ], [ 45.069796936000046, 32.497796237000045 ], [ 45.087427996000031, 32.488332853000031 ], [ 45.108264703000032, 32.484276812000076 ], [ 45.127498586000058, 32.482924758000024 ], [ 45.146732469000028, 32.473459810000065 ], [ 45.157952234000049, 32.45587941000008 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Ninawa", "shapeISO": "IQ-NI", "shapeID": "90741666B29902093370976", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 42.422232871000062, 34.931133724000063 ], [ 42.419728459000055, 35.095226702000048 ], [ 42.995743192000077, 35.105471578000049 ], [ 42.973303661000045, 35.143243547000054 ], [ 42.905985070000042, 35.228391437000028 ], [ 42.84347494900004, 35.295137292000049 ], [ 42.816226948000065, 35.323912644000075 ], [ 42.809815654000033, 35.340911450000078 ], [ 42.809815654000033, 35.364442355000051 ], [ 42.805007183000043, 35.381432633000031 ], [ 42.795390241000064, 35.404951727000025 ], [ 42.796993065000038, 35.478078364000055 ], [ 42.81462412500008, 35.501569243000063 ], [ 42.83866647900004, 35.526357720000078 ], [ 42.859503185000051, 35.542009656000062 ], [ 42.885148363000042, 35.556354581000051 ], [ 42.997346015000062, 35.637159782000026 ], [ 43.09832390300005, 35.637159782000026 ], [ 43.164039670000079, 35.648882787000048 ], [ 43.191287672000044, 35.663208568000073 ], [ 43.221741320000035, 35.677531780000038 ], [ 43.248989321000067, 35.686645213000077 ], [ 43.273031675000027, 35.694455898000058 ], [ 43.300279677000049, 35.707472007000035 ], [ 43.317910736000044, 35.721787273000075 ], [ 43.321116384000049, 35.732196760000079 ], [ 43.322277968000037, 35.738325517000078 ], [ 43.327527678000081, 35.766018196000061 ], [ 43.33554179600003, 35.78162324200008 ], [ 43.349967208000066, 35.797225225000034 ], [ 43.351570032000041, 35.819322791000047 ], [ 43.353172856000072, 35.838815537000073 ], [ 43.367598268000052, 35.869993969000063 ], [ 43.378818033000073, 35.886877166000033 ], [ 43.391640622000068, 35.902458462000027 ], [ 43.406066035000038, 35.912844289000077 ], [ 43.417285800000059, 35.925824655000042 ], [ 43.417285800000059, 35.93620741400008 ], [ 43.415682976000028, 35.959563636000041 ], [ 43.407668858000079, 35.979021880000062 ], [ 43.401257564000048, 35.997178580000025 ], [ 43.402860387000032, 36.007551961000047 ], [ 43.418888623000043, 36.016627550000067 ], [ 43.442930978000049, 36.021813132000034 ], [ 43.463767684000061, 36.026998373000026 ], [ 43.479795920000072, 36.034775593000063 ], [ 43.492618509000067, 36.047735922000072 ], [ 43.505441098000063, 36.068468009000071 ], [ 43.511852393000026, 36.084013490000075 ], [ 43.518263687000058, 36.102146001000051 ], [ 43.529483452000079, 36.128042329000039 ], [ 43.540703217000043, 36.144870362000063 ], [ 43.542306041000074, 36.157812547000049 ], [ 43.56474557100006, 36.182396813000025 ], [ 43.579170984000029, 36.194039300000043 ], [ 43.588787926000066, 36.206973367000046 ], [ 43.619369800000072, 36.239299183000071 ], [ 43.625524643000062, 36.246745157000078 ], [ 43.657324663000054, 36.273213987000076 ], [ 43.683995648000064, 36.282310575000054 ], [ 43.709640825000065, 36.294713306000062 ], [ 43.721950511000045, 36.302980698000056 ], [ 43.740415039000027, 36.317033253000034 ], [ 43.756827952000037, 36.333562427000061 ], [ 43.773240866000037, 36.350088096000036 ], [ 43.789653780000037, 36.365784232000067 ], [ 43.806066693000048, 36.378173683000057 ], [ 43.811195729000076, 36.389735390000055 ], [ 43.815298957000039, 36.407900313000027 ], [ 43.823505414000067, 36.431838497000058 ], [ 43.828634450000038, 36.443392221000067 ], [ 43.846073171000057, 36.452468939000028 ], [ 43.859408663000067, 36.456594370000062 ], [ 43.866589313000077, 36.468969343000026 ], [ 43.864537698000049, 36.487940467000044 ], [ 43.87376996200004, 36.493713365000076 ], [ 43.90044094700005, 36.497011971000063 ], [ 43.918905475000031, 36.511853959000064 ], [ 43.927111932000059, 36.525044448000074 ], [ 43.94249903900004, 36.530814580000026 ], [ 43.95275711000005, 36.539056878000054 ], [ 43.961989374000041, 36.551418679000051 ], [ 43.980453902000079, 36.567074122000065 ], [ 44.014305536000052, 36.593434013000035 ], [ 44.029692643000033, 36.60002257900004 ], [ 44.046105556000043, 36.604140148000056 ], [ 44.066621699000052, 36.588492219000045 ], [ 44.092266876000053, 36.588492219000045 ], [ 44.106628176000072, 36.595904791000066 ], [ 44.115860440000063, 36.59837549100007 ], [ 44.126118511000072, 36.586844884000072 ], [ 44.141505617000064, 36.592610403000037 ], [ 44.151763688000074, 36.602493147000075 ], [ 44.170228216000055, 36.603316652000046 ], [ 44.181512094000027, 36.609904374000052 ], [ 44.194847587000027, 36.623901416000024 ], [ 44.212286308000046, 36.63542648300006 ], [ 44.229725029000065, 36.640365270000075 ], [ 44.235879871000066, 36.646949827000071 ], [ 44.250241171000027, 36.663408756000024 ], [ 44.257421820000047, 36.674105174000033 ], [ 44.267679891000057, 36.684800104000033 ], [ 44.276912155000048, 36.694671028000073 ], [ 44.288196034000066, 36.69960601400004 ], [ 44.298454105000076, 36.707007900000065 ], [ 44.302557333000038, 36.716053681000062 ], [ 44.296402490000048, 36.725098398000057 ], [ 44.283066998000038, 36.733319943000026 ], [ 44.271783120000066, 36.741540608000037 ], [ 44.267679891000057, 36.749760392000042 ], [ 44.259473435000075, 36.775236128000074 ], [ 44.234854064000046, 36.788381584000035 ], [ 44.207157272000074, 36.79577491200007 ], [ 44.192795973000045, 36.801524785000026 ], [ 44.156892724000045, 36.815486965000048 ], [ 44.132273353000073, 36.817129407000039 ], [ 44.122015282000064, 36.824519959000042 ], [ 44.104576561000044, 36.835193942000046 ], [ 44.075853962000053, 36.839298924000047 ], [ 44.058415242000081, 36.842582750000076 ], [ 44.053286206000053, 36.858999768000047 ], [ 44.044053942000062, 36.87131021700003 ], [ 44.025589414000081, 36.880336620000037 ], [ 44.020460379000042, 36.894284416000062 ], [ 43.996866815000033, 36.913150907000045 ], [ 43.974299059000032, 36.926272671000049 ], [ 43.948653881000041, 36.935292574000073 ], [ 43.91993128200005, 36.94677090700003 ], [ 43.889157069000078, 36.954968657000052 ], [ 43.855305435000048, 36.968083223000065 ], [ 43.832737678000058, 36.980376076000027 ], [ 43.82860239300004, 36.981477214000051 ], [ 43.808118308000076, 36.986931453000068 ], [ 43.744518267000046, 36.986112062000075 ], [ 43.716821475000074, 36.986112062000075 ], [ 43.689124683000045, 36.982014973000048 ], [ 43.661427891000073, 36.97300060200007 ], [ 43.645014978000063, 36.967263629000058 ], [ 43.625524643000062, 36.969722385000068 ], [ 43.602956886000072, 36.968083223000065 ], [ 43.594750429000044, 36.955788384000073 ], [ 43.596802044000071, 36.941851833000044 ], [ 43.606034308000062, 36.928732750000052 ], [ 43.621421414000054, 36.917251701000055 ], [ 43.634756907000053, 36.90576892200005 ], [ 43.653221434000045, 36.894284416000062 ], [ 43.662453698000036, 36.885259662000067 ], [ 43.662453698000036, 36.862282748000041 ], [ 43.655273049000073, 36.845045528000071 ], [ 43.648092399000063, 36.831088740000041 ], [ 43.633731099000045, 36.822877676000076 ], [ 43.610137536000025, 36.81302323500006 ], [ 43.584492358000034, 36.80234616000007 ], [ 43.55166653100008, 36.794132012000034 ], [ 43.51884070300008, 36.789203100000066 ], [ 43.474730998000041, 36.794132012000034 ], [ 43.454214856000078, 36.803167526000038 ], [ 43.43985355600006, 36.816308190000029 ], [ 43.418311607000078, 36.829446598000061 ], [ 43.40600192200003, 36.838477945000079 ], [ 43.394718044000058, 36.844224611000072 ], [ 43.376253516000077, 36.851612546000069 ], [ 43.364969637000058, 36.860641276000024 ], [ 43.342401881000058, 36.870489582000062 ], [ 43.323937353000076, 36.880336620000037 ], [ 43.315730896000048, 36.889361955000027 ], [ 43.299317983000037, 36.895104795000066 ], [ 43.256234084000027, 36.890182387000038 ], [ 43.245976013000075, 36.882798180000066 ], [ 43.214175993000026, 36.881977669000037 ], [ 43.199814693000064, 36.868027625000025 ], [ 43.182375972000045, 36.845866436000051 ], [ 43.171092094000073, 36.83273084800004 ], [ 43.157756602000063, 36.81959300300008 ], [ 43.144421109000064, 36.801524785000026 ], [ 43.136214653000025, 36.78591698300005 ], [ 43.114672703000053, 36.769484282000064 ], [ 43.095182368000053, 36.744006636000051 ], [ 43.086975911000025, 36.732497828000078 ], [ 43.081846876000043, 36.721809533000055 ], [ 43.059279120000042, 36.716875972000025 ], [ 43.032608135000032, 36.709475037000061 ], [ 43.01824683500007, 36.702895829000056 ], [ 42.99465327200005, 36.702073389000077 ], [ 42.977214551000031, 36.698783538000043 ], [ 42.966956480000078, 36.686445346000028 ], [ 42.951569373000041, 36.685622729000045 ], [ 42.903356439000049, 36.691380860000038 ], [ 42.893098368000039, 36.693848499000069 ], [ 42.869504805000076, 36.696316058000036 ], [ 42.857195119000039, 36.693025962000036 ], [ 42.845911241000067, 36.680686845000025 ], [ 42.832575749000057, 36.674927913000033 ], [ 42.820266064000066, 36.67821878400008 ], [ 42.819240257000047, 36.687267954000049 ], [ 42.817188642000076, 36.69960601400004 ], [ 42.804878957000028, 36.71523138200007 ], [ 42.780259586000057, 36.705363098000078 ], [ 42.767949901000065, 36.690558297000052 ], [ 42.760769251000056, 36.687267954000049 ], [ 42.742304724000064, 36.690558297000052 ], [ 42.734098267000036, 36.697138560000042 ], [ 42.735124074000055, 36.704540684000051 ], [ 42.749485373000027, 36.720987295000043 ], [ 42.751536987000065, 36.732497828000078 ], [ 42.731020845000046, 36.74647258400006 ], [ 42.714607932000035, 36.755513717000042 ], [ 42.702298246000055, 36.76291021600008 ], [ 42.701272439000036, 36.774414462000038 ], [ 42.691014368000026, 36.780987543000037 ], [ 42.666394998000044, 36.786738525000032 ], [ 42.648956277000025, 36.782630725000047 ], [ 42.637672399000053, 36.763732005000065 ], [ 42.624336906000053, 36.75797929600003 ], [ 42.597665921000043, 36.762088418000076 ], [ 42.592536886000062, 36.770306001000051 ], [ 42.577149779000081, 36.78591698300005 ], [ 42.572020744000042, 36.799882008000054 ], [ 42.558685251000043, 36.81384448700004 ], [ 42.55047879500006, 36.816308190000029 ], [ 42.500214246000041, 36.81959300300008 ], [ 42.493033597000078, 36.824519959000042 ], [ 42.493033597000078, 36.836835961000077 ], [ 42.494059404000041, 36.843403685000055 ], [ 42.505343282000069, 36.857358225000041 ], [ 42.51149812400007, 36.87377206900004 ], [ 42.51149812400007, 36.881977669000037 ], [ 42.513549739000041, 36.90576892200005 ], [ 42.51867877400008, 36.922992442000066 ], [ 42.51149812400007, 36.943491560000041 ], [ 42.49508521100006, 36.941851833000044 ], [ 42.473543261000032, 36.921352274000071 ], [ 42.459181962000059, 36.918891957000028 ], [ 42.449949698000069, 36.922992442000066 ], [ 42.439691627000059, 36.929552759000046 ], [ 42.430459363000068, 36.941031957000064 ], [ 42.42225290600004, 36.950869892000071 ], [ 42.40583999200004, 36.964804793000042 ], [ 42.399685150000039, 36.97300060200007 ], [ 42.394556114000068, 36.982834409000077 ], [ 42.387375465000048, 36.994305576000045 ], [ 42.378143201000057, 37.015604583000027 ], [ 42.372144633000062, 37.070431006000035 ], [ 42.342091691000064, 37.04844698200003 ], [ 42.32205639600005, 37.024457147000078 ], [ 42.297012277000078, 37.000459733000071 ], [ 42.27196815800005, 36.974453986000071 ], [ 42.239410803000055, 36.952442179000059 ], [ 42.191826978000051, 36.916409134000048 ], [ 42.119199033000029, 36.840283445000068 ], [ 42.094154914000057, 36.814223030000051 ], [ 42.056588736000037, 36.780130635000035 ], [ 41.966429908000066, 36.711900335000053 ], [ 41.936376966000068, 36.681779451000068 ], [ 41.888793140000075, 36.649637502000076 ], [ 41.831191667000041, 36.599388840000074 ], [ 41.400432823000074, 36.522948160000055 ], [ 41.285229876000074, 36.353705845000036 ], [ 41.282725465000055, 36.275003669000057 ], [ 41.282725465000055, 36.228552332000049 ], [ 41.255176934000076, 36.06271864200005 ], [ 41.372884292000037, 35.833617939000078 ], [ 41.375388704000045, 35.734067070000037 ], [ 41.382901940000067, 35.611998362000065 ], [ 41.275212229000033, 35.499938154000063 ], [ 41.272707817000025, 35.471388733000026 ], [ 41.272707817000025, 35.412218393000046 ], [ 41.270203405000075, 35.367301546000078 ], [ 41.260185758000034, 35.336662084000068 ], [ 41.23764605100007, 35.287614774000076 ], [ 41.215106344000048, 35.13619847800004 ], [ 41.250168110000061, 35.125957466000045 ], [ 41.280221053000048, 35.113666551000051 ], [ 41.320291643000076, 35.095226702000048 ], [ 41.372884292000037, 35.072683445000052 ], [ 41.415459294000073, 35.048083696000049 ], [ 41.450521061000074, 35.03373042000004 ], [ 41.488087239000038, 35.029629021000062 ], [ 41.52314900500005, 35.03373042000004 ], [ 41.578246067000066, 35.019374623000033 ], [ 41.653378423000049, 34.998861968000028 ], [ 41.743537251000078, 34.974239994000072 ], [ 41.901315199000067, 34.922920436000027 ], [ 42.422232871000062, 34.931133724000063 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Dohuk", "shapeISO": "IQ-DA", "shapeID": "90741666B81100048725045", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 43.82860239300004, 36.981477214000051 ], [ 43.853253820000077, 37.003419824000048 ], [ 43.867679233000047, 37.017498677000049 ], [ 43.893324410000048, 37.027736205000053 ], [ 43.91576394100008, 37.039251774000036 ], [ 43.939806295000039, 37.052044804000047 ], [ 43.954231707000076, 37.063556686000027 ], [ 43.975068414000077, 37.076345619000051 ], [ 43.999110768000037, 37.092968006000035 ], [ 44.019947475000038, 37.109586749000073 ], [ 44.031167240000059, 37.122367915000041 ], [ 44.035975711000049, 37.133869121000032 ], [ 44.047437990000049, 37.146432883000045 ], [ 44.057389434000072, 37.150632191000057 ], [ 44.076879770000062, 37.152267413000061 ], [ 44.086112033000063, 37.152267413000061 ], [ 44.092266876000053, 37.152267413000061 ], [ 44.091241069000034, 37.242966808000062 ], [ 44.087137841000072, 37.247866373000079 ], [ 44.075853963000043, 37.257664547000047 ], [ 44.066621699000052, 37.270726798000055 ], [ 44.058415242000081, 37.281338207000033 ], [ 44.046105557000033, 37.28623527700006 ], [ 44.013279729000033, 37.282970600000056 ], [ 43.990711972000042, 37.269910473000039 ], [ 43.978402287000051, 37.256031607000068 ], [ 43.94967968800006, 37.251949100000047 ], [ 43.945576460000041, 37.234800158000041 ], [ 43.94044742400007, 37.221731678000026 ], [ 43.928137739000078, 37.205392894000056 ], [ 43.914802247000068, 37.188233363000052 ], [ 43.90351836800005, 37.180060787000059 ], [ 43.885053841000058, 37.179243480000025 ], [ 43.853253820000077, 37.180878084000028 ], [ 43.840944135000029, 37.175156816000026 ], [ 43.821453800000029, 37.16453045600008 ], [ 43.808118307000029, 37.180060787000059 ], [ 43.784524744000066, 37.192319319000035 ], [ 43.780421515000057, 37.193953640000075 ], [ 43.760931181000046, 37.195587925000041 ], [ 43.693227911000065, 37.192319319000035 ], [ 43.660402084000054, 37.190684963000024 ], [ 43.650144013000045, 37.182512652000071 ], [ 43.629627871000025, 37.182512652000071 ], [ 43.608085922000043, 37.188233363000052 ], [ 43.588595587000043, 37.198856389000071 ], [ 43.584492358000034, 37.20620991800007 ], [ 43.558847181000033, 37.218464204000043 ], [ 43.53833103900007, 37.222548524000047 ], [ 43.523969739000052, 37.210294901000054 ], [ 43.51268586100008, 37.209477922000076 ], [ 43.480885840000042, 37.212745785000038 ], [ 43.461395505000041, 37.220914823000044 ], [ 43.452163241000051, 37.232349990000046 ], [ 43.426518064000049, 37.238066924000066 ], [ 43.413182572000039, 37.23970025400007 ], [ 43.397795465000058, 37.250316036000072 ], [ 43.394718043000069, 37.259297453000045 ], [ 43.38958900800003, 37.265828720000059 ], [ 43.37009867300003, 37.26909414000005 ], [ 43.365995444000077, 37.276440820000062 ], [ 43.347530917000029, 37.282154408000054 ], [ 43.330092196000066, 37.282970600000056 ], [ 43.315730896000048, 37.28052199800004 ], [ 43.302395404000038, 37.272359420000043 ], [ 43.291111526000066, 37.269910473000039 ], [ 43.281879262000075, 37.269910473000039 ], [ 43.268543770000065, 37.276440820000062 ], [ 43.251105048000056, 37.290315925000073 ], [ 43.226485678000074, 37.302556540000069 ], [ 43.193659851000064, 37.313979317000076 ], [ 43.165963059000035, 37.315611 ], [ 43.148524338000072, 37.326216080000052 ], [ 43.123904968000033, 37.330294559000038 ], [ 43.080821068000034, 37.328663194000058 ], [ 43.05825331300008, 37.318058459000042 ], [ 43.039788784000052, 37.313163462000034 ], [ 43.020298450000041, 37.310715843000025 ], [ 42.990550044000031, 37.287867562000031 ], [ 42.977214551000031, 37.28052199800004 ], [ 42.95875002300005, 37.279705780000029 ], [ 42.921820967000031, 37.281338207000033 ], [ 42.890020947000039, 37.287051424000026 ], [ 42.880788683000048, 37.291948122000065 ], [ 42.836678977000076, 37.304188471000032 ], [ 42.825395100000037, 37.314795163000042 ], [ 42.817188643000065, 37.323768887000028 ], [ 42.798724114000038, 37.33355718200005 ], [ 42.782311201000027, 37.329478881000057 ], [ 42.758717637000075, 37.313163462000034 ], [ 42.744356338000046, 37.300108576000071 ], [ 42.735124074000055, 37.290315925000073 ], [ 42.723840196000026, 37.279705780000029 ], [ 42.711530510000046, 37.270726798000055 ], [ 42.689988561000064, 37.254398631000072 ], [ 42.682807911000054, 37.242966808000062 ], [ 42.662291769000035, 37.231533250000041 ], [ 42.643827241000054, 37.217647314000033 ], [ 42.639724013000034, 37.20457586200007 ], [ 42.630491748000054, 37.193953640000075 ], [ 42.619207871000071, 37.183329923000031 ], [ 42.605872379000061, 37.168617694000034 ], [ 42.598691729000052, 37.154720181000073 ], [ 42.586382043000071, 37.137549137000065 ], [ 42.572020743000053, 37.113830336000035 ], [ 42.559711058000062, 37.108103994000032 ], [ 42.543298144000062, 37.11792031400006 ], [ 42.515601353000079, 37.111376242000063 ], [ 42.500214246000041, 37.104831604000026 ], [ 42.48482713900006, 37.102377219000061 ], [ 42.45200131200005, 37.102377219000061 ], [ 42.427381941000078, 37.100740918000042 ], [ 42.40583999200004, 37.088467535000063 ], [ 42.382246429000077, 37.090104101000065 ], [ 42.369936744000029, 37.087649239000029 ], [ 42.374390237000057, 37.081051241000068 ], [ 42.371578035000027, 37.080938877000051 ], [ 42.372144633000062, 37.070431006000035 ], [ 42.378143201000057, 37.015604583000027 ], [ 42.387375465000048, 36.994305576000045 ], [ 42.394556114000068, 36.982834409000077 ], [ 42.399685150000039, 36.97300060200007 ], [ 42.40583999200004, 36.964804793000042 ], [ 42.42225290600004, 36.950869892000071 ], [ 42.430459363000068, 36.941031957000064 ], [ 42.439691627000059, 36.929552759000046 ], [ 42.449949698000069, 36.922992442000066 ], [ 42.459181962000059, 36.918891957000028 ], [ 42.473543261000032, 36.921352274000071 ], [ 42.49508521100006, 36.941851833000044 ], [ 42.51149812400007, 36.943491560000041 ], [ 42.51867877400008, 36.922992442000066 ], [ 42.513549739000041, 36.90576892200005 ], [ 42.51149812400007, 36.881977669000037 ], [ 42.51149812400007, 36.87377206900004 ], [ 42.505343282000069, 36.857358225000041 ], [ 42.494059404000041, 36.843403685000055 ], [ 42.493033597000078, 36.836835961000077 ], [ 42.493033597000078, 36.824519959000042 ], [ 42.500214246000041, 36.81959300300008 ], [ 42.55047879500006, 36.816308190000029 ], [ 42.558685251000043, 36.81384448700004 ], [ 42.572020744000042, 36.799882008000054 ], [ 42.577149779000081, 36.78591698300005 ], [ 42.592536886000062, 36.770306001000051 ], [ 42.597665921000043, 36.762088418000076 ], [ 42.624336906000053, 36.75797929600003 ], [ 42.637672399000053, 36.763732005000065 ], [ 42.648956277000025, 36.782630725000047 ], [ 42.666394998000044, 36.786738525000032 ], [ 42.691014368000026, 36.780987543000037 ], [ 42.701272439000036, 36.774414462000038 ], [ 42.702298246000055, 36.76291021600008 ], [ 42.714607932000035, 36.755513717000042 ], [ 42.731020845000046, 36.74647258400006 ], [ 42.751536987000065, 36.732497828000078 ], [ 42.749485373000027, 36.720987295000043 ], [ 42.735124074000055, 36.704540684000051 ], [ 42.734098267000036, 36.697138560000042 ], [ 42.742304724000064, 36.690558297000052 ], [ 42.760769251000056, 36.687267954000049 ], [ 42.767949901000065, 36.690558297000052 ], [ 42.780259586000057, 36.705363098000078 ], [ 42.804878957000028, 36.71523138200007 ], [ 42.817188642000076, 36.69960601400004 ], [ 42.819240257000047, 36.687267954000049 ], [ 42.820266064000066, 36.67821878400008 ], [ 42.832575749000057, 36.674927913000033 ], [ 42.845911241000067, 36.680686845000025 ], [ 42.857195119000039, 36.693025962000036 ], [ 42.869504805000076, 36.696316058000036 ], [ 42.893098368000039, 36.693848499000069 ], [ 42.903356439000049, 36.691380860000038 ], [ 42.951569373000041, 36.685622729000045 ], [ 42.966956480000078, 36.686445346000028 ], [ 42.977214551000031, 36.698783538000043 ], [ 42.99465327200005, 36.702073389000077 ], [ 43.01824683500007, 36.702895829000056 ], [ 43.032608135000032, 36.709475037000061 ], [ 43.059279120000042, 36.716875972000025 ], [ 43.081846876000043, 36.721809533000055 ], [ 43.086975911000025, 36.732497828000078 ], [ 43.095182368000053, 36.744006636000051 ], [ 43.114672703000053, 36.769484282000064 ], [ 43.136214653000025, 36.78591698300005 ], [ 43.144421109000064, 36.801524785000026 ], [ 43.157756602000063, 36.81959300300008 ], [ 43.171092094000073, 36.83273084800004 ], [ 43.182375972000045, 36.845866436000051 ], [ 43.199814693000064, 36.868027625000025 ], [ 43.214175993000026, 36.881977669000037 ], [ 43.245976013000075, 36.882798180000066 ], [ 43.256234084000027, 36.890182387000038 ], [ 43.299317983000037, 36.895104795000066 ], [ 43.315730896000048, 36.889361955000027 ], [ 43.323937353000076, 36.880336620000037 ], [ 43.342401881000058, 36.870489582000062 ], [ 43.364969637000058, 36.860641276000024 ], [ 43.376253516000077, 36.851612546000069 ], [ 43.394718044000058, 36.844224611000072 ], [ 43.40600192200003, 36.838477945000079 ], [ 43.418311607000078, 36.829446598000061 ], [ 43.43985355600006, 36.816308190000029 ], [ 43.454214856000078, 36.803167526000038 ], [ 43.474730998000041, 36.794132012000034 ], [ 43.51884070300008, 36.789203100000066 ], [ 43.55166653100008, 36.794132012000034 ], [ 43.584492358000034, 36.80234616000007 ], [ 43.610137536000025, 36.81302323500006 ], [ 43.633731099000045, 36.822877676000076 ], [ 43.648092399000063, 36.831088740000041 ], [ 43.655273049000073, 36.845045528000071 ], [ 43.662453698000036, 36.862282748000041 ], [ 43.662453698000036, 36.885259662000067 ], [ 43.653221434000045, 36.894284416000062 ], [ 43.634756907000053, 36.90576892200005 ], [ 43.621421414000054, 36.917251701000055 ], [ 43.606034308000062, 36.928732750000052 ], [ 43.596802044000071, 36.941851833000044 ], [ 43.594750429000044, 36.955788384000073 ], [ 43.602956886000072, 36.968083223000065 ], [ 43.625524643000062, 36.969722385000068 ], [ 43.645014978000063, 36.967263629000058 ], [ 43.661427891000073, 36.97300060200007 ], [ 43.689124683000045, 36.982014973000048 ], [ 43.716821475000074, 36.986112062000075 ], [ 43.744518267000046, 36.986112062000075 ], [ 43.808118308000076, 36.986931453000068 ], [ 43.82860239300004, 36.981477214000051 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Salah al-Din", "shapeISO": "IQ-SD", "shapeID": "90741666B48099694344995", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.260471192000068, 33.433313682000062 ], [ 44.344299115000069, 33.494493901000055 ], [ 44.327689607000025, 33.50860461700006 ], [ 44.32127831300005, 33.516622879000067 ], [ 44.314867018000029, 33.521967975000052 ], [ 44.310058548000029, 33.532657175000054 ], [ 44.306852900000081, 33.584748099000024 ], [ 44.32127831300005, 33.599434729000052 ], [ 44.327689607000025, 33.608779465000055 ], [ 44.33089525400004, 33.631469606000053 ], [ 44.33089525400004, 33.650151118000053 ], [ 44.346923490000052, 33.66616061600007 ], [ 44.364554550000037, 33.667494606000048 ], [ 44.386994081000068, 33.670162525000023 ], [ 44.391802551000069, 33.678165784000043 ], [ 44.398213846000033, 33.714171233000059 ], [ 44.401419493000049, 33.739499354000031 ], [ 44.414242082000044, 33.751494276000074 ], [ 44.41744772900006, 33.763487520000069 ], [ 44.414242082000044, 33.776811379000037 ], [ 44.406227964000038, 33.788801080000042 ], [ 44.385391257000038, 33.799457183000072 ], [ 44.383788433000063, 33.81410715800007 ], [ 44.385391257000038, 33.834080355000026 ], [ 44.385391257000038, 33.848724401000027 ], [ 44.386994081000068, 33.863365936000037 ], [ 44.40302231700008, 33.87401274900003 ], [ 44.420653376000075, 33.888649948000079 ], [ 44.431873142000029, 33.905945219000046 ], [ 44.439887260000035, 33.932546477000074 ], [ 44.444695730000035, 33.939195494000046 ], [ 44.460723966000046, 33.94850324500004 ], [ 44.45751831900003, 33.976420391000033 ], [ 44.455915496000046, 33.98971104900005 ], [ 44.439887260000035, 33.997684446000051 ], [ 44.427064671000039, 34.002999629000044 ], [ 44.419050553000034, 34.016286130000026 ], [ 44.406227964000038, 34.024257033000026 ], [ 44.395008199000074, 34.037540207000063 ], [ 44.382185610000079, 34.046837192000055 ], [ 44.359746079000047, 34.052149297000028 ], [ 44.340512196000077, 34.053477271000077 ], [ 44.314867018000029, 34.056133157000033 ], [ 44.300441606000049, 34.062772509000069 ], [ 44.300441606000049, 34.073394389000043 ], [ 44.300441606000049, 34.084014937000063 ], [ 44.300441606000049, 34.101270487000079 ], [ 44.306852900000081, 34.119849453000029 ], [ 44.319675489000076, 34.133117645000027 ], [ 44.324483960000066, 34.145057236000071 ], [ 44.33089525400004, 34.162300335000054 ], [ 44.350129138000057, 34.198101672000064 ], [ 44.362951727000052, 34.211357571000065 ], [ 44.370965845000057, 34.221960789000036 ], [ 44.390199728000027, 34.221960789000036 ], [ 44.404625140000064, 34.223286098000074 ], [ 44.420653376000075, 34.229912327000079 ], [ 44.428667494000081, 34.248462996000058 ], [ 44.43828443600006, 34.264360315000033 ], [ 44.451107025000056, 34.274956859000042 ], [ 44.467135261000067, 34.282903390000058 ], [ 44.479957850000062, 34.28820066000003 ], [ 44.491177615000026, 34.301442375000079 ], [ 44.491177615000026, 34.319977269000049 ], [ 44.491469970000026, 34.358827946000076 ], [ 44.479652672000043, 34.365873222000062 ], [ 44.471774473000039, 34.377794646000041 ], [ 44.473087507000059, 34.392964914000061 ], [ 44.479652672000043, 34.402715778000072 ], [ 44.488843904000078, 34.41138225800006 ], [ 44.492783003000056, 34.420047841000041 ], [ 44.503287268000065, 34.432503043000054 ], [ 44.501974235000034, 34.44874616900006 ], [ 44.499348169000029, 34.455783876000055 ], [ 44.495409069000061, 34.464444856000057 ], [ 44.49409603600003, 34.473104936000027 ], [ 44.489574791000052, 34.499817398000062 ], [ 44.507205851000037, 34.510384183000042 ], [ 44.516822793000074, 34.519629021000071 ], [ 44.520028440000033, 34.531513733000054 ], [ 44.516822793000074, 34.542076498000029 ], [ 44.510411498000053, 34.548677545000032 ], [ 44.507205851000037, 34.560558111000034 ], [ 44.505603027000063, 34.579035619000024 ], [ 44.507205851000037, 34.59882839200003 ], [ 44.513617145000069, 34.606744181000067 ], [ 44.528042558000038, 34.609382609000079 ], [ 44.540865147000034, 34.610701792000043 ], [ 44.55368773500004, 34.609382609000079 ], [ 44.576127266000071, 34.596189628000047 ], [ 44.595361149000041, 34.577715933000036 ], [ 44.611389385000052, 34.560558111000034 ], [ 44.635431739000069, 34.543396749000067 ], [ 44.657871270000044, 34.540756226000042 ], [ 44.669091035000065, 34.555278069000053 ], [ 44.675502329000039, 34.571117190000052 ], [ 44.680310800000029, 34.589592351000078 ], [ 44.683516447000045, 34.609382609000079 ], [ 44.68672209500005, 34.623892468000065 ], [ 44.699544683000056, 34.63312469300007 ], [ 44.723587038000062, 34.643674550000071 ], [ 44.725189861000047, 34.70299248300006 ], [ 44.729998332000036, 34.738562847000026 ], [ 44.742820921000032, 34.754366984000058 ], [ 44.757246333000069, 34.764901396000027 ], [ 44.776480217000028, 34.782016948000035 ], [ 44.797316923000039, 34.801761250000027 ], [ 44.814947983000081, 34.855704882000055 ], [ 44.869443986000078, 34.867541436000067 ], [ 44.901500458000044, 34.867541436000067 ], [ 44.912720223000065, 34.872801580000043 ], [ 44.91432304600005, 34.895153438000079 ], [ 44.92073434100007, 34.918813484000054 ], [ 44.933556930000066, 34.938524980000068 ], [ 44.936762577000081, 34.958231740000031 ], [ 44.931954106000035, 34.98187359800005 ], [ 44.931954106000035, 35.002882854000063 ], [ 44.923939988000029, 35.030449317000034 ], [ 44.903103281000028, 35.052758219000054 ], [ 44.879060927000069, 35.071125681000069 ], [ 44.840593161000072, 35.089489010000079 ], [ 44.80853668900005, 35.09473491600005 ], [ 44.768466098000033, 35.09473491600005 ], [ 44.68672209500005, 35.102603142000078 ], [ 44.649857152000038, 35.102603142000078 ], [ 44.609786562000068, 35.10391443900005 ], [ 44.56971597200004, 35.11047060900006 ], [ 44.544070794000049, 35.120959384000059 ], [ 44.528042558000038, 35.131446808000078 ], [ 44.507205851000037, 35.149796551000065 ], [ 44.490068760000042, 35.157969887000036 ], [ 44.487971968000068, 35.158969871000068 ], [ 44.473546555000041, 35.135379244000035 ], [ 44.467135261000067, 35.109159418000047 ], [ 44.460723966000046, 35.07374926600005 ], [ 44.451107025000056, 35.05013395800006 ], [ 44.414242082000044, 34.988439570000025 ], [ 44.380582786000048, 34.930640950000054 ], [ 44.318072666000035, 34.810973640000043 ], [ 44.271590781000043, 34.749099274000059 ], [ 44.252356898000073, 34.743831228000033 ], [ 44.229917367000041, 34.753050088000066 ], [ 44.212286308000046, 34.770168098000056 ], [ 44.19305242400003, 34.783333382000023 ], [ 44.175421365000034, 34.795180341000048 ], [ 44.154584658000033, 34.804393466000079 ], [ 44.140159246000053, 34.814921491000064 ], [ 44.106499950000057, 34.841235669000071 ], [ 44.05200394700006, 34.878061388000049 ], [ 44.024755946000028, 34.888579993000064 ], [ 44.000713592000068, 34.893838791000064 ], [ 43.963848649000056, 34.900411815000041 ], [ 43.928586530000075, 34.906984313000066 ], [ 43.906146999000043, 34.916184927000074 ], [ 43.883707469000058, 34.937211028000036 ], [ 43.869282056000031, 34.952977067000063 ], [ 43.853253820000077, 34.973993737000058 ], [ 43.805169112000044, 35.018636257000026 ], [ 43.774715464000053, 35.051446099000032 ], [ 43.750673110000037, 35.067190144000051 ], [ 43.72182228500003, 35.077684487000056 ], [ 43.689765813000065, 35.085554358000024 ], [ 43.665723459000048, 35.093423471000051 ], [ 43.632064163000052, 35.101291824000043 ], [ 43.616035927000041, 35.106536971000025 ], [ 43.579170984000029, 35.120959384000059 ], [ 43.556731453000054, 35.131446808000078 ], [ 43.513455216000068, 35.14586481200007 ], [ 43.441328154000075, 35.164211304000048 ], [ 43.420491447000074, 35.16683189400004 ], [ 43.399654740000074, 35.170762620000062 ], [ 43.374009563000072, 35.17862350300004 ], [ 43.353172856000072, 35.189103497000076 ], [ 43.345158738000066, 35.20482095400007 ], [ 43.337144620000061, 35.223154144000034 ], [ 43.324322031000065, 35.241483192000032 ], [ 43.301882500000033, 35.283362607000072 ], [ 43.289059911000038, 35.304294196000058 ], [ 43.282648617000063, 35.319989336000049 ], [ 43.274634499000058, 35.34221890200007 ], [ 43.266620381000052, 35.360521013000039 ], [ 43.253797792000057, 35.382739429000026 ], [ 43.239372380000077, 35.402338833000044 ], [ 43.224946967000051, 35.465024908000032 ], [ 43.232961085000056, 35.472857236000038 ], [ 43.252194969000072, 35.481993987000067 ], [ 43.271428852000042, 35.485909420000041 ], [ 43.303485324000064, 35.492434717000037 ], [ 43.319513560000075, 35.497654573000034 ], [ 43.340350267000076, 35.502874090000034 ], [ 43.357981326000072, 35.510702730000048 ], [ 43.370803915000067, 35.518530607000059 ], [ 43.369201092000026, 35.52896658800006 ], [ 43.361186974000077, 35.540705445000071 ], [ 43.351570032000041, 35.548530395000057 ], [ 43.332336149000071, 35.556354581000051 ], [ 43.314705089000029, 35.568089429000054 ], [ 43.309896618000039, 35.578518963000079 ], [ 43.309896618000039, 35.591553970000064 ], [ 43.313102266000044, 35.603283662000024 ], [ 43.321116384000049, 35.620223516000067 ], [ 43.329130502000055, 35.63455443600003 ], [ 43.33554179600003, 35.646277823000048 ], [ 43.340350267000076, 35.657999491000055 ], [ 43.341953090000061, 35.672323637000034 ], [ 43.343555914000035, 35.691852421000078 ], [ 43.341953090000061, 35.711376425000026 ], [ 43.33554179600003, 35.725690990000032 ], [ 43.322277968000037, 35.738325517000078 ], [ 43.321116384000049, 35.732196760000079 ], [ 43.317910736000044, 35.721787273000075 ], [ 43.300279677000049, 35.707472007000035 ], [ 43.273031675000027, 35.694455898000058 ], [ 43.248989321000067, 35.686645213000077 ], [ 43.221741320000035, 35.677531780000038 ], [ 43.191287672000044, 35.663208568000073 ], [ 43.164039670000079, 35.648882787000048 ], [ 43.09832390300005, 35.637159782000026 ], [ 42.997346015000062, 35.637159782000026 ], [ 42.885148363000042, 35.556354581000051 ], [ 42.859503185000051, 35.542009656000062 ], [ 42.83866647900004, 35.526357720000078 ], [ 42.81462412500008, 35.501569243000063 ], [ 42.796993065000038, 35.478078364000055 ], [ 42.795390241000064, 35.404951727000025 ], [ 42.805007183000043, 35.381432633000031 ], [ 42.809815654000033, 35.364442355000051 ], [ 42.809815654000033, 35.340911450000078 ], [ 42.816226948000065, 35.323912644000075 ], [ 42.84347494900004, 35.295137292000049 ], [ 42.905985070000042, 35.228391437000028 ], [ 42.973303661000045, 35.143243547000054 ], [ 42.995743192000077, 35.105471578000049 ], [ 42.419728459000055, 35.095226702000048 ], [ 42.422232871000062, 34.931133724000063 ], [ 42.442268166000076, 34.558660635000024 ], [ 42.770346122000035, 34.374895940000044 ], [ 42.923115247000055, 34.515336902000058 ], [ 42.920610835000048, 34.228007339000044 ], [ 42.998247604000028, 34.147212816000035 ], [ 43.045831429000032, 34.12233739800007 ], [ 43.103432903000055, 34.08708469100003 ], [ 43.115954962000046, 34.055967167000063 ], [ 43.115954962000046, 34.022762546000024 ], [ 43.183574083000053, 34.004079235000063 ], [ 43.183574083000053, 33.968777321000061 ], [ 43.326325560000043, 33.84406520400006 ], [ 43.521669687000042, 33.79621054200004 ], [ 43.551722630000029, 33.79412929700004 ], [ 43.571757925000043, 33.792048002000058 ], [ 43.60181086700004, 33.792048002000058 ], [ 43.629359398000076, 33.792048002000058 ], [ 43.671934400000055, 33.789966656000047 ], [ 43.70449175400006, 33.773314066000069 ], [ 43.732040285000039, 33.750411470000074 ], [ 44.020047652000073, 33.742081736000046 ], [ 44.045091770000056, 33.725419841000075 ], [ 44.072640301000035, 33.700420932000043 ], [ 44.082657949000065, 33.671246343000064 ], [ 44.082657949000065, 33.631636423000032 ], [ 44.10519765600003, 33.614953109000055 ], [ 44.132746186000077, 33.598266566000063 ], [ 44.165303541000071, 33.577403846000038 ], [ 44.215391778000026, 33.508521089000055 ], [ 44.260471192000068, 33.433313682000062 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Diyala", "shapeISO": "IQ-DI", "shapeID": "90741666B43715208964458", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.568113148000066, 33.129567433000034 ], [ 44.579525252000053, 33.115391987000066 ], [ 44.582602673000054, 33.107658961000027 ], [ 44.591834937000044, 33.113673596000069 ], [ 44.608247851000044, 33.118828669000038 ], [ 44.634918836000054, 33.116251170000055 ], [ 44.647228521000045, 33.105940419000035 ], [ 44.644151100000045, 33.08789369200008 ], [ 44.645176907000064, 33.071562508000056 ], [ 44.656460785000036, 33.062965931000065 ], [ 44.673899506000055, 33.057807582000066 ], [ 44.693389841000055, 33.06124651500005 ], [ 44.706725333000065, 33.067264325000053 ], [ 44.719035019000046, 33.069843260000027 ], [ 44.732370511000056, 33.073281723000036 ], [ 44.749809232000075, 33.092190867000056 ], [ 44.792893130000039, 33.130855997000026 ], [ 44.830847993000077, 33.159199607000062 ], [ 44.844183486000077, 33.183241550000048 ], [ 44.855467364000049, 33.208993454000051 ], [ 44.862648013000069, 33.229589525000051 ], [ 44.87085447000004, 33.252754308000078 ], [ 44.892396420000068, 33.282773592000069 ], [ 44.906757719000041, 33.291348635000077 ], [ 44.944712582000079, 33.300780209000038 ], [ 44.97035776000007, 33.306781589000025 ], [ 44.999080359000061, 33.311068036000052 ], [ 45.018570694000061, 33.321354649000057 ], [ 45.042164257000081, 33.325640379000049 ], [ 45.101661069000045, 33.307638895000025 ], [ 45.140641739000046, 33.293920984000067 ], [ 45.171415953000064, 33.282773592000069 ], [ 45.191932095000027, 33.273340072000053 ], [ 45.218603080000037, 33.26047453800004 ], [ 45.238093415000037, 33.249322875000075 ], [ 45.253480521000029, 33.23988574200007 ], [ 45.270919242000048, 33.227873371000044 ], [ 45.293486998000049, 33.220150261000072 ], [ 45.332467668000049, 33.21757573900004 ], [ 45.41042900900004, 33.215859350000073 ], [ 45.45453871400008, 33.206418605000067 ], [ 45.468900014000042, 33.198693601000059 ], [ 45.495570998000062, 33.198693601000059 ], [ 45.525319405000062, 33.186675574000049 ], [ 45.547887161000062, 33.175514502000055 ], [ 45.565325882000081, 33.16692809400007 ], [ 45.578661374000035, 33.159199607000062 ], [ 45.600203323000073, 33.155764506000025 ], [ 45.619693658000074, 33.160917107000046 ], [ 45.641235608000045, 33.17379728700007 ], [ 45.679190471000027, 33.203843679000045 ], [ 45.692525963000037, 33.220150261000072 ], [ 45.718171141000028, 33.249322875000075 ], [ 45.727403405000075, 33.265620979000062 ], [ 45.738687283000047, 33.292206093000061 ], [ 45.746893740000075, 33.312782555000069 ], [ 45.757151811000028, 33.334211208000056 ], [ 45.769461496000076, 33.347922779000044 ], [ 45.789977638000039, 33.350493459000063 ], [ 45.817674430000068, 33.352207203000034 ], [ 45.84537122200004, 33.368486089000044 ], [ 45.853577679000068, 33.387331520000032 ], [ 45.86178413600004, 33.399321941000039 ], [ 45.87511962800005, 33.426722405000078 ], [ 45.887429313000041, 33.450690718000033 ], [ 45.89460996300005, 33.458393412000078 ], [ 45.917177719000051, 33.466951159000075 ], [ 45.940771283000061, 33.475508061000028 ], [ 45.966416461000051, 33.48577522800008 ], [ 45.982829374000062, 33.500318298000025 ], [ 45.992061638000052, 33.514858925000055 ], [ 46.001293902000043, 33.529397109000058 ], [ 46.015655202000062, 33.538802866000026 ], [ 46.019319516000053, 33.538320615000032 ], [ 46.001037450000069, 33.562796940000055 ], [ 45.978497743000048, 33.569057345000033 ], [ 45.963471272000049, 33.556536081000047 ], [ 45.943435977000036, 33.539838239000062 ], [ 45.923400682000079, 33.53357571600003 ], [ 45.888338916000066, 33.535663274000058 ], [ 45.895852151000042, 33.554449027000032 ], [ 45.915887446000056, 33.575317296000037 ], [ 45.938427153000077, 33.589922083000033 ], [ 45.958462448000034, 33.598266566000063 ], [ 45.978497743000048, 33.61703870000008 ], [ 45.970984508000072, 33.633721610000066 ], [ 45.945940389000043, 33.64206185300003 ], [ 45.920896270000071, 33.658739917000048 ], [ 45.920896270000071, 33.671246343000064 ], [ 45.915887446000056, 33.685834875000069 ], [ 45.888338916000066, 33.685834875000069 ], [ 45.855781561000072, 33.685834875000069 ], [ 45.813206559000037, 33.677498874000037 ], [ 45.798180088000038, 33.660824447000039 ], [ 45.778144793000081, 33.648316506000072 ], [ 45.753100674000052, 33.664993357000071 ], [ 45.775640381000073, 33.679582950000054 ], [ 45.773135969000066, 33.687918749000062 ], [ 45.758109498000067, 33.698337362000075 ], [ 45.725552143000073, 33.717087680000077 ], [ 45.708021260000066, 33.733751193000046 ], [ 45.685481553000045, 33.746246704000043 ], [ 45.670455082000046, 33.762904554000045 ], [ 45.657933023000055, 33.783722314000045 ], [ 45.655428611000048, 33.798291736000067 ], [ 45.642906551000067, 33.819100895000076 ], [ 45.620366844000046, 33.833664294000073 ], [ 45.602835961000039, 33.848225213000035 ], [ 45.587809490000041, 33.879418825000073 ], [ 45.577791842000067, 33.900208234000047 ], [ 45.557756547000054, 33.925148836000062 ], [ 45.542730076000055, 33.943849496000041 ], [ 45.522694781000041, 33.981238494000024 ], [ 45.522241983000072, 34.000129472000026 ], [ 45.500700034000033, 34.005231906000063 ], [ 45.478132278000032, 33.999279036000075 ], [ 45.462745171000051, 33.988222599000039 ], [ 45.439151608000032, 33.991624733000037 ], [ 45.43094515100006, 34.004381522000074 ], [ 45.42786772900007, 34.009483701000079 ], [ 45.415558044000079, 34.029039215000068 ], [ 45.435048379000079, 34.047740273000045 ], [ 45.455564521000042, 34.055389518000027 ], [ 45.467874207000079, 34.06303807200004 ], [ 45.47402904900008, 34.075784128000066 ], [ 45.485312927000052, 34.089377808000052 ], [ 45.488390349000042, 34.098722197000029 ], [ 45.492493577000062, 34.120804832000033 ], [ 45.503777455000034, 34.138636599000051 ], [ 45.515061333000062, 34.153069083000048 ], [ 45.527371019000043, 34.159011154000041 ], [ 45.541732318000072, 34.168347849000043 ], [ 45.554042004000053, 34.177683511000055 ], [ 45.577635567000073, 34.179380794000053 ], [ 45.584816217000025, 34.187018141000067 ], [ 45.583790410000063, 34.193806314000028 ], [ 45.580712988000073, 34.216712363000056 ], [ 45.571480724000025, 34.22264995200004 ], [ 45.562248460000035, 34.234523875000036 ], [ 45.560196846000053, 34.247244077000062 ], [ 45.564300075000062, 34.254027399000051 ], [ 45.574558146000072, 34.260810174000028 ], [ 45.574558146000072, 34.273526403000062 ], [ 45.577635567000073, 34.289630866000039 ], [ 45.595074288000035, 34.299800516000062 ], [ 45.597125902000073, 34.31759444000005 ], [ 45.597125902000073, 34.326913562000072 ], [ 45.593022674000053, 34.344701739000072 ], [ 45.584816217000025, 34.357405271000061 ], [ 45.573532339000053, 34.365873222000062 ], [ 45.560196846000053, 34.376880279000034 ], [ 45.559171039000034, 34.381113377000077 ], [ 45.532500054000081, 34.387039356000059 ], [ 45.518138755000052, 34.387885890000064 ], [ 45.486338734000071, 34.396350760000075 ], [ 45.481209699000033, 34.403968411000051 ], [ 45.473003242000061, 34.412431654000045 ], [ 45.47402904900008, 34.423432590000061 ], [ 45.476080663000062, 34.441200276000075 ], [ 45.473003242000061, 34.458964184000024 ], [ 45.455564521000042, 34.476724313000034 ], [ 45.44735806400007, 34.491098793000049 ], [ 45.44735806400007, 34.503780100000029 ], [ 45.461719364000032, 34.513923756000054 ], [ 45.482235506000052, 34.516459478000058 ], [ 45.501725841000052, 34.518995122000035 ], [ 45.520190369000034, 34.524066178000055 ], [ 45.527371019000043, 34.534207365000043 ], [ 45.529422633000081, 34.551106599000036 ], [ 45.529422633000081, 34.611071160000051 ], [ 45.535577476000071, 34.626266567000073 ], [ 45.543783932000053, 34.639771260000032 ], [ 45.558145232000072, 34.637239297000065 ], [ 45.567377496000063, 34.614448157000027 ], [ 45.579687181000054, 34.603472413000077 ], [ 45.602254938000044, 34.595028545000048 ], [ 45.621745273000045, 34.592495218000067 ], [ 45.672009821000074, 34.594184111000061 ], [ 45.704835648000028, 34.594184111000061 ], [ 45.723300176000066, 34.584894771000052 ], [ 45.736635669000066, 34.577293630000042 ], [ 45.741764704000047, 34.587428331000069 ], [ 45.741764704000047, 34.606849720000071 ], [ 45.740738897000028, 34.622045899000057 ], [ 45.738687283000047, 34.636395293000078 ], [ 45.738687283000047, 34.656649034000054 ], [ 45.733558247000076, 34.669305109000049 ], [ 45.723300176000066, 34.68195925200007 ], [ 45.721248562000028, 34.700515162000045 ], [ 45.717145334000065, 34.708105018000026 ], [ 45.705861455000047, 34.724968870000055 ], [ 45.697654999000065, 34.738457476000065 ], [ 45.682267892000027, 34.744358048000038 ], [ 45.669958207000036, 34.75447233500006 ], [ 45.668932400000074, 34.767113452000046 ], [ 45.674061435000056, 34.780595176000077 ], [ 45.682267892000027, 34.789020135000044 ], [ 45.690474349000056, 34.799128949000078 ], [ 45.697654999000065, 34.80502518600008 ], [ 45.703809841000066, 34.813447649000068 ], [ 45.704835648000028, 34.837025965000066 ], [ 45.706887262000066, 34.857230578000042 ], [ 45.720222755000066, 34.864806028000032 ], [ 45.741764704000047, 34.868172671000025 ], [ 45.754074389000039, 34.869014311000058 ], [ 45.775616339000067, 34.877430229000026 ], [ 45.788951831000077, 34.88836963500006 ], [ 45.795106674000067, 34.89762491700003 ], [ 45.794080867000048, 34.911926485000038 ], [ 45.794531307000057, 34.942209687000059 ], [ 45.795106674000067, 34.980875524000055 ], [ 45.791003445000058, 35.003565564000041 ], [ 45.78279698800003, 35.016168424000057 ], [ 45.771513110000058, 35.038008780000041 ], [ 45.771513110000058, 35.119438595000076 ], [ 45.771513110000058, 35.155510341000024 ], [ 45.764332460000048, 35.172282450000068 ], [ 45.747919547000038, 35.174797968000064 ], [ 45.733558247000076, 35.16725118100004 ], [ 45.723300176000066, 35.159703692000051 ], [ 45.706887262000066, 35.158026378000045 ], [ 45.702784034000047, 35.143767806000028 ], [ 45.697654999000065, 35.128667773000075 ], [ 45.684319506000065, 35.104334050000034 ], [ 45.667906592000065, 35.095941426000024 ], [ 45.652519486000074, 35.088387326000031 ], [ 45.637132379000036, 35.076635113000066 ], [ 45.630977537000035, 35.060682973000041 ], [ 45.608409780000045, 35.043048034000037 ], [ 45.607383973000026, 35.025409287000059 ], [ 45.618667851000055, 35.009447140000077 ], [ 45.628925922000064, 35.001885036000033 ], [ 45.630977537000035, 34.990960763000032 ], [ 45.615590430000054, 34.97835402000004 ], [ 45.612513009000054, 34.956497735000028 ], [ 45.601229130000036, 34.950612354000043 ], [ 45.580712988000073, 34.943044816000054 ], [ 45.563274268000043, 34.925384509000025 ], [ 45.544809740000062, 34.910244077000073 ], [ 45.540706511000053, 34.877430229000026 ], [ 45.535577476000071, 34.865647702000047 ], [ 45.526345212000081, 34.857230578000042 ], [ 45.514035526000043, 34.847128892000057 ], [ 45.501725841000052, 34.837025965000066 ], [ 45.48736454200008, 34.822711364000043 ], [ 45.479158085000051, 34.80502518600008 ], [ 45.476080663000062, 34.788177677000078 ], [ 45.469925821000061, 34.755315136000036 ], [ 45.469925821000061, 34.734242523000034 ], [ 45.446332257000051, 34.715694177000046 ], [ 45.421712887000069, 34.698828433000074 ], [ 45.39811932300006, 34.696298275000061 ], [ 45.369396724000069, 34.696298275000061 ], [ 45.350932196000031, 34.692924611000024 ], [ 45.337596704000077, 34.681115702000056 ], [ 45.326312826000049, 34.670148779000044 ], [ 45.306822491000048, 34.652429912000059 ], [ 45.284254734000058, 34.633863227000063 ], [ 45.266816014000028, 34.637239297000065 ], [ 45.258609557000057, 34.649054461000048 ], [ 45.251428907000047, 34.66086794000006 ], [ 45.252454714000066, 34.679428578000056 ], [ 45.251428907000047, 34.698828433000074 ], [ 45.249377293000066, 34.714850971000033 ], [ 45.243222450000076, 34.723282640000036 ], [ 45.240145029000075, 34.735928530000024 ], [ 45.236041800000066, 34.755315136000036 ], [ 45.224757922000038, 34.768798788000026 ], [ 45.213474044000066, 34.775539787000071 ], [ 45.205267587000037, 34.78480776300006 ], [ 45.207319201000075, 34.801655959000072 ], [ 45.200138552000055, 34.812605441000073 ], [ 45.195009516000027, 34.828605913000047 ], [ 45.195009516000027, 34.842077583000048 ], [ 45.187828866000075, 34.853863487000069 ], [ 45.168338531000074, 34.864806028000032 ], [ 45.151925618000064, 34.863964346000046 ], [ 45.140641739000046, 34.853021693000073 ], [ 45.117048176000026, 34.847970746000044 ], [ 45.106790105000073, 34.842077583000048 ], [ 45.091402998000035, 34.83618399900007 ], [ 45.081144927000025, 34.847128892000057 ], [ 45.077041699000063, 34.860597531000053 ], [ 45.067809435000072, 34.872380781000061 ], [ 45.060628785000063, 34.884162343000071 ], [ 45.046267486000033, 34.895100853000031 ], [ 45.030880379000052, 34.899307584000042 ], [ 45.012415851000071, 34.886686744000031 ], [ 44.997028744000033, 34.874063965000062 ], [ 44.982667445000061, 34.865647702000047 ], [ 44.95702226700007, 34.861439248000067 ], [ 44.941635161000079, 34.863122655000041 ], [ 44.928299668000079, 34.865647702000047 ], [ 44.912720223000065, 34.872801580000043 ], [ 44.901500458000044, 34.867541436000067 ], [ 44.869443986000078, 34.867541436000067 ], [ 44.814947983000081, 34.855704882000055 ], [ 44.797316923000039, 34.801761250000027 ], [ 44.776480217000028, 34.782016948000035 ], [ 44.757246333000069, 34.764901396000027 ], [ 44.742820921000032, 34.754366984000058 ], [ 44.729998332000036, 34.738562847000026 ], [ 44.725189861000047, 34.70299248300006 ], [ 44.723587038000062, 34.643674550000071 ], [ 44.699544683000056, 34.63312469300007 ], [ 44.68672209500005, 34.623892468000065 ], [ 44.683516447000045, 34.609382609000079 ], [ 44.680310800000029, 34.589592351000078 ], [ 44.675502329000039, 34.571117190000052 ], [ 44.669091035000065, 34.555278069000053 ], [ 44.657871270000044, 34.540756226000042 ], [ 44.635431739000069, 34.543396749000067 ], [ 44.611389385000052, 34.560558111000034 ], [ 44.595361149000041, 34.577715933000036 ], [ 44.576127266000071, 34.596189628000047 ], [ 44.55368773500004, 34.609382609000079 ], [ 44.540865147000034, 34.610701792000043 ], [ 44.528042558000038, 34.609382609000079 ], [ 44.513617145000069, 34.606744181000067 ], [ 44.507205851000037, 34.59882839200003 ], [ 44.505603027000063, 34.579035619000024 ], [ 44.507205851000037, 34.560558111000034 ], [ 44.510411498000053, 34.548677545000032 ], [ 44.516822793000074, 34.542076498000029 ], [ 44.520028440000033, 34.531513733000054 ], [ 44.516822793000074, 34.519629021000071 ], [ 44.507205851000037, 34.510384183000042 ], [ 44.489574791000052, 34.499817398000062 ], [ 44.49409603600003, 34.473104936000027 ], [ 44.495409069000061, 34.464444856000057 ], [ 44.499348169000029, 34.455783876000055 ], [ 44.501974235000034, 34.44874616900006 ], [ 44.503287268000065, 34.432503043000054 ], [ 44.492783003000056, 34.420047841000041 ], [ 44.488843904000078, 34.41138225800006 ], [ 44.479652672000043, 34.402715778000072 ], [ 44.473087507000059, 34.392964914000061 ], [ 44.471774473000039, 34.377794646000041 ], [ 44.479652672000043, 34.365873222000062 ], [ 44.491469970000026, 34.358827946000076 ], [ 44.491177615000026, 34.319977269000049 ], [ 44.491177615000026, 34.301442375000079 ], [ 44.479957850000062, 34.28820066000003 ], [ 44.467135261000067, 34.282903390000058 ], [ 44.451107025000056, 34.274956859000042 ], [ 44.43828443600006, 34.264360315000033 ], [ 44.428667494000081, 34.248462996000058 ], [ 44.420653376000075, 34.229912327000079 ], [ 44.404625140000064, 34.223286098000074 ], [ 44.390199728000027, 34.221960789000036 ], [ 44.370965845000057, 34.221960789000036 ], [ 44.362951727000052, 34.211357571000065 ], [ 44.350129138000057, 34.198101672000064 ], [ 44.33089525400004, 34.162300335000054 ], [ 44.324483960000066, 34.145057236000071 ], [ 44.319675489000076, 34.133117645000027 ], [ 44.306852900000081, 34.119849453000029 ], [ 44.300441606000049, 34.101270487000079 ], [ 44.300441606000049, 34.084014937000063 ], [ 44.300441606000049, 34.073394389000043 ], [ 44.300441606000049, 34.062772509000069 ], [ 44.314867018000029, 34.056133157000033 ], [ 44.340512196000077, 34.053477271000077 ], [ 44.359746079000047, 34.052149297000028 ], [ 44.382185610000079, 34.046837192000055 ], [ 44.395008199000074, 34.037540207000063 ], [ 44.406227964000038, 34.024257033000026 ], [ 44.419050553000034, 34.016286130000026 ], [ 44.427064671000039, 34.002999629000044 ], [ 44.439887260000035, 33.997684446000051 ], [ 44.455915496000046, 33.98971104900005 ], [ 44.45751831900003, 33.976420391000033 ], [ 44.460723966000046, 33.94850324500004 ], [ 44.444695730000035, 33.939195494000046 ], [ 44.439887260000035, 33.932546477000074 ], [ 44.431873142000029, 33.905945219000046 ], [ 44.420653376000075, 33.888649948000079 ], [ 44.40302231700008, 33.87401274900003 ], [ 44.386994081000068, 33.863365936000037 ], [ 44.385391257000038, 33.848724401000027 ], [ 44.385391257000038, 33.834080355000026 ], [ 44.383788433000063, 33.81410715800007 ], [ 44.385391257000038, 33.799457183000072 ], [ 44.406227964000038, 33.788801080000042 ], [ 44.414242082000044, 33.776811379000037 ], [ 44.41744772900006, 33.763487520000069 ], [ 44.414242082000044, 33.751494276000074 ], [ 44.401419493000049, 33.739499354000031 ], [ 44.398213846000033, 33.714171233000059 ], [ 44.391802551000069, 33.678165784000043 ], [ 44.386994081000068, 33.670162525000023 ], [ 44.364554550000037, 33.667494606000048 ], [ 44.346923490000052, 33.66616061600007 ], [ 44.33089525400004, 33.650151118000053 ], [ 44.33089525400004, 33.631469606000053 ], [ 44.327689607000025, 33.608779465000055 ], [ 44.32127831300005, 33.599434729000052 ], [ 44.306852900000081, 33.584748099000024 ], [ 44.310058548000029, 33.532657175000054 ], [ 44.314867018000029, 33.521967975000052 ], [ 44.32127831300005, 33.516622879000067 ], [ 44.327689607000025, 33.50860461700006 ], [ 44.344299115000069, 33.494493901000055 ], [ 44.345320667000067, 33.495239195000067 ], [ 44.55368773500004, 33.492565863000038 ], [ 44.590552678000051, 33.457805036000025 ], [ 44.593758326000057, 33.437744371000065 ], [ 44.595361149000041, 33.409651647000032 ], [ 44.598566796000057, 33.385564935000048 ], [ 44.596963973000072, 33.329336652000052 ], [ 44.598566796000057, 33.318622385000026 ], [ 44.592155502000026, 33.306567261000055 ], [ 44.580935737000061, 33.295850195000071 ], [ 44.56490750100005, 33.289151361000052 ], [ 44.542467970000075, 33.283791923000024 ], [ 44.523234087000048, 33.279772128000047 ], [ 44.479957850000062, 33.275752148000038 ], [ 44.483163497000078, 33.275752148000038 ], [ 44.492780439000057, 33.256989796000028 ], [ 44.492780439000057, 33.240904572000034 ], [ 44.495986086000073, 33.224816388000079 ], [ 44.507205851000037, 33.212748308000073 ], [ 44.528042558000038, 33.202019728000039 ], [ 44.545673617000034, 33.192631142000039 ], [ 44.556893383000045, 33.176534082000046 ], [ 44.566510324000035, 33.142989042000067 ], [ 44.568113148000066, 33.129567433000034 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Kirkuk", "shapeISO": "IQ-KI", "shapeID": "90741666B18027903150762", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.490068760000042, 35.157969887000036 ], [ 44.530947676000039, 35.173055456000043 ], [ 44.553487383000061, 35.177149645000043 ], [ 44.591053561000081, 35.183290542000066 ], [ 44.606080032000079, 35.18943097500005 ], [ 44.621106503000078, 35.201710449000075 ], [ 44.641141798000035, 35.222172114000045 ], [ 44.658672682000031, 35.236492210000051 ], [ 44.676203565000037, 35.252854939000031 ], [ 44.681212389000052, 35.273303707000025 ], [ 44.686221212000078, 35.29579139100008 ], [ 44.693734448000043, 35.326446347000058 ], [ 44.706256507000035, 35.338705076000053 ], [ 44.716274155000065, 35.357089683000027 ], [ 44.728796214000056, 35.377512117000038 ], [ 44.756344745000035, 35.40201221600006 ], [ 44.771371216000034, 35.414259474000062 ], [ 44.78890209900004, 35.426504871000077 ], [ 44.811441806000062, 35.436707947000059 ], [ 44.82646827800005, 35.455070225000043 ], [ 44.82646827800005, 35.471388733000026 ], [ 44.818955042000027, 35.493821274000027 ], [ 44.793910923000055, 35.524401013000045 ], [ 44.778884452000057, 35.546818752000036 ], [ 44.756344745000035, 35.57534135800006 ], [ 44.751335921000077, 35.591635432000032 ], [ 44.74883150900007, 35.620142083000076 ], [ 44.74883150900007, 35.652708673000063 ], [ 44.763857981000058, 35.66695238300008 ], [ 44.776380040000049, 35.681193552000025 ], [ 44.781388864000064, 35.699499892000063 ], [ 44.763857981000058, 35.713735252000049 ], [ 44.746327097000062, 35.732034122000073 ], [ 44.731300626000063, 35.748296255000071 ], [ 44.716274155000065, 35.762522896000064 ], [ 44.706256507000035, 35.782842257000027 ], [ 44.716274155000065, 35.807218636000073 ], [ 44.738813862000029, 35.821434736000072 ], [ 44.738813862000029, 35.841739035000046 ], [ 44.731300626000063, 35.862038138000059 ], [ 44.71126533100005, 35.876244418000056 ], [ 44.701532801000042, 35.881501657000058 ], [ 44.696238860000051, 35.884361148000039 ], [ 44.666185917000064, 35.896534685000063 ], [ 44.638637387000074, 35.902620751000029 ], [ 44.621583343000054, 35.907651546000068 ], [ 44.600041394000073, 35.907651546000068 ], [ 44.576447831000053, 35.904328011000075 ], [ 44.566189760000043, 35.895187572000054 ], [ 44.557983303000071, 35.890201433000072 ], [ 44.543622003000053, 35.870253737000041 ], [ 44.517976826000051, 35.868591203000051 ], [ 44.506692947000033, 35.874409922000041 ], [ 44.487202612000033, 35.881059363000077 ], [ 44.468738084000051, 35.881059363000077 ], [ 44.44309290700005, 35.881059363000077 ], [ 44.41334450100004, 35.880228213000066 ], [ 44.391802551000069, 35.869422474000032 ], [ 44.372312216000068, 35.85196393700005 ], [ 44.348718653000049, 35.848638065000046 ], [ 44.298454105000076, 35.850301019000028 ], [ 44.262550856000075, 35.854458249000061 ], [ 44.244086328000037, 35.86194071500006 ], [ 44.105602369000053, 35.864434713000037 ], [ 44.095344298000043, 35.856121080000037 ], [ 44.075853962000053, 35.836996416000034 ], [ 44.060466856000062, 35.826184783000031 ], [ 44.035847485000033, 35.820362525000064 ], [ 44.018408765000061, 35.821194302000038 ], [ 44.008150693000061, 35.830343278000043 ], [ 44.000970044000042, 35.833669917000066 ], [ 43.985582937000061, 35.842817454000055 ], [ 43.97224744500005, 35.84946954600008 ], [ 43.953782917000069, 35.853626821000034 ], [ 43.94044742400007, 35.861109365000061 ], [ 43.915828054000031, 35.866097335000063 ], [ 43.89326029700004, 35.866097335000063 ], [ 43.838892521000048, 35.867759922000062 ], [ 43.829660257000057, 35.857783877000031 ], [ 43.816324764000058, 35.84032277600005 ], [ 43.804015079000067, 35.831174951000037 ], [ 43.793757008000057, 35.818698944000062 ], [ 43.779395709000028, 35.805389042000058 ], [ 43.773240866000037, 35.786252150000053 ], [ 43.765034409000066, 35.770439937000049 ], [ 43.755802145000075, 35.747964541000044 ], [ 43.748621495000066, 35.716321747000052 ], [ 43.738363424000056, 35.692997962000049 ], [ 43.738363424000056, 35.672167387000059 ], [ 43.735286003000056, 35.657999491000055 ], [ 43.726053739000065, 35.644662703000051 ], [ 43.720924703000037, 35.625487170000042 ], [ 43.713744054000074, 35.609643043000062 ], [ 43.711692440000036, 35.59880051600004 ], [ 43.704511790000026, 35.563760774000059 ], [ 43.695279526000036, 35.556250264000028 ], [ 43.685021455000026, 35.545400506000078 ], [ 43.683995648000064, 35.52787087400003 ], [ 43.682969841000045, 35.504492072000062 ], [ 43.669634348000045, 35.501151687000061 ], [ 43.648092399000063, 35.502821897000047 ], [ 43.636808521000034, 35.511172424000051 ], [ 43.629627871000025, 35.519522083000027 ], [ 43.614240764000044, 35.52870570500005 ], [ 43.599879465000072, 35.529540527000051 ], [ 43.575260094000043, 35.527036034000048 ], [ 43.552692338000043, 35.525366328000075 ], [ 43.547563302000071, 35.517017277000036 ], [ 43.546537495000052, 35.50198679600004 ], [ 43.546537495000052, 35.484447681000063 ], [ 43.544485881000071, 35.459385160000068 ], [ 43.53525361700008, 35.448522309000055 ], [ 43.527047160000052, 35.460220703000061 ], [ 43.516789089000042, 35.467740202000073 ], [ 43.510634247000041, 35.476929745000064 ], [ 43.507556825000052, 35.486953503000052 ], [ 43.49216971900006, 35.496140850000074 ], [ 43.473705191000079, 35.501151687000061 ], [ 43.466524541000069, 35.491964913000061 ], [ 43.460369698000079, 35.471081975000061 ], [ 43.44908582000005, 35.466069263000065 ], [ 43.43267290600005, 35.469411106000052 ], [ 43.424466450000068, 35.476094375000059 ], [ 43.415234186000077, 35.48945924700007 ], [ 43.408053536000068, 35.498646308000048 ], [ 43.390614815000049, 35.51200742900005 ], [ 43.370803915000067, 35.518530607000059 ], [ 43.357981326000072, 35.510702730000048 ], [ 43.340350267000076, 35.502874090000034 ], [ 43.319513560000075, 35.497654573000034 ], [ 43.303485324000064, 35.492434717000037 ], [ 43.271428852000042, 35.485909420000041 ], [ 43.252194969000072, 35.481993987000067 ], [ 43.232961085000056, 35.472857236000038 ], [ 43.224946967000051, 35.465024908000032 ], [ 43.239372380000077, 35.402338833000044 ], [ 43.253797792000057, 35.382739429000026 ], [ 43.266620381000052, 35.360521013000039 ], [ 43.274634499000058, 35.34221890200007 ], [ 43.282648617000063, 35.319989336000049 ], [ 43.289059911000038, 35.304294196000058 ], [ 43.301882500000033, 35.283362607000072 ], [ 43.324322031000065, 35.241483192000032 ], [ 43.337144620000061, 35.223154144000034 ], [ 43.345158738000066, 35.20482095400007 ], [ 43.353172856000072, 35.189103497000076 ], [ 43.374009563000072, 35.17862350300004 ], [ 43.399654740000074, 35.170762620000062 ], [ 43.420491447000074, 35.16683189400004 ], [ 43.441328154000075, 35.164211304000048 ], [ 43.513455216000068, 35.14586481200007 ], [ 43.556731453000054, 35.131446808000078 ], [ 43.579170984000029, 35.120959384000059 ], [ 43.616035927000041, 35.106536971000025 ], [ 43.632064163000052, 35.101291824000043 ], [ 43.665723459000048, 35.093423471000051 ], [ 43.689765813000065, 35.085554358000024 ], [ 43.72182228500003, 35.077684487000056 ], [ 43.750673110000037, 35.067190144000051 ], [ 43.774715464000053, 35.051446099000032 ], [ 43.805169112000044, 35.018636257000026 ], [ 43.853253820000077, 34.973993737000058 ], [ 43.869282056000031, 34.952977067000063 ], [ 43.883707469000058, 34.937211028000036 ], [ 43.906146999000043, 34.916184927000074 ], [ 43.928586530000075, 34.906984313000066 ], [ 43.963848649000056, 34.900411815000041 ], [ 44.000713592000068, 34.893838791000064 ], [ 44.024755946000028, 34.888579993000064 ], [ 44.05200394700006, 34.878061388000049 ], [ 44.106499950000057, 34.841235669000071 ], [ 44.140159246000053, 34.814921491000064 ], [ 44.154584658000033, 34.804393466000079 ], [ 44.175421365000034, 34.795180341000048 ], [ 44.19305242400003, 34.783333382000023 ], [ 44.212286308000046, 34.770168098000056 ], [ 44.229917367000041, 34.753050088000066 ], [ 44.252356898000073, 34.743831228000033 ], [ 44.271590781000043, 34.749099274000059 ], [ 44.318072666000035, 34.810973640000043 ], [ 44.380582786000048, 34.930640950000054 ], [ 44.414242082000044, 34.988439570000025 ], [ 44.451107025000056, 35.05013395800006 ], [ 44.460723966000046, 35.07374926600005 ], [ 44.467135261000067, 35.109159418000047 ], [ 44.473546555000041, 35.135379244000035 ], [ 44.487971968000068, 35.158969871000068 ], [ 44.490068760000042, 35.157969887000036 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Erbil", "shapeISO": "IQ-AR", "shapeID": "90741666B26956950402634", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 43.322277968000037, 35.738325517000078 ], [ 43.33554179600003, 35.725690990000032 ], [ 43.341953090000061, 35.711376425000026 ], [ 43.343555914000035, 35.691852421000078 ], [ 43.341953090000061, 35.672323637000034 ], [ 43.340350267000076, 35.657999491000055 ], [ 43.33554179600003, 35.646277823000048 ], [ 43.329130502000055, 35.63455443600003 ], [ 43.321116384000049, 35.620223516000067 ], [ 43.313102266000044, 35.603283662000024 ], [ 43.309896618000039, 35.591553970000064 ], [ 43.309896618000039, 35.578518963000079 ], [ 43.314705089000029, 35.568089429000054 ], [ 43.332336149000071, 35.556354581000051 ], [ 43.351570032000041, 35.548530395000057 ], [ 43.361186974000077, 35.540705445000071 ], [ 43.369201092000026, 35.52896658800006 ], [ 43.370803915000067, 35.518530607000059 ], [ 43.390614815000049, 35.51200742900005 ], [ 43.408053536000068, 35.498646308000048 ], [ 43.415234186000077, 35.48945924700007 ], [ 43.424466450000068, 35.476094375000059 ], [ 43.43267290600005, 35.469411106000052 ], [ 43.44908582000005, 35.466069263000065 ], [ 43.460369698000079, 35.471081975000061 ], [ 43.466524541000069, 35.491964913000061 ], [ 43.473705191000079, 35.501151687000061 ], [ 43.49216971900006, 35.496140850000074 ], [ 43.507556825000052, 35.486953503000052 ], [ 43.510634247000041, 35.476929745000064 ], [ 43.516789089000042, 35.467740202000073 ], [ 43.527047160000052, 35.460220703000061 ], [ 43.53525361700008, 35.448522309000055 ], [ 43.544485881000071, 35.459385160000068 ], [ 43.546537495000052, 35.484447681000063 ], [ 43.546537495000052, 35.50198679600004 ], [ 43.547563302000071, 35.517017277000036 ], [ 43.552692338000043, 35.525366328000075 ], [ 43.575260094000043, 35.527036034000048 ], [ 43.599879465000072, 35.529540527000051 ], [ 43.614240764000044, 35.52870570500005 ], [ 43.629627871000025, 35.519522083000027 ], [ 43.636808521000034, 35.511172424000051 ], [ 43.648092399000063, 35.502821897000047 ], [ 43.669634348000045, 35.501151687000061 ], [ 43.682969841000045, 35.504492072000062 ], [ 43.683995648000064, 35.52787087400003 ], [ 43.685021455000026, 35.545400506000078 ], [ 43.695279526000036, 35.556250264000028 ], [ 43.704511790000026, 35.563760774000059 ], [ 43.711692440000036, 35.59880051600004 ], [ 43.713744054000074, 35.609643043000062 ], [ 43.720924703000037, 35.625487170000042 ], [ 43.726053739000065, 35.644662703000051 ], [ 43.735286003000056, 35.657999491000055 ], [ 43.738363424000056, 35.672167387000059 ], [ 43.738363424000056, 35.692997962000049 ], [ 43.748621495000066, 35.716321747000052 ], [ 43.755802145000075, 35.747964541000044 ], [ 43.765034409000066, 35.770439937000049 ], [ 43.773240866000037, 35.786252150000053 ], [ 43.779395709000028, 35.805389042000058 ], [ 43.793757008000057, 35.818698944000062 ], [ 43.804015079000067, 35.831174951000037 ], [ 43.816324764000058, 35.84032277600005 ], [ 43.829660257000057, 35.857783877000031 ], [ 43.838892521000048, 35.867759922000062 ], [ 43.89326029700004, 35.866097335000063 ], [ 43.915828054000031, 35.866097335000063 ], [ 43.94044742400007, 35.861109365000061 ], [ 43.953782917000069, 35.853626821000034 ], [ 43.97224744500005, 35.84946954600008 ], [ 43.985582937000061, 35.842817454000055 ], [ 44.000970044000042, 35.833669917000066 ], [ 44.008150693000061, 35.830343278000043 ], [ 44.018408765000061, 35.821194302000038 ], [ 44.035847485000033, 35.820362525000064 ], [ 44.060466856000062, 35.826184783000031 ], [ 44.075853962000053, 35.836996416000034 ], [ 44.095344298000043, 35.856121080000037 ], [ 44.105602369000053, 35.864434713000037 ], [ 44.244086328000037, 35.86194071500006 ], [ 44.262550856000075, 35.854458249000061 ], [ 44.298454105000076, 35.850301019000028 ], [ 44.348718653000049, 35.848638065000046 ], [ 44.372312216000068, 35.85196393700005 ], [ 44.391802551000069, 35.869422474000032 ], [ 44.41334450100004, 35.880228213000066 ], [ 44.44309290700005, 35.881059363000077 ], [ 44.468738084000051, 35.881059363000077 ], [ 44.487202612000033, 35.881059363000077 ], [ 44.506692947000033, 35.874409922000041 ], [ 44.517976826000051, 35.868591203000051 ], [ 44.543622003000053, 35.870253737000041 ], [ 44.557983303000071, 35.890201433000072 ], [ 44.566189760000043, 35.895187572000054 ], [ 44.576447831000053, 35.904328011000075 ], [ 44.600041394000073, 35.907651546000068 ], [ 44.621583343000054, 35.907651546000068 ], [ 44.638637387000074, 35.902620751000029 ], [ 44.666185917000064, 35.896534685000063 ], [ 44.696238860000051, 35.884361148000039 ], [ 44.701532801000042, 35.881501657000058 ], [ 44.726792685000078, 35.90116013800008 ], [ 44.749232215000063, 35.903756765000026 ], [ 44.776480217000028, 35.902458462000027 ], [ 44.790905629000065, 35.886877166000033 ], [ 44.80853668900005, 35.885578586000065 ], [ 44.819756454000071, 35.89336974500003 ], [ 44.832579043000067, 35.898563425000077 ], [ 44.855018573000052, 35.882981363000056 ], [ 44.864635515000032, 35.895966628000053 ], [ 44.874252456000079, 35.908949763000066 ], [ 44.887075045000074, 35.914142421000065 ], [ 44.909514576000049, 35.899861792000024 ], [ 44.911117399000034, 35.910247960000049 ], [ 44.911117399000034, 35.920632764000061 ], [ 44.903103281000028, 35.932314039000062 ], [ 44.880663751000043, 35.94139828200008 ], [ 44.863032691000058, 35.949183945000073 ], [ 44.845401632000062, 35.964752970000063 ], [ 44.797316923000039, 35.986803835000046 ], [ 44.779685864000044, 36.001068758000031 ], [ 44.760451980000028, 36.012738140000067 ], [ 44.746026568000048, 36.024405795000064 ], [ 44.736409626000068, 36.041256024000063 ], [ 44.725189861000047, 36.054215286000044 ], [ 44.712367272000051, 36.064581159000056 ], [ 44.693133389000025, 36.082718151000051 ], [ 44.659474093000028, 36.112505557000077 ], [ 44.635431739000069, 36.122863746000064 ], [ 44.622609150000073, 36.137104026000031 ], [ 44.598566796000057, 36.157812547000049 ], [ 44.593758326000057, 36.169458687000031 ], [ 44.593758326000057, 36.183690508000041 ], [ 44.595361149000041, 36.204386725000063 ], [ 44.603375267000047, 36.239299183000071 ], [ 44.622609150000073, 36.241884671000037 ], [ 44.70114750700003, 36.244470074000048 ], [ 44.734806803000026, 36.245762743000057 ], [ 44.738012450000042, 36.258688259000053 ], [ 44.733203979000052, 36.279364637000072 ], [ 44.709161625000036, 36.28970077300005 ], [ 44.68191362400006, 36.293576471000051 ], [ 44.664282564000075, 36.300035540000067 ], [ 44.659474093000028, 36.320700966000061 ], [ 44.65145997500008, 36.33748759100007 ], [ 44.630623268000079, 36.33877872000005 ], [ 44.612992209000026, 36.327157788000079 ], [ 44.595361149000041, 36.318118087000073 ], [ 44.571318795000025, 36.325866467000026 ], [ 44.572921619000056, 36.454892656000027 ], [ 44.611612498000056, 36.455637289000038 ], [ 44.616208114000074, 36.458805510000047 ], [ 44.628025412000056, 36.464613578000069 ], [ 44.64115574300007, 36.474116751000054 ], [ 44.644438326000056, 36.485730158000024 ], [ 44.668072921000032, 36.50736868000007 ], [ 44.67398157000008, 36.518977102000065 ], [ 44.691051001000062, 36.523725500000069 ], [ 44.712716047000072, 36.526363373000038 ], [ 44.729785477000064, 36.525308235000068 ], [ 44.744228841000051, 36.515811342000063 ], [ 44.75998523800007, 36.496286290000057 ], [ 44.784276351000074, 36.484146614000053 ], [ 44.815132628000072, 36.484146614000053 ], [ 44.84073677400005, 36.497341824000046 ], [ 44.853867105000063, 36.505257871000026 ], [ 44.884066866000069, 36.520032327000024 ], [ 44.901792813000043, 36.526363373000038 ], [ 44.925427408000076, 36.52847360700008 ], [ 44.964161885000067, 36.527418497000042 ], [ 44.997644229000059, 36.530056244000036 ], [ 45.002239845000076, 36.533748939000077 ], [ 45.003450298000075, 36.534721539000031 ], [ 45.007491977000029, 36.537968945000046 ], [ 45.010118043000034, 36.545880837000027 ], [ 45.01865275800003, 36.551154981000025 ], [ 45.029157023000039, 36.556428766000067 ], [ 45.038348255000074, 36.560120201000075 ], [ 45.042287354000052, 36.569084381000039 ], [ 45.040974321000078, 36.580156343000056 ], [ 45.038348255000074, 36.587009619000071 ], [ 45.033752639000056, 36.596497766000027 ], [ 45.048196003000044, 36.608619812000029 ], [ 45.056074202000048, 36.613362703000064 ], [ 45.065921950000075, 36.619686104000039 ], [ 45.071174082000027, 36.627062749000061 ], [ 45.071174082000027, 36.632858189000046 ], [ 45.070517566000035, 36.642867468000077 ], [ 45.071174082000027, 36.651822037000045 ], [ 45.071830599000066, 36.666568468000037 ], [ 45.064608917000044, 36.689209273000074 ], [ 45.058043751000071, 36.696579260000078 ], [ 45.052135102000079, 36.702369468000029 ], [ 45.042943871000034, 36.719737476000034 ], [ 45.036378705000061, 36.729735457000061 ], [ 45.027843990000065, 36.739732137000033 ], [ 45.004209394000043, 36.746045159000062 ], [ 44.998300745000051, 36.747097278000069 ], [ 44.981231315000059, 36.752357661000076 ], [ 44.972696600000063, 36.759721591000073 ], [ 44.962192335000054, 36.766558892000035 ], [ 44.949062004000041, 36.772343825000064 ], [ 44.934618640000053, 36.773921459000064 ], [ 44.922801342000071, 36.77339558500006 ], [ 44.904418879000048, 36.773921459000064 ], [ 44.886692932000074, 36.772869707000041 ], [ 44.855836654000029, 36.770766160000051 ], [ 44.845332390000067, 36.779180002000032 ], [ 44.843362840000054, 36.792324781000048 ], [ 44.858462720000034, 36.819133138000041 ], [ 44.871593051000048, 36.828592670000035 ], [ 44.893258098000047, 36.844881345000033 ], [ 44.903762362000066, 36.85381237100006 ], [ 44.910984044000031, 36.866419103000055 ], [ 44.912297077000062, 36.881649462000041 ], [ 44.908357978000026, 36.897401810000076 ], [ 44.89982326300003, 36.907376615000032 ], [ 44.895884164000051, 36.917350117000069 ], [ 44.896540680000044, 36.929421558000058 ], [ 44.89522764700007, 36.969820733000063 ], [ 44.896540680000044, 36.983981603000075 ], [ 44.887349449000055, 37.003382960000067 ], [ 44.878158217000077, 37.00600438500004 ], [ 44.855180138000037, 37.01439233800005 ], [ 44.842706323000073, 37.020158519000063 ], [ 44.804628364000052, 37.023827680000068 ], [ 44.792154549000031, 37.03955064400003 ], [ 44.778367702000025, 37.063128987000027 ], [ 44.767863437000074, 37.075177311000061 ], [ 44.751450523000074, 37.086176283000043 ], [ 44.759328722000078, 37.094031715000028 ], [ 44.771802536000052, 37.101886332000049 ], [ 44.781650284000079, 37.112357889000066 ], [ 44.780337251000049, 37.12858594000005 ], [ 44.770489503000078, 37.135390216000076 ], [ 44.745541874000025, 37.13696034700007 ], [ 44.720594245000029, 37.135390216000076 ], [ 44.706150881000042, 37.134866832000057 ], [ 44.681859769000027, 37.140100510000025 ], [ 44.666759888000058, 37.142717214000072 ], [ 44.658225173000062, 37.147427052000069 ], [ 44.644438326000056, 37.148473643000045 ], [ 44.618177664000029, 37.147950349000041 ], [ 44.592573518000052, 37.142193880000036 ], [ 44.581412737000051, 37.133296658000063 ], [ 44.568282406000037, 37.121257573000037 ], [ 44.55515207500008, 37.111310798000034 ], [ 44.545304327000053, 37.098220946000026 ], [ 44.530860963000066, 37.093508045000078 ], [ 44.505256817000031, 37.083033883000041 ], [ 44.490813453000044, 37.066796071000056 ], [ 44.475713573000064, 37.056318218000058 ], [ 44.455361560000028, 37.044790909000028 ], [ 44.42516179900008, 37.036930376000043 ], [ 44.412031468000066, 37.032737759000042 ], [ 44.364105760000029, 37.032213666000075 ], [ 44.353601495000078, 37.026972533000048 ], [ 44.350318912000034, 37.00914997600006 ], [ 44.337188581000078, 36.982932740000024 ], [ 44.322745217000033, 36.976114778000067 ], [ 44.310927919000051, 36.960903278000046 ], [ 44.297797588000037, 36.955657228000064 ], [ 44.279415125000071, 36.955657228000064 ], [ 44.257750079000061, 36.959854097000061 ], [ 44.255124012000067, 36.964050734000068 ], [ 44.248558847000027, 36.986603697000078 ], [ 44.239367615000049, 36.99394508000006 ], [ 44.236741549000044, 37.001810061000072 ], [ 44.234115483000039, 37.015964977000067 ], [ 44.22886335100003, 37.025400123000054 ], [ 44.217046053000047, 37.031689569000036 ], [ 44.201289656000029, 37.058413905000066 ], [ 44.194724490000056, 37.074653511000065 ], [ 44.196694040000068, 37.094555382000067 ], [ 44.210480887000074, 37.106075129000033 ], [ 44.221641669000064, 37.114975552000033 ], [ 44.227550317000066, 37.121781051000028 ], [ 44.260376145000066, 37.12230452600005 ], [ 44.270880410000075, 37.128062508000028 ], [ 44.272193443000049, 37.14114720300006 ], [ 44.27810209200004, 37.171494978000055 ], [ 44.270880410000075, 37.193463347000034 ], [ 44.264315244000045, 37.207582496000043 ], [ 44.251184913000031, 37.219607837000069 ], [ 44.24068064800008, 37.229540367000027 ], [ 44.226893801000074, 37.237903589000041 ], [ 44.209167854000043, 37.243130132000033 ], [ 44.185533258000078, 37.24992409500004 ], [ 44.170433378000041, 37.253582129000051 ], [ 44.162555179000037, 37.257239986000059 ], [ 44.147455299000057, 37.268212490000053 ], [ 44.131042385000057, 37.275526605000039 ], [ 44.115942504000031, 37.279705780000029 ], [ 44.090994875000035, 37.284407075000047 ], [ 44.058415242000081, 37.281338207000033 ], [ 44.066621699000052, 37.270726798000055 ], [ 44.075853963000043, 37.257664547000047 ], [ 44.087137841000072, 37.247866373000079 ], [ 44.091241069000034, 37.242966808000062 ], [ 44.092266876000053, 37.152267413000061 ], [ 44.086112033000063, 37.152267413000061 ], [ 44.076879770000062, 37.152267413000061 ], [ 44.057389434000072, 37.150632191000057 ], [ 44.047437990000049, 37.146432883000045 ], [ 44.035975711000049, 37.133869121000032 ], [ 44.031167240000059, 37.122367915000041 ], [ 44.019947475000038, 37.109586749000073 ], [ 43.999110768000037, 37.092968006000035 ], [ 43.975068414000077, 37.076345619000051 ], [ 43.954231707000076, 37.063556686000027 ], [ 43.939806295000039, 37.052044804000047 ], [ 43.91576394100008, 37.039251774000036 ], [ 43.893324410000048, 37.027736205000053 ], [ 43.867679233000047, 37.017498677000049 ], [ 43.853253820000077, 37.003419824000048 ], [ 43.82860239300004, 36.981477214000051 ], [ 43.832737678000058, 36.980376076000027 ], [ 43.855305435000048, 36.968083223000065 ], [ 43.889157069000078, 36.954968657000052 ], [ 43.91993128200005, 36.94677090700003 ], [ 43.948653881000041, 36.935292574000073 ], [ 43.974299059000032, 36.926272671000049 ], [ 43.996866815000033, 36.913150907000045 ], [ 44.020460379000042, 36.894284416000062 ], [ 44.025589414000081, 36.880336620000037 ], [ 44.044053942000062, 36.87131021700003 ], [ 44.053286206000053, 36.858999768000047 ], [ 44.058415242000081, 36.842582750000076 ], [ 44.075853962000053, 36.839298924000047 ], [ 44.104576561000044, 36.835193942000046 ], [ 44.122015282000064, 36.824519959000042 ], [ 44.132273353000073, 36.817129407000039 ], [ 44.156892724000045, 36.815486965000048 ], [ 44.192795973000045, 36.801524785000026 ], [ 44.207157272000074, 36.79577491200007 ], [ 44.234854064000046, 36.788381584000035 ], [ 44.259473435000075, 36.775236128000074 ], [ 44.267679891000057, 36.749760392000042 ], [ 44.271783120000066, 36.741540608000037 ], [ 44.283066998000038, 36.733319943000026 ], [ 44.296402490000048, 36.725098398000057 ], [ 44.302557333000038, 36.716053681000062 ], [ 44.298454105000076, 36.707007900000065 ], [ 44.288196034000066, 36.69960601400004 ], [ 44.276912155000048, 36.694671028000073 ], [ 44.267679891000057, 36.684800104000033 ], [ 44.257421820000047, 36.674105174000033 ], [ 44.250241171000027, 36.663408756000024 ], [ 44.235879871000066, 36.646949827000071 ], [ 44.229725029000065, 36.640365270000075 ], [ 44.212286308000046, 36.63542648300006 ], [ 44.194847587000027, 36.623901416000024 ], [ 44.181512094000027, 36.609904374000052 ], [ 44.170228216000055, 36.603316652000046 ], [ 44.151763688000074, 36.602493147000075 ], [ 44.141505617000064, 36.592610403000037 ], [ 44.126118511000072, 36.586844884000072 ], [ 44.115860440000063, 36.59837549100007 ], [ 44.106628176000072, 36.595904791000066 ], [ 44.092266876000053, 36.588492219000045 ], [ 44.066621699000052, 36.588492219000045 ], [ 44.046105556000043, 36.604140148000056 ], [ 44.029692643000033, 36.60002257900004 ], [ 44.014305536000052, 36.593434013000035 ], [ 43.980453902000079, 36.567074122000065 ], [ 43.961989374000041, 36.551418679000051 ], [ 43.95275711000005, 36.539056878000054 ], [ 43.94249903900004, 36.530814580000026 ], [ 43.927111932000059, 36.525044448000074 ], [ 43.918905475000031, 36.511853959000064 ], [ 43.90044094700005, 36.497011971000063 ], [ 43.87376996200004, 36.493713365000076 ], [ 43.864537698000049, 36.487940467000044 ], [ 43.866589313000077, 36.468969343000026 ], [ 43.859408663000067, 36.456594370000062 ], [ 43.846073171000057, 36.452468939000028 ], [ 43.828634450000038, 36.443392221000067 ], [ 43.823505414000067, 36.431838497000058 ], [ 43.815298957000039, 36.407900313000027 ], [ 43.811195729000076, 36.389735390000055 ], [ 43.806066693000048, 36.378173683000057 ], [ 43.789653780000037, 36.365784232000067 ], [ 43.773240866000037, 36.350088096000036 ], [ 43.756827952000037, 36.333562427000061 ], [ 43.740415039000027, 36.317033253000034 ], [ 43.721950511000045, 36.302980698000056 ], [ 43.709640825000065, 36.294713306000062 ], [ 43.683995648000064, 36.282310575000054 ], [ 43.657324663000054, 36.273213987000076 ], [ 43.625524643000062, 36.246745157000078 ], [ 43.619369800000072, 36.239299183000071 ], [ 43.588787926000066, 36.206973367000046 ], [ 43.579170984000029, 36.194039300000043 ], [ 43.56474557100006, 36.182396813000025 ], [ 43.542306041000074, 36.157812547000049 ], [ 43.540703217000043, 36.144870362000063 ], [ 43.529483452000079, 36.128042329000039 ], [ 43.518263687000058, 36.102146001000051 ], [ 43.511852393000026, 36.084013490000075 ], [ 43.505441098000063, 36.068468009000071 ], [ 43.492618509000067, 36.047735922000072 ], [ 43.479795920000072, 36.034775593000063 ], [ 43.463767684000061, 36.026998373000026 ], [ 43.442930978000049, 36.021813132000034 ], [ 43.418888623000043, 36.016627550000067 ], [ 43.402860387000032, 36.007551961000047 ], [ 43.401257564000048, 35.997178580000025 ], [ 43.407668858000079, 35.979021880000062 ], [ 43.415682976000028, 35.959563636000041 ], [ 43.417285800000059, 35.93620741400008 ], [ 43.417285800000059, 35.925824655000042 ], [ 43.406066035000038, 35.912844289000077 ], [ 43.391640622000068, 35.902458462000027 ], [ 43.378818033000073, 35.886877166000033 ], [ 43.367598268000052, 35.869993969000063 ], [ 43.353172856000072, 35.838815537000073 ], [ 43.351570032000041, 35.819322791000047 ], [ 43.349967208000066, 35.797225225000034 ], [ 43.33554179600003, 35.78162324200008 ], [ 43.327527678000081, 35.766018196000061 ], [ 43.322277968000037, 35.738325517000078 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Al-Sulaimaniyah", "shapeISO": "IQ-SU", "shapeID": "90741666B75227633199275", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.912720223000065, 34.872801580000043 ], [ 44.928299668000079, 34.865647702000047 ], [ 44.941635161000079, 34.863122655000041 ], [ 44.95702226700007, 34.861439248000067 ], [ 44.982667445000061, 34.865647702000047 ], [ 44.997028744000033, 34.874063965000062 ], [ 45.012415851000071, 34.886686744000031 ], [ 45.030880379000052, 34.899307584000042 ], [ 45.046267486000033, 34.895100853000031 ], [ 45.060628785000063, 34.884162343000071 ], [ 45.067809435000072, 34.872380781000061 ], [ 45.077041699000063, 34.860597531000053 ], [ 45.081144927000025, 34.847128892000057 ], [ 45.091402998000035, 34.83618399900007 ], [ 45.106790105000073, 34.842077583000048 ], [ 45.117048176000026, 34.847970746000044 ], [ 45.140641739000046, 34.853021693000073 ], [ 45.151925618000064, 34.863964346000046 ], [ 45.168338531000074, 34.864806028000032 ], [ 45.187828866000075, 34.853863487000069 ], [ 45.195009516000027, 34.842077583000048 ], [ 45.195009516000027, 34.828605913000047 ], [ 45.200138552000055, 34.812605441000073 ], [ 45.207319201000075, 34.801655959000072 ], [ 45.205267587000037, 34.78480776300006 ], [ 45.213474044000066, 34.775539787000071 ], [ 45.224757922000038, 34.768798788000026 ], [ 45.236041800000066, 34.755315136000036 ], [ 45.240145029000075, 34.735928530000024 ], [ 45.243222450000076, 34.723282640000036 ], [ 45.249377293000066, 34.714850971000033 ], [ 45.251428907000047, 34.698828433000074 ], [ 45.252454714000066, 34.679428578000056 ], [ 45.251428907000047, 34.66086794000006 ], [ 45.258609557000057, 34.649054461000048 ], [ 45.266816014000028, 34.637239297000065 ], [ 45.284254734000058, 34.633863227000063 ], [ 45.306822491000048, 34.652429912000059 ], [ 45.326312826000049, 34.670148779000044 ], [ 45.337596704000077, 34.681115702000056 ], [ 45.350932196000031, 34.692924611000024 ], [ 45.369396724000069, 34.696298275000061 ], [ 45.39811932300006, 34.696298275000061 ], [ 45.421712887000069, 34.698828433000074 ], [ 45.446332257000051, 34.715694177000046 ], [ 45.469925821000061, 34.734242523000034 ], [ 45.469925821000061, 34.755315136000036 ], [ 45.476080663000062, 34.788177677000078 ], [ 45.479158085000051, 34.80502518600008 ], [ 45.48736454200008, 34.822711364000043 ], [ 45.501725841000052, 34.837025965000066 ], [ 45.514035526000043, 34.847128892000057 ], [ 45.526345212000081, 34.857230578000042 ], [ 45.535577476000071, 34.865647702000047 ], [ 45.540706511000053, 34.877430229000026 ], [ 45.544809740000062, 34.910244077000073 ], [ 45.563274268000043, 34.925384509000025 ], [ 45.580712988000073, 34.943044816000054 ], [ 45.601229130000036, 34.950612354000043 ], [ 45.612513009000054, 34.956497735000028 ], [ 45.615590430000054, 34.97835402000004 ], [ 45.630977537000035, 34.990960763000032 ], [ 45.628925922000064, 35.001885036000033 ], [ 45.618667851000055, 35.009447140000077 ], [ 45.607383973000026, 35.025409287000059 ], [ 45.608409780000045, 35.043048034000037 ], [ 45.630977537000035, 35.060682973000041 ], [ 45.637132379000036, 35.076635113000066 ], [ 45.652519486000074, 35.088387326000031 ], [ 45.667906592000065, 35.095941426000024 ], [ 45.684319506000065, 35.104334050000034 ], [ 45.697654999000065, 35.128667773000075 ], [ 45.702784034000047, 35.143767806000028 ], [ 45.706887262000066, 35.158026378000045 ], [ 45.723300176000066, 35.159703692000051 ], [ 45.733558247000076, 35.16725118100004 ], [ 45.747919547000038, 35.174797968000064 ], [ 45.764332460000048, 35.172282450000068 ], [ 45.771513110000058, 35.155510341000024 ], [ 45.771513110000058, 35.119438595000076 ], [ 45.771513110000058, 35.038008780000041 ], [ 45.78279698800003, 35.016168424000057 ], [ 45.791003445000058, 35.003565564000041 ], [ 45.795106674000067, 34.980875524000055 ], [ 45.794531307000057, 34.942209687000059 ], [ 45.820751851000068, 34.940522147000024 ], [ 45.836138958000049, 34.938840326000047 ], [ 45.847422836000078, 34.933794653000064 ], [ 45.856655100000069, 34.929589689000068 ], [ 45.862809943000059, 34.932112693000079 ], [ 45.869990592000079, 34.944726551000031 ], [ 45.87511962800005, 34.957338469000035 ], [ 45.87819704900005, 34.975832439000044 ], [ 45.887429313000041, 34.989279976000034 ], [ 45.895635770000069, 34.997683565000045 ], [ 45.90179061300006, 35.010287331000029 ], [ 45.90179061300006, 35.022049094000067 ], [ 45.88845512000006, 35.041368317000035 ], [ 45.88127447100004, 35.05060633100004 ], [ 45.882300278000059, 35.060682973000041 ], [ 45.88537769900006, 35.072437484000034 ], [ 45.899738999000078, 35.082511431000057 ], [ 45.919229334000079, 35.08335087100005 ], [ 45.932564826000032, 35.085869137000032 ], [ 45.936668054000052, 35.103494827000077 ], [ 45.938719669000079, 35.122794781000039 ], [ 45.953080968000052, 35.120277655000052 ], [ 45.975648724000052, 35.106012471000042 ], [ 45.987958410000033, 35.097620020000079 ], [ 46.007448745000033, 35.095941426000024 ], [ 46.021810044000063, 35.094262798000045 ], [ 46.035145537000062, 35.088387326000031 ], [ 46.047455222000053, 35.075795605000053 ], [ 46.068997171000035, 35.078314104000071 ], [ 46.077203628000063, 35.094262798000045 ], [ 46.077203628000063, 35.110208373000034 ], [ 46.084384278000073, 35.120277655000052 ], [ 46.106952034000074, 35.115243169000053 ], [ 46.135674633000065, 35.114404058000048 ], [ 46.159716987000081, 35.127514183000073 ], [ 46.156511340000066, 35.132757642000058 ], [ 46.14849722200006, 35.144554190000065 ], [ 46.16292263400004, 35.172072820000039 ], [ 46.164525458000071, 35.183863669000061 ], [ 46.175745223000035, 35.191723284000034 ], [ 46.191773459000046, 35.196962606000056 ], [ 46.186964989000046, 35.206130605000055 ], [ 46.177348047000066, 35.217916512000045 ], [ 46.159716987000081, 35.225772833000065 ], [ 46.137277457000039, 35.221844768000039 ], [ 46.135674633000065, 35.225772833000065 ], [ 46.124454868000043, 35.23362839300006 ], [ 46.124454868000043, 35.24410129000006 ], [ 46.132468986000049, 35.261116863000041 ], [ 46.145291575000044, 35.274203334000049 ], [ 46.15330569300005, 35.289904310000054 ], [ 46.14368875100007, 35.300369935000049 ], [ 46.129263339000033, 35.319989336000049 ], [ 46.114837926000064, 35.339603976000035 ], [ 46.098809690000053, 35.346141132000071 ], [ 46.082781454000042, 35.353985021000028 ], [ 46.074767336000036, 35.368363506000037 ], [ 46.057136277000041, 35.384046204000072 ], [ 46.04110804000004, 35.395806228000026 ], [ 46.023476981000044, 35.414096189000077 ], [ 46.010654392000049, 35.427157907000037 ], [ 45.996228980000069, 35.463719446000027 ], [ 45.988214862000063, 35.476773114000025 ], [ 45.978597920000027, 35.495044688000064 ], [ 45.986612038000032, 35.510702730000048 ], [ 46.002640274000044, 35.515921399000035 ], [ 46.009051568000075, 35.526357720000078 ], [ 45.997831803000054, 35.542009656000062 ], [ 45.989817685000048, 35.548530395000057 ], [ 45.972186625000063, 35.561570282000048 ], [ 45.972571303000052, 35.576276728000039 ], [ 45.988984217000052, 35.577111055000046 ], [ 45.993087445000072, 35.574608047000027 ], [ 46.011551973000053, 35.568767390000062 ], [ 46.015655202000062, 35.574608047000027 ], [ 46.011551973000053, 35.592127462000064 ], [ 46.011551973000053, 35.601302768000039 ], [ 46.014629395000043, 35.61881634100007 ], [ 46.011551973000053, 35.629656156000067 ], [ 45.988984217000052, 35.628822376000073 ], [ 45.986932603000071, 35.637159782000026 ], [ 45.998216481000043, 35.646329923000053 ], [ 46.010526166000034, 35.652998456000034 ], [ 46.014629395000043, 35.663000212000043 ], [ 46.017706816000043, 35.674667343000067 ], [ 46.028990694000072, 35.683833179000032 ], [ 46.046429415000034, 35.691331716000036 ], [ 46.064893943000072, 35.695497265000029 ], [ 46.093616542000063, 35.692997962000049 ], [ 46.114132684000026, 35.693831071000034 ], [ 46.127468176000036, 35.699662597000042 ], [ 46.145932704000074, 35.699662597000042 ], [ 46.158242390000055, 35.694664173000035 ], [ 46.170552075000046, 35.701328668000031 ], [ 46.179784339000037, 35.711324368000078 ], [ 46.203377902000057, 35.720485991000032 ], [ 46.217739202000075, 35.720485991000032 ], [ 46.241332765000038, 35.721318814000028 ], [ 46.251590836000048, 35.726315567000029 ], [ 46.274158593000038, 35.734642792000045 ], [ 46.282365049000077, 35.740471331000037 ], [ 46.287494085000048, 35.750462120000066 ], [ 46.308010227000068, 35.760451656000043 ], [ 46.315190877000077, 35.765445953000039 ], [ 46.326474755000049, 35.774601350000069 ], [ 46.340836055000068, 35.787084285000049 ], [ 46.340836055000068, 35.799565259000076 ], [ 46.33570701900004, 35.815371678000076 ], [ 46.328526369000031, 35.823689582000043 ], [ 46.314165070000058, 35.828679906000048 ], [ 46.270055364000029, 35.816203507000068 ], [ 46.260823100000039, 35.807052902000066 ], [ 46.229023080000047, 35.808716727000046 ], [ 46.210558552000066, 35.806220976000077 ], [ 46.193119831000047, 35.803725148000069 ], [ 46.172603689000027, 35.806220976000077 ], [ 46.151061740000046, 35.817867141000079 ], [ 46.143881090000036, 35.827848207000045 ], [ 46.141829476000055, 35.84032277600005 ], [ 46.129519791000064, 35.842817454000055 ], [ 46.107977841000036, 35.848638065000046 ], [ 46.095668156000045, 35.857783877000031 ], [ 46.063868136000053, 35.860278006000044 ], [ 46.039248765000025, 35.846975077000025 ], [ 46.014629395000043, 35.838659614000051 ], [ 45.995139060000042, 35.838659614000051 ], [ 45.969493882000052, 35.845312054000033 ], [ 45.953080968000052, 35.842817454000055 ], [ 45.93769386200006, 35.830343278000043 ], [ 45.928461598000069, 35.829511597000078 ], [ 45.903842227000041, 35.838659614000051 ], [ 45.86178413600004, 35.818698944000062 ], [ 45.85562929300005, 35.815371678000076 ], [ 45.83511315100003, 35.816203507000068 ], [ 45.822803466000039, 35.814539839000076 ], [ 45.807416359000058, 35.821194302000038 ], [ 45.785874410000076, 35.816203507000068 ], [ 45.777667953000048, 35.802893187000052 ], [ 45.762280846000067, 35.801229240000055 ], [ 45.743816318000029, 35.818698944000062 ], [ 45.737661476000028, 35.828679906000048 ], [ 45.728429212000037, 35.852795383000057 ], [ 45.719196948000047, 35.86277205600004 ], [ 45.712016298000037, 35.869422474000032 ], [ 45.705861455000047, 35.880228213000066 ], [ 45.698680806000027, 35.88937037900007 ], [ 45.684319506000065, 35.898511490000033 ], [ 45.676113049000037, 35.905989796000028 ], [ 45.670984014000055, 35.918452068000079 ], [ 45.645338836000064, 35.945862156000032 ], [ 45.637132379000036, 35.958318145000078 ], [ 45.627900115000045, 35.967451289000053 ], [ 45.607383973000026, 35.971602369000038 ], [ 45.595074288000035, 35.976583376000065 ], [ 45.589945252000064, 35.984884357000055 ], [ 45.580712988000073, 35.987374481000074 ], [ 45.571480724000025, 35.990694524000048 ], [ 45.560196846000053, 35.999823922000076 ], [ 45.542758125000034, 36.003973299000052 ], [ 45.517112948000033, 36.005632989000048 ], [ 45.493519384000081, 36.003973299000052 ], [ 45.476080663000062, 35.99733419100005 ], [ 45.462745171000051, 35.99318446500007 ], [ 45.43812580000008, 35.99235449300005 ], [ 45.415558044000079, 35.980733976000067 ], [ 45.405299973000069, 35.969941963000053 ], [ 45.38786125200005, 35.974923075000049 ], [ 45.36426768900003, 35.979903873000069 ], [ 45.357087039000078, 35.989034520000075 ], [ 45.354009618000077, 35.998164110000062 ], [ 45.348880582000049, 36.008122458000059 ], [ 45.34477735400003, 36.013101160000076 ], [ 45.350932196000031, 36.028035380000063 ], [ 45.35503542500004, 36.03964892700003 ], [ 45.359138653000059, 36.050431402000072 ], [ 45.36837091700005, 36.061212400000045 ], [ 45.373499953000078, 36.071991921000063 ], [ 45.373499953000078, 36.082769965000068 ], [ 45.37144833900004, 36.094375437000053 ], [ 45.36426768900003, 36.104321621000054 ], [ 45.35503542500004, 36.111780432000046 ], [ 45.345803161000049, 36.127524486000027 ], [ 45.336570897000058, 36.136638021000067 ], [ 45.335545090000039, 36.149892183000077 ], [ 45.332467668000049, 36.157346665000034 ], [ 45.32836444000003, 36.173909644000048 ], [ 45.33144186100003, 36.182189820000076 ], [ 45.33144186100003, 36.194608444000039 ], [ 45.32836444000003, 36.207025099000077 ], [ 45.326312826000049, 36.21695700500004 ], [ 45.32220959700004, 36.22606014400003 ], [ 45.315028948000077, 36.236817034000069 ], [ 45.296564420000038, 36.24343592300005 ], [ 45.287332156000048, 36.245917862000056 ], [ 45.273996663000048, 36.248399722000045 ], [ 45.270919242000048, 36.253363205000028 ], [ 45.275022470000067, 36.261634978000075 ], [ 45.295538613000076, 36.269078824000076 ], [ 45.299641841000039, 36.272386972000049 ], [ 45.300667648000058, 36.279829793000033 ], [ 45.295538613000076, 36.288925610000035 ], [ 45.289383770000029, 36.294713306000062 ], [ 45.276048278000076, 36.302980698000056 ], [ 45.270919242000048, 36.314553574000058 ], [ 45.271945049000067, 36.323645343000067 ], [ 45.276048278000076, 36.334388794000063 ], [ 45.276048278000076, 36.35421896500003 ], [ 45.277074085000038, 36.36248004600003 ], [ 45.279125699000076, 36.390561161000051 ], [ 45.264764399000057, 36.397992700000032 ], [ 45.253480521000029, 36.405423528000028 ], [ 45.249377293000066, 36.414504687000033 ], [ 45.239119222000056, 36.421108500000059 ], [ 45.225783729000057, 36.422759365000047 ], [ 45.206293394000056, 36.421108500000059 ], [ 45.176544988000046, 36.415330195000024 ], [ 45.161157882000055, 36.409551460000046 ], [ 45.145770775000074, 36.406249132000028 ], [ 45.130383668000036, 36.406249132000028 ], [ 45.121151404000045, 36.408725891000074 ], [ 45.111919140000055, 36.414504687000033 ], [ 45.101661069000045, 36.419457599000054 ], [ 45.090377191000073, 36.426886375000038 ], [ 45.083196541000063, 36.436790304000056 ], [ 45.080119120000063, 36.448343290000025 ], [ 45.077041699000063, 36.458244480000076 ], [ 45.068835242000034, 36.467319461000045 ], [ 45.064732014000072, 36.47556852200006 ], [ 45.060628785000063, 36.488765193000063 ], [ 45.051396521000072, 36.500310437000053 ], [ 45.043190064000044, 36.507731470000067 ], [ 45.031906186000072, 36.512678430000051 ], [ 45.018570694000061, 36.516800656000044 ], [ 45.012415851000071, 36.525868779000064 ], [ 45.003450298000075, 36.534721539000031 ], [ 45.002239845000076, 36.533748939000077 ], [ 44.997644229000059, 36.530056244000036 ], [ 44.964161885000067, 36.527418497000042 ], [ 44.925427408000076, 36.52847360700008 ], [ 44.901792813000043, 36.526363373000038 ], [ 44.884066866000069, 36.520032327000024 ], [ 44.853867105000063, 36.505257871000026 ], [ 44.84073677400005, 36.497341824000046 ], [ 44.815132628000072, 36.484146614000053 ], [ 44.784276351000074, 36.484146614000053 ], [ 44.75998523800007, 36.496286290000057 ], [ 44.744228841000051, 36.515811342000063 ], [ 44.729785477000064, 36.525308235000068 ], [ 44.712716047000072, 36.526363373000038 ], [ 44.691051001000062, 36.523725500000069 ], [ 44.67398157000008, 36.518977102000065 ], [ 44.668072921000032, 36.50736868000007 ], [ 44.644438326000056, 36.485730158000024 ], [ 44.64115574300007, 36.474116751000054 ], [ 44.628025412000056, 36.464613578000069 ], [ 44.616208114000074, 36.458805510000047 ], [ 44.611612498000056, 36.455637289000038 ], [ 44.572921619000056, 36.454892656000027 ], [ 44.571318795000025, 36.325866467000026 ], [ 44.595361149000041, 36.318118087000073 ], [ 44.612992209000026, 36.327157788000079 ], [ 44.630623268000079, 36.33877872000005 ], [ 44.65145997500008, 36.33748759100007 ], [ 44.659474093000028, 36.320700966000061 ], [ 44.664282564000075, 36.300035540000067 ], [ 44.68191362400006, 36.293576471000051 ], [ 44.709161625000036, 36.28970077300005 ], [ 44.733203979000052, 36.279364637000072 ], [ 44.738012450000042, 36.258688259000053 ], [ 44.734806803000026, 36.245762743000057 ], [ 44.70114750700003, 36.244470074000048 ], [ 44.622609150000073, 36.241884671000037 ], [ 44.603375267000047, 36.239299183000071 ], [ 44.595361149000041, 36.204386725000063 ], [ 44.593758326000057, 36.183690508000041 ], [ 44.593758326000057, 36.169458687000031 ], [ 44.598566796000057, 36.157812547000049 ], [ 44.622609150000073, 36.137104026000031 ], [ 44.635431739000069, 36.122863746000064 ], [ 44.659474093000028, 36.112505557000077 ], [ 44.693133389000025, 36.082718151000051 ], [ 44.712367272000051, 36.064581159000056 ], [ 44.725189861000047, 36.054215286000044 ], [ 44.736409626000068, 36.041256024000063 ], [ 44.746026568000048, 36.024405795000064 ], [ 44.760451980000028, 36.012738140000067 ], [ 44.779685864000044, 36.001068758000031 ], [ 44.797316923000039, 35.986803835000046 ], [ 44.845401632000062, 35.964752970000063 ], [ 44.863032691000058, 35.949183945000073 ], [ 44.880663751000043, 35.94139828200008 ], [ 44.903103281000028, 35.932314039000062 ], [ 44.911117399000034, 35.920632764000061 ], [ 44.911117399000034, 35.910247960000049 ], [ 44.909514576000049, 35.899861792000024 ], [ 44.887075045000074, 35.914142421000065 ], [ 44.874252456000079, 35.908949763000066 ], [ 44.864635515000032, 35.895966628000053 ], [ 44.855018573000052, 35.882981363000056 ], [ 44.832579043000067, 35.898563425000077 ], [ 44.819756454000071, 35.89336974500003 ], [ 44.80853668900005, 35.885578586000065 ], [ 44.790905629000065, 35.886877166000033 ], [ 44.776480217000028, 35.902458462000027 ], [ 44.749232215000063, 35.903756765000026 ], [ 44.726792685000078, 35.90116013800008 ], [ 44.701532801000042, 35.881501657000058 ], [ 44.71126533100005, 35.876244418000056 ], [ 44.731300626000063, 35.862038138000059 ], [ 44.738813862000029, 35.841739035000046 ], [ 44.738813862000029, 35.821434736000072 ], [ 44.716274155000065, 35.807218636000073 ], [ 44.706256507000035, 35.782842257000027 ], [ 44.716274155000065, 35.762522896000064 ], [ 44.731300626000063, 35.748296255000071 ], [ 44.746327097000062, 35.732034122000073 ], [ 44.763857981000058, 35.713735252000049 ], [ 44.781388864000064, 35.699499892000063 ], [ 44.776380040000049, 35.681193552000025 ], [ 44.763857981000058, 35.66695238300008 ], [ 44.74883150900007, 35.652708673000063 ], [ 44.74883150900007, 35.620142083000076 ], [ 44.751335921000077, 35.591635432000032 ], [ 44.756344745000035, 35.57534135800006 ], [ 44.778884452000057, 35.546818752000036 ], [ 44.793910923000055, 35.524401013000045 ], [ 44.818955042000027, 35.493821274000027 ], [ 44.82646827800005, 35.471388733000026 ], [ 44.82646827800005, 35.455070225000043 ], [ 44.811441806000062, 35.436707947000059 ], [ 44.78890209900004, 35.426504871000077 ], [ 44.771371216000034, 35.414259474000062 ], [ 44.756344745000035, 35.40201221600006 ], [ 44.728796214000056, 35.377512117000038 ], [ 44.716274155000065, 35.357089683000027 ], [ 44.706256507000035, 35.338705076000053 ], [ 44.693734448000043, 35.326446347000058 ], [ 44.686221212000078, 35.29579139100008 ], [ 44.681212389000052, 35.273303707000025 ], [ 44.676203565000037, 35.252854939000031 ], [ 44.658672682000031, 35.236492210000051 ], [ 44.641141798000035, 35.222172114000045 ], [ 44.621106503000078, 35.201710449000075 ], [ 44.606080032000079, 35.18943097500005 ], [ 44.591053561000081, 35.183290542000066 ], [ 44.553487383000061, 35.177149645000043 ], [ 44.530947676000039, 35.173055456000043 ], [ 44.490068760000042, 35.157969887000036 ], [ 44.507205851000037, 35.149796551000065 ], [ 44.528042558000038, 35.131446808000078 ], [ 44.544070794000049, 35.120959384000059 ], [ 44.56971597200004, 35.11047060900006 ], [ 44.609786562000068, 35.10391443900005 ], [ 44.649857152000038, 35.102603142000078 ], [ 44.68672209500005, 35.102603142000078 ], [ 44.768466098000033, 35.09473491600005 ], [ 44.80853668900005, 35.09473491600005 ], [ 44.840593161000072, 35.089489010000079 ], [ 44.879060927000069, 35.071125681000069 ], [ 44.903103281000028, 35.052758219000054 ], [ 44.923939988000029, 35.030449317000034 ], [ 44.931954106000035, 35.002882854000063 ], [ 44.931954106000035, 34.98187359800005 ], [ 44.936762577000081, 34.958231740000031 ], [ 44.933556930000066, 34.938524980000068 ], [ 44.92073434100007, 34.918813484000054 ], [ 44.91432304600005, 34.895153438000079 ], [ 44.912720223000065, 34.872801580000043 ] ] ] } }\r
]\r
}\r
`,nt=({className:t=""})=>f.jsx("div",{className:`animate-pulse bg-slate-200 dark:bg-slate-700/50 rounded-lg ${t}`}),uOe=t=>{const e=t==null?void 0:t.geometry;return e?e.type==="Polygon"?{...t,geometry:{...e,coordinates:e.coordinates.map((n,r)=>r===0?[...n].reverse():n)}}:e.type==="MultiPolygon"?{...t,geometry:{...e,coordinates:e.coordinates.map(n=>n.map((r,i)=>i===0?[...r].reverse():r))}}:t:t},dOe=({data:t,selectedGovernorates:e=[],onSelect:n})=>{const{theme:r,appearance:i}=Sn(),a=i.accentType==="solid"?i.accentColor:i.accentGradient.start,s=C.useMemo(()=>{const h=JSON.parse(cOe);return{...h,features:(h.features||[]).map(uOe)}},[]),o=C.useMemo(()=>{const g=oOe().fitExtent([[35,15],[765,585]],s);g.scale(g.scale()*1.05);const[[x,v],[y,b]]=YCe(g).bounds(s),[w,E]=g.translate();return g.translate([w+(800/2-(x+y)/2),E+(600/2-(v+b)/2)]),g},[s]),{maxValue:l,minPositive:c}=C.useMemo(()=>{const h=Object.values(t||{}).filter(v=>typeof v=="number"),p=h.length>0?Math.max(...h):0,g=h.filter(v=>v>0),x=g.length>0?Math.min(...g):1;return{maxValue:p,minPositive:x}},[t]),u=C.useMemo(()=>ap().domain([c||1,l||c||1]).range([`${a}40`,a]),[c,l,a]),d=r==="dark"?"#0f172a":"#f1f5f9";return f.jsx("div",{className:"w-full h-full bg-slate-50 dark:bg-slate-900/50 rounded-2xl overflow-hidden relative flex items-center justify-center border border-slate-100 dark:border-slate-800",children:s?f.jsx(q_,{projection:o,className:"w-full h-full",children:f.jsx(H_,{geography:s,children:({geographies:h})=>f.jsxs(f.Fragment,{children:[h.map(p=>{const g=p.properties||{},x=g.name||g.shapeName||g.ADM1_EN||"Unknown",v=_=>typeof _=="string"?_.toLowerCase().replace(/[^a-z0-9]/g,""):"",y=v(x),b=Object.keys(t||{}).find(_=>{const N=v(_);return y&&N&&(y.includes(N)||N.includes(y))}),w=b||x,E=b&&t[b]||0,S=e.includes(w);let k=d;return S?k="#94a3b8":E>0&&(k=u(E)),f.jsx(aCe,{geography:p,fill:k,stroke:S?"#ffffff":r==="dark"?"#334155":"#cbd5e1",strokeWidth:S?2:.5,onClick:()=>{n&&n(w)},style:{default:{outline:"none",transition:"all 250ms"},hover:{fill:"#94a3b8",outline:"none",stroke:"#fff",strokeWidth:2,cursor:"pointer",opacity:.8},pressed:{outline:"none"}},title:`${w}: ${E} Orders`},p.rsmKey)}),h.map(p=>{const g=NCe(p);if(!g||isNaN(g[0])||isNaN(g[1]))return null;const x=p.properties||{},v=x.name||x.shapeName||x.ADM1_EN||"Unknown",y=k=>typeof k=="string"?k.toLowerCase().replace(/[^a-z0-9]/g,""):"",b=y(v),w=Object.keys(t||{}).find(k=>{const _=y(k);return b&&_&&(b.includes(_)||_.includes(b))}),E=w||v,S=w&&t[w]||0;return f.jsx(Q_,{coordinates:g,children:f.jsxs("g",{className:"pointer-events-none",style:{transform:"translateY(-6px)"},children:[f.jsx("text",{y:"-6",textAnchor:"middle",style:{fontSize:10,fill:r==="dark"?"#fff":"#1e293b",fontWeight:"bold",pointerEvents:"none",textShadow:"0px 0px 2px rgba(255,255,255,0.8)"},children:E}),f.jsx("text",{y:"8",textAnchor:"middle",style:{fontSize:12,fill:r==="dark"?"#e6f0ff":"#0f172a",fontWeight:"800",pointerEvents:"none",textShadow:"0px 0px 2px rgba(255,255,255,0.8)"},children:S>0?S:""})]})},`${p.rsmKey}-label`)})]})})}):f.jsxs("div",{className:"absolute inset-0 z-10 bg-white dark:bg-slate-900 overflow-hidden",children:[f.jsx(nt,{className:"w-full h-full rounded-none"}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("span",{className:"bg-white/50 dark:bg-slate-900/50 backdrop-blur px-3 py-1 rounded-full text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Loading Map..."})})]})})},fOe=({regions:t,selectedRegion:e,onSelect:n})=>{const r=[...t].sort((a,s)=>s.count-a.count).slice(0,5),i=a=>{n(a)};return f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 h-full flex flex-col",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(ts,{className:"w-5 h-5 text-accent"})," Top Regions"]}),f.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto custom-scrollbar pe-2",children:[r.map((a,s)=>{const o=e===a.name||Array.isArray(e)&&e.includes(a.name);return f.jsxs("div",{onClick:()=>i(a.name),className:`flex items-center justify-between p-3 rounded-xl cursor-pointer transition-all ltr:hover:translate-x-1 rtl:hover:-translate-x-1 ${o?"bg-accent text-white shadow-accent":"bg-slate-50 dark:bg-slate-700/30 border border-transparent hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-black transition-all ${s===0?"bg-amber-100 text-amber-600":s===1?"bg-slate-200 text-slate-600":s===2?"bg-orange-100 text-orange-600":""}`,style:s>2?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"}:{},children:s+1}),f.jsx("span",{className:`font-bold transition-colors ${o?"text-white":"text-slate-700 dark:text-slate-300"}`,children:a.name})]}),f.jsx("span",{className:`font-black transition-colors ${o?"text-white":"text-slate-800 dark:text-white"}`,children:a.count})]},a.name)}),r.length===0&&f.jsx("p",{className:"text-center text-slate-400 text-sm py-4",children:"No data available"})]})]})},hOe=({products:t,orders:e,formatCurrency:n})=>{const r=F.useMemo(()=>{const o={};return t.forEach(l=>{const c=l._id||l.id||l.id_str||l.sku||l.name;o[c]={...l,_id:c,totalSales:0,orderCount:0,distinctOrders:[]}}),e.forEach(l=>{l.items&&l.items.forEach(c=>{var d,h;const u=((d=c.product)==null?void 0:d._id)||c.productId;u&&o[u]&&(o[u].totalSales+=c.price*c.quantity,o[u].orderCount+=c.quantity,o[u].distinctOrders.push({id:l._id||l.id,customer:((h=l.customer)==null?void 0:h.name)||l.customer||"",date:l.date||l.createdAt||l.updatedAt,quantity:c.quantity,total:c.price*c.quantity}))})}),Object.values(o).sort((l,c)=>c.orderCount-l.orderCount).slice(0,10)},[t,e]),[i,a]=C.useState(null),s=o=>{a(i===o?null:o)};return f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(El,{className:"w-5 h-5 text-accent"})," Top Selling Products"]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-start border-collapse",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider border-b border-slate-100 dark:border-slate-700",children:[f.jsx("th",{className:"py-3 ps-2",children:"Product Name"}),f.jsx("th",{className:"py-3 text-center",children:"Sales"}),f.jsx("th",{className:"py-3 text-end pe-2",children:"Total Revenue"}),f.jsx("th",{className:"py-3 w-10"})]})}),f.jsxs("tbody",{className:"text-sm",children:[r.filter(o=>o.orderCount>0).map(o=>{var l;return f.jsxs(F.Fragment,{children:[f.jsxs("tr",{onClick:()=>s(o._id),className:`group cursor-pointer transition-colors border-b border-slate-50 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700/50 ${i===o._id?"bg-slate-50 dark:bg-slate-800":""}`,children:[f.jsxs("td",{className:"py-4 ps-2 font-bold text-slate-700 dark:text-slate-200 flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-100 dark:bg-slate-700 overflow-hidden shrink-0",children:f.jsx("img",{src:((l=o.images)==null?void 0:l[0])||"https://via.placeholder.com/40",alt:o.name||"Product image",className:"w-full h-full object-cover"})}),o.name]}),f.jsx("td",{className:"py-4 text-center text-slate-600 dark:text-slate-300",children:f.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-black transition-all",style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"},children:[o.orderCount," Orders"]})}),f.jsx("td",{className:"py-4 text-end pe-2 font-bold text-slate-800 dark:text-white",children:n(o.totalSales)}),f.jsx("td",{className:"py-4 text-center text-slate-400 group-hover:text-accent",children:i===o._id?f.jsx(Jx,{className:"w-4 h-4"}):f.jsx(uo,{className:"w-4 h-4"})})]}),i===o._id&&f.jsx("tr",{children:f.jsx("td",{colSpan:"4",className:"bg-slate-50/50 dark:bg-slate-900/30 p-4",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[f.jsx("div",{className:"px-4 py-3 bg-slate-50 dark:bg-slate-700/30 border-b border-slate-100 dark:border-slate-700 text-xs font-bold text-slate-500 uppercase flex justify-between",children:f.jsxs("span",{children:["Order Details (",o.distinctOrders.length,")"]})}),f.jsxs("div",{className:"max-h-60 overflow-y-auto custom-scrollbar",children:[o.distinctOrders.map((c,u)=>f.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-slate-50 dark:border-slate-700 last:border-0 hover:bg-slate-50 dark:hover:bg-slate-700/20 transition-colors",children:[f.jsx("div",{className:"flex items-center gap-4",children:f.jsxs("div",{className:"flex flex-col",children:[f.jsxs("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300 flex items-center gap-1",children:[f.jsx(Uo,{className:"w-3 h-3 text-slate-400"})," ",c.customer]}),f.jsxs("span",{className:"text-[10px] text-slate-400 flex items-center gap-1 mt-0.5",children:[f.jsx(SD,{className:"w-3 h-3"})," ",c.date&&!isNaN(new Date(c.date).getTime())?Jt(new Date(c.date),"dd MMM yyyy"):"N/A"]})]})}),f.jsxs("div",{className:"text-end",children:[f.jsxs("span",{className:"block text-xs font-bold text-slate-800 dark:text-white",children:["Qty: ",c.quantity]}),f.jsx("span",{className:"block text-[10px] font-semibold text-emerald-600 dark:text-emerald-400",children:n(c.total)})]})]},u)),o.distinctOrders.length===0&&f.jsx("div",{className:"text-center py-4 text-slate-400 text-xs",children:"No order details available"})]})]})})})]},o._id)}),r.filter(o=>o.orderCount>0).length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:"4",className:"text-center py-8 text-slate-400",children:"No sales data matches current filters"})})]})]})})]})},Bp=["Al Anbar","Babil","Baghdad","Basra","Dhi Qar","Al-Qadisiyyah","Diyala","Duhok","Erbil","Karbala","Kirkuk","Maysan","Muthanna","Najaf","Nineveh","Saladin","Sulaymaniyah","Wasit"],zp=["Facebook","Instagram","TikTok","Snapchat","Telegram","WhatsApp","Other"],pOe=()=>{var Ne,Me,ie,Ue;const{t}=dr(),{orders:e,expenses:n,products:r,customers:i,loading:a,formatCurrency:s,brand:o,categories:l,theme:c,appearance:u}=Sn(),d=C.useMemo(()=>e.length===0?z5(new Date,30):e.reduce((re,te)=>{try{const ve=Gr(te.date);return ve<re?ve:re}catch{return re}},new Date),[e]),h=C.useMemo(()=>({from:d,to:new Date}),[d]),[p,g]=C.useState(h),[x,v]=C.useState(!1);F.useEffect(()=>{!a&&e.length>0&&!x&&(g(h),v(!0))},[a,e.length,h,x]);const[y,b]=C.useState([]),[w,E]=C.useState([]),[S,k]=C.useState([]),[_,N]=C.useState([]),P=C.useMemo(()=>e.filter(re=>{var mt,Y;let te;try{te=re.date?Gr(re.date):null}catch{return!1}if(!te||isNaN(te.getTime()))return!1;const ve=!(p!=null&&p.from)||!(p!=null&&p.to)||qo(te,{start:p.from,end:p.to}),We=y.length===0||y.includes(re.status),Se=w.length===0||((mt=re.customer)==null?void 0:mt.governorate)&&w.includes(re.customer.governorate),Ie=S.length===0||((Y=re.customer)==null?void 0:Y.social)&&S.includes(re.customer.social),Fe=_.length===0||re.items&&re.items.some(ke=>{var Oe;return((Oe=ke.product)==null?void 0:Oe.category)&&_.includes(ke.product.category)});return ve&&We&&Se&&Ie&&Fe}),[e,p,y,w,S,_]),A=C.useMemo(()=>{if(!(p!=null&&p.from)||!(p!=null&&p.to))return 0;const re=p.from,ve=p.to.getTime()-re.getTime();if(ve<0)return 0;const We=new Date(re.getTime()-1),Se=new Date(We.getTime()-ve);return e.reduce((Ie,Fe)=>{var st,ae;let mt;try{mt=Fe.date?Gr(Fe.date):null}catch{return Ie}if(!mt||isNaN(mt.getTime()))return Ie;const Y=qo(mt,{start:Se,end:We}),ke=y.length===0||y.includes(Fe.status),Oe=w.length===0||((st=Fe.customer)==null?void 0:st.governorate)&&w.includes(Fe.customer.governorate),at=S.length===0||((ae=Fe.customer)==null?void 0:ae.social)&&S.includes(Fe.customer.social),lt=_.length===0||Fe.items&&Fe.items.some(G=>{var ce;return((ce=G.product)==null?void 0:ce.category)&&_.includes(G.product.category)});return!Y||!ke||!Oe||!at||!lt?Ie:Ie+(Number(Fe.total)||0)},0)},[e,p,y,w,S,_]),I=C.useMemo(()=>P.reduce((re,te)=>re+te.total,0),[P]),O=C.useMemo(()=>n.filter(re=>{let te;try{te=re.date?Gr(re.date):null}catch{return!1}return!te||isNaN(te.getTime())?!1:!(p!=null&&p.from)||!(p!=null&&p.to)||qo(te,{start:p.from,end:p.to})}),[n,p]),j=C.useMemo(()=>O.reduce((re,te)=>re+Number(te.amountIQD||0),0),[O]),R=C.useMemo(()=>s(I).replace(/\u00A0/g," "),[s,I]),D=C.useMemo(()=>A<=0?I>0?100:0:(I-A)/A*100,[I,A]),$=D>=0?"+":"-",U=C.useMemo(()=>`${$}${Math.abs(D).toFixed(1)}% vs last period`,[$,D,p,y,w,S,_]),V=P.length,B=C.useMemo(()=>new Set(P.map(re=>{var te,ve;return((te=re.customer)==null?void 0:te.phone)||((ve=re.customer)==null?void 0:ve.id)||re.customer}).filter(Boolean)).size,[P]),q=C.useMemo(()=>{const re={};return P.forEach(te=>{var We;const ve=(We=te.customer)==null?void 0:We.governorate;ve&&(re[ve]=(re[ve]||0)+1)}),Object.entries(re).map(([te,ve])=>({name:te,count:ve}))},[P]),K=C.useMemo(()=>q.length===0?{name:"N/A",count:0}:q.reduce((re,te)=>re.count>te.count?re:te),[q]),H=C.useMemo(()=>e.filter(re=>{let te;try{te=re.date?Gr(re.date):null}catch{return!1}return!te||isNaN(te.getTime())?!1:!(p!=null&&p.from)||!(p!=null&&p.to)||qo(te,{start:p.from,end:p.to})}),[e,p]),ne=C.useMemo(()=>{const re={};return H.forEach(te=>re[te.status]=(re[te.status]||0)+1),["Processing","Completed","Cancelled"].map(te=>({value:te,label:te,count:re[te]||0}))},[H]),he=C.useMemo(()=>{const re={};return H.forEach(te=>{var We;const ve=(We=te.customer)==null?void 0:We.governorate;ve&&(re[ve]=(re[ve]||0)+1)}),Bp.map(te=>({value:te,label:te,count:re[te]||0})).sort((te,ve)=>ve.count-te.count)},[H]),me=C.useMemo(()=>{const re={};return H.forEach(te=>{var We;const ve=(We=te.customer)==null?void 0:We.social;ve&&(re[ve]=(re[ve]||0)+1)}),zp.map(te=>({value:te,label:te,count:re[te]||0})).sort((te,ve)=>ve.count-te.count)},[H]),ee=C.useMemo(()=>{const re={};return H.forEach(te=>{var We;const ve=new Set;(We=te.items)==null||We.forEach(Se=>{var Fe;const Ie=(Fe=Se.product)==null?void 0:Fe.category;Ie&&!ve.has(Ie)&&(re[Ie]=(re[Ie]||0)+1,ve.add(Ie))})}),l.map(te=>({value:te,label:te,count:re[te]||0})).sort((te,ve)=>ve.count-te.count)},[H,l]),xe=C.useMemo(()=>{if(!(p!=null&&p.from)||!(p!=null&&p.to)||v_(p.from,p.to))return[];let re=[];try{re=Tke({start:p.from,end:p.to})}catch(ve){return console.error("Invalid date range for chart:",ve),[]}const te={};return re.forEach(ve=>te[Jt(ve,"yyyy-MM-dd")]=0),P.forEach(ve=>{const We=Jt(Gr(ve.date),"yyyy-MM-dd");te[We]!==void 0&&(te[We]+=ve.total)}),Object.entries(te).map(([ve,We])=>({date:Jt(Gr(ve),"MMM d"),value:We}))},[P,p]),_e=C.useMemo(()=>q.reduce((re,te)=>(re[te.name]=te.count,re),{}),[q]),J=c==="dark"?{text:"#94A3B8",grid:"#334155",tooltipBg:"#1E293B"}:{text:"#64748B",grid:"#E2E8F0",tooltipBg:"#FFFFFF"};return f.jsxs(sc,{title:t("dashboard.title"),children:[f.jsx("div",{className:"flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:f.jsxs("div",{className:"flex gap-3 w-full flex-wrap items-center",children:[f.jsx("div",{className:"h-[44px] flex-shrink-0",children:f.jsx(W5,{range:p,onRangeChange:g,brandColor:o.color})}),f.jsx(Hi,{title:t("dashboard.governorate"),options:he,selectedValues:w,onChange:E,icon:ts,showSearch:!1}),f.jsx(Hi,{title:t("dashboard.socialMedia"),options:me,selectedValues:S,onChange:k,icon:t0,showSearch:!1}),f.jsx(Hi,{title:t("dashboard.categories"),options:ee,selectedValues:_,onChange:N,icon:El,showSearch:!1}),f.jsx(Hi,{title:t("dashboard.status"),options:ne,selectedValues:y,onChange:b,icon:ir,showSearch:!1}),f.jsxs("div",{className:"ms-auto flex items-center gap-3 flex-wrap",children:[(y.length>0||w.length>0||S.length>0||_.length>0||((Ne=p.from)==null?void 0:Ne.getTime())!==((Me=h.from)==null?void 0:Me.getTime())||((ie=p.to)==null?void 0:ie.getTime())!==((Ue=h.to)==null?void 0:Ue.getTime()))&&f.jsx("button",{onClick:()=>{b([]),E([]),k([]),N([]),g(h)},className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(El,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:P.length})," ",t("dashboard.filteredOrders")]})]})]})]})}),f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:a?Array.from({length:5}).map((re,te)=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsx(nt,{className:"h-4 w-24"}),f.jsx(nt,{className:"h-5 w-5 rounded-full"})]}),f.jsx(nt,{className:"h-8 w-32 mb-2"}),f.jsx(nt,{className:"h-3 w-40"})]},te)):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"bg-accent rounded-3xl p-6 text-white shadow-accent",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 opacity-80",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.totalRevenue")}),f.jsx(iY,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-[clamp(0.95rem,2.6vw,1.85rem)] font-black mb-1 leading-tight whitespace-nowrap tracking-tight",children:R}),f.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium opacity-80",children:[f.jsx(uE,{className:"w-3 h-3"}),f.jsx("span",{children:U})]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 text-slate-400",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.totalOrders")}),f.jsx(CD,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-3xl font-black text-slate-800 dark:text-white mb-1",children:V}),f.jsx("p",{className:"text-xs text-slate-500 font-medium mt-1",children:t("dashboard.ordersPlaced")})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 text-slate-400",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.topRegion")}),f.jsx(ts,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-2xl font-black text-slate-800 dark:text-white mb-1 truncate",children:K.name}),f.jsx("p",{className:"text-xs text-slate-500 font-medium mt-1",children:t("dashboard.ordersCount",{count:K.count})})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 text-slate-400",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.totalExpenses")}),f.jsx(Zx,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-2xl font-black text-slate-800 dark:text-white mb-1 whitespace-nowrap overflow-hidden text-ellipsis",children:s(j).replace(/\u00A0/g," ")}),f.jsxs("p",{className:"text-xs text-slate-500 font-medium mt-1",children:[O.length," records"]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 text-slate-400",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.activeCustomers")}),f.jsx(tb,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-3xl font-black text-slate-800 dark:text-white mb-1",children:B}),f.jsx("p",{className:"text-xs text-slate-500 font-medium mt-1",children:t("dashboard.uniqueBuyers")})]})]})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[400px]",children:[f.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(uE,{className:"w-5 h-5",style:{color:u.accentType==="solid"?u.accentColor:u.accentGradient.start}})," ",t("dashboard.revenueTrend")]}),f.jsx("div",{className:"flex-1 min-h-0",children:a?f.jsx(nt,{className:"w-full h-full rounded-xl"}):f.jsx(Vge,{width:"100%",height:"100%",children:f.jsxs(yke,{data:xe,children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"5%",stopColor:u.accentType==="solid"?u.accentColor:u.accentGradient.start,stopOpacity:.3}),f.jsx("stop",{offset:"95%",stopColor:u.accentType==="solid"?u.accentColor:u.accentGradient.start,stopOpacity:0})]})}),f.jsx(bB,{strokeDasharray:"3 3",vertical:!1,stroke:J.grid}),f.jsx(L5,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:J.text},dy:10}),f.jsx(F5,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:J.text},tickFormatter:re=>`${re/1e3}k`}),f.jsx(Ua,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 8px 16px rgba(0,0,0,0.1)",backgroundColor:J.tooltipBg,color:c==="dark"?"#F8FAFC":"#1E293B"},itemStyle:{color:c==="dark"?"#F8FAFC":"#1E293B"},formatter:re=>[s(re),t("dashboard.revenue")]}),f.jsx(D0,{type:"monotone",dataKey:"value",stroke:u.accentType==="solid"?u.accentColor:u.accentGradient.start,strokeWidth:3,fillOpacity:1,fill:"url(#colorValue)"})]})})})]}),f.jsxs("div",{className:"lg:col-span-1 border border-slate-100 dark:border-slate-700 rounded-3xl overflow-hidden shadow-sm h-full relative",children:[f.jsx(dOe,{data:_e,selectedGovernorates:w,onSelect:re=>{w.includes(re)?E(w.filter(te=>te!==re)):E([...w,re])}}),f.jsx("div",{className:"absolute top-4 start-4 bg-white/90 backdrop-blur px-3 py-1 rounded-full text-xs font-bold text-slate-500 shadow-sm border border-slate-100",children:f.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[f.jsx(ts,{className:"w-3.5 h-3.5",style:{color:u.accentType==="solid"?u.accentColor:u.accentGradient.start}}),f.jsx("span",{children:"Map"})]})})]})]}),f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-[400px]",children:a?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsx(nt,{className:"h-6 w-48 mb-6"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(nt,{className:"h-10 w-full"}),f.jsx(nt,{className:"h-10 w-full"}),f.jsx(nt,{className:"h-10 w-full"})]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsx(nt,{className:"h-6 w-48 mb-6"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(nt,{className:"h-12 w-full"}),f.jsx(nt,{className:"h-12 w-full"}),f.jsx(nt,{className:"h-12 w-full"})]})]})]}):f.jsxs(f.Fragment,{children:[f.jsx(fOe,{regions:q,selectedRegion:w,onSelect:re=>{w.includes(re)?E(w.filter(te=>te!==re)):E([...w,re])}}),f.jsx("div",{className:"h-full",children:f.jsx(hOe,{products:r,orders:P,formatCurrency:s})})]})})]})]})},Pd=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i})=>{const{t:a}=dr();return t?f.jsxs("div",{className:"fixed inset-0 z-[1001] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:[f.jsx("div",{className:"absolute inset-0",onClick:e}),f.jsxs("div",{className:"relative w-full max-w-sm bg-white dark:bg-slate-800 rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[f.jsxs("div",{className:"p-6 text-center",children:[f.jsx("div",{className:"mx-auto w-16 h-16 bg-red-50 dark:bg-red-500/10 rounded-2xl flex items-center justify-center mb-4",children:f.jsx(Rr,{className:"w-8 h-8 text-red-500"})}),f.jsx("h3",{className:"text-xl font-black text-slate-800 dark:text-white mb-2",children:r||a("common.delete")}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-8 leading-relaxed",children:i||a("common.confirmDelete")}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx("button",{onClick:e,className:"py-3 px-4 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 font-bold rounded-2xl transition-all active:scale-95 text-sm",children:a("common.cancel")}),f.jsx("button",{onClick:()=>{n(),e()},className:"py-3 px-4 bg-red-500 hover:bg-red-600 text-white font-bold rounded-2xl transition-all shadow-lg shadow-red-500/25 active:scale-95 text-sm",children:a("common.delete")})]})]}),f.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-1 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-400 transition-colors",children:f.jsx(Fr,{className:"w-4 h-4"})})]})]}):null},mOe=({categories:t,products:e,onClose:n,onAdd:r,onUpdate:i,onDelete:a})=>{const{addToast:s}=Sn(),[o,l]=C.useState(""),[c,u]=C.useState(null),[d,h]=C.useState(""),[p,g]=C.useState({}),[x,v]=C.useState(!1),[y,b]=C.useState(null);C.useEffect(()=>{const _={};t.forEach(N=>{_[N]=e.filter(P=>P.category===N).length}),g(_)},[t,e]);const w=()=>{o.trim()&&(r(o.trim()),l(""))},E=()=>{c&&d.trim()&&d!==c&&(i(c,d.trim()),u(null),h(""))},S=_=>{if(p[_]>0){s(`Cannot delete category "${_}" because it is used by ${p[_]} products.`,"error");return}b(_),v(!0)},k=()=>{y&&(a(y),v(!1),b(null))};return f.jsxs("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden flex flex-col max-h-[80vh]",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-800/50",children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Manage Categories"}),f.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:f.jsx(Fr,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:o,onChange:_=>l(_.target.value),placeholder:"New Category Name",className:"flex-1 px-4 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent dark:text-white",onKeyDown:_=>_.key==="Enter"&&w()}),f.jsx("button",{onClick:w,disabled:!o.trim(),className:"px-4 py-2 bg-accent disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-xl shadow-lg shadow-accent/20 transition-all flex items-center justify-center",children:f.jsx(Ea,{className:"w-5 h-5"})})]})}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 custom-scrollbar bg-slate-50/50 dark:bg-slate-900/20",children:[t.map(_=>f.jsx("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm group hover:border-indigo-100 dark:hover:border-slate-600 transition-colors",children:c===_?f.jsxs("div",{className:"flex-1 flex gap-2 mr-2",children:[f.jsx("input",{autoFocus:!0,type:"text",value:d,onChange:N=>h(N.target.value),className:"flex-1 px-2 py-1 bg-slate-50 dark:bg-slate-900 border border-accent rounded-lg text-sm outline-none dark:text-white",onKeyDown:N=>{N.key==="Enter"&&E(),N.key==="Escape"&&u(null)}}),f.jsx("button",{onClick:E,className:"text-emerald-500 hover:bg-emerald-50 rounded p-1",children:f.jsx(E2,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>u(null),className:"text-red-400 hover:bg-red-50 rounded p-1",children:f.jsx(Fr,{className:"w-4 h-4"})})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200 text-sm",children:_}),f.jsxs("span",{className:"text-[10px] font-bold px-2 py-0.5 bg-slate-100 dark:bg-slate-700 text-slate-500 rounded-full",children:[p[_]||0," products"]})]}),f.jsxs("div",{className:"flex gap-1 opacity-100 sm:opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>{u(_),h(_)},className:"p-2 text-slate-400 hover:text-accent hover:bg-accent/10 rounded-lg transition-colors",title:"Rename",children:f.jsx(AD,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>S(_),className:`p-2 rounded-lg transition-colors ${p[_]>0?"text-slate-300 cursor-not-allowed":"text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30"}`,title:p[_]>0?"Cannot delete used category":"Delete",children:p[_]>0?f.jsx(_D,{className:"w-4 h-4"}):f.jsx(Rr,{className:"w-4 h-4"})})]})]})},_)),t.length===0&&f.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"No categories found. Add one above."})]})]}),f.jsx(Pd,{isOpen:x,onClose:()=>{v(!1),b(null)},onConfirm:k,title:"Delete Category",message:`Are you sure you want to delete category "${y}"?`})]})},Li=({title:t,options:e,selectedValue:n,onChange:r,icon:i,placeholder:a="Search...",showSearch:s=!0,customAction:o=null,disabled:l=!1,direction:c="down"})=>{const{appearance:u}=Sn(),[d,h]=C.useState(!1),[p,g]=C.useState(""),x=C.useRef(null);C.useEffect(()=>{const E=S=>{x.current&&!x.current.contains(S.target)&&h(!1)};return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[]),C.useEffect(()=>{d&&g("")},[d]);const v=E=>{r(E),h(!1)},y=C.useMemo(()=>p?e.filter(E=>E.label.toLowerCase().includes(p.toLowerCase())):e,[e,p]),b=e.find(E=>E.value===n),w=b?b.label:t;return f.jsxs("div",{className:"relative w-full",ref:x,children:[f.jsxs("button",{type:"button",disabled:l,onClick:()=>h(!d),className:`flex items-center justify-between w-full px-3 h-[44px] rounded-xl border-2 transition-all font-bold text-[11px] outline-none shadow-sm ${l?"bg-slate-50 dark:bg-slate-900/50 border-slate-100 dark:border-slate-800 text-slate-400 cursor-not-allowed opacity-60":d?"bg-accent/10 border-accent/40 text-accent shadow-[0_0_15px_-3px_rgba(0,0,0,0.1)]":["liquid","default_glass"].includes(u==null?void 0:u.theme)?"bg-white/40 dark:bg-slate-800/40 backdrop-blur-md border-white/20 dark:border-slate-700/50 text-slate-700 dark:text-white hover:bg-white/60 dark:hover:bg-slate-700/60":"bg-slate-50 dark:bg-slate-900 border-slate-100 dark:border-slate-800 text-slate-700 dark:text-white hover:border-slate-200 dark:hover:border-slate-700"}`,children:[f.jsxs("div",{className:"flex items-center gap-1 truncate",children:[i&&f.jsx(i,{className:`w-3.5 h-3.5 ${d?"text-accent":"text-slate-400"}`}),f.jsx("span",{className:"truncate",children:w})]}),f.jsx(uo,{className:`w-3 h-3 transition-transform flex-shrink-0 ${d?"rotate-180 text-accent":"text-slate-400"}`})]}),d&&f.jsx("div",{className:`absolute start-0 z-[100] w-full animate-in fade-in zoom-in-95 duration-200 ${c==="up"?"bottom-full mb-2":"top-full mt-2"}`,children:f.jsxs("div",{className:`rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col transition-all ${["liquid","default_glass"].includes(u==null?void 0:u.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:[s&&f.jsx("div",{className:"p-3 border-b border-slate-100 dark:border-slate-700",children:f.jsxs("div",{className:"relative",children:[f.jsx(Zl,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),f.jsx("input",{autoFocus:!0,type:"text",placeholder:a,value:p,onChange:E=>g(E.target.value),className:`w-full ps-9 pe-4 py-2 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent transition-all font-bold text-xs dark:text-white ${["liquid","default_glass"].includes(u==null?void 0:u.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900/50"}`})]})}),f.jsxs("div",{className:"flex-1 max-h-48 overflow-y-auto p-2 space-y-1",children:[o&&f.jsxs("div",{onClick:()=>{o.onClick(),h(!1)},className:"flex items-center gap-3 px-3 py-2 rounded-xl cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700/50 text-accent font-bold text-sm border border-dashed border-accent/30 mb-1",children:[o.icon&&f.jsx(o.icon,{className:"w-4 h-4"}),f.jsx("span",{children:o.label})]}),y.length===0?f.jsx("div",{className:"px-4 py-8 text-center text-slate-400",children:f.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"No results found"})}):y.map(E=>{const S=n===E.value;return f.jsxs("div",{onClick:()=>v(E.value),className:`flex items-center justify-between px-3 py-2 rounded-xl cursor-pointer transition-all group ${S?"bg-accent/10 text-accent font-bold":"hover:bg-slate-50 dark:hover:bg-slate-700/50 text-slate-600 dark:text-slate-300"}`,children:[f.jsx("span",{className:`text-xs font-semibold ${S?"text-accent":"text-slate-600 dark:text-slate-300"}`,children:E.label}),S&&f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent shadow-[0_0_8px_var(--accent-color)]"})]},E.value)})]})]})})]})},Bi=({src:t,alt:e,className:n="bg-slate-100 dark:bg-slate-700",imageClassName:r="",imageStyle:i=void 0,fallback:a=null})=>{const[s,o]=C.useState(!0),[l,c]=C.useState(!1),u=C.useRef(null);C.useEffect(()=>{var p;if(!t){o(!1),c(!1);return}c(!1),(p=u.current)!=null&&p.complete?o(!1):o(!0)},[t]);const d=()=>{o(!1)},h=()=>{c(!0),o(!1)};return f.jsxs("div",{className:`relative overflow-hidden ${n}`,children:[!t&&f.jsx("div",{className:"flex items-center justify-center w-full h-full text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800",children:a||f.jsxs("div",{className:"flex flex-col items-center gap-1",children:[f.jsx(sE,{className:"w-1/3 h-1/3 opacity-50"}),f.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider opacity-50",children:"No Image"})]})}),t&&f.jsxs(f.Fragment,{children:[s&&!l&&f.jsx("div",{className:"absolute inset-0 animate-pulse bg-slate-200 dark:bg-slate-600 z-10"}),l?f.jsx("div",{className:"flex items-center justify-center w-full h-full text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800",children:a||f.jsxs("div",{className:"flex flex-col items-center gap-1",children:[f.jsx(sE,{className:"w-1/3 h-1/3 opacity-50"}),f.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider opacity-50 text-center px-2",children:"Image Error"})]})}):f.jsx("img",{ref:u,src:t,alt:e,className:`w-full h-full object-cover transition-opacity duration-300 ${s?"opacity-0":"opacity-100"} ${r}`,style:i,onLoad:d,onError:h})]})]})},gOe=({images:t,currentIndex:e,onChange:n,onDelete:r,onDownload:i})=>{const{t:a}=dr(),{language:s}=Sn(),o=s==="ar",l=t.length>0&&e<t.length?e:0,c=t[l],u=(typeof c=="string"?c:c==null?void 0:c.url)||"https://via.placeholder.com/600";return!t||t.length===0?f.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-900/50 rounded-2xl border-2 border-dashed border-slate-200 dark:border-slate-800",children:[f.jsx(pl,{className:"w-12 h-12 text-slate-300 mb-4"}),f.jsx("p",{className:"text-sm font-bold text-slate-400",children:a("productPicture.modal.noImages")})]}):f.jsxs("div",{className:"relative w-full h-full flex flex-col group",children:[f.jsxs("div",{className:"relative h-[300px] sm:h-[400px] md:h-[500px] rounded-2xl overflow-hidden bg-slate-100 dark:bg-slate-900 flex items-center justify-center shadow-lg w-full",children:[f.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[f.jsx("img",{src:u,alt:"",className:"w-full h-full object-cover blur-3xl opacity-50 scale-125 transition-opacity duration-500"}),f.jsx("div",{className:"absolute inset-0 bg-white/20 dark:bg-black/40"})]}),f.jsx(Bi,{src:u,alt:"Product",className:"w-full h-full flex items-center justify-center relative z-10 bg-transparent",imageClassName:"w-auto h-auto max-w-full max-h-full object-contain drop-shadow-2xl"},u),f.jsxs("div",{className:`absolute top-4 ${o?"right-4":"left-4"} flex gap-2 z-30`,children:[f.jsx("button",{onClick:i,className:"p-2 bg-white/90 dark:bg-slate-800/90 hover:bg-white dark:hover:bg-slate-700 text-slate-800 dark:text-white rounded-lg backdrop-blur transition-all shadow-md border border-slate-200/50 dark:border-slate-700/50",title:a("common.download"),children:f.jsx(Vo,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>r(l),className:"p-2 bg-red-500/90 hover:bg-red-600 text-white rounded-lg backdrop-blur transition-all shadow-md border border-red-400/20",title:a("common.delete"),children:f.jsx(Rr,{className:"w-4 h-4"})})]}),t.length>1&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>n((l-1+t.length)%t.length),className:`absolute ${o?"right-4":"left-4"} top-[55%] md:top-1/2 -translate-y-1/2 p-2.5 md:p-3 bg-slate-900/40 hover:bg-slate-900/60 text-white rounded-full backdrop-blur-md transition-all z-20 shadow-lg border border-white/10`,children:o?f.jsx(Rh,{className:"w-5 h-5 md:w-6 md:h-6"}):f.jsx(H3,{className:"w-5 h-5 md:w-6 md:h-6"})}),f.jsx("button",{onClick:()=>n((l+1)%t.length),className:`absolute ${o?"left-4":"right-4"} top-[55%] md:top-1/2 -translate-y-1/2 p-2.5 md:p-3 bg-slate-900/40 hover:bg-slate-900/60 text-white rounded-full backdrop-blur-md transition-all z-20 shadow-lg border border-white/10`,children:o?f.jsx(H3,{className:"w-5 h-5 md:w-6 md:h-6"}):f.jsx(Rh,{className:"w-5 h-5 md:w-6 md:h-6"})})]})]}),t.length>1&&f.jsx("div",{className:"flex gap-2 mt-6 px-2 overflow-x-auto py-2 hide-scrollbar",children:t.map((d,h)=>f.jsx("button",{onClick:()=>n(h),className:`w-12 h-12 rounded-xl border-2 transition-all flex-shrink-0 bg-white dark:bg-slate-900 shadow-sm overflow-hidden ${h===l?"border-accent ring-2 ring-accent/20":"border-transparent opacity-60 hover:opacity-100"}`,children:f.jsx(Bi,{src:typeof d=="string"?d:d==null?void 0:d.url,alt:`Thumb ${h}`,className:"w-full h-full",imageClassName:"object-cover"})},h))})]})},RW=({product:t,onClose:e,onSave:n,onUpload:r})=>{var $;const{t:i}=dr(),{formatCurrency:a,isSidebarCollapsed:s,language:o,addToast:l}=Sn(),c=o==="ar",[u,d]=C.useState(0),[h,p]=C.useState(t.name||""),[g,x]=C.useState(t.description||""),[v,y]=C.useState(t.images||[]),[b,w]=C.useState(!1),[E,S]=C.useState(!1),k=["image/jpeg","image/png","image/webp","image/gif"],_=["jpg","jpeg","png","webp","gif"];C.useEffect(()=>{const U=V=>{V.key==="Escape"&&e()};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[e]),C.useEffect(()=>{p(t.name||""),x(t.description||""),y(t.images||[]),d(0)},[t._id]);const N=async()=>{if(h.trim()){w(!0);try{await n({...t,name:h,description:g,images:v})}catch(U){console.error("Failed to save product:",U)}finally{w(!1)}}},P=async U=>{if(U.target.files&&U.target.files.length>0){const V=Array.from(U.target.files),B=V.filter(H=>{var he,me;const ne=(me=(he=H.name)==null?void 0:he.split(".").pop())==null?void 0:me.toLowerCase();return k.includes(H.type)||_.includes(ne)});if(V.length-B.length>0&&l(i("productPicture.modal.invalidImageFormat"),"warning"),B.length===0){U.target.value="";return}const K=H=>new Promise(ne=>{const he=new FileReader;he.onload=me=>{const ee=new Image;ee.onload=()=>{const xe=document.createElement("canvas");let _e=ee.width,J=ee.height;const Ne=1200;_e>J?_e>Ne&&(J*=Ne/_e,_e=Ne):J>Ne&&(_e*=Ne/J,J=Ne),xe.width=_e,xe.height=J,xe.getContext("2d").drawImage(ee,0,0,_e,J),ne({url:xe.toDataURL("image/jpeg",.8),name:H.name})},ee.src=me.target.result},he.readAsDataURL(H)});try{const H=await Promise.all(B.map(K));if(r){const ne=await r(H);ne&&y(he=>[...he,...ne])}else y(ne=>[...ne,...H])}catch(H){console.error("Image processing failed:",H)}}U.target.value=""},A=()=>{S(!0)},I=()=>{const U=u,V=v.filter((B,q)=>q!==U);y(V),u>=V.length&&V.length>0?d(V.length-1):V.length===0&&d(0),S(!1)},O=v.length>0?v[u]:(($=t.images)==null?void 0:$[0])||t.image,j=typeof O=="string"?O:(O==null?void 0:O.url)||"https://via.placeholder.com/600",R=()=>{const U=document.createElement("a");U.href=j,U.download=`product-${t.sku}-${u}.jpg`,document.body.appendChild(U),U.click(),document.body.removeChild(U)},D=c?s?"lg:pr-20":"lg:pr-56":s?"lg:pl-20":"lg:pl-56";return f.jsxs("div",{className:`fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/60 backdrop-blur-md animate-in fade-in duration-300 transition-all ${D}`,children:[f.jsx("div",{className:"absolute inset-0",onClick:e}),f.jsxs("div",{className:"relative w-full h-full md:h-auto md:max-h-[95vh] md:max-w-6xl bg-white dark:bg-slate-800 md:rounded-3xl shadow-2xl overflow-hidden flex flex-col md:flex-row animate-in zoom-in slide-in-from-bottom-10 duration-500",children:[f.jsx("button",{onClick:e,className:`absolute top-16 ${c?"left-8":"right-8"} md:top-4 ${c?"md:left-4":"md:right-4"} z-[150] p-2 bg-slate-100/80 dark:bg-slate-900/80 hover:bg-slate-200 text-slate-500 dark:text-slate-400 rounded-lg transition-all active:scale-95 border border-slate-200/50 dark:border-slate-700/50 backdrop-blur shadow-sm`,children:f.jsx(Fr,{className:"w-4 h-4"})}),f.jsxs("div",{className:"flex flex-col md:flex-row flex-1 overflow-hidden",children:[f.jsxs("div",{className:"w-full h-[70vh] md:h-auto md:w-2/3 bg-slate-100 dark:bg-slate-900/50 flex flex-col p-4 pt-12 md:p-6 overflow-hidden relative",children:[f.jsx("div",{className:"flex-1 min-h-0",children:f.jsx(gOe,{images:v,currentIndex:u,onChange:U=>d(U),onDelete:()=>A(),onDownload:R})}),f.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-800 flex justify-center",children:f.jsxs("label",{className:"w-full sm:w-auto flex items-center justify-center gap-2 px-8 py-3 bg-accent text-white rounded-2xl text-sm font-black hover:brightness-110 cursor-pointer transition-all shadow-xl shadow-accent/20 active:scale-95",children:[f.jsx(Ea,{className:"w-5 h-5"}),f.jsx("span",{children:i("productPicture.modal.addPhoto")}),f.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:P})]})})]}),f.jsxs("div",{className:"w-full md:w-1/3 flex-1 p-6 md:p-8 flex flex-col bg-white dark:bg-slate-800 md:border-s border-slate-100 dark:border-slate-700 overflow-y-auto scrollbar-none",children:[f.jsxs("div",{className:"space-y-6 flex-1",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:i("productPicture.modal.productTitle")}),f.jsx("input",{type:"text",value:h,onChange:U=>p(U.target.value),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl font-bold text-slate-800 dark:text-white focus:ring-2 focus:ring-accent outline-none transition-all",placeholder:i("productPicture.modal.enterTitle")})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:i("productPicture.modal.description")}),f.jsx("textarea",{value:g,onChange:U=>x(U.target.value),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 focus:ring-2 focus:ring-accent outline-none transition-all resize-none h-32",placeholder:i("productPicture.modal.enterDescription")})]}),f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:i("productPicture.modal.sellingPrice")}),f.jsx("span",{className:"text-xl font-black text-slate-800 dark:text-white",children:a(t.sellingPriceIQD||t.price||0)})]}),f.jsx("div",{className:"p-2 bg-accent/10 rounded-lg",children:f.jsx(Qf,{className:"w-5 h-5 text-accent"})})]})]}),f.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100 dark:border-slate-700",children:f.jsx("button",{onClick:N,disabled:b||!h.trim(),className:"w-full py-3.5 bg-accent text-white font-bold rounded-xl shadow-accent transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",children:b?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),i("common.saving")]}):f.jsxs(f.Fragment,{children:[f.jsx(E2,{className:"w-5 h-5"}),i("settings.saveChanges")]})})})]})]}),f.jsx(Pd,{isOpen:E,onClose:()=>S(!1),onConfirm:I,title:i("common.delete"),message:i("productPicture.modal.confirmDeleteImage")})]})]})},Yl=({limit:t,onChange:e})=>{const{t:n}=dr(),{appearance:r}=Sn(),[i,a]=C.useState(!1),[s,o]=C.useState(![50,100,500,1e3].includes(t)),l=C.useRef(null),c=C.useRef(null),u=[50,100,500,1e3];C.useEffect(()=>{const p=g=>{l.current&&!l.current.contains(g.target)&&a(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const d=p=>{p==="custom"?o(!0):(o(!1),e(Number(p)),a(!1))},h=p=>{const g=Number(p.target.value);g>0&&e(g)};return f.jsxs("div",{className:"relative",ref:l,children:[f.jsxs("button",{onClick:()=>a(!i),className:`shrink-0 flex items-center gap-1.5 px-3 h-[44px] rounded-2xl border-2 transition-all font-bold text-[11px] outline-none ${i?"bg-accent/10 border-accent/30 text-accent shadow-[0_0_15px_-3px_rgba(0,0,0,0.1)]":["liquid","default_glass"].includes(r==null?void 0:r.theme)?"bg-white/40 dark:bg-slate-800/40 backdrop-blur-md border-white/20 dark:border-slate-700/50 text-slate-500 hover:bg-white/60 dark:hover:bg-slate-700/60":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-800 text-slate-500 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[f.jsx(TD,{className:"w-4 h-4"}),f.jsx("span",{className:"truncate",children:t}),f.jsx(uo,{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`})]}),i&&f.jsx("div",{className:"absolute top-full start-0 sm:start-auto sm:end-0 mt-2 z-50 w-48 max-w-[calc(100vw-1rem)] animate-in fade-in zoom-in-95 duration-200",children:f.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden py-2 ${["liquid","default_glass"].includes(r==null?void 0:r.theme)?"glass-panel":""}`,children:[u.map(p=>f.jsx("button",{onClick:()=>d(p),className:`w-full text-start px-4 py-2 text-sm font-semibold hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors ${t===p&&!s?"text-accent bg-accent/5":"text-slate-600 dark:text-slate-300"}`,children:p},p)),f.jsxs("div",{className:"px-2 pt-2 mt-2 border-t border-slate-100 dark:border-slate-700",children:[f.jsx("button",{onClick:()=>d("custom"),className:`w-full text-start px-2 py-1.5 text-xs font-black uppercase tracking-widest ${s?"text-accent":"text-slate-400"}`,children:n("common.custom")||"Custom"}),s&&f.jsx("div",{className:"px-2 pb-2",children:f.jsx("input",{ref:c,type:"number",value:t,onChange:h,className:"w-full mt-1 px-3 py-2 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-bold outline-none focus:border-accent transition-all dark:text-white",placeholder:"Value...",autoFocus:!0})})]})]})})]})},Q5=(t,e=null)=>{if(!t||t.length===0)return"";const n=e||Object.keys(t[0]),r=n.map(a=>`"${a}"`).join(","),i=t.map(a=>n.map(s=>{let o=a[s];return typeof o=="object"&&o!==null&&(o=JSON.stringify(o)),o==null&&(o=""),`"${String(o).replace(/"/g,'""')}"`}).join(","));return[r,...i].join(`
`)},X5=(t,e)=>{const n="\uFEFF",r=new Blob([n+t],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),a=URL.createObjectURL(r);i.setAttribute("href",a),i.setAttribute("download",e),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a)},yOe=(t,e=null)=>{if(!t||t.length===0)return;const n=t.map(a=>{var s,o,l,c,u,d,h;return{"Order ID":a.orderId||a._id,Date:a.date,Status:a.status,"Customer Name":((s=a.customer)==null?void 0:s.name)||"","Customer Phone":((o=a.customer)==null?void 0:o.phone)||"","Customer Email":((l=a.customer)==null?void 0:l.email)||"","Customer Address":((c=a.customer)==null?void 0:c.address)||"",Governorate:((u=a.customer)==null?void 0:u.governorate)||"","Social Platform":((d=a.customer)==null?void 0:d.social)||"","Items Count":((h=a.items)==null?void 0:h.length)||0,Subtotal:a.subtotal||a.total,"Discount %":a.discount||0,Total:a.total,Notes:a.notes||""}}),r=Q5(n),i=e||`orders_export_${new Date().toISOString().split("T")[0]}.csv`;X5(r,i)},vOe=(t,e=null)=>{if(!t||t.length===0)return;const n=t.map(a=>({Name:a.name,Phone:a.phone,Email:a.email||"",Address:a.address||"",Governorate:a.governorate||"","Social Platform":a.social||"",Notes:a.notes||"","Created On":a.createdOn||""})),r=Q5(n),i=e||`customers_export_${new Date().toISOString().split("T")[0]}.csv`;X5(r,i)},xOe=(t,e=null)=>{if(!t||t.length===0)return;const n=t.map(a=>({Name:a.name,SKU:a.sku,Category:a.category,Stock:a.stock,Status:a.status,"Selling Price (IQD)":a.sellingPriceIQD||a.price,"Unit Price ($)":a.unitPriceUSD||a.unitPrice,"Profit per Unit (IQD)":a.profitPerUnitIQD||0,"Units Sold":a.unitsSold||0,"Total Profit (IQD)":a.totalProfitIQD||0})),r=Q5(n),i=e||`products_export_${new Date().toISOString().split("T")[0]}.csv`;X5(r,i)},bOe=(t,e=null)=>{if(!t||t.length===0)return;const n=t.map(a=>({Date:a.date||"",Type:a.type||"",Campaign:a.campaign||"","Amount (IQD)":a.amountIQD||0,Link:a.link||"",Tags:Array.isArray(a.tags)?a.tags.join(", "):a.tags||"",Attachments:Array.isArray(a.attachments)?a.attachments.map(s=>(s==null?void 0:s.name)||(s==null?void 0:s.url)).filter(Boolean).join(" | "):"",Notes:a.notes||""})),r=Q5(n),i=e||`expenses_export_${new Date().toISOString().split("T")[0]}.csv`;X5(r,i)},Lm=t=>{const e=Number(t);return e<=0?"Out of Stock":e<10?"Low Stock":"In Stock"},DO=t=>Math.round(t/500)*500,wOe=["In Stock","Low Stock","Out of Stock"],RO=({status:t})=>{const{t:e}=dr(),n=i=>{switch(i){case"In Stock":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400";case"Low Stock":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";case"Out of Stock":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-200"}},r=i=>{switch(i){case"In Stock":return e("products.stockStatus.instock");case"Low Stock":return e("products.stockStatus.lowstock");case"Out of Stock":return e("products.stockStatus.outofstock");default:return i}};return f.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold ${n(t)}`,children:r(t)})},_Oe=()=>{const{t,i18n:e}=dr(),{products:n,addProduct:r,updateProduct:i,deleteProduct:a,categories:s,addCategory:o,updateCategory:l,deleteCategory:c,formatCurrency:u,loading:d,brand:h,addToast:p,appearance:g,setIsModalOpen:x}=Sn(),[v,y]=C.useState(""),[b,w]=C.useState([]),[E,S]=C.useState([]),[k,_]=C.useState(!1),[N,P]=C.useState(!1),[A,I]=C.useState(!1),[O,j]=C.useState(100),[R,D]=C.useState(null),[$,U]=C.useState(null),[V,B]=C.useState({key:null,direction:"ascending"}),q=C.useRef(null),[K,H]=C.useState(!1),[ne,he]=C.useState(null);C.useEffect(()=>(x(k||N||A||K),()=>x(!1)),[k,N,A,K,x]);const me={name:"",sku:"",category:"",unitPrice:"",price:"",stock:"",status:"In Stock",images:[],alibabaProductLink:"",alibabaMessageLink:"",alibabaOrderLink:"",alibabaOrderNumber:"",unitPriceUSD:"",exchangeRate:"1380",unitPriceIQD:0,additionalFeesIQD:"",shippingToIraqIQD:"",marginPercent:"",sellingPriceIQD:0,profitPerUnitIQD:0,unitsSold:0,totalProfitIQD:0,alibabaFeeUSD:"",isSellingPriceOverridden:!1,costPriceIQD_total:0,costPriceIQD_perUnit:0,recommendedSellingPriceIQD_perUnit:0,alibabaNote:"",description:"",profitPerUnitUSD:0,totalProfitUSD:0},[ee,xe]=C.useState(me),[_e,J]=C.useState(""),[Ne,Me]=C.useState(!1),ie=C.useMemo(()=>{const ae={};return n.forEach(G=>{G.category&&(ae[G.category]=(ae[G.category]||0)+1)}),s.map(G=>({value:G,label:G,count:ae[G]||0})).sort((G,ce)=>ce.count-G.count)},[s,n]),Ue=C.useMemo(()=>{const ae={};return n.forEach(G=>{G.status&&(ae[G.status]=(ae[G.status]||0)+1)}),wOe.map(G=>({value:G,label:t(`products.stockStatus.${G.replace(/\s/g,"").toLowerCase()}`),count:ae[G]||0}))},[n,t]),ve=C.useMemo(()=>{let ae=[...n];return V.key&&ae.sort((G,ce)=>{let Pe=G[V.key],He=ce[V.key];return typeof Pe=="string"&&(Pe=Pe.toLowerCase()),typeof He=="string"&&(He=He.toLowerCase()),Pe<He?V.direction==="ascending"?-1:1:Pe>He?V.direction==="ascending"?1:-1:0}),ae},[n,V]).filter(ae=>{const G=ae.name.toLowerCase().includes(v.toLowerCase())||ae.sku.toLowerCase().includes(v.toLowerCase()),ce=b.length===0||b.includes(ae.category),Pe=E.length===0||E.includes(ae.status);return G&&ce&&Pe}).slice(0,O),We=ae=>{let G="ascending";V.key===ae&&V.direction==="ascending"&&(G="descending"),B({key:ae,direction:G})};C.useEffect(()=>{const ae=parseFloat(ee.unitPriceUSD)||0,G=parseFloat(ee.alibabaFeeUSD)||0,ce=parseInt(ee.stock)||0,Pe=parseFloat(ee.exchangeRate)||1320,He=parseFloat(ee.shippingToIraqIQD)||0,tn=parseFloat(ee.additionalFeesIQD)||0,An=parseFloat(ee.marginPercent)||0,qn=parseInt(ee.unitsSold)||0,hn=(ae+G)*ce*Pe+He+tn,le=ce>0?hn/ce:0,be=le*(1+An/100),ye=DO(be);xe(z=>{let X=z.sellingPriceIQD;z.isSellingPriceOverridden||(X=ye);const ue=(parseFloat(X)||0)-le,ge=ue*qn,et=Pe>0?ue/Pe:0,ft=et*qn;return z.costPriceIQD_total===hn&&z.costPriceIQD_perUnit===le&&z.recommendedSellingPriceIQD_perUnit===ye&&z.sellingPriceIQD===X&&z.profitPerUnitIQD===ue&&z.totalProfitIQD===ge&&z.profitPerUnitUSD===et&&z.totalProfitUSD===ft?z:{...z,costPriceIQD_total:hn,costPriceIQD_perUnit:le,recommendedSellingPriceIQD_perUnit:ye,sellingPriceIQD:X,profitPerUnitIQD:ue,totalProfitIQD:ge,profitPerUnitUSD:et,totalProfitUSD:ft,unitPrice:ae,price:X}})},[ee.unitPriceUSD,ee.alibabaFeeUSD,ee.stock,ee.exchangeRate,ee.shippingToIraqIQD,ee.additionalFeesIQD,ee.marginPercent,ee.unitsSold,ee.isSellingPriceOverridden]);const Se=()=>{D(null),xe(me),_(!0)},Ie=ae=>{D(ae),xe({...me,...ae,images:ae.images||[]}),_(!0)},Fe=ae=>{he(ae),H(!0)},mt=()=>{ne&&(a(ne),H(!1),he(null))},Y=ae=>{const{name:G,value:ce}=ae.target;if(G==="category"&&ce==="new")Me(!0),xe(Pe=>({...Pe,category:""}));else if(G==="sellingPriceIQD"){const Pe=ce===""?"":parseFloat(ce);xe(He=>({...He,sellingPriceIQD:Pe,isSellingPriceOverridden:!0}))}else xe(Pe=>({...Pe,[G]:ce}))},ke=()=>{xe(ae=>{if(!ae.isSellingPriceOverridden)return ae;const G=DO(parseFloat(ae.sellingPriceIQD)||0),ce=ae.costPriceIQD_perUnit,Pe=ce>0?(G/ce-1)*100:0;return{...ae,sellingPriceIQD:G,marginPercent:Pe.toFixed(2)}})},Oe=ae=>{const G=Array.from(ae.target.files);G.length!==0&&G.forEach(ce=>{const Pe=new FileReader;Pe.onloadend=()=>{xe(He=>({...He,images:[...He.images,Pe.result]}))},Pe.readAsDataURL(ce)})},at=ae=>{const G=ee.images.filter((ce,Pe)=>Pe!==ae);xe(ce=>({...ce,images:G}))},lt=ae=>{if(ae.preventDefault(),parseFloat(ee.marginPercent)>=100){p(t("products.marginTooHigh"),"error");return}const G={...ee,unitPriceUSD:parseFloat(ee.unitPriceUSD)||0,alibabaFeeUSD:parseFloat(ee.alibabaFeeUSD)||0,exchangeRate:parseFloat(ee.exchangeRate)||1380,additionalFeesIQD:parseFloat(ee.additionalFeesIQD)||0,shippingToIraqIQD:parseFloat(ee.shippingToIraqIQD)||0,marginPercent:parseFloat(ee.marginPercent)||0,unitsSold:parseInt(ee.unitsSold)||0,stock:parseInt(ee.stock)||0,status:Lm(ee.stock),unitPrice:parseFloat(ee.unitPriceUSD)||0,price:ee.sellingPriceIQD||0,images:ee.images||[]};R?i({...G,_id:R._id}):r(G),_(!1)},st=({column:ae,label:G,border:ce=!1})=>{const Pe=V.key===ae;return f.jsx("th",{onClick:()=>We(ae),className:`px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors select-none ${ce?"border-s dark:border-slate-700":""}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[G,Pe&&f.jsx("span",{className:"text-[var(--brand-color)] font-bold",children:V.direction==="ascending"?"":""})]})})};return f.jsxs(sc,{title:t("products.title"),children:[f.jsxs("div",{className:"flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[f.jsxs("div",{className:"flex gap-2 sm:gap-3 items-center w-full sm:w-auto flex-nowrap",children:[f.jsxs("button",{onClick:Se,className:"flex-1 sm:flex-none min-w-0 flex items-center justify-center gap-1 sm:gap-2 px-2.5 sm:px-6 py-2.5 text-white rounded-xl font-bold text-[13px] sm:text-base transition-all bg-accent shadow-accent hover:brightness-110 active:scale-95",children:[f.jsx(Ea,{className:"w-4 h-4 sm:w-5 sm:h-5 shrink-0"}),f.jsx("span",{className:"truncate",children:t("products.addProduct")})]}),f.jsxs("button",{onClick:()=>{if(ve.length===0)return p(t("common.noDataToExport"),"info");xOe(ve)},className:"flex-1 sm:flex-none min-w-0 flex items-center justify-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2.5 bg-green-600 text-white rounded-xl font-bold text-[13px] sm:text-base transition-all shadow-lg hover:bg-green-700 active:scale-95",children:[f.jsx(Vo,{className:"w-5 h-5"}),f.jsx("span",{className:"truncate sm:hidden",children:"CSV"}),f.jsx("span",{className:"truncate hidden sm:inline",children:t("common.exportCSV")})]}),f.jsxs("button",{onClick:()=>P(!0),className:"hidden sm:flex flex-1 sm:flex-none min-w-0 items-center justify-center gap-1.5 sm:gap-2 px-3 sm:px-6 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700 active:scale-95",children:[f.jsx(eb,{className:"w-4 h-4"}),f.jsx("span",{className:"truncate",children:t("products.manageCategories")})]}),f.jsx("button",{onClick:()=>{(b.length>0||E.length>0||v)&&(y(""),w([]),S([]))},className:`sm:hidden flex-1 min-w-0 flex items-center justify-center gap-1.5 px-3 py-2.5 rounded-xl font-bold text-sm transition-all border active:scale-95 ${b.length>0||E.length>0||v?"bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 border-slate-200 dark:border-slate-700":"opacity-0 pointer-events-none border-transparent"}`,children:f.jsx("span",{className:"truncate",children:t("common.clearFilters")})})]}),f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[(b.length>0||E.length>0||v)&&f.jsx("button",{onClick:()=>{y(""),w([]),S([])},className:"hidden sm:inline-flex px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsx("button",{onClick:()=>P(!0),className:"sm:hidden shrink-0 whitespace-nowrap px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700 active:scale-95",children:t("products.manageCategories")}),f.jsx(Yl,{limit:O,onChange:j}),f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(pl,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:ve.length})," ",t("products.title")]})]})]})]}),f.jsxs("div",{className:"flex gap-3 w-full flex-wrap lg:flex-nowrap items-center",children:[f.jsxs("div",{className:"relative order-last w-full sm:order-none sm:min-w-[200px] sm:flex-1 lg:flex-none lg:w-[320px] h-[44px]",children:[f.jsx(Zl,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("products.searchPlaceholder"),value:v,onChange:ae=>y(ae.target.value),className:"ps-10 pe-4 py-0 h-full w-full bg-white dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-800 rounded-2xl outline-none focus:border-accent/40 focus:ring-4 focus:ring-accent/10 transition-all font-bold text-sm text-slate-700 dark:text-white"})]}),f.jsx(Hi,{title:t("products.categories"),options:ie,selectedValues:b,onChange:w,icon:El,showProductCount:!0}),f.jsx(Hi,{title:t("products.status"),options:Ue,selectedValues:E,onChange:S,icon:ir,showSearch:!1})]})]}),N&&f.jsx(mOe,{categories:s,products:n,onClose:()=>P(!1),onAdd:o,onUpdate:l,onDelete:c}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[f.jsx("div",{className:"hidden sm:block overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:[f.jsx(st,{column:"name",label:t("products.table.product")}),f.jsx(st,{column:"category",label:t("products.table.category")}),f.jsx(st,{column:"stock",label:t("products.table.stock"),border:!0}),f.jsx(st,{column:"sellingPriceIQD",label:t("products.table.price"),border:!0}),f.jsx(st,{column:"status",label:t("products.table.status"),border:!0}),f.jsx("th",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:t("common.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:d?Array.from({length:5}).map((ae,G)=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(nt,{className:"w-12 h-12 rounded-xl"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{className:"w-24 h-4"}),f.jsx(nt,{className:"w-16 h-3"})]})]})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(nt,{className:"w-20 h-6 rounded-lg"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(nt,{className:"w-12 h-5"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(nt,{className:"w-24 h-5"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(nt,{className:"w-20 h-6 rounded-full"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(nt,{className:"w-16 h-8 ms-auto rounded-lg"})})]},G)):ve.length===0?f.jsx("tr",{children:f.jsxs("td",{colSpan:"6",className:"text-center py-12 text-slate-400",children:[f.jsx(pl,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:t("products.noProducts")})]})}):ve.map(ae=>f.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 rounded-xl overflow-hidden bg-slate-100 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 flex-shrink-0 cursor-zoom-in hover:brightness-90 transition-all shadow-sm",onClick:()=>{U(ae),I(!0)},children:f.jsx(Bi,{src:ae.images&&ae.images[0]?typeof ae.images[0]=="string"?ae.images[0]:ae.images[0].url:ae.image||"https://via.placeholder.com/400x400?text=No+Image",alt:ae.name,className:"w-full h-full"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-bold text-slate-800 dark:text-white",children:ae.name}),f.jsx("p",{className:"text-xs font-mono text-slate-400 uppercase tracking-tighter",children:ae.sku})]})]})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("span",{className:"px-2.5 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-lg text-xs font-bold",children:ae.category})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-sm font-bold text-slate-800 dark:text-white",children:ae.stock})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-sm font-black text-slate-800 dark:text-white",children:u(ae.sellingPriceIQD||ae.price||0)})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx(RO,{status:Lm(ae.stock)})}),f.jsx("td",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-end gap-1",children:[f.jsx("button",{onClick:()=>Ie(ae),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all",title:t("common.edit"),children:f.jsx(Bs,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>Fe(ae._id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",title:t("common.delete"),children:f.jsx(Rr,{className:"w-4 h-4"})})]})})]},ae._id))})]})}),f.jsx("div",{className:"block sm:hidden p-4 space-y-3",children:d?Array.from({length:3}).map((ae,G)=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-4 flex gap-4",children:[f.jsx(nt,{className:"w-16 h-16 rounded-xl flex-shrink-0"}),f.jsxs("div",{className:"flex-1 space-y-3",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{className:"w-32 h-4"}),f.jsx(nt,{className:"w-20 h-3"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{className:"w-16 h-4"}),f.jsx(nt,{className:"w-12 h-3"})]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx(nt,{className:"w-20 h-3"}),f.jsx(nt,{className:"w-16 h-8 rounded-lg"})]})]})]},G)):ve.length===0?f.jsxs("div",{className:"text-center py-12 text-slate-400",children:[f.jsx(pl,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:t("products.noProducts")})]}):ve.map(ae=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-4 flex items-start gap-4",children:[f.jsx("div",{className:"w-16 h-16 rounded-xl overflow-hidden bg-slate-100 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 flex-shrink-0",children:f.jsx(Bi,{src:ae.images&&ae.images[0]?typeof ae.images[0]=="string"?ae.images[0]:ae.images[0].url:ae.image||"https://via.placeholder.com/400x400?text=No+Image",alt:ae.name,className:"w-full h-full"})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-bold text-slate-800 dark:text-white",children:ae.name}),f.jsxs("p",{className:"text-xs text-slate-400",children:[ae.sku,"  ",f.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-slate-100 dark:bg-slate-700",children:ae.category})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-sm font-black text-slate-800 dark:text-white",children:u(ae.sellingPriceIQD||ae.price||0)}),f.jsx("div",{className:"text-[10px] text-slate-400",children:Lm(ae.stock)})]})]}),f.jsxs("div",{className:"flex items-center justify-between mt-3",children:[f.jsxs("div",{className:"text-[11px] text-slate-600",children:[t("products.table.stock"),": ",f.jsx("span",{className:"font-bold",children:ae.stock})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>Ie(ae),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-all",title:t("common.edit"),children:f.jsx(Bs,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>Fe(ae._id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",title:t("common.delete"),children:f.jsx(Rr,{className:"w-4 h-4"})})]})]})]})]},ae._id))})]}),k&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-black/50 backdrop-blur-sm p-2 sm:p-4 overflow-y-auto",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-2xl w-full max-w-2xl my-4 sm:my-8 animate-in fade-in zoom-in duration-200 flex flex-col relative max-h-[90vh]",children:[f.jsxs("div",{className:"px-6 py-5 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-white dark:bg-slate-800 sticky top-0 z-20 rounded-t-3xl",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white uppercase tracking-tight",children:t(R?"products.editProduct":"products.addProduct")}),f.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:R?`${t("products.sku")}: ${ee.sku}`:t("products.fillInfo")})]}),f.jsx("button",{onClick:()=>_(!1),className:"w-10 h-10 flex items-center justify-center text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-all",children:f.jsx(Fr,{className:"w-6 h-6"})})]}),f.jsxs("form",{id:"productForm",onSubmit:lt,className:"overflow-y-auto p-6 space-y-8 custom-scrollbar relative",children:[f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.basicInfo")}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.productName")}),f.jsx("input",{required:!0,name:"name",value:ee.name,onChange:Y,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none dark:text-white transition-all",placeholder:t("products.form.productNamePlaceholder")})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.sku")}),f.jsx("input",{required:!0,name:"sku",value:ee.sku,onChange:Y,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none dark:text-white transition-all",placeholder:t("products.form.skuPlaceholder")})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.category")}),f.jsx(Li,{title:t("products.form.selectCategory"),options:s.map(ae=>({value:ae,label:ae})),selectedValue:ee.category,onChange:ae=>xe(G=>({...G,category:ae})),icon:El,showSearch:!1,customAction:{label:t("products.form.createCategory"),icon:Ea,onClick:()=>P(!0)}})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.stock")}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{required:!0,type:"number",name:"stock",value:ee.stock,onChange:Y,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none dark:text-white transition-all shadow-sm"}),f.jsx("div",{className:"absolute end-3 top-1/2 -translate-y-1/2",children:f.jsx(RO,{status:Lm(ee.stock)})})]})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.alibabaSourcing")}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.productLink")}),f.jsx("input",{name:"alibabaProductLink",value:ee.alibabaProductLink,onChange:Y,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium",placeholder:"https://..."})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.messageLink")}),f.jsx("input",{name:"alibabaMessageLink",value:ee.alibabaMessageLink,onChange:Y,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium",placeholder:"https://..."})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.orderLink")}),f.jsx("input",{name:"alibabaOrderLink",value:ee.alibabaOrderLink,onChange:Y,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium",placeholder:"https://..."})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.alibabaOrderNo")}),f.jsx("input",{name:"alibabaOrderNumber",value:ee.alibabaOrderNumber,onChange:Y,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-bold shadow-sm",placeholder:"1234..."})]}),f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.alibabaNote")}),f.jsxs("div",{className:"relative",children:[f.jsx(pY,{className:"absolute start-3 top-3 w-4 h-4 text-slate-400"}),f.jsx("textarea",{name:"alibabaNote",value:ee.alibabaNote,onChange:Y,className:"w-full ps-10 pe-4 py-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium min-h-[80px] resize-none",placeholder:t("products.form.notePlaceholder")})]})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.costAndPricing")}),f.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.unitPrice")}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute start-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:"$"}),f.jsx("input",{required:!0,type:"number",step:"0.01",name:"unitPriceUSD",value:ee.unitPriceUSD,onChange:Y,className:"w-full ps-7 p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.alibabaFee")}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute start-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:"$"}),f.jsx("input",{type:"number",step:"0.01",name:"alibabaFeeUSD",value:ee.alibabaFeeUSD,onChange:Y,className:"w-full ps-7 p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.exchangeRate")}),f.jsx("input",{required:!0,type:"number",name:"exchangeRate",value:ee.exchangeRate,onChange:Y,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.margin")}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{required:!0,type:"number",name:"marginPercent",value:ee.marginPercent,onChange:Y,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"}),f.jsx("span",{className:"absolute end-3 top-1/2 -translate-y-1/2 text-slate-400",children:"%"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.shippingIQD")}),f.jsx("input",{type:"number",name:"shippingToIraqIQD",value:ee.shippingToIraqIQD,onChange:Y,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.otherFeesIQD")}),f.jsx("input",{type:"number",name:"additionalFeesIQD",value:ee.additionalFeesIQD,onChange:Y,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none"})]}),f.jsxs("div",{className:"col-span-2 grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:t("products.form.costTotal")}),f.jsxs("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:["IQD ",(ee.costPriceIQD_total||0).toLocaleString()]})]}),f.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:t("products.form.costPerUnit")}),f.jsxs("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:["IQD ",(ee.costPriceIQD_perUnit||0).toLocaleString()]})]})]}),f.jsxs("div",{className:"col-span-full grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-1",children:t("products.form.recommendedPrice")}),f.jsxs("span",{className:"text-xl font-bold text-slate-600 dark:text-slate-400",children:["IQD ",(ee.recommendedSellingPriceIQD_perUnit||0).toLocaleString()]})]}),f.jsxs("div",{className:`p-4 rounded-2xl border-2 transition-all ${ee.isSellingPriceOverridden?"bg-orange-50 border-orange-200 dark:bg-orange-900/10 dark:border-orange-800/50":"bg-[var(--brand-color)]/5 border-[var(--brand-color)]/20"}`,children:[f.jsxs("div",{className:"flex justify-between items-start mb-1",children:[f.jsx("span",{className:"text-[10px] font-bold text-[var(--brand-color)] uppercase tracking-wider",children:t("products.form.finalPrice")}),ee.isSellingPriceOverridden&&f.jsxs("button",{type:"button",onClick:()=>xe(ae=>({...ae,isSellingPriceOverridden:!1})),className:"text-[10px] font-bold text-orange-600 hover:underline flex items-center gap-1",children:[f.jsx(Fr,{className:"w-3 h-3"})," ",t("common.reset")]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg font-black text-[var(--brand-color)]",children:"IQD"}),f.jsx("input",{type:"number",name:"sellingPriceIQD",value:ee.sellingPriceIQD,onChange:Y,onBlur:ke,className:"w-full bg-transparent border-b-2 border-[var(--brand-color)] animate-pulse-slow outline-none text-2xl font-black text-[var(--brand-color)]"})]}),f.jsx("p",{className:"text-[10px] text-slate-400 mt-1 font-medium italic",children:ee.isSellingPriceOverridden?t("products.form.manualOverride"):t("products.form.autoCalculated")})]})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.profitAnalysis")}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("div",{className:"w-2 h-4 bg-green-500 rounded-full"}),f.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-slate-400",children:t("products.form.iqdAnalysis")})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1",children:t("products.form.profitPerUnit")}),f.jsxs("span",{className:`text-lg font-black ${ee.profitPerUnitIQD>=0?"text-green-600 dark:text-green-400":"text-red-500"}`,children:[ee.profitPerUnitIQD>=0?"+":"-"," IQD ",Math.abs(ee.profitPerUnitIQD||0).toLocaleString()]})]}),f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1",children:t("products.form.totalProfit")}),f.jsxs("span",{className:`text-lg font-black ${ee.totalProfitIQD>=0?"text-green-500":"text-red-400"}`,children:["IQD ",(ee.totalProfitIQD||0).toLocaleString()]})]})]})]}),f.jsxs("div",{className:"p-4 bg-slate-900 dark:bg-slate-950 rounded-2xl border border-slate-800",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("div",{className:"w-2 h-4 bg-blue-500 rounded-full"}),f.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:t("products.form.usdAnalysis")})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:t("products.form.profitPerUnit")}),f.jsxs("span",{className:`text-lg font-black ${ee.profitPerUnitUSD>=0?"text-blue-500":"text-red-400"}`,children:[ee.profitPerUnitUSD>=0?"+":"-"," $",Math.abs(ee.profitPerUnitUSD||0).toFixed(2)]})]}),f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:t("products.form.totalProfit")}),f.jsxs("span",{className:`text-lg font-black ${ee.totalProfitUSD>=0?"text-blue-400":"text-red-400"}`,children:["$",(ee.totalProfitUSD||0).toFixed(2)]})]})]})]}),f.jsxs("div",{className:"col-span-full p-4 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-lg",children:f.jsx(ir,{className:"w-4 h-4 text-slate-500"})}),f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:t("products.form.qtyCalculation")}),f.jsx("span",{className:"text-xs font-medium text-slate-500 italic",children:t("products.form.unitsExpected")})]})]}),f.jsx("input",{type:"number",name:"unitsSold",value:ee.unitsSold,onChange:Y,className:"w-24 text-right p-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg outline-none text-base font-black text-accent focus:ring-2 focus:ring-accent/20"})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-100 dark:border-slate-700 pb-2",children:t("products.form.generalInfo")}),f.jsx("div",{className:"space-y-4",children:f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.description")}),f.jsxs("div",{className:"relative",children:[f.jsx(ND,{className:"absolute left-3 top-3 w-4 h-4 text-slate-400"}),f.jsx("textarea",{name:"description",value:ee.description,onChange:Y,className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium min-h-[120px] resize-none",placeholder:t("products.form.descriptionPlaceholder")})]})]})})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-100 dark:border-slate-700 pb-2",children:t("products.form.gallery")}),f.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[ee.images.map((ae,G)=>f.jsxs("div",{className:"relative group aspect-square rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 group",children:[f.jsx(Bi,{src:ae,alt:"Product",className:"w-full h-full",imageClassName:"w-full h-full object-cover"}),f.jsx("button",{type:"button",onClick:()=>at(G),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity transform hover:scale-110",children:f.jsx(Fr,{className:"w-3 h-3"})})]},G)),f.jsxs("button",{type:"button",onClick:()=>{var ae;return(ae=q.current)==null?void 0:ae.click()},className:"aspect-square rounded-xl border-2 border-dashed border-slate-300 dark:border-slate-700 flex flex-col items-center justify-center text-slate-400 hover:border-[var(--brand-color)] hover:text-[var(--brand-color)] transition-all hover:bg-slate-50 dark:hover:bg-slate-900 group",children:[f.jsx(_Y,{className:"w-5 h-5 mb-1 group-hover:scale-110 transition-transform"}),f.jsx("span",{className:"text-[9px] font-black uppercase",children:t("products.form.addImage")})]})]}),f.jsx("input",{type:"file",ref:q,className:"hidden",onChange:Oe,multiple:!0,accept:"image/*"})]}),f.jsx("div",{className:"h-28 sm:h-20"})]}),f.jsxs("div",{className:"fixed sm:sticky bottom-0 left-2 right-2 sm:left-auto sm:right-auto w-auto sm:w-auto max-w-2xl p-4 sm:p-6 border-t border-slate-100 dark:border-slate-700 flex flex-row justify-end gap-3 bg-white dark:bg-slate-800 rounded-b-3xl sm:rounded-b-2xl shadow-[0_-10px_20px_rgba(0,0,0,0.05)] z-30",children:[f.jsx("button",{type:"button",onClick:()=>_(!1),className:"px-4 sm:px-6 py-2.5 text-slate-500 dark:text-slate-400 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 rounded-xl transition-all",children:t("common.cancel")}),f.jsxs("button",{type:"submit",form:"productForm",className:"px-5 sm:px-8 py-2.5 text-white font-black rounded-xl transition-all bg-accent shadow-accent active:scale-95 flex items-center justify-center gap-2",children:[f.jsx(E2,{className:"w-5 h-5"}),t(R?"products.update":"products.create")]})]})]})}),A&&$&&f.jsx(RW,{product:$,onClose:()=>{I(!1),U(null)},onSave:async(ae,G=!1)=>{await i(ae),U(ae),G||(I(!1),U(null))}}),f.jsx(Pd,{isOpen:K,onClose:()=>{H(!1),he(null)},onConfirm:mt,title:t("common.delete"),message:t("products.confirmDelete")})]})},s2=({title:t,options:e,selectedValue:n,onChange:r,icon:i})=>{var d;const{appearance:a}=Sn(),[s,o]=C.useState(!1),l=C.useRef(null);C.useEffect(()=>{const h=p=>{l.current&&!l.current.contains(p.target)&&o(!1)};return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[]);const c=h=>{r(h),o(!1)},u=((d=e.find(h=>h.value===n))==null?void 0:d.label)||t;return f.jsxs("div",{className:"relative",ref:l,children:[f.jsxs("button",{onClick:()=>o(!s),className:`flex items-center gap-1.5 px-3 h-[44px] rounded-2xl border-2 transition-all font-bold text-[11px] outline-none ${s?"bg-accent/10 border-accent/30 text-accent shadow-[0_0_15px_-3px_rgba(0,0,0,0.1)]":["liquid","default_glass"].includes(a==null?void 0:a.theme)?"bg-white/40 dark:bg-slate-800/40 backdrop-blur-md border-white/20 dark:border-slate-700/50 text-slate-500 hover:bg-white/60 dark:hover:bg-slate-700/60":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-800 text-slate-500 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[i?f.jsx(i,{className:"w-4 h-4"}):f.jsx(eb,{className:"w-4 h-4"}),f.jsx("span",{className:"truncate max-w-[120px]",children:u}),f.jsx(uo,{className:`w-4 h-4 transition-transform ${s?"rotate-180":""}`})]}),s&&f.jsx("div",{className:"absolute top-full start-0 mt-2 z-50 w-72 animate-in fade-in zoom-in-95 duration-200",children:f.jsxs("div",{className:`rounded-2xl shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col w-full min-w-[240px] transition-all ${["liquid","default_glass"].includes(a==null?void 0:a.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:[f.jsx("div",{className:"px-4 py-3 pb-2 flex items-center justify-between",children:f.jsx("div",{className:"flex items-center gap-3",children:f.jsx("h3",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:t})})}),f.jsx("div",{className:"flex-1 px-2 pb-2 space-y-1 max-h-64 overflow-y-auto",children:e.map(h=>{const p=n===h.value;return f.jsx("div",{onClick:()=>c(h.value),className:`flex items-center justify-between px-3 py-2.5 rounded-xl cursor-pointer transition-all group ${p?"bg-accent/10":["liquid","default_glass"].includes(a==null?void 0:a.theme)?"hover:bg-white/20 dark:hover:bg-slate-700/30":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:f.jsx("span",{className:`text-sm font-semibold ${p?"text-accent":"text-slate-600 dark:text-slate-300"}`,children:h.label})},h.value)})})]})})]})},$O=({order:t,onUpdate:e})=>{const[n,r]=C.useState(!1),i=F.useRef(null);F.useEffect(()=>{const c=u=>{i.current&&!i.current.contains(u.target)&&r(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const{t:a}=dr(),s=c=>{switch(c){case"Processing":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"Completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"Cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";case"Pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";default:return"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-300"}},o=c=>{c!==t.status&&e({...t,status:c}),r(!1)},l=c=>a(`common.status.${c.toLowerCase()}`,c);return f.jsxs("div",{className:"relative",ref:i,children:[f.jsxs("button",{onClick:()=>r(!n),className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold transition-all hover:brightness-95 active:scale-95 ${s(t.status)}`,children:[l(t.status),f.jsx("div",{className:`w-0 h-0 border-s-[3px] border-s-transparent border-t-[4px] border-t-current border-e-[3px] border-e-transparent opacity-50 ${document.dir==="rtl"?"me-1":"ms-1"}`})]}),n&&f.jsx("div",{className:`absolute top-full mt-1 w-32 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-slate-100 dark:border-slate-700 py-1 z-50 animate-in fade-in zoom-in-95 duration-100 ${document.dir==="rtl"?"end-0":"start-0"}`,children:["Processing","Completed","Cancelled","Pending"].map(c=>f.jsx("button",{onClick:()=>o(c),className:`w-full text-start px-3 py-2 text-xs font-bold hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${t.status===c?"text-accent bg-slate-50 dark:bg-slate-700/30":"text-slate-600 dark:text-slate-300"}`,children:l(c)},c))})]})},SOe=()=>{var ye,z,X,ue,ge,et,ft,Tt,li;const{t}=dr(),{orders:e,products:n,customers:r,addOrder:i,updateOrder:a,deleteOrder:s,addCustomer:o,formatCurrency:l,brand:c,loading:u,appearance:d,addToast:h,setIsModalOpen:p,currentUser:g}=Sn(),[x,v]=C.useState(""),[y,b]=C.useState(!1),[w,E]=C.useState(!1),[S,k]=C.useState(null),[_,N]=C.useState(null),[P,A]=C.useState(!1),I=W=>{var fc,Ad,N4;const oe=(c==null?void 0:c.color)||"#1e3a5f",Ee=(c==null?void 0:c.name)||"Invoice",Ae=(c==null?void 0:c.logo)||"",ut=(c==null?void 0:c.website)||"",Xe=(Nr,la)=>{try{const bs=parseInt(Nr.slice(1,3),16),T4=parseInt(Nr.slice(3,5),16),Id=parseInt(Nr.slice(5,7),16);return`rgba(${bs},${T4},${Id},${la})`}catch{return`rgba(30,58,95,${la})`}},pn=Nr=>{try{const la=new Date(Nr);return`${la.getFullYear()}-${la.toLocaleString("en-US",{month:"long"})}-${la.getDate()}`}catch{return Nr}},kn=W.subtotal||W.total||0,Xt=W.discount?kn*(W.discount/100):0,oa=W.total||0,xs=(W.items||[]).map((Nr,la)=>{var bs;return`
            <tr style="background:${la%2===0?"#f8fafc":"#fff"}; border-bottom:1px solid #e2e8f0;">
                <td style="padding:10px 12px;color:#94a3b8;font-weight:700;font-size:11px;">${la+1}</td>
                <td style="padding:10px 12px;font-weight:600;color:#1e293b;font-size:12px;">${((bs=Nr.product)==null?void 0:bs.name)||""}</td>
                <td style="padding:10px 12px;text-align:center;font-weight:700;">${Nr.quantity}</td>
                <td style="padding:10px 12px;text-align:right;font-weight:600;color:#475569;">${l(Nr.price)}</td>
                <td style="padding:10px 12px;text-align:right;font-weight:800;color:#1e293b;">${l(Nr.price*Nr.quantity)}</td>
            </tr>`}).join("");return`<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Invoice ${W.orderId}</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet"/>
<style>
*{box-sizing:border-box;margin:0;padding:0;}
body{font-family:'Cairo','Segoe UI',Arial,sans-serif;background:#fff;color:#1a1a2e;-webkit-print-color-adjust:exact;print-color-adjust:exact;}
@page{size:A4;margin:0;}
@media print{.no-print{display:none!important}}
.page{width:210mm;min-height:297mm;margin:0 auto;background:#fff;}
@media(max-width:600px){.page{width:100%;min-height:unset;}}
</style>
</head>
<body>
<div class="no-print" style="background:${oe};color:#fff;padding:10px 20px;text-align:center;font-family:Cairo,sans-serif;font-size:13px;">
     Invoice ready  tap <strong>Share / Print</strong> to save as PDF &nbsp;&nbsp;  <strong> / </strong>   PDF
</div>
<div class="page">
    <!-- TOP BAR -->
    <div style="height:8px;background:linear-gradient(90deg,${oe} 0%,${Xe(oe,.6)} 100%);width:100%;"></div>

    <!-- HEADER -->
    <div style="padding:28px 36px 22px;display:flex;justify-content:space-between;align-items:flex-start;border-bottom:1px solid ${Xe(oe,.15)};">
        <div style="display:flex;align-items:center;gap:12px;">
            ${Ae?`<img src="${Ae}" alt="Logo" style="width:52px;height:52px;object-fit:contain;border-radius:50%;"/>`:""}
            <div>
                <div style="font-size:22px;font-weight:900;color:${oe};letter-spacing:-0.5px;line-height:1.1;">${Ee}</div>
                ${ut?`<div style="font-size:11px;color:#94a3b8;margin-top:2px;font-weight:600;">${ut.replace(/^https?:\/\//,"")}</div>`:""}
            </div>
        </div>
        <div style="text-align:right;">
            <div style="font-size:36px;font-weight:900;color:${oe};letter-spacing:-1px;line-height:1;text-transform:uppercase;">INVOICE</div>
            <div style="font-size:18px;font-weight:700;color:${Xe(oe,.7)};margin-top:2px;direction:rtl;"></div>
        </div>
    </div>

    <!-- META BAND -->
    <div style="background:${Xe(oe,.05)};border-bottom:1px solid ${Xe(oe,.1)};padding:14px 36px;display:flex;justify-content:space-between;align-items:flex-start;gap:16px;">
        <div style="display:flex;gap:32px;">
            <div>
                <div style="font-size:9px;font-weight:700;text-transform:uppercase;letter-spacing:1.5px;color:#94a3b8;margin-bottom:3px;">Invoice No. /  </div>
                <div style="font-size:14px;font-weight:800;color:${oe};">${W.orderId}</div>
            </div>
            <div>
                <div style="font-size:9px;font-weight:700;text-transform:uppercase;letter-spacing:1.5px;color:#94a3b8;margin-bottom:3px;">Date / </div>
                <div style="font-size:14px;font-weight:700;color:#334155;">${pn(W.date)}</div>
            </div>
        </div>
        <div style="text-align:right;">
            <div style="font-size:9px;font-weight:700;text-transform:uppercase;letter-spacing:1.5px;color:#94a3b8;margin-bottom:3px;">Billed To /  </div>
            <div style="font-size:15px;font-weight:800;color:#1e293b;">${((fc=W.customer)==null?void 0:fc.name)||""}</div>
            ${(Ad=W.customer)!=null&&Ad.phone?`<div style="font-size:12px;color:#64748b;font-weight:600;margin-top:1px;"> ${W.customer.phone}</div>`:""}
            ${(N4=W.customer)!=null&&N4.governorate?`<div style="font-size:11px;color:#94a3b8;font-weight:600;margin-top:1px;"> ${W.customer.governorate}</div>`:""}
        </div>
    </div>

    <!-- ITEMS TABLE -->
    <div style="padding:24px 36px 0;">
        <table style="width:100%;border-collapse:collapse;font-size:12px;">
            <thead>
                <tr style="background:${oe};">
                    <th style="padding:10px 12px;color:#fff;font-weight:700;font-size:10px;width:36px;">#</th>
                    <th style="padding:10px 12px;color:#fff;font-weight:700;font-size:10px;text-align:left;">
                        <div style="display:flex;justify-content:space-between;"><span>Description</span><span style="opacity:.85;"></span></div>
                    </th>
                    <th style="padding:10px 12px;color:#fff;font-weight:700;font-size:10px;text-align:center;width:60px;"><div>Qty</div><div style="opacity:.85;font-size:9px;"></div></th>
                    <th style="padding:10px 12px;color:#fff;font-weight:700;font-size:10px;text-align:right;width:110px;"><div>Unit Price</div><div style="opacity:.85;font-size:9px;"> </div></th>
                    <th style="padding:10px 12px;color:#fff;font-weight:700;font-size:10px;text-align:right;width:110px;"><div>Total</div><div style="opacity:.85;font-size:9px;"></div></th>
                </tr>
            </thead>
            <tbody>${xs}</tbody>
        </table>
    </div>

    <!-- TOTALS -->
    <div style="padding:20px 36px 24px;display:flex;justify-content:flex-end;">
        <div style="min-width:220px;">
            <div style="display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid #f1f5f9;">
                <span style="font-size:11px;font-weight:700;color:#64748b;">Subtotal / </span>
                <span style="font-size:13px;font-weight:700;color:#334155;">${l(kn)}</span>
            </div>
            ${W.discount>0?`
            <div style="display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid #f1f5f9;">
                <span style="font-size:11px;font-weight:700;color:#dc2626;">Discount (${W.discount}%) / </span>
                <span style="font-size:13px;font-weight:700;color:#dc2626;">-${l(Xt)}</span>
            </div>`:""}
            ${W.paymentMethod?`
            <div style="display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid #f1f5f9;">
                <span style="font-size:11px;font-weight:700;color:#64748b;">Payment / </span>
                <span style="font-size:11px;font-weight:600;color:#334155;">${W.paymentMethod}</span>
            </div>`:""}
            <div style="display:flex;justify-content:space-between;align-items:center;padding:12px 14px;margin-top:8px;background:${oe};border-radius:10px;">
                <div>
                    <div style="font-size:11px;font-weight:700;color:rgba(255,255,255,.85);text-transform:uppercase;letter-spacing:1px;">Grand Total</div>
                    <div style="font-size:11px;font-weight:700;color:rgba(255,255,255,.7);direction:rtl;"> </div>
                </div>
                <div style="font-size:24px;font-weight:900;color:#fff;letter-spacing:-0.5px;">${l(oa)}</div>
            </div>
        </div>
    </div>

    <!-- FOOTER -->
    <div style="border-top:2px solid ${Xe(oe,.15)};padding:16px 36px 20px;display:flex;justify-content:space-between;align-items:center;background:#f8fafc;position:relative;">
        <div style="position:absolute;bottom:0;left:0;right:0;height:4px;background:linear-gradient(90deg,${oe} 0%,${Xe(oe,.4)} 100%);"></div>
        <div>
            <div style="font-size:12px;font-weight:700;color:${oe};">Thank you for your Purchase!</div>
            <div style="font-size:11px;font-weight:600;color:${Xe(oe,.8)};margin-top:2px;direction:rtl;">  </div>
            <div style="font-size:9.5px;color:#94a3b8;margin-top:4px;">Items sold are non-refundable       </div>
        </div>
        <div style="text-align:right;">
            <div style="font-size:13px;font-weight:800;color:${oe};">${Ee}</div>
            ${ut?`<div style="font-size:10px;color:#94a3b8;margin-top:2px;">${ut.replace(/^https?:\/\//,"")}</div>`:""}
        </div>
    </div>
</div>
</body>
</html>`},O=W=>{const oe=I(W),Ee=new Blob([oe],{type:"text/html; charset=utf-8"}),Ae=URL.createObjectURL(Ee);window.open(Ae,"_blank"),setTimeout(()=>URL.revokeObjectURL(Ae),6e4)},[j,R]=C.useState(!1),[D,$]=C.useState(null);C.useEffect(()=>(p(y||w||j),()=>p(!1)),[y,w,j,p]);const[U,V]=C.useState(100),B=C.useMemo(()=>e.length===0?z5(new Date,30):e.reduce((W,oe)=>{try{const Ee=Gr(oe.date);return Ee<W?Ee:W}catch{return W}},new Date),[e]),q=C.useMemo(()=>({from:B,to:new Date}),[B]),[K,H]=C.useState(q),[ne,he]=C.useState(!1);F.useEffect(()=>{!u&&e.length>0&&!ne&&(H(q),he(!0))},[u,e.length,q,ne]);const[me,ee]=C.useState([]),[xe,_e]=C.useState([]),[J,Ne]=C.useState([]),[Me,ie]=C.useState("date-new"),[Ue,re]=C.useState({column:"date",direction:"desc"}),te=C.useMemo(()=>{const W={};return e.forEach(oe=>{var Ae;const Ee=(Ae=oe.customer)==null?void 0:Ae.governorate;Ee&&(W[Ee]=(W[Ee]||0)+1)}),Bp.map(oe=>({value:oe,label:oe,count:W[oe]||0})).sort((oe,Ee)=>Ee.count-oe.count)},[e]),ve=C.useMemo(()=>{const W={};return e.forEach(oe=>{var Ae;const Ee=(Ae=oe.customer)==null?void 0:Ae.social;Ee&&(W[Ee]=(W[Ee]||0)+1)}),zp.map(oe=>({value:oe,label:oe,count:W[oe]||0})).sort((oe,Ee)=>Ee.count-oe.count)},[e]),We=C.useMemo(()=>{const W={};return e.forEach(oe=>{const Ee=oe.status;Ee&&(W[Ee]=(W[Ee]||0)+1)}),["Processing","Completed","Cancelled","Pending"].map(oe=>({value:oe,label:t(`common.status.${oe.toLowerCase()}`,oe),count:W[oe]||0}))},[e,t]),[Se,Ie]=C.useState({customerId:"new",customerName:"",customerPhone:"",customerGender:"",customerAddress:"",customerGovernorate:"",customerSocial:"",customerNotes:"",items:[],discount:0}),[Fe,mt]=C.useState(""),[Y,ke]=C.useState(1),Oe=C.useMemo(()=>e.filter(Ee=>{const Ae=x.toLowerCase(),ut=Ee.orderId.toLowerCase().includes(Ae)||Ee.customer.name.toLowerCase().includes(Ae),Xe=Gr(Ee.date),pn=!(K!=null&&K.from)||!(K!=null&&K.to)||qo(Xe,{start:K.from,end:K.to}),kn=me.length===0||me.includes(Ee.customer.governorate),Xt=xe.length===0||xe.includes(Ee.customer.social),oa=J.length===0||J.includes(Ee.status);return ut&&pn&&kn&&Xt&&oa}).sort((Ee,Ae)=>{let ut=0;return Ue.column==="orderId"?ut=Ee.orderId.localeCompare(Ae.orderId):Ue.column==="customer"?ut=Ee.customer.name.localeCompare(Ae.customer.name):Ue.column==="date"?ut=new Date(Ee.date)-new Date(Ae.date):Ue.column==="total"?ut=Ee.total-Ae.total:Ue.column==="status"&&(ut=Ee.status.localeCompare(Ae.status)),Ue.direction==="asc"?ut:-ut}).slice(0,U),[e,x,me,xe,J,Me,K,Ue,U]),at=W=>{ie(W),W==="date-new"?re({column:"date",direction:"desc"}):W==="date-old"?re({column:"date",direction:"asc"}):W==="total-high"?re({column:"total",direction:"desc"}):W==="total-low"?re({column:"total",direction:"asc"}):W==="name-asc"&&re({column:"customer",direction:"asc"})},lt=()=>{if(!Fe)return;const W=n.find(Xt=>Xt._id===Fe);if(!W)return;const oe=parseInt(Y),Ee=e.find(Xt=>Xt._id===_),Ae=Ee==null?void 0:Ee.items.find(Xt=>Xt.product._id===W._id),ut=Ae?Ae.quantity:0,Xe=W.stock+ut;if(oe>Xe)return h(t("orders.stockError",{available:Xe}),"error");const pn=Se.items.findIndex(Xt=>Xt.product._id===W._id),kn=W.sellingPriceIQD||W.price||0;if(pn>-1){const Xt=[...Se.items],oa=Xt[pn].quantity+oe;if(oa>Xe)return h(t("orders.limitReached",{available:Xe}),"error");Xt[pn].quantity=oa,Ie(xs=>({...xs,items:Xt}))}else Ie(Xt=>({...Xt,items:[...Xt.items,{product:W,quantity:oe,price:kn}]}));ke(1),mt("")},st=W=>{const oe=Se.items.filter((Ee,Ae)=>Ae!==W);Ie(Ee=>({...Ee,items:oe}))},ae=(W,oe)=>{const Ee=[...Se.items];Ee[W].price=parseFloat(oe||0),Ie(Ae=>({...Ae,items:Ee}))},G=(W,oe)=>{Se.items[W].product;const Ee=parseInt(oe||0),Ae=[...Se.items];Ae[W].quantity=Ee,Ie(ut=>({...ut,items:Ae}))},ce=W=>W.reduce((oe,Ee)=>oe+Ee.price*Ee.quantity,0),Pe=()=>{const W=ce(Se.items),oe=W*(Se.discount/100);let Ee=W-oe;return Ee=Math.ceil(Ee/500)*500,Ee},He=W=>{if(Ie(oe=>({...oe,customerId:W})),W==="new")Ie(oe=>({...oe,customerName:"",customerPhone:"",customerGender:"",customerAddress:"",customerGovernorate:"",customerSocial:""}));else if(W){const oe=r.find(Ee=>Ee._id===W);oe&&Ie(Ee=>({...Ee,customerName:oe.name,customerPhone:oe.phone,customerGender:oe.gender||"",customerAddress:oe.address,customerGovernorate:oe.governorate,customerSocial:oe.social}))}},tn=W=>{E(!1),N(W._id);const oe=r.find(Ee=>Ee.name===W.customer.name&&Ee.phone===W.customer.phone);Ie({customerId:oe?oe._id:"new",customerName:W.customer.name,customerPhone:W.customer.phone,customerGender:W.customer.gender||"",customerAddress:W.customer.address||"",customerGovernorate:W.customer.governorate||"",customerSocial:W.customer.social||"",customerNotes:W.notes||"",items:W.items,discount:W.discount||0}),b(!0)},An=W=>{k(W),E(!0)},qn=async()=>{if(Se.items.length===0)return h(t("orders.addItemsError"),"error");if(!Se.customerName||!Se.customerPhone)return h(t("orders.customerError"),"error");const W=e.find(oe=>oe._id===_);for(const oe of Se.items){const Ee=n.find(pn=>pn._id===oe.product._id),Ae=W==null?void 0:W.items.find(pn=>pn.product._id===oe.product._id),ut=Ae?Ae.quantity:0,Xe=((Ee==null?void 0:Ee.stock)||0)+ut;if(oe.quantity>Xe)return h(t("orders.stockErrorWithName",{name:oe.product.name,available:Xe}),"error")}A(!0);try{let oe={_id:Se.customerId!=="new"?Se.customerId:void 0,name:Se.customerName,phone:Se.customerPhone,gender:Se.customerGender,address:Se.customerAddress,governorate:Se.customerGovernorate,social:Se.customerSocial};if(Se.customerId==="new"){const Xe=await o({...oe,email:""});oe._id=Xe._id}const Ee=ce(Se.items),Ae=Pe(),ut={customer:oe,date:_&&W?W.date:new Date().toISOString(),total:Ae,subtotal:Ee,discount:Se.discount,status:_&&W?W.status:"Processing",items:Se.items,notes:Se.customerNotes};if(_&&W)await a({...ut,_id:_,orderId:W.orderId});else{const Xe=await i(ut);Xe&&setTimeout(()=>{try{nn(Xe)}catch(pn){console.error("Print error:",pn)}},800)}b(!1),N(null),Ie({customerId:"new",customerName:"",customerPhone:"",customerGender:"",customerAddress:"",customerGovernorate:"",customerSocial:"",customerNotes:"",items:[],discount:0})}catch(oe){console.error("Order submission error:",oe),h(t("orders.errors.submitError",{message:oe.message||t("orders.errors.unknown")}),"error")}finally{A(!1)}},nn=W=>{const oe=window.open("","","width=600,height=800"),Ee=document.dir==="rtl",Ae=(c==null?void 0:c.website)||"",ut=(c==null?void 0:c.name)||t("orders.receipt.companyName");oe.document.write(`
            <html dir="${Ee?"rtl":"ltr"}">
                <head>
                    <title>${t("orders.receipt.title")}</title>
                    <style>
                        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap');
                        body { font-family: 'Cairo', 'Courier New', monospace; padding: 20px; font-size: 14px; direction: ${Ee?"rtl":"ltr"}; }
                        .header { text-align: center; margin-bottom: 20px; }
                        .header a { color: inherit; text-decoration: underline; font-size: 13px; }
                        .item { display: flex; justify-content: space-between; margin-bottom: 5px; }
                        .divider { border-top: 1px dashed black; margin: 10px 0; }
                        .totals { text-align: ${Ee?"left":"right"}; margin-top: 10px; }
                        .total-row { display: flex; justify-content: space-between; font-weight: bold; margin-top: 5px; }
                        .discount { color: red; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h2>${Ae?`<a href="${Ae}" target="_blank">${ut}</a>`:ut}</h2>
                        ${Ae?`<p style="font-size:12px; color:#666;">${Ae.replace(/^https?:\/\//,"")}</p>`:""}
                        <p>${t("orders.receipt.order")}: ${W.orderId||"###"}</p>
                        <p>${W.date}</p>
                    </div>
                    <div class="divider"></div>
                    <div>
                        <p><strong>${t("orders.receipt.customer")}:</strong> ${W.customer.name}</p>
                        <p><strong>${t("orders.receipt.phone")}:</strong> ${W.customer.phone||t("orders.receipt.na")}</p>
                        <p><strong>${t("orders.receipt.gov")}:</strong> ${W.customer.governorate||t("orders.receipt.na")}</p>
                    </div>
                    <div class="divider"></div>
                    <div>
                        ${W.items.map(Xe=>`
                            <div class="item">
                                <span>${Xe.product.name} <br> <small>x${Xe.quantity} @ ${l(Xe.price)}</small></span>
                                <span>${l(Xe.price*Xe.quantity)}</span>
                            </div>
                        `).join("")}
                    </div>
                    <div class="divider"></div>
                    <div class="totals">
                        <div class="total-row" style="font-weight: normal;">
                            <span>${t("orders.receipt.subtotal")}:</span>
                            <span>${l(W.subtotal||W.total)}</span>
                        </div>
                        ${W.discount?`
                        <div class="total-row discount" style="font-weight: normal;">
                            <span>${t("orders.receipt.discount")} (${W.discount}%):</span>
                            <span>-${l((W.subtotal||W.total)-W.total)}</span>
                        </div>
                        `:""}
                        <div class="total-row" style="font-size: 18px; margin-top: 10px;">
                            <span>${t("orders.receipt.total")}:</span>
                            <span>${l(W.total)}</span>
                        </div>
                    </div>
                    <div class="divider"></div>
                    <div style="text-align: center; margin-top: 20px;">
                        <p>Thank you for your Purchase!</p>
                        <p>${t("orders.receipt.noReturn")}</p>
                    </div>
                </body>
            </html>
        `),oe.document.close(),oe.print()},Er=W=>{Ue.column===W?re(oe=>({...oe,direction:oe.direction==="asc"?"desc":"asc"})):re({column:W,direction:"asc"})},hn=({column:W,label:oe,border:Ee=!1})=>{const Ae=Ue.column===W;return f.jsx("th",{onClick:()=>Er(W),className:`px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-600 transition-colors select-none ${Ee?"border-s dark:border-slate-700":""}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[oe,Ae&&f.jsx("span",{className:"text-accent font-bold",children:Ue.direction==="asc"?"":""})]})})},le=P||Se.items.length===0||Se.items.some(W=>{const oe=n.find(Xe=>Xe._id===W.product._id),Ee=e.find(Xe=>Xe._id===_),Ae=Ee==null?void 0:Ee.items.find(Xe=>Xe.product._id===W.product._id),ut=Ae?Ae.quantity:0;return W.quantity>((oe==null?void 0:oe.stock)||0)+ut}),be=t(_?"orders.updateOrder":"orders.saveOrder");return f.jsxs(sc,{title:t("orders.title"),children:[f.jsxs("div",{className:`flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-all ${["liquid","default_glass"].includes(d.theme)?"glass-panel":""}`,children:[f.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[f.jsxs("button",{onClick:()=>{b(!0),N(null),Ie({customerId:"new",customerName:"",customerPhone:"",customerAddress:"",customerGovernorate:"",customerSocial:"",customerNotes:"",items:[],discount:0})},className:"flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-xl font-bold transition-all bg-accent shadow-accent active:scale-95",children:[f.jsx(Ea,{className:"w-5 h-5"}),f.jsx("span",{children:t("orders.createOrder")})]}),(g==null?void 0:g.role)!=="Sales"&&f.jsxs("button",{onClick:()=>{if(Oe.length===0)return h(t("common.noDataToExport"),"info");yOe(Oe)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 text-white rounded-xl font-bold transition-all shadow-lg hover:bg-green-700",children:[f.jsx(Vo,{className:"w-5 h-5"}),f.jsx("span",{className:"sm:hidden",children:"CSV"}),f.jsx("span",{className:"hidden sm:inline",children:t("common.exportCSV")})]})]}),(me.length>0||J.length>0||xe.length>0||x||((ye=K.from)==null?void 0:ye.getTime())!==((z=q.from)==null?void 0:z.getTime())||((X=K.to)==null?void 0:X.getTime())!==((ue=q.to)==null?void 0:ue.getTime()))&&f.jsx("button",{onClick:()=>{v(""),Ne([]),ee([]),_e([]),H(q)},className:"sm:hidden ms-auto shrink-0 whitespace-nowrap px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsxs("div",{className:"hidden sm:flex gap-2 sm:gap-3 items-center w-full sm:w-auto flex-nowrap overflow-visible",children:[(me.length>0||J.length>0||xe.length>0||x||((ge=K.from)==null?void 0:ge.getTime())!==((et=q.from)==null?void 0:et.getTime())||((ft=K.to)==null?void 0:ft.getTime())!==((Tt=q.to)==null?void 0:Tt.getTime()))&&f.jsx("button",{onClick:()=>{v(""),Ne([]),ee([]),_e([]),H(q)},className:"shrink-0 whitespace-nowrap px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsx(Yl,{limit:U,onChange:V}),f.jsxs("div",{className:"shrink-0 whitespace-nowrap flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(ir,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:Oe.length})," ",t("orders.title")]})]})]})]}),f.jsxs("div",{className:"flex sm:hidden gap-2 items-center w-full flex-nowrap overflow-visible",children:[f.jsx(s2,{title:t("common.sort"),options:[{value:"date-new",label:t("common.dateNew")},{value:"date-old",label:t("common.dateOld")},{value:"total-high",label:t("common.priceHigh")},{value:"total-low",label:t("common.priceLow")},{value:"name-asc",label:t("common.nameAZ")}],selectedValue:Me,onChange:at}),f.jsx(Yl,{limit:U,onChange:V}),f.jsxs("div",{className:"shrink-0 whitespace-nowrap flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(ir,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:Oe.length})," ",t("orders.title")]})]})]}),f.jsxs("div",{className:"flex gap-3 w-full flex-wrap lg:flex-nowrap items-center",children:[f.jsxs("div",{className:"relative order-last w-full sm:order-none sm:min-w-[200px] sm:flex-1 lg:flex-none lg:w-[280px] h-[44px]",children:[f.jsx(Zl,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("orders.searchPlaceholder"),value:x,onChange:W=>v(W.target.value),className:"ps-10 pe-4 py-0 h-full w-full bg-white dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-800 rounded-2xl outline-none focus:border-accent/40 focus:ring-4 focus:ring-accent/10 transition-all font-bold text-sm text-slate-700 dark:text-white"})]}),f.jsx("div",{className:"h-[44px] flex-shrink-0",children:f.jsx(W5,{range:K,onRangeChange:H,brandColor:c.color})}),f.jsx(Hi,{title:t("orders.status"),options:We,selectedValues:J,onChange:Ne,icon:ir,showSearch:!1}),f.jsx(Hi,{title:t("orders.governorate"),options:te,selectedValues:me,onChange:ee,icon:ts,showSearch:!1}),f.jsx(Hi,{title:t("orders.socialMedia"),options:ve,selectedValues:xe,onChange:_e,icon:t0,showSearch:!1}),f.jsx("div",{className:"hidden sm:block",children:f.jsx(s2,{title:t("common.sort"),options:[{value:"date-new",label:t("common.dateNew")},{value:"date-old",label:t("common.dateOld")},{value:"total-high",label:t("common.priceHigh")},{value:"total-low",label:t("common.priceLow")},{value:"name-asc",label:t("common.nameAZ")}],selectedValue:Me,onChange:at})})]})]}),f.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-all ${["liquid","default_glass"].includes(d.theme)?"glass-panel":""}`,children:[f.jsx("div",{className:"hidden sm:block overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-500 uppercase",children:[f.jsx(hn,{column:"orderId",label:t("orders.table.orderId")}),f.jsx(hn,{column:"customer",label:t("orders.table.customer")}),f.jsx(hn,{column:"date",label:t("orders.table.date"),border:!0}),f.jsx(hn,{column:"total",label:t("orders.table.total"),border:!0}),f.jsx(hn,{column:"status",label:t("orders.table.status"),border:!0}),f.jsx(hn,{column:"createdBy",label:t("common.createdBy"),border:!0}),f.jsx("th",{className:"ps-6 pe-6 py-4 text-end border-s dark:border-slate-700",children:t("common.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:u?Array.from({length:5}).map((W,oe)=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4",children:f.jsx(nt,{className:"w-20 h-5"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{className:"w-32 h-5"}),f.jsx(nt,{className:"w-24 h-3"})]})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(nt,{className:"w-24 h-4"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(nt,{className:"w-24 h-5"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(nt,{className:"w-24 h-6 rounded-full"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(nt,{className:"w-20 h-8 ms-auto rounded-lg"})})]},oe)):Oe.map(W=>f.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4 text-sm font-semibold text-[var(--brand-color)]",children:W.orderId}),f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-sm font-medium text-slate-800 dark:text-white",children:W.customer.name}),f.jsxs("span",{className:"text-xs text-slate-500 flex gap-1 items-center",children:[W.customer.governorate&&f.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-1 rounded",children:W.customer.governorate}),W.customer.phone]})]})}),f.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 dark:text-slate-400 border-s dark:border-slate-700",children:W.date}),f.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-800 dark:text-white border-s dark:border-slate-700",children:l(W.total)}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx($O,{order:W,onUpdate:a})}),f.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 dark:text-slate-400 border-s dark:border-slate-700",children:W.createdBy||"System"}),f.jsx("td",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("button",{onClick:()=>An(W),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",title:"View Details",children:f.jsx(iE,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>tn(W),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",title:"Edit Order",children:f.jsx(Bs,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>O(W),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg",title:"PDF Invoice",children:f.jsx(Vo,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>nn(W),className:"p-2 text-slate-400 hover:text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg",title:"Thermal Print",children:f.jsx(Zm,{className:"w-4 h-4"})}),((g==null?void 0:g.role)!=="Sales"||!Ro(Gr(W.date),qi(new Date)))&&f.jsx("button",{onClick:()=>{$(W),R(!0)},className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",title:"Delete Order",children:f.jsx(Rr,{className:"w-4 h-4"})})]})})]},W._id))})]})}),f.jsx("div",{className:"block sm:hidden p-4 space-y-3",children:u?f.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((W,oe)=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-4",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{className:"w-24 h-5"}),f.jsx(nt,{className:"w-32 h-4"})]}),f.jsx(nt,{className:"w-20 h-8 rounded-lg"})]}),f.jsxs("div",{className:"flex justify-between items-end",children:[f.jsx(nt,{className:"w-24 h-3"}),f.jsx(nt,{className:"w-24 h-6"})]})]},oe))}):Oe.length===0?f.jsxs("div",{className:"text-center py-12 text-slate-400",children:[f.jsx(ir,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:t("orders.noOrders")||t("orders.title")})]}):Oe.map(W=>f.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-4 flex items-start justify-between",children:f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex justify-between items-start mb-1",children:[f.jsx("div",{className:"text-sm font-black text-[var(--brand-color)]",children:W.orderId}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"font-black text-slate-900 dark:text-white",children:l(W.total)}),f.jsx("div",{className:"text-[9px] text-slate-400 font-bold",children:W.createdBy||"System"})]})]}),f.jsx("div",{className:"text-sm font-bold text-slate-800 dark:text-white mb-0.5",children:W.customer.name}),f.jsxs("div",{className:"flex justify-between items-center gap-2",children:[f.jsx("div",{className:"text-[10px] text-slate-400 font-medium",children:new Date(W.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),f.jsx("div",{children:f.jsx($O,{order:W,onUpdate:a})})]}),f.jsxs("div",{className:"flex items-center justify-end gap-1 mt-3 pt-3 border-t border-slate-50 dark:border-slate-700/50",children:[f.jsx("button",{onClick:()=>An(W),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700/50 rounded-lg transition-all",title:"View Order",children:f.jsx(iE,{className:"w-5 h-5"})}),f.jsx("button",{onClick:()=>tn(W),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700/50 rounded-lg transition-all",title:"Edit Order",children:f.jsx(Bs,{className:"w-5 h-5"})}),f.jsx("button",{onClick:()=>O(W),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all",title:"PDF Invoice",children:f.jsx(Vo,{className:"w-5 h-5"})}),f.jsx("button",{onClick:()=>nn(W),className:"p-2 text-slate-400 hover:text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-all",title:"Thermal Print",children:f.jsx(Zm,{className:"w-5 h-5"})}),((g==null?void 0:g.role)!=="Sales"||!Ro(Gr(W.date),qi(new Date)))&&f.jsx("button",{onClick:()=>{$(W),R(!0)},className:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-all",title:"Delete Order",children:f.jsx(Rr,{className:"w-5 h-5"})})]})]})},W._id))})]}),y&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-slate-900/60 backdrop-blur-md p-2 md:p-4 overflow-hidden",children:f.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[32px] shadow-2xl w-full max-w-5xl my-4 sm:my-8 min-h-0 flex flex-col overflow-hidden animate-in fade-in zoom-in duration-300 relative max-h-[90vh]",children:f.jsxs("div",{className:"flex-1 min-h-0 flex flex-col md:flex-row overflow-y-auto overflow-x-hidden md:overflow-hidden custom-scrollbar",children:[f.jsxs("div",{className:"order-2 md:order-1 w-full shrink-0 md:shrink md:flex-1 p-4 md:p-6 border-t md:border-t-0 md:border-e border-slate-100 dark:border-slate-700 flex flex-col md:min-h-0 overflow-x-hidden overflow-visible md:overflow-visible relative z-20",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 pb-4 z-10 md:sticky md:top-0 lg:static",children:[f.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white",children:"Add Items"}),f.jsx("div",{className:"space-y-4",children:f.jsxs("div",{className:"grid grid-cols-[minmax(0,1fr)_68px_40px] sm:grid-cols-[minmax(0,1fr)_96px_52px] gap-2 items-end",children:[f.jsxs("div",{className:"min-w-0",children:[f.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5 ms-1",children:t("orders.searchProduct")}),f.jsx(Li,{title:t("orders.chooseProduct"),options:n.filter(W=>W.stock>0).map(W=>({value:W._id,label:`${W.name} (${W.stock}) - ${l(W.price)}`})),selectedValue:Fe,onChange:mt,icon:El,placeholder:t("orders.searchPlaceholder")})]}),f.jsxs("div",{className:"w-full",children:[f.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5 ms-1",children:t("orders.qty")}),f.jsx("input",{type:"number",min:"1",value:Y,onChange:W=>ke(W.target.value),className:`w-full p-3 border-2 rounded-xl dark:bg-slate-900 dark:text-white outline-none text-center font-bold ${Fe&&parseInt(Y)>(((li=n.find(W=>W._id===Fe))==null?void 0:li.stock)||0)?"border-red-500 text-red-500 ring-4 ring-red-500/10":"border-slate-100 dark:border-slate-700 focus:border-[var(--brand-color)]"}`})]}),f.jsx("button",{type:"button",onClick:lt,disabled:!Fe||!Y,className:"h-11 sm:h-[52px] w-11 sm:w-[52px] text-white font-black rounded-xl transition-all bg-accent shadow-accent active:scale-95 disabled:opacity-50 flex items-center justify-center",children:f.jsx(Ea,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})})]}),f.jsx("div",{className:"overflow-visible mt-6 space-y-3 custom-scrollbar md:min-h-[300px] md:pr-1 md:flex-1 md:overflow-y-auto",children:Se.items.length===0?f.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 border-2 border-dashed border-slate-100 dark:border-slate-700/50 rounded-3xl py-12",children:[f.jsx(ir,{className:"w-12 h-12 mb-2 opacity-20"}),f.jsx("p",{className:"font-bold",children:t("orders.cartEmpty")}),f.jsx("p",{className:"text-xs",children:t("orders.cartEmptySub")})]}):Se.items.map((W,oe)=>f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-4 bg-slate-50 dark:bg-slate-900/30 rounded-2xl border border-slate-100 dark:border-slate-700/50 group hover:border-indigo-500/50 transition-all overflow-hidden",children:[f.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1 min-w-0",children:[f.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-white dark:bg-slate-800 border dark:border-slate-700 shrink-0",children:f.jsx(Bi,{src:W.product.images&&W.product.images[0]?typeof W.product.images[0]=="string"?W.product.images[0]:W.product.images[0].url:"",alt:W.product.name||"Product image",className:"w-full h-full",imageClassName:"w-full h-full object-cover"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h4",{className:"text-sm font-black text-slate-800 dark:text-white truncate",children:W.product.name}),f.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 mt-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:t("orders.price")}),f.jsx("input",{type:"number",value:W.price,onChange:Ee=>ae(oe,Ee.target.value),className:"w-20 sm:w-24 p-1.5 text-xs font-black border-2 border-slate-100 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800 dark:text-white transition-colors focus:border-[var(--brand-color)]"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:t("orders.qty")}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"number",min:"1",value:W.quantity,onChange:Ee=>G(oe,Ee.target.value),className:`w-14 sm:w-16 p-1.5 text-xs font-black border-2 rounded-lg bg-white dark:bg-slate-800 dark:text-white transition-all text-center ${W.quantity>W.product.stock?"border-red-500 text-red-500 ring-4 ring-red-500/10":"border-slate-100 dark:border-slate-700 focus:border-indigo-500"}`}),W.quantity>W.product.stock&&f.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 bg-red-500 text-white text-[8px] px-1.5 py-0.5 rounded font-black whitespace-nowrap animate-bounce",children:t("orders.onlyLeft",{count:W.product.stock})})]})]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 w-full sm:w-auto justify-between sm:justify-end mt-3 sm:mt-0 sm:ml-4",children:[f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:t("orders.subtotal")}),f.jsx("span",{className:"text-sm font-black dark:text-white break-words",children:l(W.price*W.quantity)})]}),f.jsx("button",{onClick:()=>st(oe),className:"p-2.5 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-all",children:f.jsx(Rr,{className:"w-4 h-4"})})]})]},oe))}),f.jsx("div",{className:"mt-8 pt-6 pb-8 md:pb-8 border-t border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800 md:sticky md:bottom-0",children:f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsxs("div",{className:"flex justify-between items-center text-sm",children:[f.jsx("span",{className:"font-bold text-slate-400 uppercase tracking-widest text-[10px]",children:t("orders.orderSubtotal")}),f.jsx("span",{className:"font-black dark:text-white text-lg",children:l(ce(Se.items))})]}),f.jsxs("div",{className:"flex justify-between items-center p-3.5 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-700",children:[f.jsxs("span",{className:"text-xs font-bold text-slate-500 flex items-center gap-2",children:[f.jsx(Qf,{className:"w-4 h-4 text-accent"})," ",t("orders.applyDiscount")]}),f.jsx("div",{className:"w-48",children:f.jsx(Li,{title:t("orders.noDiscount"),options:[0,5,10,15,20,30,40,50,75,100].map(W=>({value:W,label:W===0?t("orders.noDiscount"):t("orders.offDiscount",{percent:W})})),selectedValue:Se.discount,onChange:W=>Ie(oe=>({...oe,discount:W})),showSearch:!1,direction:"up"})})]}),f.jsxs("div",{className:"flex justify-between items-center pt-2",children:[f.jsx("span",{className:"font-black text-slate-800 dark:text-white uppercase tracking-tighter text-sm",children:t("orders.grandTotal")}),f.jsx("span",{className:"font-black text-3xl text-accent",children:l(Pe())})]})]})})]}),f.jsxs("div",{className:"order-1 md:order-2 w-full shrink-0 md:w-1/3 p-4 bg-slate-50 dark:bg-slate-900/50 md:flex md:flex-col md:min-h-0 border-b md:border-b-0 md:border-l border-slate-100 dark:border-slate-700 relative z-10",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-lg font-black text-slate-800 dark:text-white uppercase tracking-tighter",children:t("orders.customerInfo")}),f.jsx("button",{onClick:()=>b(!1),className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-white rounded-lg hover:bg-white dark:hover:bg-slate-800 transition-colors",children:f.jsx(Fr,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"space-y-2 pb-2 md:pb-0 md:pr-1 custom-scrollbar",children:[f.jsx("div",{className:"space-y-2",children:f.jsx(Li,{title:t("orders.chooseCustomer"),options:r.map(W=>({value:W._id,label:W.name})),selectedValue:Se.customerId,onChange:He,icon:Uo,placeholder:t("orders.searchCustomers"),customAction:{label:t("orders.createNewCustomer"),icon:Ea,onClick:()=>He("new")}})}),f.jsxs("div",{className:`space-y-2 transition-all duration-300 ${Se.customerId?"opacity-100 pointer-events-auto":"opacity-30 pointer-events-none grayscale"}`,children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.fullName")}),f.jsx("input",{placeholder:"e.g. Ahmed Ali",value:Se.customerName,onChange:W=>Ie({...Se,customerName:W.target.value}),className:"w-full p-2 border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm text-sm",disabled:Se.customerId!=="new"})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.phone")}),f.jsx("input",{placeholder:"07XX XXX XXXX",value:Se.customerPhone,onChange:W=>Ie({...Se,customerPhone:W.target.value}),className:"w-full p-2 border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm text-sm",disabled:Se.customerId!=="new"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.gender")}),f.jsx(Li,{title:t("common.select"),options:[{value:"Male",label:t("common.male")},{value:"Female",label:t("common.female")}],selectedValue:Se.customerGender,onChange:W=>Ie({...Se,customerGender:W}),showSearch:!1,disabled:Se.customerId!=="new"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.governorate")}),f.jsx(Li,{title:t("common.select"),options:Bp.map(W=>({value:W,label:W})),selectedValue:Se.customerGovernorate,onChange:W=>Ie({...Se,customerGovernorate:W}),icon:ts,showSearch:!1,disabled:Se.customerId!=="new"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.social")}),f.jsx(Li,{title:t("common.select"),options:zp.map(W=>({value:W,label:W})),selectedValue:Se.customerSocial,onChange:W=>Ie({...Se,customerSocial:W}),icon:t0,showSearch:!1,disabled:Se.customerId!=="new"})]})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.shippingAddress")}),f.jsx("textarea",{placeholder:"House/District/Street...",value:Se.customerAddress,onChange:W=>Ie({...Se,customerAddress:W.target.value}),className:"w-full p-2 text-xs border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm resize-none",disabled:Se.customerId!=="new",rows:"1"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.internalNotes")}),f.jsx("textarea",{placeholder:"Special instructions...",value:Se.customerNotes,onChange:W=>Ie({...Se,customerNotes:W.target.value}),className:"w-full p-2 text-xs border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm resize-none",rows:"2"})]})]})]}),f.jsx("div",{className:"mt-auto pt-2 border-t border-slate-100 dark:border-slate-700 hidden md:block",children:f.jsx("button",{onClick:qn,disabled:le,className:"w-full py-3 bg-accent text-white rounded-2xl font-black shadow-accent active:scale-[0.98] transition-all disabled:opacity-50 disabled:grayscale flex items-center justify-center gap-3",children:P?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),t("common.saving")]}):f.jsxs(f.Fragment,{children:[f.jsx(ir,{className:"w-5 h-5"}),be]})})})]}),f.jsx("div",{className:"order-3 md:hidden mt-2 bg-white dark:bg-slate-800 border-t border-slate-100 dark:border-slate-700 p-4",children:f.jsx("button",{onClick:qn,disabled:le,className:"w-full py-3 bg-accent text-white rounded-2xl font-black shadow-accent active:scale-[0.98] transition-all disabled:opacity-50 disabled:grayscale flex items-center justify-center gap-3",children:P?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),t("common.saving")]}):f.jsxs(f.Fragment,{children:[f.jsx(ir,{className:"w-5 h-5"}),be]})})})]})})}),w&&S&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/40 backdrop-blur-md p-4 animate-in fade-in duration-300",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[32px] shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col relative",children:[f.jsxs("div",{className:"px-8 py-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center sticky top-0 bg-white dark:bg-slate-800 z-10",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white uppercase tracking-tight",children:"Order Details"}),f.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:[S.orderId,"  ",S.date]})]}),f.jsx("button",{onClick:()=>E(!1),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:f.jsx(Fr,{className:"w-6 h-6 text-slate-400"})})]}),f.jsx("div",{className:"p-8 overflow-y-auto custom-scrollbar flex-1 bg-slate-50 dark:bg-slate-900/50",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[f.jsx(Uo,{className:"w-3.5 h-3.5"}),"Customer Information"]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-black text-slate-900 dark:text-white",children:S.customer.name}),f.jsx("div",{className:"text-xs text-slate-500 font-bold",children:S.customer.phone})]}),f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx(ts,{className:"w-4 h-4 text-slate-300 mt-0.5 shrink-0"}),f.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:[f.jsx("span",{className:"font-bold text-slate-800 dark:text-white",children:S.customer.governorate}),f.jsx("br",{}),S.customer.address]})]}),S.customer.social&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(t0,{className:"w-4 h-4 text-slate-300 shrink-0"}),f.jsx("span",{className:"text-[10px] font-black text-accent uppercase tracking-wider bg-accent/5 px-2 py-0.5 rounded-lg",children:S.customer.social})]})]})]}),S.notes&&f.jsxs("div",{className:"bg-amber-50/50 dark:bg-amber-900/10 p-6 rounded-3xl border border-amber-100 dark:border-amber-900/30",children:[f.jsx("h4",{className:"text-[11px] font-black text-amber-600 dark:text-amber-500 uppercase tracking-widest mb-2",children:"Order Notes"}),f.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 italic",children:['"',S.notes,'"']})]})]}),f.jsx("div",{className:"space-y-6",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[f.jsx(El,{className:"w-3.5 h-3.5"}),"Items Summary"]}),f.jsx("div",{className:"space-y-4 max-h-[300px] overflow-y-auto custom-scrollbar pr-2",children:S.items.map((W,oe)=>f.jsxs("div",{className:"flex justify-between items-center p-3 rounded-2xl bg-slate-50 dark:bg-slate-900/50 border border-slate-100 dark:border-slate-800 group",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"w-10 h-10 rounded-xl bg-white dark:bg-slate-800 flex items-center justify-center font-black text-xs text-accent border border-slate-100 dark:border-slate-700 shadow-sm",children:[W.quantity,""]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-bold text-slate-800 dark:text-white line-clamp-1",children:W.product.name}),f.jsxs("div",{className:"text-[10px] font-bold text-slate-400 uppercase",children:[l(W.price)," each"]})]})]}),f.jsx("span",{className:"text-sm font-black text-slate-900 dark:text-white whitespace-nowrap",children:l(W.price*W.quantity)})]},oe))}),f.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-100 dark:border-slate-700 space-y-3",children:[f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{className:"text-slate-400 font-bold uppercase tracking-widest text-[10px]",children:"Subtotal"}),f.jsx("span",{className:"font-black text-slate-700 dark:text-slate-300",children:l(S.subtotal||S.total)})]}),S.discount>0&&f.jsxs("div",{className:"flex justify-between text-sm text-red-500",children:[f.jsxs("span",{className:"font-bold uppercase tracking-widest text-[10px]",children:["Discount ($",S.discount,"%)"]}),f.jsxs("span",{className:"font-black",children:["-",l((S.subtotal||S.total)-S.total)]})]}),f.jsxs("div",{className:"flex justify-between items-end pt-2",children:[f.jsx("span",{className:"text-slate-900 dark:text-white font-black uppercase tracking-tighter text-sm",children:"Final Total"}),f.jsx("span",{className:"text-2xl font-black text-accent",children:l(S.total)})]})]})]})})]})}),f.jsxs("div",{className:"px-8 py-6 border-t border-slate-100 dark:border-slate-700 flex justify-end items-center gap-3 bg-white dark:bg-slate-800",children:[f.jsxs("button",{onClick:()=>tn(S),className:"px-6 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-xl font-bold flex items-center gap-2 hover:bg-slate-200 dark:hover:bg-slate-600 transition-all active:scale-95",children:[f.jsx(Bs,{className:"w-4 h-4"}),"Edit Order"]}),f.jsxs("button",{onClick:()=>O(S),className:"px-6 py-2.5 bg-indigo-600 text-white rounded-xl font-bold flex items-center gap-2 hover:bg-indigo-700 shadow-lg shadow-indigo-600/20 transition-all active:scale-95",children:[f.jsx(Vo,{className:"w-4 h-4"}),"PDF Invoice"]}),f.jsxs("button",{onClick:()=>nn(S),className:"px-6 py-2.5 bg-green-600 text-white rounded-xl font-bold flex items-center gap-2 hover:bg-green-700 shadow-lg shadow-green-600/20 transition-all active:scale-95",children:[f.jsx(Zm,{className:"w-4 h-4"}),"Thermal"]})]})]})}),f.jsx(Pd,{isOpen:j,onClose:()=>{R(!1),$(null)},onConfirm:()=>{D&&(s(D),R(!1),$(null))},title:t("common.delete"),message:t("orders.deleteConfirm")})]})},kOe=()=>{const{t}=dr(),{customers:e,orders:n,addCustomer:r,updateCustomer:i,formatCurrency:a,brand:s,addToast:o,loading:l,appearance:c,setIsModalOpen:u,currentUser:d}=Sn(),[h,p]=C.useState(""),[g,x]=C.useState([]),[v,y]=C.useState([]),[b,w]=C.useState(!1),[E,S]=C.useState(!1);C.useEffect(()=>(u(b||E),()=>u(!1)),[b,E,u]);const[k,_]=C.useState("orders-high"),N=C.useMemo(()=>e.length===0?z5(new Date,90):e.reduce((Y,ke)=>{try{const Oe=ke.createdOn?Gr(ke.createdOn):new Date;return Oe<Y?Oe:Y}catch{return Y}},new Date),[e]),P=C.useMemo(()=>({from:N,to:new Date}),[N]),[A,I]=C.useState(P),[O,j]=C.useState(!1);C.useEffect(()=>{e.length>0&&!O&&(I({from:N,to:new Date}),j(!0))},[e.length,O,N]);const[R,D]=C.useState(null),[$,U]=C.useState(null),[V,B]=C.useState(null),[q,K]=C.useState({column:"orders",direction:"desc"}),[H,ne]=C.useState("table"),[he,me]=C.useState(100),ee=Y=>{q.column===Y?K(ke=>({...ke,direction:ke.direction==="asc"?"desc":"asc"})):K({column:Y,direction:"asc"})},xe=({column:Y,label:ke,border:Oe=!1})=>{const at=q.column===Y;return f.jsx("th",{onClick:()=>ee(Y),className:`px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors select-none ${Oe?"border-s dark:border-slate-700":""}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[ke,at&&f.jsx("span",{className:"text-[var(--brand-color)] font-bold",children:q.direction==="asc"?"":""})]})})},[_e,J]=C.useState({name:"",email:"",phone:"",address:"",governorate:"",social:"",notes:""}),Ne=C.useMemo(()=>{const Y={};return e.forEach(ke=>{const Oe=ke.governorate;Oe&&(Y[Oe]=(Y[Oe]||0)+1)}),Bp.map(ke=>({value:ke,label:ke,count:Y[ke]||0})).sort((ke,Oe)=>Oe.count-ke.count)},[e]),Me=C.useMemo(()=>{const Y={};return e.forEach(ke=>{const Oe=ke.social;Oe&&(Y[Oe]=(Y[Oe]||0)+1)}),zp.map(ke=>({value:ke,label:ke,count:Y[ke]||0})).sort((ke,Oe)=>Oe.count-ke.count)},[e]),ie=Y=>n.filter(ke=>{var at,lt,st;const Oe=e.find(ae=>ae._id===Y);return Oe?((at=ke.customer)==null?void 0:at._id)===Y||((lt=ke.customer)==null?void 0:lt.name)===Oe.name&&((st=ke.customer)==null?void 0:st.phone)===Oe.phone:!1}),Ue=Y=>{const ke=Y.createdOn||Y.createdAt;if(!ke)return null;try{return typeof ke=="string"?Gr(ke):ke.toDate?ke.toDate():new Date(ke)}catch{return null}},re=C.useMemo(()=>e.filter(Oe=>{const at=Oe.name.toLowerCase().includes(h.toLowerCase())||Oe.phone.includes(h),lt=Ue(Oe);let st=!0;if(A!=null&&A.from&&(A!=null&&A.to)&&lt){const ce=qi(A.from),Pe=d3(A.to);st=lt>=ce&&lt<=Pe}const ae=g.length===0||g.includes(Oe.governorate),G=v.length===0||v.includes(Oe.social);return at&&st&&ae&&G}).sort((Oe,at)=>{if(q.column==="name"){const lt=Oe.name.toLowerCase(),st=at.name.toLowerCase();return q.direction==="asc"?lt.localeCompare(st):st.localeCompare(lt)}if(q.column==="orders"){const lt=ie(Oe._id).length,st=ie(at._id).length;return q.direction==="asc"?lt-st:st-lt}if(q.column==="spent"){const lt=ie(Oe._id).reduce((ae,G)=>ae+G.total,0),st=ie(at._id).reduce((ae,G)=>ae+G.total,0);return q.direction==="asc"?lt-st:st-lt}if(q.column==="governorate"){const lt=(Oe.governorate||"").toLowerCase(),st=(at.governorate||"").toLowerCase();return q.direction==="asc"?lt.localeCompare(st):st.localeCompare(lt)}return 0}).slice(0,he),[e,h,g,v,k,q,n,A,he]),te=Y=>{_(Y),Y==="orders-high"?K({column:"orders",direction:"desc"}):Y==="orders-low"?K({column:"orders",direction:"asc"}):Y==="name-asc"?K({column:"name",direction:"asc"}):Y==="date-new"&&K({column:"orders",direction:"desc"})};C.useEffect(()=>{(()=>{try{window.innerWidth<640&&H==="table"&&ne("card")}catch{}})();const ke=()=>{window.innerWidth<640&&ne("card")};return window.addEventListener("resize",ke),()=>window.removeEventListener("resize",ke)},[]);const ve=()=>{U(null),J({name:"",email:"",phone:"",address:"",governorate:"",social:"",notes:""}),w(!0)},We=Y=>{U(Y),J(Y),w(!0)},Se=Y=>{D(Y),S(!0),B(null)},Ie=Y=>{Y.preventDefault(),$?i({..._e,_id:$._id}):r(_e),w(!1)},Fe=Y=>{const ke=window.open("","_blank");ke.document.write(`
            <html>
                <head>
                    <title>${t("customers.receipt.title")} ${Y.orderId}</title>
                    <style>
                        body { font-family: sans-serif; padding: 20px; direction: ${document.dir}; }
                        .header { text-align: center; margin-bottom: 20px; }
                        .order-info { margin-bottom: 20px; border-bottom: 1px solid #ccc; padding-bottom: 10px; }
                        table { width: 100%; border-collapse: collapse; }
                        th, td { text-align: ${document.dir==="rtl"?"right":"left"}; padding: 8px; border-bottom: 1px solid #eee; }
                        .total { text-align: ${document.dir==="rtl"?"left":"right"}; font-weight: bold; font-size: 1.2em; margin-top: 20px; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h1>${t("customers.receipt.title")}</h1>
                        <h3>${Y.orderId}</h3>
                    </div>
                    <div class="order-info">
                        <p><strong>${t("customers.receipt.customer")}:</strong> ${Y.customer.name}</p>
                        <p><strong>${t("customers.receipt.date")}:</strong> ${Y.date}</p>
                        <p><strong>${t("customers.receipt.status")}:</strong> ${Y.status}</p>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>${t("customers.receipt.item")}</th>
                                <th>${t("customers.receipt.qty")}</th>
                                <th>${t("customers.receipt.price")}</th>
                                <th>${t("customers.receipt.total")}</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${Y.items.map(Oe=>`
                                <tr>
                                    <td>${Oe.product.name}</td>
                                    <td>${Oe.quantity}</td>
                                    <td>${new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(Oe.price)}</td>
                                    <td>${new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(Oe.price*Oe.quantity)}</td>
                                </tr>
                            `).join("")}
                        </tbody>
                    </table>
                    <div class="total">
                        ${t("customers.receipt.total")}: ${new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(Y.total)}
                    </div>
                    <script>window.onload = function() { window.print(); window.close(); }<\/script>
                </body>
            </html>
        `),ke.document.close()},mt=Y=>{switch(Y==null?void 0:Y.toLowerCase()){case"facebook":return f.jsx(aY,{className:"w-4 h-4"});case"instagram":return f.jsx(sY,{className:"w-4 h-4"});case"twitter":return f.jsx(wY,{className:"w-4 h-4"});case"tiktok":return f.jsx("div",{className:"w-4 h-4 font-bold text-xs flex items-center justify-center",children:"TT"});case"whatsapp":return f.jsx(hY,{className:"w-4 h-4"});default:return f.jsx(t0,{className:"w-4 h-4"})}};return f.jsxs(sc,{title:t("customers.title"),children:[f.jsxs("div",{className:`flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-all ${["liquid","default_glass"].includes(c.theme)?"glass-panel":""}`,children:[f.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[f.jsxs("button",{onClick:ve,className:"flex items-center gap-2 px-6 py-2.5 text-white rounded-xl font-bold transition-all bg-accent shadow-accent active:scale-95",children:[f.jsx(Ea,{className:"w-5 h-5"}),f.jsx("span",{children:t("customers.addCustomer")})]}),(d==null?void 0:d.role)!=="Sales"&&f.jsxs("button",{onClick:()=>{if(re.length===0)return o(t("customers.noMatch"),"info");vOe(re)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 text-white rounded-xl font-bold transition-all shadow-lg hover:bg-green-700",children:[f.jsx(Vo,{className:"w-5 h-5"}),f.jsx("span",{className:"hidden sm:inline",children:t("common.exportCSV")})]})]}),(g.length>0||v.length>0||h||!$s(A.from,P.from)||!$s(A.to,P.to))&&f.jsx("button",{onClick:()=>{p(""),x([]),y([]),I(P)},className:"sm:hidden ms-auto shrink-0 whitespace-nowrap px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsxs("div",{className:"hidden sm:flex gap-3 items-center flex-wrap",children:[(g.length>0||v.length>0||h||!$s(A.from,P.from)||!$s(A.to,P.to))&&f.jsx("button",{onClick:()=>{p(""),x([]),y([]),I(P)},className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsx(Yl,{limit:he,onChange:me}),f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(Uo,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:re.length})," ",t("customers.title")]})]})]})]}),f.jsxs("div",{className:"flex sm:hidden gap-2 items-center w-full flex-nowrap overflow-visible",children:[f.jsx(s2,{title:t("common.sort"),options:[{value:"orders-high",label:t("customers.totalSpent")+" (High)"},{value:"orders-low",label:t("customers.totalSpent")+" (Low)"},{value:"date-new",label:t("common.dateNew")},{value:"name-asc",label:t("common.nameAZ")}],selectedValue:k,onChange:te}),f.jsx(Yl,{limit:he,onChange:me}),f.jsxs("div",{className:"shrink-0 whitespace-nowrap flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(Uo,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:re.length})," ",t("customers.title")]})]})]}),f.jsxs("div",{className:"flex gap-3 w-full flex-wrap lg:flex-nowrap items-center",children:[f.jsxs("div",{className:"relative order-last w-full sm:order-none sm:min-w-[200px] sm:flex-1 lg:flex-none lg:w-[320px] h-[44px]",children:[f.jsx(Zl,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("customers.searchPlaceholder"),value:h,onChange:Y=>p(Y.target.value),className:"ps-10 pe-4 py-0 h-full w-full bg-slate-50 dark:bg-slate-900/50 border-2 border-slate-100 dark:border-slate-800 rounded-2xl outline-none focus:border-blue-200 dark:focus:border-blue-800 focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-bold text-sm dark:text-white"})]}),f.jsx("div",{className:"h-[44px] flex-shrink-0 order-2 sm:order-none",children:f.jsx(W5,{range:A,onRangeChange:I,brandColor:s.color})}),f.jsx(Hi,{title:t("customers.form.governorate"),options:Ne,selectedValues:g,onChange:x,icon:ts,showSearch:!1}),f.jsx("div",{className:"order-1 sm:order-none",children:f.jsx(Hi,{title:t("customers.social"),options:Me,selectedValues:v,onChange:y,icon:t0,showSearch:!1})}),f.jsx("div",{className:"hidden sm:block",children:f.jsx(s2,{title:t("common.sort"),options:[{value:"orders-high",label:t("common.priceHigh")},{value:"orders-low",label:t("common.priceLow")},{value:"date-new",label:t("common.dateNew")},{value:"name-asc",label:t("common.nameAZ")}].map(Y=>({...Y,label:Y.value==="orders-high"?t("customers.totalSpent")+" (High)":Y.value==="orders-low"?t("customers.totalSpent")+" (Low)":Y.label})),selectedValue:k,onChange:te})}),f.jsxs("div",{className:"hidden lg:flex bg-slate-100 dark:bg-slate-700 p-1 rounded-xl border border-slate-200 dark:border-slate-600 ms-auto",children:[f.jsx("button",{onClick:()=>ne("table"),className:`p-1.5 rounded-lg transition-all ${H==="table"?"bg-white dark:bg-slate-600 text-[var(--brand-color)] shadow-sm":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"}`,title:"Table View",children:f.jsx(TD,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>ne("card"),className:`p-1.5 rounded-lg transition-all ${H==="card"?"bg-white dark:bg-slate-600 text-[var(--brand-color)] shadow-sm":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"}`,title:t("customers.viewCard"),children:f.jsx(lY,{className:"w-4 h-4"})})]})]})]}),H==="table"?f.jsx("div",{className:`rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-all ${["liquid","default_glass"].includes(c.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-start",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:[f.jsx(xe,{column:"name",label:t("customers.name")}),f.jsx(xe,{column:"governorate",label:t("customers.location"),border:!0}),f.jsx(xe,{column:"orders",label:t("customers.orders"),border:!0}),f.jsx(xe,{column:"spent",label:t("customers.totalSpent"),border:!0}),f.jsx("th",{className:"px-6 py-4 border-s dark:border-slate-700 select-none",children:t("customers.createdOn")}),f.jsx("th",{className:"px-6 py-4 border-s dark:border-slate-700 select-none",children:t("common.createdBy")}),f.jsx("th",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:t("customers.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:l?f.jsx("tr",{children:f.jsx("td",{colSpan:"6",className:"px-6 py-12",children:f.jsxs("div",{className:"space-y-3",children:[f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-1/3 animate-pulse"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-1/2 animate-pulse"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-2/3 animate-pulse"})]})})}):re.length===0?f.jsx("tr",{children:f.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center text-slate-400",children:[f.jsx(Uo,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:t("customers.noData")})]})}):re.map(Y=>{const ke=ie(Y._id),Oe=ke.reduce((at,lt)=>at+lt.total,0);return f.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 dark:bg-slate-900 flex items-center justify-center text-[var(--brand-color)] font-bold text-lg border border-slate-100 dark:border-slate-800 shadow-sm",children:Y.name.charAt(0)}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-bold text-slate-800 dark:text-white",children:Y.name}),f.jsx("p",{className:"text-xs text-slate-400",children:Y.phone})]})]})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:Y.governorate}),f.jsx("span",{className:"text-[11px] text-slate-400 line-clamp-1",children:Y.address})]})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 rounded-xl text-xs font-black inline-flex transition-all",style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"},children:[f.jsx(ir,{className:"w-3.5 h-3.5"}),ke.length]})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-sm font-black text-slate-800 dark:text-white",children:a(Oe)})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-xs font-bold text-slate-500 whitespace-nowrap",children:Ue(Y)?Jt(Ue(Y),"MMM dd, yyyy"):t("orders.receipt.na")})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-xs font-medium text-slate-500",children:Y.createdBy||"System"})}),f.jsx("td",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-end gap-1",children:[f.jsx("button",{onClick:()=>Se(Y),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all",title:"Order History",children:f.jsx(ir,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>We(Y),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all",title:"Edit",children:f.jsx(Bs,{className:"w-4 h-4"})})]})})]},Y._id)})})]})})}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-in fade-in duration-500",children:l?[1,2,3].map(Y=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 p-6",children:[f.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-1/4 animate-pulse mb-4"}),f.jsx("div",{className:"h-3 bg-slate-200 dark:bg-slate-700 rounded w-1/2 animate-pulse mb-2"}),f.jsx("div",{className:"h-3 bg-slate-200 dark:bg-slate-700 rounded w-2/3 animate-pulse"})]},Y)):re.length===0?f.jsxs("div",{className:"col-span-full py-20 text-center bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700",children:[f.jsx(Uo,{className:"w-16 h-16 mx-auto mb-4 text-slate-200"}),f.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-sm",children:t("customers.noMatch")})]}):re.map(Y=>{const ke=ie(Y._id),Oe=ke.reduce((at,lt)=>at+lt.total,0);return f.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 hover:shadow-xl transition-all duration-300 group overflow-hidden flex flex-col h-full ${["liquid","default_glass"].includes(c.theme)?"glass-panel":""}`,children:f.jsxs("div",{className:"p-6 flex-1",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6",children:[f.jsxs("div",{className:"w-14 h-14 rounded-2xl bg-slate-50 dark:bg-slate-900 flex items-center justify-center text-[var(--brand-color)] font-black text-xl border border-slate-100 dark:border-slate-800 group-hover:bg-indigo-50 dark:group-hover:bg-indigo-900 transition-colors relative",children:[Y.name.charAt(0),f.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 text-[8px] font-black px-1 rounded shadow-sm text-slate-400 truncate max-w-[50px]",children:Y.createdBy||"System"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>Se(Y),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800 transition-colors",title:"Order History",children:f.jsx(ir,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>We(Y),className:"p-2 text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800 transition-colors",title:"Edit Profile",children:f.jsx(Bs,{className:"w-4 h-4"})})]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-lg mb-2 truncate",children:Y.name}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-lg text-[10px] font-black uppercase tracking-wider",children:[f.jsx(ir,{className:"w-3 h-3"}),ke.length," ",ke.length===1?t("customers.receipt.order"):t("customers.orders")]}),f.jsx("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 rounded-lg text-[10px] font-black uppercase tracking-wider",children:a(Oe)})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 dark:bg-slate-900 flex items-center justify-center border border-slate-100 dark:border-slate-800 shrink-0",children:f.jsx(gY,{className:"w-4 h-4 text-slate-400"})}),f.jsx("span",{className:"font-bold",children:Y.phone||"No phone"})]}),f.jsxs("div",{className:"flex items-start gap-3 text-sm text-slate-600 dark:text-slate-400",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 dark:bg-slate-900 flex items-center justify-center border border-slate-100 dark:border-slate-800 shrink-0 mt-0.5",children:f.jsx(ts,{className:"w-4 h-4 text-slate-400"})}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300 text-xs",children:Y.governorate}),f.jsx("span",{className:"text-[10px] text-slate-400 line-clamp-1",children:Y.address})]})]}),Y.social&&f.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 dark:bg-slate-900 flex items-center justify-center border border-slate-100 dark:border-slate-800 shrink-0",children:mt(Y.social)}),f.jsx("span",{className:"text-[10px] font-black uppercase text-blue-500 tracking-wider",children:Y.social})]})]})]})},Y._id)})}),b&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-slate-900/80 backdrop-blur-md p-2 sm:p-4 overflow-y-auto",children:f.jsxs("div",{className:`rounded-[32px] shadow-2xl w-full max-w-md my-4 sm:my-8 flex flex-col overflow-hidden animate-in fade-in zoom-in duration-300 relative ${["liquid","default_glass"].includes(c.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:[f.jsxs("div",{className:`px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center sticky top-0 z-10 ${["liquid","default_glass"].includes(c.theme)?"bg-white/20 dark:bg-slate-900/20 backdrop-blur-md":"bg-white dark:bg-slate-800"}`,children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white",children:t($?"customers.form.edit":"customers.form.new")}),f.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:t("customers.form.sub")})]}),f.jsx("button",{onClick:()=>w(!1),className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:f.jsx(Fr,{className:"w-5 h-5 text-slate-400"})})]}),f.jsx("div",{className:"p-5 overflow-y-auto custom-scrollbar",children:f.jsx("form",{id:"customer-form",onSubmit:Ie,className:"space-y-4",children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.fullName")}),f.jsx("input",{required:!0,placeholder:"Ahmed Ali",value:_e.name,onChange:Y=>J({..._e,name:Y.target.value}),className:`w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold placeholder:opacity-30 ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900"}`})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.phone")}),f.jsx("input",{required:!0,placeholder:"07XX XXX XXXX",value:_e.phone,onChange:Y=>J({..._e,phone:Y.target.value}),className:`w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold placeholder:opacity-30 ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900"}`})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.email")}),f.jsx("input",{placeholder:"customer@example.com",type:"email",value:_e.email,onChange:Y=>J({..._e,email:Y.target.value}),className:`w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold placeholder:opacity-30 ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900"}`})]})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.governorate")}),f.jsx(Li,{title:t("common.select"),options:Bp.map(Y=>({value:Y,label:Y})),selectedValue:_e.governorate,onChange:Y=>J(ke=>({...ke,governorate:Y})),icon:ts,showSearch:!1})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.channel")}),f.jsx(Li,{title:t("common.select"),options:zp.map(Y=>({value:Y,label:Y})),selectedValue:_e.social,onChange:Y=>J(ke=>({...ke,social:Y})),icon:t0,showSearch:!1})]})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.shippingAddress")}),f.jsx("textarea",{rows:"2",placeholder:"Street name, landmark, house number...",value:_e.address,onChange:Y=>J({..._e,address:Y.target.value}),className:`w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold resize-none placeholder:opacity-30 ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900"}`})]})]})})}),f.jsx("div",{className:`p-6 pt-0 mt-auto border-t border-slate-100 dark:border-slate-700 ${["liquid","default_glass"].includes(c.theme)?"bg-white/20 dark:bg-slate-900/20 backdrop-blur-md":"bg-white dark:bg-slate-800"}`,children:f.jsxs("div",{className:"flex gap-4 pt-4",children:[f.jsx("button",{type:"button",onClick:()=>w(!1),className:"flex-1 py-3 border-2 border-slate-100 dark:border-slate-800 rounded-2xl font-black text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700 transition-all active:scale-95",children:t("common.cancel")}),f.jsx("button",{onClick:()=>document.getElementById("customer-form").requestSubmit(),className:"flex-2 py-3 text-white rounded-2xl font-black transition-all active:scale-95 bg-accent shadow-accent hover:brightness-110 flex-[2]",children:t($?"customers.form.save":"customers.form.register")})]})})]})}),E&&R&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/90 backdrop-blur-md p-4",children:f.jsxs("div",{className:`rounded-[32px] shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in slide-in-from-bottom-8 duration-500 ${["liquid","default_glass"].includes(c.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:[f.jsx("div",{className:`px-10 py-8 border-b border-slate-100 dark:border-slate-700 ${["liquid","default_glass"].includes(c.theme)?"bg-white/20 dark:bg-slate-900/20 backdrop-blur-md":"bg-white dark:bg-slate-800"}`,children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"},children:f.jsx(ir,{className:"w-6 h-6"})}),f.jsx("h3",{className:"text-2xl font-black text-slate-900 dark:text-white",children:t("customers.history.title")})]}),f.jsxs("p",{className:"text-slate-500 font-bold uppercase text-[10px] tracking-[0.2em] ms-13",children:[t("customers.receipt.customer"),": ",f.jsx("span",{className:"text-[var(--brand-color)]",children:R.name})]})]}),f.jsx("button",{onClick:()=>S(!1),className:"w-12 h-12 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:f.jsx(Fr,{className:"w-8 h-8 text-slate-400"})})]})}),f.jsx("div",{className:"p-10 overflow-y-auto custom-scrollbar bg-slate-50 dark:bg-slate-900/50",children:ie(R._id).length===0?f.jsxs("div",{className:"text-center py-24",children:[f.jsx("div",{className:"w-24 h-24 bg-white dark:bg-slate-800 border-2 border-slate-100 dark:border-slate-700 rounded-3xl flex items-center justify-center mx-auto mb-6 text-slate-200",children:f.jsx(ir,{className:"w-12 h-12"})}),f.jsx("h4",{className:"text-slate-400 font-black uppercase text-xs tracking-widest",children:t("customers.history.noRecords")})]}):f.jsx("div",{className:"space-y-4",children:ie(R._id).map(Y=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl sm:rounded-[28px] border-2 border-slate-100 dark:border-slate-800 shadow-sm overflow-hidden transition-all hover:shadow-xl hover:border-accent group",children:[f.jsxs("div",{className:"p-4 sm:p-6 flex items-center justify-between cursor-pointer",onClick:()=>B(V===Y._id?null:Y._id),children:[f.jsxs("div",{className:"flex items-center gap-4 sm:gap-6",children:[f.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 bg-slate-50 dark:bg-slate-900 rounded-xl sm:rounded-2xl flex items-center justify-center text-[var(--brand-color)] group-hover:bg-[var(--brand-color)] group-hover:text-white transition-all",children:f.jsx(ir,{className:"w-6 h-6 sm:w-7 sm:h-7"})}),f.jsxs("div",{children:[f.jsx("div",{className:"font-black text-slate-900 dark:text-white text-base sm:text-lg",children:Y.orderId}),f.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:Y.date})]})]}),f.jsxs("div",{className:"flex items-center gap-4 sm:gap-8",children:[f.jsxs("div",{className:"text-end",children:[f.jsx("div",{className:"font-black text-slate-900 dark:text-white text-lg sm:text-xl",children:a(Y.total)}),f.jsx("div",{className:`text-[10px] font-black uppercase px-2.5 py-1 rounded-lg inline-block mt-1 ${Y.status==="Completed"?"bg-emerald-50 text-emerald-600 border border-emerald-100":Y.status==="Processing"?"bg-amber-50 text-amber-600 border border-amber-100":"bg-slate-50 text-slate-600 border border-slate-100"}`,children:Y.status})]}),f.jsx("div",{className:`w-9 h-9 sm:w-10 sm:h-10 rounded-full flex items-center justify-center transition-transform ${V===Y._id?"rotate-180":"bg-slate-50 dark:bg-slate-900 text-slate-300"}`,style:V===Y._id?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"}:{},children:f.jsx(uo,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})]}),V===Y._id&&f.jsxs("div",{className:"px-8 pb-8 pt-0 border-t border-slate-50 dark:border-slate-800 animate-in slide-in-from-top-4 duration-300",children:[f.jsx("div",{className:"grid grid-cols-1 gap-3 mt-6",children:Y.items.map((ke,Oe)=>f.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-900/80 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"w-12 h-12 bg-white dark:bg-slate-800 rounded-xl flex items-center justify-center font-black text-sm text-[var(--brand-color)] border border-slate-100 dark:border-slate-700 shadow-sm",children:[ke.quantity,""]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-black text-slate-800 dark:text-white block text-sm",children:ke.product.name}),f.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[a(ke.price)," ",t("common.perUnit")]})]})]}),f.jsx("span",{className:"font-black text-slate-900 dark:text-white",children:a(ke.price*ke.quantity)})]},Oe))}),f.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-100 dark:border-slate-700 flex flex-col sm:flex-row justify-between items-center gap-4",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:t("customers.history.paymentMethod")}),f.jsx("p",{className:"text-sm font-bold text-slate-700 dark:text-white",children:t("common.cashOnDelivery")})]}),f.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-700"}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:t("customers.history.itemsCount")}),f.jsxs("p",{className:"text-sm font-bold text-slate-700 dark:text-white",children:[Y.items.length," ",t("customers.receipt.item")]})]})]}),f.jsxs("button",{onClick:ke=>{ke.stopPropagation(),Fe(Y)},className:"flex items-center gap-2 px-8 py-4 bg-slate-900 dark:bg-slate-700 text-white rounded-2xl font-black text-sm transition-all shadow-xl active:scale-95 hover:brightness-125 hover:shadow-2xl",children:[f.jsx(Zm,{className:"w-5 h-5"}),t("customers.history.printThermal")]})]})]})]},Y._id))})})]})})]})},EOe=()=>{const{t}=dr(),{products:e,updateProduct:n,loading:r,isDesktop:i,isOnline:a,addToast:s,setIsModalOpen:o}=Sn(),[l,c]=C.useState(null),[u,d]=C.useState("");C.useEffect(()=>(o(!!l),()=>o(!1)),[l,o]);const h=y=>{c(y)},p=()=>{c(null)},g=async(y,b=!1)=>{await n(y),b||c(null)},x=async y=>{if(i&&!a)return s("Image upload is disabled while offline. Reconnect and try again.","warning"),[];const b=await Promise.all(y.map(async w=>w.url?w:new Promise(E=>{const S=new FileReader;S.onloadend=()=>E({url:S.result,name:w.name}),S.readAsDataURL(w)})));if(l){const w=[...l.images||[],...b],E={...l,images:w};c(E),await n(E)}return b},v=e.filter(y=>{var b;return y.name.toLowerCase().includes(u.toLowerCase())||((b=y.sku)==null?void 0:b.toLowerCase().includes(u.toLowerCase()))});return f.jsxs(sc,{title:t("productPicture.title"),hideHeader:!0,fullWidth:!0,children:[f.jsx("div",{className:"sticky top-0 z-50 bg-white/95 dark:bg-slate-900/95 backdrop-blur-xl px-4 md:px-8 py-4 md:py-6 border-b border-slate-200/60 dark:border-slate-700/60 flex flex-col md:flex-row items-center justify-start gap-4 shadow-sm",children:f.jsx("div",{className:"max-w-7xl mx-auto w-full flex flex-col md:flex-row items-center gap-4",children:f.jsxs("div",{className:"relative w-full md:w-96",children:[f.jsx(Zl,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("products.searchPlaceholder"),value:u,onChange:y=>d(y.target.value),className:"w-full ps-10 pe-4 py-3 bg-slate-50 dark:bg-slate-800 border-2 border-slate-100 dark:border-slate-700 rounded-2xl text-sm font-bold focus:ring-4 focus:ring-accent/10 focus:border-accent outline-none transition-all"})]})})}),f.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-8",children:[r?f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:8}).map((y,b)=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-3 shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsx(nt,{className:"aspect-[4/5] w-full rounded-2xl mb-4"}),f.jsxs("div",{className:"px-1 space-y-2",children:[f.jsx(nt,{className:"h-5 w-3/4 rounded-lg"}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx(nt,{className:"h-4 w-16"}),f.jsx(nt,{className:"h-4 w-12"})]})]})]},b))}):f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:v.map(y=>{const b=y.images&&y.images[0]?typeof y.images[0]=="string"?y.images[0]:y.images[0].url:y.image||"https://via.placeholder.com/400x400?text=No+Image";return f.jsxs("div",{onClick:()=>h(y),className:"group bg-white dark:bg-slate-800 rounded-3xl p-3 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer border border-transparent hover:border-accent",children:[f.jsxs("div",{className:"aspect-[4/5] w-full rounded-2xl overflow-hidden bg-slate-100 dark:bg-slate-900 relative",children:[f.jsx(Bi,{src:b,alt:y.name,className:"w-full h-full",imageClassName:"transition-transform duration-700 group-hover:scale-110"}),y.stock<=0?f.jsx("div",{className:"absolute top-3 start-3 bg-red-500 text-white text-[10px] font-bold px-2 py-1 rounded-lg shadow-lg z-10",children:t("products.stockStatus.outOfStock")}):y.stock<=10?f.jsxs("div",{className:"absolute top-3 start-3 bg-amber-500 text-white text-[10px] font-bold px-2 py-1 rounded-lg shadow-lg z-10 flex items-center gap-1",children:[f.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full animate-pulse"}),t("products.stockStatus.lowStock"),": ",y.stock]}):null,f.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"})]}),f.jsxs("div",{className:"mt-4 px-1",children:[f.jsx("h3",{className:"font-bold text-slate-800 dark:text-white truncate text-base mb-1 group-hover:text-accent transition-colors",children:y.name}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-xs font-mono font-bold text-slate-400 uppercase tracking-wider",children:y.sku||"NO-SKU"}),f.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 rounded-lg",children:y.category||"General"})]})]})]},y._id||y.id)})}),v.length===0&&!r&&f.jsxs("div",{className:"text-center py-20 text-slate-400",children:[f.jsx(pl,{className:"w-12 h-12 mx-auto mb-4 opacity-20"}),f.jsx("p",{children:t("productPicture.noProducts")})]})]}),l&&f.jsx(RW,{product:l,onClose:p,onSave:g,onUpload:x})]})},NOe=({image:t,onCrop:e,onClose:n,aspect:r=1})=>{const[i,a]=C.useState(1),[s,o]=C.useState(0),[l,c]=C.useState({x:0,y:0}),[u,d]=C.useState(!1),[h,p]=C.useState({x:0,y:0}),[g,x]=C.useState({width:0,height:0}),v=320,y=512,b=r===1,w=C.useRef(null);C.useRef(null),C.useEffect(()=>{a(1),o(0),c({x:0,y:0})},[t]);const E=A=>{const{naturalWidth:I,naturalHeight:O}=A.currentTarget;x({width:I,height:O}),a(1)},S=A=>{d(!0),p({x:A.clientX-l.x,y:A.clientY-l.y})},k=A=>{u&&(A.preventDefault(),c({x:A.clientX-h.x,y:A.clientY-h.y}))},_=()=>{d(!1)},N=()=>{const A=document.createElement("canvas"),I=A.getContext("2d"),O=w.current;A.width=y,A.height=y/r,I.clearRect(0,0,A.width,A.height),I.save();const j=y/v;if(I.translate(A.width/2,A.height/2),b){const U=Math.min(A.width,A.height)/2;I.beginPath(),I.arc(0,0,U,0,Math.PI*2),I.closePath(),I.clip()}I.translate(l.x*j,l.y*j),I.rotate(s*Math.PI/180);const R=i*j;I.scale(R,R);const D=O.naturalWidth,$=O.naturalHeight;return I.imageSmoothingEnabled=!0,I.imageSmoothingQuality="high",I.drawImage(O,-D/2,-$/2,D,$),I.restore(),A.toDataURL("image/png",1)},P=()=>{const A=N();e(A)};return f.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/95 backdrop-blur-md p-4 animate-in fade-in duration-300",children:f.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl shadow-2xl w-full max-w-5xl h-[85vh] flex flex-col overflow-hidden border border-slate-200 dark:border-slate-800",children:[f.jsxs("div",{className:"px-8 py-5 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-white dark:bg-slate-900 z-20",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-xl font-black text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(pl,{className:"w-6 h-6 text-accent"})," Editor Studio"]}),f.jsx("p",{className:"text-xs font-bold text-slate-400 mt-1 uppercase tracking-wider",children:"Customize your brand identity"})]}),f.jsx("button",{onClick:n,className:"p-1.5 text-slate-400 hover:text-slate-600 dark:hover:text-white rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:f.jsx(Fr,{className:"w-6 h-6"})})]}),f.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row overflow-hidden",children:[f.jsxs("div",{className:"flex-1 relative bg-slate-100 dark:bg-slate-950 overflow-hidden flex items-center justify-center cursor-move select-none",style:{backgroundImage:"linear-gradient(45deg, #e5e7eb 25%, transparent 25%), linear-gradient(-45deg, #e5e7eb 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #e5e7eb 75%), linear-gradient(-45deg, transparent 75% , #e5e7eb 75%)",backgroundSize:"20px 20px",backgroundPosition:"0 0, 0 10px, 10px -10px, -10px 0px"},onMouseDown:S,onMouseMove:k,onMouseUp:_,onMouseLeave:_,children:[f.jsx("div",{className:"absolute inset-0 bg-black/40 pointer-events-none z-0"}),f.jsxs("div",{className:`relative z-10 border-2 border-white/80 shadow-[0_0_0_9999px_rgba(0,0,0,0.7)] overflow-visible ${b?"rounded-full":"rounded-xl"}`,style:{width:v,height:v/r,boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.7)"},children:[f.jsxs("div",{className:`absolute inset-0 grid grid-cols-3 grid-rows-3 pointer-events-none opacity-50 ${b?"rounded-full overflow-hidden":""}`,children:[f.jsx("div",{className:"border-r border-white/30 h-full col-start-2"}),f.jsx("div",{className:"border-r border-white/30 h-full col-start-3"}),f.jsx("div",{className:"border-b border-white/30 w-full row-start-2 col-span-3"}),f.jsx("div",{className:"border-b border-white/30 w-full row-start-3 col-span-3"})]}),!b&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"absolute -top-1 -left-1 w-4 h-4 border-t-4 border-l-4 border-white rounded-tl-sm shadow-sm"}),f.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 border-t-4 border-r-4 border-white rounded-tr-sm shadow-sm"}),f.jsx("div",{className:"absolute -bottom-1 -left-1 w-4 h-4 border-b-4 border-l-4 border-white rounded-bl-sm shadow-sm"}),f.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 border-b-4 border-r-4 border-white rounded-br-sm shadow-sm"})]})]}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none overflow-hidden",children:f.jsx("img",{ref:w,src:t,alt:"To crop",onLoad:E,draggable:!1,className:"max-none transition-transform duration-75 origin-center will-change-transform",style:{transform:`translate(${l.x}px, ${l.y}px) rotate(${s}deg) scale(${i})`}})})]}),f.jsxs("div",{className:"w-full lg:w-80 bg-white dark:bg-slate-900 border-s border-slate-100 dark:border-slate-800 p-6 flex flex-col z-20 shadow-xl",children:[f.jsxs("div",{className:"space-y-8 flex-1 overflow-y-auto custom-scrollbar",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center text-sm font-bold text-slate-700 dark:text-slate-300",children:[f.jsx("span",{children:"Zoom & Scale"}),f.jsxs("span",{className:"font-mono text-accent",children:[Math.round(i*100),"%"]})]}),f.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-2xl border border-slate-100 dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>a(A=>Math.max(.1,A-.1)),className:"p-1 hover:text-accent transition-colors",children:f.jsx(EY,{className:"w-5 h-5 text-slate-400"})}),f.jsx("input",{type:"range",min:"0.1",max:"3",step:"0.01",value:i,onChange:A=>a(parseFloat(A.target.value)),className:"flex-1 h-2 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-accent"}),f.jsx("button",{onClick:()=>a(A=>Math.min(3,A+.1)),className:"p-1 hover:text-accent transition-colors",children:f.jsx(kY,{className:"w-5 h-5 text-slate-400"})})]})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Orientation"}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("button",{onClick:()=>o(A=>A-90),className:"flex items-center gap-2 px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl hover:border-accent hover:text-accent transition-all group",children:[f.jsx(cE,{className:"w-4 h-4 text-slate-500 group-hover:text-accent transition-colors"}),f.jsx("span",{className:"text-[11px] font-bold text-slate-600 dark:text-slate-400 group-hover:text-accent",children:"-90"})]}),f.jsxs("button",{onClick:()=>o(A=>A+90),className:"flex items-center gap-2 px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl hover:border-accent hover:text-accent transition-all group",children:[f.jsx(cE,{className:"w-4 h-4 text-slate-500 group-hover:text-accent transition-colors scale-x-[-1]"}),f.jsx("span",{className:"text-[11px] font-bold text-slate-600 dark:text-slate-400 group-hover:text-accent",children:"+90"})]})]}),f.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 p-3 rounded-xl border border-slate-100 dark:border-slate-700 text-center",children:f.jsxs("span",{className:"text-xs font-mono text-slate-500",children:["Current Rotation: ",s,""]})})]})]}),f.jsxs("div",{className:"pt-6 border-t border-slate-100 dark:border-slate-800 flex flex-col gap-3",children:[f.jsxs("button",{onClick:P,className:"w-full py-4 bg-accent text-white font-black rounded-2xl shadow-accent shadow-lg active:scale-[0.98] transition-all flex items-center justify-center gap-3 hover:brightness-110",children:[f.jsx(kD,{className:"w-5 h-5"}),"Apply Changes"]}),f.jsx("button",{onClick:n,className:"w-full py-3 text-slate-500 hover:text-slate-800 dark:hover:text-white font-bold transition-colors",children:"Cancel"})]})]})]})]})})},TOe=()=>{var nn,Er,hn;const{t}=dr(),{theme:e,toggleTheme:n,appearance:r,setAppearance:i,users:a,addUser:s,updateUser:o,deleteUser:l,currentUser:c,updateUserProfile:u,brand:d,updateBrand:h,addToast:p,language:g,changeLanguage:x,isDesktop:v,isOnline:y,pendingSyncCount:b,syncNow:w,desktopOfflineModeEnabled:E,setDesktopOfflineModeEnabled:S,conflicts:k}=Sn(),{user:_,updateAuthProfile:N,changeAuthPassword:P}=ac(),[A,I]=C.useState("general"),[O,j]=ZK(),[R,D]=C.useState(!1),[$,U]=C.useState(!1),[V,B]=C.useState(null),[q,K]=C.useState(!1),[H,ne]=C.useState(null),[he,me]=C.useState(null),[ee,xe]=C.useState(null),[_e,J]=C.useState((_==null?void 0:_.displayName)||""),[Ne,Me]=C.useState(!1),[ie,Ue]=C.useState({currentPassword:"",newPassword:"",confirmPassword:""});C.useEffect(()=>{_&&J(_.displayName||"")},[_]),C.useEffect(()=>{const le=O.get("tab");if(!le){j({tab:"general"},{replace:!0});return}const be=(c==null?void 0:c.role)||"Sales",ye=be==="Sales"?["branding","users"]:be==="Manager"?["branding"]:[];["general","appearance","branding","users","account"].includes(le)&&(ye.includes(le)?(j({tab:"general"},{replace:!0}),I("general")):I(le))},[O,j,c==null?void 0:c.role]);const re=_!=null&&_.email?_.email.split("@")[0]:"",te=(c==null?void 0:c.photoURL)||(_==null?void 0:_.photoURL)||"",ve=le=>{I(le),j({tab:le})},We=async()=>{try{await N({displayName:_e.trim()}),Me(!1),p("Profile updated successfully!","success")}catch(le){console.error("Profile update error:",le),p("Failed to update profile.","error")}},Se=le=>{const be=le.target.files[0];if(be){if(be.size>3*1024*1024)return p("Avatar too large. Max 3MB.","error");const ye=new FileReader;ye.onloadend=()=>{me(ye.result),xe("avatar")},ye.readAsDataURL(be)}},[Ie,Fe]=C.useState({name:d.name,color:d.color,logo:d.logo,favicon:d.favicon||null,website:d.website||"",hideHeader:d.hideHeader||!1});C.useEffect(()=>{Fe({name:d.name,color:d.color,logo:d.logo,favicon:d.favicon||null,website:d.website||"",hideHeader:d.hideHeader||!1})},[d]);const mt=async()=>{try{const le=await ke(Ie);await h(le),Fe(le),p("Branding settings saved successfully!","success")}catch(le){console.error("Branding save error:",le),p("Failed to save branding settings.","error")}},Y=(le,be,ye=.85)=>new Promise((z,X)=>{if(!le){z(le);return}const ue=new Image;ue.onload=()=>{const ge=Math.min(1,be/Math.max(ue.width,ue.height)),et=Math.max(1,Math.round(ue.width*ge)),ft=Math.max(1,Math.round(ue.height*ge)),Tt=document.createElement("canvas");Tt.width=et,Tt.height=ft,Tt.getContext("2d").drawImage(ue,0,0,et,ft),z(Tt.toDataURL("image/jpeg",ye))},ue.onerror=()=>X(new Error("Image processing failed")),ue.src=le}),ke=async le=>{const[be,ye]=await Promise.all([Y(le.logo,384,.82),Y(le.favicon,96,.8)]);return{...le,logo:be,favicon:ye}},Oe=le=>{const be=le.target.files[0];if(be){if(be.size>3*1024*1024)return p("File too large. Max 3MB.","error");const ye=new FileReader;ye.onloadend=()=>{me(ye.result),xe("logo")},ye.readAsDataURL(be)}},at=le=>{const be=le.target.files[0];if(be){if(be.size>512*1024)return p("Favicon too large. Max 512KB.","error");const ye=new FileReader;ye.onloadend=async()=>{try{const z=await Y(ye.result,96,.8);Fe(X=>({...X,favicon:z})),p("Favicon updated (preview). Save to persist.","success")}catch{p("Failed to process favicon image.","error")}},ye.readAsDataURL(be)}},lt=async le=>{if(ee==="avatar")try{await u({photoURL:le}),p("Avatar updated successfully!","success")}catch(be){console.error("Avatar update error:",be),p(`Failed to update avatar (${(be==null?void 0:be.code)||"unknown"}).`,"error")}else ee==="logo"&&(Fe(be=>({...be,logo:le})),p("Logo updated successfully!","success"));me(null),xe(null)},st=(le,be)=>{Ue(ye=>({...ye,[le]:be}))},ae=async le=>{le.preventDefault();const{currentPassword:be,newPassword:ye,confirmPassword:z}=ie;if(ye!==z){p("New passwords do not match.","error");return}if(ye.length<6){p("Password must be at least 6 characters.","error");return}try{await P(be,ye),p(t("settings.toasts.passwordChanged"),"success"),U(!1),Ue({currentPassword:"",newPassword:"",confirmPassword:""})}catch(X){console.error("Password change error:",X),p("Failed to change password. Please verify your current password.","error")}},[G,ce]=C.useState({username:"",email:"",role:"Staff",password:"",displayName:""}),Pe=()=>{B(null);const le=((c==null?void 0:c.role)==="Manager","Sales");ce({username:"",email:"",role:le,password:"",displayName:""}),D(!0)},He=le=>{B(le),ce({...le,password:""}),D(!0)},tn=async le=>{le.preventDefault();try{V?(await o({...G,_id:V._id}),p("User updated successfully!","success")):(await s({...G}),p("User created successfully!","success")),D(!1)}catch(be){console.error("User management error:",be),p("Failed to save user.","error")}},An=async le=>{ne(le),K(!0)},qn=async()=>{if(H)try{await l(H),p("User deleted successfully.","success")}catch{p("Failed to delete user.","error")}finally{K(!1),ne(null)}};return f.jsxs(sc,{title:"Settings",children:[f.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[f.jsx("aside",{className:"w-full lg:w-64 bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-6",children:f.jsxs("nav",{className:"space-y-2",children:[f.jsxs("button",{onClick:()=>ve("general"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${A==="general"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(ID,{className:"w-5 h-5"}),t("settings.general")]}),f.jsxs("button",{onClick:()=>ve("appearance"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${A==="appearance"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(oE,{className:"w-5 h-5"}),t("settings.appearance")]}),(c==null?void 0:c.role)==="Admin"&&f.jsxs("button",{onClick:()=>ve("branding"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${A==="branding"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(xY,{className:"w-5 h-5"}),t("settings.branding")]}),f.jsxs("button",{onClick:()=>ve("account"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${A==="account"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(Uo,{className:"w-5 h-5"}),t("settings.account")]}),(c==null?void 0:c.role)!=="Sales"&&f.jsxs("button",{onClick:()=>ve("users"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${A==="users"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(tb,{className:"w-5 h-5"}),t("settings.users")]})]})}),f.jsxs("div",{className:"flex-1",children:[A==="general"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:t("settings.general")}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("h3",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[f.jsx(t0,{className:"w-4 h-4 text-accent"}),t("settings.language")]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>x("en"),className:`flex-1 py-3 px-4 rounded-xl font-bold text-sm transition-all border-2 ${g==="en"?"border-accent bg-white dark:bg-slate-800 text-accent shadow-sm":"border-transparent bg-slate-100 dark:bg-slate-800 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:" English"}),f.jsx("button",{onClick:()=>x("ar"),className:`flex-1 py-3 px-4 rounded-xl font-bold text-sm transition-all border-2 ${g==="ar"?"border-accent bg-white dark:bg-slate-800 text-accent shadow-sm":"border-transparent bg-slate-100 dark:bg-slate-800 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:" "})]})]}),v&&f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800 space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:"Desktop Offline Mode"}),f.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[y?"Online":"Offline","  ",b," queued"]})]}),f.jsx("button",{onClick:()=>S(!E),className:`px-3 py-1.5 rounded-lg text-xs font-bold border ${E?"bg-emerald-50 border-emerald-200 text-emerald-700 dark:bg-emerald-900/20 dark:border-emerald-800/50 dark:text-emerald-300":"bg-slate-100 border-slate-200 text-slate-600 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-300"}`,children:E?"Enabled":"Disabled"})]}),f.jsx("button",{onClick:w,className:"px-4 py-2 text-sm font-bold rounded-xl bg-accent text-white shadow-lg shadow-accent/20",children:"Sync Now"}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-bold text-slate-600 dark:text-slate-300 mb-2",children:["Conflicts (",k.length,")"]}),f.jsxs("div",{className:"max-h-36 overflow-y-auto space-y-2",children:[k.length===0&&f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"No conflicts logged."}),k.slice(0,10).map(le=>f.jsxs("div",{className:"text-xs p-2 rounded-lg bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700",children:[f.jsx("span",{className:"font-bold",children:le.entity})," #",le.docId]},le.id))]})]})]})]})]}),A==="branding"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t("settings.branding")}),f.jsx("button",{onClick:mt,className:"px-4 py-2 text-white text-sm font-bold rounded-xl shadow-lg transition-all active:scale-95 bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.saveBranding")})]}),f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"max-w-md",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:t("settings.appName")}),f.jsx("input",{type:"text",value:Ie.name,onChange:le=>Fe({...Ie,name:le.target.value}),className:"w-full p-3 border border-slate-200 dark:border-slate-600 rounded-xl bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500/20"})]}),f.jsxs("div",{className:"max-w-md",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Website URL"}),f.jsx("input",{type:"url",placeholder:"https://example.com",value:Ie.website,onChange:le=>Fe({...Ie,website:le.target.value}),className:"w-full p-3 border border-slate-200 dark:border-slate-600 rounded-xl bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500/20"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-4",children:t("settings.logoAndFavicon")||"Logo & Favicon"}),f.jsxs("div",{className:"flex flex-col items-start gap-4",children:[f.jsxs("div",{className:"flex flex-wrap items-center gap-8",children:[f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsxs("div",{className:"relative",children:[f.jsxs("label",{className:"cursor-pointer w-24 h-24 rounded-full flex items-center justify-center border-2 border-white dark:border-slate-700 overflow-hidden bg-slate-100 dark:bg-slate-800 shadow-md",style:{backgroundColor:r.accentType==="solid"?r.accentColor:(nn=r.accentGradient)==null?void 0:nn.start},children:[Ie.logo?f.jsx(Bi,{src:Ie.logo,alt:"Logo",className:"w-full h-full bg-white/85 dark:bg-slate-900/60",imageClassName:"w-full h-full",imageStyle:{objectFit:"contain"}}):f.jsx("span",{className:"text-white font-bold text-3xl",children:(Ie.name||"").charAt(0)}),f.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:Oe})]}),Ie.logo&&f.jsx("button",{type:"button",onClick:()=>Fe({...Ie,logo:null}),className:"absolute -top-1 -right-1 w-6 h-6 rounded-full bg-red-500 text-white flex items-center justify-center shadow-md hover:bg-red-600 transition-colors","aria-label":t("settings.removeLogo")||"Remove Logo",children:f.jsx(Rr,{className:"w-3 h-3"})})]}),f.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:t("settings.logo")})]}),f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsxs("div",{className:"relative",children:[f.jsxs("label",{className:"cursor-pointer w-16 h-16 rounded-full flex items-center justify-center border-2 border-white dark:border-slate-700 overflow-hidden bg-slate-100 dark:bg-slate-800 shadow-md",children:[Ie.favicon?f.jsx(Bi,{src:Ie.favicon,alt:"Favicon",className:"w-full h-full bg-white/85 dark:bg-slate-900/60",imageClassName:"w-full h-full",imageStyle:{objectFit:"contain"}}):f.jsx("div",{className:"w-8 h-8 rounded bg-slate-200 dark:bg-slate-700 animate-pulse"}),f.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:at})]}),Ie.favicon&&f.jsx("button",{type:"button",onClick:()=>Fe(le=>({...le,favicon:null})),className:"absolute -top-1 -right-1 w-5 h-5 rounded-full bg-red-500 text-white flex items-center justify-center shadow-md hover:bg-red-600 transition-colors","aria-label":t("settings.removeFavicon")||"Remove Favicon",children:f.jsx(Rr,{className:"w-2.5 h-2.5"})})]}),f.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Favicon"})]})]}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:t("settings.logoSize")})]})]}),f.jsx("div",{className:"pt-8 border-t border-slate-100 dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-bold text-slate-800 dark:text-white",children:t("settings.appHeader")}),f.jsx("p",{className:"text-xs text-slate-500",children:t("settings.appHeaderDesc")})]}),f.jsx("button",{onClick:async()=>{const le=!Ie.hideHeader;Fe(be=>({...be,hideHeader:le})),await h({...d,hideHeader:le})},className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none",style:{backgroundColor:Ie.hideHeader?"#e2e8f0":d.color},children:f.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${Ie.hideHeader?"translate-x-1":"translate-x-6"}`})})]})})]})]}),A==="appearance"&&f.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(oE,{className:"w-5 h-5 text-[var(--brand-color)]"}),t("settings.themeOptions")]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[{id:"light",name:"Pro Light",icon:bY,desc:"Clean & minimal"},{id:"dark",name:"Pro Dark",icon:mY,desc:"Deep & elegant"}].map(le=>f.jsxs("button",{onClick:()=>i({theme:le.id}),className:`group relative flex flex-col p-4 rounded-2xl border-2 transition-all text-left ${r.theme===le.id?"border-accent":"border-slate-100 dark:border-slate-700 hover:border-slate-200 dark:hover:border-slate-600"}`,style:r.theme===le.id?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)"}:{},children:[f.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center mb-3 transition-colors ${r.theme===le.id?"bg-accent text-white":"bg-slate-100 dark:bg-slate-700 text-slate-500"}`,children:f.jsx(le.icon,{className:"w-6 h-6"})}),f.jsx("span",{className:"font-bold text-slate-800 dark:text-white",children:le.name}),f.jsx("span",{className:"text-xs text-slate-500 mt-1",children:le.desc}),r.theme===le.id&&f.jsx("div",{className:"absolute top-3 right-3 w-6 h-6 bg-accent rounded-full flex items-center justify-center shadow-lg border-2 border-white dark:border-slate-800 animate-in zoom-in duration-200",children:f.jsx(ED,{className:"w-3.5 h-3.5 text-white"})})]},le.id))}),f.jsx("div",{className:"mt-6 pt-6 border-t border-slate-100 dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:t("settings.liquidBackground")}),f.jsx("p",{className:"text-xs text-slate-500 mt-1",children:t("settings.liquidBackgroundDesc")})]}),f.jsx("button",{onClick:()=>i({glassBackground:!r.glassBackground}),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none",style:{backgroundColor:r.glassBackground?"var(--accent-color)":"#cbd5e1"},children:f.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${r.glassBackground?"translate-x-6":"translate-x-1"}`})})]})})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8",children:[f.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 rounded-full bg-accent"}),t("settings.accentCustomization")]}),f.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-900 p-1 rounded-xl",children:[f.jsx("button",{onClick:()=>i({accentType:"solid"}),className:`px-4 py-1.5 rounded-lg text-sm font-bold transition-all ${r.accentType==="solid"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500"}`,children:t("settings.solid")}),f.jsx("button",{onClick:()=>i({accentType:"gradient"}),className:`px-4 py-1.5 rounded-lg text-sm font-bold transition-all ${r.accentType==="gradient"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500"}`,children:t("settings.gradient")})]})]}),f.jsx("div",{className:"space-y-8",children:r.accentType==="solid"?f.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[["#1e3a5f","#6366f1","#8b5cf6","#ec4899","#f43f5e","#f59e0b","#10b981","#06b6d4"].map(le=>f.jsx("button",{onClick:()=>i({accentColor:le}),className:`w-10 h-10 rounded-full border-4 transition-transform hover:scale-110 ${r.accentColor===le?"border-white dark:border-slate-800 shadow-xl":"border-transparent"}`,style:{backgroundColor:le}},le)),f.jsx("div",{className:"h-8 w-[1px] bg-slate-200 dark:bg-slate-700 mx-2"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"relative group",children:[f.jsx("input",{type:"color",value:r.accentColor,onChange:le=>i({accentColor:le.target.value}),className:"w-10 h-10 rounded-full cursor-pointer border-0 p-0 overflow-hidden bg-transparent"}),f.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-[10px] px-2 py-0.5 rounded opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity whitespace-nowrap",children:t("settings.customColor")})]}),f.jsx("span",{className:"font-mono text-sm text-slate-500 uppercase",children:r.accentColor})]})]}):f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[{start:"#8B5CF6",end:"#3B82F6",name:"Royal"},{start:"#F472B6",end:"#FB923C",name:"Sunset"},{start:"#34D399",end:"#3B82F6",name:"Aurora"},{start:"#EC4899",end:"#8B5CF6",name:"Vibrant"}].map((le,be)=>f.jsxs("button",{onClick:()=>i({accentGradient:le}),className:`flex items-center gap-3 p-3 rounded-xl border-2 transition-all ${r.accentGradient.start===le.start&&r.accentGradient.end===le.end?"border-accent":"border-slate-100 dark:border-slate-700 hover:border-slate-200"}`,style:r.accentGradient.start===le.start&&r.accentGradient.end===le.end?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)"}:{},children:[f.jsx("div",{className:"w-10 h-10 rounded-lg",style:{background:`linear-gradient(135deg, ${le.start}, ${le.end})`}}),f.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:le.name})]},be))}),f.jsxs("div",{className:"pt-6 border-t border-slate-100 dark:border-slate-700",children:[f.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-4",children:t("settings.customDualColors")}),f.jsxs("div",{className:"flex items-center gap-8",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("input",{type:"color",value:r.accentGradient.start,onChange:le=>i({accentGradient:{...r.accentGradient,start:le.target.value}}),className:"w-10 h-10 rounded-full cursor-pointer border-4 border-white dark:border-slate-800 shadow-lg p-0 overflow-hidden bg-transparent"}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold tracking-wider",children:t("settings.start")}),f.jsx("span",{className:"font-mono text-xs text-slate-600 dark:text-slate-400",children:r.accentGradient.start.toUpperCase()})]})]}),f.jsx("div",{className:"w-8 h-0.5 bg-slate-200 dark:bg-slate-700 rounded-full"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("input",{type:"color",value:r.accentGradient.end,onChange:le=>i({accentGradient:{...r.accentGradient,end:le.target.value}}),className:"w-10 h-10 rounded-full cursor-pointer border-4 border-white dark:border-slate-800 shadow-lg p-0 overflow-hidden bg-transparent"}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold tracking-wider",children:t("settings.end")}),f.jsx("span",{className:"font-mono text-xs text-slate-600 dark:text-slate-400",children:r.accentGradient.end.toUpperCase()})]})]})]})]})]})})]}),f.jsxs("div",{className:"bg-slate-100 dark:bg-slate-900 rounded-2xl p-8 flex flex-col items-center justify-center min-h-[300px] border border-slate-200 dark:border-slate-800",children:[f.jsx("p",{className:"text-sm font-bold text-slate-500 mb-8 tracking-widest uppercase",children:t("settings.livePreview")}),f.jsxs("div",{className:`w-full max-w-sm p-8 rounded-2xl transition-all ${r.glassBackground?"glass-panel":"bg-white dark:bg-slate-800 shadow-xl"}`,children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h4",{className:"font-bold text-slate-800 dark:text-white",children:t("settings.contentLayoutExample")}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),f.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),f.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-4 rounded-xl border border-slate-100 dark:border-slate-700",children:[f.jsx("div",{className:"h-2 w-3/4 bg-slate-200 dark:bg-slate-700 rounded mb-2"}),f.jsx("div",{className:"h-2 w-1/2 bg-slate-200 dark:bg-slate-700 rounded"})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{className:"px-4 py-2 bg-[var(--brand-color)] text-white rounded-lg text-sm font-medium shadow-lg shadow-[var(--brand-color)]/20",children:t("settings.primaryButton")}),f.jsx("button",{className:"px-4 py-2 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-lg text-sm font-medium",children:t("common.cancel")})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:t("settings.toggleSwitch")}),f.jsx("div",{className:"w-10 h-5 bg-accent rounded-full relative",children:f.jsx("div",{className:"absolute right-1 top-1 w-3 h-3 bg-white rounded-full"})})]})]})]})]})]}),A==="account"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:t("settings.accountSettings")}),f.jsxs("div",{className:"max-w-xl space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[f.jsx("div",{className:"w-24 h-24 bg-accent/20 rounded-full flex items-center justify-center text-3xl font-bold text-accent overflow-hidden border-4 border-white dark:border-slate-800 shadow-lg",children:te?f.jsx(Bi,{src:te,alt:"Avatar",className:"w-full h-full",imageClassName:"w-full h-full object-cover"}):((Er=(c==null?void 0:c.displayName)||(_==null?void 0:_.displayName))==null?void 0:Er.charAt(0))||"U"}),f.jsxs("div",{children:[f.jsxs("label",{className:"cursor-pointer px-4 py-2 text-white text-sm font-bold rounded-xl shadow-lg transition-all inline-block hover:scale-[1.02] bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:[t("settings.changeAvatar"),f.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:Se})]}),f.jsx("p",{className:"text-xs text-slate-500 mt-2",children:t("settings.avatarRecommendedSize")})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:t("settings.displayName")}),f.jsx("input",{type:"text",id:"displayName",value:_e,onChange:le=>J(le.target.value),disabled:!Ne,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent transition-all disabled:bg-slate-100 dark:disabled:bg-slate-700 disabled:text-slate-500 dark:disabled:text-slate-400"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:t("settings.username")}),f.jsx("input",{type:"text",value:re,readOnly:!0,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 cursor-not-allowed"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:t("settings.emailAddress")}),f.jsx("input",{type:"email",value:(_==null?void 0:_.email)||"",readOnly:!0,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 cursor-not-allowed"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:t("settings.userRole")||"Role"}),f.jsx("input",{type:"text",value:(c==null?void 0:c.role)||"",readOnly:!0,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 cursor-not-allowed uppercase font-bold text-xs tracking-widest"})]}),f.jsx("div",{className:"flex justify-end pt-4",children:Ne?f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>{J((_==null?void 0:_.displayName)||""),Me(!1)},className:"px-6 py-3 text-slate-600 dark:text-slate-300 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 rounded-xl transition-colors",children:t("common.cancel")}),f.jsx("button",{onClick:We,className:"px-6 py-3 text-white font-bold rounded-xl transition-all shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.saveChanges")})]}):f.jsx("button",{onClick:()=>Me(!0),className:"px-6 py-3 text-white font-bold rounded-xl transition-all shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.editProfile")})}),f.jsxs("div",{className:"mt-12 pt-8 border-t border-slate-100 dark:border-slate-700",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(PD,{className:"w-5 h-5 text-accent"}),t("settings.securitySettings")]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"p-6 rounded-2xl bg-slate-50 dark:bg-slate-900 border border-slate-100 dark:border-slate-800",children:[f.jsx("h4",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 mb-1",children:t("settings.password")}),f.jsx("p",{className:"text-xs text-slate-500 mb-4 leading-relaxed",children:t("settings.passwordDescription")}),f.jsx("button",{onClick:()=>U(!0),className:"w-full py-2.5 bg-accent text-white text-sm font-bold rounded-xl shadow-lg hover:brightness-110 transition-all",style:{boxShadow:"0 4px 10px -2px var(--accent-color)44"},children:t("settings.changePassword")})]}),f.jsxs("div",{className:"p-6 rounded-2xl bg-slate-50 dark:bg-slate-900 border border-slate-100 dark:border-slate-800",children:[f.jsx("h4",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 mb-1",children:"Two-Factor Authentication"}),f.jsx("p",{className:"text-xs text-slate-500 mb-4 leading-relaxed",children:"Add an extra layer of protection to your profile."}),f.jsx("button",{className:"w-full py-2.5 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 text-sm font-bold rounded-xl hover:bg-slate-300 dark:hover:bg-slate-600 transition-all",children:t("settings.enable2fa")})]})]})]})]})]}),A==="users"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t("settings.users")}),f.jsxs("button",{onClick:Pe,className:"flex items-center gap-2 px-4 py-2 text-white font-medium rounded-xl transition-colors shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:[f.jsx(Ea,{className:"w-5 h-5"})," ",t("settings.addUser")]})]}),(()=>{const be=((c==null?void 0:c.role)||"Sales")==="Admin"?a:a.filter(ye=>ye.role==="Sales"||ye.email===(_==null?void 0:_.email));return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"hidden sm:block overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("settings.table.user")}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("settings.table.email")}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("settings.table.role")}),f.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("common.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:be.map(ye=>{var ue,ge;const z=(c==null?void 0:c.role)==="Admin"||(c==null?void 0:c.role)==="Manager"&&ye.role==="Sales",X=ye.email===(_==null?void 0:_.email);return f.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[f.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 overflow-hidden flex-shrink-0 border-2 border-white dark:border-slate-700 shadow-sm",children:ye.photoURL?f.jsx(Bi,{src:ye.photoURL,alt:ye.displayName,className:"w-full h-full",imageClassName:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center bg-accent text-white font-bold",children:((ue=ye.displayName)==null?void 0:ue.charAt(0))||((ge=ye.username)==null?void 0:ge.charAt(0))||"U"})}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white",children:ye.displayName}),f.jsxs("div",{className:"text-xs text-slate-500",children:["@",ye.username]})]})]})}),f.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:ye.email}),f.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:f.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-bold ${ye.role==="Admin"?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300"}`,children:ye.role})}),f.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[(z||X)&&f.jsx("button",{onClick:()=>He(ye),className:"p-2 text-accent hover:bg-accent/10 rounded-lg transition-all",children:f.jsx(Bs,{className:"w-4 h-4"})}),z&&!X&&f.jsx("button",{onClick:()=>An(ye._id),className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",children:f.jsx(Rr,{className:"w-4 h-4"})})]})})]},ye._id)})})]})}),f.jsx("div",{className:"sm:hidden space-y-4",children:be.map(ye=>{var ue,ge;const z=(c==null?void 0:c.role)==="Admin"||(c==null?void 0:c.role)==="Manager"&&ye.role==="Sales",X=ye.email===(_==null?void 0:_.email);return f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800 animate-in fade-in duration-300",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-200 dark:bg-slate-800 overflow-hidden border-2 border-white dark:border-slate-700 shadow-sm",children:ye.photoURL?f.jsx(Bi,{src:ye.photoURL,alt:ye.displayName,className:"w-full h-full",imageClassName:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center bg-accent text-white font-bold text-lg",children:((ue=ye.displayName)==null?void 0:ue.charAt(0))||((ge=ye.username)==null?void 0:ge.charAt(0))||"U"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:ye.displayName}),f.jsxs("p",{className:"text-xs text-slate-500",children:["@",ye.username]})]})]}),f.jsx("span",{className:`px-2 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider ${ye.role==="Admin"?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300"}`,children:ye.role})]}),f.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-100 dark:border-slate-800",children:[f.jsx("div",{className:"text-xs text-slate-500 truncate max-w-[150px]",children:ye.email}),f.jsxs("div",{className:"flex items-center gap-2",children:[(z||X)&&f.jsx("button",{onClick:()=>He(ye),className:"p-2.5 text-accent bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 transition-all active:scale-90",children:f.jsx(Bs,{className:"w-4 h-4"})}),z&&!X&&f.jsx("button",{onClick:()=>An(ye._id),className:"p-2.5 text-red-500 bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 transition-all active:scale-90",children:f.jsx(Rr,{className:"w-4 h-4"})})]})]})]},ye._id)})})]})})()]})]})]}),R&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:t(V?"settings.editUser":"settings.addNewUser")}),f.jsxs("form",{onSubmit:tn,className:"space-y-4",children:[f.jsx("input",{required:!0,placeholder:t("settings.placeholders.displayName"),value:G.displayName,onChange:le=>ce({...G,displayName:le.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.username"),value:G.username,onChange:le=>ce({...G,username:le.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.email"),type:"email",value:G.email,onChange:le=>ce({...G,email:le.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:t("settings.table.role")}),f.jsx(Li,{title:t("common.select"),options:[{value:"Sales",label:"Sales"},...(c==null?void 0:c.role)==="Admin"?[{value:"Manager",label:"Manager"}]:[],...(c==null?void 0:c.role)==="Admin"&&["im.meal.iraq@intersos.org","signin.younis@gmail.com"].includes((hn=G.email)==null?void 0:hn.toLowerCase())?[{value:"Admin",label:"Admin"}]:[]],selectedValue:G.role,onChange:le=>ce({...G,role:le}),icon:vY,showSearch:!1})]}),f.jsx("input",{placeholder:t(V?"settings.placeholders.passwordKeep":"settings.placeholders.password"),type:"password",value:G.password,onChange:le=>ce({...G,password:le.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none",required:!1}),f.jsxs("div",{className:"flex gap-3 mt-6",children:[f.jsx("button",{type:"button",onClick:()=>D(!1),className:"flex-1 py-3 text-slate-600 font-bold hover:bg-slate-100 rounded-xl transition-colors",children:t("common.cancel")}),f.jsx("button",{type:"submit",className:"flex-1 py-3 text-white font-bold rounded-xl transition-colors shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t(V?"settings.updateUser":"settings.createUser")})]})]})]})}),$&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:t("settings.changePassword")}),f.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[f.jsx("input",{required:!0,placeholder:t("settings.placeholders.currentPassword"),type:"password",value:ie.currentPassword,onChange:le=>st("currentPassword",le.target.value),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.newPassword"),type:"password",value:ie.newPassword,onChange:le=>st("newPassword",le.target.value),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.confirmPassword"),type:"password",value:ie.confirmPassword,onChange:le=>st("confirmPassword",le.target.value),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsxs("div",{className:"flex gap-3 mt-6",children:[f.jsx("button",{type:"button",onClick:()=>{U(!1),Ue({currentPassword:"",newPassword:"",confirmPassword:""})},className:"flex-1 py-3 text-slate-600 font-bold hover:bg-slate-100 rounded-xl transition-colors",children:t("common.cancel")}),f.jsx("button",{type:"submit",className:"flex-1 py-3 text-white font-bold rounded-xl transition-colors shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.changePassword")})]})]})]})}),he&&f.jsx(NOe,{image:he,onCrop:lt,onClose:()=>{me(null),xe(null)},aspect:1}),f.jsx(Pd,{isOpen:q,onClose:()=>{K(!1),ne(null)},onConfirm:qn,title:"Delete User",message:"Are you sure you want to delete this user?"})]})},Fm=["Social Media Post","Social Media Reels","Other"],POe=({expenseTypes:t,expenses:e,onClose:n,onSaveTypes:r})=>{const{addToast:i}=Sn(),[a,s]=C.useState(""),[o,l]=C.useState(null),[c,u]=C.useState(""),[d,h]=C.useState({}),[p,g]=C.useState(!1),[x,v]=C.useState(null);C.useEffect(()=>{const k={};(t||[]).forEach(_=>{k[_]=(e||[]).filter(N=>(N.type||"Other")===_).length}),h(k)},[t,e]);const y=async k=>{await r(k)},b=async()=>{const k=a.trim();if(k){if(t.includes(k)){i("Expense type already exists","info");return}await y([...t,k]),s("")}},w=async()=>{const k=c.trim();if(!o||!k)return;if(k===o){l(null),u("");return}if(t.includes(k)){i("Expense type already exists","info");return}const _=t.map(N=>N===o?k:N);await y(_),l(null),u("")},E=k=>{if(Fm.includes(k)){i("Default expense types cannot be removed.","warning");return}if((d[k]||0)>0){i(`Cannot delete type "${k}" because it is used by ${d[k]} expenses.`,"error");return}v(k),g(!0)},S=async()=>{if(!x)return;const k=t.filter(_=>_!==x);await y(k),g(!1),v(null)};return f.jsxs("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden flex flex-col max-h-[80vh]",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-800/50",children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Manage Expense Types"}),f.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:f.jsx(Fr,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:a,onChange:k=>s(k.target.value),placeholder:"New expense type",className:"flex-1 px-4 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent dark:text-white",onKeyDown:k=>k.key==="Enter"&&b()}),f.jsx("button",{onClick:b,disabled:!a.trim(),className:"px-4 py-2 bg-accent disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-xl shadow-lg shadow-accent/20 transition-all flex items-center justify-center",children:f.jsx(Ea,{className:"w-5 h-5"})})]})}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 custom-scrollbar bg-slate-50/50 dark:bg-slate-900/20",children:[(t||[]).map(k=>f.jsx("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm group hover:border-indigo-100 dark:hover:border-slate-600 transition-colors",children:o===k?f.jsxs("div",{className:"flex-1 flex gap-2 mr-2",children:[f.jsx("input",{autoFocus:!0,type:"text",value:c,onChange:_=>u(_.target.value),className:"flex-1 px-2 py-1 bg-slate-50 dark:bg-slate-900 border border-accent rounded-lg text-sm outline-none dark:text-white",onKeyDown:_=>{_.key==="Enter"&&w(),_.key==="Escape"&&(l(null),u(""))}}),f.jsx("button",{onClick:w,className:"text-emerald-500 hover:bg-emerald-50 rounded p-1",children:f.jsx(E2,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>{l(null),u("")},className:"text-red-400 hover:bg-red-50 rounded p-1",children:f.jsx(Fr,{className:"w-4 h-4"})})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200 text-sm",children:k}),f.jsxs("span",{className:"text-[10px] font-bold px-2 py-0.5 bg-slate-100 dark:bg-slate-700 text-slate-500 rounded-full",children:[d[k]||0," expenses"]})]}),f.jsxs("div",{className:"flex gap-1 opacity-100 sm:opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>{l(k),u(k)},className:"p-2 text-slate-400 hover:text-accent hover:bg-accent/10 rounded-lg transition-colors",title:"Rename",children:f.jsx(AD,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>E(k),className:`p-2 rounded-lg transition-colors ${Fm.includes(k)||(d[k]||0)>0?"text-slate-300 cursor-not-allowed":"text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30"}`,title:Fm.includes(k)?"Default type cannot be deleted":(d[k]||0)>0?"Cannot delete used type":"Delete",children:Fm.includes(k)||(d[k]||0)>0?f.jsx(_D,{className:"w-4 h-4"}):f.jsx(Rr,{className:"w-4 h-4"})})]})]})},k)),(t||[]).length===0&&f.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"No expense types found. Add one above."})]})]}),f.jsx(Pd,{isOpen:p,onClose:()=>{g(!1),v(null)},onConfirm:S,title:"Delete Expense Type",message:`Are you sure you want to delete type "${x}"?`})]})};function AOe(t,e,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:t,timeZoneName:n}).format(e).split(/\s/g).slice(2).join(" ")}const Qy={},Vf={};function dl(t,e){try{const r=(Qy[t]||(Qy[t]=new Intl.DateTimeFormat("en-US",{timeZone:t,timeZoneName:"longOffset"}).format))(e).split("GMT")[1];return r in Vf?Vf[r]:LO(r,r.split(":"))}catch{if(t in Vf)return Vf[t];const n=t==null?void 0:t.match(IOe);return n?LO(t,n.slice(1)):NaN}}const IOe=/([+-]\d\d):?(\d\d)?/;function LO(t,e){const n=+(e[0]||0),r=+(e[1]||0),i=+(e[2]||0)/60;return Vf[t]=n*60+r>0?n*60+r+i:n*60-r-i}class Ja extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(dl(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),$W(this),J9(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new Ja(...n,e):new Ja(Date.now(),e)}withTimeZone(e){return new Ja(+this,e)}getTimezoneOffset(){const e=-dl(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),J9(this),+this}[Symbol.for("constructDateFrom")](e){return new Ja(+new Date(e),this.timeZone)}}const FO=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!FO.test(t))return;const e=t.replace(FO,"$1UTC");Ja.prototype[e]&&(t.startsWith("get")?Ja.prototype[t]=function(){return this.internal[e]()}:(Ja.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),COe(this),+this},Ja.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),J9(this),+this}))});function J9(t){t.internal.setTime(+t),t.internal.setUTCSeconds(t.internal.getUTCSeconds()-Math.round(-dl(t.timeZone,t)*60))}function COe(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),$W(t)}function $W(t){const e=dl(t.timeZone,t),n=e>0?Math.floor(e):Math.ceil(e),r=new Date(+t);r.setUTCHours(r.getUTCHours()-1);const i=-new Date(+t).getTimezoneOffset(),a=-new Date(+r).getTimezoneOffset(),s=i-a,o=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();s&&o&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+s);const l=i-n;l&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+l);const c=new Date(+t);c.setUTCSeconds(0);const u=i>0?c.getSeconds():(c.getSeconds()-60)%60,d=Math.round(-(dl(t.timeZone,t)*60))%60;(d||u)&&(t.internal.setUTCSeconds(t.internal.getUTCSeconds()+d),Date.prototype.setUTCSeconds.call(t,Date.prototype.getUTCSeconds.call(t)+d+u));const h=dl(t.timeZone,t),p=h>0?Math.floor(h):Math.ceil(h),x=-new Date(+t).getTimezoneOffset()-p,v=p!==n,y=x-l;if(v&&y){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+y);const b=dl(t.timeZone,t),w=b>0?Math.floor(b):Math.ceil(b),E=p-w;E&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+E),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+E))}}class yr extends Ja{static tz(e,...n){return n.length?new yr(...n,e):new yr(Date.now(),e)}toISOString(){const[e,n,r]=this.tzComponents(),i=`${e}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+i}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,r,i]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${r} ${n} ${i}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,r,i]=this.tzComponents();return`${e} GMT${n}${r}${i} (${AOe(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",r=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),i=String(Math.abs(e)%60).padStart(2,"0");return[n,r,i]}withTimeZone(e){return new yr(+this,e)}[Symbol.for("constructDateFrom")](e){return new yr(+new Date(e),this.timeZone)}}const VO=5,OOe=4;function jOe(t,e){const n=e.startOfMonth(t),r=n.getDay()>0?n.getDay():7,i=e.addDays(t,-r+1),a=e.addDays(i,VO*7-1);return e.getMonth(t)===e.getMonth(a)?VO:OOe}function LW(t,e){const n=e.startOfMonth(t),r=n.getDay();return r===1?n:r===0?e.addDays(n,-1*6):e.addDays(n,-1*(r-1))}function MOe(t,e){const n=LW(t,e),r=jOe(t,e);return e.addDays(n,r*7-1)}const FW={...Cc,labels:{labelDayButton:(t,e,n,r)=>{let i;r&&typeof r.format=="function"?i=r.format.bind(r):i=(s,o)=>Jt(s,o,{locale:Cc,...n});let a=i(t,"PPPP");return e.today&&(a=`Today, ${a}`),e.selected&&(a=`${a}, selected`),a},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:t=>`Week ${t}`,labelYearDropdown:"Choose the Year",labelGrid:(t,e,n)=>{let r;return n&&typeof n.format=="function"?r=n.format.bind(n):r=(i,a)=>Jt(i,a,{locale:Cc,...e}),r(t,"LLLL yyyy")},labelGridcell:(t,e,n,r)=>{let i;r&&typeof r.format=="function"?i=r.format.bind(r):i=(s,o)=>Jt(s,o,{locale:Cc,...n});let a=i(t,"PPPP");return e!=null&&e.today&&(a=`Today, ${a}`),a},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(t,e,n)=>{let r;return n&&typeof n.format=="function"?r=n.format.bind(n):r=(i,a)=>Jt(i,a,{locale:Cc,...e}),r(t,"cccc")}}};class Pi{constructor(e,n){this.Date=Date,this.today=()=>{var r;return(r=this.overrides)!=null&&r.today?this.overrides.today():this.options.timeZone?yr.tz(this.options.timeZone):new this.Date},this.newDate=(r,i,a)=>{var s;return(s=this.overrides)!=null&&s.newDate?this.overrides.newDate(r,i,a):this.options.timeZone?new yr(r,i,a,this.options.timeZone):new Date(r,i,a)},this.addDays=(r,i)=>{var a;return(a=this.overrides)!=null&&a.addDays?this.overrides.addDays(r,i):U5(r,i)},this.addMonths=(r,i)=>{var a;return(a=this.overrides)!=null&&a.addMonths?this.overrides.addMonths(r,i):hu(r,i)},this.addWeeks=(r,i)=>{var a;return(a=this.overrides)!=null&&a.addWeeks?this.overrides.addWeeks(r,i):wke(r,i)},this.addYears=(r,i)=>{var a;return(a=this.overrides)!=null&&a.addYears?this.overrides.addYears(r,i):_ke(r,i)},this.differenceInCalendarDays=(r,i)=>{var a;return(a=this.overrides)!=null&&a.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,i):B5(r,i)},this.differenceInCalendarMonths=(r,i)=>{var a;return(a=this.overrides)!=null&&a.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,i):WB(r,i)},this.eachMonthOfInterval=r=>{var i;return(i=this.overrides)!=null&&i.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):Pke(r)},this.eachYearOfInterval=r=>{var o;const i=(o=this.overrides)!=null&&o.eachYearOfInterval?this.overrides.eachYearOfInterval(r):Ike(r),a=new Set(i.map(l=>this.getYear(l)));if(a.size===i.length)return i;const s=[];return a.forEach(l=>{s.push(new Date(l,0,1))}),s},this.endOfBroadcastWeek=r=>{var i;return(i=this.overrides)!=null&&i.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):MOe(r,this)},this.endOfISOWeek=r=>{var i;return(i=this.overrides)!=null&&i.endOfISOWeek?this.overrides.endOfISOWeek(r):Cke(r)},this.endOfMonth=r=>{var i;return(i=this.overrides)!=null&&i.endOfMonth?this.overrides.endOfMonth(r):qB(r)},this.endOfWeek=(r,i)=>{var a;return(a=this.overrides)!=null&&a.endOfWeek?this.overrides.endOfWeek(r,i):m_(r,this.options)},this.endOfYear=r=>{var i;return(i=this.overrides)!=null&&i.endOfYear?this.overrides.endOfYear(r):Ake(r)},this.format=(r,i,a)=>{var o;const s=(o=this.overrides)!=null&&o.format?this.overrides.format(r,i,this.options):Jt(r,i,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(s):s},this.getISOWeek=r=>{var i;return(i=this.overrides)!=null&&i.getISOWeek?this.overrides.getISOWeek(r):g_(r)},this.getMonth=(r,i)=>{var a;return(a=this.overrides)!=null&&a.getMonth?this.overrides.getMonth(r,this.options):PEe(r,this.options)},this.getYear=(r,i)=>{var a;return(a=this.overrides)!=null&&a.getYear?this.overrides.getYear(r,this.options):AEe(r,this.options)},this.getWeek=(r,i)=>{var a;return(a=this.overrides)!=null&&a.getWeek?this.overrides.getWeek(r,this.options):y_(r,this.options)},this.isAfter=(r,i)=>{var a;return(a=this.overrides)!=null&&a.isAfter?this.overrides.isAfter(r,i):v_(r,i)},this.isBefore=(r,i)=>{var a;return(a=this.overrides)!=null&&a.isBefore?this.overrides.isBefore(r,i):Ro(r,i)},this.isDate=r=>{var i;return(i=this.overrides)!=null&&i.isDate?this.overrides.isDate(r):zB(r)},this.isSameDay=(r,i)=>{var a;return(a=this.overrides)!=null&&a.isSameDay?this.overrides.isSameDay(r,i):$s(r,i)},this.isSameMonth=(r,i)=>{var a;return(a=this.overrides)!=null&&a.isSameMonth?this.overrides.isSameMonth(r,i):QB(r,i)},this.isSameYear=(r,i)=>{var a;return(a=this.overrides)!=null&&a.isSameYear?this.overrides.isSameYear(r,i):IEe(r,i)},this.max=r=>{var i;return(i=this.overrides)!=null&&i.max?this.overrides.max(r):Ske(r)},this.min=r=>{var i;return(i=this.overrides)!=null&&i.min?this.overrides.min(r):kke(r)},this.setMonth=(r,i)=>{var a;return(a=this.overrides)!=null&&a.setMonth?this.overrides.setMonth(r,i):HEe(r,i)},this.setYear=(r,i)=>{var a;return(a=this.overrides)!=null&&a.setYear?this.overrides.setYear(r,i):GEe(r,i)},this.startOfBroadcastWeek=(r,i)=>{var a;return(a=this.overrides)!=null&&a.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):LW(r,this)},this.startOfDay=r=>{var i;return(i=this.overrides)!=null&&i.startOfDay?this.overrides.startOfDay(r):qi(r)},this.startOfISOWeek=r=>{var i;return(i=this.overrides)!=null&&i.startOfISOWeek?this.overrides.startOfISOWeek(r):Ip(r)},this.startOfMonth=r=>{var i;return(i=this.overrides)!=null&&i.startOfMonth?this.overrides.startOfMonth(r):HB(r)},this.startOfWeek=(r,i)=>{var a;return(a=this.overrides)!=null&&a.startOfWeek?this.overrides.startOfWeek(r,this.options):Bl(r,this.options)},this.startOfYear=r=>{var i;return(i=this.overrides)!=null&&i.startOfYear?this.overrides.startOfYear(r):GB(r)},this.options={locale:FW,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),r={};for(let i=0;i<10;i++)r[i.toString()]=n.format(i);return r}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,r=>n[r]||r)}formatNumber(e){return this.replaceDigits(e.toString())}getMonthYearOrder(){var n;const e=(n=this.options.locale)==null?void 0:n.code;return e&&Pi.yearFirstLocales.has(e)?"year-first":"month-first"}formatMonthYear(e){const{locale:n,timeZone:r,numerals:i}=this.options,a=n==null?void 0:n.code;if(a&&Pi.yearFirstLocales.has(a))try{return new Intl.DateTimeFormat(a,{month:"long",year:"numeric",timeZone:r,numberingSystem:i}).format(e)}catch{}const s=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(e,s)}}Pi.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const vs=new Pi;class VW{constructor(e,n,r=vs){this.date=e,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(e,n)),this.dateLib=r,this.isoDate=r.format(e,"yyyy-MM-dd"),this.displayMonthId=r.format(n,"yyyy-MM"),this.dateMonthId=r.format(e,"yyyy-MM")}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class DOe{constructor(e,n){this.date=e,this.weeks=n}}class ROe{constructor(e,n){this.days=n,this.weekNumber=e}}function $Oe(t){return F.createElement("button",{...t})}function LOe(t){return F.createElement("span",{...t})}function FOe(t){const{size:e=24,orientation:n="left",className:r}=t;return F.createElement("svg",{className:r,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&F.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&F.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&F.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&F.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function VOe(t){const{day:e,modifiers:n,...r}=t;return F.createElement("td",{...r})}function UOe(t){const{day:e,modifiers:n,...r}=t,i=F.useRef(null);return F.useEffect(()=>{var a;n.focused&&((a=i.current)==null||a.focus())},[n.focused]),F.createElement("button",{ref:i,...r})}var ze;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(ze||(ze={}));var an;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(an||(an={}));var _a;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(_a||(_a={}));var mi;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(mi||(mi={}));function BOe(t){const{options:e,className:n,components:r,classNames:i,...a}=t,s=[i[ze.Dropdown],n].join(" "),o=e==null?void 0:e.find(({value:l})=>l===a.value);return F.createElement("span",{"data-disabled":a.disabled,className:i[ze.DropdownRoot]},F.createElement(r.Select,{className:s,...a},e==null?void 0:e.map(({value:l,label:c,disabled:u})=>F.createElement(r.Option,{key:l,value:l,disabled:u},c))),F.createElement("span",{className:i[ze.CaptionLabel],"aria-hidden":!0},o==null?void 0:o.label,F.createElement(r.Chevron,{orientation:"down",size:18,className:i[ze.Chevron]})))}function zOe(t){return F.createElement("div",{...t})}function WOe(t){return F.createElement("div",{...t})}function qOe(t){const{calendarMonth:e,displayIndex:n,...r}=t;return F.createElement("div",{...r},t.children)}function HOe(t){const{calendarMonth:e,displayIndex:n,...r}=t;return F.createElement("div",{...r})}function GOe(t){return F.createElement("table",{...t})}function KOe(t){return F.createElement("div",{...t})}const UW=C.createContext(void 0);function k4(){const t=C.useContext(UW);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function YOe(t){const{components:e}=k4();return F.createElement(e.Dropdown,{...t})}function QOe(t){const{onPreviousClick:e,onNextClick:n,previousMonth:r,nextMonth:i,...a}=t,{components:s,classNames:o,labels:{labelPrevious:l,labelNext:c}}=k4(),u=C.useCallback(h=>{i&&(n==null||n(h))},[i,n]),d=C.useCallback(h=>{r&&(e==null||e(h))},[r,e]);return F.createElement("nav",{...a},F.createElement(s.PreviousMonthButton,{type:"button",className:o[ze.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":l(r),onClick:d},F.createElement(s.Chevron,{disabled:r?void 0:!0,className:o[ze.Chevron],orientation:"left"})),F.createElement(s.NextMonthButton,{type:"button",className:o[ze.NextMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":c(i),onClick:u},F.createElement(s.Chevron,{disabled:i?void 0:!0,orientation:"right",className:o[ze.Chevron]})))}function XOe(t){const{components:e}=k4();return F.createElement(e.Button,{...t})}function JOe(t){return F.createElement("option",{...t})}function ZOe(t){const{components:e}=k4();return F.createElement(e.Button,{...t})}function eje(t){const{rootRef:e,...n}=t;return F.createElement("div",{...n,ref:e})}function tje(t){return F.createElement("select",{...t})}function nje(t){const{week:e,...n}=t;return F.createElement("tr",{...n})}function rje(t){return F.createElement("th",{...t})}function ije(t){return F.createElement("thead",{"aria-hidden":!0},F.createElement("tr",{...t}))}function aje(t){const{week:e,...n}=t;return F.createElement("th",{...n})}function sje(t){return F.createElement("th",{...t})}function oje(t){return F.createElement("tbody",{...t})}function lje(t){const{components:e}=k4();return F.createElement(e.Dropdown,{...t})}const cje=Object.freeze(Object.defineProperty({__proto__:null,Button:$Oe,CaptionLabel:LOe,Chevron:FOe,Day:VOe,DayButton:UOe,Dropdown:BOe,DropdownNav:zOe,Footer:WOe,Month:qOe,MonthCaption:HOe,MonthGrid:GOe,Months:KOe,MonthsDropdown:YOe,Nav:QOe,NextMonthButton:XOe,Option:JOe,PreviousMonthButton:ZOe,Root:eje,Select:tje,Week:nje,WeekNumber:aje,WeekNumberHeader:sje,Weekday:rje,Weekdays:ije,Weeks:oje,YearsDropdown:lje},Symbol.toStringTag,{value:"Module"}));function Fs(t,e,n=!1,r=vs){let{from:i,to:a}=t;const{differenceInCalendarDays:s,isSameDay:o}=r;return i&&a?(s(a,i)<0&&([i,a]=[a,i]),s(e,i)>=(n?1:0)&&s(a,e)>=(n?1:0)):!n&&a?o(a,e):!n&&i?o(i,e):!1}function tS(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function J5(t){return!!(t&&typeof t=="object"&&"from"in t)}function nS(t){return!!(t&&typeof t=="object"&&"after"in t)}function rS(t){return!!(t&&typeof t=="object"&&"before"in t)}function BW(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function zW(t,e){return Array.isArray(t)&&t.every(e.isDate)}function Vs(t,e,n=vs){const r=Array.isArray(e)?e:[e],{isSameDay:i,differenceInCalendarDays:a,isAfter:s}=n;return r.some(o=>{if(typeof o=="boolean")return o;if(n.isDate(o))return i(t,o);if(zW(o,n))return o.some(l=>i(t,l));if(J5(o))return Fs(o,t,!1,n);if(BW(o))return Array.isArray(o.dayOfWeek)?o.dayOfWeek.includes(t.getDay()):o.dayOfWeek===t.getDay();if(tS(o)){const l=a(o.before,t),c=a(o.after,t),u=l>0,d=c<0;return s(o.before,o.after)?d&&u:u||d}return nS(o)?a(t,o.after)>0:rS(o)?a(o.before,t)>0:typeof o=="function"?o(t):!1})}function uje(t,e,n,r,i){const{disabled:a,hidden:s,modifiers:o,showOutsideDays:l,broadcastCalendar:c,today:u=i.today()}=e,{isSameDay:d,isSameMonth:h,startOfMonth:p,isBefore:g,endOfMonth:x,isAfter:v}=i,y=n&&p(n),b=r&&x(r),w={[an.focused]:[],[an.outside]:[],[an.disabled]:[],[an.hidden]:[],[an.today]:[]},E={};for(const S of t){const{date:k,displayMonth:_}=S,N=!!(_&&!h(k,_)),P=!!(y&&g(k,y)),A=!!(b&&v(k,b)),I=!!(a&&Vs(k,a,i)),O=!!(s&&Vs(k,s,i))||P||A||!c&&!l&&N||c&&l===!1&&N,j=d(k,u);N&&w.outside.push(S),I&&w.disabled.push(S),O&&w.hidden.push(S),j&&w.today.push(S),o&&Object.keys(o).forEach(R=>{const D=o==null?void 0:o[R];D&&Vs(k,D,i)&&(E[R]?E[R].push(S):E[R]=[S])})}return S=>{const k={[an.focused]:!1,[an.disabled]:!1,[an.hidden]:!1,[an.outside]:!1,[an.today]:!1},_={};for(const N in w){const P=w[N];k[N]=P.some(A=>A===S)}for(const N in E)_[N]=E[N].some(P=>P===S);return{...k,..._}}}function dje(t,e,n={}){return Object.entries(t).filter(([,i])=>i===!0).reduce((i,[a])=>(n[a]?i.push(n[a]):e[an[a]]?i.push(e[an[a]]):e[_a[a]]&&i.push(e[_a[a]]),i),[e[ze.Day]])}function fje(t){return{...cje,...t}}function hje(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([n,r])=>{n.startsWith("data-")&&(e[n]=r)}),e}function pje(){const t={};for(const e in ze)t[ze[e]]=`rdp-${ze[e]}`;for(const e in an)t[an[e]]=`rdp-${an[e]}`;for(const e in _a)t[_a[e]]=`rdp-${_a[e]}`;for(const e in mi)t[mi[e]]=`rdp-${mi[e]}`;return t}function WW(t,e,n){return(n??new Pi(e)).formatMonthYear(t)}const mje=WW;function gje(t,e,n){return(n??new Pi(e)).format(t,"d")}function yje(t,e=vs){return e.format(t,"LLLL")}function vje(t,e,n){return(n??new Pi(e)).format(t,"cccccc")}function xje(t,e=vs){return t<10?e.formatNumber(`0${t.toLocaleString()}`):e.formatNumber(`${t.toLocaleString()}`)}function bje(){return""}function qW(t,e=vs){return e.format(t,"yyyy")}const wje=qW,_je=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:WW,formatDay:gje,formatMonthCaption:mje,formatMonthDropdown:yje,formatWeekNumber:xje,formatWeekNumberHeader:bje,formatWeekdayName:vje,formatYearCaption:wje,formatYearDropdown:qW},Symbol.toStringTag,{value:"Module"}));function Sje(t){return t!=null&&t.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t!=null&&t.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{..._je,...t}}function iS(t,e,n,r){let i=(r??new Pi(n)).format(t,"PPPP");return e.today&&(i=`Today, ${i}`),e.selected&&(i=`${i}, selected`),i}const kje=iS;function aS(t,e,n){return(n??new Pi(e)).formatMonthYear(t)}const Eje=aS;function HW(t,e,n,r){let i=(r??new Pi(n)).format(t,"PPPP");return e!=null&&e.today&&(i=`Today, ${i}`),i}function GW(t){return"Choose the Month"}function KW(){return""}const Nje="Go to the Next Month";function YW(t,e){return Nje}function QW(t){return"Go to the Previous Month"}function XW(t,e,n){return(n??new Pi(e)).format(t,"cccc")}function JW(t,e){return`Week ${t}`}function ZW(t){return"Week Number"}function eq(t){return"Choose the Year"}const Tje=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:Eje,labelDay:kje,labelDayButton:iS,labelGrid:aS,labelGridcell:HW,labelMonthDropdown:GW,labelNav:KW,labelNext:YW,labelPrevious:QW,labelWeekNumber:JW,labelWeekNumberHeader:ZW,labelWeekday:XW,labelYearDropdown:eq},Symbol.toStringTag,{value:"Module"})),da=(t,e,n)=>e||(n?typeof n=="function"?n:(...r)=>n:t);function Pje(t,e){var r;const n=((r=e.locale)==null?void 0:r.labels)??{};return{...Tje,...t??{},labelDayButton:da(iS,t==null?void 0:t.labelDayButton,n.labelDayButton),labelMonthDropdown:da(GW,t==null?void 0:t.labelMonthDropdown,n.labelMonthDropdown),labelNext:da(YW,t==null?void 0:t.labelNext,n.labelNext),labelPrevious:da(QW,t==null?void 0:t.labelPrevious,n.labelPrevious),labelWeekNumber:da(JW,t==null?void 0:t.labelWeekNumber,n.labelWeekNumber),labelYearDropdown:da(eq,t==null?void 0:t.labelYearDropdown,n.labelYearDropdown),labelGrid:da(aS,t==null?void 0:t.labelGrid,n.labelGrid),labelGridcell:da(HW,t==null?void 0:t.labelGridcell,n.labelGridcell),labelNav:da(KW,t==null?void 0:t.labelNav,n.labelNav),labelWeekNumberHeader:da(ZW,t==null?void 0:t.labelWeekNumberHeader,n.labelWeekNumberHeader),labelWeekday:da(XW,t==null?void 0:t.labelWeekday,n.labelWeekday)}}function Aje(t,e,n,r,i){const{startOfMonth:a,startOfYear:s,endOfYear:o,eachMonthOfInterval:l,getMonth:c}=i;return l({start:s(t),end:o(t)}).map(h=>{const p=r.formatMonthDropdown(h,i),g=c(h),x=e&&h<a(e)||n&&h>a(n)||!1;return{value:g,label:p,disabled:x}})}function Ije(t,e={},n={}){let r={...e==null?void 0:e[ze.Day]};return Object.entries(t).filter(([,i])=>i===!0).forEach(([i])=>{r={...r,...n==null?void 0:n[i]}}),r}function Cje(t,e,n,r){const i=r??t.today(),a=n?t.startOfBroadcastWeek(i,t):e?t.startOfISOWeek(i):t.startOfWeek(i),s=[];for(let o=0;o<7;o++){const l=t.addDays(a,o);s.push(l)}return s}function Oje(t,e,n,r,i=!1){if(!t||!e)return;const{startOfYear:a,endOfYear:s,eachYearOfInterval:o,getYear:l}=r,c=a(t),u=s(e),d=o({start:c,end:u});return i&&d.reverse(),d.map(h=>{const p=n.formatYearDropdown(h,r);return{value:l(h),label:p,disabled:!1}})}function jje(t,e={}){var o;const{weekStartsOn:n,locale:r}=e,i=n??((o=r==null?void 0:r.options)==null?void 0:o.weekStartsOn)??0,a=l=>{const c=typeof l=="number"||typeof l=="string"?new Date(l):l;return new yr(c.getFullYear(),c.getMonth(),c.getDate(),12,0,0,t)},s=l=>{const c=a(l);return new Date(c.getFullYear(),c.getMonth(),c.getDate(),0,0,0,0)};return{today:()=>a(yr.tz(t)),newDate:(l,c,u)=>new yr(l,c,u,12,0,0,t),startOfDay:l=>a(l),startOfWeek:(l,c)=>{const u=a(l),d=(c==null?void 0:c.weekStartsOn)??i,h=(u.getDay()-d+7)%7;return u.setDate(u.getDate()-h),u},startOfISOWeek:l=>{const c=a(l),u=(c.getDay()-1+7)%7;return c.setDate(c.getDate()-u),c},startOfMonth:l=>{const c=a(l);return c.setDate(1),c},startOfYear:l=>{const c=a(l);return c.setMonth(0,1),c},endOfWeek:(l,c)=>{const u=a(l),p=((((c==null?void 0:c.weekStartsOn)??i)+6)%7-u.getDay()+7)%7;return u.setDate(u.getDate()+p),u},endOfISOWeek:l=>{const c=a(l),u=(7-c.getDay())%7;return c.setDate(c.getDate()+u),c},endOfMonth:l=>{const c=a(l);return c.setMonth(c.getMonth()+1,0),c},endOfYear:l=>{const c=a(l);return c.setMonth(11,31),c},eachMonthOfInterval:l=>{const c=a(l.start),u=a(l.end),d=[],h=new yr(c.getFullYear(),c.getMonth(),1,12,0,0,t),p=u.getFullYear()*12+u.getMonth();for(;h.getFullYear()*12+h.getMonth()<=p;)d.push(new yr(h,t)),h.setMonth(h.getMonth()+1,1);return d},addDays:(l,c)=>{const u=a(l);return u.setDate(u.getDate()+c),u},addWeeks:(l,c)=>{const u=a(l);return u.setDate(u.getDate()+c*7),u},addMonths:(l,c)=>{const u=a(l);return u.setMonth(u.getMonth()+c),u},addYears:(l,c)=>{const u=a(l);return u.setFullYear(u.getFullYear()+c),u},eachYearOfInterval:l=>{const c=a(l.start),u=a(l.end),d=[],h=new yr(c.getFullYear(),0,1,12,0,0,t);for(;h.getFullYear()<=u.getFullYear();)d.push(new yr(h,t)),h.setFullYear(h.getFullYear()+1,0,1);return d},getWeek:(l,c)=>{var d;const u=s(l);return y_(u,{weekStartsOn:(c==null?void 0:c.weekStartsOn)??i,firstWeekContainsDate:(c==null?void 0:c.firstWeekContainsDate)??((d=r==null?void 0:r.options)==null?void 0:d.firstWeekContainsDate)??1})},getISOWeek:l=>{const c=s(l);return g_(c)},differenceInCalendarDays:(l,c)=>{const u=s(l),d=s(c);return B5(u,d)},differenceInCalendarMonths:(l,c)=>{const u=s(l),d=s(c);return WB(u,d)}}}const E4=t=>t instanceof HTMLElement?t:null,Xy=t=>[...t.querySelectorAll("[data-animated-month]")??[]],Mje=t=>E4(t.querySelector("[data-animated-month]")),Jy=t=>E4(t.querySelector("[data-animated-caption]")),Zy=t=>E4(t.querySelector("[data-animated-weeks]")),Dje=t=>E4(t.querySelector("[data-animated-nav]")),Rje=t=>E4(t.querySelector("[data-animated-weekdays]"));function $je(t,e,{classNames:n,months:r,focused:i,dateLib:a}){const s=C.useRef(null),o=C.useRef(r),l=C.useRef(!1);C.useLayoutEffect(()=>{const c=o.current;if(o.current=r,!e||!t.current||!(t.current instanceof HTMLElement)||r.length===0||c.length===0||r.length!==c.length)return;const u=a.isSameMonth(r[0].date,c[0].date),d=a.isAfter(r[0].date,c[0].date),h=d?n[mi.caption_after_enter]:n[mi.caption_before_enter],p=d?n[mi.weeks_after_enter]:n[mi.weeks_before_enter],g=s.current,x=t.current.cloneNode(!0);if(x instanceof HTMLElement?(Xy(x).forEach(w=>{if(!(w instanceof HTMLElement))return;const E=Mje(w);E&&w.contains(E)&&w.removeChild(E);const S=Jy(w);S&&S.classList.remove(h);const k=Zy(w);k&&k.classList.remove(p)}),s.current=x):s.current=null,l.current||u||i)return;const v=g instanceof HTMLElement?Xy(g):[],y=Xy(t.current);if(y!=null&&y.every(b=>b instanceof HTMLElement)&&v&&v.every(b=>b instanceof HTMLElement)){l.current=!0,t.current.style.isolation="isolate";const b=Dje(t.current);b&&(b.style.zIndex="1"),y.forEach((w,E)=>{const S=v[E];if(!S)return;w.style.position="relative",w.style.overflow="hidden";const k=Jy(w);k&&k.classList.add(h);const _=Zy(w);_&&_.classList.add(p);const N=()=>{l.current=!1,t.current&&(t.current.style.isolation=""),b&&(b.style.zIndex=""),k&&k.classList.remove(h),_&&_.classList.remove(p),w.style.position="",w.style.overflow="",w.contains(S)&&w.removeChild(S)};S.style.pointerEvents="none",S.style.position="absolute",S.style.overflow="hidden",S.setAttribute("aria-hidden","true");const P=Rje(S);P&&(P.style.opacity="0");const A=Jy(S);A&&(A.classList.add(d?n[mi.caption_before_exit]:n[mi.caption_after_exit]),A.addEventListener("animationend",N));const I=Zy(S);I&&I.classList.add(d?n[mi.weeks_before_exit]:n[mi.weeks_after_exit]),w.insertBefore(S,w.firstChild)})}})}function Lje(t,e,n,r){const i=t[0],a=t[t.length-1],{ISOWeek:s,fixedWeeks:o,broadcastCalendar:l}=n??{},{addDays:c,differenceInCalendarDays:u,differenceInCalendarMonths:d,endOfBroadcastWeek:h,endOfISOWeek:p,endOfMonth:g,endOfWeek:x,isAfter:v,startOfBroadcastWeek:y,startOfISOWeek:b,startOfWeek:w}=r,E=l?y(i,r):s?b(i):w(i),S=l?h(a):s?p(g(a)):x(g(a)),k=e&&(l?h(e):s?p(e):x(e)),_=k&&v(S,k)?k:S,N=u(_,E),P=d(a,i)+1,A=[];for(let j=0;j<=N;j++){const R=c(E,j);A.push(R)}const O=(l?35:42)*P;if(o&&A.length<O){const j=O-A.length;for(let R=0;R<j;R++){const D=c(A[A.length-1],1);A.push(D)}}return A}function Fje(t){const e=[];return t.reduce((n,r)=>{const i=r.weeks.reduce((a,s)=>a.concat(s.days.slice()),e.slice());return n.concat(i.slice())},e.slice())}function Vje(t,e,n,r){const{numberOfMonths:i=1}=n,a=[];for(let s=0;s<i;s++){const o=r.addMonths(t,s);if(e&&o>e)break;a.push(o)}return a}function UO(t,e,n,r){const{month:i,defaultMonth:a,today:s=r.today(),numberOfMonths:o=1}=t;let l=i||a||s;const{differenceInCalendarMonths:c,addMonths:u,startOfMonth:d}=r;if(n&&c(n,l)<o-1){const h=-1*(o-1);l=u(n,h)}return e&&c(l,e)<0&&(l=e),d(l)}function Uje(t,e,n,r){const{addDays:i,endOfBroadcastWeek:a,endOfISOWeek:s,endOfMonth:o,endOfWeek:l,getISOWeek:c,getWeek:u,startOfBroadcastWeek:d,startOfISOWeek:h,startOfWeek:p}=r,g=t.reduce((x,v)=>{const y=n.broadcastCalendar?d(v,r):n.ISOWeek?h(v):p(v),b=n.broadcastCalendar?a(v):n.ISOWeek?s(o(v)):l(o(v)),w=e.filter(_=>_>=y&&_<=b),E=n.broadcastCalendar?35:42;if(n.fixedWeeks&&w.length<E){const _=e.filter(N=>{const P=E-w.length;return N>b&&N<=i(b,P)});w.push(..._)}const S=w.reduce((_,N)=>{const P=n.ISOWeek?c(N):u(N),A=_.find(O=>O.weekNumber===P),I=new VW(N,v,r);return A?A.days.push(I):_.push(new ROe(P,[I])),_},[]),k=new DOe(v,S);return x.push(k),x},[]);return n.reverseMonths?g.reverse():g}function Bje(t,e){let{startMonth:n,endMonth:r}=t;const{startOfYear:i,startOfDay:a,startOfMonth:s,endOfMonth:o,addYears:l,endOfYear:c,newDate:u,today:d}=e,{fromYear:h,toYear:p,fromMonth:g,toMonth:x}=t;!n&&g&&(n=g),!n&&h&&(n=e.newDate(h,0,1)),!r&&x&&(r=x),!r&&p&&(r=u(p,11,31));const v=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=s(n):h?n=u(h,0,1):!n&&v&&(n=i(l(t.today??d(),-100))),r?r=o(r):p?r=u(p,11,31):!r&&v&&(r=c(t.today??d())),[n&&a(n),r&&a(r)]}function zje(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:a=1}=n,{startOfMonth:s,addMonths:o,differenceInCalendarMonths:l}=r,c=i?a:1,u=s(t);if(!e)return o(u,c);if(!(l(e,t)<a))return o(u,c)}function Wje(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:a}=n,{startOfMonth:s,addMonths:o,differenceInCalendarMonths:l}=r,c=i?a??1:1,u=s(t);if(!e)return o(u,-c);if(!(l(u,e)<=0))return o(u,-c)}function qje(t){const e=[];return t.reduce((n,r)=>n.concat(r.weeks.slice()),e.slice())}function Z5(t,e){const[n,r]=C.useState(t);return[e===void 0?n:e,r]}function Hje(t,e){var E;const[n,r]=Bje(t,e),{startOfMonth:i,endOfMonth:a}=e,s=UO(t,n,r,e),[o,l]=Z5(s,t.month?s:void 0);C.useEffect(()=>{const S=UO(t,n,r,e);l(S)},[t.timeZone]);const{months:c,weeks:u,days:d,previousMonth:h,nextMonth:p}=C.useMemo(()=>{const S=Vje(o,r,{numberOfMonths:t.numberOfMonths},e),k=Lje(S,t.endMonth?a(t.endMonth):void 0,{ISOWeek:t.ISOWeek,fixedWeeks:t.fixedWeeks,broadcastCalendar:t.broadcastCalendar},e),_=Uje(S,k,{broadcastCalendar:t.broadcastCalendar,fixedWeeks:t.fixedWeeks,ISOWeek:t.ISOWeek,reverseMonths:t.reverseMonths},e),N=qje(_),P=Fje(_),A=Wje(o,n,t,e),I=zje(o,r,t,e);return{months:_,weeks:N,days:P,previousMonth:A,nextMonth:I}},[e,o.getTime(),r==null?void 0:r.getTime(),n==null?void 0:n.getTime(),t.disableNavigation,t.broadcastCalendar,(E=t.endMonth)==null?void 0:E.getTime(),t.fixedWeeks,t.ISOWeek,t.numberOfMonths,t.pagedNavigation,t.reverseMonths]),{disableNavigation:g,onMonthChange:x}=t,v=S=>u.some(k=>k.days.some(_=>_.isEqualTo(S))),y=S=>{if(g)return;let k=i(S);n&&k<i(n)&&(k=i(n)),r&&k>i(r)&&(k=i(r)),l(k),x==null||x(k)};return{months:c,weeks:u,days:d,navStart:n,navEnd:r,previousMonth:h,nextMonth:p,goToMonth:y,goToDay:S=>{v(S)||y(S.date)}}}var Fa;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(Fa||(Fa={}));function BO(t){return!t[an.disabled]&&!t[an.hidden]&&!t[an.outside]}function Gje(t,e,n,r){let i,a=-1;for(const s of t){const o=e(s);BO(o)&&(o[an.focused]&&a<Fa.FocusedModifier?(i=s,a=Fa.FocusedModifier):r!=null&&r.isEqualTo(s)&&a<Fa.LastFocused?(i=s,a=Fa.LastFocused):n(s.date)&&a<Fa.Selected?(i=s,a=Fa.Selected):o[an.today]&&a<Fa.Today&&(i=s,a=Fa.Today))}return i||(i=t.find(s=>BO(e(s)))),i}function Kje(t,e,n,r,i,a,s){const{ISOWeek:o,broadcastCalendar:l}=a,{addDays:c,addMonths:u,addWeeks:d,addYears:h,endOfBroadcastWeek:p,endOfISOWeek:g,endOfWeek:x,max:v,min:y,startOfBroadcastWeek:b,startOfISOWeek:w,startOfWeek:E}=s;let k={day:c,week:d,month:u,year:h,startOfWeek:_=>l?b(_,s):o?w(_):E(_),endOfWeek:_=>l?p(_):o?g(_):x(_)}[t](n,e==="after"?1:-1);return e==="before"&&r?k=v([r,k]):e==="after"&&i&&(k=y([i,k])),k}function tq(t,e,n,r,i,a,s,o=0){if(o>365)return;const l=Kje(t,e,n.date,r,i,a,s),c=!!(a.disabled&&Vs(l,a.disabled,s)),u=!!(a.hidden&&Vs(l,a.hidden,s)),d=l,h=new VW(l,d,s);return!c&&!u?h:tq(t,e,h,r,i,a,s,o+1)}function Yje(t,e,n,r,i){const{autoFocus:a}=t,[s,o]=C.useState(),l=Gje(e.days,n,r||(()=>!1),s),[c,u]=C.useState(a?l:void 0);return{isFocusTarget:x=>!!(l!=null&&l.isEqualTo(x)),setFocused:u,focused:c,blur:()=>{o(c),u(void 0)},moveFocus:(x,v)=>{if(!c)return;const y=tq(x,v,c,e.navStart,e.navEnd,t,i);y&&(t.disableNavigation&&!e.days.some(w=>w.isEqualTo(y))||(e.goToDay(y),u(y)))}}}function Qje(t,e){const{selected:n,required:r,onSelect:i}=t,[a,s]=Z5(n,i?n:void 0),o=i?n:a,{isSameDay:l}=e,c=p=>(o==null?void 0:o.some(g=>l(g,p)))??!1,{min:u,max:d}=t;return{selected:o,select:(p,g,x)=>{let v=[...o??[]];if(c(p)){if((o==null?void 0:o.length)===u||r&&(o==null?void 0:o.length)===1)return;v=o==null?void 0:o.filter(y=>!l(y,p))}else(o==null?void 0:o.length)===d?v=[p]:v=[...v,p];return i||s(v),i==null||i(v,p,g,x),v},isSelected:c}}function Xje(t,e,n=0,r=0,i=!1,a=vs){const{from:s,to:o}=e||{},{isSameDay:l,isAfter:c,isBefore:u}=a;let d;if(!s&&!o)d={from:t,to:n>0?void 0:t};else if(s&&!o)l(s,t)?n===0?d={from:s,to:t}:i?d={from:s,to:void 0}:d=void 0:u(t,s)?d={from:t,to:s}:d={from:s,to:t};else if(s&&o)if(l(s,t)&&l(o,t))i?d={from:s,to:o}:d=void 0;else if(l(s,t))d={from:s,to:n>0?void 0:t};else if(l(o,t))d={from:t,to:n>0?void 0:t};else if(u(t,s))d={from:t,to:o};else if(c(t,s))d={from:s,to:t};else if(c(t,o))d={from:s,to:t};else throw new Error("Invalid range");if(d!=null&&d.from&&(d!=null&&d.to)){const h=a.differenceInCalendarDays(d.to,d.from);r>0&&h>r?d={from:t,to:void 0}:n>1&&h<n&&(d={from:t,to:void 0})}return d}function Jje(t,e,n=vs){const r=Array.isArray(e)?e:[e];let i=t.from;const a=n.differenceInCalendarDays(t.to,t.from),s=Math.min(a,6);for(let o=0;o<=s;o++){if(r.includes(i.getDay()))return!0;i=n.addDays(i,1)}return!1}function zO(t,e,n=vs){return Fs(t,e.from,!1,n)||Fs(t,e.to,!1,n)||Fs(e,t.from,!1,n)||Fs(e,t.to,!1,n)}function Zje(t,e,n=vs){const r=Array.isArray(e)?e:[e];if(r.filter(o=>typeof o!="function").some(o=>typeof o=="boolean"?o:n.isDate(o)?Fs(t,o,!1,n):zW(o,n)?o.some(l=>Fs(t,l,!1,n)):J5(o)?o.from&&o.to?zO(t,{from:o.from,to:o.to},n):!1:BW(o)?Jje(t,o.dayOfWeek,n):tS(o)?n.isAfter(o.before,o.after)?zO(t,{from:n.addDays(o.after,1),to:n.addDays(o.before,-1)},n):Vs(t.from,o,n)||Vs(t.to,o,n):nS(o)||rS(o)?Vs(t.from,o,n)||Vs(t.to,o,n):!1))return!0;const s=r.filter(o=>typeof o=="function");if(s.length){let o=t.from;const l=n.differenceInCalendarDays(t.to,t.from);for(let c=0;c<=l;c++){if(s.some(u=>u(o)))return!0;o=n.addDays(o,1)}}return!1}function eMe(t,e){const{disabled:n,excludeDisabled:r,selected:i,required:a,onSelect:s}=t,[o,l]=Z5(i,s?i:void 0),c=s?i:o;return{selected:c,select:(h,p,g)=>{const{min:x,max:v}=t,y=h?Xje(h,c,x,v,a,e):void 0;return r&&n&&(y!=null&&y.from)&&y.to&&Zje({from:y.from,to:y.to},n,e)&&(y.from=h,y.to=void 0),s||l(y),s==null||s(y,h,p,g),y},isSelected:h=>c&&Fs(c,h,!1,e)}}function tMe(t,e){const{selected:n,required:r,onSelect:i}=t,[a,s]=Z5(n,i?n:void 0),o=i?n:a,{isSameDay:l}=e;return{selected:o,select:(d,h,p)=>{let g=d;return!r&&o&&o&&l(d,o)&&(g=void 0),i||s(g),i==null||i(g,d,h,p),g},isSelected:d=>o?l(o,d):!1}}function nMe(t,e){const n=tMe(t,e),r=Qje(t,e),i=eMe(t,e);switch(t.mode){case"single":return n;case"multiple":return r;case"range":return i;default:return}}function Mi(t,e){return t instanceof yr&&t.timeZone===e?t:new yr(t,e)}function kc(t,e,n){return Mi(t,e)}function WO(t,e,n){return typeof t=="boolean"||typeof t=="function"?t:t instanceof Date?kc(t,e):Array.isArray(t)?t.map(r=>r instanceof Date?kc(r,e):r):J5(t)?{...t,from:t.from?Mi(t.from,e):t.from,to:t.to?Mi(t.to,e):t.to}:tS(t)?{before:kc(t.before,e),after:kc(t.after,e)}:nS(t)?{after:kc(t.after,e)}:rS(t)?{before:kc(t.before,e)}:t}function ev(t,e,n){return t&&(Array.isArray(t)?t.map(r=>WO(r,e)):WO(t,e))}function rMe(t){var le;let e=t;const n=e.timeZone;if(n&&(e={...t,timeZone:n},e.today&&(e.today=Mi(e.today,n)),e.month&&(e.month=Mi(e.month,n)),e.defaultMonth&&(e.defaultMonth=Mi(e.defaultMonth,n)),e.startMonth&&(e.startMonth=Mi(e.startMonth,n)),e.endMonth&&(e.endMonth=Mi(e.endMonth,n)),e.mode==="single"&&e.selected?e.selected=Mi(e.selected,n):e.mode==="multiple"&&e.selected?e.selected=(le=e.selected)==null?void 0:le.map(be=>Mi(be,n)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?Mi(e.selected.from,n):e.selected.from,to:e.selected.to?Mi(e.selected.to,n):e.selected.to}),e.disabled!==void 0&&(e.disabled=ev(e.disabled,n)),e.hidden!==void 0&&(e.hidden=ev(e.hidden,n)),e.modifiers)){const be={};Object.keys(e.modifiers).forEach(ye=>{var z;be[ye]=ev((z=e.modifiers)==null?void 0:z[ye],n)}),e.modifiers=be}const{components:r,formatters:i,labels:a,dateLib:s,locale:o,classNames:l}=C.useMemo(()=>{const be={...FW,...e.locale},ye=e.broadcastCalendar?1:e.weekStartsOn,z=e.noonSafe&&e.timeZone?jje(e.timeZone,{weekStartsOn:ye,locale:be}):void 0,X=e.dateLib&&z?{...z,...e.dateLib}:e.dateLib??z,ue=new Pi({locale:be,weekStartsOn:ye,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},X);return{dateLib:ue,components:fje(e.components),formatters:Sje(e.formatters),labels:Pje(e.labels,ue.options),locale:be,classNames:{...pje(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.noonSafe,e.components,e.formatters,e.labels,e.classNames]);e.today||(e={...e,today:s.today()});const{captionLayout:c,mode:u,navLayout:d,numberOfMonths:h=1,onDayBlur:p,onDayClick:g,onDayFocus:x,onDayKeyDown:v,onDayMouseEnter:y,onDayMouseLeave:b,onNextClick:w,onPrevClick:E,showWeekNumber:S,styles:k}=e,{formatCaption:_,formatDay:N,formatMonthDropdown:P,formatWeekNumber:A,formatWeekNumberHeader:I,formatWeekdayName:O,formatYearDropdown:j}=i,R=Hje(e,s),{days:D,months:$,navStart:U,navEnd:V,previousMonth:B,nextMonth:q,goToMonth:K}=R,H=uje(D,e,U,V,s),{isSelected:ne,select:he,selected:me}=nMe(e,s)??{},{blur:ee,focused:xe,isFocusTarget:_e,moveFocus:J,setFocused:Ne}=Yje(e,R,H,ne??(()=>!1),s),{labelDayButton:Me,labelGridcell:ie,labelGrid:Ue,labelMonthDropdown:re,labelNav:te,labelPrevious:ve,labelNext:We,labelWeekday:Se,labelWeekNumber:Ie,labelWeekNumberHeader:Fe,labelYearDropdown:mt}=a,Y=C.useMemo(()=>Cje(s,e.ISOWeek,e.broadcastCalendar,e.today),[s,e.ISOWeek,e.broadcastCalendar,e.today]),ke=u!==void 0||g!==void 0,Oe=C.useCallback(()=>{B&&(K(B),E==null||E(B))},[B,K,E]),at=C.useCallback(()=>{q&&(K(q),w==null||w(q))},[K,q,w]),lt=C.useCallback((be,ye)=>z=>{z.preventDefault(),z.stopPropagation(),Ne(be),!ye.disabled&&(he==null||he(be.date,ye,z),g==null||g(be.date,ye,z))},[he,g,Ne]),st=C.useCallback((be,ye)=>z=>{Ne(be),x==null||x(be.date,ye,z)},[x,Ne]),ae=C.useCallback((be,ye)=>z=>{ee(),p==null||p(be.date,ye,z)},[ee,p]),G=C.useCallback((be,ye)=>z=>{const X={ArrowLeft:[z.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[z.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[z.shiftKey?"year":"week","after"],ArrowUp:[z.shiftKey?"year":"week","before"],PageUp:[z.shiftKey?"year":"month","before"],PageDown:[z.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(X[z.key]){z.preventDefault(),z.stopPropagation();const[ue,ge]=X[z.key];J(ue,ge)}v==null||v(be.date,ye,z)},[J,v,e.dir]),ce=C.useCallback((be,ye)=>z=>{y==null||y(be.date,ye,z)},[y]),Pe=C.useCallback((be,ye)=>z=>{b==null||b(be.date,ye,z)},[b]),He=C.useCallback(be=>ye=>{const z=Number(ye.target.value),X=s.setMonth(s.startOfMonth(be),z);K(X)},[s,K]),tn=C.useCallback(be=>ye=>{const z=Number(ye.target.value),X=s.setYear(s.startOfMonth(be),z);K(X)},[s,K]),{className:An,style:qn}=C.useMemo(()=>({className:[l[ze.Root],e.className].filter(Boolean).join(" "),style:{...k==null?void 0:k[ze.Root],...e.style}}),[l,e.className,e.style,k]),nn=hje(e),Er=C.useRef(null);$je(Er,!!e.animate,{classNames:l,months:$,focused:xe,dateLib:s});const hn={dayPickerProps:e,selected:me,select:he,isSelected:ne,months:$,nextMonth:q,previousMonth:B,goToMonth:K,getModifiers:H,components:r,classNames:l,styles:k,labels:a,formatters:i};return F.createElement(UW.Provider,{value:hn},F.createElement(r.Root,{rootRef:e.animate?Er:void 0,className:An,style:qn,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"],...nn},F.createElement(r.Months,{className:l[ze.Months],style:k==null?void 0:k[ze.Months]},!e.hideNavigation&&!d&&F.createElement(r.Nav,{"data-animated-nav":e.animate?"true":void 0,className:l[ze.Nav],style:k==null?void 0:k[ze.Nav],"aria-label":te(),onPreviousClick:Oe,onNextClick:at,previousMonth:B,nextMonth:q}),$.map((be,ye)=>F.createElement(r.Month,{"data-animated-month":e.animate?"true":void 0,className:l[ze.Month],style:k==null?void 0:k[ze.Month],key:ye,displayIndex:ye,calendarMonth:be},d==="around"&&!e.hideNavigation&&ye===0&&F.createElement(r.PreviousMonthButton,{type:"button",className:l[ze.PreviousMonthButton],tabIndex:B?void 0:-1,"aria-disabled":B?void 0:!0,"aria-label":ve(B),onClick:Oe,"data-animated-button":e.animate?"true":void 0},F.createElement(r.Chevron,{disabled:B?void 0:!0,className:l[ze.Chevron],orientation:e.dir==="rtl"?"right":"left"})),F.createElement(r.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:l[ze.MonthCaption],style:k==null?void 0:k[ze.MonthCaption],calendarMonth:be,displayIndex:ye},c!=null&&c.startsWith("dropdown")?F.createElement(r.DropdownNav,{className:l[ze.Dropdowns],style:k==null?void 0:k[ze.Dropdowns]},(()=>{const z=c==="dropdown"||c==="dropdown-months"?F.createElement(r.MonthsDropdown,{key:"month",className:l[ze.MonthsDropdown],"aria-label":re(),classNames:l,components:r,disabled:!!e.disableNavigation,onChange:He(be.date),options:Aje(be.date,U,V,i,s),style:k==null?void 0:k[ze.Dropdown],value:s.getMonth(be.date)}):F.createElement("span",{key:"month"},P(be.date,s)),X=c==="dropdown"||c==="dropdown-years"?F.createElement(r.YearsDropdown,{key:"year",className:l[ze.YearsDropdown],"aria-label":mt(s.options),classNames:l,components:r,disabled:!!e.disableNavigation,onChange:tn(be.date),options:Oje(U,V,i,s,!!e.reverseYears),style:k==null?void 0:k[ze.Dropdown],value:s.getYear(be.date)}):F.createElement("span",{key:"year"},j(be.date,s));return s.getMonthYearOrder()==="year-first"?[X,z]:[z,X]})(),F.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},_(be.date,s.options,s))):F.createElement(r.CaptionLabel,{className:l[ze.CaptionLabel],role:"status","aria-live":"polite"},_(be.date,s.options,s))),d==="around"&&!e.hideNavigation&&ye===h-1&&F.createElement(r.NextMonthButton,{type:"button",className:l[ze.NextMonthButton],tabIndex:q?void 0:-1,"aria-disabled":q?void 0:!0,"aria-label":We(q),onClick:at,"data-animated-button":e.animate?"true":void 0},F.createElement(r.Chevron,{disabled:q?void 0:!0,className:l[ze.Chevron],orientation:e.dir==="rtl"?"left":"right"})),ye===h-1&&d==="after"&&!e.hideNavigation&&F.createElement(r.Nav,{"data-animated-nav":e.animate?"true":void 0,className:l[ze.Nav],style:k==null?void 0:k[ze.Nav],"aria-label":te(),onPreviousClick:Oe,onNextClick:at,previousMonth:B,nextMonth:q}),F.createElement(r.MonthGrid,{role:"grid","aria-multiselectable":u==="multiple"||u==="range","aria-label":Ue(be.date,s.options,s)||void 0,className:l[ze.MonthGrid],style:k==null?void 0:k[ze.MonthGrid]},!e.hideWeekdays&&F.createElement(r.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:l[ze.Weekdays],style:k==null?void 0:k[ze.Weekdays]},S&&F.createElement(r.WeekNumberHeader,{"aria-label":Fe(s.options),className:l[ze.WeekNumberHeader],style:k==null?void 0:k[ze.WeekNumberHeader],scope:"col"},I()),Y.map(z=>F.createElement(r.Weekday,{"aria-label":Se(z,s.options,s),className:l[ze.Weekday],key:String(z),style:k==null?void 0:k[ze.Weekday],scope:"col"},O(z,s.options,s)))),F.createElement(r.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:l[ze.Weeks],style:k==null?void 0:k[ze.Weeks]},be.weeks.map(z=>F.createElement(r.Week,{className:l[ze.Week],key:z.weekNumber,style:k==null?void 0:k[ze.Week],week:z},S&&F.createElement(r.WeekNumber,{week:z,style:k==null?void 0:k[ze.WeekNumber],"aria-label":Ie(z.weekNumber,{locale:o}),className:l[ze.WeekNumber],scope:"row",role:"rowheader"},A(z.weekNumber,s)),z.days.map(X=>{const{date:ue}=X,ge=H(X);if(ge[an.focused]=!ge.hidden&&!!(xe!=null&&xe.isEqualTo(X)),ge[_a.selected]=(ne==null?void 0:ne(ue))||ge.selected,J5(me)){const{from:li,to:W}=me;ge[_a.range_start]=!!(li&&W&&s.isSameDay(ue,li)),ge[_a.range_end]=!!(li&&W&&s.isSameDay(ue,W)),ge[_a.range_middle]=Fs(me,ue,!0,s)}const et=Ije(ge,k,e.modifiersStyles),ft=dje(ge,l,e.modifiersClassNames),Tt=!ke&&!ge.hidden?ie(ue,ge,s.options,s):void 0;return F.createElement(r.Day,{key:`${X.isoDate}_${X.displayMonthId}`,day:X,modifiers:ge,className:ft.join(" "),style:et,role:"gridcell","aria-selected":ge.selected||void 0,"aria-label":Tt,"data-day":X.isoDate,"data-month":X.outside?X.dateMonthId:void 0,"data-selected":ge.selected||void 0,"data-disabled":ge.disabled||void 0,"data-hidden":ge.hidden||void 0,"data-outside":X.outside||void 0,"data-focused":ge.focused||void 0,"data-today":ge.today||void 0},!ge.hidden&&ke?F.createElement(r.DayButton,{className:l[ze.DayButton],style:k==null?void 0:k[ze.DayButton],type:"button",day:X,modifiers:ge,disabled:!ge.focused&&ge.disabled||void 0,"aria-disabled":ge.focused&&ge.disabled||void 0,tabIndex:_e(X)?0:-1,"aria-label":Me(ue,ge,s.options,s),onClick:lt(X,ge),onBlur:ae(X,ge),onFocus:st(X,ge),onKeyDown:G(X,ge),onMouseEnter:ce(X,ge),onMouseLeave:Pe(X,ge)},N(ue,s.options,s)):!ge.hidden&&N(X.date,s.options,s))})))))))),e.footer&&F.createElement(r.Footer,{className:l[ze.Footer],style:k==null?void 0:k[ze.Footer],role:"status","aria-live":"polite"},e.footer)))}const qO={date:Jt(new Date,"yyyy-MM-dd"),type:"Social Media Post",socialPlatform:"Facebook",amountIQD:"",link:"",campaign:"",tags:"",notes:"",attachments:[]},$a=t=>{if(!t)return null;try{const e=Gr(t);return Number.isNaN(e.getTime())?null:e}catch{return null}},iMe=t=>{try{const e=new URL(t);return["http:","https:"].includes(e.protocol)}catch{return!1}},aMe=()=>{var mt,Y,ke,Oe,at,lt,st,ae;const{t}=dr(),{expenses:e,expenseTypes:n,saveExpenseTypes:r,addExpense:i,updateExpense:a,deleteExpense:s,addToast:o,formatCurrency:l,loading:c,brand:u,setIsModalOpen:d}=Sn(),{user:h}=ac(),p=C.useMemo(()=>e.length?e.reduce((G,ce)=>{const Pe=$a(ce.date);return Pe&&Pe<G?Pe:G},new Date):z5(new Date,30),[e]),g=C.useMemo(()=>({from:p,to:new Date}),[p]),[x,v]=C.useState(g),[y,b]=C.useState(!1),[w,E]=C.useState([]),[S,k]=C.useState(""),[_,N]=C.useState(100),[P,A]=C.useState({column:"date",direction:"desc"}),[I,O]=C.useState(!1),[j,R]=C.useState(!1),[D,$]=C.useState(!1),[U,V]=C.useState(null),[B,q]=C.useState(qO),[K,H]=C.useState([]),[ne,he]=C.useState(!1),me=C.useRef(null);C.useEffect(()=>{!c&&e.length>0&&!y&&(v(g),b(!0))},[c,e.length,y,g]),C.useEffect(()=>(d(I||j),()=>d(!1)),[I,j,d]),C.useEffect(()=>{if(!D)return;const G=ce=>{me.current&&!me.current.contains(ce.target)&&$(!1)};return document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[D]);const ee=C.useMemo(()=>e.filter(G=>{const ce=$a(G.date);return ce?!(x!=null&&x.from)||!(x!=null&&x.to)?!0:qo(ce,{start:x.from,end:x.to}):!1}),[e,x]),xe=C.useMemo(()=>{const G={};return ee.forEach(Pe=>{const He=Pe.type||"Other";G[He]=(G[He]||0)+1}),[...new Set([...n||[],...Object.keys(G)])].map(Pe=>({value:Pe,label:Pe,count:G[Pe]||0})).sort((Pe,He)=>He.count-Pe.count)},[ee,n]),_e=C.useMemo(()=>{const G=S.trim().toLowerCase();return ee.filter(ce=>w.length===0||w.includes(ce.type)?G?[ce.type,ce.campaign,ce.notes,ce.link,Array.isArray(ce.tags)?ce.tags.join(" "):ce.tags].join(" ").toLowerCase().includes(G):!0:!1)},[ee,w,S]),J=C.useMemo(()=>{const G=(ce,Pe)=>{var He;return Pe==="date"?((He=$a(ce.date))==null?void 0:He.getTime())||0:Pe==="amountIQD"?Number(ce.amountIQD||0):String(ce[Pe]||"").toLowerCase()};return[..._e].sort((ce,Pe)=>{const He=G(ce,P.column),tn=G(Pe,P.column);if(He===tn)return 0;const An=He>tn?1:-1;return P.direction==="asc"?An:-An})},[_e,P]),Ne=C.useMemo(()=>J.slice(0,_),[J,_]),Me=C.useMemo(()=>_e.reduce((G,ce)=>G+Number(ce.amountIQD||0),0),[_e]),ie=C.useMemo(()=>{const G={};return _e.forEach(ce=>{const Pe=ce.type||"Other";G[Pe]=(G[Pe]||0)+Number(ce.amountIQD||0)}),Object.entries(G).sort((ce,Pe)=>Pe[1]-ce[1])},[_e]),Ue=C.useMemo(()=>{const G={};return _e.forEach(ce=>{var He;const Pe=((He=ce.campaign)==null?void 0:He.trim())||"Unassigned";G[Pe]=(G[Pe]||0)+Number(ce.amountIQD||0)}),Object.entries(G).sort((ce,Pe)=>Pe[1]-ce[1])},[_e]),re=()=>{q(qO),H([]),V(null)},te=()=>{re(),O(!0)},ve=G=>{V(G._id),q({date:Jt($a(G.date)||new Date,"yyyy-MM-dd"),type:G.type||"Other",socialPlatform:G.socialPlatform||"Facebook",amountIQD:String(G.amountIQD||""),link:G.link||"",campaign:G.campaign||"",tags:Array.isArray(G.tags)?G.tags.join(", "):G.tags||"",notes:G.notes||"",attachments:Array.isArray(G.attachments)?G.attachments:[]}),H([]),O(!0)},We=G=>{A(ce=>ce.column!==G?{column:G,direction:"asc"}:{column:G,direction:ce.direction==="asc"?"desc":"asc"})},Se=G=>{q(ce=>({...ce,attachments:ce.attachments.filter((Pe,He)=>He!==G)}))},Ie=async G=>{if(!G.length)return[];const ce=(h==null?void 0:h.uid)||"anonymous",Pe=[];for(const He of G){if(!(He.type.startsWith("image/")||He.type==="application/pdf"))throw new Error("Only images and PDFs are allowed.");const An=He.name.replace(/[^\w.\-]/g,"_"),qn=`expenses/${ce}/${Date.now()}_${An}`,nn=IL(JL,qn);await PL(nn,He,{contentType:He.type});const Er=await AL(nn);Pe.push({name:He.name,url:Er,path:qn,contentType:He.type,size:He.size})}return Pe},Fe=async G=>{if(G.preventDefault(),!B.date){o("Date is required","error");return}const ce=Number(B.amountIQD);if(!Number.isFinite(ce)||ce<=0){o("Amount must be greater than 0","error");return}if(!iMe(B.link.trim())){o("Please enter a valid URL (http/https)","error");return}he(!0);try{const Pe=await Ie(K),He={date:new Date(`${B.date}T12:00:00`).toISOString(),type:B.type,socialPlatform:B.socialPlatform,amountIQD:ce,link:B.link.trim(),campaign:B.campaign.trim(),tags:B.tags.split(",").map(tn=>tn.trim()).filter(Boolean),notes:B.notes.trim(),attachments:[...B.attachments,...Pe]};U?await a({_id:U,...He}):await i(He),O(!1),re()}catch(Pe){o((Pe==null?void 0:Pe.message)||"Failed to save expense","error")}finally{he(!1)}};return f.jsxs(sc,{title:t("expenses.title"),children:[f.jsxs("div",{className:"flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[f.jsxs("button",{onClick:te,className:"flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-xl font-bold transition-all bg-accent shadow-accent active:scale-95",children:[f.jsx(Ea,{className:"w-5 h-5"}),f.jsx("span",{children:t("expenses.newExpense")})]}),f.jsxs("button",{onClick:()=>{if(J.length===0)return o(t("common.noDataToExport"),"info");bOe(J)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 text-white rounded-xl font-bold transition-all shadow-lg hover:bg-green-700",children:[f.jsx(Vo,{className:"w-5 h-5"}),f.jsx("span",{className:"sm:hidden",children:"CSV"}),f.jsx("span",{className:"hidden sm:inline",children:t("common.exportCSV")})]}),f.jsx("button",{onClick:()=>R(!0),className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded-xl font-bold text-sm border border-slate-200 dark:border-slate-700",children:t("expenses.addType")})]}),f.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[(w.length>0||S||((mt=x.from)==null?void 0:mt.getTime())!==((Y=g.from)==null?void 0:Y.getTime())||((ke=x.to)==null?void 0:ke.getTime())!==((Oe=g.to)==null?void 0:Oe.getTime()))&&f.jsx("button",{onClick:()=>{k(""),E([]),v(g)},className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsx(Yl,{limit:_,onChange:N}),f.jsxs("div",{className:"shrink-0 whitespace-nowrap flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(aE,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:_e.length})," ",t("expenses.title")]})]})]})]}),f.jsxs("div",{className:"flex sm:hidden gap-2 items-center w-full",children:[f.jsx(Yl,{limit:_,onChange:N}),f.jsxs("div",{className:"shrink-0 whitespace-nowrap flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(aE,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:_e.length})," ",t("expenses.title")]})]})]}),f.jsxs("div",{className:"flex gap-3 w-full flex-wrap lg:flex-nowrap items-center",children:[f.jsxs("div",{className:"relative order-last w-full sm:order-none sm:min-w-[220px] sm:flex-1 lg:flex-none lg:w-[320px] h-[44px]",children:[f.jsx(Zl,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("expenses.searchPlaceholder"),value:S,onChange:G=>k(G.target.value),className:"ps-10 pe-4 py-0 h-full w-full bg-white dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-800 rounded-2xl outline-none focus:border-accent/40 focus:ring-4 focus:ring-accent/10 transition-all font-bold text-sm text-slate-700 dark:text-white"})]}),f.jsx("div",{className:"h-[44px] flex-shrink-0",children:f.jsx(W5,{range:x,onRangeChange:v,brandColor:u.color})}),f.jsx(Hi,{title:"Type",options:xe,selectedValues:w,onChange:E,icon:Qf,showSearch:!1})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-2xl p-4",children:[f.jsx("p",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 mb-1",children:t("expenses.totalSpend")}),f.jsx("p",{className:"text-2xl font-black text-slate-900 dark:text-white",children:l(Me)})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-2xl p-4",children:[f.jsx("p",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 mb-1",children:t("expenses.topType")}),f.jsx("p",{className:"text-xl font-black text-slate-900 dark:text-white",children:((at=ie[0])==null?void 0:at[0])||"N/A"}),f.jsx("p",{className:"text-sm text-slate-500",children:l(((lt=ie[0])==null?void 0:lt[1])||0)})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-2xl p-4",children:[f.jsx("p",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 mb-1",children:t("expenses.topCampaign")}),f.jsx("p",{className:"text-xl font-black text-slate-900 dark:text-white",children:((st=Ue[0])==null?void 0:st[0])||"N/A"}),f.jsx("p",{className:"text-sm text-slate-500",children:l(((ae=Ue[0])==null?void 0:ae[1])||0)})]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[f.jsx("div",{className:"hidden sm:block overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-500 uppercase",children:[[["date","Date"],["type","Type"],["campaign","Campaign"],["link","Link"],["amountIQD","Amount (IQD)"]].map(([G,ce])=>f.jsx("th",{onClick:()=>We(G),className:"px-6 py-4 cursor-pointer select-none",children:f.jsxs("div",{className:"flex items-center gap-2",children:[ce,P.column===G&&f.jsx("span",{className:"text-accent",children:P.direction==="asc"?"":""})]})},G)),f.jsx("th",{className:"px-6 py-4",children:"Attachments"}),f.jsx("th",{className:"px-6 py-4 text-end",children:"Actions"})]})}),f.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[Ne.map(G=>f.jsxs("tr",{className:"hover:bg-slate-50/60 dark:hover:bg-slate-700/40",children:[f.jsx("td",{className:"px-6 py-4 text-sm font-semibold text-slate-700 dark:text-slate-200",children:$a(G.date)?Jt($a(G.date),"dd MMM yyyy"):"-"}),f.jsx("td",{className:"px-6 py-4 text-sm text-slate-700 dark:text-slate-200",children:G.type||"-"}),f.jsx("td",{className:"px-6 py-4 text-sm text-slate-700 dark:text-slate-200",children:G.campaign||"-"}),f.jsx("td",{className:"px-6 py-4 text-sm",children:G.link?f.jsxs("a",{href:G.link,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-accent font-semibold hover:underline",children:["Open ",f.jsx(rE,{className:"w-3.5 h-3.5"})]}):"-"}),f.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-900 dark:text-white",children:l(G.amountIQD||0)}),f.jsx("td",{className:"px-6 py-4 text-sm",children:Array.isArray(G.attachments)&&G.attachments.length>0?f.jsxs("div",{className:"flex flex-col gap-1",children:[G.attachments.slice(0,2).map((ce,Pe)=>f.jsx("a",{href:ce.url,target:"_blank",rel:"noreferrer",className:"text-accent hover:underline truncate max-w-[180px]",children:ce.name||`Attachment ${Pe+1}`},`${G._id}-${Pe}`)),G.attachments.length>2&&f.jsxs("span",{className:"text-xs text-slate-500",children:["+",G.attachments.length-2," more"]})]}):"-"}),f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("button",{onClick:()=>ve(G),className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700",children:f.jsx(lE,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>{window.confirm("Delete this expense?")&&s(G._id)},className:"p-2 rounded-lg text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20",children:f.jsx(Rr,{className:"w-4 h-4"})})]})})]},G._id)),Ne.length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:"8",className:"px-6 py-12 text-center text-slate-400",children:t("expenses.noExpenses")})})]})]})}),f.jsxs("div",{className:"sm:hidden divide-y divide-slate-100 dark:divide-slate-700",children:[Ne.map(G=>f.jsxs("div",{className:"p-4 space-y-3",children:[f.jsxs("div",{className:"flex items-start justify-between gap-3",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-xs uppercase tracking-wider text-slate-400 font-bold",children:$a(G.date)?Jt($a(G.date),"dd MMM yyyy"):"-"}),f.jsx("p",{className:"text-base font-black text-slate-900 dark:text-white",children:G.type||"Other"}),f.jsx("p",{className:"text-sm text-slate-500",children:G.campaign||"No campaign"})]}),f.jsx("p",{className:"text-base font-black text-slate-900 dark:text-white",children:l(G.amountIQD||0)})]}),G.link&&f.jsxs("a",{href:G.link,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-accent text-sm font-semibold",children:["Open link ",f.jsx(rE,{className:"w-3.5 h-3.5"})]}),Array.isArray(G.attachments)&&G.attachments.length>0&&f.jsx("div",{className:"flex flex-wrap gap-2",children:G.attachments.map((ce,Pe)=>f.jsx("a",{href:ce.url,target:"_blank",rel:"noreferrer",className:"text-xs px-2 py-1 bg-slate-100 dark:bg-slate-700 rounded-lg text-slate-600 dark:text-slate-200",children:ce.name||`File ${Pe+1}`},`${G._id}-mobile-${Pe}`))}),f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("button",{onClick:()=>ve(G),className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700",children:f.jsx(lE,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>{window.confirm("Delete this expense?")&&s(G._id)},className:"p-2 rounded-lg text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20",children:f.jsx(Rr,{className:"w-4 h-4"})})]})]},G._id)),Ne.length===0&&f.jsx("div",{className:"px-6 py-10 text-center text-slate-400",children:t("expenses.noExpenses")})]})]}),j&&f.jsx(POe,{expenseTypes:n,expenses:e,onSaveTypes:r,onClose:()=>R(!1)}),I&&f.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/50 backdrop-blur-sm flex items-center justify-center p-4",children:f.jsxs("div",{className:"w-full max-w-xl bg-white dark:bg-slate-800 rounded-3xl shadow-2xl border border-slate-100 dark:border-slate-700",children:[f.jsxs("div",{className:"px-6 py-5 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between",children:[f.jsx("h3",{className:"text-xl font-black text-slate-800 dark:text-white",children:t(U?"expenses.editExpense":"expenses.newExpense")}),f.jsx("button",{onClick:()=>O(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:"X"})]}),f.jsxs("form",{onSubmit:Fe,className:"p-6 space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",ref:me,children:[f.jsx("span",{className:"text-[11px] font-bold uppercase tracking-wider text-slate-500",children:"Date"}),f.jsxs("div",{className:"relative",children:[f.jsxs("button",{type:"button",onClick:()=>$(G=>!G),className:"w-full h-12 px-3 rounded-2xl border-2 border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-900 text-slate-700 dark:text-slate-200 font-bold flex items-center justify-between gap-2",children:[f.jsxs("span",{className:"inline-flex items-center gap-2 truncate",children:[f.jsx(rY,{className:"w-4 h-4 text-slate-400"}),B.date?Jt($a(B.date)||new Date(B.date),"MM/dd/yyyy"):"Select date"]}),f.jsx(uo,{className:`w-4 h-4 text-slate-400 transition-transform ${D?"rotate-180":""}`})]}),D&&f.jsxs("div",{className:"absolute start-0 top-full mt-2 z-50 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-2xl shadow-2xl p-4 w-[340px]",children:[f.jsx(rMe,{mode:"single",selected:B.date?$a(B.date):void 0,onSelect:G=>{G&&(q(ce=>({...ce,date:Jt(G,"yyyy-MM-dd")})),$(!1))},showOutsideDays:!0,classNames:{months:"flex",month:"w-full",month_caption:"flex items-center justify-between mb-3",caption:"m-0",caption_label:"m-0 leading-none text-xl font-extrabold text-slate-800 dark:text-white",nav:"relative z-10 flex items-center gap-1",nav_button:"h-8 w-8 rounded-lg border border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-300 flex items-center justify-center",button_previous:"!static",button_next:"!static",month_grid:"w-full",weekdays:"grid grid-cols-7 mb-1",weekday:"h-10 text-[13px] font-bold text-slate-400 text-center flex items-center justify-center",week:"grid grid-cols-7",day:"h-10 w-10 flex items-center justify-center",day_button:"h-9 w-9 flex items-center justify-center rounded-lg text-[16px] font-semibold text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",day_selected:"bg-accent text-white font-black shadow-md",day_today:"ring-2 ring-accent/50 font-black",outside:"!text-slate-300 dark:!text-slate-600",day_outside:"!text-slate-300 dark:!text-slate-600"}}),f.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-slate-100 dark:border-slate-700",children:[f.jsx("button",{type:"button",onClick:()=>{q(G=>({...G,date:""})),$(!1)},className:"text-accent text-sm font-semibold",children:"Clear"}),f.jsx("button",{type:"button",onClick:()=>{q(G=>({...G,date:Jt(new Date,"yyyy-MM-dd")})),$(!1)},className:"text-accent text-sm font-semibold",children:"Today"})]})]}),f.jsx("input",{type:"hidden",value:B.date,required:!0,readOnly:!0})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("span",{className:"text-[11px] font-bold uppercase tracking-wider text-slate-500",children:"Type"}),f.jsx(Li,{title:t("common.select"),options:n.map(G=>({value:G,label:G})),selectedValue:B.type,onChange:G=>q(ce=>({...ce,type:G})),icon:Qf,showSearch:!1})]}),f.jsx("input",{type:"number",min:"1",step:"1",value:B.amountIQD,onChange:G=>q(ce=>({...ce,amountIQD:G.target.value})),className:"w-full px-3 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900",placeholder:"Amount in IQD",required:!0}),f.jsx("input",{type:"text",value:B.campaign,onChange:G=>q(ce=>({...ce,campaign:G.target.value})),className:"w-full px-3 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900",placeholder:"Campaign"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("span",{className:"text-[11px] font-bold uppercase tracking-wider text-slate-500",children:"Platform"}),f.jsx(Li,{title:t("common.select"),options:[{value:"Facebook",label:"Facebook"},{value:"Instagram",label:"Instagram"},{value:"Tiktok",label:"Tiktok"}],selectedValue:B.socialPlatform,onChange:G=>q(ce=>({...ce,socialPlatform:G})),icon:Qf,showSearch:!1})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("span",{className:"text-[11px] font-bold uppercase tracking-wider text-slate-500",children:"URL"}),f.jsxs("div",{className:"relative",children:[f.jsx(cY,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),f.jsx("input",{type:"url",value:B.link,onChange:G=>q(ce=>({...ce,link:G.target.value})),className:"w-full ps-9 pe-3 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900",placeholder:"https://...",required:!0})]})]})]}),f.jsx("input",{type:"text",value:B.tags,onChange:G=>q(ce=>({...ce,tags:G.target.value})),className:"w-full px-3 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900",placeholder:"Tags separated by comma"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[11px] font-bold uppercase tracking-wider text-slate-500 block",children:"Choose Files"}),f.jsxs("label",{className:"flex items-center justify-between gap-3 px-3 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 cursor-pointer",children:[f.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-300 truncate",children:K.length>0?`${K.length} file(s) selected`:"Upload receipts or invoices (image/PDF)"}),f.jsx("span",{className:"px-3 py-1.5 rounded-lg bg-slate-100 dark:bg-slate-700 text-xs font-bold text-slate-600 dark:text-slate-200",children:"Browse"}),f.jsx("input",{type:"file",accept:"image/*,application/pdf",multiple:!0,onChange:G=>H(Array.from(G.target.files||[])),className:"hidden"})]}),B.attachments.length>0&&f.jsx("div",{className:"flex flex-wrap gap-2",children:B.attachments.map((G,ce)=>f.jsxs("span",{className:"inline-flex items-center gap-2 px-2 py-1 rounded-lg bg-slate-100 dark:bg-slate-700 text-xs",children:[f.jsx("a",{href:G.url,target:"_blank",rel:"noreferrer",className:"text-accent hover:underline",children:G.name||`File ${ce+1}`}),f.jsx("button",{type:"button",onClick:()=>Se(ce),className:"text-red-500",children:"x"})]},`form-att-${ce}`))})]}),f.jsx("textarea",{rows:4,value:B.notes,onChange:G=>q(ce=>({...ce,notes:G.target.value})),className:"w-full px-3 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 resize-none",placeholder:"Notes"}),f.jsxs("div",{className:"pt-2 flex justify-end gap-3",children:[f.jsx("button",{type:"button",onClick:()=>O(!1),className:"px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 font-bold",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:ne,className:"px-5 py-2.5 rounded-xl text-white font-bold bg-accent shadow-accent disabled:opacity-60",children:ne?"Saving...":t(U?"expenses.updateExpense":"expenses.createExpense")})]})]})]})})]})},sMe=()=>f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 48 48","aria-hidden":"true",children:[f.jsx("path",{fill:"#FFC107",d:"M43.611 20.083H42V20H24v8h11.303C33.651 32.657 29.251 36 24 36c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.846 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.27 4 24 4 12.955 4 4 12.955 4 24s8.955 20 20 20 20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"}),f.jsx("path",{fill:"#FF3D00",d:"M6.306 14.691l6.571 4.819A11.955 11.955 0 0 1 24 12c3.059 0 5.846 1.154 7.961 3.039l5.657-5.657A19.9 19.9 0 0 0 24 4C16.318 4 9.656 8.337 6.306 14.691z"}),f.jsx("path",{fill:"#4CAF50",d:"M24 44c5.17 0 9.86-1.977 13.409-5.197l-6.19-5.238A11.956 11.956 0 0 1 24 36c-5.229 0-9.614-3.316-11.278-7.946l-6.522 5.024C9.514 39.556 16.152 44 24 44z"}),f.jsx("path",{fill:"#1976D2",d:"M43.611 20.083H42V20H24v8h11.303a12.04 12.04 0 0 1-4.084 5.565l6.19 5.238C36.971 39.15 44 34 44 24c0-1.341-.138-2.65-.389-3.917z"})]}),HO=t=>{const e=(t==null?void 0:t.code)||"";return e.includes("invalid-credential")||e.includes("wrong-password")?"Invalid email or password.":e.includes("user-not-found")?"No account found for this email.":e.includes("email-already-in-use")?"This email is already in use.":e.includes("weak-password")?"Password must be at least 6 characters.":e.includes("popup-closed-by-user")?"Google sign-in was cancelled.":"Authentication failed. Please try again."},oMe={en:{welcomeBack:"Welcome Back",heroText:"Manage inventory, orders, customers, and analytics from one dashboard.",signIn:"Sign in",createAccount:"Create account",loginHint:"Use your email/password or continue with Google.",continueGoogle:"Continue with Google",or:"or",email:"Email",password:"Password",placeholderEmail:"you@example.com",placeholderPassword:"Enter your password",pleaseWait:"Please wait...",dontHave:"Don't have an account?",haveAccount:"Already have an account?",createOne:"Create one",switchSignIn:"Sign in",language:"",unauthorizedTitle:"Access Denied",unauthorizedMessage:"Your email is not registered in our system. Please contact the website admin to grant you access."},ar:{welcomeBack:" ",heroText:"       .",signIn:" ",createAccount:" ",loginHint:" /     Google.",continueGoogle:"  Google",or:"",email:" ",password:" ",placeholderEmail:"you@example.com",placeholderPassword:"  ",pleaseWait:" ...",dontHave:"  ",haveAccount:"  ",createOne:" ",switchSignIn:" ",language:"English",unauthorizedTitle:"  ",unauthorizedMessage:"     .       ."}},lMe=()=>{var A;const{user:t,signInWithGoogle:e,signInWithEmail:n,signUpWithEmail:r,signOutUser:i}=ac(),{i18n:a}=dr(),s=Yp(),o=co(),l=C.useMemo(()=>{var I,O;return((O=(I=o.state)==null?void 0:I.from)==null?void 0:O.pathname)||"/"},[o.state]),c=(A=a.language)!=null&&A.startsWith("ar")?"ar":"en",u=oMe[c],[d,h]=C.useState("signin"),[p,g]=C.useState(""),[x,v]=C.useState(""),[y,b]=C.useState(!1),[w,E]=C.useState(""),[S,k]=C.useState(!1),_=I=>{a.changeLanguage(I),localStorage.setItem("language",I)};if(t)return f.jsx(Qp,{to:l,replace:!0});const N=async I=>{I.preventDefault(),E(""),b(!0);try{const O=p.trim().toLowerCase();if(d==="signup"){if(!await Ge.getUserByEmail(O)){E(u.unauthorizedMessage),b(!1);return}await r(O,x)}else if(await n(O,x),!await Ge.getUserByEmail(O)){await i(),E(u.unauthorizedMessage),b(!1);return}s(l,{replace:!0})}catch(O){E(HO(O))}finally{b(!1)}},P=async()=>{E(""),b(!0);try{const O=(await e()).user.email;if(!await Ge.getUserByEmail(O)){await i(),E(u.unauthorizedMessage),b(!1);return}s(l,{replace:!0})}catch(I){E(HO(I))}finally{b(!1)}};return f.jsx("div",{className:"min-h-screen bg-slate-50",dir:"ltr",children:f.jsxs("div",{className:"grid min-h-screen grid-cols-1 lg:grid-cols-2",children:[f.jsxs("div",{className:"relative hidden lg:flex items-center justify-center overflow-hidden bg-gradient-to-br from-[#1e3a5f] via-[#243b6f] to-[#8b5cf6] p-10",children:[f.jsx("div",{className:"absolute -top-24 -left-16 h-72 w-72 rounded-full bg-white/15 blur-2xl"}),f.jsx("div",{className:"absolute -bottom-24 -right-20 h-80 w-80 rounded-full bg-pink-400/25 blur-2xl"}),f.jsxs("div",{className:"relative max-w-md text-white text-right",children:[f.jsx("h1",{className:"text-5xl font-black leading-tight",children:u.welcomeBack}),f.jsx("p",{className:"mt-4 text-lg text-white/80",children:u.heroText})]})]}),f.jsx("div",{className:"flex items-center justify-center p-6 sm:p-10",children:f.jsxs("div",{className:`w-full max-w-md rounded-3xl border border-slate-200 bg-white p-7 shadow-xl sm:p-8 ${c==="ar"?"text-right":"text-left"}`,children:[f.jsxs("div",{className:`mb-8 ${c==="ar"?"text-right":"text-left"}`,children:[f.jsxs("div",{className:"mb-3 flex justify-end relative",children:[f.jsxs("button",{type:"button",onClick:()=>k(I=>!I),className:"inline-flex items-center gap-1.5 rounded-lg border border-slate-200 px-3 py-1.5 text-xs font-bold text-slate-600 hover:bg-slate-50",children:[f.jsx("span",{children:c==="ar"?"":""}),f.jsx("span",{children:c==="ar"?"":"English"}),f.jsx(uo,{className:`h-3.5 w-3.5 transition-transform ${S?"rotate-180":""}`})]}),S&&f.jsxs("div",{className:"absolute top-full mt-2 w-32 rounded-lg border border-slate-200 bg-white p-1 shadow-lg z-20",children:[f.jsxs("button",{type:"button",onClick:()=>{_("en"),k(!1)},className:"flex w-full items-center gap-1.5 rounded-md px-2 py-1.5 text-xs font-bold text-slate-600 hover:bg-slate-50",children:[f.jsx("span",{children:""}),"English"]}),f.jsxs("button",{type:"button",onClick:()=>{_("ar"),k(!1)},className:"flex w-full items-center gap-1.5 rounded-md px-2 py-1.5 text-xs font-bold text-slate-600 hover:bg-slate-50",children:[f.jsx("span",{children:""}),""]})]})]}),f.jsx("h2",{className:"text-3xl font-black text-slate-900",children:d==="signin"?u.signIn:u.createAccount}),f.jsx("p",{className:"mt-2 text-sm text-slate-500",children:u.loginHint})]}),w&&f.jsxs("div",{className:"mb-5 flex items-start gap-2 rounded-xl border border-rose-200 bg-rose-50 p-3 text-sm text-rose-700",children:[f.jsx(Zx,{className:"mt-0.5 h-4 w-4 shrink-0"}),f.jsx("span",{children:w})]}),f.jsxs("button",{type:"button",onClick:P,disabled:y,className:"mb-4 flex w-full items-center justify-center gap-3 rounded-xl border border-slate-300 bg-white px-4 py-3 text-sm font-bold text-slate-700 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-60",children:[f.jsx(sMe,{}),u.continueGoogle]}),f.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[f.jsx("div",{className:"h-px flex-1 bg-slate-200"}),f.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:u.or}),f.jsx("div",{className:"h-px flex-1 bg-slate-200"})]}),f.jsxs("form",{onSubmit:N,className:"space-y-3",children:[f.jsxs("label",{className:"block",children:[f.jsx("span",{className:"mb-1.5 block text-xs font-bold uppercase tracking-wide text-slate-500",children:u.email}),f.jsxs("div",{className:"relative",children:[f.jsx(dY,{className:"pointer-events-none absolute start-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),f.jsx("input",{type:"email",required:!0,autoComplete:"email",value:p,onChange:I=>g(I.target.value),className:"w-full rounded-xl border border-slate-300 bg-white py-3 ps-10 pe-3 text-sm font-medium text-slate-900 outline-none transition focus:border-indigo-400 focus:ring-4 focus:ring-indigo-100",placeholder:u.placeholderEmail})]})]}),f.jsxs("label",{className:"block",children:[f.jsx("span",{className:"mb-1.5 block text-xs font-bold uppercase tracking-wide text-slate-500",children:u.password}),f.jsxs("div",{className:"relative",children:[f.jsx(PD,{className:"pointer-events-none absolute start-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),f.jsx("input",{type:"password",required:!0,minLength:6,autoComplete:d==="signup"?"new-password":"current-password",value:x,onChange:I=>v(I.target.value),className:"w-full rounded-xl border border-slate-300 bg-white py-3 ps-10 pe-3 text-sm font-medium text-slate-900 outline-none transition focus:border-indigo-400 focus:ring-4 focus:ring-indigo-100",placeholder:u.placeholderPassword})]})]}),f.jsx("button",{type:"submit",disabled:y,className:"w-full rounded-xl bg-gradient-to-r from-pink-500 to-violet-600 px-4 py-3 text-sm font-black text-white shadow-lg shadow-pink-500/20 transition hover:opacity-95 disabled:cursor-not-allowed disabled:opacity-60",children:y?u.pleaseWait:d==="signup"?u.createAccount:u.signIn})]}),f.jsxs("p",{className:"mt-6 text-center text-sm text-slate-500",children:[d==="signin"?u.dontHave:u.haveAccount," ",f.jsx("button",{type:"button",onClick:()=>h(d==="signin"?"signup":"signin"),className:"font-bold text-indigo-600 hover:text-indigo-700",children:d==="signin"?u.createOne:u.switchSignIn})]})]})})]})})},sS=()=>f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:f.jsx("div",{className:"h-10 w-10 rounded-full border-4 border-slate-300 border-t-slate-500 animate-spin"})}),cMe=()=>{const{user:t,loading:e}=ac(),n=co();return e?f.jsx(sS,{}):t?f.jsx(Xx,{}):f.jsx(Qp,{to:"/login",replace:!0,state:{from:n}})},uMe=()=>{const{user:t,loading:e}=ac();return e?f.jsx(sS,{}):t?f.jsx(Qp,{to:"/",replace:!0}):f.jsx(Xx,{})},Vm=({roles:t,children:e})=>{const{currentUser:n,loading:r}=Sn();if(r)return f.jsx(sS,{});const i=(n==null?void 0:n.role)||"Sales";return t.includes(i)?e:f.jsx(Qp,{to:"/orders",replace:!0})};function dMe(){var n,r;const e=typeof window<"u"&&(((n=window.desktopAPI)==null?void 0:n.isDesktop)||((r=window.location)==null?void 0:r.protocol)==="file:")?KK:GK;return f.jsx(Sse,{children:f.jsx(e,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:f.jsxs(FK,{children:[f.jsx(ui,{element:f.jsx(uMe,{}),children:f.jsx(ui,{path:"/login",element:f.jsx(lMe,{})})}),f.jsx(ui,{element:f.jsx(cMe,{}),children:f.jsxs(ui,{element:f.jsx(Ese,{children:f.jsx(Xx,{})}),children:[f.jsx(ui,{path:"/",element:f.jsx(Vm,{roles:["Admin","Manager"],children:f.jsx(pOe,{})})}),f.jsx(ui,{path:"/products",element:f.jsx(Vm,{roles:["Admin","Manager"],children:f.jsx(_Oe,{})})}),f.jsx(ui,{path:"/orders",element:f.jsx(SOe,{})}),f.jsx(ui,{path:"/expenses",element:f.jsx(Vm,{roles:["Admin","Manager"],children:f.jsx(aMe,{})})}),f.jsx(ui,{path:"/customers",element:f.jsx(kOe,{})}),f.jsx(ui,{path:"/product-picture",element:f.jsx(Vm,{roles:["Admin","Manager"],children:f.jsx(EOe,{})})}),f.jsx(ui,{path:"/settings",element:f.jsx(TOe,{})})]})}),f.jsx(ui,{path:"*",element:f.jsx(Qp,{to:"/",replace:!0})})]})})})}const{slice:fMe,forEach:hMe}=[];function pMe(t){return hMe.call(fMe.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function mMe(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const GO=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,gMe=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let a=`${t}=${i}`;if(r.maxAge>0){const s=r.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(s)}`}if(r.domain){if(!GO.test(r.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${r.domain}`}if(r.path){if(!GO.test(r.path))throw new TypeError("option path is invalid");a+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(a+="; Partitioned"),a},KO={create(t,e,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=gMe(t,e,i)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var yMe={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return KO.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:a}=e;n&&typeof document<"u"&&KO.create(n,t,r,i,a)}},vMe={name:"querystring",lookup(t){var r;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const s=i.substring(1).split("&");for(let o=0;o<s.length;o++){const l=s[o].indexOf("=");l>0&&s[o].substring(0,l)===e&&(n=s[o].substring(l+1))}}return n}},xMe={name:"hash",lookup(t){var i;let{lookupHash:e,lookupFromHashIndex:n}=t,r;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const s=a.substring(1);if(e){const o=s.split("&");for(let l=0;l<o.length;l++){const c=o[l].indexOf("=");c>0&&o[l].substring(0,c)===e&&(r=o[l].substring(c+1))}}if(r)return r;if(!r&&n>-1){const o=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?(i=o[typeof n=="number"?n:0])==null?void 0:i.replace("/",""):void 0}}}return r}};let Ec=null;const YO=()=>{if(Ec!==null)return Ec;try{if(Ec=typeof window<"u"&&window.localStorage!==null,!Ec)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Ec=!1}return Ec};var bMe={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&YO())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&YO()&&window.localStorage.setItem(n,t)}};let Nc=null;const QO=()=>{if(Nc!==null)return Nc;try{if(Nc=typeof window<"u"&&window.sessionStorage!==null,!Nc)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Nc=!1}return Nc};var wMe={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&QO())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&QO()&&window.sessionStorage.setItem(n,t)}},_Me={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let a=0;a<n.length;a++)e.push(n[a]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},SMe={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},kMe={name:"path",lookup(t){var i;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},EMe={name:"subdomain",lookup(t){var i,a;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&((a=(i=window.location)==null?void 0:i.hostname)==null?void 0:a.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let nq=!1;try{document.cookie,nq=!0}catch{}const rq=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];nq||rq.splice(1,1);const NMe=()=>({order:rq,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class iq{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=pMe(n,this.options||{},NMe()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(yMe),this.addDetector(vMe),this.addDetector(bMe),this.addDetector(wMe),this.addDetector(_Me),this.addDetector(SMe),this.addDetector(kMe),this.addDetector(EMe),this.addDetector(xMe)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.filter(r=>r!=null&&!mMe(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}iq.type="languageDetector";const TMe={mainMenu:"Main Menu",dashboard:"Dashboard",inventory:"Inventory",productPicture:"Product Picture",orders:"Orders",expenses:"Expenses",customers:"Customers",settings:"Settings",logout:"Logout"},PMe={welcome:"Welcome back,",admin:"Admin",switchMode:"Switch to {{mode}} mode",activityLogs:"Activity Logs",new:"New",viewAllActivity:"View All Activity"},AMe={defaultName:"User",defaultRole:"Staff"},IMe={loading:"Loading...",error:"Error",success:"Success",save:"Save",saving:"Saving...",cancel:"Cancel",delete:"Delete",edit:"Edit",view:"View",search:"Search...",actions:"Actions",noData:"No data found",noDataToExport:"No data to export",clearFilters:"Clear Filters",exportCSV:"Export CSV",print:"Print",confirmDelete:"Are you sure you want to delete this?",yes:"Yes",no:"No",status:{processing:"Processing",completed:"Completed",cancelled:"Cancelled",pending:"Pending",shipped:"Shipped",delivered:"Delivered",returned:"Returned"},sort:"Sort",dateNew:"Newest First",dateOld:"Oldest First",priceHigh:"Highest Price",priceLow:"Lowest Price",nameAZ:"Name (A-Z)",male:"Male",female:"Female",showRows:"Show Rows",custom:"Custom",select:"Select...",cashOnDelivery:"Cash on Delivery",perUnit:"per unit",createdBy:"Created By"},CMe={title:"Dashboard",live:"Live Dashboard",totalRevenue:"Total Revenue",totalExpenses:"Total Expenses",revenueTrend:"Revenue Trend",totalOrders:"Total Orders",ordersPlaced:"Orders placed",totalCustomers:"Total Customers",activeCustomers:"Active Customers",uniqueBuyers:"Unique buyers",topRegion:"Top Region",interactiveMap:"Interactive Map",totalProducts:"Total Products",lowStock:"Low Stock Items",recentActivity:"Recent Activity",filteredOrders:"Filtered Orders",liveDashboard:"Live Dashboard",revenueComparison:"+12.5% vs last period",ordersCount:"{{count}} orders",revenue:"Revenue",governorate:"Governorate",socialMedia:"Social Media",categories:"Categories",status:"Status"},OMe={title:"Inventory",addProduct:"Add Product",productName:"Product Name",category:"Category",price:"Price",stock:"Stock",status:"Status",supplier:"Supplier",description:"Description",image:"Image",sellingPrice:"Selling Price (IQD)",costPrice:"Cost Price (USD)",exchangeRate:"Exchange Rate",profit:"Profit",margin:"Margin",create:"Create Product",update:"Update Product",stockStatus:{inStock:"In Stock",lowStock:"Low Stock",outOfStock:"Out of Stock",instock:"In Stock",lowstock:"Low Stock",outofstock:"Out of Stock"},form:{basicInfo:"Basic Information",generalInfo:"General Information",description:"Description",descriptionPlaceholder:"General product description, features, or internal notes...",gallery:"Product Gallery",addImage:"Add Image",category:"Category",status:"Status",productName:"Product Name",productNamePlaceholder:"e.g. Wireless Headset",sku:"SKU",skuPlaceholder:"e.g. WH-001",stock:"Stock",unitPrice:"Unit Price",alibabaSourcing:"Alibaba Sourcing",productLink:"Product Link",messageLink:"Message Link",orderLink:"Order Link",alibabaOrderNo:"Alibaba Order No",alibabaNote:"Alibaba Note",notePlaceholder:"Enter details...",costAndPricing:"Cost & Pricing",alibabaFee:"Alibaba Fee",exchangeRate:"Exchange Rate",margin:"Margin",shippingIQD:"Shipping (IQD)",otherFeesIQD:"Other Fees (IQD)",costTotal:"Total Cost",costPerUnit:"Cost Per Unit",recommendedPrice:"Recommended Price",finalPrice:"Final Price",manualOverride:"Manual Override Active",autoCalculated:"Auto Calculated",profitAnalysis:"Profit Analysis",iqdAnalysis:"IQD Analysis",usdAnalysis:"USD Analysis",profitPerUnit:"Profit / Unit",totalProfit:"Total Profit",qtyCalculation:"Quantity Calculation",unitsExpected:"Units Expected to Sell",selectCategory:"Select Category",createCategory:"Create New Category"},searchPlaceholder:"Search products...",confirmDelete:"Are you sure you want to delete this product?",marginTooHigh:"Margin percentage must be less than 100%",fillInfo:"Fill in the details below to add a new product.",editProduct:"Edit Product",manageCategories:"Categories",categories:"Categories",table:{product:"Product",category:"Category",stock:"Stock",price:"Price",status:"Status"}},jMe={title:"Orders",createOrder:"Create Order",orderId:"Order ID",customer:"Customer",date:"Date",total:"Total",status:"Status",items:"Items",quantity:"Qty",discount:"Discount",subtotal:"Subtotal",grandTotal:"Grand Total",customerInfo:"Customer Info",shippingAddress:"Shipping Address",internalNotes:"Internal Notes",paymentMethod:"Payment Method",governorate:"Governorate",socialMedia:"Social Media",deleteConfirm:"Are you sure you want to delete this order?",searchPlaceholder:"Search orders...",stockError:"Only {{available}} units available",limitReached:"Limit reached: {{available}}",addItemsError:"Please add items to the order",customerError:"Please fill in customer name and phone",stockErrorWithName:"Not enough stock for {{name}}. Max available: {{available}}",chooseProduct:"Choose Product",searchProduct:"Search & Select Product",qty:"Qty",price:"PRICE",cartEmpty:"Your cart is empty",cartEmptySub:"Add products to start building the order",onlyLeft:"ONLY {{count}} LEFT",orderSubtotal:"Order Subtotal",applyDiscount:"APPLY DISCOUNT",noDiscount:"No Discount",offDiscount:"{{percent}}% OFF DISCOUNT",chooseCustomer:"Choose a Customer",searchCustomers:"Search customers...",createNewCustomer:"Create New Customer",fullName:"Full Name",phone:"Phone Number",gender:"Gender",social:"Social",saveOrder:"SAVE ORDER",updateOrder:"UPDATE ORDER",orderStatus:"Order Status",orderItems:"Order Items",printReceipt:"Print Receipt",editOrder:"Edit Order",receipt:{title:"Receipt",companyName:"SHAN ENTERPRISE",address:"Baghdad, Iraq",order:"Order",customer:"Customer",phone:"Phone",gov:"Gov",subtotal:"Subtotal",discount:"Discount",total:"TOTAL",thankYou:"Thank you for your business!",noReturn:"Items checked out cannot be returned.",na:"N/A"},errors:{submitError:"Failed to submit order: {{message}}",unknown:"Unknown error"},table:{orderId:"Order ID",customer:"Customer",date:"Date",total:"Total (IQD)",status:"Status"}},MMe={title:"Product Picture Gallery",subtitle:"Product Gallery",description:"Manage your product visual assets.",noProducts:"No products found matching your search.",modal:{images:"Product Images",addPhoto:"Add Photo",details:"Product Details",productTitle:"Product Title",enterTitle:"Enter product title",description:"Description",enterDescription:"Enter product description...",sellingPrice:"Selling Price",confirmDeleteImage:"Are you sure you want to delete this image?",invalidImageFormat:"Only JPG, PNG, WEBP, or GIF images are allowed."}},DMe={title:"Expenses",newExpense:"New Expense",editExpense:"Edit Expense",createExpense:"Create Expense",updateExpense:"Update Expense",searchPlaceholder:"Search campaign, tags, notes...",totalSpend:"Total Spend",topType:"Top Type",topCampaign:"Top Campaign",addType:"Add Type",typePrompt:"Enter new expense type",noExpenses:"No expenses found"},RMe={title:"Customers",addCustomer:"Add Customer",name:"Name",phone:"Phone",email:"Email",address:"Address",governorate:"Governorate",social:"Social Media",totalSpent:"Total Spent",lastOrder:"Last Order",joinDate:"Join Date",orders:"Orders",location:"Location",createdOn:"Created On",actions:"Actions",noData:"No customers found",noMatch:"No customers matching filters",searchPlaceholder:"Search by name or phone...",viewTable:"Table View",viewCard:"Card View",form:{new:"New Customer",edit:"Refine Profile",sub:"Customer Database",fullName:"Full Name",phone:"Phone Number",email:"Email (Optional)",governorate:"Governorate",channel:"Channel",shippingAddress:"Shipping Address",save:"Save Profile",register:"Register Customer"},history:{title:"Transaction Logs",customer:"Customer",noRecords:"No Active Records Found",paymentMethod:"Payment Method",itemsCount:"Items Count",printThermal:"Print Thermal Receipt"},receipt:{title:"Order Receipt",order:"Order",customer:"Customer",date:"Date",status:"Status",item:"Item",qty:"Qty",price:"Price",total:"Total"}},$Me={title:"Settings",general:"General",account:"Account",appearance:"Appearance",users:"User Management",language:"Language",saveChanges:"Save Changes",branding:"Branding",appHeader:"Application Header",appHeaderDesc:"Show or hide the top navigation header",saveBranding:"Save Branding Settings",appName:"Application Name",logo:"Logo",logoAndFavicon:"Logo & Favicon",uploadLogo:"Upload Logo",uploadFavicon:"Upload Favicon",logoSize:"Recommended size: 512x512px. Max 3MB.",removeLogo:"Remove Logo",removeFavicon:"Remove Favicon",themeOptions:"Theme Options",liquidBackground:"Liquid Glass Background",liquidBackgroundDesc:"Apply glass gradient background to the website only",themes:{liquid:"Liquid Glass",liquidDesc:"Apple macOS style",light:"Pro Light",lightDesc:"Clean & minimal",dark:"Pro Dark",darkDesc:"Deep & elegant"},accentCustomization:"Accent Customization",solid:"Solid",gradient:"Gradient",customColor:"Custom Color",gradients:{royal:"Royal",sunset:"Sunset",aurora:"Aurora",vibrant:"Vibrant"},customDualColors:"Custom Dual Colors",start:"Start",end:"End",livePreview:"Live Preview",contentLayoutExample:"Content Layout Example",primaryButton:"Primary Button",toggleSwitch:"Toggle Switch",accountSettings:"Account Settings",changeAvatar:"Change Avatar",avatarFormat:"JPG, GIF or PNG. Max size of 3MB",emailAddress:"Email Address",avatarRecommendedSize:"JPG, GIF or PNG. Max size of 3MB",displayName:"Display Name",username:"Username",userRole:"Account Role",securitySettings:"Security Settings",password:"Password",passwordDescription:"Change your password to keep your account safe.",changePassword:"Change Password",enable2fa:"Enable 2FA",editProfile:"Edit Profile",addUser:"Add User",editUser:"Edit User",addNewUser:"Add New User",updateUser:"Update User",createUser:"Create User",confirmDeleteUser:"Are you sure you want to delete this user?",table:{user:"User",email:"Email",role:"Role"},placeholders:{displayName:"Display Name",username:"Username",email:"Email",password:"Password",passwordKeep:"Password (leave blank to keep)",currentPassword:"Current Password",newPassword:"New Password",confirmPassword:"Confirm New Password"},toasts:{profileUpdated:"Profile updated successfully!",avatarTooLarge:"Avatar too large. Max 3MB.",brandingSaved:"Branding settings saved successfully!",fileTooLarge:"File too large. Max 3MB.",userUpdated:"User updated successfully!",userCreated:"User created successfully!",passwordChanged:"Password changed successfully!"}},LMe={menu:TMe,header:PMe,user:AMe,common:IMe,dashboard:CMe,products:OMe,orders:jMe,productPicture:MMe,expenses:DMe,customers:RMe,settings:$Me},FMe={mainMenu:" ",dashboard:" ",inventory:"",productPicture:" ",orders:"",expenses:"",customers:"",settings:"",logout:" "},VMe={welcome:" ",admin:"",switchMode:"   {{mode}}",activityLogs:" ",new:"",viewAllActivity:"  "},UMe={defaultName:"",defaultRole:""},BMe={loading:" ...",error:"",success:" ",save:"",saving:" ...",cancel:"",delete:"",edit:"",view:"",search:"...",actions:"",noData:"  ",noDataToExport:"   ",clearFilters:" ",exportCSV:" CSV",print:"",confirmDelete:"    ",yes:"",no:"",status:{processing:" ",completed:"",cancelled:"",pending:" ",shipped:" ",delivered:" ",returned:""},sort:"",dateNew:" ",dateOld:" ",priceHigh:" ",priceLow:" ",nameAZ:" (-)",male:"",female:"",showRows:" ",custom:"",select:"...",cashOnDelivery:"  ",perUnit:" ",createdBy:""},zMe={title:" ",live:"  ",totalRevenue:" ",totalExpenses:" ",revenueTrend:" ",totalOrders:" ",ordersPlaced:" ",totalCustomers:" ",activeCustomers:" ",uniqueBuyers:" ",topRegion:" ",interactiveMap:" ",totalProducts:" ",lowStock:"  ",recentActivity:" ",filteredOrders:" ",liveDashboard:"  ",revenueComparison:"+12.5%   ",ordersCount:"{{count}} ",revenue:"",governorate:"",socialMedia:" ",categories:"",status:""},WMe={title:"",addProduct:" ",productName:" ",category:"",price:"",stock:"",status:"",supplier:"",description:"",image:"",sellingPrice:"  (.)",costPrice:"  ()",exchangeRate:" ",profit:"",margin:"",create:" ",update:" ",stockStatus:{inStock:"",lowStock:" ",outOfStock:" ",instock:"",lowstock:" ",outofstock:" "},form:{basicInfo:" ",generalInfo:" ",description:"",descriptionPlaceholder:"     ...",gallery:" ",addImage:" ",category:"",status:"",productName:" ",productNamePlaceholder:":  ",sku:"  (SKU)",skuPlaceholder:": WH-001",stock:"",unitPrice:" ",alibabaSourcing:"  ",productLink:" ",messageLink:" ",orderLink:" ",alibabaOrderNo:"   ",alibabaNote:"  ",notePlaceholder:" ...",costAndPricing:" ",alibabaFee:"  ",exchangeRate:" ",margin:" ",shippingIQD:" (.)",otherFeesIQD:"  (.)",costTotal:" ",costPerUnit:" ",recommendedPrice:" ",finalPrice:" ",manualOverride:"  ",autoCalculated:" ",profitAnalysis:" ",iqdAnalysis:"  ",usdAnalysis:"  ",profitPerUnit:" / ",totalProfit:" ",qtyCalculation:" ",unitsExpected:"  ",selectCategory:" ",createCategory:"  "},searchPlaceholder:"  ...",confirmDelete:"      ",marginTooHigh:"       100%",fillInfo:"     .",editProduct:" ",manageCategories:"",categories:"",table:{product:"",category:"",stock:"",price:"",status:""}},qMe={title:"",createOrder:" ",orderId:" ",customer:"",date:"",total:"",status:"",items:"",quantity:"",discount:"",subtotal:" ",grandTotal:" ",customerInfo:" ",shippingAddress:" ",internalNotes:" ",paymentMethod:" ",governorate:"",socialMedia:" ",deleteConfirm:"      ",searchPlaceholder:"  ...",stockError:" {{available}}  ",limitReached:"  : {{available}}",addItemsError:"   ",customerError:"    ",stockErrorWithName:"     {{name}}. : {{available}}",chooseProduct:" ",searchProduct:"  ",qty:"",price:"",cartEmpty:" ",cartEmptySub:"     ",onlyLeft:" {{count}} ",orderSubtotal:" ",applyDiscount:" ",noDiscount:" ",offDiscount:" {{percent}}%",chooseCustomer:" ",searchCustomers:"  ...",createNewCustomer:"  ",fullName:" ",phone:" ",gender:"",social:" ",saveOrder:" ",updateOrder:" ",orderStatus:" ",orderItems:" ",printReceipt:" ",editOrder:" ",receipt:{title:" ",companyName:"SHAN ENTERPRISE",address:" ",order:"",customer:"",phone:"",gov:"",subtotal:" ",discount:"",total:"",thankYou:"  !",noReturn:"     .",na:" "},errors:{submitError:"   : {{message}}",unknown:"  "},table:{orderId:" ",customer:"",date:"",total:" (.)",status:""}},HMe={title:"  ",subtitle:" ",description:"   .",noProducts:"      .",modal:{images:" ",addPhoto:" ",details:" ",productTitle:" ",enterTitle:"  ",description:"",enterDescription:"  ...",sellingPrice:" ",confirmDeleteImage:"      ",invalidImageFormat:"    JPG PNG WEBP GIF."}},GMe={title:"",newExpense:" ",editExpense:" ",createExpense:" ",updateExpense:" ",searchPlaceholder:"      ...",totalSpend:" ",topType:" ",topCampaign:" ",addType:" ",typePrompt:"   ",noExpenses:"  "},KMe={title:"",addCustomer:" ",name:"",phone:"",email:" ",address:"",governorate:"",social:" ",totalSpent:" ",lastOrder:" ",joinDate:" ",orders:"",location:"",createdOn:" ",actions:"",noData:"  ",noMatch:"   ",searchPlaceholder:"   ...",viewTable:" ",viewCard:" ",form:{new:" ",edit:" ",sub:"  ",fullName:" ",phone:" ",email:"  ()",governorate:"",channel:"",shippingAddress:" ",save:" ",register:" "},history:{title:" ",customer:"",noRecords:"   ",paymentMethod:" ",itemsCount:" ",printThermal:"  "},receipt:{title:" ",order:"",customer:"",date:"",status:"",item:"",qty:"",price:"",total:""}},YMe={title:"",general:"",account:"",appearance:"",users:" ",language:"",saveChanges:" ",branding:" ",appHeader:" ",appHeaderDesc:"     ",saveBranding:"   ",appName:" ",logo:"",logoAndFavicon:" ",uploadLogo:" ",uploadFavicon:" ",logoSize:"  : 512x512 .   3 .",removeLogo:" ",removeFavicon:" ",themeOptions:" ",liquidBackground:"  ",liquidBackgroundDesc:"      ",themes:{liquid:" ",liquidDesc:"  ",light:" ",lightDesc:" ",dark:" ",darkDesc:" "},accentCustomization:"  ",solid:" ",gradient:" ",customColor:" ",gradients:{royal:"",sunset:"",aurora:"",vibrant:""},customDualColors:"  ",start:"",end:"",livePreview:" ",contentLayoutExample:"  ",primaryButton:" ",toggleSwitch:" ",accountSettings:" ",changeAvatar:"  ",avatarFormat:"JPG GIF  PNG.   3 ",emailAddress:" ",avatarRecommendedSize:"JPG GIF  PNG.   3 ",displayName:" ",username:" ",userRole:" ",securitySettings:" ",password:" ",passwordDescription:"      .",changePassword:"  ",enable2fa:"  ",editProfile:"  ",addUser:" ",editUser:" ",addNewUser:"  ",updateUser:" ",createUser:" ",confirmDeleteUser:"      ",table:{user:"",email:" ",role:""},placeholders:{displayName:" ",username:" ",email:" ",password:" ",passwordKeep:"  (   )",currentPassword:"  ",newPassword:"  ",confirmPassword:"   "},toasts:{profileUpdated:"    !",avatarTooLarge:"  .   3 .",brandingSaved:"     !",fileTooLarge:"  .   3 .",userUpdated:"   !",userCreated:"   !",passwordChanged:"    !"}},QMe={menu:FMe,header:VMe,user:UMe,common:BMe,dashboard:zMe,products:WMe,orders:qMe,productPicture:HMe,expenses:GMe,customers:KMe,settings:YMe};Jn.use(iq).use(ose).init({resources:{en:{translation:LMe},ar:{translation:QMe}},fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}}).then(()=>{const t=Jn.language==="ar"?"rtl":"ltr";document.dir=t,document.documentElement.lang=Jn.language});Jn.on("languageChanged",t=>{const e=t==="ar"?"rtl":"ltr";document.dir=e,document.documentElement.lang=t});tv.createRoot(document.getElementById("root")).render(f.jsx(F.StrictMode,{children:f.jsx(dMe,{})}));
